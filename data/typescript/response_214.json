[{"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "edited": false, "score": 0, "creation_date": 1550100912, "post_id": 54680744, "comment_id": 96151003, "body": "Have a look at my answer and try to avoid nested subscriptions."}, {"owner": {"reputation": 3916, "user_id": 567957, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/eyG7L.jpg?s=128&g=1", "display_name": "Beetlejuice", "link": "https://stackoverflow.com/users/567957/beetlejuice"}, "reply_to_user": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "edited": false, "score": 0, "creation_date": 1550105469, "post_id": 54680744, "comment_id": 96152235, "body": "@profanis, I can&#39;t use the first answer because I need to do some actions after the service update. The second answer calls <code>doSomethingElse</code> that child class does not know. I made some update in the question."}], "answers": [{"tags": [], "owner": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "is_accepted": false, "score": 1, "last_activity_date": 1550099572, "last_edit_date": 1550099572, "creation_date": 1550099117, "answer_id": 54680791, "question_id": 54680744, "link": "https://stackoverflow.com/questions/54680744/typescript-observable-inheritance/54680791#54680791", "title": "Typescript Observable inheritance", "body": "<p>Return the observable from <code>submitForm</code> method without subscribing. You can then concat the observable using the <code>concatMap</code> operator. </p>\n\n<pre><code>public onSubmit() {\n    this.doSomething();\n    this.submitForm().concatMap(this.doSomethingElse.bind(this)).subscribe(() =&gt; {\n\n    });\n  }\n</code></pre>\n\n<pre><code> public submitForm(): Observable&lt;User&gt; {\n    return this.userServices.update(formValues);\n  }\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>public onSubmit() {\n    this.doSomething();\n    this.submitForm().subscribe(() =&gt; {\n\n    });\n  }\n\n\n  public submitForm(): Observable&lt;User&gt; {\n    this.userServices.update(formValues).pipe(\n      concatMap(this.doSomethingElse.bind(this)) // &lt;-- the input of the doSomethingElse will be the response of the *update* method\n     ).subscribe((user: User) =&gt; {\n      // here you will have the response of the doSomethingElse\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3916, "user_id": 567957, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/eyG7L.jpg?s=128&g=1", "display_name": "Beetlejuice", "link": "https://stackoverflow.com/users/567957/beetlejuice"}, "is_accepted": false, "score": 0, "last_activity_date": 1550137271, "creation_date": 1550137271, "answer_id": 54687303, "question_id": 54680744, "link": "https://stackoverflow.com/questions/54680744/typescript-observable-inheritance/54687303#54687303", "title": "Typescript Observable inheritance", "body": "<p>I accomplished this creating in the child class the afterSubmit() method, like this:</p>\n\n<pre><code>afterSubmit(user) {\n  //do child stuff here\n  super.afterSubmit(user);\n}\n\nsubmitForm(): Observable&lt;Object&gt; {\n  return this.userServices.update(formValues);\n}\n</code></pre>\n\n<p>in base class:</p>\n\n<pre><code>public onSubmit() {\n  this.beforeSubmit();\n  this.submitForm().subscribe(data =&gt; {\n    this.afterSubmit(data);\n  });\n}\n\npublic afterSubmit(data) {\n  //my common stuff here\n}\n</code></pre>\n"}], "owner": {"reputation": 3916, "user_id": 567957, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/eyG7L.jpg?s=128&g=1", "display_name": "Beetlejuice", "link": "https://stackoverflow.com/users/567957/beetlejuice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1550137271, "creation_date": 1550098758, "last_edit_date": 1550105556, "question_id": 54680744, "link": "https://stackoverflow.com/questions/54680744/typescript-observable-inheritance", "title": "Typescript Observable inheritance", "body": "<p>I'm doing some base classes to do common things and then call overridden methods in the child classes.</p>\n\n<p>In the code bellow, I need to call <code>this.doSomethingElse</code> only after the user is update by user service.</p>\n\n<p>this is in the base class:</p>\n\n<pre><code>public onSubmit() {\n    this.beforeSubmit();\n    this.submitForm().subscribe(() =&gt; {\n      this.afterSubmit();\n    });\n  }\n</code></pre>\n\n<p>this is in the child class:</p>\n\n<pre><code>  public submitForm(): Observable&lt;User&gt; {\n    this.userServices.update(formValues).subscribe((user: User) =&gt; {\n      this.someChildAction();\n      return ??? ?\n    });\n    return ????\n  }\n</code></pre>\n\n<p>I'm not sure what to code in the <code>????</code> lines.</p>\n"}, {"tags": ["css", "angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 7410, "user_id": 2353523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RXiBc.jpg?s=128&g=1", "display_name": "soulshined", "link": "https://stackoverflow.com/users/2353523/soulshined"}, "edited": false, "score": 0, "creation_date": 1550274690, "post_id": 54680525, "comment_id": 96222629, "body": "If the expected result link you provided is what you&#39;re looking for, what&#39;s wrong with adopting the code there? That&#39;s the whole point of someone sharing it with the world. And the code you provided doesn&#39;t identify an issue trying to get it to work, you&#39;re basically just asking someone to code it for you, which again, is in the link you provided?"}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "reply_to_user": {"reputation": 7410, "user_id": 2353523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RXiBc.jpg?s=128&g=1", "display_name": "soulshined", "link": "https://stackoverflow.com/users/2353523/soulshined"}, "edited": false, "score": 0, "creation_date": 1550274968, "post_id": 54680525, "comment_id": 96222676, "body": "The first example uses Flex and I don&#39;t need that. I only want to use the custom p-sidebar primeng component rather than creating it from scratch like I did on my first example."}, {"owner": {"reputation": 7410, "user_id": 2353523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RXiBc.jpg?s=128&g=1", "display_name": "soulshined", "link": "https://stackoverflow.com/users/2353523/soulshined"}, "edited": false, "score": 0, "creation_date": 1550277121, "post_id": 54680525, "comment_id": 96223082, "body": "If you&#39;re restricted to primeng solution then you won&#39;t be able to use a sidebar without going against the libraries standards @progx According to their <a href=\"https://www.primefaces.org/primeng/#/sidebar\" rel=\"nofollow noreferrer\">documentation</a> <i>Sidebar is a panel component displayed as an <b>overlay</i></b> You don&#39;t need an element with &#39;sidebar&#39; in the title for it to behave like one."}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "reply_to_user": {"reputation": 7410, "user_id": 2353523, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RXiBc.jpg?s=128&g=1", "display_name": "soulshined", "link": "https://stackoverflow.com/users/2353523/soulshined"}, "edited": false, "score": 0, "creation_date": 1550277729, "post_id": 54680525, "comment_id": 96223173, "body": "I want to customize it so I can have a vertical bar and when I click on it the sideBar will show."}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550153354, "post_id": 54684166, "comment_id": 96172009, "body": "I would prefer to work with the same sideBar and not create another &lt;p-sidebar&gt; to toggle"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550204200, "post_id": 54684166, "comment_id": 96191433, "body": "You added a preference which was not part of the original question and then you down voted the answer (which was working) because of it?"}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550207696, "post_id": 54684166, "comment_id": 96192229, "body": "I didn&#39;t down vote it bro. Also, I don&#39;t see a need of adding an extra &lt;p-sidebar&gt;. I would like to use only &lt;p-sidebar&gt; just like I have it on my Demo."}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550208044, "post_id": 54684166, "comment_id": 96192311, "body": "using a normal div to replace this <code>&lt;p-sidebar&gt;</code> would work for you ?"}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550208180, "post_id": 54684166, "comment_id": 96192350, "body": "Can you share a live demo on what you&#39;re proposing? Thanks"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550298656, "post_id": 54684166, "comment_id": 96225923, "body": "@progx kindly check the live stackblitz: <a href=\"https://stackblitz.com/edit/angular-rzmqk6\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-rzmqk6</a>"}, {"owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 0, "creation_date": 1550626450, "post_id": 54684166, "comment_id": 96334483, "body": "Thank you for your input bro!"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "edited": false, "score": 1, "creation_date": 1550887393, "post_id": 54684166, "comment_id": 96449470, "body": "Thanks, my very first bounty :) ... Wish you the best in your endeavors..."}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 2, "last_activity_date": 1550298589, "last_edit_date": 1550298589, "creation_date": 1550124421, "answer_id": 54684166, "question_id": 54680525, "link": "https://stackoverflow.com/questions/54680525/how-to-add-a-vertical-panel-and-use-it-as-a-toggler-in-angular/54684166#54684166", "title": "How to add a vertical panel and use it as a toggler in Angular?", "body": "<p>use your existing <a href=\"https://stackblitz.com/edit/primeng-template-eyhyan?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">DEMO stackblitz</a> link here - replace the complete TS, HTML &amp; CSS in the stackblitz with the 3 codes below OR <a href=\"https://stackblitz.com/edit/angular-rzmqk6\" rel=\"nofollow noreferrer\">Open this</a> </p>\n\n<p>replace your existing <strong>app.component.html</strong> with the following:</p>\n\n<pre><code>&lt;!-- &lt;button (click)=\"openTab()\"&gt;btn1&lt;/button&gt; --&gt;\n&lt;p-sidebar [modal]=\"false\" class=\"menuPanel\" [(visible)]=\"opened\" position=\"left\" [showCloseIcon]=\"false\" autoZIndex=\"true\" baseZIndex=\"99999\"&gt;\n  &lt;div id=\"panelHeader\" (click)='menuPanelClose()'&gt; Click here to close menu &lt;/div&gt;\n  &lt;div id=\"panelBody\"&gt; This is the Title ... &lt;br/&gt; background panel visibility is {{togglePanel}} &lt;/div&gt;\n&lt;/p-sidebar&gt;\n\n&lt;div id='menuToggler' ng-if=\"togglePanel == true\"  (click)=\"panelClick()\"&gt;\n  This is toggle Panel\n&lt;/div&gt;\n</code></pre>\n\n<p>replace your existing <strong>app.component.css</strong> with the following:</p>\n\n<pre><code>#panelHeader{width: 100%; height:10vh; background: lightpink;}\n#panelBody { background:lightcyan; height:90vh;}\n#menuToggler{writing-mode: vertical-lr;background: lightgreen;width: 40px;padding: 10px;height: 100%;left: 0;position: absolute;top: 0;font-family: \"Open Sans\", \"Helvetica Neue\", sans-serif;font-size: 14px;}\n</code></pre>\n\n<p>replace your existing <strong>app.component.ts</strong> with the following:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport {SidebarModule} from 'primeng/sidebar';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent{\n  opened = false;\n  togglePanel:boolean = true;\n\n\n  openTab() {\n    this.opened = true;\n  }\n\n  panelClick(){\n    this.opened = true;\n    this.togglePanel = false;\n  }\n\n  menuPanelClose(){\n    this.opened = false;\n    this.togglePanel = true;\n  }\n\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>: questioner didn't want another <code>&lt;p-sidebar&gt;</code> for the menu-toggler </p>\n\n<p><strong>UPDATE 2</strong>: posting a new <a href=\"https://stackblitz.com/edit/angular-rzmqk6\" rel=\"nofollow noreferrer\">stackblitz</a> on questioner's request</p>\n"}], "owner": {"reputation": 934, "user_id": 5245070, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/JfrKO.jpg?s=128&g=1", "display_name": "Devmix", "link": "https://stackoverflow.com/users/5245070/devmix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 54684166, "answer_count": 1, "score": 5, "last_activity_date": 1550664465, "creation_date": 1550097351, "last_edit_date": 1550664465, "question_id": 54680525, "link": "https://stackoverflow.com/questions/54680525/how-to-add-a-vertical-panel-and-use-it-as-a-toggler-in-angular", "title": "How to add a vertical panel and use it as a toggler in Angular?", "body": "<p>I have this <strong>sideBar</strong> that shows up when clicking on <strong>\"btn1\"</strong> button. So instead of having a button I would like to have a <strong>vertical bar</strong> with the same title. Basically I would like to accomplish this:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-flex-layout-seed-xx14yf?file=app%2Ftest.component.css\" rel=\"nofollow noreferrer\"><strong>Expected Result</strong></a></p>\n\n<p><strong>Below</strong> is what my code looks like so far. Can anyone point me in the right direction? Thanks a lot in advance.</p>\n\n<p><a href=\"https://stackblitz.com/edit/primeng-template-eyhyan?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\"><strong>DEMO</strong></a></p>\n\n<pre><code>&lt;button (click)=\"openTab()\"&gt;btn1&lt;/button&gt;\n&lt;p-sidebar [modal]=\"false\" class=\"menuPanel\" [(visible)]=\"opened\" \n   position=\"left\" [showCloseIcon]=\"true\" autoZIndex=\"true\" \n   baseZIndex=\"99999\"&gt;\n   This is the Title\n&lt;/p-sidebar&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "visual-studio-code", "intellisense", "tsconfig"], "comments": [{"owner": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "edited": false, "score": 0, "creation_date": 1550097860, "post_id": 54680501, "comment_id": 96150055, "body": "If you can follow the file with ctrl+click then probably the IDE decided not to display it. Can you confirm from the file system that the file indeed exists?"}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1550097972, "post_id": 54680501, "comment_id": 96150094, "body": "Did you try any of the other answers from the question you linked (not just the accepted)? You probably should start there."}, {"owner": {"reputation": 1317, "user_id": 6647188, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Ol4rA.jpg?s=128&g=1", "display_name": "Kyle Vassella", "link": "https://stackoverflow.com/users/6647188/kyle-vassella"}, "reply_to_user": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1550099195, "post_id": 54680501, "comment_id": 96150532, "body": "@fridoo yes, I did. The others either weren&#39;t relevant to me or didn&#39;t work. I tried adding <code>&quot;typescript.tsdk&quot;: &quot;node_modules&#47;typescript&#47;lib&quot;</code> to settings.json to no avail. Actually, on relaunch vscode warned me that <code>node_modules&#47;typescript&#47;lib</code> was not a valid path."}], "answers": [{"tags": [], "owner": {"reputation": 1317, "user_id": 6647188, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Ol4rA.jpg?s=128&g=1", "display_name": "Kyle Vassella", "link": "https://stackoverflow.com/users/6647188/kyle-vassella"}, "is_accepted": true, "score": 1, "last_activity_date": 1550100326, "creation_date": 1550100326, "answer_id": 54681003, "question_id": 54680501, "link": "https://stackoverflow.com/questions/54680501/missing-tsconfig-json-file-and-experimental-decorators-warning-in-vscode/54681003#54681003", "title": "Missing tsconfig.json file and Experimental Decorators warning in vsCode", "body": "<p>Ah - got it. I realized I couldn't see the <code>node_modules</code> folder at the highest level of my file tree, nor <code>tsconfig.json</code>. I had accidentally directed vsCode to open only the src folder, rather than the parent folder of src and node_modules.</p>\n\n<p>I opened a new vscode window, closed the old and made sure when I clicked file --> open folder, I pointed to the parent folder containing both src and node_modules. This is also the level where tsconfig.json exists, which is why I couldn't see it prior.</p>\n\n<p>The intellisense errors went away, I assume because Angular can now actually see tsconfig.json (which already had \"experimentalDecorators\": true).</p>\n"}], "owner": {"reputation": 1317, "user_id": 6647188, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Ol4rA.jpg?s=128&g=1", "display_name": "Kyle Vassella", "link": "https://stackoverflow.com/users/6647188/kyle-vassella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 54681003, "answer_count": 1, "score": 0, "last_activity_date": 1550100326, "creation_date": 1550097211, "question_id": 54680501, "link": "https://stackoverflow.com/questions/54680501/missing-tsconfig-json-file-and-experimental-decorators-warning-in-vscode", "title": "Missing tsconfig.json file and Experimental Decorators warning in vsCode", "body": "<p>In <code>Angular 6.0.3</code> (<code>global Angular CLI v6.0.8</code>, <code>local Angular CLI v6.0.7</code>) I'm suddenly getting intellisense errors on every component that I open: <em><code>Experimental support for decorators is a feature that is subject to change in a future release. Set the 'experimentalDecorators' option to remove this warning.</code></em> </p>\n\n<p>I've tried the instructions from the accepted answer here: <a href=\"https://stackoverflow.com/questions/38271273/experimental-decorators-warning-in-typescript-compilation\">Experimental decorators warning in TypeScript compilation</a></p>\n\n<p>But my tsconfig.json file already had <code>\"experimentalDecorators\": true</code>.</p>\n\n<p>I've also tried closing and re-opening <code>visual studio code</code>, clicking the <code>refresh</code> button on the file tree, <code>Reload Window</code> command etc etc ad nauseum. \nI think my issue may lie in the fact that I can't see <code>tsconfig.json</code> anywhere in my file structure (so perhaps neither can Angular). I believe it does exist because I do see <code>tsconfig.app.json</code> and this file has a link to <code>tsconfig.json</code> which I can <code>ctrl + click</code> to follow to the <code>tsconfig.json</code> file. </p>\n\n<p><strong>How can I find the location of <code>tsconfig.json</code> and/or make it appear at the same file level as <code>tsconfig.app.json</code> like the rest of my dev team has?</strong></p>\n\n<p>My <code>tsconfig.app.json</code> file:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",  //I can ctrl + click here to go to tsconfig.json\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/app\",\n    \"module\": \"es2015\",\n    \"types\": []\n  },\n  \"exclude\": [\n    \"src/test.ts\",\n    \"**/*.spec.ts\"\n  ]\n}  \n</code></pre>\n\n<p>My (missing/invisible) <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2017\",\n      \"dom\"\n    ]\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "graphql", "prisma", "prisma-graphql"], "answers": [{"tags": [], "owner": {"reputation": 443, "user_id": 7152576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nytVfqCWccI/AAAAAAAAAAI/AAAAAAAAALA/01GmqLSEXQU/photo.jpg?sz=128", "display_name": "Harshit Pant", "link": "https://stackoverflow.com/users/7152576/harshit-pant"}, "is_accepted": true, "score": 1, "last_activity_date": 1550653082, "creation_date": 1550653082, "answer_id": 54782333, "question_id": 54680478, "link": "https://stackoverflow.com/questions/54680478/typescript-prisma-cant-generate-crud-operations-with-custom-resolvers/54782333#54782333", "title": "Typescript/Prisma: Can&#39;t Generate CRUD Operations with Custom Resolvers", "body": "<p>Yes, you can expose with of these operations. Just import the prisma ones from the prisma.graphql file using graphql-import and define them in the resolvers. <a href=\"https://github.com/prisma/graphql-import\" rel=\"nofollow noreferrer\">https://github.com/prisma/graphql-import</a></p>\n\n<p>Here is an example project using this approach: <a href=\"https://github.com/javascript-af/javascript-af/blob/master/packages/backend/src/schema.graphql\" rel=\"nofollow noreferrer\">https://github.com/javascript-af/javascript-af/blob/master/packages/backend/src/schema.graphql</a></p>\n\n<p>There is also new project which simplifies this process quite a lot: <a href=\"https://github.com/prisma/nexus-prisma\" rel=\"nofollow noreferrer\">https://github.com/prisma/nexus-prisma</a></p>\n"}], "owner": {"reputation": 4135, "user_id": 7432026, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/086029d2b3708108351c782b35278dbc?s=128&d=identicon&r=PG", "display_name": "Anthony Krivonos", "link": "https://stackoverflow.com/users/7432026/anthony-krivonos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 1, "accepted_answer_id": 54782333, "answer_count": 1, "score": 1, "last_activity_date": 1587833155, "creation_date": 1550097130, "question_id": 54680478, "link": "https://stackoverflow.com/questions/54680478/typescript-prisma-cant-generate-crud-operations-with-custom-resolvers", "title": "Typescript/Prisma: Can&#39;t Generate CRUD Operations with Custom Resolvers", "body": "<h2>Problem</h2>\n\n<p>I'm new to <a href=\"https://www.prisma.io/docs/prisma-client/setup/generating-the-client-rsc1/\" rel=\"nofollow noreferrer\">Prisma</a>, and I just followed a few tutorials to get my database hosted locally via Docker. (I'm using Typescript as my language).</p>\n\n<p>I've written a few custom resolvers for user creation in separate files (my file structure is as follows), and I am trying to access these resolvers on my server endpoint after I deploy my server using <code>prisma deploy</code>.</p>\n\n<pre><code>File Structure:\n---\n- graphql-schema\n  - prisma.graphql  &lt;-- where my schema is defined\n- prisma\n  - ...\n- prisma-client-js\n  - ...\n- prisma-client-ts\n  - ...\n- src\n  - generated\n  - resolvers       &lt;-- where my custom resolvers\n- datamodel.prisma  &lt;-- where my data models are defined\n- package.json\n- prisma.yml\n- tsconfig.json\n- yarn.lock\n</code></pre>\n\n<p>After deployment onto <code>localhost</code>, all of the <code>createModel</code>, <code>updateModel</code>, etc. operations are generated for each of my datamodels, but my <code>signUp</code> and <code>logIn</code> functions aren't.</p>\n\n<h2>Question</h2>\n\n<p>Is it possible to deploy my GraphQL server with both CRUD operations and custom resolvers? If so, how? I'm using Prisma 1.26.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1550097823, "post_id": 54680400, "comment_id": 96150044, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\">How to access the correct `this` inside a callback?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1550097559, "post_id": 54680490, "comment_id": 96149957, "body": "Thank you! You are a life saver!"}, {"owner": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "reply_to_user": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "edited": false, "score": 0, "creation_date": 1550097627, "post_id": 54680490, "comment_id": 96149980, "body": "I am glad I helped :)"}], "tags": [], "owner": {"reputation": 2701, "user_id": 186658, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e3ef89d5c522a609d88184503bc70020?s=128&d=identicon&r=PG", "display_name": "profanis", "link": "https://stackoverflow.com/users/186658/profanis"}, "is_accepted": true, "score": 5, "last_activity_date": 1550097174, "creation_date": 1550097174, "answer_id": 54680490, "question_id": 54680400, "link": "https://stackoverflow.com/questions/54680400/array-is-undefined-from-within-function-but-is-defined-outside/54680490#54680490", "title": "Array is undefined from within function but is defined outside", "body": "<p>You have to set the context the function will use during invocation. </p>\n\n<p>Try</p>\n\n<pre><code>  onFileSelect(input: HTMLInputElement) {\n    const files=input.files;\n    var content=this.csvContent;\n    if(files &amp;&amp; files.length)\n    {\n      const fileToRead=files[0];\n      const fileReader=new FileReader();\n      fileReader.onload=this.onFileLoad.bind(this);  // &lt;---- try this\n      fileReader.readAsText(fileToRead,\"UTF-8\");\n\n    }\n  }\n</code></pre>\n\n<p>You can pass the event variable as well after defining the <code>this</code> context. <code>bind(this, EVENT)</code></p>\n"}], "owner": {"reputation": 2142, "user_id": 965302, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/aaa35c04e33207b424fd6ee48f024e6d?s=128&d=identicon&r=PG", "display_name": "coolblue2000", "link": "https://stackoverflow.com/users/965302/coolblue2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 54680490, "answer_count": 1, "score": 0, "last_activity_date": 1550097174, "creation_date": 1550096695, "question_id": 54680400, "link": "https://stackoverflow.com/questions/54680400/array-is-undefined-from-within-function-but-is-defined-outside", "title": "Array is undefined from within function but is defined outside", "body": "<p>I have an issue where an array I initialise is then seen as undefined from within a function.</p>\n\n<p>This is the code</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { text } from '@angular/core/src/render3';\nimport{SheetModel} from './models/sheetModel';\nimport { ThrowStmt } from '@angular/compiler';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'AngularCSVTest';\n  csvContent: string;\n  detailItems:SheetModel[]=[];\n\n\n  ngOnInit(){\n  }\n\n  onFileLoad(fileLoadedEvent)\n  {\n    //this.detailItems=[];\n    const textFromFileLoaded=fileLoadedEvent.target.result;\n    this.csvContent=textFromFileLoaded;\n    var rows=this.csvContent.split('\\n');\n\n\n    for(var i:number=0;i&lt;rows.length;i++)\n    {\n      var item=new SheetModel();\n      var rowItems:string[];\n      rowItems=rows[i].split(\",\");\n      item.index=i+1;\n      item.Make=rowItems[0];\n      item.Model=rowItems[1];\n      item.Colour=rowItems[2];\n\n      this.detailItems.push(item);\n    }\n\n    this.detailItems = this.detailItems.slice();\n  }\n\n  onFileSelect(input: HTMLInputElement) {\n    const files=input.files;\n    var content=this.csvContent;\n    if(files &amp;&amp; files.length)\n    {\n      const fileToRead=files[0];\n      const fileReader=new FileReader();\n      fileReader.onload=this.onFileLoad;\n      fileReader.readAsText(fileToRead,\"UTF-8\");\n\n    }\n  }\n}\n</code></pre>\n\n<p>As you can see I initialise the array at the top of the class but then when I try to push to it in the onFileLoad function it is undefined. I can fix this by initialising the array in the function but this also results in the array not being updated in my view...</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["typescript", "svg.js"], "comments": [{"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1550175055, "post_id": 54680331, "comment_id": 96183559, "body": "There is a PR which fixes Typescript issues for svg.js v3. However, it seems like you mix up 2.x code with the new 3.x release. In 3.x you do <code>SVG().addTo(&#39;#id&#39;)</code> or similar"}], "answers": [{"tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1550097946, "creation_date": 1550097946, "answer_id": 54680622, "question_id": 54680331, "link": "https://stackoverflow.com/questions/54680331/typeerror-svg-is-not-a-function/54680622#54680622", "title": "TypeError: SVG is not a function", "body": "<p>It may depend on your Babel configuration, but in my experience, <code>import * as X</code> creates an object that wraps up all the exports of a module. So you'd have to call:</p>\n\n<pre><code>let draw = SVG.default('drawing');\n</code></pre>\n\n<p>Or better, convert the import to <code>import X</code>:</p>\n\n<pre><code>import SVG from \"@svgdotjs/svg.js\";\n...\nlet draw = SVG('drawing');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 8870575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58a47be3a2a7e7a12b147c6197fc29b1?s=128&d=identicon&r=PG&f=1", "display_name": "keithb", "link": "https://stackoverflow.com/users/8870575/keithb"}, "is_accepted": false, "score": 0, "last_activity_date": 1550699637, "creation_date": 1550699637, "answer_id": 54795824, "question_id": 54680331, "link": "https://stackoverflow.com/questions/54680331/typeerror-svg-is-not-a-function/54795824#54795824", "title": "TypeError: SVG is not a function", "body": "<p>SVG() should now work correctly in 3.0.12</p>\n"}, {"comments": [{"owner": {"reputation": 235, "user_id": 6566531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/396038563ff558c21eea44bc7157cfc5?s=128&d=identicon&r=PG&f=1", "display_name": "tlarson", "link": "https://stackoverflow.com/users/6566531/tlarson"}, "edited": false, "score": 0, "creation_date": 1588009479, "post_id": 55195417, "comment_id": 108729322, "body": "This worked for me. I used .size(...) instead of viewbox(...).  Thanks."}], "tags": [], "owner": {"reputation": 63, "user_id": 11212264, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fkAjL8RUg5E/AAAAAAAAAAI/AAAAAAAAC_s/tLbN1cXJfAo/photo.jpg?sz=128", "display_name": "PiotrF", "link": "https://stackoverflow.com/users/11212264/piotrf"}, "is_accepted": false, "score": 2, "last_activity_date": 1552729765, "creation_date": 1552729765, "answer_id": 55195417, "question_id": 54680331, "link": "https://stackoverflow.com/questions/54680331/typeerror-svg-is-not-a-function/55195417#55195417", "title": "TypeError: SVG is not a function", "body": "<pre><code>import SVG from \"@svgdotjs/svg.js/src/svg\" //v3.0\n\nlet draw = SVG().addTo('#drawing').viewbox(0, 0, 300, 140)\nlet rect = draw.rect(100, 100).attr({fill: \"#f06\"})\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9146428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F9WDa.png?s=128&g=1", "display_name": "Joseph Rivera", "link": "https://stackoverflow.com/users/9146428/joseph-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1552729765, "creation_date": 1550096305, "question_id": 54680331, "link": "https://stackoverflow.com/questions/54680331/typeerror-svg-is-not-a-function", "title": "TypeError: SVG is not a function", "body": "<p>I'm importing Svg.js into my typescript project. When I call SVG I receive the following error. \n<code>Uncaught (in promise) TypeError: SVG is not a function</code></p>\n\n<p>I've tried to import Svg.js in different ways, but that doesn't seem to be the issue. I also tried to call on 'SVG' in different ways as well.\nUsing Svg.js version <code>@svgdotjs/svg.js\": \"^3.0.11</code></p>\n\n<p>Ex:</p>\n\n<pre><code>import * as SVG from \"@svgdotjs/svg.js\";\nconst svgjs: any = SVG;\nexport default svgjs;\n</code></pre>\n\n<pre><code>    let draw = new SVG.Doc('drawing');\n    let rect = draw.rect(100, 100).attr({fill: \"#f06\"})\n</code></pre>\n\n<p>The above method returns <code>Uncaught (in promise) TypeError: SVG.Doc is not a constructor</code></p>\n\n<p>Here is how I import Svg.js.\n<code>import * as SVG from '@svgdotjs/svg.js'</code></p>\n\n<p>This is how I use 'SVG'.</p>\n\n<pre><code>let draw = SVG('drawing');\nlet rect = draw.rect(100, 100).attr({fill: \"#f06\"})\n\n\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 1165236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e823b21c2c71249c8364f533716fed6?s=128&d=identicon&r=PG", "display_name": "Vincent", "link": "https://stackoverflow.com/users/1165236/vincent"}, "edited": false, "score": 0, "creation_date": 1571044163, "post_id": 57438021, "comment_id": 103096208, "body": "Thank you, since jest 24, I wasn&#39;t able to mock a class partially and I didn&#39;t know about the Partial one, thank you!"}], "tags": [], "owner": {"reputation": 103, "user_id": 5464788, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FZWHt.jpg?s=128&g=1", "display_name": "davejlin", "link": "https://stackoverflow.com/users/5464788/davejlin"}, "is_accepted": false, "score": 1, "last_activity_date": 1565634293, "last_edit_date": 1565634293, "creation_date": 1565391843, "answer_id": 57438021, "question_id": 54680300, "link": "https://stackoverflow.com/questions/54680300/why-is-jest-v24-mocking-class-requiring-private-methods/57438021#57438021", "title": "why is jest v24 mocking class requiring private methods", "body": "<p>Two solutions:</p>\n\n<p><strong>1. Use <code>Partial&lt;Type&gt;</code>, which will allow you to partially mock your class:</strong></p>\n\n<pre><code>const Mock = jest.fn&lt;Partial&lt;Randomiser&gt;, []&gt;(() =&gt; ({\n  getRandom: jest.fn().mockReturnValue(10)\n}));\n</code></pre>\n\n<p>Then cast your mock to your class type to inject it, for example:</p>\n\n<pre><code>const mock: Randomiser = new Mock() as Randomiser;\nexpect(new Multiplier(mock).multiplyRandom(2)).toBe(20);\n</code></pre>\n\n<p><strong>2. Don't specify any type for the mock.</strong></p>\n\n<p>Another way is to not specify the type for the mock, which makes the mock type <code>any</code>.</p>\n\n<pre><code>const Mock = jest.fn(() =&gt; ({\n  getRandom: jest.fn().mockReturnValue(10)\n}));\n</code></pre>\n\n<p>Then you can inject your mock as is directly, but of course, it will not be typed in this case.</p>\n\n<pre><code>const mock = new Mock();\nexpect(new Multiplier(mock).multiplyRandom(2)).toBe(20);\n</code></pre>\n"}], "owner": {"reputation": 376, "user_id": 1866193, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/S7PpQ.png?s=128&g=1", "display_name": "APW", "link": "https://stackoverflow.com/users/1866193/apw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1565634293, "creation_date": 1550096126, "last_edit_date": 1550164525, "question_id": 54680300, "link": "https://stackoverflow.com/questions/54680300/why-is-jest-v24-mocking-class-requiring-private-methods", "title": "why is jest v24 mocking class requiring private methods", "body": "<p>I need to create a mock implementations of my typescript classes using jest v24+. I am specifically trying to create a mock class that gets injected into a constructor and mock the function(s) that will be called to return a specific response.</p>\n\n<p>How do I create a mock for each test?</p>\n\n<p>More info:</p>\n\n<p>I have started a new project and am now using jest v24, which has created a problem with writing tests that I have been unable to solve.</p>\n\n<p>Using the below example with jest v23, previously I could mock the Randomiser class as follows:</p>\n\n<pre><code>const Mock = jest.fn&lt;Randomiser&gt;(() =&gt; ({\n  getRandom: jest.fn().mockReturnValue(10)\n}));\n</code></pre>\n\n<p>which would successfully compile and build.</p>\n\n<p>As of v24 the fn function takes and addition generic <code>&lt;T, Y extends any[]&gt;</code> I don't know if this is relevant to change in behaviour but now I get an error:</p>\n\n<p><em>Property 'rand' is missing in type '{ getRandom: Mock; }' but required in type 'Randomiser'.ts(2741)</em></p>\n\n<pre><code>import \"jest\";\n\nclass Randomiser {\n    public getRandom(): number {\n        return this.rand();\n    }\n    private rand(): number {\n        return Math.random();\n    }\n}\n\nclass Multiplier {\n    private randomiser: Randomiser;\n    constructor(randomiser: Randomiser) {\n        this.randomiser = randomiser;\n    }\n\n    multiplyRandom(factor: number): number {\n        return Math.floor(this.randomiser.getRandom() * factor);\n    }\n}\n\ndescribe(\"tests\", () =&gt; {\n    it(\"10 x 2 = 20\", () =&gt; {\n        const Mock = jest.fn&lt;Randomiser, any&gt;(() =&gt; ({\n            getRandom: jest.fn().mockReturnValue(10),\n            rand: jest.fn() //with this line I get an error because it should be private, without this line I get the error above.\n        }));\n        expect(new Multiplier(new Mock()).multiplyRandom(2)).toBe(20);\n    })\n})\n</code></pre>\n\n<p>I was expecting to be able to write my mocks the same way as I was with v23, i.e. I could mock the class and only need to mock the functions I was going to call.</p>\n\n<p>Now I have to mock all the functions including the private functions and private properties which it then complains are not private.</p>\n"}, {"tags": ["node.js", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1557171744, "post_id": 54680297, "comment_id": 98667947, "body": "That looks like a node package. Not a client side package. By node package I mean that it was intended to be ran on a server, not within a client side application like angular."}], "answers": [{"tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1557172231, "last_edit_date": 1557172231, "creation_date": 1557171914, "answer_id": 56011445, "question_id": 54680297, "link": "https://stackoverflow.com/questions/54680297/implementing-emailjs-package-with-angular-7-doesnt-work/56011445#56011445", "title": "Implementing emailjs package with angular 7 doesnt work", "body": "<p>That package is a node package. Meaning that is was designed to run on a node.js server. You are trying to use it in your angular app which is why you get those errors.</p>\n\n<p>The documentation states that it is intended for use on an stmp server. Your angular app runs in the browser, which is not a node server.</p>\n\n<blockquote>\n  <p>send emails, html and attachments (files, streams and strings) from\n  node.js to any smtp server</p>\n  \n  <p>works with SSL and TLS smtp servers</p>\n</blockquote>\n\n<p>Take a look at their requirements: <a href=\"https://www.npmjs.com/package/emailjs\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/emailjs</a></p>\n\n<p>What I would do is move this node package to your node server and then create a service in your angular application to interface with it.</p>\n\n<p><strong>Red Flags</strong>\n All of these are nodejs modules. A client application cannot use them. You need to run them on a server</p>\n\n<ul>\n<li>Error: Can not resolve 'os'</li>\n<li>Error: Can not resolve 'net'</li>\n<li>Error: Can not resolve 'fs'</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 2814088, "user_type": "registered", "profile_image": "https://graph.facebook.com/1434217241/picture?type=large", "display_name": "Erik Dobnik", "link": "https://stackoverflow.com/users/2814088/erik-dobnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557172231, "creation_date": 1550096115, "last_edit_date": 1592644375, "question_id": 54680297, "link": "https://stackoverflow.com/questions/54680297/implementing-emailjs-package-with-angular-7-doesnt-work", "title": "Implementing emailjs package with angular 7 doesnt work", "body": "<p>I've just started to use Angular and I'm having trouble with running a working example of using the &quot;emailjs&quot; package in Angular 7 version. I was wondering if maybe someone could give me some guidance on how to get the implementation working? The test code of the call is the same as original at the <a href=\"https://www.npmjs.com/package/emailjs\" rel=\"nofollow noreferrer\">source</a></p>\n<p>BTW, despite the modification (<a href=\"https://stackoverflow.com/questions/51087330/angular-6-many-cant-resolve-errors-crypto-fs-http-https-net-path-stream\">source</a> of the hint) on the surce at the &quot;node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/browser.js&quot; (change to &quot;node: {crypto: true, stream: true} , &quot;), I'am still getting errors:</p>\n<p>*ERROR and ./node_modules/emailjs/smtp/message.js\nModule not found: Error: Can not resolve 'fs' in 'C: \\ VSCodeProjects \\ NAProject \\ node_modules \\ emailjs \\ smtp'</p>\n<p>ERROR and ./node_modules/emailjs/smtp/smtp.js\nModule not found: Error: Can not resolve 'net' and 'C: \\ VSCodeProjects \\ NAProject \\ node_modules \\ emailjs \\ smtp'</p>\n<p>ERROR and ./node_modules/emailjs/smtp/smtp.js\nModule not found: Error: Can not resolve 'os' in 'C: \\ VSCodeProjects \\ NAProject \\ node_modules \\ emailjs \\ smtp'*</p>\n<p>versions:</p>\n<ul>\n<li>@ emailjs 2.2.0</li>\n<li>@ npm 6.4.1</li>\n<li>@ angular-devkit / architect 0.10.7</li>\n<li>@ angular-devkit / build-angular 0.10.7</li>\n<li>@ angular-devkit / build-optimizer 0.10.7</li>\n<li>@ angular-devkit / build-webpack 0.10.7</li>\n<li>@ angular-devkit / core 7.0.7</li>\n<li>@ angular-devkit / schematics 7.3.0</li>\n<li>@ angular / cli 7.3.0</li>\n<li>@ ngtools / webpack 7.0.7</li>\n<li>@ schematics / angular 7.3.0</li>\n<li>@ schematics / update 0.13.0</li>\n<li>rxjs 6.3.3 typescript 3.1.6</li>\n<li>webpack 4.19.1</li>\n</ul>\n<p>I would appreciate any help, regards, E.</p>\n"}, {"tags": ["node.js", "typescript", "unit-testing", "sinon"], "comments": [{"owner": {"reputation": 24042, "user_id": 422289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e5f72d9050f96c79a80795e1dd10b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Tavares", "link": "https://stackoverflow.com/users/422289/chris-tavares"}, "edited": false, "score": 0, "creation_date": 1550097139, "post_id": 54680216, "comment_id": 96149828, "body": "Side note - if you&#39;re passing an async function to <code>before</code> or <code>it</code> you should remove the <code>done</code> parameter. The test runner will automatically wait for the promise returned by the passed function before continuing."}, {"owner": {"reputation": 24042, "user_id": 422289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e5f72d9050f96c79a80795e1dd10b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Tavares", "link": "https://stackoverflow.com/users/422289/chris-tavares"}, "edited": false, "score": 0, "creation_date": 1550097184, "post_id": 54680216, "comment_id": 96149840, "body": "And if you&#39;re not returning a promise (like in the &quot;sinon test&quot; above) then you shouldn&#39;t be using an async function, since request doesn&#39;t return a promise."}, {"owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "reply_to_user": {"reputation": 24042, "user_id": 422289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e5f72d9050f96c79a80795e1dd10b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Tavares", "link": "https://stackoverflow.com/users/422289/chris-tavares"}, "edited": false, "score": 0, "creation_date": 1550097386, "post_id": 54680216, "comment_id": 96149899, "body": "@ChrisTavares yes, this is the right answer. Thanks a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "is_accepted": false, "score": 0, "last_activity_date": 1550096488, "creation_date": 1550096488, "answer_id": 54680361, "question_id": 54680216, "link": "https://stackoverflow.com/questions/54680216/sinon-cant-mock-promise/54680361#54680361", "title": "Sinon: can&#39;t mock promise", "body": "<p>Well, I just missed to call the <code>done</code> function at the end.</p>\n\n<p>The correct answer: </p>\n\n<pre><code>sinon.stub(Auth0Service.prototype, \"signIn\").resolves({\n    success: false,\n     accessToken: \"test\",\n     errorMessage: \"aaa\",\n     statusCode: 404,\n} as SignInResultModel);\n done();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "edited": false, "score": 0, "creation_date": 1550097000, "post_id": 54680372, "comment_id": 96149779, "body": "this is a good point, I just figure out that I actually return a function instead of an object but this issue not related to my exception. I&#39;ve found that I missed calling <code>done</code> function.  Thanks for your reply!"}], "tags": [], "owner": {"reputation": 2078, "user_id": 835611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da9a8208412d5ddba0103adb1519725?s=128&d=identicon&r=PG&f=1", "display_name": "user835611", "link": "https://stackoverflow.com/users/835611/user835611"}, "is_accepted": false, "score": 0, "last_activity_date": 1550096534, "creation_date": 1550096534, "answer_id": 54680372, "question_id": 54680216, "link": "https://stackoverflow.com/questions/54680216/sinon-cant-mock-promise/54680372#54680372", "title": "Sinon: can&#39;t mock promise", "body": "<p><code>resolves()</code> should return a value, you're returning a function, which seems wrong.</p>\n\n<pre><code>let result = new SignInResultModel();\nresult.success = false;\nresult.errorMessage = \"foo\";\nsinon.stub(Auth0Service.prototype, \"signIn\").resolves(result);\n</code></pre>\n"}], "owner": {"reputation": 2940, "user_id": 2876310, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8444f15b861a110d9bd1b99cc3c4b499?s=128&d=identicon&r=PG&f=1", "display_name": "neustart47", "link": "https://stackoverflow.com/users/2876310/neustart47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550096534, "creation_date": 1550095725, "question_id": 54680216, "link": "https://stackoverflow.com/questions/54680216/sinon-cant-mock-promise", "title": "Sinon: can&#39;t mock promise", "body": "<p>I know this question is pretty often and I've read all related questions on this but seems like I still can't figure out how to apply them to my case.</p>\n\n<p>This is my error:   </p>\n\n<pre><code> Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure \"done()\" is called; if returning a Promise, ensure it resolves.\n</code></pre>\n\n<p>I trying to stub a method with next signature:</p>\n\n<pre><code> public async signIn(model: SignInInputModel): Promise&lt;SignInResultModel&gt; {...}\n</code></pre>\n\n<p>And I wan't to stub a response model before unit test starts.\nHere is how I trying to do that without any succeess:</p>\n\n<pre><code>describe(\"incorrect behaviour\", () =&gt; {\n        before((done) =&gt; {\n            sinon.stub(Auth0Service.prototype, \"signIn\").resolves(() =&gt; {\n                const result = new SignInResultModel();\n                result.success = false;\n                result.errorMessage = \"foo\";\n                return result;\n            });\n\n            //this not working as well\n            //  sinon.stub(Auth0Service.prototype, \"signIn\").returns(() =&gt; {\n            //     const result = new SignInResultModel();\n            //     result.success = false;\n            //     result.errorMessage = \"foo\";\n            //     Promise.resolve(result);\n            // });\n\n        });\n        it(\"sinon test\", async (done) =&gt; {\n            request(app)\n                .post(\"/auth/signIn\")\n                .send()\n                .expect(200)\n                .end((err, res) =&gt; {\n                    ...\n                    done();\n                });\n        });\n    });\n</code></pre>\n\n<p>What am I do wrong?</p>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 8106445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/phHTT.jpg?s=128&g=1", "display_name": "Angel D.", "link": "https://stackoverflow.com/users/8106445/angel-d"}, "is_accepted": true, "score": 0, "last_activity_date": 1550096467, "creation_date": 1550096467, "answer_id": 54680355, "question_id": 54680140, "link": "https://stackoverflow.com/questions/54680140/how-to-clone-specific-key-value-pairs-in-an-array-of-objects/54680355#54680355", "title": "How to clone specific key value pairs in an array of objects?", "body": "<p>This is more of a Javascript question rather than an Angular related one...</p>\n\n<p>You can use the <code>map</code> function of Arrays in Javascript. The idea is that you return a new value for each element in the original array.</p>\n\n<pre><code>let titles = resources.map(obj =&gt; obj.title);\n</code></pre>\n\n<p>This way, all the titles in the <code>resources</code> array will appear in the <code>titles</code> array.</p>\n\n<p>Also, I would suggest you take the <code>join</code> call out of the <code>foreach</code> loop. You're basically joining all the elements once for every item in the <code>resources</code> array.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9718365"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 54680355, "answer_count": 1, "score": 0, "last_activity_date": 1550096467, "creation_date": 1550095316, "question_id": 54680140, "link": "https://stackoverflow.com/questions/54680140/how-to-clone-specific-key-value-pairs-in-an-array-of-objects", "title": "How to clone specific key value pairs in an array of objects?", "body": "<p>I have an array of objects</p>\n\n<pre><code>resources=[{name:'x', title:'xx',..},{name:'y',title:'yy',..}..]\n</code></pre>\n\n<p>I am populating my Html tooltip with all the titles of the <code>resources</code> array by pushing the individual titles to a new array</p>\n\n<pre><code>dialogOkClick(field) {\n\n  this.resources.forEach((res) =&gt; {\n    if(this.selectedItems.indexOf(res.title) === -1) {\n      this.selectedItems.push(res.title);\n      this.tooltipText = this.selectedItems.join(', ');\n    }\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>Pushing the individual items to new array is causing the two arrays to be in consistent. How do I clone all the titles to a new array in one go instead of pushing each item?</p>\n\n<p>Thank You!</p>\n"}, {"tags": ["typescript", "protractor"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550095208, "post_id": 54680087, "comment_id": 96149096, "body": "<code>Promise&lt;string&gt;</code> is not of type <code>string</code>. You need to wait for the Promise to resolve, or make <code>setServerURL</code> not async (since it doesn&#39;t seem to be doing any asynchronous work)."}, {"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550095349, "post_id": 54680087, "comment_id": 96149163, "body": "I am new to protractor and don&#39;t know how to do that. Removing async would cause the code to run out of sync I guess. Without the promise resolving how am I getting the error - TypeError: Parameter &quot;url&quot; must be a string, not object"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550095541, "post_id": 54680087, "comment_id": 96149238, "body": "Right now, you could change your code to <code>serverURL: string = &#39;https:&#47;&#47;abcqwer.com&#39;;</code>, remove <code>setServerURL</code> altogether, and see no difference. You may want to <a href=\"https://stackoverflow.com/posts/54680087/edit\">edit</a> your question to show what actually happens in that function and perhaps we could advise you better."}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "edited": false, "score": 0, "creation_date": 1550672997, "post_id": 54685948, "comment_id": 96355701, "body": "Thanks. It works. I removed async and it works fine. I am relatively new to the async await approach so didn&#39;t reason much about the async for setServerURL. Thanks again."}], "tags": [], "owner": {"reputation": 1483, "user_id": 4720362, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pkvur.jpg?s=128&g=1", "display_name": "Oleksii", "link": "https://stackoverflow.com/users/4720362/oleksii"}, "is_accepted": true, "score": 1, "last_activity_date": 1550132636, "creation_date": 1550132636, "answer_id": 54685948, "question_id": 54680087, "link": "https://stackoverflow.com/questions/54680087/typeerror-parameter-must-be-a-string-not-object/54685948#54685948", "title": "TypeError: Parameter must be a string, not object", "body": "<p>this method <code>this.setServerURL(this.currentEnvironment)</code> returns <code>Promise&lt;string&gt;</code> instead <code>string</code>. But why you need <code>setServerURL()</code> to be <code>async</code>? If you don't do any promise interaction you can re-write it:</p>\n\n<pre><code>setServerURL(env: string): string {\n  const myText: string = 'https://abcqwer.com';\n  return myText;\n}\n</code></pre>\n\n<p>Imagine that you need do some <code>promise</code> things and your <code>setServerURL()</code> returns <code>Promise&lt;string&gt;</code>:</p>\n\n<pre><code>currentEnvironment = \"beta\"; // here typescript understand that variable has string type\nserverURL: Promise&lt;string&gt; = this.setServerURL(this.currentEnvironment);\nURL: Promise&lt;string&gt; = this.serverURL;\n\nasync setServerURL(env: string): Promise&lt;string&gt; {\n  const myText: string = 'https://abcqwer.com';\n  return myText; // even if 'myText' is string this method will return Promise&lt;string&gt; because it method has async keyword\n}\n\n\nasync login(): Promise&lt;void&gt; {\n  const url = await this.URL;\n  console.log('Login URL is: ' + url);\n  await browser.get(url);\n};\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 793769, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5866417e6665cb45f482bbad9bbaba0a?s=128&d=identicon&r=PG", "display_name": "williamtell", "link": "https://stackoverflow.com/users/793769/williamtell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 54685948, "answer_count": 1, "score": 0, "last_activity_date": 1550132636, "creation_date": 1550095089, "last_edit_date": 1550095271, "question_id": 54680087, "link": "https://stackoverflow.com/questions/54680087/typeerror-parameter-must-be-a-string-not-object", "title": "TypeError: Parameter must be a string, not object", "body": "<p>I am trying to make a function return a string but all it does is return an object. I can't use the <code>.toString()</code> method either.</p>\n\n<pre><code>currentEnvironment: string = \"beta\";\nserverURL: string = this.setServerURL(this.currentEnvironment);\nURL: string = this.serverURL;\n\nasync setServerURL(env: string): Promise&lt;string&gt; {\n  const myText: string = 'https://abcqwer.com';\n  return myText;\n}\n\n\nasync login(): Promise&lt;void&gt; {\n  console.log('Login URL is: ' + this.URL.toString());\n  await browser.get(this.URL);\n};\n</code></pre>\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>TypeError: Parameter \"url\" must be a string, not object</p>\n</blockquote>\n"}, {"tags": ["typescript", "visual-studio-code", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550105897, "post_id": 54679935, "comment_id": 96152344, "body": "tried but this didn&#39;t work - updated my tsconfig to be:   &quot; {   &quot;compilerOptions&quot;: {     &quot;jsx&quot;: &quot;react&quot;,     &quot;plugins&quot;: [       {         &quot;name&quot;: &quot;typescript-tslint-plugin&quot;       }     ]   }, }&quot;"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "reply_to_user": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550112218, "post_id": 54679935, "comment_id": 96153757, "body": "I added my complete ts config file that I use for most of my projects, give it a go and see if anything helps you"}, {"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550125186, "post_id": 54679935, "comment_id": 96156841, "body": "just tried this but didn&#39;t help... do you use local or global typescript / tslint?"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "reply_to_user": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550145492, "post_id": 54679935, "comment_id": 96167319, "body": "I use a local installation of both"}, {"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550201924, "post_id": 54679935, "comment_id": 96190949, "body": "interestingly I just removed the local install for typescript/tslint and when to global on another test react-typescript project I created, and it seems to not have the issue"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "reply_to_user": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550260776, "post_id": 54679935, "comment_id": 96218272, "body": "hmm interesting, which version of typescript were you using?"}, {"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550401627, "post_id": 54679935, "comment_id": 96247687, "body": "3.3.3 was the local version"}], "tags": [], "owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "is_accepted": false, "score": 0, "last_activity_date": 1550112198, "last_edit_date": 1550112198, "creation_date": 1550094302, "answer_id": 54679935, "question_id": 54679766, "link": "https://stackoverflow.com/questions/54679766/public-can-only-be-used-in-a-ts-file-in-typescript-tslint-react-setup/54679935#54679935", "title": "&quot;&#39;public&#39; can only be used in a .ts file&quot; in typescript tslint react setup?", "body": "<p>tsx is not enabled by default I think, have you tried to add jsx to your tsconfig file?</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"module\": \"commonjs\",\n    // \"target\": \"es5\",\n    \"removeComments\": true,\n    \"jsx\": \"react\",\n    \"allowJs\": false,\n    \"baseUrl\": \"src\",\n    \"experimentalDecorators\": true,\n    \"alwaysStrict\": true,\n    \"lib\": [\n      \"es2015\"\n    ],\n    \"strict\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"skipLibCheck\": true,\n    \"allowSyntheticDefaultImports\": true\n  },\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"awesomeTypescriptLoaderOptions\": {\n    \"useCache\": true,\n    \"useTranspileModule\": true,\n    \"transpileOnly\": true\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550124920, "post_id": 54682821, "comment_id": 96156751, "body": "I&#39;m running tslint here.  Also I&#39;m not using Angular.  Re the &quot;a&quot; variable, I was wondering why the warning is not currently showing"}, {"owner": {"reputation": 339, "user_id": 9851598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Vdu7.jpg?s=128&g=1", "display_name": "surendrapanday", "link": "https://stackoverflow.com/users/9851598/surendrapanday"}, "reply_to_user": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550130133, "post_id": 54682821, "comment_id": 96158924, "body": "was my comment helpful in regards to that ? <code>a</code> variable will complain until you don&#39;t use that variable somewhere, declaring a variable and leaving it unused is something linting doesn&#39;t like. It will happen to imports as well, many imports that you do and don&#39;t use in class file in any of the code irrespective of language, will be complained by compiler during compiling period. And, also if you change that <code>a</code> into <code>let a = 1</code> it will complain again, asking you to change it to <code>const</code> because value is not going to change. It&#39;s all about linting, syntactically both will be correct."}, {"owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "edited": false, "score": 0, "creation_date": 1550137341, "post_id": 54682821, "comment_id": 96162603, "body": "my issue (and maybe you did understand and I&#39;m missing what you&#39;re getting at) is I am expecting tslint to throw up a warning but it is not (i.e. in the image you see there is not a warning)"}], "tags": [], "owner": {"reputation": 339, "user_id": 9851598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Vdu7.jpg?s=128&g=1", "display_name": "surendrapanday", "link": "https://stackoverflow.com/users/9851598/surendrapanday"}, "is_accepted": false, "score": 0, "last_activity_date": 1550131413, "last_edit_date": 1550131413, "creation_date": 1550115159, "answer_id": 54682821, "question_id": 54679766, "link": "https://stackoverflow.com/questions/54679766/public-can-only-be-used-in-a-ts-file-in-typescript-tslint-react-setup/54682821#54682821", "title": "&quot;&#39;public&#39; can only be used in a .ts file&quot; in typescript tslint react setup?", "body": "<p>Your question might have been answered already in this. Below is additional detail on what I think it is. \n<a href=\"https://stackoverflow.com/questions/48859169/js-types-can-only-be-used-in-a-ts-file-visual-studio-code-using-ts-check?rq=1\">js &#39;types&#39; can only be used in a .ts file - Visual Studio Code using @ts-check</a><br>\n I can see in my end that I am running tslint 1.0.0 version. Also, your typescript version might be problem. If you are using typescript 2.3 or older, html files will be treated as typescript files when tide is enabled. Update typescript to 2.4.1. Also update typescript/language-service. Add the following to tsconfig.json. It could be because of your angular version.<br>\nYour question regarding why <code>a</code> variable is complaining as <code>unused</code>, answer would be that you have declared a variable but not used it anywhere in code yet, you can ignore such warning. As soon as you use that variable somewhere in code, that warning will disappear. So, change angular version and see if warning will go. Usually <code>tslint</code> is supposed to detect <code>.ts</code> file and work.  </p>\n"}], "owner": {"reputation": 31758, "user_id": 173520, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6ffe5004de861ca131ab889e455848a0?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/173520/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1721, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550131413, "creation_date": 1550093490, "last_edit_date": 1550123361, "question_id": 54679766, "link": "https://stackoverflow.com/questions/54679766/public-can-only-be-used-in-a-ts-file-in-typescript-tslint-react-setup", "title": "&quot;&#39;public&#39; can only be used in a .ts file&quot; in typescript tslint react setup?", "body": "<p>I can't work out why in VSCode with a react typescript project, with tslint setup, I am getting the error:</p>\n\n<blockquote>\n  <p>'public' can only be used in a .ts file.</p>\n</blockquote>\n\n<p>[Actually also why I'm not getting the usual variable a is never read/used warning/error too]</p>\n\n<p><a href=\"https://i.stack.imgur.com/0CZnE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0CZnE.png\" alt=\"enter image description here\"></a></p>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"plugins\": [\n      {\n        \"name\": \"typescript-tslint-plugin\"\n      }\n    ]\n  },\n}\n</code></pre>\n\n<p>tslint.json</p>\n\n<pre><code>{\n    \"defaultSeverity\": \"error\",\n    \"extends\": [\"tslint:recommended\", \"tslint-react\"],\n    \"jsRules\": {},\n    \"rules\": {\n        \"semicolon\": [true, \"never\"]\n    },\n    \"rulesDirectory\": []\n}\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"test-amplify-1\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@types/jest\": \"24.0.1\",\n    \"@types/node\": \"11.9.0\",\n    \"@types/react\": \"16.8.2\",\n    \"@types/react-dom\": \"16.8.0\",\n    \"react\": \"^16.8.1\",\n    \"react-dom\": \"^16.8.1\",\n    \"react-scripts\": \"2.1.5\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"eject\": \"react-scripts eject\"\n  },\n  \"eslintConfig\": {\n    \"extends\": \"react-app\"\n  },\n  \"browserslist\": [\n    \"&gt;0.2%\",\n    \"not dead\",\n    \"not ie &lt;= 11\",\n    \"not op_mini all\"\n  ],\n  \"devDependencies\": {\n    \"tslint\": \"^5.12.1\",\n    \"tslint-react\": \"^3.6.0\",\n    \"typescript\": \"^3.3.3\",\n    \"typescript-tslint-plugin\": \"^0.3.1\"\n  }\n}\n</code></pre>\n\n<p>vscode extensions</p>\n\n<p><a href=\"https://i.stack.imgur.com/ykbxU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ykbxU.png\" alt=\"enter image description here\"></a></p>\n\n<p>built in's (i.e. nothing touched)</p>\n\n<p><a href=\"https://i.stack.imgur.com/VhwVd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VhwVd.png\" alt=\"enter image description here\"></a></p>\n\n<p>had setup with local packages (typescript/tslint) but for reference re globals:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nvUxm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nvUxm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093534, "post_id": 54679742, "comment_id": 96148372, "body": "Related <a href=\"https://stackoverflow.com/q/34114593/387194\">AngularJS vs Angular</a>"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 1, "creation_date": 1550093594, "post_id": 54679742, "comment_id": 96148411, "body": "did you try to import <code>mergeMap</code> from operators?"}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "reply_to_user": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093713, "post_id": 54679742, "comment_id": 96148470, "body": "@jcubic yes, doesn&#39;t work"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1550093734, "post_id": 54679742, "comment_id": 96148487, "body": "Aside from import, yes you would put it inside the <code>pipe()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1550093913, "post_id": 54679811, "comment_id": 96148565, "body": "Might be worth mentioning where to import the pipable operators from."}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 1, "creation_date": 1550094297, "post_id": 54679811, "comment_id": 96148732, "body": "Thank you for this answer!"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 3, "last_activity_date": 1550093945, "last_edit_date": 1550093945, "creation_date": 1550093731, "answer_id": 54679811, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany/54679811#54679811", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>You are using the syntax of the old RxJS API:</p>\n\n<pre><code>import 'rxjs/operators/mergeMap';\nmyObs$.mergeMap(anotherObs$);\n</code></pre>\n\n<p>Since the RxJS API changed (version 5.5+), <code>mergeMap</code> is no longer a method on <code>Observable</code> but a function and you have to use it in the <code>pipe</code> operator, like this:</p>\n\n<pre><code>import { mergeMap } from 'rxjs/operators';\nmyObs$.pipe(mergeMap(anotherObs$));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550094281, "post_id": 54679853, "comment_id": 96148726, "body": "Thank you for this answer. However, I will accept another one."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1550093936, "creation_date": 1550093936, "answer_id": 54679853, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany/54679853#54679853", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>Update your imports</p>\n\n<pre><code>import { map, catchError, mergeMap } from 'rxjs/operators';\n</code></pre>\n\n<p>Then you can use mergeMap in a pipe.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { of } = rxjs; // Using destructuring over import because of snippets\r\nconst { mergeMap } = rxjs.operators;\r\n\r\nof(4).pipe(\r\n  mergeMap(val =&gt; of(val * 2))\r\n).subscribe(result =&gt; {\r\n  console.log(result);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.4.0/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1522, "favorite_count": 0, "accepted_answer_id": 54679811, "answer_count": 2, "score": 1, "last_activity_date": 1550093945, "creation_date": 1550093387, "last_edit_date": 1550093593, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>I'm creating an HttpInterceptor in an <strong>Ionic 4</strong> app. I would like to read the Bearer Authorization token from <a href=\"https://ionicframework.com/docs/building/storage\" rel=\"nofollow noreferrer\">local storage</a>.</p>\n\n<p>I try to use mergeMap but it always return an error:</p>\n\n<pre><code>Property 'mergeMap' does not exist on type 'Observable&lt;any&gt;'\n</code></pre>\n\n<p>Here is the complete code from <em>token.interceptor.ts</em></p>\n\n<pre><code>import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError, from  } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n    token: any;\n\n    constructor(private router: Router, private storage: Storage) {}\n\n    intercept(request: HttpRequest &lt; any &gt; , next: HttpHandler): Observable &lt; HttpEvent &lt; any &gt;&gt; {\n\n        return from(this.storage.get('User')).mergeMap((val) =&gt; {\n            if (this.token) {\n                request = request.clone({\n                    setHeaders: {\n                        'Authorization': this.token\n                    }\n                });\n            }\n\n            if (!request.headers.has('Content-Type')) {\n                request = request.clone({\n                    setHeaders: {\n                        'content-type': 'application/json'\n                    }\n                });\n            }\n\n            request = request.clone({\n                headers: request.headers.set('Accept', 'application/json')\n            });\n\n            return next.handle(request).pipe(\n                map((event: HttpEvent &lt; any &gt; ) =&gt; {\n                    if (event instanceof HttpResponse) {\n                        console.log('event---&gt;&gt;&gt;', event);\n                    }\n                    return event;\n                }),\n                catchError((error: HttpErrorResponse) =&gt; {\n                    if (error.status === 401) {\n                        if (error.error.success === false) {\n                            // this.presentToast('Login failed');\n                        } else {\n                            this.router.navigate(['/']);\n                        }\n                    }\n                    return throwError(error);\n                }));\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable\">this question</a>, I tried this format:</p>\n\n<pre><code>return from(...).pipe(mergeMap(...));\n</code></pre>\n\n<p>but it doesn't work.</p>\n\n<p>What should I try?</p>\n"}, {"tags": ["json", "angular", "typescript", "nested"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550092297, "post_id": 54679432, "comment_id": 96147819, "body": "<a href=\"http://benalman.com/news/2010/03/theres-no-such-thing-as-a-json/\" rel=\"nofollow noreferrer\">There is no such thing as a JSON Object</a>."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 10659837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04de21a65ce547d5315794679039c416?s=128&d=identicon&r=PG&f=1", "display_name": "Jack N", "link": "https://stackoverflow.com/users/10659837/jack-n"}, "edited": false, "score": 0, "creation_date": 1550177524, "post_id": 54680359, "comment_id": 96184637, "body": "Hey Thanks! This is really helpful! I updated my angular to be able to use the KeyValue Pipe and it&#39;s working. I have another question if you don&#39;t mind helping me out. Is there a specific way I can iterate to a specific user? Say I only want to show the dropdown name and type for a specific user. How would I iterate to that specific user? I&#39;ve tried changing the &quot;users&quot; to something like &quot;users.user1&quot; but that didn&#39;t seem to work... Thanks again!"}, {"owner": {"reputation": 6137, "user_id": 3870547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3e98f2a1ec4b92a87aa6c76e095d8?s=128&d=identicon&r=PG&f=1", "display_name": "zmag", "link": "https://stackoverflow.com/users/3870547/zmag"}, "reply_to_user": {"reputation": 165, "user_id": 10659837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04de21a65ce547d5315794679039c416?s=128&d=identicon&r=PG&f=1", "display_name": "Jack N", "link": "https://stackoverflow.com/users/10659837/jack-n"}, "edited": false, "score": 0, "creation_date": 1550192846, "post_id": 54680359, "comment_id": 96189234, "body": "How about using <code>*ngIf</code> to show specific user? like <code>*ngIf=&quot;user.key === &#39;specificUserName&#39;&quot;</code>"}, {"owner": {"reputation": 385, "user_id": 2823537, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e813247fba806d4e9c3e93075e8dcb8f?s=128&d=identicon&r=PG&f=1", "display_name": "NiAu", "link": "https://stackoverflow.com/users/2823537/niau"}, "edited": false, "score": 0, "creation_date": 1560802163, "post_id": 54680359, "comment_id": 99847400, "body": "@zmag How can this nested value be populated in a dropdown/select? For example, list of name."}], "tags": [], "owner": {"reputation": 6137, "user_id": 3870547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3e98f2a1ec4b92a87aa6c76e095d8?s=128&d=identicon&r=PG&f=1", "display_name": "zmag", "link": "https://stackoverflow.com/users/3870547/zmag"}, "is_accepted": true, "score": 3, "last_activity_date": 1550096476, "creation_date": 1550096476, "answer_id": 54680359, "question_id": 54679432, "link": "https://stackoverflow.com/questions/54679432/how-to-iterate-through-multi-nested-json-object-for-dropdown-function-in-angular/54680359#54680359", "title": "How to iterate through multi-nested JSON Object for dropdown function in Angular 6?", "body": "<p>You can iterate objects by <code>keyvalue</code> pipe. (<a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">https://angular.io/api/common/KeyValuePipe</a>)</p>\n\n<p>You can do it like this:</p>\n\n<pre><code>&lt;div *ngFor=\"let config of res | keyvalue\"&gt;\n  &lt;div&gt;{{config.key}}&lt;/div&gt;\n  &lt;div *ngFor=\"let users of config.value\"&gt;\n    &lt;div *ngFor=\"let user of users | keyvalue\"&gt;\n      &lt;div&gt;{{user.key}}&lt;/div&gt;\n      &lt;div *ngFor=\"let subcfgs of user.value | keyvalue\"&gt;\n        &lt;div&gt;{{subcfgs.key}}&lt;/div&gt;\n        &lt;div *ngFor=\"let subcfg of subcfgs.value\"&gt;\n          &lt;div&gt;name: {{subcfg.name}}&lt;/div&gt;\n          &lt;div&gt;type: {{subcfg.type}}&lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>stackblitz : <a href=\"https://stackblitz.com/edit/angular-ph76ya\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ph76ya</a></p>\n\n<p>I have edited your JSON.</p>\n"}], "owner": {"reputation": 165, "user_id": 10659837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04de21a65ce547d5315794679039c416?s=128&d=identicon&r=PG&f=1", "display_name": "Jack N", "link": "https://stackoverflow.com/users/10659837/jack-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1376, "favorite_count": 3, "accepted_answer_id": 54680359, "answer_count": 1, "score": 2, "last_activity_date": 1550096476, "creation_date": 1550092044, "question_id": 54679432, "link": "https://stackoverflow.com/questions/54679432/how-to-iterate-through-multi-nested-json-object-for-dropdown-function-in-angular", "title": "How to iterate through multi-nested JSON Object for dropdown function in Angular 6?", "body": "<p>I am working in Angular 6.0 and I have ran into the issue of using HttpClient to iterate through my JSON data I am reading in from a local file in my assets folder. </p>\n\n<p>Here is my JSON Data</p>\n\n<pre><code>[{\n    \"configKey\": [{\n        \"user1\": [{\n            \"subconfig\": [{\n                \"name\": \"program Id\",\n                \"type\": \"String\"\n            }, {\n                \"name\": \"brand ID\",\n                \"type\": \"String\"\n            }]\n\n        }],\n        \"user2\": {\n            \"subconfig\": [{\n                \"name\": \"program Id\",\n                \"type\": \"String\"\n            }, {\n                \"name\": \"brand ID\",\n                \"type\": \"String\"\n            }]\n        },\n\n        \"user3\": {\n            \"subconfig\": [{\n                \"name\": \"program Id\",\n                \"type\": \"String\"\n            }, {\n                \"name\": \"brand ID\",\n                \"type\": \"String\"\n            }]\n        }\n    }]\n}]\n</code></pre>\n\n<p>Here is my current code in the component ts file</p>\n\n<pre><code>  rule:Array&lt;any&gt; =[];\n\n  loadinfo(){\n    this.http.get&lt;any[]&gt;(\"assets/test.json\")\n    .subscribe(data=&gt;{\n      this.rule = data;\n    })\n  }\n</code></pre>\n\n<p>Here's what I have in the HTML File</p>\n\n<pre><code>\n  &lt;label&gt;\n    &lt;select&gt;\n      &lt;option *ngFor=\"let og of rule\"&gt;\n        {{og.configKey}}\n      &lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/label&gt;\n\n</code></pre>\n\n<p>In my expected end goal, I should be able to populate a dropdown list based on a previous selection. (eg. I select user1, the list should populate with the 'names' in it's user tree in the JSON). However, I have not gotten to this part and would just like help with simply populating a dropdown list with names from my JSON tree.</p>\n\n<p>From my previous research, I understand that HttpClient only returns Objects and that *ngFor only works on arrays. I have tried to change the object to an array, but my result is only another error that states that ngFor can only iterate through objects. Is there a way to change my entire nested JSON object to Array?</p>\n\n<p>For what it's worth, here is my JSON Data in console\n<a href=\"https://i.imgur.com/PlLLpNW.png\" rel=\"nofollow noreferrer\">Console JSON</a></p>\n\n<p>How would I go about making my data iterable by *ngFor and how would I navigate to the names? I would assume in the html it would be something like this? :</p>\n\n<pre><code>//TEST CODE????\n\n  &lt;label&gt;\n    &lt;select&gt;\n      &lt;option *ngFor=\"let og of rule\"&gt;\n        {{og.configKey.user1.subconfig.name}}\n      &lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/label&gt;\n\n</code></pre>\n\n<p>Any sort of help would be appreciated! Thanks in advance</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 20779, "user_id": 1056679, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb906e4ebc05732cd74ff47671e6667c?s=128&d=identicon&r=PG", "display_name": "Slava Fomin II", "link": "https://stackoverflow.com/users/1056679/slava-fomin-ii"}, "edited": false, "score": 0, "creation_date": 1550092319, "post_id": 54679338, "comment_id": 96147831, "body": "Thanks, I&#39;ve created an <code>types&#47;index.d.ts</code> in my project, but TypeScript is not picking it up. It still infers the type from the actual JSON data. What could be wrong? I even tried to specify <code>types</code> property in <code>tsconfig.json</code>."}], "tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091605, "creation_date": 1550091605, "answer_id": 54679338, "question_id": 54679207, "link": "https://stackoverflow.com/questions/54679207/specify-explicit-type-for-imported-symbol-in-typescript/54679338#54679338", "title": "Specify explicit type for imported symbol in TypeScript", "body": "<p>Use module augmentation documentation and add a .d.ts file with this signature</p>\n\n<pre><code>declare module 'data.json' {\n    const value: any;  // your type here\n    export default value;\n}\n</code></pre>\n"}], "owner": {"reputation": 20779, "user_id": 1056679, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb906e4ebc05732cd74ff47671e6667c?s=128&d=identicon&r=PG", "display_name": "Slava Fomin II", "link": "https://stackoverflow.com/users/1056679/slava-fomin-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1550091605, "creation_date": 1550091052, "question_id": 54679207, "link": "https://stackoverflow.com/questions/54679207/specify-explicit-type-for-imported-symbol-in-typescript", "title": "Specify explicit type for imported symbol in TypeScript", "body": "<p>I'm importing data from JSON file in my TypeScript module:</p>\n\n<p><code>import data from './data.json';</code></p>\n\n<p>This is supported via <code>resolveJsonModule</code> option in <code>tsconfig.json</code>.</p>\n\n<p>However, is there a way to specify a type for imported symbol this way?</p>\n\n<p>e.g.: <code>import data: DataInterface from './data.json';</code></p>\n\n<p>The only way I know is this:</p>\n\n<p><code>const rawIconDefinitions: RawIconDefinitionsMap =\n  require('../icons-data.json');\n</code></p>\n\n<p>But, I would prefer to use declarative ESM syntax if possible.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 5, "creation_date": 1550090934, "post_id": 54679118, "comment_id": 96147249, "body": "Please include your code as text, not an image"}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1550091340, "post_id": 54679118, "comment_id": 96147421, "body": "<code>array</code> is supposed to be an array of property objects. Whatever you are passing is not an array."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10336550"}, "edited": false, "score": 0, "creation_date": 1550092565, "post_id": 54679118, "comment_id": 96147952, "body": "I dropped the files in github,This is an array of objects, see for yourself.   <a href=\"https://github.com/vzgo0022/Error/blob/master/src/components/Nav/Nav.tsx\" rel=\"nofollow noreferrer\">github.com/vzgo0022/Error/blob/master/src/components/Nav/&hellip;</a>"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550094592, "post_id": 54679118, "comment_id": 96148846, "body": "why type the response? why not let typescript determine the type of the result? I&#39;m pretty sure the Link elements are not of type <code>JSX.Element</code> but of type <code>Component</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10336550"}, "edited": false, "score": 0, "creation_date": 1550096135, "post_id": 54679118, "comment_id": 96149462, "body": "I&#39;m sure that the LinkArray component returns exactly an array of JSX.Element [] objects,when I delete JSX.Element [] I see that the VSC automatically pastoes LinkArray returns JSX.Element [],And even if I delete JSX.Element the error does not change"}, {"owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "edited": false, "score": 0, "creation_date": 1550100177, "post_id": 54679118, "comment_id": 96150810, "body": "See <a href=\"https://stackoverflow.com/a/53718997/1136235\">enter link description here</a>"}, {"owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "edited": false, "score": 0, "creation_date": 1550100254, "post_id": 54679118, "comment_id": 96150832, "body": "See <a href=\"https://stackoverflow.com/a/53718997/1136235\">this question</a>. It probably hasn&#39;t been fixed."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10336550"}, "edited": false, "score": 0, "creation_date": 1550103833, "post_id": 54679118, "comment_id": 96151841, "body": "React.SFC outdated  <a href=\"https://twitter.com/dan_abramov/status/1057625147216220162\" rel=\"nofollow noreferrer\">twitter.com/dan_abramov/status/1057625147216220162</a> ,  As I understand it is now important to write code   <a href=\"https://codesandbox.io/s/3xzqjk6rrp\" rel=\"nofollow noreferrer\">codesandbox.io/s/3xzqjk6rrp</a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user10336550"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 583, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550090918, "creation_date": 1550090685, "last_edit_date": 1592644375, "question_id": 54679118, "link": "https://stackoverflow.com/questions/54679118/jsx-element-type-element-is-not-a-constructor-function-for-jsx-elements", "title": "JSX element type &#39;Element[]&#39; is not a constructor function for JSX elements", "body": "<p>I created a <code>LinkArray</code> component. When I want to use it, I get this error:</p>\n<blockquote>\n<p>JSX element type '<code>Element[]</code>' is not a constructor function for JSX elements.</p>\n<p>Type '<code>Element[]</code>' is missing the following properties from type '<code>Element</code>': <code>type</code>, <code>props</code>, <code>key</code></p>\n</blockquote>\n<p>Why can't I use the component?</p>\n<p><a href=\"https://i.stack.imgur.com/S9hEc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9hEc.png\" alt=\"Screenshot 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LWxyt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LWxyt.png\" alt=\"Screenshot 2\" /></a></p>\n"}, {"tags": ["javascript", "typescript", "function"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1550189690, "last_edit_date": 1550189690, "creation_date": 1550090528, "answer_id": 54679082, "question_id": 54678790, "link": "https://stackoverflow.com/questions/54678790/typescript-error-how-to-correct-this-element-implicitly-has-an-any-type-beca/54679082#54679082", "title": "Typescript error, how to correct this: Element implicitly has an &#39;any&#39; type because type", "body": "<p>The compiler has no idea that <code>currency.toLowerCase()</code> will be a valid index into the <code>styles</code> object.  So you have to assure it of that fact.  The easiest way is just to be very strict about what <code>setStyle()</code> will accept:</p>\n\n<pre><code>export const setStyle = (currency: keyof typeof styles): ICoinStyle =&gt; styles[currency]; // okay\n</code></pre>\n\n<p>The above will <em>only</em> accept <code>currency</code> values that are the keys of <code>styles</code> and are already the right case (so no <code>.toLowerCase()</code>).  </p>\n\n<hr>\n\n<p>If you'd like to be able to accept <em>any string</em> as <code>currency</code> and throw a purely runtime error if it isn't one of the valid values, you could use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> to help you:</p>\n\n<pre><code>// check if k is a key of obj\nfunction isKeyof&lt;T&gt;(k: keyof any, obj: T): k is keyof T {\n  return k in obj;\n}\n\nexport const setStyle = (currency: string): ICoinStyle =&gt; {\n  const currencyLowerCase = currency.toLowerCase();\n  if (isKeyof(currencyLowerCase, styles)) {\n    return styles[currencyLowerCase]; // okay\n  } else {\n    throw new Error(\"YOU LIED TO ME ABOUT \" + currency);\n  }\n}\n</code></pre>\n\n<p>Here you explicitly check that taking <code>currency.toLowerCase()</code> is a valid key of <code>styles</code> and throw an error if not.  The only other reasonable option is to return <code>ICoinStyle | undefined</code> like this:</p>\n\n<pre><code>export const setStyle = (currency: string): ICoinStyle | undefined =&gt; {\n  const currencyLowerCase = currency.toLocaleLowerCase();\n  if (isKeyof(currencyLowerCase, styles)) {\n    return styles[currencyLowerCase];\n  } else {\n    return undefined;\n  }\n}\n</code></pre>\n\n<p>Hope one of those helps you.  Good luck!</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 1, "accepted_answer_id": 54679082, "answer_count": 1, "score": 0, "last_activity_date": 1550189690, "creation_date": 1550089296, "last_edit_date": 1550089856, "question_id": 54678790, "link": "https://stackoverflow.com/questions/54678790/typescript-error-how-to-correct-this-element-implicitly-has-an-any-type-beca", "title": "Typescript error, how to correct this: Element implicitly has an &#39;any&#39; type because type", "body": "<blockquote>\n  <p>Element implicitly has an 'any' type because type '{ \"ada\": { \"color\": string; \"backgroundColor\": string; }; \"ae\": { \"color\": string; \"backgroundColor\": string; }; \"aion\": { \"color\": string; \"backgroundColor\": string; }; \"ant\": { \"color\": string; \"backgroundColor\": string; }; \"ark\": { ...; }; ... 81 more ...; \"zrx\": { ...; }; }' has no index signature.ts(7017)</p>\n</blockquote>\n\n<p>I have a coinStyles.json file which contains cryptocurrency brand colors for each asset.</p>\n\n<p>The following function plucks out the correct style object based on the asset's id (symbol).</p>\n\n<pre><code>import styles from '../../coinStyles.json'\nimport { ICoinStyle } from '../types'\n\n// Add style to coin square.\nexport const setStyle = (currency: string): ICoinStyle =&gt; styles[currency.toLowerCase()];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OHsb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHsb3.png\" alt=\"enter image description here\"></a></p>\n\n<p>I thought I was missing a type for the returned style, so I added <code>: ICoinStyle</code> but that didn't help, now it seems that it actually wants me to type the <code>styles</code> object which is the JSON. I couldn't find the syntax for that. Or how to do that in this case.</p>\n\n<p><strong>ICoinStyle</strong></p>\n\n<pre><code>export interface ICoinStyle {\n  color: string;\n  background: string;\n  lightBg?: boolean;\n}\n</code></pre>\n\n<p><strong>coinStyles.json</strong></p>\n\n<pre><code>{\n  \"ada\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#6297DF\"\n  },\n  \"ae\": {\n    \"color\": \"#F35C8E\",\n    \"backgroundColor\": \"#000\"\n  },\n  \"aion\": {\n    \"color\": \"#47BEEB\",\n    \"backgroundColor\": \"#131944\"\n  },\n  \"ant\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#26B9DD\"\n  },\n  \"ark\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#EF3A40\"\n  },\n  \"elf\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2e60b7\"\n  },\n  \"bat\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FC511F\"\n  },\n  \"bch\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#61BE42\"\n  },\n  \"bcn\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#EE4486\"\n  },\n  \"blt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#555CEF\"\n  },\n  \"bnb\": {\n    \"color\": \"#F2B940\",\n    \"backgroundColor\": \"#3E3E3E\"\n  },\n  \"bnt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3B3B3B\"\n  },\n  \"brd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FA7B52\"\n  },\n  \"btc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#F5922F\"\n  },\n  \"btg\": {\n    \"color\": \"#FBBE2D\",\n    \"backgroundColor\": \"#222423\"\n  },\n  \"bts\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3EBBE9\"\n  },\n  \"cvc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#359F74\"\n  },\n  \"dai\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#f7B04A\"\n  },\n  \"dash\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1175B4\"\n  },\n  \"dcr\": {\n    \"color\": \"#3AD6A3\",\n    \"backgroundColor\": \"#2F76FB\"\n  },\n  \"dgb\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#022552\"\n  },\n  \"dgd\": {\n    \"color\": \"#F0C838\",\n    \"backgroundColor\": \"#212429\"\n  },\n  \"doge\": {\n    \"color\": \"#333333\",\n    \"backgroundColor\": \"#B99E3D\"\n  },\n  \"dnt\": {\n    \"color\": \"#71F7F9\",\n    \"backgroundColor\": \"#273284\"\n  },\n  \"gbyte\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2D3E4F\"\n  },\n  \"eos\": {\n    \"color\": \"#F0F5F8\",\n    \"backgroundColor\": \"#443F53\"\n  },\n  \"enj\": {\n    \"color\": \"#26D1CC\",\n    \"backgroundColor\": \"#36245E\"\n  },\n  \"etc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#678F74\"\n  },\n  \"eth\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#5C607F\"\n  },\n  \"fct\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#578299\"\n  },\n  \"fuel\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#093156\"\n  },\n  \"fun\": {\n    \"color\": \"#9E235C\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"gas\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#719361\"\n  },\n  \"gno\": {\n    \"color\": \"#009CBC\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"gnt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#083F6C\"\n  },\n  \"lend\": {\n    \"color\": \"#0DA2C2\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"icn\": {\n    \"color\": \"#4D6F8B\",\n    \"backgroundColor\": \"#829AAE\"\n  },\n  \"icx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3CA8B9\"\n  },\n  \"iot\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#333\"\n  },\n  \"lsk\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#0D468F\"\n  },\n  \"ltc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#CDCDCD\"\n  },\n  \"lun\": {\n    \"color\": \"#F04725\",\n    \"backgroundColor\": \"#191B22\"\n  },\n  \"kmd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3C6363\"\n  },\n  \"maid\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#5C91C9\"\n  },\n  \"mana\": {\n    \"color\": \"#F57028\",\n    \"backgroundColor\": \"#D1C7BE\"\n  },\n  \"mco\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#111A32\"\n  },\n  \"mkr\": {\n    \"color\": \"#F0F2F3\",\n    \"backgroundColor\": \"#2ABB9C\"\n  },\n  \"mona\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#B6A170\"\n  },\n  \"nano\": {\n    \"color\": \"#4E92DF\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"nem\": {\n    \"color\": \"#212033\",\n    \"backgroundColor\": \"#2DB5AB\"\n  },\n  \"neo\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#4EB704\"\n  },\n  \"nmr\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#000\"\n  },\n  \"omg\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2159EC\"\n  },\n  \"ont\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#39A4BC\"\n  },\n  \"pay\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#353437\"\n  },\n  \"pivx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#7C68A4\"\n  },\n  \"poe\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#292929\"\n  },\n  \"poly\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#4C5995\"\n  },\n  \"powr\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1FBBA9\"\n  },\n  \"qash\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1F4BB4\"\n  },\n  \"qtum\": {\n    \"color\": \"#359bce\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"rep\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#412766\"\n  },\n  \"salt\": {\n    \"color\": \"#22272f\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"sia\": {\n    \"color\": \"#34EC86\",\n    \"backgroundColor\": \"#7F8C8D\"\n  },\n  \"spank\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FF6195\"\n  },\n  \"snm\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#131822\"\n  },\n  \"snt\": {\n    \"color\": \"#0BD09F\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"steem\": {\n    \"color\": \"#0BD09F\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"strat\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1f88c7\"\n  },\n  \"storj\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2E86FB\"\n  },\n  \"theta\": {\n    \"color\": \"#20D7C2\",\n    \"backgroundColor\": \"#1A1D25\"\n  },\n  \"trx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#222423\"\n  },\n  \"tusd\": {\n    \"color\": \"#62C6FF\",\n    \"backgroundColor\": \"#1D294F\"\n  },\n  \"usdt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2EA07C\"\n  },\n  \"usd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#CACCB7\"\n  },\n  \"usdc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2775C9\"\n  },\n  \"waves\": {\n    \"color\": \"#000\",\n    \"backgroundColor\": \"#105CFB\"\n  },\n  \"wtc\": {\n    \"color\": \"#8125FB\",\n    \"backgroundColor\": \"#59EFDC\"\n  },\n  \"vet\": {\n    \"color\": \"#AA77CE\",\n    \"backgroundColor\": \"#B4E8FF\",\n    \"lightBg\": true\n  },\n  \"xmr\": {\n    \"color\": \"#4C4C4C\",\n    \"backgroundColor\": \"#FC6621\"\n  },\n  \"xlm\": {\n    \"color\": \"#07A2CC\",\n    \"backgroundColor\": \"#CEEBF6\",\n    \"lightBg\": true\n  },\n  \"xrp\": {\n    \"color\": \"#23292F\",\n    \"backgroundColor\": \"#1B84E6\"\n  },\n  \"xvg\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3BA3CA\"\n  },\n  \"zec\": {\n    \"color\": \"#000\",\n    \"backgroundColor\": \"#EBB451\"\n  },\n  \"zen\": {\n    \"color\": \"#5EFFB5\",\n    \"backgroundColor\": \"#1C3871\"\n  },\n  \"zil\": {\n    \"color\": \"#50C0BE\",\n    \"backgroundColor\": \"#46494B\"\n  },\n  \"zrx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#383838\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 0, "creation_date": 1550088834, "post_id": 54678614, "comment_id": 96146280, "body": "I am curious, if you put a console.log(&#39;{CODE_LOCATION}&#39; + this.token) in both the constructor and the intercept function, does that return your token?"}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "reply_to_user": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 0, "creation_date": 1550088994, "post_id": 54678614, "comment_id": 96146351, "body": "@dmoore1181 It returns it for the constructor but it&#39;s undefined in the intercept function. I updated the question."}, {"owner": {"reputation": 592, "user_id": 8264405, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80b18f65189e49abfdc98416f08ec990?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa Lokhandwala", "link": "https://stackoverflow.com/users/8264405/mustafa-lokhandwala"}, "edited": false, "score": 0, "creation_date": 1550126956, "post_id": 54678614, "comment_id": 96157510, "body": "I just simply suggest advanced http plugin use for all http requests.  <a href=\"https://ionicframework.com/docs/native/http/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/http</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550092066, "post_id": 54679191, "comment_id": 96147719, "body": "I get Object(...)(...).mergeMap is not a function and Property mergeMap does not exists on type Observable&lt;any&gt;"}, {"owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "reply_to_user": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550151751, "post_id": 54679191, "comment_id": 96171045, "body": "@LucienDubois sorry that was for an older rxjs version. I updated the answer for rxjs 6. You have to use .pipe(mergeMap(...)) in this case"}], "tags": [], "owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "is_accepted": true, "score": 4, "last_activity_date": 1550151649, "last_edit_date": 1550151649, "creation_date": 1550090996, "answer_id": 54679191, "question_id": 54678614, "link": "https://stackoverflow.com/questions/54678614/how-to-get-the-bearer-auth-token-before-sending-the-request-using-httpintercepto/54679191#54679191", "title": "How to get the Bearer Auth token before sending the request using HttpInterceptor in Ionic 4", "body": "<p>Calls to the storage return a Promise and are therefore async. Get the token inside the intercept function. Since the intercept function wants an Observable, convert the storage call with RxJS:</p>\n\n<pre><code>import { from } from 'rxjs';\nimport { mergeMap } from \"rxjs/operators\";\n\nintercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n\n    return from(this.storage.get('User')).pipe(\n        mergeMap((val) =&gt; {\n            // clone and modify the request\n            request = request.clone({\n                setHeaders: {\n                    Authorization: val\n                }\n            });\n            [...more stuff you want]\n            return next.handle(request);\n        });\n     )\n}\n</code></pre>\n\n<p>I did not test this function but I hope you get the idea. Maybe add an if else statement and the token as local variable to not read it from the storage every call.</p>\n\n<pre><code>token:string;\nintercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    if(!this.token)\n    return from(this.storage.get('User')).pipe(\n        mergeMap((val) =&gt; {\n            this.token = val\n            [... modify and return request headers like above]\n        })\n    )\n    else{ \n        [... use this.token for headers ]\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "accepted_answer_id": 54679191, "answer_count": 1, "score": 1, "last_activity_date": 1550151649, "creation_date": 1550088469, "last_edit_date": 1550089029, "question_id": 54678614, "link": "https://stackoverflow.com/questions/54678614/how-to-get-the-bearer-auth-token-before-sending-the-request-using-httpintercepto", "title": "How to get the Bearer Auth token before sending the request using HttpInterceptor in Ionic 4", "body": "<p>I use Ionic 4 to create an app. I try to implement an HttpInterceptor to add the Bearer Authorization token to requests.</p>\n\n<p><strong>Problem</strong>: the request is sent before the token is read</p>\n\n<p>More details: </p>\n\n<ol>\n<li>I try to read the token from local storage</li>\n<li>The <em>console.log</em> below prints outs the token</li>\n</ol>\n\n<p>What is wrong ?</p>\n\n<pre><code>import {HttpRequest,HttpHandler,HttpEvent,HttpInterceptor,HttpResponse,HttpErrorResponse} from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n    token:any;\n\n    constructor(private router: Router,private storage: Storage) {\n        this.storage.get('User').then((val) =&gt; {\n            this.token = val;\n            console.log(val); // Returns the token\n        });\n    }\n\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n      console.log(this.token); // Returns undefined\n      if (this.token) {\n        request = request.clone({\n          setHeaders: {\n            'Authorization': this.token\n          }\n        });\n      }\n\n      if (!request.headers.has('Content-Type')) {\n        request = request.clone({\n          setHeaders: {\n            'content-type': 'application/json'\n          }\n        });\n      }\n\n      request = request.clone({\n        headers: request.headers.set('Accept', 'application/json')\n      });\n\n      return next.handle(request).pipe(\n        map((event: HttpEvent&lt;any&gt;) =&gt; {\n          if (event instanceof HttpResponse) {\n            console.log('event---&gt;&gt;&gt;', event);\n          }\n          return event;\n        }),\n        catchError((error: HttpErrorResponse) =&gt; {\n          if (error.status === 401) {\n            if (error.error.success === false) {\n              // this.presentToast('Login failed');\n            } else {\n              this.router.navigate(['/']);\n            }\n          }\n          return throwError(error);\n        }));\n    }\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1550090834, "post_id": 54678672, "comment_id": 96147196, "body": "Is there a way to get around having to add all the properties to the Tenant class?  In my case, the backend API already has a class definition for Tenant with all of its properties and the call to the DataService returns a JSON representation of that class.  I was hoping to NOT have to redefine that class on the front-end as well.  Is that possible?"}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1550090953, "post_id": 54678672, "comment_id": 96147264, "body": "Well you then will lose the benefit of using TS. But yes just add to the class <code>Tenant</code> this index signature: <code>[key: string]: any</code>"}, {"owner": {"reputation": 1775, "user_id": 784699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfba3290962a5ae931cc84122e58a64?s=128&d=identicon&r=PG", "display_name": "JSobell", "link": "https://stackoverflow.com/users/784699/jsobell"}, "edited": false, "score": 0, "creation_date": 1550100669, "post_id": 54678672, "comment_id": 96150948, "body": "And if your backend has the definition, use NSwag or your client environment utilities to generate the DTOs for the client as Typescript classes or Typescript definitions. For example, if you have Swagger on the host you can use something like NSwagStudio to generate Aurelia Typescript APIs directly. If you&#39;re using ServiceStack you can install the <code>@servicestack&#47;cli</code> library and use <code>typescript-ref</code> to auto-generate a <code>dto.ts</code> file with all of the DTO objects.  Try to find a way to auto-generate this sort of thing, otherwise you can never be sure that your client/server defs are in sync"}, {"owner": {"reputation": 7398, "user_id": 1039247, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/K2tQU.png?s=128&g=1", "display_name": "Juli&#235;n", "link": "https://stackoverflow.com/users/1039247/juli%c3%abn"}, "edited": false, "score": 0, "creation_date": 1550132359, "post_id": 54678672, "comment_id": 96159954, "body": "Aurelia validation <b>does have typings</b>.   See the <a href=\"https://github.com/aurelia/validation/tree/master/dist\" rel=\"nofollow noreferrer\">bundled aurelia-validation.d.ts</a> file in the plugin."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 7398, "user_id": 1039247, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/K2tQU.png?s=128&g=1", "display_name": "Juli&#235;n", "link": "https://stackoverflow.com/users/1039247/juli%c3%abn"}, "edited": false, "score": 0, "creation_date": 1550143625, "post_id": 54678672, "comment_id": 96166338, "body": "@Juli&#235;n Well, ok. But if I am correct, then this fact doesn&#39;t help in this case anyway? &quot;because it accepts class name in the very end of the methods chain&quot;?"}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 2, "last_activity_date": 1550088717, "creation_date": 1550088717, "answer_id": 54678672, "question_id": 54678543, "link": "https://stackoverflow.com/questions/54678543/aurelia-validationrules-ensure-using-typescript/54678672#54678672", "title": "Aurelia ValidationRules.ensure using TypeScript", "body": "<p>It seems that <code>aurelia-validation</code> <a href=\"https://microsoft.github.io/TypeSearch/\" rel=\"nofollow noreferrer\">does not</a> have typings. Hence you have to assert types like:</p>\n\n<pre><code>ValidationRules\n  .ensure((o: Tenant) =&gt; o.name).displayName(\"Tenant Name\").required()\n  ...\n  .on(Tenant);\n</code></pre>\n\n<p>But before that you should add <code>name</code> property to <code>Tenant</code> class:</p>\n\n<pre><code>export class Tenant{\n    public name: string = ''\n\n    constructor(tenantObject){\n        Object.assign(this, tenantObject);\n    }\n} \n</code></pre>\n\n<p>P.S. fwiw even if <code>aurelia-validation</code> had typings, you would still have to assert type because it accepts class name in the very end of the methods chain.</p>\n"}], "owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 54678672, "answer_count": 1, "score": 1, "last_activity_date": 1550088717, "creation_date": 1550088206, "question_id": 54678543, "link": "https://stackoverflow.com/questions/54678543/aurelia-validationrules-ensure-using-typescript", "title": "Aurelia ValidationRules.ensure using TypeScript", "body": "<p>I had an Aurelia project that was created with ES6 and Babel and I'm trying to convert it over to TypeScript.</p>\n\n<p>In one area of code, I had something like this:</p>\n\n<p><strong>tenant.js</strong></p>\n\n<pre><code>import {ValidationRules} from 'aurelia-validation'\nexport class Tenant{\n    constructor(tenantObject){\n        Object.assign(this, tenantObject);\n    }\n} \n\nValidationRules\n  .ensure(o =&gt; o.name).displayName(\"Tenant Name\").required()\n  ...\n  .on(Tenant);\n</code></pre>\n\n<p><strong>system.js (VM)</strong></p>\n\n<pre><code>import {ValidationController} from 'aurelia-validation'\nimport {NewInstance} from 'aurelia-framework'\nimport {Tenant} from '../models/tenant'\nimport {BootstrapValidationRenderer} from 'elements/bootstrap-validation-renderer'\n\nexport class System{\n    static inject = [DataService, NewInstance.of(ValidationController)]\n    constructor(dataService, validationController){\n       this.dataService = dataService\n       this.validationController = validationController\n\n       this.validationController.addRenderer(new BootstrapValidationRenderer())\n    }\n\n    async activate() {\n       let data = await this.dataService.getTenant(1);\n       this.tenant = new Tenant(data);\n    }\n\n    ...\n}\n</code></pre>\n\n<p><strong>system.html</strong></p>\n\n<pre><code>...\n&lt;div class=\"form-group name\" &gt;\n   &lt;label for=\"pName\" class=\"form-control-sm\"&gt;Tenant Name&lt;/label&gt;\n   &lt;input id=\"pName\" type=\"text\" autofocus class=\"form-control form-control-sm\" value.bind=\"tenant.name &amp; validate\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>However, I now get an error in <code>tenant.ts</code> stating that <code>property 'name' does not exist on type {}</code>.</p>\n\n<p>I tried adding a <code>name</code> property to <code>Tenant</code> but that did not seem to help.</p>\n\n<p>Is there a way to get around this?</p>\n"}, {"tags": ["typescript", "reducers", "union-types"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1550088381, "post_id": 54678326, "comment_id": 96146059, "body": "What lint error does it break? <code>const TYPE_A:  &#39;TYPE_A&#39; = &#39;TYPE_A&#39;;</code> should work if you are forced to write out all types, but I would re-evaluate that rule..."}], "answers": [{"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 0, "last_activity_date": 1550088102, "creation_date": 1550088102, "answer_id": 54678515, "question_id": 54678326, "link": "https://stackoverflow.com/questions/54678326/union-type-for-the-similar-structure-of-the-interfaces/54678515#54678515", "title": "Union type for the similar structure of the interfaces", "body": "<p>Use class instead of interface and <code>instanceof</code> type guard.</p>\n\n<pre><code>const TYPEA: number = 1; // type difinition here breaks line 19\nclass ActionA {\n    type: typeof TYPEA;\n    payload: {\n        entities: [];\n    }\n}\n\nconst TYPEB = 2;\nclass ActionB {\n    type: typeof TYPEB;\n    payload: {\n        id: number\n    }\n} \n\nconst reducer = (action: ActionA | ActionB) =&gt; {\n    if (action instanceof ActionB) {\n        action.payload.id // OK\n    }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=const%20TYPEA%3A%20number%20%3D%201%3B%20%2F%2F%20type%20difinition%20here%20breaks%20line%2019%0D%0Aclass%20ActionA%20%7B%0D%0A%20%20%20%20type%3A%20typeof%20TYPEA%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20entities%3A%20%5B%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20TYPEB%20%3D%202%3B%0D%0Aclass%20ActionB%20%7B%0D%0A%20%20%20%20type%3A%20typeof%20TYPEB%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20number%0D%0A%20%20%20%20%7D%0D%0A%7D%20%0D%0A%0D%0Aconst%20reducer%20%3D%20(action%3A%20ActionA%20%7C%20ActionB)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(action%20instanceof%20ActionB)%20%7B%0D%0A%20%20%20%20%20%20%20%20action.payload.id%20%2F%2F%20OK%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>However if you want to keep interfaces, you should change your code to this:</p>\n\n<pre><code>const TYPEA = 1 as 1; // type difinition here breaks line 19\ninterface ActionA {\n    type: 1;\n    payload: {\n        entities: [];\n    }\n}\n\nconst TYPEB = 2 as 2;\ninterface ActionB {\n    type: typeof TYPEB;\n    payload: {\n        id: number\n    }\n} \n\nconst reducer = (action: ActionA | ActionB) =&gt; {\n    if (action.type === TYPEB) {\n        action.payload.id // OK\n    }\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=const%20TYPEA%20%3D%201%20as%201%3B%20%2F%2F%20type%20difinition%20here%20breaks%20line%2019%0D%0Ainterface%20ActionA%20%7B%0D%0A%20%20%20%20type%3A%201%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20entities%3A%20%5B%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20TYPEB%20%3D%202%20as%202%3B%0D%0Ainterface%20ActionB%20%7B%0D%0A%20%20%20%20type%3A%20typeof%20TYPEB%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20number%0D%0A%20%20%20%20%7D%0D%0A%7D%20%0D%0A%0D%0Aconst%20reducer%20%3D%20(action%3A%20ActionA%20%7C%20ActionB)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(action.type%20%3D%3D%3D%20TYPEB)%20%7B%0D%0A%20%20%20%20%20%20%20%20action.payload.id%20%2F%2F%20OK%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">Playground</a></p>\n\n<p>The problem was that <code>TYPEA</code> and <code>TYPEB</code> was inferred as <code>number</code> and not number literals (<code>1</code>, <code>2</code>).</p>\n"}], "owner": {"reputation": 33, "user_id": 11058472, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4CS-ntLsVFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPxL6MrDs1pM6BOOtIBNvuQfYeylw/mo/photo.jpg?sz=128", "display_name": "eLeontev", "link": "https://stackoverflow.com/users/11058472/eleontev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 54678515, "answer_count": 1, "score": 0, "last_activity_date": 1550088102, "creation_date": 1550087451, "question_id": 54678326, "link": "https://stackoverflow.com/questions/54678326/union-type-for-the-similar-structure-of-the-interfaces", "title": "Union type for the similar structure of the interfaces", "body": "<p>How to implement Union type with enabled typeof flag for variables in typescript config</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=const%20TYPEA%3A%20number%20%3D%201%3B%20%2F%2F%20type%20difinition%20here%20breaks%20line%2019%0D%0Ainterface%20ActionA%20%7B%0D%0A%20%20%20%20type%3A%20typeof%20TYPEA%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20entities%3A%20%5B%5D%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20TYPEB%20%3D%202%3B%0D%0Ainterface%20ActionB%20%7B%0D%0A%20%20%20%20type%3A%20typeof%20TYPEB%3B%0D%0A%20%20%20%20payload%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20id%3A%20number%0D%0A%20%20%20%20%7D%0D%0A%7D%20%0D%0A%0D%0Aconst%20reducer%20%3D%20(action%3A%20ActionA%20%7C%20ActionB)%20%3D%3E%20%7B%0D%0A%20%20%20%20if%20(action.type%20%3D%3D%3D%20TYPEB)%20%7B%0D%0A%20%20%20%20%20%20%20%20action.payload.id%20%2F%2F%20is%20not%20defined%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">TS playground is there</a></p>\n\n<p>The removing of type definition in the first line works fine, but tslint generetes the error for it.\nExamples in <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/advanced-types.html</a> with (entity) did not help.</p>\n\n<pre><code>const TYPE_A: string = 'TYPE_A'; // &lt;- type difinition here breaks line 19\ninterface Action_A {\n    type: typeof TYPE_A;\n    payload: {\n        entities: [];\n    }\n}\n\nconst TYPE_B = 'TYPE_B';\ninterface Action_B {\n    type: typeof TYPE_B;\n    payload: {\n        id: number\n    }\n} \n\nconst shouldBeReducer = (action: Action_A | Action_B) =&gt; {\n    if (action.type === TYPE_A) {\n        return action.payload.entites // &lt;- entities field is not defined\n    }\n}\n</code></pre>\n\n<p>type definition in the reducer should work correct, but exeption is displayed</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 1, "last_activity_date": 1550087812, "creation_date": 1550087812, "answer_id": 54678422, "question_id": 54678310, "link": "https://stackoverflow.com/questions/54678310/how-can-i-infer-a-type-based-on-static-string-values-for-a-higher-order-function/54678422#54678422", "title": "How can I infer a type based on static string values for a higher-order function?", "body": "<p><a href=\"https://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">Overloads</a> perfectly fit your use case.</p>\n\n<pre><code>function collection(collectionName: 'bananas'): () =&gt; Banana[]\nfunction collection(collectionName: 'carrots'): () =&gt; Carrot[]\nfunction collection(collectionName: 'apples'): () =&gt; Apple[]\nfunction collection(collectionName: string) {/*... */ }\n\nlet v = collection('apples')() // Apple[]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1550090435, "post_id": 54678889, "comment_id": 96147004, "body": "Thanks. Yes, this is preferred and more concise if there may be more fruits."}, {"owner": {"reputation": 6644, "user_id": 439898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3daa290c005a6057993fb63715f9c14?s=128&d=identicon&r=PG", "display_name": "Andy Fleming", "link": "https://stackoverflow.com/users/439898/andy-fleming"}, "edited": false, "score": 0, "creation_date": 1550093438, "post_id": 54678889, "comment_id": 96148336, "body": "For some reason, implementing this gives me an error <code>Type argument cannot be inferred from usage</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1550103268, "post_id": 54678889, "comment_id": 96151706, "body": "I can\u2019t reproduce that, so I\u2019m not sure how to advise you.  Can you get it to occur in <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">the Playground</a>?"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 2, "last_activity_date": 1550089695, "creation_date": 1550089695, "answer_id": 54678889, "question_id": 54678310, "link": "https://stackoverflow.com/questions/54678310/how-can-i-infer-a-type-based-on-static-string-values-for-a-higher-order-function/54678889#54678889", "title": "How can I infer a type based on static string values for a higher-order function?", "body": "<p>@NurbolAlpysbayev's answer is good and overloads work.  </p>\n\n<p>Alternatively I usually try to use <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generics</a> instead because they tend to compose better with unions.  For example, you can create a map from fruit name to fruit type:</p>\n\n<pre><code>interface FruitMap {\n  apples: Apple,\n  bananas: Banana,\n  carrots: Carrot\n}\n</code></pre>\n\n<p>and use <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\"><code>keyof</code> and lookup types</a> to describe the relationship between <code>collectionName</code> and the output of <code>collection()</code>:</p>\n\n<pre><code>function collection&lt;K extends keyof FruitMap&gt;(collectionName: K): () =&gt; Array&lt;FruitMap[K]&gt;;\nfunction collection(collectionName: keyof FruitMap): () =&gt; Array&lt;FruitMap[keyof FruitMap]&gt; {\n  return function get() {\n    switch (collectionName) {\n      case 'apples':\n        return [{\n          color: 'red',\n          taste: 'great',\n        }];\n\n      case 'bananas':\n        return [{\n          color: 'yellow',\n          length: 'medium',\n        }];\n\n      case 'carrots':\n        return [{\n          color: 'orange',\n          baby: false,\n        }];\n    }\n  }\n}\n</code></pre>\n\n<p>And that causes these to be typed correctly:</p>\n\n<pre><code>const appleArray = collection(\"apples\")(); \n// const appleArray: Apple[]\n\nconst appleOrBananaArray = collection(Math.random() &lt; 0.5 ? \"apples\" : \"bananas\")();\n// const appleOrBananaArray: (Apply | Banana)[]\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 6644, "user_id": 439898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3daa290c005a6057993fb63715f9c14?s=128&d=identicon&r=PG", "display_name": "Andy Fleming", "link": "https://stackoverflow.com/users/439898/andy-fleming"}, "is_accepted": true, "score": 0, "last_activity_date": 1550093694, "creation_date": 1550093694, "answer_id": 54679803, "question_id": 54678310, "link": "https://stackoverflow.com/questions/54678310/how-can-i-infer-a-type-based-on-static-string-values-for-a-higher-order-function/54679803#54679803", "title": "How can I infer a type based on static string values for a higher-order function?", "body": "<p>From a combination of answers, using overloading in an interface declaration seemed to be the most elegant solution for my use case.</p>\n\n<pre><code>type Apple = {\n  color: string\n  taste: string\n}\n\ntype Banana = {\n  color: string\n  length: string\n}\n\ntype Carrot = {\n  color: string\n  baby: boolean\n}\n\ninterface TypedCollectionFactory {\n    (collectionName: 'apples'): () =&gt; Apple[]\n    (collectionName: 'bananas'): () =&gt; Banana[]\n    (collectionName: 'carrots'): () =&gt; Carrot[]\n}\n\nconst collection: TypedCollectionFactory = function(collectionName: string) {\n  return function get() {\n    // ...\n  }\n}\n\nconst apples = collection('apples')()\n\nfor (const apple of apples) {\n    console.log(apple.taste)\n}\n</code></pre>\n"}], "owner": {"reputation": 6644, "user_id": 439898, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e3daa290c005a6057993fb63715f9c14?s=128&d=identicon&r=PG", "display_name": "Andy Fleming", "link": "https://stackoverflow.com/users/439898/andy-fleming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 54679803, "answer_count": 3, "score": 1, "last_activity_date": 1550093694, "creation_date": 1550087404, "last_edit_date": 1550087568, "question_id": 54678310, "link": "https://stackoverflow.com/questions/54678310/how-can-i-infer-a-type-based-on-static-string-values-for-a-higher-order-function", "title": "How can I infer a type based on static string values for a higher-order function?", "body": "<p>How can I map static string values (for a collection name) to a specific return type?</p>\n\n<pre><code>type Apple = {\n  color: string\n  taste: string\n}\n\ntype Banana = {\n  color: string\n  length: string\n}\n\ntype Carrot = {\n  color: string\n  baby: boolean\n}\n\nfunction collection(collectionName: string) {\n  return function get() {\n    switch (collectionName) {\n      case 'apples':\n        return [{\n          color: 'red',\n          taste: 'great',\n        }];\n\n      case 'bananas':\n        return [{\n          color: 'yellow',\n          length: 'medium',\n        }];\n\n      case 'carrots':\n        return [{\n          color: 'orange',\n          baby: false,\n        }];\n    }\n  }\n}\n</code></pre>\n\n<p>For example, in usage, I want it to infer that a specific collection name (<code>\"apples\"</code>) will return an array of a specific type (<code>Apple</code>).</p>\n\n<pre><code>collection('apples')()  // =&gt; Apple[]\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 9014813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e88c7f2e338f295016816c4e200109?s=128&d=identicon&r=PG", "display_name": "Alex Sicoe", "link": "https://stackoverflow.com/users/9014813/alex-sicoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1550088921, "creation_date": 1550088921, "answer_id": 54678716, "question_id": 54677612, "link": "https://stackoverflow.com/questions/54677612/react-redux-typescript/54678716#54678716", "title": "React + Redux + TypeScript", "body": "<p>mapStateToProps and mapDispatchToProps are injecting props into your component, meaning these props are not provided when the component is rendered in another component = when its constructor is magically called through JSX. And that's ok. </p>\n\n<p>What's not ok is that you instructed TypeScript to blow up if the constructor doesn't receive these props:</p>\n\n<pre><code>constructor(props: IStateToProps &amp; IDispatchToProps &amp; WithStyles&lt;typeof styles&gt; &amp; RouteComponentProps&lt;{}&gt;)\n</code></pre>\n\n<p>Therefore I'm recommending you to follow this pattern:</p>\n\n<p>You'll need 2 interfaces. IProps which are props passed through jsx in the calling component. And IInjectedProps which extends IProps (and in your case, the rest of injected interfaces). In the constructor props are just IProps. That means you're asking typescript to blow up only if the called props are not respected.</p>\n\n<pre><code>interface IProps{\n//strong typed properties expected from the component that renders this component\n}\n\ninterface IInjectedProps extends IProps, IStateToProps, IDispatchToProps /*and anything else injected*/ {\n//optionally add injected properties here\n}\n\nclass SearchFormDesktop extends Component&lt;IProps, IState&gt; {\n//...\nget injected() {\n   return this.props as IInjectedProps\n}\n\n//now you can use this.injected for injected props, and this.props for passed props. \n//Check their intellisense. Interface segregation ftw.\n\n}\n\n</code></pre>\n\n<p>If you ever pick up one of these fancy newer functional components, instead of 'get injected' you can use:</p>\n\n<pre><code>injected = props as IInjectedProps \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "is_accepted": false, "score": 0, "last_activity_date": 1550090859, "creation_date": 1550090859, "answer_id": 54679160, "question_id": 54677612, "link": "https://stackoverflow.com/questions/54677612/react-redux-typescript/54679160#54679160", "title": "React + Redux + TypeScript", "body": "<ol>\n<li><p>You have a typo: <code>bookigSeacrhReducer</code>. You can add <a href=\"https://github.com/LogRocket/redux-logger\" rel=\"nofollow noreferrer\">redux-logger</a> middleware to see what the store actually contains.</p></li>\n<li><p><code>connect</code> will inject <code>this.props.searchParameters</code> and not <code>this.searchParameters</code>. You should read them from there.</p></li>\n<li><p>I'm not familiar with Material UI, but you'd usually use <a href=\"https://reactjs.org/docs/forms.html#controlled-components\" rel=\"nofollow noreferrer\">controlled components</a>. Which means that you'd store the current form state in either Redux store or component state, and modify it in your <code>handleChange</code> callback (by issuing an action, or <code>setState()</code> respectively.</p></li>\n</ol>\n\n<p>There might be some other issues with your code, but it's hard to tell without the full context. Make sure it type-checks correctly.</p>\n"}], "owner": {"reputation": 1615, "user_id": 2080603, "user_type": "registered", "accept_rate": 10, "profile_image": "https://www.gravatar.com/avatar/a731428d3e06011953b1619e023a7de3?s=128&d=identicon&r=PG", "display_name": "Wasyster", "link": "https://stackoverflow.com/users/2080603/wasyster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550090859, "creation_date": 1550084694, "question_id": 54677612, "link": "https://stackoverflow.com/questions/54677612/react-redux-typescript", "title": "React + Redux + TypeScript", "body": "<p>I am trying to implement Redux to my React project. Right now, I got an error on my first page, and I can't solve it. My reducer, store, initial state are undifined when the component is initialized.</p>\n\n<p>Am gonna try to put all important code, if something is missing, I can update the question.</p>\n\n<p>Action type:</p>\n\n<pre><code>export default interface IAction&lt;T&gt;\n{\n    type: string;\n    payload?: T;\n    error?: boolean;\n    meta?: any;\n}\n</code></pre>\n\n<p>Root store:</p>\n\n<pre><code>import IBookingTypeState from '../pages/bookmark/home/IBookingTypeState';\nimport IBookingSearchState from '../pages/bookmark/search/bookingSearchState';\n\nexport default interface IStore\n{\n    readonly bookingSearchReducer: IBookingSearchState;\n}\n</code></pre>\n\n<p>Root reducer:</p>\n\n<pre><code>import { combineReducers, Reducer, ReducersMapObject } from 'redux';\n\nimport IStore from './rootStore';\nimport BookingTypeReducer from './booking/bookingType/bookingTypeReducer';\nimport BookingSearchReducer from './booking/bookingSearch/bookingSearchReducer';\n\nconst reducerMap: ReducersMapObject =\n{\n    bookigSeacrhReducer: BookingSearchReducer.reducer\n}\n\nexport default combineReducers(reducerMap) as Reducer&lt;IStore&gt;;\n</code></pre>\n\n<p>Action creator:</p>\n\n<pre><code>import IAction from '../../IAction';\nimport IBookingSearch from './../../../models/bookingSearch';\n\nexport default class BookingSearchAction\n{\n    public static readonly SET: string = 'BookingSearchAction.SET';\n    public static readonly GET: string = 'BookingSearchAction.GET';\n\n    public static setBookingsSearch(bookingSearch: IBookingSearch): IAction&lt;IBookingSearch&gt;\n    {\n        return {\n            error: false,\n            meta: null,\n            payload: bookingSearch,\n            type: BookingSearchAction.SET\n        }\n    }\n\n    public static getBookingsSearch(): IAction&lt;null&gt;\n    {\n        return {\n            error: false,\n            meta: null,\n            payload: null,\n            type: BookingSearchAction.GET\n        }\n    }\n}\n</code></pre>\n\n<p><strong>IBookingSearch</strong> is just an interface to store the search data.</p>\n\n<p>Reducer:</p>\n\n<pre><code>import IBookingSearch from './../../../models/bookingSearch';\nimport IBookingSearchState from './../../../pages/bookmark/search/bookingSearchState';\nimport IAction from './../../IAction';\nimport BookingSearchAction from './bookingSearchAction';\n\nexport default class BookingSearchReducer\n{\n    private static readonly _initialState: IBookingSearchState =\n    ({\n        searchParameters:\n        {\n            Arrival: new Date(),\n            Departure: new Date(),\n            Lenght: 0,\n            Beam: 0,\n            Draft: 0,\n            ShorePower: 0,\n            PromoCode: ''\n        }\n    });\n\n    public static reducer(state: IBookingSearchState = BookingSearchReducer._initialState, action: IAction&lt;IBookingSearch&gt;) : IBookingSearchState\n    {\n        switch (action.type)\n        {\n            case BookingSearchAction.SET:\n                return BookingSearchReducer._setBookingSearch(state, action);\n            case BookingSearchAction.GET:\n                return BookingSearchReducer._getBookingSearch(state, action);\n            default:\n                return state;\n        }\n    }\n\n    private static _setBookingSearch(state: IBookingSearchState, action: IAction&lt;IBookingSearch&gt;) : IBookingSearchState\n    {\n        if (!action.payload)\n        {\n            return {\n                ...state\n            }\n        }\n\n        return {\n            ...state,\n            searchParameters: action.payload\n        }\n    }\n\n    private static _getBookingSearch(state: IBookingSearchState, action: IAction&lt;IBookingSearch&gt;) : IBookingSearchState\n    {\n        return {\n            ...state\n        }\n    }\n}\n</code></pre>\n\n<p>Component where I wanna use it:</p>\n\n<pre><code>interface IStateToProps extends IBookingSearchState\n{}\n\ninterface IDispatchToProps\n{\n    dispatch: (action: IAction&lt;IBookingSearch&gt;) =&gt; void;\n}\n\nconst mapStateToProps = (state: IStore): IStateToProps =&gt;\n({\n    searchParameters: state.bookingSearchReducer.searchParameters\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch&lt;IAction&lt;IBookingSearch&gt;&gt;): IDispatchToProps =&gt;\n({\n    dispatch\n});\n\nclass SearchFormDesktop extends React.Component&lt;IStateToProps &amp; IDispatchToProps &amp; WithStyles&lt;typeof styles&gt; &amp; RouteComponentProps&lt;{}&gt;, {}&gt;\n{\n    private searchParameters: IBookingSearch = (null!);\n\n    constructor(props: IStateToProps &amp; IDispatchToProps &amp; WithStyles&lt;typeof styles&gt; &amp; RouteComponentProps&lt;{}&gt;)\n    {\n        super(props);\n   }\n\n    handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;): void =&gt;\n    {\n        e.preventDefault();\n        this.searchParameters\n        {\n            [e.target.name] = e.target.value\n        }\n    }\n\n    handleSelectChange = (e: React.ChangeEvent&lt;HTMLSelectElement&gt;): void =&gt;\n    {\n        e.preventDefault();\n        this.searchParameters\n        {\n            [e.target.name] = e.target.value\n        }\n    }\n\n    private submitHandler = () =&gt;\n    {\n        console.log(this.state);\n\n        //dispatch state\n        this.props.dispatch(BookingSearchAction.setBookingsSearch(this.searchParameters));\n\n        this.props.history.push(Urls.bookingoffers);\n    }\n\n    render()\n    {\n        const css = this.props.classes;\n        const enabled = this.searchParameters &amp;&amp;\n                        this.searchParameters.Arrival &amp;&amp;\n                        this.searchParameters.Departure &amp;&amp;\n                        this.searchParameters.Beam &amp;&amp;\n                        this.searchParameters.Lenght &amp;&amp;\n                        this.searchParameters.Draft\n\n        const Body = () =&gt;\n            &lt;StackPanel stretch orientation=\"vertical\" centerVertically className = { css.root }&gt;\n                &lt;StackPanel  centerHorizontally centerVertically&gt;\n                    &lt;h3&gt;Short-Term Dockage&lt;/h3&gt;\n                &lt;/StackPanel&gt;\n                &lt;DockPanel {...dockBottom}&gt;\n                    &lt;StackPanel {...dockLeft}&gt;\n                        &lt;DatePickerWithLapbel label=\"Arrival\" name=\"arrival\" onChange={this.handleChange}/&gt;\n                    &lt;/StackPanel&gt;\n                    &lt;StackPanel  {...dockRight}&gt;\n                        &lt;DatePickerWithLapbel label=\"Departure\" name=\"departure\" onChange={this.handleChange}/&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DockPanel&gt;\n                &lt;DockPanel {...dockBottom}&gt;\n                    &lt;StackPanel  {...dockLeft}&gt;\n                        &lt;NumericInput label=\"Lenght\" name=\"Lenght\" onChange={this.handleChange}/&gt;\n                    &lt;/StackPanel&gt;\n                    &lt;StackPanel&gt;\n                        &lt;NumericInput label=\"Beam\" name=\"Beam\" onChange={this.handleChange}/&gt;\n                    &lt;/StackPanel&gt;\n                    &lt;StackPanel  {...dockRight}&gt;\n                        &lt;NumericInput label=\"Draft\" name=\"Draft\" onChange={this.handleChange}/&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DockPanel&gt;\n                &lt;DockPanel {...dockBottom}&gt;\n                    &lt;SelectInput {...dockLeft} label=\"Shore Power (optional)\" name=\"ShorePower\" onChange={this.handleSelectChange}/&gt;\n                &lt;/DockPanel&gt;\n                &lt;DockPanel {...dockBottom}&gt;\n                    &lt;StackPanel&gt;\n                        &lt;Typography variant=\"subtitle1\" className={css.promo}&gt;Add promo or group code&lt;/Typography&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DockPanel&gt;\n                &lt;DockPanel {...dockBottom}&gt;\n                    &lt;StackPanel&gt;\n                        &lt;Button variant=\"contained\"\n                                color=\"primary\"\n                                fullWidth={ true }\n                                size=\"large\"\n                                className={css.button}\n                                onClick = { this.submitHandler }\n                                disabled={!enabled}\n                                &gt;\n                            Check Availability\n                        &lt;/Button&gt;\n                    &lt;/StackPanel&gt;\n                &lt;/DockPanel&gt;\n            &lt;/StackPanel&gt;\n\n        return Body();\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (withRoot(withStyles(styles)(SearchFormDesktop)));\n</code></pre>\n\n<p>And finaly the index.tsx</p>\n\n<pre><code>// create the saga middleware\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(Reducer, composeWithDevTools(applyMiddleware(sagaMiddleware)));\nsagaMiddleware.run(rootSaga);\n\nconst container =\n      &lt;Provider store={store}&gt;\n        &lt;AppContainer&gt;\n          &lt;Router history={ history }&gt;\n            &lt;IndexRoutes/&gt;\n          &lt;/Router&gt;\n        &lt;/AppContainer&gt;\n      &lt;/Provider&gt;\n\nconst ROOT = document.getElementById('root');\n\nReactDOM.render(container, ROOT);\n</code></pre>\n\n<p>In my project I am also using Material-UI.\nThnx.</p>\n"}, {"tags": ["javascript", "typescript", "automated-tests", "e2e-testing", "testcafe"], "answers": [{"comments": [{"owner": {"reputation": 592, "user_id": 4546901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEo2C.jpg?s=128&g=1", "display_name": "Caleb Swank", "link": "https://stackoverflow.com/users/4546901/caleb-swank"}, "edited": false, "score": 0, "creation_date": 1550155354, "post_id": 54690370, "comment_id": 96173344, "body": "I&#39;ve tried the wait method as well, but not exactly in that manner. I placed a debugger directly after the call and before the logger in order to try and intercept it manually as well. I will give this a shot, thank you for your answer."}, {"owner": {"reputation": 592, "user_id": 4546901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEo2C.jpg?s=128&g=1", "display_name": "Caleb Swank", "link": "https://stackoverflow.com/users/4546901/caleb-swank"}, "edited": false, "score": 3, "creation_date": 1550272347, "post_id": 54690370, "comment_id": 96222172, "body": "Turns out this wasn&#39;t necessarily the solution, but led me in the right direction. I&#39;m running the check proposed above, but in order to get the RequestLogger to work, I had to modify my logger object to use a regex for the url"}], "tags": [], "owner": {"reputation": 2844, "user_id": 10757200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/130077c6c2be1eb0e8175b1c7ce3e36b?s=128&d=identicon&r=PG&f=1", "display_name": "hdorgeval", "link": "https://stackoverflow.com/users/10757200/hdorgeval"}, "is_accepted": true, "score": 3, "last_activity_date": 1550147112, "creation_date": 1550147112, "answer_id": 54690370, "question_id": 54677238, "link": "https://stackoverflow.com/questions/54677238/testcafe-requestlogger-not-intercepting-api-calls/54690370#54690370", "title": "testcafe RequestLogger not intercepting api calls", "body": "<p>I suspect that TestCafe runs faster than the code that calls the api. </p>\n\n<p>Before using the logger object you should wait that it has received at least one call.</p>\n\n<p>To check if the logger has received a call, I suggest to do it this way:</p>\n\n<pre><code>await wait_for_first_request();\nconst receivedCalls = logger.requests.length;\nif (receivedCalls === 0) {\n  throw new Error('api has not been called')\n}\n\n\nasync function wait_for_first_request() {\n  for (let i = 0; i &lt; 50; i++) {\n    await t.wait(100);\n    if (logger.requests.length &gt; 0 ) {\n      return;  \n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 592, "user_id": 4546901, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tEo2C.jpg?s=128&g=1", "display_name": "Caleb Swank", "link": "https://stackoverflow.com/users/4546901/caleb-swank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 0, "accepted_answer_id": 54690370, "answer_count": 1, "score": 3, "last_activity_date": 1550147112, "creation_date": 1550083301, "last_edit_date": 1550133690, "question_id": 54677238, "link": "https://stackoverflow.com/questions/54677238/testcafe-requestlogger-not-intercepting-api-calls", "title": "testcafe RequestLogger not intercepting api calls", "body": "<p>For some reason, I cannot get testcafe's RequestLogger to log any of the API calls that I am making. I've read nearly all of the articles and questions on the RequestLogger and everything is pointing to what appears to be the same as the below code as working. Not sure what I'm doing wrong, any help would be great.</p>\n\n<p><strong>References:</strong></p>\n\n<p><a href=\"https://devexpress.github.io/testcafe/documentation/test-api/intercepting-http-requests/logging-http-requests.html\" rel=\"nofollow noreferrer\">https://devexpress.github.io/testcafe/documentation/test-api/intercepting-http-requests/logging-http-requests.html</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/54359051/cannot-intercept-outgoing-ajax-request-from-page-using-testcafe\">Cannot intercept outgoing AJAX request from page using Testcafe</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/51250340/how-to-log-google-analytics-calls-in-testcafe\">How to log Google Analytics calls in Testcafe?</a></p>\n\n<p>I am running locally and hitting an API that is running locally as well, front-end on port 3000 and backend on port 8080, API is at: 8080/api/admin. I can see the logger as injected into the test but nothing updates it, its just a bland object with initial props and will error out after the t.expect statement.</p>\n\n<p>I wonder if the beforeEach is breaking something but I need it in order to fire any API calls because the user needs to be authenticated. I can see the API request being called when debugging, that I am trying to intercept, but no luck</p>\n\n<p>testcafe version: 1.0.0 || 0.23.3</p>\n\n<p><strong>Test code</strong></p>\n\n<pre><code>// have tried several urls, from exact to generic to ports.\nconst logger = RequestLogger(\"/api/\", {\n  logRequestHeaders: true,\n  logRequestBody: true\n});\n\nconst url = 'localhost:3000/reports';\n\nfixture `Report`\n  .page(url)\n  .requestHooks(logger)\n  .beforeEach(async (t: TestController) =&gt; {\n    await loginAndNavToReports({ t });\n  });\n\ntest(\"Reports\", async (t: TestController) =&gt; {\n  // this fires an api call through the /api/ path\n  await t.click(\".test-reportLaborSummary\");\n  // have tried several comparisons here, all fail or expect falsey to be truthy errors\n  await t.expect(logger.count(() =&gt; true)).ok();\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550083206, "post_id": 54677102, "comment_id": 96143648, "body": "See <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">angular.io/guide/component-interaction</a>"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6607714, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207753443700185/picture?type=large", "display_name": "Juliet Rybets", "link": "https://stackoverflow.com/users/6607714/juliet-rybets"}, "edited": false, "score": 0, "creation_date": 1550085166, "post_id": 54677189, "comment_id": 96144530, "body": "Yes its sibling to sibling, but i can#t understand what i shuld write in this service, what to subscribe if i need just a value from methode, Could ypu please give me some example?"}], "tags": [], "owner": {"reputation": 4011, "user_id": 5490782, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Mg3c7.jpg?s=128&g=1", "display_name": "mruanova", "link": "https://stackoverflow.com/users/5490782/mruanova"}, "is_accepted": true, "score": 1, "last_activity_date": 1550088267, "last_edit_date": 1550088267, "creation_date": 1550083083, "answer_id": 54677189, "question_id": 54677102, "link": "https://stackoverflow.com/questions/54677102/how-to-call-a-method-from-another-component-in-angular/54677189#54677189", "title": "How to call a method from another component in Angular?", "body": "<p>It depends, if you are calling from sibling to sibling then you would abstract the method to a service that both will use:</p>\n\n<p>Service</p>\n\n<pre><code>import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MruanovaService {\n  private subject = null;\n  data$ = null;\n\n  constructor(private httpClient: HttpClient) {\n    this.init();\n  }\n\n  init() {\n    this.subject = new BehaviorSubject&lt;any&gt;({});\n    this.data$ = this.subject.asObservable();\n  }\n\n  getProjects(): void {\n    const url = 'https://246gg84zg8.execute-api.us-west- 2.amazonaws.com/prod/projects/';\n    const headers = new HttpHeaders({ 'Content-Type': 'text/plain; charset=utf-8' });\n    const options = { headers: headers };\n    const value = this.httpClient.get(url, options); // HTTP GET\n    this.subject.next(value);\n  }\n}\n</code></pre>\n\n<p>component</p>\n\n<pre><code>import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { MruanovaService } from 'src/app/services/Mruanova.service';\n\n@Component({\n  selector: 'app-mruanova',\n  templateUrl: './mruanova.component.html',\n  styleUrls: ['./mruanova.component.scss']\n})\nexport class MruanovaComponent implements OnInit {\n  projects = null;\n\n  constructor(public MruanovaService: MruanovaService) {}\n\n  ngOnInit() {\n    this.MruanovaService.getProjects();\n    this.MruanovaService.data$.subscribe(res =&gt; {\n      if (res.subscribe) {\n        res.subscribe(response =&gt; {\n          this.projects = response.Items.sort(function (a, b) {\n            return parseFloat(a.ID) - parseFloat(b.ID);\n          });\n        }, r =&gt; {\n          console.log('ERROR', r);\n        });\n      }\n    });\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6607714, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207753443700185/picture?type=large", "display_name": "Juliet Rybets", "link": "https://stackoverflow.com/users/6607714/juliet-rybets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 54677189, "answer_count": 1, "score": 2, "last_activity_date": 1551227138, "creation_date": 1550082683, "last_edit_date": 1551227138, "question_id": 54677102, "link": "https://stackoverflow.com/questions/54677102/how-to-call-a-method-from-another-component-in-angular", "title": "How to call a method from another component in Angular?", "body": "<p>I'm trying to call a mehtod from one Angular component to another</p>\n\n<p>This is <code>one.component.ts</code>, it has to check if it's a day off</p>\n\n<pre><code>  export class CalendarComponent implements OnInit { \n     isDayOfWeekDisabled(dayOfWeek: number): boolean {\n       let dateIsDisabled = false;\n       const workDay= \n       moment(this.viewDate).startOf('isoWeek').add(dayOfWeek, 'd');\n       this.disabledAreas.forEach((item) =&gt; {\n      if (item.start.isSame(moment(workDay)) &amp;&amp; \n      item.end.isSame(moment(workDay.endOf('day')))) {\n      dateIsDisabled = true;\n  }\n});\nreturn dateIsDisabled;\n</code></pre>\n\n<p>}\n      }</p>\n\n<p>and <code>another.component.ts</code>; if day off = true, it doesn't show todos for that day:</p>\n\n<pre><code>       filterDateInDisabledArea(): boolean {\n         for (const disabledArea of this.disabledAreas) {\n             if (isDayOfWeekDisabled()) {\n              return false;\n             }\n           }\n            return true;\n         }\n</code></pre>\n\n<p>but I can't understand how to create a connection between these components.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 0, "creation_date": 1550082108, "post_id": 54676923, "comment_id": 96143125, "body": "Could you show us what you have tried?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1550082323, "post_id": 54676923, "comment_id": 96143240, "body": "First maybe read about Javascript arrays?: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/prototype\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "edited": false, "score": 0, "creation_date": 1550482609, "post_id": 54676923, "comment_id": 96270437, "body": "@rob: Please give some feedback if some answer worked or if you found another solution. Thanks for your update!"}], "answers": [{"comments": [{"owner": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550082865, "post_id": 54677119, "comment_id": 96143504, "body": "Thanks Alexandros but that code in the TS file does not work for removing the element"}, {"owner": {"reputation": 143, "user_id": 5543191, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201296107880936/picture?type=large", "display_name": "Alexandros Markovits", "link": "https://stackoverflow.com/users/5543191/alexandros-markovits"}, "reply_to_user": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550083288, "post_id": 54677119, "comment_id": 96143678, "body": "Ok so your problem is the removeUp method. What are you trying to remove? The last element of the list uploads?"}, {"owner": {"reputation": 143, "user_id": 5543191, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201296107880936/picture?type=large", "display_name": "Alexandros Markovits", "link": "https://stackoverflow.com/users/5543191/alexandros-markovits"}, "reply_to_user": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550084163, "post_id": 54677119, "comment_id": 96144093, "body": "Check the new edited answer. The extra html you edited using the <code>ngFor</code> is correct but i see that you are not using that <code>upload</code> object of the list. You are just showing Element as text of the h2. Shouldn&#39;t you use it?"}, {"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "reply_to_user": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550084875, "post_id": 54677119, "comment_id": 96144415, "body": "Dear @rob please always tell us WHAT and HOW something does not work (i.e. include: console-output, error-message, stacktrace, etc.). Then we can analyze faster and directly solve it."}, {"owner": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550084966, "post_id": 54677119, "comment_id": 96144451, "body": "Ok hc_dev will do next time"}, {"owner": {"reputation": 143, "user_id": 5543191, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201296107880936/picture?type=large", "display_name": "Alexandros Markovits", "link": "https://stackoverflow.com/users/5543191/alexandros-markovits"}, "edited": false, "score": 0, "creation_date": 1550085174, "post_id": 54677119, "comment_id": 96144534, "body": "So pressing the remove button does not remove the last element? If there was a reproduction or a github repo we could look into it in more depth. Consider making - sharing one. You could use codepen or something similar having angular bundled."}, {"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "edited": false, "score": 0, "creation_date": 1550313557, "post_id": 54677119, "comment_id": 96228815, "body": "@AlexandrosMarkovits Did you test your code ;-) Using the <b>length</b> as <i>start/index</i>-argument to <code>splice</code> will <b>remove nothing</b>. I also thought it would roll-over. But only <b>start-index &gt; length</b> will be 0 effectively, and <b>negative start/index</b> will be count from last-element."}, {"owner": {"reputation": 143, "user_id": 5543191, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201296107880936/picture?type=large", "display_name": "Alexandros Markovits", "link": "https://stackoverflow.com/users/5543191/alexandros-markovits"}, "edited": false, "score": 0, "creation_date": 1550318584, "post_id": 54677119, "comment_id": 96230005, "body": "No, I didn&#39;t think of anything like this could happen. Though i must say that pushing or splicing the length of the array in the array as an element is pretty weird. Good job on finding the solution."}], "tags": [], "owner": {"reputation": 143, "user_id": 5543191, "user_type": "registered", "profile_image": "https://graph.facebook.com/10201296107880936/picture?type=large", "display_name": "Alexandros Markovits", "link": "https://stackoverflow.com/users/5543191/alexandros-markovits"}, "is_accepted": false, "score": 0, "last_activity_date": 1550083916, "last_edit_date": 1550083916, "creation_date": 1550082765, "answer_id": 54677119, "question_id": 54676923, "link": "https://stackoverflow.com/questions/54676923/i-would-like-to-add-a-remove-button-in-my-angular-app/54677119#54677119", "title": "I would like to add a remove button in my Angular App", "body": "<p>If I understood correctly you are trying to achieve the the same button implementation but for the remove method.</p>\n\n<p>Use : <code>&lt;button class=\"btn\" (click)=\"removeUp()\"&gt;Remove&lt;/button&gt;</code></p>\n\n<p>And also change the removeUp method to use <code>splice</code> instead of <code>remove</code>: </p>\n\n<pre><code>removeUp() {\n\n   this.uploads.splice(this.uploads.length, 1)\n\n}\n</code></pre>\n\n<p>Look at a similar question being answered here <a href=\"https://stackoverflow.com/questions/5767325/how-do-i-remove-a-particular-element-from-an-array-in-javascript\">Similar question</a></p>\n"}, {"comments": [{"owner": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550084914, "post_id": 54677563, "comment_id": 96144435, "body": "The uploads will be an input where you upload files to, Its just a &lt;h2&gt; tag for now but the concept is the same its adding and removing the element."}, {"owner": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550084992, "post_id": 54677563, "comment_id": 96144463, "body": "That remove button didn&#39;t work - no errors in console"}, {"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "reply_to_user": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "edited": false, "score": 0, "creation_date": 1550312099, "post_id": 54677563, "comment_id": 96228462, "body": "@rob Sorry, did fix my code <code>splice(uploadItem,1)</code> must be <code>splice(index, 1)</code> as you already recognized. And added the button-HTML. Find <b>complete demo</b> linked."}], "tags": [], "owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "is_accepted": false, "score": 2, "last_activity_date": 1550311948, "last_edit_date": 1550311948, "creation_date": 1550084505, "answer_id": 54677563, "question_id": 54676923, "link": "https://stackoverflow.com/questions/54676923/i-would-like-to-add-a-remove-button-in-my-angular-app/54677563#54677563", "title": "I would like to add a remove button in my Angular App", "body": "<p>You can't use the function <code>remove</code> to remove an item from an array.</p>\n\n<h3><em>splice</em> to remove an object from an array</h3>\n\n<p>To remove an element from an array you should use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\"><strong>splice</strong></a>:</p>\n\n<pre><code>removeUpload(uploadItem) {\n    // get index/position of uploadItem within array\n    const index: number = this.uploads.indexOf(uploadItem);\n\n    // if index returned is negative it means element not found in array\n    // else: (positive) index can be used \n    // e.g. to remove the single element at this position\n    if (index !== -1) {\n      this.uploads.splice( index, 1 );\n    }\n}\n</code></pre>\n\n<p>This removes from index-position exactly one single element (thus second argument is <code>1</code> here).</p>\n\n<p>Of course you to have add the argument <code>upload</code> as argument to button's click-event, so that the function knows which element of the array it has to remove:</p>\n\n<pre><code>&lt;button class=\"btn\" (click)=\"removeUpload( upload )\" title=\"remove this\"&gt;x&lt;/button&gt;\n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-asncms\" rel=\"nofollow noreferrer\">demo on stackblitz</a>.</p>\n\n<h3>Shortcuts</h3>\n\n<p>If you want to remove the <strong>first</strong> element of the array, use array.<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/shift\" rel=\"nofollow noreferrer\">shift()</a>.\nIf you want to remove the <strong>last</strong> element of the array, use array.<a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/pop\" rel=\"nofollow noreferrer\">pop()</a>.\nBoth functions return the removed element.</p>\n\n<h3>What to add/remove from the array?</h3>\n\n<p>I am not sure why you add/remove (<code>push</code> respective <code>splice</code>) the array's length to the <code>uploads</code> array. Does the array store the current size of itself or rather upload-item-objects ?</p>\n\n<h3>See also</h3>\n\n<p><a href=\"https://stackoverflow.com/a/40462431/5730279\">A: remove item from stored array in angular 2</a></p>\n"}], "owner": {"reputation": 261, "user_id": 4114996, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/de6bf17cbf0158de1df5d422a7f901c2?s=128&d=identicon&r=PG&f=1", "display_name": "rob", "link": "https://stackoverflow.com/users/4114996/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1550311948, "creation_date": 1550081977, "last_edit_date": 1550084742, "question_id": 54676923, "link": "https://stackoverflow.com/questions/54676923/i-would-like-to-add-a-remove-button-in-my-angular-app", "title": "I would like to add a remove button in my Angular App", "body": "<p>I have an Angular App, I would like to add a remove button for a div element, I currently have an add button, which is as follows:</p>\n\n<p>ts file.</p>\n\n<pre><code>uploads = [];\n\n addUp() {\n    this.uploads.push(this.uploads.length);\n  }\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code>removeUp() {\n        this.uploads.remove(this.uploads.length);\n      }\n</code></pre>\n\n<p>This code is linked to this button as follows:</p>\n\n<pre><code>&lt;button class=\"btn\" (click)=\"addUp()\"&gt;Add&lt;/button&gt;\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>    &lt;div class=\"col\" *ngFor=\"let upload of uploads\"&gt;\n       &lt;h2&gt;Upload&lt;/h2&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>How would I do the remove version? </p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "edited": false, "score": 1, "creation_date": 1550081979, "post_id": 54676887, "comment_id": 96143067, "body": "Welcome.  Please read how to create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - for questions like this, it&#39;s required in order to understand the actual issue you are having.  Also, you can use your browser&#39;s developer tools to find out <i>exactly</i> what the API call is returning...."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1550082000, "post_id": 54676887, "comment_id": 96143075, "body": "That&#39;s definitely wrong. <code>return res</code> is <b>inside the callback</b>, your <code>getData</code> method overall returns <code>undefined</code>. I&#39;d recommend running through <a href=\"https://angular.io/tutorial\" rel=\"nofollow noreferrer\">angular.io/tutorial</a>, which includes how to handle async data. Also I&#39;d suggest putting some types in your method and property definitions, so <code>tsc</code> can tell you more about what&#39;s wrong."}], "answers": [{"tags": [], "owner": {"reputation": 638, "user_id": 8930031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOMfw.jpg?s=128&g=1", "display_name": "Max Wiederholt", "link": "https://stackoverflow.com/users/8930031/max-wiederholt"}, "is_accepted": false, "score": 0, "last_activity_date": 1550082652, "creation_date": 1550082652, "answer_id": 54677096, "question_id": 54676887, "link": "https://stackoverflow.com/questions/54676887/displaying-json-as-list-in-angular-7/54677096#54677096", "title": "Displaying JSON as list in Angular 7", "body": "<p>Angular's Tour of Heroes tutorial offers one way to retrieve a list of objects from a server in section 6, HTTP - Get Heroes with HTTPClient:</p>\n\n<pre><code>/** GET heroes from the server */\ngetHeroes (): Observable&lt;Hero[]&gt; {\n  return this.http.get&lt;Hero[]&gt;(this.heroesUrl)\n}\n</code></pre>\n\n<p>The rest of the tutorial (<a href=\"https://angular.io/tutorial\" rel=\"nofollow noreferrer\">https://angular.io/tutorial</a>) provides context for how to import the necessary modules to accomplish your task.</p>\n"}, {"tags": [], "owner": {"reputation": 9452, "user_id": 9662601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DFvyV.png?s=128&g=1", "display_name": "Samuel Philipp", "link": "https://stackoverflow.com/users/9662601/samuel-philipp"}, "is_accepted": false, "score": 0, "last_activity_date": 1550082995, "creation_date": 1550082995, "answer_id": 54677168, "question_id": 54676887, "link": "https://stackoverflow.com/questions/54676887/displaying-json-as-list-in-angular-7/54677168#54677168", "title": "Displaying JSON as list in Angular 7", "body": "<p>Your <code>getData()</code> method should return an Observable, because fetching data is asynchronous.</p>\n\n<p>In your component you can subscribe to that Observable and display the data if you receive them.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'app-some-data',\n  templateUrl: './some-data.component.html',\n  styleUrls: ['./some-data.component.css']\n})\nexport class SomeDataComponent implements OnInit {\n  data: any[];\n\n  constructor(private api: ApiService) { }\n\n  ngOnInit() {\n    this.api.getData().subscribe(data =&gt; this.data = data);\n  }\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n  &lt;div *ngFor=\"let item of data\"&gt;{{item | json}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable({\n  providedIn: 'root',\n})\nexport class ApiService {\n\n  // constructor, etc.\n\n  getData(): Observable&lt;any[]&gt; {\n    return this.http.post&lt;any[]&gt;('http://localhost/api/Acc/GetData', \"\");\n  }\n}\n</code></pre>\n\n<p>You also can subscribe to the observable in the html, via the <code>async</code> pipe.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'app-some-data',\n  templateUrl: './some-data.component.html',\n  styleUrls: ['./some-data.component.css']\n})\nexport class SomeDataComponent implements OnInit {\n  data: Observable&lt;any[]&gt;;\n\n  constructor(private api: ApiService) { }\n\n  ngOnInit() {\n    this.data = this.api.getData();\n  }\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div *ngIf=\"(data | async) as items\"&gt;\n  &lt;div *ngFor=\"let item of items\"&gt;{{item | json}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11058105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f477878b4ddd6bf26e5449cd18161278?s=128&d=identicon&r=PG&f=1", "display_name": "J Doe", "link": "https://stackoverflow.com/users/11058105/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3243, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1550082995, "creation_date": 1550081837, "last_edit_date": 1550082141, "question_id": 54676887, "link": "https://stackoverflow.com/questions/54676887/displaying-json-as-list-in-angular-7", "title": "Displaying JSON as list in Angular 7", "body": "<p>I want to display the list of the data (received as JSON) but it looks like I am missing something and it does not display the data. Here's my code:</p>\n\n<p>Service:</p>\n\n<pre><code> getData() {\n    this.http.post('http://localhost/api/Acc/GetData', \"\").subscribe(res =&gt; {\n    return res;\n   });\n }\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>  constructor(private api: ApiService) {\n     var data = api.getData();   \n  }\n</code></pre>\n\n<p>Template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-list&gt;\n&lt;mat-list-item *ngFor=\"let item of data\"&gt;\n&lt;h4 matLine&gt; {{item.Field1}} &lt;/h4&gt;\n&lt;/mat-list-item&gt;\n&lt;/mat-list&gt;\n</code></pre>\n\n<p>There are some weak points I can see:</p>\n\n<ol>\n<li><p>I am not sure if <code>getData</code> uses the proper way of returning the data</p></li>\n<li><p>I am not sure whether constructor properly stores the data, but I tried some other options and nothing helped.</p></li>\n</ol>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1550078058, "post_id": 54675850, "comment_id": 96141007, "body": "are you able to understand part of the error message?"}, {"owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "reply_to_user": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1550078122, "post_id": 54675850, "comment_id": 96141033, "body": "Sorry @Jota.Toledo not able too."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1550078350, "post_id": 54675850, "comment_id": 96141147, "body": "Does the error go away if you export <code>Message</code> and <code>Options</code> classes?"}, {"owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "edited": false, "score": 0, "creation_date": 1550078723, "post_id": 54675850, "comment_id": 96141366, "body": "Just now I have changed getting a different error. <a href=\"https://imgur.com/a/KZPWlNW\" rel=\"nofollow noreferrer\">imgur.com/a/KZPWlNW</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1286, "user_id": 9697689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DbHvNY6H8CE/AAAAAAAAAAI/AAAAAAAAAAs/PedGuDCORk8/photo.jpg?sz=128", "display_name": "nagender pratap chauhan", "link": "https://stackoverflow.com/users/9697689/nagender-pratap-chauhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1578290230, "creation_date": 1578290230, "answer_id": 59607323, "question_id": 54675850, "link": "https://stackoverflow.com/questions/54675850/references-to-a-non-exported-class-are-not-supported-in-decorators/59607323#59607323", "title": "References to a non-exported class are not supported in decorators", "body": "<p>The error is <strong>exporting</strong>.\n so guys use export keyword in front of <strong>class Message</strong> .</p>\n\n<p>hope this will remove your error during prod or aot build.</p>\n"}], "owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2459, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1578290230, "creation_date": 1550077833, "last_edit_date": 1550085134, "question_id": 54675850, "link": "https://stackoverflow.com/questions/54675850/references-to-a-non-exported-class-are-not-supported-in-decorators", "title": "References to a non-exported class are not supported in decorators", "body": "<p>I have recently upgraded the angular project from custom webpack configuration to angular-cli. Everything working as expected when I run <code>ng serve</code> but <code>ng build --prod</code> giving below error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0fjXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0fjXh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help me to resolve the issue?</p>\n\n<p><code>looger.ts</code> </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Message {\r\n    static show(name: string) {\r\n        return (ref?: any, ...parameters: any[]): void =&gt; {\r\n            //aadditional code\r\n        };\r\n    }\r\n}\r\n\r\nclass Options {\r\n    static level: string[] = ['error', 'warn', 'info', 'debug', 'log', 'dir'];\r\n    static moduleNames: string[] = [];\r\n    static set(level: string[], moduleNames?: string[]) {\r\n        //aadditional code\r\n    }\r\n}\r\n\r\nexport const Log = {\r\n    error: Message.show('error'),\r\n    warn:  Message.show('warn'),\r\n    info:  Message.show('info'),\r\n    debug: Message.show('debug'),\r\n    log:   Message.show('log'),\r\n    dir:   Message.show('dir'),\r\n    options: {\r\n        set: Options.set\r\n    }\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><code>app.module.ts</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {  Log as log } from 'logger';\r\n\r\n@NgModule({\r\n    providers: [\r\n        { provide: log, useValue: log }\r\n    ]\r\n})\r\nexport class AppModule {\r\n    constructor() {}\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-runner"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1550082460, "post_id": 54675698, "comment_id": 96143309, "body": "More broadly than your specific question, you shouldn&#39;t be mocking out parts of the component you&#39;re trying to test. Inject a mock <code>imageAPIService</code> and make sure its <code>getImage</code> method is invoked with the correct value - mock collaborators and test behaviour. This lets you control when the observable emits as well, using a subject. I wrote a blog post on testing: see <a href=\"https://blog.jonrshar.pe/2017/Apr/16/async-angular-tests.html\" rel=\"nofollow noreferrer\">blog.jonrshar.pe/2017/Apr/16/async-angular-tests.html</a>, there&#39;s also guidance in the docs: <a href=\"https://angular.io/guide/testing\" rel=\"nofollow noreferrer\">angular.io/guide/testing</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 2, "last_activity_date": 1550082174, "last_edit_date": 1550082174, "creation_date": 1550081172, "answer_id": 54676718, "question_id": 54675698, "link": "https://stackoverflow.com/questions/54675698/unit-test-failing-how-do-i-properly-select-and-click-a-components-button/54676718#54676718", "title": "Unit test failing: How do I properly select and click a components button", "body": "<p>You are almost there, but you will need to wait for the click event to be processed before checking if the method has been called.</p>\n\n<p>1) The most direct way to do it is to call <a href=\"https://angular.io/guide/testing#componentfixture-methods\" rel=\"nofollow noreferrer\">detectChanges()</a> to explicitly activate change detection.</p>\n\n<pre><code>it('clicking on settings icon will trigger openModal method', () =&gt; {\n  spyOn(component, 'getImageById');\n  component.searchId = '1';\n  submit = fixture.debugElement.query(By.css('#getimagebyid')).nativeElement;\n  submit.click();\n  fixture.detectChanges();\n  expect(component.getImageById).toHaveBeenCalled();\n  });\n</code></pre>\n\n<p>2) Alternatively, you may use <a href=\"https://angular.io/guide/testing#automatic-change-detection\" rel=\"nofollow noreferrer\">automatic change detection</a> on your .spec file.</p>\n\n<pre><code> import { ComponentFixtureAutoDetect, . . . . } from '@angular/core/testing';\n.\n.\nTestBed.configureTestingModule({\n  declarations: [ BannerComponent ],\n  providers: [\n    { provide: ComponentFixtureAutoDetect, useValue: true }\n  ]\n});\n</code></pre>\n\n<p>3) Handle it by using the <a href=\"https://angular.io/guide/testing#async-test-with-async\" rel=\"nofollow noreferrer\">async()</a> functionality to handle the asynchronous button clicking event. This is followed by calling <code>.whenStable()</code>, which returns the promise. </p>\n\n<pre><code>import { async, . . . . } from '@angular/core/testing';\n.\n.\nit('clicking on settings icon will trigger openModal method', async(() =&gt; {\n  spyOn(component, 'getImageById');\n  component.searchId = '1';\n  submit = fixture.debugElement.query(By.css('#getimagebyid')).nativeElement;\n  submit.click();\n\n  fixture.whenStable().then(() =&gt; {\n    expect(component.getImageById).toHaveBeenCalled();\n  });\n}));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 2296856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70f2002f66f5c768f1141265be1d53cc?s=128&d=identicon&r=PG", "display_name": "bodorgergely", "link": "https://stackoverflow.com/users/2296856/bodorgergely"}, "is_accepted": false, "score": 0, "last_activity_date": 1550081424, "creation_date": 1550081424, "answer_id": 54676785, "question_id": 54675698, "link": "https://stackoverflow.com/questions/54675698/unit-test-failing-how-do-i-properly-select-and-click-a-components-button/54676785#54676785", "title": "Unit test failing: How do I properly select and click a components button", "body": "<p>Easiest solution I can think of is:</p>\n\n<pre><code>it('should call getImageByID upon submit when a search id is present', () =&gt; {\n  const spy = spyOn(component, 'getImageById');\n  fixture.debugElement.query(By.css('#getimagebyid'))\n    .triggerEventHandler('click', null);\n  expect(spy).toHaveBeenCalledTimes(1);\n});\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 3668936, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1595070164/picture?type=large", "display_name": "Tyler B. Joudrey", "link": "https://stackoverflow.com/users/3668936/tyler-b-joudrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 54676718, "answer_count": 2, "score": 0, "last_activity_date": 1550082174, "creation_date": 1550077313, "question_id": 54675698, "link": "https://stackoverflow.com/questions/54675698/unit-test-failing-how-do-i-properly-select-and-click-a-components-button", "title": "Unit test failing: How do I properly select and click a components button", "body": "<p>I have a unit test here:</p>\n\n<pre><code>fit('should call getImageByID upon submit when a search id is present', () =&gt; {\n    spyOn(component, 'getImageById');\n    component.searchId = '1';\n    submit = fixture.debugElement.query(By.css('#getimagebyid')).nativeElement;\n    submit.click();\n    expect(component.getImageById).toHaveBeenCalled();\n  });\n</code></pre>\n\n<p>The unit test is failing as the expect is not met (The method is not being executed), what am I missing? Here is the component method not being triggered:</p>\n\n<pre><code>getImageById() {\n        this.imageAPIService.getImage(this.searchId).subscribe(res =&gt; {\n            this.response.id = (res as any).id;\n            this.response.image = (res as any).image;\n        });\n    }\n</code></pre>\n\n<p>and the html for the component:</p>\n\n<pre><code>&lt;h4&gt;Browse Images&lt;/h4&gt;\n&lt;div class=\"row\"&gt;\n    &lt;img *ngIf=\"response.id != null\" [src]=\"response.image[0].url\" height=\"200\"&gt;\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n    &lt;input [(ngModel)]=\"searchId\" type=\"text\"&gt;\n    &lt;button class=\"btn btn-block btn-primary\" id=\"getimagebyid\" [disabled]=\"!searchId\" (click)=\"getImageById(searchId)\"&gt;Search&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "customization", "bokeh", "bokehjs"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10958398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a6097b36e49fe85c571bbb72bb1b60?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/10958398/david-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1550138386, "creation_date": 1550138386, "answer_id": 54687671, "question_id": 54675695, "link": "https://stackoverflow.com/questions/54675695/how-to-implement-custom-bokehjs-extension-that-consumes-a-source-like-image-rgb/54687671#54687671", "title": "How to implement custom bokehjs extension that consumes a source, like image_rgba does?", "body": "<p>Ah, I forgot to change the python model's property to NumberSpec too:</p>\n\n<pre><code>class CustomModel(LayoutDOM):\n    __implementation__ = '...'\n\n    source = Instance(ColumnDataSource)\n    dx = NumberSpec()\n    dy = NumberSpec()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10958398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7a6097b36e49fe85c571bbb72bb1b60?s=128&d=identicon&r=PG&f=1", "display_name": "David L", "link": "https://stackoverflow.com/users/10958398/david-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550138386, "creation_date": 1550077310, "last_edit_date": 1550137371, "question_id": 54675695, "link": "https://stackoverflow.com/questions/54675695/how-to-implement-custom-bokehjs-extension-that-consumes-a-source-like-image-rgb", "title": "How to implement custom bokehjs extension that consumes a source, like image_rgba does?", "body": "<p>I'm creating a custom extension for bokeh. It's all working and the example in the documentation was useful. However, I'm trying to mirror what image_rgba does, namely with images you can do:</p>\n\n<pre><code>figure.image_rgba(\n  image=\"image_path_in_source\", \n  source=ColumnDataSource(dict(image_path_in_source=[np.array(...)]))\n)\n# or\nfigure.image_rgba(image=[np.array(...)])\n</code></pre>\n\n<p>I looked into the source code to recreate the official way to implement this, but I'm getting an error. Let me explain in code:</p>\n\n<p>My custom model defines:</p>\n\n<pre><code>CustomModel.define({\n    source: [p.Instance],\n    dx: [p.NumberSpec],\n    dy: [p.NumberSpec]\n});\n</code></pre>\n\n<p>And the plan is to use the dataspec construct when source changes:</p>\n\n<pre><code>const data = this.model.materialize_dataspecs(source);\n</code></pre>\n\n<p>But when I send a <code>string</code> for <code>dx</code> from python side, it complains:</p>\n\n<pre><code>Number property 'dx' given invalid value: \"path_to_dx\"\n    at e.validate (properties.js:134)\n    at e.t._init (properties.js:112)\n    at e.t.update (properties.js:46)\n</code></pre>\n\n<p>Which is obviously true since I said it would be a <code>NumberSpec</code> and I sent a <code>string</code>. But how do I do this correctly?</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "compiler-errors", "babeljs"], "answers": [{"tags": [], "owner": {"reputation": 1024, "user_id": 2783993, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2390de504a5cb8a8a625a2ff16b0f1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Maksakov", "link": "https://stackoverflow.com/users/2783993/dmitry-maksakov"}, "is_accepted": true, "score": 28, "last_activity_date": 1550089105, "creation_date": 1550089105, "answer_id": 54678755, "question_id": 54675587, "link": "https://stackoverflow.com/questions/54675587/babel-typescript-doesnt-throw-errors-while-webpack-build/54678755#54678755", "title": "@babel/typescript doesn&#39;t throw errors while webpack build", "body": "<p>As far as I understand, the Babel team disabled type checking while development: </p>\n\n<p><a href=\"https://iamturns.com/typescript-babel\" rel=\"noreferrer\">https://iamturns.com/typescript-babel</a></p>\n\n<blockquote>\n  <p>How does Babel handle TypeScript code? It removes it.</p>\n  \n  <p>Yep, it strips out all the TypeScript, turns it into \u201cregular\u201d\n  JavaScript, and continues on its merry way.</p>\n</blockquote>\n\n<p>But there is a workaround with <a href=\"https://github.com/Realytics/fork-ts-checker-webpack-plugin\" rel=\"noreferrer\">fork-ts-checker-webpack-plugin</a></p>\n\n<p>Just install it as a dependency </p>\n\n<pre><code>npm install --save-dev fork-ts-checker-webpack-plugin\n</code></pre>\n\n<p>And update your webpack config:</p>\n\n<pre><code>const ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\n\nconst webpackConfig = {\n  ...\n  plugins: [\n    new ForkTsCheckerWebpackPlugin()\n  ]\n};\n</code></pre>\n\n<p>After that, you will have static type checking running in a separate process, which is fantastic due to it speeds up you build dramatically.</p>\n"}], "owner": {"reputation": 1024, "user_id": 2783993, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2390de504a5cb8a8a625a2ff16b0f1c7?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Maksakov", "link": "https://stackoverflow.com/users/2783993/dmitry-maksakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5130, "favorite_count": 5, "accepted_answer_id": 54678755, "answer_count": 1, "score": 15, "last_activity_date": 1550089105, "creation_date": 1550077050, "question_id": 54675587, "link": "https://stackoverflow.com/questions/54675587/babel-typescript-doesnt-throw-errors-while-webpack-build", "title": "@babel/typescript doesn&#39;t throw errors while webpack build", "body": "<p>I am trying to transpile TypeScript with Babel 7's @babel/typescript preset. It works fine but for some reason, there aren't any error messages from TS in the build console.</p>\n\n<p>I have the next config:</p>\n\n<p>webpack.config.js</p>\n\n<pre><code>const outputPath = require('path').resolve(__dirname, './production');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n\nmodule.exports = {\n\n  entry: [\n    './src/index.tsx'\n  ],\n\n  output: {\n    path: outputPath,\n    filename: '[name].[chunkhash].js',\n  },\n\n  module: {\n    rules: [\n      {\n        test: /\\.(ts|tsx)$/,\n        exclude: /node_modules/,\n        loader: 'babel-loader',\n      },\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: 'source-map-loader',\n        enforce: \"pre\"\n      },\n      {\n        test: /\\.(jpe?g|png|gif|svg)$/i,\n        loader: 'file-loader'\n      },\n      {\n        test: /\\.(eot|svg|ttf|woff|woff2)$/,\n        loader: 'file-loader'\n      }\n    ]\n  },\n\n  plugins: [\n    new HtmlWebpackPlugin({template: './src/index.html'})\n  ],\n\n  resolve: {\n    extensions: ['.js', '.jsx', '.ts', '.tsx']\n  },\n\n  devServer: {\n    contentBase: outputPath\n  }\n};\n</code></pre>\n\n<p>.babelrc</p>\n\n<pre><code>{\n  \"presets\": [\n    \"@babel/preset-env\",\n    \"@babel/typescript\",\n    \"@babel/preset-react\"\n  ],\n  \"plugins\": [\n    \"react-hot-loader/babel\",\n    \"@babel/plugin-transform-runtime\",\n  ]\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"jsx\": \"react\",\n    \"outDir\": \"./production/\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"lib\": [\"esnext\", \"dom\"]\n  },\n  \"include\": [\n    \"./src/**/*\"\n  ]\n}\n</code></pre>\n\n<p>And output is:</p>\n\n<pre><code>\u2139 \uff62wds\uff63: Project is running at http://localhost:8080/\n\u2139 \uff62wds\uff63: webpack output is served from /\n\u2139 \uff62wds\uff63: Content not from webpack is served from /Users/me/projects/react/production\n\u2139 \uff62wdm\uff63: Hash: 1186927fe343142edc70\nVersion: webpack 4.29.3\nTime: 1120ms\nBuilt at: 2019-02-13 19:41:10\n                       Asset       Size  Chunks             Chunk Names\n                  index.html  433 bytes          [emitted]  \nmain.3bb79f4b9e2925734f50.js   1.64 MiB    main  [emitted]  main\nEntrypoint main = main.3bb79f4b9e2925734f50.js\n[0] multi (webpack)-dev-server/client?http://localhost:8080 ./src/index.tsx 40 bytes {main} [built]\n...\n\u2139 \uff62wdm\uff63: Compiled successfully.\n</code></pre>\n\n<p>It says that there aren't any errors. But there are TS errors in the code.</p>\n\n<p>If I change babel-loader to ts-loader, I will have:</p>\n\n<pre><code>\u2139 \uff62wds\uff63: Project is running at http://localhost:8080/\n\u2139 \uff62wds\uff63: webpack output is served from /\n\u2139 \uff62wds\uff63: Content not from webpack is served from /Users/me/projects/react/production\n\u2716 \uff62wdm\uff63: Hash: 90ec6ae13f842d672d2d\nVersion: webpack 4.29.3\nTime: 1941ms\nBuilt at: 2019-02-13 19:42:35\n                       Asset       Size  Chunks             Chunk Names\n                  index.html  433 bytes          [emitted]  \nmain.90f2073400581ecd9e5b.js   1.59 MiB    main  [emitted]  main\nEntrypoint main = main.90f2073400581ecd9e5b.js\n\n...\n\nERROR in /Users/me/projects/react/src/actions/index.ts\n./src/actions/index.ts\n[tsl] ERROR in /Users/me/projects/react/src/actions/index.ts(3,28)\n      TS7006: Parameter 'type' implicitly has an 'any' type.\n\nERROR in /Users/me/projects/react/src/actions/index.ts\n./src/actions/index.ts\n[tsl] ERROR in /Users/me/projects/react/src/actions/index.ts(3,34)\n      TS7019: Rest parameter 'argNames' implicitly has an 'any[]' type.\n\n...\n\n\u2139 \uff62wdm\uff63: Failed to compile.\n</code></pre>\n\n<p>So, ts-loader shows the errors.</p>\n\n<p>How can I enable errors throwing for @babel/typescript?</p>\n"}, {"tags": ["typescript", "tensorflow.js"], "answers": [{"tags": [], "owner": {"reputation": 388, "user_id": 4620643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1GhJD.jpg?s=128&g=1", "display_name": "SparkierFlunky", "link": "https://stackoverflow.com/users/4620643/sparkierflunky"}, "is_accepted": true, "score": 3, "last_activity_date": 1615315307, "last_edit_date": 1615315307, "creation_date": 1550211962, "answer_id": 54703707, "question_id": 54675549, "link": "https://stackoverflow.com/questions/54675549/tfjs-throws-ts2411-as-error-when-importing-using-typescript/54703707#54703707", "title": "TFJS throws TS2411 as error when importing using Typescript", "body": "<p>After some interaction with the tfjs team, we could track down the issue. The problem indeed is in the typescript configuration.\nIf the flag: <code>&quot;strictNullChecks&quot;: true</code> is set, typescript throws the aforementioned compilation error. Since this flag is included in <code>&quot;strict&quot;: true</code>, which in turn is included in the default typescript configuration, this is unwanted behaviour.</p>\n<p>As a temporary workaround, one can use <code>skipLibCheck</code> to only check their own code and not the dependencies.</p>\n<p>The Issue related to this can be found here: <a href=\"https://github.com/tensorflow/tfjs/issues/1241\" rel=\"nofollow noreferrer\">Issue on tfjs</a></p>\n"}], "owner": {"reputation": 388, "user_id": 4620643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1GhJD.jpg?s=128&g=1", "display_name": "SparkierFlunky", "link": "https://stackoverflow.com/users/4620643/sparkierflunky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 54703707, "answer_count": 1, "score": 1, "last_activity_date": 1615315307, "creation_date": 1550076913, "last_edit_date": 1550212319, "question_id": 54675549, "link": "https://stackoverflow.com/questions/54675549/tfjs-throws-ts2411-as-error-when-importing-using-typescript", "title": "TFJS throws TS2411 as error when importing using Typescript", "body": "<p>I try to import tfjs in a Typescript environment. However, I get the following error:</p>\n\n<blockquote>\n  <p>node_modules/@tensorflow/tfjs-layers/dist/keras_format/types.d.ts:12:5 - error TS2411: Property 'config' of type 'T' is not assignable to string index type 'PyJsonValue'.</p>\n</blockquote>\n\n<p>This can be easily reproduced with the following steps:</p>\n\n<pre><code>npm init\nnpm i @tensorflow/tfjs\nnpm i typescript\n</code></pre>\n\n<p>Create a index.ts:</p>\n\n<pre><code>import * as tf from '@tensorflow/tfjs';\n\n// Define a model for linear regression.\nconst model = tf.sequential();\n</code></pre>\n\n<p>Configure and compile:</p>\n\n<pre><code>tsc --init\ntsc\n</code></pre>\n\n<p>The <code>package.json</code> then contains the following:</p>\n\n<pre><code>\"dependencies\": {\n  \"@tensorflow/tfjs\": \"^0.15.1\",\n  \"typescript\": \"3.3.3\"\n}\n</code></pre>\n\n<p>And the <code>tsconfig</code> looks like this:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",                     \n    \"strict\": true,                           \n    \"esModuleInterop\": true                   \n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10076254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0a9ac336f70205a1b51fe2b23f487a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Ball", "link": "https://stackoverflow.com/users/10076254/mike-ball"}, "edited": false, "score": 1, "creation_date": 1550078165, "post_id": 54675767, "comment_id": 96141054, "body": "I figured there was a flaw in my original code, since it wasn&#39;t doing what I wanted it to :P I&#39;ve never seen the <code>in</code> syntax before, learning about it now. Thanks for the help."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": true, "score": 0, "last_activity_date": 1550077814, "last_edit_date": 1550077814, "creation_date": 1550077506, "answer_id": 54675767, "question_id": 54675473, "link": "https://stackoverflow.com/questions/54675473/a-function-that-wraps-a-value-in-an-object/54675767#54675767", "title": "A function that wraps a value in an object?", "body": "<p>Pretty basic thing:</p>\n\n<pre><code>function wrap&lt;V, K extends string&gt;(v: V, k: K): {[K2 in K]: V} {\n    return {[k]: v} as {[K2 in K]: V}\n}\nlet wrapped = wrap(1, 'a'); // {a: number}\n</code></pre>\n\n<p>P.S. Your original code has a flaw: you try to do both constraining return type and inferring it, which usually makes TS go nuts or produce <code>any</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 10076254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e0a9ac336f70205a1b51fe2b23f487a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Ball", "link": "https://stackoverflow.com/users/10076254/mike-ball"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 54675767, "answer_count": 1, "score": 0, "last_activity_date": 1550077814, "creation_date": 1550076695, "last_edit_date": 1550077262, "question_id": 54675473, "link": "https://stackoverflow.com/questions/54675473/a-function-that-wraps-a-value-in-an-object", "title": "A function that wraps a value in an object?", "body": "<p>I'm trying to write a function that takes a value and wraps it in a object with a single property, whose name is provided as a string. So something like</p>\n\n<pre><code>let wrapped = wrap(1, 'a'); // wrapped: { a: number }\n</code></pre>\n\n<p>So far the closest I've come is</p>\n\n<pre><code>function wrap&lt;T, P extends keyof T, V extends T[P]&gt;(value: V, prop: keyof T): T;\nlet wrapped = wrap(1, 'a'); // wrapped: { a: any }\n</code></pre>\n\n<p>It's inferring the type arguments as <code>&lt;{ a: any; }, \"a\", number&gt;</code></p>\n\n<p>The reason I want this is because we need to combine objects a lot in our code, and a lot of our helper functions return just the value, but we need the value as a property of an object to combine it. We can't just use regular inline object creation syntax because the functions are all asynchronous, I'd like to be able to do something like</p>\n\n<pre><code>combine(\n    largeStateFunction(), // Observable&lt;LargeState&gt;\n    wrap(singleValueFunction(), \"oneMoreThing\") // Observable&lt;number&gt;\n).subscribe(state =&gt; // state: LargeState &amp; { oneMoreThing: number }\n{\n    // do work\n});\n</code></pre>\n\n<p>Is this even possible without needing to provide type parameters for <code>wrap</code>?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1550083092, "creation_date": 1550083092, "answer_id": 54677193, "question_id": 54675356, "link": "https://stackoverflow.com/questions/54675356/typescript-mixins-doesnt-work-with-generic-from-parent/54677193#54677193", "title": "Typescript mixins doesn&#39;t work with generic from parent", "body": "<p>Solution</p>\n\n<pre><code>....\nclass _Base extends A&lt;{ id: string }&gt; { }\n\nclass B extends mixinTest(_Base) {\n}\n\nnew B('Hey!').methodA();\n</code></pre>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 54677193, "answer_count": 1, "score": 0, "last_activity_date": 1550083092, "creation_date": 1550076351, "question_id": 54675356, "link": "https://stackoverflow.com/questions/54675356/typescript-mixins-doesnt-work-with-generic-from-parent", "title": "Typescript mixins doesn&#39;t work with generic from parent", "body": "<p>I'm trying to implement mixins in typescript and get autocomplete from the mixin class also. Here's my code:</p>\n\n<pre><code>export type Constructor&lt;T&gt; = new (...args: any[]) =&gt; T;\n\nexport interface Test {\n  methodA();\n  methodB();\n}\n\n\nexport type TestCtor = Constructor&lt;Test&gt;;\n\n\nexport function mixinTest&lt;T extends Constructor&lt;{}&gt;&gt;(base: T): TestCtor &amp; T {\n  return class extends base {\n\n    constructor(...args: any[]) { super(...args); }\n\n    methodA() { }\n\n    methodB() {}\n\n  };\n}\n\nclass A&lt;T&gt; { \n  value: T;\n\n  constructor(param: string) {}\n}\n\nclass B extends mixinTest(A&lt;{id: string}&gt;) {\n}\n\nnew B().methodA();\n</code></pre>\n\n<blockquote>\n  <p>But I'm getting the error: No base constructor has the number\n  specified of arguments</p>\n</blockquote>\n\n<p>or with the generic:</p>\n\n<blockquote>\n  <p>expected 1 argument but got 3</p>\n</blockquote>\n\n<p>What am I missing?</p>\n"}, {"tags": ["typescript", "import"], "answers": [{"comments": [{"owner": {"reputation": 9158, "user_id": 5661749, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bfce0337e55d86e870cf19cfc9e7226c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5661749/chris"}, "edited": false, "score": 0, "creation_date": 1550075508, "post_id": 54675003, "comment_id": 96139560, "body": "I have also tried with just tsc. There are .js files for all corresponding .ts files but it is still the same problem"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 9158, "user_id": 5661749, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bfce0337e55d86e870cf19cfc9e7226c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5661749/chris"}, "edited": false, "score": 0, "creation_date": 1550075690, "post_id": 54675003, "comment_id": 96139677, "body": "Hm, strange - I wouldn&#39;t expect Node to resolve <code>require(&quot;.&#47;User&quot;)</code> to the TypeScript file unless it the code specifically asked for <code>require(&quot;.&#47;User.ts&quot;)</code>..."}], "tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": false, "score": 0, "last_activity_date": 1550075222, "creation_date": 1550075222, "answer_id": 54675003, "question_id": 54674750, "link": "https://stackoverflow.com/questions/54674750/js-require-import-ts-file-instead-of-js/54675003#54675003", "title": "js require import .ts file instead of .js", "body": "<p>The TypeScript compiler won't automatically compile things that you import - if that's something you want, you're best off using something like Webpack or Parcel. To get all of the files in your project to compile and import properly, you'll have to explicitly ask <code>tsc</code> to do so.</p>\n\n<p>There's two ways you can do this:</p>\n\n<ul>\n<li>Pass multiple arguments to <code>tsc</code> - e.g. <code>tsc index.ts User.ts</code>.</li>\n<li>If you have a <code>.tsconfig</code> file in the directory, you can just run <code>tsc</code> to compile all <code>.ts</code> files. Note that if you have a <code>files</code> list in your <code>.tsconfig</code>, it'll just compile those files.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 5594845, "user_type": "registered", "profile_image": "https://graph.facebook.com/801780083240840/picture?type=large", "display_name": "Meshack Mbuvi", "link": "https://stackoverflow.com/users/5594845/meshack-mbuvi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560689412, "last_edit_date": 1560689412, "creation_date": 1560688476, "answer_id": 56618883, "question_id": 54674750, "link": "https://stackoverflow.com/questions/54674750/js-require-import-ts-file-instead-of-js/56618883#56618883", "title": "js require import .ts file instead of .js", "body": "<p>I think the problem is how you have configured you ormconfig.json\nIt should look like this:</p>\n\n<pre><code>{\n...\n\"entities\": [\n// change \"src/entity/*.ts to\n\n\"dist/entity/*.js\"\n],\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 9158, "user_id": 5661749, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/bfce0337e55d86e870cf19cfc9e7226c?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5661749/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560689412, "creation_date": 1550074513, "question_id": 54674750, "link": "https://stackoverflow.com/questions/54674750/js-require-import-ts-file-instead-of-js", "title": "js require import .ts file instead of .js", "body": "<p>I have a index.ts and a User.ts file</p>\n\n<p>the index.ts file imports User:</p>\n\n<pre><code>import User from './User'\n</code></pre>\n\n<p>I then use tsc to transpile the ts files to js files and then I run the index file:</p>\n\n<p>tsc index.ts\nnode index.js</p>\n\n<p>Unfortunately this gives me this error:</p>\n\n<pre><code>(node:1672) UnhandledPromiseRejectionWarning: C:\\temp\\dev\\models\\User.ts:1\n(function (exports, require, module, __filename, __dirname) { import {Column, Entity, JoinColumn, ManyToOne, OneToMany, PrimaryGeneratedColumn} from \"typeorm\"\n                                                              ^^^^^^\n\nSyntaxError: Unexpected token import\n</code></pre>\n\n<p>So it seems that my import statement <code>import User from './User'</code> is transpiled to <code>User = require('./User')</code> and still imports the User.ts file instead of the User.js</p>\n"}, {"tags": ["reactjs", "typescript", "react-native"], "comments": [{"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 1, "creation_date": 1550074585, "post_id": 54674576, "comment_id": 96138951, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/6579#issuecomment-261519733\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a> and from that point on there is more conversation regarding regex as type"}], "answers": [{"tags": [], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550074669, "creation_date": 1550074669, "answer_id": 54674811, "question_id": 54674576, "link": "https://stackoverflow.com/questions/54674576/typescript-is-it-possible-validate-string-types-based-on-pattern-matching-or-e/54674811#54674811", "title": "TypeScript - is it possible validate string types based on pattern matching or even length?", "body": "<p>this is not possible. check discussion on <a href=\"https://github.com/Microsoft/TypeScript/issues/6579\" rel=\"nofollow noreferrer\">github</a></p>\n"}, {"comments": [{"owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "edited": false, "score": 1, "creation_date": 1550086382, "post_id": 54675049, "comment_id": 96145081, "body": "hm that&#39;s a shame but I guess it&#39;s better than nothing. Ultimately I think this is inappropriate for my use case but I appreciate the info and examples nonetheless."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1550075335, "creation_date": 1550075335, "answer_id": 54675049, "question_id": 54674576, "link": "https://stackoverflow.com/questions/54674576/typescript-is-it-possible-validate-string-types-based-on-pattern-matching-or-e/54675049#54675049", "title": "TypeScript - is it possible validate string types based on pattern matching or even length?", "body": "<p>Not at compile-time, no.  There is a <a href=\"https://github.com/Microsoft/TypeScript/issues/6579\" rel=\"noreferrer\">suggestion</a> to allow regular-expression validated string types, but it's not clear that it will ever be implemented.  If you want to go to that suggestion and give it a \ud83d\udc4d or describe a compelling use case that isn't already listed, it couldn't hurt (but it probably won't really help either).</p>\n\n<p>In lieu of official support, you could: </p>\n\n<ul>\n<li><p>build an enormous union type of every matching string literal, but that is likely prohibitively expensive for such a wide type:</p>\n\n<pre><code>type ValidColorString = '#000' | '#001' | '#002' | ... //forget it \u2639\n</code></pre></li>\n<li><p>Make a nominal-ish subtype of <code>string</code> and use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"noreferrer\">user-defined type guard</a> to narrow <code>string</code> values to it... and then jump through all sorts of hoops to use it:</p>\n\n<pre><code>type ValidColorString = string &amp; { __validColorString: true };\n\nfunction isValidColorString(x: string): x is ValidColorString {\n  const re = /#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?/g; // you want hex, right?\n  return re.test(x);\n}\n</code></pre>\n\n<p>Usage:     </p>\n\n<pre><code>const textProps: ITextProps = {\n  color: \"#abc\"\n}; // error, compiler doesn't know that \"#abc\" is a ValidColorString\n\nconst color = \"#abc\";\nif (isValidColorString(color)) {\n  const textProps2: ITextProps = {\n    color: color\n  }; // okay now\n} else {\n  throw new Error(\"The world has ended\");\n}\n</code></pre></li>\n</ul>\n\n<p>The latter isn't perfect, but it at least gets you a bit closer to enforcing such constraints.</p>\n\n<p>Hope that gives you some ideas; good luck!</p>\n"}], "owner": {"reputation": 4828, "user_id": 8378419, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2772206b4d6afcbdfe7485286554190d?s=128&d=identicon&r=PG&f=1", "display_name": "Robbie Milejczak", "link": "https://stackoverflow.com/users/8378419/robbie-milejczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2466, "favorite_count": 1, "accepted_answer_id": 54675049, "answer_count": 2, "score": 2, "last_activity_date": 1550075335, "creation_date": 1550074058, "question_id": 54674576, "link": "https://stackoverflow.com/questions/54674576/typescript-is-it-possible-validate-string-types-based-on-pattern-matching-or-e", "title": "TypeScript - is it possible validate string types based on pattern matching or even length?", "body": "<p>Consider the following component, which uses a library called <code>styled-components</code> to create a prestyled <code>Text</code> component:</p>\n\n<pre><code>const StyledText = styled(Text)`\n  font-family: Roboto;\n  color: ${(props: ITextProps) =&gt; props.color || '#000' }; \n`\n</code></pre>\n\n<p>where <code>ITextProps</code> is:</p>\n\n<pre><code>interface ITextProps {\n  color: string;\n}\n</code></pre>\n\n<p>Is there a way to enforce that only valid hex strings are passed to my component?</p>\n\n<p>Ideally the color prop should always match the pattern <code>/#\\d{3}(\\d{3})?/g</code>, a # followed by at least 3 digits and optionally 3 more digits. If that's not possible, then is there a way to at least enforce that the string is either 4 or 7 characters long?</p>\n\n<p>My research has brought me to a dead end so I'm wondering if anyone on SO might know how I can implement this behavior in TypeScript.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 2, "creation_date": 1550073999, "post_id": 54674518, "comment_id": 96138579, "body": "I don&#39;t think you need both - just <code>esModuleInterop</code> should work on newer versions of TypeScript. As far as I understand it, <code>allowSyntheticDefaultImports</code> just disables the error (forcing you to rely on a module loader/bundler to emit the compatibility code), whereas <code>esModuleInterop</code> will work even if you&#39;re just using TypeScript alone."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1550074734, "post_id": 54674518, "comment_id": 96139046, "body": "Aha, I just looked at the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">list of compiler options</a> - apparently <code>esModuleInterop</code> implicitly enables <code>allowSyntheticDefaultImports</code>. So you don&#39;t need to specify it, but it won&#39;t hurt to do so either :)"}], "tags": [], "owner": {"reputation": 6167, "user_id": 892071, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9a2998eaa4b19b9e6666464a455f0b8f?s=128&d=identicon&r=PG", "display_name": "Ciar&#225;n Tobin", "link": "https://stackoverflow.com/users/892071/ciar%c3%a1n-tobin"}, "is_accepted": false, "score": 2, "last_activity_date": 1550073869, "creation_date": 1550073869, "answer_id": 54674518, "question_id": 54674392, "link": "https://stackoverflow.com/questions/54674392/react-with-typescript-how-to-import-methods/54674518#54674518", "title": "React with TypeScript - how to import methods", "body": "<p>Add these options to your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowSyntheticDefaultImports\": true,\n        \"esModuleInterop\": true,\n        ...\n    },\n    ...\n}\n</code></pre>\n\n<p>And then you can do:</p>\n\n<pre><code>import React, { Fragment } from 'react';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31569, "user_id": 4035, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/dWVIl.png?s=128&g=1", "display_name": "dance2die", "link": "https://stackoverflow.com/users/4035/dance2die"}, "edited": false, "score": 0, "creation_date": 1550074586, "post_id": 54674521, "comment_id": 96138953, "body": "This is a great tip, Thanks Joe \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": true, "score": 3, "last_activity_date": 1550073879, "creation_date": 1550073879, "answer_id": 54674521, "question_id": 54674392, "link": "https://stackoverflow.com/questions/54674392/react-with-typescript-how-to-import-methods/54674521#54674521", "title": "React with TypeScript - how to import methods", "body": "<p>As of TypeScript 2.7, you can turn on <code>esModuleInterop</code> in your .tsconfig file in order to make imports work like they do in normal JavaScript. This is disabled by default for backwards compatibility reasons, but the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html\" rel=\"nofollow noreferrer\">release notes</a> say:</p>\n\n<blockquote>\n  <p>We highly recommend applying it both to new and existing projects.</p>\n</blockquote>\n"}], "owner": {"reputation": 227, "user_id": 10151744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7c036d93772252f53286da687c74e7?s=128&d=identicon&r=PG&f=1", "display_name": "JS_Dev", "link": "https://stackoverflow.com/users/10151744/js-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 54674521, "answer_count": 2, "score": 2, "last_activity_date": 1550073879, "creation_date": 1550073509, "question_id": 54674392, "link": "https://stackoverflow.com/questions/54674392/react-with-typescript-how-to-import-methods", "title": "React with TypeScript - how to import methods", "body": "<p>In React with TypeScript I gather you import using <code>import * as React from 'react';</code>.</p>\n\n<p>If I'm wanting to use <code>useState</code> and <code>Fragment</code> for example, I know I could just use <code>React.useState</code> and <code>React.Fragment</code>. However, is there any way to destructure those in the import? I know without TypeScript you'd do...</p>\n\n<p><code>import react, { useState, Fragment } from 'react';</code></p>\n\n<p>Would you have to do two imports instead, like....</p>\n\n<pre><code>import * as React from 'react';\nimport { useState, Fragment } from 'react';\n</code></pre>\n\n<p>Or would that import those twice? Seems a bit clunky too.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1550070760, "post_id": 54673393, "comment_id": 96136589, "body": "Your mapping HOF doesn&#39;t return an instance of QuizWord, it returns a POJO you&#39;re <i>casting</i> to QuizWord, and it has no <code>test2</code> property, only a name."}, {"owner": {"reputation": 302, "user_id": 1701580, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6ZEta.jpg?s=128&g=1", "display_name": "\u30e8\u30cf\u30f3\u30bd\u30f3", "link": "https://stackoverflow.com/users/1701580/%e3%83%a8%e3%83%8f%e3%83%b3%e3%82%bd%e3%83%b3"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1550071967, "post_id": 54673393, "comment_id": 96137358, "body": "@JaredSmith thank you now I understand!"}], "answers": [{"comments": [{"owner": {"reputation": 302, "user_id": 1701580, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6ZEta.jpg?s=128&g=1", "display_name": "\u30e8\u30cf\u30f3\u30bd\u30f3", "link": "https://stackoverflow.com/users/1701580/%e3%83%a8%e3%83%8f%e3%83%b3%e3%82%bd%e3%83%b3"}, "edited": false, "score": 0, "creation_date": 1550072004, "post_id": 54673679, "comment_id": 96137381, "body": "Thank you a lot! Now I understand. Too bad you can&#39;t define properties within brackets and must use the constructor but it&#39;s no problem."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 302, "user_id": 1701580, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6ZEta.jpg?s=128&g=1", "display_name": "\u30e8\u30cf\u30f3\u30bd\u30f3", "link": "https://stackoverflow.com/users/1701580/%e3%83%a8%e3%83%8f%e3%83%b3%e3%82%bd%e3%83%b3"}, "edited": false, "score": 0, "creation_date": 1550072108, "post_id": 54673679, "comment_id": 96137443, "body": "Yes, you can&#39;t, because the brackets define the type, not construct the class. Assignment happen in the constructor, not in the type definition (maybe it will change later) :D. Should we mark this as done?"}, {"owner": {"reputation": 302, "user_id": 1701580, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6ZEta.jpg?s=128&g=1", "display_name": "\u30e8\u30cf\u30f3\u30bd\u30f3", "link": "https://stackoverflow.com/users/1701580/%e3%83%a8%e3%83%8f%e3%83%b3%e3%82%bd%e3%83%b3"}, "edited": false, "score": 0, "creation_date": 1550072335, "post_id": 54673679, "comment_id": 96137601, "body": "Ahh I see. We will:)"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": true, "score": 2, "last_activity_date": 1550071464, "creation_date": 1550071464, "answer_id": 54673679, "question_id": 54673393, "link": "https://stackoverflow.com/questions/54673393/property-is-undefined-even-if-it-is-defined-in-class/54673679#54673679", "title": "property is undefined even if it is defined in class", "body": "<p>Your code here</p>\n\n<pre><code>    return &lt;QuizWord&gt;({\n        name: a.name\n    });\n</code></pre>\n\n<p>doesn't transform the returned data to <code>QuizWord</code>. It just tells Typescript that it is a <code>Quizword</code> item, and in this case, it is not true.</p>\n\n<p>Basically, <code>QuizWord</code> is a class, so to assign a value, you need to construct it.\nYou can implement it like this</p>\n\n<pre><code>export class QuizWord {\n    public test2: string = \"hi\";\n\n    constructor(\n        public name: string,\n    ){ }\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>    return new QuizWord(a.name);\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>    return &lt;QuizWord&gt;({\n        name: a.name\n    });\n</code></pre>\n"}], "owner": {"reputation": 302, "user_id": 1701580, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6ZEta.jpg?s=128&g=1", "display_name": "\u30e8\u30cf\u30f3\u30bd\u30f3", "link": "https://stackoverflow.com/users/1701580/%e3%83%a8%e3%83%8f%e3%83%b3%e3%82%bd%e3%83%b3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 54673679, "answer_count": 1, "score": 1, "last_activity_date": 1550071464, "creation_date": 1550070614, "last_edit_date": 1550071023, "question_id": 54673393, "link": "https://stackoverflow.com/questions/54673393/property-is-undefined-even-if-it-is-defined-in-class", "title": "property is undefined even if it is defined in class", "body": "<p>I have trouble calling just a single property from my class.\nDid I do mapping wrong? Thing is that map a new array with QuizWord objects and my mapping works great. But I have properties and methods inside the class that I want to call later on which should go with the object. But they don't. How come? I thought I defined new objects when mapping them. </p>\n\n<p>It started with me want to use a simple foreach loop and loop through the objects and calling a method to add things to the object, but I can't call any methods. </p>\n\n<p>Below is some of my code.</p>\n\n<pre><code>let list: Array&lt;QuizWord&gt; = words.map((a) =&gt; {\n    return &lt;QuizWord&gt;({\n        name: a.name\n    });\n});\n\nlet letstrythisinstead: QuizWord = new QuizWord();\nconsole.log(letstrythisinstead.test2); // this is not undefined. it works! \n\nlist.forEach((q: QuizWord) =&gt; {\n    console.log(q.name); // prints name correctly after mapping above\n    console.log(q.test2) // is undefined. why? I have defined it in my class..\n});\n\nexport class QuizWord {\n    public test2: string = \"hi\";\n    public name: string;\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "for-loop"], "comments": [{"owner": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "edited": false, "score": 1, "creation_date": 1550070296, "post_id": 54673240, "comment_id": 96136282, "body": "<code>const c</code> inside of a loop feels incorrect.... interesting you are using <code>var</code> elsewhere.  Probably should be <code>let</code>, and <code>let c</code> <i>outside</i> of the loop."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550070307, "post_id": 54673240, "comment_id": 96136290, "body": "Need to find the dupe of fill().... you are filling every row with the same array..."}, {"owner": {"reputation": 23816, "user_id": 870729, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/742ce6130a9b48676e57e2c38f8a2764?s=128&d=identicon&r=PG&f=1", "display_name": "random_user_name", "link": "https://stackoverflow.com/users/870729/random-user-name"}, "edited": false, "score": 0, "creation_date": 1550070383, "post_id": 54673240, "comment_id": 96136345, "body": "I&#39;m guessing <code>deepCopy</code> is not doing what you think it is, and you are experiencing object mutation: <a href=\"https://stackoverflow.com/questions/42416863/avoiding-object-mutation\" title=\"avoiding object mutation\">stackoverflow.com/questions/42416863/avoiding-object-mutatio&zwnj;&#8203;n</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550071004, "post_id": 54673240, "comment_id": 96136762, "body": "Has nothing to do with var and copying"}, {"owner": {"reputation": 304, "user_id": 9547400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tatsuki.dev", "link": "https://stackoverflow.com/users/9547400/tatsuki-dev"}, "edited": false, "score": 0, "creation_date": 1550071166, "post_id": 54673240, "comment_id": 96136878, "body": "<code>deepCopy</code> returns a new Complex object using the same values of the original Complex object, like <code>deepCopy() {return new Complex(this.real, this.imag)}</code>. Does this seem to provoke object mutation?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550071212, "post_id": 54673240, "comment_id": 96136915, "body": "has nothing to do with copying.... (going to be a broken record)"}], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 9547400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tatsuki.dev", "link": "https://stackoverflow.com/users/9547400/tatsuki-dev"}, "edited": false, "score": 0, "creation_date": 1550115468, "post_id": 54673440, "comment_id": 96154412, "body": "I fixed my code according to your answer and now the script works like a charm :) Thank you very much!"}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 0, "last_activity_date": 1550071131, "last_edit_date": 1550071131, "creation_date": 1550070771, "answer_id": 54673440, "question_id": 54673240, "link": "https://stackoverflow.com/questions/54673240/for-loop-only-gives-the-last-value-of-an-array/54673440#54673440", "title": "For loop only gives the last value of an array", "body": "<p>Can't find the dupe but when you are using fill() it is not making a new array for every index, it is using the same array. </p>\n\n<p>Your code is basically this under the hood</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var myArr = new Array(3);\r\n    var row = new Array(3);\r\n    myArr[0] = row;\r\n    myArr[1] = row;\r\n    myArr[2] = row;\r\n    myArr[0][0] = 1;\r\n    console.log(myArr[0][0], myArr[1][0], myArr[2][0])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So when you change an index, it changes all of the indexes for all the arrays. There is no way to get fill to make a new instance of the array so you have to do some coding.</p>\n\n<p>You will need to use map() to get different arrays. Since map only works with defined values you will have to fill it with something first.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var foo = new Array(3).fill(null).map(() =&gt; new Array(3))\r\nfoo[0][0] = 1\r\nconsole.log(foo)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 304, "user_id": 9547400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "tatsuki.dev", "link": "https://stackoverflow.com/users/9547400/tatsuki-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550071131, "creation_date": 1550070138, "last_edit_date": 1550070339, "question_id": 54673240, "link": "https://stackoverflow.com/questions/54673240/for-loop-only-gives-the-last-value-of-an-array", "title": "For loop only gives the last value of an array", "body": "<p>I've been trying to transpose a matrix (-like 2D array) in ES6 but the for loop only gives the last value of the original array and I have no idea what I did wrong.</p>\n\n<p>Suppose the size of the spectrum array is 128 x 128:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const width = 128;\nconst height = 128;\n\nvar spectrum: Complex[][] = fft(data);\n\n// Transpose spectrum array\nvar transposedData: Complex[][] = new Array(height).fill(new Array(width));\nfor (let y = 0; y &lt; height; y++) {\n    for (let x = 0; x &lt; width; x++) {\n        const c = spectrum[x][y].deepCopy();\n        transposedData[y][x] = c;\n    }\n}\n\nspectrum = transposedData;\nconsole.log(spectrum);\n</code></pre>\n\n<p>This gives me a 2D array, every element of which is the value of spectrum[127][127].\nWhat have I done wrong?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2331, "user_id": 3283209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HyBtp.jpg?s=128&g=1", "display_name": "styopdev", "link": "https://stackoverflow.com/users/3283209/styopdev"}, "edited": false, "score": 1, "creation_date": 1550070695, "post_id": 54673228, "comment_id": 96136547, "body": "try to replace forEach cause it doesn&#39;t return anything, <code>let result = this.data.details.map(row=&gt; { row.order});</code>"}, {"owner": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "reply_to_user": {"reputation": 2331, "user_id": 3283209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/HyBtp.jpg?s=128&g=1", "display_name": "styopdev", "link": "https://stackoverflow.com/users/3283209/styopdev"}, "edited": false, "score": 0, "creation_date": 1550071900, "post_id": 54673228, "comment_id": 96137327, "body": "@styopdev I cant do this.data.details.map ....because of I believe details is Interface because of it details has message details does not exist on type IDetails[ ]"}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1550071998, "creation_date": 1550071998, "answer_id": 54673865, "question_id": 54673228, "link": "https://stackoverflow.com/questions/54673228/selecting-sub-field-in-the-nested-object-using-typescript-angular-4/54673865#54673865", "title": "Selecting sub field in the nested object using TypeScript Angular 4", "body": "<p>Your code seems to be not correct, so I assumed this is what you expected</p>\n\n<pre><code>export interface IDetails {\n    _id?: string;\n    order?: number;\n    detaildesc?: string;\n}\n\nexport class Something {\n    resl: any[];\n    data: {\n        locations: string;\n        id: string;\n        ordermain: number;\n        value: string;\n        details: IDetails[];\n    }[];\n\n    aFunction() {\n        this.resl = this.data.map(a =&gt; { a.details.map(x =&gt; x.order});\n    }\n}\n</code></pre>\n\n<p>and <code>map</code>, not <code>forEach</code> will returned a transformed array</p>\n"}, {"comments": [{"owner": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "edited": false, "score": 0, "creation_date": 1550073039, "post_id": 54674078, "comment_id": 96138016, "body": "I am getting red line under a saying [ts] can not find a"}, {"owner": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "edited": false, "score": 0, "creation_date": 1550074578, "post_id": 54674078, "comment_id": 96138948, "body": "It does run but returns empty array. I am wondering if it has to do with not all values of order exist. Some order values are null"}, {"owner": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "edited": false, "score": 0, "creation_date": 1550078655, "post_id": 54674078, "comment_id": 96141321, "body": "I can see the values now in the resl using browser tools. However when I use it in select using &lt;option *ngFor=&quot;let ord of resl&quot; [value]=&quot;ord.order&#39;&gt;{{ord.order}}&lt;/option&gt; i get order not defined error? Thanks for your help finally getting some where"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "reply_to_user": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "edited": false, "score": 0, "creation_date": 1550078888, "post_id": 54674078, "comment_id": 96141463, "body": "I am assuming the data object is coming from a service call. You need to assign  an empty array to resl before pushing new values to it. You can write <code>this.resl = [];</code> in your <b>constructor</b>"}], "tags": [], "owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "is_accepted": true, "score": 1, "last_activity_date": 1550076678, "last_edit_date": 1550076678, "creation_date": 1550072591, "answer_id": 54674078, "question_id": 54673228, "link": "https://stackoverflow.com/questions/54673228/selecting-sub-field-in-the-nested-object-using-typescript-angular-4/54674078#54674078", "title": "Selecting sub field in the nested object using TypeScript Angular 4", "body": "<p>You can extract all orders with</p>\n\n<pre><code>    var ordersArr = data.map(x =&gt; {\n        return x.details.map(y =&gt; {\n            return y.order;\n        });\n    });\n</code></pre>\n\n<p><code>ordersArr</code> would be an <code>array of array</code>. To flatten it youcan write</p>\n\n<pre><code>    var result = [].concat.apply([], ordersArr);\n</code></pre>\n\n<p><code>result</code> would be array of all order values</p>\n\n<p>You can also do the same thing with <code>forEach</code> instead of using <code>map</code></p>\n\n<pre><code>    this.data.forEach(x =&gt; {\n        x.details.forEach(y =&gt; {\n            if (y.order) {\n                this.resl.push(y.order);\n            }\n        });\n    });\n</code></pre>\n"}], "owner": {"reputation": 3179, "user_id": 1764254, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0a059477800b732f96a9bafda9cce2ab?s=128&d=identicon&r=PG", "display_name": "J. Davidson", "link": "https://stackoverflow.com/users/1764254/j-davidson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "accepted_answer_id": 54674078, "answer_count": 2, "score": 0, "last_activity_date": 1550076678, "creation_date": 1550070112, "last_edit_date": 1550071726, "question_id": 54673228, "link": "https://stackoverflow.com/questions/54673228/selecting-sub-field-in-the-nested-object-using-typescript-angular-4", "title": "Selecting sub field in the nested object using TypeScript Angular 4", "body": "<p>I am trying to select an object array of nested object inside an array of o </p>\n\n<pre><code>export interface IDetails{\n           _id?: string;\n           order?: number;\n           detaildesc?: string;\n         }\n\n    resl:any[];\n    var data={\n         locations: string;\n         id: string;\n         ordermain: number;\n         value: string;\n         details :[IDetails]\n        }\n\n\nI am trying to get list of all \"order\" under details:\n\n    resl = this.data.forEach(a=&gt; { a.details.map(x=&gt;x.order});\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<blockquote>\n  <p>type void is not assignable to type any[] for <code>resl</code> .</p>\n</blockquote>\n\n<p>When I just make <code>var resl</code>, i get <code>undefined error</code>.</p>\n\n<p>Please let me know how to fix that so I get array of <code>details.order</code>\nI checked around on the stackoverflow for possible solution couldnt find one that solves the issue. </p>\n\n<p>Thanks </p>\n"}, {"tags": ["angular", "typescript", "rest"], "comments": [{"owner": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1550069944, "post_id": 54673122, "comment_id": 96136039, "body": "you have <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">cors</a> the other way around. its the server job to allow requests so you do that from your backend not while sending request"}, {"owner": {"reputation": 11, "user_id": 10915991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXz_klQkOBo/AAAAAAAAAAI/AAAAAAAAAHA/bMWe6b4lwR0/photo.jpg?sz=128", "display_name": "Mikl&#243;s Tak&#225;cs", "link": "https://stackoverflow.com/users/10915991/mikl%c3%b3s-tak%c3%a1cs"}, "reply_to_user": {"reputation": 11075, "user_id": 1495595, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u9Lea.jpg?s=128&g=1", "display_name": "Rafal", "link": "https://stackoverflow.com/users/1495595/rafal"}, "edited": false, "score": 0, "creation_date": 1550225660, "post_id": 54673122, "comment_id": 96199701, "body": "you were right, thanks for the advice"}, {"owner": {"reputation": 61, "user_id": 5155885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l8mM3IKnUw0/AAAAAAAAAAI/AAAAAAAAAJc/L-b0cssj6eE/photo.jpg?sz=128", "display_name": "nilima akter", "link": "https://stackoverflow.com/users/5155885/nilima-akter"}, "edited": false, "score": 0, "creation_date": 1560419423, "post_id": 54673122, "comment_id": 99733428, "body": "hi, @Mikl&#243;sTak&#225;cs how did you solve this? would you please share? I am also getting the same error."}, {"owner": {"reputation": 11, "user_id": 10915991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXz_klQkOBo/AAAAAAAAAAI/AAAAAAAAAHA/bMWe6b4lwR0/photo.jpg?sz=128", "display_name": "Mikl&#243;s Tak&#225;cs", "link": "https://stackoverflow.com/users/10915991/mikl%c3%b3s-tak%c3%a1cs"}, "reply_to_user": {"reputation": 61, "user_id": 5155885, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l8mM3IKnUw0/AAAAAAAAAAI/AAAAAAAAAJc/L-b0cssj6eE/photo.jpg?sz=128", "display_name": "nilima akter", "link": "https://stackoverflow.com/users/5155885/nilima-akter"}, "edited": false, "score": 0, "creation_date": 1560510489, "post_id": 54673122, "comment_id": 99769926, "body": "hi @nilimaakter, as previous commenter suggested I allowed it in the backend. In my case it was a Play framework project in Scala so I had to edit the application.conf file"}], "owner": {"reputation": 11, "user_id": 10915991, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NXz_klQkOBo/AAAAAAAAAAI/AAAAAAAAAHA/bMWe6b4lwR0/photo.jpg?sz=128", "display_name": "Mikl&#243;s Tak&#225;cs", "link": "https://stackoverflow.com/users/10915991/mikl%c3%b3s-tak%c3%a1cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 859, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550069824, "creation_date": 1550069824, "question_id": 54673122, "link": "https://stackoverflow.com/questions/54673122/how-to-fix-neterr-aborted-404-not-found", "title": "How to fix net::ERR_ABORTED 404 (Not Found)", "body": "<p>I'm trying to learn Angular and Typescript to implement UI for my project. When I'm trying to pass 'Access-Control-Allow-Origin' : '*' in the header(for solving CORS error). I have the following error message:</p>\n\n<pre><code>OPTIONS http://192.168.100.31:9000/try net::ERR_ABORTED 404 (Not Found)\n</code></pre>\n\n<p>The method which invokes back-end endpoint:</p>\n\n<pre><code>getTry(){    \nlet headers = new HttpHeaders().set(\"Access-Control-Allow-Origin\", \"*\");    \nconst options = {headers};    \nreturn this.http.get(this.apiUrl, options)    \n  .map((res: HttpResponse&lt;any&gt;)  =&gt; res.body)    \n  .subscribe( data =&gt; {    \n    console.log(data);    \n    this.data = data;    \n  })    \n</code></pre>\n\n<p>}    </p>\n\n<p>If I use \"return this.http.get(this.apiUrl)\" I have the CORS error, If i try to pass the options too, I get the 404 error.</p>\n\n<p>I'm really a beginner with front-end stuff so maybe I missed something.\nAny idea on how to solve this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "highcharts"], "comments": [{"owner": {"reputation": 22669, "user_id": 1803853, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/af9689064b2f7b82d2147bbf7f10d4d7?s=128&d=identicon&r=PG", "display_name": "Davide Lorenzo MARINO", "link": "https://stackoverflow.com/users/1803853/davide-lorenzo-marino"}, "edited": false, "score": 2, "creation_date": 1550069781, "post_id": 54673081, "comment_id": 96135900, "body": "This is not a java, but javascript and/or typescript question. I change the tag"}, {"owner": {"reputation": 1603, "user_id": 6175174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43aee43acd936441ee06054cd7485790?s=128&d=identicon&r=PG&f=1", "display_name": "Wen W", "link": "https://stackoverflow.com/users/6175174/wen-w"}, "edited": false, "score": 1, "creation_date": 1550071602, "post_id": 54673081, "comment_id": 96137158, "body": "you will need to set the setTimeOut to a variable and use clearTimeOut on ngOnDestroy (if you are angular) for that variable"}], "answers": [{"tags": [], "owner": {"reputation": 749, "user_id": 7630248, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ETP740wvjNU/AAAAAAAAAAI/AAAAAAAAAP8/dgRqBB-7_c8/photo.jpg?sz=128", "display_name": "Chris Tapay", "link": "https://stackoverflow.com/users/7630248/chris-tapay"}, "is_accepted": false, "score": 0, "last_activity_date": 1550076420, "creation_date": 1550076420, "answer_id": 54675379, "question_id": 54673081, "link": "https://stackoverflow.com/questions/54673081/highcharts-how-to-stop-the-function-settimeout-when-i-open-new-component-angula/54675379#54675379", "title": "Highcharts: how to stop the function setTimeout when I open new component angular?", "body": "<p>Store the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout#Return_value\" rel=\"nofollow noreferrer\">timeoutID</a> in a global variable (or shared service), and then pass it to a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearTimeout\" rel=\"nofollow noreferrer\"><code>clearTimeout</code></a> when you need to stop the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setTimeout\" rel=\"nofollow noreferrer\">setTimeout</a> execution.</p>\n"}], "owner": {"reputation": 29, "user_id": 11050430, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y43h7Fhx5qA/AAAAAAAAAAI/AAAAAAAAAAc/EQqP5PaNxRE/photo.jpg?sz=128", "display_name": "Mansour BRAHMI", "link": "https://stackoverflow.com/users/11050430/mansour-brahmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550076420, "creation_date": 1550069690, "last_edit_date": 1550075815, "question_id": 54673081, "link": "https://stackoverflow.com/questions/54673081/highcharts-how-to-stop-the-function-settimeout-when-i-open-new-component-angula", "title": "Highcharts: how to stop the function setTimeout when I open new component angular?", "body": "<p>if open new component the service of the function <code>setTimeout</code> continue working.</p>\n\n<p>live Demo: <a href=\"http://next.plnkr.co/edit/OqMofEGDadF9J3Uit8qD?utm_source=legacy&amp;utm_medium=worker&amp;utm_campaign=next&amp;preview\" rel=\"nofollow noreferrer\">http://next.plnkr.co/edit/OqMofEGDadF9J3Uit8qD?utm_source=legacy&amp;utm_medium=worker&amp;utm_campaign=next&amp;preview</a></p>\n\n<pre><code>//simplified value generator   \nfunction requestData() {\n\n$.ajax({\nurl: 'points.json',\nsuccess: function(seriesUpdate) {\n\n  //in case initializer of highcharts is too quick - skip the update\n  if (!chart) {\n    setTimeout(requestData, 1000);\n    return;\n  }\n\n  //mocking for making static response data into dynamic\n  $.each(seriesUpdate, function (serieIndex, serieUpdate) {\n    mockPointCoordinates(serieUpdate.data[0]);\n  });\n\n  $.each(seriesUpdate, function (serieIndex, serieUpdate) {\n        var existingSerie = chartSeries[serieUpdate.name];\n        if (existingSerie ) {\n          //add a point\n          var shift = existingSerie.data.length &gt; 20;\n          existingSerie.addPoint(serieUpdate.data[0], true, shift);\n        } else {\n          //add a chart with point\n              var newSerie = chart.addSeries({                        \n                name: serieUpdate.name,\n                  data: serieUpdate.data\n                }, true);\n                chartSeries[serieUpdate.name] = newSerie;\n        }\n\n      });\n  // call it again after one second\n  setTimeout(requestData, 1000);\n},\ncache: false\n</code></pre>\n\n<p>});\n}</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "is_accepted": false, "score": 0, "last_activity_date": 1550070569, "creation_date": 1550070569, "answer_id": 54673379, "question_id": 54673028, "link": "https://stackoverflow.com/questions/54673028/manipulate-existing-interface-object-type/54673379#54673379", "title": "Manipulate existing interface / object type", "body": "<p>Here's a very verbose working example.</p>\n\n<pre><code>export type Merge&lt;A, B&gt; = Omit&lt;A, Extract&lt;keyof A, keyof B&gt;&gt; &amp; B;\nexport type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\nexport type Overwrite&lt;A, B extends { [K in keyof B]: K extends keyof A ? A[K] : never }&gt; =\n  Merge&lt;Omit&lt;Merge&lt;A, B&gt;, Extract&lt;keyof A, keyof B&gt;&gt;, Pick&lt;Merge&lt;A, B&gt;, Extract&lt;keyof A, keyof B&gt;&gt;&gt;;\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550070569, "creation_date": 1550069547, "question_id": 54673028, "link": "https://stackoverflow.com/questions/54673028/manipulate-existing-interface-object-type", "title": "Manipulate existing interface / object type", "body": "<p>I am looking for a typescript <code>Generic&lt;&gt;</code> that would do the following:</p>\n\n<ul>\n<li>Given a <code>Root</code> interface I would like to overwrite this interface</li>\n<li>Given a <code>Root</code> interface I would like to make any of the properties optional</li>\n<li>I only need to manage <code>shallow</code> / top-level properties</li>\n<li>The <code>Overwrite</code> interface should not allow any new properties not within <code>Root</code></li>\n</ul>\n\n<pre><code>interface Root {\n name: string;\n age: number | string;\n hometown: string\n}\n</code></pre>\n\n<pre><code>interface Overwrite {\n age: number; // overwriteing the union\n hometown?: Root['hometown'] // making a property optional\n}\n</code></pre>\n\n<p>Should work:</p>\n\n<pre><code>type RL = Generic&lt;Root, Overwrite&gt; // should have `name`, `age`, `hometown`\n</code></pre>\n\n<p>Should show error for <code>Overwrite</code> function because <code>lastName</code> is not in the <code>Root</code>:</p>\n\n<pre><code>type RL = Generic&lt;Root,{lastName: string}&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 8103190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a42dad1baf9cb44037e47ca88f97f5?s=128&d=identicon&r=PG&f=1", "display_name": "Bono495", "link": "https://stackoverflow.com/users/8103190/bono495"}, "is_accepted": false, "score": -1, "last_activity_date": 1550070905, "creation_date": 1550070905, "answer_id": 54673494, "question_id": 54672794, "link": "https://stackoverflow.com/questions/54672794/angular-reactive-form-get-the-value-of-formarray/54673494#54673494", "title": "angular reactive form get the value of formArray", "body": "<pre><code>this.companyForm.value.employees\nthis.companyForm.value.managers\n</code></pre>\n\n<p>I think this is the correct way, not tested.</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 10806177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-N7N-nUgeuRk/AAAAAAAAAAI/AAAAAAAAAAs/eS9AATNqOJs/photo.jpg?sz=128", "display_name": "Sivaramakrishnan", "link": "https://stackoverflow.com/users/10806177/sivaramakrishnan"}, "is_accepted": true, "score": 1, "last_activity_date": 1550082347, "creation_date": 1550082347, "answer_id": 54677023, "question_id": 54672794, "link": "https://stackoverflow.com/questions/54672794/angular-reactive-form-get-the-value-of-formarray/54677023#54677023", "title": "angular reactive form get the value of formArray", "body": "<p>You can get the form array values using any of the methods below,</p>\n\n<pre><code>this.companyForm.get('employees').value\nthis.companyForm.get('managers').value\n</code></pre>\n\n<p>or</p>\n\n<pre><code>this.companyForm.value.employees\nthis.companyForm.value.managers\n</code></pre>\n\n<p>If you want to get the particular item in the array, use the index to get the value</p>\n"}], "owner": {"reputation": 1647, "user_id": 1224977, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b7f8ef6889ef8c812e1dfac3b09b013f?s=128&d=identicon&r=PG", "display_name": "jhon.smith", "link": "https://stackoverflow.com/users/1224977/jhon-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2296, "favorite_count": 1, "accepted_answer_id": 54677023, "answer_count": 2, "score": 1, "last_activity_date": 1550082347, "creation_date": 1550068830, "last_edit_date": 1550070407, "question_id": 54672794, "link": "https://stackoverflow.com/questions/54672794/angular-reactive-form-get-the-value-of-formarray", "title": "angular reactive form get the value of formArray", "body": "<p>I am building a reactive form something like this:</p>\n\n<pre><code> ngOnInit() {\n    this.companyForm = this.fb.group({\n      companyName: [\"\"],\n      employees: this.fb.array([this.buildEmployees()]),\n      managers: this.fb.array([this.buildManagers()])\n    });\n</code></pre>\n\n<p>I would like to get access to the employees array values and the manager array values, as well as the companyName.</p>\n\n<p>Build a javascript object, and store it in a service object.</p>\n\n<p>My question is, how to get the values of these controls?</p>\n\n<p>I know I can get the value of formControlName companyName like this:</p>\n\n<p><code>**this.companyForm.get('companyName').value</code>**, correct?</p>\n\n<p>What about the formArray Employees and the formArray managers?</p>\n"}, {"tags": ["typescript", "d3.js", "svg"], "comments": [{"owner": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "edited": false, "score": 1, "creation_date": 1550069361, "post_id": 54672301, "comment_id": 96135607, "body": "<code>I&#39;ve tried changing the type cast for the d3.Selection to &lt;SVGSVGElement unsuccessfully.</code>; what error did you get?  that should be the right declaration.  Try, <code>type D3SVGSelection = d3.Selection&lt;SVGSVGElement, any, null, undefined&gt;;</code> then <code>this.svg = d3.select(elm).append&lt;SVGSVGElement&gt;(&#39;svg&#39;)</code>;"}, {"owner": {"reputation": 335, "user_id": 332559, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03c9e73b6189f44fed11250f232caadd?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/332559/shawn"}, "reply_to_user": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "edited": false, "score": 0, "creation_date": 1550071294, "post_id": 54672301, "comment_id": 96136965, "body": "Upon review, I have to withdraw my comment.  Changing it to <code>SVGSVGElement</code> did in-fact correct this particular issue.  I was confusing it with another compiler error related to missing types."}], "owner": {"reputation": 335, "user_id": 332559, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03c9e73b6189f44fed11250f232caadd?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/332559/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 353, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1550069377, "creation_date": 1550067363, "last_edit_date": 1550069377, "question_id": 54672301, "link": "https://stackoverflow.com/questions/54672301/type-selectionsvgelement-is-not-comparable-to-type-selectionsvgsvgelement", "title": "Type &#39;Selection&lt;SVGElement&gt;&#39; is not comparable to type &#39;Selection&lt;SVGSVGElement&gt;&#39;", "body": "<p>I'm fairly new to Typescript and generics and I'm struggling to resolve a compiler issue.  I get the title error when I run the below code (compiling a target GitHub project).  </p>\n\n<p>I've tried changing the type cast for the <code>d3.Selection</code> to <code>&lt;SVGSVGElement</code> unsuccessfully.  I could change it to <code>&lt;any&gt;</code> or <code>&lt;unknown&gt;</code> but I feel that would be cheating and not learning a lesson here.</p>\n\n<pre><code>import * as d3 from 'd3';\n\ntype D3SVGSelection = d3.Selection&lt;SVGElement, any, null, undefined&gt;;\n</code></pre>\n\n<p>Within the constructor for the class, I set this.svg:</p>\n\n<pre><code>constructor(elm: HTMLDivElement) {\n    private svg: D3SVGSelection;\n\n    this.svg = (d3.select(elm).append('svg') as D3SVGSelection)\n               .attr('viewBox', '-5 5 130 110')\n               .attr('style', 'width: 95%; height: 70%; margin-left:5px');\n</code></pre>\n\n<p>I understand that the issue is with the type definition of D3SVGSelection, however, I'm not certain how to resolve it.  Suggestions on how to troubleshoot this type of issue myself in the future?</p>\n"}, {"tags": ["typescript", "react-native", "jestjs", "react-native-firebase"], "owner": {"reputation": 700, "user_id": 8008862, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0c1e60ffb45d72e4a72f0ad12b660032?s=128&d=identicon&r=PG&f=1", "display_name": "uioporqwerty", "link": "https://stackoverflow.com/users/8008862/uioporqwerty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 314, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550067182, "creation_date": 1550067182, "question_id": 54672242, "link": "https://stackoverflow.com/questions/54672242/how-to-mock-firebase-auth-providers-such-as-facebookauthprovider", "title": "How to mock Firebase auth providers such as FacebookAuthProvider?", "body": "<p>I am trying to mock <code>react-native-firebase</code>'s firebase.auth object so that it will return a credential to the code under test so that I can test my method.</p>\n\n<p>I have the following code under test:</p>\n\n<pre><code>public async FacebookSignIn(): Promise&lt;void&gt; {\n    try {\n      const result = await LoginManager.logInWithReadPermissions(['public_profile', 'email']);\n\n      if (result.isCancelled) {\n        throw new Error('User cancelled request');\n\n      }\n\n      const data = await AccessToken.getCurrentAccessToken();\n\n      if (!data) {\n        throw new Error('Something went wrong obtaining the users access token');\n      }\n\n      const credential = firebase.auth.FacebookAuthProvider.credential(data.accessToken);\n      await firebase.auth().signInWithCredential(credential);\n    }\n    catch (error) {\n      console.error(error);\n    }\n  }\n</code></pre>\n\n<p>I want to ensure that at the end of the function, my CUT calls signInWithCredential so I have a test case like so; <code>func</code> is a global :\n<code>jest.fn()</code></p>\n\n<pre><code>describe('FacebookSignIn', () =&gt; {\n    it('should sign in user with facebook credentials', async () =&gt; {\n      await service.FacebookSignIn();\n      expect(func).toHaveBeenCalled();\n    })\n  })\n</code></pre>\n\n<p>However with the following mock I get the error <code>TypeError: Cannot read property 'credential' of undefined</code>:</p>\n\n<pre><code>jest.mock('react-native-firebase', () =&gt; {\n  return {\n    auth: () =&gt; {\n      return {\n        currentUser: null,\n        signOut: func,\n        signInAnonymously: func,\n        signInWithEmailAndPassword: func,\n        signInWithCredential: func,\n        FacebookAuthProvider: jest.fn(() =&gt; {\n          return {\n            credential: jest.fn(() =&gt; {\n              return {\n                provider: 'dummy',\n                token: '1234',\n                secret: '5678'\n              }\n            })\n          }\n        })\n      }\n    }\n  }\n});\n</code></pre>\n\n<p>I've looked at the type for <code>firebase.auth</code> and it can return this:</p>\n\n<pre><code>type AuthModule = {\n    (): RNFirebase.auth.Auth;\n    nativeModuleExists: boolean;\n} &amp; RNFirebase.auth.AuthStatics\n</code></pre>\n\n<p>which to me looks like it is mocking the signIn methods correctly, but the AuthStatics methods aren't being mocked. AuthStatics is defined as follows:</p>\n\n<pre><code>interface AuthStatics {\n        EmailAuthProvider: EmailAuthProvider;\n        PhoneAuthProvider: AuthProvider;\n        GoogleAuthProvider: AuthProvider;\n        GithubAuthProvider: AuthProvider;\n        OAuthProvider: AuthProvider;\n        TwitterAuthProvider: AuthProvider;\n        FacebookAuthProvider: AuthProvider;\n        PhoneAuthState: {\n          CODE_SENT: string;\n          AUTO_VERIFY_TIMEOUT: string;\n          AUTO_VERIFIED: string;\n          ERROR: string;\n        };\n      }\n</code></pre>\n\n<p>How can I mock the FacebookAuthProvider property and avoid it being undefined for credential?</p>\n"}, {"tags": ["node.js", "typescript", "debugging", "webpack", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "edited": false, "score": 0, "creation_date": 1550136727, "post_id": 54674304, "comment_id": 96162228, "body": "Okay, now visual studio code launch app successfully, but debbuger doesn&#39;t work anyway.  And with <code>&quot;program&quot;: &quot;${workspaceFolder}&#47;source&#47;service.ts&quot;,</code> didn&#39;t work, I changed this string to <code>&quot;program&quot;: &quot;${workspaceFolder}&#47;bin&#47;service.bundle.js&quot;,</code>"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "edited": false, "score": 0, "creation_date": 1550142653, "post_id": 54674304, "comment_id": 96165792, "body": "did u set outFiles in launch.json? and for debuging you have to set &quot;program&quot;: &quot;${workspaceFolder}/source/service.ts&quot;... ts file has to be set. you want to debug ts files not js... and last thing maybe. set  &quot;outDir&quot;: &quot;./bin&quot; in tsconfig,json"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "reply_to_user": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "edited": false, "score": 0, "creation_date": 1550143103, "post_id": 54674304, "comment_id": 96166047, "body": "oh yes, and REMOVE PORT from launch.json"}, {"owner": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "edited": false, "score": 0, "creation_date": 1550145704, "post_id": 54674304, "comment_id": 96167425, "body": "Now I have error: <code>Cannot launch program &#39;&#47;homo&#47;user&#47;Documents&#47;Projects&#47;projectname&#47;source&#47;service.ts&zwnj;&#8203;&#39; because corresponding JavaScript cannot be found</code>"}, {"owner": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "edited": false, "score": 0, "creation_date": 1550145917, "post_id": 54674304, "comment_id": 96167546, "body": "Soooo... when I remove  <code>&quot;runtimeExecutable&quot;: &quot;npm&quot;, &quot;runtimeArgs&quot;: [&quot;run-script&quot;, &quot;start&quot;],&quot;stopOnEntry&quot;: false,&quot;args&quot;: [],&quot;cwd&quot;: &quot;${workspaceFolder}&quot;,</code> and change <code>&quot;preLaunchTask&quot;: null,</code> to <code>&quot;preLaunchTask&quot;: &quot;Webpack build&quot;,</code>  then I change tasks.json <code>{       &quot;label&quot;: &quot;Webpack build&quot;,       &quot;type&quot;: &quot;npm&quot;,       &quot;script&quot;: &quot;build&quot;     },</code>  to <code>{       &quot;label&quot;: &quot;Webpack build&quot;,       &quot;type&quot;: &quot;npm&quot;,       &quot;script&quot;: &quot;debug-build&quot;     },</code>"}], "tags": [], "owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "is_accepted": true, "score": 0, "last_activity_date": 1550073285, "creation_date": 1550073285, "answer_id": 54674304, "question_id": 54671715, "link": "https://stackoverflow.com/questions/54671715/the-right-way-to-debug-nodejs-project-with-typescript-and-webpack-in-visual-stud/54674304#54674304", "title": "The right way to debug nodejs project with typescript and webpack in visual studio code", "body": "<p>You need to add program property in to your launch.json</p>\n\n<p>Your start point</p>\n\n<pre><code> \"program\": \"${workspaceFolder}/source/service.ts\",\n</code></pre>\n\n<p>and another prop outfiles</p>\n\n<pre><code>\"outFiles\": [\n    \"${workspaceFolder}/bin/**/*.js\"\n  ]\n</code></pre>\n\n<p>i am not sure if source maps will work for breakepoints. if not, dont use plugin use devtool prop in webpack... </p>\n\n<pre><code>devtool: 'source-map',\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 10180165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-R4RBS6GVnEs/AAAAAAAAAAI/AAAAAAAAHoM/KTlvpkcaLyk/photo.jpg?sz=128", "display_name": "Sergey Sovgut", "link": "https://stackoverflow.com/users/10180165/sergey-sovgut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1856, "favorite_count": 0, "accepted_answer_id": 54674304, "answer_count": 1, "score": 4, "last_activity_date": 1550146855, "creation_date": 1550065643, "last_edit_date": 1550146855, "question_id": 54671715, "link": "https://stackoverflow.com/questions/54671715/the-right-way-to-debug-nodejs-project-with-typescript-and-webpack-in-visual-stud", "title": "The right way to debug nodejs project with typescript and webpack in visual studio code", "body": "<p>The problem is described in the title of the topic.</p>\n\n<p>File structure:</p>\n\n<pre><code>-source\n   -app\n      -tools\n         Cache.ts\n         Logger.ts\n      databases.ts\n      filesystem.ts\n      library.ts\n      runtime.ts\n   -config\n      filesystem.ts\n      service.ts\n   service.ts\n</code></pre>\n\n<p>Compiled files:</p>\n\n<pre><code>-bin\n   service.bundle.js\n   service.bundle.js.map\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"service\",\n  \"scripts\": {\n    \"start\": \"node bin/service.bundle\",\n    \"dev\": \"webpack --watch\",\n    \"debug-build\": \"tsc\"\n  },\n  \"private\": true,\n  \"devDependencies\": {\n    \"eslint\": \"^5.13.0\",\n    \"eslint-config-airbnb\": \"^17.1.0\",\n    \"eslint-config-airbnb-base\": \"^13.1.0\",\n    \"eslint-config-prettier\": \"^4.0.0\",\n    \"eslint-plugin-import\": \"^2.16.0\",\n    \"eslint-plugin-jsx-a11y\": \"^6.2.1\",\n    \"eslint-plugin-prettier\": \"^3.0.1\",\n    \"eslint-plugin-react\": \"^7.12.4\",\n    \"prettier\": \"^1.16.4\",\n    \"ts-loader\": \"^5.3.3\",\n    \"typescript\": \"^3.3.3\",\n    \"webpack\": \"^4.29.3\",\n    \"webpack-cli\": \"^3.2.3\"\n  },\n  \"dependencies\": {\n    \"@types/mkdirp\": \"^0.5.2\",\n    \"@types/node\": \"^11.9.3\",\n    \"mkdirp\": \"^0.5.1\"\n  }\n}\n</code></pre>\n\n<p>tasks.json:</p>\n\n<pre><code>{\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      \"label\": \"Webpack watch\",\n      \"type\": \"npm\",\n      \"script\": \"dev\"\n    },\n    {\n      \"label\": \"Webpack build\",\n      \"type\": \"npm\",\n      \"script\": \"build\"\n    },\n    {\n      \"label\": \"Debug\",\n      \"type\": \"npm\",\n      \"script\": \"start\"\n    }\n  ]\n}\n</code></pre>\n\n<p>launch.json:</p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Launch Program\",\n\n      \"stopOnEntry\": false,\n      \"args\": [],\n      \"cwd\": \"${workspaceFolder}\",\n      \"preLaunchTask\": null,\n      \"runtimeExecutable\": \"npm\",\n      \"runtimeArgs\": [\"run-script\", \"start\"],\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      },\n      \"console\": \"integratedTerminal\",\n      \"port\": 9229\n    }\n  ]\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"sourceMap\": true,\n    \"rootDir\": \"./source\",\n    \"removeComments\": true,\n    \"downlevelIteration\": true,\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"strictFunctionTypes\": true,\n    \"strictBindCallApply\": true,\n    \"strictPropertyInitialization\": true,\n    \"noImplicitThis\": true,\n    \"alwaysStrict\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"moduleResolution\": \"node\",\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true\n  }\n}\n</code></pre>\n\n<p>webpack.config.js:</p>\n\n<pre><code>const path = require('path');\nconst webpack = require('webpack');\n\nmodule.exports = {\n  entry: ['./source/service.ts'],\n  target: 'node',\n  module: {\n    rules: [\n      {\n        test: /.tsx?$/,\n        use: 'ts-loader',\n        exclude: /node_modules/\n      }\n    ]\n  },\n  mode: 'development',\n  resolve: {\n    extensions: ['.tsx', '.ts', '.js']\n  },\n  plugins: [\n    new webpack.SourceMapDevToolPlugin({\n      filename: 'service.bundle.js.map'\n    })\n  ],\n  output: {\n    path: path.join(__dirname, 'bin'),\n    filename: 'service.bundle.js'\n  }\n};\n</code></pre>\n\n<p>I spent a lot of time looking for a good solution for debugging projects on nodejs using typescript and webpack with compiling into one file.</p>\n\n<p>First I launch the webpack, then I launch the debugger.\nAbsolutely all the solutions turned out to be inoperative for an unknown reason :(\nDebbuger in Visual Studio Code does not want to work in any way.</p>\n\n<p><strong>[SOLVED]</strong> \nUse this configurations for debugging project:</p>\n\n<p>launch.json: </p>\n\n<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Launch Program\",\n      \"program\": \"${workspaceFolder}/source/service.ts\",\n      \"outFiles\": [\"${workspaceFolder}/debug/**/*.js\"],\n      \"preLaunchTask\": \"Build\",\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      },\n      \"console\": \"integratedTerminal\"\n    }\n  ]\n}\n</code></pre>\n\n<p>tasks.json:</p>\n\n<pre><code>{\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      \"label\": \"Webpack watch\",\n      \"type\": \"npm\",\n      \"script\": \"dev\"\n    },\n    {\n      \"label\": \"Build\",\n      \"type\": \"npm\",\n      \"script\": \"debug-build\"\n    }\n  ]\n}\n\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"service\",\n  \"scripts\": {\n    \"start\": \"node bin/service.bundle\",\n    \"dev\": \"webpack --watch\",\n    \"debug-build\": \"tsc\"\n  },\n  \"private\": true,\n  \"devDependencies\": {\n    \"eslint\": \"^5.13.0\",\n    \"eslint-config-airbnb\": \"^17.1.0\",\n    \"eslint-config-airbnb-base\": \"^13.1.0\",\n    \"eslint-config-prettier\": \"^4.0.0\",\n    \"eslint-plugin-import\": \"^2.16.0\",\n    \"eslint-plugin-jsx-a11y\": \"^6.2.1\",\n    \"eslint-plugin-prettier\": \"^3.0.1\",\n    \"eslint-plugin-react\": \"^7.12.4\",\n    \"prettier\": \"^1.16.4\",\n    \"ts-loader\": \"^5.3.3\",\n    \"typescript\": \"^3.3.3\",\n    \"webpack\": \"^4.29.3\",\n    \"webpack-cli\": \"^3.2.3\"\n  },\n  \"dependencies\": {\n    \"@types/mkdirp\": \"^0.5.2\",\n    \"@types/node\": \"^11.9.3\",\n    \"mkdirp\": \"^0.5.1\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"sourceMap\": true,\n    \"outDir\": \"./debug\",\n    \"rootDir\": \"./source\",\n    \"removeComments\": true,\n    \"downlevelIteration\": true,\n    \"strict\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"strictFunctionTypes\": true,\n    \"strictBindCallApply\": true,\n    \"strictPropertyInitialization\": true,\n    \"noImplicitThis\": true,\n    \"alwaysStrict\": true,\n    \"noUnusedLocals\": true,\n    \"noUnusedParameters\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"moduleResolution\": \"node\",\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true\n  }\n}\n\n</code></pre>\n\n<p>webpack.config.js</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  entry: ['./source/service.ts'],\n  target: 'node',\n  module: {\n    rules: [\n      {\n        test: /.tsx?$/,\n        use: 'ts-loader',\n        exclude: /node_modules/\n      }\n    ]\n  },\n  mode: 'development',\n  resolve: {\n    extensions: ['.tsx', '.ts', '.js']\n  },\n  output: {\n    path: path.join(__dirname, 'bin'),\n    filename: 'service.bundle.js'\n  }\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sass", "configuration"], "answers": [{"tags": [], "owner": {"reputation": 4929, "user_id": 236896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/00fcf6dc700d899d8975f07d9ad7c8c0?s=128&d=identicon&r=PG&f=1", "display_name": "Manoj", "link": "https://stackoverflow.com/users/236896/manoj"}, "is_accepted": true, "score": 4, "last_activity_date": 1550067690, "creation_date": 1550067690, "answer_id": 54672421, "question_id": 54671565, "link": "https://stackoverflow.com/questions/54671565/shorten-scss-import-path-in-angular-7/54672421#54672421", "title": "Shorten SCSS import path in Angular 7", "body": "<p>Try this in angular-cli.json under options. Here a/b are folder.</p>\n\n<pre><code> \"stylePreprocessorOptions\": {\n              \"includePaths\": [\n                \"src/styles/a/b\"\n              ]\n            },\n</code></pre>\n\n<p>If test.scss file is inside folder b, you can write @import 'test' in your scss file.</p>\n"}], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 54672421, "answer_count": 1, "score": 1, "last_activity_date": 1550067690, "creation_date": 1550065112, "question_id": 54671565, "link": "https://stackoverflow.com/questions/54671565/shorten-scss-import-path-in-angular-7", "title": "Shorten SCSS import path in Angular 7", "body": "<p>When I created a component, which is nested in a deep level, and if I want to import a shared <code>.scss</code>, I have to import it with a long path, likes:</p>\n\n<p><code>@import '../../../app.shared.scss';</code></p>\n\n<p>That doesn't happen with the <code>.ts</code> file, as I can config in <code>tsconfig.json</code></p>\n\n<pre><code>\"paths\": {\n    \"*\": [\n        \"src/*\",\n        \"src/app/*\",\n    ]\n},\n</code></pre>\n\n<p>then instead of import the full path in Typescript</p>\n\n<p><code>import { AppService } from '../../../app.shared';</code></p>\n\n<p>I can do it a lot simpler</p>\n\n<p><code>import { AppService } from 'app.shared';</code></p>\n\n<p>Is there any possible way to do the same with <code>scss</code> importation?</p>\n"}, {"tags": ["css", "typescript", "ionic3"], "comments": [{"owner": {"reputation": 2140, "user_id": 5841382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dr0bz.jpg?s=128&g=1", "display_name": "Daut", "link": "https://stackoverflow.com/users/5841382/daut"}, "edited": false, "score": 0, "creation_date": 1550065309, "post_id": 54671545, "comment_id": 96132980, "body": "You want different aspect ratio pictures to show as same aspect ratio pictures without being cropped or skewed?  (not likely there is an answer to this)"}, {"owner": {"reputation": 660, "user_id": 5165188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a4748e4fdb64a6340adb5df83648fd75?s=128&d=identicon&r=PG&f=1", "display_name": "piet&#224;", "link": "https://stackoverflow.com/users/5165188/piet%c3%a0"}, "reply_to_user": {"reputation": 2140, "user_id": 5841382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dr0bz.jpg?s=128&g=1", "display_name": "Daut", "link": "https://stackoverflow.com/users/5841382/daut"}, "edited": false, "score": 0, "creation_date": 1550065642, "post_id": 54671545, "comment_id": 96133186, "body": "in this case, is there a way to show the biggest one skewed? :/"}, {"owner": {"reputation": 2140, "user_id": 5841382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dr0bz.jpg?s=128&g=1", "display_name": "Daut", "link": "https://stackoverflow.com/users/5841382/daut"}, "edited": false, "score": 0, "creation_date": 1550065818, "post_id": 54671545, "comment_id": 96133333, "body": "You could set fixed width and height, you could set a fixed height and only change width. Could you share  some more HTML"}], "owner": {"reputation": 660, "user_id": 5165188, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a4748e4fdb64a6340adb5df83648fd75?s=128&d=identicon&r=PG&f=1", "display_name": "piet&#224;", "link": "https://stackoverflow.com/users/5165188/piet%c3%a0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550065057, "creation_date": 1550065057, "question_id": 54671545, "link": "https://stackoverflow.com/questions/54671545/how-to-fit-an-image-with-respect-of-ratio-in-an-ion-col-ionic3", "title": "How to fit an image with respect of ratio in an &lt;ion-col&gt; (ionic3)?", "body": "<p>I have to display images on mobile interface. \nThe problem is that some photos don't have the same dimensions. I want when the user uploads images they will be displayed the same height and width without being cropped or twisted.</p>\n\n<p>This is the code where they are displayed:</p>\n\n<pre><code>&lt;ion-row &gt;\n        &lt;ion-col col-6 *ngFor=\"let image of imageURI\"&gt;\n          &lt;a href=\"#\" class=\"icon pull-right color-red closeBtn fa-stack-2x\" (click)=\"removeImg(image)\"&gt;\n          &lt;/a&gt;\n          &lt;img src=\"{{image}}\" *ngIf=\"imageURI\" style=\"z-index: -20\"/&gt;\n        &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p>and this is the output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1tFau.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1tFau.png\" alt=\"enter image description here\"></a></p>\n\n<p>and this is the <code>css</code> style :</p>\n\n<pre><code>.closeBtn::before {\n   content: '\\f057';\n   z-index: 5;\n   position: absolute;\n   right: -11px;\n   top: -13px;\n   font-family: 'FontAwesome';\n}\n\n.closeBtn {\n   position: relative;\n   display: inline-block;\n   }\n</code></pre>\n"}, {"tags": ["arrays", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "edited": false, "score": 0, "creation_date": 1550065390, "post_id": 54671404, "comment_id": 96133024, "body": "Why do you have two <code>itemContainer</code> components? Also can you show your code for <code>this.mapResultToProject</code>?"}, {"owner": {"reputation": 315, "user_id": 6103940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b7cca71305dbb5d84fe18cef54f74d?s=128&d=identicon&r=PG&f=1", "display_name": "Arte", "link": "https://stackoverflow.com/users/6103940/arte"}, "reply_to_user": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "edited": false, "score": 0, "creation_date": 1550065907, "post_id": 54671404, "comment_id": 96133387, "body": "Miss type, should be &quot;itemComponent&quot; (use dummy names). Added mapResultToProject in my post:  `private mapResultToProject(result: any[], type: ProjectType): Project {     let ProjectLeader: string = result[this.props.projectLeaderSearchFieldString];     if(ProjectLeader) {       ProjectLeader = ProjectLeader.split(&#39;|&#39;)[1].trim();     }"}], "owner": {"reputation": 315, "user_id": 6103940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b7cca71305dbb5d84fe18cef54f74d?s=128&d=identicon&r=PG&f=1", "display_name": "Arte", "link": "https://stackoverflow.com/users/6103940/arte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 593, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550065819, "creation_date": 1550064564, "last_edit_date": 1550065819, "question_id": 54671404, "link": "https://stackoverflow.com/questions/54671404/send-props-in-a-map-function-to-another-component-in-react-with-typescript", "title": "Send props in a map function to another component in React with Typescript", "body": "<p>I want to send props from a component to another through map. Done this before, but with typescript it causes problems.</p>\n\n<p>First, I have defined the types/interface in a separate file which I import in both components: </p>\n\n<pre><code> export interface ItemsProps {\n description?:string;\n\n}\n\nexport interface Project {\nDescription: string;\n\n}\n</code></pre>\n\n<p>I then have a container class that gets data from a provider (which works and have been tested). I then try to pass the data with map to a component (itemComponent).</p>\n\n<pre><code>import * as React from \"react\";\nimport {itemProps} from \"./props\";\nimport {itemComponent} from \"./itemComponent\";\n\nexport class itemContainer  extends React.Component&lt;itemProps, itemState&gt; {\nprivate provider: ProjectItemProvider;\n\nconstructor(props: ItemsProps, context: itemsState) {\n  super(props, context);\n  this.state = {\n    listItems: []\n  };\n\nprivate mapResultToProject(result: any[], type: ProjectType): Project {\n    let ProjectLeader: string = result[this.props.projectLeaderSearchFieldString];\n    if(ProjectLeader) {\n      ProjectLeader = ProjectLeader.split('|')[1].trim();\n    }\n\n  private getProjectItems()  {\n    this.provider.GetSiteItemsByContentId(this.props.publicContentTypeId, this.props.projectSearchFieldStrings).then((items: Project[]) =&gt; {\n      const i: Project[] = [];\n      items.map((result: any) =&gt; {\n        i.push(this.mapResultToProject(result, ProjectType.Public));\n      });\n      this.setState({\n        listItems: this.state.listItems.concat(i)\n      });\n    });\n  }\n\npublic render(): JSX.Element {\n\n          return (\n            &lt;div&gt;\n\n             {this.state.listItems.map((item: Project) =&gt; {\n\n         &lt;itemComponent\n\n          description =  {item.Description}\n\n          /&gt; })}\n\n            &lt;/div&gt;\n          )  }}\nexport default itemContainer;\n</code></pre>\n\n<p>In the component I define with props where the data should be shown:</p>\n\n<pre><code>import * as React from \"react\";\nimport {itemProps} from \"./props\";\nimport {itemComponent} from \"./itemComponent\";\n\nexport class itemComponent extends React.Component&lt;itemProps, itemState&gt; {\n\n  constructor(props: itemsProps, context: itemsState) {\n    super(props, context);\n\n  }\n\npublic render():JSX.Element {\n\n    return (\n\n      &lt;div&gt;\n        &lt;p&gt;{this.props.description}&lt;/p&gt;\n      &lt;/div&gt;\n);}}\n</code></pre>\n\n<p>However nothing is shown and the component does not get the data I send from the map as props to that component.</p>\n"}, {"tags": ["javascript", "typescript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 782, "user_id": 6879849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rbGN3.png?s=128&g=1", "display_name": "Zachary Bennett", "link": "https://stackoverflow.com/users/6879849/zachary-bennett"}, "is_accepted": false, "score": 1, "last_activity_date": 1550064678, "creation_date": 1550064678, "answer_id": 54671437, "question_id": 54671142, "link": "https://stackoverflow.com/questions/54671142/undefined-is-not-an-object-this3-props-navigation-error-in-react-native/54671437#54671437", "title": "undefined is not an object &#39;_this3.props.navigation()&#39; error in react native", "body": "<p>From the <a href=\"https://reactnavigation.org/docs/en/header-buttons.html\" rel=\"nofollow noreferrer\">React Navigation Docs</a>: </p>\n\n<blockquote>\n  <p>The binding of this in navigationOptions is not the HomeScreen\n  instance, so you can't call setState or any instance methods on it.\n  This is pretty important because it's extremely common to want the\n  buttons in your header to interact with the screen that the header\n  belongs to.</p>\n</blockquote>\n\n<p>So, as you can see, <code>this</code> is not what you think it is in this case. Here's more from the docs detailing a working example:</p>\n\n<pre><code> class HomeScreen extends React.Component {\n  static navigationOptions = ({ navigation }) =&gt; {\n    return {\n      headerTitle: &lt;LogoTitle /&gt;,\n      headerRight: (\n        &lt;Button\n          onPress={navigation.getParam('increaseCount')}\n          title=\"+1\"\n          color=\"#fff\"\n        /&gt;\n      ),\n    };\n  };\n\n  componentDidMount() {\n    this.props.navigation.setParams({ increaseCount: this._increaseCount });\n  }\n\n  state = {\n    count: 0,\n  };\n\n  _increaseCount = () =&gt; {\n    this.setState({ count: this.state.count + 1 });\n  };\n\n  /* later in the render function we display the count */\n}\n</code></pre>\n\n<p>As you can see, changing <code>navigationOptions</code> from an object into a function allows you to grab the <code>navigation</code> reference. From there you can successfully <code>navigate</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10926450"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550064678, "creation_date": 1550063808, "last_edit_date": 1550064480, "question_id": 54671142, "link": "https://stackoverflow.com/questions/54671142/undefined-is-not-an-object-this3-props-navigation-error-in-react-native", "title": "undefined is not an object &#39;_this3.props.navigation()&#39; error in react native", "body": "<p>running my react app gives error in navigationOptions() but it is working fine in render() function </p>\n\n<p>App.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { Component } from 'react';\r\nimport { AppRegistry, View } from 'react-native';\r\nimport AppNavigator from './routs.js'\r\n\r\n\r\nclass App extends Component {\r\n   render() {\r\n      return (\r\n         &lt;AppNavigator /&gt;\r\n      )\r\n   }\r\n}\r\nexport default App</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>routs.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React from 'react'\r\nimport Home from './home.js'\r\nimport Phone from './phone.js'\r\nimport PhoneScreen from './phoneScreen.js'\r\nimport {createStackNavigator, createAppContainer} from 'react-navigation';\r\n\r\n\r\nconst MainNavigator = createStackNavigator({\r\n\r\n  home: {screen: Home},\r\n  add: {screen: Phone},\r\n  userScreen: {screen: PhoneScreen},\r\n\r\n});\r\n\r\nconst AppNavigator = createAppContainer(MainNavigator);\r\n\r\nexport default AppNavigator;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>home.js</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React from 'react'\r\nimport { TouchableOpacity, Text, View, TouchableHighlight, StyleSheet, Button } from 'react-native';\r\nimport { Actions } from 'react-native-router-flux';\r\nimport {AsyncStorage} from 'react-native';\r\n\r\n\r\nclass Home extends React.Component {\r\n\r\n\tconstructor(props) { \r\n\t\tsuper(props); \r\n\t}\r\n\r\n\tstatic navigationOptions = {\r\n\t\theaderTitle: 'Contacts',\r\n\t\theaderRight: (\r\n\t\t\t&lt;Button\r\n\t\t\tonPress={() =&gt; this.props.navigation.navigate('add')}\r\n\t\t\ttitle=\"create new contact\"\r\n\t\t\tcolor=\"#000000\"\r\n\t\t\tsize=\"20\"\r\n\t\t\t/&gt;\r\n\t\t\t),\r\n\t     };\r\n}\r\nexport default Home;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>\"undefind is not an object(evaluating '_this3.props.navigation')\"</p>\n\n<p>please give solution</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10775755"}, "edited": false, "score": 0, "creation_date": 1550064401, "post_id": 54671065, "comment_id": 96132409, "body": "Many answers but you post the answer what actually i want Thank you sir!"}, {"owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "edited": false, "score": 0, "creation_date": 1550064682, "post_id": 54671065, "comment_id": 96132595, "body": "Glad to help you.. Thanks."}], "tags": [], "owner": {"reputation": 1575, "user_id": 7850051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b8JHX.jpg?s=128&g=1", "display_name": "Karnan Muthukumar", "link": "https://stackoverflow.com/users/7850051/karnan-muthukumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1550064134, "last_edit_date": 1550064134, "creation_date": 1550063631, "answer_id": 54671065, "question_id": 54670977, "link": "https://stackoverflow.com/questions/54670977/how-to-disable-input-box-angular-2-material/54671065#54671065", "title": "How to disable input box angular 2 material?", "body": "<p>Here is an solution for you.</p>\n\n<p>Just change method like this.</p>\n\n<pre><code> onChangeDisable() {\n       if(this.One!=null &amp;&amp; this.One!=''){\n         this.twoDisabled=true;\n       }else{\n         this.twoDisabled=false;\n       }\n    }\n</code></pre>\n\n<p>I have checked this code with your stackblitz.It's working.</p>\n\n<p>Update:-</p>\n\n<p>Here is an example for both checking your condition,</p>\n\n<p>Html:-</p>\n\n<pre><code>  &lt;input\n      matInput\n      [(ngModel)]=\"One\"\n      (ngModelChange)=\"onChangeDisable()\"\n      [disabled]=\"oneDisabled\"\n      /&gt;\n</code></pre>\n\n<p>Tyepescript</p>\n\n<pre><code>oneDisabled=false;\n onChangeDisable(isSecond) {\n      if(!isSecond){\n        if(this.One!=null &amp;&amp; this.One!=''){\n         this.twoDisabled=true;\n       }else{\n         this.twoDisabled=false;\n       }\n      }else{\n         if(this.Two!=null &amp;&amp; this.Two!=''){\n         this.oneDisabled=true;\n       }else{\n         this.oneDisabled=false;\n       }\n      }\n\n    }\n</code></pre>\n\n<p>here is an stackblitz for you.</p>\n\n<p><a href=\"https://stackblitz.com/edit/mat-input12345677709-gfj1-gxqswz-u1tbuk-6w3qjh\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/mat-input12345677709-gfj1-gxqswz-u1tbuk-6w3qjh</a></p>\n"}, {"tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": false, "score": 0, "last_activity_date": 1550064666, "last_edit_date": 1550064666, "creation_date": 1550063983, "answer_id": 54671204, "question_id": 54670977, "link": "https://stackoverflow.com/questions/54670977/how-to-disable-input-box-angular-2-material/54671204#54671204", "title": "How to disable input box angular 2 material?", "body": "<p>Both inputs are enabled by setting <code>twoDisabled = false</code> at first. And when user add value in the first input then change <code>twoDisabled = true</code>. </p>\n\n<pre><code>export class TableBasicExample {\n  One: any;\n  Two: any;\n  twoDisabled = false;\n\n\n  onChangeDisable() {\n    if (!this.One) {\n      this.twoDisabled = false;\n    }\n    else {\n      this.twoDisabled = true;\n    }\n  }\n}\n</code></pre>\n\n<p>You can consider the same logic for the second input, but it also depends on different cases. Like: both has values, only second input has value...</p>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 3016864, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Wgipy.jpg?s=128&g=1", "display_name": "Lalji Kanjareeya", "link": "https://stackoverflow.com/users/3016864/lalji-kanjareeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1550063985, "creation_date": 1550063985, "answer_id": 54671206, "question_id": 54670977, "link": "https://stackoverflow.com/questions/54670977/how-to-disable-input-box-angular-2-material/54671206#54671206", "title": "How to disable input box angular 2 material?", "body": "<p>Please try below :</p>\n\n<pre><code>    export class TableBasicExample {\n      One: any;\n      Two: any;\n      twoDisabled = false;\n\n      onChangeDisable() {\n        if (this.One) {\n          this.twoDisabled = true;\n        } else {\n          this.twoDisabled = false;\n        }\n      }\n    }\n\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10775755"}, "edited": false, "score": 0, "creation_date": 1550064488, "post_id": 54671227, "comment_id": 96132471, "body": "Thank you sir, you code is working as i want but input box get disabled when i clicked on input boxes"}], "tags": [], "owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "is_accepted": false, "score": 0, "last_activity_date": 1550064042, "creation_date": 1550064042, "answer_id": 54671227, "question_id": 54670977, "link": "https://stackoverflow.com/questions/54670977/how-to-disable-input-box-angular-2-material/54671227#54671227", "title": "How to disable input box angular 2 material?", "body": "<p>Give this a try:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material';\n\n@Component({...})\nexport class TableBasicExample {\n  one: any;\n  two: any;\n  currentlyDisabled: string;\n\n  onChangeDisable() {\n    if(this.one) {\n      this.currentlyDisabled = 'two';\n    } else if (this.two) {\n      this.currentlyDisabled = 'one';\n    } else {\n      this.currentlyDisabled = '';\n    }\n  }\n\n}\n</code></pre>\n\n<p>And in the Template:</p>\n\n<pre><code>&lt;div class=\"row col-md-2\"&gt;\n   &lt;mat-form-field appearance=\"outline\" class=\"nameInput col-md-2\"&gt;\n      &lt;mat-label&gt;One&lt;/mat-label&gt;\n      &lt;input\n        matInput\n        [(ngModel)]=\"one\"\n        (change)=\"onChangeDisable()\"\n        [disabled]=\"currentlyDisabled === 'one'\"\n      /&gt;\n   &lt;/mat-form-field&gt;\n&lt;/div&gt;\n&lt;div class=\"row col-md-2\"&gt;\n   &lt;mat-form-field\n      appearance=\"outline\"\n      class=\"nameInput col-md-2\"\n      &gt;\n      &lt;mat-label&gt;Two&lt;/mat-label&gt;\n      &lt;input\n        matInput\n        [(ngModel)]=\"two\"\n        (change)=\"onChangeDisable()\"\n        [disabled]=\"currentlyDisabled === 'two'\"\n      /&gt;\n   &lt;/mat-form-field&gt;\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Here's a <a href=\"https://stackblitz.com/edit/mat-input-disable-based-on-other-input?file=app/table-basic-example.html\" rel=\"nofollow noreferrer\"><strong>Working Sample StackBlitz</strong></a> for your ref.</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10775755"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4533, "favorite_count": 0, "accepted_answer_id": 54671065, "answer_count": 4, "score": 1, "last_activity_date": 1550064666, "creation_date": 1550063342, "question_id": 54670977, "link": "https://stackoverflow.com/questions/54670977/how-to-disable-input-box-angular-2-material", "title": "How to disable input box angular 2 material?", "body": "<p>Please Read my <strong>Description</strong> First</p>\n\n<p>HTML File</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"row col-md-2\"&gt;\r\n   &lt;mat-form-field appearance=\"outline\" class=\"nameInput col-md-2\"&gt;\r\n      &lt;mat-label&gt;One&lt;/mat-label&gt;\r\n      &lt;input\r\n      matInput\r\n      [(ngModel)]=\"One\"\r\n      (ngModelChange)=\"onChangeDisable()\"\r\n      /&gt;\r\n   &lt;/mat-form-field&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"row col-md-2\"&gt;\r\n   &lt;mat-form-field\r\n      appearance=\"outline\"\r\n      class=\"nameInput col-md-2\"\r\n      &gt;\r\n      &lt;mat-label&gt;Two&lt;/mat-label&gt;\r\n      &lt;input\r\n      matInput\r\n      [(ngModel)]=\"Two\"\r\n      (ngModelChange)=\"onChangeDisable()\"\r\n      [disabled]=\"twoDisabled\"\r\n      /&gt;\r\n   &lt;/mat-form-field&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>TS File </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material';\n\n\n\n/**\n * @title Basic use of `&lt;table mat-table&gt;`\n */\n@Component({\n  selector: 'table-basic-example',\n  styleUrls: ['table-basic-example.css'],\n  templateUrl: 'table-basic-example.html',\n})\nexport class TableBasicExample {\nOne:any;\nTwo:any;\ntwoDisabled=true;\n\n\n    onChangeDisable() {\n        if (this.One != null) {\n            this.twoDisabled = false;\n        }\n    }\n}\n</code></pre>\n\n<p>There are Two input box Named \"One\" &amp; \"Two\" , On first time both input box must be enabled but when i enter any value into First Input box then second input box must get disabled , and when i clear the fileds from first input then second input box will get enable same thing must be done with second input box HOW?</p>\n\n<p>My StackBlitz Link --> <a href=\"https://stackblitz.com/edit/mat-input12345677709-gfj1-gxqswz-u1tbuk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/mat-input12345677709-gfj1-gxqswz-u1tbuk</a></p>\n"}, {"tags": ["angular", "typescript", "angular-promise", "restangular", "ngx-restangular"], "answers": [{"tags": [], "owner": {"reputation": 1817, "user_id": 4243635, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000619278014/picture?type=large", "display_name": "Nicolas Gehlert", "link": "https://stackoverflow.com/users/4243635/nicolas-gehlert"}, "is_accepted": true, "score": 2, "last_activity_date": 1550068850, "creation_date": 1550068850, "answer_id": 54672803, "question_id": 54670760, "link": "https://stackoverflow.com/questions/54670760/restangular-failed-requests-stops-execution-with-await/54672803#54672803", "title": "Restangular: Failed requests stops execution with await", "body": "<p>The problem is you do not have any error handling in place. If your request fails the <code>await</code> part will throw an exception - that means the function is exited --> your <code>.hide()</code> call is never reached</p>\n\n<p>To handle this you can wrap it inside a try catch, e.g.  </p>\n\n<pre><code>this.loader.show();\ntry {\n    const response = await this.authorizationService.Login(login, password);\n} catch (error) {\n    // do something with the error here\n}\nthis.loader.hide();\n</code></pre>\n"}], "owner": {"reputation": 2300, "user_id": 7425764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b1173f9a89db50b7d8b0e52e545d42b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ankur Akvaliya", "link": "https://stackoverflow.com/users/7425764/ankur-akvaliya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 54672803, "answer_count": 1, "score": 1, "last_activity_date": 1550070528, "creation_date": 1550062608, "last_edit_date": 1550070528, "question_id": 54670760, "link": "https://stackoverflow.com/questions/54670760/restangular-failed-requests-stops-execution-with-await", "title": "Restangular: Failed requests stops execution with await", "body": "<p>I have an error interceptor like below:</p>\n\n<pre><code>RestangularProvider.addErrorInterceptor((response) =&gt; {\n\n    const error = EnumerableFromObject(response.error.Errors)\n      .Select(i =&gt; i.Value.Message)\n      .FirstOrDefault();\n    toastr.error(error, \"Error\");\n\n    return true;\n  });\n}\n</code></pre>\n\n<p>Below is the code of my auth service:</p>\n\n<pre><code>  async Login(login: string, password: string) {\n    const sessions = this.rest.all(\"sessions\");\n    const params = {Login: login,Password: password };\n    const response = await sessions.post(params).toPromise();\n    return response;\n  }\n</code></pre>\n\n<p>And this is how I am calling it in my component:</p>\n\n<pre><code>this.loader.show();\nconst response = await this.authorizationService.Login(login, password);\nthis.loader.hide();\n</code></pre>\n\n<p>So I have to hide loader after the service is completed, failed or not.</p>\n\n<p>My issue is when a request fails with any reason - like wrong credentials - execution stops, &amp; it never reaches to <code>this.loader.hide();</code></p>\n\n<p>How can I handle this without using <code>then</code>. In my project all methods are called with <code>await</code>. So I can't remove await &amp; use then. It will require so much rework.</p>\n\n<p>Can anyone tell me what I am missing here?</p>\n"}, {"tags": ["angular", "typescript", "highcharts"], "comments": [{"owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1550065461, "post_id": 54670687, "comment_id": 96133076, "body": "What is <code>comparearray</code>?"}, {"owner": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "reply_to_user": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1550084205, "post_id": 54670687, "comment_id": 96144113, "body": "comparearray is an array which has been declared inside the component."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "edited": false, "score": 0, "creation_date": 1550091765, "post_id": 54676583, "comment_id": 96147601, "body": "I gave the type as &#39;xrange&#39; in my price chart component and the error were gone. But in browser console, I receive the error &quot; PricechartComponent.html:3 ERROR Error: Highcharts error #17: www.highcharts.com/errors/17"}, {"owner": {"reputation": 6757, "user_id": 10077925, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dLnp6.jpg?s=128&g=1", "display_name": "Wojciech Chmiel", "link": "https://stackoverflow.com/users/10077925/wojciech-chmiel"}, "edited": false, "score": 1, "creation_date": 1550128586, "post_id": 54676583, "comment_id": 96158252, "body": "This error occurs probably because you haven&#39;t load <code>xrange</code> module, have you?"}, {"owner": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "edited": false, "score": 0, "creation_date": 1550149918, "post_id": 54676583, "comment_id": 96169861, "body": "the error occurs in the below line in price chart html file.      &lt;div [chart]=&quot;chart&quot;&gt;&lt;/div&gt;"}, {"owner": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "edited": false, "score": 0, "creation_date": 1550501058, "post_id": 54676583, "comment_id": 96281524, "body": "Can anyone help here?"}, {"owner": {"reputation": 7526, "user_id": 4046096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EuzIa.jpg?s=128&g=1", "display_name": "Kacper Madej", "link": "https://stackoverflow.com/users/4046096/kacper-madej"}, "reply_to_user": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "edited": false, "score": 0, "creation_date": 1551277617, "post_id": 54676583, "comment_id": 96582418, "body": "@amitabha What error? What HTML file? Please provide more info. You could edit the question, so it will be clearer what&#39;s the problem about. Also, a live demo will help."}], "tags": [], "owner": {"reputation": 7526, "user_id": 4046096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EuzIa.jpg?s=128&g=1", "display_name": "Kacper Madej", "link": "https://stackoverflow.com/users/4046096/kacper-madej"}, "is_accepted": false, "score": 1, "last_activity_date": 1550080647, "creation_date": 1550080647, "answer_id": 54676583, "question_id": 54670687, "link": "https://stackoverflow.com/questions/54670687/how-to-fix-property-type-is-missing-in-type-but-required-in-type-seriesxrang/54676583#54676583", "title": "How to fix &quot;Property &#39;type&#39; is missing in type but required in type &#39;SeriesXrangeOptions&#39;&quot; in angular highcharts module", "body": "<pre><code>Property 'type' is missing in type '{ name: string; data: { id: any; name: any; y: any; }[]; }'\n</code></pre>\n\n<blockquote>\n  <p>but required in type 'SeriesXrangeOptions'.ts(2322) highcharts.d.ts(339172, 5): 'type' is declared here.</p>\n</blockquote>\n\n<p>The error is about missing property in the <code>Series</code> object in your code. <a href=\"https://api.highcharts.com/highcharts/series.line.type\" rel=\"nofollow noreferrer\">In TypeScript the <code>type</code> option must always be set.</a></p>\n\n<p>So, the correct code will be like:</p>\n\n<pre><code>series: [{\n\n  type: 'xrange`,\n\n  name: 'Price',\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.price\n  }]\n},\n{\n\n  type: 'xrange`,\n\n  name: \"Volume_24h\",\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.volume_24h\n  }]\n}]\n</code></pre>\n\n<p>assuming that you want to set <code>xrange</code> as the series type for both series. (And you could skip the extra empty lines - added just to better show the changed code)</p>\n\n<p>The same issue reported and resolved on the Highcharts github, for reference: <a href=\"https://github.com/highcharts/highcharts/issues/9867\" rel=\"nofollow noreferrer\">https://github.com/highcharts/highcharts/issues/9867</a></p>\n"}, {"tags": [], "owner": {"reputation": 4005, "user_id": 162702, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5a6723a55b5f5623f54e03c2fdc2ad11?s=128&d=identicon&r=PG", "display_name": "sean2078", "link": "https://stackoverflow.com/users/162702/sean2078"}, "is_accepted": false, "score": 6, "last_activity_date": 1567561903, "creation_date": 1567561903, "answer_id": 57780532, "question_id": 54670687, "link": "https://stackoverflow.com/questions/54670687/how-to-fix-property-type-is-missing-in-type-but-required-in-type-seriesxrang/57780532#57780532", "title": "How to fix &quot;Property &#39;type&#39; is missing in type but required in type &#39;SeriesXrangeOptions&#39;&quot; in angular highcharts module", "body": "<p>Also received the same \"SeriesXrangeOptions\" error, however <code>xrange</code> was not a valid type option.  Specifying the series chart type worked for those who receive an invalid type error.</p>\n\n<p>Working example:</p>\n\n<pre><code>chart = new Chart({\n    chart: {\n        type: 'line'\n    },\n    title: {\n        text: 'Linechart'\n    },\n    credits: {\n        enabled: false\n    },\n    series: [{\n        type: 'line',\n        name: 'Jane',\n        data: [1, 0, 4, 6, 11]\n    }, {\n        type: 'line',\n        name: 'John',\n        data: [5, 7, 3, 2, 9]\n    }]\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 1771063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f180e30e86b1d303e3333f410c2a5027?s=128&d=identicon&r=PG", "display_name": "Santosh", "link": "https://stackoverflow.com/users/1771063/santosh"}, "is_accepted": false, "score": 1, "last_activity_date": 1570143364, "creation_date": 1570143364, "answer_id": 58227877, "question_id": 54670687, "link": "https://stackoverflow.com/questions/54670687/how-to-fix-property-type-is-missing-in-type-but-required-in-type-seriesxrang/58227877#58227877", "title": "How to fix &quot;Property &#39;type&#39; is missing in type but required in type &#39;SeriesXrangeOptions&#39;&quot; in angular highcharts module", "body": "<p>Try</p>\n\n<pre><code>new Chart({YOUR_OPTIONS} as any);\n</code></pre>\n\n<p>It will fix the error.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 6404452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ur9_9nW3J3g/AAAAAAAAAAI/AAAAAAAABvc/Q9JpAx87t7A/photo.jpg?sz=128", "display_name": "Deekshith Reddy", "link": "https://stackoverflow.com/users/6404452/deekshith-reddy"}, "is_accepted": false, "score": 2, "last_activity_date": 1587638146, "creation_date": 1587638146, "answer_id": 61385102, "question_id": 54670687, "link": "https://stackoverflow.com/questions/54670687/how-to-fix-property-type-is-missing-in-type-but-required-in-type-seriesxrang/61385102#61385102", "title": "How to fix &quot;Property &#39;type&#39; is missing in type but required in type &#39;SeriesXrangeOptions&#39;&quot; in angular highcharts module", "body": "<p>when you are using multiple series in your charts you need to mention the type of the series. Simply changing your code to this works sometimes:</p>\n\n<pre><code> series: [{\n  name: 'Price',\n  type:undefined,\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.price\n  }]\n},\n{\n  name: \"Volume_24h\",\n  type:undefined,\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.volume_24h\n  }]\n}]\n</code></pre>\n\n<p>Do Give it a try once. I hope this helps to solve your problem.</p>\n"}], "owner": {"reputation": 31, "user_id": 6484619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90200053f21ae30fdbdd525c603e4660?s=128&d=identicon&r=PG&f=1", "display_name": "amitabha", "link": "https://stackoverflow.com/users/6484619/amitabha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10501, "favorite_count": 2, "answer_count": 4, "score": 2, "last_activity_date": 1587638146, "creation_date": 1550062389, "last_edit_date": 1550072152, "question_id": 54670687, "link": "https://stackoverflow.com/questions/54670687/how-to-fix-property-type-is-missing-in-type-but-required-in-type-seriesxrang", "title": "How to fix &quot;Property &#39;type&#39; is missing in type but required in type &#39;SeriesXrangeOptions&#39;&quot; in angular highcharts module", "body": "<p>I am trying to display a price chart view of selected cryptocurrency in cryptocurrencies list view but I am getting type mismatch error.</p>\n\n<p>I have used angular-highcharts module in my application and imported Chart library from that module . </p>\n\n<pre><code>import { Chart } from 'angular-highcharts';\n\nseries: [{\n  name: 'Price',\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.price\n  }]\n},\n{\n  name: \"Volume_24h\",\n  data: [{\n    id: this.comparearray[0].symbol,\n    name: this.comparearray[0].name,\n    y: this.comparearray[0].quotes.USD.volume_24h\n  }]\n}]\n</code></pre>\n\n<p>I am getting the below error in all of the above lines :</p>\n\n<hr>\n\n<blockquote>\n  <p>Type '{ name: string; data: { id: any; name: any; y: any; }[]; }' is\n  not assignable to type 'SeriesAbandsOptions | SeriesAdOptions |\n  SeriesAoOptions | SeriesApoOptions | SeriesAreaOptions |\n  SeriesArearangeOptions | SeriesAreasplineOptions |\n  SeriesAreasplinerangeOptions | ... 82 more ... | SeriesZigzagOptions'.</p>\n  \n  <p>Property 'type' is missing in type '{ name: string; data: { id: any;\n  name: any; y: any; }[]; }' but required in type\n  'SeriesXrangeOptions'.ts(2322) highcharts.d.ts(339172, 5): 'type' is\n  declared here.</p>\n</blockquote>\n\n<hr>\n\n<p>I should get a chart view of the selected cryptocurrency showing the volume over 24hrs and price.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "ngxs"], "answers": [{"tags": [], "owner": {"reputation": 1366, "user_id": 2415015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RueQB.jpg?s=128&g=1", "display_name": "Rich Duncan", "link": "https://stackoverflow.com/users/2415015/rich-duncan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550065525, "creation_date": 1550065525, "answer_id": 54671683, "question_id": 54670598, "link": "https://stackoverflow.com/questions/54670598/what-is-the-best-way-to-react-to-ngxs-state-changes-within-your-component-for-lo/54671683#54671683", "title": "What is the best way to react to ngxs state changes within your component for loading or error events?", "body": "<p>So a few things:</p>\n\n<ol>\n<li>You need define some state actions for your state class - LoadPosts for example.</li>\n<li>You should dispatch that action (say in your ngOnInit), or somewhere prior to the component loading. The action should call the services that actually fetch the data, thereby removing this dependency from your component.</li>\n<li>If the service uses Observables or Promises you should handle when they finally return by updating your state at that point.</li>\n<li><p>You can create your observable via @Select. Notice that this way it is typed.</p>\n\n<p>@Select(PostState) postState$: Observable;</p></li>\n<li><p>You can use the async pipe in your component and you may not need to subscribe to the postState$ directly in your code (e.g. to use *ngFor to iterate thru the posts).</p></li>\n<li><p>Because your state includes the posts, the loading flag and the error, subscribing to the state as a whole will cause your subscription function or async pipe to be run no matter which of these changes.  If you create selector methods with @Selector() in your state class, you can subscribe to these for finer granularity for example to only react to the loading flag.</p></li>\n</ol>\n"}], "owner": {"reputation": 1007, "user_id": 7952244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aed5c4abef2ae0d72b24714dc00a1d70?s=128&d=identicon&r=PG&f=1", "display_name": "O.MeeKoh", "link": "https://stackoverflow.com/users/7952244/o-meekoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550065525, "creation_date": 1550062114, "question_id": 54670598, "link": "https://stackoverflow.com/questions/54670598/what-is-the-best-way-to-react-to-ngxs-state-changes-within-your-component-for-lo", "title": "What is the best way to react to ngxs state changes within your component for loading or error events?", "body": "<p>I have a PostListComponent which iterates over all of the posts retrieved from the server and displays individual PostItemComponent. I am using NGXS for state management. When I initiate the fetchPosts requests, I change the state property loading: true. When request finishes successfully I change it back to false. If a request fails I update the error object on the state and update the error object message property and exception property. </p>\n\n<p>Here is what I have so far </p>\n\n<pre><code>`\nexport class PostListComponent implements OnInit {    \n  private posts$: Observable&lt;any&gt; = this.store.select(state =&gt; state.posts);\n  private isLoading: boolean = false;\n  private error: object = {};\n\n  constructor(\n    public postsFacade: PostsFacadeService,\n    public moviesFacade: MoviesFacadeService,\n    private store: Store) {    \n  }\n\n  ngOnInit() {\n    this.posts$.subscribe(\n      (state) =&gt; this.onLoadingEvent(state)\n      );\n\n    this.posts$.subscribe(\n      (error) =&gt; this.onErrorEvent(error)\n    )\n    // this.posts$.pipe(\n    //   mergeMap(() =&gt; {\n    //     // perform the subscription here and listen for state changes\n    //   })\n    // )\n\n  }\n\n  onErrorEvent(error)\n  {\n    this.error = error.error;\n  }\n\n  onLoadingEvent(state)\n  {\n    this.isLoading = state.loading;  \n  }\n`\n</code></pre>\n\n<p>Structure of my store </p>\n\n<pre><code>`\n@State&lt;PostStateModel&gt;({\n    name: 'posts',\n    defaults: {\n        posts: [],\n        loading: false,\n        error: {\n          message: \"\",\n          error: \"\"                   \n        },\n    }\n})\n`\n</code></pre>\n\n<p>I feel like there is a better way of subscribing to state changes within the store with using perhaps the rxjs mergeMap operator. I am not sure if that is possible and if the current approach is efficient. How else can i subscribe to and react to store changes from within my component?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "edited": false, "score": 0, "creation_date": 1565860771, "post_id": 54670544, "comment_id": 101482807, "body": "Check <a href=\"https://stackoverflow.com/a/57507470/11127383\">stackoverflow.com/a/57507470/11127383</a>"}], "answers": [{"comments": [{"owner": {"reputation": 361, "user_id": 6943008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f18023d465d7a43ac0c1eb79ab5d767a?s=128&d=identicon&r=PG&f=1", "display_name": "Rohling", "link": "https://stackoverflow.com/users/6943008/rohling"}, "edited": false, "score": 2, "creation_date": 1550145214, "post_id": 54680602, "comment_id": 96167152, "body": "Removing <code>CommonJs</code> and adding <code>type=&quot;module&quot;</code> worked, but most important, now I get what was happening.Thank you for the explanation."}, {"owner": {"reputation": 429, "user_id": 6088389, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh5.googleusercontent.com/-u05duG3GNJQ/AAAAAAAAAAI/AAAAAAAAAyY/VgqF3wpkKms/photo.jpg?sz=128", "display_name": "Juniuz", "link": "https://stackoverflow.com/users/6088389/juniuz"}, "edited": false, "score": 2, "creation_date": 1580867231, "post_id": 54680602, "comment_id": 106236286, "body": "I stumbled a similar issue which I didn&#39;t remove <code>&quot;module&quot;</code> in <code>tsconfig.json</code> file.  Setting <code>&quot;module&quot;: &quot;es2015&quot;</code> and adding <code>type=&quot;module&quot;</code> attribute in <code>script</code> tag does the trick for me."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11010433"}, "is_accepted": true, "score": 20, "last_activity_date": 1550097811, "creation_date": 1550097811, "answer_id": 54680602, "question_id": 54670544, "link": "https://stackoverflow.com/questions/54670544/how-to-fix-referenceerror-exports-is-not-defined-in-a-pure-typescript-project/54680602#54680602", "title": "How to fix &quot;ReferenceError: exports is not defined&quot; in a pure TypeScript project?", "body": "<p>Browsers don't support <em>commonjs</em> modules. You will need to use some tool (webpack, rollup, browserify) to bundle your modules after compilation. </p>\n\n<p>If you remove the <em>module</em> option in the <em>tsconfig.json</em> or if you set to <em>es2015</em> or <em>esnext</em>, the <strong>import</strong> and <strong>export</strong> statements will remain as they were in the original file. </p>\n\n<pre><code>import { foo } from './bar.js';\n\nexport default class Baz {}\n</code></pre>\n\n<p>It could work because some browsers already support native <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import\" rel=\"noreferrer\">ES modules</a> but it is necessary to add to the script tag a <strong>type</strong> attribute and set it to <em>module</em>. </p>\n\n<pre><code>&lt;script type=\"module\" src=\"foo.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>If you don't, you'll get some error like the '<em>SyntaxError: import declarations may only appear at top level of a module</em>' one.</p>\n"}], "owner": {"reputation": 361, "user_id": 6943008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f18023d465d7a43ac0c1eb79ab5d767a?s=128&d=identicon&r=PG&f=1", "display_name": "Rohling", "link": "https://stackoverflow.com/users/6943008/rohling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24436, "favorite_count": 1, "accepted_answer_id": 54680602, "answer_count": 1, "score": 15, "last_activity_date": 1550097811, "creation_date": 1550061954, "last_edit_date": 1550064289, "question_id": 54670544, "link": "https://stackoverflow.com/questions/54670544/how-to-fix-referenceerror-exports-is-not-defined-in-a-pure-typescript-project", "title": "How to fix &quot;ReferenceError: exports is not defined&quot; in a pure TypeScript project?", "body": "<p>If I write a .ts with any kind of import or export instruction the resulting .js will generate the following error when loaded in an HTML page:  \"ReferenceError: exports is not defined\"</p>\n\n<p>How to reproduce:</p>\n\n<ol>\n<li>Create a Blank Node.js web application project in VS</li>\n<li>Add a .ts with an import or export line</li>\n<li>Add some HTML calling the resulting .js</li>\n<li>Start an HTTP server (<code>http-server -g [port]</code>) and reach your HTML</li>\n</ol>\n\n<p>I tried:</p>\n\n<ul>\n<li>Targetting ES 5</li>\n<li>Removing the line <code>\"module\": \"commonjs\"</code> from tsconfig.json`</li>\n<li>Installing CommonJS and SystemJS</li>\n<li>Compiling the .ts using <code>tsc</code></li>\n<li>Any other solution Stack Overflow has in similar questions</li>\n<li>All the possible permutations of the above.</li>\n</ul>\n\n<p>My .ts (can be anything if it has an import instruction):</p>\n\n<pre><code>import { setTimeout } from \"timers\";\nsetTimeout(() =&gt; console.log(\"asdf\"), 1000);\n</code></pre>\n\n<p>The HTML just has a simple body referencing the script</p>\n\n<p>My package.json</p>\n\n<pre><code>{\n  \"name\": \"nodejs-web-app4\",\n  \"version\": \"0.0.0\",\n  \"description\": \"NodejsWebApp4\",\n  \"main\": \"server.js\",\n  \"author\": {\n    \"name\": \"\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^8.0.14\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es6\",\n    \"lib\": [\"es6\"],\n    \"sourceMap\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>Resulting .js:</p>\n\n<p>From VS build (results in <code>ReferenceError: exports is not defined</code>):</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst timers_1 = require(\"timers\");\ntimers_1.setTimeout(() =&gt; console.log(\"asdf\"), 1000);\n//# sourceMappingURL=home-script.js.map\n</code></pre>\n\n<p>From command <code>tsc [filename].ts</code> (results in <code>ReferenceError: exports is not defined</code>):</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nvar timers_1 = require(\"timers\");\ntimers_1.setTimeout(function () { return console.log(\"asdf\"); }, 1000);\n</code></pre>\n\n<p>From VS Build but removing <code>\"module\": \"commonjs\"</code> from tsconfig (results in <code>SyntaxError: import declarations may only appear at top level of a module</code>):</p>\n\n<pre><code>import { setTimeout } from \"timers\";\nsetTimeout(() =&gt; console.log(\"asdf\"), 1000);\n//# sourceMappingURL=asdf.js.map\n</code></pre>\n\n<p>All the HTML and ts will be called as \"static\" (no MVC)</p>\n\n<p>Is it wrong to use <code>http-server</code> to see static HTML from my VS project? Is that the issue?</p>\n\n<p>Should build any other way? Use a different setup?</p>\n\n<p>I have a workaround (i.e., keep everything I need in the same TypeScript file), but it confuses me that I can't create and visualize a simple project with Node/TS.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli", "angular-cli-v6"], "comments": [{"owner": {"reputation": 2012, "user_id": 3030243, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AcuEX.jpg?s=128&g=1", "display_name": "PsyGik", "link": "https://stackoverflow.com/users/3030243/psygik"}, "edited": false, "score": 0, "creation_date": 1550061402, "post_id": 54669961, "comment_id": 96130537, "body": "Can you show the code on how each project is included in shared module?"}, {"owner": {"reputation": 61, "user_id": 9417537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0d7d728f85d6f2cb0451a680b21a7a?s=128&d=identicon&r=PG&f=1", "display_name": "bb1", "link": "https://stackoverflow.com/users/9417537/bb1"}, "reply_to_user": {"reputation": 2012, "user_id": 3030243, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AcuEX.jpg?s=128&g=1", "display_name": "PsyGik", "link": "https://stackoverflow.com/users/3030243/psygik"}, "edited": false, "score": 0, "creation_date": 1550063634, "post_id": 54669961, "comment_id": 96131894, "body": "It&#39;s the other way around. The shared module is imported in both projects. But the shared module is very basic and has only two declarations and exports."}, {"owner": {"reputation": 988, "user_id": 1931563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3MpO.png?s=128&g=1", "display_name": "AlokeT", "link": "https://stackoverflow.com/users/1931563/aloket"}, "edited": false, "score": 0, "creation_date": 1550666284, "post_id": 54669961, "comment_id": 96351490, "body": "Please add the <code>angular.json</code> data to the question."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 9417537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0d7d728f85d6f2cb0451a680b21a7a?s=128&d=identicon&r=PG&f=1", "display_name": "bb1", "link": "https://stackoverflow.com/users/9417537/bb1"}, "is_accepted": true, "score": 0, "last_activity_date": 1552927571, "creation_date": 1552927571, "answer_id": 55226217, "question_id": 54669961, "link": "https://stackoverflow.com/questions/54669961/angular-build-fails-because-it-includes-components-from-another-angular-project/55226217#55226217", "title": "Angular build fails because it includes components from another angular project", "body": "<p>I found an unused import which itself imported most of the other projects components.</p>\n\n<p>But if anyone still knows a way to see which file caused this kind of error I would still appreciate it and accept it as the final answer. I had to look into every single file to find the wrong import.</p>\n"}], "owner": {"reputation": 61, "user_id": 9417537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e0d7d728f85d6f2cb0451a680b21a7a?s=128&d=identicon&r=PG&f=1", "display_name": "bb1", "link": "https://stackoverflow.com/users/9417537/bb1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 55226217, "answer_count": 1, "score": 0, "last_activity_date": 1552927571, "creation_date": 1550060058, "last_edit_date": 1550666047, "question_id": 54669961, "link": "https://stackoverflow.com/questions/54669961/angular-build-fails-because-it-includes-components-from-another-angular-project", "title": "Angular build fails because it includes components from another angular project", "body": "<p>When I run <code>ng build project1 --prod</code> the build fails with the error message </p>\n\n<blockquote>\n  <p><code>ERROR in : Cannot determine the module for class MyComponent in .../project2/app/my.component.ts! Add MyComponent to the NgModule to fix it.</code>.</p>\n</blockquote>\n\n<p>This seems pretty straight forward, BUT the mentioned Component is not part of the current Angular project. I defined two projects inside my angular.json and they are not dependent of each other (project1 &amp; project2). I've got a separate shared module which both projects import and use.</p>\n\n<p>The error appeared when I moved a component from project2 to my shared module. My project2 builds fine and the moved components also work fine. <code>ng serve project1</code> works without problems. But for some reason, my first project now depends on most components from my second project for no reason. I already searched all my imports for the file without success. Maybe it's related to the fact that the components from project2 extend a component from the shared module?</p>\n\n<p>So is there any way to see where angular thinks it needs this? For example, I see the main chuck was build before - what is angular building when it fails?</p>\n\n<p>Can I exclude this somehow (<code>tsconfig.app.json</code> exclude didn't work)?</p>\n"}, {"tags": ["typescript", "dto"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 3, "creation_date": 1550059911, "post_id": 54669877, "comment_id": 96129698, "body": "try and simplify your problem to a small reproducible example with only a few keys."}, {"owner": {"reputation": 31, "user_id": 11056292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb77dba294a3fbd7edf519f05add323?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin_789", "link": "https://stackoverflow.com/users/11056292/nitin-789"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1550060340, "post_id": 54669877, "comment_id": 96129918, "body": "hi @shusson, that is exactly how I am getting the issue, while mapping the object with hierarchical structure. I have added an object as well as an  array to make it more clear."}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1550063268, "post_id": 54669877, "comment_id": 96131663, "body": "I mean reduce the complexity of your example. Find a minimally reproducible example. That way it&#39;s easier for people to understand and answer"}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 10201390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6c2728c2778ff64cc8bd6b6b496862?s=128&d=identicon&r=PG&f=1", "display_name": "Gurpreet_Carmel_5", "link": "https://stackoverflow.com/users/10201390/gurpreet-carmel-5"}, "is_accepted": false, "score": 1, "last_activity_date": 1550120709, "creation_date": 1550120709, "answer_id": 54683511, "question_id": 54669877, "link": "https://stackoverflow.com/questions/54669877/how-to-map-dto-using-interfaces-in-typescript/54683511#54683511", "title": "How to map DTO using interfaces in typescript?", "body": "<p>You can try to implement your interface for a strict schema using nested interfaces or complex interface signatures.</p>\n\n<p>Here is a StackOverflow link on how to achieve the same : <a href=\"https://stackoverflow.com/questions/42216053/typescript-how-do-i-define-interfaces-for-nested-objects\">Typescript: How do I define interfaces for nested objects?</a></p>\n\n<p>Alternatively you can use different npm package for domain to model mapping in typescript like Automapper for typescript( <a href=\"https://github.com/loedeman/AutoMapper\" rel=\"nofollow noreferrer\">https://github.com/loedeman/AutoMapper</a> )</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 1885763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c356af696b3d0eb687a8a55a3db17e?s=128&d=identicon&r=PG", "display_name": "Yann RENAUDIN", "link": "https://stackoverflow.com/users/1885763/yann-renaudin"}, "is_accepted": false, "score": 2, "last_activity_date": 1553129062, "creation_date": 1553129062, "answer_id": 55272180, "question_id": 54669877, "link": "https://stackoverflow.com/questions/54669877/how-to-map-dto-using-interfaces-in-typescript/55272180#55272180", "title": "How to map DTO using interfaces in typescript?", "body": "<p>Just a follow up about the request. Beside of the suggestion to break down the interface in smaller schemas, I also implemented the ability to create a complex object from the schema. Available in the latest version of <a href=\"https://www.npmjs.com/package/morphism\" rel=\"nofollow noreferrer\">Morphism: 1.9.1</a></p>\n\n<p>Here's the <a href=\"https://github.com/nobrainr/morphism/issues/50#issuecomment-474120987\" rel=\"nofollow noreferrer\">Github Issue</a> and a <a href=\"https://repl.it/@yrnd1/Morphism-Complex-Object-using-StrictSchema\" rel=\"nofollow noreferrer\">working repl</a></p>\n"}], "owner": {"reputation": 31, "user_id": 11056292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb77dba294a3fbd7edf519f05add323?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin_789", "link": "https://stackoverflow.com/users/11056292/nitin-789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4337, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1553129062, "creation_date": 1550059748, "question_id": 54669877, "link": "https://stackoverflow.com/questions/54669877/how-to-map-dto-using-interfaces-in-typescript", "title": "How to map DTO using interfaces in typescript?", "body": "<p>I am trying to implement morphism/DTO mapping concept in typescript.</p>\n\n<p>To give a brief overview on the concept of morphism, morphism refers to a structure-preserving map from one mathematical structure to another. \nA morphism f with source X and target Y is written f : X \u2192 Y.</p>\n\n<p>More on <a href=\"https://en.wikipedia.org/wiki/Morphism\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Morphism</a></p>\n\n<p>I am trying to do source to destination mapping of a complex type object (i.e an object containing another object and arrays of object) in generic way using StrictSchema of morphism. Please refer to link provided below to get more on morphism npm package.\n<a href=\"https://github.com/nobrainr/morphism\" rel=\"nofollow noreferrer\">https://github.com/nobrainr/morphism</a></p>\n\n<p>my interface</p>\n\n<pre><code>            interface IFoo {  \n                  keyA: {\n                  key1: number,\n                  key2: number,\n                  key3: [\n                    {\n                      key3A: string,\n                      key3B: number\n                    }\n                  ],\n                  key4: string\n                },\n                keyB: string,\n                keyC: number,\n                keyD: {\n                  key1: string,\n                  key2: {\n                    key2A: string\n                  },\n                  key3: string\n                },\n                keyE: string\n            }\n\n\n            const schema: StrictSchema&lt;IFoo&gt; = \n            {  keyA: {\n                  key1: 'somepath',\n                  key2: 'somepath',\n                  key3: [\n                    {\n                      key3A: 'somepath',\n                      key3B: 'somepath'\n                    }\n                  ],\n                  key4: 'somepath'\n                },\n                keyB: 'somepath',\n                keyC: 'somepath',\n                keyD: {\n                  key1: 'somepath',\n                  key2: {\n                    key2A: 'somepath'\n                  },\n                  key3: 'somepath'\n                },\n                keyE: 'somepath'\n            };\n\n        const target = morphism(schema, someSourceObject);\n</code></pre>\n\n<p>Here, schema is the object-preserving map for my interface. I have added 'somepath' as a value for each key and I will replace this with some actual path from the actual source object.\nbut while doing so I am getting:\nError : The expected type comes from property 'keyA' which is declared here on type 'StrictSchema</p>\n\n<p>So, First of all, can I preserve mapping in above scenarieo using morphism because I have not come accross any such examples using 'ScrictSchema'. If yes, then how?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2690, "user_id": 602242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/BFAuy.png?s=128&g=1", "display_name": "danielv", "link": "https://stackoverflow.com/users/602242/danielv"}, "edited": false, "score": 0, "creation_date": 1550071031, "post_id": 54670281, "comment_id": 96136782, "body": "Thanks. I suspected that the workaround might be cumbersome. FWIW, I opened <a href=\"https://github.com/Microsoft/TypeScript/issues/29893\" rel=\"nofollow noreferrer\">feature request</a> for this. I&#39;ll accept this answer if nothing more elegant comes up."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1550061157, "creation_date": 1550061157, "answer_id": 54670281, "question_id": 54669533, "link": "https://stackoverflow.com/questions/54669533/failable-constructors-with-strictnullchecks-compiler-option/54670281#54670281", "title": "Failable Constructors with &quot;strictNullChecks&quot; compiler option", "body": "<p>Typescript does no support type annotations for the return type of a constructor in a class. </p>\n\n<p>You can declare the class and define the constructor separately as returning <code>InstanceType | undefined</code>. </p>\n\n<pre><code>class _X {\n    constructor() {\n        if (Math.random() &gt; 0.5) return undefined as any;\n    }\n}\n\nconst X = _X as MakeFailable&lt;typeof _X&gt;;\n\ntype MakeFailable&lt;T extends new (...a: any[]) =&gt; any&gt; = {\n    new (...a: ConstructorParameters&lt;T&gt;): undefined | InstanceType&lt;T&gt;\n} &amp; Pick&lt;T, keyof T&gt;\n</code></pre>\n\n<p>One problem is that the class obtained this way will not be inheritable since typescript can't deal with the <code>undefined</code> in the return of the constructor.</p>\n\n<p>You could even make a helper function to better hide the implementation class:</p>\n\n<pre><code>type MakeFailable&lt;T extends new (...a: any[]) =&gt; any&gt; = {\n    new (...a: ConstructorParameters&lt;T&gt;): undefined | InstanceType&lt;T&gt;\n} &amp; Pick&lt;T, keyof T&gt;\n\nfunction makeFailable&lt;T extends new (...a: any[]) =&gt; any&gt;(cls: T): MakeFailable&lt;T&gt; {\n    return cls as any\n}\n\nconst Foo = makeFailable(class {\n    constructor() {\n        if (Math.random() &gt; 0.5) return undefined as any;\n    }\n})\ntype Foo = InstanceType&lt;typeof Foo&gt;\n</code></pre>\n"}], "owner": {"reputation": 2690, "user_id": 602242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/BFAuy.png?s=128&g=1", "display_name": "danielv", "link": "https://stackoverflow.com/users/602242/danielv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54670281, "answer_count": 1, "score": 0, "last_activity_date": 1550061157, "creation_date": 1550058674, "question_id": 54669533, "link": "https://stackoverflow.com/questions/54669533/failable-constructors-with-strictnullchecks-compiler-option", "title": "Failable Constructors with &quot;strictNullChecks&quot; compiler option", "body": "<p>I like the idea of using <code>strictNullChecks</code> option in Typescript for better and more explicit <code>null</code>/<code>undefined</code> handling. But I can't find a way to achieve a <em>\"Failable Constructor\"</em> pattern with <code>strictNullChecks</code> enabled. </p>\n\n<p>Usually a default <code>strictNullChecks</code> is the desired behavior, but sometimes returning <code>undefined</code> from a constructor makes sense and the code is more readable and flexible, as opposed to throwing an error when the object can't be created.</p>\n\n<p>With regular function types, this can be explicitly allowed by adding <code>undefined</code> to the function's return type. But Typescript doesn't allow setting the return type of a constructor.</p>\n\n<p>Is there any way to enable <code>strictNullChecks</code> and still have the ability for constructors to return <code>undefined</code> in some cases?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "edited": false, "score": 0, "creation_date": 1550059039, "post_id": 54669565, "comment_id": 96129169, "body": "Thanks! Follow up questions if you have time: based on my example, do you think I should just skip the interface in my code or is there any value on keeping it?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "edited": false, "score": 1, "creation_date": 1550062700, "post_id": 54669565, "comment_id": 96131293, "body": "@user1283776 If you have common properties I would keep it, but only for use as a base interface"}, {"owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "edited": false, "score": 0, "creation_date": 1550063340, "post_id": 54669565, "comment_id": 96131708, "body": "Thanks! This thread has helped me understand more about what to use interfaces for and what to use types for"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1550058752, "creation_date": 1550058752, "answer_id": 54669565, "question_id": 54669356, "link": "https://stackoverflow.com/questions/54669356/can-typescript-infer-correct-types-in-a-switch-block-when-using-extends-the-same/54669565#54669565", "title": "Can TypeScript infer correct types in a switch block when using extends the same way I can when using unions?", "body": "<p><code>TL;DR</code> No, you need a union.</p>\n\n<p>The reason the switch statement works in the first case is because you have a discriminated union. The switch can narrow the type of the union based on the check as the list of possible types is known and finite.</p>\n\n<p>In the second case <code>IServerMessage</code> is an interface that can be implemented by any type, from anywhere. So typescript does not have an exhaustive list to narrow from and thus does not do any narrowing.</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 54669565, "answer_count": 1, "score": 1, "last_activity_date": 1550058752, "creation_date": 1550058197, "question_id": 54669356, "link": "https://stackoverflow.com/questions/54669356/can-typescript-infer-correct-types-in-a-switch-block-when-using-extends-the-same", "title": "Can TypeScript infer correct types in a switch block when using extends the same way I can when using unions?", "body": "<p>TypeScript infers the type of <code>serverMessage</code> correctly as <code>ServerInformation</code> in the case below:</p>\n\n<pre><code>export interface IServerResponse {\n    type: 'response';\n    cmd: string;\n}\n\nexport interface ServerError {\n    type: 'error',\n    errorcode: string;\n    cmd?: string;\n    trans_id?: string;\n    data?: Object;\n}\n\nexport interface ServerInformation {\n    type: 'information',\n    info: string;\n    data?: Object;\n}\n\nexport type ServerMessage = IServerResponse | ServerError | ServerInformation;\n\nlet serverMessage = message as ServerMessage;\n\nswitch (serverMessage.type) {\n    case 'information':\n        const information: Information = serverMessage.info; // type is inferred correctly\n        break;\n</code></pre>\n\n<p>But in my mind it seems more in line with the class syntax I am using in other places to extend the different kinds of messages with an <code>IServerMessage</code> than to combine them to a <code>ServerMessage</code> type.</p>\n\n<p>Can this be done? My attempt below fails.</p>\n\n<pre><code>export interface IServerMessage {\n    type: string;\n}\n\nexport interface IServerResponse extends IServerMessage {\n    type: 'response';\n    cmd: string;\n}\n\nexport interface ServerError extends IServerMessage {\n    type: 'error',\n    errorcode: string;\n    cmd?: string;\n    trans_id?: string;\n    data?: Object;\n}\n\nexport interface ServerInformation extends IServerMessage {\n    type: 'information',\n    info: string;\n    data?: Object;\n}\n\nlet serverMessage: IServerMessage = message ;\n\nswitch (serverMessage.type) {\n    case 'information':\n        const information: Information = serverMessage.info; // type is still inferred as ServerMessage, not the more specific InformationMessage\n        break;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "nestjs", "typeorm"], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 5, "last_activity_date": 1561281765, "last_edit_date": 1561281765, "creation_date": 1550065490, "answer_id": 54671666, "question_id": 54668910, "link": "https://stackoverflow.com/questions/54668910/alias-was-not-found-maybe-you-forget-to-join-it/54671666#54671666", "title": "alias was not found. Maybe you forget to join it", "body": "<p>You have to inject the <code>Repository</code> first:</p>\n\n<pre><code>constructor(\n  @InjectRepository(Post) private readonly postRepository: Repository&lt;Post&gt;\n) {\n}\n</code></pre>\n\n<p>Then you can create the <code>QueryBuilder</code> for the <code>Post</code> entity by passing in the alias:</p>\n\n<pre><code>this.postRepository.createQueryBuilder('post')\n// ^^^^^^^^^^^^^^^^\n   .leftJoinAndSelect(\n     'post.user',\n     'user',\n     'post.title = :title',\n     { title: 'title1' },\n   )\n   .where('user.id = :id', { id })\n   .getOne();\n</code></pre>\n"}], "owner": {"reputation": 755, "user_id": 8148332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b573bde564f999a28ba79d867af7ab?s=128&d=identicon&r=PG&f=1", "display_name": "muklah", "link": "https://stackoverflow.com/users/8148332/muklah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3320, "favorite_count": 0, "accepted_answer_id": 54671666, "answer_count": 1, "score": 4, "last_activity_date": 1561281765, "creation_date": 1550056620, "last_edit_date": 1550065612, "question_id": 54668910, "link": "https://stackoverflow.com/questions/54668910/alias-was-not-found-maybe-you-forget-to-join-it", "title": "alias was not found. Maybe you forget to join it", "body": "<p>In my nectjs project I'm using TypeORM and I have 2 entities user and post,\nand I'm tying to make a relation between them</p>\n\n<h3>user.entity.ts</h3>\n\n<pre><code>@Entity()\nexport class User {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 50, unique: true })\n  name: string;\n\n  @OneToMany(type =&gt; Post, post =&gt; post.user)\n  posts: Post[];\n}\n</code></pre>\n\n<h3>post.entity.ts</h3>\n\n<pre><code>@Entity()\nexport class Post {\n  @PrimaryGeneratedColumn()\n  id: number;\n\n  @Column({ length: 30 })\n  title: string;\n\n  @ManyToOne(type =&gt; User, user =&gt; user.posts)\n  user: User;\n}\n</code></pre>\n\n<p>So I want to join these tables and get post by it's title for specific user</p>\n\n<pre><code>const PostObject = await createQueryBuilder(\"post\")\n      .leftJoinAndSelect(\n        \"post.user\",\n        \"user\",\n        \"post.title = :title\",\n        { title: \"title1\" }\n      )\n      .where(\"user.id = :id\", { id: id })\n      .getOne();\n</code></pre>\n\n<p>but when I run the project and execute this function I get this error:</p>\n\n<pre><code>Error: \"post\" alias was not found. Maybe you forget to join it?\n</code></pre>\n"}, {"tags": ["html", "typescript", "google-chrome", "angular5", "clipboard"], "comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1550119961, "post_id": 54668791, "comment_id": 96155388, "body": "When is it called? Also any reason for using a &lt;body&gt; tag? Sounds kinda asking for troubles."}, {"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1550121872, "post_id": 54668791, "comment_id": 96155851, "body": "I have updated question for how it is called. No specific reason to use &lt;body&gt;. This is what I tried the first time it worked so I did not play around the code. Any suggestions on this, should I try something else?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1550122721, "post_id": 54668791, "comment_id": 96156093, "body": "Well the only authorized parent for a body element is an html element. Most browser will allow you to append an other one somewhere else in the document, but you may face issues, that could not really be accounted as browser bugs. And from fast testing, it seems it is indeed your current issue (which is still quite surprising TBH). Try replacing it with a &lt;div&gt;  for instance."}, {"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1550123544, "post_id": 54668791, "comment_id": 96156303, "body": "@Kaiido I tried replacing body with div like this &#39;const body = document.createElement(&#39;div&#39;);&#39; but allas still not working in chrome \u2013"}], "answers": [{"comments": [{"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "edited": false, "score": 0, "creation_date": 1550127626, "post_id": 54684198, "comment_id": 96157763, "body": "thanks for you efforts. However, this code works fine if I copy just a string but when I want to copy the HTML (here i am forming a hyperlink) its does not work, it does not even copy. Not sure this is any browser issue or code issue. Giving some extra info I have chrome 70.0.35 and I work on angular 5.2.10 and my client machine does not have internet. Any ideas from you side?"}, {"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "edited": false, "score": 0, "creation_date": 1550127896, "post_id": 54684198, "comment_id": 96157904, "body": "Also, to add, when I console log the div I can see the correct HTML forming its just that it does not get copied."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": false, "score": 0, "last_activity_date": 1550124614, "creation_date": 1550124614, "answer_id": 54684198, "question_id": 54668791, "link": "https://stackoverflow.com/questions/54668791/cannot-copy-html-formatted-string-to-clipboard-in-chrome/54684198#54684198", "title": "Cannot copy html formatted string to clipboard in Chrome", "body": "<p>I guess their recent implementation of the async ClipboardAPI made Chrome change their behavior w.r.t. <code>execCommand('copy')</code>, since it looks like it is now an async method.<br>\n<code>execCommand</code> is supposed to be a synchronous method, so this qualifies as a browser bug.</p>\n\n<p>Now the workaround is to wait a little bit before you remove your source element.</p>\n\n<p>(Also note that using a &lt;body> element here was a bad idea and actually an other part of the issue).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n  serviceCall() { return Math.random();},\r\n  selectedFiles: [\r\n    { name: 'foo', fileName: 'foo.bar' },\r\n    { name: 'bar', fileName: 'bar.foo' }\r\n  ],\r\n  copyToClipboard() {\r\n    // don't use a &lt;body&gt; element\r\n    const body = document.createElement('div');\r\n    const breakLine = document.createElement('br');\r\n    const ol = document.createElement('ol');\r\n\r\n    const range = document.createRange();\r\n    document.body.appendChild(body);\r\n    body.appendChild(ol);\r\n\r\n    let name = \"\"; // we're in pure js\r\n    this.selectedFiles.forEach(doc =&gt; {\r\n      const docURL = this.serviceCall();\r\n      const anchor = document.createElement('a');\r\n      const li = document.createElement('li');\r\n\r\n      anchor.href = docURL;\r\n      anchor.text = doc.fileName;\r\n      name = doc.name;\r\n      body.appendChild(li).appendChild(anchor);\r\n    });\r\n    range.selectNode(body);\r\n\r\n    window.getSelection().addRange(range);\r\n    document.execCommand('copy');\r\n    // wait just a bit\r\n    requestAnimationFrame(() =&gt;\r\n      document.body.removeChild(body)\r\n    );\r\n  }\r\n}\r\n\r\nbtn.onclick = e =&gt; obj.copyToClipboard();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button id='btn'&gt;\r\n  copy to clipboard\r\n&lt;/button&gt;\r\n&lt;textarea&gt;paste here to check your clipboard's content&lt;/textarea&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550124614, "creation_date": 1550056260, "last_edit_date": 1550121771, "question_id": 54668791, "link": "https://stackoverflow.com/questions/54668791/cannot-copy-html-formatted-string-to-clipboard-in-chrome", "title": "Cannot copy html formatted string to clipboard in Chrome", "body": "<p>I work on <code>angular5</code> and I have to copy some <code>HTML</code> code from <code>clipboard</code> and paste it in the outlook. I have achieved it this for IE but same code is not working in chrome, chrome does not copy anything at all nor showing any console errors.</p>\n\n<p>Basically, as soon as I copy I have to create a <code>hyperlink</code> and past that hyperlink in the outlook and when user clicks on that link a new page with that hyperlink ref should open. My code as below, please help me achieve copy functionality for chrome?</p>\n\n<pre><code>public copyToClipboard {\n  const body = document.createElement('body');\n  const breakLine = document.createElement('br');\n  const ol = document.createElement('ol');\n\n  const range = document.createRange();\n  document.body.appendChild(body);\n  body.appendChild(ol);\n\n  let name: string;\n  this.selectedFiles.forEach(doc =&gt; {\n    const docURL = this.serviceCall();\n    const anchor = document.createElement('a');\n    const li = document.createElement('li');\n\n    anchor.href = docURL;\n    anchor.text = doc.fileName;\n    name = doc.name;\n    body.appendChild(li).appendChild(anchor);\n   });\n    range.selectNode(body);\n\n    window.getSelection().addRange(range);\n    document.execCommand('copy');\n    document.body.removeChild(body);\n}\n\n//HTML\n&lt;button pButton (click)=\"copyToClipboard()\"&gt;&lt;/button&gt;\n</code></pre>\n\n<p>(Please ignore if any spelling mistakes in my code as I have typed the code instead of copy+paste, this code is working perfect in IE)</p>\n"}, {"tags": ["typescript", "parameters", "constructor", "visual-studio-code", "ionic3"], "comments": [{"owner": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1550059761, "post_id": 54668745, "comment_id": 96129615, "body": "is TSLint extension installed on your VS Code ?"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1550063814, "post_id": 54668745, "comment_id": 96132018, "body": "@CodeChanger - I thought it was - but no. (I have a VM where I also do Python Development - I had enabled some sort of linter for that environment - not the native OSX one where I use it for TypeScript)"}, {"owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "reply_to_user": {"reputation": 6130, "user_id": 706020, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fBRG0.png?s=128&g=1", "display_name": "CodeChanger", "link": "https://stackoverflow.com/users/706020/codechanger"}, "edited": false, "score": 0, "creation_date": 1550067956, "post_id": 54668745, "comment_id": 96134678, "body": "Is the <code>[x:string]: any</code> perhaps a way of doing a map style property reference - that&#39;s sort of like late binding or run-time evaluation of type perhaps? So you could perhaps have <code>this.[&#39;events&#39;]</code>?"}], "owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550058443, "creation_date": 1550056102, "last_edit_date": 1550058443, "question_id": 54668745, "link": "https://stackoverflow.com/questions/54668745/why-does-ts-private-constructor-arg-not-result-in-this-context-property-works", "title": "Why does TS private constructor arg not result in &#39;this&#39; context property? Works in examples! Is it TS version dependent? &amp; what is VS Code fix about?", "body": "<p>I am doing this in the context of an Ionic 3 App and the constructor of a Page.</p>\n\n<p>If I have code like so:</p>\n\n<pre><code>import { Events } from 'ionic-angular';\nconst REFRESH = 'refresh';\nexport class JobsPage {\n  constructor (private events:Events) {\n    events.subscribe(REFRESH, ()=&gt; {\n      ...\n    });\n  }\n  ionViewWillUnload():void {\n    this.events.unsubscribe(REFRESH);\n  }\n}\n</code></pre>\n\n<p>VS Code provides a light bulb with a fix (this is not the same code as above... I abridged the solution but am showing the same issue with no <code>this.events</code> nonetheless and the context menu you gain accessibility to).</p>\n\n<p><a href=\"https://i.stack.imgur.com/36f8Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36f8Z.png\" alt=\"VS Code add index signature\"></a></p>\n\n<p>If I select add index signature for property 'events', it adds the following code snippet, after <code>export class JobsPage {</code> and before the <code>constructor</code>. </p>\n\n<pre><code>[x: string]: any;\n</code></pre>\n\n<p>and the warnings disappear.</p>\n\n<ol>\n<li><p>What exactly is that all about?</p></li>\n<li><p>I know I can make the constructor argument for events public and gain accessibility to <code>this.events</code>, (no accessibility modifier denies this too - same as private. I could also declare a class property <code>private events2:Events</code> and in the constructor say <code>this.events2 = events</code>), but I have seen videos like <a href=\"https://www.youtube.com/watch?v=VSk1STdGjrI\" rel=\"nofollow noreferrer\">this one</a>\nwhere it allowed private constructor argument and accessibility to this.events, per the following screenshot. </p></li>\n</ol>\n\n<p><strong>Screenshot from linked Youtube video @4:51</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/3JGRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3JGRr.png\" alt=\"this.events with private constructor\"></a></p>\n\n<p>Is this somehow down to a TypeScript version?</p>\n\n<p>I am using:</p>\n\n<ul>\n<li>TypeScript 2.4.2 </li>\n<li>VS Code (for Mac) Version 1.31.0</li>\n</ul>\n\n<p><strong>TypeScript version I use taken from my VSCode IDE</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/4xUM3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4xUM3.png\" alt=\"Typescript Version\"></a></p>\n\n<p><strong>VS Code version for Mac</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/tiPHG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tiPHG.png\" alt=\"VS Code Version\"></a></p>\n"}, {"tags": ["angular", "typescript", "formbuilder"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1550057616, "creation_date": 1550057616, "answer_id": 54669200, "question_id": 54668384, "link": "https://stackoverflow.com/questions/54668384/add-mock-class-for-form-builder-group-in-angular/54669200#54669200", "title": "Add mock class for Form Builder group in Angular", "body": "<p>You can create a class for that : </p>\n\n<pre><code>export class User {\n  name: string;\n  email: string;\n  profile: string;\n\n  toFormGroup() {\n    return {\n      name: [this.name, Validators.required],\n      email: [this.email, [Validators.required, ValidationService.emailValidator]],\n      profile: [this.profile, [Validators.required, Validators.minLength(10)]]\n    };\n  }\n}\n</code></pre>\n\n<p>Now you can use it like this : </p>\n\n<pre><code>const user = new User();\nuser.name = 'John Doe';\nthis.form = this.fb.group(user.toFormGroup());\n</code></pre>\n"}], "owner": {"reputation": 1273, "user_id": 3767655, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3b91d5a21d6f5b8a5ff18d7228f1c8b6?s=128&d=identicon&r=PG&f=1", "display_name": "Goldbones", "link": "https://stackoverflow.com/users/3767655/goldbones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54669200, "answer_count": 1, "score": 0, "last_activity_date": 1550057624, "creation_date": 1550054951, "last_edit_date": 1550057624, "question_id": 54668384, "link": "https://stackoverflow.com/questions/54668384/add-mock-class-for-form-builder-group-in-angular", "title": "Add mock class for Form Builder group in Angular", "body": "<p>I\u00b4m creating a lot of new forms like, for example:</p>\n\n<pre><code>  constructor(private formBuilder: FormBuilder) {\n\n    this.userForm = this.formBuilder.group({\n      'name': ['', Validators.required],\n      'email': ['', [Validators.required, ValidationService.emailValidator]],\n      'profile': ['', [Validators.required, Validators.minLength(10)]]\n    });\n  }\n</code></pre>\n\n<p>Instead of declare this new values directly, should not be a better approach to create class with this info like something:</p>\n\n<pre><code>export class UserValidator{\n  something....\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code> this.userForm = this.formBuilder.group({\n      UserValidator\n    });\n</code></pre>\n\n<p>There is any example for this?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1550059943, "post_id": 54668382, "comment_id": 96129711, "body": "Could you provide a stackblitz. It kind of seems to work here <a href=\"https://stackblitz.com/edit/angular-rmgw95\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-rmgw95</a>"}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 0, "creation_date": 1550060656, "post_id": 54668382, "comment_id": 96130074, "body": "So strange...my code basically matches, not sure why mine doesn&#39;t work. Maybe something else is affecting this..."}, {"owner": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 0, "creation_date": 1550088686, "post_id": 54668382, "comment_id": 96146208, "body": "you should show the code consuming the observable."}, {"owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "reply_to_user": {"reputation": 34013, "user_id": 674326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb1ffcb8355a833bc34334d75cefeb3d?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/674326/brandon"}, "edited": false, "score": 0, "creation_date": 1550103809, "post_id": 54668382, "comment_id": 96151838, "body": "@Brandon I&#39;m using an HTTP interceptor, so the code consuming the observable would be the Angular HttpClient, something I have no access to."}], "owner": {"reputation": 8115, "user_id": 4749297, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/LXTZX.jpg?s=128&g=1", "display_name": "Lansana Camara", "link": "https://stackoverflow.com/users/4749297/lansana-camara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550054946, "creation_date": 1550054946, "question_id": 54668382, "link": "https://stackoverflow.com/questions/54668382/multi-value-observable-stream-only-giving-single-value", "title": "multi-value observable stream only giving single value", "body": "<p>Following the HttpInterceptor cache example from <a href=\"https://angular.io/guide/http#caching\" rel=\"nofollow noreferrer\">official Angular docs</a>, and it demonstrates using a multi-value observable stream for cached responses by using <code>startWith</code>.</p>\n\n<p>Example code:</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\n\nimport {Observable} from 'rxjs';\nimport {tap, startWith} from 'rxjs/operators';\n\n@Injectable()\nexport class CacheInterceptor implements HttpInterceptor {\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler) {\n        if (req.method !== 'GET') {\n            return next.handle(req);\n        }\n\n        const cachedResponse = cache.get(req);\n        const results$ = sendRequest(req, next);\n        return cachedResponse ? results$.pipe(startWith(cachedResponse)) : results$;\n    }\n}\n\nfunction sendRequest(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    return next.handle(req).pipe(\n        tap(event =&gt; {\n            if (event instanceof HttpResponse) {\n                cache.put(req, event);\n            }\n        })\n    );\n}\n\nexport class HttpCache {\n    cache = new Map();\n\n    get(req: HttpRequest&lt;any&gt;): HttpResponse&lt;any&gt; | undefined {\n        const url = req.urlWithParams;\n        const cached = this.cache.get(url);\n\n        if (!cached) {\n            return undefined;\n        }\n\n        return cached.response;\n    }\n\n    put(req: HttpRequest&lt;any&gt;, response: HttpResponse&lt;any&gt;): void {\n        const url = req.urlWithParams;\n        const entry = {url, response, lastRead: Date.now()};\n\n        this.cache.set(url, entry);\n    }\n}\n\nconst cache: HttpCache = new HttpCache();\n</code></pre>\n\n<p>The code doesn't work. It always waits for the 2nd observable and never emits the first value contained in <code>startWith</code>. What gives?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550055507, "post_id": 54668388, "comment_id": 96127100, "body": "Yes I don&#39;t have the error message but on the first click it&#39;s still don&#39;t scroll :/"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550055580, "post_id": 54668388, "comment_id": 96127154, "body": "It doesn&#39;t scroll, because of the height is not much to scroll. Try adjusting height of element to get space for scroll"}, {"owner": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550055736, "post_id": 54668388, "comment_id": 96127257, "body": "I send a light div in my sample in ou project I can scroll but I cant do it for the first click"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550055941, "post_id": 54668388, "comment_id": 96127377, "body": "Can you update my stackblitz with your code you are trying"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550056385, "post_id": 54668388, "comment_id": 96127633, "body": "@Soleyne Seems you attached my stackblitz not updated one"}, {"owner": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550056497, "post_id": 54668388, "comment_id": 96127695, "body": "Yes I don&#39;t know why"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 0, "creation_date": 1550057603, "post_id": 54668388, "comment_id": 96128326, "body": "I checked very strange behavior. Even I am surprised why this is happening."}, {"owner": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "edited": false, "score": 1, "creation_date": 1550057749, "post_id": 54668388, "comment_id": 96128419, "body": "So you understand  what I wanted to say? I need a second click to go to the div :/"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1550057997, "last_edit_date": 1550057997, "creation_date": 1550054956, "answer_id": 54668388, "question_id": 54668310, "link": "https://stackoverflow.com/questions/54668310/how-can-i-resolve-cannot-read-property-scrollintoview-of-null/54668388#54668388", "title": "How can I resolve cannot read property scrollIntoView of null?", "body": "<p>Change your <code>*ngIf</code> with <code>hidden</code> like this -</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div&gt;Some elements&lt;/div&gt;\n &lt;a (click)=\"go()\"&gt;toto&lt;/a&gt;\n&lt;div [hidden]=\"!show\"&gt;\n  &lt;h2 #step1&gt;titi&lt;/h2&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TS:</p>\n\n<pre><code>@ViewChild('step1') step1: ElementRef;\n  show : boolean = false\ngo(){\n    this.show = true;\n    this.step1.nativeElement.scrollIntoView({ behavior: \"smooth\"});\n}\n</code></pre>\n\n<p>The reason behind this is in first go Angular won't find element having id step1, As <code>*ngIf</code>  will remove an element from the DOM, Whereas <code>hidden</code> just hide from the DOM.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-jrqxlv?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">Working Example</a></p>\n"}], "owner": {"reputation": 77, "user_id": 9593757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb421b07f47f15f462eb68ff81e29c55?s=128&d=identicon&r=PG&f=1", "display_name": "Soleyne", "link": "https://stackoverflow.com/users/9593757/soleyne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550057997, "creation_date": 1550054737, "last_edit_date": 1550057037, "question_id": 54668310, "link": "https://stackoverflow.com/questions/54668310/how-can-i-resolve-cannot-read-property-scrollintoview-of-null", "title": "How can I resolve cannot read property scrollIntoView of null?", "body": "<p>I create an angular project</p>\n\n<p><strong>.html file:</strong></p>\n\n<pre><code>&lt;a (click)=\"go()\"&gt;toto&lt;/a&gt;\n&lt;div&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam iaculis ex \nporttitor semper iaculis. Nam dapibus erat interdum, scelerisque magna et, finibus sapien. Aliquam tempus porta ante id rhoncus. Cras sit amet consequat tellus, at malesuada tellus. Vivamus et augue dolor. In consequat pretium massa in imperdiet. Donec sapien nulla, commodo sed est et, lacinia sodales augue. Curabitur sed neque vel quam consequat blandit. Curabitur rutrum commodo pretium. Maecenas posuere, nibh a ultricies laoreet, orci nibh fermentum ipsum, at auctor quam orci a massa. Duis varius, massa vel sollicitudin fermentum, augue lectus aliquam nibh, quis imperdiet purus arcu non orci. Mauris eget neque risus. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec in ligula justo. In porta dui quis ligula varius pellentesque. Duis at mi lectus.\n\nNulla vel eros blandit, ornare eros id, ultricies felis. Quisque rutrum tincidunt felis, at dictum justo eleifend non. Mauris nec ex neque. Suspendisse quis porttitor diam. Cras feugiat purus sit amet felis tristique, at accumsan massa posuere. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Phasellus varius mauris arcu, id tempus eros tempus non. Donec id risus dignissim, efficitur metus at, efficitur orci. Maecenas id odio sagittis, semper leo ac, ultricies sem.\n\nProin venenatis quis velit sed maximus. Donec aliquam orci id ante rhoncus dictum. Maecenas pretium venenatis elit, id bibendum odio malesuada ultrices. Nunc ut eros nulla. In vitae nibh nec mi tempus ultricies id eu enim. Suspendisse in sodales est. Nunc commodo commodo faucibus. Phasellus vehicula eros orci, quis ullamcorper metus sagittis ut. In sit amet tincidunt eros, non placerat arcu. Pellentesque ut malesuada tellus. Vivamus elementum lobortis risus, nec laoreet leo consequat a. Sed id hendrerit augue. Vivamus quam dolor, porttitor commodo enim sed, laoreet semper magna. Cras laoreet justo nulla, id scelerisque lorem consequat ac. Phasellus laoreet faucibus enim. Sed vitae urna sed dui ultricies interdum.\n\nSuspendisse potenti. Suspendisse tristique ornare tortor quis consectetur. In sapien felis, semper ut dolor eget, dapibus tincidunt lorem. Sed at pulvinar nulla. Maecenas egestas mi et pulvinar viverra. Aliquam laoreet feugiat quam a laoreet. Pellentesque eleifend pharetra enim, a rhoncus leo pellentesque a. Maecenas ligula sapien, rutrum non euismod ac, tincidunt sit amet risus. Ut ac ante aliquam, posuere tellus non, sodales nunc. Suspendisse ut nunc in massa fermentum imperdiet in eget nulla. Sed eget dui feugiat, maximus nisl nec, sodales nulla. Quisque sit amet sapien eu lectus porttitor vehicula. Donec id mollis tellus, ac elementum purus. Nulla quis leo sit amet lorem dictum varius. Vestibulum vehicula eget sapien non cursus.\n\nSuspendisse tempor lobortis scelerisque. Vestibulum semper et nisl ut cursus. Etiam at aliquet felis. Pellentesque mollis tellus nisl, ornare auctor enim dictum vitae. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Ut tempus tincidunt viverra. Etiam pretium efficitur justo, vitae semper turpis malesuada at. Etiam ut ipsum vulputate, varius lectus at, rhoncus est. Nulla dictum ultricies neque, in commodo orci. Cras eget suscipit nulla, nec tempus arcu. Sed dignissim, nulla non pretium tempus, quam nisl dignissim est, nec cursus massa ex eget elit. Nullam pretium tellus odio. Donec hendrerit odio vel pellentesque imperdiet. Integer eget auctor magna, ut placerat tortor. Donec ut ante fermentum, molestie augue fringilla, ornare nunc.&lt;/div&gt;\n&lt;div [hidden]=\"!show\"&gt;\n    &lt;h2 id=\"step1\"&gt;titi&lt;/h2&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>.ts file:</strong></p>\n\n<pre><code>show : boolean = false\ngo(){\n    this.show = true\n    document.getElementById(\"step1\").scrollIntoView({behavior : \"smooth\"})\n}\n</code></pre>\n\n<p>But when I click on the anchor, on the first click I have this error :</p>\n\n<blockquote>\n  <p>Cannot read property scrollIntoView of null</p>\n</blockquote>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["angular", "typescript", "angular-animations"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550054898, "post_id": 54668281, "comment_id": 96126706, "body": "On the thing that should rotate, add <code>[@flyInOut]=&quot;myVar&quot;</code> where myVar should have either <code>start</code> or <code>end</code> as values."}, {"owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "edited": false, "score": 0, "creation_date": 1550055371, "post_id": 54668281, "comment_id": 96127009, "body": "you are right , that will work , but i need to modify transform radius and generate new animation variable , start from the current rotation radian to latest rotation"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550056477, "post_id": 54668281, "comment_id": 96127683, "body": "I just answered your question, I don&#39;t know or care about your animation, do what suits you best !"}, {"owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "edited": false, "score": 0, "creation_date": 1550060062, "post_id": 54668281, "comment_id": 96129776, "body": "i need to rotate the compass , whenver user rotates the map , can we programmatically change that radian value ?"}], "answers": [{"tags": [], "owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "is_accepted": false, "score": 0, "last_activity_date": 1553544172, "creation_date": 1553544172, "answer_id": 55345580, "question_id": 54668281, "link": "https://stackoverflow.com/questions/54668281/angular-how-to-rotate-an-image-with-animation-from-component/55345580#55345580", "title": "angular :how to rotate an image with animation from component?", "body": "<p>Since your rotation is dynamic and the animation must be based on the property of rotation i.e. radians you might want to consider using AnimationBuilder.</p>\n\n<p>Try this example where I tried to rotate a <code>.needle</code> element <a href=\"https://stackblitz.com/edit/angular-animation-builder-pl9qkn\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-animation-builder-pl9qkn</a></p>\n\n<p>It uses <code>AnimationBuilder</code> to build AnimationPlayer and then it plays.\nIn that it uses the radions to transform</p>\n\n<pre><code>  animationFactory = this.animationBuilder\n    .build([\n      style({ transform: `rotate(${this.lastRadians}rad)` }),\n      animate(200, style({ transform: `rotate(${this.radians}rad)` }))\n    ]);\n</code></pre>\n"}], "owner": {"reputation": 2968, "user_id": 4480993, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/lHC4g.jpg?s=128&g=1", "display_name": "AhammadaliPK", "link": "https://stackoverflow.com/users/4480993/ahammadalipk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 909, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553544172, "creation_date": 1550054662, "question_id": 54668281, "link": "https://stackoverflow.com/questions/54668281/angular-how-to-rotate-an-image-with-animation-from-component", "title": "angular :how to rotate an image with animation from component?", "body": "<p>I have created a component called compass component in my map application , when  I rotate the map , I want to programmatically rotate that compass with animation also , Im using angular animation ,</p>\n\n<p>import { Component, OnInit, OnDestroy, Output, Input, EventEmitter, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { trigger, transition, state, animate, style, keyframes } from '@angular/animations';\nimport { UtilService } from '../utils/util.service';</p>\n\n<pre><code>@Component({\n  selector: \"app-compasstool\",\n  template: require(\"./compasstool.component.html\"),\n  styles: [require(\"./compasstool.component.scss\")],\n\n  animations: [\n    trigger('flyInOut', [\n      state('start', style({ transform: 'rotate(0rad)' })),\n      state('end', style({ transform: 'rotate(0.9rad)' })),\n      transition('* =&gt; start', [\n        animate(\"5s\", keyframes([\n          style({ transform: 'rotate(0rad)' }),// offset = 0         \n        ]))\n      ]),\n      transition('* =&gt; end', [\n        animate(\"2s\", keyframes([\n          style({ transform: 'rotate(0rad)' }),// offset = 0\n          style({ transform: 'rotate(0.2rad)' }), // offset = 0.33\n          style({ transform: 'rotate(0.6rad)' }), // offset = 0.66\n          style({ transform: 'rotate(0.9rad)' }) // offset = 1\n        ]))\n      ]),\n    ]),\n  ],\n\n\n})\n</code></pre>\n\n<p>I will get map rotation in radius , when you give with component , it will only work at initial time . How i will invoke animation with rotation inside component ?  </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "edited": false, "score": 0, "creation_date": 1550054652, "post_id": 54668218, "comment_id": 96126552, "body": "It is an invalid JSON string, <code>10px</code> needs to be like this: <code>&quot;10px&quot;</code>, so with <code>JSON.parse()</code> you can&#39;t."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1550054656, "post_id": 54668218, "comment_id": 96126554, "body": "String is invalid string, you can&#39;t have <code>&quot;</code> inside <code>&quot;</code>"}, {"owner": {"reputation": 635, "user_id": 8769830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3963ab41bdc0b2f4b1cafafc2bbccb6d?s=128&d=identicon&r=PG&f=1", "display_name": "Romain B.", "link": "https://stackoverflow.com/users/8769830/romain-b"}, "edited": false, "score": 0, "creation_date": 1550054662, "post_id": 54668218, "comment_id": 96126558, "body": "You are missing a quote in <code>&quot;margin&quot;: 10px</code> ==&gt; <code>&quot;margin&quot;: &quot;10px&quot;</code>"}, {"owner": {"reputation": 1316, "user_id": 4746639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-D0PvMWvD0Gc/AAAAAAAAAAI/AAAAAAAAAGg/V6ByFqwuBPo/photo.jpg?sz=128", "display_name": "CharybdeBE", "link": "https://stackoverflow.com/users/4746639/charybdebe"}, "edited": false, "score": 0, "creation_date": 1550054680, "post_id": 54668218, "comment_id": 96126568, "body": "Your string is not a Valid json (as the error says it)you need to put &quot; around the 10px"}], "answers": [{"tags": [], "owner": {"reputation": 9176, "user_id": 266541, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/040ebc0e818c0c64e0c5d5b31deea799?s=128&d=identicon&r=PG", "display_name": "Frederik Wordenskjold", "link": "https://stackoverflow.com/users/266541/frederik-wordenskjold"}, "is_accepted": false, "score": 1, "last_activity_date": 1550054726, "creation_date": 1550054726, "answer_id": 54668305, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object/54668305#54668305", "title": "how to convert string into object", "body": "<p>You simply need to wrap 10px in quotes (\"10px\"), and make sure that you alternate between different quotes to not break the strings:</p>\n\n<pre><code>var s = '{ \"background-color\": \"#4a90e2\", \"margin\": \"10px\" }';\nJSON.parse(s);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "is_accepted": false, "score": 1, "last_activity_date": 1550055319, "last_edit_date": 1550055319, "creation_date": 1550054749, "answer_id": 54668315, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object/54668315#54668315", "title": "how to convert string into object", "body": "<p>Currently, your JSON syntax is incorrect, as well as your javascript syntax. </p>\n\n<p>Your JSON should have keys which are strings, and values which are strings. At the moment your <code>10px</code> is not a string. You need to change this to <code>\"10px\"</code></p>\n\n<p>Moreover, your quotes within your string which you use for the object's keys/values break the string itself. You can either use backticks, backslashes or single quotes to encapsulate your string properly (without breaking the string):</p>\n\n<p><strong>Single quotes:</strong></p>\n\n<pre><code>var s = '{ \"background-color\": \"#4a90e2\", \"margin\": \"10px\" }';\n</code></pre>\n\n<p><strong>Backslashes:</strong></p>\n\n<pre><code>var s = \"{\\\"background-color\\\": \\\"#4a90e2\\\", \\\"margin\\\": \\\"10px\\\"}\";\n</code></pre>\n\n<p><strong>Backticks:</strong></p>\n\n<pre><code>var s = `{ \"background-color\": \"#4a90e2\", \"margin\": \"10px\" }`;\n</code></pre>\n\n<p>See working example below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var s = \"{\\\"background-color\\\": \\\"#4a90e2\\\", \\\"margin\\\": \\\"10px\\\"}\";\r\nconsole.log(JSON.parse(s));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": false, "score": 2, "last_activity_date": 1550054777, "creation_date": 1550054777, "answer_id": 54668324, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object/54668324#54668324", "title": "how to convert string into object", "body": "<p>Your input string is invalid.</p>\n\n<ul>\n<li><p>You cannot have <code>\"</code> inside another <code>\"</code></p></li>\n<li><p>Also <code>10px</code> is a string so you need to wrap in quote's</p></li>\n</ul>\n\n<p>Changes should be made -</p>\n\n<pre><code>var s = '{ \"background-color\": \"#4a90e2\", \"margin\": \"10px\" }';\nJSON.parse(s);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 8849071, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qp85-ryZVF0/AAAAAAAAAAI/AAAAAAAAAX4/Udfr67clBIc/photo.jpg?sz=128", "display_name": "Antonio Gamiz Delgado", "link": "https://stackoverflow.com/users/8849071/antonio-gamiz-delgado"}, "is_accepted": false, "score": 1, "last_activity_date": 1550054816, "creation_date": 1550054816, "answer_id": 54668334, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object/54668334#54668334", "title": "how to convert string into object", "body": "<p>You have to use different types of quotes!\nThis would work: <code>'{ \"background-color\": \"#4a90e2\", \"margin\": \"10px\" }'</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 1, "creation_date": 1550055324, "post_id": 54668456, "comment_id": 96126988, "body": "already there are so many answers stating the same, what&#39;s new in yours?"}, {"owner": {"reputation": 339, "user_id": 10187911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12112e349bee12c1fcf7a35a32b78da2?s=128&d=identicon&r=PG", "display_name": "Benneee_", "link": "https://stackoverflow.com/users/10187911/benneee"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 1, "creation_date": 1550055550, "post_id": 54668456, "comment_id": 96127131, "body": "I answered before similar answers popped up, it&#39;s probably the network."}], "tags": [], "owner": {"reputation": 339, "user_id": 10187911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12112e349bee12c1fcf7a35a32b78da2?s=128&d=identicon&r=PG", "display_name": "Benneee_", "link": "https://stackoverflow.com/users/10187911/benneee"}, "is_accepted": false, "score": 0, "last_activity_date": 1550055166, "creation_date": 1550055166, "answer_id": 54668456, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object/54668456#54668456", "title": "how to convert string into object", "body": "<p>First of all, shouldn't 10px be a string? Kindly adjust that...</p>\n"}], "owner": {"reputation": 109, "user_id": 7943700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tOSJ_yCqZvw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZgvGHfQyNJJ6GAg1ddSz4ldjuPIw/mo/photo.jpg?sz=128", "display_name": "c1992", "link": "https://stackoverflow.com/users/7943700/c1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 5, "score": -5, "last_activity_date": 1550055319, "creation_date": 1550054537, "last_edit_date": 1550054605, "question_id": 54668218, "link": "https://stackoverflow.com/questions/54668218/how-to-convert-string-into-object", "title": "how to convert string into object", "body": "<pre><code>var s = \"{ \"background-color\": \"#4a90e2\", \"margin\": 10px }\";\nJSON.parse(s);\n</code></pre>\n\n<p>the above code throws following error</p>\n\n<blockquote>\n  <p>Uncaught SyntaxError: Unexpected token p in JSON at position 46</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550054874, "post_id": 54668193, "comment_id": 96126694, "body": "You can simplify this with regular expressions <code>url.match(&#47;[^.]+$&#47;)[0]</code> this will work if you&#39;re sure that there is extension at the end."}], "answers": [{"tags": [], "owner": {"reputation": 1322, "user_id": 3696882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbd3263fb029de8f17a202759d45cd3e?s=128&d=identicon&r=PG&f=1", "display_name": "sridhar..", "link": "https://stackoverflow.com/users/3696882/sridhar"}, "is_accepted": false, "score": 2, "last_activity_date": 1550054568, "creation_date": 1550054568, "answer_id": 54668231, "question_id": 54668193, "link": "https://stackoverflow.com/questions/54668193/reading-url-extension-remiving-from-it/54668231#54668231", "title": "Reading URL Extension remiving [.] from it", "body": "<p>Just Add 1 to  last Index</p>\n\n<pre><code> return (url = url.substr(1 + url.lastIndexOf(\"/\")).split('?')[0]).split('&amp;')[0].substr(url.lastIndexOf(\".\") + 1);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9261601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/696fd9dee108095ac23e3ca3f307c666?s=128&d=identicon&r=PG&f=1", "display_name": "Kumar Yash", "link": "https://stackoverflow.com/users/9261601/kumar-yash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562684152, "creation_date": 1550054463, "last_edit_date": 1562684152, "question_id": 54668193, "link": "https://stackoverflow.com/questions/54668193/reading-url-extension-remiving-from-it", "title": "Reading URL Extension remiving [.] from it", "body": "<pre><code>return (url = url.substr(1 + url.lastIndexOf(\"/\")).split('?')[0]).split('&amp;')[0].substr(url.lastIndexOf(\".\"));\n</code></pre>\n\n<p>I have above code which return [.exe] or [.pdf]</p>\n\n<p>Where I expect only [EXE] or [PDF] \nWhat changes do I require in the above code?</p>\n"}, {"tags": ["javascript", "typescript", "iframe"], "comments": [{"owner": {"reputation": 721, "user_id": 4408281, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/44ff85199e7288f132dce748174a85e6?s=128&d=identicon&r=PG&f=1", "display_name": "datavinci", "link": "https://stackoverflow.com/users/4408281/datavinci"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1550061327, "post_id": 54667861, "comment_id": 96130487, "body": "@Kaiido yes using anchor tag I can download, but I was wondering if I can do the same iframe or not."}], "answers": [{"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": false, "score": 0, "last_activity_date": 1550062969, "creation_date": 1550062969, "answer_id": 54670878, "question_id": 54667861, "link": "https://stackoverflow.com/questions/54667861/unable-to-download-blob-loaded-into-an-iframe/54670878#54670878", "title": "Unable to download blob loaded into an iframe", "body": "<p>If you mean \"download\" as \"save on disk\" then just use an HTMLAnchorElement and its <code>download</code> attribute.</p>\n\n<p>Or even handle all the edge cases (old IE and Safari quirks) with the ligthweight <a href=\"https://github.com/eligrey/FileSaver.js\" rel=\"nofollow noreferrer\">FileSaver</a> script.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var blob = new Blob([\"I'm just a text file...\"], {type: 'plain/text'});\r\n\r\nsaveAs(blob, 'myFile.txt');</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2014-11-29/FileSaver.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that this is true for any cases. iframe hack is just a bad hack that should only be used when it's been determined that no other better ways will work.</p>\n\n<p>Now to explain why it won't work, well, it's because browsers actually are able to display pdf files, and will thus [try to] do it instead of forcing a download.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe src=\"https://cdn.jsdelivr.net/gh/mozilla/pdf.js/test/pdfs/S2.pdf\"&gt;&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>(Note that current Chrome seems to have a bug that will make the pdf-reader to fail when in nested iframes, so <a href=\"https://next.plnkr.co/edit/mZpoIdQmuafksDZE?preview\" rel=\"nofollow noreferrer\">here is a link to a plunker</a>, where you can see it live in this browser by clicking the expand button on the right panel.</p>\n"}], "owner": {"reputation": 721, "user_id": 4408281, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/44ff85199e7288f132dce748174a85e6?s=128&d=identicon&r=PG&f=1", "display_name": "datavinci", "link": "https://stackoverflow.com/users/4408281/datavinci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 630, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550062969, "creation_date": 1550053563, "last_edit_date": 1550056747, "question_id": 54667861, "link": "https://stackoverflow.com/questions/54667861/unable-to-download-blob-loaded-into-an-iframe", "title": "Unable to download blob loaded into an iframe", "body": "<p>Following is my code which sets src attribute of an iframe to the blob url that I have created:-</p>\n\n<pre><code>function downloadFromIframeUsingBody(filebody: any) {\n  const iframe = document.createElement('iframe');\n  iframe.setAttribute('style', 'display: none;');\n  const newurl = window.URL.createObjectURL(new Blob([filebody.data],{type: 'application/pdf'}));\n  iframe.setAttribute('src', newurl);\n  const register = () =&gt; {\n    if (iframe.contentWindow) {\n      setTimeout(function() {\n        // Clean after 1 minute, by then it should already have started downloading\n        iframe.parentNode!.removeChild(iframe);\n      }, 60000);\n    }  else {\n      setTimeout(register, 100);\n    }\n  };\n  register();\n  document.body.appendChild(iframe);\n}\n</code></pre>\n\n<p>What I would like is for this iframe to download the blob containing pdf to be downloaded automatically. Currently nothing happens when this gets executed.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "object", "enums"], "comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1550052909, "post_id": 54667584, "comment_id": 96125451, "body": "What do you mean by &quot;create a model&quot;? &quot;Inject&quot; it?"}, {"owner": {"reputation": 1, "user_id": 10984413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6df2e2fa61a1272dd212ed73cf4c320?s=128&d=identicon&r=PG&f=1", "display_name": "tom", "link": "https://stackoverflow.com/users/10984413/tom"}, "reply_to_user": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1550054001, "post_id": 54667584, "comment_id": 96126152, "body": "i mean to declare a enum in file, and use it in my component"}, {"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1550054025, "post_id": 54667584, "comment_id": 96126178, "body": "Just <code>import</code> it."}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1550053283, "creation_date": 1550053283, "answer_id": 54667761, "question_id": 54667584, "link": "https://stackoverflow.com/questions/54667584/convert-array-of-objects-variable-to-enum-using-model/54667761#54667761", "title": "convert array of objects variable to enum using model", "body": "<p>Did you expect to export and import it? If yes for example you want to place <code>colors</code> in the file <code>a.ts</code> and take it in <code>b.ts</code></p>\n\n<p>then you can write in a.ts</p>\n\n<pre><code>export const color = [\n    { name:\"bob1\", engValue: 'RED' },\n    { name:\"bob2\", engValue: 'GREEN' },\n    { name:\"bob3\", engValue: 'YELLOW' }\n];\n</code></pre>\n\n<p>and in the <code>b.ts</code></p>\n\n<p><code>import { colors } from 'a'</code></p>\n\n<p>Then you can use it anywhere in <code>b.ts</code></p>\n\n<p>Sorry if that is not what you want</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1550053515, "creation_date": 1550053515, "answer_id": 54667839, "question_id": 54667584, "link": "https://stackoverflow.com/questions/54667584/convert-array-of-objects-variable-to-enum-using-model/54667839#54667839", "title": "convert array of objects variable to enum using model", "body": "<p>Enums don't exist in JS.</p>\n\n<p>In TS, they're convrted to objects.</p>\n\n<p>use <code>reduce</code> : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const colorsArray = [\r\n    { name:\"bob1\", engValue: 'RED' },\r\n    { name:\"bob2\", engValue: 'GREEN' },\r\n    { name:\"bob3\", engValue: 'YELLOW' }\r\n];\r\n\r\nconst colorsObject = colorsArray.reduce((p, n) =&gt; ({ ...p, [n.name]: n.engValue }), {});\r\n\r\nconsole.log(colorsObject);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10984413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6df2e2fa61a1272dd212ed73cf4c320?s=128&d=identicon&r=PG&f=1", "display_name": "tom", "link": "https://stackoverflow.com/users/10984413/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1550053515, "creation_date": 1550052780, "question_id": 54667584, "link": "https://stackoverflow.com/questions/54667584/convert-array-of-objects-variable-to-enum-using-model", "title": "convert array of objects variable to enum using model", "body": "<p>i want to convert this variable to enum:</p>\n\n<pre><code>  colors: Array&lt;object&gt; = [\n    { name:\"bob1\", engValue: 'RED' },\n    { name:\"bob2\", engValue: 'GREEN' },\n    { name:\"bob3\", engValue: 'YELLOW' }\n  ];\n</code></pre>\n\n<p>I want to create a model and inject it into my component .. \nwhat is the best way i can do that ? </p>\n"}, {"tags": ["typescript", "aurelia", "compose"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1550065567, "post_id": 54667395, "comment_id": 96133138, "body": "Is this a typo here? Should be <code>model.bind=&quot;{cars: $parent.$car</code>. Not singular <code>car</code> (This is probably not the issue since <code>this.data.allowedCars</code> isn&#39;t throwing an error)"}, {"owner": {"reputation": 31, "user_id": 11024318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Epr-skBV8R4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbkvdxxHiEsjoV1P_SdP4UgH7lLcw/mo/photo.jpg?sz=128", "display_name": "JohnDoe", "link": "https://stackoverflow.com/users/11024318/johndoe"}, "reply_to_user": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1550133464, "post_id": 54667395, "comment_id": 96160525, "body": "@adiga definitely a typo. It&#39;s <code>cars</code> and there&#39;s also a <code>repeat.for</code> inside the view I didn&#39;t cover in the example (didn&#39;t think it was necessary)."}, {"owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "edited": false, "score": 0, "creation_date": 1550141340, "post_id": 54667395, "comment_id": 96165064, "body": "It&#39;s a bit confusing what your setup is like atm, can you help recreate it based on this codesandbox <a href=\"https://codesandbox.io/s/j26kx06qny\" rel=\"nofollow noreferrer\">codesandbox.io/s/j26kx06qny</a>"}], "owner": {"reputation": 31, "user_id": 11024318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Epr-skBV8R4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbkvdxxHiEsjoV1P_SdP4UgH7lLcw/mo/photo.jpg?sz=128", "display_name": "JohnDoe", "link": "https://stackoverflow.com/users/11024318/johndoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1550133416, "creation_date": 1550052226, "last_edit_date": 1550133416, "question_id": 54667395, "link": "https://stackoverflow.com/questions/54667395/are-computedfrom-values-observable-inside-a-compose-vm", "title": "Are computedFrom values observable inside a compose VM?", "body": "<p>Inside my view I have the following </p>\n\n<pre><code>&lt;compose\n    view=\"./cars.html\"\n    view-model=\"../../view-models/cars\"\n    model.bind=\"{cars: $parent.$cars, activity: $parent.activity}\"&gt;\n&lt;/compose&gt;\n</code></pre>\n\n<p>Then, the <code>cars</code> view model looks like this:</p>\n\n<pre><code>export class Cars {\n    public data;\n\n    public activate(data) {\n        this.data = data.cars;\n        this.activity = data.activity;\n    }\n\n    @computedFrom(\"data.allowedCars\")\n    public get maxAllowedCars(): number {\n        return Math.floor(this.data.allowedCars / 2);\n    }\n}\n</code></pre>\n\n<p>And inside the <code>cars</code> view I have something basic like </p>\n\n<pre><code>&lt;input\n    type=\"number\"\n    name=\"allowedCars\"\n    value.bind=\"car.allowedCars\"\n    step=\"2\"\n    required /&gt;\n\n&lt;input\n    type=\"number\"\n    name=\"maxAllowedCars\"\n    value.bind=\"car.maxAllowedCars\"\n    min=\"0\"\n    max.bind=\"maxAllowedCars\" /&gt;\n</code></pre>\n\n<p>Now, the problem that I am having is that whenever I update <code>allowedCars</code>, my <code>public get maxAllowedCars()</code> doesn't get triggered as it should, hence the <code>maxAllowedCars</code> doesn't update.</p>\n\n<p>This scenario works perfectly without <code>compose</code> (assuming all the code is in the same VM/view. However, I couldn't make it work using <code>compose</code>.</p>\n\n<p>What I'd like is to find a way to trigger <code>maxAllowedCars()</code> every time the <code>allowedCars</code> field value changed...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 369, "user_id": 10981200, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cMTAT9ujHU4/AAAAAAAAAAI/AAAAAAAAAAA/Qt3r-Ih5frg/photo.jpg?sz=128", "display_name": "Michael Miller", "link": "https://stackoverflow.com/users/10981200/michael-miller"}, "edited": false, "score": 0, "creation_date": 1550052456, "post_id": 54667328, "comment_id": 96125163, "body": "This is not possible, due to the way TypeScript handles variable assignments.  If you are to pass in more of your code to add a better context, you might get help refactoring into something more elegant."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 369, "user_id": 10981200, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cMTAT9ujHU4/AAAAAAAAAAI/AAAAAAAAAAA/Qt3r-Ih5frg/photo.jpg?sz=128", "display_name": "Michael Miller", "link": "https://stackoverflow.com/users/10981200/michael-miller"}, "edited": false, "score": 0, "creation_date": 1550052862, "post_id": 54667328, "comment_id": 96125422, "body": "@MichaelMiller correct, but there&#39;s a workaround. Please check my answer"}], "answers": [{"comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1550060648, "post_id": 54667500, "comment_id": 96130070, "body": "no you don&#39;t need since typescript can narrow type by condition like in switch case what you can see in posts abou"}, {"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1550064024, "post_id": 54667500, "comment_id": 96132167, "body": "Cool, I didn&#39;t know about that."}], "tags": [], "owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "is_accepted": false, "score": -1, "last_activity_date": 1550052521, "creation_date": 1550052521, "answer_id": 54667500, "question_id": 54667328, "link": "https://stackoverflow.com/questions/54667328/tell-typescript-that-a-variable-is-of-a-certain-type-without-assigning/54667500#54667500", "title": "Tell TypeScript that a variable is of a certain type without assigning?", "body": "<p>In the end of the day typescript is transpiled into js. </p>\n\n<pre><code> let informationMessage = message as ServerInformation; \n</code></pre>\n\n<p>is transpiled into simple assignment. </p>\n\n<p>What should <code>message as ServerInformation;</code> be transpiled into? Furthermore this doesn't check the type of message, this is forsecasting message to this type. If you want type checking you need:</p>\n\n<pre><code>let informationMessage: ServerInformation = message; \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1771, "user_id": 2309928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6fryX.jpg?s=128&g=1", "display_name": "Synoon", "link": "https://stackoverflow.com/users/2309928/synoon"}, "edited": false, "score": 0, "creation_date": 1550053011, "post_id": 54667544, "comment_id": 96125519, "body": "does this really work? isn&#39;t it more or less same as OP asked?"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 1771, "user_id": 2309928, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6fryX.jpg?s=128&g=1", "display_name": "Synoon", "link": "https://stackoverflow.com/users/2309928/synoon"}, "edited": false, "score": 1, "creation_date": 1550053138, "post_id": 54667544, "comment_id": 96125601, "body": "it works, at least when I tested it on my computer with Visual Studio Code :D"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": true, "score": 2, "last_activity_date": 1550052652, "creation_date": 1550052652, "answer_id": 54667544, "question_id": 54667328, "link": "https://stackoverflow.com/questions/54667328/tell-typescript-that-a-variable-is-of-a-certain-type-without-assigning/54667544#54667544", "title": "Tell TypeScript that a variable is of a certain type without assigning?", "body": "<p>There's no direct way to do that like you expected, but there's a work around</p>\n\n<pre><code>interface ServerInformation1 {\n    type: 'information1';\n    a: boolean;\n}\n\ninterface ServerInformation2 {\n    type: 'information2';\n    b: boolean;\n}\n\nlet message: ServerInformation1 | ServerInformation2;\n\nswitch (message.type) {\n    case 'information1':\n        const a1 = message.a; // this is ok\n        const b1 = message.b; // this will throw an error\n        break;\n\n    case 'information2':\n        const a2 = message.a; // this will throw an error\n        const b2 = message.b; // this is ok\n        break;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1550053162, "creation_date": 1550053162, "answer_id": 54667707, "question_id": 54667328, "link": "https://stackoverflow.com/questions/54667328/tell-typescript-that-a-variable-is-of-a-certain-type-without-assigning/54667707#54667707", "title": "Tell TypeScript that a variable is of a certain type without assigning?", "body": "<p>Yes you can.\nFirst way - use discriminated unions.</p>\n\n<pre><code>interface ServerInformation {\n    kind: \"information\";\n    text: string;\n}\ninterface ErrorMessage {\n    kind: \"error\";\n    error: any;\n}\n....\nswitch (message.type) {\n        case 'information':\n            // message is ServerInformation\n            return message.text;\n    }\n</code></pre>\n\n<p>Second way - use user-defined type guard</p>\n\n<pre><code>function isServerInformation(message: ServerInformation | any): message is Fish {\n    return message.type === 'information';\n}\n...\nif (isServerInformation(message)) {\n    // message is ServerInformation\n    return message.text;\n}\n</code></pre>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 2, "accepted_answer_id": 54667544, "answer_count": 3, "score": 3, "last_activity_date": 1550053162, "creation_date": 1550052042, "question_id": 54667328, "link": "https://stackoverflow.com/questions/54667328/tell-typescript-that-a-variable-is-of-a-certain-type-without-assigning", "title": "Tell TypeScript that a variable is of a certain type without assigning?", "body": "<p>I want to tell TypeScript that within the case block a variable is of a certain, more specific type.</p>\n\n<p>I know that I can do</p>\n\n<pre><code>    switch (message.type) {\n        case 'information':\n            let informationMessage = message as ServerInformation; \n            break;\n    }\n</code></pre>\n\n<p>But is it possible to do the same without any JavaScript assigning? I am looking for something like:</p>\n\n<pre><code>    switch (message.type) {\n        case 'information':\n            message as ServerInformation; \n            break;\n    }\n</code></pre>\n"}, {"tags": ["typescript", "environment-variables", "tsconfig"], "answers": [{"comments": [{"owner": {"reputation": 241, "user_id": 6924121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5372c5ab8d9be6f9df793e87f5408069?s=128&d=identicon&r=PG&f=1", "display_name": "boredbear153", "link": "https://stackoverflow.com/users/6924121/boredbear153"}, "edited": false, "score": 0, "creation_date": 1580151796, "post_id": 54667990, "comment_id": 105996230, "body": "Can we do the same without environment files ? I have a similar requirement, but without environment files."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1580219259, "post_id": 54667990, "comment_id": 106020149, "body": "You can use Angular dependency provider to achieve the same result <a href=\"https://angular.io/guide/dependency-injection-providers\" rel=\"nofollow noreferrer\">angular.io/guide/dependency-injection-providers</a>"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": true, "score": 1, "last_activity_date": 1550053900, "creation_date": 1550053900, "answer_id": 54667990, "question_id": 54667325, "link": "https://stackoverflow.com/questions/54667325/how-to-set-different-paths-under-compileroptions-depending-on-env-variable/54667990#54667990", "title": "How to set different paths under compilerOptions, depending on env variable", "body": "<p>You should have different environment file for <code>development</code> and <code>production</code> environments, from there you can define the moduleA. So let say they're <code>environment.ts</code> and <code>environment.prod.ts</code> (for prod)</p>\n\n<p>in <code>environment.ts</code> you an add</p>\n\n<pre><code>import { ModuleA } from '@moduleA';\n\nexport const environment = {\n  ...\n  ModuleA: ModuleA,\n  ...\n</code></pre>\n\n<p>and in <code>environment.prod.ts</code></p>\n\n<pre><code>import { ModuleA } from '@external/moduleA';\n\nexport const environment = {\n  ...\n  ModuleA: ModuleA,\n  ...\n</code></pre>\n\n<p>So you can write them as</p>\n\n<pre><code>@NgModule({\n  declarations: [],\n  imports: [\n    ...\n    environment.ModuleA\n  ]\n})\n</code></pre>\n\n<p>Hope this help</p>\n"}], "owner": {"reputation": 145, "user_id": 7329285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b710bf62b9c6ae32f32cbf2f9c4662?s=128&d=identicon&r=PG", "display_name": "GeorgeK", "link": "https://stackoverflow.com/users/7329285/georgek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 54667990, "answer_count": 1, "score": 0, "last_activity_date": 1550053900, "creation_date": 1550052037, "question_id": 54667325, "link": "https://stackoverflow.com/questions/54667325/how-to-set-different-paths-under-compileroptions-depending-on-env-variable", "title": "How to set different paths under compilerOptions, depending on env variable", "body": "<p>In my angular application I need to conditionally load modules depending on which environment the app is running (dev/prod). In the development environment it should be pointing to the libs folder of my local project, and for the production one it should point to an external package in the <code>node_modules</code> folder.</p>\n\n<p>I have already tried to use the ternary operator as follows:</p>\n\n<pre><code>import { ModuleA as ModuleAExternal } from '@external/moduleA';\nimport { ModuleA } from '@moduleA';\n\n@NgModule({\n  declarations: [],\n  imports: [\n    ...\n    environment.production ?   ModuleAExternal : ModuleA\n  ]\n})\n</code></pre>\n\n<p>Which works, but when the project is build I dont want to be forced to import both local and external packages.</p>\n\n<p>So i would expect that the same </p>\n\n<pre><code>import { ModuleA } from '@moduleA';\n</code></pre>\n\n<p>would point to either the local lib or the external npm package depending on the environment. Since the <code>@moduleA</code> path is set in the tsconfig.json file under the <code>compilerOptions</code> as <code>paths</code>, is there a way to make this separation there?</p>\n"}, {"tags": ["typescript", "webpack", "babeljs"], "comments": [{"owner": {"reputation": 19834, "user_id": 1446845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16ef5dca1c645b1cdd444f06bf2233d?s=128&d=identicon&r=PG", "display_name": "Aurelio", "link": "https://stackoverflow.com/users/1446845/aurelio"}, "edited": false, "score": 0, "creation_date": 1550053562, "post_id": 54667278, "comment_id": 96125885, "body": "Are you using this <a href=\"https://github.com/jerrybendy/url-search-params-polyfill\" rel=\"nofollow noreferrer\">polyfill</a> and including it as per its documentation?"}, {"owner": {"reputation": 740, "user_id": 3784703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75222e01b42f92e25d99f5d33495f49d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel R", "link": "https://stackoverflow.com/users/3784703/daniel-r"}, "reply_to_user": {"reputation": 19834, "user_id": 1446845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d16ef5dca1c645b1cdd444f06bf2233d?s=128&d=identicon&r=PG", "display_name": "Aurelio", "link": "https://stackoverflow.com/users/1446845/aurelio"}, "edited": false, "score": 0, "creation_date": 1550053973, "post_id": 54667278, "comment_id": 96126134, "body": "No because I&#39;m using babel. Maybe I understand something wrong here, but using Babel should make me not worrying on any polyfills."}, {"owner": {"reputation": 286, "user_id": 9189147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/311df29975b255687fa13243dc26335f?s=128&d=identicon&r=PG&f=1", "display_name": "user9189147", "link": "https://stackoverflow.com/users/9189147/user9189147"}, "edited": false, "score": 0, "creation_date": 1551305647, "post_id": 54667278, "comment_id": 96596955, "body": "Did you ever find a solution? I am having the same problem."}, {"owner": {"reputation": 740, "user_id": 3784703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75222e01b42f92e25d99f5d33495f49d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel R", "link": "https://stackoverflow.com/users/3784703/daniel-r"}, "edited": false, "score": 0, "creation_date": 1551360821, "post_id": 54667278, "comment_id": 96618354, "body": "No, unfortunetaly not. We need a Babel expert here to answer the question =)"}], "answers": [{"comments": [{"owner": {"reputation": 3561, "user_id": 685540, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4447ba1ad70d4b35cd418817d30dae9f?s=128&d=identicon&r=PG", "display_name": "atilkan", "link": "https://stackoverflow.com/users/685540/atilkan"}, "edited": false, "score": 0, "creation_date": 1594725814, "post_id": 55137209, "comment_id": 111220261, "body": "looks like merged."}], "tags": [], "owner": {"reputation": 740, "user_id": 3784703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75222e01b42f92e25d99f5d33495f49d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel R", "link": "https://stackoverflow.com/users/3784703/daniel-r"}, "is_accepted": true, "score": 5, "last_activity_date": 1552465227, "creation_date": 1552465227, "answer_id": 55137209, "question_id": 54667278, "link": "https://stackoverflow.com/questions/54667278/why-does-babel-not-provide-urlsearchparams-polyfill-for-ie11/55137209#55137209", "title": "Why does Babel not provide URLSearchParams polyfill for IE11", "body": "<p>I've asked the question directly on babel github page. \ncorejs3 will include a polyfill for url search params. Somebody need to review the PR to update corejs3 in babel.</p>\n\n<p><a href=\"https://github.com/babel/babel/issues/9667\" rel=\"noreferrer\">https://github.com/babel/babel/issues/9667</a></p>\n"}], "owner": {"reputation": 740, "user_id": 3784703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75222e01b42f92e25d99f5d33495f49d?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel R", "link": "https://stackoverflow.com/users/3784703/daniel-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5648, "favorite_count": 1, "accepted_answer_id": 55137209, "answer_count": 1, "score": 7, "last_activity_date": 1552465227, "creation_date": 1550051900, "last_edit_date": 1551360856, "question_id": 54667278, "link": "https://stackoverflow.com/questions/54667278/why-does-babel-not-provide-urlsearchparams-polyfill-for-ie11", "title": "Why does Babel not provide URLSearchParams polyfill for IE11", "body": "<p>I'm using Webpack + Typescript + Babel with Babel-Loader. Config useBuiltIns: 'usage'</p>\n\n<p>In my code I have some places where I use URLSearchParams. But it seems that Babel is not polyfilling UrlSearchParmas for IE11. I thought I do not worry about any polyfills with babel. (Other polyfills are working for IE11) \nIs that a normal behaviour or is there something wrong in my code?</p>\n\n<p>I'm not importing anything on my files using URLSearchParams. Maybe babel can not recognize it for this reason? </p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "edited": false, "score": 0, "creation_date": 1550128504, "post_id": 54667080, "comment_id": 96158221, "body": "Thanks! However, I need to use <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html#polymorphic-this-types\" rel=\"nofollow noreferrer\">polymorphic this type</a> instead of <code>string</code> (i.e. <code>[k in K]: this</code>) and <code>this</code> is not allowed in type aliases.  Sorry for the disclarity~"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1550051254, "creation_date": 1550051254, "answer_id": 54667080, "question_id": 54666975, "link": "https://stackoverflow.com/questions/54666975/how-to-declare-a-generic-interface-in-typescript-that-uses-generic-argument-as-p/54667080#54667080", "title": "How to declare a generic interface in typescript that uses generic argument as property name?", "body": "<p>Interfaces can't contain mapped types, only type aliases can:</p>\n\n<pre><code>type Foo&lt;K extends string&gt; = {\n    [k in K]: string \n}\n\n\nlet b: Foo&lt;'bar'&gt; = { bar: '123' }\nlet c: Foo&lt;'a' | 'b'&gt; = { a: '123', b: '321' }\n</code></pre>\n\n<p>Note that this type is very similar with <code>Record</code>, you might just want to use that. This is equivalent to the explicit mapped type:</p>\n\n<pre><code>type Foo&lt;K extends string&gt; = Record&lt;K, string&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "is_accepted": false, "score": 0, "last_activity_date": 1550327640, "creation_date": 1550327640, "answer_id": 54724141, "question_id": 54666975, "link": "https://stackoverflow.com/questions/54666975/how-to-declare-a-generic-interface-in-typescript-that-uses-generic-argument-as-p/54724141#54724141", "title": "How to declare a generic interface in typescript that uses generic argument as property name?", "body": "<p>@Titian Cernicova-Dragomir 's answer is correct for the original question, while the actual underlying problem of mine was more complicated then the question itself. I'm posting my solution here just in case some other folks reaches here with similar needs.</p>\n\n<p>The actual problem was:\nSay I have a class <code>TClass</code> and a function <code>addMethod</code>, which adds some method to the <code>TClass.prototype</code>. In other words, <code>addMethod</code> works as a decorator but I omitted the <code>@</code> decorator syntax since it cannot change, at least for now, the signature of the class being decorated (See <a href=\"https://github.com/Microsoft/TypeScript/issues/4881\" rel=\"nofollow noreferrer\">Github issue</a> that tracks this feature).</p>\n\n<p>If <code>addMethod</code> is to be called for only once, the problem is easily solvable by writing a recursive type alias:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Ctor&lt;T, Args extends any[] = any[]&gt; = new (...args: Args) =&gt; T\ntype CtorParameters&lt;T extends Ctor&lt;any&gt;&gt; = T extends Ctor&lt;any, infer P&gt; ? P : never\n\ntype Augmented&lt;T, K extends string, Args extends any[]&gt; = T &amp; { [k in K]: (...args: Args) =&gt; Augmented&lt;T, K, Args&gt; }\n\nfunction addMethod&lt;\n    T extends Ctor&lt;any&gt;,\n    K extends string,\n    Args extends any[]\n&gt; (ctor: T, k: K, method: (this: InstanceType&lt;T&gt;, ...args: Args) =&gt; void): Ctor&lt;Augmented&lt;InstanceType&lt;T&gt;, K, Args&gt;, CtorParameters&lt;T&gt;&gt; {\n    ctor.prototype[k] = function (...args: any[]) {\n        method.apply(this, args)\n        return this\n    }\n    return ctor\n}\n\nclass Foo {\n    constructor(public foo: number) {}\n}\n\nconst Bar = addMethod(Foo, 'inc', function (delta: number)  {\n    this.foo += delta\n})\n\nconst bar = new Bar(1)\nbar.inc(2)\nconsole.log(bar.foo) // 3\nbar.inc(3).inc(4)\nconsole.log(bar.foo) // 10\n</code></pre>\n\n<p>However, if <code>addMethod</code> is called multiple times subsequently, the instance of resulting constructor is somehow compromised. Added methods can be fully chained only if they were called in certain order.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst Baz = addMethod(Bar, 'mult', function (factor: number) {\n    this.foo *= factor\n})\n\nconst baz = new Baz(2)\n\nbaz.mult(3).inc(4)\nconsole.log(baz.foo) // 10, works\n\nbaz.inc(3).mult(4) // Property 'mult' does not exist on type 'Augmented&lt;Foo, \"inc\", [number]&gt;'.\n</code></pre>\n\n<p>This is why I posted the original question. I realized that using a recursive type alias to express the augmented type does not works since the return type of methods that are added earlier does not include the methods that are added later. Then I thought declaring the return type as <code>this</code> would help. But <code>this</code> is only supported inside <code>class</code> or <code>interface</code>. Hence the question.</p>\n\n<p>However, I also realized that <code>addMethod</code> does not need to be called multiple times as long as I can provide the methods in one call.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype Augmented&lt;T, Methods extends Record&lt;string, (...args: any[]) =&gt; void&gt;&gt; = \n    T &amp; { [k in keyof Methods]: (...args: Parameters&lt;Methods[k]&gt;) =&gt; Augmented&lt;T, Methods&gt; }\n\nfunction addMethod&lt;\n    T extends Ctor&lt;any&gt;,\n    Methods extends Record&lt;string, (...args: any[]) =&gt; void&gt;\n&gt; (ctor: T, methods: Methods &amp; ThisType&lt;InstanceType&lt;T&gt;&gt;): Ctor&lt;Augmented&lt;InstanceType&lt;T&gt;, Methods&gt;&gt; {\n    const keys = Object.keys(methods) as (keyof Methods)[]\n    keys.forEach(k =&gt; {\n        ctor.prototype[k] = function (...args: any[]) {\n            methods[k].apply(this, args)\n            return this\n        }\n    })\n    return ctor\n}\n\n\nconst Baz = addMethod(Foo, {\n    inc: function (delta: number) {\n        this.foo += delta\n    },\n    mult: function (factor: number) {\n        this.foo *= factor\n    }\n})\n\nconst baz = new Baz(2)\n\nbaz.mult(3).inc(4)\nconsole.log(baz.foo) // 10, works\n\nbaz.foo = 2\nbaz.inc(3).mult(4) \nconsole.log(baz.foo) // 20, works\n</code></pre>\n"}], "owner": {"reputation": 1773, "user_id": 6148332, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/77f7fc0563c3d8d9b735572be993c055?s=128&d=identicon&r=PG&f=1", "display_name": "Nandin Borjigin", "link": "https://stackoverflow.com/users/6148332/nandin-borjigin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 54667080, "answer_count": 2, "score": 1, "last_activity_date": 1606622444, "creation_date": 1550051007, "last_edit_date": 1606622444, "question_id": 54666975, "link": "https://stackoverflow.com/questions/54666975/how-to-declare-a-generic-interface-in-typescript-that-uses-generic-argument-as-p", "title": "How to declare a generic interface in typescript that uses generic argument as property name?", "body": "<p>I want to declare some interface like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Foo&lt;K extends string&gt; {\n    [k in K]: string // TS error: A computed property name in an interface must refer to an expression whose type is a literal type or a 'unique symbol' type.\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let b: Foo&lt;'bar'&gt; = { bar: '123' }\nlet c: Foo&lt;'a' | 'b'&gt; = { a: '123', b: '321' }\n</code></pre>\n\n<p>Is that possible ?</p>\n\n<hr>\n\n<p>Update:</p>\n\n<p>I can't just use <code>Record</code> utility generic or type aliases because I actually want to use <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html#polymorphic-this-types\" rel=\"nofollow noreferrer\">polymorphic this type</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Foo&lt;K extends string&gt; {\n    [k in K] (): this // \n}\n\nclass Bar implements Foo&lt;'sorted' | 'reversed'&gt; { /* omitted */ }\n\nlet foo: Bar\nfoo.sorted() // returns Bar\nfoo.reversed().sorted().sorted().reversed() // still Bar\n</code></pre>\n"}, {"tags": ["typescript", "autodesk-forge", "autodesk-viewer"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7848903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1ae1d5be3f28eca02120a92857302d?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/7848903/luca"}, "edited": false, "score": 0, "creation_date": 1550059704, "post_id": 54669229, "comment_id": 96129578, "body": "Thank you for your quick reply! This was my first approach. I implemented the viewer like your example above. The only thing is, that i want to add extensions to my viewer. As the <a href=\"https://forge.autodesk.com/en/docs/viewer/v6/tutorials/toolbar-button/\" rel=\"nofollow noreferrer\">doc</a> says, it is recommended to use the ViewingApplication to work with extensions... Do you know if I can use your example with extensions?"}], "tags": [], "owner": {"reputation": 4814, "user_id": 1611132, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xTCgH.jpg?s=128&g=1", "display_name": "Bryan Huang", "link": "https://stackoverflow.com/users/1611132/bryan-huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1550057716, "creation_date": 1550057716, "answer_id": 54669229, "question_id": 54666915, "link": "https://stackoverflow.com/questions/54666915/using-modeloptions-in-viewingapplication-approach/54669229#54669229", "title": "Using modelOptions in ViewingApplication approach", "body": "<p>An alternative approach would be to use Viewer3D instead of the ViewerApplication:</p>\n\n<pre><code>Autodesk.Viewing.Initializer(options, function onInitialized(){\n            Autodesk.Viewing.Document.load(urn, function(doc){\n            ...\n            var svfUrl = doc.getViewablePath(initGeom);        \n            var modelOptions={\n               globalOffsets: ...\n            }\n            viewer.start(svfUrl, modelOptions); // load your first model\n});\n});\n\n...\nviewer.loadModel(svfUrl, modelOpts) //second model\n</code></pre>\n\n<p>See <a href=\"https://forge.autodesk.com/en/docs/viewer/v6/tutorials/basic-viewer/#step-1-prepare-your-html\" rel=\"nofollow noreferrer\">full sample</a> and doc <a href=\"https://forge.autodesk.com/en/docs/viewer/v6/reference/javascript/viewer3d/#loadmodel-url-options-onsuccesscallback-onerrorcallback\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7848903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1ae1d5be3f28eca02120a92857302d?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/7848903/luca"}, "is_accepted": true, "score": 0, "last_activity_date": 1550072549, "creation_date": 1550072549, "answer_id": 54674062, "question_id": 54666915, "link": "https://stackoverflow.com/questions/54666915/using-modeloptions-in-viewingapplication-approach/54674062#54674062", "title": "Using modelOptions in ViewingApplication approach", "body": "<p>I've found a solution. Don't know if it is the correct way, but it works for me:</p>\n\n<p>I get a new Viewer3D instance by calling <code>var viewer = viewerApp.getViewer()</code>. Afterwards i start the viewer manually by calling <code>viewer.start(svfUrl, modelOptions, this.onItemLoadSuccess, this.onItemLoadFail)</code></p>\n\n<pre><code>var svfUrl = doc.getViewablePath(viewables[0].data);\nvar modelOptions = {\n  sharedPropertyDbPath: doc.getPropertyDbPath(),\n  globalOffset: { x: 0, y: 0, z: 0 }\n};\n\nif (!!this.viewerApp.getCurrentViewer()) {\n  this.viewerApp.getCurrentViewer().loadModel(svfUrl, modelOptions, this.onItemLoadSuccess, this.onItemLoadFail)\n} else {\n  // Get a new Viewer3D instance by calling viewerApp.getViewer() with an empty object {}\n  var viewer = this.viewerApp.getViewer({})\n  // Start the viewer manually by passing the url of the svf model and the desired model options\n  viewer.start(svfUrl, modelOptions, this.onItemLoadSuccess, this.onItemLoadFail)\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7848903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1ae1d5be3f28eca02120a92857302d?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/7848903/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 54674062, "answer_count": 2, "score": 0, "last_activity_date": 1552192424, "creation_date": 1550050836, "last_edit_date": 1552192424, "question_id": 54666915, "link": "https://stackoverflow.com/questions/54666915/using-modeloptions-in-viewingapplication-approach", "title": "Using modelOptions in ViewingApplication approach", "body": "<p>I'm currently stuck at loading Models with a GlobalOffset. I've followed these steps: <a href=\"https://forge.autodesk.com/en/docs/viewer/v6/tutorials/basic-application/\" rel=\"nofollow noreferrer\">https://forge.autodesk.com/en/docs/viewer/v6/tutorials/basic-application/</a></p>\n\n<p>This is their implementation of the DocumentLoaded-event: </p>\n\n<pre><code>function onDocumentLoadSuccess(doc) {\n    // We could still make use of Document.getSubItemsWithProperties()\n    // However, when using a ViewingApplication, we have access to the **bubble** attribute,\n    // which references the root node of a graph that wraps each object from the Manifest JSON.\n    var viewables = viewerApp.bubble.search({'type':'geometry'});\n    if (viewables.length === 0) {\n        console.error('Document contains no viewables.');\n        return;\n    }\n    // Choose any of the avialble viewables\n    viewerApp.selectItem(viewables[0].data, onItemLoadSuccess, onItemLoadFail);\n}\n</code></pre>\n\n<p>The last step in this event handler is calling <code>viewerApp.selectItem</code> (<a href=\"https://forge.autodesk.com/en/docs/viewer/v2/reference/javascript/viewingapplication/#selectitem-item-onsuccesscallback-onerrorcallback\" rel=\"nofollow noreferrer\">see doc</a>). But this method hasn't a parameter <code>modelOptions</code> like the <code>loadModel</code> method of the Viewer3D (<a href=\"https://forge.autodesk.com/en/docs/viewer/v2/reference/javascript/viewer3d/#loadmodel-url-options-onsuccesscallback-onerrorcallback\" rel=\"nofollow noreferrer\">see doc</a>).</p>\n\n<p>So now here's my problem:\nI'm loading multiple models in my viewer instance and want to set the GlobalOffset for each model to <code>globalOffset: {x: 0, y:0, z:0}</code>. But i can't set the <code>modelOptions</code> for the first model which is loaded by <code>viewerApp.selectItem</code>. Is there any alternative to load a model using this approach?</p>\n\n<p>Btw, this is my implementation (I'm using TypeScript):</p>\n\n<pre><code>private onDocumentLoaded(doc: Autodesk.Viewing.Document) {\n    if (!this.viewerApp.bubble) return;\n    var viewables = this.viewerApp.bubble.search(Autodesk.Viewing.BubbleNode.MODEL_NODE);\n    if (viewables.length === 0) {\n        console.error('Document contains no viewables.');\n        return;\n    }\n    if (!!this.viewerApp.getCurrentViewer()) {\n        var svfUrl = doc.getViewablePath(viewables[0].data);\n        var modelOptions = {\n            sharedPropertyDbPath: doc.getPropertyDbPath(),\n            globalOffset: { x: 0, y: 0, z: 0 }\n        };\n        this.viewerApp.getCurrentViewer().loadModel(svfUrl, modelOptions, this.onItemLoadSuccess, this.onItemLoadFail);\n    } else {\n        this.viewerApp.setCurrentViewer(this.viewerApp.getViewer({}));\n        this.viewerApp.selectItem(viewables[0].data, this.onItemLoadSuccess.bind(this), this.onItemLoadFail.bind(this));\n    }\n}\n</code></pre>\n\n<p>When my DocumentLoaded-event is called, I'm first checking if a viewer already has been instanced, if not call the <code>selectItem</code> method and load the first model. This is where I'm stuck.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1550050627, "post_id": 54666781, "comment_id": 96123949, "body": "what goes wrong with your code?"}, {"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 0, "creation_date": 1550050636, "post_id": 54666781, "comment_id": 96123955, "body": "It would be helpful if you could share the code that you already have and point out where it does not work."}, {"owner": {"reputation": 41, "user_id": 5506734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zRyFL.jpg?s=128&g=1", "display_name": "Kumail Jawadi", "link": "https://stackoverflow.com/users/5506734/kumail-jawadi"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1550050830, "post_id": 54666781, "comment_id": 96124086, "body": "@NinaScholz nothing wrong! I just need a function how to get full path of a given node."}], "answers": [{"tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": true, "score": 1, "last_activity_date": 1550051260, "creation_date": 1550051260, "answer_id": 54667083, "question_id": 54666781, "link": "https://stackoverflow.com/questions/54666781/recursively-get-full-path-parents-hierarchy-of-a-given-node-in-a-nested-object/54667083#54667083", "title": "Recursively get full path (parents hierarchy) of a given node in a nested object", "body": "<p>Hope this help</p>\n\n<pre><code>const items = [{\n    value: 2,\n    text: \"Name 2\",\n    children: [{\n        value: 7,\n        text: \"Name 7\",\n        children: [{\n            value: 10,\n            text: \"Name 10\",\n            children: []\n        },\n        {\n            value: 11,\n            text: \"Name 11\",\n            children: []\n        },\n        {\n            value: 12,\n            text: \"Name 12\",\n            children: [{\n                value: 13,\n                text: \"Name 13\",\n                children: [{\n                    value: 14,\n                    text: \"Name 14\",\n                    children: []\n                },\n                {\n                    value: 15,\n                    text: \"Name 15\",\n                    children: []\n                }\n                ]\n            }]\n        }\n        ]\n    }]\n},\n{\n    value: 16,\n    text: \"Name 16\",\n    children: [{\n        value: 17,\n        text: \"Name 17\",\n        children: [{\n            value: 18,\n            text: \"Name 18\",\n            children: []\n        },\n        {\n            value: 19,\n            text: \"Name 19\",\n            children: []\n        }\n        ]\n    }]\n}\n];\n\nfunction getPath(items, val) {\n    for (let i = 0; i &lt; items.length; i++) {\n        const item = items[i];\n        if (item.value !== val) {\n            if (item.children) {\n                const path = getPath(item.children, val);\n                if (path) {\n                    path.unshift(item.value);\n                    return path;\n                }\n            }\n        } else {\n            return [item.value];\n        }\n    }\n}\n\nconsole.log(getPath(items, 19));\n</code></pre>\n\n<p>Here's the <a href=\"https://jsfiddle.net/chk8bntf/1/\" rel=\"nofollow noreferrer\">link</a> for it</p>\n"}], "owner": {"reputation": 41, "user_id": 5506734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zRyFL.jpg?s=128&g=1", "display_name": "Kumail Jawadi", "link": "https://stackoverflow.com/users/5506734/kumail-jawadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 54667083, "answer_count": 1, "score": 1, "last_activity_date": 1550051260, "creation_date": 1550050469, "question_id": 54666781, "link": "https://stackoverflow.com/questions/54666781/recursively-get-full-path-parents-hierarchy-of-a-given-node-in-a-nested-object", "title": "Recursively get full path (parents hierarchy) of a given node in a nested object", "body": "<p>I need a typescript function to recursively get the full path (parent hierarchy) of a given node by passing its value.</p>\n\n<p>Let's say I have an array of objects like this:</p>\n\n<pre><code>items = [{\n        value: 2,\n        text: \"Name 2\",\n        children: [{\n            value: 7,\n            text: \"Name 7\",\n            children: [{\n                    value: 10,\n                    text: \"Name 10\",\n                    children: []\n                },\n                {\n                    value: 11,\n                    text: \"Name 11\",\n                    children: []\n                },\n                {\n                    value: 12,\n                    text: \"Name 12\",\n                    children: [{\n                        value: 13,\n                        text: \"Name 13\",\n                        children: [{\n                                value: 14,\n                                text: \"Name 14\",\n                                children: []\n                            },\n                            {\n                                value: 15,\n                                text: \"Name 15\",\n                                children: []\n                            }\n                        ]\n                    }]\n                }\n            ]\n        }]\n    },\n    {\n        value: 16,\n        text: \"Name 16\",\n        children: [{\n            value: 17,\n            text: \"Name 17\",\n            children: [{\n                    value: 18,\n                    text: \"Name 18\",\n                    children: []\n                },\n                {\n                    value: 19,\n                    text: \"Name 19\",\n                    children: []\n                }\n            ]\n        }]\n    }\n];\n</code></pre>\n\n<p>Let's say I want to get the full path of node with value=19 by calling a function.</p>\n\n<pre><code>getPath(items, 19);\n</code></pre>\n\n<p>The expected result could be either returning only values of parent nodes</p>\n\n<pre><code>[16, 17, 19]\n</code></pre>\n\n<p>or array of objects as bellow:</p>\n\n<blockquote>\n  <p>[{\n                  value: 16,\n                  text: \"Name 16\"\n              },\n              {\n                  value: 17,\n                  text: \"Name 17\"\n              },\n              {\n                  value: 19,\n                  text: \"Name 19\"\n              }\n      ]</p>\n</blockquote>\n\n<p>Thanks,</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "flowtype"], "answers": [{"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1550441162, "creation_date": 1550441162, "answer_id": 54738136, "question_id": 54666713, "link": "https://stackoverflow.com/questions/54666713/ignore-flowtype-error-when-using-specific-pattern/54738136#54738136", "title": "Ignore flowtype error when using specific pattern", "body": "<p>That is likewise an error in TypeScript. Depending on your module loader/bundler's extension resolution, use either </p>\n\n<pre><code>import foo from 'foobar';\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import foo from 'foobar.js';\n</code></pre>\n\n<p>Since you are using JSX it's worth noting that</p>\n\n<pre><code>import foo from 'foobar.jsx';\n</code></pre>\n\n<p>is also incorrect.</p>\n"}], "owner": {"reputation": 2859, "user_id": 1272712, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cee1f9fe8fe177b562e89c2c95704693?s=128&d=identicon&r=PG", "display_name": "Niels S&#248;nderb&#230;k", "link": "https://stackoverflow.com/users/1272712/niels-s%c3%b8nderb%c3%a6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1550441162, "creation_date": 1550050250, "question_id": 54666713, "link": "https://stackoverflow.com/questions/54666713/ignore-flowtype-error-when-using-specific-pattern", "title": "Ignore flowtype error when using specific pattern", "body": "<p>I'm trying to use typescript together with flowtype in a transition period where everything is changing to typescript. However, flowtype is giving me an error, when I try to import declarations from a typescript file in a regular js|jsx file. I get the usual <code>Cannot resolve module '*.tsx</code>. Is it possible to ignore this flow error globally without having to use $FlowFixMe above my import statements? </p>\n\n<p>This is giving flow errors, that I want to supress:</p>\n\n<pre><code>import foo from 'foobar.tsx';\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ngx-charts"], "owner": {"reputation": 1296, "user_id": 641467, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b0770344b1f3dce99ced48a8f8462684?s=128&d=identicon&r=PG", "display_name": "Pablosproject", "link": "https://stackoverflow.com/users/641467/pablosproject"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1550049205, "creation_date": 1550049205, "question_id": 54666382, "link": "https://stackoverflow.com/questions/54666382/ngx-charts-line-chart-persistent-background", "title": "ngx-charts Line Chart Persistent Background", "body": "<p>I am trying to persist the line background that gets shown when I hover with the cursor on a value, like in the image below: <img src=\"https://i.stack.imgur.com/gzIQt.png\" alt=\"Graph\">\nHer is how I generate that graph:</p>\n\n<pre><code>&lt;ngx-charts-line-chart\n        [scheme]=\"sensorGraphData?.scheme\"\n        [results]=\"sensorGraphData?.data\"\n        [yAxis]=\"true\"\n        [xAxis]=\"true\"\n        [gradient]=\"false\"\n        [showGridLines]=\"true\"\n        [rangeFillOpacity]=\"0.9\"\n    &gt;\n</code></pre>\n\n<p>Any help is appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 1958, "user_id": 6444705, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d570abaa684bb7e30f54f0a47ee511d2?s=128&d=identicon&r=PG&f=1", "display_name": "Emilien", "link": "https://stackoverflow.com/users/6444705/emilien"}, "edited": false, "score": 1, "creation_date": 1550048814, "post_id": 54666248, "comment_id": 96122783, "body": "Oh god I knew this was so simple .. Thank you @Pardeep !"}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": true, "score": 4, "last_activity_date": 1550049113, "last_edit_date": 1550049113, "creation_date": 1550048743, "answer_id": 54666248, "question_id": 54666186, "link": "https://stackoverflow.com/questions/54666186/add-css-class-name-with-a-ts-property-angular-7/54666248#54666248", "title": "Add css class name with a TS property Angular 7", "body": "<p>You could try something like this -</p>\n\n<pre><code>&lt;span [ngClass]=\"['flag-icon', lang.codeIcon]\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>For more ways -</p>\n\n<ul>\n<li><a href=\"https://angular.io/api/common/NgClass\" rel=\"nofollow noreferrer\">Angular -NgClass</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "is_accepted": false, "score": 3, "last_activity_date": 1550049173, "last_edit_date": 1550049173, "creation_date": 1550049017, "answer_id": 54666334, "question_id": 54666186, "link": "https://stackoverflow.com/questions/54666186/add-css-class-name-with-a-ts-property-angular-7/54666334#54666334", "title": "Add css class name with a TS property Angular 7", "body": "<p>To use the css class stored in <code>lang.codeIcon</code>, do like that:</p>\n\n<pre><code>&lt;span [ngClass]=\"lang.codeIcon\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>For many classes, use an array:</p>\n\n<pre><code>&lt;span [ngClass]=\"[lang.codeIcon, 'flag-icon']\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>For conditionnal, use braces:</p>\n\n<pre><code>&lt;span [ngClass]=\"{'flag-icon': booleanVar, lang.codeIcon: !booleanVar}\"&gt;&lt;/span&gt;\n</code></pre>\n"}], "owner": {"reputation": 1958, "user_id": 6444705, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d570abaa684bb7e30f54f0a47ee511d2?s=128&d=identicon&r=PG&f=1", "display_name": "Emilien", "link": "https://stackoverflow.com/users/6444705/emilien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 613, "favorite_count": 0, "accepted_answer_id": 54666248, "answer_count": 2, "score": 2, "last_activity_date": 1550049347, "creation_date": 1550048576, "last_edit_date": 1550049347, "question_id": 54666186, "link": "https://stackoverflow.com/questions/54666186/add-css-class-name-with-a-ts-property-angular-7", "title": "Add css class name with a TS property Angular 7", "body": "<p>I'm having an issue with a simple thing I guess ...</p>\n\n<p>I just need my <code>span</code> tag to have a class named store in a variable from my <code>.ts file</code>:</p>\n\n<p><code>&lt;span [ngClass]=\"{'flag-icon': true, 'my_property_in_TS': true}\"&gt;&lt;/span&gt;</code></p>\n\n<p>I tried some things like this :</p>\n\n<p><code>&lt;span [ngClass]=\"{'flag-icon': true, ${lang.codeIcon}: true}\"&gt;&lt;/span&gt;</code></p>\n\n<p><code>&lt;span [ngClass]=\"{'flag-icon': true, lang.codeIcon: true}\"&gt;&lt;/span&gt;</code></p>\n\n<p>I'm sure the answer is very simple... Does someone knows how to make it ?</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular6", "typescript1.8"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "edited": false, "score": 0, "creation_date": 1550057151, "post_id": 54666780, "comment_id": 96128068, "body": "Thank you @trichetriche. Do you have any example to refer for point 1 - template driven and reactive approach."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "edited": false, "score": 0, "creation_date": 1550057228, "post_id": 54666780, "comment_id": 96128114, "body": "@shibjo <a href=\"https://angular.io/guide/forms-overview\" rel=\"nofollow noreferrer\">nothing better than the doc !</a> I&#39;ve been working with Angular for about 3 years now, and I still use it daily (in fact, it&#39;s pinned in my browser for quick access)."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 0, "last_activity_date": 1550050469, "creation_date": 1550050469, "answer_id": 54666780, "question_id": 54666182, "link": "https://stackoverflow.com/questions/54666182/adapter-pattern-in-angular-using-typescript-for-a-reactive-form/54666780#54666780", "title": "Adapter pattern in angular using typescript for a reactive form", "body": "<p>In Javascript, there is no typings. Your variables are dynamically typed when they are assigned a value, or when an operation is performed on them. </p>\n\n<p>In Typescript, you have the possibility to type your variables. But once the compilation is made, the types are removed. They are just here to enforce some behavior pre-compilation, and to help you with intellisense. </p>\n\n<p>But to answer you : </p>\n\n<p>1 - The form model should depend on the data model. If you want to edit the informations and send them back, they should have the same structure. </p>\n\n<p>For that, you have two options, template-driven (which relies on your model), and reactive (which relies on the implementation you make) forms. In your case, you should use the template-driven approach. </p>\n\n<p>2 - If the payload sent doesn't differ from the payload received (model-wise), then you should not have different models. So no, you should not create classes or interfaces that are specific to the form. </p>\n\n<p>3 - It should be transparent, you should not have to do anything. </p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "edited": false, "score": 0, "creation_date": 1550056977, "post_id": 54666888, "comment_id": 96127963, "body": "Thank you for your answer. So you said if the conversion logic is complex you prefer that in the component. Is this the right approach any other suggestion? Should that be handled in a separate class? I am not that familiar with the design pattern."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550057461, "post_id": 54666888, "comment_id": 96128250, "body": "If you choose this approach, I would instead put all the conversion logic into the service : the component should only work on view-related processes, while the service should manage the data itself. This makes it reusable elsewhere, in other use-cases, etc. That also provides an abstraction for the component : if you use any library to transform your data, changing it in the service won&#39;t affect the code of the N components implementing it, while if implemented in the component, you will have to change it in evey of those components."}, {"owner": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "edited": false, "score": 0, "creation_date": 1550642732, "post_id": 54666888, "comment_id": 96338451, "body": "If you know any open source projects which perform this process please share. Thank you for your suggestions indeed."}, {"owner": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "edited": false, "score": 0, "creation_date": 1550642825, "post_id": 54666888, "comment_id": 96338506, "body": "Thank you @Eliseo your suggestion gave me more clarity."}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 0, "last_activity_date": 1550050768, "creation_date": 1550050768, "answer_id": 54666888, "question_id": 54666182, "link": "https://stackoverflow.com/questions/54666182/adapter-pattern-in-angular-using-typescript-for-a-reactive-form/54666888#54666888", "title": "Adapter pattern in angular using typescript for a reactive form", "body": "<p>In my opinion, in general, form-model and data-model are differents. So you need convert form-model to data-model and viceversa. </p>\n\n<p>Where? If its a \"simple\" and common value, I like use in service. e.g. we receive a date in format String and we want have as Date Object, or received an string type \"London|Madrid\" and you want to convert To an Array</p>\n\n<pre><code>service.getList().pipe(map(list=&gt;{\n   list.forEach(item=&gt;\n      {\n        item.date=new Date(item.date); //now \"date\" is a Date Object\n        item.cities=item.cities.split('|');  //now cities is an array of Strings\n   }))\n</code></pre>\n\n<p>Well, our saveData in service becomes like</p>\n\n<pre><code>saveData(data)\n{\n     data.date=data.date.getFullYear()+\"-\"+\n            (\"0\"+(data.date.getMonth()+1)).slice(-2)+\"-\"+\n            \"0\"+(data.date.getDate()).slice(-2)\n     data.cities=data.cities.join(\"|\");\n     this.httpClient.post(\"....\",data)\n}\n</code></pre>\n\n<p>If it's more complex, I would prefer make in the component</p>\n"}], "owner": {"reputation": 17, "user_id": 4082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fefcde0943279af03b05cb3de70e4125?s=128&d=identicon&r=PG&f=1", "display_name": "shib jo", "link": "https://stackoverflow.com/users/4082086/shib-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3296, "favorite_count": 0, "accepted_answer_id": 54666780, "answer_count": 2, "score": 0, "last_activity_date": 1550050768, "creation_date": 1550048562, "question_id": 54666182, "link": "https://stackoverflow.com/questions/54666182/adapter-pattern-in-angular-using-typescript-for-a-reactive-form", "title": "Adapter pattern in angular using typescript for a reactive form", "body": "<p>I am looking for a solution on how to use adapter pattern in angular6. I have read scores of articles or tutorials but failed to grasp the concept of that. Please share some insights on this. In short I use a service to fetch\nsome data, I need to use this in a component but the model used in component is different from that of service.\nI need to edit it and send back to service in the intended format. Essence of my doubt is do we need to create an interface to handle http calls? If yes how do we hold the data to and use it in my adapter class. Since the links I referred it advocates make data models and view models separate, I am confused.</p>\n\n<p>Below is the json returned from the server(assets/mocks/quote.json)</p>\n\n<pre><code>{\n    \"quote\": {\n        \"quoteId\": 123,\n        \"commenseDate\": \"12/ 15/2018\",\n        \"quoteType\": \"Small\",\n        \"count\": 10,\n        \"customerInfo\": {\n            \"customerName\": \"ABC\",\n            \"address\": \"xxxx xxx xxx\",\n            \"city\": \"Philadelphia\",\n            \"state\": \"Philadelphia \",\n            \"zip\": \"xxxxx\",\n            \"county\": \"PA\",\n            \"phone\": \"\",\n            \"eligibles\": 2,\n            \"employeeCount\": 2\n        }\n\n    }\n}\n</code></pre>\n\n<p>I am confused over the usage of model and interface while connecting to a webservice. After referring the angular docs I am aware that we need to use interface of our data model and use that type when we connect to a webservice. So I have created an interface to handle my data model</p>\n\n<pre><code>export interface Quote{\n    quoteId: number;\n    commenseDate: string;\n    count: number;\n    quoteType: string;\n    customerInfo: CustomerInfo\n}\nexport interface CustomerInfo {\n    customerName: string;\n    address: string;\n    city: string;\n    state: string;\n    zip: number;\n    county: string;\n    phone: number;\n    eligibles: number;\n    employeeCount: number;\n}\n</code></pre>\n\n<p>In my service call I used this interface.Below is my quote-search-service.ts file</p>\n\n<pre><code>export class QuoteSearchListService {\n\n/* ApiService- is just a wrapper class to hold the http logic. This class imports HttpClient and uses its get\n  * and post methods\n*/\n  constructor(private apiService:ApiService) { }\n\n  /** Get a quote item */\n  getQuoteItem(quoteId:number):Observable&lt;Quote&gt;{\n\n    return this.apiService.get&lt;Quote&gt;('assets/mocks/quote.json')\n    .pipe(map((data) =&gt; data));\n  }\n}\n</code></pre>\n\n<p>I use a reactive form in my component and I use a form model shown below</p>\n\n<pre><code>export class QuoteComponent implements OnInit {\n\n    private form: FormGroup;\n\n    constructor(private router: Router, private fb: FormBuilder, private quoteService: QuoteSearchListService) {\n        this.form = this.fb.group({\n            customerName: [null, Validators.required]\n            address: this.fb.group({\n                `enter code here`\n                address1: ['', Validators.required],\n                address2: ['']\n            })\n            addressDetails: this.fb.group({\n                state: [null, Validators.required],\n                city: [null, Validators.required],\n                zip: [null, Validators.required]\n            }),\n            county: [''],\n            phone: ['', [Validators.required, Validators.minLength(10)]],\n\n            contact: this.fb.group({\n                contactFirstName: [null, Validators.required],\n                contactLastName: [null, Validators.required],\n            }),\n            eligibles: [null, Validators.required],\n            empCount: [null, Validators.required],\n            fteCount: [null, Validators.required]\n        })\n\n    }\n\n    ngOnInit() {\n        this.getQuoteItem(this.quoteId);\n    }\n\n    getQuoteItem() {\n        this.quoteService.getQuoteItem(quoteId).subscribe(response =&gt; {\n            this.form.setValue(response.quote);\n        })\n    }\n\n}\n</code></pre>\n\n<p>My questions are listed below:</p>\n\n<ol>\n<li>How to use adapter pattern in this context so that my data model and form model will be independent of each other?</li>\n<li>Do I need to create models/classes to be used in my component other than the form model.\nSee for example 'addressDetails' in the form model is different from the data model.</li>\n<li>How will the conversion from data-model to form-model(for get call) and vice versa (for the post/put call) happens. Should I write an extra service to convert this model back and forth?</li>\n</ol>\n\n<p>Links I referred:\n<a href=\"https://itnext.io/dont-clone-back-end-models-in-angular-f7a749bdc1b0\" rel=\"nofollow noreferrer\">https://itnext.io/dont-clone-back-end-models-in-angular-f7a749bdc1b0</a></p>\n\n<p><a href=\"https://blog.florimondmanca.com/consuming-apis-in-angular-the-model-adapter-pattern\" rel=\"nofollow noreferrer\">https://blog.florimondmanca.com/consuming-apis-in-angular-the-model-adapter-pattern</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37652801/when-to-use-interface-and-model-in-typescript-angular2\">When to use Interface and Model in TypeScript / Angular2</a></p>\n"}, {"tags": ["angular", "typescript", "datepicker", "angular-material", "angular6"], "comments": [{"owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "edited": false, "score": 0, "creation_date": 1550049603, "post_id": 54666157, "comment_id": 96123258, "body": "Try to print <code>objCompany.RegDate</code> in the html"}, {"owner": {"reputation": 87, "user_id": 10910419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1n-GLB1S9E/AAAAAAAAAAI/AAAAAAAAAAs/EnmZznl0s-E/photo.jpg?sz=128", "display_name": "Web Designer", "link": "https://stackoverflow.com/users/10910419/web-designer"}, "reply_to_user": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "edited": false, "score": 0, "creation_date": 1550049710, "post_id": 54666157, "comment_id": 96123339, "body": "Yeah it shows me correct date which I selected. But sending current date into database."}, {"owner": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "edited": false, "score": 0, "creation_date": 1550049862, "post_id": 54666157, "comment_id": 96123439, "body": "Can you share the code for API call, if <code>objCompany.RegDate</code> is used then selected data will be send. Try checking in the backend as well"}, {"owner": {"reputation": 87, "user_id": 10910419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1n-GLB1S9E/AAAAAAAAAAI/AAAAAAAAAAs/EnmZznl0s-E/photo.jpg?sz=128", "display_name": "Web Designer", "link": "https://stackoverflow.com/users/10910419/web-designer"}, "reply_to_user": {"reputation": 1195, "user_id": 4210336, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cf42cc0e54b012c02eb16ba7317bebb1?s=128&d=identicon&r=PG&f=1", "display_name": "Ininiv", "link": "https://stackoverflow.com/users/4210336/ininiv"}, "edited": false, "score": 0, "creation_date": 1550049912, "post_id": 54666157, "comment_id": 96123471, "body": "<code>Insert(obj: CompanyModel) {     console.log(&#39;OBJECT : &#39;, obj);     obj.ID = 0;     obj.Active =1;     return this.http.post(this.apiURL + &quot;&#47;SaveCompany&quot;, obj);   }</code>"}], "owner": {"reputation": 87, "user_id": 10910419, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o1n-GLB1S9E/AAAAAAAAAAI/AAAAAAAAAAs/EnmZznl0s-E/photo.jpg?sz=128", "display_name": "Web Designer", "link": "https://stackoverflow.com/users/10910419/web-designer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1550064448, "creation_date": 1550048482, "question_id": 54666157, "link": "https://stackoverflow.com/questions/54666157/mat-datepicker-sending-current-date-into-my-database-through-api-service", "title": "Mat-datepicker sending current date into my database through API service", "body": "<p>I'm using <code>mat-datepicker</code> in my project. I want to send date which user select but the issue is my datepicker is sending current date into my database. I'm sending data into database through API. \nHere is HTML</p>\n\n<pre><code>  &lt;input name=\"RegDate\" #RegDate=\"ngModel\" [matDatepicker]=\"picker\" [(ngModel)]=\"objCompany.RegDate\" class=\"form-control datepicker\" required /&gt;\n     &lt;mat-datepicker-toggle class=\"datepicker-toggler\" [for]=\"picker\"&gt;&lt;/mat-datepicker-toggle&gt;\n     &lt;mat-datepicker #picker&gt;&lt;/mat-datepicker&gt;\n</code></pre>\n"}, {"tags": ["html", "sql-server", "angular", "typescript"], "comments": [{"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1550048463, "post_id": 54666063, "comment_id": 96122595, "body": "Make it two fields in the database. Else you need to split your name, but how do you know at which position to split, etc (what happens with double names and so on...)"}, {"owner": {"reputation": 67, "user_id": 10493726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4155.jpg?s=128&g=1", "display_name": "John Roy", "link": "https://stackoverflow.com/users/10493726/john-roy"}, "reply_to_user": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1550049961, "post_id": 54666063, "comment_id": 96123494, "body": "I can&#39;t make any changes on the database many component will be affected"}, {"owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "edited": false, "score": 0, "creation_date": 1550050084, "post_id": 54666063, "comment_id": 96123569, "body": "Then you can&#39;t make two fields into one field into two fields again. Or you use the spliting example below but you will have a lot of other problems with it (e.g double names)"}], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 4533245, "user_type": "registered", "profile_image": "https://graph.facebook.com/630758987069720/picture?type=large", "display_name": "Monkey D. Luffy", "link": "https://stackoverflow.com/users/4533245/monkey-d-luffy"}, "edited": false, "score": 0, "creation_date": 1550050037, "post_id": 54666388, "comment_id": 96123540, "body": "For more information you can check this thread <a href=\"https://stackoverflow.com/questions/44900110/split-string-based-on-spaces-and-read-that-in-angular2\">Split text based on occurrence of particular character</a>"}], "tags": [], "owner": {"reputation": 152, "user_id": 4533245, "user_type": "registered", "profile_image": "https://graph.facebook.com/630758987069720/picture?type=large", "display_name": "Monkey D. Luffy", "link": "https://stackoverflow.com/users/4533245/monkey-d-luffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1551191882, "last_edit_date": 1551191882, "creation_date": 1550049219, "answer_id": 54666388, "question_id": 54666063, "link": "https://stackoverflow.com/questions/54666063/how-can-i-get-and-separate-data-from-database-into-to-text-box-angular/54666388#54666388", "title": "How can I get and separate data from database into to text box? Angular", "body": "<p>You're sending data as Combination of two strings so result you're getting is single string. But as you're inserting empty space in those combination of two Strings what you could do is check for Occurrence of empty blank space using <strong>split()</strong> function of angular after receiving response from database.</p>\n\n<p>Suppose you're two strings are <strong>\"hey\" \"Hello\"</strong> so Database will have <strong>hey Hello</strong>. So after getting that string store it to variable suppose :</p>\n\n<p><code>let stringSplit = this.Profile; // profile variable which will store response from database and which will have string **hey hello**</code></p>\n\n<p>then</p>\n\n<p><code>let sepratedArray = stringSplit.split(\" \"); //where space is the separation character</code></p>\n\n<p>then check value of <strong>sepratedArray</strong> as array index </p>\n\n<p>i.e. <code>console.log(sepratedArray[0]); //will print **hey**</code></p>\n\n<p>and</p>\n\n<p>i.e. <code>console.log(sepratedArray[1]); //will print **Hello**</code></p>\n\n<p>Happy Coding \u263b</p>\n"}], "owner": {"reputation": 67, "user_id": 10493726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4155.jpg?s=128&g=1", "display_name": "John Roy", "link": "https://stackoverflow.com/users/10493726/john-roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551191882, "creation_date": 1550048161, "question_id": 54666063, "link": "https://stackoverflow.com/questions/54666063/how-can-i-get-and-separate-data-from-database-into-to-text-box-angular", "title": "How can I get and separate data from database into to text box? Angular", "body": "<p>I have 2 textboxes AuthorizeRep1Fname and AuthorizeRep1Lname. I'm combining it together on typescript before I put it on 1 column in database which is AuthorizeRep1Name. Look at the photo below that's the result.</p>\n\n<p>I'm using this to register and combine first name and last name.</p>\n\n<pre><code>this.Profile.AuthorizedRep1Name = (this.Profile.AuthorizedRep1FName + ' ' + \nthis.Profile.AuthorizedRep1LName);\nthis.ProfileService.UpdateProfile(this.Profile).then(\n  (response) =&gt; {\n    console.log(this.Profile)\n   }\n</code></pre>\n\n<p>Here's my html.</p>\n\n<pre><code>&lt;div class=\"row mx-auto\"&gt;\n&lt;div class=\"col-sm-12 col-md-6 col-lg-6\"&gt;\n    &lt;div class=\"input-container\"&gt;\n        &lt;label for=\"Representative1\"&gt;* First Name &lt;/label&gt;\n        &lt;input name=\"r1fname\" #r1fname=\"ngModel\" id=\"Representative1Fname\" type=\"text\" [(ngModel)]=\"Profile.AuthorizedRep1FName\" pInputText required/&gt;\n        &lt;div class=\"errortxt\" [hidden]=\"r1fname.valid || r1fname.pristine\" class=\"alert alert-danger\"&gt;\n            &lt;div class=\"errortxt\" [hidden]=\"!r1fname.hasError('required')\"&gt;First Name is Required!&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"col-sm-12 col-md-6 col-lg-6\"&gt;\n    &lt;div class=\"input-container\"&gt;\n        &lt;label for=\"Representative1\"&gt;* Last Name &lt;/label&gt;\n        &lt;input name=\"r1lname\" #r1lname=\"ngModel\" id=\"Representative1Lname\" type=\"text\" [(ngModel)]=\"Profile.AuthorizedRep1LName\" pInputText required/&gt;\n        &lt;div class=\"errortxt\" [hidden]=\"r1lname.valid || r1lname.pristine\" class=\"alert alert-danger\"&gt;\n            &lt;div class=\"errortxt\" [hidden]=\"!r1lname.hasError('required')\"&gt;Last Name is Required!&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>My problem is I can't separate and display the data from database to my two textboxes I can only display when I use ngModel AuthorizeRep1Name instead of AuthorizeRep1Fname and AuthorizeRep1Lname.\nHere's my get function.</p>\n\n<pre><code>GetProfileByID(UserID: any) {\n\nthis.ProfileService.GetProfileByID(UserID).then(\n(response) =&gt; {\n  this.Profile = response.Body;\n  }\n)\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GvjqB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvjqB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "frontend", "angular-httpclient"], "comments": [{"owner": {"reputation": 3109, "user_id": 6086968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o38dO.png?s=128&g=1", "display_name": "Hameed Syed", "link": "https://stackoverflow.com/users/6086968/hameed-syed"}, "edited": false, "score": 2, "creation_date": 1550047800, "post_id": 54665902, "comment_id": 96122229, "body": "because  .subscribe  is an asynchronous call.If you want the variable to fill value,then use settimeout"}, {"owner": {"reputation": 6367, "user_id": 9386929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f9bac9557ecb2df1aa89cd5dc5442d0?s=128&d=identicon&r=PG", "display_name": "nircraft", "link": "https://stackoverflow.com/users/9386929/nircraft"}, "edited": false, "score": 0, "creation_date": 1550075369, "post_id": 54665902, "comment_id": 96139470, "body": "You are printing <code>this.inspectionResult</code> before the call gets the data from <code>getInspectionData</code>., that&#39;s why you get `{} value. You should return wait for the value to be back from service before using it."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10455658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lpz7OvUtqPw/AAAAAAAAAAI/AAAAAAAAIVc/aCSXf9XpyMY/photo.jpg?sz=128", "display_name": "M. Fahrul Alwan", "link": "https://stackoverflow.com/users/10455658/m-fahrul-alwan"}, "edited": false, "score": 0, "creation_date": 1550144542, "post_id": 54665966, "comment_id": 96166808, "body": "thanks! i also found that i need to resolve the first one with resolver. i was trying to get 2 API concurrently with the 2nd API dependent to the first one."}], "tags": [], "owner": {"reputation": 400, "user_id": 10527372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uvCEW.png?s=128&g=1", "display_name": "RaviTeja V", "link": "https://stackoverflow.com/users/10527372/raviteja-v"}, "is_accepted": true, "score": 0, "last_activity_date": 1550047867, "creation_date": 1550047867, "answer_id": 54665966, "question_id": 54665902, "link": "https://stackoverflow.com/questions/54665902/angular-7-assigning-object-value-returned-from-observable-to-variable/54665966#54665966", "title": "Angular 7: assigning object value returned from observable to variable", "body": "<p>that may due to </p>\n\n<p>this.getInspectionData();\nconsole.log(<code>value from getInspectionData:</code>, this.inspectionResult);</p>\n\n<p>in this case there may delay in this.getInspectionData() this process.\nbut console.log() is exicuting before the above method complete.</p>\n\n<p>you must await for method complete. please refere this you will get some clarity</p>\n\n<p><a href=\"http://www.damirscorner.com/blog/posts/20170127-Angular2TutorialWithAsyncAndAwait.html\" rel=\"nofollow noreferrer\">http://www.damirscorner.com/blog/posts/20170127-Angular2TutorialWithAsyncAndAwait.html</a></p>\n"}], "owner": {"reputation": 5, "user_id": 10455658, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lpz7OvUtqPw/AAAAAAAAAAI/AAAAAAAAIVc/aCSXf9XpyMY/photo.jpg?sz=128", "display_name": "M. Fahrul Alwan", "link": "https://stackoverflow.com/users/10455658/m-fahrul-alwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 54665966, "answer_count": 1, "score": 0, "last_activity_date": 1550047867, "creation_date": 1550047622, "question_id": 54665902, "link": "https://stackoverflow.com/questions/54665902/angular-7-assigning-object-value-returned-from-observable-to-variable", "title": "Angular 7: assigning object value returned from observable to variable", "body": "<p>I have a problem when im trying to assign return value from service to component.</p>\n\n<pre><code>  ngOnInit() {\n    this.getInspectionData();\n  }\n\n  getInspectionData() {\n    this.auctionService.getInspectionResult(`df570718-018a-47d8-97a2-f943a9786536`)\n      .subscribe(data =&gt; {\n        console.log(`this is data returned: `, data);\n      }, error =&gt; {\n        console.log('failed to get data', error);\n      }, () =&gt; {\n        console.log('getInspectionResult successfully processed');\n      });\n  }\n</code></pre>\n\n<p>It successfuly got returned value in console.log</p>\n\n<p><a href=\"https://i.stack.imgur.com/0QGHK.png\" rel=\"nofollow noreferrer\">console.log result</a></p>\n\n<p>inside the <em><code>subscribe()</code></em>. there are seems like no problem. even i set the console.log to variable inside the <em><code>subscribe()</code></em>:</p>\n\n<pre><code>  .subscribe(data =&gt; {\n    this.inspectionResult = data;\n    console.log(`value from getInspectionData: `, this.inspectionResult);\n</code></pre>\n\n<p><strong>it had give the <code>this.inspectionResult</code> output correctly.</strong></p>\n\n<p>it should be correct, right? and then i add <code>this.inspectionResult = data;</code></p>\n\n<p>but....</p>\n\n<p>when i test it, the variable gets wrong and it gets <strong><em><code>'{}'</code></em></strong>. the code below:</p>\n\n<pre><code>  ngOnInit() {\n    this.getInspectionData();\n    console.log(`value from getInspectionData: `, this.inspectionResult);\n  }\n\n  getInspectionData() {\n    this.auctionService.getInspectionResult(`df570718-018a-47d8-97a2-f943a9786536`)\n      .subscribe(data =&gt; {\n        this.inspectionResult = data;\n      }, error =&gt; {\n        console.log('failed to get data', error);\n      }, () =&gt; {\n        console.log('getInspectionResult successfully processed');\n      });\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OCHJP.png\" rel=\"nofollow noreferrer\">this is the result</a></p>\n\n<p>by the way, i had assigned the variable like this:</p>\n\n<pre><code>  inspectionResult: InspectionResult = &lt;InspectionResult&gt;{};\n  inspectionResultData: InspectionResultData = &lt;InspectionResultData&gt;{};\n</code></pre>\n\n<p><strong>my question is:</strong></p>\n\n<ol>\n<li>Why the data value doesnt assign to the <code>this.inspectionResult</code> ?</li>\n<li>Why the ngOnInit() doesnt give the output way i expecting? (the <code>console.log()</code> in <code>ngOnInit()</code> should run after the <code>getInspectionData();</code> )</li>\n</ol>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7605200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db76e7dd51cbbbda0a1817888b035b1?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ec4\u5174\u6e90", "link": "https://stackoverflow.com/users/7605200/%e9%bb%84%e5%85%b4%e6%ba%90"}, "edited": false, "score": 0, "creation_date": 1550047541, "post_id": 54665712, "comment_id": 96122072, "body": "thanks\uff0ci works ! but ,  now there are two lines of code,can it be simpler?                                                                                        import {  withRouter, RouteComponentProps } from &#39;react-router&#39; import {Link} from &#39;react-router-dom&#39;"}, {"owner": {"reputation": 876, "user_id": 6998747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBFa7.jpg?s=128&g=1", "display_name": "Piyush Bhati", "link": "https://stackoverflow.com/users/6998747/piyush-bhati"}, "reply_to_user": {"reputation": 13, "user_id": 7605200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db76e7dd51cbbbda0a1817888b035b1?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ec4\u5174\u6e90", "link": "https://stackoverflow.com/users/7605200/%e9%bb%84%e5%85%b4%e6%ba%90"}, "edited": false, "score": 0, "creation_date": 1550047910, "post_id": 54665712, "comment_id": 96122289, "body": "<code>Link</code> is not available with <code>react-router</code>; you need to use both the imports or you can create a file to export all your needed imports and use one import in other files e.g.  <code>export {RouteComponentProps, Link}</code> from file name as <code>api</code> then you can use both as <code>import {RouteComponentProps, Link} from api</code>"}], "tags": [], "owner": {"reputation": 876, "user_id": 6998747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pBFa7.jpg?s=128&g=1", "display_name": "Piyush Bhati", "link": "https://stackoverflow.com/users/6998747/piyush-bhati"}, "is_accepted": true, "score": 1, "last_activity_date": 1550046964, "creation_date": 1550046964, "answer_id": 54665712, "question_id": 54665623, "link": "https://stackoverflow.com/questions/54665623/cannot-use-namespace-routecomponentprops-as-a-type/54665712#54665712", "title": "Cannot use namespace &#39;RouteComponentProps&#39; as a type", "body": "<p>Use <code>react-router</code> instead of <code>react-router-dom</code></p>\n\n<pre><code> import { RouteComponentProps } from 'react-router'\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7605200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db76e7dd51cbbbda0a1817888b035b1?s=128&d=identicon&r=PG&f=1", "display_name": "\u9ec4\u5174\u6e90", "link": "https://stackoverflow.com/users/7605200/%e9%bb%84%e5%85%b4%e6%ba%90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1877, "favorite_count": 1, "accepted_answer_id": 54665712, "answer_count": 1, "score": 1, "last_activity_date": 1550046964, "creation_date": 1550046652, "question_id": 54665623, "link": "https://stackoverflow.com/questions/54665623/cannot-use-namespace-routecomponentprops-as-a-type", "title": "Cannot use namespace &#39;RouteComponentProps&#39; as a type", "body": "<p>when i use typescript define a interface which  extends RouteComponentProp</p>\n\n<p>i get some problem:</p>\n\n<p><strong>vscode error</strong>: [ts] \u4e0d\u80fd\u5c06\u547d\u540d\u7a7a\u95f4\u201cRouteComponentProps\u201d\u7528\u4f5c\u7c7b\u578b</p>\n\n<p><strong>console error</strong>: Cannot use namespace 'RouteComponentProps' as a type.</p>\n\n<ul>\n<li>index.tsx</li>\n</ul>\n\n<pre><code>import React from 'react';\nimport  Styles from './header.less';\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom'\n\n\n\ninterface Props extends RouteComponentProps&lt;any&gt;{} //it can not be work well\n\n\nclass Header extends React.Component&lt;Props, States&gt; {.....}\n\n</code></pre>\n\n<ul>\n<li>tsconfig.json</li>\n</ul>\n\n<pre><code>\n  \"compilerOptions\": {\n      \"outDir\": \"./dist/\",\n      \"sourceMap\": true,\n      \"jsx\": \"react\",\n      \"esModuleInterop\": true,\n      \"allowSyntheticDefaultImports\":true,\n      \"lib\": [\"es6\", \"dom\"],\n      \"strictNullChecks\": true,\n      \"target\": \"es2016\",\n      \"module\": \"ESNext\",  // !important!\n      \"moduleResolution\": \"node\",\n      \"strict\": true,\n      \"typeRoots\": [\n        \"node_modules/@types\"\n    ],\n  },\n  \"include\": [\n      \"./src/**/*\",\n      \"./externals.d.ts\"\n  ],\n  \"exclude\": [ \"node_modules\" ]\n}\n</code></pre>\n\n<ul>\n<li>externals.d.ts</li>\n</ul>\n\n<pre><code>declare module '*.less'\ndeclare module 'react-router-dom'\n\n</code></pre>\n\n<p>is there anybody can give some suggestion? THANKS</p>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 4725, "user_id": 8808496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSryZ.jpg?s=128&g=1", "display_name": "Felix Lemke", "link": "https://stackoverflow.com/users/8808496/felix-lemke"}, "edited": false, "score": 0, "creation_date": 1550046892, "post_id": 54665526, "comment_id": 96121694, "body": "Your are using async code. The isAdmin parameter is probably <code>undefined</code> when you return it because the subscription is not resolved at this point."}, {"owner": {"reputation": 869, "user_id": 3709922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e12430d6a7cbfccf692ebcf4c1bea015?s=128&d=identicon&r=PG&f=1", "display_name": "Jignesh M. Khatri", "link": "https://stackoverflow.com/users/3709922/jignesh-m-khatri"}, "edited": false, "score": 0, "creation_date": 1550047234, "post_id": 54665526, "comment_id": 96121877, "body": "Try out directly <code>user.isAdmin</code> instead of <code>user.payload.data().isAdmin</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10486061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40260b7f24b3e0bd6e1e75968f0504a0?s=128&d=identicon&r=PG&f=1", "display_name": "Dneprokos", "link": "https://stackoverflow.com/users/10486061/dneprokos"}, "is_accepted": true, "score": 0, "last_activity_date": 1550321919, "last_edit_date": 1550321919, "creation_date": 1550321488, "answer_id": 54723250, "question_id": 54665526, "link": "https://stackoverflow.com/questions/54665526/how-to-return-firebase-document-property-using-angular-firestore-angular-7/54723250#54723250", "title": "How to return Firebase document property using Angular Firestore (Angular 7)?", "body": "<p>The solution was very easy:</p>\n\n<pre><code>canActivate(): Observable&lt;boolean&gt; {\n  return this.auth.user$\n    .pipe(\n      switchMap(fireuser =&gt; this.userService.get(fireuser.uid).snapshotChanges()),\n        map(document =&gt; document.payload.data().isAdmin) \n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10486061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40260b7f24b3e0bd6e1e75968f0504a0?s=128&d=identicon&r=PG&f=1", "display_name": "Dneprokos", "link": "https://stackoverflow.com/users/10486061/dneprokos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 54723250, "answer_count": 1, "score": 0, "last_activity_date": 1550321919, "creation_date": 1550046261, "last_edit_date": 1550046771, "question_id": 54665526, "link": "https://stackoverflow.com/questions/54665526/how-to-return-firebase-document-property-using-angular-firestore-angular-7", "title": "How to return Firebase document property using Angular Firestore (Angular 7)?", "body": "<p>I'm trying to get Firebase document property based on this model:</p>\n\n<p><img src=\"https://i.stack.imgur.com/laEjL.png\" alt=\"UserModel\"></p>\n\n<p>I've already found a document using the following code:\n<img src=\"https://i.stack.imgur.com/BAxye.png\" alt=\"get document\"></p>\n\n<p>//Users - collection name, uid - document uid.</p>\n\n<p>Next, I'm trying to get isAdmin property using the following line of code:</p>\n\n<p><img src=\"https://i.stack.imgur.com/pokmw.png\" alt=\"Get property\"></p>\n\n<p>In the results I receive undefined. </p>\n\n<p>How it can be resolved? I need to return <code>isAdmin</code> property value, but I don't get how to do it.</p>\n"}, {"tags": ["reactjs", "typescript", "ecmascript-6", "react-hooks", "react-ref"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 6030146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xu8lGRp_S1k/AAAAAAAAAAI/AAAAAAAAAEc/aajo_ywaZOk/photo.jpg?sz=128", "display_name": "Egomen", "link": "https://stackoverflow.com/users/6030146/egomen"}, "edited": false, "score": 0, "creation_date": 1550077560, "post_id": 54665653, "comment_id": 96140752, "body": "hey  @anxo  thanks!!, what about to reach directly to &quot;acc&quot;. How can i set its value ? Because i can get its value but when i set it doesnt change."}, {"owner": {"reputation": 387, "user_id": 4173096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEl.jpg?s=128&g=1", "display_name": "Anxo", "link": "https://stackoverflow.com/users/4173096/anxo"}, "reply_to_user": {"reputation": 33, "user_id": 6030146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xu8lGRp_S1k/AAAAAAAAAAI/AAAAAAAAAEc/aajo_ywaZOk/photo.jpg?sz=128", "display_name": "Egomen", "link": "https://stackoverflow.com/users/6030146/egomen"}, "edited": false, "score": 0, "creation_date": 1550130809, "post_id": 54665653, "comment_id": 96159235, "body": "It depends on the specific case, but my first choice would be to have the state on the parent instead of the child, and pass it down as props (including a setter, if needed), removing the need for useImperativeHandle. If that&#39;s not an option, I&#39;d go with refs: they are mutable, allowing all methods to access the current value without propagation problems. Feel free to make a new question with the specifics if you need more tailored advice."}, {"owner": {"reputation": 387, "user_id": 4173096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEl.jpg?s=128&g=1", "display_name": "Anxo", "link": "https://stackoverflow.com/users/4173096/anxo"}, "reply_to_user": {"reputation": 33, "user_id": 6030146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xu8lGRp_S1k/AAAAAAAAAAI/AAAAAAAAAEc/aajo_ywaZOk/photo.jpg?sz=128", "display_name": "Egomen", "link": "https://stackoverflow.com/users/6030146/egomen"}, "edited": false, "score": 0, "creation_date": 1550143194, "post_id": 54665653, "comment_id": 96166099, "body": "After a quick look, I&#39;d go with having the state on the parent. React is based on the concept of unidirectional data flow, so the state should be on the common ancestor to all the bits that need it, and it gets passed down.  See <a href=\"https://reactjs.org/docs/state-and-lifecycle.html#the-data-flows-down\" rel=\"nofollow noreferrer\">reactjs.org/docs/state-and-lifecycle.html#the-data-flows-dow&zwnj;&#8203;n</a> . If the child needs to change it, just have it receive a prop with a function from the parent."}, {"owner": {"reputation": 33, "user_id": 6030146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xu8lGRp_S1k/AAAAAAAAAAI/AAAAAAAAAEc/aajo_ywaZOk/photo.jpg?sz=128", "display_name": "Egomen", "link": "https://stackoverflow.com/users/6030146/egomen"}, "edited": false, "score": 0, "creation_date": 1550148884, "post_id": 54665653, "comment_id": 96169263, "body": "thank you very much for your helps. But actually i need to reach directly to the ref&#39;s state. does useImperativeHandle support this or should i use directly ref without useImperativeHandle ? And i dont want to make available all component contents. I need kinda useImperativeHandle that i can use with variables directly"}], "tags": [], "owner": {"reputation": 387, "user_id": 4173096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YcIEl.jpg?s=128&g=1", "display_name": "Anxo", "link": "https://stackoverflow.com/users/4173096/anxo"}, "is_accepted": true, "score": 3, "last_activity_date": 1550046743, "creation_date": 1550046743, "answer_id": 54665653, "question_id": 54665481, "link": "https://stackoverflow.com/questions/54665481/in-react-hooks-useref-i-cant-get-the-new-state-value/54665653#54665653", "title": "In React-Hooks UseRef i cant get the new state value", "body": "<p>It is because you're using useImperativeHandle without setting any inputs to it, so the functions never get updated. Just add acc as an input, and it will work:</p>\n\n<pre><code>useImperativeHandle(ref, () =&gt; ({\n  getAlert(value: string) {\n    alert(\"getAlert from Child===&gt;\" + value);\n  },\n\n  setAccountVal(val: string) {\n    setAcc(val);\n\n  },\n  acc\n}), [acc]);\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6030146, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-xu8lGRp_S1k/AAAAAAAAAAI/AAAAAAAAAEc/aajo_ywaZOk/photo.jpg?sz=128", "display_name": "Egomen", "link": "https://stackoverflow.com/users/6030146/egomen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5783, "favorite_count": 0, "accepted_answer_id": 54665653, "answer_count": 1, "score": 1, "last_activity_date": 1550247914, "creation_date": 1550046042, "last_edit_date": 1550247914, "question_id": 54665481, "link": "https://stackoverflow.com/questions/54665481/in-react-hooks-useref-i-cant-get-the-new-state-value", "title": "In React-Hooks UseRef i cant get the new state value", "body": "<p>I am trying useref with react-hooks but  when i call the setAccountVal method , although the state of child changes when i alert the value it is still \"Ege\". Do you have any idea about this case ? </p>\n\n<pre><code>    import React, { useState, useRef, useImperativeHandle, useEffect, forwardRef } from \"react\";\ninterface A {\n    name?: string;\n}\n\nconst Child = forwardRef((props: A, ref) =&gt; {\n    const [acc, setAcc] = useState(\"Ege\");\n    useImperativeHandle(ref, () =&gt; ({\n        getAlert(value: string) {\n            alert(\"getAlert from Child===&gt;\" + value);\n        },\n\n        setAccountVal(val: string) {\n            setAcc(val);\n\n        },\n        acc\n    }));\n\n    useEffect(\n        () =&gt; {\n            debugger;\n            setAcc(props.name || \"dummy\");\n            console.log(acc + \" --\");\n        },\n        [props.name]\n    );\n\nconst changeState = (e:React.FormEvent&lt;HTMLInputElement&gt;)=&gt;{\n    setAcc(e.currentTarget.value);\n}\n\n\n    return &lt;input onChange={changeState}&gt;&lt;/input&gt;;\n})\nfunction App() {\n    let [name, setName] = useState(\"Nate\");\n\n    let nameRef = useRef&lt;any&gt;(null);\n\n    const submitButton = () =&gt; {\n        debugger;\n        const comp = nameRef.current;\n        comp.setAccountVal(\"Mahmut\");\n        comp.getAlert(comp.acc);\n    };\n\n    return (\n        &lt;div className=\"App\"&gt;\n            &lt;p&gt;{name}&lt;/p&gt;\n            &lt;div&gt;\n                &lt;button type=\"button\" onClick={submitButton}&gt;\n                    Submit\n        &lt;/button&gt;\n                &lt;Child ref={nameRef} /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    );\n}\n\nexport default App;\n</code></pre>\n\n<p>When i call a normal method , i can see what i want. But the problem is that i can see new state value on acc state but when i take it from parent it is displaying the old  ( actually the initial state val (\"Ege\")) state value.</p>\n\n<blockquote>\n  <p>Edit : Actually what i want to do is below</p>\n</blockquote>\n\n<pre><code>//Child component with forwardRef\nconst [account, setAccount] = useState(\"defaultAccount\");\nconst [branch, setBranch] = useState(\"defaultBranch\");\nconst [person, setPerson] = useState(\"defaultPerson\");\n\nuseImperativeHandle(ref, () =&gt; ({\n    selectedAccount: account,\n    selectedBranch: branch,\n    selectedPerson: person\n}));\n\n\n//Parent component\nconst childComponentRef = useRef(null);\n//Is it possible to change child component's state? Is it allowed?\nchildComponentRef.current.selectedAccount = \"new account\";\nchildComponentRef.current.selectedBranch = \"new branch\";\nchildComponentRef.current.selectedPerson = \"new person\";\n\nalert(childComponentRef.current.selectedAccount);\nalert(childComponentRef.current.selectedBranch);\nalert(childComponentRef.current.selectedPerson);\n\n//We can change these variables but child component does not rerender with new values.\n</code></pre>\n\n<blockquote>\n  <p>Ok! I've found the solution. When i use the ref variables with getter setter now i can set also get the current values with useRef!!</p>\n</blockquote>\n\n<pre><code>//Child component with forwardRef\nconst [account, setAccount] = useState(\"defaultAccount\");\nconst [branch, setBranch] = useState(\"defaultBranch\");\nconst [person, setPerson] = useState(\"defaultPerson\");\n\nuseImperativeHandle(ref, () =&gt; ({\n    **get account(){\n     return account;\n    },\n    set account(val : string){\n    setAccount(val);\n    },**\n    selectedBranch: branch,\n    selectedPerson: person\n}));\n\n\n//Parent component\nconst childComponentRef = useRef(null);\n//Is it possible to change child component's state? Is it allowed?\nchildComponentRef.current.selectedAccount = \"new account\";\nchildComponentRef.current.selectedBranch = \"new branch\";\nchildComponentRef.current.selectedPerson = \"new person\";\n\nalert(childComponentRef.current.selectedAccount);\nalert(childComponentRef.current.selectedBranch);\nalert(childComponentRef.current.selectedPerson);\n\n//We can change these variables but child component does not rerender with new values\n</code></pre>\n\n<p><strong>Detailed Demo :</strong></p>\n\n<p><a href=\"https://codesandbox.io/s/69p5m5j93\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit React-Ref with Hooks\"></a>\n.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550045784, "post_id": 54665356, "comment_id": 96121195, "body": "next to that i cant find it on google i find de error not very clear but that is something else"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550046056, "post_id": 54665356, "comment_id": 96121326, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your issue."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550046942, "post_id": 54665356, "comment_id": 96121721, "body": "i have manetched to get visual studio code debug working with angular and it looks like there is something wrong with my input but why does - works and + doesn&#39;t even to i have said that they needed to be a number it makes them an string"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550046161, "post_id": 54665417, "comment_id": 96121370, "body": "This won&#39;t solve the issue, because it is just a typing. If he writes <code>add.number1 = 10</code>, it will consider number1 as a number."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550046378, "post_id": 54665417, "comment_id": 96121461, "body": "No, if the type is predefined as <code>Number</code>, it will still be <code>Number</code>. If it is not predefined, it will be assigned as <code>number</code>"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550046430, "post_id": 54665417, "comment_id": 96121484, "body": "You can try <code>number1: Number = 10;</code>, then <code>number1</code> will be <code>Number</code>, not <code>number</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550046596, "post_id": 54665417, "comment_id": 96121550, "body": "JS have dynamic typing, meaning the typing depends on the assignation. numbers being numbers and not objects, if you assign a number to a variable, it becomes a number."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550046674, "post_id": 54665417, "comment_id": 96121592, "body": "i already tried using number it does get rid of the error but doesn&#39;t fix the error and as said by @trichetriche it would make it automitc an number But thanks for the explanation of Number"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550046818, "post_id": 54665417, "comment_id": 96121659, "body": "typeof is not a type check function, especially if it is a Interface, not a type. You can hover the mouse over the x at the line x = 10, you&#39;ll see the type of x"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550047207, "post_id": 54665417, "comment_id": 96121862, "body": "Typescript types are not javascript types. I&#39;m telling you your answer won&#39;t solve the issue, that&#39;s all. No need to argue about something entirely different."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550047220, "post_id": 54665417, "comment_id": 96121867, "body": "@MarcRoelse you need to add type=&quot;number&quot; to the input, otherwise it&#39;ll convert the value to string"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550047285, "post_id": 54665417, "comment_id": 96121913, "body": "@trichetriche I tested my answer, it works, of course after adding type=&quot;number&quot; to the input. That is a different issue"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550047589, "post_id": 54665417, "comment_id": 96122102, "body": "it works but that doesnt explain why - does work without adding type=&quot;number&quot; if somebody has an eplaination for that i would like to know"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550047802, "post_id": 54665417, "comment_id": 96122230, "body": "@MarcRoelse input has default <code>type=&quot;text&quot;</code> Therefore it make the value <code>string</code>, not <code>number</code> by default. Typescript only help you to verify type in development and build time, not run time. therefore it doens&#39;t help you to transform a value from a string to a number."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550047949, "post_id": 54665417, "comment_id": 96122305, "body": "@NguyenPhongThien ok, this one is on me, I didn&#39;t understand that from your comments. In this case, it works <b>because of Angular</b>, not because of the type number on the input."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048015, "post_id": 54665417, "comment_id": 96122348, "body": "@NguyenPhongThien that explained what input does i am not very experienced with angular stuff yet but it doesn&#39;t explain why an - does  work from direct input and an + doesn&#39;t is it becouse - can only do - thing so it automaticly converts it to an number"}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "edited": false, "score": 0, "creation_date": 1550048020, "post_id": 54665417, "comment_id": 96122352, "body": "you can remove the type number from the input and try, I tried all the cases before commenting."}, {"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048139, "post_id": 54665417, "comment_id": 96122415, "body": "@MarcRoelse a - doesn&#39;t exist in <code>string</code> operator, so it converts the data to number. But + does, so it keep the type"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 1, "creation_date": 1550049081, "post_id": 54665417, "comment_id": 96122946, "body": "yeah i thought that @NguyenPhongThien and it was best way to explain it in my head and i will choose the answer from trichetriche over yours why html elements are never an good idee to fix a backend problem becouse user can use f12 to get rid of it but now i do know that angular makes it an number that is nice thanks for that"}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 1, "last_activity_date": 1550048309, "last_edit_date": 1550048309, "creation_date": 1550045802, "answer_id": 54665417, "question_id": 54665356, "link": "https://stackoverflow.com/questions/54665356/usings-angular-ts-to-do-math-in-the-component-ts-but-doesnt-works-but-does/54665417#54665417", "title": "Usings angular/ts to do math in the component.ts but + doesn&#39;t works but - does", "body": "<p>You should use <code>number</code>, not <code>Number</code></p>\n\n<p><code>Number</code> is not a type, it's an interface of es5. Here's its definition</p>\n\n<pre><code>interface Number {\n    /**\n      * Returns a string representation of an object.\n      * @param radix Specifies a radix for converting numeric values to strings. This value is only used for numbers.\n      */\n    toString(radix?: number): string;\n\n    /**\n      * Returns a string representing a number in fixed-point notation.\n      * @param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.\n      */\n    toFixed(fractionDigits?: number): string;\n\n    /**\n      * Returns a string containing a number represented in exponential notation.\n      * @param fractionDigits Number of digits after the decimal point. Must be in the range 0 - 20, inclusive.\n      */\n    toExponential(fractionDigits?: number): string;\n\n    /**\n      * Returns a string containing a number represented either in exponential or fixed-point notation with a specified number of digits.\n      * @param precision Number of significant digits. Must be in the range 1 - 21, inclusive.\n      */\n    toPrecision(precision?: number): string;\n\n    /** Returns the primitive value of the specified object. */\n    valueOf(): number;\n}\n</code></pre>\n\n<p>You also miss the <code>type=\"number\"</code> in the input, so it convert your value to <code>string</code></p>\n\n<p>Your html should be</p>\n\n<pre><code>&lt;h2&gt;here you can add stuff&lt;/h2&gt; \n&lt;div&gt;&lt;span&gt;first number: &lt;/span&gt;&lt;input [(ngModel)]=\"add.number1\" \nplaceholder=\"number1\" type=\"number\"&gt;&lt;/div&gt;\n&lt;div&gt;&lt;span&gt;second number: &lt;/span&gt;&lt;input [(ngModel)]=\"add.number2\" \nplaceholder=\"number2\" type=\"number\"&gt;&lt;/div&gt;\n&lt;button (click)=\"Math()\"&gt;press here to add&lt;/button&gt; &lt;label&gt;{{add.total}}&lt;/label&gt;\n&lt;button (click)=\"goBack()\"&gt;go back&lt;/button&gt;\n</code></pre>\n\n<p>About the reason the - work but the + doesn't, it is because <code>string</code> type doesn't have the \"-\" operator. Therefore, it converts the strings to the numbers. It doesn't happen on \"+\"</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550046158, "post_id": 54665428, "comment_id": 96121369, "body": "This won&#39;t solve the issue, because it is just a typing. If he writes <code>add.number1 = 10</code>, it will consider number1 as a number."}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "edited": false, "score": 0, "creation_date": 1550047457, "post_id": 54665428, "comment_id": 96122022, "body": "@trichetriche OP in his question never set <code>add.number1 = 10</code> - he do something opposite: <code>let numberone = this.add.number1;</code>. So fixing the type in <code>Add</code> class in his case solve the issue"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550047573, "post_id": 54665428, "comment_id": 96122091, "body": "Okay, then provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing that it works. I&#39;m waiting. By the way, <code>type=&quot;number&quot;</code> still creates strings."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048262, "post_id": 54665428, "comment_id": 96122480, "body": "type=&quot;number &quot; is not creating string for me but i think it is something by angular"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1550048461, "post_id": 54665428, "comment_id": 96122594, "body": "Again, as explained on the other answer, <code>type=&quot;number&quot;</code> do create strings. In Angular, they are considered as numbers <b>because of Angular</b>, that converts strings into numbers when the input is of type number. You can easily test this is any JS sandbox, or just look at my answer to see it in action. So, it working in an Angular context isn&#39;t the truth, this is the framework doing."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550049457, "post_id": 54665428, "comment_id": 96123174, "body": "i explained why i choose trichetriche answer over type=&quot;number&quot; in de top of my question for people that run in the same problem or have the same question"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1550048841, "last_edit_date": 1550048841, "creation_date": 1550045851, "answer_id": 54665428, "question_id": 54665356, "link": "https://stackoverflow.com/questions/54665356/usings-angular-ts-to-do-math-in-the-component-ts-but-doesnt-works-but-does/54665428#54665428", "title": "Usings angular/ts to do math in the component.ts but + doesn&#39;t works but - does", "body": "<p>In <code>Add</code> class use type <code>number</code> (first letter lower-case)</p>\n\n<p>Update (question)</p>\n\n<p>In <code>&lt;input&gt;</code> use <code>type=\"number\"</code></p>\n\n<p>Working example <a href=\"https://stackblitz.com/edit/angular-tpuavv?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>First problem - when you use <code>Number</code> instead of <code>number</code> then you get compilation error. After fix it, you face another problem - input value was interpreted by js/angular like string(and '10'+'10' give string concatenation - but if you type '10'-'10' then js <a href=\"https://stackoverflow.com/q/24383788/860099\">implict</a> cast strings to numbers and make substraction) - but when you use <code>type=\"number\"</code> then input values was implicit cast to numbers by js/angular - and you get right result.</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550047648, "post_id": 54665850, "comment_id": 96122129, "body": "i will try that"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550047901, "post_id": 54665850, "comment_id": 96122279, "body": "this also works it is an interesting way of doing it and i learnt from it thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048290, "post_id": 54665850, "comment_id": 96122496, "body": "@MarcRoelse to better understand the concept, <a href=\"https://stackoverflow.com/questions/35791767/html-input-type-number-still-returning-a-string-when-accessed-from-javascript\">here is a question on SOF</a> that explains why it behaves likes that."}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048626, "post_id": 54665850, "comment_id": 96122683, "body": "i excepted this answer before the type=&quot;number&quot; becouse this could be used in javascript and type script and is more safer to use why you can just get rid of the type=&quot;number&quot; becouse it is an html element but i still dont know why the - doesn work without doing any of this"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550048863, "post_id": 54665850, "comment_id": 96122814, "body": "@MarcRoelse in JS, you can concatenate strings with &quot;+&quot;, but you can&#39;t subtract them. <code>&#39;x&#39; + &#39;y&#39; === x.concat(y)</code> is true in JS. When you use a minus, the JS engine says &quot;Well I can&#39;t substract strings ! maybe it would work if I converted them into numbers ?&quot;, and so it does. You can try it with strings too : <code>&#39;x&#39; - &#39;y&#39; === NaN</code> will output true : the engine tried to convert the strings into numbers, but it couldn&#39;t, so it considers it as a NaN (Not A Number)"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550049274, "post_id": 54665850, "comment_id": 96123063, "body": "thanks for this nice explaination @trichetriche thanks and now i could use that to make an try parse if i want to"}, {"owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550050773, "post_id": 54665850, "comment_id": 96124054, "body": "when i was making an subtract version of this code i used your + in front of the vars and it add stuff for some reason but it is an easy fix just get rid of the + in front of it but is there also an explanation for this or is that just js"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "edited": false, "score": 0, "creation_date": 1550053358, "post_id": 54665850, "comment_id": 96125748, "body": "@MarcRoelse I&#39;ve made an edit #2, feel free to check it"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 1, "last_activity_date": 1550053341, "last_edit_date": 1550053341, "creation_date": 1550047447, "answer_id": 54665850, "question_id": 54665356, "link": "https://stackoverflow.com/questions/54665356/usings-angular-ts-to-do-math-in-the-component-ts-but-doesnt-works-but-does/54665850#54665850", "title": "Usings angular/ts to do math in the component.ts but + doesn&#39;t works but - does", "body": "<p>Following your comment on your question : your issue is that you get the numbers from inputs. </p>\n\n<p>Inputs are always text : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function log(input) {\r\n  console.log(input.value + ' is of type ' + typeof input.value);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" placeholder=\"input something here\" oninput=\"log(this)\"&gt;\r\n&lt;br&gt;\r\n&lt;input type=\"number\" placeholder=\"input something here\" oninput=\"log(this)\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To resolve that, you need to convert your input values into numbers. </p>\n\n<p>Very easy : just append a <code>+</code> in front of it. </p>\n\n<p>If you have </p>\n\n<pre><code>&lt;input type=\"number\" [(ngModel)]=\"number1\"&gt;\n</code></pre>\n\n<p>Then you will do</p>\n\n<pre><code>add() {\n  result = +this.number1 + +this.number2;\n}\n</code></pre>\n\n<p>resulting in a correct addition : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(+'10' + +'10');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>EDIT</strong>: as shown in the other answers (but with the wrong explanations), Angular converts inputs of <code>type=\"number\"</code> into numbers if your variables are typed as <code>number</code>s. </p>\n\n<p>You can then take advantage of it, and indeed, type your inputs and your variables as numbers. But it's always better to understand the basics, instead of using something without understanding it !</p>\n\n<p><strong>EDIT 2</strong>: To make subsctractions, follow the same logic</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(+'10' - +'10');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 9503054, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Marc Roelse", "link": "https://stackoverflow.com/users/9503054/marc-roelse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 481, "favorite_count": 0, "accepted_answer_id": 54665850, "answer_count": 3, "score": 1, "last_activity_date": 1550053341, "creation_date": 1550045614, "last_edit_date": 1550049186, "question_id": 54665356, "link": "https://stackoverflow.com/questions/54665356/usings-angular-ts-to-do-math-in-the-component-ts-but-doesnt-works-but-does", "title": "Usings angular/ts to do math in the component.ts but + doesn&#39;t works but - does", "body": "<p>i choose this answer over the type=\"number\" one becouse users can just press f12 and get rid of it</p>\n\n<p>adding </p>\n\n<pre><code>type=\"number\"\n</code></pre>\n\n<p>to my html works but that still doesn't explain why an - works without adding it to</p>\n\n<p>for the minus is what i thought it works becouse - is not an string opperator and + is</p>\n\n<p>I was testing with typescript and I noticed this so when I use minus it works when I use + it does work and I don't know how and can't find where I can find it</p>\n\n<p>my class:</p>\n\n<pre><code>export class Add {\nnumber1: Number;\nnumber2: Number;\ntotal: Number;\n}\n</code></pre>\n\n<p>i have tried giving them into let\nthis is my function</p>\n\n<pre><code>Math(): void {\nlet numberone = this.add.number1;\nlet numbertwo = this.add.number2;\nthis.add.total = numberone + numbertwo;\n}\n</code></pre>\n\n<p>expected result where</p>\n\n<pre><code>numberone = 10\nnumbertwo = 10\nthis.add.total = numerone + numbertwo\n</code></pre>\n\n<p>that the total is becoming 20 but it becomes 1010</p>\n\n<p>my html</p>\n\n<pre><code>&lt;h2&gt;here you can add stuff&lt;/h2&gt; \n&lt;div&gt;&lt;span&gt;first number: &lt;/span&gt;&lt;input [(ngModel)]=\"add.number1\" \nplaceholder=\"number1\"&gt;&lt;/div&gt;\n&lt;div&gt;&lt;span&gt;second number: &lt;/span&gt;&lt;input [(ngModel)]=\"add.number2\" \nplaceholder=\"number2\"&gt;&lt;/div&gt;\n&lt;button (click)=\"Math()\"&gt;press here to add&lt;/button&gt; &lt;label&gt;{{add.total}}&lt;/label&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 1, "creation_date": 1550045479, "post_id": 54665279, "comment_id": 96121036, "body": "what do you mean by <code>data are not well formatted</code>? what&#39;s the error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1550045485, "post_id": 54665279, "comment_id": 96121038, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your issue."}, {"owner": {"reputation": 23, "user_id": 10985573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-247JLxMH2XI/AAAAAAAAAAI/AAAAAAAABu8/P28AWhptDg8/photo.jpg?sz=128", "display_name": "Nicolas Mazzoleni", "link": "https://stackoverflow.com/users/10985573/nicolas-mazzoleni"}, "edited": false, "score": 0, "creation_date": 1550045524, "post_id": 54665279, "comment_id": 96121051, "body": "Basically, when I try differently and declare the array : private lineChartData: Array&lt;any&gt; = [{data: [], label: &#39;&#39;}]; I got as the result the first row, which is a good start. Maybe the declaration of the LineChart array is not matching the expected data ?"}, {"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1550046092, "post_id": 54665279, "comment_id": 96121341, "body": "did you try using something like <code>interface LineChart{   data:number[],   label:string }</code> and <code>lineChart: LineChart[] = []</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "reply_to_user": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1550046456, "post_id": 54665502, "comment_id": 96121500, "body": "In that case <code>private lineChart: Array&lt;{         data: number[],         label: string,     }&gt;</code> whould be enough for the definition"}, {"owner": {"reputation": 23, "user_id": 10985573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-247JLxMH2XI/AAAAAAAAAAI/AAAAAAAABu8/P28AWhptDg8/photo.jpg?sz=128", "display_name": "Nicolas Mazzoleni", "link": "https://stackoverflow.com/users/10985573/nicolas-mazzoleni"}, "edited": false, "score": 0, "creation_date": 1550047257, "post_id": 54665502, "comment_id": 96121895, "body": "This declaration is still not working properly. The only one that works at the moment is : private lineChart: Array&lt;any&gt; = [{data: [], label: &#39;&#39;}]; (But it only push the first element at index 0 of the dynamic data)."}], "tags": [], "owner": {"reputation": 2413, "user_id": 7017861, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wHT-OzvQ7s0/AAAAAAAAAAI/AAAAAAAAAzk/AWxCn-itzOI/photo.jpg?sz=128", "display_name": "Nguyen Phong Thien", "link": "https://stackoverflow.com/users/7017861/nguyen-phong-thien"}, "is_accepted": false, "score": 0, "last_activity_date": 1550046156, "creation_date": 1550046156, "answer_id": 54665502, "question_id": 54665279, "link": "https://stackoverflow.com/questions/54665279/declaring-an-array-angular-4/54665502#54665502", "title": "Declaring an Array - Angular 4", "body": "<p>It should be</p>\n\n<pre><code>private lineChart: Array&lt;{\n        data: number[],\n        label: string,\n    }&gt; = [\n        { data: [65, 59, 80, 81, 56, 55, 40], label: 'toto' },\n        { data: [28, 48, 40, 19, 86, 27, 90], label: 'tata' },\n        { data: [81, 56, 55, 48, 40, 19, 34], label: 'titi' },\n    ];\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10985573, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-247JLxMH2XI/AAAAAAAAAAI/AAAAAAAABu8/P28AWhptDg8/photo.jpg?sz=128", "display_name": "Nicolas Mazzoleni", "link": "https://stackoverflow.com/users/10985573/nicolas-mazzoleni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550047890, "creation_date": 1550045307, "last_edit_date": 1550047890, "question_id": 54665279, "link": "https://stackoverflow.com/questions/54665279/declaring-an-array-angular-4", "title": "Declaring an Array - Angular 4", "body": "<p>I am trying to push some dynamic data into an array. </p>\n\n<pre><code>export class Test implements OnInit {\n private lineChart: Array&lt;any&gt;;\n }\n</code></pre>\n\n<p>Further in the code, I generate dynamically some data and do a lineChart.push(data) into the empty lineChart array, it is working but the data are not well formatted to be used. Any ideas on how to end up with the result below ? </p>\n\n<p>Here is the expected result : </p>\n\n<pre><code>private lineChart: Array&lt;any&gt; = [\n    { data: [65, 59, 80, 81, 56, 55, 40], label: 'toto' },\n    { data: [28, 48, 40, 19, 86, 27, 90], label: 'tata' },\n    { data: [81, 56, 55, 48, 40, 19, 34], label: 'titi' },\n  ]\n</code></pre>\n\n<hr>\n\n<p>I am trying to use this Javascript librabry : <a href=\"https://alligator.io/angular/chartjs-ng2-charts/\" rel=\"nofollow noreferrer\">https://alligator.io/angular/chartjs-ng2-charts/</a></p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({ ... })\nexport class AppComponent {\n  chartOptions = {\n    responsive: true\n  };\n\n  chartData = [\n    { data: [330, 600, 260, 700], label: 'Account A' },\n    { data: [120, 455, 100, 340], label: 'Account B' },\n    { data: [45, 67, 800, 500], label: 'Account C' }\n  ];\n\n  chartLabels = ['January', 'February', 'Mars', 'April'];\n\n  onChartClick(event) {\n    console.log(event);\n  }\n}\n</code></pre>\n\n<p>chartData is the array I want to get at the end using the data generated dynamically. </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 11024, "user_id": 596816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dfcffa6d61323027cb75ee36d1fbb508?s=128&d=identicon&r=PG", "display_name": "EECOLOR", "link": "https://stackoverflow.com/users/596816/eecolor"}, "edited": false, "score": 0, "creation_date": 1550128993, "post_id": 54682411, "comment_id": 96158424, "body": "Now the resulting function requires the same props as <code>f</code>, it should not require the <code>extra</code> prop."}, {"owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "reply_to_user": {"reputation": 11024, "user_id": 596816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dfcffa6d61323027cb75ee36d1fbb508?s=128&d=identicon&r=PG", "display_name": "EECOLOR", "link": "https://stackoverflow.com/users/596816/eecolor"}, "edited": false, "score": 0, "creation_date": 1550138205, "post_id": 54682411, "comment_id": 96163105, "body": "Yes, sorry. <code>Props</code> are not inferred as well as one would hope. I updated the answer."}], "tags": [], "owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "is_accepted": true, "score": 1, "last_activity_date": 1550138077, "last_edit_date": 1550138077, "creation_date": 1550111758, "answer_id": 54682411, "question_id": 54665127, "link": "https://stackoverflow.com/questions/54665127/how-to-type-a-function-that-partially-applies-another-function/54682411#54682411", "title": "How to type a function that partially applies another function?", "body": "<p>How about</p>\n\n<pre><code>function provideExtra&lt;Props,Extra,Args extends any[],Result&gt;(\n  f: (p: Props &amp; {extra: Extra}, ...args: Args) =&gt; Result,\n  extra: Extra\n) {\n  return (props: Props, ...args: Args) =&gt; f({ ...props, extra }, ...args)\n}\n</code></pre>\n\n<p>UPD. Yes, you're right: TypeScript doesn't infer <code>Props</code> as expected. You'd have to call it like this:</p>\n\n<pre><code>const f = (props: {prefix: string, extra: string}, suffix: string) =&gt; props.prefix + props.extra + suffix;\nconst g = provideExtra&lt;{prefix: string},string,[string],string&gt;(f,\"mid\");\n</code></pre>\n\n<p>With some type inferrence I was able to reduce the number of type arguments:</p>\n\n<pre><code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype FirstArg&lt;F&gt; = F extends (p: infer U, ...args: any[]) =&gt; any ? U : never;\ntype Extra&lt;F&gt; = FirstArg&lt;F&gt; extends {extra: infer U} ? U : never;\ntype OtherProps&lt;F&gt; = Omit&lt;FirstArg&lt;F&gt;,\"extra\" &amp; keyof FirstArg&lt;F&gt;&gt; &amp; { extra?: never};\ntype Rest&lt;F&gt; = F extends (p: any, ...args: infer V) =&gt; any ? V : never;\n\nfunction provideExtra&lt;F extends (...args: any[]) =&gt; any&gt;(\n  f: (p: OtherProps&lt;F&gt; &amp; {extra: Extra&lt;F&gt;}, ...args: Rest&lt;F&gt;) =&gt; ReturnType&lt;F&gt;,\n  extra: Extra&lt;F&gt;\n) {\n  return (props: OtherProps&lt;F&gt;, ...args: Rest&lt;F&gt;) =&gt; f({ ...props, extra }, ...args)\n}\n\nconst f = (props: {prefix: string, extra: string}, suffix: string) =&gt; props.prefix + props.extra + suffix;\nconst g = provideExtra&lt;typeof f&gt;(f,\"mid\");\nconst t = g({prefix: \"prefix\"}, \"suffix\");\n</code></pre>\n\n<p>But unless there is a simpler solution, I'd probably just add a type assertion, as <code>Omit&lt;P, \"extra\"&gt; &amp; { extra: P[\"extra\"]; }</code> is clearly a <code>P</code>.</p>\n"}], "owner": {"reputation": 11024, "user_id": 596816, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dfcffa6d61323027cb75ee36d1fbb508?s=128&d=identicon&r=PG", "display_name": "EECOLOR", "link": "https://stackoverflow.com/users/596816/eecolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 54682411, "answer_count": 1, "score": 0, "last_activity_date": 1550138077, "creation_date": 1550044626, "last_edit_date": 1550102386, "question_id": 54665127, "link": "https://stackoverflow.com/questions/54665127/how-to-type-a-function-that-partially-applies-another-function", "title": "How to type a function that partially applies another function?", "body": "<p>This is the javascript function I want to provide a JsDoc with type signature for:</p>\n\n<pre><code>function provideExtra(f, extra) {\n  return (props, ...args) =&gt; f({ ...props, extra }, ...args)\n}\n</code></pre>\n\n<p>I think it should be something like this, but I can't get it right:</p>\n\n<pre><code>/**\n * @param {(props: Props, ...args: Args) =&gt; Result} f\n * @param {Extra} extra\n * @template Extra\n * @template {{ extra: Extra }} Props\n * @template {Array} Args\n * @template Result\n * @returns {(props: Omit&lt;Props, 'extra'&gt;, ...args: Args) =&gt; Result}\n */\n</code></pre>\n\n<p>I have <code>Omit</code> defined as <code>type Omit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</code></p>\n\n<p>If this can not be done in a JsDoc, but can be done in a <code>.d.ts</code> file that is fine too.</p>\n\n<hr>\n\n<p><em>update</em></p>\n\n<p>A version that works from the outside:</p>\n\n<pre><code>/**\n * @template {Object} P\n * @template {Array} A\n * @template R\n * @param {(props: P, ...args: A) =&gt; R} f\n * @param {P['extra']} extra\n * @returns {(props: Omit&lt;P, 'extra'&gt;, ...args: A) =&gt; R}\n */\nexport function provideExtra(f, extra) {\n  return (props, ...args) =&gt; f(Object.assign({}, props, { extra }), ...args)\n}\n</code></pre>\n\n<p>This however produces an error for <code>Object.assign</code>: </p>\n\n<blockquote>\n  <p>Argument of type <code>Pick&lt;P, Exclude&lt;keyof P, \"extra\"&gt;&gt; &amp; { extra: P[\"extra\"]; }</code> is not assignable to parameter of type 'P'. [2345]</p>\n</blockquote>\n\n<p>In my naive mind it that type would result in <code>P</code>; leaving out <code>extra</code> and intersecting it with something that has <code>extra</code> with the correct type.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3109, "user_id": 6086968, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o38dO.png?s=128&g=1", "display_name": "Hameed Syed", "link": "https://stackoverflow.com/users/6086968/hameed-syed"}, "edited": false, "score": 0, "creation_date": 1550042896, "post_id": 54664687, "comment_id": 96119791, "body": "so your this.http.post is returning data?"}, {"owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "edited": false, "score": 1, "creation_date": 1550042930, "post_id": 54664687, "comment_id": 96119805, "body": "change your loop to this <code>*ngFor=let ticket of tickets[0].obj</code>"}, {"owner": {"reputation": 141, "user_id": 10497019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7be7f4e78aa35d1846ddb8514384b?s=128&d=identicon&r=PG&f=1", "display_name": "MBrewers", "link": "https://stackoverflow.com/users/10497019/mbrewers"}, "edited": false, "score": 0, "creation_date": 1550043886, "post_id": 54664687, "comment_id": 96120256, "body": "this.tickets = res[0].obj; -&gt; Cannot read property &#39;obj&#39; of undefined  |  this.tickets = res.obj -&gt; property obj does not exist on type Object | and the solution that worked for me was changing the ngFor= let ticket of tickets[0].obj.  I would&#39;ve never thought of that.  Thank you all for helping."}, {"owner": {"reputation": 141, "user_id": 10497019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7be7f4e78aa35d1846ddb8514384b?s=128&d=identicon&r=PG&f=1", "display_name": "MBrewers", "link": "https://stackoverflow.com/users/10497019/mbrewers"}, "edited": false, "score": 0, "creation_date": 1550044163, "post_id": 54664687, "comment_id": 96120404, "body": "Hameed, yes, it does return data.  I know right, the example I used from the web used post instead of get.  I think it has something to do with the filtering on server side (newbie here just my best guess)."}], "answers": [{"tags": [], "owner": {"reputation": 6137, "user_id": 3870547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3e98f2a1ec4b92a87aa6c76e095d8?s=128&d=identicon&r=PG&f=1", "display_name": "zmag", "link": "https://stackoverflow.com/users/3870547/zmag"}, "is_accepted": false, "score": 0, "last_activity_date": 1550042898, "creation_date": 1550042898, "answer_id": 54664732, "question_id": 54664687, "link": "https://stackoverflow.com/questions/54664687/data-not-rendering-on-html-but-shows-up-on-console-log-angular/54664732#54664732", "title": "Data not rendering on html but shows up on console log - Angular", "body": "<p>Array what you want to bind is <code>obj</code> property in a element of result array.</p>\n\n<p>this will works:</p>\n\n<pre><code>...\n  subscribe( res =&gt; {\n  this.tickets = res[0].obj;\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8755115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c1b721d19b8b0323ba538ac2c7878ca?s=128&d=identicon&r=PG&f=1", "display_name": "Duy.Cao", "link": "https://stackoverflow.com/users/8755115/duy-cao"}, "is_accepted": false, "score": 0, "last_activity_date": 1550043134, "creation_date": 1550043134, "answer_id": 54664781, "question_id": 54664687, "link": "https://stackoverflow.com/questions/54664687/data-not-rendering-on-html-but-shows-up-on-console-log-angular/54664781#54664781", "title": "Data not rendering on html but shows up on console log - Angular", "body": "<p>there are have some problem there:\n - the response is array and first element is what you need\nYou should use this.tickets = res[0].obj.\nHope my answer can help you ;)</p>\n"}, {"tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": false, "score": 0, "last_activity_date": 1550043267, "creation_date": 1550043267, "answer_id": 54664814, "question_id": 54664687, "link": "https://stackoverflow.com/questions/54664687/data-not-rendering-on-html-but-shows-up-on-console-log-angular/54664814#54664814", "title": "Data not rendering on html but shows up on console log - Angular", "body": "<p>In your JSON response array stored in <code>obj</code> array variable, so make it work your code just replace below code it will work</p>\n\n<pre><code>this.http.post(environment.apiBaseUrl + '/filter', JSON.stringify(filterOptions), httpOptions)\n\n.subscribe( res =&gt; {\n  this.tickets = res.obj; //obj is array elements\n   this.tickets = Array.of(this.tickets);\n  this.totalPages = Math.ceil(this.totalRowCount / this.rowCount);\n  console.log('Fetched Tickets');\n  console.log(this.tickets);\n},\n\n  err =&gt; {\n    console.log('Error fetching tickets');\n  }\n);\n</code></pre>\n\n<p>Hope this will help!</p>\n"}], "owner": {"reputation": 141, "user_id": 10497019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bb7be7f4e78aa35d1846ddb8514384b?s=128&d=identicon&r=PG&f=1", "display_name": "MBrewers", "link": "https://stackoverflow.com/users/10497019/mbrewers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1550045343, "creation_date": 1550042701, "last_edit_date": 1550045343, "question_id": 54664687, "link": "https://stackoverflow.com/questions/54664687/data-not-rendering-on-html-but-shows-up-on-console-log-angular", "title": "Data not rendering on html but shows up on console log - Angular", "body": "<p>I can pull the JSON data from my server side and display it in the console log, Just unable to render on the HTML page.  Wrong syntax maybe?</p>\n\n<p>I'm trying to access data from my MongoDB and displaying it via Angular. I've added some additional options from around the web to display the data in a table and filter/sort/etc...  I'm sure it has something to do with my <code>*ngFor</code>.  I've tried ' <code>let ticket of tickets.obj</code> and a few others, no luck.</p>\n\n<p>My ts file.</p>\n\n<pre><code>this.http.post(environment.apiBaseUrl + '/filter', JSON.stringify(filterOptions), httpOptions)\n\n.subscribe( res =&gt; {\n  this.tickets = res;\n  this.tickets = Array.of(this.tickets);\n  this.totalPages = Math.ceil(this.totalRowCount / this.rowCount);\n  console.log('Fetched Tickets');\n  console.log(this.tickets);\n},\n  err =&gt; {\n    console.log('Error fetching tickets');\n  }\n);\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>      &lt;tbody&gt;\n        &lt;tr *ngIf=\"tickets.length == 0\"&gt;\n          &lt;td colspan=\"4\" align=\"center\" valign=\"middle\"&gt;\n            No Records Found.\n          &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr *ngFor=\"let ticket of tickets; let i = index;\"&gt;\n          &lt;td&gt;{{i+1+offset}}&lt;/td&gt;\n          &lt;td&gt;{{ticket.resolution}}&lt;/td&gt;\n          &lt;td&gt;{{ticket.ticketId}}&lt;/td&gt;\n          &lt;td&gt;{{ticket.status}}&lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n</code></pre>\n\n<p>The table is blank. It should have data that shows on the console log. </p>\n\n<p><a href=\"https://i.stack.imgur.com/oNDzc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oNDzc.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "html", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8632760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dbecd3b8468abc1fab67d68940d8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/8632760/tejas"}, "edited": false, "score": 0, "creation_date": 1550127088, "post_id": 54665030, "comment_id": 96157567, "body": "I want to (keyup.enter) event for option inside datalist"}, {"owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "reply_to_user": {"reputation": 87, "user_id": 8632760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dbecd3b8468abc1fab67d68940d8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/8632760/tejas"}, "edited": false, "score": 0, "creation_date": 1550483450, "post_id": 54665030, "comment_id": 96270959, "body": "@Tejas you will apply <code>keyup.enter</code> on change event of datalist"}, {"owner": {"reputation": 87, "user_id": 8632760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dbecd3b8468abc1fab67d68940d8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/8632760/tejas"}, "edited": false, "score": 0, "creation_date": 1550493162, "post_id": 54665030, "comment_id": 96276644, "body": "In datalist as I am printing {{item}}. Suppose I want to print {{item.name}} and that value should be {{item.id}} but id should not display, how should I do that?"}, {"owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "reply_to_user": {"reputation": 87, "user_id": 8632760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dbecd3b8468abc1fab67d68940d8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/8632760/tejas"}, "edited": false, "score": 0, "creation_date": 1550550004, "post_id": 54665030, "comment_id": 96298725, "body": "@Tejas you can display value here <code>&lt;option *ngFor=&quot;let item of filteredArray&quot;&gt;{{item.name}}&lt;&#47;option&gt;</code> and give option a <code>value</code> property as <code>value={{item.id}}</code>.. then <code>ngModel</code> will be having <code>ID</code> of selected option"}], "tags": [], "owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "is_accepted": false, "score": 1, "last_activity_date": 1550049526, "last_edit_date": 1550049526, "creation_date": 1550044161, "answer_id": 54665030, "question_id": 54664627, "link": "https://stackoverflow.com/questions/54664627/how-to-get-keyup-enter-event-on-option-of-datalist-in-angular-6/54665030#54665030", "title": "How to get (keyup.enter) event on option of datalist in Angular 6?", "body": "<p><strong>HTML Code</strong>    </p>\n\n<pre><code>&lt;input list=\"filteredArray\" (keyup)=\"filterRecord(empForm.controls['empname'].value, $event)\" type=\"text\" formControlName=\"empname\" /&gt;\n              &lt;datalist id=\"filteredArray\"&gt;\n                &lt;option (keyup.enter)=\"SelectRecord()\" *ngFor=\"let item of filteredArray\"&gt;{{item}}&lt;/option&gt;\n              &lt;/datalist&gt;\n</code></pre>\n\n<p><strong>Type Script Code</strong></p>\n\n<pre><code>   private filterRecord(value, event)\n        {\n            if (event.keyCode == 13)\n            {\n               // enter keycode\n            }        \n            else if (event.keyCode == 9)\n            {\n               // tab keycode\n            } \n        }\n</code></pre>\n\n<p>check for more keycodes <a href=\"https://css-tricks.com/snippets/javascript/javascript-keycodes/\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 13622, "user_id": 639035, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08651877616b06c07fcfc20e88d3d1e9?s=128&d=identicon&r=PG", "display_name": "Stefan", "link": "https://stackoverflow.com/users/639035/stefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550044765, "creation_date": 1550044765, "answer_id": 54665158, "question_id": 54664627, "link": "https://stackoverflow.com/questions/54664627/how-to-get-keyup-enter-event-on-option-of-datalist-in-angular-6/54665158#54665158", "title": "How to get (keyup.enter) event on option of datalist in Angular 6?", "body": "<p>You don't need to filter the <code>datalist</code> by yourself, the browser does this for you. After all it's just a collection of predefined values. You can get the \"selected\" with <code>[(ngModel)]</code> as with any other input.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;input  type=\"text\" name=\"empname\" list=\"filteredArray\" [(ngModel)]=\"inputValue\"/&gt;\n&lt;datalist id=\"filteredArray\"&gt;\n  &lt;option *ngFor=\"let item of filteredArray\"&gt;{{item}}&lt;/option&gt;\n&lt;/datalist&gt;\n\n&lt;p&gt;\n  The value is: {{inputValue}}\n&lt;/p&gt;\n</code></pre>\n\n<p>TS: </p>\n\n<pre><code>  filteredArray = ['AB', 'SD', 'DF', 'FG'];\n  inputValue = \"\";\n</code></pre>\n\n<p>Stackblitz demo: <a href=\"https://stackblitz.com/edit/angular-s9o9dt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-s9o9dt</a></p>\n"}], "owner": {"reputation": 87, "user_id": 8632760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36dbecd3b8468abc1fab67d68940d8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Tejas", "link": "https://stackoverflow.com/users/8632760/tejas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1502, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1550049526, "creation_date": 1550042488, "last_edit_date": 1550048755, "question_id": 54664627, "link": "https://stackoverflow.com/questions/54664627/how-to-get-keyup-enter-event-on-option-of-datalist-in-angular-6", "title": "How to get (keyup.enter) event on option of datalist in Angular 6?", "body": "<p>How to get (keyup.enter) event on option of datalist in Angular 6</p>\n\n<p><strong>My HTML Code:</strong> </p>\n\n<pre><code>&lt;input list=\"filteredArray\" (keyup)=\"filterRecord(empForm.controls['empname'].value)\" type=\"text\" formControlName=\"empname\" /&gt;\n  &lt;datalist id=\"filteredArray\"&gt;\n     &lt;option (keyup.enter)=\"SelectRecord()\" *ngFor=\"let item of filteredArray\"&gt;{{item}}&lt;/option&gt;\n  &lt;/datalist&gt;\n</code></pre>\n\n<p><strong>My Typescript Code:</strong> </p>\n\n<pre><code>filtervendor(name: any) {\n   this.filteredArray = ['AB','SD','DF','FG'];\n}\n\nSelectRecord() {\n    console.log('select');\n  }\n</code></pre>\n\n<p>Above solution is working for enter button.</p>\n\n<p>In above example I am filtering employees on keyup and show it in datalist, If I select one employee or tab out on employee its name is populating in textbox but I want to get (keyup.enter) event or tab out event for option in datalist and filteredArray gets empty.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 641, "user_id": 4091047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae369bdd157a5e75da0476514df3d02?s=128&d=identicon&r=PG&f=1", "display_name": "Imon", "link": "https://stackoverflow.com/users/4091047/imon"}, "is_accepted": false, "score": 0, "last_activity_date": 1550042563, "last_edit_date": 1550042563, "creation_date": 1550042388, "answer_id": 54664603, "question_id": 54664527, "link": "https://stackoverflow.com/questions/54664527/how-to-make-a-list-with-checkbox-from-an-array-of-object-in-angular-7-and-implem/54664603#54664603", "title": "How to make a list with checkbox from an array of object in angular 7 and implement multiple selection and select all feature", "body": "<p>change <code>checkboxList</code> to your <code>array list</code>. and change <code>ngModel</code> to your checkbox key</p>\n\n<pre><code>&lt;tr *ngFor=\"let item of checkboxList; let i = index\"&gt;\n    &lt;input [(ngModel)]=\"item.checkbox\" name=\"checkbox-{{i}}\" /&gt;\n&lt;/tr&gt;\n</code></pre>\n"}], "owner": {"reputation": 221, "user_id": 8731139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aVjMFxP4PbY/AAAAAAAAAAI/AAAAAAAAAC4/gD56jVXXV8g/photo.jpg?sz=128", "display_name": "Suraj Kumar", "link": "https://stackoverflow.com/users/8731139/suraj-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550042563, "creation_date": 1550042092, "question_id": 54664527, "link": "https://stackoverflow.com/questions/54664527/how-to-make-a-list-with-checkbox-from-an-array-of-object-in-angular-7-and-implem", "title": "How to make a list with checkbox from an array of object in angular 7 and implement multiple selection and select all feature", "body": "<p>I am trying to make a list in angular using ngFor and each item have a unique id and a checkbox as shown in the diagram but i am unable to figure out how to handle multiple selections and select all and call a function with the array of selected items<a href=\"https://i.stack.imgur.com/cDWAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cDWAR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1550042261, "post_id": 54664472, "comment_id": 96119515, "body": "import EditorModule in your app.module.ts file."}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1550042681, "post_id": 54664472, "comment_id": 96119703, "body": "Thanks, but I already import this to the app.module and my component.ts file (FormComponent.ts). Any idea?"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "edited": false, "score": 0, "creation_date": 1550047589, "post_id": 54664472, "comment_id": 96122101, "body": "Any help please?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "edited": false, "score": 0, "creation_date": 1550042806, "post_id": 54664530, "comment_id": 96119748, "body": "Thanks a lot, but I already import this to the app.module and my component.ts file (FormComponent.ts). I also tried to add as shown below but it does not make any sense as it had already been added to the shared module). Any idea?"}, {"owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "reply_to_user": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "edited": false, "score": 0, "creation_date": 1550042906, "post_id": 54664530, "comment_id": 96119795, "body": "please do not import multiple times. remove from the component.ts file"}], "tags": [], "owner": {"reputation": 8264, "user_id": 2118360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLaPr.jpg?s=128&g=1", "display_name": "TheParam", "link": "https://stackoverflow.com/users/2118360/theparam"}, "is_accepted": false, "score": 1, "last_activity_date": 1550042119, "creation_date": 1550042119, "answer_id": 54664530, "question_id": 54664472, "link": "https://stackoverflow.com/questions/54664472/cannot-customize-primeng-quill-editor-in-angular/54664530#54664530", "title": "Cannot customize PrimeNG Quill Editor in Angular", "body": "<p>You need to import the Editor module in your Module level, not a component level ts file. </p>\n\n<p><strong>App.module.ts</strong></p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport {EditorModule} from 'primeng/editor';\n\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule, EditorModule ],\n  declarations: [ AppComponent],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Hope this will help!</p>\n"}, {"tags": [], "owner": {"reputation": 3991, "user_id": 6351733, "user_type": "registered", "accept_rate": 22, "profile_image": "https://lh6.googleusercontent.com/-7rlHnLUn8UY/AAAAAAAAAAI/AAAAAAAAAAA/muEcVvpCdcM/photo.jpg?sz=128", "display_name": "Maurice", "link": "https://stackoverflow.com/users/6351733/maurice"}, "is_accepted": true, "score": 1, "last_activity_date": 1604787380, "creation_date": 1604787380, "answer_id": 64732959, "question_id": 54664472, "link": "https://stackoverflow.com/questions/54664472/cannot-customize-primeng-quill-editor-in-angular/64732959#64732959", "title": "Cannot customize PrimeNG Quill Editor in Angular", "body": "<p>I'm using Angular 9 and for me the customization only worked when i provided the <code>formats</code> property with a <code>string array</code> of all the desired formats (buttons) and next to that i needed to add the buttons in the html page as well. The buttons needed to be enclosed within <code>p-header</code>  tags and the <code>p-header</code> tags needed to be between the <code>p-editor</code> tags like so:</p>\n<pre><code>&lt;p-editor [(ngModel)]=&quot;value&quot; [style]=&quot;{'height':'100px'}&quot; formats=&quot;formats&quot;&gt;\n    &lt;p-header&gt;\n       &lt;span class=&quot;ql-formats&quot;&gt;\n        &lt;button class=&quot;ql-bold&quot; aria-label=&quot;Bold&quot;&gt;&lt;/button&gt;\n        &lt;button class=&quot;ql-italic&quot; aria-label=&quot;Italic&quot;&gt;&lt;/button&gt;\n       &lt;/span&gt;\n    &lt;/p-header&gt;\n&lt;/p-editor&gt;\n</code></pre>\n<p>The <code>bold</code> and <code>italic</code> buttons will only appear when i also define them in a string array in the typescript page like so:</p>\n<pre><code>formats: string[] = ['bold', 'italic'];\n</code></pre>\n<p>Here are all the other options: <a href=\"https://quilljs.com/docs/formats/\" rel=\"nofollow noreferrer\">https://quilljs.com/docs/formats/</a></p>\n<p>don't forget to add <code>formats=&quot;formats&quot;</code> to the first <code>p-editor</code> tag</p>\n"}], "owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 1, "accepted_answer_id": 64732959, "answer_count": 2, "score": 1, "last_activity_date": 1604787380, "creation_date": 1550041865, "last_edit_date": 1550064868, "question_id": 54664472, "link": "https://stackoverflow.com/questions/54664472/cannot-customize-primeng-quill-editor-in-angular", "title": "Cannot customize PrimeNG Quill Editor in Angular", "body": "<p>I am using <a href=\"https://www.primefaces.org/primeng/#/editor\" rel=\"nofollow noreferrer\">PrimeNG Editor (based on Quill</a> in an Angular 7 project and I want to customize the toolbar. Although I have tried some of the configuration options on HTML and JavaScript side, the only thing I managed to update is <code>placeholder</code> property via HTML side. Here is my approach (I defined Editor as a custom control):</p>\n\n<p><strong><em>#FormComponent.ts:</em></strong></p>\n\n<pre><code>public controlDescription = new ControlEditor({\n    key: 'Description',\n    label: 'Description',\n    required: true\n});\n\nthis.controls = [this.controlDescription, ... ];\n</code></pre>\n\n<p><br/></p>\n\n<p><strong><em>#FormComponent.html:</em></strong></p>\n\n<pre><code>&lt;div comp-dynamic-control [form]=\"form\" [control]=\"controlDescription\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p><br/></p>\n\n<p><strong><em>#ControlEditor.html:</em></strong></p>\n\n<pre><code>&lt;p-editor [formControlName]=\"control.key\" placeholder='Compose text...'&gt;&lt;/p-editor&gt;\n</code></pre>\n\n<p><br/></p>\n\n<p>Please note that I also tried to use Editor directly (without our Custom Editor) using the following code in <strong>FormComponent.html</strong> but there is no editor seems on the page despite adding <strong>import {EditorModule} from 'primeng/editor';</strong> to the ControlEditor.ts file. ANy idea? </p>\n\n<pre><code>&lt;p-editor formControlName=\"description\" [style]=\"{'height':'320px'}\"&gt;&lt;/p-editor&gt;\n</code></pre>\n"}, {"tags": ["jquery", "angular", "typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9804714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6456e6bf5bf0780bdd0b45fc8a19e0d?s=128&d=identicon&r=PG&f=1", "display_name": "ikramf90", "link": "https://stackoverflow.com/users/9804714/ikramf90"}, "edited": false, "score": 0, "creation_date": 1550042663, "post_id": 54664560, "comment_id": 96119697, "body": "I have tried this as well, but in this case I get empty <i>elem</i> and <i>idx</i>."}, {"owner": {"reputation": 604, "user_id": 6724909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b38050397d8fb79faa34183ef8b9faad?s=128&d=identicon&r=PG&f=1", "display_name": "Ved_Code_it", "link": "https://stackoverflow.com/users/6724909/ved-code-it"}, "reply_to_user": {"reputation": 123, "user_id": 9804714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6456e6bf5bf0780bdd0b45fc8a19e0d?s=128&d=identicon&r=PG&f=1", "display_name": "ikramf90", "link": "https://stackoverflow.com/users/9804714/ikramf90"}, "edited": false, "score": 0, "creation_date": 1550044009, "post_id": 54664560, "comment_id": 96120332, "body": "could you please show more code from the component.html and component.ts file"}], "tags": [], "owner": {"reputation": 604, "user_id": 6724909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b38050397d8fb79faa34183ef8b9faad?s=128&d=identicon&r=PG&f=1", "display_name": "Ved_Code_it", "link": "https://stackoverflow.com/users/6724909/ved-code-it"}, "is_accepted": false, "score": 1, "last_activity_date": 1550042221, "creation_date": 1550042221, "answer_id": 54664560, "question_id": 54664469, "link": "https://stackoverflow.com/questions/54664469/scoping-this-in-angular-and-jquery/54664560#54664560", "title": "Scoping &quot;this&quot; in angular and Jquery", "body": "<p>arrow function do not create its own scope (this)\nuse normal function if you want to create function scope like this</p>\n\n<pre><code>var that=this;\n    $('h4').each(function (idx, elem) {\n                //use that for angular component's this\n                this.listItems.push({ id: idx, text: elem.innerText });\n            });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1232, "user_id": 5671595, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-BP1CrbVNLEo/AAAAAAAAAAI/AAAAAAAAALE/pmJWtJM1n6U/photo.jpg?sz=128", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/5671595/abdul-basit"}, "is_accepted": true, "score": 0, "last_activity_date": 1550042231, "creation_date": 1550042231, "answer_id": 54664562, "question_id": 54664469, "link": "https://stackoverflow.com/questions/54664469/scoping-this-in-angular-and-jquery/54664562#54664562", "title": "Scoping &quot;this&quot; in angular and Jquery", "body": "<p>This might help you</p>\n\n<pre><code>var that = this;\n    $('h4').each(function (idx, elem) {\n                //use that for angular component's this\n                that.listItems.push({ id: idx, text: elem.innerText });\n     });\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 9804714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6456e6bf5bf0780bdd0b45fc8a19e0d?s=128&d=identicon&r=PG&f=1", "display_name": "ikramf90", "link": "https://stackoverflow.com/users/9804714/ikramf90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 54664562, "answer_count": 2, "score": 0, "last_activity_date": 1550042231, "creation_date": 1550041854, "question_id": 54664469, "link": "https://stackoverflow.com/questions/54664469/scoping-this-in-angular-and-jquery", "title": "Scoping &quot;this&quot; in angular and Jquery", "body": "<p>In my angular-7 class, I am using jquery, I want to store all text from h4 tags in an array. But when I use <em>this</em> it only refers to angular's this and not jquery's <em>this</em>. I tried using the fat arrow as well but it didn't work for me. </p>\n\n<p>I tried using callback parameters to access elements, but they stay undefined.</p>\n\n<p>Here's my code. any suggestions/help is appreciated.</p>\n\n<p>thanks.</p>\n\n<pre><code>$('h4').each((idx, elem) =&gt; {\n            this.listItems.push({ id: idx, text: elem.innerText });\n        });\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550042837, "post_id": 54664504, "comment_id": 96119760, "body": "I understand, but the point is, I don&#39;t want to supply the type parameter on the class level, it must be on the function itself. The example is simple but in my case it is a bit more complex and I really don&#39;t care what is the return type of the function in the abstract class but the function must be abstract and I do care what is the return type in the inherited class."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550046174, "post_id": 54664504, "comment_id": 96121376, "body": "@negyxo Use return of <code>unknown</code>  if you don&#39;t care about the return ni the base class. I edited the answer to add this option"}, {"owner": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550048251, "post_id": 54664504, "comment_id": 96122476, "body": "Yes, I tried that, but now I realized that my question is not what I wanted to ask. I mean, it is but, it&#39;s a bit more complicated. I&#39;ll edit the question."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550049126, "post_id": 54664504, "comment_id": 96122973, "body": "@negyxo edit nr 2 :) This should work as you want it to, let me know if you need more info"}, {"owner": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550049449, "post_id": 54664504, "comment_id": 96123170, "body": "Yes that&#39;s it. I didn&#39;t know you can specify like that the return type, I tried with ReturnType&lt;T&gt; but ts complained about unknown function &quot;func&quot;. Thanks."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550049899, "post_id": 54664504, "comment_id": 96123461, "body": "@negyxo wops I meant <code>ReturnType&lt;this[&#39;func&#39;]&gt;</code> fixed :)"}, {"owner": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550050463, "post_id": 54664504, "comment_id": 96123832, "body": "Now I realized why it didn&#39;t work, I marked the func as protected member, in which case ts complained: Type &#39;&quot;func&quot;&#39; cannot be used to index type &#39;this&#39; Once again, thanks for the help."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "edited": false, "score": 0, "creation_date": 1550050527, "post_id": 54664504, "comment_id": 96123879, "body": "@negyxo yeah .. for protected members there is not much we can do unfortunately, protected members  do not show up in type queries."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1550049885, "last_edit_date": 1550049885, "creation_date": 1550042018, "answer_id": 54664504, "question_id": 54664388, "link": "https://stackoverflow.com/questions/54664388/abstract-function-return-type-in-typescript/54664504#54664504", "title": "Abstract function return type in typescript", "body": "<p>The problem is where you put the type parameter. If the type parameter is on the method, then that method must be generic in derived class. The contract that is specified by that method means we must always be able to call it with any <code>T</code> (ie the caller decides with what <code>T</code> to call). So this code need to work:</p>\n\n<pre><code>let a: Foo = new Bazz()\na.fun&lt;string&gt;() // method is generic caller decides `T`\n</code></pre>\n\n<p>You want to place the type parameter on the class, and fix the type parameter when inheriting in Bazz</p>\n\n<pre><code>abstract class Foo &lt;T&gt;{\n    abstract func() : T;\n}\n\nclass Bazz extends Foo&lt;number&gt; {\n    func() { return 1; }\n}\n\nlet foo: Foo&lt;number&gt; = new Bazz();\nfoo.func(); //ok result is numebr\n\nlet fooStr: Foo&lt;string&gt; = new Bazz() // error, different T \n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>If you don't care what the return type is in the base class and you just want the derived class to create the method, you could use <code>unknown</code> as the return type. If you have a reference to the abstract class and invoke the method it will return <code>unknown</code> if you have a reference to a derived class it will return the apropriate type:</p>\n\n<pre><code>abstract class Foo{\n    abstract func() : unknown;\n}\n\nclass Bazz extends Foo {\n    func() { return 1; }\n}\n\nlet foo: Foo = new Bazz();\nfoo.func(); // unknown\n\nlet bazz = new Bazz() \nbazz.func() // number\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>With regard to using <code>func</code> in another function and expecting the type of that to be relative to <code>func</code> typescript will not help you there, at least not by default. By default <code>getFuncResult</code> will be typed with what information is known in the base class. Without using a class type parameter (and I do think you should look into that) a solution is to use a type query on the polymorphic <code>this</code> type. This will type the return relative to whatever the current class is but you will need to use a type assertion inside the function to get things to work:</p>\n\n<pre><code>abstract class Foo{\n    getFuncResult() : ReturnType&lt;this['func']&gt; {\n        return this.func() as any;\n    }\n    abstract func() : unknown;\n}\n\nclass Bazz extends Foo {\n    func() { return 1; }\n}\n\nlet foo: Foo = new Bazz();\nfoo.func(); // unknown\n\nlet bazz = new Bazz() \nbazz.func() // number\nbazz.getFuncResult() // number\n</code></pre>\n"}], "owner": {"reputation": 172, "user_id": 3157707, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b9c70ecd9d794a727ac2982383923289?s=128&d=identicon&r=PG&f=1", "display_name": "negyxo", "link": "https://stackoverflow.com/users/3157707/negyxo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2203, "favorite_count": 0, "accepted_answer_id": 54664504, "answer_count": 1, "score": 4, "last_activity_date": 1550049885, "creation_date": 1550041505, "last_edit_date": 1550048639, "question_id": 54664388, "link": "https://stackoverflow.com/questions/54664388/abstract-function-return-type-in-typescript", "title": "Abstract function return type in typescript", "body": "<p>It seems that defining an abstract function with generic return type is not possible with typescript (I am using ts 3.2.4) or I am missing something. </p>\n\n<p>For instance:</p>\n\n<pre><code>abstract class Foo {\n    abstract func&lt;T&gt;() : T;\n}\n\nclass Bazz extends Foo {\n    func() { return 1; }\n}\n</code></pre>\n\n<p>will give an error:</p>\n\n<blockquote>\n  <p>TS2416: Property 'func' in type 'Bazz' is not assignable to the same property in base type 'Foo'.\n    Type '() => number' is not assignable to type '() => T'.\n      Type 'number' is not assignable to type 'T'.</p>\n</blockquote>\n\n<p>So, is it possible to define an abstract function that will have the generic return type? </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>So, it turns out that using unknown work as expected and it can be used as the return type in an abstract function. But, let's consider this:</p>\n\n<pre><code>abstract class Foo{\n    getFuncResult() {\n        return this.func();\n    }\n    abstract func() : unknown;\n}\n\nclass Bazz extends Foo {\n    func() { return 1; }\n}\n\nlet foo: Foo = new Bazz();\nfoo.func(); // unknown\n\nlet bazz = new Bazz() \nbazz.func() // number\nbazz.getFuncResult() // unknown\n</code></pre>\n\n<p>I would expect that the getFuncResult on the Bazz will have the same type signature as derived func (number). So, this is more a question about type inference for Typescript.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1550041622, "post_id": 54664361, "comment_id": 96119198, "body": "Loop through <code>Object.values(&lt;object&gt;)</code> of an object which implements the interface?"}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 10195524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2ToIdJEOSc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0QG4k_tWLtY8YFlvTTLEGbZ2LIA/mo/photo.jpg?sz=128", "display_name": "jupiter sailormoon", "link": "https://stackoverflow.com/users/10195524/jupiter-sailormoon"}, "edited": false, "score": 0, "creation_date": 1550042233, "post_id": 54664408, "comment_id": 96119501, "body": "I am using typescript and I am having the error[ts] Property &#39;values&#39; does not exist on type &#39;ObjectConstructor&#39;. [2339]"}, {"owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "reply_to_user": {"reputation": 181, "user_id": 10195524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2ToIdJEOSc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0QG4k_tWLtY8YFlvTTLEGbZ2LIA/mo/photo.jpg?sz=128", "display_name": "jupiter sailormoon", "link": "https://stackoverflow.com/users/10195524/jupiter-sailormoon"}, "edited": false, "score": 0, "creation_date": 1550042572, "post_id": 54664408, "comment_id": 96119651, "body": "@jupitersailormoon - I have updated answer with a simple for loop. I hope that works with typescript. You will just need to update l<code>et result</code> to <code>let result &lt;boolean&gt;</code>"}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 1, "creation_date": 1561993519, "post_id": 54664408, "comment_id": 100228520, "body": "He&#39;s talking about interfaces, not objects or classes. This will not work."}, {"owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "reply_to_user": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 0, "creation_date": 1561993930, "post_id": 54664408, "comment_id": 100228755, "body": "@AsGoodAsItGets - In general coding practices, people tend to call the communicator object/layer as interface. I believe OP has accepted the answer, hence, assuming the answer addresses the problem."}, {"owner": {"reputation": 2109, "user_id": 134120, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/afe563c5fd5aa838dafd41c45803f2eb?s=128&d=identicon&r=PG", "display_name": "AsGoodAsItGets", "link": "https://stackoverflow.com/users/134120/asgoodasitgets"}, "edited": false, "score": 3, "creation_date": 1561994853, "post_id": 54664408, "comment_id": 100229177, "body": "The OP has indeed accepted the answer, but I don&#39;t know why and as I&#39;m facing the same question, I&#39;d like to point out that this doesn&#39;t work. Furthermore, the question is tagged with <code>TypeScript</code> so I think it&#39;s clear that we&#39;re not talking about general &quot;communicator object/layers&quot;, but TypeScript interfaces. The correct answer, for anyone who stumbles into this before reading other similar questions, is that it&#39;s simply not possible with TypeScript at the moment. You have to either use classes, or instantiate an object with all the interface properties (to use your solution)."}], "tags": [], "owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "is_accepted": true, "score": -2, "last_activity_date": 1550042443, "last_edit_date": 1550042443, "creation_date": 1550041601, "answer_id": 54664408, "question_id": 54664361, "link": "https://stackoverflow.com/questions/54664361/how-to-iterate-easily-over-interface-properties/54664408#54664408", "title": "How to iterate easily over interface properties", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values\" rel=\"nofollow noreferrer\">Object.values</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Array/every\" rel=\"nofollow noreferrer\">Array.every</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let errors =  {\r\n    confirmPassword: \"\",\r\n    email: \"\",\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    password: \"\"\r\n};\r\n\r\nlet result = Object.values(errors).every(v =&gt; v == \"\");\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or you can simply use a for loop for the same.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let errors = {\r\n  confirmPassword: \"\",\r\n  email: \"\",\r\n  firstname: \"\",\r\n  lastname: \"\",\r\n  password: \"\"\r\n};\r\n\r\nlet result = true;\r\nfor (let key in errors) {\r\n  if(errors[key] != \"\") {\r\n    result = false;\r\n    break;\r\n  }\r\n}\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2964, "user_id": 6682274, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1035300153254401/picture?type=large", "display_name": "Sudhir Ojha", "link": "https://stackoverflow.com/users/6682274/sudhir-ojha"}, "is_accepted": false, "score": 0, "last_activity_date": 1550042209, "creation_date": 1550042209, "answer_id": 54664556, "question_id": 54664361, "link": "https://stackoverflow.com/questions/54664361/how-to-iterate-easily-over-interface-properties/54664556#54664556", "title": "How to iterate easily over interface properties", "body": "<p>You can also use the Array method .some()</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let errors= {\r\nconfirmPassword: \"\",\r\nemail: \"\",\r\nfirstname: \"\",\r\nlastname: \"\",\r\npassword: \"\"\r\n  };\r\nlet allNull = Object.keys(errors).some(function(k) {\r\n    return errors[k] === \"\";\r\n});\r\nconsole.log(allNull);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 1999804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6QFOZ.jpg?s=128&g=1", "display_name": "Julitillo", "link": "https://stackoverflow.com/users/1999804/julitillo"}, "is_accepted": false, "score": 0, "last_activity_date": 1574243311, "creation_date": 1574243311, "answer_id": 58951282, "question_id": 54664361, "link": "https://stackoverflow.com/questions/54664361/how-to-iterate-easily-over-interface-properties/58951282#58951282", "title": "How to iterate easily over interface properties", "body": "<p>No, you cannot iterate over interface properties as the interface doesn't exists in runtime.</p>\n\n<p>You can iterate over object properties with obj.hasOwnProperty(prop)</p>\n\n<pre><code>var buz = {\n    fog: 'stack'\n};\n\nfor (var name in buz) {\n    if (buz.hasOwnProperty(name)) {\n        alert(\"this is fog (\" + name + \") for sure. Value: \" + buz[name]);\n    }\n    else {\n        alert(name); // toString or something else\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 10195524, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2ToIdJEOSc/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p0QG4k_tWLtY8YFlvTTLEGbZ2LIA/mo/photo.jpg?sz=128", "display_name": "jupiter sailormoon", "link": "https://stackoverflow.com/users/10195524/jupiter-sailormoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2760, "favorite_count": 0, "accepted_answer_id": 54664408, "answer_count": 3, "score": 0, "last_activity_date": 1574243311, "creation_date": 1550041377, "last_edit_date": 1550042417, "question_id": 54664361, "link": "https://stackoverflow.com/questions/54664361/how-to-iterate-easily-over-interface-properties", "title": "How to iterate easily over interface properties", "body": "<p>Is there the possibility of iterating over an interface properties in an elegant way and return a result based on a certain logic.  I have an interface and I want to read the properties values to see if the values are empty or not and based on that I determine a final result.</p>\n\n<p>Interface is :</p>\n\n<pre><code> errors: {\n    confirmPassword: \"\",\n    email: \"\",\n    firstname: \"\",\n    lastname: \"\",\n    password: \"\"\n  }\n</code></pre>\n\n<p>Now, I want to iterate through the properties and if anyone of them has some value, I return a true or false if all of them are empty.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1550041507, "post_id": 54664214, "comment_id": 96119136, "body": "What is the type <code>Conf</code> supposed to refer to?"}], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1550048707, "creation_date": 1550048707, "answer_id": 54666233, "question_id": 54664214, "link": "https://stackoverflow.com/questions/54664214/typescript-relate-to-own-property-in-type/54666233#54666233", "title": "TypeScript: relate to own property in type", "body": "<p>You can describe restriction in function</p>\n\n<pre><code>function createSomething&lt;S, K extends keyof S&gt;(c: { initial: K, states: S }): Config\n\n...\n// Type '\"c\"' is not assignable to type '\"a\" | \"b\"'.\n// (property) initial: \"a\" | \"b\"\ncreateSomething({ initial: 'c', states: { a: {}, b: {} } });\n</code></pre>\n"}], "owner": {"reputation": 3288, "user_id": 4275189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2ed37ca7c832840fdeefd6868754407?s=128&d=identicon&r=PG", "display_name": "David Khourshid", "link": "https://stackoverflow.com/users/4275189/david-khourshid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 2, "accepted_answer_id": 54666233, "answer_count": 1, "score": 3, "last_activity_date": 1550048707, "creation_date": 1550040694, "last_edit_date": 1550042663, "question_id": 54664214, "link": "https://stackoverflow.com/questions/54664214/typescript-relate-to-own-property-in-type", "title": "TypeScript: relate to own property in type", "body": "<p>Let's say I have an object:</p>\n\n<pre><code>const config = {\n  initial: 'foo', // must be key of .states\n  states: {\n    foo: {},\n    bar: {}\n  }\n}\n</code></pre>\n\n<p>How would I create the type definition such that TypeScript can assert that <code>config.initial</code> is a key of <code>config.states</code>? E.g.,</p>\n\n<pre><code>type Config = {\n  initial?: &lt;key of .states&gt;,\n  states: {\n    [K: string]: Config\n  }\n}\n\nfunction createSomething(config: Config) {\n  // ...\n}\n\n// should NOT compile\ncreateSomething({\n  initial: 'fake',\n  states: {\n    foo: { states: {} },\n    bar: { states: {} }\n  }\n});\n</code></pre>\n\n<p>The idea is I want to have a strongly-typed config object that has properties that are dependent on each other in the <code>createSomething</code> function. Is this possible?</p>\n"}, {"tags": ["node.js", "typescript", "express", "import", "dynamic-import"], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1550050549, "post_id": 54664383, "comment_id": 96123895, "body": "Cannot find name &#39;filePath&#39;.  for (filePath of files) {               ~~~~~~~~  error TS1308: &#39;await&#39; expression is only allowed within an async function.     const route = await import(path.resolve(filePath));                          ~~~~~   error TS2304: Cannot find name &#39;filePath&#39;.      const route = await import(path.resolve(filePath));"}, {"owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1550057678, "post_id": 54664383, "comment_id": 96128375, "body": "Now got <code>TypeError: route is not a function</code>"}, {"owner": {"reputation": 1542, "user_id": 3573512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b4ef54ad6e20710197475d4620a4bb?s=128&d=identicon&r=PG", "display_name": "jcragun", "link": "https://stackoverflow.com/users/3573512/jcragun"}, "reply_to_user": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1550127675, "post_id": 54664383, "comment_id": 96157788, "body": "What&#39;s an example of one of your route files? Depending on how things are exported in the route file, it may need to be something like <code>route.exportName(app)</code>."}, {"owner": {"reputation": 1542, "user_id": 3573512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b4ef54ad6e20710197475d4620a4bb?s=128&d=identicon&r=PG", "display_name": "jcragun", "link": "https://stackoverflow.com/users/3573512/jcragun"}, "reply_to_user": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1550250404, "post_id": 54664383, "comment_id": 96213616, "body": "I updated my code to include <code>async</code> on the <code>glob</code> callback - without it I&#39;m not sure how you even got it to build. Does that fix it?"}, {"owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1550252690, "post_id": 54664383, "comment_id": 96214734, "body": "I fixed it my own and <code>TypeError: route is not a function</code> is the problem now"}], "tags": [], "owner": {"reputation": 1542, "user_id": 3573512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b4ef54ad6e20710197475d4620a4bb?s=128&d=identicon&r=PG", "display_name": "jcragun", "link": "https://stackoverflow.com/users/3573512/jcragun"}, "is_accepted": false, "score": 1, "last_activity_date": 1550250356, "last_edit_date": 1550250356, "creation_date": 1550041475, "answer_id": 54664383, "question_id": 54663670, "link": "https://stackoverflow.com/questions/54663670/requirepath-resolvefilepath-to-import-statement/54664383#54664383", "title": "require(path.resolve(filePath)) to import statement", "body": "<p>You could probably utilize <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-4.html\" rel=\"nofollow noreferrer\">dynamic imports</a>. For example:</p>\n\n<pre><code>export const loadRoutes = async (app: express.Application) =&gt; {\n  glob('modules/*/**.routes.js', async (err, files) =&gt; {\n    if (!err) {\n      for (filePath of files) {\n        const route = await import(path.resolve(filePath));\n        route(app);\n      };\n    }\n  });\n};\n</code></pre>\n"}], "owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550412917, "creation_date": 1550038309, "last_edit_date": 1550412917, "question_id": 54663670, "link": "https://stackoverflow.com/questions/54663670/requirepath-resolvefilepath-to-import-statement", "title": "require(path.resolve(filePath)) to import statement", "body": "<p>I have autoLoad script for ExpressJS application written in JS and currently we are migrating to TypeScript</p>\n\n<pre><code>export const loadModels = () =&gt; {\n  glob('modules/*/**.model.js', (err, files) =&gt; {\n    if (!err) {\n      files.forEach((filePath) =&gt; {\n        require(path.resolve(filePath));\n      });\n    }\n  });\n};\nexport const loadRoutes = (app: express.Application) =&gt; {\n  glob('modules/*/**.routes.js', (err, files) =&gt; {\n    if (!err) {\n      files.forEach((filePath) =&gt; {\n        require(path.resolve(filePath))(app);\n      });\n    }\n  });\n};\n\n</code></pre>\n\n<p>How to change <code>require(path.resolve(filePath));</code> and <code>require(path.resolve(filePath))(app);</code> to <code>import</code> statement?</p>\n\n<hr>\n\n<p>This is sample route file</p>\n\n<pre><code>import config from './../../config';\nimport express from 'express';\nimport QuestionCtrl from './question.controller';\nimport { EventEmitter } from 'events';\n\nexport default (app: express.Application, events: EventEmitter) =&gt; {\n  const questionCtrl = new QuestionCtrl(events);\n  app.route(`${config.app.apiBase}/questions`).post(questionCtrl.create);\n};\n\n</code></pre>\n"}, {"tags": ["typescript", "loopback", "loopback4"], "comments": [{"owner": {"reputation": 656, "user_id": 5302733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r8blnAgcQbo/AAAAAAAAAAI/AAAAAAAAABw/IITWia2L5uU/photo.jpg?sz=128", "display_name": "Diego Alberto Zapata H&#228;ntsch", "link": "https://stackoverflow.com/users/5302733/diego-alberto-zapata-h%c3%a4ntsch"}, "edited": false, "score": 0, "creation_date": 1552533836, "post_id": 54663283, "comment_id": 97048974, "body": "Could you solve it? if not please share the code of your implementation to analyse it."}], "answers": [{"comments": [{"owner": {"reputation": 656, "user_id": 5302733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r8blnAgcQbo/AAAAAAAAAAI/AAAAAAAAABw/IITWia2L5uU/photo.jpg?sz=128", "display_name": "Diego Alberto Zapata H&#228;ntsch", "link": "https://stackoverflow.com/users/5302733/diego-alberto-zapata-h%c3%a4ntsch"}, "edited": false, "score": 0, "creation_date": 1551803378, "post_id": 54710385, "comment_id": 96769885, "body": "any example to follow it? Specially to build the controller. Thanks."}], "tags": [], "owner": {"reputation": 9864, "user_id": 69868, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/CBade.jpg?s=128&g=1", "display_name": "Miroslav Bajto\u0161", "link": "https://stackoverflow.com/users/69868/miroslav-bajto%c5%a1"}, "is_accepted": true, "score": 2, "last_activity_date": 1550237316, "creation_date": 1550237316, "answer_id": 54710385, "question_id": 54663283, "link": "https://stackoverflow.com/questions/54663283/how-to-use-storage-components-in-loopback-4-0/54710385#54710385", "title": "how to use storage components in loopback 4.0?", "body": "<p><em>Hello from the LoopBack team!</em></p>\n\n<p>We haven't looked into integration of loopback-component-storage with LoopBack version 4.</p>\n\n<p>Since the storage component behaves more like a connector than a component, I think it should be possible to use it in LoopBack 4 via <code>@loopback/service-proxy</code> layer. See <a href=\"https://loopback.io/doc/en/lb4/Calling-other-APIs-and-web-services.html\" rel=\"nofollow noreferrer\">Calling other APIS and web services</a> for documentation. The code snippets on that page are using <code>loopback-connector-rest</code> as an example, you will use <code>loopback-component-storage</code> instead.</p>\n\n<p>Once you can access the the storage component from JavaScript/TypeScript, you will also need to expose REST API. LoopBack 4 does not provide any built-in controllers, you will have to write one yourself. Please see the definition of LB3 remote methods in <a href=\"https://github.com/strongloop/loopback-component-storage/blob/master/lib/storage-service.js#L289-L373\" rel=\"nofollow noreferrer\">storage-service.js</a>, you will need to build controller methods to accept the same arguments and then call out to the service proxy under the hood.</p>\n\n<p>If you are willing to look into this integration, then it's probably best to open a new GitHub issue in <a href=\"https://github.com/strongloop/loopback-next/issues/new\" rel=\"nofollow noreferrer\">loopback-next</a> where we can have a structured conversation.</p>\n"}, {"comments": [{"owner": {"reputation": 616, "user_id": 1887564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcaccfd6eb7d2ec0b7a6a3da9fb6124?s=128&d=identicon&r=PG", "display_name": "Himesh", "link": "https://stackoverflow.com/users/1887564/himesh"}, "edited": false, "score": 0, "creation_date": 1577174618, "post_id": 55213810, "comment_id": 105111186, "body": "I followed this and facing some issues. Do you have working sample app on github?"}, {"owner": {"reputation": 656, "user_id": 5302733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r8blnAgcQbo/AAAAAAAAAAI/AAAAAAAAABw/IITWia2L5uU/photo.jpg?sz=128", "display_name": "Diego Alberto Zapata H&#228;ntsch", "link": "https://stackoverflow.com/users/5302733/diego-alberto-zapata-h%c3%a4ntsch"}, "reply_to_user": {"reputation": 616, "user_id": 1887564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fcaccfd6eb7d2ec0b7a6a3da9fb6124?s=128&d=identicon&r=PG", "display_name": "Himesh", "link": "https://stackoverflow.com/users/1887564/himesh"}, "edited": false, "score": 0, "creation_date": 1577295676, "post_id": 55213810, "comment_id": 105137944, "body": "I have this code working well on my project, but I not update my loopback 4, maybe the new version has some difference; which version you are using? which is the error message?"}], "tags": [], "owner": {"reputation": 656, "user_id": 5302733, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r8blnAgcQbo/AAAAAAAAAAI/AAAAAAAAABw/IITWia2L5uU/photo.jpg?sz=128", "display_name": "Diego Alberto Zapata H&#228;ntsch", "link": "https://stackoverflow.com/users/5302733/diego-alberto-zapata-h%c3%a4ntsch"}, "is_accepted": false, "score": 5, "last_activity_date": 1554241290, "last_edit_date": 1554241290, "creation_date": 1552874274, "answer_id": 55213810, "question_id": 54663283, "link": "https://stackoverflow.com/questions/54663283/how-to-use-storage-components-in-loopback-4-0/55213810#55213810", "title": "how to use storage components in loopback 4.0?", "body": "<p>I will share my implementation with the community, because even though the answer of <a href=\"https://stackoverflow.com/users/69868/miroslav-bajto%C5%A1\">Miroslav Bajto\u0161</a> is the key to do that, the documentation suggested is not very clear, I refer to <a href=\"https://loopback.io/doc/en/lb4/Calling-other-APIs-and-web-services.html\" rel=\"nofollow noreferrer\">Calling other APIS and web services</a>.</p>\n\n<ul>\n<li><strong>In the first place</strong> I create a new DataSource with the <code>lb4</code> command cli tool and I filled the <code>json</code> file with the same keys that I used in loopback 3 datasource.</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>// storage.datasource.ts\n\nimport { inject } from '@loopback/core';\nimport { juggler } from '@loopback/service-proxy';\nimport * as config from './storage-gc.datasource.json';\n\n\nexport class StorageGCDataSource extends juggler.DataSource {\n  static dataSourceName = 'StorageGC';\n\n  constructor(\n    @inject('datasources.config.StorageGC', { optional: true })\n    dsConfig: object = config,\n  ) {\n    super(dsConfig);\n  }\n}\n</code></pre>\n\n<pre><code>// storage.datasource.json\n{\n  \"name\": \"Storage\",\n  \"connector\": \"loopback-component-storage\",\n  \"provider\": \"google\",\n  \"keyFilename\": \"your-project-key.json\",\n  \"projectId\": \"your-project-id\",\n  \"nameConflict\": \"makeUnique\"\n}\n// Note: your-project-key.json is in the root folder at the same level that tsconfig.json\n</code></pre>\n\n<p>Remember that you need to install <strong>loopback-component-storage</strong> running</p>\n\n<p><code>npm install --save loopback-component-storage</code></p>\n\n<ul>\n<li><strong>In the second place</strong> I create two new models with <code>lb4</code> command cli tool. These models are: <code>Container</code> and <code>File</code>.</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>// container.model.ts\n\nimport {Entity, model, property} from '@loopback/repository';\n\n@model()\nexport class Container extends Entity {\n  @property({\n    type: 'string',\n    required: true,\n  })\n  name: string;\n\n\n  constructor(data?: Partial&lt;Container&gt;) {\n    super(data);\n  }\n}\n\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// file.model.ts\n\nimport { Entity, model, property } from '@loopback/repository';\n\n@model()\nexport class File extends Entity {\n  @property({\n    type: 'string',\n    required: true,\n  })\n  name: string;\n\n  @property({\n    type: 'string',\n  })\n  type?: string;\n\n  @property({\n    type: 'string',\n  })\n  url?: string;\n\n\n  constructor(data?: Partial&lt;File&gt;) {\n    super(data);\n  }\n}\n\n</code></pre>\n\n<ul>\n<li><strong>In the third place</strong> I create a new folder in <code>src/</code> directory called <code>interfaces</code>. In this new folder I create an <code>index.ts</code> (mostly to follow the export convention) and a <code>storage.interface.ts</code> (this is the important file)</li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>// index.ts\n\nexport * from './storage.interface';\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// storage.interface.ts\n\nimport { Container, File } from \"../models\";\n\n\nexport type Callback&lt;T&gt; = (err: Error | null, reply: T) =&gt; void;\n\nexport interface IStorageService {\n  // container methods\n  createContainer(container: Partial&lt;Container&gt;, cb: Callback&lt;Container&gt;): void;\n  destroyContainer(containerName: string, cb: Callback&lt;boolean&gt;): void;\n  getContainers(cb: Callback&lt;Container[]&gt;): void;\n  getContainer(containerName: string, cb: Callback&lt;Container&gt;): void;\n  // file methods\n  getFiles(containerName: string, options: Object, cb: Callback&lt;File[]&gt;): void;\n  getFile(containerName: string, fileName: string, cb: Callback&lt;File&gt;): void;\n  removeFile(containerName: string, fileName: string, cb: Callback&lt;boolean&gt;): void;\n  // main methods\n  upload(containerName: string, req: any, res: any, options: Object, cb: Callback&lt;any&gt;): void;\n  download(containerName: string, fileName: string, req: any, res: any, cb: Callback&lt;any&gt;): void;\n}\n</code></pre>\n\n<ul>\n<li><strong>In the fourth place</strong> I create the <code>container.controller.ts</code> file, but previously to this step you need to install <strong>@loopback/service-proxy</strong> running the following command:</li>\n</ul>\n\n<p><code>npm install --save @loopback/service-proxy</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// storage-gc.controller.ts\n\nimport { inject } from '@loopback/core';\nimport { serviceProxy } from '@loopback/service-proxy';\nimport { post, requestBody, del, param, get, getFilterSchemaFor, Request, Response, RestBindings } from '@loopback/rest';\nimport { Filter } from '@loopback/repository';\nimport { promisify } from 'util';\n\nimport { IStorageService } from '../interfaces';\nimport { Container, File } from '../models';\n\n\nexport class StorageGcController {\n  @serviceProxy('StorageGC') // StorageGC is the name of the datasoruce\n  private storageGcSvc: IStorageService;\n\n  constructor(@inject(RestBindings.Http.REQUEST) public request: Request,\n    @inject(RestBindings.Http.RESPONSE) public response: Response) { }\n\n  @post('/containers', {\n    responses: {\n      '200': {\n        description: 'Container model instance',\n        content: { 'application/json': { schema: { 'x-ts-type': Container } } },\n      },\n    },\n  })\n  async createContainer(@requestBody() container: Container): Promise&lt;Container&gt; {\n    const createContainer = promisify(this.storageGcSvc.createContainer);\n    return await createContainer(container);\n  }\n\n  @get('/containers', {\n    responses: {\n      '200': {\n        description: 'Array of Containers model instances',\n        content: {\n          'application/json': {\n            schema: { type: 'array', items: { 'x-ts-type': Container } },\n          },\n        },\n      },\n    },\n  })\n  async findContainer(@param.query.object('filter', getFilterSchemaFor(Container)) filter?: Filter): Promise&lt;Container[]&gt; {\n    const getContainers = promisify(this.storageGcSvc.getContainers);\n    return await getContainers();\n  }\n\n  @get('/containers/{containerName}', {\n    responses: {\n      '200': {\n        description: 'Container model instance',\n        content: { 'application/json': { schema: { 'x-ts-type': Container } } },\n      },\n    },\n  })\n  async findContainerByName(@param.path.string('containerName') containerName: string): Promise&lt;Container&gt; {\n    const getContainer = promisify(this.storageGcSvc.getContainer);\n    return await getContainer(containerName);\n  }\n\n  @del('/containers/{containerName}', {\n    responses: {\n      '204': {\n        description: 'Container DELETE success',\n      },\n    },\n  })\n  async deleteContainerByName(@param.path.string('containerName') containerName: string): Promise&lt;boolean&gt; {\n    const destroyContainer = promisify(this.storageGcSvc.destroyContainer);\n    return await destroyContainer(containerName);\n  }\n\n  @get('/containers/{containerName}/files', {\n    responses: {\n      '200': {\n        description: 'Array of Files model instances belongs to container',\n        content: {\n          'application/json': {\n            schema: { type: 'array', items: { 'x-ts-type': File } },\n          },\n        },\n      },\n    },\n  })\n  async findFilesInContainer(@param.path.string('containerName') containerName: string,\n    @param.query.object('filter', getFilterSchemaFor(Container)) filter?: Filter): Promise&lt;File[]&gt; {\n    const getFiles = promisify(this.storageGcSvc.getFiles);\n    return await getFiles(containerName, {});\n  }\n\n  @get('/containers/{containerName}/files/{fileName}', {\n    responses: {\n      '200': {\n        description: 'File model instances belongs to container',\n        content: { 'application/json': { schema: { 'x-ts-type': File } } },\n      },\n    },\n  })\n  async findFileInContainer(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;File&gt; {\n    const getFile = promisify(this.storageGcSvc.getFile);\n    return await getFile(containerName, fileName);\n  }\n\n  @del('/containers/{containerName}/files/{fileName}', {\n    responses: {\n      '204': {\n        description: 'File DELETE from Container success',\n      },\n    },\n  })\n  async deleteFileInContainer(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;boolean&gt; {\n    const removeFile = promisify(this.storageGcSvc.removeFile);\n    return await removeFile(containerName, fileName);\n  }\n\n  @post('/containers/{containerName}/upload', {\n    responses: {\n      '200': {\n        description: 'Upload a Files model instances into Container',\n        content: { 'application/json': { schema: { 'x-ts-type': File } } },\n      },\n    },\n  })\n  async upload(@param.path.string('containerName') containerName: string): Promise&lt;File&gt; {\n    const upload = promisify(this.storageGcSvc.upload);\n    return await upload(containerName, this.request, this.response, {});\n  }\n\n  @get('/containers/{containerName}/download/{fileName}', {\n    responses: {\n      '200': {\n        description: 'Download a File within specified Container',\n        content: { 'application/json': { schema: { 'x-ts-type': Object } } },\n      },\n    },\n  })\n  async download(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;any&gt; {\n    const download = promisify(this.storageGcSvc.download);\n    return await download(containerName, fileName, this.request, this.response);\n  }\n}\n</code></pre>\n\n<p>With this steps your storage component, or connector most precisely, should work as expected. But following the instructions of <a href=\"https://loopback.io/doc/en/lb4/Calling-other-APIs-and-web-services.html\" rel=\"nofollow noreferrer\">Calling other APIS and web services</a> guide to improve this implementation for integration tests you should use a provider instead of <code>@serviceProxy</code> decorator in the controller, to do that I create a new folder called <code>providers</code> inside a <code>src/</code> folder with the following two files:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// index.ts\n\nexport * from './storage-service.provider';\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// storage-gc-service.provider.ts\n\nimport { getService, juggler } from '@loopback/service-proxy';\nimport { Provider } from '@loopback/core';\nimport { StorageGCDataSource } from '../datasources/storage-gc.datasource';\nimport { IStorageService } from '../interfaces';\n\n\nexport class StorageGCServiceProvider implements Provider&lt;IStorageService&gt; {\n  constructor(\n    protected dataSource: juggler.DataSource = new StorageGCDataSource()\n\n    /* I try to change the line above in the same way that documentation show,\n    as follows:\n\n    @inject('datasources.StorageGC')\n    protected dataSource: juggler.DataSource = new StorageGCDataSource()\n\n    and also, in the same way that repositories\n\n    @inject('datasources.StorageGC')\n    protected dataSource: StorageGCDataSource\n\n    but always return:\n\n    `Error: Cannot resolve injected arguments for StorageGCServiceProvider.[0]:\n    The arguments[0] is not decorated for dependency injection, but a value is\n    not supplied`\n     */\n  ) { }\n\n  value(): Promise&lt;IStorageService&gt; {\n    return getService(this.dataSource);\n  }\n}\n</code></pre>\n\n<p>After that, you need to modify your <code>src/index.ts</code> and your <code>storage-gc.controller.ts</code> in the following way</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// src/index.ts\n\nimport { ApplicationConfig } from '@loopback/core';\nimport { HocicosCuriososApp } from './application';\nimport { StorageGCServiceProvider } from './providers';\n\nexport { HocicosCuriososApp };\n\nexport async function main(options: ApplicationConfig = {}) {\n  const app = new HocicosCuriososApp(options);\n\n  /* Add this line, it add a service to the app after that you can\n  call them in the controller with dependency injection, like:\n  @inject('services.StorageGCService') */\n  app.serviceProvider(StorageGCServiceProvider);\n\n  await app.boot();\n  await app.start();\n\n  const url = app.restServer.url;\n  console.log(`Server is running at ${url}`);\n  console.log(`Try ${url}/ping`);\n\n  return app;\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>// storage-gc.controller.ts\n\nimport { inject } from '@loopback/core';\nimport { post, requestBody, del, param, get, getFilterSchemaFor, Request, Response, RestBindings } from '@loopback/rest';\nimport { Filter } from '@loopback/repository';\nimport { promisify } from 'util';\n\nimport { IStorageService } from '../interfaces';\nimport { Container, File } from '../models';\n\n\nexport class StorageGcController {\n  @inject('services.StorageGCService')\n  private storageGcSvc: IStorageService;\n\n  constructor(@inject(RestBindings.Http.REQUEST) public request: Request,\n    @inject(RestBindings.Http.RESPONSE) public response: Response) { }\n\n  @post('/containers', {\n    responses: {\n      '200': {\n        description: 'Container model instance',\n        content: { 'application/json': { schema: { 'x-ts-type': Container } } },\n      },\n    },\n  })\n  async createContainer(@requestBody() container: Container): Promise&lt;Container&gt; {\n    const createContainer = promisify(this.storageGcSvc.createContainer);\n    return await createContainer(container);\n  }\n\n  @get('/containers', {\n    responses: {\n      '200': {\n        description: 'Array of Containers model instances',\n        content: {\n          'application/json': {\n            schema: { type: 'array', items: { 'x-ts-type': Container } },\n          },\n        },\n      },\n    },\n  })\n  async findContainer(@param.query.object('filter', getFilterSchemaFor(Container)) filter?: Filter): Promise&lt;Container[]&gt; {\n    const getContainers = promisify(this.storageGcSvc.getContainers);\n    return await getContainers();\n  }\n\n  @get('/containers/{containerName}', {\n    responses: {\n      '200': {\n        description: 'Container model instance',\n        content: { 'application/json': { schema: { 'x-ts-type': Container } } },\n      },\n    },\n  })\n  async findContainerByName(@param.path.string('containerName') containerName: string): Promise&lt;Container&gt; {\n    const getContainer = promisify(this.storageGcSvc.getContainer);\n    return await getContainer(containerName);\n  }\n\n  @del('/containers/{containerName}', {\n    responses: {\n      '204': {\n        description: 'Container DELETE success',\n      },\n    },\n  })\n  async deleteContainerByName(@param.path.string('containerName') containerName: string): Promise&lt;boolean&gt; {\n    const destroyContainer = promisify(this.storageGcSvc.destroyContainer);\n    return await destroyContainer(containerName);\n  }\n\n  @get('/containers/{containerName}/files', {\n    responses: {\n      '200': {\n        description: 'Array of Files model instances belongs to container',\n        content: {\n          'application/json': {\n            schema: { type: 'array', items: { 'x-ts-type': File } },\n          },\n        },\n      },\n    },\n  })\n  async findFilesInContainer(@param.path.string('containerName') containerName: string,\n    @param.query.object('filter', getFilterSchemaFor(Container)) filter?: Filter): Promise&lt;File[]&gt; {\n    const getFiles = promisify(this.storageGcSvc.getFiles);\n    return await getFiles(containerName, {});\n  }\n\n  @get('/containers/{containerName}/files/{fileName}', {\n    responses: {\n      '200': {\n        description: 'File model instances belongs to container',\n        content: { 'application/json': { schema: { 'x-ts-type': File } } },\n      },\n    },\n  })\n  async findFileInContainer(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;File&gt; {\n    const getFile = promisify(this.storageGcSvc.getFile);\n    return await getFile(containerName, fileName);\n  }\n\n  @del('/containers/{containerName}/files/{fileName}', {\n    responses: {\n      '204': {\n        description: 'File DELETE from Container success',\n      },\n    },\n  })\n  async deleteFileInContainer(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;boolean&gt; {\n    const removeFile = promisify(this.storageGcSvc.removeFile);\n    return await removeFile(containerName, fileName);\n  }\n\n  @post('/containers/{containerName}/upload', {\n    responses: {\n      '200': {\n        description: 'Upload a Files model instances into Container',\n        content: { 'application/json': { schema: { 'x-ts-type': File } } },\n      },\n    },\n  })\n  async upload(@param.path.string('containerName') containerName: string): Promise&lt;File&gt; {\n    const upload = promisify(this.storageGcSvc.upload);\n    return await upload(containerName, this.request, this.response, {});\n  }\n\n  @get('/containers/{containerName}/download/{fileName}', {\n    responses: {\n      '200': {\n        description: 'Download a File within specified Container',\n        content: { 'application/json': { schema: { 'x-ts-type': Object } } },\n      },\n    },\n  })\n  async download(@param.path.string('containerName') containerName: string,\n    @param.path.string('fileName') fileName: string): Promise&lt;any&gt; {\n    const download = promisify(this.storageGcSvc.download);\n    return await download(containerName, fileName, this.request, this.response);\n  }\n}\n</code></pre>\n\n<p>This is all, following this steps you must have storage component working very well. Good luck!</p>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 110, "user_id": 8367492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c0bf761b195922ba1de62c56d5f353a?s=128&d=identicon&r=PG&f=1", "display_name": "Santhosh", "link": "https://stackoverflow.com/users/8367492/santhosh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2000, "favorite_count": 3, "accepted_answer_id": 54710385, "answer_count": 2, "score": 3, "last_activity_date": 1618151867, "creation_date": 1550036451, "last_edit_date": 1568640450, "question_id": 54663283, "link": "https://stackoverflow.com/questions/54663283/how-to-use-storage-components-in-loopback-4-0", "title": "how to use storage components in loopback 4.0?", "body": "<p>i am using storage components in loopback 3.0 to accessing the cloud storage's. but i need how do implement in loopback 4.0.The below link to make it sample in 3.0.</p>\n\n<p><a href=\"https://github.com/strongloop/loopback-example-storage\" rel=\"nofollow noreferrer\">https://github.com/strongloop/loopback-example-storage</a></p>\n"}]