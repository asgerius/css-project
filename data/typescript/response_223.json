[{"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2344, "user_id": 1274783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e9098421dc70d5b66024c2ebe8484?s=128&d=identicon&r=PG", "display_name": "ivissani", "link": "https://stackoverflow.com/users/1274783/ivissani"}, "edited": false, "score": 4, "creation_date": 1555544085, "post_id": 55737266, "comment_id": 98152413, "body": "How are you creating the instance <code>feedbackType</code> of type <code>FeedbackType</code>? Second, you are calling <code>feddbakType.IsGreat()</code> (with capital I) but you defined <code>public isGreat()</code> method (with lowercase i)"}], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 3227662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a05e589a07c559cb55748386b8ab6da?s=128&d=identicon&r=PG&f=1", "display_name": "WeHaveCookies", "link": "https://stackoverflow.com/users/3227662/wehavecookies"}, "is_accepted": true, "score": 2, "last_activity_date": 1555550213, "last_edit_date": 1555550213, "creation_date": 1555549380, "answer_id": 55737817, "question_id": 55737266, "link": "https://stackoverflow.com/questions/55737266/typescript-create-a-function-off-an-entity-to-check-a-property-value/55737817#55737817", "title": "Typescript - Create a function off an entity to check a property value", "body": "<p>One way to do it</p>\n\n<pre><code>export class FeedbackType {\n    constructor(private id: number, private name: string) {}\n    isGreat() { return this.name === 'Great'; };\n}\n</code></pre>\n\n<p>and use it as:</p>\n\n<pre><code>let ft: FeedbackType = new FeedbackType(0, 'Great');\nif (ft.isGreat()) {\n   //do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 546, "user_id": 7788355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8454daa122a142744a83357269029170?s=128&d=identicon&r=PG&f=1", "display_name": "Trozza", "link": "https://stackoverflow.com/users/7788355/trozza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 55737817, "answer_count": 1, "score": -1, "last_activity_date": 1555550213, "creation_date": 1555543534, "question_id": 55737266, "link": "https://stackoverflow.com/questions/55737266/typescript-create-a-function-off-an-entity-to-check-a-property-value", "title": "Typescript - Create a function off an entity to check a property value", "body": "<p>I have the following entity in my typescript file in my Angular 7 app:</p>\n\n<pre><code>export class FeedbackType {\n    id: number;\n    name: String;\n}\n</code></pre>\n\n<p>I want to be create a function off this entity which checks the value of a property, such as:</p>\n\n<pre><code>feedbackType.IsGreat();\n</code></pre>\n\n<p>I tried the below after some research:</p>\n\n<pre><code>export class FeedbackType {\n    id: number;\n    name: String;\n\n    public isGreat() {\n        return this.name === 'Great';\n    }\n}\n</code></pre>\n\n<p>But I get this error:</p>\n\n<blockquote>\n  <p>feedbackType.isGreat is not a function</p>\n</blockquote>\n\n<hr>\n\n<p>This is similar to in C# the following method:</p>\n\n<pre><code>public static bool IsGreat(this FeedbackType feedbackType)\n{\n    return feedbackType.name == \"Great\";\n}\n</code></pre>\n"}, {"tags": ["typescript", "asp.net-core", "create-react-app"], "answers": [{"tags": [], "owner": {"reputation": 4138, "user_id": 428928, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e3d7f8a77aca3119a327766f21867aef?s=128&d=identicon&r=PG", "display_name": "Fook", "link": "https://stackoverflow.com/users/428928/fook"}, "is_accepted": true, "score": 0, "last_activity_date": 1586914945, "creation_date": 1586914945, "answer_id": 61219972, "question_id": 55736551, "link": "https://stackoverflow.com/questions/55736551/debug-react-typescript-in-vs-code/61219972#61219972", "title": "Debug React TypeScript in VS Code", "body": "<p>Add <code>\"smartStep\": true</code> to your launch.json configuration.</p>\n\n<p><a href=\"https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_smart-stepping\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_smart-stepping</a></p>\n"}], "owner": {"reputation": 7067, "user_id": 1725836, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6f752d354a35b6988b85dbaa1195e399?s=128&d=identicon&r=PG&f=1", "display_name": "nrofis", "link": "https://stackoverflow.com/users/1725836/nrofis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 61219972, "answer_count": 1, "score": 1, "last_activity_date": 1587047156, "creation_date": 1555538424, "last_edit_date": 1587047156, "question_id": 55736551, "link": "https://stackoverflow.com/questions/55736551/debug-react-typescript-in-vs-code", "title": "Debug React TypeScript in VS Code", "body": "<p>I've created an ASP Core project with React TypeScript template.\nUnfortunately, it is very hard to debug it since in jumps between the TypeScript code and the generated JavaScript code.</p>\n\n<p>For example:<br>\n<a href=\"https://i.stack.imgur.com/nIEfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nIEfA.png\" alt=\"enter image description here\"></a></p>\n\n<p>After one step it arrives to:<br>\n<a href=\"https://i.stack.imgur.com/ozE75.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ozE75.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which is the generated JS code that I want to avoid when I debug. My <code>launch.json</code> contains that Chrome debugger configuration:  </p>\n\n<pre><code>\"configurations\": [\n    {\n        \"name\": \".NET Core Launch (web)\",\n        \"type\": \"coreclr\",\n        \"request\": \"launch\",\n        \"preLaunchTask\": \"build\",\n        // If you have changed target frameworks, make sure to update the program path.\n        \"program\": \"${workspaceFolder}/WebApplication1/bin/Debug/netcoreapp2.1/WebApplication1.dll\",\n        \"args\": [],\n        \"cwd\": \"${workspaceFolder}/WebApplication1\",\n        \"stopAtEntry\": false,\n        \"launchBrowser\": {\n            \"enabled\": false\n        },\n        \"sourceFileMap\": {\n            \"/Views\": \"${workspaceFolder}/Views\",\n        }\n    },\n    {\n        \"name\": \"Chrome\",\n        \"type\": \"chrome\",\n        \"request\": \"launch\",\n        \"url\": \"https://localhost:5001\",\n        \"webRoot\": \"${workspaceFolder}/WebApplication1/ClientApp/src\",\n        \"userDataDir\": \"${workspaceFolder}/.vscode/chrome\",\n        \"sourceMapPathOverrides\": {\n            \"webpack:///./src/*\": \"${webRoot}/*\",\n        }\n    }\n</code></pre>\n\n<p>How can I debug this TypeScript code without the generated JavaScript?\nBTW, Same behavior happens also in Visual Studio 2019.  </p>\n"}, {"tags": ["node.js", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 6674607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552989052360538ba952cdce373e2498?s=128&d=identicon&r=PG&f=1", "display_name": "Zacle", "link": "https://stackoverflow.com/users/6674607/zacle"}, "edited": false, "score": 0, "creation_date": 1555537697, "post_id": 55736379, "comment_id": 98150920, "body": "That means I have also to change the method signature to Promise&lt;Buffer&gt; ?"}, {"owner": {"reputation": 717, "user_id": 8995812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eab360331cc5f7ff219032474a32fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Em", "link": "https://stackoverflow.com/users/8995812/jakob-em"}, "reply_to_user": {"reputation": 53, "user_id": 6674607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552989052360538ba952cdce373e2498?s=128&d=identicon&r=PG&f=1", "display_name": "Zacle", "link": "https://stackoverflow.com/users/6674607/zacle"}, "edited": false, "score": 0, "creation_date": 1555537783, "post_id": 55736379, "comment_id": 98150946, "body": "Yes you need to change it."}, {"owner": {"reputation": 53, "user_id": 6674607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552989052360538ba952cdce373e2498?s=128&d=identicon&r=PG&f=1", "display_name": "Zacle", "link": "https://stackoverflow.com/users/6674607/zacle"}, "edited": false, "score": 0, "creation_date": 1555537877, "post_id": 55736379, "comment_id": 98150978, "body": "I tried to change it all turned to red with the message: Type &#39;Promise&lt;void | IProblem[]&gt;&#39; is not assignable to type &#39;Promise&lt;Buffer&gt;&#39;.   Type &#39;void | IProblem[]&#39; is not assignable to type &#39;Buffer&#39;.     Type &#39;void&#39; is not assignable to type &#39;Buffer&#39;"}, {"owner": {"reputation": 717, "user_id": 8995812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eab360331cc5f7ff219032474a32fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Em", "link": "https://stackoverflow.com/users/8995812/jakob-em"}, "reply_to_user": {"reputation": 53, "user_id": 6674607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552989052360538ba952cdce373e2498?s=128&d=identicon&r=PG&f=1", "display_name": "Zacle", "link": "https://stackoverflow.com/users/6674607/zacle"}, "edited": false, "score": 0, "creation_date": 1555538537, "post_id": 55736379, "comment_id": 98151160, "body": "Okay so the problem is that you are alway returning your list of problems or void if there are no errors.. you should restructure your code so that it rejects with the list of errors and resolves with the content"}], "tags": [], "owner": {"reputation": 717, "user_id": 8995812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2eab360331cc5f7ff219032474a32fe2?s=128&d=identicon&r=PG&f=1", "display_name": "Jakob Em", "link": "https://stackoverflow.com/users/8995812/jakob-em"}, "is_accepted": false, "score": 0, "last_activity_date": 1555537294, "creation_date": 1555537294, "answer_id": 55736379, "question_id": 55736309, "link": "https://stackoverflow.com/questions/55736309/how-to-return-a-promise-of-an-array-in-typescript/55736379#55736379", "title": "How to return a Promise of an array in typescript", "body": "<p>You have to return your promise and not the list.</p>\n\n<pre><code>return new Promise&lt;Buffer&gt;((resolve, reject) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 6674607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/552989052360538ba952cdce373e2498?s=128&d=identicon&r=PG&f=1", "display_name": "Zacle", "link": "https://stackoverflow.com/users/6674607/zacle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 652, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555537294, "creation_date": 1555536934, "question_id": 55736309, "link": "https://stackoverflow.com/questions/55736309/how-to-return-a-promise-of-an-array-in-typescript", "title": "How to return a Promise of an array in typescript", "body": "<p>I'm trying to return an array in a form of promise. I first unzipped a file, then parsed the file with csv-parse. I'm saving all returned objects in an array, then return this array</p>\n\n<p>I tried to return without a promise the transpiler didn't complain. But I want to scale it</p>\n\n<pre><code>/**\n * Wraps writeFile in a promise.\n * @param content The Base64 content of the file to read.\n * @returns A buffer containing the contents of the file.\n */\nprotected writeFileAsync(path: string, content: Buffer): Promise&lt;IProblem[]&gt; {\n    new Promise&lt;Buffer&gt;((resolve, reject) =&gt; {\n        fs.writeFile(path, content,  \"base64\", (err) =&gt; {\n            if (err) {\n                reject(err);\n            }\n\n            resolve(content);\n        });\n    })\n    .then(result =&gt; {\n        fs.readFile(result, (err, data) =&gt; {\n            if (err) {\n                Log.error(\"Error while reading the zip file\");\n                this.listOfProblems = [];\n                return this.listOfProblems;\n            }\n            let zip: JSZip = new JSZip();\n            zip.loadAsync(data)\n            .then(contents =&gt; {\n                Object.keys(contents.files).forEach(filename =&gt; {\n                    zip.file(filename).async('nodebuffer')\n                    .then(content =&gt; {\n                        let parser: csvParse.Parser = csvParse((data, err) =&gt; {\n                            if (err) {\n                                Log.error(\"Error while reading the zip file\");\n                                this.listOfProblems = [];\n                                return this.listOfProblems;\n                            }\n                            let problem: IProblem;\n\n                        }) as csvParse.Parser;\n                        fs.createReadStream(content).pipe(parser);\n                    })\n                })\n            })\n        })\n    })\n    .catch(() =&gt; {\n        Log.error(\"Error while reading the zip file\");\n        this.listOfProblems = [];\n        return this.listOfProblems;\n    });\n    return this.listOfProblems;\n}\n</code></pre>\n\n<p>It's showing error in the last line</p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "jasmine", "karma-jasmine"], "answers": [{"tags": [], "owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "is_accepted": false, "score": 2, "last_activity_date": 1555537084, "creation_date": 1555537084, "answer_id": 55736336, "question_id": 55736247, "link": "https://stackoverflow.com/questions/55736247/how-to-test-the-label-of-an-input-on-angular-4/55736336#55736336", "title": "How to test the label of an input on angular 4+?", "body": "<p>Get the element and test it.</p>\n\n<pre><code>it('should check label name', () =&gt; {\n    let labelName = fixture.debugElement.query(By.css(\"label[for=Name]\"));\n    expect(labelName).toBe(\"Click Me\");\n})\n</code></pre>\n\n<p>The question is how to interact with that element and not how to test it.</p>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7861604, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kc7xtN-y2y8/AAAAAAAAAAI/AAAAAAAABDo/RtE_8wtIVKc/photo.jpg?sz=128", "display_name": "Simone Solfato", "link": "https://stackoverflow.com/users/7861604/simone-solfato"}, "is_accepted": false, "score": 0, "last_activity_date": 1591801108, "creation_date": 1591801108, "answer_id": 62306690, "question_id": 55736247, "link": "https://stackoverflow.com/questions/55736247/how-to-test-the-label-of-an-input-on-angular-4/62306690#62306690", "title": "How to test the label of an input on angular 4+?", "body": "<p>The code you posted is a bit confused.\nBelow a possible solution for test the label regardless an input or not.</p>\n\n<p><strong>Import:</strong></p>\n\n<blockquote>\n  <p>import { ComponentFixture, TestBed } from '@angular/core/testing';</p>\n  \n  <p>import { By } from '@angular/platform-browser';</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>let fixture: ComponentFixture&lt;YourComponent&gt; = TestBed.createComponent(YourComponent);\nconst queryValue = fixture.debugElement.query(By.css('#your-label-id'));\n\nexpect(queryValue).toBeTruthy();\nexpect(queryValue.nativeElement).toBeTruthy();\nexpect(queryValue.nativeElement.outerText).toContain(\"Text expected in the label\");\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 5285488, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bNHHkbeZtNs/AAAAAAAAAAI/AAAAAAAAAag/18mQi0Qhv6U/photo.jpg?sz=128", "display_name": "yussenn", "link": "https://stackoverflow.com/users/5285488/yussenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1671, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1591801108, "creation_date": 1555536620, "question_id": 55736247, "link": "https://stackoverflow.com/questions/55736247/how-to-test-the-label-of-an-input-on-angular-4", "title": "How to test the label of an input on angular 4+?", "body": "<p>I have a angular component with a form like this:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;label for=\"Name\"&gt;Click me&lt;/label&gt;\n  &lt;input type=\"text\" id=\"Name\" name=\"Name\" /&gt;\n\n  &lt;label for=\"Name2\"&gt;Click me 2&lt;/label&gt;\n  &lt;input type=\"text\" id=\"Name2\" name=\"Name\" /&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>I need to have a unit test that validate that input[id=Name] have a label with text: \"Click Name\". How can I implement that unit test on angular with jasmin and karma?</p>\n"}, {"tags": ["c#", ".net", "typescript", "rest"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1555541482, "post_id": 55736192, "comment_id": 98151865, "body": "Are you sure it&#39;s not the toString() method which converts it, rather than the Post or the model binder? There&#39;s an extra step here that you haven&#39;t accounted for. And why aren&#39;t you using a strongly typed viewmodel instead of &quot;object&quot; - normally the way you&#39;ve got it now will make it very difficult to access individual fields in the input when it arrives on the server"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1555541578, "post_id": 55736192, "comment_id": 98151897, "body": "Anyway, if the result is different in one environment than another, then usually the code is not directly at fault. Instead look for relevant differences in the environment. In this case, checking the timezone settings on the server, and comparing that to the setting on the local machine is likely to be relevant, for example"}, {"owner": {"reputation": 21, "user_id": 10397809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HVuaD-DhSyw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWEiFLKoj4QfOHJPNvOVzl5deKAbQ/mo/photo.jpg?sz=128", "display_name": "Alex Germann", "link": "https://stackoverflow.com/users/10397809/alex-germann"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1555600344, "post_id": 55736192, "comment_id": 98174747, "body": "@ADyson it ended up being the default Json serialization settings doing it. See my answer below."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10397809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HVuaD-DhSyw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWEiFLKoj4QfOHJPNvOVzl5deKAbQ/mo/photo.jpg?sz=128", "display_name": "Alex Germann", "link": "https://stackoverflow.com/users/10397809/alex-germann"}, "is_accepted": true, "score": 1, "last_activity_date": 1555600243, "creation_date": 1555600243, "answer_id": 55748965, "question_id": 55736192, "link": "https://stackoverflow.com/questions/55736192/why-is-my-iso-datetime-string-with-timezone-converting-the-time-upon-post/55748965#55748965", "title": "Why is my ISO datetime string with timezone converting the time upon POST?", "body": "<p>Adding these lines to the Register method of my WebApiConfig in App_Start forced my service to not parse the DateTime and therefore it kept the timezone.</p>\n\n<pre><code>public static void Register(HttpConfiguration config)\n{\n    var jsonFormatter = config.Formatters.JsonFormatter;\n    jsonFormatter.SerializerSettings.DateParseHandling = Newtonsoft.Json.DateParseHandling.None;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10397809, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HVuaD-DhSyw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWEiFLKoj4QfOHJPNvOVzl5deKAbQ/mo/photo.jpg?sz=128", "display_name": "Alex Germann", "link": "https://stackoverflow.com/users/10397809/alex-germann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 55748965, "answer_count": 1, "score": 1, "last_activity_date": 1555600243, "creation_date": 1555536298, "last_edit_date": 1555536767, "question_id": 55736192, "link": "https://stackoverflow.com/questions/55736192/why-is-my-iso-datetime-string-with-timezone-converting-the-time-upon-post", "title": "Why is my ISO datetime string with timezone converting the time upon POST?", "body": "<p>I am POSTing a JSON object as a string to a service method via the fetch API. Some of the properties in the object are ISO 8601 strings with timezones (e.g. \"StartDate\": \"2019-04-16T13:46:04-06:00\"). That is what the string looks like before POSTing via the fetch API. \nThe C# REST service method that I am posting to has only ([FromBody]object document) as the parameter. Upon getting to that method, the string looks like this: \"StartDate\": \"2019-04-16T19:46:04+00:00\".</p>\n\n<p>Why/where is the timezone getting converted? It was a string upon POSTing to the service and is still a string there.</p>\n\n<p>Something to note: this works fine when using the service locally (via localhost). When it is deployed, it does not work.</p>\n\n<p>Example code (TypeScript, client-side): </p>\n\n<pre><code>    postDocument() {\n        let doc = \"{'StartDate': '2019-04-16T13:46:04-06:00'}\";\n        let response = await fetch(\"[serviceURL]/api/Document/AddDocument\", \n        {\n            method: \"POST\",\n            headers: {\n              Accept: \"application/json\",\n              \"Content-Type\": \"application/json\"\n            },\n            body: doc\n        });\n    }\n</code></pre>\n\n<p>Example code (server-side (in TestService), C#):</p>\n\n<pre><code>    [HttpPost]\n    public void AddDocument([FromBody]object document)\n    {\n        // Datetime string has already been converted, no longer has timezone.\n        console.log(document.ToString()); \n        // startdate here is = \"2019-04-16T19:46:04+00:00\"\n        return;//Doesn't matter what's in this method\n    }\n</code></pre>\n"}, {"tags": ["typescript", "type-inference", "typescript-generics"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1555536223, "post_id": 55736088, "comment_id": 98150434, "body": "You will need a function for its inference behavior. If you use <code>any</code> you don&#39;t get any type checks, and your lambda attempt fails because <code>O</code> is a generic type parameter to <code>args</code> so it&#39;s the caller who decides what <code>O</code> is not the implementation."}, {"owner": {"reputation": 144, "user_id": 1122095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8af7247e2a94085877f58f2d558dd5f?s=128&d=identicon&r=PG", "display_name": "Simon S", "link": "https://stackoverflow.com/users/1122095/simon-s"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1555536662, "post_id": 55736088, "comment_id": 98150593, "body": "@TitianCernicova-Dragomir So is it even possible for a property to enforce generic constraints on its value like a function does with its parameters?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1555536800, "post_id": 55736088, "comment_id": 98150639, "body": "You can enforce constraints, but they need to be known upfront, you can&#39;t expect any extra inference for a property. Functions have type parameters that can be inferred, properties don&#39;t"}, {"owner": {"reputation": 144, "user_id": 1122095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8af7247e2a94085877f58f2d558dd5f?s=128&d=identicon&r=PG", "display_name": "Simon S", "link": "https://stackoverflow.com/users/1122095/simon-s"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1555537433, "post_id": 55736088, "comment_id": 98150847, "body": "@TitianCernicova-Dragomir thanks for your input"}], "answers": [{"tags": [], "owner": {"reputation": 144, "user_id": 1122095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8af7247e2a94085877f58f2d558dd5f?s=128&d=identicon&r=PG", "display_name": "Simon S", "link": "https://stackoverflow.com/users/1122095/simon-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1555673723, "last_edit_date": 1555673723, "creation_date": 1555673058, "answer_id": 55761102, "question_id": 55736088, "link": "https://stackoverflow.com/questions/55736088/infer-generic-type-in-property-like-in-a-function-for-proper-type-checking/55761102#55761102", "title": "Infer generic type in property (like in a function) for proper type checking", "body": "<p>So since this is not possible, a practical approach is to use a setter or a factory that enforces the type constraints. E.g.:</p>\n\n<pre><code>type Thing&lt;T, A&gt; = {\n    a: A,\n    b: SomeTypeDependingoOn&lt;A&gt;\n};\nclass Factory&lt;T&gt; {\n    public getThing&lt;A, B extends SomeTypeDependingoOn&lt;A&gt;&gt;(a: A, b: B): Thing&lt;T, A&gt;{\n        return { a: a, b: b };\n    }\n}\nlet thing: Thing&lt;string, any&gt;;\nthing = new Factory&lt;string&gt;().getThing(...); // type checking\n</code></pre>\n"}], "owner": {"reputation": 144, "user_id": 1122095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8af7247e2a94085877f58f2d558dd5f?s=128&d=identicon&r=PG", "display_name": "Simon S", "link": "https://stackoverflow.com/users/1122095/simon-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 55761102, "answer_count": 1, "score": -1, "last_activity_date": 1555673723, "creation_date": 1555535810, "question_id": 55736088, "link": "https://stackoverflow.com/questions/55736088/infer-generic-type-in-property-like-in-a-function-for-proper-type-checking", "title": "Infer generic type in property (like in a function) for proper type checking", "body": "<p>I am trying to have the compiler infer and check types in a generic property.\nIn particular i have:</p>\n\n<pre><code>type Args&lt;T, O extends object&gt; = {\n    instance: O,\n    key: { [K in keyof O]: T extends O[K] ? K : never }[keyof O]\n};\n\nclass C&lt;T&gt; {\n    public fn&lt;O extends object&gt;(args: Args&lt;T, O&gt;): void { }\n}\n</code></pre>\n\n<p><code>Args</code> is a object and one of its keys <code>k</code>, such that something of type <code>T</code> can be assigned to <code>k</code>.\nThe class can be used like:</p>\n\n<pre><code>type Test = { a: string, b: number };\nlet test: Test = { a: \"\", b: 2 };\nlet c = new C&lt;string&gt;();\n\nc.fn({ instance: test, key: \"a\" }); // works, as expected\nc.fn({ instance: test, key: \"b\" }); // error, as expected\n</code></pre>\n\n<p>This is nice because the type parameter <code>O</code> is inferred, the type of <code>key</code> is checked and all possibilities for <code>key</code> are suggested when typing.</p>\n\n<p>Now i want to use a <code>Args</code> object that can be used with <code>C&lt;T&gt;.fn</code> as a property in some other classes (for injection purposes), where the type of <code>O</code> is not known yet.\nHowever type checking fails with <code>any</code>:</p>\n\n<pre><code>interface I&lt;T&gt; {\n    args: Args&lt;T, any&gt;;\n}\n\nlet i: I&lt;string&gt;;\ni = { args: { instance: test, key: \"b\" } }; // no error\n</code></pre>\n\n<p>I tried to used a lambda instead:</p>\n\n<pre><code>interface I2&lt;T&gt; {\n    args: &lt;O extends object&gt;() =&gt; Args&lt;T, O&gt;;\n}\n\nlet i2: I2&lt;string&gt;;\ni2 = { args: () =&gt; ({ instance: test, key: \"a\" }) }; //Type 'Test' is not assignable to type 'O'. ???\nc.fn(i.args);\n</code></pre>\n\n<p>I do not understand why the type error occurs.</p>\n\n<p><strong>How can you ensure types are inferred and checked for a property of an interface like it works for a generic function?</strong></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 4, "creation_date": 1555535196, "post_id": 55735941, "comment_id": 98150053, "body": "<code>browserInfo.name.toString()</code> You didn&#39;t invoke it."}], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "edited": false, "score": 0, "creation_date": 1555535519, "post_id": 55735975, "comment_id": 98150162, "body": "Yeah, that was totally it. Thank you"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535215, "creation_date": 1555535215, "answer_id": 55735975, "question_id": 55735941, "link": "https://stackoverflow.com/questions/55735941/typescript-function-should-return-a-string-instead-of-string/55735975#55735975", "title": "Typescript - function should return a string instead of () -&gt; string", "body": "<p>You need to call the <code>toString</code> methods - otherwise,  you're making <code>browserName</code> and possible <code>operatingSystem</code> a function:</p>\n\n<pre><code>function getBrowserInfo(): BrowserData {\n  const browserInfo = detectBrowser.detect();\n  const browserData: BrowserData =\n    browserInfo !== null ?\n    {\n      browserName: browserInfo.name.toString(),\n      browserVersion: browserInfo.version,\n      operatingSystem: browserInfo.os !== null ? browserInfo.os.toString() : '',\n    } :\n    {\n      browserName: '',\n      browserVersion: '',\n      operatingSystem: ''\n    };\n  return browserData;\n}\n</code></pre>\n"}], "owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55735975, "answer_count": 1, "score": 0, "last_activity_date": 1555535215, "creation_date": 1555535068, "question_id": 55735941, "link": "https://stackoverflow.com/questions/55735941/typescript-function-should-return-a-string-instead-of-string", "title": "Typescript - function should return a string instead of () -&gt; string", "body": "<p>I'm trying to add the following code to detect browsers, but the error I get for <code>browserData</code> is: </p>\n\n<pre><code>Type '{ browserName: () =&gt; string; browserVersion: string | null; operatingSystem: string | (() =&gt; string); } | { browserName: string; browserVersion: string; operatingSystem: string; }' is not assignable to type 'BrowserData'.\nType '{ browserName: () =&gt; string; browserVersion: string | null; operatingSystem: string | (() =&gt; string); }' is not assignable to type 'BrowserData'.\nTypes of property 'browserName' are incompatible.\nType '() =&gt; string' is not assignable to type 'string'.ts(2322)\n</code></pre>\n\n<pre><code>function getBrowserInfo(): BrowserData {\n  const browserInfo = detectBrowser.detect();\n  const browserData: BrowserData =\n    browserInfo !== null\n      ? {\n          browserName: browserInfo.name.toString,\n          browserVersion: browserInfo.version,\n          operatingSystem:\n            browserInfo.os !== null ? browserInfo.os.toString : '',\n        }\n      : { browserName: '', browserVersion: '', operatingSystem: '' };\n  return browserData;\n}\n\ndeclare type BrowserData = {\n  browserName: string;\n  browserVersion: string;\n  operatingSystem: string;\n};\n</code></pre>\n\n<p>I see that there is an error because the return value should be a string, but not a function that returns a string. How can I correct this?</p>\n"}, {"tags": ["c#", "angular", "typescript", "api", "httpclient"], "comments": [{"owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "edited": false, "score": 0, "creation_date": 1555532774, "post_id": 55735449, "comment_id": 98149197, "body": "There is something odd as you say the url is <code>http:&#47;&#47;localhost:49566&#47;api&#47;people</code> and the error contains <code>http:&#47;&#47;localhost:49566&#47;people</code>. Have a look in there."}, {"owner": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "reply_to_user": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "edited": false, "score": 0, "creation_date": 1555536294, "post_id": 55735449, "comment_id": 98150464, "body": "Sorry, error on my part.  The correct error should read <a href=\"http://localhost:49566/api/people\" rel=\"nofollow noreferrer\">localhost:49566/api/people</a>.  I have tried both adjusting the c# to both api/people and /people; both error."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "edited": false, "score": 0, "creation_date": 1555542638, "post_id": 55736249, "comment_id": 98152132, "body": "Thanks.  That helped.  Now the error I get is &quot;Http failure response for <a href=\"http://localhost:49566/api/people\" rel=\"nofollow noreferrer\">localhost:49566/api/people</a>: 0 Unknown Error&quot; with a status of 0."}, {"owner": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "edited": false, "score": 0, "creation_date": 1555586961, "post_id": 55736249, "comment_id": 98166863, "body": "I have gotten Wireshark to work now, and can see that the front-end is sending an OPTIONS call instead of a GET.  Any ideas why, or how to change the Angular front-end to send a GET?  NOTE:  when I add OPTIONS on the back-end, this is the error that I get &quot;[CORS] The origin &#39;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&#39; did not find &#39;<a href=\"http://localhost:4200\" rel=\"nofollow noreferrer\">localhost:4200</a>&#39; in the Access-Control-Allow-Origin response header for cross-origin  resource at &#39;<a href=\"http://localhost:49566/api/people&#39;\" rel=\"nofollow noreferrer\">localhost:49566/api/people&#39;</a>.&quot;  Not sure how to correct that either.  Any thoughts?"}, {"owner": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "edited": false, "score": 0, "creation_date": 1555587088, "post_id": 55736249, "comment_id": 98166928, "body": "Thanks Andrew.  How do I remove the CORS headers?  Is that by removing the &quot;, httpOptions&quot; from the this.http.get?  If so, I tried that and still get the same error."}, {"owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "reply_to_user": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "edited": false, "score": 0, "creation_date": 1555588416, "post_id": 55736249, "comment_id": 98167652, "body": "If removing the CORS from the <code>httpOptions</code> is not working, please enable CORS in your C# code to accept requests from <code>localhost:4200</code>. Have a look <a href=\"https://docs.microsoft.com/en-us/aspnet/web-api/overview/security/enabling-cross-origin-requests-in-web-api\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536641, "creation_date": 1555536641, "answer_id": 55736249, "question_id": 55735449, "link": "https://stackoverflow.com/questions/55735449/angular-front-end-getting-error-when-calling-api-on-c-back-end/55736249#55736249", "title": "Angular front-end getting error when calling api on c# back-end", "body": "<p>Change </p>\n\n<pre><code>   return this.http.get('http://localhost:49566/api/People', httpOptions )\n</code></pre>\n\n<p>to</p>\n\n<pre><code>   return this.http.get('http://localhost:49566/api/people', httpOptions )\n</code></pre>\n\n<p>the URL is case-sensitive.</p>\n\n<p>Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 2609604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7e6885f454a8efd99f8fbbc8c1e8d2?s=128&d=identicon&r=PG", "display_name": "Prasad", "link": "https://stackoverflow.com/users/2609604/prasad"}, "is_accepted": false, "score": 0, "last_activity_date": 1555666050, "creation_date": 1555666050, "answer_id": 55759592, "question_id": 55735449, "link": "https://stackoverflow.com/questions/55735449/angular-front-end-getting-error-when-calling-api-on-c-back-end/55759592#55759592", "title": "Angular front-end getting error when calling api on c# back-end", "body": "<p>The issue is related to CORS (on server-side) and method signature on server side. </p>\n\n<p>First of all, enable CORS in your API code (C#). Please search MSDN for appropriate namespaces/dlls (e.g. <code>System.Web.Cors</code>) needed.</p>\n\n<pre><code>public static class WebApiConfig\n    {\n        public static void Register(HttpConfiguration config)\n        {\n            // Web API configuration and services\n            config.EnableCors();\n</code></pre>\n\n<p>In API controller-derived class (e.g.), please do this to ensure the CORS is allowed. <code>*</code> means all URLs are allowed. Change as per your client (Angular app uri) needs.</p>\n\n<pre><code>/// &lt;summary&gt;\n    /// Provides API for Order entity.\n    /// &lt;/summary&gt;\n    [EnableCors(origins: \"*\", headers: \"*\", methods: \"*\")]\n    public class OrderController : ApiController\n    {\n</code></pre>\n\n<p>In CORS, a pre-flight request with the <code>OPTIONS</code> method is sent, so that the server can respond whether it is acceptable to send the request with these parameters. It is sent before sending a <code>GET</code> or <code>POST</code>. </p>\n\n<p>Coming back to API code, in <code>web.config</code>, please ensure you have the following:</p>\n\n<pre><code>&lt;system.webServer&gt;\n  &lt;handlers&gt;\n    &lt;remove name=\"ExtensionlessUrlHandler-Integrated-4.0\" /&gt;\n    &lt;remove name=\"OPTIONSVerbHandler\" /&gt;\n    &lt;remove name=\"TRACEVerbHandler\" /&gt;\n    &lt;add name=\"ExtensionlessUrlHandler-Integrated-4.0\" path=\"*.\" verb=\"*\" type=\"System.Web.Handlers.TransferRequestHandler\" preCondition=\"integratedMode,runtimeVersionv4.0\" /&gt;\n  &lt;/handlers&gt;\n&lt;/system.webServer&gt;\n</code></pre>\n\n<p><code>&lt;remove name=\"OPTIONSVerbHandler\" /&gt;</code> ensures that IIS doesn't intercept <code>OPTIONS</code> requests.</p>\n\n<p>Also in <code>web.config</code>, do the following. This ensures <code>GET</code>, <code>POST</code> and <code>OPTIONS</code> methods are allowed.</p>\n\n<pre><code>&lt;httpProtocol&gt;\n      &lt;customHeaders&gt;            \n        &lt;!--...omitted for brevity--&gt;\n\n        &lt;add name=\"Access-Control-Allow-Methods\" value=\"GET,POST,PUT,DELETE,OPTIONS\" /&gt;\n      &lt;/customHeaders&gt;\n</code></pre>\n\n<p>Finally:</p>\n\n<pre><code>[HttpGet]\npublic IEnumerable&lt;Person&gt; Get()\n        {\n            return SQLiteDataAccess.GetPeople();\n        }\n</code></pre>\n\n<p>There's no need to do anything about CORS in client-side code in Angular. Hope that helps.</p>\n"}], "owner": {"reputation": 11, "user_id": 11375799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff42c5e0230d7efb62ffb4373a5fa74?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffry", "link": "https://stackoverflow.com/users/11375799/jeffry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 253, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555666050, "creation_date": 1555532598, "question_id": 55735449, "link": "https://stackoverflow.com/questions/55735449/angular-front-end-getting-error-when-calling-api-on-c-back-end", "title": "Angular front-end getting error when calling api on c# back-end", "body": "<p>I have an Angular front-end and a c# webAPI back-end.  The Angular front-end can retrieve data from other urls (e.g. <a href=\"http://reqres.in/api/users\" rel=\"nofollow noreferrer\">http://reqres.in/api/users</a> and json-server --watch db.json).  The c# webAPI successfully returns data to api calls (entered in browser and sent from Postman (Get, <a href=\"http://localhost:49566/api/people\" rel=\"nofollow noreferrer\">http://localhost:49566/api/people</a>)).\nWhen the front-end calls the back-end, gets the following:\nHTTP404: NOT FOUND - The server has not found anything matching the requested URI (Uniform Resource Identifier).\n(XHR)OPTIONS - <a href=\"http://localhost:49566/people\" rel=\"nofollow noreferrer\">http://localhost:49566/people</a></p>\n\n<p>Any suggestions on what the problem is, or whether it is on the front-end or the back-end?</p>\n\n<p>I have reviewed several Angular httpclient examples; but continue to experience the same thing--works with other urls; but not with my c# webAPI's url.</p>\n\n<p>I have tried adding a post option; but that did not resolve it.</p>\n\n<p>C# code:</p>\n\n<pre><code>        public IEnumerable&lt;Person&gt; Get()\n        {\n            return SQLiteDataAccess.GetPeople();\n        }\n</code></pre>\n\n<p>Angular data service code:</p>\n\n<pre><code>  people: object;\n\n  constructor(private http: HttpClient) { }\n\n    searchClick(searchString: string) {\n    return console.log('clicked ' + searchString);\n  }\n\n  getPeople() {\n    const httpOptions = {\n      headers: new HttpHeaders({\n          'Access-Control-Allow-Origin': 'http://localhost:4200/',\n          'Access-Control-Allow-Methods': 'GET',\n          'Access-Control-Allow-Headers': '*',\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n      })\n    };\n    return this.http.get('http://localhost:49566/api/People', httpOptions )  \n}\n}\n</code></pre>\n\n<p>What I need is for the front-end to successfully retrieve data from the back-end; so I can display it.</p>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555534030, "post_id": 55735399, "comment_id": 98149673, "body": "Your issue could possibly be related to the fact that you are overwriting the <code>Guard</code> &quot;factory&quot; export with <code>BadRequestError</code> which is a completely different type."}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555534499, "post_id": 55735399, "comment_id": 98149832, "body": "BadRequestError is a different file"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555534693, "post_id": 55735399, "comment_id": 98149884, "body": "That&#39;s somewhat confusing, can you remove it if it is not relevant to your question? Where are you implementing the type declarations? Also in a separate file?"}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555535173, "post_id": 55735399, "comment_id": 98150047, "body": "Sorry, should be better now. The <code>BadRequestError</code> might be return in the <code>middleware</code>"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555535204, "post_id": 55735399, "comment_id": 98150056, "body": "Where is the <code>Guard</code> class declared? Is that also a separate file?"}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555535264, "post_id": 55735399, "comment_id": 98150080, "body": "<code>interface</code> and <code>class</code> were two different approaches I tried, but all of them have been in <code>index.d.ts</code>"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555539610, "post_id": 55735399, "comment_id": 98151414, "body": "Why are your modules written in Javascript if you want to use Typescript? Are you attempting to use these types in a different project? Or are you willing to convert them to Typescript?"}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555540628, "post_id": 55735399, "comment_id": 98151645, "body": "They might be written in TypeScript eventually but for now just Typings should be created and the current implementation should remain in plain JavaScript."}], "answers": [{"comments": [{"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1555569419, "post_id": 55737149, "comment_id": 98157862, "body": "&quot;not working&quot; did mean neither WebStorm nor VS Code did provide Code completion, Syntax highlighting or validation for the typings. Thanks for your patience."}], "tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1555542683, "creation_date": 1555542683, "answer_id": 55737149, "question_id": 55735399, "link": "https://stackoverflow.com/questions/55735399/add-typings-for-prototyped-function/55737149#55737149", "title": "Add typings for prototyped function", "body": "<p>It's not clear what you mean by \"not working\" since you are not writing any Typescript code, just declarations, so I will assume that <code>test.js</code> should be <code>test.ts</code> to answer your question.</p>\n\n<p>You'll want to create a type declaration along side the original Javascript source (like you have already done), but you need to make sure that the structure is equivalent to the original module. Your Typescript declarations indicate that there are multiple exports while the Javascript implementations only have a single export.</p>\n\n<p>error.d.ts</p>\n\n<pre><code>declare class BadRequestError extends Error {\n    code: string;\n    status: number;\n    inner: Error;\n\n    constructor(code: string, error: Error);\n}\n\nexport = BadRequestError;\n</code></pre>\n\n<p>index.d.ts</p>\n\n<pre><code>import {Handler} from 'express';\n\ndeclare interface GuardOptions {\n    someProperty: string;\n}\n\ndeclare class Guard {\n    constructor(options: GuardOptions);\n\n    check(property: string): Handler;\n}\n\ndeclare function guardFactory(options: GuardOptions): Guard;\n\nexport = guardFactory;\n</code></pre>\n\n<p>test.ts</p>\n\n<pre><code>import {Request, Response} from 'express';\n\nimport guardFactory = require('./index');\n\nconst guard = guardFactory({\n    someProperty: 'test',\n});\n\nconst middleware = guard.check('ping');\n\nconst req = {} as Request;\nconst res = {} as Response;\nconst next = function (err) {\n    assert.deepStrictEqual(null, err);\n};\n\nmiddleware(req, res, next);\n</code></pre>\n"}], "owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 55737149, "answer_count": 1, "score": 0, "last_activity_date": 1555542683, "creation_date": 1555532377, "last_edit_date": 1555537232, "question_id": 55735399, "link": "https://stackoverflow.com/questions/55735399/add-typings-for-prototyped-function", "title": "Add typings for prototyped function", "body": "<p>I have a JavaScript <code>function</code> in Node module like this (simplified):</p>\n\n<p><code>index.js</code>:</p>\n\n<pre><code>var BadRequestError = require('./error')\n\nGuard.prototype = {\n\n  /**\n   *\n   * @param {String} property\n   * @return {_middleware}\n   */\n  check: function (property) {\n    const _middleware = function _middleware (req, res, next) {\n      const ok = property === 'ping'\n      next(!ok ? new BadRequestError('doing_it_wrong', { message: `you're doing it wrong`}) : null)\n    }\n\n    return _middleware\n  }\n}\n\nmodule.exports = function (options) {\n  return new Guard(options)\n}\n</code></pre>\n\n<p><code>error.js</code>:</p>\n\n<pre><code>module.exports = function BadRequestError (code, error) {\n  Error.captureStackTrace(this, this.constructor)\n\n  this.name = this.constructor.name\n  this.message = error.message\n\n  this.code = code\n  this.status = 400\n  this.inner = error\n}\n\nutil.inherits(module.exports, Error)\n</code></pre>\n\n<p>The usage is as follows:</p>\n\n<p><code>test.js</code>:</p>\n\n<pre><code>var guard = require('../index')({\n  someProperty: 'test',\n})\nvar req = {}\nguard.check('ping')(req, res, function (err) {\n  assert.deepStrictEqual(null, err)\n})\n</code></pre>\n\n<p>I tried to create TypeScript typings for it using several approaches but none seems to work:</p>\n\n<p><code>index.d.ts</code>:</p>\n\n<pre><code>export declare interface IGuardOptions {\n    property: string\n}\n</code></pre>\n\n<p>exporting via <code>class</code> declaration:</p>\n\n<pre><code>export declare class Guard  {\n    constructor(options: IGuardOptions)\n    check(required: string | Array&lt;string&gt;): any\n}\n</code></pre>\n\n<p>exporting via <code>interface</code> declaration:</p>\n\n<pre><code>export declare interface Guard {\n    check(property: string): any\n}\nexport declare type GuardConstructor = new(options: IGuardOptions) =&gt; Guard\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1555531222, "post_id": 55735038, "comment_id": 98148590, "body": "Sorry, it says the following: ERROR: Uncaught (in promise): Error: Cannot fins module \u2018app/user/user.module\u2019"}, {"owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1555531356, "post_id": 55735038, "comment_id": 98148638, "body": "@R.Richards , I\u2019ve checked the code three times but cannot find why this error occurred. That\u2019s the first time I am trying to divide my routing"}, {"owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "reply_to_user": {"reputation": 21295, "user_id": 5437671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ZlWc.png?s=128&g=1", "display_name": "R. Richards", "link": "https://stackoverflow.com/users/5437671/r-richards"}, "edited": false, "score": 0, "creation_date": 1555531589, "post_id": 55735038, "comment_id": 98148748, "body": "@R.Richards I tried to play around with the module path but it didn\u2019t work as well. From where should the path start to my ChildRoute, from the root or any other place? And should there be hashtag separating path with the module name?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1555532657, "post_id": 55735038, "comment_id": 98149147, "body": "Have you tried using relative path for your lazy loaded module?"}, {"owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1555532858, "post_id": 55735038, "comment_id": 98149231, "body": "@yurzui , my app-routing.module.ts is on the same level with user folder which includes my file user.module.ts. In my app-routing.module I used the path like: \u2018user/user.module#UserModule\u2019 did you mean that?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 4, "creation_date": 1555532964, "post_id": 55735038, "comment_id": 98149267, "body": "Something like <code>&#39;.&#47;user&#47;user.module#UserModule&#39;</code>"}, {"owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1555533368, "post_id": 55735038, "comment_id": 98149412, "body": "@yurzui , Thank you! It helped"}], "owner": {"reputation": 41, "user_id": 5389101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cea734546eee577ad20c801febf937a?s=128&d=identicon&r=PG&f=1", "display_name": "Valeryi Oleinyk", "link": "https://stackoverflow.com/users/5389101/valeryi-oleinyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 2, "answer_count": 0, "score": 0, "last_activity_date": 1555532547, "creation_date": 1555530728, "last_edit_date": 1555532547, "question_id": 55735038, "link": "https://stackoverflow.com/questions/55735038/where-have-i-made-a-mistake-in-angular-routing", "title": "Where have I made a mistake in Angular Routing?", "body": "<p>I am trying to put some of my routings outside of the main Routing but I've got an error: Uncaught (in promise): Error: Cannot find module \u2018app/user/user.module\u2019</p>\n\n<p>I've got two routing files and two module files in my application: MainRouting and UserRouding </p>\n\n<pre><code>\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [\n  { path: '', pathMatch: 'full', loadChildren: 'app/user/user.module#UserModule' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n\n\n</code></pre>\n\n<pre><code>// Routing Module for Child-Components - User | Requests\n\nimport { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from '@angular/router';\n\n// Child Components\nimport { CreateComponent } from './create/create.component';\nimport { EditComponent } from './edit/edit.component';\nimport { ListComponent } from './list/list.component';\n\nconst routes: Routes = [\n  { path: 'create', component: CreateComponent },\n  { path: '', component: ListComponent },\n  { path: 'edit/:id', component: EditComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\n\nexport class UserRoutingModule {}\n\n\n</code></pre>\n\n<pre><code>\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { UserRoutingModule } from './user-routing.module';\n\nimport { EditComponent } from './edit/edit.component';\nimport { CreateComponent } from './create/create.component';\nimport { ListComponent } from './list/list.component';\n\n@NgModule({\n  imports: [ CommonModule, UserRoutingModule ],\n  declarations: [ EditComponent, CreateComponent, ListComponent ]\n})\n\nexport class UserModule {}\n\n\n</code></pre>\n\n<p>I want to separate my routings and modules as explicitly as it's possible</p>\n"}, {"tags": ["angular", "typescript", "sass"], "owner": {"reputation": 11, "user_id": 11375731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0861573d5deb31b19acf1acad98aebbb?s=128&d=identicon&r=PG&f=1", "display_name": "DeutscheBahn", "link": "https://stackoverflow.com/users/11375731/deutschebahn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555587342, "creation_date": 1555530725, "last_edit_date": 1555587342, "question_id": 55735037, "link": "https://stackoverflow.com/questions/55735037/resetting-staggering-animation-delay-on-newly-generated-elements", "title": "Resetting staggering animation delay on newly generated elements", "body": "<p>I am trying to implement a stagger animation when my page is loaded by getting an array of users from my API, then assigning this array to a local variable which is bound to a table with ngFor which then loops and displays the values.</p>\n\n<p>I am currently using scss to create an animation delay variable which loops a finite number of times. The initial elements load and stagger just fine but when a new element is added to the array variable, it keeps the last used stagger delay value which causes it to appear much later into the view.</p>\n\n<p>I have tried using Angulars built in stagger function with animations but it does not seem to work. I have seen some github reports which say that its an issue with query. I can create a basic animation which works fine but when using stagger inside of query then the animations just dont fire.\nHere is the link to said github report:\n<a href=\"https://github.com/angular/angular/issues/19786\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/19786</a></p>\n\n<p>Here is my scss file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.userrow{\r\n  animation: .3s ease-in-out both fade-in-entry;\r\n  //animation-delay: .5s;\r\n}\r\n\r\n\r\n\r\n@keyframes fade-in-entry{\r\n  0%{\r\n    opacity: 0;\r\n    transform: translateX(+100%);\r\n  }\r\n\r\n  100%{\r\n    opacity:1;\r\n    transform: translateX(0);\r\n  }\r\n\r\n}\r\n\r\n@for $i from 1 through 21 {\r\n  .userrow:nth-child(#{$i}) {\r\n    animation-delay: #{$i * 0.2}s;\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And the HTML</p>\n\n<p></p>\n\n<pre><code>&lt;tr style = \"background: lightblue;\" &gt;\n  &lt;th&gt;UserID&lt;/th&gt;\n  &lt;th&gt;UserName&lt;/th&gt;\n  &lt;th&gt;FirstName&lt;/th&gt;\n  &lt;th&gt;Delete&lt;/th&gt;\n&lt;/tr&gt;\n\n&lt;tr *ngFor='let user of _userService.users' class=\"userrow\"&gt;\n\n  &lt;td&gt;{{user.userID}}&lt;/td&gt;\n  &lt;td&gt;{{user.userName}}&lt;/td&gt;\n  &lt;td&gt;{{user.firstName}}&lt;/td&gt;\n  &lt;td&gt;&lt;button (click)=\"deleteUser(user.userID)\"&gt;Delete&lt;/button&gt;&lt;/td&gt;\n\n\n&lt;/tr&gt;\n</code></pre>\n\n<p></p>\n\n<p>I have a separate form component which takes a user name and first name and posts a new user object to the database. It is then provided with a JSON which includes the newly created User as well as a generated ID number. I then push this user to the local array and it is added to the table. I would like when the user is added to the array, it still maintains animation but appears as soon as its added to the array, and not with a long delay because its using the previous delay variable.</p>\n\n<p>Furthermore, I would also like to have a way to delete these elements from the view when the user clicks delete, and then have the table reflect the change without refreshing the whole table and triggering all the rows animations again.</p>\n"}, {"tags": ["typescript", "vue.js", "mocha.js", "ts-node"], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 4511424, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uzO0H.jpg?s=128&g=1", "display_name": "Ramon-san", "link": "https://stackoverflow.com/users/4511424/ramon-san"}, "is_accepted": false, "score": 0, "last_activity_date": 1580206612, "creation_date": 1580206612, "answer_id": 59946486, "question_id": 55735011, "link": "https://stackoverflow.com/questions/55735011/how-to-include-vue-files-from-mocha-testing/59946486#59946486", "title": "How to include *.vue files from mocha testing", "body": "<p>When you run mocha, you can specify a glob to pick the files you want to run tests. Name your test files with this pattern to match the glob.</p>\n\n<p>i.e</p>\n\n<pre><code>mocha './tests/*.test.ts'\n// This only pick files ending in .test.ts on tests/ folder.\n</code></pre>\n\n<p>Some documentation: <a href=\"https://mochajs.org/#the-test-directory\" rel=\"nofollow noreferrer\">https://mochajs.org/#the-test-directory</a></p>\n"}], "owner": {"reputation": 81, "user_id": 5342573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/695c07155beb09e24ea47e191bafb92f?s=128&d=identicon&r=PG", "display_name": "abradas", "link": "https://stackoverflow.com/users/5342573/abradas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1580206612, "creation_date": 1555530632, "question_id": 55735011, "link": "https://stackoverflow.com/questions/55735011/how-to-include-vue-files-from-mocha-testing", "title": "How to include *.vue files from mocha testing", "body": "<p>in my project i use typescript and vue.js. I decided to write some unit test and tried to use mocha + ts-node. Problem is that when i run mocha it tries to load all files included *.vue which gives me error. Ts-node just doesn't know how to handle this extension. Is there any way to skip *.vue files?</p>\n"}, {"tags": ["json", "angular", "typescript", "rxjs", "angular7"], "comments": [{"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1555531511, "post_id": 55734980, "comment_id": 98148719, "body": "If your model definitions are really nothing but property lists, they are functionally equivalent to interfaces.  As such, there&#39;s no need to instantiate new objects, because nothing is gained -- TS enforces type checking for interfaces as well as classes. Just return the <code>Observable</code> to the component for rendering."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11375565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34516044e6a8ed45402e483bb968e4d?s=128&d=identicon&r=PG&f=1", "display_name": "wsattanuparp", "link": "https://stackoverflow.com/users/11375565/wsattanuparp"}, "edited": false, "score": 1, "creation_date": 1555606942, "post_id": 55735619, "comment_id": 98178065, "body": "Thanks for the response, this works as needed. Something to note is that I needed to cast the get function to fit the return value: <code>this.http.get&lt;ApiResponse&gt;(url);</code>"}, {"owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "reply_to_user": {"reputation": 23, "user_id": 11375565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34516044e6a8ed45402e483bb968e4d?s=128&d=identicon&r=PG&f=1", "display_name": "wsattanuparp", "link": "https://stackoverflow.com/users/11375565/wsattanuparp"}, "edited": false, "score": 0, "creation_date": 1555614425, "post_id": 55735619, "comment_id": 98181208, "body": "True, because we expect an <code>Observable&lt;ApiResponse&gt;</code>. Well done!"}], "tags": [], "owner": {"reputation": 1727, "user_id": 4423449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isOAr.jpg?s=128&g=1", "display_name": "Andrew Radulescu", "link": "https://stackoverflow.com/users/4423449/andrew-radulescu"}, "is_accepted": true, "score": 2, "last_activity_date": 1555533433, "creation_date": 1555533433, "answer_id": 55735619, "question_id": 55734980, "link": "https://stackoverflow.com/questions/55734980/how-do-i-map-a-json-object-with-nested-arrays-into-a-typescript-model/55735619#55735619", "title": "How do I map a JSON object with nested arrays into a typescript model?", "body": "<p>If your classes will not implement any new functionality you should use interfaces just to enforce strong types, otherwise is just boilerplate.\nAs you started you can derive your 4 interfaces like so and benefit from the Typescript safety check:</p>\n\n<pre><code>export interface ApiResponse{\n    status: Status,\n    owners: Owner[]\n}\nexport interface Status {\n    code: string,\n    message: string,\n    count: number\n}\nexport interface Owner{\n    ownerId: number,\n    name: string,\n    cars: Car[]\n}\nexport interface Car{\n    make: string;\n    year: string;\n    model: string;\n}\n</code></pre>\n\n<p>Your method that calls that API can be written like this:</p>\n\n<pre><code>getStatusAndOwners(url): Observable&lt;ApiResponse&gt; {\n    return this.http.get(url);\n}\n</code></pre>\n\n<p>When you will consume the data (in the subscribe block most probably) you will benefit from \"IntelliSense\" and strong typing.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 23, "user_id": 11375565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34516044e6a8ed45402e483bb968e4d?s=128&d=identicon&r=PG&f=1", "display_name": "wsattanuparp", "link": "https://stackoverflow.com/users/11375565/wsattanuparp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4545, "favorite_count": 0, "accepted_answer_id": 55735619, "answer_count": 1, "score": 2, "last_activity_date": 1555533433, "creation_date": 1555530489, "last_edit_date": 1555530831, "question_id": 55734980, "link": "https://stackoverflow.com/questions/55734980/how-do-i-map-a-json-object-with-nested-arrays-into-a-typescript-model", "title": "How do I map a JSON object with nested arrays into a typescript model?", "body": "<p>Suppose I had an api that returns the following JSON structure:</p>\n\n<pre><code>{\n  \"Response\": {\n    \"status\": {\n      \"code\": \"SUCCESS\",\n      \"message\": \"owner found\",\n      \"count\": \"1\"\n    },\n    \"owners\": [\n      {\n        \"ownerId\": \"12345\",\n        \"name\": \"Example Person\",\n        \"cars\": [\n          {\n            \"make\": \"Toyota\"\n            \"year\": \"2004\"\n            \"model\": \"Camry\"\n          } \n        ]\n      }\n    ] \n  }\n}\n</code></pre>\n\n<p>I want to map this json structure into these typescript models:</p>\n\n<pre><code>export class ApiResponse{\n  constructor(\n    public status: Status,\n    public owners: Owner[]\n  ) {}\n}\nexport class Status {\n  constructor(\n    public code: string,\n    public message: string,\n    public count: number\n  ) {}\n}\nexport class Owner{\n  constructor(\n  public ownerId: number,\n  public name: string,\n  public cars: Car[]\n  ) {}\n}\nexport class Car{\n  constructor(\n    public make: string;\n    public year: string;\n    public model: string;\n  )\n}\n</code></pre>\n\n<p>From my understanding of angular 7, you can use pipe and map from rxjs to achieve this:</p>\n\n<pre><code>this.http.get(url).pipe(\n      map((data: any[]) =&gt; data.map((item: any) =&gt; new ApiResponse(\n      new Status(\n        item.status.code,\n        item.status.message,\n        item.status.count),\n...\n</code></pre>\n\n<p>Using this I am able to map a JSON object, but I am unsure how to approach mapping arrays and nested arrays.</p>\n\n<p>How should I approach mapping a JSON with nested arrays? </p>\n"}, {"tags": ["java", "angular", "typescript", "spring-boot"], "comments": [{"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1555529986, "post_id": 55734685, "comment_id": 98148081, "body": "what about just use SetUserLoggedOut from admin endpoint .. and leave the frontend until next update and returning then a 401"}, {"owner": {"reputation": 15, "user_id": 11283605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jl2d6bAYYXA/AAAAAAAAAAI/AAAAAAAAAAc/24ZBCQ8XTZo/photo.jpg?sz=128", "display_name": "Nelson Kimaiga", "link": "https://stackoverflow.com/users/11283605/nelson-kimaiga"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1555530077, "post_id": 55734685, "comment_id": 98148111, "body": "<code>SetUserLoggedOut</code> only changes the logged_in flag in the database but the user still remains logged in."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1555530162, "post_id": 55734685, "comment_id": 98148149, "body": "what does &quot;logged_in&quot; mean in that context? the frontend still show &quot;logged in&quot;?"}, {"owner": {"reputation": 15, "user_id": 11283605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jl2d6bAYYXA/AAAAAAAAAAI/AAAAAAAAAAc/24ZBCQ8XTZo/photo.jpg?sz=128", "display_name": "Nelson Kimaiga", "link": "https://stackoverflow.com/users/11283605/nelson-kimaiga"}, "reply_to_user": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1555531693, "post_id": 55734685, "comment_id": 98148785, "body": "<code>logged_in</code> is the column in the users table that has a boolean flag that shows whether user is logged in or not."}, {"owner": {"reputation": 992, "user_id": 7776688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aQnX0.png?s=128&g=1", "display_name": "IEE1394", "link": "https://stackoverflow.com/users/7776688/iee1394"}, "edited": false, "score": 0, "creation_date": 1555539103, "post_id": 55734685, "comment_id": 98151320, "body": "i understand that ... so why not setting the flag to false from admin endpoint? next action on frontend get a 401 as response and the gui could show the logged out screen .. thats how it works with a web frontend ... if you want so send the logged of info the frontend, the webpage eighter has to poll some loggedinstatus or you have to use websockets .."}], "owner": {"reputation": 15, "user_id": 11283605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jl2d6bAYYXA/AAAAAAAAAAI/AAAAAAAAAAc/24ZBCQ8XTZo/photo.jpg?sz=128", "display_name": "Nelson Kimaiga", "link": "https://stackoverflow.com/users/11283605/nelson-kimaiga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1050, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555529146, "creation_date": 1555529146, "question_id": 55734685, "link": "https://stackoverflow.com/questions/55734685/log-out-user-and-terminate-session-by-admin-in-angular", "title": "Log out user and terminate session by admin in Angular", "body": "<p>I need to have a feature in my Angular application whereby the admin is able to logout and terminate the session of a user who is logged in to the system. My back-end is based on Spring Boot restful API with custom authentication. How can I manually logout the currently logged in user and terminate their session while using Angular? </p>\n\n<p>I have a controller that changes the flag in the 'logged_in' column in the user table in the database. However that does not log out the user nor terminate their session as desired, instead logs out the current user (admin) instead of the other user who is logged in.</p>\n\n<p>My angular code where I am making the API call:</p>\n\n<pre><code>    this.apiService.LogUserOut(this.userProfile).subscribe(res =&gt; {\n            this.blockUI.stop();\n            this.response = res;\n            // end user session\n\nthis.authService.logout(this.userProfile.username).subscribe(data =&gt; {});\n            this.router.navigate(['/auth']);\n            this.globalService.setAuth(false);\n            localStorage.removeItem('otc');\n });\n</code></pre>\n\n<p>Controller end-point:</p>\n\n<pre><code>// logout a logged-in user\n@PostMapping(value = \"/sysusers/logUserOut\")\npublic ResponseEntity&lt;?&gt; LogUserOut(@RequestBody User user) throws \n Exception {\n    System.out.println(\"User logged out: \" + user.getUsername());\n    userService.SetUserLoggedOut(user.getUsername());\n    return new ResponseEntity&lt;&gt;(new \n CustomResponse(CustomResponse.APIV, 201, true, \"You have logged the user \nout\"), HttpStatus.OK);\n} \n</code></pre>\n\n<p>I expect the system to filter and check if user is logged in such that when admin logs user out, the system is able to notify, otherwise the system should log the user out. I know how to log off current user  but have no idea how to force log out other users, so some help on this would be appreciated. Thanks.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1555527377, "post_id": 55733995, "comment_id": 98146986, "body": "Love the edit lol"}], "answers": [{"comments": [{"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "edited": false, "score": 0, "creation_date": 1555579657, "post_id": 55734562, "comment_id": 98162942, "body": "Analogy with runtime looping over type is genius and quite mind-bending..."}, {"owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "edited": false, "score": 0, "creation_date": 1555579659, "post_id": 55734562, "comment_id": 98162944, "body": "Analogy with runtime looping over type is genius and quite mind-bending..."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 3, "last_activity_date": 1555528663, "creation_date": 1555528663, "answer_id": 55734562, "question_id": 55733995, "link": "https://stackoverflow.com/questions/55733995/typescript-and-non-generic-type-parameter/55734562#55734562", "title": "TypeScript and non-generic type parameter", "body": "<p>Consider the interface</p>\n\n<pre><code>interface Foo {\n  a: string,\n  b: number\n}\n</code></pre>\n\n<p>and the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a></p>\n\n<pre><code>export type FeaturesMapEx&lt;T&gt; = {\n    [K in keyof T]?: T[K]; \n};\n</code></pre>\n\n<p>In such a mapped type we are <em>introducing</em> a new type parameter <code>K</code> (that's where it comes from) which is <em>iterating</em> over <code>keyof T</code>.  Assuming that <code>keyof T</code> is a union type, <code>K</code> iterates successively over each constituent of that union.  You can kind of think of it as the type-level version of the following run-time <code>for</code> loop:</p>\n\n<pre><code>function featuresMapEx(t: any) {\n    for (let k of Object.keys(t)) {\n        t[k];\n    }\n}\n</code></pre>\n\n<p>Note how <code>t</code> is introduced in the function signature (like the <code>T</code> in the type alias definition) while <code>k</code> is introduced in a loop only exists in the scope of that loop (like the <code>K</code> is introduced in the mapped type key, and only exists in the scope of the mapped type property).</p>\n\n<p>So <code>FeaturesMapEx&lt;Foo&gt;</code> becomes <code>{a: string, b: number}</code>.</p>\n\n<hr>\n\n<p>If I wrote the following JavaScript function instead:</p>\n\n<pre><code>function featuresMapEx(t: any, k: any) { // unused parameter here\n    for (let k of Object.keys(t)) { // oops\n        t[k];\n    }\n}\n</code></pre>\n\n<p>you can see that you are completely ignoring the <code>k</code> passed into the function, much like </p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = { // unused parameter here\n    [K in keyof T]?: T[K];  // oops\n};\n</code></pre>\n\n<p>ignores the <code>K</code> passed into <code>FeaturesMapEx&lt;T, K&gt;</code>.</p>\n\n<p>So this <code>FeaturesMapEx&lt;Foo, 'a'&gt;</code> still becomes <code>{a: string, b: number}</code>.</p>\n\n<hr>\n\n<p>As for your other syntax:</p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = {\n    [K]?: T[K]; // error\n};\n</code></pre>\n\n<p>That would no longer be a mapped type at all, but an <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#indexable-types\" rel=\"nofollow noreferrer\">index signature</a>, and you currently can't use <a href=\"https://github.com/Microsoft/TypeScript/pull/26797\" rel=\"nofollow noreferrer\">arbitrary key types in an index signature</a> (although this might happen after TS3.5 sometime).  A mapped type looks like an index signature but it isn't one.  Even if that ends up being part of the language, it wouldn't really be the same thing... it would probably act like this:</p>\n\n<pre><code>function featuresMapEx(t: any, k: any) {\n    t[k]; // just one thing\n}\n</code></pre>\n\n<p>That is, it wouldn't really iterate over anything.  You can kind of get this behavior now like this:</p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = Partial&lt;Record&lt;T, K&gt;&gt;\n</code></pre>\n\n<p>which is the same as the mapped type</p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = {\n  [P in K]?: T[K]\n}\n</code></pre>\n\n<p>but this <code>FeaturesMapEx&lt;Foo, keyof Foo&gt;</code> becomes <code>{a: string | number, b: string | number}</code>.  That is, the keys would be right, but their values would be the union of the values you expect.</p>\n\n<hr>\n\n<p>Anyway, I hope that the comparison to runtime functions helps it \"click\" for you.  Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 1, "last_activity_date": 1555529886, "last_edit_date": 1555529886, "creation_date": 1555528705, "answer_id": 55734573, "question_id": 55733995, "link": "https://stackoverflow.com/questions/55733995/typescript-and-non-generic-type-parameter/55734573#55734573", "title": "TypeScript and non-generic type parameter", "body": "<blockquote>\n  <p>...from where does the type K comes into first declaration, if it's not provided by generic type parameter?</p>\n</blockquote>\n\n<p>In your first declaration, the type <code>K</code> is introduced in the loop.</p>\n\n<pre><code>type FeaturesMapEx&lt;T&gt; = {\n    [K in keyof T]?: T[K]; // this is the loop\n};\n</code></pre>\n\n<p>Here is a loose analogy that uses a JavaScript function: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const someObj = {\r\n  foo: 'foo-value',\r\n  bar: 'bar-value',\r\n  baz: 'baz-value',\r\n}\r\n\r\nfunction featuresMapEx(T) {\r\n  return Object.keys(T).map(K =&gt; `${K}: ${T[K]}`);\r\n}\r\n\r\nconst result = featuresMapEx(someObj);\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": false, "score": 1, "last_activity_date": 1555530577, "last_edit_date": 1555530577, "creation_date": 1555529993, "answer_id": 55734873, "question_id": 55733995, "link": "https://stackoverflow.com/questions/55733995/typescript-and-non-generic-type-parameter/55734873#55734873", "title": "TypeScript and non-generic type parameter", "body": "<p>Technically speaking, there's no \"why\" here, it's just the way TS syntax work, we just have to learn it.</p>\n\n<p>The expression <code>[K in keyof T]</code> involves two <em>type operators</em>.</p>\n\n<ol>\n<li><code>keyof T</code>, the <strong>index type query operator</strong>, which is quite easy to understand, just infer the keys of an interface.</li>\n<li><strong>mapped type</strong>, this one is a bit tricky.</li>\n</ol>\n\n<pre><code>{ [/* one type param */ in /* some unique symbol union type value */]:  /* some type value */}\n</code></pre>\n\n<p>Yes you see me right, this whole thing, including pair of <code>{}</code> and <code>[]</code>, one column <code>:</code>, one <code>in</code> keyword, can be viewed as a <em>type operator</em> applicable to <em>two type value operands</em>. As of <code>K</code> is a param here, not a value.</p>\n\n<p><em>(actually I'm not sure if you can call such thing operator anymore? more like a flow control structure, either way, it's a fixed thing that has rules in its syntax and usage)</em></p>\n\n<p>Again it's a whole thing. You cannot add other member to it, that gives you syntax error.</p>\n\n<pre><code>type foo&lt;T&gt; = {\n  [K in keyof T]: boolean;\n  other: boolean;   // &lt;-- syntax error\n}\n</code></pre>\n\n<hr>\n\n<p>But we as human has a need to conceptually understand the \"why\"! I have an analogue for you. Think of generic type params as \"degrees of freedom\", or independent variables.</p>\n\n<p>If one piece of information exists independent of others, it then qualifies as a generic param. So in your example:</p>\n\n<pre><code>type foo&lt;T, K extends keyof T&gt; = {\n    [K in keyof T]?: T[K];\n};\n</code></pre>\n\n<p><code>K</code> does not qualify as a param, cus all about <code>K</code> can be inferred from <code>T</code>, it has 0 degrees of freedom.</p>\n"}], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1555530577, "creation_date": 1555526105, "last_edit_date": 1555526405, "question_id": 55733995, "link": "https://stackoverflow.com/questions/55733995/typescript-and-non-generic-type-parameter", "title": "TypeScript and non-generic type parameter", "body": "<p>This is kind of question that I'm unable even to categorize, but let's give it a try. Consider following mapped type definition:</p>\n\n<pre><code>type FeaturesMapEx&lt;T&gt; = {\n    [K in keyof T]?: T[K];\n};\n</code></pre>\n\n<p>Which is valid, generic mapped type, that uses generic type <code>T</code> and <code>T</code>'s fields (keys) as own index type. Those fields holds value of respective <code>T[K]</code> type, which basically translates to </p>\n\n<p><em>\"Hire you have a generic FeaturesMapEx type of <code>T</code>. Use <code>T</code> to obtain it's fields and use them as your own. If <code>T[K]</code> is type <code>X</code>, then <code>FeaturesMapEx&lt;T&gt;[K]</code> is same type\"</em> </p>\n\n<p>Ok. Now the thing I don't really get, why the declaration does not need to be like following, using <strong>two</strong> generic parameters, one to represent Type, second to represent Keys of those Type:</p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = {\n    [K in keyof T]?: T[K];\n};\n</code></pre>\n\n<p>Above declaration is valid, but K is unused, <code>[K in keyof T]</code> uses different <code>K</code>, than one defined in generic declaration.</p>\n\n<p>Or even better (but not valid) declaration that makes more common sense for me:</p>\n\n<pre><code>export type FeaturesMapEx&lt;T, K extends keyof T&gt; = {\n    [K]?: T[K];\n};\n</code></pre>\n\n<p>Which gives typescritp error as following:</p>\n\n<blockquote>\n  <p>A computed property name in a type literal must refer to an expression\n  whose type is a literal type or a 'unique symbol' type.ts(1170) </p>\n  \n  <p>'K'only refers to a type, but is being used as a value here.ts(2693)</p>\n</blockquote>\n\n<p>While feeling comfortable with usage of mapped types and generic this example always makes me a bit dizzy when I've got to write it on my own after some break, I'm always falling into later presented patterns (two generics or \"type used as value\" error)... can anyone explain is my confusion common or I'm missing something?</p>\n\n<p>Bonus question is, from where does the type <code>K</code> comes into first declaration, If it's not provided by generic type parameter?</p>\n\n<p>Thanks for any help, I'm appreciate it.</p>\n\n<h2>Edit</h2>\n\n<p>Basically it's a trap to summon Titian Cernicova-Dragomir :)</p>\n"}, {"tags": ["angular", "typescript", "ng2-dragula"], "answers": [{"tags": [], "owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "is_accepted": true, "score": 0, "last_activity_date": 1555527951, "creation_date": 1555527951, "answer_id": 55734399, "question_id": 55733562, "link": "https://stackoverflow.com/questions/55733562/ng2-dragula-and-angular-pipes/55734399#55734399", "title": "ng2 Dragula and Angular pipes", "body": "<p>It is possible to use Angular Pipes with Dragula.\nThe part to note is that the Angular Pipe is reading the data returned by the Dragula object, which is read and transformed with each drop, so the state of the data at the time of the drop event was what was causing my specific error.</p>\n"}], "owner": {"reputation": 117, "user_id": 6227484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eef6c16e1f437341a894343448f61b7?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Gardner", "link": "https://stackoverflow.com/users/6227484/bill-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55734399, "answer_count": 1, "score": 0, "last_activity_date": 1555527951, "creation_date": 1555524258, "question_id": 55733562, "link": "https://stackoverflow.com/questions/55733562/ng2-dragula-and-angular-pipes", "title": "ng2 Dragula and Angular pipes", "body": "<p>I have a table of values from a database that I've made sortable with Dragula.  The table rows can be dragged and dropped and everything seems to work as designed.  The problem is that I have a custom pipe applied to three of the cell values in each row to change it's database value to a human readable value (ie: 'N' to 'Normal' &amp; 'O' to 'Off-line', etc).  When I apply the pipes, the table loads and displays correctly; the pipes work as expected.  However, when I drag and drop, on the drop event the table breaks and the values with pipes applied to them become blank.</p>\n\n<p>When I remove the pipes, the table functions as expected, but the values are of course not human readable.</p>\n\n<p>My HTML with the dragula directive in place: </p>\n\n<pre><code>    &lt;tbody class='wrapper' dragula='RIDRAG' id=\"left\"&gt;\n      &lt;tr class='container' *ngFor=\"let ri of this.riRow; let i = index\"&gt;\n        &lt;td&gt;&lt;img src=\"./assets/images/Hamburger_icon.svg.png\" style=\"width: 15px; padding-left: 5px;\"&gt;&lt;/td&gt;\n        &lt;td&gt;{{i + 1}}&lt;/td&gt;\n        &lt;td&gt;{{ri.ri}}&lt;/td&gt;\n        &lt;td&gt;{{ri.classification}}&lt;/td&gt;\n        &lt;td&gt;{{ri.type}}&lt;/td&gt;\n        &lt;td&gt;{{ri.shd}}&lt;/td&gt;\n        &lt;td&gt;\n          &lt;app-edit-ri-row [noGroupFlag]=\"this.noGroupFlag || disabledCheck()\"  (editEmit)=\"receiveEditEmit($event)\" [riRow]=\"ri\"&gt;&lt;/app-edit-ri-row&gt;\n          &lt;button style=\"width:50%;\" type=\"submit\" name=\"delete\" [disabled]=\"this.noGroupFlag || disabledCheck() === true\"\n            class=\"btn btn-danger rounded-0\" (click)=\"removeRiRow(i)\"&gt;\n            &lt;fa-icon [icon]=\"['fas', 'trash-alt']\" size=\"med\"&gt;&lt;/fa-icon&gt;&amp;nbsp;\n          &lt;/button&gt;\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n\n<p>My ts component showing how I create dragula instance and parse the data that it returns to me.</p>\n\n<pre><code>    this.dragula.createGroup('RIDRAG', {\n      removeOnSpill: false,\n      revertOnSpill: true\n    });\n    this.subs.add(this.dragula.drop('RIDRAG')\n      .pipe(map(data =&gt; {\n        this.varX = [];\n        this._STRINGARRAY = [];\n        this._XARRAY = [];\n        this._CHILDREN = data.source.children;\n        this._xARRAY = Object.values(this._CHILDREN);\n        for (let item in this._RIARRAY) {\n          this._STRINGARRAY.push(this._RIARRAY[item].innerText);\n        }\n        let index: number = 0;\n        for (let item in this._STRINGARRAY) {\n          let tempString = this._STRINGARRAY[item].trim();\n          this._XARRAY.push(tempString.split('\\t'));\n        }\n        for (let item = 0; item &lt; this._XARRAY.length; item++) {\n          let _SINGLETON: object;\n          if (this._XARRAY[item][1]) {\n            this._VAR2 = this._XARRAY[item][1];\n            this._VAR3 = this._XARRAY[item][2];\n            this._VAR4 = this._XARRAY[item][3];\n            this._VAR5 = this._XARRAY[item][4];\n            _SINGLETON = {\n              var1: index + 1,\n              var2: this._VAR2,\n              var3: this._VAR3,\n              var4: this._VAR4,\n              var5: this._VAR5\n            };\n            index++;\n            this.bar.push(_SINGLETON);\n          }\n        }\n        this.foo.emit(this.riRow);\n      }))\n      .subscribe()\n    );\n</code></pre>\n\n<p>Is it possible to use Angular pipes with Dragula?</p>\n"}, {"tags": ["angular", "typescript", "mouseevent"], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555523927, "creation_date": 1555523927, "answer_id": 55733485, "question_id": 55733469, "link": "https://stackoverflow.com/questions/55733469/property-clientx-does-not-exist-on-type-event-angular-6/55733485#55733485", "title": "Property &#39;clientX&#39; does not exist on type &#39;Event&#39; Angular 6", "body": "<p>You can declarate the parameter type where you are passing the event as follows,</p>\n\n<pre><code>someFunc(event: MouseEvent): void  { \n  if (event.clientX&lt; 260){\n    return [x+20, ny - 190]\n  }\n  else {\n    return [x-240, ny - 190]\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 689, "user_id": 9899126, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w3N3oKCO2bw/AAAAAAAAAAI/AAAAAAAAGaw/bT7zqY0zqy4/photo.jpg?sz=128", "display_name": "LaurenAH", "link": "https://stackoverflow.com/users/9899126/laurenah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555524030, "creation_date": 1555523840, "last_edit_date": 1555524030, "question_id": 55733469, "link": "https://stackoverflow.com/questions/55733469/property-clientx-does-not-exist-on-type-event-angular-6", "title": "Property &#39;clientX&#39; does not exist on type &#39;Event&#39; Angular 6", "body": "<p>I'm using TypeScript with Angular 6 and am trying to utilize my mouse events. </p>\n\n<p>However, upon this code:</p>\n\n<pre><code>if (event.clientX &lt; 260){\n  return [x + 20, ny - 190]\n}\nelse {\n  return [x - 240, ny - 190]\n}\n</code></pre>\n\n<p>I receive an error stating </p>\n\n<blockquote>\n  <p>\"Property 'clientX' does not exist on type 'Event'.</p>\n</blockquote>\n\n<p>The code still functions as intended. </p>\n\n<p>How can I resolve this so it doesn't seem I have an error?\nThanks!</p>\n"}, {"tags": ["javascript", "typescript", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "edited": false, "score": 0, "creation_date": 1555528872, "post_id": 55733654, "comment_id": 98147629, "body": "Excellent answer and it helped me to find this code to handle it. But i would suggest against extending Date. <a href=\"https://stackoverflow.com/a/11888430/2335137\">stackoverflow.com/a/11888430/2335137</a>"}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 1, "last_activity_date": 1555524659, "creation_date": 1555524659, "answer_id": 55733654, "question_id": 55732216, "link": "https://stackoverflow.com/questions/55732216/why-is-my-date-cloning-1-hour-off-in-my-travis-ci-tests/55733654#55733654", "title": "Why is my Date cloning 1 hour off in my Travis CI tests", "body": "<p>What time zone is the Travis CI system running in?  My time zone doesn't recognize DST and I get the same result as Travis CI.  Since you are crossing a time zone boundary (in the US at least, currently it is April and you are going backwards to February) then the behavior will be different depending on whether the timezone recognizes DST or not.</p>\n"}, {"comments": [{"owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "edited": false, "score": 0, "creation_date": 1555531579, "post_id": 55734731, "comment_id": 98148747, "body": "Yes i have used moment before but just needed a simple way to calculate dates for less exact scenarioa like cookie life etc and didnt want to have to add another lib. Guess i was a bit naive but i will give it a shot as its a Nice to have feature in my library."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "reply_to_user": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "edited": false, "score": 1, "creation_date": 1555534239, "post_id": 55734731, "comment_id": 98149740, "body": "If you&#39;re going to implement yourself, then you should check for overflow after each add step and adjust accordingly.  You might also want to look at Luxon&#39;s <code>DateTime.plus(Duration)</code>, or Date-fns&#39;s <code>addYears</code>, <code>addMonths</code>, <code>addDays</code>, etc.  Either way, you can&#39;t test the result by milliseconds deltas.  You&#39;ll have to find another way, such as testing specific inputs instead of &quot;now&quot;, and examining properties of the outputs."}, {"owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "edited": false, "score": 0, "creation_date": 1555574714, "post_id": 55734731, "comment_id": 98160314, "body": "This might be a silly question but does that not mean that month and years are doing the right thing semantically since April 4 - 2month = Feb 4 nomatter what time zone we are in, and only hours and below can cause strange behavior with DST?"}], "tags": [], "owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "is_accepted": false, "score": 1, "last_activity_date": 1555529699, "last_edit_date": 1555529699, "creation_date": 1555529326, "answer_id": 55734731, "question_id": 55732216, "link": "https://stackoverflow.com/questions/55732216/why-is-my-date-cloning-1-hour-off-in-my-travis-ci-tests/55734731#55734731", "title": "Why is my Date cloning 1 hour off in my Travis CI tests", "body": "<p>By testing for differences in millisecond timestamps when your input is \"now\", you're assuming that all of your units will always have the same number of associated milliseconds.  This is incorrect.</p>\n\n<ul>\n<li>Not every year has the same number of days.  Common years have 365.  Leap years have 366.</li>\n<li>Not every month has the same number of days.  They range from 28 to 31.</li>\n<li>Not every local day has 24 hours.  Time zone offset transitions (such as caused by daylight saving time or by changes in standard time) can cause a given local day to be 23, 23.5, 24, 24.5, or 25 hours long.</li>\n</ul>\n\n<p>Since you are working in local time, you will be affected by the local time zone.  I assume that one of your environments has a time zone transition within the range you are testing, and the other does not.</p>\n\n<p>There are some other problems with the approach you are taking to apply the interval.  Consider if the input date was 2019-01-31 and the interval was <code>+1M1d</code>.  You'd perhaps expect that to be 2019-03-01, but your code will give 2019-03-04 due to the overflow that occurs as each step is applied.  The code to do this correctly is complex, and is usually delegated to libraries like <a href=\"http://momentjs.com/\" rel=\"nofollow noreferrer\">Moment</a>, <a href=\"https://moment.github.io/luxon/\" rel=\"nofollow noreferrer\">Luxon</a>, and <a href=\"https://date-fns.org/\" rel=\"nofollow noreferrer\">Date-fns</a>.</p>\n"}], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 55733654, "answer_count": 2, "score": 0, "last_activity_date": 1555529699, "creation_date": 1555518495, "question_id": 55732216, "link": "https://stackoverflow.com/questions/55732216/why-is-my-date-cloning-1-hour-off-in-my-travis-ci-tests", "title": "Why is my Date cloning 1 hour off in my Travis CI tests", "body": "<p>I have a function that returns a Date object modified by a delta like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    export function getDate(delta: string = \"\", start?: Date): Date {\n        const date = start ? new Date(start.getTime()) : new Date();\n        const rel = delta.split(\" \").join(\"\");\n        const [, sign, years, months, days, hours, mins, secs] = toArray(/([+-])?(?:(\\d+)Y)?(?:(\\d+)M)?(?:(\\d+)d)?(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?/.exec(rel) as ArrayLike&lt;string&gt;);\n        const plus = sign !== \"-\"; \n        if (years) date.setFullYear(date.getFullYear() + (plus ? +years : -years));\n        if (months) date.setMonth(date.getMonth() + (plus ? +months : -months));\n        if (days) date.setDate(date.getDate() + (plus ? +days : -days));\n        if (hours) date.setHours(date.getHours() + (plus ? +hours: -hours));\n        if (mins) date.setMinutes(date.getMinutes() + (plus ? +mins: -mins));\n        if (secs) date.setSeconds(date.getSeconds() + (plus ? +secs : -secs));\n        return date;\n    }\n</code></pre>\n\n<p>It seem to work just fine in node and chrome and my tests pass locally. But when I push to npm the tests fail in Travis CI, like this:\n<a href=\"https://travis-ci.org/AllNamesRTaken/GoodCore\" rel=\"nofollow noreferrer\">Travis CI</a></p>\n\n<p>What I am sadly blind to is why the first test pass and the second fail with exactly 1 hour. Is there some CET / UCT magic i am missing? Am I missing out on some special thing with how the Date object works in various node versions?</p>\n\n<p>You can see the test code in travis (link above) but I will add it here as well:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    const now = new Date();\n    let pos = Util.getDate(\"+1Y2M3d4h5m6s\", now);\n    expect(now.getTime() - pos.getTime()).toBe(-37166706000); // passes locally and in travis\n    let neg = Util.getDate(\"-1Y2M3d4h5m6s\", now);\n    expect(now.getTime() - neg.getTime()).toBe(36903906000); // passes locally but fails in travis\n</code></pre>\n\n<p>Thankful for some wisdom.</p>\n"}, {"tags": ["typescript", "cordova", "ionic-framework", "types", "cordova-plugins"], "comments": [{"owner": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1555572026, "post_id": 55732082, "comment_id": 98159103, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17470202/jquery-using-navigator-notification-alert\">JQuery - Using navigator.notification.alert</a>"}, {"owner": {"reputation": 529, "user_id": 4731319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a1f36e03f1c886899d84773345981b3?s=128&d=identicon&r=PG&f=1", "display_name": "gpro", "link": "https://stackoverflow.com/users/4731319/gpro"}, "edited": false, "score": 1, "creation_date": 1555966018, "post_id": 55732082, "comment_id": 98270584, "body": "If this is a typescript error, then something is fishy with the installed types for the plugin. Do you have the .d.ts file? If so is it contains the navigator class/interface with the notification class/interface?"}, {"owner": {"reputation": 1550, "user_id": 4742047, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b778f023bdfb6113c9af3acb4fc37895?s=128&d=identicon&r=PG&f=1", "display_name": "Michael B", "link": "https://stackoverflow.com/users/4742047/michael-b"}, "reply_to_user": {"reputation": 2314, "user_id": 8569519, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/JhomB.jpg?s=128&g=1", "display_name": "scipper", "link": "https://stackoverflow.com/users/8569519/scipper"}, "edited": false, "score": 0, "creation_date": 1557225869, "post_id": 55732082, "comment_id": 98685401, "body": "@scipper definitively not a duplicate of your linked question... \ud83d\ude44"}, {"owner": {"reputation": 276, "user_id": 1844498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16848cf6948061202e7b3c9d34f8c7ef?s=128&d=identicon&r=PG", "display_name": "Ricardo Piccoli", "link": "https://stackoverflow.com/users/1844498/ricardo-piccoli"}, "edited": false, "score": 0, "creation_date": 1572420433, "post_id": 55732082, "comment_id": 103549222, "body": "Was you able to solve the problem @joe-scotto?"}], "answers": [{"tags": [], "owner": {"reputation": 276, "user_id": 1844498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16848cf6948061202e7b3c9d34f8c7ef?s=128&d=identicon&r=PG", "display_name": "Ricardo Piccoli", "link": "https://stackoverflow.com/users/1844498/ricardo-piccoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1572420952, "creation_date": 1572420952, "answer_id": 58620501, "question_id": 55732082, "link": "https://stackoverflow.com/questions/55732082/error-property-notification-does-not-exist-on-type-navigator/58620501#58620501", "title": "Error: Property &#39;notification&#39; does not exist on type &#39;Navigator&#39;", "body": "<p>The way I solved was to add this to my typings.json:</p>\n\n<pre><code>    \"dialogs\": \"github:apache/cordova-plugin-dialogs/types/index.d.ts\"\n</code></pre>\n\n<p>My project is old and still use typings. I use grunt to build, so I instal the typings.</p>\n"}], "owner": {"reputation": 7978, "user_id": 3418376, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BdAlM.jpg?s=128&g=1", "display_name": "Joe Scotto", "link": "https://stackoverflow.com/users/3418376/joe-scotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 877, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1572420952, "creation_date": 1555517983, "question_id": 55732082, "link": "https://stackoverflow.com/questions/55732082/error-property-notification-does-not-exist-on-type-navigator", "title": "Error: Property &#39;notification&#39; does not exist on type &#39;Navigator&#39;", "body": "<p>I'm attempting to use the ionic plugin <code>cordova-plugin-dialogs</code>, the plugin is working and I am able to call <code>navigator.notification.alert()</code> and create a native alert prompt but whenever my app builds, I get the following console error:</p>\n\n<blockquote>\n  <p>error TS2339: Property 'notification' does not exist on type 'Navigator'.</p>\n</blockquote>\n\n<p>I read online that this could be related to types but I have confirmed that the types for this plugin are installed.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 1, "creation_date": 1555516274, "post_id": 55731501, "comment_id": 98141825, "body": "what if you remove <code>url</code> from the return statement. <code>return this.http.request(req, {observe: &#39;response&#39;})...</code>"}, {"owner": {"reputation": 33, "user_id": 2377144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acbb7a4d775d8992b76146369c1cf8ff?s=128&d=identicon&r=PG", "display_name": "Jones", "link": "https://stackoverflow.com/users/2377144/jones"}, "reply_to_user": {"reputation": 3786, "user_id": 3131085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af46eb34957e6fdc051e365e5853aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jason White", "link": "https://stackoverflow.com/users/3131085/jason-white"}, "edited": false, "score": 0, "creation_date": 1555516445, "post_id": 55731501, "comment_id": 98141921, "body": "now it gives Argument of type &#39;HttpRequest&lt;{}&gt;&#39; is not assignable to parameter of type &#39;string&#39;."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1555516528, "post_id": 55731501, "comment_id": 98141963, "body": "There are 17 overloads of the request method. A single one of them (the first one listed in the documentation) takes an HttpRequest as argument, and it&#39;s the only argument of the method. But you&#39;re passing 3 arguments. The url and the options are <b>already</b> specified in the HttpRequest. Why woud you pass them a second time when calling the method?"}, {"owner": {"reputation": 33, "user_id": 2377144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acbb7a4d775d8992b76146369c1cf8ff?s=128&d=identicon&r=PG", "display_name": "Jones", "link": "https://stackoverflow.com/users/2377144/jones"}, "edited": false, "score": 0, "creation_date": 1555516834, "post_id": 55731501, "comment_id": 98142110, "body": "Yes, you are right. it works now. Did not see that."}], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 7953755, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10159102321335497/picture?type=large", "display_name": "Pari Baker", "link": "https://stackoverflow.com/users/7953755/pari-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1555516836, "creation_date": 1555516836, "answer_id": 55731727, "question_id": 55731501, "link": "https://stackoverflow.com/questions/55731501/angular-argument-is-not-assignable-httpclient/55731727#55731727", "title": "Angular argument is not assignable (Httpclient)", "body": "<p>The documentation says you can pass the type HttpRequest. So when you construct it pass that. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  const req = new HttpRequest('GET', url, {\r\n      reportProgress: true\r\n    });\r\n\r\n    return this.http.request(req).pipe(\r\n     map(event =&gt; this.getEventMessage(event, file)),\r\n      retry(3),\r\n      catchError(this.handleError));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 2377144, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/acbb7a4d775d8992b76146369c1cf8ff?s=128&d=identicon&r=PG", "display_name": "Jones", "link": "https://stackoverflow.com/users/2377144/jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1555518142, "creation_date": 1555516062, "last_edit_date": 1555518142, "question_id": 55731501, "link": "https://stackoverflow.com/questions/55731501/angular-argument-is-not-assignable-httpclient", "title": "Angular argument is not assignable (Httpclient)", "body": "<p>I am using \"@angular/common\": \"^6.0.7\", and the documentation says that a httclient.request can either take in a string or HttpRequest. Yet when I pass in HttpRequest i get error TS2345: Argument of type 'HttpRequest&lt;{ reportProgress: boolean; observe: string; }>' is not assignable to parameter of type 'string'.</p>\n\n<p>Below is the code.</p>\n\n<pre><code>const req = new HttpRequest('GET', url, {\n  reportProgress: true,\n  observe: 'response'\n});\n\nreturn this.http.request(\n  req, url, {\n    observe: 'response'\n  }).pipe(\n  retry(3),\n  catchError(this.handleError));\n</code></pre>\n\n<p>Thanks.</p>\n\n<p>Solution</p>\n\n<p>Look at the function used. In my case</p>\n\n<pre><code> return this.http.request(\n          req.pipe(\n          retry(3),\n          catchError(this.handleError));\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11191341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c2a6f7ac56de5713026e6a4d874292?s=128&d=identicon&r=PG&f=1", "display_name": "csidorenko", "link": "https://stackoverflow.com/users/11191341/csidorenko"}, "edited": false, "score": 0, "creation_date": 1555519300, "post_id": 55731448, "comment_id": 98143351, "body": "Unfortunately in this situation I need to do both. The trigger needs to go off when clicking on an element and once the menu is open I have events that open the next or previous menu."}], "tags": [], "owner": {"reputation": 391, "user_id": 11134855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UDLPa.jpg?s=128&g=1", "display_name": "Ian Preglo", "link": "https://stackoverflow.com/users/11134855/ian-preglo"}, "is_accepted": false, "score": 0, "last_activity_date": 1555515891, "creation_date": 1555515891, "answer_id": 55731448, "question_id": 55731302, "link": "https://stackoverflow.com/questions/55731302/programmatically-pass-data-to-matmenutrigger/55731448#55731448", "title": "Programmatically pass data to MatMenuTrigger", "body": "<p>if your <code>[matMenuTriggerData]</code> directive is already added in your component, then placing a variable to bind to the HTML element will just work fine.</p>\n\n<p>ie. in your .ts file</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.menuData = this.data[i];\n</code></pre>\n\n<p>and in your html file</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input [matMenuTriggerData]=\"menuData\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11191341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c2a6f7ac56de5713026e6a4d874292?s=128&d=identicon&r=PG&f=1", "display_name": "csidorenko", "link": "https://stackoverflow.com/users/11191341/csidorenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1556047251, "last_edit_date": 1556047251, "creation_date": 1555522927, "answer_id": 55733267, "question_id": 55731302, "link": "https://stackoverflow.com/questions/55731302/programmatically-pass-data-to-matmenutrigger/55733267#55733267", "title": "Programmatically pass data to MatMenuTrigger", "body": "<p>Turns out I was thinking about this the wrong way. Since I already have many triggers with the right data attached, I simply needed to open the correct trigger.</p>\n\n<pre><code>@ViewChildren(MatMenuTrigger) private menuTriggers: QueryList&lt;MatMenuTrigger&gt;;\n</code></pre>\n\n<p>Then I iterated through the triggers until I got the one with the right <code>menuData.data</code></p>\n\n<pre><code>for (let i: number = this.menuTriggers.toArray().length - 1; i &gt;= 0; i--)\n{\n    if (this.menuTriggers.toArray()[i].menuData.data.Name == this.currentInput.Name)\n    {\n        triggerIndex = i;\n        break;\n    }\n}\n</code></pre>\n\n<p>I also found a way to do it completely from the ts with a click handler</p>\n\n<pre><code>public openMenu(input): void\n{\n    this.menuTrigger.menuData = { data: input };\n    this.menuTrigger.openMenu();\n}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>[matMenuTriggerData]=\"{ data: input }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11191341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0c2a6f7ac56de5713026e6a4d874292?s=128&d=identicon&r=PG&f=1", "display_name": "csidorenko", "link": "https://stackoverflow.com/users/11191341/csidorenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 0, "accepted_answer_id": 55733267, "answer_count": 2, "score": 0, "last_activity_date": 1556047251, "creation_date": 1555515349, "last_edit_date": 1555519610, "question_id": 55731302, "link": "https://stackoverflow.com/questions/55731302/programmatically-pass-data-to-matmenutrigger", "title": "Programmatically pass data to MatMenuTrigger", "body": "<p>I understand how to open a <code>mat-menu</code> from from typescript. My problem is normally data would be passed by <code>[matMenuTriggerData]=\"{ data: input }\"</code> and received by <code>matMenuContent</code> within the HTML. This is what I've tried:</p>\n\n<pre><code>@ViewChild(MatMenuTrigger) private menuTrigger: MatMenuTrigger;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>this.menuTrigger.menuData = this.data[i];\nthis.menuTrigger.openMenu();\n</code></pre>\n\n<p>when debugging <code>menuData</code> is set correctly but once the menu opens the data received is undefined</p>\n\n<pre><code>// Child Component\n@Input('data')\npublic set dataInput(data)\n{\n    this.value = data.Value; &lt;--- error\n}\n</code></pre>\n\n<p>The page has many triggers that open the same menu with different data. Once one menu is open the user should be able to go to the next or previous menu which is why I need to be able to do it from typescript.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;ng-container *ngFor=\"let input of this.formInputs[base64data.index]\"&gt;\n    &lt;area [matMenuTriggerFor]=\"editMatMenu\" [matMenuTriggerData]=\"{ data: input }\" shape=\"rect\" [attr.data-name]=\"input.Name\" [attr.coords]=\"input.Rect\" /&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 558, "user_id": 1901635, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2F7r9QDEZoA/AAAAAAAAAAI/AAAAAAAAAGI/e782I8i7qUQ/photo.jpg?sz=128", "display_name": "Mike Brockington", "link": "https://stackoverflow.com/users/1901635/mike-brockington"}, "edited": false, "score": 0, "creation_date": 1555515813, "post_id": 55731271, "comment_id": 98141571, "body": "How about a little defensive programming in that function? You accept parameters a &amp; b and blindly pass them on to the next function (with one additional param) without checking that ANY of them exist!"}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1555517646, "post_id": 55731271, "comment_id": 98142527, "body": "The definition of <code>sortObjectsByKey</code> is missing."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1555518031, "post_id": 55731271, "comment_id": 98142753, "body": "You need take account when index+1&gt;keys.length: <code>return ....?index+1&lt;keys.length?sortWithKey(a, b, keys, index + 1):0</code>. And you can improve the sort, sorting the keys before call to the function"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 11205399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4602361ea66c61fed754346dfd62546?s=128&d=identicon&r=PG&f=1", "display_name": "JacobTStaggs", "link": "https://stackoverflow.com/users/11205399/jacobtstaggs"}, "edited": false, "score": 0, "creation_date": 1555523166, "post_id": 55732001, "comment_id": 98145170, "body": "Thanks for the response. Going to mark this as the correct answer!"}], "tags": [], "owner": {"reputation": 2253, "user_id": 8520481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a678ab27c722968eb971967d31401f53?s=128&d=identicon&r=PG&f=1", "display_name": "remix23", "link": "https://stackoverflow.com/users/8520481/remix23"}, "is_accepted": true, "score": 0, "last_activity_date": 1555518700, "last_edit_date": 1555518700, "creation_date": 1555517711, "answer_id": 55732001, "question_id": 55731271, "link": "https://stackoverflow.com/questions/55731271/recursive-sorting-function/55732001#55732001", "title": "Recursive Sorting Function", "body": "<p>The code is working if you add a test (<code>index &lt; keys.length - 1</code>) on the number of sortKeys before trying <code>sortWithKey(a, b, keys, index + 1)</code>.</p>\n\n<p>Corrected implementation below (in es6) and a test with 2 keys:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// emulates jest's it\r\nfunction it(description, test) {\r\n    console.log(description);\r\n    test();\r\n}\r\n// test function\r\nfunction equals(v1, v2) {\r\n    if (v1 == null &amp;&amp; v2 == null) {\r\n        return true;\r\n    }\r\n    if (v1 == null || v2 == null) {\r\n        return false;\r\n    }\r\n    if (typeof v1 !== typeof v2) {\r\n        console.log('fail because', v1, ' and ', v2, 'are not of the same type');\r\n        return false;\r\n    }\r\n    if (typeof v1 === 'object') {\r\n        if (Array.isArray(v1)) {\r\n            // eslint-disable-next-line no-use-before-define\r\n            const res = arrayEquals(v1, v2);\r\n            if (!res) {\r\n              console.log('fail because', v1, '!==', v2);\r\n            }\r\n            return res;\r\n        }\r\n        // eslint-disable-next-line no-use-before-define\r\n        return objectEquals(v1, v2);\r\n    }\r\n    const res = v1 === v2;\r\n    if (!res) {\r\n      console.log('fail because', v1, '!==', v2);\r\n    }\r\n    return res;\r\n}\r\n// test function\r\nfunction arrayEquals(array1, array2) {\r\n    if (array1.length !== array2.length) {\r\n      console.log('fail because array1 and array2 do not have the same length');\r\n      return false;\r\n    }\r\n    for (let i = 0; i &lt; array1.length; i += 1) {\r\n        if (!equals(array1[i], array2[i])) {\r\n            console.log('fail because', array1[i], '!==', array2[i]);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n// test function\r\nfunction objectEquals(obj1, obj2) {\r\n    const keys1 = Object.keys(obj1);\r\n    if (keys1.length !== Object.keys(obj2).length) {\r\n        console.log('fail because array1 and array2 do not have the same number of keys');\r\n        return false;\r\n    }\r\n    for (let i = 0; i &lt; keys1.length; i += 1) {\r\n        const key = keys1[i];\r\n        if (!equals(obj1[key], obj2[key])) {\r\n            console.log('fail because', obj1[key], '!==', obj2[key]);\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n// emulates jest's expect\r\nfunction expect(t) {\r\n    return {\r\n        toEqual: (v) =&gt; {\r\n            const res = equals(t, v);\r\n            if (res) {\r\n                console.log(`expect ${JSON.stringify(t)} to equals ${JSON.stringify(v)}: Success`);\r\n            } else {\r\n                console.log(`expect ${JSON.stringify(t)} to equals ${JSON.stringify(v)}: Fail`);\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nfunction sortWithKey(a, b, keys, index) {\r\n    // eslint-disable-next-line no-param-reassign\r\n    keys = keys.sort((c, d) =&gt; (c.priority &gt; d.priority ? 1 : -1));\r\n    const currKey = keys[index].sortKey;\r\n    if (keys[index].ascending) {\r\n        return a[currKey] &gt; b[currKey]\r\n            ? 1 :\r\n            (\r\n                a[currKey] &lt; b[currKey]\r\n                    ? -1\r\n                    : (\r\n                        index &lt; keys.length - 1\r\n                            ? sortWithKey(a, b, keys, index + 1)\r\n                            : 0\r\n                    )\r\n            );\r\n    }\r\n    return a[currKey] &lt; b[currKey]\r\n        ? 1\r\n        : (\r\n            a[currKey] &gt; b[currKey]\r\n                ? -1\r\n                : (\r\n                    index &lt; keys.length - 1\r\n                        ? sortWithKey(a, b, keys, index + 1)\r\n                        : 0\r\n                )\r\n        );\r\n}\r\n\r\nfunction sortObjectsByKey(arrayToSort, sortByKeys) {\r\n    return arrayToSort.sort((a, b) =&gt; sortWithKey(a, b, sortByKeys, 0));\r\n}\r\n\r\nit('Should sort with two priorities and duplicate entries', () =&gt; {\r\n    const arr = [{ letter: 'a', n: 1 }, { letter: 'b', n: 1 }, { letter: 'c', n: 0 }, { letter: 'b', n: 0 }, { letter: 'a', n: 0 }];\r\n    const keys = [{ sortKey: 'letter', priority: 1, ascending: false }, {sortKey: 'n', priority: 2, ascending: true}];\r\n    expect(sortObjectsByKey(arr, keys)).toEqual([{\"letter\":\"c\",\"n\":0},{\"letter\":\"b\",\"n\":0},{\"letter\":\"b\",\"n\":1},{\"letter\":\"a\",\"n\":0},{\"letter\":\"a\",\"n\":1}]);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As it stands, as others stated, it lacks gard conditions and re-sorting the keys at each recursive call is a little abusive but you should make it work from there.</p>\n"}], "owner": {"reputation": 107, "user_id": 11205399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4602361ea66c61fed754346dfd62546?s=128&d=identicon&r=PG&f=1", "display_name": "JacobTStaggs", "link": "https://stackoverflow.com/users/11205399/jacobtstaggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55732001, "answer_count": 1, "score": 0, "last_activity_date": 1555524583, "creation_date": 1555515236, "last_edit_date": 1555524583, "question_id": 55731271, "link": "https://stackoverflow.com/questions/55731271/recursive-sorting-function", "title": "Recursive Sorting Function", "body": "<p>I have a function that sorts an array of objects based on a set of keys. Those keys have a priority, sortKey, and a boolean to tell if it is ascending or descending. The issue I am having is when you have duplicate entries and only one key it throws an error where it calls the recursive function for index + 1 but there is no other key so that key is undefined. </p>\n\n<p>Here is the test that is failing: </p>\n\n<pre><code>it('Should sort with one priority and duplicate entries', () =&gt; {\n    const arr = [{letter: 'a'}, {letter: 'b'}, {letter: 'a'}];\n    const keys: ISortPriority&lt;any&gt;[] = [{sortKey: 'letter', priority: 1, ascending: true}];\n    expect(sortObjectsByKey(arr, keys)).toEqual([{letter: 'a'}, {letter: 'a'}, {letter: 'b'}]);\n});\n</code></pre>\n\n<p>And here is the code for that I am using to sort: </p>\n\n<pre><code>   export function sortObjectsByKey&lt;T&gt;(arrayToSort: T[], sortByKeys: ISortPriority&lt;T&gt;[]): T[] {\n       return arrayToSort.sort((a, b) =&gt; {\n           return sortWithKey(a, b, sortByKeys, 0);\n       });\n   }\n\n   function sortWithKey&lt;T&gt;(a: T, b: T, keys: ISortPriority&lt;T&gt;[], index: number) {\n       keys = keys.sort((c, d) =&gt; (c.priority &gt; d.priority) ? 1 : -1);\n       const currKey = keys[index].sortKey;\n       if (keys[index].ascending) {\n           return a[currKey] &gt; b[currKey]\n               ? 1\n               : (\n                   a[currKey] &lt; b[currKey]\n                       ? -1\n                       : sortWithKey(a, b, keys, index + 1)\n               );\n       }\n       return a[currKey] &lt; b[currKey]\n           ? 1\n           : (\n               a[currKey] &gt; b[currKey]\n                   ? -1\n                   : sortWithKey(a, b, keys, index + 1)\n           );\n\n    }\n\n\n</code></pre>\n\n<p>I have tried adding another condition like this: </p>\n\n<pre><code> return a[currKey] &gt; b[currKey] ? 1 : (a[currKey] &lt; b[currKey] ? -1 : a[currKey] === b[currKey] ? 0 : sortWithKey(a, b, keys, index + 1));\n</code></pre>\n\n<p>But it causes other tests to fail.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 50, "user_id": 8247303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8f24cd853188b7caf516ac7c233dcd?s=128&d=identicon&r=PG&f=1", "display_name": "claudy399", "link": "https://stackoverflow.com/users/8247303/claudy399"}, "is_accepted": false, "score": 0, "last_activity_date": 1555526125, "last_edit_date": 1555526125, "creation_date": 1555515907, "answer_id": 55731452, "question_id": 55731213, "link": "https://stackoverflow.com/questions/55731213/best-way-to-show-live-sum-of-quantities-from-array-of-objects/55731452#55731452", "title": "Best way to show &quot;Live&quot; sum of quantities from array of objects", "body": "<p>You can do this:</p>\n\n<pre><code>let sum = 0;\nLotsForCheckIn.foreach( (found:any) =&gt; {\n  if (found.Quantity != null){\n    sum += found.Quantity;\n  }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555516952, "post_id": 55731525, "comment_id": 98142176, "body": "Awesome... I think thats the part I&#39;m stuck on.... Whats the best way to constantly monitor an array for changes.... changes on properties of an object AND objects being added/removed."}, {"owner": {"reputation": 374, "user_id": 8164339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fe04acfd7bb971681cfd7291237cac?s=128&d=identicon&r=PG&f=1", "display_name": "Gireesh Kudipudi", "link": "https://stackoverflow.com/users/8164339/gireesh-kudipudi"}, "reply_to_user": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555517662, "post_id": 55731525, "comment_id": 98142541, "body": "@JoeStarnes check this out <a href=\"https://stackoverflow.com/a/42962723/8164339\">stackoverflow.com/a/42962723/8164339</a>"}, {"owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555530789, "post_id": 55731525, "comment_id": 98148391, "body": "I like that and was able to listen for changes to the high level array changes..... (add/delete).... but not sure this will give me what I want to check each object in that array and see if a property on any of them has changed. Unless I am misunderstanding."}], "tags": [], "owner": {"reputation": 374, "user_id": 8164339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2fe04acfd7bb971681cfd7291237cac?s=128&d=identicon&r=PG&f=1", "display_name": "Gireesh Kudipudi", "link": "https://stackoverflow.com/users/8164339/gireesh-kudipudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1555516123, "creation_date": 1555516123, "answer_id": 55731525, "question_id": 55731213, "link": "https://stackoverflow.com/questions/55731213/best-way-to-show-live-sum-of-quantities-from-array-of-objects/55731525#55731525", "title": "Best way to show &quot;Live&quot; sum of quantities from array of objects", "body": "<p>Write below function in your component class.</p>\n\n<pre><code>//  i am assuming below are properties of the component class\ntotalQuantity:number;\nLotsForCheckIn:any[];\n\ncalculateTotalQuantity(){\nthis.totalQuantity = 0;\n   this.LotsForCheckIn.forEach((lot:any)=&gt;{\n      this.totalQuantity += lot.Quantity;\n  });\n}\n</code></pre>\n\n<p>add similar to the  following to the template of component class for data binding totalQuantity.</p>\n\n<pre><code>&lt;p&gt;Total Quantity - {{totalQuantity}},&lt;/p&gt;\n</code></pre>\n\n<p>when ever the <strong>LotsForCheckIn</strong> changes call <strong>calculateTotalQuantity()</strong>. I have assigned any to the lot and LotsForCheckIn. It is better to define the interface and give that as data type.</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555531445, "post_id": 55734056, "comment_id": 98148682, "body": "that looks nice.... but I&#39;m wanting to somehow watch this array and trigger this above as things are added/removed and quantities are changed... any suggestions?"}, {"owner": {"reputation": 1009, "user_id": 6156377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16cc761f8902fb56f3777953b7ae7ecd?s=128&d=identicon&r=PG", "display_name": "Sayegh", "link": "https://stackoverflow.com/users/6156377/sayegh"}, "reply_to_user": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555531574, "post_id": 55734056, "comment_id": 98148744, "body": "Yeah, angular has 2 way data binding. So it&#39;s pretty much done for you. You wouldn&#39;t need any additional code. It would help if you shared more code and specified what you have in mind exactly."}, {"owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "edited": false, "score": 0, "creation_date": 1555531733, "post_id": 55734056, "comment_id": 98148798, "body": "I have an array as shown above and this array can be added/deleted from via controls... this array is then displayed on a front end application and the quantities show as text box. Above the control I just want simple html that displays total: x which would be where sum goes. I hope that helps"}], "tags": [], "owner": {"reputation": 1009, "user_id": 6156377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16cc761f8902fb56f3777953b7ae7ecd?s=128&d=identicon&r=PG", "display_name": "Sayegh", "link": "https://stackoverflow.com/users/6156377/sayegh"}, "is_accepted": true, "score": 1, "last_activity_date": 1555532116, "last_edit_date": 1555532116, "creation_date": 1555526378, "answer_id": 55734056, "question_id": 55731213, "link": "https://stackoverflow.com/questions/55731213/best-way-to-show-live-sum-of-quantities-from-array-of-objects/55734056#55734056", "title": "Best way to show &quot;Live&quot; sum of quantities from array of objects", "body": "<p>This one line should do it</p>\n\n<pre><code>let sum = LotsForCheckIn.map(lot =&gt; lot.Quantity).reduce((prev, curr) =&gt; prev + curr, 0);\n</code></pre>\n\n<h1>UPDATE:</h1>\n\n<p>I'm gonna assume here that you have a <code>LotsForCheckIn</code> as a class property in a component somewhere.</p>\n\n<p>component html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\nTotal {{sum()}}\n&lt;/div&gt;\n\n</code></pre>\n\n<p>component ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: \"app-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.scss\"]\n})\nexport class AppComponent {\n  LotsForCheckIn = [];\n\n  sum(){\n    this.LotsForCheckIn\n      .map(lot =&gt; lot.Quantity)\n      .reduce((prev, curr) =&gt; prev + curr, 0);\n  }\n}\n\n</code></pre>\n\n<p>Now any change to the list would be reflected in the UI without any additional code.</p>\n"}], "owner": {"reputation": 371, "user_id": 5605156, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5218b8927ad976c11221a7be03fc595e?s=128&d=identicon&r=PG", "display_name": "Joe Starnes", "link": "https://stackoverflow.com/users/5605156/joe-starnes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55734056, "answer_count": 3, "score": 1, "last_activity_date": 1555532116, "creation_date": 1555515050, "question_id": 55731213, "link": "https://stackoverflow.com/questions/55731213/best-way-to-show-live-sum-of-quantities-from-array-of-objects", "title": "Best way to show &quot;Live&quot; sum of quantities from array of objects", "body": "<p>Below is the array that I have. I am building an ionic/angular application and want to display on the screen Total which would be a sum of the Quanties in the array of objects below.</p>\n\n<p>This array can have objects added to it as well as the quantities can increase/decrease... but I'm wanting to have this total reflect those changes as they happen. What would be the best way to approach this?</p>\n\n<p><a href=\"https://i.stack.imgur.com/2RdHa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2RdHa.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1555515081, "post_id": 55731162, "comment_id": 98141161, "body": "I can see why this was voted down after only 30 seconds -- obviously no thought went into my question"}], "answers": [{"comments": [{"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1555517286, "post_id": 55731860, "comment_id": 98142333, "body": "could you show explicitly the extension method that would work?"}, {"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 1, "creation_date": 1555517611, "post_id": 55731860, "comment_id": 98142503, "body": "@robertotom&#225;s I&#39;ve put in a rough outline of how you could implement this with <i>extends</i>"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1555517980, "post_id": 55731860, "comment_id": 98142724, "body": "I had actually tried this but I can&#39;t get rid of the red squiggly under LocalService -- I don&#39;t see how to satisfy it&#39;s call to super <code>(&#47;* pass the dependencies to the BaseService*&#47;)</code> -- it complains <code>&#39;super&#39; must be called before accessing &#39;this&#39; in the constructor of a derived class.ts(17009)</code>"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1555519109, "post_id": 55731860, "comment_id": 98143266, "body": "neither <code>super(...arguments)</code> nor <code>super(this.http, this.httpErrorService);</code> seem to work"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 1, "creation_date": 1555519420, "post_id": 55731860, "comment_id": 98143404, "body": "it seems like I <i>can</i> do it as long asI don&#39;t redeclare them in the outer class !"}, {"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 1, "creation_date": 1555519741, "post_id": 55731860, "comment_id": 98143569, "body": "You won&#39;t need the injected dependencies as properties in the LocalService class - they will exist in the super class (I forgot to mention that). Also, don&#39;t use private/public when in injecting the services in <code>LocalService</code> - when you do that they become properties of the class, rather than just variables in the constructor (have a look at the transpiled code in TypeScript Playground to get an idea of what it&#39;s doing under the hood)"}], "tags": [], "owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "is_accepted": true, "score": 1, "last_activity_date": 1555517574, "last_edit_date": 1555517574, "creation_date": 1555517212, "answer_id": 55731860, "question_id": 55731162, "link": "https://stackoverflow.com/questions/55731162/implement-mixin-for-angular-service-using-this-http/55731860#55731860", "title": "implement mixin for angular service using this.http", "body": "<p>If you're injecting <code>HttpClient</code> in <code>LocalService</code>, then the HTTP calls should really be made within that class. Using imported functions is fine, but in this case it's really mixing up paradigms as you are also binding the <code>this</code> context in the funciton - it's like <code>class composition</code> and <code>functional programming</code> with <code>OOD</code> usage of the <code>this</code> context</p>\n\n<p>A more standard <code>OOD</code> approach would be to extend a base class that has a <code>getManufacturers</code> function. The base class would inject HttpClient, and make the <code>post</code> call. If you are not going to reuse the base class, it might not be worth it though</p>\n\n<p>The first version of your service looks absolutely standard btw, so I myself wouldn't change it</p>\n\n<pre><code>export class BaseService {\n  constructor(/*inject same classes as LocalService*/) {\n  }\n  public getManufacturers (): Observable&lt;Manufacturers&gt; {\n     .....\n  }\n}\n\nexport class LocalService extends BaseService {\n\n constructor(/*inject the dependencies*/) {\n      super(/* pass the dependencies to the BaseService*/)\n  }\n}\n\n</code></pre>\n"}], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 55731860, "answer_count": 1, "score": -1, "last_activity_date": 1555524014, "creation_date": 1555514888, "last_edit_date": 1555524014, "question_id": 55731162, "link": "https://stackoverflow.com/questions/55731162/implement-mixin-for-angular-service-using-this-http", "title": "implement mixin for angular service using this.http", "body": "<p>This is with Angular 5 and typescript 2.9.2</p>\n\n<p>I have a class that is a service that will both implement api and act as state for a user story in the app. At the start it looks like this:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/observable';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\nimport { AuthenticationService } from '../../core/services/authentication.service';\nimport { HttpErrorService } from '../../core/services/http-error.service';\n\nimport { manufacturersUrl } from '../constants';\nimport { Manufacturers } from '../interfaces/manufacturers.interface';\nimport { Device } from '../interfaces/device.interface';\n\n@Injectable()\nexport class LocalService {\n public newDevice: Device;\n\n  constructor (\n    private http: HttpClient,\n    private httpErrorService: HttpErrorService,\n    private authenticationService: AuthenticationService) { \n      super();\n      this.newDevice = {MAC : ''};\n  }\n\n  /**\n   * getManufacturers api call for first page\n   * @returns Observable\n   */\n  getManufacturers (): Observable&lt;Manufacturers&gt; {\n    const requestBody = { 'num': 12 };\n\n    return this.http.post&lt;Manufacturers&gt;(manufacturersUrl, requestBody).pipe(\n      catchError(this.httpErrorService.handleError&lt;Manufacturers&gt;(`getManufacturers`))\n    );\n  }\n}\n</code></pre>\n\n<p>I would be happier if my transaction code didnt <em>clutter the view</em> in this service .. so I'd like to move <code>getManufacturers</code> to a file like <em>./extensionApi.js</em> and import it for use, something like:</p>\n\n<pre><code>import { getManufacturers } from './extensionApi.ts';\n//...\n  private getManufacturers: Function;\n\n  constructor (\n    private http: HttpClient,\n    private httpErrorService: HttpErrorService,\n    private authenticationService: AuthenticationService) { \n      this.newDevice = {MAC : ''};\n\n    this.getManufacturers = getManufacturers.bind(this);\n  }\n</code></pre>\n\n<p>This approach can work, but not here. I am getting a compile error: <code>Untyped function calls may not accept type arguments</code> related to the <code>this.http</code> parts of that function. </p>\n\n<p>How can I keep the modularity of my design, but get around the compile issue?</p>\n\n<h2>addendum</h2>\n\n<p>these three lines complete the answer below</p>\n\n<pre><code>  constructor(http:HttpClient, httpErrorService: HttpErrorService,\n    private authenticationService: AuthenticationService) { \n      super(http, httpErrorService);\n</code></pre>\n\n<h3>implementation</h3>\n\nLocalService\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { AuthenticationService } from '@core/services/authentication.service';\nimport { HttpErrorService } from '@core/services/http-error.service';\nimport { Device } from '@usage/interfaces/device.interface';\n\nimport ApiClient from './extension-api';\n\n@Injectable()\nexport class LocalService extends ApiClient {\n public newDevice: Device;\n\n  constructor(http: HttpClient, httpErrorService: HttpErrorService,\n    private authenticationService: AuthenticationService) { \n      super(http, httpErrorService);\n\n      this.newDevice = {MAC : ''};\n  }\n}\n</code></pre>\n\n<h3>extension-api</h3>\n\n<pre><code>import { Observable } from 'rxjs/observable';\nimport { catchError, map, tap } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\nimport { HttpErrorService } from '@core/services/http-error.service';\nimport { manufacturersUrl } from '@usage/constants';\nimport { Manufacturers } from '@usage/interfaces/manufacturers.interface';\n\n/**\n* getManufacturers api call for first page\n* @returns Observable\n*/\nexport default class ApiService {\n  constructor (private http: HttpClient,\n    private httpErrorService: HttpErrorService){}\n\n  getManufacturers(): Observable&lt;Manufacturers&gt; {\n    const requestBody = { 'num': 12 };\n\n    return this.http.post&lt;Manufacturers&gt;(manufacturersUrl, requestBody).pipe(\n      catchError(this.httpErrorService.handleError&lt;Manufacturers&gt;(`getManufacturers`))\n    );\n   }\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555514450, "post_id": 55730840, "comment_id": 98140762, "body": "If you want to check if something is a key of type <code>T</code>, then do <code>keyof T</code>.  As in, <code>KB extends keyof T</code>.  And there is no <code>B</code> type anywhere, right?  If <code>key</code> is of type <code>K</code>, then <code>key2</code> should be of type..."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555514511, "post_id": 55730840, "comment_id": 98140806, "body": "Yes, I need to be ensure that I pass right string that presents in interface type"}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555514679, "post_id": 55730840, "comment_id": 98140929, "body": "Could you share an sample?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1555514810, "post_id": 55730840, "comment_id": 98140996, "body": "I don&#39;t think I can until you make this into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  What is <code>ISecond</code>?  Why do you want to manually specify <code>ISecond</code> to <code>bindTeacher()</code> instead of either inferring it or hardcoding it in <code>BinderScoreService</code>?  I don&#39;t want to spend too much time making an example that doesn&#39;t match your use case, and I can&#39;t figure out your use case from this code."}, {"owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555514909, "post_id": 55730840, "comment_id": 98141056, "body": "I pass two generic types, then two parameters, I need to be ensure that both parameters are related to generic types, that it is keys of generics types"}], "answers": [{"tags": [], "owner": {"reputation": 890, "user_id": 2335137, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/22db48dc1b0dd10ffa71cabb9e1a1b43?s=128&d=identicon&r=PG", "display_name": "JGoodgive", "link": "https://stackoverflow.com/users/2335137/jgoodgive"}, "is_accepted": true, "score": 1, "last_activity_date": 1555518862, "creation_date": 1555518862, "answer_id": 55732309, "question_id": 55730840, "link": "https://stackoverflow.com/questions/55730840/how-to-check-is-property-right-from-interface-type/55732309#55732309", "title": "How to check is property right from interface type?", "body": "<p>Do you mean this?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    public bindTeacher&lt;K extends keyof T&gt;(...keys: K[]){\n    }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8291684, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GjzJH.png?s=128&g=1", "display_name": "OPV", "link": "https://stackoverflow.com/users/8291684/opv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 1, "accepted_answer_id": 55732309, "answer_count": 1, "score": -1, "last_activity_date": 1555518862, "creation_date": 1555513827, "question_id": 55730840, "link": "https://stackoverflow.com/questions/55730840/how-to-check-is-property-right-from-interface-type", "title": "How to check is property right from interface type?", "body": "<p>I have this method in class:</p>\n\n<pre><code>class BinderScoreService&lt;T&gt; extends Binder {\n  public bindTeacher&lt;K extends keyof T&gt;(key: K) {\n  }\n}\n</code></pre>\n\n<p>When I use it I pass string value as parameter, then typescript checks if it is key of type <code>T</code>:</p>\n\n<pre><code>bindTeacher('id');\n</code></pre>\n\n<p>How to pass another parameter and to do the same?</p>\n\n<p>Like this:</p>\n\n<pre><code>bindTeacher&lt;ISecond&gt;('id', 'second');\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>public bindTeacher&lt;K extends keyof T, KB extends keyof B&gt;(key: K, key2: B) {\n}\n</code></pre>\n\n<p>And calling:</p>\n\n<pre><code>bindTeacher&lt;ISecond&gt;('id', 'second');\n</code></pre>\n"}, {"tags": ["angular", "typescript", "sweetalert2"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 8041800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c32fac0a9f9280f00174c41eab130?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/8041800/avocado"}, "edited": false, "score": 0, "creation_date": 1555514155, "post_id": 55730812, "comment_id": 98140561, "body": "error.message returns:  Http failure response for <a href=\"http://dev.site/api/user/authenticate\" rel=\"nofollow noreferrer\">dev.site/api/user/authenticate</a>: 400 Bad Request"}], "tags": [], "owner": {"reputation": 1261, "user_id": 2137758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a48ad7bf14517b1191c35e2fd3215f6?s=128&d=identicon&r=PG", "display_name": "Austin", "link": "https://stackoverflow.com/users/2137758/austin"}, "is_accepted": false, "score": 0, "last_activity_date": 1555513736, "creation_date": 1555513736, "answer_id": 55730812, "question_id": 55730677, "link": "https://stackoverflow.com/questions/55730677/how-to-display-back-end-response-in-sweetalart2/55730812#55730812", "title": "How to display Back-end response in Sweetalart2", "body": "<p>Change the title to error.message </p>\n\n<pre><code>(error) =&gt; Swal({\n    title: error.message,\n    type: 'warning',\n    confirmButtonText: 'Try Again'\n}),\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 8041800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/513c32fac0a9f9280f00174c41eab130?s=128&d=identicon&r=PG&f=1", "display_name": "Avocado", "link": "https://stackoverflow.com/users/8041800/avocado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555513736, "creation_date": 1555513312, "question_id": 55730677, "link": "https://stackoverflow.com/questions/55730677/how-to-display-back-end-response-in-sweetalart2", "title": "How to display Back-end response in Sweetalart2", "body": "<p>I am trying to display back-end error responses in Sweetalert2 message.\nI was able to display Error text but I couldn't display specific error response messages I am getting from the back-end. </p>\n\n<p>For Example, if I type wrong username, I get the API response \"{\"message\":\"User Not Found\"}\"</p>\n\n<p>If I type wrong password, I get the API response \"{\"message\":\"Authentication Failed\"}\"</p>\n\n<p>In the following code I changed the SweetAlert title to 'title: error.statusText' and it only display 'Bad request'</p>\n\n<p>How can I display specific error messages I am getting from backend, instead of error status text?  </p>\n\n<p>Also, I don't know why my console.log(error) not working in the following code block.  </p>\n\n<pre><code>signIn() {\nthis.authService.login(this.Username, this.Password).subscribe(\n  (data) =&gt; localStorage.setItem('Token', data),\n  (error) =&gt; Swal({\n    title: error.statusText,\n    type: 'warning',\n    confirmButtonText: 'Try Again'\n  }),\n//console.log(error)\n  function (complete) {\n    Swal({\n      toast: true,\n      position: 'bottom',\n      type: 'success',\n      title: 'Login Successful!',\n      showConfirmButton: false,\n      timer: 3200\n    })\n    this.router.navigate(['/userDashboard']);\n    this.authService.setLoggedIn(true)\n  }.bind(this));\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1555513244, "post_id": 55730549, "comment_id": 98139963, "body": "You need to return the data from the service (i.e., <code>return this.http.get</code>...)."}, {"owner": {"reputation": 11, "user_id": 11374486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZLzPLRAEYBk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQLLItQhvwtbX-v3YSMaHH6NrPzQ/mo/photo.jpg?sz=128", "display_name": "Pierre Laurent", "link": "https://stackoverflow.com/users/11374486/pierre-laurent"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1555513704, "post_id": 55730549, "comment_id": 98140272, "body": "@HereticMonkey I&#39;m novice, I have not understand your explication. Can you explain more please ? Thank you"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1555514229, "post_id": 55730549, "comment_id": 98140621, "body": "Put your cursor in front of the first letter after the <code>{</code> in the <code>getDemandeEnterprisebyId</code> function. Type <code>return</code> and a space. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/return\" rel=\"nofollow noreferrer\">MDN&#39;s documentation</a>."}, {"owner": {"reputation": 865, "user_id": 7716341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C2CvQ.jpg?s=128&g=1", "display_name": "zetawars", "link": "https://stackoverflow.com/users/7716341/zetawars"}, "edited": false, "score": 0, "creation_date": 1577894128, "post_id": 55730549, "comment_id": 105276262, "body": "what are you getting in the sd.idDemande ?. have you checked the value with the debugger or using console.log? in getDemandeEntreprisebyId function ?"}], "owner": {"reputation": 11, "user_id": 11374486, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZLzPLRAEYBk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdQLLItQhvwtbX-v3YSMaHH6NrPzQ/mo/photo.jpg?sz=128", "display_name": "Pierre Laurent", "link": "https://stackoverflow.com/users/11374486/pierre-laurent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1577893859, "creation_date": 1555512959, "last_edit_date": 1577893859, "question_id": 55730549, "link": "https://stackoverflow.com/questions/55730549/i-cant-get-the-id-in-the-view", "title": "I can&#39;t get the id in the view", "body": "<p>We have two classes \"demande\" and \"entreprise\" with a relation <code>OneToMany</code>. I would like to show every demande's entreprise.</p>\n\n<p>The API works but the problem is on the front.</p>\n\n<p>The entreprise's service :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getDemandeEntreprisebyId(id)\n  {\n    this.http.get(this.rootURL + '/Entreprise/EntrepriseByDemande/'+id)\n    .toPromise()\n    .then(res =&gt; this.listDemandeEntreprise = res as Entreprise[]);\n  }\n</code></pre>\n\n<p>View :</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr *ngFor=\"let sd of serviceDemande.list\" &gt;\n  &lt;td (click)=\"populateForm(pd)\"&gt;{{pd.dateDemande | date : 'dd/MM/yyyy'}}&lt;/td&gt;\n  &lt;td (click)=\"populateForm(pd)\"&gt;{{pd.typeDemande}}&lt;/td&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                          \n  &lt;td  *ngFor=\"let e of serviceEntreprise.getDemandeEntreprisebyId(sd.idDemande)\"&gt;{{e.nomEntreprise}}&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["typescript", "vuex"], "answers": [{"comments": [{"owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 0, "creation_date": 1556319765, "post_id": 55873968, "comment_id": 98411451, "body": "Pretty sure you&#39;re not supposed to modify state outside of a mutator."}, {"owner": {"reputation": 627, "user_id": 4384879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-NpW7Lo-JCr4/AAAAAAAAAAI/AAAAAAAAAB4/uVBIF-SncBs/photo.jpg?sz=128", "display_name": "Francesco Cina", "link": "https://stackoverflow.com/users/4384879/francesco-cina"}, "reply_to_user": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 0, "creation_date": 1556473051, "post_id": 55873968, "comment_id": 98442475, "body": "@GaryO Indeed, in fact, in my code, I am doing it inside a mutator."}, {"owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 2, "creation_date": 1556564318, "post_id": 55873968, "comment_id": 98473930, "body": "that may be, but in the code you show above, you&#39;re doing it in an action. A function decorated with <code>@MutationAction</code> is actually the action; it&#39;s supposed to return something (?) which will be used in a generated mutation. At least that&#39;s my understanding."}], "tags": [], "owner": {"reputation": 627, "user_id": 4384879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-NpW7Lo-JCr4/AAAAAAAAAAI/AAAAAAAAAB4/uVBIF-SncBs/photo.jpg?sz=128", "display_name": "Francesco Cina", "link": "https://stackoverflow.com/users/4384879/francesco-cina"}, "is_accepted": false, "score": 0, "last_activity_date": 1556307416, "creation_date": 1556307416, "answer_id": 55873968, "question_id": 55730545, "link": "https://stackoverflow.com/questions/55730545/how-to-use-mutationaction-in-vuex-module-decorators/55873968#55873968", "title": "How to use MutationAction in vuex-module-decorators?", "body": "<p>I am a newbie with vuex, anyway, this compiles:</p>\n\n<pre><code>export class MyModule extends VuexModule {\n\n    public dir: { [key: string]: string } = {};\n\n    @MutationAction({ mutate: ['dir'] })\n    public async updateDir(key: string, value: string) {\n        const newDir: { [key: string]: string } = {};\n        newDir[key] = value;\n        return {\n            dir: newDir,\n        };\n    }\n\n    @MutationAction({ mutate: ['dir'] })\n    public async addToDir(key: string, value: string) {\n        this.dir[key] = value;\n        return {\n            dir: this.dir,\n        };\n    }\n}\n</code></pre>\n\n<p>Please note that I don't know if it is acceptable to modify and reassign the 'dir' variable as I do in the second function.</p>\n"}, {"comments": [{"owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 1, "creation_date": 1574530727, "post_id": 59005473, "comment_id": 104268766, "body": "Thanks -- it would be great if the doc had a more detailed section on how to use <code>@MutationAction</code> -- exactly what it does internally, what to return, does it update vs. replace, how to handle errors."}], "tags": [], "owner": {"reputation": 806, "user_id": 3529903, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002664094332/picture?type=large", "display_name": "Arnav Gupta", "link": "https://stackoverflow.com/users/3529903/arnav-gupta"}, "is_accepted": true, "score": 6, "last_activity_date": 1574493919, "creation_date": 1574493919, "answer_id": 59005473, "question_id": 55730545, "link": "https://stackoverflow.com/questions/55730545/how-to-use-mutationaction-in-vuex-module-decorators/59005473#59005473", "title": "How to use MutationAction in vuex-module-decorators?", "body": "<p>Here is what you should be doing - </p>\n\n<pre><code>export default class Module extends VuexModule {\n  dir: {[key: string]: string}\n\n  @MutationAction(['dir'])\n  async updateDir(keyValue) {\n    const currDir = this.dir\n\n    // do any async work (network req) here\n    currDir['myKey'] = keyValue\n\n    return ( { dir: currDir } )\n  }\n}\n</code></pre>\n\n<p>But if you really did not need to any async work in the first place. </p>\n\n<pre><code>export default class Module extends VuexModule {\n  dir: {[key: string]: string}\n\n  @Mutation\n  async updateDir(keyValue) {\n    this.dir.myKey = keyValue\n  }\n}\n</code></pre>\n\n<p>P.S. I am the author of <code>vuex-module-decorators</code></p>\n"}], "owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3644, "favorite_count": 0, "accepted_answer_id": 59005473, "answer_count": 2, "score": 3, "last_activity_date": 1574493919, "creation_date": 1555512945, "question_id": 55730545, "link": "https://stackoverflow.com/questions/55730545/how-to-use-mutationaction-in-vuex-module-decorators", "title": "How to use MutationAction in vuex-module-decorators?", "body": "<p>I'm trying to use vuex-module-decorators from <a href=\"https://championswimmer.in/vuex-module-decorators\" rel=\"nofollow noreferrer\">https://championswimmer.in/vuex-module-decorators</a>.\nLet's say my module's state has a prop <code>dir</code> that's a dict: <code>{[key: string]: string}</code> Can I use <code>@MutationAction</code> to update an element of that dict? The code below isn't right but hopefully gets across what I mean.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class Module extends VuexModule {\n  dir: {[key: string]: string}\n\n  @MutationAction(???)\n  updateDir(keyValue) {\n    return keyValue // ???\n  }\n}\n</code></pre>\n\n<p>Is there some doc on how to use <code>@MutationAction</code>, what args it takes and what actual mutation it commits?</p>\n"}, {"tags": ["reactjs", "typescript", "react-redux", "redux-form"], "owner": {"reputation": 23, "user_id": 11009321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fce58074afbd1b4bee867ec9fa0e1a40?s=128&d=identicon&r=PG&f=1", "display_name": "MarianoV", "link": "https://stackoverflow.com/users/11009321/marianov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555512549, "creation_date": 1555512549, "question_id": 55730410, "link": "https://stackoverflow.com/questions/55730410/what-is-the-correct-form-to-create-a-component-with-redux-form-and-typescript", "title": "What is the correct form to create a Component with redux-form and typescript?", "body": "<p>I have a component (with reduxForm and Typescript), but need to decorate the component with 'connect' (with '&lt;{}, Props>') and '>' on the Component, because it break with the next error:</p>\n\n<pre><code>\n.../Project/src/views/MyAccount/MyAccount.tsx\nType error: Property 'handleSubmit' is missing in type '{ onSubmit: (userData: any) =&gt; void; userValues: any; avatarImage: RefObject&lt;HTMLImageElement&gt;; uploadAvatar: (files: any) =&gt; void; fileInput: RefObject&lt;HTMLInputElement&gt;; }' but required in type 'Readonly&lt;Props &amp; Partial&lt;ConfigProps&lt;{}, Props, string&gt;&gt;&gt;'.  TS2741\n\n</code></pre>\n\n<p>i am trying much forms.. but the unique solution until now, its decorating with 'connect' (with reduxForm&lt;{}, Props>) and >\ni think has some better form to create the component. Here's the code!</p>\n\n<pre><code>\nimport React, { Component, Fragment } from 'react';\nimport CSSModules from 'react-css-modules';\nimport { InjectedFormProps, reduxForm, Field } from 'redux-form';\nimport { connect } from 'react-redux';\n\nimport Heading from '../Heading/Heading';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\n\nimport * as styles from './UserProfile.css';\n\ninterface Props {\n  userValues: any,\n  avatarImage: any,\n  uploadAvatar: any,\n  fileInput: any,\n  handleSubmit: any,\n}\n\nconst inputField = ({ input, label, type, meta, disabled, field_value }: any) =&gt; (\n  &lt;div&gt;\n    &lt;Input\n      {...input}\n      labelText={label}\n      styleName=\"input\"\n      type={type ? type : \"text\"}\n      disabled={disabled ? disabled : false}\n      placeholder={field_value ? field_value : ''}\n    /&gt;\n  &lt;/div&gt;\n)\nconst isRequired = (value: any) =&gt; (\n  value ? undefined : 'Field Required'\n)\n\nclass UserProfile extends Component&lt;Props &amp; InjectedFormProps&lt;{}, Props&gt;&gt; {\n  constructor(props: any) {\n    super(props);\n  }\n  public render() {\n    // console.log(this.props.userValues)\n    return (\n      &lt;Fragment&gt;\n        &lt;div styleName=\"right-info\"&gt;\n          &lt;Heading text=\"Your data\" styleName=\"heading\" /&gt;\n          &lt;form id=\"UserProfile\" onSubmit={this.props.handleSubmit} method=\"POST\" styleName=\"form\"&gt;\n            &lt;fieldset styleName=\"fieldset\"&gt;\n              &lt;Field\n                name=\"phone_number\"\n                label=\"Phone Number\"\n                validate={isRequired}\n                field_value={this.props.userValues.phone_number}\n                component={inputField} /&gt;\n              &lt;br /&gt;\n              &lt;Field\n                name=\"company\"\n                label=\"Company\"\n                validate={isRequired}\n                field_value={this.props.userValues.company}\n                component={inputField} /&gt;\n            &lt;/fieldset&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;div styleName=\"cta-wrapper\"&gt;\n          &lt;Button\n            onClick={this.props.handleSubmit}\n            text=\"SAVE CHANGES\"\n            filled={true} \n          /&gt;\n        &lt;/div&gt;\n      &lt;/Fragment&gt;\n    )\n  }\n}\n\nconst UserProfileWithCSS = CSSModules(UserProfile, styles, { allowMultiple: true });\nexport default connect()(reduxForm&lt;{}, Props&gt;({ form: 'UserProfile' })(UserProfileWithCSS));\n\n\n</code></pre>\n"}, {"tags": ["typescript", "elasticsearch", "http-status-codes", "nestjs"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1555513762, "post_id": 55730408, "comment_id": 98140310, "body": "can you post an example of how you are using the elasticsearch service?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8440455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8a6c96a6d99ed747f8182db1c55adf?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander491", "link": "https://stackoverflow.com/users/8440455/alexander491"}, "edited": false, "score": 0, "creation_date": 1555570385, "post_id": 55731303, "comment_id": 98158281, "body": "Thanks for your help :) And do you know whats the difference between ElasticsearchService.search() and ElasticsearchService.getClient().search() because with the first one I cant pass more than one parameter. And what should I use?"}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "reply_to_user": {"reputation": 23, "user_id": 8440455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8a6c96a6d99ed747f8182db1c55adf?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander491", "link": "https://stackoverflow.com/users/8440455/alexander491"}, "edited": false, "score": 0, "creation_date": 1555574414, "post_id": 55731303, "comment_id": 98160191, "body": "@Alexander491 you can use <code>getClient</code> to get the unwrapped elasticsearch client. So if you want the non-observable API use <code>getClient.search</code>."}], "tags": [], "owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "is_accepted": true, "score": 2, "last_activity_date": 1555586418, "last_edit_date": 1555586418, "creation_date": 1555515350, "answer_id": 55731303, "question_id": 55730408, "link": "https://stackoverflow.com/questions/55730408/wrong-type-of-types-elasticsearch-searchresponse/55731303#55731303", "title": "Wrong type of @types/elasticsearch SearchResponse", "body": "<p>The ElasticsearchService of @nestjs/elasticsearch wraps the es client with <a href=\"https://rxjs-dev.firebaseapp.com/api/index/function/bindNodeCallback\" rel=\"nofollow noreferrer\">bindNodeCallback</a>, it's explained in the <a href=\"https://github.com/nestjs/elasticsearch#api-spec\" rel=\"nofollow noreferrer\">doc</a>. </p>\n\n<p>So this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>client.search({\n  index: 'my-index',\n  body: { foo: 'bar' }\n}, (err, body, statusCode, headers) =&gt; {\n  if (err) console.log(err)\n})\n</code></pre>\n\n<p>Will be transformed into an observable which will emit a value with the args from the callback minus the err in an array.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>service.search({\n  index: 'my-index',\n  body: { foo: 'bar' }\n}).subscribe(value =&gt; {\n  console.log(value); // [body, statusCode, headers]\n});\n</code></pre>\n\n<p>You can't turn this off but you can use the elasticsearch client directly by using <code>getClient()</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const searchResponse = await service.getClient().search({\n  index: 'my-index',\n  body: { foo: 'bar' }\n});\n</code></pre>\n\n<p>Also keep in mind there will be <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/javascript-api/current/breaking-changes.html\" rel=\"nofollow noreferrer\">breaking changes in @elastic/elasticsearch [7.x]</a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>client.search({\n  index: 'my-index',\n  body: { foo: 'bar' }\n}, (err, { body, statusCode, headers, warnings }) =&gt; {\n  if (err) console.log(err)\n});\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 8440455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8a6c96a6d99ed747f8182db1c55adf?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander491", "link": "https://stackoverflow.com/users/8440455/alexander491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 55731303, "answer_count": 1, "score": 2, "last_activity_date": 1555586418, "creation_date": 1555512541, "question_id": 55730408, "link": "https://stackoverflow.com/questions/55730408/wrong-type-of-types-elasticsearch-searchresponse", "title": "Wrong type of @types/elasticsearch SearchResponse", "body": "<p>When I use the ElasticsearchService of @nestjs/elasticsearch the result of the response doesnt match the type SearchResponse of @types/elasticsearch because SearchResponse is an object but I actually get an array with the SearchResponse object and a Http Status Code, does someone know how to turn this off?</p>\n\n<p>Example:</p>\n\n<pre><code>[\n  {\n    ...,\n    \"aggregations\": {\n      \"backendVersions\": {\n        \"doc_count_error_upper_bound\": 0,\n        \"sum_other_doc_count\": 0,\n        \"buckets\": [\n          {\n            \"key\": \"1.0.0\",\n            \"doc_count\": 1\n          }\n        ]\n      }\n    }\n  },\n  200\n]\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "babeljs"], "answers": [{"tags": [], "owner": {"reputation": 221, "user_id": 2123893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18fd371c70d623b6d7ef26636d7e01d?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/2123893/guillaume"}, "is_accepted": false, "score": 0, "last_activity_date": 1559223066, "creation_date": 1559223066, "answer_id": 56379336, "question_id": 55730057, "link": "https://stackoverflow.com/questions/55730057/correct-way-to-assign-fields-in-constructor-in-a-derived-class-using-typescript/56379336#56379336", "title": "Correct way to assign fields in constructor in a derived class using typescript and babel with tc39", "body": "<p>A workaround to <a href=\"https://github.com/babel/babel/issues/9105\" rel=\"nofollow noreferrer\">https://github.com/babel/babel/issues/9105</a> that works both with tsc and babel is declaration merging.</p>\n\n<p>in your case:</p>\n\n<pre><code>  class Base {\n    constructor(dto?: any) {\n      if (dto) {\n        this.updateFromDTO(dto);\n      }\n    }\n\n    updateFromDTO(dto: any): this {\n      return this;\n    }\n  }\n\n  // using declaration merging\n  interface Extends {\n    myField: string;\n  }\n  class Extends extends Base {\n    updateFromDTO(dto: any) {\n      super.updateFromDTO(dto);\n      console.log(\"I was called\");\n      this.myField = \"weee\";\n      console.log(this.myField);\n      return this;\n    }\n  }\n</code></pre>\n\n<p>in a simpler example:</p>\n\n<pre><code>  interface A {}\n  interface B {}\n\n  class Base {\n    prop: A | B | null = null;\n  }\n\n  class Sub1 extends Base {\n    prop!: A | null; // type narrowed\n  }\n\n  // using declaration merging\n  interface Sub2 {\n    prop: A | null; // type narrowed\n  }\n  class Sub2 extends Base {\n  }\n  console.log(\"without declaration merging\");\n  console.log(`${new Sub1().prop}`); // tsc: null, babel: undefined\n  console.log(\"with declaration merging\");\n  console.log(`${new Sub2().prop}`); // tsc: null, babel: null\n</code></pre>\n\n<p>The declaration merging here makes typecript aware of the narrowed type but does not add a property to Sub2, which @babel/typescript inits to undefined.</p>\n"}], "owner": {"reputation": 6654, "user_id": 650784, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dc10f737eca30ee238b248ffde27ceac?s=128&d=identicon&r=PG", "display_name": "Zipper", "link": "https://stackoverflow.com/users/650784/zipper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1559223066, "creation_date": 1555511594, "question_id": 55730057, "link": "https://stackoverflow.com/questions/55730057/correct-way-to-assign-fields-in-constructor-in-a-derived-class-using-typescript", "title": "Correct way to assign fields in constructor in a derived class using typescript and babel with tc39", "body": "<p>So I ran in to an issue where after a constructor was run the values assigned to a field in a class were over written with undefined.</p>\n\n<p>It was related to this issue <a href=\"https://github.com/babel/babel/issues/9105\" rel=\"nofollow noreferrer\">https://github.com/babel/babel/issues/9105</a> which references <a href=\"https://github.com/tc39/proposal-class-fields\" rel=\"nofollow noreferrer\">https://github.com/tc39/proposal-class-fields</a></p>\n\n<p>The repro code is below. </p>\n\n<p>I sort of understand some of the reasoning behind why this was chosen, and people who are far more familiar with javascript and the nuances of choices have argued this extensively, so I assume their choice was a better one than I could make. </p>\n\n<p>But this seems really horrible and leads to code that looks like it should work, and if you debug it everything seems to work until the constructor finishes then everything is undefined. So my question is what is the correct way to properly handle this kind of scenario? You can work around this by doing this <code>myField: string = this.myField</code>, but that code is confusing as hell to someone who doesn't understand everything that's happening, and most people would remove it as clearly useless.</p>\n\n<p>I'm trying to figure out what the idiomatic code is to assign fields in a constructor and everything I've come up with so far looks horrible and seems like an anti-pattern.</p>\n\n<pre><code>class Base {\n    constructor(dto?){\n        if(dto){\n            this.updateFromDTO(dto);\n        }\n    }\n\n    updateFromDTO(dto) : this{\n        return this;\n    }\n}\n\n\nclass Extends extends Base {\n    myField: string;\n\n    updateFromDTO(dto) {\n        super.updateFromDTO(dto);\n        console.log('I was called');\n        this.myField = \"weee\";\n        console.log(this.myField);\n        return this;\n    }\n}\n\nconsole.log(new Extends(\"123\"));//logs 'I was called', 'weee', then the extends object which has myField as undefined.\n</code></pre>\n\n<p>Babel config to get this behavior</p>\n\n<pre><code>const DEVELOPMENT = 'production' !== process.env.NODE_ENV\n\nmodule.exports = {\n    presets: [\n        [\"@babel/preset-env\", {useBuiltIns: \"entry\"}],\n        \"@babel/preset-react\",\n        \"@babel/typescript\"\n    ],\n    plugins: [\n        \"@babel/plugin-proposal-class-properties\",\n        \"@babel/plugin-proposal-export-default-from\",\n        \"@babel/plugin-syntax-dynamic-import\",\n        [\"@babel/plugin-transform-runtime\", {\"regenerator\": true}],\n        \"@babel/plugin-transform-classes\",\n    ],\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 12860, "user_id": 1112003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4a4d52c5a930f2ed1ce177ae67f2c29?s=128&d=identicon&r=PG", "display_name": "Jscti", "link": "https://stackoverflow.com/users/1112003/jscti"}, "edited": false, "score": 0, "creation_date": 1555511818, "post_id": 55730011, "comment_id": 98139028, "body": "the onChange you&#39;re calling in your template is doing .... nothing .."}], "answers": [{"comments": [{"owner": {"reputation": 12860, "user_id": 1112003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4a4d52c5a930f2ed1ce177ae67f2c29?s=128&d=identicon&r=PG", "display_name": "Jscti", "link": "https://stackoverflow.com/users/1112003/jscti"}, "edited": false, "score": 0, "creation_date": 1555512545, "post_id": 55730230, "comment_id": 98139521, "body": "Not sure this question will help anybody on earth someday but you&#39;ll get easy reputation points ^^ (oh you deleted it xD)"}], "tags": [], "owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1555512206, "last_edit_date": 1555512206, "creation_date": 1555512031, "answer_id": 55730230, "question_id": 55730011, "link": "https://stackoverflow.com/questions/55730011/controlvalueaccessor-component-not-updating-value-in-formgroup-at-angular-7/55730230#55730230", "title": "ControlValueAccessor component not updating value in formgroup at angular 7", "body": "<p>You need 2 changes to make it work.</p>\n\n<p>First of all your <code>onChange()</code> method does nothing.</p>\n\n<p>Change it to <code>public onChange: (value) =&gt; void</code>.</p>\n\n<p>Then call <code>this.onChange(selected)</code> on your <code>set selectedItem(selected)</code> after writing to the  <code>value</code> property so it becomes</p>\n\n<pre><code>set selectedItem(selected) {\n    this.value = selected;\n    this.onChange(selected);\n} \n</code></pre>\n\n<p>See <a href=\"https://stackblitz.com/edit/angular-formgroup-mupyjy?file=src/app/my-child-component/my-child-component.component.ts\" rel=\"nofollow noreferrer\">new stackblitz</a></p>\n"}], "owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 55730230, "answer_count": 1, "score": -1, "last_activity_date": 1577893964, "creation_date": 1555511500, "last_edit_date": 1577893964, "question_id": 55730011, "link": "https://stackoverflow.com/questions/55730011/controlvalueaccessor-component-not-updating-value-in-formgroup-at-angular-7", "title": "ControlValueAccessor component not updating value in formgroup at angular 7", "body": "<p>I'm using angular 7. And I created child component like below Stackblitz by <code>ControlValueAccessor</code>. I have a combobox and textbox in my form. And when I select item from combobox, then value of item set to textbox. But when I clicked \"SAVE\" button, my form value coming as empty. What can be the reason of coming as empty?</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-formgroup-5fwery?file=src%2Fapp%2Fmy-child-component%2Fmy-child-component.component.ts\" rel=\"nofollow noreferrer\">STACKBLITZ</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "mobx"], "comments": [{"owner": {"reputation": 3140, "user_id": 1624844, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/SXXv0.png?s=128&g=1", "display_name": "Amir-Mousavi", "link": "https://stackoverflow.com/users/1624844/amir-mousavi"}, "edited": false, "score": 0, "creation_date": 1555512470, "post_id": 55729742, "comment_id": 98139474, "body": "are you using any UI library? if so see the type of input element there. otherwise no need to detruct the type inline just <code>event:React.FormEvent</code>  which is a synthetic event contains all the types for target name and target value"}], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "is_accepted": false, "score": 1, "last_activity_date": 1555511913, "creation_date": 1555511913, "answer_id": 55730189, "question_id": 55729742, "link": "https://stackoverflow.com/questions/55729742/react-typescript-argument-of-type-x-number-any-is-not-assignable-to/55730189#55730189", "title": "React Typescript: Argument of type &#39;{ [x: number]: any; }&#39; is not assignable to parameter of type", "body": "<p>Your state shape is this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface IAddPlayerFormState {\n  playerName: string;\n  isDisabled: boolean;\n}\n</code></pre>\n\n<p>and you are calling setState with this:</p>\n\n<pre><code>{any: any}\n</code></pre>\n\n<p>You can change only values: playerName and isDisabled not any. If you rewrite function signature as </p>\n\n<pre><code>public onChange(event: { target: { name: \"playerName\"|\"isDisabled\"; value: any; }; })\n</code></pre>\n\n<p>or better</p>\n\n<pre><code>public onChange(event: { target: { name: keyof IAddPlayerFormState ; value: any; }; })\n</code></pre>\n\n<p>it should be ok for typescript. Btw this code will not work though. Change input name :). I hope this answer is clear, if not i will edit that.</p>\n"}, {"tags": [], "owner": {"reputation": 2971, "user_id": 5103346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfXxE.jpg?s=128&g=1", "display_name": "Vincent D&#39;amour", "link": "https://stackoverflow.com/users/5103346/vincent-damour"}, "is_accepted": true, "score": 6, "last_activity_date": 1571940708, "last_edit_date": 1571940708, "creation_date": 1555512612, "answer_id": 55730434, "question_id": 55729742, "link": "https://stackoverflow.com/questions/55729742/react-typescript-argument-of-type-x-number-any-is-not-assignable-to/55730434#55730434", "title": "React Typescript: Argument of type &#39;{ [x: number]: any; }&#39; is not assignable to parameter of type", "body": "<p>You need to tell Typescript that your object will have one or more property from IAddPlayerFormState, but not necessarily all properties. You can do it like this: </p>\n\n<pre><code>public onChange(event: { target: { name: any; value: any; }; }) {\n  const newState = { [name]: value } as Pick&lt;IAddPlayerFormState, keyof IAddPlayerFormState&gt;;\n  this.setState(newState);\n  console.log(\"On Change!\");\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1682, "user_id": 7220869, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad096f6dde486ee6799b7e7834530db1?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/7220869/jesse"}, "edited": false, "score": 0, "creation_date": 1611778123, "post_id": 63115383, "comment_id": 116563164, "body": "Can you explain &quot;...this.state&quot;"}, {"owner": {"reputation": 65, "user_id": 10107210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204943367422760/picture?type=large", "display_name": "Amartya Mishra", "link": "https://stackoverflow.com/users/10107210/amartya-mishra"}, "reply_to_user": {"reputation": 1682, "user_id": 7220869, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad096f6dde486ee6799b7e7834530db1?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/7220869/jesse"}, "edited": false, "score": 0, "creation_date": 1611889948, "post_id": 63115383, "comment_id": 116601619, "body": "@Jesse sure, ...this.state will expand/destructure the state object, then you are adding more objects to/modifying the destructured object. Finally, you take all of this and assign it to the current state using this.setState."}], "tags": [], "owner": {"reputation": 65, "user_id": 10107210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204943367422760/picture?type=large", "display_name": "Amartya Mishra", "link": "https://stackoverflow.com/users/10107210/amartya-mishra"}, "is_accepted": false, "score": 6, "last_activity_date": 1595852969, "creation_date": 1595852969, "answer_id": 63115383, "question_id": 55729742, "link": "https://stackoverflow.com/questions/55729742/react-typescript-argument-of-type-x-number-any-is-not-assignable-to/63115383#63115383", "title": "React Typescript: Argument of type &#39;{ [x: number]: any; }&#39; is not assignable to parameter of type", "body": "<p>Using this syntax got rid of the error for me:</p>\n<pre><code>const myFunction = (e) =&gt; {\n    return this.setState({...this.state, [e.target.id]: e.target.value});\n}\n\n</code></pre>\n"}], "owner": {"reputation": 1380, "user_id": 9886585, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZWvfO1w78YQ/AAAAAAAAAAI/AAAAAAAABHU/HEAHPd2O7s8/photo.jpg?sz=128", "display_name": "lecham", "link": "https://stackoverflow.com/users/9886585/lecham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8525, "favorite_count": 0, "accepted_answer_id": 55730434, "answer_count": 3, "score": 3, "last_activity_date": 1595852969, "creation_date": 1555510790, "last_edit_date": 1572575087, "question_id": 55729742, "link": "https://stackoverflow.com/questions/55729742/react-typescript-argument-of-type-x-number-any-is-not-assignable-to", "title": "React Typescript: Argument of type &#39;{ [x: number]: any; }&#39; is not assignable to parameter of type", "body": "<p>I added onChange method in my project(React, TS, Mobx), but I am getting an error: <code>Argument of type '{ [x: number]: any; }' is not assignable to parameter of type</code> </p>\n\n<p>I am new to TypeScript and not sure why it's happening. What can be the problem?</p>\n\n<pre><code>(parameter) event: {\n    target: {\n        name: any;\n        value: any;\n    };\n}\n</code></pre>\n\n<blockquote>\n  <p>Argument of type '{ [x: number]: any; }' is not assignable to\n  parameter of type 'IAddPlayerFormState | ((prevState:\n  Readonly, props: Readonly)\n  => IAddPlayerFormState | Pick | null) | Pick&lt;...> | null'.</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/pVq7b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pVq7b.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import React, { Component } from 'react';\nimport ViewStore from '../../../store/ViewStore';\nimport { TextField } from './../../../utils';\n\ninterface IAddPlayerFormProps {\n  viewStore?: ViewStore; // Optional ViewStore\n}\n\ninterface IAddPlayerFormState {\n  playerName: string;\n  isDisabled: boolean;\n}\n\nclass AddPlayerForm extends Component&lt;IAddPlayerFormProps, IAddPlayerFormState&gt; {\n  constructor(props: Readonly&lt;IAddPlayerFormProps&gt;) {\n    super(props);\n\n    this.state = {\n      isDisabled: false,\n      playerName: '',\n    };\n  }\n\n  public onChange(event: { target: { name: any; value: any; }; }) {\n    this.setState({ [event.target.name]: event.target.value });\n    console.log('On Change!');\n  }\n\n  public handleSubmit = () =&gt; {\n    console.log('On submit!');\n  }\n\n  public render() {\n    const { isDisabled } = this.state;\n\n    return (\n      &lt;form onSubmit={this.handleSubmit}&gt;\n        &lt;TextField\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          placeholder=\"Add player\"\n          onChange={this.onChange}\n          disabled={isDisabled}\n        /&gt;\n\n        &lt;input type=\"submit\" /&gt;\n      &lt;/form&gt;\n    );\n  }\n}\n\nexport default AddPlayerForm;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "interceptor", "nestjs"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1555512034, "post_id": 55729585, "comment_id": 98139163, "body": "can you give an example of what you are trying to do?"}, {"owner": {"reputation": 103, "user_id": 491550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P4qOM.jpg?s=128&g=1", "display_name": "marciopd", "link": "https://stackoverflow.com/users/491550/marciopd"}, "reply_to_user": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1555535105, "post_id": 55729585, "comment_id": 98150032, "body": "Hello @shusson. Imagine you have a controller method that calls two different providers (each one triggers a different remote call) and you want to measure the performance of each provider separately, using let&#39;s say a MonitoringInterceptor. So you would annotate each provider with @UseInterceptors(MonitoringInterceptor) and expect to collect metrics on both."}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 1, "last_activity_date": 1556120324, "last_edit_date": 1556120324, "creation_date": 1556119863, "answer_id": 55833723, "question_id": 55729585, "link": "https://stackoverflow.com/questions/55729585/is-it-possible-to-intercept-providers-in-nest-js/55833723#55833723", "title": "Is it possible to intercept providers in Nest.js?", "body": "<p>As Kamil wrote in this <a href=\"https://github.com/nestjs/nest/issues/1923#issuecomment-479430378\" rel=\"nofollow noreferrer\">issue</a>:</p>\n\n<blockquote>\n  <p>it's impossible</p>\n</blockquote>\n\n<p>In this <a href=\"https://github.com/nestjs/nest/issues/615#issuecomment-385619855\" rel=\"nofollow noreferrer\">issue</a>, he gives the following explanation:</p>\n\n<blockquote>\n  <p>because it could break too many existing codebases</p>\n</blockquote>\n\n<hr>\n\n<p>But of course, you can always create your own <a href=\"https://www.typescriptlang.org/docs/handbook/decorators.html\" rel=\"nofollow noreferrer\">custom decorators</a> that also work on any class methods to enable aspect-oriented programming on providers.</p>\n"}], "owner": {"reputation": 103, "user_id": 491550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P4qOM.jpg?s=128&g=1", "display_name": "marciopd", "link": "https://stackoverflow.com/users/491550/marciopd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 55833723, "answer_count": 1, "score": 1, "last_activity_date": 1556120324, "creation_date": 1555510297, "last_edit_date": 1556119920, "question_id": 55729585, "link": "https://stackoverflow.com/questions/55729585/is-it-possible-to-intercept-providers-in-nest-js", "title": "Is it possible to intercept providers in Nest.js?", "body": "<p>I'm trying to <a href=\"https://docs.nestjs.com/interceptors\" rel=\"nofollow noreferrer\">intercept</a> Nest.js <a href=\"https://docs.nestjs.com/providers\" rel=\"nofollow noreferrer\">providers</a> and it doesn't seem to work. </p>\n\n<p>Can anyone confirm this? If yes, is there any specific design reason for that?</p>\n\n<p>Usually it's possible to intercept any <code>bean</code> in dependency injection containers.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1555510820, "post_id": 55729734, "comment_id": 98138402, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/17574\" rel=\"nofollow noreferrer\">Relevant GitHub issue</a> suggesting introduction of generic values"}], "tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": false, "score": 1, "last_activity_date": 1555510758, "creation_date": 1555510758, "answer_id": 55729734, "question_id": 55729567, "link": "https://stackoverflow.com/questions/55729567/how-to-use-interface-and-generic-same-time-in-function/55729734#55729734", "title": "How to use interface and generic same time in Function", "body": "<p>There's no syntactic way to express the idea: \"I want this value to have multiple generic types\". However, Typescript is structurally typed, which means you don't have to <em>say</em> that something has a given type for it to have that type; it simply has that type if it satisfies the corresponding interface. So this is one of the rare situations where you can fix your problem by <em>removing</em> type annotations.</p>\n\n<pre><code>const wantFunc = &lt;T&gt;(arg: T) =&gt; arg + 'want';\n</code></pre>\n\n<p>Then we can call it as</p>\n\n<pre><code>wantFunc&lt;string&gt;(\"A\");\nwantFunc&lt;number&gt;(99);\n</code></pre>\n\n<p>And, just to confirm, it is still a <code>ITFunc&lt;T&gt;</code> (for appropriate <code>T</code>), since we can assign it to a variable of the appropriate (monomorphic) type.</p>\n\n<pre><code>let wantFuncN: ITFunc&lt;number&gt; = wantFunc;\nlet wantFuncS: ITFunc&lt;string&gt; = wantFunc;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7749755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9a72e53ff9e962213caf72e3348f164?s=128&d=identicon&r=PG&f=1", "display_name": "AlphaDu", "link": "https://stackoverflow.com/users/7749755/alphadu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555510758, "creation_date": 1555510252, "last_edit_date": 1555510552, "question_id": 55729567, "link": "https://stackoverflow.com/questions/55729567/how-to-use-interface-and-generic-same-time-in-function", "title": "How to use interface and generic same time in Function", "body": "<p>how to use generic in a function which implement interface</p>\n\n<p>in the example code how do I achieve a interface or type,which extract generality in \u2018xFunc\u2019 and \u2018yFunc\u2019\uff0cand which I can use \u2018wantFunc\u2019 to implement it to apply wantFunc like xFunc and myFunc</p>\n\n<p>can I use 'wantFunc' to implements ITFunc without appoint generic T util it apply?</p>\n\n<pre><code>interface IFunc {\n  (arg : any): string\n}\ninterface ITFunc&lt;T&gt; {\n  (arg : T): string\n}\nconst myFuc: IFunc = (a) =&gt; a + 'my'\nmyFuc(null)\nconst stringFunc:ITFunc&lt;string&gt; = (arg) =&gt; arg + 'a'\nconst numberFunc:ITFunc&lt;number&gt; = (arg) =&gt; arg + 'b'\nconst xFunc = &lt;T&gt;(arg: T) =&gt; arg + 'x'\nconst yFunc = &lt;T&gt;(arg: T) =&gt; arg + 'y'\nconst wantFunc:ITFunc&lt;T&gt; = &lt;T&gt;(arg: T) =&gt; arg + 'want' // mistake\nstringFunc('sss')\nnumberFunc(123)\nxFunc&lt;string&gt;('ss')\nyFunc&lt;number&gt;(123)\nwantFunc&lt;string&gt;('ds') // how to do\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "ng-class", "angular-ng-if"], "comments": [{"owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "edited": false, "score": 2, "creation_date": 1555510455, "post_id": 55729534, "comment_id": 98138113, "body": "Change your condition to this: <code>temp_tooltip &gt;= 23 &amp;&amp; temp_tooltip &lt;= 24.5,</code> ... do the same for all."}], "answers": [{"tags": [], "owner": {"reputation": 639, "user_id": 3456021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1cd14813b3135483cea7581a6ab769?s=128&d=identicon&r=PG&f=1", "display_name": "Askirkela", "link": "https://stackoverflow.com/users/3456021/askirkela"}, "is_accepted": false, "score": 2, "last_activity_date": 1555510600, "creation_date": 1555510600, "answer_id": 55729688, "question_id": 55729534, "link": "https://stackoverflow.com/questions/55729534/how-to-use-ngclass-with-conditional-statements/55729688#55729688", "title": "How to use ngClass with conditional statements", "body": "<p><code>23 &lt;= temp_tooltip &lt;= 24.5</code> is not a correct expression in javascript/typescript.</p>\n\n<p>You should find another way to phrase this condition like\n<code>23 &lt;= temp_tooltip &amp;&amp; temp_tooltip &lt;= 24.5</code></p>\n"}, {"tags": [], "owner": {"reputation": 27366, "user_id": 1791913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PY0go.png?s=128&g=1", "display_name": "Faisal", "link": "https://stackoverflow.com/users/1791913/faisal"}, "is_accepted": false, "score": 1, "last_activity_date": 1555510696, "creation_date": 1555510696, "answer_id": 55729717, "question_id": 55729534, "link": "https://stackoverflow.com/questions/55729534/how-to-use-ngclass-with-conditional-statements/55729717#55729717", "title": "How to use ngClass with conditional statements", "body": "<p>The correct syntax would be this:</p>\n\n<pre><code> [ngClass]= \"{\n        'safe' : temp_tooltip &gt;= 23 &amp;&amp; temp_tooltip &lt;= 24.5,\n        'alarm_lowside' : temp_tooltip &gt;= 21 &amp;&amp; temp_tooltip &lt; 23,\n        'alarm_highside' : temp_tooltip &gt; 24.5 &amp;&amp; temp_tooltip &lt;= 26, \n        'critical_lowside' : temp_tooltip &lt; 21,\n        'critical_highside' : temp_tooltip &gt; 26\n   }\"\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 8957025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a90194ad8c6034232409a5d01a7bdaaa?s=128&d=identicon&r=PG&f=1", "display_name": "cvg", "link": "https://stackoverflow.com/users/8957025/cvg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555510696, "creation_date": 1555510176, "question_id": 55729534, "link": "https://stackoverflow.com/questions/55729534/how-to-use-ngclass-with-conditional-statements", "title": "How to use ngClass with conditional statements", "body": "<p>The color of my mat icon element should change dynamically.</p>\n\n<pre><code>&lt;mat-icon class=\"temperature icon\" svgIcon=\"thermometer-alert\" matTooltip = {{temp_tooltip}}\n          aria-label=\"Icon that displays a tooltip when focused or hovered over\"\n          [ngClass]= \"{\n            'safe' : 23 &lt;= temp_tooltip &lt;= 24.5,\n            'alarm_lowside' : 21 &lt;= temp_tooltip &lt; 23,\n            'alarm_highside' : 24.5 &lt; temp_tooltip &lt;= 26, \n            'critical_lowside' : temp_tooltip &lt; 21,\n            'critical_highside' : temp_tooltip &gt; 26\n           }\" &gt;\n        &lt;/mat-icon&gt;\n\n</code></pre>\n\n<p>temp_tooltip value is binded in component.ts</p>\n\n<p>and css have the color styling</p>\n\n<pre><code>.safe {\n color: green\n}\n\n.alarm_lowside {\n    color: yellow\n}\n\n.alarm_highside {\n    color: yellow\n}\n\n.critical_lowside {\n    color: red\n}\n\n.critical_highside{\n    color: red\n}\n\n</code></pre>\n\n<p>it works fine with critical_lowside and critical_highside classes, but not for the other classes. How to correct. Is the way ngClass is defined is it correct?</p>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 164, "user_id": 1498905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xn0V1.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/1498905/mark"}, "edited": false, "score": 0, "creation_date": 1610703544, "post_id": 55729502, "comment_id": 116221419, "body": "Find a good solution here: <a href=\"https://stackoverflow.com/questions/27045704/how-do-i-get-a-multi-page-pdf-from-a-website-using-jspdf-and-html2canvas\" title=\"how do i get a multi page pdf from a website using jspdf and html2canvas\">stackoverflow.com/questions/27045704/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 607, "user_id": 5164776, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/999423470091088/picture?type=large", "display_name": "Chandan Kumar", "link": "https://stackoverflow.com/users/5164776/chandan-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1555510367, "creation_date": 1555510367, "answer_id": 55729614, "question_id": 55729502, "link": "https://stackoverflow.com/questions/55729502/add-multiple-pages-in-pdf-using-html2canvas-and-jspdf/55729614#55729614", "title": "add multiple pages in pdf using html2canvas and jspdf", "body": "<p>you can use pdfMake, another amazing js library. I got these infos in this question: Generating PDF files with JavaScript</p>\n\n<pre><code>printDocument() {\n  const divs = document.getElementsByClassName('example');\n  const newList = [].slice.call(inputs);\n  var contentArray = []\n  var docDefinition = {\n            pageSize: {width: 800, height: 1173},\n            content: [\n                {\n                    text: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Confectum ponit legam, perferendis nomine miserum, animi. Moveat nesciunt triari naturam.'\n                }\n            ]\n\n        }\n\n  Promise.map(newList, async (element, index) =&gt; {\n            let canvas = await html2canvas(element);\n            const imgData = await canvas.toDataURL('image/png');\n            // console.log(\"imgData URL =&gt; \", imgData)\n            // margin horizontal -40 = removing white spaces\n            return contentArray[`${index}`] = [{ image: imgData, width: canvas.width, height: canvas.height, margin: [-40, 0] }, {\n                text: ` ${index} - Lorem ipsum dolor sit amet, consectetur adipisicing elit. Confectum ponit legam, perferendis nomine miserum, animi.`\n}];\n\n        }).then(\n            () =&gt; ( docDefinition.content.push(contentArray))\n        ).then(\n            () =&gt; {\n                console.log(\"... starting download ...\")\n                pdfMake.createPdf(docDefinition).download('examplePdf.pdf')\n            } \n        )\n}\n\n// In your react's component constructor ... \n\nconstructor(props) {\n        super(props);\n        this.printDocument = this.printDocument.bind(this)\n}\n\n// the imports below ...\nimport Promise from 'bluebird';\nimport html2canvas from 'html2canvas';\nimport pdfMake from 'pdfmake/build/pdfmake.js';\nimport pdfFonts from \"pdfmake/build/vfs_fonts.js\";\npdfMake.vfs = pdfFonts.pdfMake.vfs;\n\n// i'm using these middlewares\nimport promise from 'redux-promise'\nimport multi from 'redux-multi'\nimport thunk from 'redux-thunk'\n\n\n\n\n\n&lt;div&gt;\n  The approach here is: a div it's not a page. Because if the image generated by the canvas element it's bigger than the page vertical size, we'll need to control the pagination by ourselves. So, we broke our content in small elements to the pdf generator handle the pagination to us. This way we garantee that the pagination will occurs without cuts. \n  &lt;div className=\"example\" style={{ backgroundColor: '#ffffff', maxWidth: '800px', maxHeight: '1173px', borderStyle: 'groove', borderColor: 'red', margin: '0px' }} &gt;\n\n  // any content or component here, we need maxHeight to be sure that the div's height size it's not bigger than the your PDF doc's height dimension, else your div may never be rendered inside it.\n\n  &lt;/div&gt;\n  &lt;div className=\"example\" style={{ backgroundColor: '#ffffff', maxWidth: '800px', maxHeight: '1173px', borderStyle: 'groove', borderColor: 'red', margin: '0px' }} &gt;\n\n  // any content or component here, we need maxHeight to be sure that the div's height size it's not bigger than the your PDF doc's height dimension, else your div may never be rendered inside it.\n\n  &lt;/div&gt;\n  &lt;div className=\"example\" style={{ backgroundColor: '#ffffff', maxWidth: '800px', maxHeight: '1173px', borderStyle: 'groove', borderColor: 'red', margin: '0px' }} &gt;\n\n  // any content or component here, we need maxHeight to be sure that the div's height size it's not bigger than the your PDF doc's height dimension, else your div may never be rendered inside it.\n\n  &lt;/div&gt;\n\n&lt;/div&gt;\n\n&lt;div&gt;\n &lt;button onClick={this.printDocument}&gt; print using PDFMake  &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<blockquote>\n  <p>Using the Promise.map by bluebird with the async/await resources, we\n  can ensure that we'll wait till the end of generation of all images\n  from canvas. This process can take a while depending of your image's\n  size.</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 11374273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b74ffd75699f8613cbff84f656421c3?s=128&d=identicon&r=PG&f=1", "display_name": "Nitesh", "link": "https://stackoverflow.com/users/11374273/nitesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2655, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555512789, "creation_date": 1555510091, "last_edit_date": 1555512789, "question_id": 55729502, "link": "https://stackoverflow.com/questions/55729502/add-multiple-pages-in-pdf-using-html2canvas-and-jspdf", "title": "add multiple pages in pdf using html2canvas and jspdf", "body": "<p>my below code is working fine but i want all pages in one PDF. i have 2 json object. when i click on button its open in 2 tab with different result i want its open in one pdf tab add multiple records in multiple pages in one pdf. can you help me on this.</p>\n\n<pre><code>for (let i = 0;i  &lt;= this.reportVGWM.length; i++){\n          html2canvas(document.querySelector('#myTable' + i)).then(canvas =&gt; {\n            var imgWidth = 180;\n            var pageHeight = 280;\n            var imgHeight = canvas.height * imgWidth / canvas.width;\n            var heightLeft = imgHeight;\n            var imgData = canvas.toDataURL(\"image/jpeg\");\n            var heightLeft = imgHeight;\n            var pdf = new jsPDF('p', 'mm', 'a4');\n            var position = 20;\n            var font: { 'padding-bottom: 40%; padding-top:30%' };\n            pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);\n            pdf.addPage();                 \n            pdf.output('dataurlnewwindow');\n\n          });\n        }\n        }, 1);\n      });\n</code></pre>\n"}, {"tags": ["typescript", "timer"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1555509683, "post_id": 55729246, "comment_id": 98137615, "body": "Where does <code>TaskTimer</code> come from?"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1555509812, "post_id": 55729246, "comment_id": 98137701, "body": "from here: <a href=\"https://github.com/onury/tasktimer\" rel=\"nofollow noreferrer\">link</a> I&#39;ve used <code>import { TaskTimer } from &#39;tasktimer&#39;;</code> in both examples"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 1, "creation_date": 1555509918, "post_id": 55729246, "comment_id": 98137778, "body": "I suspect that your <code>this</code> in the callback does not refer to the instance. Can you try with <code>const self = this</code> and then use self in the cb?"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555510358, "post_id": 55729246, "comment_id": 98138057, "body": "@k0pernikus Tried as you said and I&#39;ve got rid of the error, but right now it&#39;s printing <code>[Function: getData]</code> instead of the current timestamp..."}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555510496, "post_id": 55729246, "comment_id": 98138143, "body": "@k0pernikus If I&#39;m using <code>console.log(self.getData());</code> in the callback instead of <code>self.print1();</code> it&#39;s printing correctly so... I&#39;m guessing that now it&#39;s a problem with the <code>this</code> from the <code>print1()</code> function?"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555511139, "post_id": 55729246, "comment_id": 98138597, "body": "@k0pernikus I&#39;ve tried to use <code>setTimeout</code> or <code>setInterval</code> in the first place, but with no luck so I&#39;ve given up on that and tried <code>TaskTimer</code>. This was my other question <a href=\"https://stackoverflow.com/questions/55707022/print-timestamp-in-a-file-not-changing-timestamp-value\">link</a> If you could have a look on it I would greatly appreciate it! :) (so far nobody answered...)"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1555512046, "post_id": 55729246, "comment_id": 98139170, "body": "Try making the callback a bound function like <code>callback: () =&gt; this.print()</code>"}, {"owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "reply_to_user": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555512168, "post_id": 55729246, "comment_id": 98139258, "body": "@k0pernikus Ok. It was just a stupid mistake in the <code>print1()</code> function... I was using <code>this.getData</code> instead of <code>this.getData()</code>... Thanks a lot for the help!! :) Could you please explain a little more how is that the <code>this</code> that I was using in the callback was not referring to the right instance? Thanks a lot again! :)"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555515403, "post_id": 55729246, "comment_id": 98141325, "body": "@user3063909 Don&#39;t ask follow-up questions within comments, ask a new questions. You can link to your old questions. That being said, in regards to <code>this</code> and its weird context, that&#39;s a growing pain of JavaScript itself and fills volumes. See this <a href=\"http://ryanmorr.com/understanding-scope-and-context-in-javascript/\" rel=\"nofollow noreferrer\">ryanmorr.com/understanding-scope-and-context-in-javascript</a> blogpost for example, esp. the part &quot;What is \u201cthis\u201d Context&quot;."}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1555515454, "post_id": 55729246, "comment_id": 98141362, "body": "Also if you found your answer, don&#39;t point that out in a comment, but rather create your own answer. That perfectly fine and encouraged on stackoverflow."}], "answers": [{"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": false, "score": 1, "last_activity_date": 1555512222, "creation_date": 1555512222, "answer_id": 55730300, "question_id": 55729246, "link": "https://stackoverflow.com/questions/55729246/calling-a-function-every-n-seconds-using-tasktimer/55730300#55730300", "title": "Calling a function every n seconds using TaskTimer", "body": "<p>Defining the callback using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Method_definitions\" rel=\"nofollow noreferrer\">object method shorthand</a> makes it an <a href=\"https://stackoverflow.com/questions/24757407/bound-vs-unbound-functions\">unbound function</a>:</p>\n\n<pre><code>            callback() {\n                this.print1();\n            }\n</code></pre>\n\n<p>In other words, from inside <code>callback</code> the <code>this</code> is not <em>necessarily</em> the class instance, but whatever the calling context is. </p>\n\n<p>If you instead define the callback as a bound function (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">fat arrow function</a>) then <code>this</code> will be preserved as the class instance:</p>\n\n<pre><code>            callback: () =&gt; {\n                this.print1();\n            }\n            // Or shorthand:\n            callback: () =&gt; this.print1()\n\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 3063909, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b70daf21f5df5dc0c2851ac195024998?s=128&d=identicon&r=PG&f=1", "display_name": "user3063909", "link": "https://stackoverflow.com/users/3063909/user3063909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555512222, "creation_date": 1555509436, "question_id": 55729246, "link": "https://stackoverflow.com/questions/55729246/calling-a-function-every-n-seconds-using-tasktimer", "title": "Calling a function every n seconds using TaskTimer", "body": "<p>I have a question about using classes in Typescript:</p>\n\n<p>If I run this code (without classes)</p>\n\n<pre><code>var timer = new TaskTimer(1000);\n\nfunction getData() {\n    return Date.now();\n}\n\nfunction print1() {\n    console.log(getData());\n}\n\ntimer.add({\n    id: 'job1',\n    tickInterval: 2,\n    totalRuns: 0,\n    callback() {\n        print1();\n    }\n});\n\n// Start the timer\ntimer.start();\n</code></pre>\n\n<p>It works perfectly! But if I try to run the same code, only using classes, it throws me the error:</p>\n\n<pre><code>error TS2339: Property 'print1' does not exist on type 'TaskCallback | ITaskOptions | Task | (TaskCallback | ITaskOptions | Task)[]'.\nProperty 'print1' does not exist on type 'TaskCallback'.\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>class App {\n\n    timer: TaskTimer;\n\n    constructor() {\n        this.timer = new TaskTimer(1000);\n    }\n\n    getData() {\n        return Date.now();\n    }\n\n    print1() {\n        console.log(this.getData);\n    }\n\n    print2() {\n        this.timer.add({\n            id: 'job1',\n            tickInterval: 1,\n            totalRuns: 0,\n            callback() {\n                this.print1();\n            }\n        });\n\n        this.timer.start();\n    }\n}\n\nlet app = new App();\napp.print2();\n</code></pre>\n\n<p>What am I doing wrong in the second case? I may be to tired to figure it out, but right now I just don't get it...</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 1, "creation_date": 1555509383, "post_id": 55729200, "comment_id": 98137395, "body": "<code>JSON.parse</code> in order to transform the string into an object"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1555509388, "post_id": 55729200, "comment_id": 98137400, "body": "<code>JSON.parse(&#39;&#39;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 29456, "user_id": 598683, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/kw1rx.jpg?s=128&g=1", "display_name": "Brandon", "link": "https://stackoverflow.com/users/598683/brandon"}, "is_accepted": false, "score": 0, "last_activity_date": 1555509764, "creation_date": 1555509764, "answer_id": 55729379, "question_id": 55729200, "link": "https://stackoverflow.com/questions/55729200/how-to-convert-string-to-interface-type-in-angular/55729379#55729379", "title": "how to convert string to interface type in angular?", "body": "<p>The simplest answer is just: <code>JSON.parse(localStorage.getItem('currentUser'))</code></p>\n\n<p>If you want something a bit more re-usable, you could leverage generics to define the return type...</p>\n\n<pre><code>export function hydrateFromLocalStorage&lt;T&gt;(key: string): T {\n  try {\n    return JSON.parse(localStorage.getItem(key))\n  }\n  catch (error) {\n    return null;\n  }\n}\n\n// example\nconst currentUser = hydrateFromLocalStorage&lt;YourInterface&gt;('currentUser');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538, "user_id": 5861930, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mJN-p5AFVOo/AAAAAAAAAAI/AAAAAAAAHKs/y0OLn0o9IcE/photo.jpg?sz=128", "display_name": "itay oded", "link": "https://stackoverflow.com/users/5861930/itay-oded"}, "is_accepted": false, "score": 0, "last_activity_date": 1555509782, "creation_date": 1555509782, "answer_id": 55729390, "question_id": 55729200, "link": "https://stackoverflow.com/questions/55729200/how-to-convert-string-to-interface-type-in-angular/55729390#55729390", "title": "how to convert string to interface type in angular?", "body": "<p>You are getting a type <strong>miss match type error</strong>, \nYou get this error because when you load item from the local storage, the item is type of string,</p>\n\n<p>in order to fix this problem simply use JSON.parse():</p>\n\n<p><code>JSON.parse(localStorage.getItem('currentUser'));</code></p>\n"}], "owner": {"reputation": 63, "user_id": 10215671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4MdxUntQ6n4/AAAAAAAAAAI/AAAAAAAABB0/QpcGnr6rL2Q/photo.jpg?sz=128", "display_name": "Sakib Mulla", "link": "https://stackoverflow.com/users/10215671/sakib-mulla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 534, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1555509782, "creation_date": 1555509305, "question_id": 55729200, "link": "https://stackoverflow.com/questions/55729200/how-to-convert-string-to-interface-type-in-angular", "title": "how to convert string to interface type in angular?", "body": "<p>I have store value in local storage then I need this local storage value to store in interface type variable. but showing error as can not string to the interface type.</p>\n\n<pre><code>export interface MainData {\n  name:string;\n  rollNumber:number;\n}\nlocalStorage.setItem('currentUser',JSON.stringify(user.ua));\ns:MainData[];\nthis.s = localStorage.getItem('currentUser'); // showing error here\n\n\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11207281, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoRgFd7Ol-E/AAAAAAAAAAI/AAAAAAAAAP4/TScJj0cCFNA/photo.jpg?sz=128", "display_name": "valery_vitkus", "link": "https://stackoverflow.com/users/11207281/valery-vitkus"}, "edited": false, "score": 0, "creation_date": 1555512325, "post_id": 55729764, "comment_id": 98139378, "body": "how to call getTranslateStaticLoader method in app.module.file ?"}, {"owner": {"reputation": 66, "user_id": 7489000, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O5ciurhZf24/AAAAAAAAAAI/AAAAAAAAAic/hLA7vHcMW2Y/photo.jpg?sz=128", "display_name": "samir romdhani", "link": "https://stackoverflow.com/users/7489000/samir-romdhani"}, "reply_to_user": {"reputation": 51, "user_id": 11207281, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoRgFd7Ol-E/AAAAAAAAAAI/AAAAAAAAAP4/TScJj0cCFNA/photo.jpg?sz=128", "display_name": "valery_vitkus", "link": "https://stackoverflow.com/users/11207281/valery-vitkus"}, "edited": false, "score": 0, "creation_date": 1555513749, "post_id": 55729764, "comment_id": 98140299, "body": "<a href=\"https://stackoverflow.com/questions/47851312/when-import-services-should-i-import-them-in-imports-array-or-providers-array\" title=\"when import services should i import them in imports array or providers array\">stackoverflow.com/questions/47851312/&hellip;</a>"}], "tags": [], "owner": {"reputation": 66, "user_id": 7489000, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O5ciurhZf24/AAAAAAAAAAI/AAAAAAAAAic/hLA7vHcMW2Y/photo.jpg?sz=128", "display_name": "samir romdhani", "link": "https://stackoverflow.com/users/7489000/samir-romdhani"}, "is_accepted": false, "score": 0, "last_activity_date": 1555510853, "creation_date": 1555510853, "answer_id": 55729764, "question_id": 55729043, "link": "https://stackoverflow.com/questions/55729043/how-to-insert-a-angular-service-into-a-function-in-a-module-file-outside-the-cla/55729764#55729764", "title": "How to insert a Angular service into a function in a Module file outside the class?", "body": "<p><em>You can use an intermediate service <code>@Injectable</code> to make sure that <code>HttpClient</code> and other are provided as a singleton ,<br/>\n then <code>TranslateBrowserLoader</code> should be a return type of a function in this  <code>@Injectable</code></em>.\n<br/></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Injectable()\r\nexport class TranslateLoader {\r\n\r\n  constructor(\r\n      private http: HttpClient,\r\n      private config: RuntimeConfigLoaderService,\r\n      private transferState: TransferState,\r\n      private cookie: CookieService\r\n       ) {}\r\n\r\n// import exportTranslateStaticLoader\r\n\r\ngetTranslateStaticLoader() : TranslateBrowserLoader {\r\n   return exportTranslateStaticLoader(\r\n      this.http,\r\n      this.config,\r\n      this.transferState,\r\n      this.cookie\r\n     )\r\n }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 51, "user_id": 11207281, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-uoRgFd7Ol-E/AAAAAAAAAAI/AAAAAAAAAP4/TScJj0cCFNA/photo.jpg?sz=128", "display_name": "valery_vitkus", "link": "https://stackoverflow.com/users/11207281/valery-vitkus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555510853, "creation_date": 1555508870, "last_edit_date": 1555510279, "question_id": 55729043, "link": "https://stackoverflow.com/questions/55729043/how-to-insert-a-angular-service-into-a-function-in-a-module-file-outside-the-cla", "title": "How to insert a Angular service into a function in a Module file outside the class?", "body": "<p>I have some function in my <code>app.module.ts</code> file after Module class declaration</p>\n\n<pre><code>export function exportTranslateStaticLoader(http: HttpClient, config: RuntimeConfigLoaderService, transferState: TransferState, cookie: CookieService) {\n  let apiUrl;\n  if (environment.browser.symphonyApiUrl) {\n    apiUrl = environment.browser.symphonyApiUrl;\n  } else {\n    const protocol = window.location.protocol;\n    const host = window.location.host;\n    apiUrl = `${protocol}//api.${host}`;\n  }\n  const link = environment.remoteTranslate ? `${apiUrl}/cms/locale/` : '/assets/i18n/';\n  return new TranslateBrowserLoader(link, '.json', transferState, http, cookie);\n}\n</code></pre>\n\n<p>and use them in imports section </p>\n\n<pre><code>TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: exportTranslateStaticLoader,\n        deps: [HttpClient, TransferState, CookieService]\n      }\n    }),\n</code></pre>\n\n<p>I'm need use some service (<code>RuntimeConfigLoaderService</code>)  in this function, how do it ?</p>\n"}, {"tags": ["javascript", "typescript", "es6-promise"], "answers": [{"comments": [{"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555511464, "post_id": 55729376, "comment_id": 98138792, "body": "this makes the prepare function &#39;async&#39; so how do I wait on that ? sorry for newbie question"}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555512853, "post_id": 55729376, "comment_id": 98139719, "body": "@MauricioGraciaGutierrez You can either make the function which calls your prepare function an async method or you can wrap it in an anonymous async action e.g. (async () =&gt; {   let response = await prepare(backendService);})(); <a href=\"https://javascript.info/async-await\" rel=\"nofollow noreferrer\">This</a> is a good article on async/await."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555514694, "post_id": 55729376, "comment_id": 98140938, "body": "I&#39;ve seen your other comment. I&#39;ll put detail on how to use this function in the answer."}, {"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555517889, "post_id": 55729376, "comment_id": 98142673, "body": "There is something weird going on here, when I check the values inside the prepare they are ok, but when I access them outside the prepare function using Configution.values all values seem to be undefined"}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555541438, "post_id": 55729376, "comment_id": 98151850, "body": "Your result is undefined probably because your async function hasn&#39;t actually run or completed. See my updated answer on how to call it and ensure the results are available."}, {"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555943409, "post_id": 55729376, "comment_id": 98260971, "body": "thanks for all the effort, my issue was that I was calling prepare in the wrong place, If I could upvote this more times I would ;-)"}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555947558, "post_id": 55729376, "comment_id": 98262914, "body": "No problem at all. Glad I could help :)"}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": true, "score": 1, "last_activity_date": 1555948255, "last_edit_date": 1555948255, "creation_date": 1555509759, "answer_id": 55729376, "question_id": 55728914, "link": "https://stackoverflow.com/questions/55728914/how-to-improve-this-promise-chaining-and-obtain-same-behaviour/55729376#55729376", "title": "How to improve this Promise chaining and obtain same behaviour", "body": "<p>You could use javaScripts async/await sytax for handling promises e.g.</p>\n\n<pre><code>export async function prepare(backendService: BackendService) {\n    values.assetsBucketAccessKeyId = await ConfigurationService.getValue(\"assetsBucketAccessKeyId\", backendService);\n    values.assetsBucketSecretAccessKey = await ConfigurationService.getValue(\"assetsBucketSecretAccessKey\", backendService);\n}\n</code></pre>\n\n<p>This approach leads to easier to read code when using promises.</p>\n\n<p>You then have a number of ways to call this function.</p>\n\n<p>1) Call it using Promise code e.g.</p>\n\n<pre><code>prepare(backendService).then(() =&gt; { // assetsBucketAccessKeyId/assetsBucketSecretAccessKey will now be available})\n</code></pre>\n\n<p>2) Call it from another async method e.g.</p>\n\n<pre><code>async function wrapper() {\n await prepare(backendService)\n // assetsBucketAccessKeyId/assetsBucketSecretAccessKey now available to access...\n}\n</code></pre>\n\n<p>3) Call it from an anonymous function e.g.</p>\n\n<pre><code>(async () =&gt; {\n  await prepare(backendService)\n  // assetsBucketAccessKeyId/assetsBucketSecretAccessKey now available to access...\n})();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555511631, "post_id": 55729831, "comment_id": 98138906, "body": "but then the &#180;prepare&#180; function will execute async and i need it to execute completly before the next line is called"}, {"owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555511915, "post_id": 55729831, "comment_id": 98139094, "body": "Async await  will work same as <code>.then()</code> thing. It will execute line by line only... Await will wait till data is received. Just async await will make code looks better, else functionality will be same and you need not to assign v1,v2 extra variables."}, {"owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555512033, "post_id": 55729831, "comment_id": 98139162, "body": "And writing async in front of prepare function will make it promise as well, so anywhere you use prepare function, you can await for it as well."}, {"owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555512131, "post_id": 55729831, "comment_id": 98139229, "body": "From where you are calling prepare? Write await in front of prepare function call as well if you wish to wait for prepare function execution as well."}, {"owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "reply_to_user": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555512268, "post_id": 55729831, "comment_id": 98139337, "body": "Does your current implementation works fine? If yes then just replace the body of prepare function with code provided by me. It will work same."}, {"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "edited": false, "score": 1, "creation_date": 1555512656, "post_id": 55729831, "comment_id": 98139593, "body": "@ATULSHARMA This is exactly the same as my answer which I left 25 minutes earlier."}, {"owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "reply_to_user": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "edited": false, "score": 0, "creation_date": 1555513144, "post_id": 55729831, "comment_id": 98139909, "body": "HI @BenSmith , Oh sorry, I haven&#39;t read it. and re-write whole code in my editor and solved his query. Because Async await has this solution only, so might be our answers get same. But explained him more, in answer as well as in comments. Hope you don&#39;t mind it."}, {"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "reply_to_user": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "edited": false, "score": 0, "creation_date": 1555513438, "post_id": 55729831, "comment_id": 98140090, "body": "I will try @BenSmith comment to see if it works, it will be best to have an answer with the details explained in the answer and not in comments"}, {"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 1, "creation_date": 1555946906, "post_id": 55729831, "comment_id": 98262642, "body": "Thanks for you answer but since the same answer came in first and is more detailed I have accepted that one"}], "tags": [], "owner": {"reputation": 136, "user_id": 8380060, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LKmEMilG_YU/AAAAAAAAAAI/AAAAAAAAJUE/Pq5yKCA-FDU/photo.jpg?sz=128", "display_name": "ATUL SHARMA", "link": "https://stackoverflow.com/users/8380060/atul-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1555511046, "creation_date": 1555511046, "answer_id": 55729831, "question_id": 55728914, "link": "https://stackoverflow.com/questions/55728914/how-to-improve-this-promise-chaining-and-obtain-same-behaviour/55729831#55729831", "title": "How to improve this Promise chaining and obtain same behaviour", "body": "<p>Since target functions are already promisified, you can use async await ES6 syntax.</p>\n\n<p>Example:</p>\n\n<pre><code>export async function prepare(backendService: BackendService) {\n    values.assetsBucketAccessKeyId = await ConfigurationService.getValue(\n          'assetsBucketAccessKeyId',\n          backendService\n        );\n    values.assetsBucketSecretAccessKey = await ConfigurationService.getValue(\n          'assetsBucketSecretAccessKey',\n          backendService\n       );\n}\n</code></pre>\n\n<p>Don't forget to add <code>async</code> in front of function name and <code>await</code> in front of function call.</p>\n\n<p><code>Note:</code> If any of your function is not returning a promise then this will not work.</p>\n"}, {"comments": [{"owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "edited": false, "score": 0, "creation_date": 1555943308, "post_id": 55737459, "comment_id": 98260915, "body": "thanks for your answer, this sounds extremly ofuscated and I am actually trying to make my code more readable"}], "tags": [], "owner": {"reputation": 1155, "user_id": 6943587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fzY6d.jpg?s=128&g=1", "display_name": "Nickofthyme", "link": "https://stackoverflow.com/users/6943587/nickofthyme"}, "is_accepted": false, "score": 0, "last_activity_date": 1555545621, "creation_date": 1555545621, "answer_id": 55737459, "question_id": 55728914, "link": "https://stackoverflow.com/questions/55728914/how-to-improve-this-promise-chaining-and-obtain-same-behaviour/55737459#55737459", "title": "How to improve this Promise chaining and obtain same behaviour", "body": "<p>Provided you know all of the keys upfront, you could just run through the promises in series. The series logic is pretty gnarly but it's basically a utility method to employ anywhere for this purpose.</p>\n\n<p>The changes below are all the changes, everything else in your code is unchanged.</p>\n\n<p>You may need to refactor your code a little to handle passing context to the serialized resolved callbacks but that's easy.</p>\n\n<p>I used es7 but you can convert if you want.</p>\n\n<p>Let me know if you need any more explanation.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export async function serializedRun&lt;T&gt;(promiseFunctions: (() =&gt; Promise&lt;T&gt;)[], callback: (T) =&gt; void) {\n  // se below for reasoning of the null \\/ here\n    return await [...promiseFunctions, null ].reduce(async (prevPromise, nextPromise, index) =&gt; {\n        const result = await prevPromise;\n\n    // Skip initalValue promise\n    if (index === 0) {\n      // Do something cool with each result\n      callback(result)\n    }else if (nextPromise !== null) { // Skip final value\n      // you need a another cycle beyond the last promise to await the last returned promise\n            return nextPromise();\n        } else {\n            return Promise.resolve(result); // Final resolved value\n        }\n    }, Promise.resolve()); // ininitalValue promise to start the cycle\n}\n\nexport namespace ConfigurationService {\n  const configurations: { [key: string]: string } = {};\n  const configurationURL = \"configuration\";\n  const keyNames = [\n    'assetsBucketAccessKeyId',\n    'assetsBucketSecretAccessKey',\n  ]\n\n  export const values = new Configuration() ;\n\n  export async function prepare(backendService: BackendService) {\n    await serializedRun(\n      // This looks crazy below but you don't want to evoke the promise yet\n      // So you need to return a function that the serializedRun method can invoke\n      keyNames.map((key) =&gt; () =&gt; ConfigurationService.getValue(key, backendService)),\n      (value) =&gt; {\n        // You need to figure out a way pass the required params to this funciton\n        // for it to know what to do...\n        if (/* something */) {\n          values.assetsBucketAccessKeyId = value;\n        } else {\n          values.assetsBucketSecretAccessKey = value;\n        }\n      })\n  }\n</code></pre>\n\n<blockquote>\n  <p>NOTE: You would also need to handle any errors in the serializedRun method with <code>try</code>/<code>catch</code> blocks</p>\n</blockquote>\n"}], "owner": {"reputation": 8055, "user_id": 1461862, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Xk6rm.jpg?s=128&g=1", "display_name": "Mauricio Gracia Gutierrez", "link": "https://stackoverflow.com/users/1461862/mauricio-gracia-gutierrez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 55729376, "answer_count": 3, "score": 1, "last_activity_date": 1555948255, "creation_date": 1555508438, "last_edit_date": 1555509933, "question_id": 55728914, "link": "https://stackoverflow.com/questions/55728914/how-to-improve-this-promise-chaining-and-obtain-same-behaviour", "title": "How to improve this Promise chaining and obtain same behaviour", "body": "<p>I need to make sure that the <code>prepare</code> function gets all the values before continuing its execution, that its why I am chaining the promises.</p>\n\n<p>This code works but I need to do that for a lot of different values and the code is going to be a mess because the chaining actually has nesting (calling <code>getValue</code> inside the then with a <code>then</code> that has a <code>getValue</code> and so on)</p>\n\n<p>So how can I achieve the same result with better practices or a cleaner approach</p>\n\n<pre><code>import { BackendService } from \"../../core/backend.service\";\n\nexport class Configuration {\n  assetsBucketAccessKeyId: string ;\n  assetsBucketSecretAccessKey: string ;\n}\n\nexport namespace ConfigurationService {\n  const configurations: { [key: string]: string } = {};\n  const configurationURL = \"configuration\";\n  export const values = new Configuration() ;\n\n  export function prepare(backendService: BackendService) {\n    ConfigurationService\n      .getValue(\"assetsBucketAccessKeyId\", backendService)\n      .then(v1 =&gt; {values.assetsBucketAccessKeyId = v1; } )\n      .then(() =&gt; { ConfigurationService\n        .getValue(\"assetsBucketSecretAccessKey\", backendService)\n        .then(v2 =&gt; {values.assetsBucketSecretAccessKey = v2; } ); }) ;\n  }\n\n export function getValue(\n    keyName: string,\n    backendService: BackendService\n  ): Promise&lt;string&gt; {\n    let resp: string;\n\n    resp = null;\n\n    return new Promise((resolve, reject) =&gt; {\n      // find or query te value\n      if (!configurations[keyName]) {\n        const requestURL = `${configurationURL}/${keyName}`;\n\n        backendService.get&lt;string&gt;(requestURL).subscribe(\n          value =&gt; {\n            configurations[keyName] = value;\n            resolve(value);\n          },\n          error =&gt; {\n            console.log(error);\n            reject(null);\n          }\n        );\n      } else {\n        resolve(configurations[keyName]);\n      }\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "office365"], "owner": {"reputation": 97, "user_id": 11011428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e677b3f757e833d4bea5263cb15fc?s=128&d=identicon&r=PG&f=1", "display_name": "Noek", "link": "https://stackoverflow.com/users/11011428/noek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 765, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555507751, "creation_date": 1555507751, "question_id": 55728700, "link": "https://stackoverflow.com/questions/55728700/detailslist-filter-office-ui-fabric", "title": "DetailsList filter office ui fabric", "body": "<p>I would like to filter my office ui fabric detailslist. I would like to have the filter on all the columns in the list. </p>\n\n<p>the information in the list is coming from Office365 with custom api in between. </p>\n\n<p>I tried to use a text box to filter but it didn't work. Or is there any possibility that you can filter like in office365? The code I'm using at this moment is included below. The code using for sorting I let out. This is working without any problems. </p>\n\n<pre><code>export interface Basics {\n  key: number;\n  name: string;\n}\n\nexport interface MyState{\n  requestListItems: any[];\n  columns: IColumn [];\n}\nclass Requests extends Component&lt;any, MyState&gt;{\n  private _allItems: Basics[];\n  constructor(props:{}) {\n    super(props);\n    const columns: IColumn[] = [{\n      key:'Title',\n      name:'Title',\n      fieldName:'Title',\n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Request_type',\n      name:'Request type',\n      fieldName:'Request_type',\n      minWidth:150,\n      maxWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Request_template',\n      name:'Template',\n      fieldName:'Request_template',\n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Version',\n      name:'Version', \n      fieldName:'Version', \n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Request_status',\n      name:'Request status', \n      fieldName:'Request_status', \n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Request_destination_url',\n      name:'Request destination url', \n      fieldName:'Request_destination_url', \n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    },\n    {\n      key:'Request_details',\n      name:'Request details', \n      fieldName:'Request_details', \n      maxWidth:150,\n      minWidth:150,\n      isSorted: true,\n      isSortedDescending:false,\n      sortAscendingAriaLabel: 'Sorted A to Z',\n      sortDescendingAriaLabel: 'Sorted Z to A',\n      onColumnClick: this._onColumnClick\n    }\n  ];\n  this.state = {\n      requestListItems:[{\n          Title: '',\n          requestType: '',\n          template:'',\n          version:'',\n          requestStatus:'',\n          destinationUrl:'',\n          details:''\n        }\n      ],\n      columns:columns\n    };\n\n    this._allItems = [];\n}  \ncomponentDidMount() {  \n  // Custom function to retrieve the list info  \n  this.GetRequestList();  \n}  \n\nGetRequestList(){  \n  var reactHandler = this;  \n  var request = new XMLHttpRequest();  \n  request.open('GET', '.../api/requests/getRequests/all', true);  \n  request.setRequestHeader(\"Accept\",\"application/json\");  \n  //this callback gets called when the server responds to the ajax call  \n  request.onreadystatechange = function(){  \n      if (request.readyState === 4 &amp;&amp; request.status === 200){  \n          var result = JSON.parse(request.responseText);  \n          console.log(\"Result data: \" + result.Data);\n          console.log(\"Result data length: \" + result.Data.length);\n          reactHandler.setState({  \n            requestListItems: result.Data  \n          });   \n\n      }  \n      else if (request.readyState === 4 &amp;&amp; request.status !== 200){  \n          console.log('Error in retrieving data!');  \n      }  \n  }; \n  request.send();  \n} \n\npublic render() {\n  let column = this.state.columns;\n  let RequestItems: any[];\n  RequestItems =[\"\"];\n  this.state.requestListItems.map((requests,key) =&gt;{\n        RequestItems = [{Title: requests.title, \n          Request_type: requests.requestType, \n          Version: requests.version, \n          Request_template: requests.template, \n          Request_status: requests.requestStatus, \n          Request_destination_url: requests.destinationUrl, \n          Request_details: requests.details}]\n  }) \n    return (\n                &lt;div className=\"ms-Grid-col ms-sm6 ms-md8 ms-lg10\"&gt;&lt;h1&gt;REQUESTS&lt;/h1&gt;\n                &lt;p&gt;\n                &lt;TextField label=\"Filter by title:\" onChange={this._onFilter}/&gt;\n                &lt;/p&gt;\n                  &lt;p&gt;\n                  &lt;DetailsList items={RequestItems} columns={column}/&gt;\n                  &lt;/p&gt;\n                &lt;/div&gt;        );\n\n  }\n  private _onFilter = (event: React.FormEvent&lt;HTMLInputElement | HTMLTextAreaElement&gt;, newValue?: string): void =&gt; {\n    this.setState({\n      requestListItems: newValue ? this._allItems.filter(i =&gt; i.name.toLowerCase().indexOf(newValue) &gt; -1) : this._allItems\n    });\n  };\n\nexport default Requests;\n</code></pre>\n"}, {"tags": ["typescript", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 474, "user_id": 11142587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEeMB.jpg?s=128&g=1", "display_name": "Ayesh Nipun", "link": "https://stackoverflow.com/users/11142587/ayesh-nipun"}, "edited": false, "score": 0, "creation_date": 1555508813, "post_id": 55728752, "comment_id": 98136997, "body": "I did as you told above. Then i&#39;m getting the output, when the component is loading. Not when i press the button. Also the touch effect of <code>touchableHighlight</code> is not showing."}], "tags": [], "owner": {"reputation": 4175, "user_id": 3744640, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/2pqxj.jpg?s=128&g=1", "display_name": "Nikita", "link": "https://stackoverflow.com/users/3744640/nikita"}, "is_accepted": false, "score": 0, "last_activity_date": 1555507894, "creation_date": 1555507894, "answer_id": 55728752, "question_id": 55728616, "link": "https://stackoverflow.com/questions/55728616/touchablehighlight-is-not-working-in-react-native-with-typescript/55728752#55728752", "title": "touchableHighlight is not working in react-native with typescript", "body": "<p>Could you add <code>console.log(\"Button touched\")</code> instead of <code>this.signIn()</code>? To be sure that Typescript code is compiled correctly. Next step is to find what is <code>this</code> in Typescript version. In vanilla javascript <code>this</code> refers to execution context, whereas in typescript it refers to more intuitive lexical scope, so you can:</p>\n\n<ol>\n<li>Try to refactor and call the function without <code>this</code></li>\n<li>Or pass function through redux props and call it as <code>this.props.onPress()</code>.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 5255098, "user_type": "registered", "profile_image": "https://graph.facebook.com/894323120655854/picture?type=large", "display_name": "Abhilash Virat", "link": "https://stackoverflow.com/users/5255098/abhilash-virat"}, "is_accepted": false, "score": 0, "last_activity_date": 1555508761, "creation_date": 1555508761, "answer_id": 55729007, "question_id": 55728616, "link": "https://stackoverflow.com/questions/55728616/touchablehighlight-is-not-working-in-react-native-with-typescript/55729007#55729007", "title": "touchableHighlight is not working in react-native with typescript", "body": "<p>can you replace your style object with style={{ flex: 1 }} and try if it works.</p>\n\n<pre><code>  &lt;TouchableHighlight style={{ flex: 1 }} onPress={ () =&gt; console.log('test')} &gt;\n&lt;Icon  name=\"plus\" color=\"white\"size={28} /&gt; \n&lt;/TouchableHighlight&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 11142587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEeMB.jpg?s=128&g=1", "display_name": "Ayesh Nipun", "link": "https://stackoverflow.com/users/11142587/ayesh-nipun"}, "is_accepted": false, "score": 1, "last_activity_date": 1555562962, "creation_date": 1555562962, "answer_id": 55739314, "question_id": 55728616, "link": "https://stackoverflow.com/questions/55728616/touchablehighlight-is-not-working-in-react-native-with-typescript/55739314#55739314", "title": "touchableHighlight is not working in react-native with typescript", "body": "<p>I figured it out. above code is in a separate component (ProfileCard). I insert it to a <code>View</code> in App.tsx . In that <code>View</code>, need to give style of <code>flex:1</code> as follows.</p>\n\n<p><code>&lt;View style={{flex:1}}&gt;\n    &lt;ProfileCard /&gt;\n &lt;/View&gt;</code></p>\n\n<p>It's working now. </p>\n"}], "owner": {"reputation": 474, "user_id": 11142587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FEeMB.jpg?s=128&g=1", "display_name": "Ayesh Nipun", "link": "https://stackoverflow.com/users/11142587/ayesh-nipun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1555562962, "creation_date": 1555507523, "question_id": 55728616, "link": "https://stackoverflow.com/questions/55728616/touchablehighlight-is-not-working-in-react-native-with-typescript", "title": "touchableHighlight is not working in react-native with typescript", "body": "<p>In my code, i have used <code>TouchableHighlight</code> with <code>Icon</code> inside it. But when i click on it, nothing happens.It looks like an image. The effect of <code>TouchableHighlight</code> is not rendering.  This projects is done using react native with typescript. </p>\n\n<p>But, the same code is working in fine and the effect of the <code>TouchableHighlight</code> in nicely rendere in react-native with javascript. </p>\n\n<p>Here is the code.</p>\n\n<p><code>&lt;TouchableHighlight \n     style={styles.plusIconView} \n     onPress={ () =&gt; this.signIn() }&gt;<br>\n         &lt;Icon  name=\"plus\" color=\"white\"size={28} /&gt;                               &lt;/TouchableHighlight&gt;</code></p>\n\n<p>this is the style class</p>\n\n<p><code>plusIconView: {\n        width: 30,\n        height: 30,\n        backgroundColor: '#42d4f4',\n        borderRadius: 50,\n        alignItems: 'center',\n        marginLeft: \"5%\"\n    }</code></p>\n\n<p>the function <code>signIn</code> is implemented correctly. How can i fix this issue.</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "jsdoc"], "comments": [{"owner": {"reputation": 2422, "user_id": 305264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80af4e8fab088db961a8f6c86c4c58cc?s=128&d=identicon&r=PG", "display_name": "m0tive", "link": "https://stackoverflow.com/users/305264/m0tive"}, "edited": false, "score": 1, "creation_date": 1557500532, "post_id": 55728587, "comment_id": 98798577, "body": "Looking at the <a href=\"https://www.typescriptlang.org/docs/handbook/type-checking-javascript-files.html#supported-jsdoc\" rel=\"nofollow noreferrer\">jsdoc tags that typescript supports</a>, it doesn&#39;t look possible."}], "owner": {"reputation": 2422, "user_id": 305264, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80af4e8fab088db961a8f6c86c4c58cc?s=128&d=identicon&r=PG", "display_name": "m0tive", "link": "https://stackoverflow.com/users/305264/m0tive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1555507452, "creation_date": 1555507452, "question_id": 55728587, "link": "https://stackoverflow.com/questions/55728587/how-to-inherit-type-info-for-overriden-methods-using-jsdoc-in-vscode", "title": "How to inherit type info for overriden methods using jsdoc in vscode", "body": "<p>I'm using javascript with jsdoc type hints and vscode typescript type checking.</p>\n\n<p>When adding jsdoc type info for a parent method, I'd like the overrides in child classes to inherit the parameter/return types.</p>\n\n<p>E.g. I've got classes like these:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Parent {\n  /**\n   * @param {string} a ...\n   * @param {number} b ...\n   */\n  method(a, b) {\n    // ...\n  }\n}\n\nclass Child extends Parent {\n  /** @inheritdocs */\n  method(a, b) {\n    super(a, b);\n    // ... do extra stuff ...\n  }\n}\n</code></pre>\n\n<p>I'd like <code>Child#method</code> to automatically pick up the types from <code>Parent#method</code>. I tried <code>@inheritdocs</code>, but it doesn't seem to do this. Is that any way to mark this up?</p>\n"}, {"tags": ["javascript", "html", "typescript"], "comments": [{"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 1, "creation_date": 1555506850, "post_id": 55728316, "comment_id": 98135685, "body": "I can access it. This is HTML5 Drag&amp;Drop project. I&#39;ve updated the question. Have a look into this. I just can&#39;t use with static typing. How can I trick the IDE and webpack that it has a <code>path</code> in it.?"}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 2, "creation_date": 1555507071, "post_id": 55728316, "comment_id": 98135838, "body": "If the property <i>is</i> there, you can always access it by <code>(file as any).path</code>."}, {"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1555507149, "post_id": 55728316, "comment_id": 98135899, "body": "@mbojko Yup, that did the trick. Thanks! You can write this as an answer."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1555507448, "post_id": 55728316, "comment_id": 98136099, "body": "Ideally you&#39;d make your own interface like <code>interface MyFile extends File { path: string; &#47;* etc *&#47; }</code> and use that.  Where is it documented that <code>File</code> has a <code>path</code> property, though?  You should be aware if you are only supporting some particular or nonstandard environment."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555510601, "post_id": 55728316, "comment_id": 98138224, "body": "So, this is bothering me.  What browser are you using that <code>File</code> has a <code>path</code> property?  I&#39;ve tried <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API#Examples_and_demos\" rel=\"nofollow noreferrer\">these</a> using Firefox and Chrome and none of them have a <code>path</code>."}, {"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555510928, "post_id": 55728316, "comment_id": 98138462, "body": "@jcalz Chrome latest version. Using React-Dropzone. It has path property and it has relative path info when drag and drop a folder into a browser."}, {"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555511220, "post_id": 55728316, "comment_id": 98138643, "body": "@jcalz: try this: <a href=\"https://html5-demos.appspot.com/static/dnd/all_types_of_import.html\" rel=\"nofollow noreferrer\">html5-demos.appspot.com/static/dnd/all_types_of_import.html</a>. Even dropbox has a folder upload capability on supported browsers. BTW, I will go with your way. Its more concise. (I believe, ReactDropzone smart enough to capture path on each browser and put it on path property)"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1555511994, "post_id": 55728316, "comment_id": 98139146, "body": "Ah, so React-Dropzone is adding this property.  I&#39;d think this should be part of the TypeScript typings for React-Dropzone then... perhaps a <code>DropZoneFile</code> or <code>DropZoneFolder</code> which extends <code>File</code> with an optional <code>path</code> property?  Since they haven&#39;t done it in the library then I guess you need to do it for your own code."}, {"owner": {"reputation": 4105, "user_id": 2891356, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dc24006aaa48961401c06c0a7903f348?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2891356/mike-k"}, "edited": false, "score": 0, "creation_date": 1612805121, "post_id": 55728316, "comment_id": 116875755, "body": "It&#39;s in the source code <a href=\"https://github.com/react-dropzone/react-dropzone/blob/6f0e826f6337367ab8b47efaa04449d839594c2a/typings/react-dropzone.d.ts#L3\" rel=\"nofollow noreferrer\">here</a>. Use it as <code>import { useDropzone, FileWithPath } from &#39;react-dropzone&#39;;</code>"}], "owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1686, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1555506817, "creation_date": 1555506576, "last_edit_date": 1555506817, "question_id": 55728316, "link": "https://stackoverflow.com/questions/55728316/file-object-does-not-have-a-path-property-typescript", "title": "&#39;File&#39; object does not have a &#39;path&#39; property. (TypeScript)", "body": "<p>I am passing a <code>File</code> object that comes from the browser (by dropping) to a function like this:</p>\n\n<pre><code>// .... logic here...\naccept(file)\n\npublic static accept(file: File) {\n   console.log(file)\n   /* prints:\n      =&gt; lastModified: 1555453309243\n         lastModifiedDate: Wed Apr 17 2019 01:21:49 GMT+0100 (GMT+01:00) {}\n         name: \"test.txt\"\n         path: \"test.txt\" --&gt; as you can see there is a path variable in here.\n         size: 16\n         type: \"text/plain\"\n         webkitRelativePath: \"\"\n         __proto__: File\n   */\n\n   console.log(file.name) // =&gt; prints 'test.txt'\n   console.log(file.size) // =&gt; prints '16'\n   console.log(file.path) // =&gt; !! error given. path does not exists in File object. Also IDE does not show this parameter in IDE autocomplete list.\n}\n</code></pre>\n\n<p>Error given:</p>\n\n<pre><code>Property 'path' does not exist on type 'File'.ts(2339)\n</code></pre>\n\n<p>Why <code>File</code> does not have <code>path</code> parameter? How can I make sure path exists? Is there any other type for <code>File</code>? This is a HTML5 drop.</p>\n\n<p>If I do this:</p>\n\n<pre><code>public static accept(file: any) {\n   alert(file.path);\n}\n</code></pre>\n\n<p>It shows the relative path:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mTxYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTxYO.png\" alt=\"path\"></a></p>\n"}, {"tags": ["javascript", "typescript", "angular6", "angular7", "angular-material-6"], "owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1555506552, "creation_date": 1555506552, "question_id": 55728309, "link": "https://stackoverflow.com/questions/55728309/resizable-sidenav-using-angular-material7-angular-7", "title": "Resizable sidenav using angular Material(7) &amp; angular 7", "body": "<p><strong>My requirement is resizable/customizable sidenav, here is angular js demo</strong> </p>\n\n<pre><code>[Codepen](https://codepen.io/Reklino/pen/raRaXq)\n</code></pre>\n\n<p>I want to implement exact same thing using Angular(Version 7) &amp; Angular Material(Version 7). In angular material 7 sidenav open/close/toggle functionality present <a href=\"https://material.angular.io/components/sidenav/overview\" rel=\"nofollow noreferrer\">material sidenav doc</a> but resizable functionality not there.</p>\n\n<p>Guys, can you guide me how to achieve this functionality? Pls share any kind reference/npm library.\nI would appreciate the help, Many thanks!</p>\n"}, {"tags": ["typescript", "redux"], "answers": [{"comments": [{"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1555510062, "post_id": 55729109, "comment_id": 98137856, "body": "Thanks and +1, this way of doing it is pretty interesting. This gets almost all the way there to what I thought might be possible, but yeah the fact you still have to manually type out the strings is unfortunate. You answered my question though, it&#39;s not possible (yet). Good to know."}, {"owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "reply_to_user": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1555510302, "post_id": 55729109, "comment_id": 98138017, "body": "@davnicwil You&#39;re welcome! :) Maybe one day when it&#39;s possible I&#39;ll update this answer by replacing <code>PendingActionTypes[T]</code> with <code>T + &quot;_PENDING&quot;</code> xD"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": true, "score": 1, "last_activity_date": 1555509989, "last_edit_date": 1555509989, "creation_date": 1555509041, "answer_id": 55729109, "question_id": 55728258, "link": "https://stackoverflow.com/questions/55728258/typescript-can-i-dynamically-generate-types-within-ts-itself/55729109#55729109", "title": "Typescript: can I dynamically generate types within TS itself?", "body": "<p>Well it's not possible to concatenate strings on a type-level currently. (similar request for feature <a href=\"https://github.com/Microsoft/TypeScript/issues/12861\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>But the following might make the code less repetitive (if not less repetitive at least more systematically repetitive)</p>\n\n<pre><code>type AsyncActionType = \"A\" | \"B\";\ntype AsyncActionPayloads = {\n    \"A\": { a: number },\n    \"B\": { b: string }\n}\n\ntype PendingActionTypes = {\n    \"A\": \"A_PENDING\",\n    \"B\": \"B_PENDING\"\n}\n\ntype FulfilledActionTypes = {\n    \"A\": \"A_FULFILLED\",\n    \"B\": \"B_FULFILLED\"\n}\n\ntype RejectedActionTypes = {\n    \"A\": \"A_REJECTED\",\n    \"B\": \"B_REJECTED\"\n}\n\ntype AsyncAction = {\n    [T in AsyncActionType]: {\n        type: PendingActionTypes[T]\n    } | {\n        type: FulfilledActionTypes[T],\n        payload: AsyncActionPayloads[T]\n    } | {\n        type: RejectedActionTypes[T],\n        error: Error\n    }\n}[AsyncActionType];\n\ntype Action =\n    { type: \"MY_OTHER_NON_ASYNC_ACTION\" } |\n    { type: \"MY_ANOTHER_NON_ASYNC_ACTION\", payload: { foo: number } } |\n    AsyncAction;\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=type%20AsyncActionType%20%3D%20%22A%22%20%7C%20%22B%22%3B%0D%0Atype%20AsyncActionPayloads%20%3D%20%7B%0D%0A%20%20%20%20%22A%22%3A%20%7B%20a%3A%20number%20%7D%2C%0D%0A%20%20%20%20%22B%22%3A%20%7B%20b%3A%20string%20%7D%0D%0A%7D%0D%0A%0D%0Atype%20PendingActionTypes%20%3D%20%7B%0D%0A%20%20%20%20%22A%22%3A%20%22A_PENDING%22%2C%0D%0A%20%20%20%20%22B%22%3A%20%22B_PENDING%22%0D%0A%7D%0D%0A%0D%0Atype%20FulfilledActionTypes%20%3D%20%7B%0D%0A%20%20%20%20%22A%22%3A%20%22A_FULFILLED%22%2C%0D%0A%20%20%20%20%22B%22%3A%20%22B_FULFILLED%22%0D%0A%7D%0D%0A%0D%0Atype%20RejectedActionTypes%20%3D%20%7B%0D%0A%20%20%20%20%22A%22%3A%20%22A_REJECTED%22%2C%0D%0A%20%20%20%20%22B%22%3A%20%22B_REJECTED%22%0D%0A%7D%0D%0A%0D%0Atype%20AsyncAction%20%3D%20%7B%0D%0A%20%20%20%20%5BT%20in%20AsyncActionType%5D%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20type%3A%20PendingActionTypes%5BT%5D%0D%0A%20%20%20%20%7D%20%7C%20%7B%0D%0A%20%20%20%20%20%20%20%20type%3A%20FulfilledActionTypes%5BT%5D%2C%0D%0A%20%20%20%20%20%20%20%20payload%3A%20AsyncActionPayloads%5BT%5D%0D%0A%20%20%20%20%7D%20%7C%20%7B%0D%0A%20%20%20%20%20%20%20%20type%3A%20RejectedActionTypes%5BT%5D%2C%0D%0A%20%20%20%20%20%20%20%20error%3A%20Error%0D%0A%20%20%20%20%7D%0D%0A%7D%5BAsyncActionType%5D%3B%0D%0A%0D%0Atype%20Action%20%3D%0D%0A%20%20%20%20%7B%20type%3A%20%22MY_OTHER_NON_ASYNC_ACTION%22%20%7D%20%7C%0D%0A%20%20%20%20%7B%20type%3A%20%22MY_ANOTHER_NON_ASYNC_ACTION%22%2C%20payload%3A%20%7B%20foo%3A%20number%20%7D%20%7D%20%7C%0D%0A%20%20%20%20AsyncAction%3B\" rel=\"nofollow noreferrer\">Playground demo</a>. Hover over <code>AsyncAction</code> you'll see it's a union of all async actions that you would expect. Also try removing <code>\"B\": \"B_PENDING\"</code> from <code>PendingActionTypes</code>, you'll get a compilation error.</p>\n\n<p>Also you see the annoying parts <code>PendingActionTypes</code>, <code>FulfilledActionTypes</code> and <code>RejectedActionTypes</code> can be moved to a different file that can be generated via a nodejs script that reads the file containing <code>AsyncActionType</code> and excutes when that file changes</p>\n"}, {"tags": [], "owner": {"reputation": 3290, "user_id": 9591609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/77PJu.jpg?s=128&g=1", "display_name": "Devansh J", "link": "https://stackoverflow.com/users/9591609/devansh-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1555529047, "last_edit_date": 1555529047, "creation_date": 1555511999, "answer_id": 55730220, "question_id": 55728258, "link": "https://stackoverflow.com/questions/55728258/typescript-can-i-dynamically-generate-types-within-ts-itself/55730220#55730220", "title": "Typescript: can I dynamically generate types within TS itself?", "body": "<p>I feel like posting this answer too because it's closer (actually kinda exact) to your pseudo code. I didn't post this previously because it doesn't reduce the repetitiveness but just displaces it. (maybe makes it more repetitive? idk). If I ignore the <code>extends \"A\" | \"B\"</code> which demands for consistency and makes it repetitive, I like this solution more.</p>\n\n<pre><code>type AsyncAction&lt;T extends \"A\" | \"B\", P&gt; = \n    | { type: AddSuffix&lt;T, \"PENDING\"&gt; }\n    | { type: AddSuffix&lt;T, \"FULFILLED\"&gt;, payload: P }\n    | { type: AddSuffix&lt;T, \"REJECTED\"&gt;, error: Error }\n\ntype Action =\n    | AsyncAction&lt;\"A\", { a: string }&gt;\n    | AsyncAction&lt;\"B\", { b: string }&gt;\n\n\n\ntype AddSuffix&lt;\n    T extends \"A\" | \"B\",\n    S extends \"PENDING\" | \"FULFILLED\" | \"REJECTED\"\n&gt; =\n    T extends \"A\" ?\n        S extends \"PENDING\" ? \"A_PENDING\" :\n        S extends \"FULFILLED\" ? \"A_FULFILLED\" :\n        S extends \"REJECTED\" ? \"A_REJECTED\" :\n        never :\n    T extends \"B\" ?\n        S extends \"PENDING\" ? \"B_PENDING\" :\n        S extends \"FULFILLED\" ? \"B_FULFILLED\" :\n        S extends \"REJECTED\" ? \"B_REJECTED\" :\n        never : \n    never;\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=type%20AsyncAction%3CT%20extends%20%22A%22%20%7C%20%22B%22%2C%20P%3E%20%3D%20%0D%0A%20%20%20%20%7C%20%7B%20type%3A%20AddSuffix%3CT%2C%20%22PENDING%22%3E%20%7D%0D%0A%20%20%20%20%7C%20%7B%20type%3A%20AddSuffix%3CT%2C%20%22FULFILLED%22%3E%2C%20payload%3A%20P%20%7D%0D%0A%20%20%20%20%7C%20%7B%20type%3A%20AddSuffix%3CT%2C%20%22REJECTED%22%3E%2C%20error%3A%20Error%20%7D%0D%0A%0D%0Atype%20Action%20%3D%0D%0A%20%20%20%20%7C%20AsyncAction%3C%22A%22%2C%20%7B%20a%3A%20string%20%7D%3E%0D%0A%20%20%20%20%7C%20AsyncAction%3C%22B%22%2C%20%7B%20b%3A%20string%20%7D%3E%0D%0A%0D%0A%0D%0A%0D%0Atype%20AddSuffix%3C%0D%0A%20%20%20%20T%20extends%20string%2C%0D%0A%20%20%20%20S%20extends%20%22PENDING%22%20%7C%20%22FULFILLED%22%20%7C%20%22REJECTED%22%0D%0A%3E%20%3D%0D%0A%20%20%20%20T%20extends%20%22A%22%20%3F%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22PENDING%22%20%3F%20%22A_PENDING%22%20%3A%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22FULFILLED%22%20%3F%20%22A_FULFILLED%22%20%3A%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22REJECTED%22%20%3F%20%22A_REJECTED%22%20%3A%0D%0A%20%20%20%20%20%20%20%20never%20%3A%0D%0A%20%20%20%20T%20extends%20%22B%22%20%3F%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22PENDING%22%20%3F%20%22B_PENDING%22%20%3A%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22FULFILLED%22%20%3F%20%22B_FULFILLED%22%20%3A%0D%0A%20%20%20%20%20%20%20%20S%20extends%20%22REJECTED%22%20%3F%20%22B_REJECTED%22%20%3A%0D%0A%20%20%20%20%20%20%20%20never%20%3A%20%0D%0A%20%20%20%20never%3B\" rel=\"nofollow noreferrer\">Playground demo</a></p>\n"}], "owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 55729109, "answer_count": 2, "score": -1, "last_activity_date": 1555919781, "creation_date": 1555506368, "last_edit_date": 1555919781, "question_id": 55728258, "link": "https://stackoverflow.com/questions/55728258/typescript-can-i-dynamically-generate-types-within-ts-itself", "title": "Typescript: can I dynamically generate types within TS itself?", "body": "<p>I want the types of my redux actions to be statically typed, so I can benefit from typo detection, autocomplete, etc, in code which deals with actions, like reducers etc.</p>\n\n<p>To get this working well, I really need to statically type the structure of every action in my app like so</p>\n\n<pre><code>type Actions =\n  | { type: 'A_PENDING' }\n  | { type: 'A_FULFILLED', payload: { a: number } }\n  | { type: 'A_REJECTED', error: Error }\n  | { type: 'B_PENDING' }\n  | { type: 'B_FULFILLED', payload: { b: number } }\n  | { type: 'B_REJECTED', error: Error }\n  | { type: 'C_PENDING' }\n  | { type: 'C_FULFILLED', payload: { c: number } }\n  | { type: 'C_REJECTED', error: Error }\n</code></pre>\n\n<p>However, there is a lot of repetition in writing these types out for all my actions.</p>\n\n<p>I know I can write editor templates to literally generate this code for me, but I've been wondering if there's any 'native' TS way to generate such patterns of type definitions.</p>\n\n<p>I'd imagine a syntax something like this (pseudocode)</p>\n\n<pre><code>typegenerator AsyncAction = (BaseString, PayloadType) =&gt; \n  | { type: BaseString + '_PENDING' }\n  | { type: BaseString + '_FULFILLED' }, payload: PayloadType }\n  | { type: BaseString + '_REJECTED' }, error: Error }\n\ntype Actions =\n  | AsyncAction('A', { a: number })\n  | AsyncAction('B', { b: number })\n  | AsyncAction('C', { c: number })\n</code></pre>\n\n<p>Does anything like this exist, or am I better off just doing literal code generation?</p>\n"}, {"tags": ["angular", "typescript", "validation", "jhipster", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555507093, "post_id": 55728406, "comment_id": 98135862, "body": "Thanks for your response and rapidity! But our &lt;span&gt; Min break &lt;/span&gt; is not the error message, it is the label of the input text. Actually, we don&#39;t want any message to be shown, we only want the input text to be unvalid &#39;in red&#39;. We thought that Validators.required was enough and Angular to be smart enough to check dirtyness by its own."}, {"owner": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 1, "creation_date": 1555507702, "post_id": 55728406, "comment_id": 98136259, "body": "fyi - angular adds a helpful classes like <code>ng-dirty</code> <code>ng-touched</code> <code>ng-invalid</code> <code>ng-valid</code> to the element. if all you want is to a red border around them, just use those with CSS rules. no js required."}, {"owner": {"reputation": 133, "user_id": 5758400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/390cbfa83f3ce8c5aba40b95757908ef?s=128&d=identicon&r=PG&f=1", "display_name": "LucasNesk", "link": "https://stackoverflow.com/users/5758400/lucasnesk"}, "reply_to_user": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1555507918, "post_id": 55728406, "comment_id": 98136440, "body": "ohh, I see now. The border color of the input should be changed automatically. Can you reproduce in a StackBlitz or JsFiddle? Also take a look at @Stavm &#39;s suggestion."}, {"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555508928, "post_id": 55728406, "comment_id": 98137078, "body": "@LucasNesk here is the stackblitz :) <a href=\"https://stackblitz.com/edit/angular-pnyiy3\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-pnyiy3</a> do you know why the status is INVALID?"}, {"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "reply_to_user": {"reputation": 5898, "user_id": 3933927, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Td4UR.png?s=128&g=1", "display_name": "Stavm", "link": "https://stackoverflow.com/users/3933927/stavm"}, "edited": false, "score": 0, "creation_date": 1555509043, "post_id": 55728406, "comment_id": 98137154, "body": "@Stavm thanks for CSS classes (we might use them later :)) but the problem here is that our form is INVALID as soon as the page is loaded :(. Angular seems to run Validators even for the default value... The form should be INVALID after we put some text in the box/erase it and loose focus. Or maybe we are wrong?"}, {"owner": {"reputation": 133, "user_id": 5758400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/390cbfa83f3ce8c5aba40b95757908ef?s=128&d=identicon&r=PG&f=1", "display_name": "LucasNesk", "link": "https://stackoverflow.com/users/5758400/lucasnesk"}, "reply_to_user": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555509765, "post_id": 55728406, "comment_id": 98137668, "body": "@Pilpo thanks for the stackblitz! I checked and you are right. The form status is INVALID at the init of the component. I think you should check also &quot;this.myform.dirty&quot; to achieve 100% of the feature you want. I believe the dirty property is used also by the Validators. Please check this Stack: <a href=\"https://stackblitz.com/edit/angular-hasw6r\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-hasw6r</a>"}, {"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555510441, "post_id": 55728406, "comment_id": 98138101, "body": "@LucasNesk The form is indeed &#39;not dirty&#39; at the beginning. But I find it very strange we have to &quot;customize&quot; the Validators. I thought Angular would have known that, at first, our input is not dirty. I stumbled across this post <a href=\"https://stackoverflow.com/questions/48708899/dont-validate-untouched-fields-in-angular2\" title=\"dont validate untouched fields in angular2\">stackoverflow.com/questions/48708899/&hellip;</a> but as I said before, I find it odd we have to do all that :(  Exactly, as you said &#39;the dirty property is used also by the Validators&#39; I thought the same but our example is the contrary, it doesn&#39;t seem to use it, no?"}, {"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555571312, "post_id": 55728406, "comment_id": 98158737, "body": "@LucasNesk as lewisbm suggested, the form is also invalid on the primeng example because we can&#39;t submit it. So only css needed for my case :)"}], "tags": [], "owner": {"reputation": 133, "user_id": 5758400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/390cbfa83f3ce8c5aba40b95757908ef?s=128&d=identicon&r=PG&f=1", "display_name": "LucasNesk", "link": "https://stackoverflow.com/users/5758400/lucasnesk"}, "is_accepted": false, "score": 1, "last_activity_date": 1555506905, "creation_date": 1555506905, "answer_id": 55728406, "question_id": 55728219, "link": "https://stackoverflow.com/questions/55728219/why-does-my-form-validate-all-default-value-untouched-field-as-soon-as-the-pag/55728406#55728406", "title": "Why does my form validate all default value (untouched field) as soon as the page is loaded?", "body": "<h2>You need to check if your form is \"dirty\" before showing any error or validation message.</h2>\n\n<p>In your code sample, you are just rendering the error message on the HTML. You need to check if the field is valid and also if the form is \"dirty\". You can do that using the <a href=\"https://angular.io/api/common/NgIf\" rel=\"nofollow noreferrer\">*ngIf directive</a> and put it into your span tag.</p>\n\n<p>Check in the validationdemo.html file example of the <a href=\"https://www.primefaces.org/primeng/#/validation\" rel=\"nofollow noreferrer\">website</a> you mentioned on your question:</p>\n\n<pre><code> &lt;p-message severity=\"error\" \n            [text]=\"Error\"\n    *ngIf=\"!userform.controls['password'].valid&amp;&amp;userform.controls['password'].dirty\"&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>userform.controls['password'].valid</strong> checks if your field password is valid\n<strong>userform.controls['password'].dirty</strong> checks if your field is \"dirty\". Your field becomes dirty if you clicked, changed the value or pressed any key while focusing the field. </p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555512191, "post_id": 55730109, "comment_id": 98139278, "body": "Thanks for your help :) Yes it does require a non empty field but how do you explain the behaviour observed in here <a href=\"https://www.primefaces.org/primeng/#/validation\" rel=\"nofollow noreferrer\">primefaces.org/primeng/#/validation</a> all required field are not validated when the page is loaded. We have to put some input in them, erase it, and loose focus in order to make them &quot;invalid&quot;."}, {"owner": {"reputation": 48, "user_id": 8932655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1f4d6810072336ce4d77e750c6a6ca1?s=128&d=identicon&r=PG&f=1", "display_name": "lewisbm", "link": "https://stackoverflow.com/users/8932655/lewisbm"}, "reply_to_user": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 1, "creation_date": 1555518015, "post_id": 55730109, "comment_id": 98142743, "body": "Actually, they are invalid and you can see it beceause you can&#39;t click on the submit page until you fill all of them. But the page inform the user of the error only if he makes the field dirty and let it invalid as shown in the example"}, {"owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "edited": false, "score": 0, "creation_date": 1555571196, "post_id": 55730109, "comment_id": 98158667, "body": "Oh, I see. You do have a point here. So it is only a matter of CSS. Thanks!"}], "tags": [], "owner": {"reputation": 48, "user_id": 8932655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1f4d6810072336ce4d77e750c6a6ca1?s=128&d=identicon&r=PG&f=1", "display_name": "lewisbm", "link": "https://stackoverflow.com/users/8932655/lewisbm"}, "is_accepted": true, "score": 1, "last_activity_date": 1555511714, "creation_date": 1555511714, "answer_id": 55730109, "question_id": 55728219, "link": "https://stackoverflow.com/questions/55728219/why-does-my-form-validate-all-default-value-untouched-field-as-soon-as-the-pag/55730109#55730109", "title": "Why does my form validate all default value (untouched field) as soon as the page is loaded?", "body": "<p>From <a href=\"https://angular.io/api/forms/Validators#required\" rel=\"nofollow noreferrer\">angular doc</a> the validator require a non-empty value.</p>\n\n<p>So even though there is an error you don't have to display it, instead you can wait for the form to be dirty and to have an error to display this error.</p>\n\n<p>You can find a working repro here: <a href=\"https://stackblitz.com/edit/angular-a3vjbk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-a3vjbk</a></p>\n"}], "owner": {"reputation": 123, "user_id": 10691359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4c2df762c4815fef0c018d5677b50d?s=128&d=identicon&r=PG&f=1", "display_name": "Pilpo", "link": "https://stackoverflow.com/users/10691359/pilpo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 1, "accepted_answer_id": 55730109, "answer_count": 2, "score": 0, "last_activity_date": 1555674827, "creation_date": 1555506261, "last_edit_date": 1555674827, "question_id": 55728219, "link": "https://stackoverflow.com/questions/55728219/why-does-my-form-validate-all-default-value-untouched-field-as-soon-as-the-pag", "title": "Why does my form validate all default value (untouched field) as soon as the page is loaded?", "body": "<p>We have an issue about the use of Validators.required or its understanding for our form. </p>\n\n<p>We want an input text to be mandatory (Validators.required). \nIts default value is empty ('').\nThe user has to put some text in it.</p>\n\n<p>The problem is that the something is playing the Validators.required when we arrive on the page. In other word, the input text is already in red, flagged as invalid as soon as the page is refreshed. </p>\n\n<p>For example, what we are trying to do is here <a href=\"https://www.primefaces.org/primeng/#/validation\" rel=\"nofollow noreferrer\">https://www.primefaces.org/primeng/#/validation</a>, in order to make the field 'First Name *:' invalid, we have to focus the field, type some stuff, erase everything and loose focus.</p>\n\n<p>We use Angular 7 and PrimeNG.\nIf we copy/past the source code from PrimeNG, we have the same issue.\nBut if we replace the Validators.required by Validators.pattern('\\d{4}') for instance, everything works fine: the user has to put some stuff first in the input and only then, the Validators kicks in.\nThe form become invalid just after the initialization from this.fb.group(...).</p>\n\n<pre><code> ngOnInit(): void {\n    this.myform = this.fb.group({\n        'minBreak':  new FormControl('', Validators.required) \n    });\n}\n\n\n&lt;div style=\"display: flex; width: 28em;\"&gt;\n    &lt;span style=\"margin-right: 1em;\"&gt;\n            Min break\n    &lt;/span&gt;\n    &lt;input type=\"text\" pInputText formControlName=\"minBreak\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>The problem</strong>\nAs soon as \n<code>this.myform = this.fb.group({\n            'minBreak':  new FormControl('', Validators.required) \n        });</code>\nis done, the form go to the status = INVALID.\nWe would expect it to be VALID.</p>\n\n<p><strong>The question</strong>\nWhy our form become invalid after its initialization? Is it normal to run the Validators on default value? If so, why on the example here <a href=\"https://www.primefaces.org/primeng/#/validation\" rel=\"nofollow noreferrer\">https://www.primefaces.org/primeng/#/validation</a> it is not the case?</p>\n\n<p><strong>Stackblitz</strong>\n<a href=\"https://stackblitz.com/edit/angular-pnyiy3\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-pnyiy3</a> in the console, we can see that the form status is INVALID.</p>\n\n<p>Thanks for your help :)</p>\n\n<p><strong>NB</strong> For those who use JHipster, they put </p>\n\n<pre><code>.ng-invalid:not(form) {border-left:\u00a05px solid red;} \n</code></pre>\n\n<p>in the global.scss. Once removed, everything works fine...</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 1, "creation_date": 1555506375, "post_id": 55728163, "comment_id": 98135398, "body": "I&#39;ve run your example on codesandbox.io and it does not throw any errors"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1555507865, "post_id": 55728163, "comment_id": 98136399, "body": "You need to <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#generic-constraints\" rel=\"nofollow noreferrer\">constrain the generic</a> <code>Keys</code> to valid key types, as in <code>type Styles&lt;Keys extends keyof any&gt; = ...</code>"}, {"owner": {"reputation": 4756, "user_id": 4909966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptU7Q3fDmaM/AAAAAAAAAAI/AAAAAAAAABU/VZCnQClT7xQ/photo.jpg?sz=128", "display_name": "Brandon Howard", "link": "https://stackoverflow.com/users/4909966/brandon-howard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555511158, "post_id": 55728163, "comment_id": 98138606, "body": "Thanks @jcalz, that solved it."}, {"owner": {"reputation": 4756, "user_id": 4909966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptU7Q3fDmaM/AAAAAAAAAAI/AAAAAAAAABU/VZCnQClT7xQ/photo.jpg?sz=128", "display_name": "Brandon Howard", "link": "https://stackoverflow.com/users/4909966/brandon-howard"}, "reply_to_user": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "edited": false, "score": 0, "creation_date": 1555511303, "post_id": 55728163, "comment_id": 98138695, "body": "@SebastianKaczmarek the example compiles and runs in CodeSandbox but there are definitely Typescript Errors. You might have to open the example in edit mode to see those errors in the editor though."}], "owner": {"reputation": 4756, "user_id": 4909966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ptU7Q3fDmaM/AAAAAAAAAAI/AAAAAAAAABU/VZCnQClT7xQ/photo.jpg?sz=128", "display_name": "Brandon Howard", "link": "https://stackoverflow.com/users/4909966/brandon-howard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555513191, "creation_date": 1555506088, "last_edit_date": 1555513191, "question_id": 55728163, "link": "https://stackoverflow.com/questions/55728163/how-to-use-a-generic-union-type-in-a-mapped-type-with-typescript", "title": "How to use a generic union type in a mapped type with Typescript?", "body": "<p>I want to generate a mapped type with a generic union type.</p>\n\n<p>Consider the <strong>working</strong> example below</p>\n\n<pre><code>type Keys = \"container\" | \"body\" | \"button\"\n\ntype Styles = { [K in Keys]: CSSProperties } \n</code></pre>\n\n<p>This works as expected. But, if I try to make the Styles type take a generic and do the same thing it falls apart. For example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Styles&lt;Keys&gt; = { [K in Keys]: CSSProperties }\n\nconst styles: Styles&lt;\"container\" | \"body\" | \"button\"&gt; = {...}\n</code></pre>\n\n<p>This errors with</p>\n\n<pre><code>(type parameter) Keys in type Styles&lt;Keys&gt;\nType 'Keys' is not assignable to type 'string | number | symbol'.\nType 'Keys' is not assignable to type 'symbol'.ts(2322)\n</code></pre>\n\n<p>I would expect it to work the same as the very first example.</p>\n\n<p><a href=\"https://codesandbox.io/embed/4lw8v17qqx\" rel=\"nofollow noreferrer\">I've created a CodeSandbox example here</a></p>\n\n<p><em>(Click the open in editor button after following the link to see the errors)</em></p>\n"}, {"tags": ["javascript", "typescript", "oop", "object"], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 2, "last_activity_date": 1555504601, "last_edit_date": 1555504601, "creation_date": 1555504291, "answer_id": 55727628, "question_id": 55727513, "link": "https://stackoverflow.com/questions/55727513/javascript-object-construction-and-utilization-to-get-deep-understand/55727628#55727628", "title": "Javascript -Object construction and Utilization - to get deep understand", "body": "<ol>\n<li><p>is a no-go. It has no benefits over a literal, and is just way slower &amp; less readable.</p></li>\n<li><p>Is always a good choice.</p>\n\n<pre><code>const user = { name: \"Jonas\", session: 1234 };\n</code></pre></li>\n<li><p>should be used instead of 2. if you have additional logic when setting up an object (e.g. if a user gets created, generate a session for him), or if you have to create a certain object at multiple places. However I'm not in favor of the <code>new</code> operator, I'd just do:</p>\n\n<pre><code>function createUser(name) {\n  return { name, session: createSession() }\n}\n\nfunction logout(user) {\n user.session = undefined;\n}\n\n</code></pre></li>\n<li><p>not sure what that should be, having properties on the prototype rarely makes sense.</p></li>\n<li><p>Is a good choice if you are in favor of OOP, however nowadays I'd use the <code>class</code> syntax for that, cause its way easier to read (especially for programmers from another language). By moving methods into the prototype, they get shared between instances, which will reduce memory &amp; performance costs if a lot of instances get created.</p>\n\n<pre><code>class User {\n  constructor(name) {\n    this.name = name;\n  }\n  login() {\n    this.session = 1234;\n  }\n}\n</code></pre></li>\n<li><p>makes never sense, go with 1. instead</p></li>\n</ol>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 1, "closed_date": 1555933421, "accepted_answer_id": 55727628, "answer_count": 1, "score": 0, "last_activity_date": 1555504601, "creation_date": 1555503898, "last_edit_date": 1555503942, "question_id": 55727513, "link": "https://stackoverflow.com/questions/55727513/javascript-object-construction-and-utilization-to-get-deep-understand", "closed_reason": "Opinion-based", "title": "Javascript -Object construction and Utilization - to get deep understand", "body": "<p>Could someone tell me:</p>\n\n<ol>\n<li><p>how to choose an object construction based on different development scenarios.?</p></li>\n<li><p>which is a good pattern so far for the development when compared to another pattern?</p></li>\n<li><p>if you have a chance to develop a complete project for Banking/ Social Networking/ online purchase (like Amazon, eBay), etc, which one would you use and why.?</p></li>\n</ol>\n\n<p>This is just to get enough understanding from ground level.</p>\n\n<p><strong>1. Object constructor:</strong></p>\n\n<pre><code>var person = new Object();\nperson.name = \"Demo name\",\nperson.getName = function(){\n  return this.name ; \n};\n</code></pre>\n\n<p>Using Object.create() method:\nvar a = Object.create(null);</p>\n\n<p><strong>2. Literal constructor:</strong></p>\n\n<pre><code>var person = { \n  name : \"Demo name\",\n  getName : function (){\n   return this.name\n  } \n} \n</code></pre>\n\n<p><strong>3. Function constructor:</strong></p>\n\n<pre><code>function Person(name){\n  this.name = name\n  this.getName = function(){\n    return this.name\n  } \n} \n</code></pre>\n\n<p><strong>4. Prototype:</strong></p>\n\n<pre><code>function Person(){};\nPerson.prototype.name = \"Demo name\";\n</code></pre>\n\n<p><strong>5. Function/Prototype combination:</strong></p>\n\n<pre><code>function Person(name){\n  this.name = name;\n} \nPerson.prototype.getName = function(){\n  return this.name\n} \n</code></pre>\n\n<p><strong>6. Singleton:</strong></p>\n\n<pre><code>var person = new function(){\n  this.name = \"Demo name\"\n} \n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1555503405, "post_id": 55727309, "comment_id": 98133433, "body": "show formGroup initiation"}, {"owner": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "reply_to_user": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1555503780, "post_id": 55727309, "comment_id": 98133663, "body": "edited: formGroup initiation"}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "edited": false, "score": 0, "creation_date": 1555509203, "post_id": 55728948, "comment_id": 98137272, "body": "You are very sure"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1555508558, "creation_date": 1555508558, "answer_id": 55728948, "question_id": 55727309, "link": "https://stackoverflow.com/questions/55727309/error-message-cannot-invoke-an-expression-whose-type-lacks-a-call-signature/55728948#55728948", "title": "Error message: Cannot invoke an expression whose type lacks a call signature", "body": "<p>I'm guessing you are using TypeScript 3.2 or below.  If you can update to TypeScript 3.3 or above, there is more <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#improved-behavior-for-calling-union-types\" rel=\"nofollow noreferrer\">support for calling unions of functions</a> and your code should hopefully not error at all:</p>\n\n<pre><code>// TS 3.3 or above\ndeclare const f: ((value?: any, options?: Object) =&gt; void) | \n  ((opts?: { onlySelf?: boolean; emitEvent?: boolean; }) =&gt; void);\nf(); // okay\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/CYUwxgNghgTiAEYD2A7AzgF3gMwFzwAoCA3KCAVxAH58oUBPAGniQAcMBLVNG+AeQBGAK3AYAlPAC8APnjEkHYBIA+hAmww98AbxYoI9AMogI2XgKRIIIOgG54IALYcMAUWIgUGc5et34AL4SMnIKSrYAUNgEYvYA9HEsANZQ9EA\" rel=\"nofollow noreferrer\">\ud83d\udd17\ud83d\udc69\u200d\ud83d\udcbb</a></p>\n\n<p>If you are stuck with an older version of TypeScript, the best way to deal with this is to use a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> to tell the compiler that you are sure what you are doing is safe:</p>\n\n<pre><code>// TS 3.2 or below\ndeclare const f: ((value?: any, options?: Object) =&gt; void) | \n  ((opts?: { onlySelf?: boolean; emitEvent?: boolean; }) =&gt; void);\nf(); // error\n(f as ()=&gt;void)(); // okay\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/?ts=3.2.1#code/CYUwxgNghgTiAEYD2A7AzgF3gMwFzwAoCA3KCAVxAH58oUBPAGniQAcMBLVNG+AeQBGAK3AYAlPAC8APnjEkHYBIA+hAmww98AbxYoI9AMogI2XgKRIIIOgG54IALYcMAUWIgUGc5et34AL4SMnIKSrYAUNgEYvYA9HEOMDBIMBEE2PBQaIRiMvKKYjHxiUgA1lD0QA\" rel=\"nofollow noreferrer\">\ud83d\udd17\ud83d\udc69\u200d\ud83d\udcbb</a></p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 182, "user_id": 4926048, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-WomhkoRpd34/AAAAAAAAAAI/AAAAAAAACRk/OtVwXmA9FLc/photo.jpg?sz=128", "display_name": "Eduardo Dallmann", "link": "https://stackoverflow.com/users/4926048/eduardo-dallmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 764, "favorite_count": 0, "accepted_answer_id": 55728948, "answer_count": 1, "score": 0, "last_activity_date": 1555508558, "creation_date": 1555503152, "last_edit_date": 1555503754, "question_id": 55727309, "link": "https://stackoverflow.com/questions/55727309/error-message-cannot-invoke-an-expression-whose-type-lacks-a-call-signature", "title": "Error message: Cannot invoke an expression whose type lacks a call signature", "body": "<p>Only <code>action === 'enable'</code> in <code>if</code> is causing <strong>'Cannot invoke an expression whose type lacks a call signature. Type '((value?: any, options?: Object)\n=> void) | ((opts?: { onlySelf?: boolean; emitEvent?: boolean; }) => void)' has no compatible call signatures.'</strong> error in the line of <code>formGroup.get</code>, if I remove this snippet on the <code>if</code> the error does not happen.</p>\n\n<pre><code>public act(action: string) {\n   this.formGroup.get('field1')[action]();\n   if (action === 'reset' || (this.userPermissions.field2 === true &amp;&amp; action === 'enable')) {\n      this.formGroup.get('field2')[action](); //error here &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n   }\n}\n</code></pre>\n\n<p>At other times I call the function.</p>\n\n<pre><code>this.act('reset');\nthis.act('enable');\nthis.act('disable');\n//etc\n</code></pre>\n\n<p>formGroup initiation</p>\n\n<pre><code>const formGroup = this.formBuilder.group({\n   field1: [{ value: undefined, disabled: false }, Validators.compose([])],\n   field2: [\n      { value: 'text' },\n      Validators.compose([Validators.required])\n      ],\n....\nreturn formGroup\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "edited": false, "score": 0, "creation_date": 1555504170, "post_id": 55727326, "comment_id": 98133918, "body": "It depends on how strict you want to be with your typing. It can be JSX.Element (that is type which extends ReactElement). And if you want to have kinda loose typing then you can use ReactNode. It adds primitives to possible values"}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": true, "score": 4, "last_activity_date": 1555503212, "creation_date": 1555503212, "answer_id": 55727326, "question_id": 55727269, "link": "https://stackoverflow.com/questions/55727269/typescript-set-type-annotation-of-jsx/55727326#55727326", "title": "Typescript set type annotation of JSX", "body": "<p>There is a type <code>JSX.Element</code> for a broader approach or directly with <code>React.ReactElement&lt;type&gt;</code></p>\n\n<pre><code>interface ITextEditorProps {\n    value: JSX.Element // React.ReactElement&lt;type&gt; also possible\n}\n</code></pre>\n"}], "owner": {"reputation": 7026, "user_id": 3284463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c9b6ba63b641695d65fb77f7adf179c?s=128&d=identicon&r=PG&f=1", "display_name": "Rusty", "link": "https://stackoverflow.com/users/3284463/rusty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 1, "accepted_answer_id": 55727326, "answer_count": 1, "score": 4, "last_activity_date": 1555503212, "creation_date": 1555503005, "question_id": 55727269, "link": "https://stackoverflow.com/questions/55727269/typescript-set-type-annotation-of-jsx", "title": "Typescript set type annotation of JSX", "body": "<p>How would I set a type annotation of JSX? </p>\n\n<p>I want to check if props received are type of JSX and not any other type.</p>\n\n<p>This is what my interface looks like: </p>\n\n<pre><code>interface ITextEditorProps{\n  value: any\n}\n\n// Component \n&lt;TextEditor value={&lt;div&gt;&lt;h1&gt;Hello World&lt;/h1&gt;&lt;/div&gt;} /&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1173, "user_id": 6781625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8244aa1ec7503d0193835f84527c2774?s=128&d=identicon&r=PG", "display_name": "Edison", "link": "https://stackoverflow.com/users/6781625/edison"}, "edited": false, "score": 0, "creation_date": 1555502454, "post_id": 55727098, "comment_id": 98132822, "body": "give ur samples..?"}, {"owner": {"reputation": 2136, "user_id": 3074275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/urDvz.jpg?s=128&g=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/3074275/mukesh-kumar"}, "reply_to_user": {"reputation": 1173, "user_id": 6781625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8244aa1ec7503d0193835f84527c2774?s=128&d=identicon&r=PG", "display_name": "Edison", "link": "https://stackoverflow.com/users/6781625/edison"}, "edited": false, "score": 0, "creation_date": 1555502732, "post_id": 55727098, "comment_id": 98133017, "body": "@Edison Added Sample code in question."}, {"owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1555502924, "post_id": 55727098, "comment_id": 98133150, "body": "Cant you just not change data model instead?"}, {"owner": {"reputation": 2136, "user_id": 3074275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/urDvz.jpg?s=128&g=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/3074275/mukesh-kumar"}, "reply_to_user": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "edited": false, "score": 0, "creation_date": 1555503080, "post_id": 55727098, "comment_id": 98133247, "body": "@Antoniossss Did not get you, could you please explain it bit clear?"}, {"owner": {"reputation": 597, "user_id": 9626085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b907effba3bcd654f0589c7152124f?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Verma", "link": "https://stackoverflow.com/users/9626085/deepak-verma"}, "edited": false, "score": 0, "creation_date": 1555504275, "post_id": 55727098, "comment_id": 98133985, "body": "on dropdown change call a function which will check the current value of radio button,if radio button is No set the model value of dropdown to the desired selected value else change to value to newly selected value"}, {"owner": {"reputation": 2136, "user_id": 3074275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/urDvz.jpg?s=128&g=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/3074275/mukesh-kumar"}, "reply_to_user": {"reputation": 597, "user_id": 9626085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86b907effba3bcd654f0589c7152124f?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Verma", "link": "https://stackoverflow.com/users/9626085/deepak-verma"}, "edited": false, "score": 0, "creation_date": 1555505323, "post_id": 55727098, "comment_id": 98134671, "body": "@DeepakVerma Thanks, but as I have mentioned that I don&#39;t want to set the value, only prevent to change the value of dropdown."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1555505474, "post_id": 55727098, "comment_id": 98134776, "body": "<a href=\"https://stackoverflow.com/questions/52619826/to-enable-or-disable-the-input-field-based-on-the-value-of-select-component-in-a?rq=1\" title=\"to enable or disable the input field based on the value of select component in a\">stackoverflow.com/questions/52619826/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 349, "user_id": 2609604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec7e6885f454a8efd99f8fbbc8c1e8d2?s=128&d=identicon&r=PG", "display_name": "Prasad", "link": "https://stackoverflow.com/users/2609604/prasad"}, "is_accepted": false, "score": 0, "last_activity_date": 1555509284, "creation_date": 1555509284, "answer_id": 55729195, "question_id": 55727098, "link": "https://stackoverflow.com/questions/55727098/how-to-prevent-to-selecting-the-dropdown-value-in-angular/55729195#55729195", "title": "How to prevent to selecting the dropdown value in Angular", "body": "<p>You might want to use the change event in the controls. For radio controls, you might use something like <code>(change)=\"handleYesNo($event)\"</code>. On selecting <code>No</code>, set the target (select/dropdown) value back to earlier value which is in a var which you can save when radio is set to <code>Yes</code>. Here the select/dropdown is not disabled at all. A message is shown when user tries to change selected value from dropdown while radio is set to <code>No</code>.</p>\n\n<pre><code>handleSelect(evt) {\nvar target = evt.target;\n\nif (this.yesOrNo == true)\n{\n  this.previousValue = target.value;\n}\nelse{\n  target.value = this.previousValue;\n  alert(\"You can't change the value if the Yes/No Radio selection is No.\")\n}\n}\n</code></pre>\n\n<p>Your component model:</p>\n\n<pre><code>yesOrNo: boolean;\nselectedValue: string;\npreviousValue: string;\n</code></pre>\n\n<p>Complete component: (simplest one)</p>\n\n<pre><code>    import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-simple-form',\n  templateUrl: './simple-form.component.html',\n  styles: []\n})\nexport class SimpleFormComponent implements OnInit {\n\n  form: FormGroup;\n  yesOrNo: boolean;\n  selectedValue: string;\n  previousValue: string;\n\n  constructor(private formBuilder: FormBuilder) { }\n\n  ngOnInit() {\n    this.form = this.formBuilder.group({\n      email: [null, [Validators.required, Validators.email]],\n      password: [null, Validators.required],\n      sayYesOrNo: [null, Validators.required],\n    });\n  }\n\n  handleYesNo(evt) {\n    if (this.yesOrNo == true)\n    {\n      console.log(\"Yes\");\n    }\n    else{\n      console.log(\"No\");\n    }\n  }\n\n  handleSelect(evt) {\n    var target = evt.target;\n\n    if (this.yesOrNo == true)\n    {\n      this.previousValue = target.value;\n    }\n    else{\n      target.value = this.previousValue;\n      alert(\"You can't change the value if the Yes/No Radio selection is No.\")\n    }\n  }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form class=\"form-horizontal\" [formGroup]=\"form\"&gt;\n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-sm-12\"&gt;      \n\n      &lt;input [(ngModel)]=\"yesOrNo\" type=\"radio\" (change)=\"handleYesNo($event)\" formControlName=\"sayYesOrNo\" name=\"sayYesOrNo\" value=\"1\"&gt; Yes&lt;br&gt;\n      &lt;input [(ngModel)]=\"yesOrNo\" type=\"radio\" (change)=\"handleYesNo($event)\" formControlName=\"sayYesOrNo\" name=\"sayYesOrNo\" value=\"0\"&gt; No&lt;br&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"form-group\"&gt;\n    &lt;div class=\"col-sm-12\"&gt;      \n      &lt;label for=\"dropDown\" class=\"control-label\"&gt;Select:&lt;/label&gt;\n      &lt;select class=\"form-control\" id=\"dropDown\" (change)=\"handleSelect($event)\" [(ngModel)]=\"selectedValue\" formControlName=\"dropDown\" name=\"dropDown\"&gt;\n        &lt;option value=\"opt1\" &gt;Option 1&lt;/option&gt;\n        &lt;option value=\"opt2\" &gt;Option 2&lt;/option&gt;\n      &lt;/select&gt;\n\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!form.valid\"&gt;\n    Submit\n  &lt;/button&gt;\n\n&lt;/form&gt;\n</code></pre>\n\n<p>Hope it helps. I have kept it simple here just to demo the point.</p>\n"}], "owner": {"reputation": 2136, "user_id": 3074275, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/urDvz.jpg?s=128&g=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/3074275/mukesh-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1734, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555509284, "creation_date": 1555502368, "last_edit_date": 1555502705, "question_id": 55727098, "link": "https://stackoverflow.com/questions/55727098/how-to-prevent-to-selecting-the-dropdown-value-in-angular", "title": "How to prevent to selecting the dropdown value in Angular", "body": "<p>I have one dropdown and radio button [Yes, No], which works fine. But I have to add one condition while changing the dropdown value.</p>\n\n<ol>\n<li><p>If the radio button selected value is Yes, then we can use dropdown as usual.</p></li>\n<li><p>But if radio button selected value is No then we can not change the selected value of dropdown. Whatever value is selected in the dropdown, just keep it. if a user tries to change the dropdown value then a popup message will come and say. You can not change the value if the radio button is No.</p></li>\n</ol>\n\n<p>We don't want to make the dropdown disable. </p>\n\n<p>I have tried multiple codes but getting one issue. On change, I can show the message but the selected value is being changed. I don't want to set the same value again because, onset value, multiple events are firing.</p>\n\n<p>So, basically on change of dropdown. I want to check the condition and show the message and keep the dropdown selected as an initial value.\nHere is the sample code.</p>\n\n<pre><code>    this.controls.dropdowneControl.valueChanges.pipe(pairwise()).subscribe(([preData, data]: [any, any]) =&gt; {\n          debugger;\n          if (data !== undefined &amp;&amp; data != null) {\n            currentValue = data;\n            previousValue = preData;\n\n\n              if (previousValue == 'A' &amp;&amp; currentValue == 'B' &amp;&amp; radioButtonValue == 'No') {\n                this.alert(\u2018Some message.');\n\n//Don\u2019t change the dropdown value                \n                return false;\n              }\n}});\n</code></pre>\n\n<p>Please suggest something.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2143, "user_id": 1727357, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2BG0t.jpg?s=128&g=1", "display_name": "YaakovHatam", "link": "https://stackoverflow.com/users/1727357/yaakovhatam"}, "edited": false, "score": 0, "creation_date": 1555502288, "post_id": 55726995, "comment_id": 98132738, "body": "The data are not exist on the observable variable,  the observable just get notified when new data is coming. you can use middle-ware to save a copy of your last data in your service or your component"}], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "edited": false, "score": 0, "creation_date": 1555502371, "post_id": 55727078, "comment_id": 98132779, "body": "i know i can use ngIf but i dont wnat to use that in my case, and actually i realy want to understand what i can use it only on ngif"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "edited": false, "score": 0, "creation_date": 1555502430, "post_id": 55727078, "comment_id": 98132810, "body": "why are u not using ngIf"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "edited": false, "score": 2, "creation_date": 1555502633, "post_id": 55727078, "comment_id": 98132941, "body": "This isn&#39;t a dummy way to do this. ngIf wait until observable resolve and then assign it to a variable. Otherwise, you will get an error accessing <code>res</code> variable. ngIf prevent us from that"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1555502290, "creation_date": 1555502290, "answer_id": 55727078, "question_id": 55726995, "link": "https://stackoverflow.com/questions/55726995/angular-6-alias-on-html/55727078#55727078", "title": "Angular 6 alias on HTML", "body": "<p>assign the result to variable</p>\n\n<pre><code>&lt;dumb-comp *ngIf=\"someObservable | async as res\"\n     [name]=\"res.name\"\n     [role]=\"res.role\"\n     [age]=\"res.age\"&gt;\n &lt;/dumb-comp&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "edited": false, "score": 0, "creation_date": 1555503515, "post_id": 55727196, "comment_id": 98133499, "body": "So bottom line, you can not do this in built-in way on angualr ?"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "reply_to_user": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "edited": false, "score": 0, "creation_date": 1555504281, "post_id": 55727196, "comment_id": 98133991, "body": "@NaorTalmor read the github issue I&#39;ve attached. There is no way, although most of the cases <code>*ngIf</code> does what you want. It get&#39;s messy though when the observable returns a falsy value, and you still want to render the child component. In this case you can use the <code>*ngIf=&quot;{res: someObservable | async} as data&quot;</code> notation, or go for the custom <code>ngLet</code> directive"}], "tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 1, "last_activity_date": 1555502730, "creation_date": 1555502730, "answer_id": 55727196, "question_id": 55726995, "link": "https://stackoverflow.com/questions/55726995/angular-6-alias-on-html/55727196#55727196", "title": "Angular 6 alias on HTML", "body": "<p>It's a missing and highly requested <a href=\"https://github.com/angular/angular/issues/15280\" rel=\"nofollow noreferrer\">feature</a> of angular. Unfortunately they are not very eager to add it. You can however create your own custom directive and use it. However this will perform poorly compared to a native angular template syntax.</p>\n\n<p>For an <code>*ngLet</code> example, you can check <a href=\"https://github.com/ngrx-utils/ngrx-utils/blob/master/projects/store/src/directives/ngLet.ts\" rel=\"nofollow noreferrer\">this</a> implementation of ngrx.</p>\n\n<p>If you've added this, you can change your template to this:</p>\n\n<pre><code>&lt;dumb-comp *ngLet=\"someObservable | async as res\"\n  [name]=\"res?.name\"\n  [role]=\"res?.role\"\n  [age]=\"res?.age\"&gt;\n&lt;/dumb-comp&gt;\n</code></pre>\n\n<p>As mentioned, this will cause the <code>res</code> to be <code>undefined/null</code> while waiting for the observable to resolve.</p>\n\n<p>If multiple subscriptions are your worry, you can use the <code>share()</code> operator. This will share the subscription amongst the subscribers, then you can use the <code>async</code> pipe as much as you want (on that observable) without any serious performance impact</p>\n"}], "owner": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1417, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1582262459, "creation_date": 1555501996, "last_edit_date": 1582262459, "question_id": 55726995, "link": "https://stackoverflow.com/questions/55726995/angular-6-alias-on-html", "title": "Angular 6 alias on HTML", "body": "<p>I need to use some element in HTML with angular 6 more then once and I want to save that element as alias, but I can't do that if the directive or element isn't <code>*ngIf</code>.</p>\n\n<p>let say I have this code - </p>\n\n<pre><code>&lt;dumb-comp\n    [name]=\"(someObservable | async).name\"\n    [role]=\"(someObservable | async).role\"\n    [age]=\"(someObservable | async).age\"&gt;\n&lt;/dumb-comp&gt;\n</code></pre>\n\n<p>I have to use async pipe each time... I want to keep <code>(someObservable | async)</code> on an alias and use it every time that I need ... is there any solution for that?</p>\n\n<p>I want to use that without <code>*ngIf</code>, and I want to know please why is that possibly only using <code>*ngIf</code>.</p>\n\n<p><strong>I know that I can pass all the data to the dumb-comp but I want to filter the data before. the code here is just an example for a bigger problem</strong></p>\n"}, {"tags": ["javascript", "typescript", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 483, "user_id": 8701383, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HInT4c4ILJ0/AAAAAAAAAAI/AAAAAAAAAPg/HZd-ZHIsiZQ/photo.jpg?sz=128", "display_name": "Nouman Dilshad", "link": "https://stackoverflow.com/users/8701383/nouman-dilshad"}, "edited": false, "score": 0, "creation_date": 1555508819, "post_id": 55728148, "comment_id": 98137001, "body": "Thanks a lot.I was doing it right all the way. The issue was some thing else and I thought it had something to do with Service Injection."}, {"owner": {"reputation": 483, "user_id": 8701383, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HInT4c4ILJ0/AAAAAAAAAAI/AAAAAAAAAPg/HZd-ZHIsiZQ/photo.jpg?sz=128", "display_name": "Nouman Dilshad", "link": "https://stackoverflow.com/users/8701383/nouman-dilshad"}, "edited": false, "score": 0, "creation_date": 1555508975, "post_id": 55728148, "comment_id": 98137117, "body": "Btw we can use <code>JwtTokenService</code> just by importing it into your current (where you need to use it) <code>Module</code> file and it will work. We don&#39;t need to import it in the <code>ApplicationModule</code>"}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "reply_to_user": {"reputation": 483, "user_id": 8701383, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HInT4c4ILJ0/AAAAAAAAAAI/AAAAAAAAAPg/HZd-ZHIsiZQ/photo.jpg?sz=128", "display_name": "Nouman Dilshad", "link": "https://stackoverflow.com/users/8701383/nouman-dilshad"}, "edited": false, "score": 0, "creation_date": 1555509179, "post_id": 55728148, "comment_id": 98137255, "body": "Yes but eventually it has to be imported in the ApplicationModule, e.g your ApplicationModule will import specific modules."}], "tags": [], "owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "is_accepted": true, "score": 1, "last_activity_date": 1555506048, "creation_date": 1555506048, "answer_id": 55728148, "question_id": 55726844, "link": "https://stackoverflow.com/questions/55726844/how-to-inject-plain-service-provider-in-nest-js/55728148#55728148", "title": "How to Inject plain Service/Provider in nest.js", "body": "<p>Register the service in the nest application module:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Module } from '@nestjs/common';\nimport { YourController } from './path-to/your.controller';\nimport { JwtTokenService } from './path-to/JwtTokenService.service';\n\n@Module({\n  controllers: [YourController],\n  providers: [JwtTokenService],\n})\nexport class ApplicationModule {}\n</code></pre>\n\n<p>Then you can use it in your controller:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Controller, Get, Post, Body } from '@nestjs/common';\nimport { JwtTokenService } from './path-to/JwtTokenService.service';\n\n@Controller('your')\nexport class YourController {\n  constructor(private readonly jwtTokenService: JwtTokenService) {}\n\n  @Get()\n  async get() {\n    // use `this.jwtTokenService`\n    ...\n  }\n}\n</code></pre>\n\n<p>Nest is using the a <a href=\"https://docs.nestjs.com/providers#dependency-injection\" rel=\"nofollow noreferrer\">DependencyInjection pattern</a> to provide the service to the controller, which is why you need to declare how the service is provided in the application module.</p>\n"}], "owner": {"reputation": 483, "user_id": 8701383, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HInT4c4ILJ0/AAAAAAAAAAI/AAAAAAAAAPg/HZd-ZHIsiZQ/photo.jpg?sz=128", "display_name": "Nouman Dilshad", "link": "https://stackoverflow.com/users/8701383/nouman-dilshad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1935, "favorite_count": 0, "accepted_answer_id": 55728148, "answer_count": 1, "score": 1, "last_activity_date": 1555506048, "creation_date": 1555501508, "question_id": 55726844, "link": "https://stackoverflow.com/questions/55726844/how-to-inject-plain-service-provider-in-nest-js", "title": "How to Inject plain Service/Provider in nest.js", "body": "<p>I made a plain typeScript class in nest.js.\nJwtTokenService.js</p>\n\n<pre><code>// JwtTokenService.js\n\nimport { Injectable, Optional } from '@nestjs/common';\nimport { JwtService } from '@nestjs/jwt';\nimport { JwtPayload } from '../modules/auth/interface/jwt-payload.interface';\n\n@Injectable()\nexport class JwtTokenService {\n  constructor(private readonly jwtService: JwtService) {}\n\n  async generateJWT(payload: object): Promise&lt;string&gt; {\n    payload['type'] = 'access_token';\n    const token = this.jwtService.sign({ payload });\n    return token;\n  }\n}\n</code></pre>\n\n<p>Now how can I use this in any controller. like user, auth and other.</p>\n"}, {"tags": ["typescript", "tsconfig", "compiler-options"], "comments": [{"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "edited": false, "score": 0, "creation_date": 1555581848, "post_id": 55726826, "comment_id": 98164165, "body": "opened an issue on the TS repo: <a href=\"https://github.com/Microsoft/TypeScript/issues/31012\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/31012</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "is_accepted": true, "score": 2, "last_activity_date": 1557067841, "creation_date": 1557067841, "answer_id": 55993222, "question_id": 55726826, "link": "https://stackoverflow.com/questions/55726826/why-are-the-typescript-compileroptions-noemitonerror-true-and-isolatedmodule/55993222#55993222", "title": "Why are the TypeScript compilerOptions &#39;noEmitOnError: true&#39; and &#39;isolatedModules: false&#39; not compatible?", "body": "<p>Apparently the restriction was a mistake.\nFixed on master!: <a href=\"https://github.com/Microsoft/TypeScript/pull/31043\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/pull/31043</a></p>\n"}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 758, "favorite_count": 0, "accepted_answer_id": 55993222, "answer_count": 1, "score": 1, "last_activity_date": 1557067841, "creation_date": 1555501453, "question_id": 55726826, "link": "https://stackoverflow.com/questions/55726826/why-are-the-typescript-compileroptions-noemitonerror-true-and-isolatedmodule", "title": "Why are the TypeScript compilerOptions &#39;noEmitOnError: true&#39; and &#39;isolatedModules: false&#39; not compatible?", "body": "<p>When I run TypeScript with <code>isolatedModules</code> true and <code>isolatedModules</code> false, I get this error: </p>\n\n<pre><code>tsconfig.json(5,9): error TS5053: Option 'noEmitOnError' cannot be specified with option 'isolatedModules'.\n</code></pre>\n\n<p>Why??</p>\n\n<p>Example tsconfig:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"noEmitOnError\": true,\n        \"isolatedModules\": true,\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "object"], "comments": [{"owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "edited": false, "score": 0, "creation_date": 1555501996, "post_id": 55726763, "comment_id": 98132577, "body": "If you don&#39;t know the answer, it would be nice to actually tell me if you know, how is this thing called? Does that pattern have a name? Or where can I find some info?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555508760, "post_id": 55726763, "comment_id": 98136967, "body": "What syntax is <code>validationSchema={this.getValidationSchemas}</code>?  You might consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that works in a standalone environment like <a href=\"http://www.typescriptlang.org/play//\" rel=\"nofollow noreferrer\">the TypeScript Playground</a> so others can more easily get to work on the issue."}], "owner": {"reputation": 1690, "user_id": 10104341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7326ce0b47203cf7bf776da128e5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Dimitris Efst", "link": "https://stackoverflow.com/users/10104341/dimitris-efst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555502781, "creation_date": 1555501228, "last_edit_date": 1555502781, "question_id": 55726763, "link": "https://stackoverflow.com/questions/55726763/convert-a-function-that-returns-an-object-to-a-map-of-that-object", "title": "Convert a function that returns an object to a map of that object", "body": "<p><strong>Requirements</strong>\nI have this getValidationSchema` function. My task entails converting the function that calls it to a map of an object.</p>\n\n<p>Something similar to <code>validationSchema[EDIT_INFO] = someSchema</code>, and call that with all my mappings instead of a function.</p>\n\n<pre><code>export const validationSchemas = {\n  ADD_USER: Yup.object().shape({\n    username: Yup.string('Provide a username').required('Username is required'),\n    email: Yup.string().email('Provide a valid email address'),\n    password: Yup.string('Provide a password').required('Password is required'),\n    confirmPassword: Yup.string('Provide your password again')\n      .required('Password confirmation is required')\n      .oneOf([Yup.ref('password')], 'Passwords do not match'),\n    group: Yup.string('Please select a group').required('Group is required')\n  }),\n  EDIT_INFO: Yup.object().shape({\n    username: Yup.string('Provide a username').required('Username is required'),\n    email: Yup.string().email('Provide a valid email address'),\n    group: Yup.string('Please select a group').required('Group is required')\n  }),\n  EDIT_PASSWORD: Yup.object().shape({\n    password: Yup.string('Provide a password').required('Password is required'),\n    confirmPassword: Yup.string('Provide your password again')\n      .required('Password confirmation is required')\n      .oneOf([Yup.ref('password')], 'Passwords do not match')\n  })\n};\n</code></pre>\n\n<p>Here is the function I had until now:</p>\n\n<pre><code>const { mode } = this.props;\nif (mode === ActionMode.EDIT_INFO) {\n    return validationSchemas.EDIT_INFO;\n}\nif (mode === ActionMode.EDIT_PASSWORD) {\n    return validationSchemas.EDIT_PASSWORD;\n}\nreturn validationSchemas.ADD_USER;\n};\n</code></pre>\n\n<p>This is how i call the function until now.</p>\n\n<pre><code>validationSchema={this.getValidationSchemas}\n</code></pre>\n\n<p>And this is what I have done until now:</p>\n\n<pre><code>const mapValidationSchema: any;\n\nvalidationSchemas[(validationSchemas.EDIT_PASSWORD, validationSchemas.EDIT_INFO,\n    validationSchemas.ADD_USER)] = this.mapValidationSchema;\n\nvalidationSchema = {this.mapValidationSchema}\n\n</code></pre>\n\n<p>I clearly am doing something wrong, as I get multiple errors and the form validation isn't working. Note that the form is in React, and TS.</p>\n\n<p><strong>Also, I was asked to do this, but can you explain to me why is this better than a function with an if statement instead? Except looking cleaner I guess I don't see any merit to this.</strong></p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1555501346, "post_id": 55726709, "comment_id": 98132217, "body": "This is not duplicate. I applied solution accepted in that question. But, it didn&#39;t work for me. My problem is different. @PrashantPimpale"}], "answers": [{"comments": [{"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1555501778, "post_id": 55726830, "comment_id": 98132459, "body": "Thanks a lot @xyz.  It worked. My mistake is adding to <code>app.module.ts</code>. But, right place was <code>child-component.ts</code>"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1555501920, "post_id": 55726830, "comment_id": 98132534, "body": "But, if I write like your said, <code>&lt;input [value]=&quot;value&quot; type=&quot;text&quot;&gt;</code>, then it will give me error when I add second input. Am I right @xyz?"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1555502033, "post_id": 55726830, "comment_id": 98132598, "body": "@realist what  is second input? See an example here: <a href=\"https://stackblitz.com/edit/angular-formgroup-hedcny?file=src%2Fapp%2Fmy-child-component%2Fmy-child-component.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1555502183, "post_id": 55726830, "comment_id": 98132682, "body": "@realist Implement all the method of control value accessor, register functions, setDisabledState etc. This way you will be able to achieve all the functionalities of the reactive form"}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1555502637, "post_id": 55726830, "comment_id": 98132945, "body": "I looked your stackblitz. And I learnt now that, I&#39;m always used wrong way  up to the now. Thanks a lot. You lighten me."}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1555503687, "post_id": 55726830, "comment_id": 98133596, "body": "When I changed &quot;haha&quot; text to &quot;asdfg&quot; in your stackblitz, and then click &quot;SAVE&quot;. It gave me again &quot;haha&quot; in my console. What can be the reason of this @xyz"}, {"owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "reply_to_user": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 1, "creation_date": 1555503807, "post_id": 55726830, "comment_id": 98133680, "body": "@realist: as said previously, you have to register the functions, check my edit now, open the stackblitz in the answer."}, {"owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "edited": false, "score": 0, "creation_date": 1555503988, "post_id": 55726830, "comment_id": 98133795, "body": "Ok. I now understood completely. Thanks a lot again."}], "tags": [], "owner": {"reputation": 11173, "user_id": 4976422, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/xf3k5.jpg?s=128&g=1", "display_name": "Ashish Ranjan", "link": "https://stackoverflow.com/users/4976422/ashish-ranjan"}, "is_accepted": true, "score": 4, "last_activity_date": 1555503745, "last_edit_date": 1555503745, "creation_date": 1555501466, "answer_id": 55726830, "question_id": 55726709, "link": "https://stackoverflow.com/questions/55726709/no-value-accessor-for-form-control-with-name-error-in-angular-7/55726830#55726830", "title": "No value accessor for form control with name error in angular 7", "body": "<p>Have your app component like:</p>\n\n<pre><code>&lt;app-my-child-component formControlName=\"brand\"&gt;&lt;/app-my-child-component&gt;\n</code></pre>\n\n<p>Add the provider in the component not on the module and implement \"ControlValueAccessor\" methods there.</p>\n\n<pre><code>@Component({\n  selector: 'app-my-child-component',\n  templateUrl: './my-child-component.component.html',\n  styleUrls: ['./my-child-component.component.css'],\n  providers:\n    [ { \n    provide: NG_VALUE_ACCESSOR,\n    multi: true,\n    useExisting: forwardRef(() =&gt; MyChildComponentComponent),\n  }],\n})\nexport class MyChildComponentComponent implements ControlValueAccessor {\n  value: string;\n  onChange() {}\n  onTouched() {}\n  isDisabled: boolean = false;\n\n  writeValue(value) {\n    this.value = value\n  }\n\n  registerOnChange(fn) {\n    this.onChange = fn\n  }\n\n  registerOnTouched(fn) {\n    this.onTouched = fn\n  }\n\n  setDisabledState(isDisabled) {\n    this.isDisabled = isDisabled;\n  }\n\n}\n</code></pre>\n\n<p>No need of another form in <code>child component</code>, it will be something like:</p>\n\n<pre><code>&lt;input \n  [value]=\"value\"\n  (input)=\"onChange($event.target.value)\"\n  (blur)=\"onTouched()\"\n  [disabled]=\"isDisabled\"\n  type=\"text\"&gt;\n</code></pre>\n\n<p>See a stack blitz here: <a href=\"https://stackblitz.com/edit/angular-formgroup-ccj26w?file=src%2Fapp%2Fmy-child-component%2Fmy-child-component.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-formgroup-ccj26w?file=src%2Fapp%2Fmy-child-component%2Fmy-child-component.component.ts</a></p>\n"}], "owner": {"reputation": 1579, "user_id": 10176050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a85eb9ef498c13970c93852ece65be7a?s=128&d=identicon&r=PG&f=1", "display_name": "realist", "link": "https://stackoverflow.com/users/10176050/realist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2467, "favorite_count": 0, "accepted_answer_id": 55726830, "answer_count": 1, "score": 3, "last_activity_date": 1555503745, "creation_date": 1555501048, "last_edit_date": 1555502725, "question_id": 55726709, "link": "https://stackoverflow.com/questions/55726709/no-value-accessor-for-form-control-with-name-error-in-angular-7", "title": "No value accessor for form control with name error in angular 7", "body": "<p>I'm using angular 7. And I have parent and child component like below Stackblitz. But, I'm giving <code>formControlName</code> from child component. When, I wrote \"id\" instead of  <code>formControlName</code>, everything working perfectly. But, when I wrote <code>formControlName</code>, then it gave me error <strong>No value accessor for form control with name: 'brand'</strong> </p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-formgroup-3zykuz?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">STACKBLITZ</a></p>\n\n<p><strong>I added this code which I saw from other post, to app.module.ts for solving, but it didn't work.</strong></p>\n\n<pre><code>providers: [\n  { \n    provide: NG_VALUE_ACCESSOR,\n    multi: true,\n    useExisting: forwardRef(() =&gt; MyChildComponentComponent),\n  }\n]\n</code></pre>\n"}, {"tags": ["typescript", "dictionary", "keyvaluepair"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 8597647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746f83ab047ecbdb26cccfa6b231a298?s=128&d=identicon&r=PG&f=1", "display_name": "oksuzlerOmer", "link": "https://stackoverflow.com/users/8597647/oksuzleromer"}, "edited": false, "score": 0, "creation_date": 1555502063, "post_id": 55726659, "comment_id": 98132613, "body": "Thanks, that works. Is there also a way that I can bind this map&#39;s value&#39;s to an input? I tried <code>&lt;input id=&quot;param{{myObj.id}}&quot; name=&quot;param{{myObj.id}}&quot; type=&quot;number&quot; maxlength=&quot;10&quot; [(ngModel)]=&quot;myMap[myObj]</code> in a table directive. This way, it couldn&#39;t differentiate keys, I guess it couldn&#39;t compare the keys and as far as I know there is no equals method to differentiate the map keys."}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 55, "user_id": 8597647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746f83ab047ecbdb26cccfa6b231a298?s=128&d=identicon&r=PG&f=1", "display_name": "oksuzlerOmer", "link": "https://stackoverflow.com/users/8597647/oksuzleromer"}, "edited": false, "score": 0, "creation_date": 1555503018, "post_id": 55726659, "comment_id": 98133206, "body": "@oksuzlerOmer You might want to read this <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> and if you still have issues then open a new question."}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": true, "score": 2, "last_activity_date": 1555500893, "creation_date": 1555500893, "answer_id": 55726659, "question_id": 55726623, "link": "https://stackoverflow.com/questions/55726623/object-as-map-key-in-typescript/55726659#55726659", "title": "Object as Map Key in Typescript", "body": "<p>You have to use the <code>set</code> function e.g.</p>\n\n<pre><code>this.myMap.set(myObj, 1);\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 8597647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746f83ab047ecbdb26cccfa6b231a298?s=128&d=identicon&r=PG&f=1", "display_name": "oksuzlerOmer", "link": "https://stackoverflow.com/users/8597647/oksuzleromer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 55726659, "answer_count": 1, "score": 1, "last_activity_date": 1555500893, "creation_date": 1555500800, "question_id": 55726623, "link": "https://stackoverflow.com/questions/55726623/object-as-map-key-in-typescript", "title": "Object as Map Key in Typescript", "body": "<p>I wanted to create a Map object with an object as key and a number as value in Typescript. I defined the map object as follows:</p>\n\n<pre><code>myMap: Map&lt;MyObj,number&gt;;\nmyObj: MyObj;\n</code></pre>\n\n<p>and when I try to add a pair to this map object:</p>\n\n<pre><code>this.myMap[myObj]=1;\n</code></pre>\n\n<p>It tells me that TS2538 Type 'MyObj' cannot be used as an index type. Is this possible in Typescript?</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 4066507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8f4208d99dcb7624fb0d69320cede873?s=128&d=identicon&r=PG&f=1", "display_name": "Ace", "link": "https://stackoverflow.com/users/4066507/ace"}, "is_accepted": true, "score": 0, "last_activity_date": 1555921446, "creation_date": 1555921446, "answer_id": 55791356, "question_id": 55726333, "link": "https://stackoverflow.com/questions/55726333/how-to-access-the-store-for-dynamic-loading-of-reducer/55791356#55791356", "title": "How to access the store for dynamic loading of reducer", "body": "<p>Looks like the above approach is no longer supporter in react-redux v6.0.0. Here is <a href=\"https://stackoverflow.com/a/33045558/4066507\">another approach</a>.</p>\n"}], "owner": {"reputation": 680, "user_id": 4066507, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8f4208d99dcb7624fb0d69320cede873?s=128&d=identicon&r=PG&f=1", "display_name": "Ace", "link": "https://stackoverflow.com/users/4066507/ace"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 55791356, "answer_count": 1, "score": 0, "last_activity_date": 1555921446, "creation_date": 1555499859, "question_id": 55726333, "link": "https://stackoverflow.com/questions/55726333/how-to-access-the-store-for-dynamic-loading-of-reducer", "title": "How to access the store for dynamic loading of reducer", "body": "<p>I am trying to implement the approach from the link below for the dynamic loading of the reducers using typescript. Can someone please suggest a way to access the store and call the store's custom method to inject the reducer.</p>\n\n<p><a href=\"https://tylergaw.com/articles/dynamic-redux-reducers/\" rel=\"nofollow noreferrer\">https://tylergaw.com/articles/dynamic-redux-reducers/</a></p>\n\n<p>This is the conversion of the withReducer</p>\n\n<pre><code>const withReducer = (key:any, reducer:any) =&gt; (WrappedComponent:any) =&gt; {\n   const Extended: React.FunctionComponent&lt;any&gt; = (props, context) =&gt; {\n      context.store.injectReducer(key, reducer)\n      return &lt;WrappedComponent {...props} /&gt;\n   };\n\n   Extended.contextTypes = {\n      store: object\n   };\n\n    return Extended;\n};\n\nexport { withReducer };\n</code></pre>\n\n<p>How can I get access to the store here. The context.store is undefined.</p>\n"}, {"tags": ["angular", "typescript", "generics", "typescript-generics"], "comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1555500226, "post_id": 55726256, "comment_id": 98131561, "body": "Unfortunately, you&#39;ll probably have to use arguments instead of generics."}], "answers": [{"comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1555672861, "post_id": 55728435, "comment_id": 98196740, "body": "BTW, it&#39;s a good idea to use camelCase for argument/parameters"}, {"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 1, "creation_date": 1555673435, "post_id": 55728435, "comment_id": 98196945, "body": "And you don&#39;t have to use the <code>typeof</code> operator - remove it."}], "tags": [], "owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "is_accepted": false, "score": 0, "last_activity_date": 1555736841, "last_edit_date": 1555736841, "creation_date": 1555506988, "answer_id": 55728435, "question_id": 55726256, "link": "https://stackoverflow.com/questions/55726256/modulewithproviders-forroot-use-generics-as-type-parameter-for-a-provider/55728435#55728435", "title": "ModuleWithProviders / forRoot - use generics as type parameter for a provider", "body": "<p>As @edric states, we need a type parameter instead</p>\n\n<pre><code>export class TopBannerModule {\n  static forRoot(typeOfAppNavigationService: typeof AppNavigationService): ModuleWithProviders {\n    return {\n      ngModule: TopBannerModule,\n      providers: [ \n        { provide: AppNavigationServiceToken, useClass: typeOfAppNavigationService]\n    };\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 15798, "user_id": 220005, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ac1b3b619949e4d1e397d522233e655?s=128&d=identicon&r=PG", "display_name": "jenson-button-event", "link": "https://stackoverflow.com/users/220005/jenson-button-event"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2407, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555736841, "creation_date": 1555499607, "question_id": 55726256, "link": "https://stackoverflow.com/questions/55726256/modulewithproviders-forroot-use-generics-as-type-parameter-for-a-provider", "title": "ModuleWithProviders / forRoot - use generics as type parameter for a provider", "body": "<p>I am wondering why I can't do this:</p>\n\n<pre><code>export class TopBannerModule {\n  static forRoot&lt;T&gt;(): ModuleWithProviders {\n    return {\n      ngModule: TopBannerModule,\n      providers: [ \n        { provide: AppNavigationServiceToken, useClass: T]\n    };\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>'T' only refers to a type, but is being used as a value here</p>\n</blockquote>\n\n<p>However <code>useClass</code> is expecting a type.</p>\n\n<p>Is this possible to utilise generics over a factory here?</p>\n"}, {"tags": ["reactjs", "typescript", "mobx", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 1380, "user_id": 9886585, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZWvfO1w78YQ/AAAAAAAAAAI/AAAAAAAABHU/HEAHPd2O7s8/photo.jpg?sz=128", "display_name": "lecham", "link": "https://stackoverflow.com/users/9886585/lecham"}, "edited": false, "score": 0, "creation_date": 1555499847, "post_id": 55726282, "comment_id": 98131321, "body": "Thanks! What&#39;s the Observer component and how can it be applied to my piece of code?"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 1380, "user_id": 9886585, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZWvfO1w78YQ/AAAAAAAAAAI/AAAAAAAABHU/HEAHPd2O7s8/photo.jpg?sz=128", "display_name": "lecham", "link": "https://stackoverflow.com/users/9886585/lecham"}, "edited": false, "score": 0, "creation_date": 1555500680, "post_id": 55726282, "comment_id": 98131836, "body": "Updated the answer. Alternatively, see @Tholle&#39;s answer for a better longterm solution."}], "tags": [], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "is_accepted": false, "score": 3, "last_activity_date": 1555500674, "last_edit_date": 1555500674, "creation_date": 1555499683, "answer_id": 55726282, "question_id": 55726218, "link": "https://stackoverflow.com/questions/55726218/react-hooks-mobx-invalid-hook-call-hooks-can-only-be-called-inside-of-the-body/55726282#55726282", "title": "React Hooks Mobx: invalid hook call. Hooks can only be called inside of the body of a function component", "body": "<p>The MobX observer will result in a class component under the hood. </p>\n\n<p>As per <a href=\"https://github.com/mobxjs/mobx-react/issues/594\" rel=\"nofollow noreferrer\">here</a>, you can work around this by doing: </p>\n\n<pre><code>(props) =&gt; &lt;Observer&gt;{() =&gt; rendering}&lt;/Observer&gt;\n</code></pre>\n\n<p>instead of: </p>\n\n<pre><code>observer((props) =&gt; rendering)\n\n</code></pre>\n\n<h2>Example</h2>\n\n<pre><code>import React from \"react\";\nimport { Observer } from \"mobx-react\";\n\nconst MobxFunctionalComponentObserver = props =&gt; (\n  &lt;Observer\n    inject={stores =&gt; ({ ... })}\n    render={props =&gt; (\n      ... \n    )}\n  /&gt;\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 5, "last_activity_date": 1555499800, "creation_date": 1555499800, "answer_id": 55726324, "question_id": 55726218, "link": "https://stackoverflow.com/questions/55726218/react-hooks-mobx-invalid-hook-call-hooks-can-only-be-called-inside-of-the-body/55726324#55726324", "title": "React Hooks Mobx: invalid hook call. Hooks can only be called inside of the body of a function component", "body": "<p>It's currently not supported to use hooks with the <code>mobx-react</code> package since it creates a class component under the hood.</p>\n\n<p>You can use the <code>6.0.0</code> release candidate that will be released soon, which does support hooks.</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"dependencies\": {\n    \"mobx-react\": \"6.0.0-rc.4\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1380, "user_id": 9886585, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZWvfO1w78YQ/AAAAAAAAAAI/AAAAAAAABHU/HEAHPd2O7s8/photo.jpg?sz=128", "display_name": "lecham", "link": "https://stackoverflow.com/users/9886585/lecham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1997, "favorite_count": 1, "accepted_answer_id": 55726324, "answer_count": 2, "score": 2, "last_activity_date": 1555500674, "creation_date": 1555499491, "question_id": 55726218, "link": "https://stackoverflow.com/questions/55726218/react-hooks-mobx-invalid-hook-call-hooks-can-only-be-called-inside-of-the-body", "title": "React Hooks Mobx: invalid hook call. Hooks can only be called inside of the body of a function component", "body": "<p>I am using React Hooks and when I wrap my component with observer from mobx, I am getting this error. What can be the problem? Is it possible to use mobx with React Hooks?\n<a href=\"https://i.stack.imgur.com/UJHxM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UJHxM.png\" alt=\"re\"></a></p>\n\n<pre><code>import classnames from 'classnames';\nimport { observer } from 'mobx-react';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport ViewStore from '../../../store/ViewStore';\n\ninterface INavbarProps {\n  viewStore: ViewStore;\n}\n\nconst Navbar = observer((props: INavbarProps) =&gt; {\n  const { authed } = props.viewStore;\n\n  const [drawerIsOpen, setState] = useState(false);\n\n  function toggleMenu() {\n    drawerIsOpen ? setState(false) : setState(true);\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;Link to=\"/\"&gt;Home&lt;/Link&gt;\n      &lt;Link to=\"/admin\"&gt;Admin&lt;/Link&gt;\n      &lt;Link to=\"/all\"&gt;All&lt;/Link&gt;\n      {authed ? &lt;Link to=\"/\"&gt;Logout&lt;/Link&gt; : &lt;Link to=\"/login\"&gt;Login&lt;/Link&gt;}\n\n      &lt;div onClick={toggleMenu}&gt;\n        Open Menu\n      &lt;/div&gt;\n\n      &lt;div className={classnames('drawer', {\n        drawer_open: drawerIsOpen,\n      })} /&gt;\n\n      &lt;div onClick={toggleMenu} className={drawerIsOpen ? 'backdrop' : ''}&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  );\n});\n\nexport default Navbar;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 10917017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d7eb93f65b37cd95917b2ca4806c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Yovabo", "link": "https://stackoverflow.com/users/10917017/yovabo"}, "edited": false, "score": 0, "creation_date": 1555500931, "post_id": 55726026, "comment_id": 98131985, "body": "And how can I add such an artist to a festival in the festival.service.ts? So in the  new Festival(&#39;DGTL&#39;, &#39;Techno&#39;, &#39;Wie dit leest is een aapje&#39;, &#39;Amsterdam&#39;, &#39;<a href=\"https://festivalfans.nl/wp-content/uploads/2014/11/dgtl-2017.jpg\" rel=\"nofollow noreferrer\">festivalfans.nl/wp-content/uploads/2014/11/dgtl-2017.jpg</a>&#39;, 45, Artist) string"}, {"owner": {"reputation": 270, "user_id": 9402746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8oCGCDeYXEY/AAAAAAAAAAI/AAAAAAAAACA/QTaKMW3usO4/photo.jpg?sz=128", "display_name": "Mariano Calcagno", "link": "https://stackoverflow.com/users/9402746/mariano-calcagno"}, "reply_to_user": {"reputation": 91, "user_id": 10917017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d7eb93f65b37cd95917b2ca4806c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Yovabo", "link": "https://stackoverflow.com/users/10917017/yovabo"}, "edited": false, "score": 0, "creation_date": 1555505757, "post_id": 55726026, "comment_id": 98134969, "body": "new Festival(&#39;DGTL&#39;, &#39;Techno&#39;, &#39;Wie dit leest is een aapje&#39;, &#39;Amsterdam&#39;, &#39;festivalfans.nl/wp-content/uploads/2014/11/dgtl-2017.jpg&#39;, 45, [Artist])  try adding [Artist]"}, {"owner": {"reputation": 91, "user_id": 10917017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d7eb93f65b37cd95917b2ca4806c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Yovabo", "link": "https://stackoverflow.com/users/10917017/yovabo"}, "edited": false, "score": 0, "creation_date": 1555570454, "post_id": 55726026, "comment_id": 98158312, "body": "Adding [Artist] seems to solve the error, but doesn&#39;t fill the variable with data. I would like to add a artist with the following parameters of the artist model. That means a name and a genre."}], "tags": [], "owner": {"reputation": 270, "user_id": 9402746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8oCGCDeYXEY/AAAAAAAAAAI/AAAAAAAAACA/QTaKMW3usO4/photo.jpg?sz=128", "display_name": "Mariano Calcagno", "link": "https://stackoverflow.com/users/9402746/mariano-calcagno"}, "is_accepted": true, "score": 3, "last_activity_date": 1555505980, "last_edit_date": 1555505980, "creation_date": 1555498848, "answer_id": 55726026, "question_id": 55725959, "link": "https://stackoverflow.com/questions/55725959/adding-an-array-of-artists-to-1-festival-doesnt-work/55726026#55726026", "title": "Adding an array of artists to 1 festival doesn&#39;t work", "body": "<p>maybe problem is in the festival model... property artist is not an array.</p>\n\n<pre><code>import { Artist } from './artist.model';\n\nexport class Festival{\n    // public _id: string;\n    public name: string;\n    public genre: string;\n    public description: string;\n    public location: string;\n    public imageUrl: string;\n    public price: number;\n    public artists: Artist[];\n\n    constructor( name: string, genre: string, description: string, location: string, imageurl: string, price: number, artists: Artist[])\n    {\n        // this._id = _id;\n        this.name = name;\n        this.genre = genre;\n        this.description = description;\n        this.location = location;\n        this.imageUrl = imageurl;\n        this.price = price;\n        this.artists = artists;\n    }\n}\n</code></pre>\n\n<p>You can also use this shorter constructor for your class:</p>\n\n<pre><code>import { Artist } from './artist.model';\n\nexport class Festival{\n\n    constructor( name: string, genre: string, description: string, location: string, imageurl: string, price: number, artists: Artist[])\n    {\n        // public _id = _id;\n        public name = name;\n        public genre = genre;\n        public description = description;\n        public location = location;\n        public imageUrl = imageurl;\n        public price = price;\n        public artists = artists;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10917017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5d7eb93f65b37cd95917b2ca4806c0b?s=128&d=identicon&r=PG&f=1", "display_name": "Yovabo", "link": "https://stackoverflow.com/users/10917017/yovabo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 55726026, "answer_count": 1, "score": 0, "last_activity_date": 1599635776, "creation_date": 1555498623, "last_edit_date": 1599635776, "question_id": 55725959, "link": "https://stackoverflow.com/questions/55725959/adding-an-array-of-artists-to-1-festival-doesnt-work", "title": "Adding an array of artists to 1 festival doesn&#39;t work", "body": "<p>I'm trying to add an array of different types of artists to a festival which will the be displayed on the page. Festivals have their own model, and so do artists. </p>\n\n<p>This is the artist model:</p>\n\n<pre><code>export class Artist{\n    // public _id: string;\n    public name: string;\n    public genre: string;\n\n    constructor(name: string, genre: string){\n        // this._id = _id;\n        this.name = name;\n        this.genre = genre;\n    }\n}\n</code></pre>\n\n<p>The festival model: </p>\n\n<pre><code>import { Artist } from './artist.model';\n\nexport class Festival{\n    // public _id: string;\n    public name: string;\n    public genre: string;\n    public description: string;\n    public location: string;\n    public imageUrl: string;\n    public price: number;\n    public artist: Artist;\n\n    constructor( name: string, genre: string, description: string, location: string, imageurl: string, price: number, artist: Artist)\n    {\n        // this._id = _id;\n        this.name = name;\n        this.genre = genre;\n        this.description = description;\n        this.location = location;\n        this.imageUrl = imageurl;\n        this.price = price;\n        this.artist = artist;\n    }\n}\n</code></pre>\n\n<p>The festival service that creates these new instances of festival for now:</p>\n\n<pre><code>import { Festival } from 'src/app/models/festival.model';\nimport { EventEmitter } from '@angular/core';\nimport { Artist } from 'src/app/models/artist.model';\n\nexport class FestivalService{\n    festivalSelected = new EventEmitter&lt;Festival&gt;();\n\n    private festivals: Festival[] = [\n        new Festival('DGTL', 'Techno', 'Test description', 'Amsterdam', 'https://festivalfans.nl/wp-content/uploads/2014/11/dgtl-2017.jpg', 45, [] ),\n        new Festival('RR', 'Techno', 'Party', 'Rotterdam', 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAeFBMVEUAAAD////6+vodHR3', 45)\n      ];\n\n      getFestivals() {\n          return this.festivals.slice();\n      }\n      addFestivalsToFavorites(festival: Festival[]){\n\n      }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "ecmascript-6", "mocha.js"], "comments": [{"owner": {"reputation": 160, "user_id": 5963874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n4Xn8.jpg?s=128&g=1", "display_name": "MrBobby", "link": "https://stackoverflow.com/users/5963874/mrbobby"}, "edited": false, "score": 0, "creation_date": 1555503831, "post_id": 55725647, "comment_id": 98133691, "body": "Is there any reason that you want the test files to use Typescript? You could have the tests in plain JavaScript that you use to test the module created by Rollup."}], "answers": [{"tags": [], "owner": {"reputation": 365, "user_id": 11398460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/937de202fa83d0ab085c9849c3b7aab2?s=128&d=identicon&r=PG&f=1", "display_name": "RajmondX", "link": "https://stackoverflow.com/users/11398460/rajmondx"}, "is_accepted": false, "score": 0, "last_activity_date": 1556190005, "creation_date": 1556190005, "answer_id": 55847741, "question_id": 55725647, "link": "https://stackoverflow.com/questions/55725647/mocha-test-failing-using-typescript/55847741#55847741", "title": "Mocha test failing using typescript", "body": "<p>Your mocha setup looks correct.</p>\n\n<p><code>./node_modules/mocha/bin/mocha --inspect-brk=9230 -r ts-node/register tests/**/*spec.ts\"</code></p>\n\n<ul>\n<li>Did you install <code>npm i ts-node</code>?</li>\n<li>Did you consider that <code>inspect-brk</code> stops the execution until you continue the execution in the inspector? + check also the port</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5509971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d66168f51ae8388f73cab770a1fcad6?s=128&d=identicon&r=PG&f=1", "display_name": "pikaciu22x", "link": "https://stackoverflow.com/users/5509971/pikaciu22x"}, "is_accepted": false, "score": 0, "last_activity_date": 1579019446, "creation_date": 1579019446, "answer_id": 59738016, "question_id": 55725647, "link": "https://stackoverflow.com/questions/55725647/mocha-test-failing-using-typescript/59738016#59738016", "title": "Mocha test failing using typescript", "body": "<p>Solved this issue by using: <code>TS_NODE_COMPILER_OPTIONS={\\\\\\\"module\\\\\\\":\\\\\\\"commonjs\\\\\\\"} mocha -r ts-node/register test/**/*.spec.ts</code></p>\n\n<p>more details: <a href=\"https://stackoverflow.com/questions/40635956/overriding-tsconfig-json-for-ts-node-in-mocha#comment103202638_44343768\">Overriding `tsconfig.json` for ts-node in mocha</a></p>\n"}], "owner": {"reputation": 425, "user_id": 2455162, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/27L47.jpg?s=128&g=1", "display_name": "greatTeacherOnizuka", "link": "https://stackoverflow.com/users/2455162/greatteacheronizuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1417, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1579019446, "creation_date": 1555497548, "question_id": 55725647, "link": "https://stackoverflow.com/questions/55725647/mocha-test-failing-using-typescript", "title": "Mocha test failing using typescript", "body": "<p>I have a project where I am using TS and Rollup. My code builds and run fine but when I run the tests via <code>npm run test</code> they fail with a <code>SyntaxError: Unexpected token {</code> error message.</p>\n\n<p>Now I know that the issue is with the ES6 syntax because I am using <code>import</code> in my test file and it seems that the test is not getting transpiled but not sure why.</p>\n\n<p>My relevant part of package.json:</p>\n\n<pre><code> \"main\": \"./dist/index.js\",\n  \"module\": \"dist/index.es.js\",\n  \"types\": \"./dist/index.d.ts\",\n  \"scripts\": {\n    \"build\": \"rollup -c\",\n    \"watch\": \"rollup -cw\",\n    \"prepublish\": \"rollup -c &gt; index.js &amp;&amp; BROWSER=true rollup -c &gt; browser.js\",\n    \"clean\": \"rm -rf dist/\",\n    \"test\": \"mocha -r ts-node/register src/**/*.spec.ts\",\n    \"testdebug\": \"mocha --inspect-brk --colors --recursive --require ts-node/register --watch-extensions ts \\\"**/*spec.ts\\\" --exclude \\\"node_modules/**\\\"\",\n    \"lint\": \"tslint --project tsconfig.json -t codeFrame\"\n  },\n  \"devDependencies\": {\n    \"@types/chai\": \"4.1.7\",\n    \"@types/chai-as-promised\": \"7.1.0\",\n    \"@types/long\": \"4.0.0\",\n    \"@types/mocha\": \"5.2.6\",\n    \"@types/node\": \"11.9.4\",\n    \"@types/sinon\": \"7.0.6\",\n    \"@types/sinon-chai\": \"3.2.2\",\n    \"@types/supertest\": \"2.0.7\",\n    \"@types/uuid\": \"3.4.4\",\n    \"chai\": \"4.2.0\",\n    \"chai-as-promised\": \"7.1.1\",\n    \"husky\": \"1.3.1\",\n    \"lint-staged\": \"8.1.4\",\n    \"mocha\": \"5.2.0\",\n    \"mocha-jenkins-reporter\": \"0.4.1\",\n    \"prettier\": \"1.16.4\",\n    \"rollup\": \"^1.10.0\",\n    \"rollup-plugin-replace\": \"^2.2.0\",\n    \"rollup-plugin-typescript2\": \"^0.20.1\",\n    \"sinon\": \"7.2.3\",\n    \"sinon-chai\": \"3.3.0\",\n    \"supertest\": \"3.4.2\",\n    \"ts-node\": \"8.0.2\",\n    \"tslint\": \"5.12.1\",\n    \"tslint-config-prettier\": \"1.18.0\",\n    \"tslint-config-standard\": \"8.0.1\",\n    \"tslint-microsoft-contrib\": \"6.0.0\",\n    \"typescript\": \"^3.3.3\"\n  },\n</code></pre>\n\n<p>My test.spec.ts file:</p>\n\n<pre><code>    import { loginUser } from './loginUser'\n\n    console.log(loginUser)\n</code></pre>\n\n<p>My tsconfig file: (I already tried to remove the spec files from exclude but its the same unfortunately)</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017','ES2018' or 'ESNEXT'. */\n    \"module\": \"es6\",                     /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    \"declaration\": true,                   /* Generates corresponding '.d.ts' file. */\n    \"outDir\": \"./dist\",                        /* Redirect output structure to the directory. */\n    \"strict\": true,                           /* Enable all strict type-checking options. */\n    \"skipLibCheck\": true,\n    \"sourceMap\": true,\n    \"moduleResolution\": \"node\"\n   },\n   \"exclude\":[\n     \"node_modules\",\n     \"dist\",\n     \"./**/*.spec.ts\",\n     \"./test/**/*.ts\"\n   ]\n  }\n</code></pre>\n\n<p>My rollup.config file</p>\n\n<pre><code>import typescript from 'rollup-plugin-typescript2'\nimport replace from 'rollup-plugin-replace'\nimport pkg from './package.json'\nexport default {\n    input: 'src/index.ts',\n    output: [\n        {\n            file: pkg.main,\n            format: 'cjs',\n        },\n        {\n            file: pkg.module,\n            format: 'es',\n        },\n    ],\n    external: [\n        ...Object.keys(pkg.dependencies || {}),\n        ...Object.keys(pkg.peerDependencies || {}),\n    ],\n    plugins: [\n        typescript({\n            typescript: require('typescript'),\n        }),\n        replace({\n            'process.browser': !!process.env.BROWSER\n        })\n    ],\n}\n</code></pre>\n"}, {"tags": ["typescript", "types"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1555497843, "post_id": 55725583, "comment_id": 98130221, "body": "How would you or TypeScript know that <code>&quot;fooTypo&quot;</code> is a typo of <code>&quot;foo&quot;</code> and not a correctly-spelled index property? Also it&#39;s unclear what you mean by <code>string extends string ? never : string</code>."}, {"owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555497946, "post_id": 55725583, "comment_id": 98130286, "body": "if we could type the index property as NotLiteral then it would <i>have</i> to be of type &#39;string&#39; and not type &#39;foo&#39;. This kind of thing (whether a string is a literal or not) can be detected for assignability apparently, but not for <code>extends</code> (see ^)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555498335, "post_id": 55725583, "comment_id": 98130487, "body": "...what? <code>NotLiteral&lt;string&gt;</code> is the same as <code>never</code>, it&#39;s not going to magically pick up each value you try to assign and re-evaluate the type."}], "owner": {"reputation": 10154, "user_id": 2482570, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/1U8oq.jpg?s=128&g=1", "display_name": "Max Heiber", "link": "https://stackoverflow.com/users/2482570/max-heiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555497674, "creation_date": 1555497304, "last_edit_date": 1555497674, "question_id": 55725583, "link": "https://stackoverflow.com/questions/55725583/is-there-a-way-to-catch-typos-in-string-literals-in-typescript", "title": "Is there a way to catch typos in string literals in TypeScript", "body": "<p>I have an object with both staticly-known and (sometimes) dynamic properties.</p>\n\n<p>I'm hoping to have TypeScript help catch typos. Obviously this is impossible for the properties added at runtime, but typos in string literals could theoretically be caught.</p>\n\n<p>The approach I'm taking is to try to allow dynamic strings but disallow string literal types that are not in the blessed list (\"foo\" and \"bar\" in the example).</p>\n\n<p>For example, something like this syntax could work (but it doesn't):</p>\n\n<pre><code>type Options = {\n    foo?: boolean;\n    bar?: boolean;\n    [index: NotLiteral&lt;string&gt;]: boolean;\n}\n\ntype NotLiteral&lt;T&gt; = string extends T ? never : T\n\n\nconst o: Options = {};\no[\"fooTypo\"] = true; // I wish this didn't typeCheck\no[callApi()] = true; // should be OK\n\n\ndeclare function callApi(): string;\n</code></pre>\n\n<p>That index types can only be <code>string</code> or <code>number</code> is probably surmountable (there's probably a workaround) but the deeper problem is that <code>string</code> extends string literal types, which doesn't really make sense.</p>\n\n<pre><code>const x: NotLiteral&lt;\"foo\"&gt; = \"foo\"; // type is \"string\", but should probably be \"never\"\n</code></pre>\n\n<p>The rules for 'extends' don't seem to match those for assignability here (why?):</p>\n\n<pre><code>const x: \"foo\" = callApi() // type error (good) even though \"string\" extends \"foo\"\n</code></pre>\n\n<p>Playground link: <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/index.html</a></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "mat-table"], "comments": [{"owner": {"reputation": 258, "user_id": 4510910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be004a51712fd48db5a61f34f0e4cda0?s=128&d=identicon&r=PG&f=1", "display_name": "Yoni Affuta", "link": "https://stackoverflow.com/users/4510910/yoni-affuta"}, "edited": false, "score": 0, "creation_date": 1555498214, "post_id": 55724750, "comment_id": 98130425, "body": "Try setting the paginator and the sort after you have set the data for the dataSource. getAllJobs() {       this.backupService.getJobs(         response =&gt; {           console.log(&quot;response =&gt;&quot;+response);               this.dataSource.data = response.jobs as jobs[];           this.dataSource.paginator = this.paginator;           this.dataSource.sort = this.sort;           console.log(&quot;datasource =&gt;&quot;+this.dataSource);         },         error =&gt; {           console.log(&quot;error=&gt;&quot;, error);         });     }"}, {"owner": {"reputation": 31, "user_id": 11197428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_-zMZrfDTyc/AAAAAAAAAAI/AAAAAAAAGDQ/UixXQGklMYQ/photo.jpg?sz=128", "display_name": "Shwetha subash", "link": "https://stackoverflow.com/users/11197428/shwetha-subash"}, "reply_to_user": {"reputation": 258, "user_id": 4510910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be004a51712fd48db5a61f34f0e4cda0?s=128&d=identicon&r=PG&f=1", "display_name": "Yoni Affuta", "link": "https://stackoverflow.com/users/4510910/yoni-affuta"}, "edited": false, "score": 0, "creation_date": 1555561018, "post_id": 55724750, "comment_id": 98155400, "body": "I tried setting the paginator and sort after the datasource. It doesnt work."}, {"owner": {"reputation": 237, "user_id": 13033071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e28b9fc261bb61c6c02cf79a49513f7?s=128&d=identicon&r=PG&f=1", "display_name": "Avishek", "link": "https://stackoverflow.com/users/13033071/avishek"}, "edited": false, "score": 0, "creation_date": 1596085752, "post_id": 55724750, "comment_id": 111698758, "body": "the same issue I am also facing <code>matTable</code> directly cannot sort JSON inside JSON"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11197428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_-zMZrfDTyc/AAAAAAAAAAI/AAAAAAAAGDQ/UixXQGklMYQ/photo.jpg?sz=128", "display_name": "Shwetha subash", "link": "https://stackoverflow.com/users/11197428/shwetha-subash"}, "edited": false, "score": 0, "creation_date": 1555759005, "post_id": 55740651, "comment_id": 98218557, "body": "Searching and sorting is working for this reponse : {    &quot;jobs&quot;: [         {             &quot;status&quot;: &quot;full&quot;         },         {             &quot;status&quot;: &quot;partial&quot;         },         {             &quot;status&quot;: &quot;completed&quot;         }     ] }"}], "tags": [], "owner": {"reputation": 258, "user_id": 4510910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be004a51712fd48db5a61f34f0e4cda0?s=128&d=identicon&r=PG&f=1", "display_name": "Yoni Affuta", "link": "https://stackoverflow.com/users/4510910/yoni-affuta"}, "is_accepted": false, "score": 1, "last_activity_date": 1555570697, "creation_date": 1555570697, "answer_id": 55740651, "question_id": 55724750, "link": "https://stackoverflow.com/questions/55724750/populating-the-mat-tableand-perform-sorting-filtering-using-json-response/55740651#55740651", "title": "Populating the Mat table(and perform Sorting &amp; Filtering) using JSON Response", "body": "<p>I think it may be a data source initialization issue. \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component ,ViewChild ,AfterViewInit} from '@angular/core';\r\nimport { MatTableDataSource,MatPaginator,MatSort,Sort} from '@angular/material';\r\nimport { BackupService } from '../backup.service';\r\n\r\nexport interface jobs{\r\n  status : string\r\n\r\n}\r\n\r\n@Component({\r\n    templateUrl :'joblist.component.html',\r\n    styleUrls :['joblist.component.css']\r\n})\r\n\r\nexport class JoblistComponent  implements AfterViewInit{\r\n  public displayedColumns = ['status'];\r\n  public dataSource: MatTableDataSource;\r\n\r\n\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n\r\n  constructor(private backupService: BackupService) { }\r\n\r\n    onTableDataReceived(data: any[]) {\r\n      this.dataSource = new MatTableDataSource(data);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n      this.getAllJobs(); \r\n    }\r\n\r\n    public doFilter = (value: string) =&gt; {\r\n      this.dataSource.filter = value.trim().toLocaleLowerCase();\r\n    }\r\n\r\n    getAllJobs() {\r\n      this.backupService.getJobs(\r\n        response =&gt; {\r\n          console.log(\"response =&gt;\"+response);    \r\n          const data = response.jobs as jobs[];\r\n          this.onTableDataReceived(data);\r\n        },\r\n        error =&gt; {\r\n          console.log(\"error=&gt;\", error);\r\n        });\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12271387, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/617c5b42ef4bab0b23221a8ab538b4b3?s=128&d=identicon&r=PG", "display_name": "MANJUSHA GUNTUR", "link": "https://stackoverflow.com/users/12271387/manjusha-guntur"}, "is_accepted": false, "score": 0, "last_activity_date": 1571959624, "creation_date": 1571959624, "answer_id": 58550379, "question_id": 55724750, "link": "https://stackoverflow.com/questions/55724750/populating-the-mat-tableand-perform-sorting-filtering-using-json-response/58550379#58550379", "title": "Populating the Mat table(and perform Sorting &amp; Filtering) using JSON Response", "body": "<p>Material table by default sorts on ID column. If you want to retain the back-end service ordering set index to the list items and then use this as sort column. This retains the order of back-end service.</p>\n\n<p>In my case i had to sort on value of a field not asc/desc and assign priority in back-end and then show in UI.</p>\n\n<pre><code>    Long[] idx = { 0L };\n    list.forEach(a-&gt;a.setOrderId(idx[0]++));\n  return list;\n</code></pre>\n\n<p>Hope this helps !!</p>\n\n<p>PS: Angular 7 is the version.</p>\n"}], "owner": {"reputation": 31, "user_id": 11197428, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_-zMZrfDTyc/AAAAAAAAAAI/AAAAAAAAGDQ/UixXQGklMYQ/photo.jpg?sz=128", "display_name": "Shwetha subash", "link": "https://stackoverflow.com/users/11197428/shwetha-subash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1571959624, "creation_date": 1555494590, "last_edit_date": 1555495033, "question_id": 55724750, "link": "https://stackoverflow.com/questions/55724750/populating-the-mat-tableand-perform-sorting-filtering-using-json-response", "title": "Populating the Mat table(and perform Sorting &amp; Filtering) using JSON Response", "body": "<p>I'm new to Angular 7 and working on the Angular Mat table to display the response from the backend server and perform sorting, filtering and pagination on the data. </p>\n\n<p>Pagination is working as expected but sorting and filtering are not working properly. I have also imported all the required modules.\nCan someone help me with this?</p>\n\n<p>Joblist.component.ts</p>\n\n<pre><code>import { Component ,ViewChild, OnInit ,AfterViewInit} from '@angular/core';\nimport { MatTableDataSource,MatPaginator,MatSort,Sort} from '@angular/material';\nimport { BackupService } from '../backup.service';\n\nexport interface jobs{\n  status : string\n\n}\n\n@Component({\n    templateUrl :'joblist.component.html',\n    styleUrls :['joblist.component.css']\n})\n\nexport class JoblistComponent  implements OnInit,AfterViewInit{\n  public displayedColumns = ['status'];\n  public dataSource = new MatTableDataSource&lt;jobs&gt;();\n\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(private backupService: BackupService) { }\n\n    ngOnInit()\n    {\n       this.getAllJobs(); \n    }\n\n    ngAfterViewInit(): void {\n      this.dataSource.paginator = this.paginator;\n      this.dataSource.sort = this.sort;\n    }\n\n    public doFilter = (value: string) =&gt; {\n      this.dataSource.filter = value.trim().toLocaleLowerCase();\n    }\n\n    getAllJobs() {\n      this.backupService.getJobs(\n        response =&gt; {\n          console.log(\"response =&gt;\"+response);    \n          this.dataSource.data = response.jobs as jobs[];\n          console.log(\"datasource =&gt;\"+this.dataSource);\n        },\n        error =&gt; {\n          console.log(\"error=&gt;\", error);\n        });\n    }\n</code></pre>\n\n<p>joblist.component.html</p>\n\n<pre><code>&lt;div fxLayout fxLayoutAlign=\"center center\"&gt;\n  &lt;mat-form-field fxFlex=\"40%\"&gt;\n    &lt;input matInput type=\"text\" (keyup)=\"doFilter($event.target.value)\" placeholder=\"Filter\"&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n&lt;div class=\"mat-elevation-z8\"&gt;\n&lt;mat-paginator [pageSizeOptions]=\"[5, 10, 20,50,100]\" showFirstLastButtons&gt;&lt;/mat-paginator&gt;\n&lt;table mat-table [dataSource]=\"dataSource\" matSort &gt;\n  &lt;ng-container matColumnDef=\"status\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt;Status&lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.jobSummary.status}} &lt;/td&gt;\n  &lt;/ng-container&gt;\n  &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n  &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Response from Backend server</p>\n\n<pre><code>{\n    \"jobs\": [\n        {\n            \"jobSummary\": {\n                \"status\": \"full\"\n            }\n        },\n        {\n            \"jobSummary\": {\n                \"status\": \"completed\"\n            }\n        },\n        {\n            \"jobSummary\": {\n                \"status\": \"partial\"\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>Searching and Sorting are not working on the response.</p>\n"}, {"tags": ["json", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "is_accepted": true, "score": 0, "last_activity_date": 1555493976, "creation_date": 1555493976, "answer_id": 55724529, "question_id": 55724425, "link": "https://stackoverflow.com/questions/55724425/types-of-property-id-are-incompatible/55724529#55724529", "title": "Types of property &#39;id&#39; are incompatible", "body": "<p>It looks like you have strongly typed the <code>copiedData</code> as <code>eb_user[]</code>. Since you are returning the <code>id</code> as string from the <code>createNewUser()</code>, there is a mismatch in the types. You need to keep them same (either both be string  or both be number).</p>\n"}, {"tags": [], "owner": {"reputation": 2093, "user_id": 11289490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hlb8.png?s=128&g=1", "display_name": "Daniel Pi&#241;eiro", "link": "https://stackoverflow.com/users/11289490/daniel-pi%c3%b1eiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1555494178, "creation_date": 1555494178, "answer_id": 55724602, "question_id": 55724425, "link": "https://stackoverflow.com/questions/55724425/types-of-property-id-are-incompatible/55724602#55724602", "title": "Types of property &#39;id&#39; are incompatible", "body": "<p>Your id in the class it's a <code>number</code> meanwhile in your  <code>users.component.ts</code> you are returning a string by doing a <code>toString</code> ( <code>id: (this.data.length + 1).toString()</code> ). </p>\n\n<p>Removing that toString() should work:</p>\n\n<pre><code> return {\n    id: (this.data.length + 1),\n    nom: nom,\n    prenom: Math.round(Math.random() * 100).toString(),\n    mail: Math.round(Math.random() * 100).toString(),\n    domaine: Math.round(Math.random() * 100).toString(),\n    tel: Math.round(Math.random() * 100).toString(),\n    color: COLORS[Math.round(Math.random() * (COLORS.length - 1))]\n  };\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 11369941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a800a093ad3b7be9dc218026c702631b?s=128&d=identicon&r=PG&f=1", "display_name": "dakim236", "link": "https://stackoverflow.com/users/11369941/dakim236"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1269, "favorite_count": 0, "accepted_answer_id": 55724529, "answer_count": 2, "score": 0, "last_activity_date": 1555494178, "creation_date": 1555493682, "question_id": 55724425, "link": "https://stackoverflow.com/questions/55724425/types-of-property-id-are-incompatible", "title": "Types of property &#39;id&#39; are incompatible", "body": "<p>I'm trying to return the information of a user I created by passing the attributes of the eb_user class in argument but I get an error.</p>\n\n<p>This is the error I receive:</p>\n\n<pre><code>Argument of type '{ id: string; nom: string; prenom: string; mail: string; domaine: string; tel: string; color: string; }' \nis not assignable to parameter of type 'eb_user'.\n  Types of property 'id' are incompatible.\n    Type 'string' is not assignable to type 'number'.\n</code></pre>\n\n<p>here is the users.component.ts file where I created the user</p>\n\n<pre><code>addUser() {\n  const copiedData = this.data.slice();\n  copiedData.push(this.createNewUser());\n  this.dataChange.next(copiedData);\n}\nprivate createNewUser() {\n  const nom =\n      NAMES[Math.round(Math.random() * (NAMES.length - 1))] + ' ' +\n      NAMES[Math.round(Math.random() * (NAMES.length - 1))].charAt(0) + '.';\n\n  return {\n    id: (this.data.length + 1).toString(),\n    nom: nom,\n    prenom: Math.round(Math.random() * 100).toString(),\n    mail: Math.round(Math.random() * 100).toString(),\n    domaine: Math.round(Math.random() * 100).toString(),\n    tel: Math.round(Math.random() * 100).toString(),\n    color: COLORS[Math.round(Math.random() * (COLORS.length - 1))]\n  };\n} \n</code></pre>\n\n<p>eb_user.ts file:</p>\n\n<pre><code>import {EbRole} from './role';\n\nexport class eb_user {\n    id: number;\n    nom: string;\n    prenom: string;\n    tel: string;\n    mail: string;\n    domaine: string;\n\n    constructor(){\n        this.id = null;\n        this.nom = null;\n        this.prenom = null;\n        this.tel = null;\n        this.mail = null;\n        this.domaine= null;\n    }\n\n} \n</code></pre>\n\n<p>I expect the types of eb_users attributes to be returned correctly.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1555494860, "post_id": 55724464, "comment_id": 98128466, "body": "Thanks for replying. But will the month accept 01 as well?"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1555494971, "post_id": 55724464, "comment_id": 98128533, "body": "@NewTechLover Yes, as long as the input value is interpreted as a number. You can test it out if you want!"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "edited": false, "score": 0, "creation_date": 1555495083, "post_id": 55724464, "comment_id": 98128611, "body": "Also, I have made some changes on the last 2 blocks of code as we have specify the specific form control in order to access the validator output"}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": false, "score": 4, "last_activity_date": 1555495032, "last_edit_date": 1555495032, "creation_date": 1555493791, "answer_id": 55724464, "question_id": 55724416, "link": "https://stackoverflow.com/questions/55724416/how-to-set-minimum-and-maximum-values-for-angular-reactive-form-validation/55724464#55724464", "title": "How to set minimum and maximum values for Angular reactive form validation?", "body": "<p>You can use <a href=\"https://angular.io/api/forms/Validators#max\" rel=\"nofollow noreferrer\">Validators.max</a> and <a href=\"https://angular.io/api/forms/Validators#min\" rel=\"nofollow noreferrer\">Validators.min</a> for that purpose.</p>\n\n<pre><code> private buildSignupForm() {\n    this.SignupForm = this.fb.group({\n      bday: [null, [Validators.required, Validators.maxLength(2), Validators.max(31), Validators.min(1)]],\n      bmonth: [null, [Validators.required, Validators.maxLength(2), Validators.max(12), Validators.min(1)]],\n      byear: [null, [Validators.required, Validators.maxLength(4), Validators.minLength(4),Validators.max(2000), Validators.min(1950)]],\n      city: [null, [Validators.required, Validators.pattern('[a-zA-Z ]*')]],\n    });\n    this.SignupForm.setValidators(this.minimumAge(18));\n  }\n}\n</code></pre>\n\n<p>You can manually check for the triggering of the min/max validators by accessing the <code>errors</code> property on your FormGroup.</p>\n\n<pre><code>console.log(this.SignupForm['controls']['bday'].errors.min); \nconsole.log(this.SignupForm['controls']['bday'].errors.max);\n// prints true or false\n</code></pre>\n\n<p>And on your component.html, you can include some kind of validation message that is shown/hidden conditionally.</p>\n\n<pre><code>&lt;div class=\"feedback\" *ngIf=\"SignupForm['controls']['bday'].errors?.min\"&gt;Minimum date is 1.&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1197, "user_id": 7603484, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/814353ac5fdbb790297cd5511fceb118?s=128&d=identicon&r=PG&f=1", "display_name": "NewTech Lover", "link": "https://stackoverflow.com/users/7603484/newtech-lover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7295, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555495032, "creation_date": 1555493656, "question_id": 55724416, "link": "https://stackoverflow.com/questions/55724416/how-to-set-minimum-and-maximum-values-for-angular-reactive-form-validation", "title": "How to set minimum and maximum values for Angular reactive form validation?", "body": "<p>We have an Angular reactive form which has a birthday, month and years field. Here is the code:</p>\n\n<pre><code> private buildSignupForm() {\n    this.SignupForm = this.fb.group({\n      bday: [null, [Validators.required, Validators.maxLength(2)]],\n      bmonth: [null, [Validators.required, Validators.maxLength(2)]],\n      byear: [null, [Validators.required, Validators.maxLength(4), Validators.minLength(4)]],\n      city: [null, [Validators.required, Validators.pattern('[a-zA-Z ]*')]],\n    });\n    this.SignupForm.setValidators(this.minimumAge(18));\n  }\n}\n</code></pre>\n\n<p>How can I set birthday value minimum 01 maximum 31?\nAnd month: minimum 01 maximum 12?\nYear: minimum 1950 and max 2000 e.g.?</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1555509297, "post_id": 55724398, "comment_id": 98137340, "body": "Revise your question to be more specific regarding what you want to accomplish. if <code>it displays text even when toggle goes to the off state as the toggle event is triggered</code> is not an issue you are trying to resolve, and you only want to know how to display text after screen refresh, please remove it from your question."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "reply_to_user": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "edited": false, "score": 0, "creation_date": 1555510078, "post_id": 55724398, "comment_id": 98137865, "body": "Hi ,I&#39;ve modified the question"}], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555509051, "post_id": 55728343, "comment_id": 98137161, "body": "The text is being toggled,but it disappears when I refresh the page.I want the text to be there always."}], "tags": [], "owner": {"reputation": 8042, "user_id": 6581173, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/WPmod.png?s=128&g=1", "display_name": "Marshal", "link": "https://stackoverflow.com/users/6581173/marshal"}, "is_accepted": false, "score": 2, "last_activity_date": 1555507020, "last_edit_date": 1555507020, "creation_date": 1555506666, "answer_id": 55728343, "question_id": 55724398, "link": "https://stackoverflow.com/questions/55724398/change-slide-toggle-text-on-toggle-change/55728343#55728343", "title": "Change slide-toggle text on toggle change", "body": "<p>Please note the following about <code>toggleChange</code>, this is the reason they also have a <code>dragChange</code> event. </p>\n\n<blockquote>\n  <p>The event does not fire when the user drags to change the slide toggle\n  value.</p>\n</blockquote>\n\n<p>My personal preference would be to use <code>(change)</code> in this scenario, and evaluate the event to see if <code>e.checked</code> is <code>true</code> or <code>false</code>... this approach, it wouldn't matter if the toggle was a drag event or not, your method would be called on any change and only set the message if the toggle is in a <code>checked</code> state.</p>\n\n<pre><code>&lt;mat-slide-toggle       \n      (change)=\"onChange($event);displayMessage($event)\"\n        formControlName=\"Policy1\" &gt;{{message}}&lt;/mat-slide-toggle&gt;\n&lt;/mat-list-item&gt;\n\n displayMessage(e){\n    if(e.checked)\n      this.message = 'toggled'\n    else\n      this.message = 'Slide me!'\n  }\n</code></pre>\n\n<p><strong>Stackblitz</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-g9w2p8?embed=1&amp;file=app/slide-toggle-overview-example.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-g9w2p8?embed=1&amp;file=app/slide-toggle-overview-example.ts</a></p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 4404718, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-NttdgMqfWd4/AAAAAAAAAAI/AAAAAAAAABc/LcMBQ3swnR8/photo.jpg?sz=128", "display_name": "Vigines John", "link": "https://stackoverflow.com/users/4404718/vigines-john"}, "is_accepted": false, "score": -1, "last_activity_date": 1585827560, "last_edit_date": 1585827560, "creation_date": 1585817694, "answer_id": 60987683, "question_id": 55724398, "link": "https://stackoverflow.com/questions/55724398/change-slide-toggle-text-on-toggle-change/60987683#60987683", "title": "Change slide-toggle text on toggle change", "body": "<p>You can try this snippet:</p>\n\n<pre><code>&lt;mat-slide-toggle formControlName=\"Policy1\"&gt;\n  &lt;span *ngIf=\"!Policy1.value\"&gt;Message false&lt;/span&gt;\n  &lt;span *ngIf=\"Policy1.value\"&gt;Message true&lt;/span&gt;\n&lt;/mat-slide-toggle&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 970, "user_id": 2501128, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/20a075ebea7d70e7298426c35298ffbc?s=128&d=identicon&r=PG", "display_name": "Darren Street", "link": "https://stackoverflow.com/users/2501128/darren-street"}, "is_accepted": false, "score": 0, "last_activity_date": 1595668251, "creation_date": 1595668251, "answer_id": 63086514, "question_id": 55724398, "link": "https://stackoverflow.com/questions/55724398/change-slide-toggle-text-on-toggle-change/63086514#63086514", "title": "Change slide-toggle text on toggle change", "body": "<p>This is nice and simple. the key is setting an id on the control itself, so that you can get a reference to its state.</p>\n<pre><code>&lt;mat-slide-toggle class=&quot;ml-3&quot; formControlName=&quot;paid&quot; #paid &gt;\n   &lt;small *ngIf=&quot;paid.checked;else notSelected&quot; &gt;Paid&lt;/small&gt;\n   &lt;ng-template #notSelected&gt;\n          &lt;small&gt;Click to set as paid&lt;/small&gt;\n   &lt;/ng-template&gt;\n&lt;/mat-slide-toggle&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11603157, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-eaVvAbi8K8s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfR3GUlK8L7sGxrX43gAgzV86C8hg/mo/photo.jpg?sz=128", "display_name": "Petar Ivanov", "link": "https://stackoverflow.com/users/11603157/petar-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1604585319, "creation_date": 1604585319, "answer_id": 64698900, "question_id": 55724398, "link": "https://stackoverflow.com/questions/55724398/change-slide-toggle-text-on-toggle-change/64698900#64698900", "title": "Change slide-toggle text on toggle change", "body": "<p>and another solution</p>\n<pre><code>&lt;mat-slide-toggle #slide formControlName=&quot;enabled&quot;&gt;\n     &lt;span&gt;{{slide.checked?'label 1':'label 2'}}&lt;/span&gt;\n&lt;/mat-slide-toggle&gt;\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2224, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1604585319, "creation_date": 1555493592, "last_edit_date": 1555510062, "question_id": 55724398, "link": "https://stackoverflow.com/questions/55724398/change-slide-toggle-text-on-toggle-change", "title": "Change slide-toggle text on toggle change", "body": "<p>I have a basic slide-toggle in my app.<br>\nI want to change the text of the slide-toggle based on the if the toggle is toggled or not. Basically display different text when the button is toggled.  </p>\n\n<p>I tried using toggleChange() method of slide-toggle but I'm unable to show that text when I reload.<br>\nAlso since the function is called on toggle change, it displays text even when toggle goes to the off state as the toggle event is triggered. \nI want to change the text when the button is toggled but only save the toggled text when the save setting button is clicked.I think I'll have to use session or local storage to store the text message</p>\n\n<p>I can't seem to figure out what to do now.   </p>\n\n<p>Please help.<br>\nThanks in advance.</p>\n\n<p>Here is my ts code</p>\n\n<pre><code>export class PolicyComponent implements OnInit {\n\n  formGroup: FormGroup;\n  policy3: boolean=false;\n  policy4: boolean=false;\n  message:string=\"Message1\";\n  test:boolean=false;\n\n  disable:boolean=true;\nserverData:any\n  constructor(\n    private formBuilder: FormBuilder,private policyService:PolicyService\n  ) { }\n\n  ngOnInit() {\n\n\n  this.formGroup = this.formBuilder.group({\n      Policy1: new FormControl(false, []),\n      Policy2: new FormControl(false, [])\n  });\n  this.policyService.getPolicy().subscribe((response) =&gt; {\n      this.serverData = response[0];\n      if(this.serverData.policy1==\"F\")\n      {\n        this.policy3=false;\n      }\n      else this.policy3=true;\n\n      if(this.serverData.policy2==\"F\")\n      {\n        this.policy4=false;\n      }\n      else this.policy4=true;\n\n\n      this.formGroup.controls.Policy1.setValue(this.policy3);\n      this.formGroup.controls.Policy2.setValue(this.policy4);\n  });\n  // if(this.formGroup.controls.Policy1.value)\n  // {\n  //   this.message=\"Message1\";\n  // }\n  // else if(!this.formGroup.controls.Policy1.value){\n  //   this.message=\"Message2\";\n\n  // }\n   // this.policyService.getUserById(+ localStorage.getItem(\"policyId\")).subscribe();\n}\n\n  onFormSubmit() {\n    console.log(\"Policy1::\"+this.formGroup.controls.Policy1.value);\n    if(this.formGroup.controls.Policy1.value)\n    {\n      this.serverData.policy1=\"T\";\n    }\n    else{\n      this.serverData.policy1=\"F\";\n    }\n\n\n    console.log(\"Policy2::\"+this.formGroup.controls.Policy2.value);\n    if(this.formGroup.controls.Policy2.value)\n    {\n      this.serverData.policy2=\"T\";\n    }\n    else{\n      this.serverData.policy2=\"F\";\n    }\n    //this.policyService.updatePolicy(this.policy.id,{policy1:this.policy.policy1}).subscribe(err=&gt;{console.log(err)});\n    this.policyService.updateUser(this.serverData).subscribe(err=&gt;{console.log(err)});\n //   alert(JSON.stringify(formValue, null, 2));\n this.disable=true;\n\n  }\n\n  onChange(ob: MatSlideToggleChange) {\n    // this.policy3 = !this.policy3;\n    this.disable=false;\n  }\n\n  onChange1(ob: MatSlideToggleChange) {\n    // this.policy4 = !this.policy4;\n    this.message=\"Slide\";\n    this.disable=false;\n  }\n  displayMessage()\n  { console.log(\"Value is:\"+this.formGroup.controls.Policy1.value);\n\n    if(!this.formGroup.controls.Policy1.value)\n    {\n      this.message=\"Message1\";\n    }\n    else if(this.formGroup.controls.Policy1.value){\n      this.message=\"Message2\";\n\n    }\n\n   }\n}\n</code></pre>\n\n<p>Here is my template code:</p>\n\n<pre><code>&lt;form class=\"example-form\" [formGroup]=\"formGroup\" (ngSubmit)=\"onFormSubmit()\" ngNativeValidate&gt;\n  &lt;mat-action-list&gt;\n    &lt;mat-list-item &gt; &lt;mat-slide-toggle       \n      (change)=\"onChange($event)\"  (toggleChange)=\"displayMessage()\"  formControlName=\"Policy1\" &gt;{{message}}&lt;/mat-slide-toggle&gt;&lt;/mat-list-item&gt; \n    &lt;mat-list-item &gt; &lt;mat-slide-toggle  (change)=\"onChange($event)\"  formControlName=\"Policy2\"&gt;Policy2&lt;/mat-slide-toggle&gt;&lt;/mat-list-item&gt;\n\n  &lt;/mat-action-list&gt;\n  &lt;p&gt;Form Group Status: {{ formGroup.status}}&lt;/p&gt;\n\n  &lt;button mat-rasied-button [disabled]=\"disable\" type=\"submit\"&gt;Save Settings&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["typescript", "typescript-generics"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 1, "creation_date": 1555511860, "post_id": 55724196, "comment_id": 98139063, "body": "Hey, I just test out your last attempt in TS 3.4, it works fine. And it does infer number-type key from generic type param correctly. You&#39;ve got the solution right, just TS 2.x doesn&#39;t support it."}, {"owner": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1555574589, "post_id": 55724196, "comment_id": 98160265, "body": "Thanks for testing!"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "edited": false, "score": 0, "creation_date": 1555493476, "post_id": 55724263, "comment_id": 98127592, "body": "unfortunately that doesn&#39;t work:      const testMap = {         &#39;a&#39;: 1,         &#39;bb&#39;: 2,         &#39;ccc&#39;: 3,         &#39;dddd&#39;: 4,         &#39;eeeee&#39;: 5,      };       it(&#39;#someKey should return true if found&#39;, () =&gt; {         expect(Utility.someKey(testMap, key =&gt; key.startsWith(&#39;c&#39;))).toBe(true);      });  &quot;Argument of type &#39;{ &#39;a&#39;: number; &#39;bb&#39;: number; &#39;ccc&#39;: number; &#39;dddd&#39;: number; &#39;eeeee&#39;: number; }&#39; is not assignable to parameter of type &#39;string | number&#39;.   Type &#39;{ &#39;a&#39;: number; &#39;bb&#39;: number; &#39;ccc&#39;: number; &#39;dddd&#39;: number; &#39;eeeee&#39;: number; }&#39; is not assignable to type &#39;number&#39;.ts&quot;"}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "edited": false, "score": 0, "creation_date": 1555493632, "post_id": 55724263, "comment_id": 98127680, "body": "@Brixomatic It is unreadable, but you have to implement your function body yourself. I provided the function signature only."}, {"owner": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "edited": false, "score": 0, "creation_date": 1555493752, "post_id": 55724263, "comment_id": 98127737, "body": "Tried to correct the formatting, but doesn&#39;t work for me in comments. Using the signature, even with an empty body prompts a compiler error at the user side."}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "edited": false, "score": 0, "creation_date": 1555494329, "post_id": 55724263, "comment_id": 98128090, "body": "@Brixomatic The error is because there is an empty function body which returns nothing. It has nothing to do with the function signature."}, {"owner": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "edited": false, "score": 0, "creation_date": 1555494642, "post_id": 55724263, "comment_id": 98128302, "body": "Nope. I can just return &quot;undefined&quot; as function body.  Using typescript 2.7.2, maybe it&#39;s the TS version."}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": 0, "last_activity_date": 1555494361, "last_edit_date": 1555494361, "creation_date": 1555493225, "answer_id": 55724263, "question_id": 55724196, "link": "https://stackoverflow.com/questions/55724196/generic-method-that-accepts-both-key-string-v-and-key-number-v-m/55724263#55724263", "title": "Generic method that accepts both { [key: string]: V } and { [key: number]: V } mappings", "body": "<p>Should look like this</p>\n\n<pre><code>function someKey&lt;K extends string|number, V&gt;(object: { [key in keyof K]: V }, predicate: (key: K) =&gt; boolean): boolean {\n    return true; // your actual logic\n }\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 6198746, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KNaOg0wEgho/AAAAAAAAAAI/AAAAAAAAACc/34lmsxHjCHU/photo.jpg?sz=128", "display_name": "Brixomatic", "link": "https://stackoverflow.com/users/6198746/brixomatic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555509371, "creation_date": 1555493035, "last_edit_date": 1555499491, "question_id": 55724196, "link": "https://stackoverflow.com/questions/55724196/generic-method-that-accepts-both-key-string-v-and-key-number-v-m", "title": "Generic method that accepts both { [key: string]: V } and { [key: number]: V } mappings", "body": "<p>I want to write a utility method that searches any map and I want to enforce that the key type matches the predicate type. </p>\n\n<p>How would the appropriate method signature looks like, if there is any?</p>\n\n<p>E.g I would like to generalize this signature:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;V&gt;(object: { [key: string]: V }, predicate: (key: string) =&gt; boolean): boolean {\n   // ....\n}\n</code></pre>\n\n<p>I have tried this, but it gives me a compiler error (probably because \"extends\"), though <strong>it best describes what I am thinking of</strong>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;K extends string|number, V&gt;(object: { [key: K]: V }, predicate: (key: K) =&gt; boolean): boolean {\n   // ....\n}\n</code></pre>\n\n<p>The following allows for both types of maps, but not fully. I.e. it allows that the predicate sports methods (like key.startsWith(..)) that are not present on numbers, but work because of automatic type conversion, but it forbids the use of numerical operators like > or &lt; for numerical keys:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;V&gt;(object: { [key: string]: V }|{ [key: number]: V }, predicate: (key: string) =&gt; boolean): boolean {\n   // ....\n}\n</code></pre>\n\n<p>The following allows for both types of maps, but forbids using methods like string.startsWith(..), though it allows for mathematical operators like > and &lt; (which doesn't make sense in a way), also if it would work, it lacks enforcing that the key type matches the predicate type.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;V&gt;(object: { [key: string]: V }|{ [key: number]: V }, predicate: (key: string|number) =&gt; boolean): boolean {\n   // ....\n}\n</code></pre>\n\n<hr>\n\n<p>Edit:\nThe suggested solution:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;K extends string|number, V&gt;(object: { [key in keyof K]: V }, predicate: (key: K) =&gt; boolean): boolean {\n   return true; // your actual logic\n}\n</code></pre>\n\n<p>Raises a compile error (click to magnify) on the using end:\n<a href=\"https://i.stack.imgur.com/zpEhe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zpEhe.png\" alt=\"compile error with suggested solution\"></a>\nUsing Typescript 2.7.2</p>\n\n<hr>\n\n<p>Edit: \nAlso tried this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>someKey&lt;M extends { [key: string]: any } | { [key: number]: any }&gt;\n       (object: M, predicate: (key: keyof M) =&gt; boolean): boolean {\n  return true; // body goes here\n}\n</code></pre>\n\n<p>but then if I do:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const testMap2 = {\n    1: 'a',\n    2: 'bb',\n    3: 'ccc',\n    4: 'dddd',\n    5: 'eeeee',\n  };\n\n  it('#someKey should return true if found', () =&gt; {\n    expect(Utility.someKey(testMap2, key =&gt; key &gt; 1)).toBe(true);\n  });\n</code></pre>\n\n<p>it says:</p>\n\n<pre><code>(parameter) key: \"1\" | \"2\" | \"3\" | \"4\" | \"5\"\nOperator '&gt;' cannot be applied to types 'string' and 'number'.ts(2365)\n</code></pre>\n\n<hr>\n\n<p>Edit:</p>\n\n<p>There were Issues filed against Typescript:  </p>\n\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues/16957\" rel=\"nofollow noreferrer\">The generics don't work with the type of a key value object #16957</a>  </li>\n<li><a href=\"https://github.com/Microsoft/TypeScript/issues/27219\" rel=\"nofollow noreferrer\">Cannot use valid union type as a map's key</a>  </li>\n</ul>\n\n<p>Looks like there is an open Pull request for typescript 3.x:  </p>\n\n<ul>\n<li><a href=\"https://github.com/Microsoft/TypeScript/pull/26797\" rel=\"nofollow noreferrer\">Allow any key type as an index signature parameter type #26797</a></li>\n</ul>\n\n<p>Still a workaround for this issue is appreciated, if there exist one.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1778, "user_id": 1277159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oGFIg.jpg?s=128&g=1", "display_name": "guzmanoj", "link": "https://stackoverflow.com/users/1277159/guzmanoj"}, "edited": false, "score": 0, "creation_date": 1555493284, "post_id": 55724187, "comment_id": 98127460, "body": "What about the others? Like WaypointEditActions.DISPOSE, is undefined too?"}, {"owner": {"reputation": 2375, "user_id": 3241192, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/613c032be74a10f24138c3486120638e?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/3241192/bobby"}, "reply_to_user": {"reputation": 1778, "user_id": 1277159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oGFIg.jpg?s=128&g=1", "display_name": "guzmanoj", "link": "https://stackoverflow.com/users/1277159/guzmanoj"}, "edited": false, "score": 2, "creation_date": 1555493375, "post_id": 55724187, "comment_id": 98127532, "body": "actually I removed the declare and now it is ok"}], "answers": [{"tags": [], "owner": {"reputation": 174, "user_id": 10755612, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Px3Mwli9BII/AAAAAAAAAAI/AAAAAAAAIx8/uu6ksYkPizM/photo.jpg?sz=128", "display_name": "Naor Talmor", "link": "https://stackoverflow.com/users/10755612/naor-talmor"}, "is_accepted": false, "score": 1, "last_activity_date": 1555497950, "creation_date": 1555497950, "answer_id": 55725761, "question_id": 55724187, "link": "https://stackoverflow.com/questions/55724187/enum-is-undefined-in-component/55725761#55725761", "title": "enum is undefined in component", "body": "<p>try to remove <code>decleare</code> key word from enum decleration - </p>\n\n<pre><code>export enum WaypointEditActions {\n     INIT = 0,\n     MOUSE_MOVE = 1,\n     ADD_POINT = 2,\n     ADD_LAST_POINT = 3,\n     CHANGE_TO_EDIT = 4,\n     REMOVE_POINT = 5,\n     DRAG_POINT = 6,\n     DRAG_POINT_FINISH = 7,\n     DRAG_SHAPE = 8,\n     DRAG_SHAPE_FINISH = 9,\n     DONE = 10,\n     DISABLE = 11,\n     ENABLE = 12,\n     DISPOSE = 13,\n     SET_EDIT_LABELS_RENDER_CALLBACK = 14,\n     UPDATE_EDIT_LABELS = 15,\n     SET_MANUALLY = 16,\n     TRANSFORM = 17\n}\n</code></pre>\n"}], "owner": {"reputation": 2375, "user_id": 3241192, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/613c032be74a10f24138c3486120638e?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby", "link": "https://stackoverflow.com/users/3241192/bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555497950, "creation_date": 1555492995, "question_id": 55724187, "link": "https://stackoverflow.com/questions/55724187/enum-is-undefined-in-component", "title": "enum is undefined in component", "body": "<p>I have a file named waypoint-edit-action.ts</p>\n\n<p>inside I have the following => </p>\n\n<pre><code>export declare enum WaypointEditActions {\n  INIT = 0,\n  MOUSE_MOVE = 1,\n  ADD_POINT = 2,\n  ADD_LAST_POINT = 3,\n  CHANGE_TO_EDIT = 4,\n  REMOVE_POINT = 5,\n  DRAG_POINT = 6,\n  DRAG_POINT_FINISH = 7,\n  DRAG_SHAPE = 8,\n  DRAG_SHAPE_FINISH = 9,\n  DONE = 10,\n  DISABLE = 11,\n  ENABLE = 12,\n  DISPOSE = 13,\n  SET_EDIT_LABELS_RENDER_CALLBACK = 14,\n  UPDATE_EDIT_LABELS = 15,\n  SET_MANUALLY = 16,\n  TRANSFORM = 17\n}\n</code></pre>\n\n<p>I try to use this enum from a component </p>\n\n<pre><code>import { WaypointEditActions } from '../models/waypoint-edit-actions';\n</code></pre>\n\n<p>and <code>WaypointEditActions.INIT</code></p>\n\n<p>but it say that INIT is undefined... why ? </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1555492157, "post_id": 55723839, "comment_id": 98126835, "body": "Where&#39;s the dropdown code?"}, {"owner": {"reputation": 185, "user_id": 1525681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD8M9.png?s=128&g=1", "display_name": "eboakyegyau", "link": "https://stackoverflow.com/users/1525681/eboakyegyau"}, "reply_to_user": {"reputation": 2401, "user_id": 9890873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lkm7i.jpg?s=128&g=1", "display_name": "Jacopo Sciampi", "link": "https://stackoverflow.com/users/9890873/jacopo-sciampi"}, "edited": false, "score": 0, "creation_date": 1555494270, "post_id": 55723839, "comment_id": 98128057, "body": "&lt;select [(value)]=&quot;selected&quot;&gt;   &lt;option value=&quot;bertrieb&quot;&gt;bertrieb&lt;/option&gt;   &lt;option value=&quot;heizen&quot;&gt;heizen&lt;/option&gt;   &lt;option value=&quot;all&quot;&gt;all&lt;/option&gt; &lt;/select&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 1525681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD8M9.png?s=128&g=1", "display_name": "eboakyegyau", "link": "https://stackoverflow.com/users/1525681/eboakyegyau"}, "edited": false, "score": 0, "creation_date": 1555494975, "post_id": 55723933, "comment_id": 98128540, "body": "so with my dropdown value I can send it with fd.append(&#39;dropdownDetails&#39;, selected); I guess"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 185, "user_id": 1525681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD8M9.png?s=128&g=1", "display_name": "eboakyegyau", "link": "https://stackoverflow.com/users/1525681/eboakyegyau"}, "edited": false, "score": 0, "creation_date": 1555495075, "post_id": 55723933, "comment_id": 98128603, "body": "yes. from the backend find the selected value using <code>dropdownDetails</code> key"}, {"owner": {"reputation": 185, "user_id": 1525681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD8M9.png?s=128&g=1", "display_name": "eboakyegyau", "link": "https://stackoverflow.com/users/1525681/eboakyegyau"}, "edited": false, "score": 0, "creation_date": 1555495741, "post_id": 55723933, "comment_id": 98128986, "body": "I edited with the dropdown code can you please have a check"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 2, "last_activity_date": 1555492240, "creation_date": 1555492240, "answer_id": 55723933, "question_id": 55723839, "link": "https://stackoverflow.com/questions/55723839/i-want-to-bind-a-drop-list-to-an-upload/55723933#55723933", "title": "I want to bind a drop list to an upload", "body": "<p>Add another property to formData</p>\n\n<pre><code>fd.append('dropdownDetails', details);\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 1525681, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AD8M9.png?s=128&g=1", "display_name": "eboakyegyau", "link": "https://stackoverflow.com/users/1525681/eboakyegyau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 55723933, "answer_count": 1, "score": 1, "last_activity_date": 1555495671, "creation_date": 1555491960, "last_edit_date": 1555495671, "question_id": 55723839, "link": "https://stackoverflow.com/questions/55723839/i-want-to-bind-a-drop-list-to-an-upload", "title": "I want to bind a drop list to an upload", "body": "<p>I made an upload to the server through the API but I need to send datas with specific title, which should be selected from a dropdown.</p>\n\n<p>In the .html file</p>\n\n<pre><code> &lt;input type=\"file\"  style=\"display: none\" #upLoad (change)= \"onFileSelected($event)\"&gt;\nbutton type=\"button\" (click)=\"upLoad.click()\"&gt;PDF Upload&lt;/button&gt;\n</code></pre>\n\n<p>Dropdown </p>\n\n<p><code>&lt;select [(value)]=\"selected\"&gt;</code></p>\n\n<p><code>&lt;option value=\"bertrieb\"&gt;bertrieb&lt;/option&gt;</code></p>\n\n<p><code>&lt;option value=\"heizen\"&gt;heizen&lt;/option&gt;</code></p>\n\n<p><code>&lt;option value=\"all\"&gt;all&lt;/option&gt;</code></p>\n\n<p><code>&lt;/select&gt;</code></p>\n\n<p>In the .ts file</p>\n\n<p>onFileSelected(event){</p>\n\n<pre><code>this.selectedFile = &lt;File&gt; event.target.files[0];\nconsole.log(event);\n\nconst fd = new FormData();\nfd.append('files',this.selectedFile, this.selectedFile.name);\n\nthis.zeitraumeService.uploadFile(fd).subscribe(res =&gt; {\n  console.log(res);\n</code></pre>\n\n<p>})</p>\n"}, {"tags": ["typescript", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 9284624, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Dm11xx1lb8U/AAAAAAAAAAI/AAAAAAAABbM/ku4Ol1Yf1U8/photo.jpg?sz=128", "display_name": "Marcos Mezzabotta", "link": "https://stackoverflow.com/users/9284624/marcos-mezzabotta"}, "is_accepted": false, "score": 4, "last_activity_date": 1560881323, "creation_date": 1560881323, "answer_id": 56654775, "question_id": 55723615, "link": "https://stackoverflow.com/questions/55723615/property-fonts-does-not-exist-on-type-document/56654775#56654775", "title": "Property &#39;fonts&#39; does not exist on type &#39;Document&#39;?", "body": "<p>Experimental APIs aren't in the lib file.</p>\n\n<p>You can fix it with: <code>(document as any).fonts</code></p>\n"}, {"tags": [], "owner": {"reputation": 3582, "user_id": 2515275, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d4459ef3a4b5b412f0aaa199bf0798d9?s=128&d=identicon&r=PG", "display_name": "Benny Powers", "link": "https://stackoverflow.com/users/2515275/benny-powers"}, "is_accepted": false, "score": 1, "last_activity_date": 1580828780, "creation_date": 1580828780, "answer_id": 60060198, "question_id": 55723615, "link": "https://stackoverflow.com/questions/55723615/property-fonts-does-not-exist-on-type-document/60060198#60060198", "title": "Property &#39;fonts&#39; does not exist on type &#39;Document&#39;?", "body": "<p>Add this to an ambient declaration file, like for example <code>src/index.d.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type CSSOMString = string;\ntype FontFaceLoadStatus = 'unloaded'|'loading'|'loaded'|'error';\ntype FontFaceSetStatus = 'loading'|'loaded';\n\ninterface FontFace {\n  family: CSSOMString;\n  style: CSSOMString;\n  weight: CSSOMString;\n  stretch: CSSOMString;\n  unicodeRange: CSSOMString;\n  variant: CSSOMString;\n  featureSettings: CSSOMString;\n  variationSettings: CSSOMString;\n  display: CSSOMString;\n  readonly status: FontFaceLoadStatus;\n  readonly loaded: Promise&lt;FontFace&gt;;\n  load(): Promise&lt;FontFace&gt;;\n}\n\ninterface FontFaceSet {\n  readonly status: FontFaceSetStatus;\n  readonly ready: Promise&lt;FontFaceSet&gt;;\n  check(font: string, text?: string): Boolean;\n  load(font: string, text?: string): Promise&lt;FontFace[]&gt;\n}\n\ndeclare global {\n  interface Document {\n    fonts: FontFaceSet\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 3839103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVrkY.png?s=128&g=1", "display_name": "leinov", "link": "https://stackoverflow.com/users/3839103/leinov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1580828780, "creation_date": 1555491263, "question_id": 55723615, "link": "https://stackoverflow.com/questions/55723615/property-fonts-does-not-exist-on-type-document", "title": "Property &#39;fonts&#39; does not exist on type &#39;Document&#39;?", "body": "<p>i use typescript in vue \nand use document.fonts api\nbut console this log</p>\n\n<pre><code>Property 'fonts' does not exist on type 'Document'\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1555490880, "post_id": 55723458, "comment_id": 98126117, "body": "What is the purpose of the type? Since you map it to <code>any</code> you lose type information.."}, {"owner": {"reputation": 3836, "user_id": 3003401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2de9e3bd27825488f4cf0a1dd86ac0?s=128&d=identicon&r=PG&f=1", "display_name": "Cerberus", "link": "https://stackoverflow.com/users/3003401/cerberus"}, "edited": false, "score": 0, "creation_date": 1555490916, "post_id": 55723458, "comment_id": 98126129, "body": "Is <code>Record&lt;keyof Interface, any&gt;</code> a thing you need?"}, {"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "reply_to_user": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1555491057, "post_id": 55723458, "comment_id": 98126213, "body": "@MuratKarag&#246;z Purpose is described in the step 2 comment"}], "answers": [{"comments": [{"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1555491247, "post_id": 55723549, "comment_id": 98126316, "body": "That may well be what I&#39;m looking for, I&#39;ll test it now \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1555491019, "creation_date": 1555491019, "answer_id": 55723549, "question_id": 55723458, "link": "https://stackoverflow.com/questions/55723458/typescript-using-generics-to-create-a-custom-type/55723549#55723549", "title": "TypeScript - Using Generics to Create a Custom Type", "body": "<p>Well you can just make your type generic:</p>\n\n<pre><code>interface IDetail {\n  name: string;\n  enabled: boolean;\n}\n\ntype Generic&lt;T&gt; = { [key in keyof T]: any };\n\nconst controlGeneric: Generic&lt;IDetail&gt; = {\n  name: [],\n  enabled: []\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1555493912, "post_id": 55723706, "comment_id": 98127829, "body": "Does this not just duplicate the original type/Interface? It will have the same properties, and the properties will have the same type"}], "tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": false, "score": -1, "last_activity_date": 1555491561, "creation_date": 1555491561, "answer_id": 55723706, "question_id": 55723458, "link": "https://stackoverflow.com/questions/55723458/typescript-using-generics-to-create-a-custom-type/55723706#55723706", "title": "TypeScript - Using Generics to Create a Custom Type", "body": "<p>If you don't want to lose the types you can use this approach</p>\n\n<pre><code>type DetailType&lt;T&gt; = { [key in keyof T]: T[key] };\n\nconst control: DetailType&lt;IDetail&gt; = {\n    name: [], // must be string\n    enabled: [] // must be boolean\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "edited": false, "score": 0, "creation_date": 1555493832, "post_id": 55723934, "comment_id": 98127785, "body": "Covers the two possible use cases I&#39;ll have in this instance - thanks"}], "tags": [], "owner": {"reputation": 9320, "user_id": 5196394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52GqN.jpg?s=128&g=1", "display_name": "hoangdv", "link": "https://stackoverflow.com/users/5196394/hoangdv"}, "is_accepted": true, "score": 1, "last_activity_date": 1555492241, "creation_date": 1555492241, "answer_id": 55723934, "question_id": 55723458, "link": "https://stackoverflow.com/questions/55723458/typescript-using-generics-to-create-a-custom-type/55723934#55723934", "title": "TypeScript - Using Generics to Create a Custom Type", "body": "<p>You can make a special generic type:</p>\n\n<pre><code>type WrapMyType&lt;T, V&gt; = { [key in keyof T]: V };\n\nconst control: WrapMyType&lt;IDetail, any&gt; = {\n  name: [],\n  enabled: [],\n};\n</code></pre>\n"}], "owner": {"reputation": 6834, "user_id": 271012, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/m3wdQ.png?s=128&g=1", "display_name": "Drenai", "link": "https://stackoverflow.com/users/271012/drenai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 55723934, "answer_count": 3, "score": 0, "last_activity_date": 1555492241, "creation_date": 1555490715, "last_edit_date": 1555490901, "question_id": 55723458, "link": "https://stackoverflow.com/questions/55723458/typescript-using-generics-to-create-a-custom-type", "title": "TypeScript - Using Generics to Create a Custom Type", "body": "<p>I'm using an intermediary step for creating a <strong>type</strong> that has property keys that must be the same as the keys of a specified <strong>interface</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// 1. Create Interface\ninterface IDetail {\n    name: string;\n    enabled: boolean;\n}\n\n// 2. Create a 'type' that has properties that match the properties of an interface\ntype DetailType = {\n    [key in keyof IDetail]: any\n}\n\n// 3. Apply the type to an object literal\nconst control: DetailType = {\n    name: [],\n    enabled: []\n}\n</code></pre>\n\n<p>I repeat this pattern quite often, and I'm wondering is there a way to generalize the 2nd step - possibly using <strong>generics</strong>? </p>\n"}, {"tags": ["typescript", "mocking", "mocha.js", "sinon"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1555491121, "post_id": 55723174, "comment_id": 98126247, "body": "If you&#39;ll look at generated <a href=\"https://www.typescriptlang.org/play/index.html#src=export%20namespace%20CodeUnderTest%20%7B%0D%0A%20%20%20%20export%20function%20A()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20B()%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20export%20function%20B()%3A%20void%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%22B%20was%20called.%22)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">code</a> <code>A</code> use direct reference to <code>B</code> and not to namespace member (<code>CodeUnderTest .B</code>). So when you replace it with fake, <code>A</code> is not affected"}], "owner": {"reputation": 379, "user_id": 5388264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532b3145726c36fb8e0e102bd89cfd16?s=128&d=identicon&r=PG&f=1", "display_name": "303", "link": "https://stackoverflow.com/users/5388264/303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1555489762, "creation_date": 1555489762, "question_id": 55723174, "link": "https://stackoverflow.com/questions/55723174/how-to-fake-indirectly-called-functions-of-a-typescript-namespace", "title": "How to fake indirectly called functions of a Typescript namespace?", "body": "<p>Assume the following namespace is given:</p>\n\n<pre><code>export namespace CodeUnderTest {\n    export function A(): void {\n        B();\n    }\n\n    export function B(): void {\n        console.log(\"B was called.\");\n    }\n}\n</code></pre>\n\n<p>How do I write a test that calls <code>A()</code> with a fake implementation of <code>B()</code>?</p>\n\n<p>Here is how I tried to do it with Sinon:</p>\n\n<pre><code>import * as sinon from 'sinon';\nimport { CodeUnderTest } from './code-under-test';\n\ndescribe('CodeUnderTest', () =&gt; {\n    it('calls fake', () =&gt; {\n        sinon.replace(CodeUnderTest, 'B', () =&gt; {\n            console.log(\"Fake was called.\");\n        });\n\n        CodeUnderTest.A();\n    });\n})\n</code></pre>\n\n<p>When I run it with <code>mocha -r ts-node/register code-under-test.spec.ts</code> the test prints <code>B was called.</code> I'd expect it to print <code>Fake was called.</code></p>\n\n<p>I'm open to any solution, not just ones implemented with Sinon.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555489976, "post_id": 55723169, "comment_id": 98125641, "body": "can you share with us the route list ?"}, {"owner": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 0, "creation_date": 1555490755, "post_id": 55723169, "comment_id": 98126060, "body": "How have you setup dynamic routes? Check out <a href=\"https://medium.com/@DenysVuika/dynamic-routes-with-angular-6fda03b7fa2c\" rel=\"nofollow noreferrer\">medium.com/@DenysVuika/dynamic-routes-with-angular-6fda03b7f&zwnj;&#8203;a2c</a>"}, {"owner": {"reputation": 361, "user_id": 10875110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PuLofI0yHK0/AAAAAAAAAAI/AAAAAAAALOg/upyt6OvyKcI/photo.jpg?sz=128", "display_name": "Gion Rubitschung", "link": "https://stackoverflow.com/users/10875110/gion-rubitschung"}, "reply_to_user": {"reputation": 2114, "user_id": 2093029, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6bc1e235ce01688c66b0de5eba246c2e?s=128&d=identicon&r=PG&f=1", "display_name": "umutesen", "link": "https://stackoverflow.com/users/2093029/umutesen"}, "edited": false, "score": 0, "creation_date": 1555491884, "post_id": 55723169, "comment_id": 98126674, "body": "@UmutEsen I did that now, but the strange thing is, when I console log it, I get no data, so the data doesn&#39;t even fetch when I switch between the router links."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555493687, "post_id": 55723169, "comment_id": 98127714, "body": "@despamigros is it your route look like this <code>&#47;link&#47;:id</code> ??"}, {"owner": {"reputation": 361, "user_id": 10875110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PuLofI0yHK0/AAAAAAAAAAI/AAAAAAAALOg/upyt6OvyKcI/photo.jpg?sz=128", "display_name": "Gion Rubitschung", "link": "https://stackoverflow.com/users/10875110/gion-rubitschung"}, "reply_to_user": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555498729, "post_id": 55723169, "comment_id": 98130690, "body": "@malbarmawi to do that, I must see the data, but when the data doesn&#39;t load, it won&#39;t work..."}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555499742, "post_id": 55723169, "comment_id": 98131261, "body": "@despamigros I got your routes can you share with us the <code>LINKS</code> ?"}, {"owner": {"reputation": 361, "user_id": 10875110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PuLofI0yHK0/AAAAAAAAAAI/AAAAAAAALOg/upyt6OvyKcI/photo.jpg?sz=128", "display_name": "Gion Rubitschung", "link": "https://stackoverflow.com/users/10875110/gion-rubitschung"}, "reply_to_user": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555500460, "post_id": 55723169, "comment_id": 98131704, "body": "@malbarmawi there you go :)"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "edited": false, "score": 0, "creation_date": 1555504803, "post_id": 55723169, "comment_id": 98134347, "body": "@despamigros can you check this <a href=\"https://stackblitz.com/edit/angular-cpfo3e\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-cpfo3e</a> I don&#39;t figure out where is your problem"}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 10875110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PuLofI0yHK0/AAAAAAAAAAI/AAAAAAAALOg/upyt6OvyKcI/photo.jpg?sz=128", "display_name": "Gion Rubitschung", "link": "https://stackoverflow.com/users/10875110/gion-rubitschung"}, "is_accepted": true, "score": 0, "last_activity_date": 1555615978, "creation_date": 1555615978, "answer_id": 55752657, "question_id": 55723169, "link": "https://stackoverflow.com/questions/55723169/data-doesnt-load-when-i-switch-between-router-links/55752657#55752657", "title": "Data doesn&#39;t load when I switch between router links", "body": "<p>The problem was like in <a href=\"https://stackoverflow.com/questions/55752380/how-can-i-call-a-constructor-when-i-change-my-route\">this</a> question. I had to make a function that fetches my data when I subscribe to my data.</p>\n\n<p>Here is my service:</p>\n\n<pre><code>export class CvServiceService {\n  cvSkillCollection: AngularFirestoreCollection&lt;IntCvSkill&gt;;\n  cvSkill: Observable&lt;IntCvSkill[]&gt;;\n\n  skillFilter: string;\n\n  constructor(public afs: AngularFirestore) { }\n\n  fetchingData() {\n    this.cvSkillCollection = this.afs.collection('cv-skill');\n\n    this.cvSkill = this.cvSkillCollection.snapshotChanges().pipe(map(changes =&gt; {\n      return changes.map(a =&gt; {\n        const data = a.payload.doc.data() as IntCvSkill;\n        data.id = a.payload.doc.id;\n        return data;\n      });\n    }));\n  }\n\n  getSkills() {\n    this.fetchingData();\n    return this.cvSkill;\n  }\n\n  skillFiltern(filterWert: string) {\n    this.skillFilter = filterWert;\n    return this.skillFilter;\n  }\n\n  addSkill(cvSkill: IntCvSkill) {\n    this.cvSkillCollection.add(cvSkill);\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 10875110, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PuLofI0yHK0/AAAAAAAAAAI/AAAAAAAALOg/upyt6OvyKcI/photo.jpg?sz=128", "display_name": "Gion Rubitschung", "link": "https://stackoverflow.com/users/10875110/gion-rubitschung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55752657, "answer_count": 1, "score": 0, "last_activity_date": 1555615978, "creation_date": 1555489754, "last_edit_date": 1555500395, "question_id": 55723169, "link": "https://stackoverflow.com/questions/55723169/data-doesnt-load-when-i-switch-between-router-links", "title": "Data doesn&#39;t load when I switch between router links", "body": "<p>I have a menubar with several router links. When I run ng serve in the command line my default route opens. Then when I click on a link of the menubar, I can see the data of the component, but as soon as I switch to another link and then back I can't see my data anymore? To prevent that I made a function that reloads my page everytime when I go to another link, but that isn't really the best solution. I tried to make something with the routerLinkActive, but that didn't solve my problem.</p>\n\n<p>Here is my menubar html file:</p>\n\n<pre><code>&lt;mat-toolbar color=\"primary\" class=\"menubar\"&gt;\n  &lt;mat-toolbar-row&gt;\n    &lt;div *ngFor=\"let link of LINKS\"&gt;\n        &lt;button mat-button (click)=\"reloadPage()\"&gt;&lt;a [routerLink]=\"link.linkUrl\" class=\"link\"&gt;{{link.linkName}}&lt;/a&gt;&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/mat-toolbar-row&gt;\n&lt;/mat-toolbar&gt;\n</code></pre>\n\n<p>Here is my menubar ts file:</p>\n\n<pre><code>LINKS: NavigationInterface[];\n\n  constructor(private linkService: NavigationServiceService) { }\n\n  ngOnInit() {\n    this.linkService.getLinks().subscribe(link =&gt; {\n      this.LINKS = link;\n    });\n  }\n\n  reloadPage() {\n    location.reload();\n  }\n</code></pre>\n\n<p>The interface of LINKS:</p>\n\n<pre><code>export interface NavigationInterface {\n  linkName?: string;\n  linkUrl?: string;\n}\n</code></pre>\n\n<p>Here is the data:</p>\n\n<pre><code>linkName        | linkUrl\nHome            | /home\nQualifikationen | /skills\n</code></pre>\n\n<p>Here is the html file of the data I want to display:</p>\n\n<pre><code>  &lt;div *ngIf=\"SKILLS?.length &gt; 0; else noItem\"&gt;\n    &lt;div *ngFor=\"let skill of SKILLS | filter:skillGruppe\"&gt;\n      &lt;div class=\"skill\"&gt;\n        &lt;mat-accordion&gt;\n          &lt;mat-expansion-panel&gt;\n            &lt;mat-expansion-panel-header&gt;\n              &lt;mat-panel-title&gt;{{skill.skillname}}\n              &lt;/mat-panel-title&gt;\n              &lt;mat-progress-bar class=\"progress-bar\" [value]=\"skill.skillwert\"&gt;&lt;/mat-progress-bar&gt;\n              &lt;mat-panel-description&gt;\n              &lt;/mat-panel-description&gt;\n            &lt;/mat-expansion-panel-header&gt;\n            &lt;div&gt;{{skill.skillBeschreibung}}&lt;/div&gt;\n          &lt;/mat-expansion-panel&gt;\n        &lt;/mat-accordion&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Here is the ts file of the data I want to display:</p>\n\n<pre><code>  SKILLS: IntCvSkill[];\n\n  skillGruppe = 'Entwicklung';\n\n  constructor(private skillService: CvServiceService) { }\n\n  ngOnInit() {\n    this.skillService.getSkills().subscribe(cvSkill =&gt; {\n      this.SKILLS = cvSkill;\n    });\n  }\n\n  filtereSkills(skillWert: string) {\n    this.skillGruppe = skillWert;\n  }\n</code></pre>\n\n<p>Here are my routes:</p>\n\n<pre><code>const routes: Routes = [\n  {path: 'skills', component: SkillsComponent},\n  {path: 'home', component: HomeComponent},\n  { path: '', pathMatch: 'full', redirectTo: 'home' }\n];\n</code></pre>\n\n<p>How can I prevent this?</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1555490220, "post_id": 55723092, "comment_id": 98125765, "body": "This seems to work now but but what happens if I have multiple functions in my lib and I have an <code>interface</code> for my lib like this: <code>{port(number:number):void, user(name: string):void}</code>"}, {"owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "edited": false, "score": 0, "creation_date": 1555490780, "post_id": 55723092, "comment_id": 98126067, "body": "Great, that&#39;s it. Thanks."}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1555490924, "last_edit_date": 1555490924, "creation_date": 1555489493, "answer_id": 55723092, "question_id": 55722858, "link": "https://stackoverflow.com/questions/55722858/add-typings-reference-in-node-library/55723092#55723092", "title": "Add typings reference in Node library", "body": "<p>The issue comes from <code>declare module \"my-module\"</code>. It's unnecessary to name the module when the typing is located in the package. Additionally, the syntax of a non-standard export <code>export = _;</code> is not required in your case because your package contains a regular named export. Just export it. I suggest:</p>\n\n<pre><code>// index.d.ts\nexport declare function port(number: number): void;\n// \u2026 you can add other named exports like:\nexport declare function user(name: string): void;\n// or even (it's equivalent):\nexport declare const user2: (name: string) =&gt; void;\n// etc.\n</code></pre>\n\n<p>This typing will work as a package typing if the file is referenced by <code>\"types\"</code> in the <code>package.json</code> file. It'll work too when the <code>./index</code> file is imported because it shares the same name.</p>\n\n<p>Notice: TypeScript follows the <a href=\"https://hacks.mozilla.org/2015/08/es6-in-depth-modules/\" rel=\"nofollow noreferrer\">ES6 module syntax</a>.</p>\n"}], "owner": {"reputation": 8143, "user_id": 90800, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/027d54c100a58268c4ccee4cd4d5ce0e?s=128&d=identicon&r=PG", "display_name": "Alexander Zeitler", "link": "https://stackoverflow.com/users/90800/alexander-zeitler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 55723092, "answer_count": 1, "score": 1, "last_activity_date": 1555490924, "creation_date": 1555488674, "last_edit_date": 1555489785, "question_id": 55722858, "link": "https://stackoverflow.com/questions/55722858/add-typings-reference-in-node-library", "title": "Add typings reference in Node library", "body": "<p>I created a NodeJS library in plain JS and I added typings which work fine when installing the library in another project using <code>npm|yarn</code>.</p>\n\n<p>But when referencing the library in its own directory e.g. for tests, neither WebStorm nor VS Code recognise the types for Code Completion / IntelliSense (hovering over the methods states there are no definitions found for them).</p>\n\n<p>My lib (<code>./index.js</code>):</p>\n\n<pre><code>const port = function (number) {\n};\n\nmodule.exports = { port };\n</code></pre>\n\n<p>The typings (<code>./index.d.ts</code>):</p>\n\n<pre><code>declare module \"my-module\" {\n    interface MyModule {\n        port(number: number): void;\n    }\n\n    const _: MyModule;\n    export = _;\n}\n</code></pre>\n\n<p>I tried adding references in my tests file (<code>test/index.js</code>) like this but it didn't solve it:</p>\n\n<pre><code>/// &lt;reference types=\"../index.d.ts\" /&gt; \nconst myLib = require('../')\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 332774, "user_id": 263525, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ec289925069b35f18f1230b90dc654e5?s=128&d=identicon&r=PG", "display_name": "Denys S&#233;guret", "link": "https://stackoverflow.com/users/263525/denys-s%c3%a9guret"}, "is_accepted": true, "score": 3, "last_activity_date": 1555489168, "last_edit_date": 1555489168, "creation_date": 1555488518, "answer_id": 55722818, "question_id": 55722761, "link": "https://stackoverflow.com/questions/55722761/vs-in-browser-tools-while-both-having-same-objects/55722818#55722818", "title": "[] vs [{...}] in browser tools, while both having same objects", "body": "<p>The opening line, <code>[]</code> or <code>[{}]</code>, is immediately drawn in the console.</p>\n\n<p>In the case of <code>[]</code>, there was nothing in the array at logging time, so the browser draw it as an empty array. But the data was present when you looked at it and clicked on the small triangle, later.</p>\n\n<p>You can reproduce this behavior with this code in your console:</p>\n\n<pre><code>;(function(){ let arr=[]; setTimeout(()=&gt;{ arr[0] = {b:3}; }); return arr;})()\n</code></pre>\n\n<p>So the difference you saw is related to the (a)synchronicity of array filling.</p>\n"}, {"comments": [{"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555569389, "post_id": 55729401, "comment_id": 98157851, "body": "the getAddressPoint() request takes in a route. so I need to call it many times request -&gt; foreach requestVehicle -&gt; foreach route -&gt; call getAddressPoint(route)."}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555571848, "post_id": 55729401, "comment_id": 98159023, "body": "getAddressPoint returns each address, but now with Names filled instead of just id&#39;s. I&#39;m not good with rxjs, but from what I understood you expected getAddressPoint to return array. It actually returns a route object but now filled."}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555585325, "post_id": 55729401, "comment_id": 98166013, "body": "I updated my answer to explain a bit how make a request that return an object with a property that was an array"}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555587060, "post_id": 55729401, "comment_id": 98166914, "body": "What I was trying to say is that my request returns more like this ({ statusID: 1, requestVehicles: [{routes: [1, 2]}, {routes: [2]}] }). it has multiple requestvehicles and in each of them there are multiple routes."}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555587089, "post_id": 55729401, "comment_id": 98166929, "body": "<a href=\"https://stackblitz.com/edit/angular-nvw54p\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-nvw54p</a> I forked and edited getRequest line. do I need to use another map? in this case?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555592123, "post_id": 55729401, "comment_id": 98169828, "body": "I don&#39;t kwnow &quot;what do you want to obtain&quot;. in <a href=\"https://stackblitz.com/edit/angular-tg424n?file=src%2Fapp%2Fmain-form%2Fmain-form.component.html\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a> I&#39;ve made two functions getFullRequest2 and getFullRequest2. In each, first find the uniques Routes -we can not make unnecesaries calls. Then &quot;reorder&quot; to distribute the &quot;routes&quot;. I hope this help you"}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555595864, "post_id": 55729401, "comment_id": 98172116, "body": "getFullRequest2 is exactly what I was looking for. Thanks! I learned a lot from you! I am not sure, If I should mark your answer accepted. If you include a line about brackets. I&#39;ll mark yours as accepted answer. because it will fit the question title."}, {"owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "edited": false, "score": 0, "creation_date": 1555602155, "post_id": 55729401, "comment_id": 98175797, "body": "I realized its not for what I really was looking for. Sorry for bothering again. I created question with edited stackblitz to see exactly what I mean. this topic was off for the title of the question. So I think its better to transfer there. <a href=\"https://stackoverflow.com/questions/55749503/how-to-build-single-object-from-2-http-requests-in-angular-without-adding-anoth\" title=\"how to build single object from 2 http requests in angular without adding anoth\">stackoverflow.com/questions/55749503/&hellip;</a> here is also edited stackblitz <a href=\"https://stackblitz.com/edit/angular-fapmnf\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-fapmnf</a>"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1555585268, "last_edit_date": 1555585268, "creation_date": 1555509805, "answer_id": 55729401, "question_id": 55722761, "link": "https://stackoverflow.com/questions/55722761/vs-in-browser-tools-while-both-having-same-objects/55729401#55729401", "title": "[] vs [{...}] in browser tools, while both having same objects", "body": "<p>Vato, you has two functions in your service:getRequest(requestId) and getAddressPoint(requestVehicles). The idea is return a whole object. You can create the function in the own service or in the component. I'd like in the service, and that return an objservable. You must use forkJoin and swithMap So . It's for me impossible check if work</p>\n\n<p>**Update, see the <a href=\"https://stackblitz.com/edit/angular-mj1u63?file=src%2Fapp%2Fservice.ts\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<pre><code>  getFullRequest(id): Observable&lt;any&gt; {\n    return this.getRequest(id).pipe(\n      switchMap((request: any) =&gt; {\n        //here you has the request. We create an array of observables\n        return forkJoin(\n          request.requestVehicles.map(\n            (r: any) =&gt; this.getAddressPoint(r))).pipe(map((res: any[]) =&gt; {\n              res.forEach((x: any, index: number) =&gt; {\n                x.sequenceNumber = index\n              })\n              return {\n                statusId: request.statusID,\n                routes: res\n              }\n            })\n            )\n      }))\n }\n</code></pre>\n\n<p>then, in your component</p>\n\n<pre><code>if (this.data.isEdit) {\n      this.Title = 'Edit';\n      this.data.fService.getFullRequest(this.data.requestId).subscribe(thisRequest =&gt; {\n        this.requestForm = this.fb.group({\n          statusId: thisRequest.status,\n          requestVehicles: thisRequest.routes\n        });\n</code></pre>\n\n<p><strong>Update 2</strong> briefly explain about switchMap and forkJoin.</p>\n\n<p>When we make <code>this.getRequest(id)</code> we received in request an object. In this object we has in requestVehicles an array (can be an array of objects or an array of numbers -or strings-). With each element of this array we can make a call, But instead of make the calls one to one, we want to make all these together. For this we use forkJoin. forkJoin received an array of observables and, in subscribe received the response in an array</p>\n\n<pre><code>//if we has an observable like:\ngetValue(id:number):Observable&lt;any&gt;{\n   return of({one:id})\n}\n//and an array like\nmyArray=[1,2]\n//and an array of response whe we can store the responses\nresponse:any[]\n\n//we can do\nfor (let id of myArray)\n{\n     this.getValue(id).susbcribe(res=&gt;{\n         this.response.push(res)\n     })\n}\n//or\nobservables:any[]\nfor (let id of myArray)\n{\n     this.observables.push(this.getValue(id))\n}\nforkJoin(this.observables).subscribe((res;any[])=&gt;{\n  //in res[0] we have the result of this.getValue(1)\n  //in res[1] we have the result of this.getValue(2)\n  //so, simply\n  this.response=res\n})\n\n//or in a compact way\n//with each element of the array\nobservables=myArray.map(x=&gt;this.getValues(x))\n\nforkJoin(this.observables).subscribe((res;any[])=&gt;{\n  this.response=res\n})\n</code></pre>\n\n<p>Well, there are two problems more. We want add a new propertie \"sequenceNumber\" to all the response. So we use <code>res.forEach(...)</code> to add the property. And we want return an object with somes properties of our original request (statusID) and in \"routes\" the array with the response. So we use <code>map</code> to transform the response. In our simple example above</p>\n\n<pre><code>//not return simple {one:1}\n//return {id:1,one:1}\ngetResponse(2).pipe.map(res=&gt;{\n    return {\n        id:1,\n        one:res.one\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2134, "user_id": 754462, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9aba2f4a04dbccedb70a93033b55b166?s=128&d=identicon&r=PG", "display_name": "Vato", "link": "https://stackoverflow.com/users/754462/vato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 55722818, "answer_count": 2, "score": 1, "last_activity_date": 1555585268, "creation_date": 1555488309, "question_id": 55722761, "link": "https://stackoverflow.com/questions/55722761/vs-in-browser-tools-while-both-having-same-objects", "title": "[] vs [{...}] in browser tools, while both having same objects", "body": "<p><a href=\"https://i.stack.imgur.com/86Mhz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/86Mhz.png\" alt=\"enter image description here\"></a></p>\n\n<p>If you look at the picture both arrays consist of same kind of object. first I create it with empty data as placeholder, but second one I create it with data coming from server.</p>\n\n<pre><code>  writeValue(v: any) {\n    console.log('aaa');\n    console.log(v);\n    console.log('aaa');\n    this.form = new FormArray([]);\n    for (const value of v) {\n      console.log('bbb');\n      console.log(value);\n      console.log('bbb');\n      this.form.push(new FormControl(value));\n    }\n    this.form.valueChanges.subscribe(res =&gt; {\n      if (this.onChange) {\n        this.onChange(this.form.value);\n      }\n    });\n  }\n</code></pre>\n\n<p>for first case it goes through all of the writeValue code, for second one it doesn't go through the for(const values of v) code. why is this happening? when I print them out they seem to be the same other than one difference [{...}] vs [] in browser tools. </p>\n\n<p>If you want to see how I create them. the first one is routes and the second one is routeslocal. I put them in angular formcontrol, and thats how it gets to writeValue via controlvalueaccessor. If you want to know how it works you could check my previous question <a href=\"https://stackoverflow.com/questions/55574410/nested-custom-formarray-component-doesnt-bind-with-child-form-with-formarraynam/55674946?noredirect=1#comment98072496_55674946\">here</a>. there is more code, but it doesn't include the service.</p>\n\n<pre><code>ngOnInit() {\n\n    const routes: any[] = [];\n    routes.push({ ...dataI });\n\n    this.requestForm = this.fb.group({\n      statusId: null,\n      requestVehicles: this.fb.array([\n        this.fb.group({\n          garageId: 0,\n          routes: new FormControl(routes),\n          endDateTime: 0,\n        })\n      ])\n    });\n\n    if (this.data.isEdit) {\n      this.Title = 'Edit';\n      this.data.fService.getRequest(this.data.requestId).subscribe(thisRequest =&gt; {\n        this.requestForm = this.fb.group({\n          statusId: thisRequest.status,\n          requestVehicles: this.fb.array([\n          ])\n        });\n        thisRequest.requestVehicles.forEach((element, index) =&gt; {\n\n          const routeslocal: any[] = [];\n          element.routes.forEach((elementt, indexx) =&gt; {\n            this.data.fService.getAddressPoint(elementt).subscribe(sbed =&gt; {\n              const newRoute = {\n                addressPointId: sbed.addressPointId,\n                municipalityId: sbed.municipalityId,\n                regionId: sbed.regionId,\n                rvId: element.rvId,\n                sequenceNumber: indexx,\n                settlementId: sbed.settlementId,\n                regionName: sbed.regionName,\n                municipalityName: sbed.municipalityName,\n                settlementName: sbed.settlementName,\n                description: sbed.description,\n              };\n              routeslocal.push({...newRoute});\n            });\n          });\n\n          this.requestVehicles.push(this.fb.group({\n            endDateTime: new Date(element.endDateTime),\n            garageId: element.garageId,\n            routes: new FormControl(routeslocal),\n          }));\n            });\n          });\n        });\n      });\n    }\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 1, "creation_date": 1555488803, "post_id": 55722745, "comment_id": 98124952, "body": "What&#39;s the problem with <code>IOFunction&lt;INPUT, OUTPUT&gt; = (input: INPUT) =&gt; OUTPUT</code>?"}, {"owner": {"reputation": 385, "user_id": 1941738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96865cf50e31128d9f37c39a3a506fae?s=128&d=identicon&r=PG&f=1", "display_name": "abnormi", "link": "https://stackoverflow.com/users/1941738/abnormi"}, "reply_to_user": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 0, "creation_date": 1555489665, "post_id": 55722745, "comment_id": 98125423, "body": "In the examples the OUTPUTs are simple values. In my real world app the OUTPUT will be a complex object. The user of this function should not be bothered with writing the type definition of that complex object."}, {"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 0, "creation_date": 1555490541, "post_id": 55722745, "comment_id": 98125946, "body": "Can you please make an example? Normally you don&#39;t need to specify the entire complex objects. In my experience this is not a problem in the real world."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1555509231, "post_id": 55722745, "comment_id": 98137294, "body": "Wait, what&#39;s wrong with your <code>bindFactory()</code>?  That&#39;s the solution I would expect and it works the way you want."}], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 1941738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96865cf50e31128d9f37c39a3a506fae?s=128&d=identicon&r=PG&f=1", "display_name": "abnormi", "link": "https://stackoverflow.com/users/1941738/abnormi"}, "is_accepted": true, "score": 0, "last_activity_date": 1555567676, "creation_date": 1555567676, "answer_id": 55739992, "question_id": 55722745, "link": "https://stackoverflow.com/questions/55722745/typescript-return-type-inference/55739992#55739992", "title": "Typescript return type inference", "body": "<p>Ok, i figured a way - and it is actually very simple. All you have to provide are the type definitions of the input parameters and let the compiler figure out the rest.</p>\n\n<p>So instead of</p>\n\n<pre><code>  type FAC_FUNCTION&lt;S&gt; = (state: S) =&gt; any\n\n  const factory: FAC_FUNCTION&lt;STATE&gt; = state =&gt; (\n    {\n      hello() { \n        return 'Hello ' + state.value;\n      }\n    })\n\n  const toolbox = factory(myState)\n</code></pre>\n\n<p>use:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  const factory = (state:PROPS) =&gt; (\n    {\n      hello() { \n        return 'Hello ' + state.value;\n      }\n    })\n\n  const toolbox = factory(myState)\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 1941738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96865cf50e31128d9f37c39a3a506fae?s=128&d=identicon&r=PG&f=1", "display_name": "abnormi", "link": "https://stackoverflow.com/users/1941738/abnormi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55739992, "answer_count": 1, "score": 0, "last_activity_date": 1555567676, "creation_date": 1555488204, "last_edit_date": 1555494647, "question_id": 55722745, "link": "https://stackoverflow.com/questions/55722745/typescript-return-type-inference", "title": "Typescript return type inference", "body": "<p>In the following code snippet, typescript is able to infer the return type correctly:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n{\n  type IOFunction&lt; OUTPUT&gt; = (input: number) =&gt; OUTPUT\n\n  function createIOFunction&lt;OUTPUT&gt;(input: number, converter: IOFunction&lt;OUTPUT&gt;): OUTPUT {\n    return converter(input)\n  }\n\n  const x = createIOFunction(12, num =&gt; num + '!')\n  // x is of type 'string'. Typescript was able to infer the OUTPUT type correctly AND without me specifying what the output type should be\n\n  const y = createIOFunction(24, num =&gt; num * 2)\n  // y is of type 'number'\n}\n\n</code></pre>\n\n<p>How can I achieve this with following construct?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n{\n  type IOFunction&lt;INPUT&gt; = (input: INPUT) =&gt; any /* &lt;-- What goes here ?? */\n  // I don't want the type to be IOFunction&lt;INPUT, OUTPUT&gt; = (input: INPUT) =&gt; OUTPUT\n\n  const convert: IOFunction&lt;number&gt; = num =&gt; num + '!'\n  const x = convert(12)\n  // x is of type any, not string\n  // how can x be inferred? \n}\n\n</code></pre>\n\n<p>Here a more complex example (as requested):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n  interface STATE {\n    value: number\n  }\n\n  const myState: STATE = {\n    value: 12\n  } \n\n  type FAC_FUNCTION&lt;S&gt; = (state: S) =&gt; any\n\n\n  const factory: FAC_FUNCTION&lt;STATE&gt; = state =&gt; (\n    {\n      hello() { \n        return 'Hello ' + state.value;\n      }\n    })\n\n  const toolbox = factory(myState)\n  // toolbox.hello() &lt;!--- not typed :(\n\n\n\n\n  type FACTORY_FUNCTION&lt;S, OUTPUT&gt; = (state:S) =&gt; OUTPUT\n\n  function bindFactory&lt;S, OUTPUT&gt;(state:S, fac: FACTORY_FUNCTION&lt;S, OUTPUT&gt;) {\n    return fac(state)\n  }\n\n  const toolbox2 = bindFactory(myState, state =&gt; ({\n    hello() {\n      return 'Hello ' + state.value\n    }\n  }))\n\n  toolbox2.hello() // typed :)\n\n</code></pre>\n\n<p>The toolbox is not typed, toolbox2 is. I want to bind the state to the specific functions. In the end i wan't the user to write something like <code>const toolbox = bindFactory(state, factory)</code>.</p>\n\n<p>Sorry, but this is the best complex example I came up with </p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongodb-query", "aggregation-framework"], "answers": [{"tags": [], "owner": {"reputation": 2621, "user_id": 4998731, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/63e432d39b9b669d002a73e8345bf050?s=128&d=identicon&r=PG", "display_name": "Jitendra", "link": "https://stackoverflow.com/users/4998731/jitendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1555491299, "creation_date": 1555491299, "answer_id": 55723622, "question_id": 55722704, "link": "https://stackoverflow.com/questions/55722704/mongodb-gruop-secondary-group-sum-fields-using-multiple-lookups/55723622#55723622", "title": "MongoDB - $gruop, secondary $group, $sum fields using multiple lookups", "body": "<p>Try as below: </p>\n\n<pre><code>db.timers.aggregate(\n    [\n        {\n            $lookup: {\n                from: \"users\",\n                let: {\"uId\": \"$userId\" },\n                pipeline: [\n                    {\n                        $match: {\n                            $expr: { $eq: [\"$_id\", \"$$uId\"] }\n                        }\n                    }\n                ],\n                as: \"userInfo\"\n            }  \n        },\n        {\n            $lookup: {\n                from: \"project\",\n                let: {\"pId\": \"$projectId\" },\n                pipeline: [\n                    {\n                        $match: {\n                            $expr: { $eq: [\"$_id\", \"$$pId\"] }\n                        }\n                    }\n                ],\n                as: \"projectInfo\"\n            }  \n        },\n        { $unwind: \"$userInfo\" },\n        { $unwind: \"$projectInfo\" },\n        {\n            $group: {\n                _id:  { \"pname\":\"$projectInfo.name\", \"uname\": \"$userInfo.name\" } ,\n                sumOfDurationInMinutes: { $sum: { $divide:[ { $subtract: [\"$endTime\", \"$startTime\"] }, 60000 ]} } \n            }\n        },\n        {\n            $group: {\n                _id: \"$_id.pname\",\n                data: { $push: \"$$ROOT\"}\n            }\n        }\n    ]\n)\n</code></pre>\n\n<p>Response Result :</p>\n\n<pre><code>{\n    \"_id\" : \"project C\",\n    \"data\" : [\n        {\n            \"_id\" : {\n                \"pname\" : \"project C\",\n                \"uname\" : \"Jane\"\n            },\n            \"sumOfDurationInMinutes\" : 60\n        }\n    ]\n},\n\n/* 2 */\n{\n    \"_id\" : \"project A\",\n    \"data\" : [\n        {\n            \"_id\" : {\n                \"pname\" : \"project A\",\n                \"uname\" : \"John\"\n            },\n            \"sumOfDurationInMinutes\" : 120\n        },\n        {\n            \"_id\" : {\n                \"pname\" : \"project A\",\n                \"uname\" : \"James\"\n            },\n            \"sumOfDurationInMinutes\" : 60\n        }\n    ]\n},\n\n/* 3 */\n{\n    \"_id\" : \"project X\",\n    \"data\" : [\n        {\n            \"_id\" : {\n                \"pname\" : \"project X\",\n                \"uname\" : \"John\"\n            },\n            \"sumOfDurationInMinutes\" : 60\n        }\n    ]\n} \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11372451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LYCoI5ypbgA/AAAAAAAAAAI/AAAAAAAAAAc/DjjpRDKPLew/photo.jpg?sz=128", "display_name": "Maor Barazani", "link": "https://stackoverflow.com/users/11372451/maor-barazani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1555491299, "creation_date": 1555488045, "last_edit_date": 1555490033, "question_id": 55722704, "link": "https://stackoverflow.com/questions/55722704/mongodb-gruop-secondary-group-sum-fields-using-multiple-lookups", "title": "MongoDB - $gruop, secondary $group, $sum fields using multiple lookups", "body": "<p>I'm trying to use a mongo aggregation query to look at a bunch of data, and retrieve it in a way that is useful to me. mainly because I want all the sorting logic to happen on the DB, and not do it manually in the server.</p>\n\n<p>so I have <strong><em>projects, users, timers</em></strong></p>\n\n<p><strong>projects</strong> collection:</p>\n\n<pre><code>{id: 1, name: \"project A\"}\n{id: 2, name: \"project X\"}\n{id: 3, name: \"project C\"}\n</code></pre>\n\n<p><strong>users</strong> collection:</p>\n\n<pre><code>{id: 1, name: \"John\"}\n{id: 2, name: \"Jane\"}\n{id: 3, name: \"James\"}\n</code></pre>\n\n<p><strong>timers</strong> collection:</p>\n\n<pre><code>{id: 1, projectId: 3, userId: 2, startTime: (date ISO), endTime: (date ISO)}\n{id: 2, projectId: 1, userId: 3, startTime: (date ISO), endTime: (date ISO)}\n{id: 3, projectId: 1, userId: 1, startTime: (date ISO), endTime: (date ISO)}\n{id: 4, projectId: 1, userId: 1, startTime: (date ISO), endTime: (date ISO)}\n{id: 5, projectId: 2, userId: 1, startTime: (date ISO), endTime: (date ISO)}\n</code></pre>\n\n<p>what I'm looking to achieve from mongo using aggregation, is a response object that will reflect grouping by a \"main\" category, inside it will be grouped by \"secondary\" category- and each entry will hold the sum of durations (endTime minus startTime, of each timer)</p>\n\n<p>so lets say my main group is project, and secondary is user, I also want to see names sorted alphabetically, and not id's. so the expected result should be:</p>\n\n<pre><code>[\n    { project A: [\n        { James: (*the sum of durations for all Jamses' timers on project 1*) },\n        { John: (*the sum of durations for all John's timers on project 1*) },\n                 ]\n     },\n    { project B: [\n        { John: (*the sum of durations for all Jane's timers on project 3*) },\n                 ]\n     },\n    { project X: [\n        { Jane: (*the sum of durations for all John's timers on project 2*) },\n                 ]\n     },\n]\n</code></pre>\n\n<p>I would love if someone can try and figure that out, on how to achieve this behavior with a single aggregation call. I've tried many combinations of pipeline operators, but cannot seem to get anywhere.</p>\n"}, {"tags": ["typescript", "azure", "async-await", "azure-functions"], "comments": [{"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 1, "creation_date": 1555498139, "post_id": 55722470, "comment_id": 98130389, "body": "You&#39;re mixing <code>then</code>/<code>catch</code> with <code>async</code>. If you use <code>async</code>, then use <code>await</code>; if you use <code>then</code>/<code>catch</code>, then don&#39;t use <code>async</code> and return the promise."}, {"owner": {"reputation": 362, "user_id": 5754692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/409ffad0dc330529d5d039791ea1d7e2?s=128&d=identicon&r=PG", "display_name": "nelak", "link": "https://stackoverflow.com/users/5754692/nelak"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1555534843, "post_id": 55722470, "comment_id": 98149935, "body": "In addition to @StephenCleary comments you can also wrap the <code>await</code> calls with <code>try</code>/<code>catch</code> to keep the same code flow"}, {"owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "reply_to_user": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1555555071, "post_id": 55722470, "comment_id": 98154259, "body": "@StephenCleary - I updated my code so that get jobs uses async and now I don&#39;t get that error. However could you kindly confirm is that empty return a valid thing to do in this scenario. Is that code example I posted actually &#39;good code&#39;."}, {"owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "edited": false, "score": 0, "creation_date": 1555585871, "post_id": 55722470, "comment_id": 98166297, "body": "@userMod2: Yes; the type returned from the method is <code>Promise&lt;void&gt;</code>. The <code>async</code> keyword creates the <code>Promise</code> for you, so your code just has to return the inner type (<code>void</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 372457, "user_id": 263693, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52827072e9a78ef98ee77a56abda920b?s=128&d=identicon&r=PG", "display_name": "Stephen Cleary", "link": "https://stackoverflow.com/users/263693/stephen-cleary"}, "is_accepted": true, "score": 1, "last_activity_date": 1555586318, "creation_date": 1555586318, "answer_id": 55744893, "question_id": 55722470, "link": "https://stackoverflow.com/questions/55722470/azure-functions-waiting-for-context-log/55744893#55744893", "title": "Azure Functions - waiting for context.log", "body": "<p>Your original code was mixing <code>then</code>/<code>catch</code> with <code>async</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function getJobs(context: Context): Promise&lt;void&gt; {\n  axios\n      .get(\"http://localhost:8111/batches\")\n      .then(function(response: any) {\n        processBatch(context, response);\n      })\n      .catch(function(error: any) {\n        context.log.error(`Some Error Log: `, error);\n      });\n}\n</code></pre>\n\n<p>The code above (<code>axios.get(..).then(..).catch(..)</code>) will create a <code>Promise</code>, but that promise is never returned; it's just ignored. Meanwhile, <em>another</em> promise is created by <code>async</code> that is completed after the first promise is <em>created</em> (not completed).</p>\n\n<p>You should use <code>async</code>/<code>await</code> throughout:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function getJobs(context: Context): Promise&lt;void&gt; {\n  try {\n    const response = await axios.get(\"http://localhost:8111/batches\");\n    processBatch(context, response);\n  } catch (error) {\n    context.log.error(`Some Error Log: `, error);\n  }  \n}\n</code></pre>\n\n<p>Also, you're missing an <code>await</code> here:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export async function onTrigger(context: Context, myTimer: any): Promise&lt;void&gt; {\n  getJobs(context);\n}\n</code></pre>\n\n<p>should be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export async function onTrigger(context: Context, myTimer: any): Promise&lt;void&gt; {\n  await getJobs(context);\n}\n</code></pre>\n"}], "owner": {"reputation": 5764, "user_id": 3033691, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0d3286fd40aade0e7bf90d4d0eda0f29?s=128&d=identicon&r=PG&f=1", "display_name": "userMod2", "link": "https://stackoverflow.com/users/3033691/usermod2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 55744893, "answer_count": 1, "score": 0, "last_activity_date": 1555586318, "creation_date": 1555487315, "last_edit_date": 1555555018, "question_id": 55722470, "link": "https://stackoverflow.com/questions/55722470/azure-functions-waiting-for-context-log", "title": "Azure Functions - waiting for context.log", "body": "<p>I'm seeing a lot of the following when I'm doing a <code>context.log</code> in my Azure Function - timed trigger:</p>\n\n<blockquote>\n  <p>Warning: Unexpected call to 'log' on the context object after function execution has completed. Please check for asynchronous calls that are not awaited or calls to 'done' made before function execution completes</p>\n</blockquote>\n\n<p>I think it is happening because the return gets called before that <code>context.log</code> has fully executed.</p>\n\n<p>But could someone kindly confirm/help explain. </p>\n\n<pre><code>export async function onTrigger(context: Context, myTimer: any): Promise&lt;void&gt; {\n    async getJobs(context);\n}\n\nasync function getJobs(context: Context): Promise&lt;void&gt; {\n    try {\n       const response = await axios.get(\"http://localhost:8111/batches\");\n       processBatch(context, response);\n    } catch (error) {\n       context.log.error(`Some Error Log`, error);\n    }\n}\n\nasync function processBatch(context: Context, response: any) {\n    //\u2026 Some stuff\n\n    if (stableStates.includes(someStatus)) {\n       context.log(\"Some Message\")\n       return;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "function"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1555486256, "post_id": 55722148, "comment_id": 98123557, "body": "Did you read the docs? The functions page has a section on this: <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/functions.html#overloads</a>"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1555486918, "post_id": 55722148, "comment_id": 98123946, "body": "You can either return <code>any</code> type or set <code>ChildConfig | Config</code> as a return type."}, {"owner": {"reputation": 234, "user_id": 6853276, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BEjlVC3nyFQ/AAAAAAAAAAI/AAAAAAAAALk/pvS2pAcFU2A/photo.jpg?sz=128", "display_name": "Benoit Chassignol", "link": "https://stackoverflow.com/users/6853276/benoit-chassignol"}, "edited": false, "score": 1, "creation_date": 1555487467, "post_id": 55722148, "comment_id": 98124192, "body": "The return type <code>any</code> is a false best friend, because you lose all the consistency of typescript."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1555492586, "post_id": 55722148, "comment_id": 98127072, "body": "Also the union type means you have to then use assertions or type guards to figure out which you got."}], "answers": [{"tags": [], "owner": {"reputation": 818, "user_id": 2967845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2d3c5d95b267020da5cdbd46a7261b?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh", "link": "https://stackoverflow.com/users/2967845/santosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1555490190, "last_edit_date": 1555490190, "creation_date": 1555486831, "answer_id": 55722339, "question_id": 55722148, "link": "https://stackoverflow.com/questions/55722148/function-decide-the-return-type-by-params/55722339#55722339", "title": "Function decide the return type by params", "body": "<p>Try something like this</p>\n\n<pre><code>function getConfig(name?: string): ChildConfig|Config {\n  if (name) return config[name];\n  return config;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "is_accepted": false, "score": 0, "last_activity_date": 1555487318, "creation_date": 1555487318, "answer_id": 55722471, "question_id": 55722148, "link": "https://stackoverflow.com/questions/55722148/function-decide-the-return-type-by-params/55722471#55722471", "title": "Function decide the return type by params", "body": "<p>To differentiate from other answers, giving another possible way, you can set the return type to <code>Config|ChildConfig</code>.</p>\n\n<pre><code>interface ChildConfig {\n  x: number;\n  y: number;\n}\ninterface Config {\n  [name: string]: ChildConfig;\n}\n\nconst config = {} as any;\n\nfunction getConfig(name?: string): Config|ChildConfig {\n  if (name) return config[name];\n  return config;\n};\n</code></pre>\n\n<p>The usage will require you to explicitely decide whether the return type is a <code>Config</code> or a <code>ChildConfig</code>, like this:</p>\n\n<pre><code>const childConfig = getConfig('myTest') as ChildConfig;\n</code></pre>\n\n<p>In this way <code>childConfig</code> will be of type <code>ChildConfig</code>.</p>\n\n<p>Otherwise, you can combine such mechanism with <strong>type guards</strong> (read more <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>function isChildConfig(arg: any): arg is ChildConfig {\n    return arg &amp;&amp; arg.x &amp;&amp; arg.y;\n}\n</code></pre>\n\n<p>Then use the type guard on the result to procede only if it's a child config:</p>\n\n<pre><code>const _config = getConfig('test');\nif (isChildConfig(_config)) {\n    _config. // &lt;-- intellisense here\n}\n</code></pre>\n\n<p>This will ensure that _config has <code>x</code> and <code>y</code> properties:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iEEo7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iEEo7.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgMIAtgBsAmqD2IMwA5sgN4BQyyAHgFzIgCuAtgEbQDc1yAnoxYdulAL6VQkWIhQEipCrwDaIOKwiMAzmCigSAXUYZseQsRI9xlBIW3Ib8sgF4Ko5HE3uQfHpRjMQBDBgQmQSCDA5cwAKVXUAfi0dPQBKIzNSAB9jXCiFKhpgGGRYtQgU5CgI5igQewySFTL9HhoqsBq6h3NLX39A4NDgTRzTR2i4KBJGOG809ynkYbRMXIbFGjbq2oWyADI93YA6WmQD458xSmtbMGQAfW6FF3DIhuiAckhtD5SeIpKw1GeRI0UeDRSFQKm3BjiOYiAA\" rel=\"nofollow noreferrer\">TS Playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1555492938, "post_id": 55723956, "comment_id": 98127262, "body": "You can set <code>ChildConfig | Config</code> as return type of implementation"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1555492999, "post_id": 55723956, "comment_id": 98127294, "body": "@AlekseyL. you could, but it doesn&#39;t matter; <i>&quot;the <code>function pickCard(x): any</code> piece is not part of the overload list, so it only has two overloads: one that takes an object and one that takes a number&quot;</i>. It&#39;s just another thing to keep in sync as the function changes, so it&#39;s easier to set it to <code>any</code>."}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1555493152, "post_id": 55723956, "comment_id": 98127382, "body": "I know, but it does matter for implementation itself (so you don&#39;t <code>return 1</code> for example or any random type)"}], "tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": true, "score": 1, "last_activity_date": 1555493249, "last_edit_date": 1555493249, "creation_date": 1555492331, "answer_id": 55723956, "question_id": 55722148, "link": "https://stackoverflow.com/questions/55722148/function-decide-the-return-type-by-params/55723956#55723956", "title": "Function decide the return type by params", "body": "<p>Per <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html#overloads\" rel=\"nofollow noreferrer\">the docs</a> you can use <em>function overloads</em> to actually make this type-safe:</p>\n\n<pre><code>function getConfig(): Config\nfunction getConfig(name: string): ChildConfig\nfunction getConfig(name?: string): Config | ChildConfig {\n  if (name) {\n    return config[name];\n  }\n  return config;\n};\n</code></pre>\n\n<p>Now the return type will be different depending on how you call it, and you won't need to use <code>as</code> assertions or type guards to figure out what got returned as you do when only using a union type like <code>Config | ChildConfig</code>.</p>\n"}], "owner": {"reputation": 83, "user_id": 8388035, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2J6-ina65wc/AAAAAAAAAAI/AAAAAAAAADA/pbjv0Kmeo-k/photo.jpg?sz=128", "display_name": "Senasiko", "link": "https://stackoverflow.com/users/8388035/senasiko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55723956, "answer_count": 3, "score": 0, "last_activity_date": 1555493249, "creation_date": 1555486074, "last_edit_date": 1555487230, "question_id": 55722148, "link": "https://stackoverflow.com/questions/55722148/function-decide-the-return-type-by-params", "title": "Function decide the return type by params", "body": "<p>I have two interfaces: </p>\n\n<pre><code>interface ChildConfig {\n  x: number;\n  y: number;\n}\ninterface Config {\n  [name: string]: ChildConfig;\n}\n</code></pre>\n\n<p>I want to have a function that has an optional param. When the param exists, I want the function to return <code>ChildConfig</code>, if not I want to return <code>Config</code>. </p>\n\n<pre><code>function getConfig(name?: string): ??? {\n  if (name) return config[name];\n  return config;\n};\n</code></pre>\n\n<p>What should I do?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1555486358, "post_id": 55722044, "comment_id": 98123618, "body": "@Rafael yes - the problem is that I do not know how to annotate the key argument to set state correctly. Trying someting like <code>type stringKey = &#39;a&#39; | &#39;b&#39;</code> produces the same error."}, {"owner": {"reputation": 2223, "user_id": 8433471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5050b487a92ece30c34c817359c22fee?s=128&d=identicon&r=PG&f=1", "display_name": "ManavM", "link": "https://stackoverflow.com/users/8433471/manavm"}, "edited": false, "score": 0, "creation_date": 1555488445, "post_id": 55722044, "comment_id": 98124762, "body": "I ended up hacking it with <code>const obj: any = { [key]: value };this.setState(obj);</code>."}, {"owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1555488564, "post_id": 55722044, "comment_id": 98124823, "body": "Why do you need to write your own <code>set</code> method? TypeScript will already type-check <code>this.setState</code> against the shape of <code>state</code> you&#39;ve provided to your component. This seems like an over-complication."}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "reply_to_user": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1555488638, "post_id": 55722044, "comment_id": 98124863, "body": "@ethane this is a simple example for my use case - I&#39;m writing my own <code>setStringProperty</code> to pass it as a prop."}, {"owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1555489594, "post_id": 55722044, "comment_id": 98125390, "body": "I don&#39;t know about passing functions that explicity <code>setState</code> down as a prop. Firstly, it&#39;s convoluted and not straightforward to reason about. Which <code>this</code> is used in the child component?"}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "reply_to_user": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1555489740, "post_id": 55722044, "comment_id": 98125474, "body": "@ethane I thought it was a pretty common practice...Any way I think this is out of scope for this question?"}, {"owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "edited": false, "score": 0, "creation_date": 1555489854, "post_id": 55722044, "comment_id": 98125564, "body": "Maybe it is, but &#39;unseen&#39; gotchas like these may likely block you from receiving proper answers."}, {"owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "edited": false, "score": 0, "creation_date": 1555489918, "post_id": 55722044, "comment_id": 98125604, "body": "Ok, then how would you set state from a nested component? Also maybe the question was not really clear - I want to avoid writing four <code>setState</code> functions for four different keys, and have a method for keys of the same type that takes the key name and the value instead."}], "owner": {"reputation": 8393, "user_id": 4341439, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/NBPKq.jpg?s=128&g=1", "display_name": "Miha \u0160u\u0161ter\u0161i\u010d", "link": "https://stackoverflow.com/users/4341439/miha-%c5%a0u%c5%a1ter%c5%a1i%c4%8d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1711, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1555485742, "creation_date": 1555485742, "question_id": 55722044, "link": "https://stackoverflow.com/questions/55722044/react-typescript-how-to-set-state-properties-with-different-types", "title": "react, typescript - how to set state properties with different types", "body": "<p>How do I set state using type annotations when my state properties have different types? For example here I would want to write two methods - one to set strings and one to set numbers:</p>\n\n<pre><code>import React, {Component} from 'react'\n\ninterface State {\n  a: string\n  b: string\n  c: number\n  d: number\n}\n\nclass TestComponent extends Component&lt;any, State&gt; {\n  state:State = {\n    a: 'test',\n    b: 'test',\n    c: 1,\n    d: 1\n  }\n\n  setStringProperty = (key:keyof State, value:string) =&gt; {\n    this.setState({\n      [key]:value\n    })\n  }\n\n\n  render () {\n    return &lt;div&gt;test&lt;/div&gt;\n  }\n}\n\nexport default TestComponent\n</code></pre>\n\n<p>But I am getting the following error:</p>\n\n<blockquote>\n  <p>Error:(19, 19) TS2345: Argument of type '{ [x: string]: string; }' is\n  not assignable to parameter of type 'State | ((prevState:\n  Readonly, props: Readonly) => State | Pick | null) | Pick | null'.\n  Type '{ [x: string]: string; }' is missing the following properties\n  from type 'Pick': a, b, c, d</p>\n</blockquote>\n\n<p>While this makes sense I do not see how I could write a general method for setting different state properties (either of the same type or different types)?</p>\n"}, {"tags": ["javascript", "typescript", "object"], "comments": [{"owner": {"reputation": 5031, "user_id": 7177029, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/F4BB8.jpg?s=128&g=1", "display_name": "Kunal Mukherjee", "link": "https://stackoverflow.com/users/7177029/kunal-mukherjee"}, "edited": false, "score": 0, "creation_date": 1555485830, "post_id": 55722021, "comment_id": 98123343, "body": "<code>this.property.landlord.name || &quot;N&#47;A&quot;</code> try doing this"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1555485930, "post_id": 55722021, "comment_id": 98123383, "body": "<code>this.property.landlord</code> is undefined. You should check for landlord existing using <b>fallbacks</b>. <code>(this.property &amp;&amp; this.property.landlord &amp;&amp; this.property.landlord.name) ? this.property.landlord.name : &#39;N&#47;A&#39;</code>"}, {"owner": {"reputation": 1232, "user_id": 4392611, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d51acfa03e160656d97a3ccd9469a95f?s=128&d=identicon&r=PG&f=1", "display_name": "Zydnar", "link": "https://stackoverflow.com/users/4392611/zydnar"}, "edited": false, "score": 0, "creation_date": 1555485974, "post_id": 55722021, "comment_id": 98123410, "body": "Or use .map and do the same for all undefined values."}, {"owner": {"reputation": 5031, "user_id": 7177029, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/F4BB8.jpg?s=128&g=1", "display_name": "Kunal Mukherjee", "link": "https://stackoverflow.com/users/7177029/kunal-mukherjee"}, "edited": false, "score": 0, "creation_date": 1555486299, "post_id": 55722021, "comment_id": 98123578, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2631001/test-for-existence-of-nested-javascript-object-key\">Test for existence of nested JavaScript object key</a>"}], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 10822481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77172eb9b23fdc0b8d2deef3b67fbd5?s=128&d=identicon&r=PG&f=1", "display_name": "Zarna Borda", "link": "https://stackoverflow.com/users/10822481/zarna-borda"}, "is_accepted": false, "score": 1, "last_activity_date": 1555485875, "creation_date": 1555485875, "answer_id": 55722073, "question_id": 55722021, "link": "https://stackoverflow.com/questions/55722021/show-nothing-if-null-js/55722073#55722073", "title": "Show nothing if null (JS)", "body": "<p>Use ternary condition while assigning value. Like this</p>\n\n<pre><code>{ displayName: this.l('PropertyTitle'), value: (this.property.propertyTitle.name) ? this.property.propertyTitle.name: null},\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 2, "last_activity_date": 1555485911, "creation_date": 1555485911, "answer_id": 55722084, "question_id": 55722021, "link": "https://stackoverflow.com/questions/55722021/show-nothing-if-null-js/55722084#55722084", "title": "Show nothing if null (JS)", "body": "<p>Use a ternary operator:</p>\n\n<pre><code>value: (this.property.landlord ? this.property.landlord.name : \"defaultValue\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 11351773, "user_type": "registered", "profile_image": "https://graph.facebook.com/2382987761720681/picture?type=large", "display_name": "Pavan Mahadik", "link": "https://stackoverflow.com/users/11351773/pavan-mahadik"}, "is_accepted": false, "score": 2, "last_activity_date": 1555486062, "creation_date": 1555486062, "answer_id": 55722140, "question_id": 55722021, "link": "https://stackoverflow.com/questions/55722021/show-nothing-if-null-js/55722140#55722140", "title": "Show nothing if null (JS)", "body": "<p>The problem is the property landlord is <code>null(undefined)</code>.\nYou can directly handle the <code>null</code> check using ternary operators.</p>\n\n<p><code>value: (this.property.landlord) ? this.property.landlord.name : null</code></p>\n"}, {"comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "reply_to_user": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "edited": false, "score": 0, "creation_date": 1555486568, "post_id": 55722177, "comment_id": 98123752, "body": "@EugeneSukh from your post, I may guess that you&#39;re using <code>angular</code>. If so, if the variable is directly printed in the html template, you can use the <b>elvis operator</b> to avoid the above checks, but it will work <b>only in angular templates</b>: <code>property?.landlord?.name</code>. If so, you may take a look at this: <a href=\"https://stackoverflow.com/questions/35161789/correct-use-of-elvis-operator-in-angular2-for-dart-components-view/35162228\" title=\"correct use of elvis operator in angular2 for dart components view\">stackoverflow.com/questions/35161789/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "is_accepted": true, "score": 3, "last_activity_date": 1555486208, "creation_date": 1555486208, "answer_id": 55722177, "question_id": 55722021, "link": "https://stackoverflow.com/questions/55722021/show-nothing-if-null-js/55722177#55722177", "title": "Show nothing if null (JS)", "body": "<blockquote>\n  <p>So when it null, I have error</p>\n  \n  <p>Cannot read property 'name' of undefined</p>\n</blockquote>\n\n<p>No, it's not <code>null</code>, it's <code>undefined</code>, which is different.</p>\n\n<p>The error is thrown because <code>this.property.landlord</code> is <code>undefined</code>. In javascript, trying to access a property (in this case <code>name</code>) of <code>undefined</code> throws a <strong>TypeError</strong>, by design.</p>\n\n<p>To solve the issue (which is not an issue, but rather a case), you should use <strong>fallbacks</strong> to check whether ancestors of the property exists. In this case, I would handle that in this way:</p>\n\n<pre><code>{ displayName: this.l('Landlord'), value: (this.property &amp;&amp; this.property.landlord &amp;&amp; this.property.landlord.name) ? this.property.landlord.name : 'N/A'},\n</code></pre>\n\n<p>That piece of code specifically:</p>\n\n<pre><code>this.property &amp;&amp; this.property.landlord &amp;&amp; this.property.landlord.name\n</code></pre>\n\n<p>will assert that every ancestor of <code>name</code> exists. If any of these doesn't, it will return 'N/A' without throwing any exception.</p>\n"}], "owner": {"reputation": 1515, "user_id": 10021083, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-F4opwx4U8H8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq13JczyNUx5Nh4JYB6LEEig1b94fg/mo/photo.jpg?sz=128", "display_name": "Eugene Sukh", "link": "https://stackoverflow.com/users/10021083/eugene-sukh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 55722177, "answer_count": 4, "score": 0, "last_activity_date": 1555486208, "creation_date": 1555485684, "last_edit_date": 1555485921, "question_id": 55722021, "link": "https://stackoverflow.com/questions/55722021/show-nothing-if-null-js", "title": "Show nothing if null (JS)", "body": "<p>I have component, where I show data, got from back end.</p>\n\n<p>Here is function for showing data</p>\n\n<pre><code> getData() {\n    this.propertyService.getPropertyForEdit(Number(this.activatedRoute.snapshot.params['id'])).subscribe(r =&gt; {\n        this.property = r;\n        this.tabTemplates = [\n            { title: this.l('Addresses'), template: this.addressesTemplateRef },\n            { title: this.l('Site'), template: this.siteTemplateRef}\n        ];\n        this.propertiesToDisplay = [\n            { displayName: this.l('PropertyTitle'), value: this.property.propertyTitle.name},\n            { displayName: this.l('Landlord'), value: this.property.landlord.name},\n            { displayName: this.l('Agent'), value: this.property.agent.name },\n            { displayName: this.l('BuildingType'), value: this.property.buildingType.name }\n        ];\n    });\n}\n</code></pre>\n\n<p>In this row <code>value: this.property.landlord.name}</code> value can be null.</p>\n\n<p>So when it null, I have error</p>\n\n<blockquote>\n  <p>Cannot read property 'name' of undefined</p>\n</blockquote>\n\n<p>How I can fix this?</p>\n"}, {"tags": ["angular", "typescript", "protractor", "cucumber"], "answers": [{"comments": [{"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555494451, "post_id": 55723291, "comment_id": 98128187, "body": "<code>Cannot find name &#39;AppPage&#39;, Cannot find name &#39;Given&#39;.</code> and same for others."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555496578, "post_id": 55723291, "comment_id": 98129440, "body": "You will still need the appPage import as you have created that page yourself, not sure about the issue with <code>Given</code>. Could you try changing to the require syntax <code>let AppPage = require(&#39;..&#47;pages&#47;app.po&#39;);</code> first and then seeing how it behaves"}, {"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 1, "creation_date": 1555497346, "post_id": 55723291, "comment_id": 98129910, "body": "<code>const AppPage = require(&#39;..&#47;pages&#47;app.po&#39;); const Before = require(&#39;cucumber&#39;);</code> this gets away the error and I am yet to test it, but any idea why the other one isn&#39;t working?"}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555497588, "post_id": 55723291, "comment_id": 98130064, "body": "I take it you are using javascript and not typescript?"}, {"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555497943, "post_id": 55723291, "comment_id": 98130284, "body": "Its an angualar 7 project, so no way Javascript."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555499534, "post_id": 55723291, "comment_id": 98131128, "body": "You could have your test files in javascript despite your project being in ts. The reason I ask is because that syntax of imports is not natively supported in NodeJS. If you are using typsescript though your code should be getting transpiled down into javascript so that the <code>import from</code> syntax is usable. I&#39;m not sure if this is the case for straight JS files. Note: I could be mistaken about some of this but that is my understanding"}, {"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555504404, "post_id": 55723291, "comment_id": 98134065, "body": "Getting <code>[18:00:53] E&#47;launcher - Error: Error: Cannot find module &#39;..&#47;pages&#47;app.po&#39;</code> with this syntax."}, {"owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "reply_to_user": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1555505645, "post_id": 55723291, "comment_id": 98134891, "body": "Can you verify if that path is correct to your file?"}, {"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 1, "creation_date": 1555507213, "post_id": 55723291, "comment_id": 98135955, "body": "Yeah, I got away with the error <code>cucumberOpts: {     compiler: &#39;ts:ts-node&#47;register&#39;   &#47;&#47; interpret step definitions as TypeScript   },</code>."}, {"owner": {"reputation": 1092, "user_id": 5878294, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-_9Bl16MYpGs/AAAAAAAAAAI/AAAAAAAAAKs/4q2Ip658H8w/photo.jpg?sz=128", "display_name": "Sanja Paskova", "link": "https://stackoverflow.com/users/5878294/sanja-paskova"}, "edited": false, "score": 0, "creation_date": 1565871853, "post_id": 55723291, "comment_id": 101486839, "body": "I&#39;m having the same issue, changing imports with require worked but after that I had same issue with static readonly constants."}, {"owner": {"reputation": 1092, "user_id": 5878294, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-_9Bl16MYpGs/AAAAAAAAAAI/AAAAAAAAAKs/4q2Ip658H8w/photo.jpg?sz=128", "display_name": "Sanja Paskova", "link": "https://stackoverflow.com/users/5878294/sanja-paskova"}, "reply_to_user": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "edited": false, "score": 0, "creation_date": 1565872898, "post_id": 55723291, "comment_id": 101487282, "body": "@apun Did you find the solution?"}, {"owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "reply_to_user": {"reputation": 1092, "user_id": 5878294, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-_9Bl16MYpGs/AAAAAAAAAAI/AAAAAAAAAKs/4q2Ip658H8w/photo.jpg?sz=128", "display_name": "Sanja Paskova", "link": "https://stackoverflow.com/users/5878294/sanja-paskova"}, "edited": false, "score": 0, "creation_date": 1566294357, "post_id": 55723291, "comment_id": 101602276, "body": "@SanjaPaskova, No. I had dropped using it. I shifted to cypress instead of protractor now."}], "tags": [], "owner": {"reputation": 2328, "user_id": 10836734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3j5WvTOFO4/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbVJXbPYQ_-2AgenxGZd86uyud-Nw/mo/photo.jpg?sz=128", "display_name": "DublinDev", "link": "https://stackoverflow.com/users/10836734/dublindev"}, "is_accepted": false, "score": 0, "last_activity_date": 1555490162, "creation_date": 1555490162, "answer_id": 55723291, "question_id": 55721985, "link": "https://stackoverflow.com/questions/55721985/syntaxerror-unexpected-token-error-while-running-protractor-cucumber-test/55723291#55723291", "title": "SyntaxError: Unexpected token { - Error while running protractor cucumber test", "body": "<p>Try removing </p>\n\n<p><strong>steps definition</strong></p>\n\n<pre><code>import { Before, Given, When, Then } from 'cucumber';\nimport { expect } from 'chai';\n</code></pre>\n\n<p>and \n<strong>page objects</strong></p>\n\n<pre><code>import { browser, by, element } from 'protractor';\n</code></pre>\n\n<p>These imports should be completed by protractor automatically when it initializes.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 1933690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b86b4c5907d44f6fe9f0d8a6c444eac2?s=128&d=identicon&r=PG", "display_name": "sanky", "link": "https://stackoverflow.com/users/1933690/sanky"}, "edited": false, "score": 1, "creation_date": 1571579874, "post_id": 57944980, "comment_id": 103280590, "body": "this is the actual solution over all the above mentioned comments."}], "tags": [], "owner": {"reputation": 161, "user_id": 861103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89e1a48b7de478cfde7ae2f79cff3f2?s=128&d=identicon&r=PG", "display_name": "Alexander", "link": "https://stackoverflow.com/users/861103/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1568557244, "creation_date": 1568557244, "answer_id": 57944980, "question_id": 55721985, "link": "https://stackoverflow.com/questions/55721985/syntaxerror-unexpected-token-error-while-running-protractor-cucumber-test/57944980#57944980", "title": "SyntaxError: Unexpected token { - Error while running protractor cucumber test", "body": "<p>Add following section to your <code>protractor.conf.js</code></p>\n\n<pre><code>onPrepare() {\n  require('ts-node').register({\n    project: require('path').join(__dirname, './tsconfig.json')\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 8763977, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e2f1065eeb72d101612152a25d36604f?s=128&d=identicon&r=PG&f=1", "display_name": "infinite", "link": "https://stackoverflow.com/users/8763977/infinite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1297, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568557244, "creation_date": 1555485558, "last_edit_date": 1555486639, "question_id": 55721985, "link": "https://stackoverflow.com/questions/55721985/syntaxerror-unexpected-token-error-while-running-protractor-cucumber-test", "title": "SyntaxError: Unexpected token { - Error while running protractor cucumber test", "body": "<p>I am just trying to start with Protractor- Cucumber test setup and following is my basic setup that I did following some tutorials online. Thanks to the Samaritan who shared that.</p>\n\n<p>The problem is that when I try to run it, I get the error - unexpected token for the imports. I have no clue as why its giving that. Any help is much appreciated.</p>\n\n<p>Following are the versions of node etc I am using -</p>\n\n<pre><code>C:\\Users\\A&gt;npm --version\n6.4.1\n\nC:\\Users\\A&gt;node --version\nv10.15.1\n\nC:\\Users\\A&gt;protractor --version\nVersion 5.4.2\n</code></pre>\n\n<p>Following is my feature file -</p>\n\n<pre><code>Feature: Go to the home\n  Display the title\n\n  Scenario: Home Page\n    Given I am on the home page\n    When I do nothing\n    Then I should see the title\n</code></pre>\n\n<p>Following is my steps definition file -</p>\n\n<pre><code>import { AppPage } from '../pages/app.po';\nimport { Before, Given, When, Then } from 'cucumber';\nimport { expect } from 'chai';\n\nlet page: AppPage;\n\nBefore(() =&gt; {\n  page = new AppPage();\n});\n\nGiven(/^I am on the home page$/, async () =&gt; {\n  await page.navigateTo();\n});\n\nWhen(/^I do nothing$/, () =&gt; {});\n\nThen(/^I should see the title$/, async () =&gt; {\n  expect(await page.getTitleText()).to.equal('Welcome to angular-cli-cucumber-demo!');\n});\n</code></pre>\n\n<p>Following is my page objects file -</p>\n\n<pre><code>import { browser, by, element } from 'protractor';\n\nexport class AppPage {\n  navigateTo() {\n    return browser.get('/');\n  }\n\n  getTitleText() {\n    return element(by.css('app-root h1')).getText();\n  }\n}\n</code></pre>\n\n<p>I am getting below error when I try running tests using command <code>ng e2e</code> -</p>\n\n<pre><code>DevTools listening on ws://127.0.0.1:56273/devtools/browser/7653bd59-c490-4ac0-a00e-0d3132dc5b11\n[0417/123615.432:ERROR:broker_win.cc(137)] Error sending sync broker message: Error (0x5) while retrieving error. (0xE8)\n[0417/123615.433:ERROR:command_buffer_proxy_impl.cc(92)] ContextResult::kFatalFailure: AllocateAndMapSharedMemory failed\n[12:36:17] E/launcher - Error: C:\\Users\\A527629\\Documents\\workspace-vs-code\\poc-serenity\\e2e\\src\\steps\\app.steps.ts:1\n(function (exports, require, module, __filename, __dirname) { import { AppPage } from '../pages/app.po';\n                                                                     ^\n\nSyntaxError: Unexpected token {\n    at new Script (vm.js:79:7)\n    at createScript (vm.js:251:10)\n    at Object.runInThisContext (vm.js:303:10)\n    at Module._compile (internal/modules/cjs/loader.js:657:28)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:700:10)\n    at Module.load (internal/modules/cjs/loader.js:599:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:538:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:530:3)\n    at Module.require (internal/modules/cjs/loader.js:637:17)\n    at require (internal/modules/cjs/helpers.js:22:18)\n    at supportCodePaths.forEach.codePath (C:\\Users\\A527629\\Documents\\workspace-vs-code\\poc-serenity\\node_modules\\cucumber\\lib\\cli\\index.js:142:42)\n    at Array.forEach (&lt;anonymous&gt;)\n    at Cli.getSupportCodeLibrary (C:\\Users\\A527629\\Documents\\workspace-vs-code\\poc-serenity\\node_modules\\cucumber\\lib\\cli\\index.js:142:22)\n    at C:\\Users\\A527629\\Documents\\workspace-vs-code\\poc-serenity\\node_modules\\cucumber\\lib\\cli\\index.js:169:41\n    at Generator.next (&lt;anonymous&gt;)\n    at asyncGeneratorStep (C:\\Users\\A527629\\Documents\\workspace-vs-code\\poc-serenity\\node_modules\\cucumber\\lib\\cli\\index.js:44:103)\n[12:36:17] E/launcher - Process exited with error code 100\nAn unexpected error occurred: undefined\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555489194, "post_id": 55722877, "comment_id": 98125167, "body": "But if I remove the checked property,how will I toggle the button based on db value?"}, {"owner": {"reputation": 168, "user_id": 8866564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384b15d3dc9ed99b4d5ec3a9a84ea42d?s=128&d=identicon&r=PG&f=1", "display_name": "Michal S", "link": "https://stackoverflow.com/users/8866564/michal-s"}, "reply_to_user": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555489492, "post_id": 55722877, "comment_id": 98125327, "body": "The <code>formControlName</code> property is two ways binding, that means that when you change the form control value in your ts file the value will be updated in the UI part. So when you set the values from the DB into your form controls the elements will be toggled like the values."}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555489665, "post_id": 55722877, "comment_id": 98125422, "body": "It is not changing.I made the changes suggested by you but whenever I refresh the page,the toggle returns to it&#39;s default value. Am I missing something.Can you give me a stackblitz demo?"}, {"owner": {"reputation": 168, "user_id": 8866564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384b15d3dc9ed99b4d5ec3a9a84ea42d?s=128&d=identicon&r=PG&f=1", "display_name": "Michal S", "link": "https://stackoverflow.com/users/8866564/michal-s"}, "reply_to_user": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555489771, "post_id": 55722877, "comment_id": 98125499, "body": "Can you debbug it and loook what happend when the values are returned from the server? the controls has the right values?"}, {"owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555490020, "post_id": 55722877, "comment_id": 98125662, "body": "the correct values are being persisted from the server.However the toggle is not as per those values.Do I need to do some changes in the onChange() method?"}, {"owner": {"reputation": 168, "user_id": 8866564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384b15d3dc9ed99b4d5ec3a9a84ea42d?s=128&d=identicon&r=PG&f=1", "display_name": "Michal S", "link": "https://stackoverflow.com/users/8866564/michal-s"}, "reply_to_user": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "edited": false, "score": 0, "creation_date": 1555501338, "post_id": 55722877, "comment_id": 98132214, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191975/discussion-between-m-s-and-rock11\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 168, "user_id": 8866564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/384b15d3dc9ed99b4d5ec3a9a84ea42d?s=128&d=identicon&r=PG&f=1", "display_name": "Michal S", "link": "https://stackoverflow.com/users/8866564/michal-s"}, "is_accepted": true, "score": 0, "last_activity_date": 1555489113, "last_edit_date": 1555489113, "creation_date": 1555488749, "answer_id": 55722877, "question_id": 55721904, "link": "https://stackoverflow.com/questions/55721904/call-different-onchange-method-for-slide-toggle/55722877#55722877", "title": "Call different onChange method for slide toggle", "body": "<p>You have double binding to your <code>mat-slide-toggle</code> elements so Angular gets confused and it doesn't know which value to put there.</p>\n\n<pre><code>&lt;mat-action-list&gt;\n   &lt;mat-list-item &gt; \n      &lt;mat-slide-toggle (change)=\"onChange($event)\"  \n      [checked]=\"policy1\" &lt;----------------------------------first binding\n      formControlName=\"Policy1\"&gt;&lt;----------------------------second binding\n      Policy1&lt;/mat-slide-toggle&gt;\n   &lt;/mat-list-item&gt; \n   &lt;mat-list-item &gt; \n      &lt;mat-slide-toggle (change)=\"onChange1($event)\" \n      [checked]=\"policy2\" &lt;----------------------------------first binding\n      formControlName=\"Policy2\"&gt;&lt;----------------------------second binding\n      Policy2&lt;/mat-slide-toggle&gt;\n   &lt;/mat-list-item&gt;\n&lt;/mat-action-list&gt;\n</code></pre>\n\n<p>In my experience, it causes this trouble.\nThe right way of using reactive forms in Angular is using two ways binding by the property <code>formControlName=\"...\"</code>, then when you build the form you should do:</p>\n\n<pre><code>ngOnInit() {\n    this.formGroup = this.formBuilder.group({\n        Policy1: new FormControl(false, []),\n        Policy2: new FormControl(false, [])\n    });\n    this.policyService.getPolicy().subscribe((response) =&gt; {\n        this.serverData = response[0];\n        this.formGroup.controls.Policy1.setValue(this.serverData.policy1==\"F\");\n        this.formGroup.controls.Policy2.setValue(this.serverData.policy2==\"F\");\n    });\n}\n</code></pre>\n\n<p>and the HTML:</p>\n\n<pre><code>&lt;mat-action-list&gt;\n   &lt;mat-list-item &gt; \n      &lt;mat-slide-toggle (change)=\"onChange($event)\"  \n      formControlName=\"Policy1\"&gt;&lt;----------------------------Only!!\n      Policy1&lt;/mat-slide-toggle&gt;\n   &lt;/mat-list-item&gt; \n   &lt;mat-list-item &gt; \n      &lt;mat-slide-toggle (change)=\"onChange1($event)\" \n      formControlName=\"Policy2\"&gt;&lt;----------------------------Only!!\n      Policy2&lt;/mat-slide-toggle&gt;\n   &lt;/mat-list-item&gt;\n&lt;/mat-action-list&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 9414774, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WHsZpDjQCIs/AAAAAAAAAAI/AAAAAAAAAD8/JKrfYU9AdEg/photo.jpg?sz=128", "display_name": "chrizel", "link": "https://stackoverflow.com/users/9414774/chrizel"}, "is_accepted": false, "score": 0, "last_activity_date": 1573015935, "last_edit_date": 1573015935, "creation_date": 1555496941, "answer_id": 55725493, "question_id": 55721904, "link": "https://stackoverflow.com/questions/55721904/call-different-onchange-method-for-slide-toggle/55725493#55725493", "title": "Call different onChange method for slide toggle", "body": "<p>Here is the answer for your question</p>\n\n<pre><code>  &lt;mat-card class=\"result\"&gt;\n  &lt;mat-card-content&gt;\n    &lt;h2 class=\"example-h2\"&gt;Result&lt;/h2&gt;\n\n    &lt;section class=\"example-section\"&gt;\n      &lt;mat-slide-toggle\n          [(ngModel)]=\"checked1\"\n          class=\"example-margin\"\n          [color]=\"color\"\n          (change)=\"changed()\"&gt;\n        Slide me! {{checked}}\n      &lt;/mat-slide-toggle&gt;\n\n    &lt;/section&gt;\n     &lt;mat-slide-toggle\n          [(ngModel)]=\"checked2\"\n          class=\"example-margin\"\n          [color]=\"color\"\n          (change)=\"changed2()\"&gt;\n        Slide me! {{checked}}\n      &lt;/mat-slide-toggle&gt;\n  &lt;/mat-card-content&gt;\n&lt;/mat-card&gt;\n</code></pre>\n\n<p>Here is the ts code</p>\n\n<pre><code>  export class SlideToggleConfigurableExample {\n  color = 'accent';\n  checked1 : boolean=true;\n  checked2:boolean=false;\n  disable:any;\n\n  changed(){\n  //  this.checked1 = !this.checked2;\n    this.checked1=true;\n  }\n  changed2(){\n    // this.checked1 = !this.checked2;\n    this.checked2=false;\n  }\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-czuhgz\" rel=\"nofollow noreferrer\">Stackblitz Demo</a></p>\n"}], "owner": {"reputation": 438, "user_id": 11339716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78179a4724e629a2b630795d5c6498ea?s=128&d=identicon&r=PG&f=1", "display_name": "rock11", "link": "https://stackoverflow.com/users/11339716/rock11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1674, "favorite_count": 0, "accepted_answer_id": 55722877, "answer_count": 2, "score": 0, "last_activity_date": 1573015935, "creation_date": 1555485258, "last_edit_date": 1555489307, "question_id": 55721904, "link": "https://stackoverflow.com/questions/55721904/call-different-onchange-method-for-slide-toggle", "title": "Call different onChange method for slide toggle", "body": "<p>I am creating a simple toggle app that that has two toggles.I'm saving the toggle state in a db. My issue is that when  I toggle one slide-toggle,  the value of other slide toggle also changes.I have seperate onChnage() methods for both toggles but still I get the same issue.Please help.Thanks in advance:</p>\n\n<p>Here is my ts code:</p>\n\n<pre><code>export class PolicyComponent implements OnInit {\n\n  @Output() change: EventEmitter&lt;MatSlideToggleChange&gt;;\n  formGroup: FormGroup;\n  policy1: boolean=false;\n  policy2: boolean=false;\n\n  disable:boolean=true;\nserverData:any\n  constructor(\n    private formBuilder: FormBuilder,private policyService:PolicyService\n  ) { }\n\n  ngOnInit() {\n //   this.filteringSchedule = JSON.parse(sessionStorage.getItem('toggleButtonState'));\n\n this.policyService.getPolicy().subscribe(\n  (response)=&gt;{\n    console.log(response);   \n\n    this.serverData = response[0]; \n    console.log(this.serverData)\n    if(this.serverData.policy1==\"F\")\n    {\n      this.policy1=false;\n    }\n    else this.policy1=true;\n\n    if(this.serverData.policy2==\"F\")\n    {\n      this.policy2=false;\n    }\n    else this.policy2=true;\n\n\n\n }\n\n )\n\n    this.formGroup = this.formBuilder.group({\n      Policy1:new FormControl( this.policy1,[]),\n      Policy2: new FormControl( this.policy2,[])\n\n    });\n\n   // this.policyService.getUserById(+ localStorage.getItem(\"policyId\")).subscribe();\n}\n\n  onFormSubmit() {\n    console.log(\"Policy1::\"+this.formGroup.controls.Policy1.value);\n    if(this.formGroup.controls.Policy1.value)\n    {\n      this.serverData.policy1=\"T\";\n    }\n    else{\n      this.serverData.policy1=\"F\";\n    }\n\n    if(this.formGroup.controls.Policy2.value)\n    {\n      this.serverData.policy2=\"T\";\n    }\n    else{\n      this.serverData.policy2=\"F\";\n    }\n    //this.policyService.updatePolicy(this.policy.id,{policy1:this.policy.policy1}).subscribe(err=&gt;{console.log(err)});\n    this.policyService.updateUser(this.serverData).subscribe(err=&gt;{console.log(err)});\n //   alert(JSON.stringify(formValue, null, 2));\n this.disable=true;\n\n  }\n\n  onChange(ob: MatSlideToggleChange) {\n    this.policy1 = !this.policy1;\n    this.disable=false;\n  }\n\n  onChange1(ob: MatSlideToggleChange) {\n    this.policy2 = !this.policy2;\n    this.disable=false;\n  }\n}\n</code></pre>\n\n<p>Below is my template:</p>\n\n<pre><code>&lt;form class=\"example-form\" [formGroup]=\"formGroup\" (ngSubmit)=\"onFormSubmit()\" ngNativeValidate&gt;\n  &lt;mat-action-list&gt;\n    &lt;mat-list-item &gt; &lt;mat-slide-toggle       \n      (change)=\"onChange($event)\"  [checked]=\"policy1\"  formControlName=\"Policy1\" &gt;Policy1&lt;/mat-slide-toggle&gt;&lt;/mat-list-item&gt; \n    &lt;mat-list-item &gt; &lt;mat-slide-toggle  (change)=\"onChange1($event)\" [checked]=\"policy2\" formControlName=\"Policy2\"&gt;Policy2&lt;/mat-slide-toggle&gt;&lt;/mat-list-item&gt;\n\n  &lt;/mat-action-list&gt;\n  &lt;p&gt;Form Group Status: {{ formGroup.status}}&lt;/p&gt;\n\n  &lt;button mat-rasied-button [disabled]=\"disable\" type=\"submit\"&gt;Save Settings&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1555485110, "post_id": 55721818, "comment_id": 98122982, "body": "In a word... no; it is not possible."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1555485174, "post_id": 55721818, "comment_id": 98123009, "body": "Pass it in as parameter: <code>let user_name1 = GetUserName(&quot;user_name1&quot;);</code> But I&#39;m wondering why you need this. I don&#39;t see why that would be necessary just to synchronize data (or to do anything else)."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1555485714, "post_id": 55721818, "comment_id": 98123286, "body": "The problem here is that you&#39;re asking &quot;how do I use X to do Y?&quot; but X is probably already the wrong tool to use."}], "answers": [{"tags": [], "owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "is_accepted": true, "score": 4, "last_activity_date": 1555485221, "creation_date": 1555485221, "answer_id": 55721891, "question_id": 55721818, "link": "https://stackoverflow.com/questions/55721818/is-it-possible-to-get-result-variable-name-inside-function/55721891#55721891", "title": "Is it possible to get result variable name inside function?", "body": "<p>No. Just no. Variable names should have no intrinsic meaning. They're just placeholders in an algorithm, and sometimes you can't even control their names to the extend you need. Also, the variable doesn't really exist yet at the time you call the function. And even if it did, there's no sane way to figure out what variable the result of the function will be assigned to from within said function.</p>\n\n<p>Also:</p>\n\n<pre><code>let users = [GetUserName(), GetUserName()];\n</code></pre>\n\n<p>Now what?</p>\n\n<p><strong>Pass the name explicitly into the function, period.</strong></p>\n\n<pre><code>GetUserName('user_name1')\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 4481855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z1q2vlzuJtk/AAAAAAAAAAI/AAAAAAAAAFU/VlAxU6jBJ-M/photo.jpg?sz=128", "display_name": "hdnn", "link": "https://stackoverflow.com/users/4481855/hdnn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55721891, "answer_count": 1, "score": -1, "last_activity_date": 1555485221, "creation_date": 1555484953, "question_id": 55721818, "link": "https://stackoverflow.com/questions/55721818/is-it-possible-to-get-result-variable-name-inside-function", "title": "Is it possible to get result variable name inside function?", "body": "<p>I want to get variable name(<code>user_name1</code> or <code>user_name2</code> from sample) which is get result of a function(<code>GetUserName()</code>) inside this function(<code>GetUserName()</code>). I need this name for create object with the same name on server side(data synchronization).</p>\n\n<pre><code>function GetUserName(){\n  let result_variable_name = ????; //in (1) result_variable_name == 'user_name1', in (2) result_variable_name == 'user_name2'\n  socket.send(\"object_name\", result_variable_name);\n  return \"Some user name\";\n}\nlet user_name1 = GetUserName(); //(1)\nlet user_name2 = GetUserName(); //(2)\n</code></pre>\n\n<p>Is it possible? How?</p>\n"}, {"tags": ["typescript", "nativescript"], "comments": [{"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1555497548, "post_id": 55721807, "comment_id": 98130044, "body": "your code looks right? is that code within the page you want to disable the back button on?"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 1, "creation_date": 1555515004, "post_id": 55721807, "comment_id": 98141116, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55297104/nativescript-angular-handle-android-back-button-on-different-pages\">Nativescript angular : handle android back button on different pages</a>"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 1, "creation_date": 1555515158, "post_id": 55721807, "comment_id": 98141194, "body": "I hope you are using Angular as you are trying to inject Page in constructor. But I&#39;m not sure as you are injecting  variables like obj, initValues. Still the given solution should work irrespective of your flavour for development."}, {"owner": {"reputation": 7, "user_id": 10017838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daf3d8761caed3e5b71e407ef0530ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullatif", "link": "https://stackoverflow.com/users/10017838/abdullatif"}, "reply_to_user": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1555574095, "post_id": 55721807, "comment_id": 98160022, "body": "@mast3rd3mon yes this code inside the page that i want to disable the back button and its work well but my problem is when i navigate to another page from this page, the back button for the new page is disabled too."}, {"owner": {"reputation": 7, "user_id": 10017838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daf3d8761caed3e5b71e407ef0530ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullatif", "link": "https://stackoverflow.com/users/10017838/abdullatif"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1555574254, "post_id": 55721807, "comment_id": 98160109, "body": "@Manoj Unfortunately, I don&#39;t use Angular in this code."}, {"owner": {"reputation": 6020, "user_id": 7199668, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e47d89b0ada41bf07a3d80b0002f0386?s=128&d=identicon&r=PG&f=1", "display_name": "mast3rd3mon", "link": "https://stackoverflow.com/users/7199668/mast3rd3mon"}, "edited": false, "score": 0, "creation_date": 1555576068, "post_id": 55721807, "comment_id": 98160983, "body": "unless the page you navigate is a child of that page, that code wont be active as it should destroy the page"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1555584686, "post_id": 55721807, "comment_id": 98165656, "body": "@Abdullatif Thanks for confirming and as I mentioned already the same solution works irrespective of the flavour you use for development."}], "answers": [{"tags": [], "owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "is_accepted": false, "score": -1, "last_activity_date": 1555490164, "creation_date": 1555490164, "answer_id": 55723292, "question_id": 55721807, "link": "https://stackoverflow.com/questions/55721807/overriding-the-android-back-button-in-nativescript-for-only-one-page/55723292#55723292", "title": "Overriding the Android Back Button in NativeScript for only one page", "body": "<pre><code>import { Location } from '@angular/common';\n</code></pre>\n\n<p>You can use Location from <code>@angular/common</code>. </p>\n\n<pre><code>constructor(_location: Locationpage: Page, obj: any = null, initValues = true) {\n        super(page, obj, initValues);\n        const path = this._location.path()\n        this.title = Helpers.getString('visit_cart');\n        if (obj != null) {\n            this.Parse(obj);\n        }\n        else {\n            this.barcodeScanner = new BarcodeScanner();\n            application.android.on(application.AndroidApplication.activityBackPressedEvent, (args: any) =&gt; {\nif(path === 'You Page'){\n                args.cancel = true;\n}\n                Helpers.infoMsg('press_end_visit');\n            });\n        }\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 10017838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1daf3d8761caed3e5b71e407ef0530ec?s=128&d=identicon&r=PG&f=1", "display_name": "Abdullatif", "link": "https://stackoverflow.com/users/10017838/abdullatif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1555490164, "creation_date": 1555484912, "question_id": 55721807, "link": "https://stackoverflow.com/questions/55721807/overriding-the-android-back-button-in-nativescript-for-only-one-page", "title": "Overriding the Android Back Button in NativeScript for only one page", "body": "<p>I'm using NativeScript version 5.2.4 with TypeScript, I am trying to handle back button to disable it, and I need to disable it only in one page, but it make the back button for a child page doing the same behavior (I mean make it disable), this is my code..</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> constructor(page: Page, obj: any = null, initValues = true) {\r\n        super(page, obj, initValues);\r\n\t\tthis.title = Helpers.getString('visit_cart');\r\n        if (obj != null) {\r\n            this.Parse(obj);\r\n        }\r\n        else {\r\n            this.barcodeScanner = new BarcodeScanner();\r\n            application.android.on(application.AndroidApplication.activityBackPressedEvent, (args: any) =&gt; {\r\n                args.cancel = true;\r\n                Helpers.infoMsg('press_end_visit');\r\n            });\r\n        }\r\n\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1564760744, "post_id": 55721641, "comment_id": 101149580, "body": "Why did you change your question? Now the answer doesn&#39;t make any sense..."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "edited": false, "score": 0, "creation_date": 1555487385, "post_id": 55721665, "comment_id": 98124148, "body": "So Wat is the Fix &gt;"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555484348, "creation_date": 1555484348, "answer_id": 55721665, "question_id": 55721641, "link": "https://stackoverflow.com/questions/55721641/argument-of-type-eventtypes-is-not-assignable-to-parameter-of-type-string/55721665#55721665", "title": "Argument of type &#39;EventTypes&#39; is not assignable to parameter of type string", "body": "<p>The problem is with your tagLink method in your service. Method definitions looks like it only accepts string, but you are passing a variable of type <strong><code>EventTypes</code></strong></p>\n\n<pre><code>this.informationTaggingService.tagLink('onclick', this.text, z_eventType, \n                                                             ^^^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 11120089, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JTG7Oli3IOk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMUemgYrSHtsNgASnnDnVQd8PcdtQ/mo/photo.jpg?sz=128", "display_name": "stack s", "link": "https://stackoverflow.com/users/11120089/stack-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 695, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564760475, "creation_date": 1555484244, "last_edit_date": 1564760475, "question_id": 55721641, "link": "https://stackoverflow.com/questions/55721641/argument-of-type-eventtypes-is-not-assignable-to-parameter-of-type-string", "title": "Argument of type &#39;EventTypes&#39; is not assignable to parameter of type string", "body": "<p>I'm trying to add types to the below function,</p>\n\n<pre><code>  clickEvent(event:Event) {\n    this.event = event\n  }\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;a [href]=\"href\" [target]=\"target\" (click)=\"clickEvent('text')\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p><strong>Types</strong></p>\n\n<pre><code>export interface EventTypes {\n  click?: string;\n  load?: string;\n  link?: string;\n}\n</code></pre>\n\n<p>When I assign the types to <code>clickEvent</code>, I'm getting this error on <code>event</code></p>\n\n<blockquote>\n  <p>[ts] Argument of type 'EventTypes' is not assignable to parameter of\n  type 'string'. [2345]</p>\n</blockquote>\n\n<p>Please tell me what I'm doing wrong here.</p>\n"}, {"tags": ["angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "edited": false, "score": 1, "creation_date": 1555484652, "post_id": 55721625, "comment_id": 98122793, "body": "Refer this link <a href=\"https://stackoverflow.com/questions/37587732/how-to-call-another-components-function-in-angular2\" title=\"how to call another components function in angular2\">stackoverflow.com/questions/37587732/&hellip;</a>"}, {"owner": {"reputation": 7685, "user_id": 8718377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kGFwM.png?s=128&g=1", "display_name": "veben", "link": "https://stackoverflow.com/users/8718377/veben"}, "edited": false, "score": 0, "creation_date": 1555485559, "post_id": 55721625, "comment_id": 98123200, "body": "You have to define the second component as a <b>child</b> of the first"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1555486816, "post_id": 55721625, "comment_id": 98123891, "body": "The parent component should do this. There are several ways to accomplish such, you may want to use <code>@ViewChild</code> to get a reference to the desired component, then use that reference to call <code>ngOnInit</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "edited": false, "score": 0, "creation_date": 1555489309, "post_id": 55722191, "comment_id": 98125233, "body": "It&#39;s show an error in Angular 7. Uncaught ReferenceError: viewChild is not defined at organizer.component.ts:21"}, {"owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "reply_to_user": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "edited": false, "score": 0, "creation_date": 1555489553, "post_id": 55722191, "comment_id": 98125362, "body": "Are you Imported viewChild from angular/core?"}, {"owner": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "edited": false, "score": 0, "creation_date": 1555493823, "post_id": 55722191, "comment_id": 98127779, "body": "I want to call method of SomeComponent in another Component.I follow some codes. But it&#39;s not work in angular 7"}, {"owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "reply_to_user": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "edited": false, "score": 0, "creation_date": 1555494118, "post_id": 55722191, "comment_id": 98127948, "body": "@HaseeAmarathunga Exactly same thing implemented here <a href=\"https://stackblitz.com/edit/hello-angular-6-tbufva\" rel=\"nofollow noreferrer\">stackblitz.com/edit/hello-angular-6-tbufva</a>. I&#39;m calling CompOneComponent method from AppComponent."}, {"owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "reply_to_user": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "edited": false, "score": 0, "creation_date": 1555496407, "post_id": 55722191, "comment_id": 98129351, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/191970/discussion-between-sayan-samanta-and-hasee-amarathunga\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 409, "user_id": 6639439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5yuiG.jpg?s=128&g=1", "display_name": "Sayan", "link": "https://stackoverflow.com/users/6639439/sayan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555486734, "last_edit_date": 1555486734, "creation_date": 1555486261, "answer_id": 55722191, "question_id": 55721625, "link": "https://stackoverflow.com/questions/55721625/in-angular-7-run-method-of-another-component-without-refreshing-current-page/55722191#55722191", "title": "In Angular 7 run method of another Component without refreshing current page?", "body": "<p>Sample code for CompOneComponent </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-comp-one',\n  templateUrl: './comp-one.component.html',\n  styleUrls: ['./comp-one.component.css']\n })\n\nexport class CompOneComponent implements OnInit {\n\n constructor() { }\n\n ngOnInit() {\n     console.log(\"CompOneComponent ngOnInit called successfully ..\");\n  }\n\n public compOneCall() {\n    console.log(\"CompOneComponent called successfully ..\");\n  }\n}\n</code></pre>\n\n<p>Sample code for parent/AppComponent </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { CompOneComponent } from './comp-one/comp-one.component';\n\n@Component({\n selector: 'my-app',\n templateUrl: './app.component.html',\n styleUrls: ['./app.component.css'],\n providers: [CompOneComponent],\n})\n\nexport class AppComponent implements OnInit {\npublic name = 'Angular 6';\n\nconstructor(private compOne: CompOneComponent) { }\n\nngOnInit() {\n this.compOne.ngOnInit();\n this.compOne.compOneCall();\n }\n}\n</code></pre>\n\n<p>Here is stackblitz example <a href=\"https://stackblitz.com/edit/hello-angular-6-tbufva\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/hello-angular-6-tbufva</a>, </p>\n"}], "owner": {"reputation": 1080, "user_id": 7484853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OGdX0.jpg?s=128&g=1", "display_name": "Hasee Amarathunga", "link": "https://stackoverflow.com/users/7484853/hasee-amarathunga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555486734, "creation_date": 1555484198, "question_id": 55721625, "link": "https://stackoverflow.com/questions/55721625/in-angular-7-run-method-of-another-component-without-refreshing-current-page", "title": "In Angular 7 run method of another Component without refreshing current page?", "body": "<p>I want to run ngOnInit() of one component in another component without refreshing the current page.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1555486310, "post_id": 55721801, "comment_id": 98123583, "body": "Sreekumar, if all you need is to &quot;convert&quot; an object, it is more efficient to transform the object and not use a pipe (another thing is if you are using a pipe because you are going to change its parameters in executing time)"}], "tags": [], "owner": {"reputation": 5510, "user_id": 451221, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/knawH.png?s=128&g=1", "display_name": "Sreekumar P", "link": "https://stackoverflow.com/users/451221/sreekumar-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1555485205, "last_edit_date": 1555485205, "creation_date": 1555484888, "answer_id": 55721801, "question_id": 55721563, "link": "https://stackoverflow.com/questions/55721563/map-object-array-values-with-other-object-value/55721801#55721801", "title": "Map Object array values with other object value", "body": "<p>You can use <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">Angular Pipe</a> to filter the cats easily. And its angular way then.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-ht7jjj?file=src%2Fapp%2Fcat-filter.pipe.ts\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n\n<p><strong>cat-filter.pipe.ts</strong></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'catFilterPipe'\n})\n\nexport class CatFilterPipe implements PipeTransform {\n  transform(items: any[], field: any, value: any): any[] {\n    if (!items) return [];\n    if (!value) return items;\n\n    return items.filter(it =&gt;  value.indexOf(it[field]) &gt; -1);\n\n  }\n}\n</code></pre>\n\n<p><strong>Component TS</strong></p>\n\n<pre><code>export class AppComponent {\n  public prod = [{ name: \"Necklace\", cat: [1, 2, 3] }, {\n    name: \"Bindi\", cat: [2, 4]\n  }]\n\n  public cat = [{ id: 1, name: \"gold\" }, { id: 2, name: \"silver\" }, {\n    id: 3, name: \"platinum\"\n  }, { id: 4, name: \"copper\" }]\n\n\n}\n</code></pre>\n\n<p><strong>Component HTML</strong></p>\n\n<pre><code>&lt;ul class=\"flex-container\"&gt;\n&lt;li *ngFor=\"let product of prod\"&gt;\n    &lt;label&gt;Name-{{product.name}}&lt;/label&gt;&lt;br&gt;\n    &lt;label&gt;Cats: &lt;/label&gt; &lt;span *ngFor=\"let catItem of (cat | catFilterPipe: 'id' : product.cat)\"&gt;{{catItem.name}},&lt;/span&gt; \n&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p><strong>Finally in your module:</strong></p>\n\n<pre><code>import { CatFilterPipe } from './cat-filter.pipe';\n\n@NgModule({\n  imports:      [ BrowserModule, FormsModule ],\n  declarations: [ AppComponent, HelloComponent, CatFilterPipe ],\n  bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": false, "score": 1, "last_activity_date": 1555485049, "creation_date": 1555485049, "answer_id": 55721845, "question_id": 55721563, "link": "https://stackoverflow.com/questions/55721563/map-object-array-values-with-other-object-value/55721845#55721845", "title": "Map Object array values with other object value", "body": "<pre><code>   prod.forEach((p:any) =&gt; { //for each element in prod\n       //create a new property \"catDesc\"\n       p.catDesc=p.cat.map(c=&gt;cat.find(x=&gt;x.id==c).name) //catDesc is an array\n                      //get all elements of p.cat, and return the propertie\n                      //name of the element of the list cat what has id equal to c\n       })\n      }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11371942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e2c603a1d9723713037925cb2837e22?s=128&d=identicon&r=PG&f=1", "display_name": "PHP", "link": "https://stackoverflow.com/users/11371942/php"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1555485341, "creation_date": 1555483932, "last_edit_date": 1555485341, "question_id": 55721563, "link": "https://stackoverflow.com/questions/55721563/map-object-array-values-with-other-object-value", "title": "Map Object array values with other object value", "body": "<p>Map cat ids of prod object with cat name string value from cat object.\nI want to display prod in HTML with string cat.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var prod = [\n    { name: \"Necklace\", cat: [1, 2, 3] },\n    { name: \"Bindi\", cat: [2, 4] }\n]\n\nvar cat = [\n    { id: 1, name: \"gold\" },\n    { id: 2, name: \"silver\" },\n    { id: 3, name: \"platinum\" },\n    { id: 4, name: \"copper\" }\n]\n\nprod.forEach((p) =&gt; {\n    p.cat.forEach((c) =&gt; {\n        cat.filter((d) =&gt; {\n            if (c == d.id) {\n                //logic to display cat of prod in string\n            }\n        })\n    })\n})\n</code></pre>\n\n<p>HTML:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=\"flex-container\"&gt;\n    &lt;li *ngFor=\"let product of prod\"&gt;\n        &lt;label&gt;Name-{{product.name}}&lt;/label&gt;&lt;br&gt;\n        &lt;label&gt;cat-{{product.cat}}&lt;/label&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>Actual output: </p>\n\n<pre><code>Name-Necklace\ncat-[1,2,3]\n\nName-Bindi\ncat-[2,4]\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Name-Necklace\ncat-gold,silver,platinum\n\nName-Bindi\ncat-silver,copper\n</code></pre>\n"}, {"tags": ["angular", "typescript", "graphql"], "comments": [{"owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "reply_to_user": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1556623057, "post_id": 55721384, "comment_id": 98493350, "body": "@DanielRearden Can you please explain what can be the issue from server side? I can&#39;t even understand what the error is trying to say"}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 1, "creation_date": 1556624354, "post_id": 55721384, "comment_id": 98493987, "body": "Might not be a dupe, actually. From the error message, it sounds like there&#39;s a mismatch between the format expected for a Date scalar and what&#39;s actually being provided. Are you sending a date as an input? If so, can you update your question with the query you&#39;re actually sending, and the variables that are being sent along with it?"}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 1, "creation_date": 1556624480, "post_id": 55721384, "comment_id": 98494042, "body": "Also, when posting code, error messages, etc. please paste the actual text if possible rather than providing a screenshot. This makes the content of your post searchable and means even if your screenshot is taken down, your post will continue to be readable."}, {"owner": {"reputation": 1135, "user_id": 8880204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01a3a55a3ca5f25a5bdedb2777d1e4e?s=128&d=identicon&r=PG", "display_name": "Saad Ahmed", "link": "https://stackoverflow.com/users/8880204/saad-ahmed"}, "reply_to_user": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1556625962, "post_id": 55721384, "comment_id": 98494833, "body": "@DanielRearden I have updated my Question. Moreover, in the server side, there is a millisecond timestamp but that cannot be removed so I have to handle it at my side"}], "owner": {"reputation": 121, "user_id": 11266750, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cj1YuXO4k4A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rczBDRB41t2a7pBAUUU_eDkGpoR4A/mo/photo.jpg?sz=128", "display_name": "ahmed", "link": "https://stackoverflow.com/users/11266750/ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1556631865, "creation_date": 1555483239, "last_edit_date": 1556631865, "question_id": 55721384, "link": "https://stackoverflow.com/questions/55721384/graphql-error-while-posting-contact-information", "title": "Graphql Error while posting contact Information", "body": "<p>I have an angular form where I am trying to post(muatation) customer contact info using graphQL.\nHowever when I click on submit button I get this error.\nI tried googling but I coudn't find relevant help.\nDoes someone know how to resolve this error or can explain me what to do.</p>\n\n<pre><code>Error: GraphQL error: Cannot deserialize value of type `java.util.Date` from String \"2019-04-28T18:30:00.000Z\": expected format \"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/S7cH4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S7cH4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Initially I am trying to push the contact Info in an array which looks like this:</p>\n\n<pre><code>{agreementId: \"123\", contactType: \"phone\", contactDescription: \"\", \ncontactSubType: \"mobile\", contactSubTypeDescription: \"\", \u2026}\nagreementId: \"123\"\ncontactDescription: \"\"\ncontactSubType: \"mobile\"\ncontactSubTypeDescription: \"\"\ncontactType: \"phone\"\nendDate: Sun Apr 28 2019 00:00:00 GMT+0530 (India Standard Time) {}\nlastVerifiedDate: Thu Apr 11 2019 00:00:00 GMT+0530 (India Standard Time) {}\nreferenceNumber: \"123\"\nstartDate: Fri Apr 19 2019 00:00:00 GMT+0530 (India Standard Time) {}\n</code></pre>\n\n<p>I am getting Date from Mat-Date picker using ngModel.\nHowever now when I try to post this Info to graphQl it throws the following error:</p>\n\n<pre><code>ERROR:\nthere was an error sending the query Error: GraphQL error: Cannot \ndeserialize value of type `java.util.Date` from String \"2019-04- \n27T18:30:00.000Z\": expected format \"yyyy-MM-dd'T'HH:mm:ss.SSSZ\"\nat [Source: UNKNOWN; line: -1, column: -1] (through reference chain: \ncom.statefarm.mdm.model.customer.Customer[\"contact\"]- \n&gt;java.util.ArrayList[0]- \n&gt;com.statefarm.mdm.model.customer.Contact[\"endDate\"])\nat new ApolloError (bundle.esm.js:60)\nat QueryManager.&lt;anonymous&gt; (bundle.esm.js:980)\nat step (tslib.es6.js:97)\nat Object.next (tslib.es6.js:78)\nat tslib.es6.js:71\nat new ZoneAwarePromise (zone.js:891)\nat __awaiter (tslib.es6.js:67)\nat Object.next (bundle.esm.js:972)\nat notifySubscription (Observable.js:130)\nat onNotify (Observable.js:165)\n</code></pre>\n"}, {"tags": ["typescript"], "owner": {"reputation": 11, "user_id": 11372091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa095f35bf8a134466811f9232e9f041?s=128&d=identicon&r=PG&f=1", "display_name": "Jiejie Wu", "link": "https://stackoverflow.com/users/11372091/jiejie-wu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555482407, "creation_date": 1555482407, "question_id": 55721187, "link": "https://stackoverflow.com/questions/55721187/type-assert-cant-be-compiledlike-val-a-as-val-b", "title": "type assert cant be compiled~(like val_a as val_b)", "body": "<p>My project is set up by react with typescript, generally, it can work normally, but in some detail, it can not work even cant be compiled, what should i need to config with my project?</p>\n\n<p>this is my tsconfig.json</p>\n\n<pre><code> {\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    \"noImplicitAny\": false,\n    \"module\": \"commonjs\",\n    \"target\": \"es6\",\n    \"jsx\": \"react\",\n    \"paths\": {\n      \"src\": [\"./src\"],\n      \"root\": [\".\"],\n      \"utils\": [\"./src/utils\"]\n    },\n    \"baseUrl\": \".\",\n    \"rootDir\": \".\",\n    \"experimentalDecorators\": true,\n    \"allowSyntheticDefaultImports\": true \n  },\n  \"files\": [\n    \"./js_transition.d.ts\"\n  ],\n  \"include\": [\n    \"./src/**/*\",\n    \"./server/**/*\"\n  ],\n  \"exclude\": [\n    \"build\",\n    \"node_modules\"\n  ]\n}\n</code></pre>\n\n<p>and this is my js_transition.d.ts</p>\n\n<pre><code> // External libs\n\n// These will have to remain until we (or someone else) writes\n// proper .d.ts definition files for them.\ndeclare var template:any;\n// node's typings definitions currently break stuff, use this instead\ndeclare var require:any;\ndeclare var process:any;\ndeclare var __dirname:any;\ndeclare var module:any;\ndeclare var DEBUG:boolean;\ndeclare var window:Window;\ndeclare var ca:any;\ndeclare var __PRELOADED_STATE__:any;\n\ninterface System {\n  import&lt;T = any&gt;(module: string): Promise&lt;T&gt;\n}\n\ndeclare const System: System\n</code></pre>\n\n<p>and while i do this,</p>\n\n<pre><code> Syntax error: Unexpected token, expected , (26:12)\n\n  24 |     set(this.props.dispatch);\n  25 |     // wx_init();\n&gt; 26 |     (window as any).a = 1;\n     |             ^\n  27 |   }\n  28 |   componentWillUnmount() {\n  29 |   }\n</code></pre>\n\n<p>it will throwout this error.</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1555482843, "post_id": 55721154, "comment_id": 98122042, "body": "What&#39;s wrong is that a value of type Date can&#39;t possibly be === to another value of type string, since they don&#39;t even have the same type. And even if they were of the same type, new Date() returns the current time, precise up to the millisecond. The probability of that time being exactly equal to the date 2019-04-22T14:30:00Z is extremely low. You need to parse the strings as Date and check if their day is the same as the current day."}, {"owner": {"reputation": 1173, "user_id": 6781625, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8244aa1ec7503d0193835f84527c2774?s=128&d=identicon&r=PG", "display_name": "Edison", "link": "https://stackoverflow.com/users/6781625/edison"}, "edited": false, "score": 0, "creation_date": 1555483280, "post_id": 55721154, "comment_id": 98122216, "body": "tyr converting your<code>x.startDate</code> to dateformat from string"}, {"owner": {"reputation": 641, "user_id": 5819664, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/skP9W.jpg?s=128&g=1", "display_name": "Onkar", "link": "https://stackoverflow.com/users/5819664/onkar"}, "edited": false, "score": 0, "creation_date": 1555483494, "post_id": 55721154, "comment_id": 98122303, "body": "your are comparing two dates wrongly"}], "answers": [{"tags": [], "owner": {"reputation": 5712, "user_id": 1746803, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a7b2d9ed1379e1deaf257057a484a406?s=128&d=identicon&r=PG", "display_name": "Knelis", "link": "https://stackoverflow.com/users/1746803/knelis"}, "is_accepted": false, "score": 1, "last_activity_date": 1555483656, "last_edit_date": 1555483656, "creation_date": 1555483315, "answer_id": 55721401, "question_id": 55721154, "link": "https://stackoverflow.com/questions/55721154/to-get-json-objects-based-on-the-current-date/55721401#55721401", "title": "To get JSON objects based on the current date", "body": "<p>There are two things you should be aware of:</p>\n\n<ol>\n<li>The <code>startDate</code> property is of type <code>string</code>, so comparing that with a <code>Date</code> will not work; it needs to be converted to a proper <code>Date</code> object first.</li>\n<li>Your <code>startDate</code> includes a time, so that needs to be taken into account as well.</li>\n</ol>\n\n<p>Here's a solution using the <a href=\"https://date-fns.org\" rel=\"nofollow noreferrer\">date-fns</a> library (which supports tree-shaking), filtering tasks by date (ignoring time):</p>\n\n<ul>\n<li>Install Date-Fns with running <code>npm i date-fns</code>.</li>\n<li>Add these imports to your TypeScript file: <code>import { addDays, parse, startOfDay } from 'date-fns';</code></li>\n</ul>\n\n<pre><code>public getTaskByDate (myDate: string): ITasks  {\n  const date = parse(myDate);                    // parse input string\n  const startOfSearch = startOfDay(date);        // start of the day\n  const endOfSearch = addDays(startOfSearch, 1); // start of next day\n\n  return this.tasks ? this.tasks.filter(x =&gt; {\n    const parsedDate = parse(x.startDate);\n    return parsedDate &gt;= startOfSearch &amp;&amp; parsedDate &lt; endOfSearch;\n  }) : [];\n}\n</code></pre>\n\n<p>Here's a solution without Date-Fns, again only matching the date:</p>\n\n<pre><code>public getTaskByDate (myDate: string): ITasks  {\n  const date = Date.parse(myDate);               // parse input string\n\n  return this.tasks \n    ? this.tasks.filter(x =&gt; Date.parse(x.startDate).toDateString() === date.toDateString()) \n    : [];\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1555484251, "post_id": 55721587, "comment_id": 98122631, "body": "In the <code>JSON</code> mistakely i was added <code>startDate: string</code>, Now i have changed."}, {"owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 0, "creation_date": 1555485142, "post_id": 55721587, "comment_id": 98122994, "body": "Your solution works fine, But i made an mistake while posting the <code>JSON</code>. Actually <code>startDate</code> is of type <code>date</code> not <code>string</code>. If the <code>startDate</code> is of type <code>date</code> then its unable apply <code>substr</code> method for it."}, {"owner": {"reputation": 160, "user_id": 2050035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97918fbaadd9e2c6cb57bcc1b14eace7?s=128&d=identicon&r=PG", "display_name": "Mokuyobi", "link": "https://stackoverflow.com/users/2050035/mokuyobi"}, "reply_to_user": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "edited": false, "score": 1, "creation_date": 1555485311, "post_id": 55721587, "comment_id": 98123073, "body": "Yes if <code>startDate</code> is of type <code>Date</code> then you have two <code>Date</code> objects: You should compare them <code>startDate.toDateString() === myDate.toDateString()</code>. Or: <code>startDate.toDateString() === dateString</code> and change the line <code>const dateString = myDate.toJSON().substr(0, 10);</code> to <code>const dateString = myDate.toDateString();</code> (so you would not call this method x times as it would not change)"}], "tags": [], "owner": {"reputation": 160, "user_id": 2050035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97918fbaadd9e2c6cb57bcc1b14eace7?s=128&d=identicon&r=PG", "display_name": "Mokuyobi", "link": "https://stackoverflow.com/users/2050035/mokuyobi"}, "is_accepted": true, "score": 2, "last_activity_date": 1555483984, "creation_date": 1555483984, "answer_id": 55721587, "question_id": 55721154, "link": "https://stackoverflow.com/questions/55721154/to-get-json-objects-based-on-the-current-date/55721587#55721587", "title": "To get JSON objects based on the current date", "body": "<p>In your html you call <code>let task of getTaskByDate(myDate)</code> where <code>myDate = new Date();</code> so <code>public getTaskByDate (myDate: string): ITasks</code> would be <code>public getTaskByDate (myDate: Date): ITasks</code></p>\n\n<p>After that, matching the Date is easy.:</p>\n\n<p>First method (change filter rule)\n<code>new Date(x.startDate).toDateString() === myDate.toDateString()</code></p>\n\n<p>Second method:</p>\n\n<pre><code>public getTaskByDate (myDate: Date): ITask[]  {\n      const dateString = myDate.toJSON().substr(0, 10);\n      return this.tasks ? this.tasks.filter(x =&gt; x.startDate.substr(0, 10) === dateString) : [];\n  }\n</code></pre>\n\n<p>Despite your problem, you should definitive change the <code>ITasks</code>interface name to <code>ITask</code> and make the AppComponent property of type <code>ITask[]</code>, because the name is a lie. It says <code>ITasks</code> defines a collection of <code>Tasks</code> instead of a single <code>Task</code></p>\n\n<p>Edit:\nChanged type of myDate to <code>Date</code>. (<code>getTaskByDate (myDate: string): ITasks</code> to <code>getTaskByDate (myDate: Date): ITask[]</code> because myDate was always a <code>Date</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 6710702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4abbafa0a8880d2c251664892aef885b?s=128&d=identicon&r=PG&f=1", "display_name": "D_Vil", "link": "https://stackoverflow.com/users/6710702/d-vil"}, "is_accepted": false, "score": 1, "last_activity_date": 1555484546, "creation_date": 1555484546, "answer_id": 55721708, "question_id": 55721154, "link": "https://stackoverflow.com/questions/55721154/to-get-json-objects-based-on-the-current-date/55721708#55721708", "title": "To get JSON objects based on the current date", "body": "<p>Your filter will work with the following HTML</p>\n\n<pre><code>&lt;h4&gt;Today's Task&lt;/h4&gt;\n&lt;div class=\"cust-detail\" *ngFor=\"let task of getTaskByDate(myDate)\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Task Name: &lt;/td&gt;\n        &lt;td&gt;{{task.taskName }}&lt;/td&gt;\n    &lt;/tr&gt;   \n    &lt;hr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If you look at the below, you will see that it does filter the objects and returns only the objects with <code>myDate = new Date().toDateString()</code>. The <code>toDateString()</code> converts the date to a string like <code>'Wed Apr 17 2019'</code> without the minutes and seconds and so on. This will compare two strings and might not be the best option but its a workaround.</p>\n\n<pre><code>public getTaskByDate (myDate: string): ITasks  {\n    return this.tasks ? this.tasks.filter(x =&gt; new Date(x.startDate).toDateString() === myDate) : [];\n}\n</code></pre>\n\n<p>I forked your Stackblitz <a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-muxfzr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-muxfzr</a></p>\n"}], "owner": {"reputation": 1864, "user_id": 8649047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b75f947ea1ca5da1bac2431fffc0cfc?s=128&d=identicon&r=PG&f=1", "display_name": "PGH", "link": "https://stackoverflow.com/users/8649047/pgh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 55721587, "answer_count": 3, "score": 0, "last_activity_date": 1555485752, "creation_date": 1555482237, "last_edit_date": 1555483497, "question_id": 55721154, "link": "https://stackoverflow.com/questions/55721154/to-get-json-objects-based-on-the-current-date", "title": "To get JSON objects based on the current date", "body": "<p>I have an <code>JSON</code> file called <code>tasks</code>.it's template looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MCSit.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCSit.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>JSON File</strong></p>\n\n<pre><code>[\n  {\n    \"taskName\": \"Task - 1\",\n    \"id\": \"01\",\n    \"startDate\": \"2019-04-17T18:30:00Z\" &lt;==========\n  },\n  {\n    \"taskName\": \"Task - 2\",\n    \"id\": \"02\",\n    \"startDate\": \"2019-04-22T14:30:00Z\"\n  },\n  {\n    \"taskName\": \"Task - 3\",\n    \"id\": \"03\",\n    \"startDate\": \"2019-04-17T12:30:00Z\" &lt;========\n  },\n  {\n    \"taskName\": \"Task - 4\",\n    \"id\": \"04\",\n    \"startDate\": \"2019-04-25T18:10:00Z\"\n  }\n]\n</code></pre>\n\n<p>As in the JSON i have property called <code>startDate</code> based on the <code>startDate</code> I want to display the tasks, like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0jHIh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0jHIh.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried to filter based on the Date like this:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"cust-detail\" *ngFor=\"let task of getTaskByDate(myDate)\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Task Name: &lt;/td&gt;\n        &lt;td&gt;{{task.taskName }}&lt;/td&gt;\n    &lt;/tr&gt;   \n&lt;/div&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>  tasks: ITasks;\n  myDate = new Date();\n\n  constructor(private myService: MyService) {}\n\n  ngOnInit() {\n    this.myService.getTasks()\n      .subscribe(res =&gt; this.tasks = res);\n  }\n\n\n    public getTaskByDate (myDate: string): ITasks  {\n    return this.tasks ? this.tasks.filter(x =&gt; x.startDate === myDate) : [];\n  }\n</code></pre>\n\n<p>What's wrong with my approach?\nHere is the \n<strong><a href=\"https://stackblitz.com/edit/angular-movie-read-load-json-sample-eg-i6mv9t?file=src/models/app.models.ts\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}, {"tags": ["html", "css", "typescript", "angular7", "ng-zorro-antd"], "answers": [{"comments": [{"owner": {"reputation": 2394, "user_id": 4584038, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10153654527738797/picture?type=large", "display_name": "Pablo Palacios", "link": "https://stackoverflow.com/users/4584038/pablo-palacios"}, "edited": false, "score": 0, "creation_date": 1565904402, "post_id": 55721770, "comment_id": 101500729, "body": "do you know how can I pass data to the template, plsssss"}, {"owner": {"reputation": 2394, "user_id": 4584038, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10153654527738797/picture?type=large", "display_name": "Pablo Palacios", "link": "https://stackoverflow.com/users/4584038/pablo-palacios"}, "edited": false, "score": 0, "creation_date": 1565907769, "post_id": 55721770, "comment_id": 101501605, "body": "found it, need just to add the template inside the nz-collapse, thanks"}], "tags": [], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "is_accepted": true, "score": 1, "last_activity_date": 1555484765, "creation_date": 1555484765, "answer_id": 55721770, "question_id": 55720930, "link": "https://stackoverflow.com/questions/55720930/how-to-add-a-close-button-to-ngzorro-collapse-header-component/55721770#55721770", "title": "How to add a close button to NgZorro Collapse header component?", "body": "<p>I got the answer:</p>\n\n<pre><code>  &lt;nz-collapse&gt;\n      &lt;nz-collapse-panel [nzExtra]=\"extraTpl\"&gt;\n      &lt;/nz-collapse-panel&gt;\n  &lt;/nz-collapse&gt;\n  &lt;ng-template #extraTpl&gt;\n     &lt;i nz-icon nzType=\"close\" nzTheme=\"outline\"&gt;&lt;/i&gt;\n  &lt;/ng-template&gt;\n</code></pre>\n"}], "owner": {"reputation": 1592, "user_id": 11016183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/usqVz.jpg?s=128&g=1", "display_name": "Seba Cherian", "link": "https://stackoverflow.com/users/11016183/seba-cherian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 0, "accepted_answer_id": 55721770, "answer_count": 1, "score": 2, "last_activity_date": 1555484765, "creation_date": 1555481182, "question_id": 55720930, "link": "https://stackoverflow.com/questions/55720930/how-to-add-a-close-button-to-ngzorro-collapse-header-component", "title": "How to add a close button to NgZorro Collapse header component?", "body": "<p>I am working on NgZorro Collapse component. I have to add a close button on the top-right of the component. How to add it?</p>\n"}, {"tags": ["reactjs", "typescript", "promise", "fetch", "setstate"], "answers": [{"comments": [{"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1555481557, "post_id": 55720947, "comment_id": 98121555, "body": "Say my resultant state does not have this consecutive properties i.e., data1 ,data2 etc. I have updated the state object"}, {"owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1555481716, "post_id": 55720947, "comment_id": 98121619, "body": "@velsonjr Ok, look at updated answer, main idea still the same."}, {"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1555482003, "post_id": 55720947, "comment_id": 98121754, "body": "I quite did not get this one. What is the &#39;data&#39; referring to? Could you please give me the entire Promise section? Are you referring to &quot;jsons&quot; as in &quot;newState[key] = jsons[index++]; &quot;"}, {"owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "reply_to_user": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1555482898, "post_id": 55720947, "comment_id": 98122067, "body": "@velsonjr, yes it&#39;s my typo, look at updated answer."}, {"owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "edited": false, "score": 0, "creation_date": 1555487113, "post_id": 55720947, "comment_id": 98124041, "body": "That was a minor mistake. I fixed it . Thanks though !"}], "tags": [], "owner": {"reputation": 12891, "user_id": 5630778, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3yro_KhP3ds/AAAAAAAAAAI/AAAAAAAAACE/mDQEhphwsL0/photo.jpg?sz=128", "display_name": "Slava Utesinov", "link": "https://stackoverflow.com/users/5630778/slava-utesinov"}, "is_accepted": true, "score": 1, "last_activity_date": 1555482801, "last_edit_date": 1555482801, "creation_date": 1555481290, "answer_id": 55720947, "question_id": 55720653, "link": "https://stackoverflow.com/questions/55720653/setting-state-object-dynamically-using-the-data-returned-using-promise-all-and-f/55720947#55720947", "title": "Setting state object dynamically using the data returned using Promise.all and fetch API : React+Typescript", "body": "<pre><code>Promise.all(urls.map(url =&gt;\n      fetch(url)\n        .then(this.checkStatus)                 \n        .then(this.parseJSON)\n ))\n .then(jsons =&gt; {\n    var newState = {};\n    var index = 0;\n    for(var key in this.state)\n       newState[key] = jsons[index++];        \n    this.setState(newState);\n})\n</code></pre>\n"}], "owner": {"reputation": 5165, "user_id": 6927748, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/64f5dc909e0616a0f62882517b6170b4?s=128&d=identicon&r=PG&f=1", "display_name": "VJR08", "link": "https://stackoverflow.com/users/6927748/vjr08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 55720947, "answer_count": 1, "score": 0, "last_activity_date": 1555482801, "creation_date": 1555479901, "last_edit_date": 1555480781, "question_id": 55720653, "link": "https://stackoverflow.com/questions/55720653/setting-state-object-dynamically-using-the-data-returned-using-promise-all-and-f", "title": "Setting state object dynamically using the data returned using Promise.all and fetch API : React+Typescript", "body": "<p>I am using fetch API and promise.all for a scenario where I am passing an array of URL'S from where I am fetching the data. The data retrieved from all the above URL'S needs to be set to the state object. </p>\n\n<p>Say I have an array of 5 URL's , the result returned by these must be \nassigned to the 5 different values inside my state object.</p>\n\n<p>Using React along with typescript.</p>\n\n<p>Help would be appreciated.</p>\n\n<p>This is what I have tried so far</p>\n\n<pre><code>import * as React from 'react';\n\nconst urls = [ 'http://localhost:3001/url1',\n               'http://localhost:3001/url2',\n               'http://localhost:3001/url3',\n             ]\n\ninterface IState {\n     test: [],\n     result: [],\n     returnVal: []\n}\n\nexport default class App extends React.Component&lt;{},IState&gt; {\n\n  constructor(props:any)\n  {\n    super(props);\n    this.state = {\n       test: [],\n       result: [],\n       returnVal: []\n  }\n\n  checkStatus(response:any) {\n    if (response.ok) {\n      return Promise.resolve(response);\n    } else {\n      return Promise.reject(new Error(response.statusText));\n    }\n  }\n\n  parseJSON(response:any) {\n    return response.json();\n  }\n\n  setData(data:any){\n    Object.entries(this.state).forEach(([key], index) =&gt; {\n      this.setState({ [key]: data[index] })\n    });\n  }\n\n  componentDidMount()\n  {\n    Promise.all(urls.map(url =&gt;\n          fetch(url)\n            .then(this.checkStatus)                 \n            .then(this.parseJSON)\n            .catch(error =&gt; console.log('There was a problem!', error))\n        ))\n        .then(data =&gt; {\n           this.setData(data);\n        })\n  }\n\n  render() {  \n    return(\n      //some rendering code\n    )\n  }\n}\n\n</code></pre>\n\n<p>Need to set the data returned from promise to the state object variables.</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 1, "creation_date": 1555479938, "post_id": 55720645, "comment_id": 98120988, "body": "Is it possible to create stackblitz for yor case ?"}, {"owner": {"reputation": 216, "user_id": 10590099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wndIR.jpg?s=128&g=1", "display_name": "Dominick", "link": "https://stackoverflow.com/users/10590099/dominick"}, "reply_to_user": {"reputation": 1669, "user_id": 5955138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee000cb86f66861a3b7b4690715b42a?s=128&d=identicon&r=PG", "display_name": "shadowman_93", "link": "https://stackoverflow.com/users/5955138/shadowman-93"}, "edited": false, "score": 0, "creation_date": 1555481539, "post_id": 55720645, "comment_id": 98121549, "body": "If I used the example project on Stackblitz (and create static data) it works fine...but on my actual site, even just clicking in the input box does not cause the label to move/shrink above the text being entered.  Unfortunately I can&#39;t put the actual site code into Stackblitz because of its complexity."}, {"owner": {"reputation": 4638, "user_id": 1034105, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f41407c07a9be2ea02eea2e8406e0fd?s=128&d=identicon&r=PG", "display_name": "Kalamarico", "link": "https://stackoverflow.com/users/1034105/kalamarico"}, "edited": false, "score": 0, "creation_date": 1555503146, "post_id": 55720645, "comment_id": 98133281, "body": "Have you tried as in <a href=\"https://material.angular.io/components/autocomplete/overview\" rel=\"nofollow noreferrer\">material.angular.io/components/autocomplete/overview</a> says, using async pipe instead of subscribe in component ts file? Take a look to the second example, is the same as yours and it&#39;s using the async pipe for valuechanges Observable and apply filters"}], "owner": {"reputation": 216, "user_id": 10590099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wndIR.jpg?s=128&g=1", "display_name": "Dominick", "link": "https://stackoverflow.com/users/10590099/dominick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555502737, "creation_date": 1555479868, "last_edit_date": 1555502737, "question_id": 55720645, "link": "https://stackoverflow.com/questions/55720645/angular-material-autocomplete-not-displaying-as-expected", "title": "Angular - Material/Autocomplete Not Displaying As Expected", "body": "<p>I am attempting to work with the Angular/Material autocomplete component.  I have added the following to my HTML file:</p>\n\n<pre><code>&lt;form class=\"search-form\"&gt;\n    &lt;mat-form-field&gt;\n        &lt;input type=\"text\" placeholder=\"Search Assemblies\" matInput [formControl]=\"assemblySearchControl\" [matAutocomplete]=\"auto\"&gt;\n        &lt;mat-autocomplete #auto=\"matAutocomplete\"&gt;\n            &lt;mat-option *ngFor=\"let assembly of filteredAssemblies\" [value]=\"assembly.id\"&gt;\n                {{assembly.assemblyName}} ({{assembly.referenceNumber}})\n            &lt;/mat-option&gt;\n        &lt;/mat-autocomplete&gt;\n    &lt;/mat-form-field&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And in my TS file:</p>\n\n<pre><code>ngOnInit() {\n    this.assemblySearchControl.valueChanges.subscribe(\n      term =&gt; {\n        if (term != '') {\n          this.filteredAssemblies = this._filterAssemblies(term);\n        }\n      }\n    )\n  }\n\nprivate _filterAssemblies(value: string) {\n    const filterValue = value.toLowerCase();\n    var temp = this.allAssemblies.filter(assembly =&gt; \n        assembly.assemblyName.toLowerCase().indexOf(filterValue) === 0 || \n        assembly.referenceNumber.toLowerCase().indexOf(filterValue) === 0);\n    console.log(\"filteredAssemblies: \", temp);\n    return temp;\n}\n</code></pre>\n\n<p>If I run the site, and type something into the search box, I can see in the Google Chrome console that <code>filteredAssemblies</code> has the correct results from the search.  However, the following two problems are occurring:</p>\n\n<ol>\n<li>The placeholder text of \"Search Assemblies\" is not being cleared.  Anything I type in the input field is just being displayed over the placeholder text.</li>\n<li>The option list with the results stored in <code>filterAssemblies</code> is not being shown.</li>\n</ol>\n\n<p>I've tried various solutions online however the same two issues listed above remain.  There are no issues being reported and the code compiles fine.  Is this possibly just a format/layout issue?  Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555479639, "post_id": 55720480, "comment_id": 98120886, "body": "thanks for the quick response. now am able to get the row value. my question is how to pass the selected row value to click event."}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555479953, "post_id": 55720480, "comment_id": 98120995, "body": "call whatever the function u call in button click in here"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555480073, "post_id": 55720480, "comment_id": 98121031, "body": "you mean like this   <code>callBtn(){ this.onChange(row); }</code> . if yes , it gives me <b>Cannot find name &#39;row&#39;</b>"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555480556, "post_id": 55720480, "comment_id": 98121184, "body": "Yes. I&#39;ve updated my HTML and ts snippet. could you revisit that"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555481406, "post_id": 55720480, "comment_id": 98121508, "body": "<code>onChange(row){   this.linktomynxtpage(row) }</code>"}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 0, "creation_date": 1555481895, "post_id": 55720480, "comment_id": 98121709, "body": "just changed as you said. issue is. page got navigated suddenly the moment I check the checkbox. but what I want is.  there is a button above the table which is enabled only after the checkbox is checked and that button will take to next pages based row value."}, {"owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "edited": false, "score": 1, "creation_date": 1555496127, "post_id": 55720480, "comment_id": 98129204, "body": "Thanks for your time. finally, I&#39;ve solved it by calling service and passing the value for routing"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1555478947, "creation_date": 1555478947, "answer_id": 55720480, "question_id": 55720341, "link": "https://stackoverflow.com/questions/55720341/how-to-pass-selected-row-value-of-table-to-button-click-event-material-design/55720480#55720480", "title": "How to pass selected row value of table to button click event - Material design - Angular 6", "body": "<p>use the <code>(change)</code> event</p>\n\n<pre><code>  &lt;mat-checkbox class=\"select-checkbox\" [(ngModel)]=\"checkedbtn\" (change)=\"onChange(element)\" &gt;&lt;/mat-checkbox&gt;  \n\n\nonChange(row){\n  // put the row whenever you want\n}\n</code></pre>\n"}], "owner": {"reputation": 739, "user_id": 9552112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mr. Learner", "link": "https://stackoverflow.com/users/9552112/mr-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2896, "favorite_count": 1, "accepted_answer_id": 55720480, "answer_count": 1, "score": 0, "last_activity_date": 1555480490, "creation_date": 1555478049, "last_edit_date": 1555480490, "question_id": 55720341, "link": "https://stackoverflow.com/questions/55720341/how-to-pass-selected-row-value-of-table-to-button-click-event-material-design", "title": "How to pass selected row value of table to button click event - Material design - Angular 6", "body": "<p>my previous question was not clear. Allow me to ask again clearly as I'm struggling complete my task. </p>\n\n<p>I've mat-table along with checkbox for every row. (No master checkbox). whenever I select the row I should send the values of the selected row to button which is outside of the table.</p>\n\n<p>[if I have a button inside the table, I could do that by accessing the default <strong>ELEMENT</strong> from <code>*matCellDef=\"let element\"</code> variable if the button present inside the table.</p>\n\n<p>But I don't know how to pass the selected row value to the button.  I've to do routing based on the value from the selected row.</p>\n\n<p>so far I've.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div&gt;&lt;button mat-button  [disabled]=\"!checkedbtn\" (click)='linktomynxtpage()'&gt;link to another page&lt;/button&gt;&lt;/div&gt;\n\n&lt;table #demoTable mat-table [dataSource]=\"sample\" multiTemplateDataRows&gt;\n// some ng-container with &lt;th&gt;&lt;td&gt;\n\n &lt;ng-container *ngIf=\"isAdmin\" matColumnDef=\"actions\"&gt;\n    &lt;th mat-header-cell *matHeaderCellDef&gt; Action &lt;/th&gt;\n    &lt;td mat-cell *matCellDef=\"let element\"&gt;     \n      &lt;mat-checkbox class=\"select-checkbox\" [(ngModel)]=\"checkedbtn\" &gt;&lt;/mat-checkbox&gt;        \n    &lt;/td&gt;\n  &lt;/ng-container&gt;\n\n  &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n  &lt;tr mat-row style=\"text-align:left\" *matRowDef=\"let element; columns: displayedColumns;\" &gt;&lt;/tr&gt;\n  &lt;tr mat-row *matRowDef=\"let row; columns: ['expandedDetail']\" class=\"detail-row\"&gt;&lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>TS</strong> </p>\n\n<pre><code>linktomynxtpage(){\n    //some logics\n    //passing row value. and doing routing\n    this.nxtPage.navigate(['/home/particular-user'])\n\n}\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "reflect-metadata"], "comments": [{"owner": {"reputation": 996, "user_id": 7627963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/713Dv.jpg?s=128&g=1", "display_name": "Tony Tom", "link": "https://stackoverflow.com/users/7627963/tony-tom"}, "edited": false, "score": 0, "creation_date": 1555485708, "post_id": 55719932, "comment_id": 98123283, "body": "Try with &#39;vue-property-decorator&#39; library import { Prop } from &#39;vue-property-decorator&#39;"}, {"owner": {"reputation": 11, "user_id": 9460723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I9q8F.jpg?s=128&g=1", "display_name": "Wen Sun", "link": "https://stackoverflow.com/users/9460723/wen-sun"}, "reply_to_user": {"reputation": 996, "user_id": 7627963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/713Dv.jpg?s=128&g=1", "display_name": "Tony Tom", "link": "https://stackoverflow.com/users/7627963/tony-tom"}, "edited": false, "score": 0, "creation_date": 1555490956, "post_id": 55719932, "comment_id": 98126158, "body": "Thanks...but I have imported the library."}], "owner": {"reputation": 11, "user_id": 9460723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I9q8F.jpg?s=128&g=1", "display_name": "Wen Sun", "link": "https://stackoverflow.com/users/9460723/wen-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 689, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555490784, "creation_date": 1555475501, "last_edit_date": 1555490784, "question_id": 55719932, "link": "https://stackoverflow.com/questions/55719932/vue-property-decorator-prop-validator-via-reflect-metadata-does-not-work-after", "title": "vue-property-decorator @Prop validator via reflect-metadata does not work after refreshing the page", "body": "<p>Just as the title, @Prop validator via reflect-metadata does not work after refreshing the page.</p>\n\n<p>As the doc says, I import <code>reflect-metadata</code> and turn <code>emitDecoratorMetadata</code> to <code>true</code>.</p>\n\n<p>And my code is just like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;HelloWorld :msg=\"123\"&gt;&lt;/HelloWorld&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Vue, Component, Prop} from 'vue-property-decorator';\n\n@Component({})\nexport default class HelloWorld extends Vue {\n    @Prop() readonly msg!: string;\n}\n// [Vue warn]: Invalid prop: type check failed for prop \"msg\". \n// Expected String with value \"123\", got Number with value 123.\n</code></pre>\n\n<p>Surely it works when the first time I  enter the page. But when I refresh the page, it does not work (It does not validate prop's type, both dev env and prod env). And I'm sure that I only import <code>reflect-metadata</code> once, and I have updated <code>reflect-metadata</code> to the latest version 0.1.13 (because I heard the older version has some 'unintended behavior').</p>\n\n<p>I tried to import <code>reflect-metadata</code> in the dependency (sorry to modify dependency's code), and this time it works, even after refreshing. Why?</p>\n\n<p>And I found something strange......After refreshing the page, the <code>Reflect.getMetadata</code> function will disappear. Is this something wrong with <code>Reflect</code>?</p>\n"}, {"tags": ["typescript", "rxjs", "firebase-authentication", "reactive-programming", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "edited": false, "score": 0, "creation_date": 1555484013, "post_id": 55721084, "comment_id": 98122520, "body": "in the last switchMap() I put map() and it worked for me, Thanks!"}], "tags": [], "owner": {"reputation": 7126, "user_id": 2829204, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xFo8Y.jpg?s=128&g=1", "display_name": "CozyAzure", "link": "https://stackoverflow.com/users/2829204/cozyazure"}, "is_accepted": true, "score": 0, "last_activity_date": 1555481946, "creation_date": 1555481946, "answer_id": 55721084, "question_id": 55719536, "link": "https://stackoverflow.com/questions/55719536/set-a-state-with-user-data-getting-getidtokenresult/55721084#55721084", "title": "Set a state with user data getting getIdTokenResult ()", "body": "<p>You can use <code>.map()</code> to \"retain\" the values of <code>user</code> object in your <code>authService.getUser()</code> result. It works albeit being dirty. </p>\n\n<pre><code>@Effect()\ngetUser$: Observable&lt;Action&gt; = this.actions$\n    .pipe(\n        ofType(auth.AuthActionTypes.GET_USER),\n        switchMap(() =&gt; this.authService.getUser()),\n        switchMap(user =&gt; user.getIdTokenResult().pipe(map(claims =&gt; ({claims, user}))), //map the user to \"retain\"\n            switchMap(({claims, user}) =&gt; {\n                const userLogged = {\n                    uid: user.uid,\n                    displayName: user.displayName,\n                    admin: claims.admin,\n                };\n                return new auth.Authenticated(userLogged);\n            }),\n            catchError(err =&gt; of(new auth.AuthError(err)))))\n</code></pre>\n\n<p>If you want to retrain more values, suggest that you look into <code>Subjects</code> so that it is cleaner (and the correct way of doing it).</p>\n"}], "owner": {"reputation": 1254, "user_id": 9500453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Y2PoDK0My9o/AAAAAAAAAAI/AAAAAAAAAqQ/yld7pwS0oPc/photo.jpg?sz=128", "display_name": "Luiz Ricardo Cardoso", "link": "https://stackoverflow.com/users/9500453/luiz-ricardo-cardoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 55721084, "answer_count": 1, "score": 0, "last_activity_date": 1555481946, "creation_date": 1555472528, "question_id": 55719536, "link": "https://stackoverflow.com/questions/55719536/set-a-state-with-user-data-getting-getidtokenresult", "title": "Set a state with user data getting getIdTokenResult ()", "body": "<p>I'm having trouble putting an object in and putting it in the state of my application.</p>\n\n<p>I need to mount an object with the data returned from <code>firebase.user</code> and <code>user.getIdTokenResult(true)</code>.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>userLogged = {\n  uid: user.uid, \n  displayName: user.displayName\n  admin: false,\n};\n\nconst token = await user.getIdTokenResult (true);\nuserLogged.admin = token.claims.admin;\n</code></pre>\n\n<p>The logic is similar to the one above, however I need to do this using only the Rxjs operators so that I can seclude this object in the state of my application.</p>\n\n<p><strong>@Effect</strong></p>\n\n<pre><code>@Effect()\ngetUser$: Observable&lt;Action&gt; = this.actions$.pipe(\n    ofType(auth.AuthActionTypes.GET_USER),\n    switchMap(() =&gt; this.authService.getUser().pipe(\n        map(user =&gt; {\n\n            const userLogged = {\n                uid: user.uid,\n                displayName: user.displayName,\n                admin: false,\n            }\n\n            // **** i need call user.getIdTokenResult() ******\n            // and get claims.admin and assign to userLogged object admin.\n\n            // authState = {\n            //    uid: user.uid,\n            //    displayName: user.displayName,\n            //    admin: true, // true or false\n            // }\n\n            return new auth.Authenticated(userLogged);\n        }),\n        catchError((err =&gt; of(new auth.AuthError(err))))\n    )\n</code></pre>\n\n<p>I'm still adapting myself using reactive programming using Rxjs, so I'm having a hard time merging encapsulated Observables data.</p>\n"}]