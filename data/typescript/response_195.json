[{"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 2, "last_activity_date": 1538616300, "creation_date": 1538616300, "answer_id": 52637687, "question_id": 52637109, "link": "https://stackoverflow.com/questions/52637109/typescript-remove-an-attribute-from-an-object-safely/52637687#52637687", "title": "Typescript: Remove an attribute from an object safely", "body": "<p>You can let the parameter type be simply <code>P</code>, where <code>P</code> is constrained to contain the <code>foo</code> property, so that type inference will work: it will just set <code>P</code> to the argument type.  Then use <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/8a166ad95905f56170c8b35c4ab7e5dfa2a32358/pages/Utility%20Types.md#picktk\" rel=\"nofollow noreferrer\"><code>Pick</code></a> and <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/8a166ad95905f56170c8b35c4ab7e5dfa2a32358/pages/Utility%20Types.md#excludetu\" rel=\"nofollow noreferrer\"><code>Exclude</code></a> to generate the type of the output object containing all properties of <code>P</code> except <code>foo</code>.</p>\n\n<pre><code>interface FooProp {\n    foo: string;\n}\ntype WithoutFooProp&lt;P&gt; = Pick&lt;P, Exclude&lt;keyof P, \"foo\"&gt;&gt;;\n\nfunction withoutFooProp&lt;P extends FooProp&gt;(input: P): WithoutFooProp&lt;P&gt; {\n    const {foo, ...withoutFoo} = input as any;\n    return withoutFoo;\n}\n</code></pre>\n\n<p>You won't be able to get rid of the <code>any</code> unless/until <a href=\"https://github.com/Microsoft/TypeScript/issues/10727\" rel=\"nofollow noreferrer\">this suggestion</a> is implemented.  I wouldn't worry about it.</p>\n\n<p>This <code>withoutFooProp</code> function should work on any concrete input type and give you a concrete output type.  If you are using <code>withoutFooProp</code> on objects of generic types, then you may run into problems because of TypeScript's limited ability to reason about <code>Pick</code> and <code>Exclude</code>, and you may wish to use intersections instead (even though doing so is technically unsound), as demonstrated in <a href=\"https://stackoverflow.com/a/52528669\">this answer</a> in the context of React higher-order components.</p>\n"}], "owner": {"reputation": 133, "user_id": 10375678, "user_type": "registered", "profile_image": "https://graph.facebook.com/10110131486062530/picture?type=large", "display_name": "Jim Englert", "link": "https://stackoverflow.com/users/10375678/jim-englert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538616300, "creation_date": 1538610653, "question_id": 52637109, "link": "https://stackoverflow.com/questions/52637109/typescript-remove-an-attribute-from-an-object-safely", "title": "Typescript: Remove an attribute from an object safely", "body": "<p>I'd like to write a typescript function that takes an object that includes the parameter <code>foo</code> and outputs the same object without the parameter <code>foo</code>.  I want to do this all in a typesafe manner.  Seems pretty simple, but I'm stumbling.  Here is the code I have so far:</p>\n\n<pre><code>interface FooProp {\n    foo: string;\n}\ntype WithFooProp&lt;P extends object&gt; = P extends FooProp ? P : never;\ntype WithoutFooProp&lt;P extends object&gt; = P extends FooProp ? never: P;\n\nfunction withoutFooProp&lt;P extends object&gt;(input: WithFooProp&lt;P&gt;): WithoutFooProp&lt;P&gt; {\n    // How do I get rid of these any's\n    const {foo, ...withoutFoo} = input as any;\n    return withoutFoo as any;\n}\n</code></pre>\n\n<p>This isn't great because I use <code>any</code> a bunch.  I'd sorta expect the code to work as is without <code>any</code>, but TS complains that <code>input</code> isn't an object and can't be destructured.  How could I improve this method?</p>\n\n<p>In addition, when I use this function, TS forces me to provide the generic types explicitly.  I wish it would infer the types implicitly. Is there any way I could write the function to implicitly grab the parameters.</p>\n\n<pre><code>// Compiles - but I have to specify the props explicitly\nwithoutFooProp&lt;{foo: string, bar: string}&gt;({\n    foo: 'hi',\n    bar: 'hi',\n});\n\n// This doesn't compile - I wish it did!  How can I make it?\nwithoutFooProp({\n    foo: 'hi',\n    bar: 'hi',\n});\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "edited": false, "score": 0, "creation_date": 1538617710, "post_id": 52637469, "comment_id": 92208632, "body": "Argh that makes sense. I didn&#39;t think about the fact that the definitions are in modules."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 10, "last_activity_date": 1538613987, "creation_date": 1538613987, "answer_id": 52637469, "question_id": 52637028, "link": "https://stackoverflow.com/questions/52637028/how-can-i-use-typescripts-declaration-merging-with-an-interface-imported-from-a/52637469#52637469", "title": "How can I use Typescript&#39;s declaration merging with an interface imported from a module?", "body": "<p>In fact, in your second example, when I add the imports that I assume you must have:</p>\n\n<pre><code>import * as React from \"react\";\nimport { RouteComponentProps, StaticContext } from \"react-router\";\n</code></pre>\n\n<p>I get an error on the import of <code>RouteComponentProps</code>.</p>\n\n<p>You can't merge content into an imported symbol (interface, namespace, etc.) by declaring a local symbol of the same name; either this will be an error or it will shadow the imported symbol.  To merge definitions, they must be in the same scope.  In the case of merging content into a symbol from a module, you can use a module augmentation to put your definition in the scope of the original module:</p>\n\n<pre><code>declare module \"react-router\" {\n    interface RouteComponentProps&lt;Params, C extends StaticContext = StaticContext&gt; {\n        loadCandidateFromQueryParam: (candidateId: number) =&gt; void\n    }\n}\n</code></pre>\n\n<p>(What makes this a module augmentation rather than a module declaration is that it is nested inside another module.  Obscure, I know.)  Note that the names of the type parameters have to be the same as in the original interface.</p>\n"}], "owner": {"reputation": 4673, "user_id": 310297, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/f2b790c7244df43c34434dedcf31fe18?s=128&d=identicon&r=PG", "display_name": "Jazzepi", "link": "https://stackoverflow.com/users/310297/jazzepi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2869, "favorite_count": 3, "accepted_answer_id": 52637469, "answer_count": 1, "score": 5, "last_activity_date": 1538614020, "creation_date": 1538609734, "last_edit_date": 1538614020, "question_id": 52637028, "link": "https://stackoverflow.com/questions/52637028/how-can-i-use-typescripts-declaration-merging-with-an-interface-imported-from-a", "title": "How can I use Typescript&#39;s declaration merging with an interface imported from a module?", "body": "<p><a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-merging.html</a></p>\n\n<p>The above link provides information on declaration merging with interfaces. I'd like to be able to do that with an interface that's got a generic component. I'm currently using Typescript 3.0.3.</p>\n\n<p>This does what I want, but I don't understand why I can't do the same thing with declaration merging.</p>\n\n<pre><code>interface MyRouteComponentProps&lt;P, C extends StaticContext = StaticContext&gt; extends RouteComponentProps&lt;P, C&gt; {\n    loadCandidateFromQueryParam: (candidateId: number) =&gt; void\n}\n\nclass CandidateDetailContainer extends React.Component&lt;MyRouteComponentProps&lt;RouteMatchProps&gt;, {}&gt; {\n\n    public componentWillMount() {\n        this.props.loadCandidateFromQueryParam(Number(this.props.match.params.candidateId));\n    }\n</code></pre>\n\n<p>Why doesn't this work?</p>\n\n<pre><code>interface RouteComponentProps&lt;P, C extends StaticContext = StaticContext&gt; {\n    loadCandidateFromQueryParam: (candidateId: number) =&gt; void\n}\n\nclass CandidateDetailContainer extends React.Component&lt;RouteComponentProps&lt;RouteMatchProps&gt;, {}&gt; {\n</code></pre>\n\n<p>It seems to completely override the entire definition for RouteComponentProps instead of merging them. I get errors related to P and C never being used (if the definitions were merged then I would expect those errors to go away because they're used in the primary definition). And then I get an error about \"match\" field not being there. Again, another field that was present in the original definition.</p>\n\n<p>For reference here's the original definition that I'm trying to merge with.</p>\n\n<pre><code>export interface RouteComponentProps&lt;P, C extends StaticContext = StaticContext&gt; {\n  history: H.History;\n  location: H.Location;\n  match: match&lt;P&gt;;\n  staticContext: C | undefined;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "keyboard-events", "backspace", "libphonenumber"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11511992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37968f2305b354173a9447c11ea1a08e?s=128&d=identicon&r=PG&f=1", "display_name": "TimeSheets", "link": "https://stackoverflow.com/users/11511992/timesheets"}, "is_accepted": true, "score": 1, "last_activity_date": 1562195307, "last_edit_date": 1562195307, "creation_date": 1562194972, "answer_id": 56878880, "question_id": 52636888, "link": "https://stackoverflow.com/questions/52636888/how-to-handle-backspace-with-libphonenumber-asyoutypeformatter/56878880#56878880", "title": "How to handle backspace with libphonenumber AsYouTypeFormatter", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"isNumber\": function(evt) {\r\n    evt = (evt) ? evt : window.event;\r\n    var charCode = (evt.which) ? evt.which : evt.keyCode;\r\n\r\nif ((charCode &gt; 31 &amp;&amp; (charCode &lt; 48 || charCode &gt; 57) || charCode === 46 || charCode === 13)) {\r\n    //do not allow non numeric characters \r\n    evt.preventDefault();\r\n}else{\r\n    //ok: numeric character\r\n    //handle phone number masking.\r\n    this.phoneNumberForm =this.formatter.inputDigit(evt.key);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I haven't found any methods that will move the formatter index back.\n(That doesn't mean that they are not there)\nWhat I did was prevent the backspace keydown event. Along with any other non-numeric character. Here is the function I used:</p>\n"}], "owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 56878880, "answer_count": 1, "score": 1, "last_activity_date": 1562195307, "creation_date": 1538608574, "last_edit_date": 1538661690, "question_id": 52636888, "link": "https://stackoverflow.com/questions/52636888/how-to-handle-backspace-with-libphonenumber-asyoutypeformatter", "title": "How to handle backspace with libphonenumber AsYouTypeFormatter", "body": "<p>I'm trying to use <a href=\"https://github.com/ruimarinho/google-libphonenumber\" rel=\"nofollow noreferrer\">google-libphonenumber</a>'s <code>AsYouTypeFormatter</code> with a simple input element on a web form. I pass each key typed by the user to the <code>inputDigit</code> method. The problem I'm running into is that when the user hits backspace, google-libphonenumber doesn't remove the last digit and simply appends <code>Backspace</code> to the phone number. Am I using the AsYouTypeFormatter improperly? Is it not able to deal with backspaces? If so, and I suspect that is the case, how should I handle the case where the user presses backspace?</p>\n\n<p>Here is a link to an example project: <a href=\"https://stackblitz.com/edit/libphonenumber\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/libphonenumber</a></p>\n\n<p>And here is the code:</p>\n\n<pre><code>import { AsYouTypeFormatter } from 'google-libphonenumber';\n\nconst appDiv: HTMLElement = document.getElementById('app');\nappDiv.innerHTML = `\n  &lt;h1&gt;Libphonenumber Playground&lt;/h1&gt;\n  &lt;input id=\"input\" type=\"text\"&gt;\n`;\n\nthis.formatter = new AsYouTypeFormatter('us');\n\nconst input = document.getElementById('input') as HTMLInputElement;\n\ninput.addEventListener('keyup', (event: KeyboardEvent) =&gt; {\n  console.log(this.formatter.inputDigit(event.key));\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "promise"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1538609929, "creation_date": 1538609929, "answer_id": 52637046, "question_id": 52636740, "link": "https://stackoverflow.com/questions/52636740/how-to-return-resolving-promise-like-object-from-for-loop/52637046#52637046", "title": "How to return resolving Promise Like object from for loop", "body": "<p>Since a promise represents a value that will be available in the future, you can't test \"now\" (synchronously) which one succeeds.  Instead, you have to use the available functions for manipulating and combining promises.  I'm assuming <code>encryptionTool.decrypt</code> returns a <code>PromiseLike&lt;string&gt;</code>; if it's a <code>PromiseLike&lt;T&gt;</code> for some other <code>T</code>, just replace <code>string</code> with that <code>T</code> in the following.</p>\n\n<p>First, you can use <code>Promise.resolve</code> to convert the <code>PromiseLike&lt;string&gt;</code> to a <code>Promise&lt;string&gt;</code>.  Then, you want to use <code>Promise.all</code> to take an array of promises and give you back a promise of the array of results, so you can write a <code>then</code> callback to scan the array and take the result you want.  A potential problem is that <code>Promise.all</code> rejects if <em>any</em> of the provided promises rejects, in which case you don't get to see the other results.  So before you use <code>Promise.all</code>, you need to use <code>catch</code> to map the rejection to a sentinel value, such as <code>null</code>.  The complete code would look something like this (I haven't tested it, so there may be mistakes):</p>\n\n<pre><code>    // Assuming that encryptionTool.decrypt returns a PromiseLike&lt;string&gt;,\n    // promises will be a Promise&lt;string | null&gt;[].\n    let promises = [];\n    for (let i = 0; i &lt;= locationInputs.length - 1; i++) {\n        promises.push(\n            Promise.resolve(encryptionTool.decrypt(locationInputs[i], ciphertext, originalHash))\n            .catch((error) =&gt; null));\n    }\n    return Promise.all(promises).then((results) =&gt; {\n        // results is a (string | null)[].\n        // Look through it, find the non-null result and return it.\n    });\n</code></pre>\n\n<p>Note that the final <code>then</code> call generates a promise for the final result, and you return this promise synchronously to the caller of <code>decryptMessage</code>.</p>\n\n<p>An alternative approach would be to make <code>decryptMessage</code> an async function so you can program in a more familiar style.  Replace <code>public decryptMessage</code> with <code>public async decryptMessage</code> and then use code like this:</p>\n\n<pre><code>    for (let i = 0; i &lt;= locationInputs.length - 1; i++) {\n        try {\n            return await encryptionTool.decrypt(locationInputs[i], ciphertext, originalHash);\n        } catch (e) {\n            // Discard the exception and proceed to the next decryption attempt.\n        }\n    }\n    // TODO: Decide what to return here if all decryptions fail.\n</code></pre>\n\n<p>Note that this way, each decryption does not start until after the previous one fails, so the process may take longer to complete depending on how the web crypto API is implemented.</p>\n"}], "owner": {"reputation": 23, "user_id": 10438323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4eedc3d97dfbc78173ac69426f4ee01?s=128&d=identicon&r=PG&f=1", "display_name": "todesengel", "link": "https://stackoverflow.com/users/10438323/todesengel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "accepted_answer_id": 52637046, "answer_count": 1, "score": 0, "last_activity_date": 1538609929, "creation_date": 1538607205, "question_id": 52636740, "link": "https://stackoverflow.com/questions/52636740/how-to-return-resolving-promise-like-object-from-for-loop", "title": "How to return resolving Promise Like object from for loop", "body": "<p>I have a promise like object in my own function that decrypts the given message using web crypto api. Problem is, in my decrypt function, I want to try couple of different values as an input and run this promise like object multiple times in a for loop and at the end function should return the object which ever of these promises resolve successfully.</p>\n\n<pre><code>public decryptMessage(latitude: [string, number], longitude: [string, number], ciphertext: string) {\n    //get salt \n    const salt = localStorage.getItem(\"salt\")\n    const retrievedSaltArray = JSON.parse(salt)\n    const saltBytes = new Uint8Array(retrievedSaltArray)\n\n    //get iv\n    const iv = localStorage.getItem(\"iv\")\n    const retrievedIvArray = JSON.parse(iv)\n    const ivBytes = new Uint8Array(retrievedIvArray)\n\n    //get tolerance distance\n    let toleranceDistance = parseInt(JSON.parse(localStorage.getItem(\"toleranceDistance\")))\n\n    //get original keyHash\n    let originalHash = localStorage.getItem(\"keyhash\")\n\n    //create location inputs(locations with adjacent quadrants)\n    let location = new Location(latitude, longitude)\n    let locationInputs = location.prepareReceiverLocationInputs()\n\n    let encryptionTool = new EncryptionHelper(saltBytes, ivBytes)\n\n    for (let i = 0; i &lt;= locationInputs.length - 1; i++) {\n        let plaintText = encryptionTool.decrypt(locationInputs[i], ciphertext, originalHash)\n        plaintText.then(function (plaintTextResult) {\n            return plaintTextResult\n        })\n    }\n\n}\n</code></pre>\n\n<p>So here what I try to do is, this promise Like ojbect which is encryptionTool.decryp()  should run in the for loop and then whichever of these promises resolves should be the return value of decryptMessage method. However, this encryptionTool.decrypt method uses webcrypto api so it doesnt have reject or catch methods because it is an promise like method. </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1538601527, "post_id": 52635665, "comment_id": 92204853, "body": "The posted question does not appear to include <a href=\"https://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">any attempt</a> at all to solve the problem. StackOverflow expects you to <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">try to solve your own problem first</a>, as your attempts help us to better understand what you want. Please edit the question to show what you&#39;ve tried, so as to illustrate a specific problem you&#39;re having in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}, {"owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 1, "creation_date": 1538602784, "post_id": 52635665, "comment_id": 92205290, "body": "Seems like you need a counter. <a href=\"http://wiki.c2.com/?CounterInManyProgrammingLanguages\" rel=\"nofollow noreferrer\">This link</a> provides the code for the most basic counter. From there, it should be straightforward to modify and suit it to your needs. Is it the counter itself you have problems with or writing the counter results to a partially filled array?"}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1538602956, "post_id": 52635665, "comment_id": 92205349, "body": "just thinking about the efficient way and implementation. current though is to get the first object&#39;s time based on the latest, generate the <code>hr:mm</code> array for that time period and compare it with the existing array. this will be a bit messy -&gt; maybe there is a better approach."}, {"owner": {"reputation": 3226, "user_id": 2928853, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dbIon.png?s=128&g=1", "display_name": "jrook", "link": "https://stackoverflow.com/users/2928853/jrook"}, "edited": false, "score": 0, "creation_date": 1538603566, "post_id": 52635665, "comment_id": 92205560, "body": "Since we are talking about an array of only 1440 (24*60) elements, I don&#39;t think time complexity should be a concern. I suggest you implement that part and then rewrite your question to focus on the more interesting problem (checking for already inserted elements). Maybe putting the original data into a <code>Map</code> can help for that problem."}, {"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1538665347, "post_id": 52635665, "comment_id": 92231614, "body": "updated with the sample solution. Checking for inserted elements seems easy for me, but generating 24 hours back is messed up."}], "answers": [{"comments": [{"owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "edited": false, "score": 0, "creation_date": 1538684093, "post_id": 52651673, "comment_id": 92240358, "body": "Thanks a lot! That looks much better. the only thing had to adjust is <code>i&lt;minutesNumber + 1</code> cause last minute need to be included"}], "tags": [], "owner": {"reputation": 12011, "user_id": 2533215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5bc50f76b328796bf7e380c77f1028?s=128&d=identicon&r=PG", "display_name": "Ilya Streltsyn", "link": "https://stackoverflow.com/users/2533215/ilya-streltsyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1538671066, "creation_date": 1538671066, "answer_id": 52651673, "question_id": 52635665, "link": "https://stackoverflow.com/questions/52635665/fill-the-hrmin-values-in-array-of-objects-up-to-24-hours-back/52651673#52651673", "title": "fill the hr:min values in array of objects up to 24 hours back", "body": "<p>Doesn't looping through 1440 minutes, starting from current time and formatting each minute as <code>hh:mm</code>, solve the problem?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let now = new Date();\r\nlet currentMinuteIndex = now.getHours() * 60 + now.getMinutes(); // number of the current minute\r\n\r\nconst minutesNumber = 1440; //60*24\r\nlet arr = Array(minutesNumber);\r\nfor (let i=0; i&lt;minutesNumber; i++) {\r\n  let timeItem = i + currentMinuteIndex;\r\n  let hours = (~~(timeItem/60)%24).toFixed(0); // clamp hours to 0-23 interval\r\n  let minutes = (timeItem%60).toFixed(0); // clamp minutes to 0-59 interval\r\n  arr[i] = {\r\n    x:`${hours.padStart(2,'0')}:${minutes.padStart(2,'0')}`, // add leading zeroes if needed\r\n    y: 0\r\n  }\r\n}\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2610, "user_id": 1935987, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5eff26f68653c98d8b443b107c7de43b?s=128&d=identicon&r=PG", "display_name": "user1935987", "link": "https://stackoverflow.com/users/1935987/user1935987"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 52651673, "answer_count": 1, "score": 0, "last_activity_date": 1538671066, "creation_date": 1538600597, "last_edit_date": 1538665272, "question_id": 52635665, "link": "https://stackoverflow.com/questions/52635665/fill-the-hrmin-values-in-array-of-objects-up-to-24-hours-back", "title": "fill the hr:min values in array of objects up to 24 hours back", "body": "<p>i have an array of objects which is looks like this</p>\n\n<pre><code>{x: \"14:33\", y: 0}\n{x: \"14:34\", y: 0}\n{x: \"14:35\", y: 1}\n{x: \"14:36\", y: 1}\n{x: \"14:37\", y: 0}\n{x: \"15:33\", y: 0}\n{x: \"15:34\", y: 0}\n{x: \"15:35\", y: 1}\n{x: \"15:36\", y: 1}\n{x: \"15:37\", y: 0}\n</code></pre>\n\n<p>imagine <code>4: {x: \"15:37\", y: 0}</code> is the last element.</p>\n\n<p><strong>Question:</strong> what is the best way to fill it up to 24 hours back? (with values<code>{x: \"*hr*:*mm*\", y: 0}</code>)</p>\n\n<p>i.e. first element should be <code>{x: \"15:37\", y: 0}</code> (24 hours ago).\nInitial array covers few or more hours of time. There might be skipped hours/minutes in initial array, which also need to be filled</p>\n\n<p><strong>Update:</strong>\nThats my current solution (specifically filling the 24 hours back looks very messy to me):</p>\n\n<pre><code>  someFunc() {\n    const timeArr = this.get24hrTimeArray(this.data[this.data.length - 1].x);\n    this.fill24Hr(timeArr, this.data)\n  }\n\n  get24hrTimeArray(lastTime) {\n    let arr = [];\n    let hours = [];\n\n    const endHr: number = +lastTime.split(':')[0];\n    const endMin: number = +lastTime.split(':')[1];\n\n    let hr = endHr;\n    for (let i = 0; i &lt; 23; i++) {\n      if (hr &gt; 23) {\n        hr = 0;\n      }\n      hours.push(hr);\n      hr = hr + 1;\n    }\n    hours.push(endHr)\n\n\n    for (let i = 0; i &lt; hours.length; i++) {\n      let start = 0;\n      let stop = 60;\n      if (hours[i] === endHr &amp;&amp; i === 0) {\n        start = endMin;\n      } else if (hours[i] === endHr &amp;&amp; i !== 0) {\n        stop = endMin + 1;\n      }\n      for (let j = start; j &lt; stop; j++) {\n        if (j &lt; 10) {\n          arr.push(`${hours[i]}:0${j}`);\n        } else {\n          arr.push(`${hours[i]}:${j}`);\n        }\n      }\n    }\n    return arr;\n  }\n\n  fill24Hr(timeArr, objArr) {\n    return timeArr.map(time =&gt; {\n      const found = objArr.find(e =&gt; e.x === time);\n      if (found) {\n        return ({ x: time, y: found.y });\n      } else {\n        return ({ x: time, y: 0 });\n      }\n    });\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "observable", "reactivex"], "comments": [{"owner": {"reputation": 557, "user_id": 5098209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZhYBs.jpg?s=128&g=1", "display_name": "saglamcem", "link": "https://stackoverflow.com/users/5098209/saglamcem"}, "edited": false, "score": 2, "creation_date": 1538600629, "post_id": 52635448, "comment_id": 92204511, "body": "If the information on the following link is true, toPromise is deprecated. <a href=\"https://www.learnrxjs.io/operators/utility/topromise.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/utility/topromise.html</a> However, I would expect what you did to work. I&#39;d suggest you look into the basics of Observables, and try to solve your problem by subscribing to the http response. Angular 6 seems to be working heavily with Observables, and if you can change the code as you wish, I think looking into Observables is a good investment."}], "answers": [{"tags": [], "owner": {"reputation": 624, "user_id": 1885401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi4X2.jpg?s=128&g=1", "display_name": "Diego Bascans", "link": "https://stackoverflow.com/users/1885401/diego-bascans"}, "is_accepted": false, "score": 1, "last_activity_date": 1538600646, "creation_date": 1538600646, "answer_id": 52635679, "question_id": 52635448, "link": "https://stackoverflow.com/questions/52635448/angular-6-functions-that-consumes-observable-from-http-get-returns-before-buildi/52635679#52635679", "title": "Angular 6 functions that consumes Observable from HTTP GET returns before building the Data", "body": "<p>This is because in JavaScript doesn\u2019t wait until the response come back. Doesn\u2019t make sense that you return something in the behavior after the response</p>\n\n<p>I think you should save your list in an attribute, and use that in your component or where you want to use it.</p>\n\n<pre><code>public users: Users = undefined\n\npublic getUsers() {\n    let responseValue = this.http.get(this.utils.provideserviceURL('http://test.com/users'));\n\n    responseValue.toPromise()\n    .then(result =&gt; {\n      let usersList: User[] = [];\n      let jsonResult = result.json();\n      for (let temp of jsonResult) {\n        let tempUser = new User(jsonResult.id, jsonResult.username, jsonResult.password, jsonResult.firstName, jsonResult.lastName);\n        usersList.push(tempUser);\n      }\n      console.log(usersList);\n      this.users = usersList;\n    })\n    .catch(err =&gt; {\n      // Error while fetching Users\n      console.log('Error');\n    });\n\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52, "user_id": 3130965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8d7c5c5c7dc05735ed1f46761de1da?s=128&d=identicon&r=PG&f=1", "display_name": "Ryu", "link": "https://stackoverflow.com/users/3130965/ryu"}, "is_accepted": false, "score": 1, "last_activity_date": 1538600792, "creation_date": 1538600792, "answer_id": 52635703, "question_id": 52635448, "link": "https://stackoverflow.com/questions/52635448/angular-6-functions-that-consumes-observable-from-http-get-returns-before-buildi/52635703#52635703", "title": "Angular 6 functions that consumes Observable from HTTP GET returns before building the Data", "body": "<p>This is how I do it (I saw toPromise is depreciated), </p>\n\n<pre><code>constructor(private dataservice: DataService){}\n\nmyEmail: string = '';\nmyID: number = 0;\n\nngOnInit(){\nthis.dataservice.getMe()\n.subscribe((data: WhoAmI) =&gt; {\n  this.myEmail = data.Contacts.find(x=&gt;x.ContactTypeName == \"Email\").ContactValue;\n  this.myID = data.ID;\n});\n</code></pre>\n"}], "owner": {"reputation": 7333, "user_id": 1790632, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/y79ES.jpg?s=128&g=1", "display_name": "Kishor Prakash", "link": "https://stackoverflow.com/users/1790632/kishor-prakash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538600792, "creation_date": 1538599603, "last_edit_date": 1538600144, "question_id": 52635448, "link": "https://stackoverflow.com/questions/52635448/angular-6-functions-that-consumes-observable-from-http-get-returns-before-buildi", "title": "Angular 6 functions that consumes Observable from HTTP GET returns before building the Data", "body": "<p>I am trying to read data from a REST endpoint. After reading data and I want to construct a List of instances and return the list. </p>\n\n<p>But since <code>HTTP</code> <code>GET</code> function returns a <code>Observable</code> method always returns and empty list before constructing it from response.</p>\n\n<p>Here is my code:</p>\n\n<pre><code> public getUsers() {\n    let responseValue = this.http.get(this.utils.provideserviceURL('http://test.com/users'));\n\n    responseValue.toPromise()\n    .then(result =&gt; {\n      let usersList: User[] = [];\n      let jsonResult = result.json();\n      for (let temp of jsonResult) {\n        let tempUser = new User(jsonResult.id, jsonResult.username, jsonResult.password, jsonResult.firstName, jsonResult.lastName);\n        usersList.push(tempUser);\n      }\n      console.log(usersList);\n      return usersList;\n    })\n    .catch(err =&gt; {\n      // Error while fetching Users\n      console.log('Error');\n    });\n\n  }\n</code></pre>\n\n<p>Here the function returns <code>undefined</code> and then prints the console with the proper data.</p>\n\n<p>I am not fully aware of proper way to use the <code>toPromise()</code>. Please point me to the post if its already been discussed and make this question as duplicate.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 0, "creation_date": 1538600754, "post_id": 52635412, "comment_id": 92204577, "body": "This isn&#39;t doing what you expect it to do. <code>async func&lt;TLocalResponse&gt;()  {}</code> will only assign a different name to <code>T</code> and doesn&#39;t refer to the type <code>TLocalResponse</code>. With definition <code>func&lt;T&gt;(): Promise&lt;TMainResponse&lt;T&gt;&gt;</code> youll need to specify what needs to be done when the user calls it with <code>func&lt;string&gt;()</code> or <code>func&lt;number&gt;()</code> for example (you&#39;ll need to actually define a generic <code>func&lt;T&gt;()</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": true, "score": 0, "last_activity_date": 1538600279, "creation_date": 1538600279, "answer_id": 52635594, "question_id": 52635412, "link": "https://stackoverflow.com/questions/52635412/typescript-generics-type-result-true-is-not-assignable-to-type-t/52635594#52635594", "title": "TypeScript Generics type &#39;{ result: true }&#39; is not assignable to type &#39;T&#39;", "body": "<blockquote>\n  <p>Am I doing something wrong, or did I just misunderstand the usage of generics?</p>\n</blockquote>\n\n<p>This interface is at least a bit atypical:</p>\n\n<pre><code>interface Foo {\n  func&lt;T&gt;(): Promise&lt;TMainResponse&lt;T&gt;&gt;;\n}\n</code></pre>\n\n<p>The <code>Foo</code> has no type argument, but <code>&lt;T&gt;</code> is used in two places within the body. To be honest I'm not really sure how that's <em>supposed</em> to work (there's no compile error so it's likely working by design -- would be interested if someone can weigh in here) but if you change the interface to hold the type argument:</p>\n\n<pre><code>interface Foo&lt;T&gt; {\n  func(): Promise&lt;TMainResponse&lt;T&gt;&gt;;\n}\n</code></pre>\n\n<p>And the usage accordingly:</p>\n\n<pre><code>const obj: Foo&lt;TLocalResponse&gt; = {\n  async func() {\n    return {\n      data: {\n        result: true\n      }\n    };\n  }\n};\n</code></pre>\n\n<p>Then <a href=\"http://www.typescriptlang.org/play/#src=%0D%0A%2F%2F%20some%20module%0D%0Atype%20TMainResponse%3CT%3E%20%3D%20%7B%0D%0A%20%20data%3A%20T%3B%0D%0A%7D%3B%0D%0A%0D%0Ainterface%20Foo%3CT%3E%20%7B%0D%0A%20%20func()%3A%20Promise%3CTMainResponse%3CT%3E%3E%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20local%20module%0D%0Atype%20TLocalResponse%20%3D%20%7B%0D%0A%20%20result%3A%20boolean%3B%0D%0A%7D%3B%0D%0A%0D%0Aconst%20obj%3A%20Foo%3CTLocalResponse%3E%20%3D%20%7B%0D%0A%20%20async%20func()%20%7B%0D%0A%20%20%20%20return%20%7B%0D%0A%20%20%20%20%20%20data%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20result%3A%20true%0D%0A%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0A(async%20function%20()%20%7B%0D%0A%20%20await%20obj.func()%3B%0D%0A%7D)%3B\" rel=\"nofollow noreferrer\">the whole thing works fine</a>.</p>\n"}], "owner": {"reputation": 13, "user_id": 3366978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XptId.jpg?s=128&g=1", "display_name": "dylanf", "link": "https://stackoverflow.com/users/3366978/dylanf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 52635594, "answer_count": 1, "score": 1, "last_activity_date": 1538600279, "creation_date": 1538599455, "question_id": 52635412, "link": "https://stackoverflow.com/questions/52635412/typescript-generics-type-result-true-is-not-assignable-to-type-t", "title": "TypeScript Generics type &#39;{ result: true }&#39; is not assignable to type &#39;T&#39;", "body": "<p>Attempting to use generic types but I can't seem to get it to work, though I'm sure it's something simple. Here's a basic example</p>\n\n<pre><code>// some module\ntype TMainResponse&lt;T&gt; = {\n  data: T;\n};\n\ninterface Foo {\n  func&lt;T&gt;(): Promise&lt;TMainResponse&lt;T&gt;&gt;;\n}\n\n// local module\ntype TLocalResponse = {\n  result: boolean;\n};\n\nconst obj: Foo = {\n  async func&lt;TLocalResponse&gt;() {\n    return {\n      data: {\n        result: true\n      }\n    };\n  }\n};\n\n(async function () {\n  await obj.func();\n});\n</code></pre>\n\n<p>The result of which is</p>\n\n<pre><code>Type 'Promise&lt;{ data: { result: boolean; }; }&gt;' is not assignable to type 'Promise&lt;TMainResponse&lt;T&gt;&gt;'.\n    Type '{ data: { result: boolean; }; }' is not assignable to type 'TMainResponse&lt;T&gt;'.\n      Types of property 'data' are incompatible.\n        Type '{ result: boolean; }' is not assignable to type 'T'.\n\n16   async func&lt;TLocalResponse&gt;() {\n           ~~~~\n\n  src/test.ts:7:3\n    7   func&lt;T&gt;(): Promise&lt;TMainResponse&lt;T&gt;&gt;;\n        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    The expected type comes from property 'func' which is declared here on type 'Foo'\n</code></pre>\n\n<p>Am I doing something wrong, or did I just misunderstand the usage of generics?</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538598317, "post_id": 52635100, "comment_id": 92203523, "body": "You can&#39;t load files with a relative URL like that. Best bet would be to put the JSON in your /assets/ folder and use that as your url."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538598572, "post_id": 52635100, "comment_id": 92203650, "body": "If I were doing it via CLI and not on the stackblitz, I&#39;d have done it that way. Just wasn&#39;t sure why I couldn&#39;t."}, {"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538599071, "post_id": 52635100, "comment_id": 92203861, "body": "Even doing that isn&#39;t working? <code>url = &#39;&#47;assets&#47;recipes.json&#39;;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "edited": false, "score": 0, "creation_date": 1538598689, "post_id": 52635138, "comment_id": 92203699, "body": "Whoops. Forgot I&#39;d left that in when I converted it back from .ts. Mustn&#39;t have saved it."}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 2, "last_activity_date": 1538598296, "creation_date": 1538598296, "answer_id": 52635138, "question_id": 52635100, "link": "https://stackoverflow.com/questions/52635100/cannot-load-my-json-file-http-failure-during-parsing-for-json/52635138#52635138", "title": "Cannot load my JSON file: Http failure during parsing for JSON", "body": "<p>Having the export</p>\n\n<pre><code>export const recipes = [\n  {...}\n]\n</code></pre>\n\n<p>makes it not a valid json document. Do not use export, remove it</p>\n\n<p>JSON file should just be the json.</p>\n\n<pre><code>[\n  {...}\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "is_accepted": false, "score": 0, "last_activity_date": 1538598659, "creation_date": 1538598659, "answer_id": 52635225, "question_id": 52635100, "link": "https://stackoverflow.com/questions/52635100/cannot-load-my-json-file-http-failure-during-parsing-for-json/52635225#52635225", "title": "Cannot load my JSON file: Http failure during parsing for JSON", "body": "<p>Couple this wrong and missing here:</p>\n\n<ol>\n<li><p>This is not a valid JSON file (in the stackblitz). This is a constant which you can just import using a normal typescript import. If you want to load it using http, you should remove the <code>export const recipes</code> from the file</p></li>\n<li><p>You should move the files folder to the assets folder of the project, this way the file can be loaded from the http server.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "is_accepted": true, "score": 2, "last_activity_date": 1538598717, "creation_date": 1538598717, "answer_id": 52635238, "question_id": 52635100, "link": "https://stackoverflow.com/questions/52635100/cannot-load-my-json-file-http-failure-during-parsing-for-json/52635238#52635238", "title": "Cannot load my JSON file: Http failure during parsing for JSON", "body": "<p>What you have is not a valid JSON file.  epascarello's answer tells you how to convert it to valid JSON, but another option is to just import the data directly.</p>\n\n<ol>\n<li>Change the <code>.json</code> file extension to <code>.ts</code></li>\n<li>In your component, add <code>import {recipes} from '../../files/recipes'</code></li>\n<li>You've got your data!  No need to mess around with http requests.</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5705, "user_id": 2312051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apgfp.jpg?s=128&g=1", "display_name": "Denis Tsoi", "link": "https://stackoverflow.com/users/2312051/denis-tsoi"}, "edited": false, "score": 0, "creation_date": 1592641893, "post_id": 62479393, "comment_id": 110502004, "body": "please add an example section for the code linked - otherwise this answer may be downvoted on quality"}, {"owner": {"reputation": 2071, "user_id": 7478530, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGr5i.png?s=128&g=1", "display_name": "Dragonthoughts", "link": "https://stackoverflow.com/users/7478530/dragonthoughts"}, "edited": false, "score": 0, "creation_date": 1592654476, "post_id": 62479393, "comment_id": 110505362, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/26464581\">From Review</a>"}], "tags": [], "owner": {"reputation": 1051, "user_id": 87884, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ep5Ij.jpg?s=128&g=1", "display_name": "Briana Finney", "link": "https://stackoverflow.com/users/87884/briana-finney"}, "is_accepted": false, "score": -1, "last_activity_date": 1592670739, "last_edit_date": 1592670739, "creation_date": 1592605658, "answer_id": 62479393, "question_id": 52635100, "link": "https://stackoverflow.com/questions/52635100/cannot-load-my-json-file-http-failure-during-parsing-for-json/62479393#62479393", "title": "Cannot load my JSON file: Http failure during parsing for JSON", "body": "<p>I spent a while ripping my hair out today (new to writing in StackBlitz). and even tried what was marked as answer on this thread, with no luck. Anyhow, the key seemed to be adding the .json file to the assets folder. Here's the <a href=\"https://stackblitz.com/edit/read-local-json-file?file=src%2Fapp%2Fapp.module.ts\" rel=\"nofollow noreferrer\">link</a> that finally got me immediate success. Hope that helps someone else keep their hair in tact. :-)</p>\n<p>I've been asked to add code snippet, but not really too much to add, so I created a StackBlitz example that can be viewed, if desired. However, basically it all boils down to this: in <em><strong>StackBlitz</strong></em> when you're loading a local .json file, you do the same thing you normally would...except you ABSOLUTELY put that .json file in the &quot;assets&quot; folder (if you don't have one, create one)</p>\n<pre><code>   this.http.get('/assets/user.json')\n</code></pre>\n<p>I added a StackBlitz example <a href=\"https://stackblitz.com/edit/bfinney-so52635100?embed=1&amp;file=src/app/data.service.ts&amp;view=editor\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3897, "user_id": 3061047, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8254f5cf0a9a916e0a1a2dbf4bff6041?s=128&d=identicon&r=PG&f=1", "display_name": "physicsboy", "link": "https://stackoverflow.com/users/3061047/physicsboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 52635238, "answer_count": 4, "score": -1, "last_activity_date": 1592670739, "creation_date": 1538598088, "question_id": 52635100, "link": "https://stackoverflow.com/questions/52635100/cannot-load-my-json-file-http-failure-during-parsing-for-json", "title": "Cannot load my JSON file: Http failure during parsing for JSON", "body": "<p>I am attempting to load valid json but I am getting the error:</p>\n\n<p><a href=\"https://stackblitz.com/edit/amh-angular-recipes\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<blockquote>\n  <p>Http failure during parsing for ... .json</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/hG4uQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hG4uQ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>recipe.component.ts</strong></p>\n\n<pre><code> url = '../../files/recipes.json';\n  recipes;\n\n  constructor(private fileService: FileLoaderService) {}\n\n  ngOnInit() {\n    this.fileService.getData(this.url).subscribe(res =&gt; console.log(res));\n  }\n</code></pre>\n\n<p><strong>file-loader.service.ts</strong></p>\n\n<pre><code>constructor(private http: HttpClient) { }\n\n  getData(url: string): Observable&lt;any&gt; {\n    return this.http.get(url);\n  }\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "import", "export", "commonjs"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538602402, "post_id": 52635081, "comment_id": 92205154, "body": "You have to first determine so you want to publish a commonjs package or a esm package. You then use tooling to create different distributables."}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1538603574, "post_id": 52635081, "comment_id": 92205564, "body": "You have to use <code>esModuleInterop</code> if you want both <code>import foo</code> and <code>import * as foo</code> to give you the same thing. That is not ES spec compliant module behavior."}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538606817, "post_id": 52635081, "comment_id": 92206423, "body": "@unional I&#39;m exporting it as a commonjs package. @Aaron if I set <code>esModuleInterop</code> in my TS package&#39;s <code>tsconfig.json</code> file I don&#39;t see anything chaning in the compiled code, should I export the module in a particular way?"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538606883, "post_id": 52635081, "comment_id": 92206436, "body": "In that case yes, you don\u2019t need webpack"}], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "edited": false, "score": 0, "creation_date": 1538606461, "post_id": 52636089, "comment_id": 92206342, "body": "Yes that&#39;s what I&#39;m doing already. But I can&#39;t find a find of actually exporting the module cleanly from TS so that it generates the right type definitions."}], "tags": [], "owner": {"reputation": 1, "user_id": 10453395, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JIx76nGBVVw/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUzsvDZaVAOGDJkA-NeXcEAD6g_dg/mo/photo.jpg?sz=128", "display_name": "Shahar Tal", "link": "https://stackoverflow.com/users/10453395/shahar-tal"}, "is_accepted": false, "score": 0, "last_activity_date": 1538622819, "last_edit_date": 1538622819, "creation_date": 1538602970, "answer_id": 52636089, "question_id": 52635081, "link": "https://stackoverflow.com/questions/52635081/how-to-export-a-typescript-module-so-that-can-be-imported-both-from-typescript-a/52636089#52636089", "title": "How to export a TypeScript module so that can be imported both from TypeScript and Node?", "body": "<p>As far as I know export and imports is not supported in NodeJS yet.\nCheck this article: <a href=\"https://stackoverflow.com/questions/39436322/node-js-syntaxerror-unexpected-token-import\">node-js-syntaxerror-unexpected-token-import</a></p>\n\n<p>And as far as I know the only way to use TypeScript types syntax is only in a <code>.ts</code> file so an option is to compile your needed <code>.ts</code> files to <code>.js</code> using Babel.</p>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "edited": false, "score": 0, "creation_date": 1538611555, "post_id": 52636763, "comment_id": 92207446, "body": "My module&#39;s configuration actually looks like this, the problem is that I can&#39;t import it in all the ways that I described in the original post. I guess maybe what I&#39;m trying the compiler to output is not spec-compliant commonjs (?) but that&#39;s what I want, a module that I can import in all those ways that I described."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "edited": false, "score": 0, "creation_date": 1538611720, "post_id": 52636763, "comment_id": 92207484, "body": "Since your decided to distribute the package as commonjs, keep it as is and let the consumer to consume it with <code>import x from &#39;x&#39;</code> when they have <code>esModuleInterop</code> or <code>import x = require(&#39;x&#39;)</code> when they do not. You should not try to out-wit the system. That will just create more problems down the road."}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "edited": false, "score": 0, "creation_date": 1538612054, "post_id": 52636763, "comment_id": 92207548, "body": "the problem is that these modules are not new, I&#39;m already importing them in existing projects with something like <code>import foo from &#39;foo&#39;</code> from TypeScript, but I also want other folks to be able to write <code>const foo = require ( &#39;foo&#39; )</code> instead of the weird <code>const foo = require ( &#39;foo&#39; ).default</code>. I can&#39;t just rewrite all those imports, and I don&#39;t want to do a major version bump just for this."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "edited": false, "score": 0, "creation_date": 1538679261, "post_id": 52636763, "comment_id": 92238251, "body": "If you really want that behavior, you can do this: <a href=\"https://github.com/Microsoft/TypeScript/issues/16093#issuecomment-304589484\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/&hellip;</a>  However, it is really a step backward. Since you are upgrading your code to a different module syntax, make it a breaking change and let the consumption side deal with it, IMO. Don&#39;t complicate things more than it is necessary. You will very likely regret this decision in the future."}], "tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": 0, "last_activity_date": 1538607349, "creation_date": 1538607349, "answer_id": 52636763, "question_id": 52635081, "link": "https://stackoverflow.com/questions/52635081/how-to-export-a-typescript-module-so-that-can-be-imported-both-from-typescript-a/52636763#52636763", "title": "How to export a TypeScript module so that can be imported both from TypeScript and Node?", "body": "<p>Since you are publishing as a commonjs package, you don't need rollup/webpack.</p>\n\n<p>All you need is to transpile your code to es5 in commonjs using the TypeScript compiler.</p>\n\n<p>Your tsconfig.json should look like this:</p>\n\n<pre><code>// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es5\",\n    \"outDir\": \"dist\" // customize this yourself.\n    ...\n  }\n}\n</code></pre>\n\n<p>And in your package.json:</p>\n\n<pre><code>// package.json\n{\n  \"main\": \"dist/index.js\",\n  \"typings\": \"dist/inde.d.ts\",\n  \"files\": [\n    \"dist\" // customize this yourself.\n  ],\n  ...\n}\n</code></pre>\n\n<p>Here is an example repository you can take a look into:</p>\n\n<p><a href=\"https://github.com/unional/path-equal\" rel=\"nofollow noreferrer\">https://github.com/unional/path-equal</a></p>\n"}, {"tags": [], "owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "is_accepted": true, "score": 1, "last_activity_date": 1538618330, "creation_date": 1538618330, "answer_id": 52637933, "question_id": 52635081, "link": "https://stackoverflow.com/questions/52635081/how-to-export-a-typescript-module-so-that-can-be-imported-both-from-typescript-a/52637933#52637933", "title": "How to export a TypeScript module so that can be imported both from TypeScript and Node?", "body": "<p>This is the best that I could come up with:</p>\n\n<pre><code>export = Object.assign ( foo, { default: foo } );\n</code></pre>\n\n<p>It's pretty terse, type definitions are properly generated, and it can be imported using all the aforementioned methods.</p>\n"}], "owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 52637933, "answer_count": 3, "score": 0, "last_activity_date": 1538622819, "creation_date": 1538598010, "question_id": 52635081, "link": "https://stackoverflow.com/questions/52635081/how-to-export-a-typescript-module-so-that-can-be-imported-both-from-typescript-a", "title": "How to export a TypeScript module so that can be imported both from TypeScript and Node?", "body": "<p>Let's say a have the following TypeScript module:</p>\n\n<pre><code>function foo () {\n  return 123;\n}\n\n//TODO: Export code here\n</code></pre>\n\n<p>I want to export it in such a way that can be imported in these ways from TypeScript:</p>\n\n<pre><code>import foo from 'foo';\nimport * as foo from 'foo';\n</code></pre>\n\n<p>and in this way from Node:</p>\n\n<pre><code>const foo = require ( 'foo' );\n</code></pre>\n\n<p>Requirements:</p>\n\n<ul>\n<li>I don't what the users of my module to have to set the <code>allowSyntheticDefaultImports</code> option</li>\n<li>I want the code for exporting the module to be as clean as possible</li>\n<li>I want to preserve type definitions</li>\n</ul>\n\n<p>So far I've come up with the following \"solutions\", but they either don't preserve type definitions well enough or are too verbose:</p>\n\n<pre><code>export = foo['default'] = foo as typeof foo &amp; { default: typeof foo };\nexport = foo['default'] = foo;\n</code></pre>\n\n<p>Is there a better way?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 352, "user_id": 9239242, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0802cf4cb38b481192cb596276d29a89?s=128&d=identicon&r=PG", "display_name": "ghuntheur", "link": "https://stackoverflow.com/users/9239242/ghuntheur"}, "edited": false, "score": 1, "creation_date": 1538598563, "post_id": 52635076, "comment_id": 92203643, "body": "You can force <code>item</code> and <code>list</code> to be string with <code>&#39;item&#39; as string === &#39;list&#39; as string ? &#39;list&#39; : &#39;n&#47;a&#39;</code>"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1538598718, "post_id": 52635076, "comment_id": 92203715, "body": "<code>&#39;item&#39; === &#39;list&#39;</code> is false, so you can just replace the whole expression by <code>&#39;n&#47;a&#39;</code>."}, {"owner": {"reputation": 2042, "user_id": 3433538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zoihC.jpg?s=128&g=1", "display_name": "kevinSpaceyIsKeyserS&#246;ze", "link": "https://stackoverflow.com/users/3433538/kevinspaceyiskeysers%c3%b6ze"}, "edited": false, "score": 2, "creation_date": 1538598845, "post_id": 52635076, "comment_id": 92203774, "body": "have you tried to set parenthesis?"}, {"owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "edited": false, "score": 0, "creation_date": 1538600423, "post_id": 52635076, "comment_id": 92204415, "body": "Please elaborate your use case a bit more. What do you mean by &quot;The left hand side is matching with a property of the library&quot;? Are you generating TypeScript code? If not, what exactly does your library return from which method calls or what does it expect?"}, {"owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "edited": false, "score": 0, "creation_date": 1538600660, "post_id": 52635076, "comment_id": 92204529, "body": "so i have a library that spits out items that have the data <code>{item: &#39;list&#39;}</code> and I am doing stuff with that data in a seperate file with <code>this.columns</code>"}, {"owner": {"reputation": 348226, "user_id": 267, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1b11262da6d1cd26b1b0bc99a2620cee?s=128&d=identicon&r=PG", "display_name": "Lasse V. Karlsen", "link": "https://stackoverflow.com/users/267/lasse-v-karlsen"}, "edited": false, "score": 0, "creation_date": 1538601568, "post_id": 52635076, "comment_id": 92204862, "body": "So are you saying that this expression isn&#39;t really executed as-is? So it isn&#39;t really typescript?"}], "answers": [{"comments": [{"owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "edited": false, "score": 0, "creation_date": 1538599591, "post_id": 52635247, "comment_id": 92204099, "body": "Your example works because when writing <code>var item = &#39;item&#39;;</code> or <code>let item = &#39;item&#39;;</code> TypeScript will infer that <code>item</code> has type <code>string</code> - it does that to allow you to assign other strings to that variable. As soon as you switch to <code>const item = &#39;item&#39;;</code> it will show its full type inference capabilities and will assume <code>item</code> to be of the literal type <code>&quot;item&quot;</code> which is stronger than <code>string</code>."}, {"owner": {"reputation": 232, "user_id": 10428255, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--y8pxec09VA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV3SAf5lu6F3lLr7R10DSLwXRQ9TA/mo/photo.jpg?sz=128", "display_name": "dyVeloper", "link": "https://stackoverflow.com/users/10428255/dyveloper"}, "edited": false, "score": 0, "creation_date": 1538599899, "post_id": 52635247, "comment_id": 92204226, "body": "Yes, but my point is that he probably wants to use a variable, otherwise he should just write <code>name: &#39;n&#47;a&#39;</code>"}, {"owner": {"reputation": 232, "user_id": 10428255, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--y8pxec09VA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV3SAf5lu6F3lLr7R10DSLwXRQ9TA/mo/photo.jpg?sz=128", "display_name": "dyVeloper", "link": "https://stackoverflow.com/users/10428255/dyveloper"}, "edited": false, "score": 0, "creation_date": 1538600975, "post_id": 52635247, "comment_id": 92204670, "body": "Edited my answer too"}], "tags": [], "owner": {"reputation": 232, "user_id": 10428255, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--y8pxec09VA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV3SAf5lu6F3lLr7R10DSLwXRQ9TA/mo/photo.jpg?sz=128", "display_name": "dyVeloper", "link": "https://stackoverflow.com/users/10428255/dyveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1538600804, "last_edit_date": 1538600804, "creation_date": 1538598769, "answer_id": 52635247, "question_id": 52635076, "link": "https://stackoverflow.com/questions/52635076/typescript-operator-cannot-be-applied-to-types-x-and-y-in-ternary/52635247#52635247", "title": "Typescript: Operator &#39;===&#39; cannot be applied to types &#39;&quot;x&quot;&#39; and &#39;y&#39;. In ternary operator", "body": "<p>You get a compilation error because <code>'item' === 'list'</code> will always return false. You are comparing 2 literals here. </p>\n\n<p>This will compile if you use variables instead of literals.</p>\n\n<pre><code>var item = 'item';\nthis.columns = [\n  {\n    name: item === 'list' ? 'list' : 'n/a' \n  }\n];\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>The object should be assigned to something. Let's name it props:</p>\n\n<pre><code>const props = {\n  item: 'list'\n}\n\nthis.columns = [\n  {\n    name: props.item === 'list' ? 'list' : 'n/a' \n  }\n];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "edited": false, "score": 0, "creation_date": 1538599973, "post_id": 52635260, "comment_id": 92204250, "body": "hello thanks for your answer!, but it does not seem to work for me. can you check my new edit?"}, {"owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "reply_to_user": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "edited": false, "score": 0, "creation_date": 1538601009, "post_id": 52635260, "comment_id": 92204682, "body": "Ok, after your edit this answer is obsolete. It focuses on the problems arising from strict typing. You actual problem is accessing the data. See my other answer for a solution to this: <a href=\"https://stackoverflow.com/a/52635698/10245948\">stackoverflow.com/a/52635698/10245948</a>"}], "tags": [], "owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "is_accepted": false, "score": 0, "last_activity_date": 1538599708, "last_edit_date": 1538599708, "creation_date": 1538598812, "answer_id": 52635260, "question_id": 52635076, "link": "https://stackoverflow.com/questions/52635076/typescript-operator-cannot-be-applied-to-types-x-and-y-in-ternary/52635260#52635260", "title": "Typescript: Operator &#39;===&#39; cannot be applied to types &#39;&quot;x&quot;&#39; and &#39;y&#39;. In ternary operator", "body": "<p>Typescript has the notion of <a href=\"https://basarat.gitbooks.io/typescript/docs/types/literal-types.html\" rel=\"nofollow noreferrer\">literal types</a>.\nYou are testing two different literals for equality - this is impossible, because the types (literal types!) are different. You may only compare objects which MAY be equal.</p>\n\n<p>Have a look at this example, which has the same flaw:</p>\n\n<pre><code>const x = 'item';\nconst y = 'list';\nconst test = (x === y);\n</code></pre>\n\n<p>The TypeScript compiler will complain about this at the part <code>x === y</code> because <code>x</code> has the type (and value) <code>\"item\"</code> and <code>y</code> has the type (and value) <code>\"list\"</code>.</p>\n\n<p>Those literal string types are subtypes of <code>string</code> but the equality operator requires more - <code>x</code> of type <code>X</code> can only be compared by <code>===</code> to <code>y</code> of type <code>Y</code> if the type inference sees no contradiction in assuming that an object might be of type <code>X</code> and <code>Y</code> at the same time (for example it's fine, if <code>Y</code> is a subtype of <code>X</code>).</p>\n\n<p>The message <code>Operator  '===' cannot be applied to types '\"item\"' and '\"list\"'</code> yo got is showing that.</p>\n\n<p>At TypeScript 3.0+ you'll get another message which is easier to understand: <code>This condition will always return 'false' since the types '\"item\"' and '\"list\"' have no overlap.</code></p>\n\n<p>Notice that the following will work because you are explicitely hiding some type information:</p>\n\n<pre><code>const x: string = 'item'; // x is only declared as SOME string\nconst y = 'list';\nconst test = (x === y);\n</code></pre>\n\n<p>In your example you might write:</p>\n\n<pre><code>const columns = [\n  {\n    name: 'item' === 'list' as string ? 'list' : 'n/a' \n  }\n];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2460, "user_id": 10245948, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDQ7r.jpg?s=128&g=1", "display_name": "Hero Wanders", "link": "https://stackoverflow.com/users/10245948/hero-wanders"}, "is_accepted": false, "score": 0, "last_activity_date": 1538601092, "last_edit_date": 1538601092, "creation_date": 1538600767, "answer_id": 52635698, "question_id": 52635076, "link": "https://stackoverflow.com/questions/52635076/typescript-operator-cannot-be-applied-to-types-x-and-y-in-ternary/52635698#52635698", "title": "Typescript: Operator &#39;===&#39; cannot be applied to types &#39;&quot;x&quot;&#39; and &#39;y&#39;. In ternary operator", "body": "<p>After re-reading your question after you have edited it, you are in the following situation:</p>\n\n<p>From some call you got an object, let's call it <code>obj</code> which contains</p>\n\n<pre><code>{\n   item: 'list'\n}\n</code></pre>\n\n<p>and maybe there are more properties in <code>obj</code> beside <code>item</code>.</p>\n\n<p>Now you want to create an array (supposedly column definitions) whose contents depend on the value of the property <code>item</code> in <code>obj</code>.\nYou tried to get the value of that property by simple writing <code>'item'</code> - it doesn't work like this. To do it right, write: </p>\n\n<pre><code>this.columns = [\n  {\n    name: obj.item === 'list' ? 'list' : 'n/a' \n  }\n];\n</code></pre>\n\n<p>Notice how the property <code>item</code> of <code>obj</code> is explicitly accessed by writing <code>obj.item</code>!</p>\n"}], "owner": {"reputation": 4949, "user_id": 4939530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/i5lXg.jpg?s=128&g=1", "display_name": "cup_of", "link": "https://stackoverflow.com/users/4939530/cup-of"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3815, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1538601092, "creation_date": 1538597991, "last_edit_date": 1538599710, "question_id": 52635076, "link": "https://stackoverflow.com/questions/52635076/typescript-operator-cannot-be-applied-to-types-x-and-y-in-ternary", "title": "Typescript: Operator &#39;===&#39; cannot be applied to types &#39;&quot;x&quot;&#39; and &#39;y&#39;. In ternary operator", "body": "<p>Hello I have an ternary operator inside one of my arrays:</p>\n\n<pre><code>this.columns = [\n  {\n    name: 'item' === 'list' ? 'list' : 'n/a' \n  }\n];\n</code></pre>\n\n<p>It seems that typescript thinks that </p>\n\n<p><code>: 'item'</code></p>\n\n<p>Is me declaring its type so its throwing an error. Can anyone suggest another way to write this ternary operator so I dont get this error? </p>\n\n<p>Edit: I understand that <code>'item' === 'list'</code> is always false. It needs to be in this format due to the library I am using. The left hand side is matching with a property of the library:</p>\n\n<pre><code>{\n  item: 'list'\n}\n</code></pre>\n\n<p>My bad I should of explained this earlier</p>\n"}, {"tags": ["html", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 799, "user_id": 5428615, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1084401491578780/picture?type=large", "display_name": "liborza", "link": "https://stackoverflow.com/users/5428615/liborza"}, "edited": false, "score": 0, "creation_date": 1538598123, "post_id": 52634511, "comment_id": 92203432, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28421427/editable-table-cell-in-angularjs\">Editable Table Cell in AngularJS</a>"}], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 2761186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0w6Ml.png?s=128&g=1", "display_name": "Ravisankar Velayutham", "link": "https://stackoverflow.com/users/2761186/ravisankar-velayutham"}, "is_accepted": false, "score": 0, "last_activity_date": 1538596041, "creation_date": 1538596041, "answer_id": 52634643, "question_id": 52634511, "link": "https://stackoverflow.com/questions/52634511/json-to-editable-table-in-angular/52634643#52634643", "title": "JSON to editable table in Angular", "body": "<p>You may try <a href=\"https://www.primefaces.org/primeng/#/table\" rel=\"nofollow noreferrer\">PrimeNG</a> Table component. It has the flexibility to perform inline editing. </p>\n"}], "owner": {"reputation": 1, "user_id": 10453166, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YwKC8jsQzjk/AAAAAAAAAAI/AAAAAAAAAFM/T2rBioLOOD0/photo.jpg?sz=128", "display_name": "sai challa", "link": "https://stackoverflow.com/users/10453166/sai-challa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1542860621, "creation_date": 1538595513, "last_edit_date": 1538596051, "question_id": 52634511, "link": "https://stackoverflow.com/questions/52634511/json-to-editable-table-in-angular", "title": "JSON to editable table in Angular", "body": "<p>Can anyone tell me how to create an editable table based on the below-mentioned JSON in Angular? JSON has the list of table objects and each table may have a different structure.</p>\n\n<pre><code>{\n  \"tables\": [{\n      \"tableName\": \"tableName1\",\n      \"columnNames\": [\n        \"id\",\n        \"column1\"\n      ],\n      \"columnTypes\": [\n        \"Number\",\n        \"String\"\n      ],\n      \"rows\": [\n        [\"1\", \"How\"],\n        [\"2\", \"Power\"],\n        [\"3\", \"The\"],\n      ]\n    },\n    {\n      \"tableName\": \"tableName2\",\n      \"columnNames\": [\n        \"id\",\n        \"column1\",\n        \"column2\"\n      ],\n      \"columnTypes\": [\n        \"Number\",\n        \"String\",\n        \"Number\"\n      ],\n      \"rows\": [\n        [\"1\", \"How\", \"4\"],\n        [\"2\", \"Power\", \"4\"],\n        [\"3\", \"The\", \"4\"],\n      ]\n    }\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1538592623, "post_id": 52633811, "comment_id": 92200899, "body": "I&#39;m going to frame challenge this and suggest that that kind of code has no place in a template. Its also worth checking that the template is your problem by running it somewhere else. That being said, your question omitted <i>what</i> wasn&#39;t working. Please specify what seems to be going wrong (error messages, etc.)"}, {"owner": {"reputation": 252, "user_id": 6286358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKSsu.jpg?s=128&g=1", "display_name": "SnowmanXL", "link": "https://stackoverflow.com/users/6286358/snowmanxl"}, "reply_to_user": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1538593341, "post_id": 52633811, "comment_id": 92201255, "body": "Good point, I&#39;ve added the stacktrace which is thrown when accessing the page. Futhermore can you please elaborate on the point why this code should have no place in a template?"}, {"owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "edited": false, "score": 0, "creation_date": 1538594685, "post_id": 52633811, "comment_id": 92201908, "body": "Posted that in my answer."}], "answers": [{"comments": [{"owner": {"reputation": 252, "user_id": 6286358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKSsu.jpg?s=128&g=1", "display_name": "SnowmanXL", "link": "https://stackoverflow.com/users/6286358/snowmanxl"}, "edited": false, "score": 0, "creation_date": 1538634504, "post_id": 52634320, "comment_id": 92213015, "body": "I see, that makes sense. Thanks for elaborating. Professionally I work with Java and at times the Angular / TypeScript platform confuses me. I will then rethink the architecture of my app."}], "tags": [], "owner": {"reputation": 57478, "user_id": 1783619, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9BIvl.png?s=128&g=1", "display_name": "BradleyDotNET", "link": "https://stackoverflow.com/users/1783619/bradleydotnet"}, "is_accepted": true, "score": 1, "last_activity_date": 1538594673, "creation_date": 1538594673, "answer_id": 52634320, "question_id": 52633811, "link": "https://stackoverflow.com/questions/52633811/initialize-typescript-class-inside-angular-html-template/52634320#52634320", "title": "Initialize TypeScript class inside Angular HTML template", "body": "<p>Templates don't have immediate access to globals.</p>\n\n<p>You basically can't access anything in a template that's not a property on the component. So in this case, your component would need:</p>\n\n<pre><code>public DropData: any = DropData;\n</code></pre>\n\n<p>This is similar to how you access an enum in a template. You also will have a similar problem with <code>componentManager</code>. The fact that you would need to do this kind of thing speaks to why having such code in a template is a poor choice. Templates represent <em>how a component's data is displayed</em>. The component itself is responsible for creating/fetching/providing that data. </p>\n"}], "owner": {"reputation": 252, "user_id": 6286358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LKSsu.jpg?s=128&g=1", "display_name": "SnowmanXL", "link": "https://stackoverflow.com/users/6286358/snowmanxl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 52634320, "answer_count": 1, "score": 1, "last_activity_date": 1538597381, "creation_date": 1538592393, "last_edit_date": 1538597381, "question_id": 52633811, "link": "https://stackoverflow.com/questions/52633811/initialize-typescript-class-inside-angular-html-template", "title": "Initialize TypeScript class inside Angular HTML template", "body": "<p>The question is regarding using TypeScript and Angular (6)</p>\n\n<p>I have a model class:</p>\n\n<pre><code>export class DropData {\n   private readonly _originType: Component;\n   private readonly _originRow: number;\n   private readonly _originCol: number;\n   private readonly _originComp: number;\n\n\n   constructor(originType: Component, originRow: number, originCol: number, originComp: number) {\n     this._originType = originType;\n     this._originRow = originRow;\n     this._originCol = originCol;\n     this._originComp = originComp;\n   }\n\nexport class Component {\n  id: number;\n  component: string;\n\n  constructor(id: number, component: string) {\n    this.id = id;\n    this.component = component;\n  }\n }\n</code></pre>\n\n<p>Is there a way to initialize this from a HTML template? I tried the following, which doesn't seem to work: </p>\n\n<pre><code>&lt;div mwlDraggable\n     [ghostElementTemplate]=\"dragging\"\n     [dropData]=\"new DropData(new PageComponent(component.id, componentManager.getComponentSimpleName(component.id)),rowIndex, colIndex, compIndex)\"\n     dragActiveClass=\"drag-active\"&gt;\n     &lt;ng-template\n        [appComp]=\"componentManager.getComponentSimpleName(component.id)\"\n        [id]=\"component.id\"&gt;\n     &lt;/ng-template&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>(<strong><em>EDIT</em></strong>: <em>I omitted the function ' componentManager.getComponentSimpleName(component.id)' it returns a string and works properly</em>)</p>\n\n<p><strong><em>EDIT2</em></strong>\nThe stacktrace when accessing the page:</p>\n\n<pre><code>Uncaught Error: Template parse errors:\nParser Error: Unexpected token 'DropData' at column 5 in [new DropData(new \nPageComponent(component.id, componentManager.getComponentSimpleName(component.id)),rowIndex, colIndex, compIndex)] in ng:///AppModule/PageFoundationComponent.html@80:21 (\"    &lt;div mwlDraggable\n                 [ghostElementTemplate]=\"dragging\"\n                 [ERROR -&gt;][dropData]=\"new DropData(new \nPageComponent(component.id, componentManager.getComponentSimpleName(comp\"): ng:///AppModule/PageFoundationComponent.html@80:21\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1538591885, "post_id": 52633575, "comment_id": 92200510, "body": "Can you check <code>error.status</code>?"}, {"owner": {"reputation": 444, "user_id": 9115319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4e2d89c784b2c575c1ba83f8c2a1d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "Dot Net Dev", "link": "https://stackoverflow.com/users/9115319/dot-net-dev"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1538592228, "post_id": 52633575, "comment_id": 92200703, "body": "@ExplosionPills I found the problem, I was having an HttpInterceptor which was filtering out the error message. Thanks."}], "owner": {"reputation": 444, "user_id": 9115319, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4e2d89c784b2c575c1ba83f8c2a1d5e7?s=128&d=identicon&r=PG&f=1", "display_name": "Dot Net Dev", "link": "https://stackoverflow.com/users/9115319/dot-net-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538592303, "creation_date": 1538591442, "last_edit_date": 1592644375, "question_id": 52633575, "link": "https://stackoverflow.com/questions/52633575/read-response-of-400-bad-request-in-catch", "title": "Read response of 400 Bad Request in catch()", "body": "<p>How to read bad request(400) response using .toPromise().catch()</p>\n<p>Here is my code:</p>\n<pre><code>testConnection() {\n    this.http.get(\n      this.backendBaseUrl + `api/Test`, {observe: 'response'}\n    ).toPromise()\n    .then(response =&gt; {\n      alert(`successfully.`);\n    })\n    .catch((error: HttpErrorResponse ) =&gt; {\n      alert(`connection not successful:\\n${error}`); // error.error, error.message =&gt; undefined\n    });\n  }\n</code></pre>\n<p>it only alerts as Bad Request</p>\n<p><strong>Headers:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/qzW7f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzW7f.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Preview/ Response</strong></p>\n<p><a href=\"https://i.stack.imgur.com/k6ZWD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6ZWD.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Alert</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pM6uV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pM6uV.png\" alt=\"enter image description here\" /></a></p>\n<p>Update: I want to alert the response from Preview/Response not just Bad Request</p>\n<p><strong>Solved: Found the issue, was having a HttpInterceptor which was removing the error message</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript", "user-interface"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 10368659, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNuPPSYrXvw/AAAAAAAAAAI/AAAAAAAAA38/mbpIDr5aQ0Y/photo.jpg?sz=128", "display_name": "confusedGuy", "link": "https://stackoverflow.com/users/10368659/confusedguy"}, "edited": false, "score": 0, "creation_date": 1538633985, "post_id": 52633923, "comment_id": 92212771, "body": "yes I have considered drag event but didn&#39;t think it would fit my requirement. though thanks for the suggestion let me see what can be done."}, {"owner": {"reputation": 1014, "user_id": 2740498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ubwyp.jpg?s=128&g=1", "display_name": "Olena Horal", "link": "https://stackoverflow.com/users/2740498/olena-horal"}, "reply_to_user": {"reputation": 61, "user_id": 10368659, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNuPPSYrXvw/AAAAAAAAAAI/AAAAAAAAA38/mbpIDr5aQ0Y/photo.jpg?sz=128", "display_name": "confusedGuy", "link": "https://stackoverflow.com/users/10368659/confusedguy"}, "edited": false, "score": 0, "creation_date": 1538668245, "post_id": 52633923, "comment_id": 92233528, "body": "what&#39;s your requirement then?"}, {"owner": {"reputation": 61, "user_id": 10368659, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNuPPSYrXvw/AAAAAAAAAAI/AAAAAAAAA38/mbpIDr5aQ0Y/photo.jpg?sz=128", "display_name": "confusedGuy", "link": "https://stackoverflow.com/users/10368659/confusedguy"}, "edited": false, "score": 0, "creation_date": 1538855245, "post_id": 52633923, "comment_id": 92293603, "body": "my requirement is exactly like any draggable vertically split panel. I did managed to work, but its not in traditional angular way. here take a look at this rough example.  <a href=\"https://stackblitz.com/edit/angular-hm4zy9\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-hm4zy9</a>"}, {"owner": {"reputation": 1014, "user_id": 2740498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ubwyp.jpg?s=128&g=1", "display_name": "Olena Horal", "link": "https://stackoverflow.com/users/2740498/olena-horal"}, "reply_to_user": {"reputation": 61, "user_id": 10368659, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNuPPSYrXvw/AAAAAAAAAAI/AAAAAAAAA38/mbpIDr5aQ0Y/photo.jpg?sz=128", "display_name": "confusedGuy", "link": "https://stackoverflow.com/users/10368659/confusedguy"}, "edited": false, "score": 0, "creation_date": 1538991992, "post_id": 52633923, "comment_id": 92325468, "body": "good, that you worked it out. Still I do not see any reason to not subscribe to drag event and overcomplicate it. But that&#39;s up to you"}], "tags": [], "owner": {"reputation": 1014, "user_id": 2740498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ubwyp.jpg?s=128&g=1", "display_name": "Olena Horal", "link": "https://stackoverflow.com/users/2740498/olena-horal"}, "is_accepted": false, "score": 0, "last_activity_date": 1538592921, "creation_date": 1538592921, "answer_id": 52633923, "question_id": 52633534, "link": "https://stackoverflow.com/questions/52633534/vertically-split-panel-with-draggable-handle-to-adjust-panels-height/52633923#52633923", "title": "vertically split panel with draggable handle to adjust panel&#39;s height", "body": "<p>My suggestion is to subscribe to <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/drag\" rel=\"nofollow noreferrer\">drag event</a>, also do not forget to add <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/draggable\" rel=\"nofollow noreferrer\">draggable=\"true\"</a> to your draggable element. The calculations seem to be correct from the first sight. Check the <a href=\"https://stackblitz.com/edit/angular-sdwn7v\" rel=\"nofollow noreferrer\">demo</a>, I've changed just a bit of your code</p>\n"}], "owner": {"reputation": 61, "user_id": 10368659, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kNuPPSYrXvw/AAAAAAAAAAI/AAAAAAAAA38/mbpIDr5aQ0Y/photo.jpg?sz=128", "display_name": "confusedGuy", "link": "https://stackoverflow.com/users/10368659/confusedguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538592921, "creation_date": 1538591287, "question_id": 52633534, "link": "https://stackoverflow.com/questions/52633534/vertically-split-panel-with-draggable-handle-to-adjust-panels-height", "title": "vertically split panel with draggable handle to adjust panel&#39;s height", "body": "<p>I'm new to angular. I'm creating vertically split panel with \"drag handle\" to adjust top and bottom tree panel. I've implemented three stages toggle but I'm not be able to execute dragging of height of the div with mouse event vise-versa. I do not want to use renderer or HostListener or ng-split directive maybe with custom function/method would be nice. can anybody look at my code and help me out. here's what I've done so far.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-hm4zy9?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-hm4zy9?file=src%2Fapp%2Fapp.component.html</a></p>\n"}, {"tags": ["typescript", "google-chrome", "angular5", "shared"], "comments": [{"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1538590671, "post_id": 52633301, "comment_id": 92199950, "body": "Try using forward slash for relative path instead of back slash.."}, {"owner": {"reputation": 9, "user_id": 9666133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5db7f6ef6cc9da9fdbfd1c99889d679?s=128&d=identicon&r=PG&f=1", "display_name": "yosup", "link": "https://stackoverflow.com/users/9666133/yosup"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1538592239, "post_id": 52633301, "comment_id": 92200708, "body": "@numbtongue when I use forward slash it makes a http get request I have no clue why ?  also has a 404 error"}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1538592794, "post_id": 52633301, "comment_id": 92200982, "body": "Yes http access, what other did you expected.. Try putting a dot or double dot in front of it \u201c./myfilebgds/Images/13332.jpg\u201d.. if you use backslash you may need to escape them, provide absolute path or use current folder as a starting point, and have the right permissions.."}, {"owner": {"reputation": 9, "user_id": 9666133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5db7f6ef6cc9da9fdbfd1c99889d679?s=128&d=identicon&r=PG&f=1", "display_name": "yosup", "link": "https://stackoverflow.com/users/9666133/yosup"}, "reply_to_user": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1538593263, "post_id": 52633301, "comment_id": 92201216, "body": "@numbtongue That is what I tried and it still would not access it. I have no idea. I also tried to give absolute path to it. Still did not work"}, {"owner": {"reputation": 800, "user_id": 3254405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4cdHb.png?s=128&g=1", "display_name": "boateng", "link": "https://stackoverflow.com/users/3254405/boateng"}, "edited": false, "score": 0, "creation_date": 1539093311, "post_id": 52633301, "comment_id": 92370849, "body": "May be there is something like Path.Combine in Angular.. <a href=\"https://stackoverflow.com/q/52722655/3254405\">stackoverflow.com/q/52722655/3254405</a>"}], "owner": {"reputation": 9, "user_id": 9666133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5db7f6ef6cc9da9fdbfd1c99889d679?s=128&d=identicon&r=PG&f=1", "display_name": "yosup", "link": "https://stackoverflow.com/users/9666133/yosup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1093, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1605467302, "creation_date": 1538590359, "last_edit_date": 1605467302, "question_id": 52633301, "link": "https://stackoverflow.com/questions/52633301/how-to-access-shared-network-folders-images-on-angular-5-not-allowed-to-load-l", "title": "How to access shared network folders images on angular 5 - Not allowed to load local resource", "body": "<p>I have accessed files within the project folder and also outside my project folder in angular 5. In this one I have been trying to load images directly from the network shared drive it does not allow me to load for some reason, So I used the <a href=\"https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb?hl=en\" rel=\"nofollow noreferrer\">Web Server for Chrome</a> it did work when I host it with a server. and without hosting when I try to open this file on my browser it opens fine so the problem is when I try to access via angular5 I don't know why the relative path does not work in angular for a network shared drive.</p>\n<p>To explain this well</p>\n<p><img src=\"https://i.stack.imgur.com/63ISV.png\" alt=\"enter image description here\" /></p>\n<p>once the user enters the user id they are able to see the results I thought a picture from the shared network drive will be better.\nthe path to the image would look like this<br />\n&quot;\\myfilebgds\\Images\\13332.jpg&quot;\nthe user id also in the end would change according to the user userid</p>\n<p>and I set this as a path to my image tag in HTML and render it accordingly.</p>\n<p>Or if you guys can tell me a better way to access the image and show it to the user.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1538595844, "post_id": 52633273, "comment_id": 92202414, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42966362/how-to-use-object-values-with-typescript\">How to use Object.values with typescript?</a>"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1538595918, "post_id": 52633273, "comment_id": 92202457, "body": "Also see <a href=\"https://stackoverflow.com/questions/42093758/need-clarification-of-the-target-and-lib-compiler-options/42097465#42097465\">Need clarification of the target and lib compiler options</a>"}, {"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1538598669, "post_id": 52633273, "comment_id": 92203691, "body": "Not a duplicate of <code>Object.values with typescript</code>, I&#39;m just using it as a concrete example. Will look at the other suggestions for duplicates. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 1, "creation_date": 1538591855, "post_id": 52633594, "comment_id": 92200491, "body": "I understand that. But why doesn&#39;t <code>lib es2017</code> and <code>target es6</code> allow me to write <code>es2017</code> code and have it run on an <code>es6</code> target? From what I understand, I still need a polyfill."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 2, "creation_date": 1538596556, "post_id": 52633594, "comment_id": 92202730, "body": "@LukePighetti maybe this answer can shed more light on your question <a href=\"https://stackoverflow.com/questions/51043439/using-latest-javascript-features-in-typescript-such-as-es2018/51044240#51044240\" title=\"using latest javascript features in typescript such as es2018\">stackoverflow.com/questions/51043439/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "edited": false, "score": 0, "creation_date": 1538596631, "post_id": 52633594, "comment_id": 92202762, "body": "@LukePighetti or this one <a href=\"https://stackoverflow.com/questions/50986494/what-does-the-typescript-lib-option-really-do/50987516#50987516\" title=\"what does the typescript lib option really do\">stackoverflow.com/questions/50986494/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 7, "last_activity_date": 1538591514, "creation_date": 1538591514, "answer_id": 52633594, "question_id": 52633273, "link": "https://stackoverflow.com/questions/52633273/why-do-i-need-a-polyfill-with-typescript/52633594#52633594", "title": "Why do I need a polyfill with Typescript?", "body": "<p>Typescript has as little runtime impact as possible. Except for a very limited number of utilitiy functions it has no other runtime behavior. This is by design.</p>\n\n<p>Typescript can't know the exact environment you code will run on and what level of support it has for what feature. When specify a lib or target option you tell Typescript there will be runtime support for the required features, not Typescript problem how this happens. </p>\n"}], "owner": {"reputation": 2695, "user_id": 1130342, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/52ff3fc6190f6f2b4813a5683697fbf6?s=128&d=identicon&r=PG", "display_name": "Luke Pighetti", "link": "https://stackoverflow.com/users/1130342/luke-pighetti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4851, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1538591514, "creation_date": 1538590212, "question_id": 52633273, "link": "https://stackoverflow.com/questions/52633273/why-do-i-need-a-polyfill-with-typescript", "title": "Why do I need a polyfill with Typescript?", "body": "<p>Lets say I want to use <code>Object.values()</code>. In order to use this, I have to set <code>\"lib\":[\"es2017\"]</code>. But then I have <code>\"target\":\"es6\"</code>. </p>\n\n<p>The way I read this as a new Typescript user is that I am writing with <code>es2017</code> methods and it's outputting <code>es6</code> code. </p>\n\n<p>So my question is this, why do I need a polyfill, and how do I select a reliable one?</p>\n"}, {"tags": ["javascript", "json", "rest", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1538590393, "post_id": 52633269, "comment_id": 92199831, "body": "<code>resultData.find(o =&gt; o.id === 788539).name = &quot;bruno&quot;</code>"}, {"owner": {"reputation": 1644, "user_id": 1233921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a483dc6a328edd0080a5e69efd46a7c1?s=128&d=identicon&r=PG", "display_name": "Ntwobike", "link": "https://stackoverflow.com/users/1233921/ntwobike"}, "edited": false, "score": 0, "creation_date": 1538590555, "post_id": 52633269, "comment_id": 92199894, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45222724/find-and-replace-value-inside-an-array-of-objects-javascript\">Find and replace value inside an array of objects javascript</a>"}, {"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1538590664, "post_id": 52633269, "comment_id": 92199946, "body": "You mentioned &quot;filter/map&quot;, and it so happens that JS arrays have two handy methods by these names ;)"}], "answers": [{"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1538694608, "post_id": 52633479, "comment_id": 92243729, "body": "FWIW, this will iterate the whole array even if the object was found. If the ID is not unique this is necessary, but if it is unique and this wastes time if the list is large."}], "tags": [], "owner": {"reputation": 243, "user_id": 7011562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be08d7abb5814c473e1e9fca04e42ad4?s=128&d=identicon&r=PG&f=1", "display_name": "N.chauhan", "link": "https://stackoverflow.com/users/7011562/n-chauhan"}, "is_accepted": false, "score": 3, "last_activity_date": 1538591087, "creation_date": 1538591087, "answer_id": 52633479, "question_id": 52633269, "link": "https://stackoverflow.com/questions/52633269/js-how-to-change-the-value-of-an-objects-property-according-to-that-object-at/52633479#52633479", "title": "JS : How to change the value of an object&#39;s property according to that object attribute", "body": "<pre><code>resultData= [\n{ id : 179849, name : alex , lastname: sanchez},\n{ id : 788539, name : bruno, lastname: bearer},  /* THIS ONE*/\n{ id : 282169, name : Jean, lastname: nobel},\n...\n{ id : 632785, name : Maria, lastname: parak}\n];\n\nid = 788539;\n\nresultData.forEach(ele=&gt;{\n    if(ele.id == id){\n    ele.name = 'bruno'\n    }\n});\n\nconsole.log(resultData);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "is_accepted": true, "score": 1, "last_activity_date": 1538592060, "creation_date": 1538592060, "answer_id": 52633736, "question_id": 52633269, "link": "https://stackoverflow.com/questions/52633269/js-how-to-change-the-value-of-an-objects-property-according-to-that-object-at/52633736#52633736", "title": "JS : How to change the value of an object&#39;s property according to that object attribute", "body": "<p>Some alternatives, the one mentioned by <a href=\"https://stackoverflow.com/users/218196/felix-kling\">Felix Kling</a> might need a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find#Polyfill\" rel=\"nofollow noreferrer\">polyfill</a>:</p>\n\n<pre><code>// Mentioned by Felix Kling \ninputData.find(x =&gt; x.id === 788539)\n  .name = 'Bruno'\n</code></pre>\n\n<p>You can also use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">for of</a>:</p>\n\n<pre><code>for (let item of inputData) {\n  if (item.id === 788539) {\n    item.name = 'Bruno'\n    break\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4766, "user_id": 4957388, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/KUNhv.jpg?s=128&g=1", "display_name": "firasKoubaa", "link": "https://stackoverflow.com/users/4957388/firaskoubaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 52633736, "answer_count": 2, "score": 0, "last_activity_date": 1538592060, "creation_date": 1538590194, "question_id": 52633269, "link": "https://stackoverflow.com/questions/52633269/js-how-to-change-the-value-of-an-objects-property-according-to-that-object-at", "title": "JS : How to change the value of an object&#39;s property according to that object attribute", "body": "<p>i ve such a JSON data :</p>\n\n<pre><code>inputData = [\n{ id : 179849, name : alex , lastname: sanchez},\n{ id : 788539, name : Paul, lastname: bearer},\n{ id : 282169, name : Jean, lastname: nobel},\n...\n{ id : 632785, name : Maria, lastname: parak}\n]\n</code></pre>\n\n<p>i need to search some object according to its <strong>id</strong> value <strong><em>(for example: 788539 )</em></strong></p>\n\n<p>and change the value of its <strong>name</strong> attribute \n -> <strong>name</strong> becomes :  bruno</p>\n\n<p>the data would become :</p>\n\n<pre><code>resultData= [\n{ id : 179849, name : alex , lastname: sanchez},\n{ id : 788539, name : bruno, lastname: bearer},  /* THIS ONE*/\n{ id : 282169, name : Jean, lastname: nobel},\n...\n{ id : 632785, name : Maria, lastname: parak}\n]\n</code></pre>\n\n<p><strong>What is the simpliest way to filter / map my data to do such a modification ?</strong></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 475, "user_id": 5582389, "user_type": "registered", "profile_image": "https://graph.facebook.com/922244844524197/picture?type=large", "display_name": "ygorazevedo", "link": "https://stackoverflow.com/users/5582389/ygorazevedo"}, "edited": false, "score": 0, "creation_date": 1538589032, "post_id": 52632897, "comment_id": 92199091, "body": "Could you provide us your <code>Controller</code> class in Java?"}, {"owner": {"reputation": 475, "user_id": 5582389, "user_type": "registered", "profile_image": "https://graph.facebook.com/922244844524197/picture?type=large", "display_name": "ygorazevedo", "link": "https://stackoverflow.com/users/5582389/ygorazevedo"}, "edited": false, "score": 0, "creation_date": 1538589586, "post_id": 52632897, "comment_id": 92199415, "body": "You problem is on the option value binding. It should be <code>[ngValue]=&quot;location&quot;</code> instead of <code>[value]=&quot;location&quot;</code>. See <a href=\"https://stackblitz.com/edit/angular-pckh2b\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-pckh2b</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 10448773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef9c9eb79351720e52720bef88382467?s=128&d=identicon&r=PG&f=1", "display_name": "Douglas Landvik", "link": "https://stackoverflow.com/users/10448773/douglas-landvik"}, "is_accepted": false, "score": 0, "last_activity_date": 1538589291, "creation_date": 1538589291, "answer_id": 52633021, "question_id": 52632897, "link": "https://stackoverflow.com/questions/52632897/angular-post-request-sends-object-object/52633021#52633021", "title": "Angular post request sends [object Object]", "body": "<p>[Object object] means that it is not encoded in a readable manner for the file. You have to encode it and decode it.</p>\n"}, {"comments": [{"owner": {"reputation": 733, "user_id": 6083123, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-6BpXncqFrMc/AAAAAAAAAAI/AAAAAAAAABc/Utwy3NjDy9U/photo.jpg?sz=128", "display_name": "Grechka Vassili", "link": "https://stackoverflow.com/users/6083123/grechka-vassili"}, "edited": false, "score": 0, "creation_date": 1538592035, "post_id": 52633091, "comment_id": 92200602, "body": "Thank you. I took <code>[value]</code> from guide ( <a href=\"https://angular.io/guide/forms#add-powers-with-ngfor\" rel=\"nofollow noreferrer\">angular.io/guide/forms#add-powers-with-ngfor</a> ). Didn&#39;t know about [ngValue]..."}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "reply_to_user": {"reputation": 733, "user_id": 6083123, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-6BpXncqFrMc/AAAAAAAAAAI/AAAAAAAAABc/Utwy3NjDy9U/photo.jpg?sz=128", "display_name": "Grechka Vassili", "link": "https://stackoverflow.com/users/6083123/grechka-vassili"}, "edited": false, "score": 0, "creation_date": 1538592463, "post_id": 52633091, "comment_id": 92200821, "body": "You are welcome. The documentation about <code>[ngValue]</code> is not so easy to find. I added it to the answer."}], "tags": [], "owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "is_accepted": true, "score": 2, "last_activity_date": 1538592071, "last_edit_date": 1538592071, "creation_date": 1538589570, "answer_id": 52633091, "question_id": 52632897, "link": "https://stackoverflow.com/questions/52632897/angular-post-request-sends-object-object/52633091#52633091", "title": "Angular post request sends [object Object]", "body": "<p>The data binding sets <code>partner.location</code> to a string because the <code>option</code> value is bound with <code>[value]</code>. You should use <code>[ngValue]</code> to bind the <code>option</code> value to an object:</p>\n\n<pre><code>&lt;select id=\"partner_location\" class=\"form-control\" [(ngModel)]=\"partner.location\" name=\"partner_location\"&gt;\n  &lt;option *ngFor=\"let location of locations\" [ngValue]=\"location\"&gt;{{location.name}}&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<hr/>\n\n<p>From the <a href=\"https://angular.io/api/forms/SelectControlValueAccessor#how-to-use-select-controls-with-form-directives\" rel=\"nofollow noreferrer\">Angular documentation</a>:</p>\n\n<blockquote>\n  <p>If your option values are simple strings, you can bind to the normal\n  <code>value</code> property on the option. If your option values happen to be\n  objects (and you'd like to save the selection in your form as an\n  object), use <code>ngValue</code> instead.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 5582389, "user_type": "registered", "profile_image": "https://graph.facebook.com/922244844524197/picture?type=large", "display_name": "ygorazevedo", "link": "https://stackoverflow.com/users/5582389/ygorazevedo"}, "is_accepted": false, "score": 1, "last_activity_date": 1538589745, "creation_date": 1538589745, "answer_id": 52633147, "question_id": 52632897, "link": "https://stackoverflow.com/questions/52632897/angular-post-request-sends-object-object/52633147#52633147", "title": "Angular post request sends [object Object]", "body": "<p>The problem was where you bind the value of the option. The correct binding should be the follow:</p>\n\n<pre><code>&lt;option *ngFor=\"let location of locations\" [ngValue]=\"location\"&gt;{{location.name}}&lt;/option&gt;\n</code></pre>\n\n<p>Check my StackBlitz to see it working: <a href=\"https://stackblitz.com/edit/angular-pckh2b\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-pckh2b</a></p>\n"}], "owner": {"reputation": 733, "user_id": 6083123, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh6.googleusercontent.com/-6BpXncqFrMc/AAAAAAAAAAI/AAAAAAAAABc/Utwy3NjDy9U/photo.jpg?sz=128", "display_name": "Grechka Vassili", "link": "https://stackoverflow.com/users/6083123/grechka-vassili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 52633091, "answer_count": 3, "score": 3, "last_activity_date": 1538592071, "creation_date": 1538588836, "question_id": 52632897, "link": "https://stackoverflow.com/questions/52632897/angular-post-request-sends-object-object", "title": "Angular post request sends [object Object]", "body": "<p>I'm new in angular and I'm working on an angular 6 / Spring Boot 2 project. I have this TypeScript class: </p>\n\n<pre><code>export class Partner {\n\n  constructor\n  (\n    public id: number,\n    public name: string,\n    public email: string,\n    public phone: string,\n    public address: string,\n    public picture: string,\n    public latitude: number,\n    public longitude: number,\n    public horary: string,\n    public comment: string,\n    public specialOffer: boolean,\n    public offer: string,\n    public location: Location,\n    public tripAdvisorLink: string,\n    public type: Type,\n    public country: string,\n    public hotWords: HotWord[],\n  ) {}\n}\n</code></pre>\n\n<p>So, for example I would like to create a partner and I need to choose a <code>Location</code>.</p>\n\n<p>In my HTML I have: </p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n  &lt;label for=\"partner_location\" class=\"form-control-label\" required&gt;Choose location &lt;span class=\"text-danger\"&gt;*&lt;/span&gt;&lt;/label&gt;\n  &lt;select id=\"partner_location\" class=\"form-control\" [(ngModel)]=\"partner.location\" name=\"partner_location\"&gt;\n    &lt;option *ngFor=\"let location of locations\" [value]=\"location\"&gt;{{location.name}}&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And in my create partner component: </p>\n\n<pre><code>export class CreatePartnerComponent implements OnInit {\n\n  partner = new Partner(undefined, '', '', '', '', '', undefined, undefined, '', '', false, '', null, '', null, '', null);\n  types: Type[];\n  locations: Location[];\n  message = '';\n  error = '';\n\n  constructor(\n    private getPartnersService: GetPartnersService,\n    private getTypesService: GetTypesService,\n    private getLocationService: GetLocationsService\n  ) {}\n\n  ngOnInit() {\n    this.loadInitialData();\n  }\n\n  loadInitialData() {\n    this.getLocationService.getLocations().subscribe(locations =&gt; this.locations = locations);\n    this.getTypesService.getTypes().subscribe(types =&gt; this.types = types);\n  }\n  onSubmit() {\n    console.log('Partner = ' + JSON.stringify(this.partner));\n    this.getPartnersService.createPartner(this.partner)\n      .subscribe(partner =&gt; {\n        if (partner.id !== undefined) {\n          this.showMessage();\n          window.scrollTo(0, 0);\n        } else {\n          this.showError();\n          window.scrollTo(0, 0);\n        }\n      });\n  }\n</code></pre>\n\n<p>and this my create partner method:</p>\n\n<pre><code>const httpOptions = { headers: new HttpHeaders({'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*'}) };\n\n  createPartner(partner: Partner): Observable&lt;Partner&gt; {\n    const url = `${baseUrl}/partner/add`;\n    return this.http.post&lt;Partner&gt;(url, partner, httpOptions)\n      .pipe(catchError(HandleError.handleError&lt;Partner&gt;('createPartner')));\n  }\n</code></pre>\n\n<p>And I'm getting an error in Spring that says that he can't create <code>Location</code> from <code>[Object object]</code>. And my <code>console.log('Partner = ' + JSON.stringify(this.partner));</code> method prints: </p>\n\n<pre><code>Partner = {\"name\":\"Test production\",\"email\":\"v.solodoukhin@outlook.com\",\"phone\":\"32489836733\",\"address\":\"brolekestraat\",\"picture\":\"\",\"latitude\":\"55\",\"longitude\":\"1.23424324\",\"horary\":\"9 - 18 every day\",\"comment\":\"aaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\"specialOffer\":true,\"offer\":\"5%\",\"location\":\"[object Object]\",\"tripAdvisorLink\":\"http://brol.be\",\"type\":\"[object Object]\",\"country\":\"Belgium\",\"hotWords\":null}\n</code></pre>\n\n<p>So as far I understand, the http post request sends <code>location : [object Object]</code>....</p>\n\n<p>How can do this work ? </p>\n"}, {"tags": ["typescript", "es6-modules"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1538597081, "post_id": 52632810, "comment_id": 92202966, "body": "Anecdote: I&#39;ve done something like this before with a similarly large project. It turned into an 1100 line script (written in TS) that parsed (read: opinionated hierarchical regexing) all 800 files, built a dependency tree (fortunately Angular 1.0 was in use so a psuedo module system was in place, but everything was in global scope), generated export and import statements, moved code into typed objects (it was originally a pile of anonymous JS expressions), added thousands of type annotations, and after several days of run and revert, it ended up pretty well. It was also fun. :)"}], "answers": [{"comments": [{"owner": {"reputation": 4352, "user_id": 279393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/076ecbe5aa801b9417fd7e81f704d64e?s=128&d=identicon&r=PG", "display_name": "bnieland", "link": "https://stackoverflow.com/users/279393/bnieland"}, "edited": false, "score": 0, "creation_date": 1538600132, "post_id": 52632946, "comment_id": 92204311, "body": "As I stated in my question, I looked at incrementally converting existing files, but when I make one one file a module, any consumer of that file itself becomes a module, and an &quot;object not found&quot; cascade begins. Can you speak to how this would be avoided?"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 4352, "user_id": 279393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/076ecbe5aa801b9417fd7e81f704d64e?s=128&d=identicon&r=PG", "display_name": "bnieland", "link": "https://stackoverflow.com/users/279393/bnieland"}, "edited": false, "score": 0, "creation_date": 1538618829, "post_id": 52632946, "comment_id": 92208858, "body": "@bnieland - What is your execution environment?  Browser?  Node.js?  Are you bundling?"}, {"owner": {"reputation": 4352, "user_id": 279393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/076ecbe5aa801b9417fd7e81f704d64e?s=128&d=identicon&r=PG", "display_name": "bnieland", "link": "https://stackoverflow.com/users/279393/bnieland"}, "edited": false, "score": 0, "creation_date": 1538762195, "post_id": 52632946, "comment_id": 92271734, "body": "This is a x-browser product (Chrome, FF, IE11, Edge).  As  for bundling, I use Closure compiler to generate one file from both my &quot;global namespace&quot; files  and my existing module files."}], "tags": [], "owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": false, "score": 2, "last_activity_date": 1538589027, "creation_date": 1538589027, "answer_id": 52632946, "question_id": 52632810, "link": "https://stackoverflow.com/questions/52632810/converting-a-large-typescript-project-to-es6-modules/52632946#52632946", "title": "Converting a large Typescript project to ES6 modules", "body": "<blockquote>\n  <p>Is this the the best way to go about this? Any suggestions?</p>\n</blockquote>\n\n<p>I doubt this is even a good way and certainly not the best way.</p>\n\n<p>Taking non-modular code and trying to programmatically convert it to be in modules is just going to create a mess.  I'm sure it could be done, but it hasn't really gained anything.  It's just made things messier than they probably already were.  You will have just shoe-horned a non-modular architecture into a mess of non-modular, highly cross dependent modules.  Your architecture will not have improved and the code will now be more complicated, not less complicated.</p>\n\n<p>The better approach would be to incrementally redesign areas of functionality to actually be \"modular\".  Create an interface for an area of functionality, package that in a module and then convert all users of that functionality to import the interface and use it.  This can literally be done, one functional area at a time.  You don't have to break the whole thing at once and then try to put it all back together.</p>\n\n<p>Getting rid of shared globals requires rethinking the design.  Just packaging a bunch of shared globals into a module that you now make everyone import does not really improve the design at all - in fact, it probably even makes things worse.  Code is just as intertwined and dependent as it was before.</p>\n\n<p>You can do this modular redesign incrementally, one functional area of the code at a time, rather than create a big giant mess in one fell swoop that doesn't actually improve the architecture of your code.</p>\n\n<p>If I were attacking this problem, I'd probably create a top level diagram of all the major points of functionality in the program and make sure every one of the 650 files was represented somewhere in the diagram.  Then, I'd start incrementally picking off the easiest pieces to modularize (the ones with the cleanest interface and the least spaghetti dependencies).  As you get more and more things out and into modules, the remaining part starts to get less complicated.  If there really are access to globals interwoven all over the code, then you will really have to rethink parts of that design, either creating objects that contain the data and passing those around or moving what was global data into relevant modules and providing exported accessors for that data.</p>\n"}, {"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 2, "last_activity_date": 1538612181, "creation_date": 1538612181, "answer_id": 52637264, "question_id": 52632810, "link": "https://stackoverflow.com/questions/52632810/converting-a-large-typescript-project-to-es6-modules/52637264#52637264", "title": "Converting a large Typescript project to ES6 modules", "body": "<blockquote>\n  <p>To get there, I need to start by converting all the global objects to ES6 modules by adding the \"export\" keyword.</p>\n  \n  <p>As soon as I add \"export\", that global object is no longer global, and each file that uses that object now has a compiler error \"object not found\"(i.e. Cannot read property 'xxx' of undefined ).</p>\n  \n  <p>To fix this, an \"import\" must be added to the file, thus turning it into a ES6 module, which in turn \"de-globalizes\" all the objects in that file, causing new \"object not found\" errors in other files..</p>\n</blockquote>\n\n<p>Right.  The trick to avoid this vicious cycle is, each time you convert a file to a module, also assign that module to a global variable that you can reference from other non-module files without turning them into modules.  This takes some boilerplate; <a href=\"https://github.com/Microsoft/TypeScript/issues/14051#issuecomment-367417846\" rel=\"nofollow noreferrer\">this open suggestion</a> would reduce the boilerplate slightly.</p>\n\n<p>I assume you must currently be using some kind of bundling tool to ensure that all your non-module files are loaded and contribute to a single global scope so they can access each other's definitions.  Start by creating a file with the following code and configure your bundler to ensure that it runs first:</p>\n\n<pre><code>namespace Modules {\n    // Force `Modules` to be created at runtime.\n    (() =&gt; {})();\n}\n</code></pre>\n\n<p>Now if you started with:</p>\n\n<pre><code>// a.ts\nnamespace A {\n    export const a = 42;\n}\n\n// b.ts\nnamespace B {\n    console.log(A.a);\n}\n</code></pre>\n\n<p>you could transition to:</p>\n\n<pre><code>// a.ts\nexport const a = 42;\n\nimport * as A_ from \"./a\";\ndeclare global {\n    namespace Modules {\n        export import A = A_;\n    }\n}\nModules.A = A_;\n\n// b.ts\nnamespace B {\n    console.log(Modules.A.a);\n}\n</code></pre>\n\n<p>and <code>b.ts</code> will be able to access <code>Modules.A</code> with full type information without becoming a module itself (modulo load order issues with your bundler).</p>\n"}], "owner": {"reputation": 4352, "user_id": 279393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/076ecbe5aa801b9417fd7e81f704d64e?s=128&d=identicon&r=PG", "display_name": "bnieland", "link": "https://stackoverflow.com/users/279393/bnieland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 518, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538612181, "creation_date": 1538588460, "last_edit_date": 1538596269, "question_id": 52632810, "link": "https://stackoverflow.com/questions/52632810/converting-a-large-typescript-project-to-es6-modules", "title": "Converting a large Typescript project to ES6 modules", "body": "<p>I have a fairly large app (~650 files) that currently has a mixed implementation of ES6 modules and legacy global namespace internal modules and classes.</p>\n\n<p>I want to move to 100% ES6 modules.</p>\n\n<h2>The iterative approach</h2>\n\n<p>To get there, I need to start by converting all the global objects to ES6 modules by adding the \"export\" keyword.</p>\n\n<p>As soon as I add \"export\", that global object is no longer global, and each file that uses that object now has a compiler error \"object not found\"(i.e. Cannot read property 'xxx' of undefined ).</p>\n\n<p>To fix this, an \"import\" must be added to the file, thus turning it into a ES6 module, which in turn \"de-globalizes\" all the objects in that file, causing new \"object not found\" errors in other files..</p>\n\n<p>In short, this iterative approach doesn't seem like it will work well.</p>\n\n<h2>Possible \"one fell swoop\" Solution:</h2>\n\n<ol>\n<li>Iterate over all ts files\n\n<ol>\n<li>Programmatically add <code>export</code> to all top level classes, modules and   variables.</li>\n<li>Gather these into a list</li>\n</ol></li>\n<li>Generate a barrel (globalBarrel) file, re-exporting all the exports gathered in the previous step.</li>\n<li>Iterate over all ts files again\n\n<ol>\n<li>To each ts file, add <code>import {list, of, symbols, exported, by, the, barrel,file} from \"./globalBarrel\"</code> to each file</li>\n</ol></li>\n<li>Compile clean?\n\n<ol>\n<li>There will probably be some circular dependency issues to clean up. Do that.</li>\n</ol></li>\n<li>As we edit each file in the future, use the vsCode \" Organize Imports\" command to remove the many unneeded.</li>\n</ol>\n\n<p>As @jfriend000 said:</p>\n\n<blockquote>\n  <p>Taking non-modular code and trying to programmatically convert it to\n  be in modules is just going to create a mess.</p>\n</blockquote>\n\n<p>But getting everything into modules all at once will make the <em>true</em> modularization process easier.</p>\n\n<h2>Question</h2>\n\n<p>Is this the the best way to go about this? Any suggestions?</p>\n"}, {"tags": ["android", "angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 1605, "user_id": 10417856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2INnt.png?s=128&g=1", "display_name": "rguerin", "link": "https://stackoverflow.com/users/10417856/rguerin"}, "reply_to_user": {"reputation": 309, "user_id": 10272521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d536e18865edd862d8002def648777f?s=128&d=identicon&r=PG&f=1", "display_name": "xnok", "link": "https://stackoverflow.com/users/10272521/xnok"}, "edited": false, "score": 0, "creation_date": 1539673738, "post_id": 52761519, "comment_id": 92575939, "body": "Did you also try running &quot;ionic cordova prepare&quot; ? Could we have a bit more info on how you installed your plugins ?"}], "tags": [], "owner": {"reputation": 1605, "user_id": 10417856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2INnt.png?s=128&g=1", "display_name": "rguerin", "link": "https://stackoverflow.com/users/10417856/rguerin"}, "is_accepted": false, "score": 0, "last_activity_date": 1539265084, "creation_date": 1539265084, "answer_id": 52761519, "question_id": 52632489, "link": "https://stackoverflow.com/questions/52632489/ionic-firebase-phone-auth-plugin-not-installed/52761519#52761519", "title": "Ionic firebase phone auth plugin not installed", "body": "<p>You must be using Cordova? How did you install your Firebase plugin? Is it accessible through your application?</p>\n\n<p>Did you run this command (as documented <a href=\"https://ionicframework.com/docs/native/firebase/\" rel=\"nofollow noreferrer\">here</a>) : </p>\n\n<pre><code>ionic cordova plugin add cordova-plugin-firebase\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 10272521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d536e18865edd862d8002def648777f?s=128&d=identicon&r=PG&f=1", "display_name": "xnok", "link": "https://stackoverflow.com/users/10272521/xnok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 478, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1539265084, "creation_date": 1538587242, "last_edit_date": 1538925339, "question_id": 52632489, "link": "https://stackoverflow.com/questions/52632489/ionic-firebase-phone-auth-plugin-not-installed", "title": "Ionic firebase phone auth plugin not installed", "body": "<p>I am using this following plugin for phone auth on ionic: <a href=\"https://github.com/sajTempler/IonicFirebasePhoneAuth\" rel=\"nofollow noreferrer\">https://github.com/sajTempler/IonicFirebasePhoneAuth</a>, im using my country code which is 55 and my operator number which is 15. As far as i was debugging there is nothing wrong with my code. Whenever i run it on my real device my console gets logged <code>registerPhone err plugin_not_installed</code>, i have no idea which plugin it refers to.</p>\n\n<p>here's the code</p>\n\n<pre><code>    import {Component, ViewChild, OnInit} from '@angular/core';\nimport {IonicPage, NavController, AlertController} from 'ionic-angular';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {Firebase} from '@ionic-native/firebase';\nimport * as firebase from 'firebase';\n\n/**\n * Generated class for the LoginPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html',\n})\nexport class LoginPage implements OnInit {\n\n  @ViewChild('phoneNumber') phoneNumber;\n\n  constructor(\n    private navCtrl: NavController,\n    private fireAuth: AngularFireAuth,\n    private alertCtrl: AlertController,\n    private fire: Firebase,\n  ) {\n  }\n\n  ngOnInit() {\n    console.log('LoginPage ngOnInit');\n    this.fireAuth.authState.subscribe(auth =&gt; {\n      if (!auth) {\n        return;\n      }\n\n      auth.getIdToken()\n        .then((token: string) =&gt; {\n          console.log('LoginPage getIdToken token', token);\n          if (token) {\n            this.doLogin();\n          }\n        });\n    });\n  }\n\n  // tslint:disable-next-line\n  private registerPhone(): void {\n    console.log('registerPhone');\n    const phone = '+5515' + this.phoneNumber.value;\n    console.log('registerPhone phone', phone);\n    this.fire.verifyPhoneNumber(phone, 120)\n      .then((res) =&gt; {\n        const {verificationId} = res;\n        console.log('registerPhone verificationId', verificationId);\n        alert(verificationId);\n        this.showPrompt(verificationId);\n      })\n      .catch(err =&gt; {\n        console.log('registerPhone err', err);\n      })\n  }\n\n  private async verifyCode(code: string, verificationId: string) {\n    try {\n      const credential = await firebase.auth.PhoneAuthProvider.credential(verificationId, code);\n      await firebase.auth().signInWithCredential(credential)\n        .then(() =&gt; {\n          this.doLogin();\n        })\n        .catch(err =&gt; {\n          console.error('LoginPage verifyCode signInWithCredential err', err);\n        })\n    } catch (err) {\n      console.error('LoginPage verifyCode err', err);\n    }\n  }\n\n  private showPrompt(verificationId: string) {\n    let promptCode = this.alertCtrl.create({\n      title: 'Verify',\n      message: 'Type code that was received via SMS',\n      inputs: [\n        {\n          name: 'code',\n          placeholder: 'Code'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: data =&gt; {\n            return;\n          }\n        },\n        {\n          text: 'Verify',\n          handler: data =&gt; {\n            this.verifyCode(data.code, verificationId);\n          }\n        }\n      ]\n    });\n    promptCode.present();\n  }\n\n  private doLogin(): void {\n    alert(\"Voc\u00ea se logou com sucesso!\");\n    this.navCtrl.setRoot('HomePage');\n  }\n}\n</code></pre>\n\n<p>and html:</p>\n\n<pre><code>&lt;ion-header&gt;\n\n  &lt;ion-navbar&gt;\n    &lt;ion-title&gt;Login&lt;/ion-title&gt;\n  &lt;/ion-navbar&gt;\n\n&lt;/ion-header&gt;\n\n\n&lt;ion-content padding&gt;\n\n  &lt;div class=\"login-verify\" id=\"recaptcha-container\"&gt;&lt;/div&gt;\n\n  &lt;ion-list&gt;\n    &lt;ion-item&gt;\n      &lt;ion-label&gt;+55&lt;/ion-label&gt;\n      &lt;ion-input #phoneNumber type=\"tel\" maxlength=\"9\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-item&gt;\n  &lt;/ion-list&gt;\n\n&lt;/ion-content&gt;\n\n&lt;ion-footer class=\"login-footer\"&gt;\n  &lt;button full ion-button class=\"login-btn\" (click)=\"registerPhone()\"&gt;Go&lt;/button&gt;\n&lt;/ion-footer&gt;\n</code></pre>\n"}, {"tags": ["visual-studio", "typescript", "webpack", "ecmascript-6", "rollupjs"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 1, "creation_date": 1538585971, "post_id": 52632067, "comment_id": 92197549, "body": "You need rollup/webpack to bundle them and export a global namespace. TypeScript does not do that for you unfortunately."}, {"owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538586046, "post_id": 52632067, "comment_id": 92197593, "body": "@unional - Isn&#39;t &quot;exports&quot; in the global namespace?"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538586203, "post_id": 52632067, "comment_id": 92197669, "body": "<code>exports</code> is undefined in the browser. If you mean publishing as npm package, then yes, you do not need rollup/webpack."}, {"owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "reply_to_user": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1538586332, "post_id": 52632067, "comment_id": 92197737, "body": "@unional, this is a browser application"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 1, "creation_date": 1538588231, "post_id": 52632067, "comment_id": 92198715, "body": "yes. That&#39;s why if you just include that file to your html, it will not work."}], "owner": {"reputation": 5544, "user_id": 210757, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/29ec165fa8b5631a1bf3a7391a78b4c2?s=128&d=identicon&r=PG", "display_name": "user210757", "link": "https://stackoverflow.com/users/210757/user210757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 933, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1538730848, "creation_date": 1538585684, "last_edit_date": 1538730848, "question_id": 52632067, "link": "https://stackoverflow.com/questions/52632067/typescript-and-es-modules-do-i-even-need-rollup-webpack", "title": "TypeScript and ES Modules - Do I even need rollup/webpack?", "body": "<p>I have an old TypeScript web application that references everything through Script Includes on the HTML page, so everything is declared in the global namespace.  The TypeScript code uses TypeScript's modules -</p>\n\n<p>myclass.ts:</p>\n\n<pre><code>module MyModule {\n  export class MyClass {\n }\n}\n</code></pre>\n\n<p>someotherfile.ts</p>\n\n<pre><code>let myInstance = new MyModule.MyClass(); // globally available\n</code></pre>\n\n<p>All TypeScript is written to a single file using \"outFile\" in tsconfig.json, which can be problematic with globals and the order things are written.</p>\n\n<p>I use Visual Studio, which has TypeScript support built in. When you build the solution, it builds the TypeScript.</p>\n\n<p>I want to update the code to using modern ES6 Modules:</p>\n\n<p>myclass.ts:</p>\n\n<pre><code>export class MyClass {\n}\n</code></pre>\n\n<p>someotherfile.ts</p>\n\n<pre><code>import { MyClass } from \"./myclass\";\nlet myInstance = new MyClass(); \n</code></pre>\n\n<p>I initially thought I would need to use a third party library such as webpack or rollup to make this work, however looking at the JavaScript generated by the TypeScript compiler, it looks like it should just work to continue using \"outFile\" - everything is wrapped in modules so shouldn't be globally available:</p>\n\n<pre><code>Object.defineProperty(exports, \"__esModule\", { value: true });\nvar MyClass = /** @class */ (function () { ..}());\nexports.MyClass = MyClass;\n</code></pre>\n\n<p>If I were to use rollup or webpack, I was a bit confused on how this would work with Visual Studio running its own tsc process - most examples seem geared toward VS Code which utilizes the npm typescript compiler.</p>\n\n<p>Anyways, am I missing something? Is there any reason I can't skip using webpack or rollup? </p>\n"}, {"tags": ["angular", "typescript", "slickgrid"], "comments": [{"owner": {"reputation": 8565, "user_id": 1212166, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9d38e52d85ca4f638286390c9eff5111?s=128&d=identicon&r=PG", "display_name": "ghiscoding", "link": "https://stackoverflow.com/users/1212166/ghiscoding"}, "edited": false, "score": 0, "creation_date": 1543956917, "post_id": 52632036, "comment_id": 94102921, "body": "Hello @Alex, I assume you are refering to the lib <a href=\"https://github.com/ghiscoding/Angular-Slickgrid\" rel=\"nofollow noreferrer\">Angular-Slickgrid</a> which I&#39;m the author, if so then you should reference it in your SO question because most people won&#39;t know it. Also, if you like the lib, make sure to up vote (star) ;)"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 4365792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-OwM0VoPU9Qk/AAAAAAAAAAI/AAAAAAAAAA8/IFVzy5HDtHU/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/4365792/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1538610224, "creation_date": 1538610224, "answer_id": 52637071, "question_id": 52632036, "link": "https://stackoverflow.com/questions/52632036/angular-slickgrid-not-allowing-empty-value-with-integer-editor/52637071#52637071", "title": "Angular slickgrid not allowing empty value with integer editor", "body": "<p>If someone encounter something like this. What I did was to create a custom editor whom extended Editors.text and made a simple int validator with support for null values. Works like a charm.</p>\n"}], "owner": {"reputation": 327, "user_id": 4365792, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-OwM0VoPU9Qk/AAAAAAAAAAI/AAAAAAAAAA8/IFVzy5HDtHU/photo.jpg?sz=128", "display_name": "Alex", "link": "https://stackoverflow.com/users/4365792/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538610224, "creation_date": 1538585563, "question_id": 52632036, "link": "https://stackoverflow.com/questions/52632036/angular-slickgrid-not-allowing-empty-value-with-integer-editor", "title": "Angular slickgrid not allowing empty value with integer editor", "body": "<p>I have a column that is editable within my Angular SlickGrid. This column uses the packed Editors.Integer. Apparently it seems like I can't escape an active column without typing a number. I'm sure this can be fixed by setting a property or something alike. This is the initialized column:</p>\n\n<pre><code>  {\n    id: 'quantity',\n    name: 'Quantity',\n    field: 'quantity',\n    type: FieldType.number,\n    editor: { \n      model:  Editors.integer\n    }\n  }\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript", "oop", "inheritance"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 1, "creation_date": 1538583302, "post_id": 52631439, "comment_id": 92196223, "body": "What do you mean call it from the base class? Yes you would have to define it in the base class ... I think we need more information about what you&#39;re trying to do."}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 9845418, "user_type": "registered", "profile_image": "https://graph.facebook.com/269426913563205/picture?type=large", "display_name": "George George", "link": "https://stackoverflow.com/users/9845418/george-george"}, "edited": false, "score": 1, "creation_date": 1538635180, "post_id": 52631739, "comment_id": 92213378, "body": "that was a deep dive in to the OO inheritance, thank you for the detailed response. It was much helpful"}], "tags": [], "owner": {"reputation": 571, "user_id": 9053225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39e02cf834b2d31955b0824a3eb33db2?s=128&d=identicon&r=PG", "display_name": "RWRkeSBZ", "link": "https://stackoverflow.com/users/9053225/rwrkesbz"}, "is_accepted": true, "score": 1, "last_activity_date": 1538584229, "creation_date": 1538584229, "answer_id": 52631739, "question_id": 52631439, "link": "https://stackoverflow.com/questions/52631439/typescript-inheritance-call-function-from-base-class/52631739#52631739", "title": "Typescript inheritance call function from base class", "body": "<p>The short answer to your question is, you have to implement <code>consoleGivenMessage(text: string)</code> in <code>FirstClass</code> so that you can call it on instances of both <code>FirstClass</code> and <code>SecondClass</code>. </p>\n\n<p>However, there is more--</p>\n\n<p>Most of the time, you call an inherited method from the derived class instead of the other way round. But, you can also have a base class that depends on an <em>abstract</em> method that is implemented in a derived class.</p>\n\n<p>Say, you have a class <code>A</code> that depends on a method <code>DoIt()</code> which is implemented only in derived class <code>B</code>, you would have to declare <code>A</code> as an abstract class and <code>DoIt()</code> as an abstract method; then, in <code>B</code> (which is not abstract--that is, it is concrete) you would implement the method <code>DoIt</code>().</p>\n\n<p>This also means that you cannot instantiate an object of <code>A</code> because it is not complete without a full implementation of <code>DoIt</code>, but you can instantiate an object of <code>B</code>. However, you can define an object of <code>A</code>, like this: <code>const a: A = new B()</code>. And, you can call <code>a.DoIt()</code>. In this case, the implementation of <code>B.DoIt()</code> would actually be called.</p>\n\n<p>This technique is used in the <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">Template Method design pattern</a>. </p>\n\n<p>TypeScript classes, inheritance, and abstract classes are <a href=\"http://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">well documented</a>.</p>\n"}], "owner": {"reputation": 391, "user_id": 9845418, "user_type": "registered", "profile_image": "https://graph.facebook.com/269426913563205/picture?type=large", "display_name": "George George", "link": "https://stackoverflow.com/users/9845418/george-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 52631739, "answer_count": 1, "score": 0, "last_activity_date": 1538584229, "creation_date": 1538583108, "question_id": 52631439, "link": "https://stackoverflow.com/questions/52631439/typescript-inheritance-call-function-from-base-class", "title": "Typescript inheritance call function from base class", "body": "<p>I am using inheritance to split the logic through base and derived class.</p>\n\n<p>In the following case scenario:</p>\n\n<pre><code>export class FirstClass{\nconstructor(){}\n\n//consoleGivenMessage('dummy text');}\n\nexport class SecondClass extends FirstClass{\nconstructor(){\n    super();\n}\n\nconsoleGivenMessage(text:string){\n    console.log(text);\n}}\n</code></pre>\n\n<p>what is the way to call the function from the base class? Should the \"<code>consoleGivenMessage(text:string)</code>\" been implemented in the base class as well?</p>\n\n<p>Any help is welcome</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "migration"], "comments": [{"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 1, "creation_date": 1538581461, "post_id": 52630905, "comment_id": 92195156, "body": "<a href=\"https://www.academind.com/learn/javascript/rxjs-6-what-changed/\" rel=\"nofollow noreferrer\">academind.com/learn/javascript/rxjs-6-what-changed</a>"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1538582157, "post_id": 52630905, "comment_id": 92195570, "body": "<a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide&zwnj;&#8203;/v6/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 631, "user_id": 6895106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f271a8fd1702d0508741037997a10a7?s=128&d=identicon&r=PG&f=1", "display_name": "Learning", "link": "https://stackoverflow.com/users/6895106/learning"}, "is_accepted": true, "score": 0, "last_activity_date": 1538583610, "creation_date": 1538583610, "answer_id": 52631580, "question_id": 52630905, "link": "https://stackoverflow.com/questions/52630905/migration-from-rxjs-5-to-rxjs-6-in-angular-4-3-project/52631580#52631580", "title": "Migration from RxJS 5 to RxJS 6 in Angular 4.3 project", "body": "<p>I faced the same issue some days back in my project where installing 'rxjs-compat' fixed the problem temporarily. But, within a week, the project started to throw rxjs errors. Finally, I had to change imports and pipes also. I would strongly recommend to update your code sooner to avoid last minute errors.</p>\n"}, {"tags": [], "owner": {"reputation": 5550, "user_id": 2126355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X8cHJ.jpg?s=128&g=1", "display_name": "Masoud Bimar", "link": "https://stackoverflow.com/users/2126355/masoud-bimar"}, "is_accepted": false, "score": 0, "last_activity_date": 1552978500, "creation_date": 1552978500, "answer_id": 55235192, "question_id": 52630905, "link": "https://stackoverflow.com/questions/52630905/migration-from-rxjs-5-to-rxjs-6-in-angular-4-3-project/55235192#55235192", "title": "Migration from RxJS 5 to RxJS 6 in Angular 4.3 project", "body": "<p><strong>RxJS v5.x to v6 Update Guide</strong>\nRxJS v6 has arrived! While this is a major version change (from 5.x to 6.x), we've put in a lot of work to keep the hard breaking changes to a minimum. In most cases, this allows application and library developers to update incrementally and use RxJS v6 without any modifications to their code.</p>\n\n<p>A backward-compatibility layer eases the update process, allowing you to keep your apps working while you address most code changes at your own pace. The overall process can be carried out in stages:</p>\n\n<ol>\n<li><p>Update to the latest version of RxJS 5.5 and ensure that you've fixed any issues caused by bug fixes.</p></li>\n<li><p>Install RxJS v6 along with the <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#backwards-compatibility\" rel=\"nofollow noreferrer\">backward-compatibility</a> package, rxjs-compat.</p></li>\n<li><p>If your app is affected by the few <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#breaking-changes\" rel=\"nofollow noreferrer\">breaking changes</a> not covered by rxjs-compat, update the affected code according to the instructions provided below.</p></li>\n</ol>\n\n<p>4.Eventually, you will want to <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#drop-compat\" rel=\"nofollow noreferrer\">drop the compatibility layer</a> to complete the update to RxJS v6. Doing so will significantly decrease the size of your apps.</p>\n\n<p>To refactor TypeScript code so that it doesn't depend on rxjs-compat, you can use rxjs-tslint.</p>\n\n<pre><code>npm i -g rxjs-tslint\nrxjs-5-to-6-migrate -p [path/to/tsconfig.json]\n</code></pre>\n\n<ol start=\"5\">\n<li>Before RxJS release v7, you will need to remove and replace all use of deprecated functionality.</li>\n</ol>\n\n<p><strong>Backwards compatibility</strong>\nIn order to minimize the impact of the upgrade, RxJS v6 releases with a sibling package, rxjs-compat, which provides a compatibility layer between the v6 and v5 APIs. Most developers with existing applications should upgrade by installing both rxjs and rxjs-compat at ^6.0.0:</p>\n\n<pre><code>npm install rxjs@6 rxjs-compat@6 --save\n</code></pre>\n\n<p>For details about this package, see <a href=\"https://www.npmjs.com/package/rxjs-compat\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/rxjs-compat</a>.</p>\n\n<p>The compatibility package increases the bundle size of your application, which is why we recommend removing it as soon as your application and dependencies have been updated. This size increase is exacerbated if you are using a version of Webpack before 4.0.0.\nFor a full explanation of what you will have to update in order to remove rxjs-compat, see <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md#drop-compat\" rel=\"nofollow noreferrer\">Dropping the compatibility layer</a>. Note also that fully updating your application to v6 may expose existing type errors that were not previously shown.</p>\n"}], "owner": {"reputation": 65, "user_id": 6013063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5eed401b0c9a90877132a9fd14b384b5?s=128&d=identicon&r=PG", "display_name": "\u0412\u0430\u0434\u0438\u043c", "link": "https://stackoverflow.com/users/6013063/%d0%92%d0%b0%d0%b4%d0%b8%d0%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 52631580, "answer_count": 2, "score": -1, "last_activity_date": 1552978500, "creation_date": 1538581355, "question_id": 52630905, "link": "https://stackoverflow.com/questions/52630905/migration-from-rxjs-5-to-rxjs-6-in-angular-4-3-project", "title": "Migration from RxJS 5 to RxJS 6 in Angular 4.3 project", "body": "<p>So I have a project on Angular 4.3.1 with RxJS 5.4.3? I need to move to RxJS 6 but keep existing version of Angular. I read <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/v6/migration.md\" rel=\"nofollow noreferrer\">this</a> \nguide and steps that i should do is:</p>\n\n<ol>\n<li>Update <strong>rxjs to 5.5</strong> version and fix possible errors.</li>\n<li>Update to <strong>rxjs 6</strong> and install <strong>rxjs-compat</strong> for compatibility, fix possible error that not covered by <strong>rxjs-compat</strong></li>\n</ol>\n\n<p>And I dont need to change existing code: imports, add pipes and other. Everything should work ?</p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "electron-builder", "vue-cli-3"], "comments": [{"owner": {"reputation": 2221, "user_id": 515114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lHTan.jpg?s=128&g=1", "display_name": "funkysoul", "link": "https://stackoverflow.com/users/515114/funkysoul"}, "edited": false, "score": 0, "creation_date": 1544095326, "post_id": 52630580, "comment_id": 94158785, "body": "Can&#39;t you place the .json file in the public folder and import it during the initialization process of your app? e.g (load json when app gets mounted)"}, {"owner": {"reputation": 371, "user_id": 5728283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1e4acaeb013da50fccb73a5fb983cb?s=128&d=identicon&r=PG", "display_name": "Ian Downard", "link": "https://stackoverflow.com/users/5728283/ian-downard"}, "edited": false, "score": 0, "creation_date": 1577162551, "post_id": 52630580, "comment_id": 105108251, "body": "Were you ever able to get your config.json working?  I&#39;m trying to use this same technique for configuring static Vue.js websites hosted by AWS S3 without compiling AWS stack specific environment variables into the minified javascript code, but so far I haven&#39;t been able to avoid compile-time minification of the variables in my static config.json."}, {"owner": {"reputation": 63, "user_id": 10451931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df7626816a74a47b8fb0dce8287931c?s=128&d=identicon&r=PG&f=1", "display_name": "stack145", "link": "https://stackoverflow.com/users/10451931/stack145"}, "edited": false, "score": 0, "creation_date": 1577263245, "post_id": 52630580, "comment_id": 105130792, "body": "It appears to me that any variables in the JavaScript, whether in a Vue file directly or imported, are compiled before the website is built and can&#39;t be changed afterwards. The results of API calls can be dynamic, so my solution was to keep the variables somewhere that can be targeted with an API call. In my case I created a .NET Core web API and kept my variables in that layer, and accessed them through a controller using axios in my Vue project."}], "answers": [{"comments": [{"owner": {"reputation": 9064, "user_id": 155926, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XJD7z.jpg?s=128&g=1", "display_name": "Jammer", "link": "https://stackoverflow.com/users/155926/jammer"}, "edited": false, "score": 0, "creation_date": 1587282022, "post_id": 59672279, "comment_id": 108444927, "body": "Struggling to get this working. The Json is loading OK but how do you get the values out into variabled like BRAND? <code>const c = getRuntimeConfig(); console.log(c);</code> just logs a promise ..."}, {"owner": {"reputation": 9064, "user_id": 155926, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XJD7z.jpg?s=128&g=1", "display_name": "Jammer", "link": "https://stackoverflow.com/users/155926/jammer"}, "edited": false, "score": 0, "creation_date": 1587282040, "post_id": 59672279, "comment_id": 108444937, "body": "Could you complete the sample code a bit more for us noobs?"}], "tags": [], "owner": {"reputation": 371, "user_id": 5728283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b1e4acaeb013da50fccb73a5fb983cb?s=128&d=identicon&r=PG", "display_name": "Ian Downard", "link": "https://stackoverflow.com/users/5728283/ian-downard"}, "is_accepted": true, "score": 5, "last_activity_date": 1578604919, "creation_date": 1578604919, "answer_id": 59672279, "question_id": 52630580, "link": "https://stackoverflow.com/questions/52630580/how-can-i-read-values-from-a-static-config-json-file-to-typescript-in-a-vue-file/59672279#59672279", "title": "How can I read values from a static config.json file to TypeScript in a Vue file after running build:electron in Vue CLI 3?", "body": "<p>You're right in thinking that you should put runtime configurations under the <code>public/</code> folder, but don't import them. The import would get resolved during build time and its result would go through webpack. Instead, use <code>fetch</code> to load them via HTTP.</p>\n\n<p>Vue designates the <code>public</code> folder as the place to put static assets that should bypass webpack and simply by copied to <code>dist/</code>. You can access them during runtime with an HTTP request like this:</p>\n\n<pre><code>const getRuntimeConfig = async () =&gt; {\n  const runtimeConfig = await fetch('/config');\n  return await runtimeConfig.json()\n}\n</code></pre>\n\n<p>If you want to use those runtime configurations in multiple Vue components without doing multiple fetches, then do one fetch in the main Javascript file that drives your Vue app (e.g. <code>src/main.js</code>) and share the result via Vue mixins, like this:</p>\n\n<pre><code>  Vue.mixin({\n      data() {\n        return {\n          // Distribute runtime configs into every Vue component\n          BRAND: BRAND,\n          PRINTER_IP: json.printerIP\n        }\n      },\n    });\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10451931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df7626816a74a47b8fb0dce8287931c?s=128&d=identicon&r=PG&f=1", "display_name": "stack145", "link": "https://stackoverflow.com/users/10451931/stack145"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2530, "favorite_count": 0, "accepted_answer_id": 59672279, "answer_count": 1, "score": 6, "last_activity_date": 1578604919, "creation_date": 1538580388, "question_id": 52630580, "link": "https://stackoverflow.com/questions/52630580/how-can-i-read-values-from-a-static-config-json-file-to-typescript-in-a-vue-file", "title": "How can I read values from a static config.json file to TypeScript in a Vue file after running build:electron in Vue CLI 3?", "body": "<p>Good afternoon.</p>\n\n<p>I was wondering whether it is possible to add a <em>config.json</em> file to a Vue CLI 3 project that can be read at runtime, both during development and production.</p>\n\n<p>The <em>config.json</em> file will contain some strings the app can use to change content dynamically, such as the video files that are displayed to a user and the IP address of a printer.</p>\n\n<pre><code>// config.json\n\n{\n    \"brand\": \"eat\",\n    \"printerIP\": \"192.168.0.4\"\n}\n</code></pre>\n\n<p>I have attempted to place the file in the assets folder and the public folder. I have tried importing it to the <em>script lang=\"ts\"</em> element of <em>App.vue</em> using both import and require statements. I am using the vue-property-decorator.</p>\n\n<pre><code>// App.vue (&lt;script lang=\"ts\"&gt;)\n\nconst config = require('../public/config.json');\n\nOR\n\nimport config from '../public/config.json';\n</code></pre>\n\n<p>I have accessed the values both by processing it like an API using axios and simply accessing the variables using, for example, <em>config.brand</em>.</p>\n\n<pre><code>// App.vue (&lt;script lang=\"ts\"&gt;)\n\nimport axios from 'axios';\n\n@Provide() private brand: string = \"\";\n\naxios\n    .get('.config.json')\n    .then(response =&gt; {\n        this.brand = response.data.brand;\n    })\n\nOR\n\nthis.brand = config.brand;\n</code></pre>\n\n<p>Unfortunately, the data is only read at build time and compiled into minified JavaScript. This means the app is not updated even if the user updates the variables in <em>config.json</em> after the app is built. I need to be able to access <em>config.json</em> in the build files, update a value and then have the app read the new value at runtime without the need to build the project again. I was wondering if it is possible to do this.</p>\n\n<p>Any help you can provide will be greatly appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1538580878, "post_id": 52630331, "comment_id": 92194831, "body": "I figured as much, trying avoid having to do this however"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1538579694, "creation_date": 1538579694, "answer_id": 52630331, "question_id": 52630183, "link": "https://stackoverflow.com/questions/52630183/inferring-without-type-widening-a-property-from-an-object/52630331#52630331", "title": "Inferring (without type widening) a property from an object", "body": "<p>Typescript will not use literal if the value is mutable (and although <code>trueObj</code> is <code>const</code> the object is still mutable).</p>\n\n<p>The simplest solution is to change how you create the object, using a function that will infer the correct literal type for the property :</p>\n\n<pre><code>function makeLol&lt;T extends boolean&gt;(o: { lol: T }) {\n    return o\n}\nconst trueObj = makeLol({ lol: true }); // typed as { lol: true }\nconst falseObj = makeLol({ lol: false }); // typed as { lol: false }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139391, "user_id": 135978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG", "display_name": "Sean Vieira", "link": "https://stackoverflow.com/users/135978/sean-vieira"}, "is_accepted": true, "score": 0, "last_activity_date": 1556209990, "creation_date": 1556209990, "answer_id": 55853896, "question_id": 52630183, "link": "https://stackoverflow.com/questions/52630183/inferring-without-type-widening-a-property-from-an-object/55853896#55853896", "title": "Inferring (without type widening) a property from an object", "body": "<p>You can do this in TypeScript 3.4+ with the new <code>as const</code> type assertion:</p>\n\n<pre><code>type Magic&lt;T&gt; = T extends { lol: infer U } ? U : false;\n\nconst trueObj = { lol: true } as const;\nconst falseObj = { lol: false } as const;\n\n// should pass\nconst a: Magic&lt;typeof trueObj&gt; = true; // ok\nconst b: Magic&lt;typeof falseObj&gt; = false; // ok\nconst c: Magic&lt;{ lol: true }&gt; = true; // ok\nconst d: Magic&lt;{ lol: false }&gt; = false; // ok\n\n// should fail\nconst e: Magic&lt;typeof falseObj&gt; = true; // ok (fails)\nconst f: Magic&lt;typeof trueObj&gt; = false; // ok (fails)\nconst g: Magic&lt;{ lol: false }&gt; = true; // ok (fails)\nconst h: Magic&lt;{ lol: true }&gt; = false; // ok (fails)\n</code></pre>\n"}], "owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55853896, "answer_count": 2, "score": 0, "last_activity_date": 1556209990, "creation_date": 1538579298, "question_id": 52630183, "link": "https://stackoverflow.com/questions/52630183/inferring-without-type-widening-a-property-from-an-object", "title": "Inferring (without type widening) a property from an object", "body": "<ul>\n<li>I have a type <code>MrType&lt;T extends boolean&gt;</code></li>\n<li>I have a func <code>MrFn(obj?: { lol: boolean }): MrType&lt;typeof obj.lol&gt;</code></li>\n</ul>\n\n<p>I am trying to infer whether the <code>lol</code> property on the supplied object (if supplied at all) is <code>true</code> or <code>false</code></p>\n\n<p>However I am hitting a wall due to type widening</p>\n\n<pre><code>type Magic&lt;T&gt; = T extends { lol: infer U } ? U : false;\n\nconst trueObj = { lol: true };\nconst falseObj = { lol: false };\n\n// should pass\nconst a: Magic&lt;typeof trueObj&gt; = true; // ok\nconst b: Magic&lt;typeof falseObj&gt; = false; // ok\nconst c: Magic&lt;{ lol: true }&gt; = true; // ok\nconst d: Magic&lt;{ lol: false }&gt; = false; // ok\n\n// should fail\nconst e: Magic&lt;typeof falseObj&gt; = true; // does not fail\nconst f: Magic&lt;typeof trueObj&gt; = false; // does not fail\nconst g: Magic&lt;{ lol: false }&gt; = true; // ok (fails)\nconst h: Magic&lt;{ lol: true }&gt; = false; // ok (fails)\n</code></pre>\n\n<p>My <code>trueObj</code> and <code>falseObj</code> get their properties inferred as <code>boolean</code>, which means my <code>Magic&lt;T&gt;</code> is unable to detect whether you set <code>true</code> or <code>false</code></p>\n\n<p>Is there a way to correct my solution or is this a limitation within TS?</p>\n"}, {"tags": ["angular", "typescript", "asynchronous", "testing", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 3611234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b5a07d2c96dca5ec280069896e908f?s=128&d=identicon&r=PG", "display_name": "jeremielc", "link": "https://stackoverflow.com/users/3611234/jeremielc"}, "edited": false, "score": 0, "creation_date": 1538581535, "post_id": 52630020, "comment_id": 92195200, "body": "Thank you for your answer. I already love it&#39;s simplicity. I&#39;ll give it a try and let you know if I encounter any problem during my testing before marking it as the approved answer. Thanks :)"}, {"owner": {"reputation": 480, "user_id": 1390751, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c0a5e25bc987fa7e568f98ae0d55f2e6?s=128&d=identicon&r=PG", "display_name": "AntonIva", "link": "https://stackoverflow.com/users/1390751/antoniva"}, "edited": false, "score": 1, "creation_date": 1565119363, "post_id": 52630020, "comment_id": 101249686, "body": "Probably you can&#39;t test the &quot;onValue&quot; method because it is private. A better way to do it is, to refactor SomeService a way that it return &quot;anObservable&quot; by method call. Inside the test, mock that method using a Jasmine spyOn. Let me know if you need more details."}], "tags": [], "owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "is_accepted": true, "score": 6, "last_activity_date": 1538578782, "creation_date": 1538578782, "answer_id": 52630020, "question_id": 52629769, "link": "https://stackoverflow.com/questions/52629769/angular-how-to-properly-test-actions-that-are-performed-in-observable-subscrip/52630020#52630020", "title": "Angular - How to properly test actions that are performed in Observable subscription block?", "body": "<p>I often find that my code can be refactored somewhat to accommodate testing, and that refactoring typically makes the code less tightly coupled, more flexible, and easier to read.</p>\n\n<p>In that vein, I would suggest that you take the code that you currently have in the \"next\" handler of your subscription, and extract it out to a separate method.</p>\n\n<p>For instance, take </p>\n\n<pre><code>  constructor(private someService: SomeService) {\n    this.aSubscriber = someService.anObservable$.subscribe(value =&gt; {\n      this.isEditable = value;\n    });\n  }\n</code></pre>\n\n<p>and refactor it to:</p>\n\n<pre><code>  constructor(private someService: SomeService) {\n    this.aSubscriber = someService.anObservable$.subscribe(value =&gt; {\n      this.onValue(value);\n    });\n  }\n\n  private onValue(value) {\n    this.isEditable = value;\n  }\n</code></pre>\n\n<p>Then, you can simply test the \"onValue\" method directly, without having to test the Observable. It is my opinion that unless you are doing something more advanced with your Observable (piping it to a map(), filter() etc.), you don't need to test Observables, and you remove the asynchronous aspect of the test.</p>\n\n<p>And if you do have an advanced pipeline, you should probably be testing it separately.\nSplitting it up like this enables testing both situations separately.</p>\n"}], "owner": {"reputation": 103, "user_id": 3611234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b5a07d2c96dca5ec280069896e908f?s=128&d=identicon&r=PG", "display_name": "jeremielc", "link": "https://stackoverflow.com/users/3611234/jeremielc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 0, "accepted_answer_id": 52630020, "answer_count": 1, "score": 0, "last_activity_date": 1538578782, "creation_date": 1538578103, "question_id": 52629769, "link": "https://stackoverflow.com/questions/52629769/angular-how-to-properly-test-actions-that-are-performed-in-observable-subscrip", "title": "Angular - How to properly test actions that are performed in Observable subscription block?", "body": "<p>I have to write unit tests for an angular 5 application. In order to do that I use <code>jasmine + jest</code> (we use jest instead of karma in my company for test speed).</p>\n\n<p>In order to test my component behaviour <em>(see code below)</em>, I create a test that subscribe to the same <code>Observable</code> as the component under test, then, wait 2 seconds in the hope that the component's subscription code block had enougth time to complete, and then, look for component's internal changes.</p>\n\n<p>The problem is that as the number of test increase, the time needed for the tests to complete increase too. And I personally think that there must be a better way of testing this type of code below.</p>\n\n<ul>\n<li>How would you handle this situation ? I tried looking at <code>async</code> but couldn't find a way to make it fit my needs.  </li>\n<li>How can I ensure that my tests are running after the component's subscription block ?  </li>\n<li>How can I avoid waiting 2 seconds for the test to start and instead just wait for the component's subscription block to complete ?</li>\n</ul>\n\n<p>Thanks in advance for your help.</p>\n\n<hr>\n\n<ul>\n<li>Component:</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, OnInit, OnDestroy } from '@angular/core';\r\nimport { SomeService } from './some.service';\r\n\r\n@Component({\r\n  selector: 'app-dummy',\r\n  templateUrl: './dummy.component.html',\r\n  styleUrls: ['./dummy.component.scss']\r\n})\r\nexport class DummyComponent implements OnInit, OnDestroy {\r\n  isEditable: Boolean;\r\n  //...\r\n  private aSubscriber;\r\n\r\n  constructor(private someService: SomeService) {\r\n    this.aSubscriber = someService.anObservable$.subscribe(value =&gt; {\r\n      this.isEditable = value;\r\n    });\r\n  }\r\n\r\n  ngOnInit() { }\r\n\r\n  ngOnDestroy() {\r\n    this.aSubscriber.unsubscribe();\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li>Service:</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\n@Injectable()\r\nexport class SomeService {\r\n  private aSubject = new Subject&lt;any&gt;();\r\n  \r\n  anObservable$ = this.aSubject.asObservable();\r\n  \r\n  constructor() { }\r\n\r\n  notify(value) {\r\n    this.aSubject.next(value);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ul>\n<li>Spec file:</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\r\n\r\nimport { DummyComponent } from './dummy.component';\r\nimport { SomeService } from './some.service';\r\n\r\ndescribe('DummyComponent', () =&gt; {\r\n  let component: DummyComponent;\r\n  let fixture: ComponentFixture&lt;DummyComponent&gt;;\r\n\r\n  beforeEach(async(() =&gt; {\r\n    TestBed.configureTestingModule({\r\n      declarations: [DummyComponent],\r\n      providers: [SomeService]\r\n    }).compileComponents();\r\n  }));\r\n\r\n  beforeEach(() =&gt; {\r\n    fixture = TestBed.createComponent(DummyComponent);\r\n    component = fixture.componentInstance;\r\n    fixture.detectChanges();\r\n  });\r\n\r\n  it('should create', () =&gt; {\r\n    expect(component).toBeTruthy();\r\n  });\r\n\r\n  it('should subscribe to anObservable and set values according to the received one',\r\n    inject([SomeService], (service: SomeService) =&gt; {\r\n      service.anObservable$.subscribe(value =&gt; {\r\n        setTimeout(() =&gt; { }, 2000);\r\n        //Test that values are correctly set in the component under test.\r\n        expect(component.isEditable).toBeTruthy();\r\n        //...\r\n      });\r\n\r\n      service.notify(true);\r\n  }));\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "ag-grid"], "comments": [{"owner": {"reputation": 372, "user_id": 10055871, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IXWdTn39Z2Q/AAAAAAAAAAI/AAAAAAAACc4/4iqhRTZRqjA/photo.jpg?sz=128", "display_name": "tomer raitz", "link": "https://stackoverflow.com/users/10055871/tomer-raitz"}, "edited": false, "score": 0, "creation_date": 1538581982, "post_id": 52629693, "comment_id": 92195470, "body": "Did you import the &quot;translate&quot; pipe to the moudle.ts?if you are not sure you can look at this video: <a href=\"https://www.youtube.com/watch?v=Ara2cQ4IQxA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=Ara2cQ4IQxA</a>"}, {"owner": {"reputation": 325, "user_id": 3164746, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d9ca8d1535b6de10aaf3b4f7082b21db?s=128&d=identicon&r=PG&f=1", "display_name": "saibot", "link": "https://stackoverflow.com/users/3164746/saibot"}, "reply_to_user": {"reputation": 372, "user_id": 10055871, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IXWdTn39Z2Q/AAAAAAAAAAI/AAAAAAAACc4/4iqhRTZRqjA/photo.jpg?sz=128", "display_name": "tomer raitz", "link": "https://stackoverflow.com/users/10055871/tomer-raitz"}, "edited": false, "score": 0, "creation_date": 1538635080, "post_id": 52629693, "comment_id": 92213325, "body": "Yes, i&#39;m using the translate pipe on the same page as well, so that should be okay."}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 3164746, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d9ca8d1535b6de10aaf3b4f7082b21db?s=128&d=identicon&r=PG&f=1", "display_name": "saibot", "link": "https://stackoverflow.com/users/3164746/saibot"}, "edited": false, "score": 0, "creation_date": 1538635188, "post_id": 52635064, "comment_id": 92213382, "body": "It(s a little bit different the way I use it. I use ag grid in the html markdown. <code>&lt;ag-grid-column headerName=&quot;ORDERS.GRID.EntryDescription&quot; [headerValueGetter]=&quot;translateHeaderValue&quot; field=&quot;entryDescription&quot;&gt;&lt;&#47;ag-grid-column&gt;</code>   So in typescript it is like this <code>translateHeaderValue(params) {   params.context.translateService.get(params.colDef.headerName&zwnj;&#8203;).pipe(map((res: string) =&gt; { \tconsole.log(res); \treturn res;   })); }</code>   But my console log &#39;res&#39; never gets hit Remark: I need to use the pipe in front of map, otherwise i&#39;m havind an error map is not a function."}, {"owner": {"reputation": 161, "user_id": 4215886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dae8364a1b64994703fbc0fc41f5d85?s=128&d=identicon&r=PG&f=1", "display_name": "Borja Alvarez", "link": "https://stackoverflow.com/users/4215886/borja-alvarez"}, "edited": false, "score": 2, "creation_date": 1568359596, "post_id": 52635064, "comment_id": 102256143, "body": "same problem here, it seems as the translator method is async the response callback never gets kicked. Did someone find a solution to this?"}], "tags": [], "owner": {"reputation": 3982, "user_id": 4483102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KlTY3.jpg?s=128&g=1", "display_name": "un.spike", "link": "https://stackoverflow.com/users/4483102/un-spike"}, "is_accepted": false, "score": 3, "last_activity_date": 1538598356, "last_edit_date": 1538598356, "creation_date": 1538597946, "answer_id": 52635064, "question_id": 52629693, "link": "https://stackoverflow.com/questions/52629693/ag-grid-translate-headername-with-ngx-translate-angular/52635064#52635064", "title": "AG-Grid: Translate headerName with ngx-translate (angular)", "body": "<blockquote>\n  <p><a href=\"https://www.ag-grid.com/javascript-grid-value-getters/#header-value-getters\" rel=\"nofollow noreferrer\"><strong>Header Value Getters</strong></a> </p>\n  \n  <p>Use <code>headerValueGetter</code> instead of <code>colDef.headerName</code> to allow dynamic header names.</p>\n</blockquote>\n\n<pre><code>private translator: TranslateService;\n...\ncolDef.headerValueGetter : this.localizeHeader.bind(this)\n....\nlocalizeHeader(params){\n    let headerIdentifier = params.colDef.field; // params.column.getColId();\n    this.translator.get(headerIdentifier).map((res: string) =&gt; {\n        return res;\n    });\n}\n</code></pre>\n\n<p><a href=\"https://www.ag-grid.com/javascript-grid-tool-panel-columns/#column-tool-panel-example\" rel=\"nofollow noreferrer\">Sample from doc</a></p>\n\n<pre><code>{ \n    headerName: \"Country\", \n    field: \"country\", \n    width: 120, \n    enableRowGroup: true, \n    enablePivot: true, \n    headerValueGetter: countryHeaderValueGetter \n},\n\nfunction countryHeaderValueGetter(params) {\n    switch (params.location) {\n        case 'csv': return 'CSV Country';\n        case 'clipboard': return 'CLIP Country';\n        case 'toolPanel': return 'TP Country';\n        case 'columnDrop': return 'CD Country';\n        case 'header': return 'H Country';\n        default: return 'Should never happen!';\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 13759350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a8065ed546768f68160b17f6e67ad3?s=128&d=identicon&r=PG", "display_name": "TurboYang", "link": "https://stackoverflow.com/users/13759350/turboyang"}, "is_accepted": false, "score": 4, "last_activity_date": 1594739545, "last_edit_date": 1594739545, "creation_date": 1592352452, "answer_id": 62419432, "question_id": 52629693, "link": "https://stackoverflow.com/questions/52629693/ag-grid-translate-headername-with-ngx-translate-angular/62419432#62419432", "title": "AG-Grid: Translate headerName with ngx-translate (angular)", "body": "<h1>demo.component.html</h1>\n<pre><code>&lt;ag-grid-angular style=&quot;width: 100%; height: 100%;&quot; class=&quot;ag-theme-material&quot; [rowData]=&quot;rowData&quot;\n    [columnDefs]=&quot;columnDefs&quot; (gridReady)=&quot;onGridReady($event)&quot; [pagination]=&quot;true&quot;&gt;\n&lt;/ag-grid-angular&gt;\n</code></pre>\n<h1>demo.component.ts</h1>\n<pre><code>import { Component } from '@angular/core';\nimport { ColDef, GridApi } from 'ag-grid-community';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-demo',\n  templateUrl: './demo.component.html',\n  styleUrls: ['./demo.component.scss']\n})\nexport class DemoComponent {\n  private gridApi: GridApi = null;\n\n  public columnDefs: ColDef[] = [\n    { headerName: &quot;Code&quot;, field: 'code', sortable: true, resizable: true, headerValueGetter: this.localizeHeader.bind(this) },\n    { headerName: 'Version', field: 'version', sortable: true, resizable: true, headerValueGetter: this.localizeHeader.bind(this) },\n    { headerName: 'IsEnabled', field: 'isEnabled', sortable: true, resizable: true, headerValueGetter: this.localizeHeader.bind(this) }\n  ];\n\n  public rowData: any[] = [];\n\n  constructor(private translateService: TranslateService) {\n    this.translateService.onLangChange.subscribe(() =&gt; {\n      this.gridApi.refreshHeader();\n    })\n  }\n\n  public onGridReady(parameters: any): void {\n    this.gridApi = parameters.api;\n  }\n\n  public localizeHeader(parameters: ICellRendererParams): string {\n    let headerIdentifier = parameters.colDef.field;\n    return this.translateService.instant(headerIdentifier);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 1821308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e38d68c6c7c69c7dfdd977a9bb907d6?s=128&d=identicon&r=PG", "display_name": "flatbeat", "link": "https://stackoverflow.com/users/1821308/flatbeat"}, "is_accepted": false, "score": 0, "last_activity_date": 1615384549, "creation_date": 1615384549, "answer_id": 66566210, "question_id": 52629693, "link": "https://stackoverflow.com/questions/52629693/ag-grid-translate-headername-with-ngx-translate-angular/66566210#66566210", "title": "AG-Grid: Translate headerName with ngx-translate (angular)", "body": "<p>If you want to use the solution of TurboYang with async translation loading just add this:</p>\n<pre><code>  private destroy = new Subject&lt;void&gt;();\n\n  constructor(private toastService: ToastService, private translate: TranslateService) {\n    translate.onLangChange.pipe(takeUntil(this.destroy)).subscribe(() =&gt; {\n      this.gridApi.refreshHeader();\n    });\n    translate.onDefaultLangChange.pipe(takeUntil(this.destroy)).subscribe(() =&gt; {\n      this.gridApi.refreshHeader();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy.next();\n    this.destroy.complete();\n  }\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 3164746, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d9ca8d1535b6de10aaf3b4f7082b21db?s=128&d=identicon&r=PG&f=1", "display_name": "saibot", "link": "https://stackoverflow.com/users/3164746/saibot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3670, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1615384549, "creation_date": 1538577853, "last_edit_date": 1594738422, "question_id": 52629693, "link": "https://stackoverflow.com/questions/52629693/ag-grid-translate-headername-with-ngx-translate-angular", "title": "AG-Grid: Translate headerName with ngx-translate (angular)", "body": "<p>We are using Angular to visualise an AG grid. We want the headers of the ag grid to be translated in the language of the user.</p>\n<p>Ag grid code:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ag-grid-angular class=&quot;ag-theme-material&quot; [rowData]=&quot;productionOrders&quot;&gt;\n  &lt;ag-grid-column [headerName]=&quot;'ORDERS.GRID.EntryCode' | translate&quot; field=&quot;entry&quot;&gt;&lt;/ag-grid-column&gt;\n  &lt;ag-grid-column [headerName]=&quot;ORDERS.GRID.EntryDescription&quot; field=&quot;entryDescription&quot;&gt;&lt;/ag-grid-column&gt;\n&lt;/ag-grid-angular&gt;\n</code></pre>\n<p>The same way we can translate a value on our html page itself:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;span&gt;{{ 'ORDERS.Status' | translate}}&lt;/span&gt;\n</code></pre>\n<p>I noticed, when the translations are being loaded, ag grid does not notice when the translations are loaded. The value on the html page itself however gets translated.</p>\n<p>Extra info: The translate pipe of ngx-translate is an &quot;impure&quot; pipe, which means its value can change (eg. when all translations are loaded)</p>\n<p>The same way, when using a headerName without a translation, it does not get updated:</p>\n<p>Ag grid code:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ag-grid-angular class=&quot;ag-theme-material&quot; [rowData]=&quot;productionOrders&quot;&gt;\n  &lt;ag-grid-column [headerName]=&quot;bindedString&quot; field=&quot;entry&quot;&gt;&lt;/ag-grid-column&gt;\n&lt;/ag-grid-angular&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>this.lazyString = 'test-1';\nsetTimeout(() =&gt; {\n  this.lazyString = 'test-2';\n}, 3000);\n</code></pre>\n<p>The header name is never updated to &quot;test-2&quot;</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "edited": false, "score": 0, "creation_date": 1538578348, "post_id": 52629644, "comment_id": 92193099, "body": "I&#39;m not personally familiar with <code>strictNullChecks</code>, but it seems to me that if you know it&#39;s not <code>null</code>, you can force the compiler to believe you by using <code>!</code>: <code>var strLen = value!.length;</code>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1538612603, "post_id": 52629644, "comment_id": 92207640, "body": "FYI, this is <a href=\"https://github.com/Microsoft/TypeScript/issues/8655\" rel=\"nofollow noreferrer\">the declined suggestion</a> you are wanting."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 4939788, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206731418101319/picture?type=large", "display_name": "Erik Johansson", "link": "https://stackoverflow.com/users/4939788/erik-johansson"}, "edited": false, "score": 1, "creation_date": 1538638005, "post_id": 52629828, "comment_id": 92214815, "body": "This looks like the best possible solution to me. Thank you!"}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 4, "last_activity_date": 1538578270, "creation_date": 1538578270, "answer_id": 52629828, "question_id": 52629644, "link": "https://stackoverflow.com/questions/52629644/how-to-make-typescript-understand-that-value-cant-be-null-after-function-call-t/52629828#52629828", "title": "How to make Typescript understand that value can&#39;t be null after function call that throws if value is null", "body": "<p>You could make <code>ensureNotNull</code> return the non-<code>null</code> and assign it back (changes marked with <code>***</code>):</p>\n\n<pre><code>function ensureNotNull&lt;T&gt;(arg: T | null, paramName: string): T {\n// *** ------------------------------------------------------^\n    if (arg === null) {\n        throw new Error(`arg '${paramName}' is null`);\n    }\n\n    return arg; // ***\n}\n\nvar value: string | null = null;\n\nfunction doStuffIfValueNotNull(value: string | null) : void {\n    value = ensureNotNull&lt;string&gt;(value, \"value\");\n//  ^^^^^^^^---- ***\n    var strLen = value.length;\n}\n</code></pre>\n\n<p>Alternately, <code>if</code> (but...blech, it suggests the method will return when in fact it will throw):</p>\n\n<pre><code>function doStuffIfValueNotNull(value: string | null) : void {\n    if (!ensureNotNull&lt;string&gt;(value, \"value\")) return;\n    var strLen = value.length; //Error with strictNullChecks\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4939788, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206731418101319/picture?type=large", "display_name": "Erik Johansson", "link": "https://stackoverflow.com/users/4939788/erik-johansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 52629828, "answer_count": 1, "score": 3, "last_activity_date": 1538578270, "creation_date": 1538577717, "question_id": 52629644, "link": "https://stackoverflow.com/questions/52629644/how-to-make-typescript-understand-that-value-cant-be-null-after-function-call-t", "title": "How to make Typescript understand that value can&#39;t be null after function call that throws if value is null", "body": "<p>I have a function that checks if a value is not null, that throws if the value is null. If it doesn't throw and returns successfully, i know that the value can't possibly be null.</p>\n\n<p>Typescript doesn't seem to understand this without resorting to if cases. Is there any way to achieve this?</p>\n\n<p>See the code below for clarification:</p>\n\n<pre><code>function ensureNotNull&lt;T&gt;(arg: T | null, paramName: string): arg is Exclude&lt;typeof arg, null&gt; {\n    if (arg === null) {\n        throw new Error(`arg '${paramName}' is null`);\n    }\n\n    return true;\n}\n\nvar value: string | null = null;\n\nfunction doStuffIfValueNotNull(value: string | null) : void {\n    ensureNotNull&lt;string&gt;(value, \"value\");\n    var strLen = value.length; //Error with strictNullChecks\n}\n</code></pre>\n"}, {"tags": ["typescript", "youtube-api", "systemjs", "youtube-javascript-api"], "comments": [{"owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "edited": false, "score": 0, "creation_date": 1538580832, "post_id": 52629351, "comment_id": 92194799, "body": "&quot;declare var youtube : string;&quot; and replacing the string compiles, but then the await throws an error: &#39;youtube is not defined&#39; meaning the config is ignored."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "is_accepted": false, "score": 0, "last_activity_date": 1538581378, "creation_date": 1538581378, "answer_id": 52630913, "question_id": 52629351, "link": "https://stackoverflow.com/questions/52629351/systemjs-the-youtube-api-external-js-library-mistaken-for-local-typescript-modu/52630913#52630913", "title": "SystemJS: The YouTube API external JS library mistaken for local TypeScript module", "body": "<p>Of course the supposedly unclean method of injecting the script works:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>try {\r\n  var tag = document.createElement('script');\r\n  tag.src = \"https://www.youtube.com/iframe_api\";\r\n  var firstScriptTag = document.getElementsByTagName('script')[0];\r\n  if (firstScriptTag.parentNode != null) {\r\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n  }\r\n\r\n  // await import(youtube); // automatically injects a script tag\r\n  console.log('API loaded');\r\n} catch (e) {\r\n  console.error('The YouTube API failed to load: ' + e);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "edited": false, "score": 0, "creation_date": 1538642660, "post_id": 52637393, "comment_id": 92217273, "body": "Making the declaration worked, but it is still ignoring the SystemJS config, see the updated Source Code link. I take it it doesn&#39;t matter if I use &#39;System&#39;. or &#39;SystemJS,&#39;.  As then I face the error: <i>&#39;The YouTube API failed to load: TypeError: context_1.import is not a function&#39;</i>"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "edited": false, "score": 1, "creation_date": 1538666044, "post_id": 52637393, "comment_id": 92232073, "body": "Right, it looks like SystemJS 0.21 doesn&#39;t support dynamic import.  You&#39;d have to move to SystemJS 2.0 (which requires a bunch of other configuration changes) or find a different solution. :("}, {"owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "edited": false, "score": 0, "creation_date": 1538750901, "post_id": 52637393, "comment_id": 92266202, "body": "No wait, I think I succeeded by using 0.21.5 instead of 0.19.22."}, {"owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "edited": false, "score": 0, "creation_date": 1538757538, "post_id": 52637393, "comment_id": 92269785, "body": "Yep, it seems to work fine once a declaration file is made and the latest version of SystemJS is used. 2.0 is too new for me to try right now.  Thank you for your time Matt!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1538613271, "creation_date": 1538613271, "answer_id": 52637393, "question_id": 52629351, "link": "https://stackoverflow.com/questions/52629351/systemjs-the-youtube-api-external-js-library-mistaken-for-local-typescript-modu/52637393#52637393", "title": "SystemJS: The YouTube API external JS library mistaken for local TypeScript module", "body": "<p>Since the YouTube API was originally designed to be loaded globally, <code>@types/youtube</code> describes the global <code>YT</code> variable that it defines.  The <code>youtube</code> virtual module that you have configured with SystemJS and are trying to import is not declared anywhere for TypeScript.  Since the name matches, TypeScript is looking for a declaration of the <code>youtube</code> module in <code>@types/youtube</code>, but it isn't there.  You'll need to add a declaration that simply indicates that the <code>youtube</code> module is the same as the <code>YT</code> global variable declared by <code>@types/youtube</code>.  Create a new file <code>declaration.d.ts</code> containing:</p>\n\n<pre><code>declare module \"youtube\" {\n    export = YT;\n}\n</code></pre>\n\n<p>and the TypeScript error should go away.</p>\n\n<p>As an aside, shouldn't the <code>exports</code> in the SystemJS configuration entry be <code>YT</code>, not <code>youtube</code>?</p>\n"}], "owner": {"reputation": 132, "user_id": 584258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c900b93bb40a9987146901e5c0e2a79?s=128&d=identicon&r=PG", "display_name": "Pendrokar", "link": "https://stackoverflow.com/users/584258/pendrokar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 0, "accepted_answer_id": 52637393, "answer_count": 2, "score": 0, "last_activity_date": 1538757401, "creation_date": 1538576874, "last_edit_date": 1538757401, "question_id": 52629351, "link": "https://stackoverflow.com/questions/52629351/systemjs-the-youtube-api-external-js-library-mistaken-for-local-typescript-modu", "title": "SystemJS: The YouTube API external JS library mistaken for local TypeScript module", "body": "<p>Training my TypeScript and Angular skills. First by converting <a href=\"https://pendrokar.github.io/magia-ts/\" rel=\"nofollow noreferrer\">my simple HTML website</a>'s two scripts to <strong>JUST</strong> TypeScript for now. I was able to convert the Scroller script, but am having problems with YouTube API as it is an remote external JS file and not a SystemJS module.</p>\n\n<p>I failed to have the API trigger a module's function after it has loaded. So <a href=\"https://stackoverrun.com/ru/q/11789890\" rel=\"nofollow noreferrer\">here</a> I found out that using 'await import' is supposedly the way to go, but it isn't working out.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>SystemJS.config({\r\n  map: {\r\n\tyoutube: \"https://www.youtube.com/iframe_api\"\r\n  },\r\n  meta: {\r\n\t\"https://www.youtube.com/iframe_api\": {\r\n\t  \"format\": \"global\",\r\n\t  \"exports\": \"youtube\",\r\n\t  \"scriptLoad\": true,\r\n\t  \"build\": false\r\n\t}\r\n  }\r\n});\r\n\r\n...\r\n\r\nexport default class YouTubeService {\r\nasync loadAPI() {\r\n\r\n\ttry {\r\n\t\tawait import('youtube'); // automatically injects a script tag\r\n\t\tconsole.log('API loaded');\r\n\t}\r\n\tcatch (e) {\r\n\t\tconsole.error('The YouTube API failed to load');\r\n\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>TypeScript throws the following error:</p>\n\n<blockquote>\n  <p>/js/main.ts [1 errors] (48, 17) File\n  '/var/www/magia-ts/node_modules/@types/youtube/index.d.ts' is not a\n  module.</p>\n</blockquote>\n\n<p>Original source code: <a href=\"https://github.com/Pendrokar/magia-ts/blob/7677f0ad1e2219ac041e3a8177561c36e905c3c3/js/main.ts#L48\" rel=\"nofollow noreferrer\">https://github.com/Pendrokar/magia-ts/blob/7677f0ad1e2219ac041e3a8177561c36e905c3c3/js/main.ts#L48</a></p>\n"}, {"tags": ["node.js", "angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 3652, "user_id": 7026928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odN7u.jpg?s=128&g=1", "display_name": "Ihor Sakailiuk", "link": "https://stackoverflow.com/users/7026928/ihor-sakailiuk"}, "edited": false, "score": 1, "creation_date": 1538575937, "post_id": 52628925, "comment_id": 92191459, "body": "<code>import * as dialogflow from &#39;dialogflow&#39;;</code>?"}, {"owner": {"reputation": 149, "user_id": 10303523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a25ca1db856e4360c5e922445b952b3?s=128&d=identicon&r=PG&f=1", "display_name": "raj_tx", "link": "https://stackoverflow.com/users/10303523/raj-tx"}, "reply_to_user": {"reputation": 3652, "user_id": 7026928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/odN7u.jpg?s=128&g=1", "display_name": "Ihor Sakailiuk", "link": "https://stackoverflow.com/users/7026928/ihor-sakailiuk"}, "edited": false, "score": 0, "creation_date": 1538576941, "post_id": 52628925, "comment_id": 92192103, "body": "I haven&#39;t imported that. Is it the same way I have to write as you have written?"}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1538576213, "creation_date": 1538576213, "answer_id": 52629108, "question_id": 52628925, "link": "https://stackoverflow.com/questions/52628925/problem-when-requiring-module-in-ionic-framework/52629108#52629108", "title": "Problem when requiring module in ionic framework", "body": "<p>Add types to tsconfig.json</p>\n\n<pre><code>\"types\": [\n    \"node\"\n],\n\"typeRoots\": [\n    \"node_modules/@types\"\n]\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 10303523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a25ca1db856e4360c5e922445b952b3?s=128&d=identicon&r=PG&f=1", "display_name": "raj_tx", "link": "https://stackoverflow.com/users/10303523/raj-tx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1538654687, "answer_count": 1, "score": 0, "last_activity_date": 1538577092, "creation_date": 1538575738, "last_edit_date": 1538577092, "question_id": 52628925, "link": "https://stackoverflow.com/questions/52628925/problem-when-requiring-module-in-ionic-framework", "closed_reason": "Duplicate", "title": "Problem when requiring module in ionic framework", "body": "<p>In my project (using the ionic-framework 3) I have used following statement to require the dialogflow module:</p>\n\n<pre><code>const dialogflow = require('dialogflow');\n</code></pre>\n\n<p>On compilation it's throwing the following error: </p>\n\n<blockquote>\n  <p>cannot find name 'require'.</p>\n</blockquote>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1109, "user_id": 5333805, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IXhZs.jpg?s=128&g=1", "display_name": "Luud van Keulen", "link": "https://stackoverflow.com/users/5333805/luud-van-keulen"}, "edited": false, "score": 0, "creation_date": 1538578376, "post_id": 52628792, "comment_id": 92193120, "body": "Check your timeArray. See is the second value is actually a number. NaN stands for not a number."}, {"owner": {"reputation": 26053, "user_id": 982341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07129b74cbf0de1a592c7a98224f9e16?s=128&d=identicon&r=PG", "display_name": "GreyBeardedGeek", "link": "https://stackoverflow.com/users/982341/greybeardedgeek"}, "edited": false, "score": 0, "creation_date": 1538579798, "post_id": 52628792, "comment_id": 92194132, "body": "Besides making sure that your input data is correct, you might also want to use a well-tested date/time library, like perhaps date-fns (<a href=\"https://date-fns.org/\" rel=\"nofollow noreferrer\">date-fns.org</a>)"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1538579817, "post_id": 52628792, "comment_id": 92194145, "body": "for (let x <b>in</b> timeMap) or for (let x <b>of</b> timeMap) ?"}, {"owner": {"reputation": 93, "user_id": 9864008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IwyRE.jpg?s=128&g=1", "display_name": "ancy", "link": "https://stackoverflow.com/users/9864008/ancy"}, "edited": false, "score": 0, "creation_date": 1538634802, "post_id": 52628792, "comment_id": 92213167, "body": "It is because of wrong input value.Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9864008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IwyRE.jpg?s=128&g=1", "display_name": "ancy", "link": "https://stackoverflow.com/users/9864008/ancy"}, "edited": false, "score": 1, "creation_date": 1538633663, "post_id": 52631449, "comment_id": 92212645, "body": "I have found the issue.It is due to wrong input value.Thanks"}], "tags": [], "owner": {"reputation": 624, "user_id": 1885401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi4X2.jpg?s=128&g=1", "display_name": "Diego Bascans", "link": "https://stackoverflow.com/users/1885401/diego-bascans"}, "is_accepted": false, "score": 1, "last_activity_date": 1538583139, "creation_date": 1538583139, "answer_id": 52631449, "question_id": 52628792, "link": "https://stackoverflow.com/questions/52628792/add-list-of-hours-in-typescript/52631449#52631449", "title": "Add list of hours in typescript", "body": "<p>Since that you are having that <strong>NaN</strong>, a couple of considerations:</p>\n\n<ul>\n<li><p>Are you sure that your <strong>timeArray</strong> is containing just numbers?, maybe you can do a <code>console,log(timeArray[1])</code> to validate it. Maybe the <strong>TotalM</strong> variable too.</p></li>\n<li><p>Is it possible that your minutes are comming in decimals?, is it possible that if are decimals and your current culture puts \".\" as decimal separator makes that is not a number.</p>\n\n<p><code>isNaN(Number(\"10,5\")) //true</code></p>\n\n<p><code>isNaN(Number(\"10.5\")) //false</code></p></li>\n</ul>\n"}], "owner": {"reputation": 93, "user_id": 9864008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IwyRE.jpg?s=128&g=1", "display_name": "ancy", "link": "https://stackoverflow.com/users/9864008/ancy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538588651, "creation_date": 1538575279, "last_edit_date": 1538588651, "question_id": 52628792, "link": "https://stackoverflow.com/questions/52628792/add-list-of-hours-in-typescript", "title": "Add list of hours in typescript", "body": "<p>I am using datatable to show the records.Here i have a column which showing hours spent and a row which shows the total hours (Adding all the hours spent using function empPageChange(event)).Here hours are added perfectly but minutes shows <code>NaN</code> like <code>52:Nan</code>.Can anyone help me to sort out this</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>empPageChange(event) {\n    let list = this.timetables.slice(event.first, event.first + event.rows);\n    if (list.length &gt; 0) {\n        this.totalHoursSpent = HelperService.addTimes(list, 'HoursSpent');\n    } else {\n        this.totalHoursSpent = 0;\n    }\n}\n</code></pre>\n\n<p><strong>helper.service.ts:</strong></p>\n\n<pre><code> static addTimes(timeMap, columnName: string) {\n    let totalH = 0;\n    let totalM = 0;\n\n    // First simply adding all of it together, total hours and total minutes\n    for (let x in timeMap) {\n        if (x) {\n            let timeArray = timeMap[x][columnName].split(':');\n            let hour = timeArray[0];\n            let minutes = timeArray[1];\n            totalH += parseInt(hour, 10);\n            totalM += parseInt(minutes, 10);\n        }\n    }\n\n    // If the minutes exceed 60\n    if (totalM &gt;= 60) {\n        // Divide minutes by 60 and add result to hours\n        totalH += Math.floor(totalM / 60);\n        // Add remainder of totalM / 60 to minutes\n        totalM = totalM % 60;\n    }\n    return `${totalH}:${\n        totalM.toString().length === 1 ? `0${totalM}` : totalM\n        }`;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "class"], "answers": [{"comments": [{"owner": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "edited": false, "score": 0, "creation_date": 1538573358, "post_id": 52628110, "comment_id": 92189795, "body": "Neat. I am using microsoft tslint preset and it screams <code>[tslint] Property &#39;routerStore&#39; cannot be declared in the constructor (no-parameter-properties)</code> this at me. Is there any particular reason they warn about this when adding public to constructor parameter?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "edited": false, "score": 4, "creation_date": 1538573451, "post_id": 52628110, "comment_id": 92189861, "body": "@Ilja the listed rationale is : Parameter properties can be confusing to those new to TS as they are less explicit than other ways of declaring and initializing class members. Does not seem like a great reason to disallow the usage of the feature. <a href=\"https://palantir.github.io/tslint/rules/no-parameter-properties/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/no-parameter-properties</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1538573510, "last_edit_date": 1538573510, "creation_date": 1538573183, "answer_id": 52628110, "question_id": 52628079, "link": "https://stackoverflow.com/questions/52628079/a-way-to-clean-up-class-constructor-in-typescript/52628110#52628110", "title": "A way to clean up class constructor in TypeScript?", "body": "<p>You can add an access modifier to the constructorparameter. This will make the parameter also a class field that will be initialized with the value of the parameter.</p>\n\n<pre><code>class MyClass {\n\n\n   constructor(\n       public routerStore: RouterStore,\n       public characterStore: CharacterStore,\n       public characterPrivateStore: CharacterPrivateStore\n    ) {\n       super()\n   }\n}\n</code></pre>\n\n<p>You can also use <code>Object.assign</code> declare the fields on the class and use a mapped type to extract just the field keys (exclude the methods):</p>\n\n<pre><code>type JustFieldKeys&lt;T&gt; = { [P in keyof T] : T[P] extends Function ? never : P }[keyof T] \nclass MyClass {\n\n    public routerStore!: RouterStore,\n    public characterStore!: CharacterStore,\n    public characterPrivateStore!: CharacterPrivateStore\n    constructor(params: Pick&lt;MyClass, JustFieldKeys&lt;MyClass&gt;&gt;) {\n        Object.assign(this, params);\n    }\n}\nnew MyClass({\n    characterPrivateStore: null,\n    characterStore: null,\n    routerStore: null\n})\n</code></pre>\n"}], "owner": {"reputation": 35300, "user_id": 911930, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/HtpZB.jpg?s=128&g=1", "display_name": "Ilja", "link": "https://stackoverflow.com/users/911930/ilja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 52628110, "answer_count": 1, "score": 2, "last_activity_date": 1538573510, "creation_date": 1538573086, "question_id": 52628079, "link": "https://stackoverflow.com/questions/52628079/a-way-to-clean-up-class-constructor-in-typescript", "title": "A way to clean up class constructor in TypeScript?", "body": "<p>At the moment I am defining my class constructors in the following way</p>\n\n<pre><code>class MyClass {\n\n  routerStore: RouterStore\n  characterStore: CharacterStore\n  characterPrivateStore: CharacterPrivateStore\n\n  constructor(\n    routerStore: RouterStore,\n    characterStore: CharacterStore,\n    characterPrivateStore: CharacterPrivateStore\n  ) {\n    super()\n    this.routerStore = routerStore\n    this.characterStore = characterStore\n    this.characterPrivateStore = characterPrivateStore\n  }\n}\n</code></pre>\n\n<p>This feels verbose and repetitive to me. Given that TypeScript takes advantage of some latest JavaScript proposals I wanted to ask if it is possible to clean this up somehow?</p>\n"}, {"tags": ["typescript", "tslint"], "answers": [{"comments": [{"owner": {"reputation": 687, "user_id": 2622303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb81d471ee019a2012046fc3f099bc2d?s=128&d=identicon&r=PG", "display_name": "Jacques Ramsden", "link": "https://stackoverflow.com/users/2622303/jacques-ramsden"}, "edited": false, "score": 0, "creation_date": 1538572495, "post_id": 52627864, "comment_id": 92189220, "body": "Perfect thanks I will give it a go quick and accept this if it works"}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": false, "score": 1, "last_activity_date": 1538572360, "creation_date": 1538572360, "answer_id": 52627864, "question_id": 52627710, "link": "https://stackoverflow.com/questions/52627710/ts-linting-disable-forcing-private-methods-to-require-method-documents/52627864#52627864", "title": "TS Linting. Disable forcing private methods to require method documents", "body": "<p>Seems like this is coming from the <a href=\"https://palantir.github.io/tslint/rules/completed-docs/\" rel=\"nofollow noreferrer\"><code>completed-docs</code></a> rule.</p>\n\n<p>You should be able to do:</p>\n\n<pre><code>\"completed-docs\": [true, { \"methods\": {\n  \"locations\": \"instance\",\n  \"privacies\": [\"public\"]\n}}]\n</code></pre>\n\n<p>In your <code>tslint.json</code> which will override any default rule you might have. Of course, you can update it with more properties since there are a lot of options for required docs.</p>\n\n<p>Worse comes to worst you can do use <code>// tslint:disable</code> and the like, but I don't think you should have to do this.</p>\n"}], "owner": {"reputation": 687, "user_id": 2622303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb81d471ee019a2012046fc3f099bc2d?s=128&d=identicon&r=PG", "display_name": "Jacques Ramsden", "link": "https://stackoverflow.com/users/2622303/jacques-ramsden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538572360, "creation_date": 1538571926, "question_id": 52627710, "link": "https://stackoverflow.com/questions/52627710/ts-linting-disable-forcing-private-methods-to-require-method-documents", "title": "TS Linting. Disable forcing private methods to require method documents", "body": "<p>I have had a bit of a dig online and I can not seem to find a way to stop TS Linting from showing errors when private methods do not have documents. </p>\n\n<p>I would like to enforce documentation on all public facing methods but not the private ones.</p>\n\n<p>Is there a way to do this?</p>\n"}, {"tags": ["typescript", "selenium", "protractor", "cucumber", "cucumberjs"], "comments": [{"owner": {"reputation": 2121, "user_id": 10413416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceedf65b5c2b247ee12ed7b3420ee77d?s=128&d=identicon&r=PG&f=1", "display_name": "Infern0", "link": "https://stackoverflow.com/users/10413416/infern0"}, "edited": false, "score": 0, "creation_date": 1538572066, "post_id": 52627671, "comment_id": 92188954, "body": "can you show the protractor config. Also as the error says, run the webdriver-manager update command so it can generate webdriver config file with the location of browser drivers itself."}, {"owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "reply_to_user": {"reputation": 2121, "user_id": 10413416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceedf65b5c2b247ee12ed7b3420ee77d?s=128&d=identicon&r=PG&f=1", "display_name": "Infern0", "link": "https://stackoverflow.com/users/10413416/infern0"}, "edited": false, "score": 0, "creation_date": 1538572242, "post_id": 52627671, "comment_id": 92189064, "body": "Ok, added; and as I said in my original post, I have already tried running the update command."}, {"owner": {"reputation": 2121, "user_id": 10413416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceedf65b5c2b247ee12ed7b3420ee77d?s=128&d=identicon&r=PG&f=1", "display_name": "Infern0", "link": "https://stackoverflow.com/users/10413416/infern0"}, "edited": false, "score": 1, "creation_date": 1538573301, "post_id": 52627671, "comment_id": 92189756, "body": "execute the following command: node ./node_modules/protractor/bin/webdriver-manager update"}], "answers": [{"tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": false, "score": 0, "last_activity_date": 1538641970, "creation_date": 1538641970, "answer_id": 52642353, "question_id": 52627671, "link": "https://stackoverflow.com/questions/52627671/protractor-could-not-find-update-config-json/52642353#52642353", "title": "Protractor: Could not find update-config.json", "body": "<p>This is as <code>npm</code> <code>scripts</code> designed. If you define cmd in <code>scripts</code> block in <code>package.json</code>,  npm will try to find the executable binary used in cmd from project local package folder which is <code>&lt;folder of package.json&gt;/node_modules/.bin</code>.  </p>\n\n<p>When you enter and execute <code>protractor cucumber/build/protractor.conf.js</code> directly in cmd window, the executable binary: <code>protractor</code> at here is find from <code>PATH</code> environment variable, not from project local package folder.</p>\n\n<p>This is the difference of finding <code>executable binary</code> in <code>scripts</code> of package.json and not in package.json.</p>\n\n<p>To fix your issue, you should execute webdriver-manager update for project local package, this will create the <code>update-config.json</code> into project local package folder.</p>\n\n<pre><code>\"cucumber\": \"rimraf cucumber/build &amp;&amp; tsc -p cucumber &amp;&amp; webdriver-manager update &amp;&amp; protractor cucumber/build/protractor.conf.js\"\n</code></pre>\n"}], "owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1539256399, "creation_date": 1538571749, "last_edit_date": 1539256399, "question_id": 52627671, "link": "https://stackoverflow.com/questions/52627671/protractor-could-not-find-update-config-json", "title": "Protractor: Could not find update-config.json", "body": "<p>I have converted my Cucumber tests running through Protractor to TypeScript. If I run the tests from the commnad-line, like this:</p>\n\n<pre><code>rimraf cucumber/build &amp;&amp; tsc -p cucumber &amp;&amp; protractor cucumber/build/protractor.conf.js \n</code></pre>\n\n<p>This is fine, runs the tests successfully and correctly. However, if I move these command into a script, like this:</p>\n\n<pre><code>// package.json\n...\n\"cucumber\": \"rimraf cucumber/build &amp;&amp; tsc -p cucumber &amp;&amp; protractor cucumber/build/protractor.conf.js\"\n...\n</code></pre>\n\n<p>then it falls over with the following error:</p>\n\n<pre><code>[13:54:55] I/launcher - Running 1 instances of WebDriver\n[13:54:55] I/direct - Using ChromeDriver directly...\n[13:54:55] E/direct - Error code: 135\n[13:54:55] E/direct - Error message: Could not find update-config.json. Run 'webdriver-manager update' to download binaries.\n[13:54:55] E/direct - Error: Could not find update-config.json. Run 'webdriver-manager update' to download binaries.\n</code></pre>\n\n<p>I am very new to Protractor and Cucumber, and Selenium, so I have no idea what to do! I have tried running the update command but it has no effect.</p>\n\n<p>My protractor.conf.ts looks like this:</p>\n\n<pre><code>import { Config } from 'protractor';\n\nexport let config: Config = {\n  allScriptsTimeout: 11000,\n  specs: [\n    '../features/**/*.feature'\n  ],\n  seleniumAddress: 'http://localhost:4444/wd/hub',\n  capabilities: {\n    browserName: 'chrome',\n    chromeOptions: {\n      args: [\"--disable-gpu\"]\n    }\n  },\n  directConnect: true,\n  baseUrl: 'http://localhost:4200/',\n  framework: 'custom',\n  frameworkPath: require.resolve('protractor-cucumber-framework'),\n  jasmineNodeOpts: {\n    showColors: true,\n    defaultTimeoutInterval: 30000,\n  },\n  onPrepare() {\n    require('ts-node').register({\n      project: require('path').join(__dirname, '../tsconfig.json')\n    });\n\n    const chai = require('chai');\n    const chaiAsPromised = require('chai-as-promised');\n\n    // Load chai-as-promised support\n    chai.use(chaiAsPromised);\n\n    // Initialise should API (attaches as a property on Object)\n    chai.should();\n  },\n  cucumberOpts: {\n    require: [\n      './features/**/steps/*.steps.js'\n    ]\n  }\n};\n</code></pre>\n\n<p>Can someone help?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 932, "user_id": 9760311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6be6f38bd6b8b2a095795360db287057?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran Joshi", "link": "https://stackoverflow.com/users/9760311/kiran-joshi"}, "edited": false, "score": 0, "creation_date": 1538637733, "post_id": 52627562, "comment_id": 92214674, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/49182864/angular-5-form-validation-e-mail\">Angular 5 - form validation e-mail</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5704, "user_id": 2134604, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4a199e76bd801ef0f40cdb752ffc145c?s=128&d=identicon&r=PG", "display_name": "Pandiyan Cool", "link": "https://stackoverflow.com/users/2134604/pandiyan-cool"}, "is_accepted": false, "score": 0, "last_activity_date": 1538571730, "creation_date": 1538571730, "answer_id": 52627666, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52627666#52627666", "title": "How to validate e-mail with Angular 5", "body": "<p>Try this out, we can have regex pattern to validate </p>\n\n<pre><code>&lt;input type=\"email\" [(ngModel)]=\"enterEmail\" name=\"myEmail\" \n#myEmail=\"ngModel\" email pattern=\"[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}\" required&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 8126721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tv7L3.jpg?s=128&g=1", "display_name": "ksrider 148", "link": "https://stackoverflow.com/users/8126721/ksrider-148"}, "is_accepted": false, "score": 0, "last_activity_date": 1538572007, "creation_date": 1538572007, "answer_id": 52627730, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52627730#52627730", "title": "How to validate e-mail with Angular 5", "body": "<p>You need to change your patterns, Kindly use the bellow pattern for email id.</p>\n\n<p>Example valid email ID's:</p>\n\n<p>sample@sam.com - Valid,\nsample@sam.in - Valid,\nsample@sam - Invliad.</p>\n\n<pre><code>pattern=\"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3795, "user_id": 4724147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZDnz.jpg?s=128&g=1", "display_name": "Harunur Rashid", "link": "https://stackoverflow.com/users/4724147/harunur-rashid"}, "reply_to_user": {"reputation": 49, "user_id": 9963846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa463dcf9d6bad5bc1cb6172b6e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Marck", "link": "https://stackoverflow.com/users/9963846/marck"}, "edited": false, "score": 0, "creation_date": 1538573110, "post_id": 52627851, "comment_id": 92189629, "body": "Updated my regex. Can you please check now?"}, {"owner": {"reputation": 49, "user_id": 9963846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa463dcf9d6bad5bc1cb6172b6e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Marck", "link": "https://stackoverflow.com/users/9963846/marck"}, "edited": false, "score": 0, "creation_date": 1538573327, "post_id": 52627851, "comment_id": 92189776, "body": "ERROR in src/app/app.component.ts(96,25): error TS1005: &#39;(&#39; expected. src/app/app.component.ts(96,36): error TS1005: &#39;=&#39; expected. src/app/app.component.ts(96,258): error TS1005: &#39;;&#39; expected.                                               Date: 2018-10-03T13:27:03.313Z - Hash: 0aa142bd0a2f8edcc4ec - Time: 546ms"}], "tags": [], "owner": {"reputation": 3795, "user_id": 4724147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZDnz.jpg?s=128&g=1", "display_name": "Harunur Rashid", "link": "https://stackoverflow.com/users/4724147/harunur-rashid"}, "is_accepted": false, "score": 0, "last_activity_date": 1538573033, "last_edit_date": 1538573033, "creation_date": 1538572319, "answer_id": 52627851, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52627851#52627851", "title": "How to validate e-mail with Angular 5", "body": "<p>Try the regex </p>\n\n<pre><code>emailFormControl: new FormControl('', Validators.compose([Validators.required, Validators.pattern(/^(([^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)])),\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 9303625, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y1EBwpHsK8k/AAAAAAAAAAI/AAAAAAAAAFU/XRboVUvUnTU/photo.jpg?sz=128", "display_name": "Shubham Jain", "link": "https://stackoverflow.com/users/9303625/shubham-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1538572606, "creation_date": 1538572606, "answer_id": 52627933, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52627933#52627933", "title": "How to validate e-mail with Angular 5", "body": "<pre><code> Either you can user HTML5 type attribute as email like type=\"email\"\n            &lt;div class=\"form-group\"&gt;\n              &lt;input class=\"form-control text-sm-x2 pl-5\" placeholder=\"Email Id\" type=\"email\" name=\"email\" [(ngModel)]=\"userCredentials.email\"\n                [disabled]=\"disableInputs\" required email #email=\"ngModel\"&gt;\n              &lt;span class=\"help-block\" *ngIf=\"email?.dirty &amp;&amp; email?.errors?.email\" style=\"color:red\"&gt;\n                &lt;small&gt;Enter a valid email&lt;/small&gt;\n              &lt;/span&gt;\n            &lt;/div&gt;\n  OR\nuse pattern attribute like:\npattern=\"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\" with default type=\"text\".\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 966, "user_id": 6648228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217c03e219297ed452097c8867beb5df?s=128&d=identicon&r=PG", "display_name": "Raja Mohamed", "link": "https://stackoverflow.com/users/6648228/raja-mohamed"}, "reply_to_user": {"reputation": 49, "user_id": 9963846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa463dcf9d6bad5bc1cb6172b6e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Marck", "link": "https://stackoverflow.com/users/9963846/marck"}, "edited": false, "score": 0, "creation_date": 1538636842, "post_id": 52628539, "comment_id": 92214209, "body": "Attached a sample in stackblitz"}, {"owner": {"reputation": 966, "user_id": 6648228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217c03e219297ed452097c8867beb5df?s=128&d=identicon&r=PG", "display_name": "Raja Mohamed", "link": "https://stackoverflow.com/users/6648228/raja-mohamed"}, "reply_to_user": {"reputation": 49, "user_id": 9963846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa463dcf9d6bad5bc1cb6172b6e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Marck", "link": "https://stackoverflow.com/users/9963846/marck"}, "edited": false, "score": 0, "creation_date": 1538637020, "post_id": 52628539, "comment_id": 92214295, "body": "I hope it will help you."}], "tags": [], "owner": {"reputation": 966, "user_id": 6648228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217c03e219297ed452097c8867beb5df?s=128&d=identicon&r=PG", "display_name": "Raja Mohamed", "link": "https://stackoverflow.com/users/6648228/raja-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1538636779, "last_edit_date": 1538636779, "creation_date": 1538574492, "answer_id": 52628539, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52628539#52628539", "title": "How to validate e-mail with Angular 5", "body": "<p><strong>Try this simple regex</strong>, </p>\n\n<pre><code>if (emailString.match(/[A-Za-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9A-Z](?:[a-z0-9A-Z]*[a-z0-9A-Z])?\\.)+[a-z0-9A-Z](?:[a-z0-9A-Z]*[a-z0-9A-Z])?/)) {\n    return null;\n  } else {\n    return { 'invalidEmailAddress': true };\n  }\n</code></pre>\n\n<p><strong>Check this Stackblitz sample</strong> <a href=\"https://stackblitz.com/edit/ng-formbuilder-sample\" rel=\"nofollow noreferrer\">demo</a> </p>\n"}, {"tags": [], "owner": {"reputation": 1295, "user_id": 4465100, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DjaqM9KNFCg/AAAAAAAAAAI/AAAAAAAAAvc/rqde4yAXg9Y/photo.jpg?sz=128", "display_name": "Dhruvan Ganesh", "link": "https://stackoverflow.com/users/4465100/dhruvan-ganesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1538637568, "creation_date": 1538637568, "answer_id": 52641118, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5/52641118#52641118", "title": "How to validate e-mail with Angular 5", "body": "<p>Prefer the Email Validator provided by Angular.</p>\n\n<pre><code>&lt;input type=\"email\" name=\"email\" ngModel email&gt;\n&lt;input type=\"email\" name=\"email\" ngModel email=\"true\"&gt;\n&lt;input type=\"email\" name=\"email\" ngModel [email]=\"true\"&gt;\n</code></pre>\n\n<p>Reference:</p>\n\n<ol>\n<li><a href=\"https://angular.io/api/forms/EmailValidator\" rel=\"nofollow noreferrer\">https://angular.io/api/forms/EmailValidator</a></li>\n</ol>\n"}], "owner": {"reputation": 49, "user_id": 9963846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39aa463dcf9d6bad5bc1cb6172b6e7ad?s=128&d=identicon&r=PG&f=1", "display_name": "Marck", "link": "https://stackoverflow.com/users/9963846/marck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 876, "favorite_count": 0, "answer_count": 6, "score": -1, "last_activity_date": 1538637568, "creation_date": 1538571424, "last_edit_date": 1538593673, "question_id": 52627562, "link": "https://stackoverflow.com/questions/52627562/how-to-validate-e-mail-with-angular-5", "title": "How to validate e-mail with Angular 5", "body": "<p>I would like to know how to validate my email with .com\nI tried everything, but I could not, could you help me?\nI'm wrapping up the code I've already developed, I'm new to the angle and I'm finding it difficult on this subject.\nI would like the email to be validated if the user types the .com but until now I only got the basic validation, Example: example @ example.\nAnd I'd like it to be example@example.com</p>\n\n<p>Thank you</p>\n\n<blockquote>\n  <p>.ts</p>\n</blockquote>\n\n<pre><code>   import { ActivatedRoute, Params, Router } from \"@angular/router\";\nimport { Component, OnInit, Inject, } from '@angular/core';\nimport { FormControl, Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport { Observable, Subscription } from \"rxjs\";\nimport { ModelDataForm } from \"./modelDataForm\";\nimport { DOCUMENT } from \"@angular/platform-browser\";\nimport 'rxjs/add/operator/filter'\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\n\n\n\nexport class AppComponent implements OnInit {\n\n  userService: any;\n  isTCAccepted: any;\n  private subscription: Subscription;\n  uri: string;\n  ssid: string;\n  sessiondId: string;\n  ip: string;\n  mac: string;\n  ufi: string;\n  mgmtBaseUrl: string;\n  clientRedirectUrl: string;\n  req: string;\n  userName: string;\n  hmac: string;\n\n  name: string;\n  email: string;\n\n  //checkbox\n  isValidFormSubmitted: boolean = null;\n\n\n\n\n  constructor(@Inject(DOCUMENT) private document: any, private route: ActivatedRoute) {\n  }\n\n  //checkbox\n  onFormSubmit() {\n    this.isValidFormSubmitted = false;\n    if (this.userForm.invalid) {\n      return;\n    }\n    this.isValidFormSubmitted = true;\n    this.isTCAccepted = this.userForm.get('tc').value;\n\n  }\n\n\n  ngOnInit() {\n    this.route.queryParams\n      .filter(params =&gt; params.mac)\n      .subscribe(params =&gt; {\n        console.log(params);\n\n        this.ssid = params.ssid;\n        this.sessiondId = params.sessionId;\n        this.ip = params.ip;\n        this.mac = params.mac;\n        this.ufi = params.ufi;\n        this.mgmtBaseUrl = params.mgmtBaseUrl;\n        this.clientRedirectUrl = params.clientRedirectUrl;\n        this.req = params.req;\n        this.hmac = params.hmac;\n      });\n  }\n\n\n\n  emailFormControl = new FormControl('', [\n    Validators.required,\n    Validators.pattern('[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}'),\n    Validators.email,\n  ]);\n\n  nameFormControl = new FormControl('', [\n    Validators.required,\n  ]);\n\n\n\n  userForm = new FormGroup({\n    tc: new FormControl('', [(control) =&gt; {\n      return !control.value ? { 'required': true } : null;\n    }])\n  });\n\n}\n</code></pre>\n\n<blockquote>\n  <p>html</p>\n</blockquote>\n\n<p></p>\n\n<pre><code>&lt;mat-form-field class=\"hcs-full-width\"&gt;\n\n  &lt;input matInput placeholder=\"Nome\" [formControl]=\"nameFormControl\" [(ngModel)]=\"name\"&gt;\n  &lt;mat-error *ngIf=\"nameFormControl.hasError('required')\"&gt;\n    Nome \u00e9\n    &lt;strong&gt;requirido&lt;/strong&gt;\n  &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n\n&lt;mat-form-field class=\"hcs-full-width\"&gt;\n  &lt;input matInput  placeholder=\"E-mail\" [formControl]=\"emailFormControl\" [(ngModel)]=\"email\" &gt;\n  &lt;mat-error *ngIf=\"emailFormControl.hasError('email') &amp;&amp; !emailFormControl.hasError('required') &amp;&amp; !emailFormControl.hasError('pattern')\"&gt;\n    Por favor entre com um endere\u00e7o de e-mail valido\n  &lt;/mat-error&gt;\n  &lt;mat-error *ngIf=\"emailFormControl.hasError('required')\"&gt;\n    E-mail \u00e9\n    &lt;strong&gt;requirido&lt;/strong&gt;\n  &lt;/mat-error&gt;\n&lt;/mat-form-field&gt;\n\n&lt;br&gt;\n\n&lt;div class=\"checkbox\"&gt;\n  &lt;mat-checkbox class=\"hcs-full-width\" formControlName=\"tc\"&gt;\n  &lt;/mat-checkbox&gt;\n  Aceito os termos e condi\u00e7\u00f5es de uso\n  &lt;a data-toggle=\"collapse\" href=\"#collapseExample\"&gt;\n    ver os termos\n  &lt;/a&gt;\n&lt;/div&gt;\n&lt;mat-error *ngIf=\"userForm.get('tc').invalid &amp;&amp; isValidFormSubmitted != null &amp;&amp; !isValidFormSubmitted\" [ngClass]=\"'error'\"&gt;\n  \u00c9 necess\u00e1rio aceitar os termos de uso\n&lt;/mat-error&gt;\n\n\n&lt;br&gt;\n\n&lt;button mat-button type=\"submit\" class=\"btn btn-primary btn-lg btn-block button-size\" (click)=\"Logar()\"&gt;Enviar&lt;/button&gt;\n\n&lt;div class=\"space\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-jasmine", "angular-test"], "comments": [{"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 1, "creation_date": 1538573727, "post_id": 52627521, "comment_id": 92190063, "body": "There&#39;s no <code>h1</code> in the template for <code>AppComponent</code>. Move test to the component with the <code>h1</code> tag in the template."}, {"owner": {"reputation": 215, "user_id": 9836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11160a4a4286310988fa63d122b782a6?s=128&d=identicon&r=PG&f=1", "display_name": "rf2018", "link": "https://stackoverflow.com/users/9836778/rf2018"}, "reply_to_user": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1538574771, "post_id": 52627521, "comment_id": 92190755, "body": "That worked, thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "is_accepted": true, "score": 2, "last_activity_date": 1538579669, "creation_date": 1538579669, "answer_id": 52630323, "question_id": 52627521, "link": "https://stackoverflow.com/questions/52627521/angular-karma-testing-failed-cannot-read-property-textcontent-of-null/52630323#52630323", "title": "Angular - Karma Testing - Failed: Cannot read property &#39;textContent&#39; of null", "body": "<p>The setup for the component under test includes CUSTOM_ELEMENTS_SCHEMA, which allows the use of custom tag elements in the template without complicating the test by instantiating the associated component. As a result, testing for an element in a child component from the parent fails. The solution is to move the failing test spec into proper child component.</p>\n"}], "owner": {"reputation": 215, "user_id": 9836778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11160a4a4286310988fa63d122b782a6?s=128&d=identicon&r=PG&f=1", "display_name": "rf2018", "link": "https://stackoverflow.com/users/9836778/rf2018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8571, "favorite_count": 0, "accepted_answer_id": 52630323, "answer_count": 1, "score": 0, "last_activity_date": 1538579669, "creation_date": 1538571309, "last_edit_date": 1538572791, "question_id": 52627521, "link": "https://stackoverflow.com/questions/52627521/angular-karma-testing-failed-cannot-read-property-textcontent-of-null", "title": "Angular - Karma Testing - Failed: Cannot read property &#39;textContent&#39; of null", "body": "<p>I have one failure when I run 'ng test' on my Angular 6 app:</p>\n\n<blockquote>\n  <p>Failed: Cannot read property 'textContent' of null</p>\n</blockquote>\n\n<hr>\n\n<p>Please see sample app...  <strong><a href=\"https://stackblitz.com/edit/angular-exrf\" rel=\"nofollow noreferrer\">SampleApp</a></strong></p>\n\n<hr>\n\n<p>The problem appears to be with the app.component.spec.ts file. See error message below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>AppComponentTest &gt; -&gt; should render title in a h1 tag\r\nFailed: Cannot read property 'textContent' of null\r\n    at &lt;Jasmine&gt;\r\n    at UserContext.eval (./src/app/app.component.spec.ts?:31:44)\r\n    at ZoneDelegate.invoke (./node_modules/zone.js/dist/zone.js?:387:26)\r\n    at AsyncTestZoneSpec.onInvoke (./node_modules/zone.js/dist/zone-testing.js?:712:39)\r\n    at ProxyZoneSpec.onInvoke (./node_modules/zone.js/dist/zone-testing.js?:284:39)\r\n    at ZoneDelegate.invoke (./node_modules/zone.js/dist/zone.js?:386:32)\r\n    at Zone.runGuarded (./node_modules/zone.js/dist/zone.js?:150:47)\r\n    at runInTestZone (./node_modules/zone.js/dist/zone-testing.js?:840:29)\r\n    at UserContext.eval (./node_modules/zone.js/dist/zone-testing.js?:774:17)\r\n    at ZoneDelegate.invoke (./node_modules/zone.js/dist/zone.js?:387:26)\r\n    at ProxyZoneSpec.onInvoke (./node_modules/zone.js/dist/zone-testing.js?:287:39)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1538569574, "post_id": 52626988, "comment_id": 92187270, "body": "I think it&#39;s not about the language specifically, but about some tool you&#39;re using for completion. And that tool is missing from the question."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 36513, "user_id": 752976, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/j7Uis.jpg?s=128&g=1", "display_name": "Bartek Banachewicz", "link": "https://stackoverflow.com/users/752976/bartek-banachewicz"}, "edited": false, "score": 0, "creation_date": 1538570419, "post_id": 52626988, "comment_id": 92187858, "body": "@BartekBanachewicz most tools use the typescript language service built into the compiler so it should work in the same way mostly.."}], "answers": [{"tags": [], "owner": {"reputation": 689, "user_id": 2125723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe638a46efe97afc9c9dd039de54fb6b?s=128&d=identicon&r=PG", "display_name": "ryanwebjackson", "link": "https://stackoverflow.com/users/2125723/ryanwebjackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1538570566, "creation_date": 1538570566, "answer_id": 52627308, "question_id": 52626988, "link": "https://stackoverflow.com/questions/52626988/getting-the-proper-type-inference-and-editor-suggestions-at-the-same-time/52627308#52627308", "title": "Getting the proper type inference and editor suggestions at the same time", "body": "<p>Modify the object in the function, and remove the return type from the signature.</p>\n\n<p>In your example, you have to modify the object -- creating a new object with the same values as you want (Object.assign should work) -- because if you're returning the object that went into it, that same type will be returned (the compiler accepted a certain type, even if some optional properties are null).</p>\n\n<p>Removing the return type from the signature should allow type inference to work and infer a new type. You might have to have a custom  type defined. If not, you might get 'any', and have to check for the properties you want later. I say \"might\" because I'm not sure about the version of TypeScript and its settings on your machine. </p>\n"}, {"comments": [{"owner": {"reputation": 148, "user_id": 6599010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5fb73f342bdca8a8eafd861beea0acc?s=128&d=identicon&r=PG&f=1", "display_name": "  lech1", "link": "https://stackoverflow.com/users/6599010/lech1"}, "edited": false, "score": 0, "creation_date": 1538570837, "post_id": 52627329, "comment_id": 92188148, "body": "That&#39;s perfect! Thanks a lot! :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1538570648, "creation_date": 1538570648, "answer_id": 52627329, "question_id": 52626988, "link": "https://stackoverflow.com/questions/52626988/getting-the-proper-type-inference-and-editor-suggestions-at-the-same-time/52627329#52627329", "title": "Getting the proper type inference and editor suggestions at the same time", "body": "<p>Using an intersection type between <code>T</code> and <code>Config</code> will actually help code completion get the suggestions right and it won't impact type inference, as far as I can tell:</p>\n\n<pre><code>type Config = {\n    a?: number\n    b?: string\n}\n\nfunction g&lt;T extends Config&gt;(x: T &amp; Config): T {\n    return x\n}\nlet justA = g({ a: 0 });// of type { a: number }\ng ({ /* Ctrl Space here suggets a and b  */})\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20Config%20%3D%20%7B%0D%0A%20%20%20%20a%3F%3A%20number%0D%0A%20%20%20%20b%3F%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20g%3CT%20extends%20Config%3E(x%3A%20T%20%26%20Config)%3A%20T%20%7B%0D%0A%20%20%20%20return%20x%0D%0A%7D%0D%0Alet%20justA%20%3D%20g(%7B%20a%3A%200%20%7D)%3B%2F%2F%20of%20type%20%7B%20a%3A%20number%20%7D%0D%0Ag%20(%7B%20%2F*%20Ctrl%20Space%20here%20suggets%20a%20and%20b%20%20*%2F%7D)\" rel=\"nofollow noreferrer\">Playground link</a></p>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "is_accepted": false, "score": 0, "last_activity_date": 1538573836, "creation_date": 1538573836, "answer_id": 52628309, "question_id": 52626988, "link": "https://stackoverflow.com/questions/52626988/getting-the-proper-type-inference-and-editor-suggestions-at-the-same-time/52628309#52628309", "title": "Getting the proper type inference and editor suggestions at the same time", "body": "<p>I am not sure what is your case. But if you are changing types of function argument and you know what data types will your function return based on incoming type (let say every property which has type of string will produce number and every other type will produce string), then you can use mapped type like this <a href=\"https://www.typescriptlang.org/play/index.html#src=type%20Config%20%3D%20%7B%0D%0A%20%20%20%20a%3F%3A%20number%0D%0A%20%20%20%20b%3F%3A%20string%0D%0A%7D%0D%0A%0D%0Atype%20MappedType%3CT%3E%20%3D%20%7B%0D%0A%20%20%20%20%5BP%20in%20keyof%20T%5D%3A%20T%5BP%5D%20extends%20string%20%3F%20number%20%3A%20string%0D%0A%7D%0D%0A%0D%0Afunction%20g%3CT%20extends%20Config%3E(x%3A%20T)%3A%20MappedType%3CT%3E%20%7B%0D%0A%20%20%20%20return%20%0D%0A%7D%0D%0Alet%20justA%20%3D%20g(%7B%20a%3A%200%2C%20b%3A%20%22%22%2C%20c%3A%205%20%7D)%3B%0D%0AjustA.%2F%2F%20of%20type%20ConfigLike%20with%20different%20types%20%7B%20a%3A%20number%20%7D%0D%0A%20%20%20%20g(%7B%2F*%20suggestions%20work%20as%20well%20%20*%2F%20%7D)%3B%0D%0A\" rel=\"nofollow noreferrer\">playground</a></p>\n\n<p>For more info: <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Advanced types docs</a></p>\n"}], "owner": {"reputation": 148, "user_id": 6599010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5fb73f342bdca8a8eafd861beea0acc?s=128&d=identicon&r=PG&f=1", "display_name": "  lech1", "link": "https://stackoverflow.com/users/6599010/lech1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 52627329, "answer_count": 3, "score": 1, "last_activity_date": 1538573836, "creation_date": 1538569456, "question_id": 52626988, "link": "https://stackoverflow.com/questions/52626988/getting-the-proper-type-inference-and-editor-suggestions-at-the-same-time", "title": "Getting the proper type inference and editor suggestions at the same time", "body": "<p>I want to write a function that takes a config object and returns it's processed version, which has same keys, but different values. This function must:</p>\n\n<ol>\n<li>Provide the suggestions of config's properties when I want to call the function.</li>\n<li>Let the compiler know what properties exactly are returned from the function.</li>\n</ol>\n\n<p>.</p>\n\n<pre><code>type Config = {\n    a?: number\n    b?: string\n}\n\nfunction f(x: Config): Config {\n    return x\n}\n\nfunction g&lt;T extends Config&gt;(x: T): T {\n    return x\n}\n</code></pre>\n\n<p>In this code <strong>f()</strong> satisfies only the first requirement, and <strong>g()</strong> satisfies only the second:</p>\n\n<pre><code>f({a: 1}).&lt;CTRL+SPACE&gt; // Shows that the result's type is \"{ a?: number, b?: string }\", but I want it to be \"{ a: number }\".\n\ng({&lt;CTRL+SPACE&gt; // Doesn't show suggestions for Config type.\n</code></pre>\n\n<p>Is there a way to write a function that satisfies both of the requirements?</p>\n"}, {"tags": ["typescript", "generics", "typescript-generics"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538837208, "post_id": 52626956, "comment_id": 92288900, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51815782/typescript-array-of-different-generic-types\">Typescript array of different generic types</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1502, "user_id": 410224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb96078c6336fedeb984735269465de7?s=128&d=identicon&r=PG", "display_name": "rhyek", "link": "https://stackoverflow.com/users/410224/rhyek"}, "edited": false, "score": 0, "creation_date": 1538573508, "post_id": 52627188, "comment_id": 92189899, "body": "Yeah, that removes the error, but now TS thinks <code>result</code> is <code>unknown</code> all the time."}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "reply_to_user": {"reputation": 1502, "user_id": 410224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb96078c6336fedeb984735269465de7?s=128&d=identicon&r=PG", "display_name": "rhyek", "link": "https://stackoverflow.com/users/410224/rhyek"}, "edited": false, "score": 0, "creation_date": 1538579412, "post_id": 52627188, "comment_id": 92193852, "body": "@rhyek that&#39;s because you&#39;re always setting the return type as <code>unknown</code>. You could override it in the generic usage <code>&lt;Pair, (item: Pair) =&gt; string&gt;</code>"}, {"owner": {"reputation": 1502, "user_id": 410224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb96078c6336fedeb984735269465de7?s=128&d=identicon&r=PG", "display_name": "rhyek", "link": "https://stackoverflow.com/users/410224/rhyek"}, "edited": false, "score": 0, "creation_date": 1538584782, "post_id": 52627188, "comment_id": 92196938, "body": "True, but if i do that I will not be able to declare the whole column list as a literal array as I&#39;ve shown in the original question."}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": false, "score": 2, "last_activity_date": 1538570162, "creation_date": 1538570162, "answer_id": 52627188, "question_id": 52626956, "link": "https://stackoverflow.com/questions/52626956/infer-return-type-of-sibling-function/52627188#52627188", "title": "Infer return type of sibling function", "body": "<p><code>extends</code> is only part of the type definition. If you want to optionally omit the generic type, you need to set a default using <code>=</code>:</p>\n\n<pre><code>export type ColumnDefinition&lt;T, F extends (item: T) =&gt; unknown = (item: T) =&gt; unknown&gt; = {\n</code></pre>\n"}], "owner": {"reputation": 1502, "user_id": 410224, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eb96078c6336fedeb984735269465de7?s=128&d=identicon&r=PG", "display_name": "rhyek", "link": "https://stackoverflow.com/users/410224/rhyek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538570162, "creation_date": 1538569359, "last_edit_date": 1538569432, "question_id": 52626956, "link": "https://stackoverflow.com/questions/52626956/infer-return-type-of-sibling-function", "title": "Infer return type of sibling function", "body": "<p>I want to be able to do this:</p>\n\n<pre><code>  const columns: ColumnDefinition&lt;Pair&gt;[] = [\n    { label: 'Pair', value: pair =&gt; (all ? pair.code : pair.second.code), format: result =&gt; result.toUpperCase() },\n    { label: 'Price', numeric: true, value: pair =&gt; 0 },\n    { label: 'Change', numeric: true, value: pair =&gt; 0 },\n  ];\n</code></pre>\n\n<p>and have TS know that the <code>pair</code> parameter for <code>value</code> is of type <code>Pair</code> and the <code>result</code> parameter for <code>format</code> is of type <code>string</code> (<code>pair.code</code> is a <code>string</code>). Whatever <code>value</code> returns is what will be given to <code>format</code>. The return type of <code>value</code> may be different across different column definitions.</p>\n\n<p>This is my type so far:</p>\n\n<pre><code>export type ColumnDefinition&lt;T, F extends (item: T) =&gt; unknown&gt; = {\n  label?: string;\n  numeric?: boolean;\n  value: F;\n  format?: (value: ReturnType&lt;F&gt;) =&gt; string;\n};\n</code></pre>\n\n<p>but I get an error stating:</p>\n\n<blockquote>\n  <p>Generic type 'ColumnDefinition' requires 2 type argument(s).</p>\n</blockquote>\n"}, {"tags": ["typescript", "sass", "angular6", "ionic4"], "comments": [{"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 0, "creation_date": 1538571929, "post_id": 52626827, "comment_id": 92188864, "body": "Is this selector correct: <code>app-[my-contol]</code> from <code>my-controll.component.scss</code>:? Maybe you wanted <code>:host</code> instead?"}, {"owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "reply_to_user": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 0, "creation_date": 1538572346, "post_id": 52626827, "comment_id": 92189131, "body": "Sorry bad example just a placeholder to show scss its at the component level, As I said in my post all these styles work fine if I don&#39;t do a pwa e.g --prod build. Have now changed this"}, {"owner": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 0, "creation_date": 1538572611, "post_id": 52626827, "comment_id": 92189300, "body": "hmm, it could be a problem with the ionic build process... maybe open an issue on github and link it here?"}, {"owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "reply_to_user": {"reputation": 5932, "user_id": 3016654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f841e106c58a9e27aa79fcb686607c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei T\u0103tar", "link": "https://stackoverflow.com/users/3016654/andrei-t%c4%83tar"}, "edited": false, "score": 0, "creation_date": 1538573162, "post_id": 52626827, "comment_id": 92189666, "body": "Created this bug report <a href=\"https://github.com/ionic-team/ionic/issues/15840\" rel=\"nofollow noreferrer\">github.com/ionic-team/ionic/issues/15840</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1538581619, "creation_date": 1538581619, "answer_id": 52631004, "question_id": 52626827, "link": "https://stackoverflow.com/questions/52626827/ionic-4-angular-6-pwa-styles-not-working-broken/52631004#52631004", "title": "Ionic 4 + Angular 6 PWA Styles not working / broken", "body": "<p>So made some progress on this, and I'll answer my own question for now.</p>\n\n<p>It seems to be an issue with the element selectors in scss files</p>\n\n<p>So if I have scss like this</p>\n\n<pre><code>app-visit {\n  .visit-details {\n    margin-top: 20px;\n\n    @include mobile-only {\n      margin-top: 10px;\n    }\n  }\n  .email-share {\n    margin-top: 15px;\n  }\n  .hidden-email {\n    display: none;\n    &amp;.active {\n      display: block;\n    }\n    .side-content\n    {\n      border-left: 1px solid gray;\n    }\n  }\n}\n</code></pre>\n\n<p>the PWA build fails to include the styles for that component</p>\n\n<p>if I remove the app-visit wrapper then it works on the PWA build!</p>\n\n<p>I'm guessing there's a deeper issue here that I don't understand but I'll make some posts with the Ionic and Angular teams.</p>\n\n<p>But if you are experiencing this, then this is a good work-around for now</p>\n"}, {"comments": [{"owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "edited": false, "score": 2, "creation_date": 1538638188, "post_id": 52633645, "comment_id": 92214903, "body": "Thanks for this! The thing is my project was not a migration, it was a fresh ionic 4 angular 6 project and built using the CLI I wasn\u2019t even aware of the element selectors until I started seeing them appearing in my style sheets. It\u2019s also odd that it behaves correctly until I put it into a pwa build so I do think there is a bit more too this. Maybe just some hangovers with early beta builds."}], "tags": [], "owner": {"reputation": 1802, "user_id": 8971128, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KZZ5kqWWweE/AAAAAAAAAAI/AAAAAAAAAvE/6OmUyCqj6A8/photo.jpg?sz=128", "display_name": "Paul", "link": "https://stackoverflow.com/users/8971128/paul"}, "is_accepted": true, "score": 5, "last_activity_date": 1538591753, "creation_date": 1538591753, "answer_id": 52633645, "question_id": 52626827, "link": "https://stackoverflow.com/questions/52626827/ionic-4-angular-6-pwa-styles-not-working-broken/52633645#52633645", "title": "Ionic 4 + Angular 6 PWA Styles not working / broken", "body": "<p>Since Ionic 4 and Angular 6, you have to remove the page / component tag. Please see Migration to Ionic 4 -> <a href=\"https://beta.ionicframework.com/docs/building/migration/#overview\" rel=\"noreferrer\">https://beta.ionicframework.com/docs/building/migration/#overview</a></p>\n\n<blockquote>\n  <p>Page/component Sass should no longer be wrapped in the page/component tag and should use Angular's styleUrls option of the @Component decorator</p>\n</blockquote>\n\n<p>So it's not a bug and everything is working as expected! So please read the migration guide and remove the wrapper and everything should work again</p>\n"}], "owner": {"reputation": 1392, "user_id": 2248174, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1a78cfc3b13538ed7f37d899dc0597b?s=128&d=identicon&r=PG", "display_name": "Lenny D", "link": "https://stackoverflow.com/users/2248174/lenny-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5203, "favorite_count": 1, "accepted_answer_id": 52633645, "answer_count": 2, "score": 3, "last_activity_date": 1538591753, "creation_date": 1538568876, "last_edit_date": 1538572572, "question_id": 52626827, "link": "https://stackoverflow.com/questions/52626827/ionic-4-angular-6-pwa-styles-not-working-broken", "title": "Ionic 4 + Angular 6 PWA Styles not working / broken", "body": "<p>Hope someone can help me here,</p>\n\n<p>I have an Ionic 4 app using Angular 6 pwa. I have followed the steps in this post to get it working</p>\n\n<p><a href=\"https://www.joshmorony.com/create-a-pwa-with-angular-service-workers-in-ionic-4/\" rel=\"nofollow noreferrer\">https://www.joshmorony.com/create-a-pwa-with-angular-service-workers-in-ionic-4/</a></p>\n\n<p>All the steps complete fine and also the package builds and runs correctly without errors.</p>\n\n<p>However all my control specific styles are missing e.g </p>\n\n<blockquote>\n  <p>my-controll.component.scss</p>\n</blockquote>\n\n<pre><code>  app-my-contol {\n\n      ion-content {\n        background-color: var(--light-gray-lightest);\n      }\n      .my-class {\n        padding:0;\n        list-style: none;\n        position: absolute;\n        width: 100%;\n        left: 0;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iaEHD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iaEHD.png\" alt=\"enter image description here\"></a>\nYou can see that the files are hashed correctly and I have no 404's to suggest any files are missing. Doing a normal <code>ionic cordova build</code> without <code>--prod</code> will make the styles work again.</p>\n\n<p>Any help would be appreciated!</p>\n\n<p>Edit -- quick update.</p>\n\n<p>So the missing styles seem to be in main_xxxxxxxxx.js\nExample snippet below</p>\n\n<pre><code>var z = r.La({\n            encapsulation: 0,\n            styles: [[\"app-family-visit[_ngcontent-%COMP%]   .visit-details-family-view[_ngcontent-%COMP%]{margin-top:20px}@media (max-width:480px){app-family-visit[_ngcontent-%COMP%]   .visit-details-family-view[_ngcontent-%COMP%]{margin-top:10px}}app-family-visit[_ngcontent-%COMP%]   .visit-details-family-view[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{margin-bottom:20px}app-family-visit[_ngcontent-%COMP%]   .datetime-md[_ngcontent-%COMP%]{padding-left:0}.verification_page[_ngcontent-%COMP%]{padding-top:15px}\"]],\n            data: {}\n        });\n</code></pre>\n\n<p>And this file is being loaded, but are ignored for some reason</p>\n\n<p>Another Update </p>\n\n<p>What\u2019s interesting is that in the non-pwa build it looks like this in main.js</p>\n\n<pre><code>/*!****************************************************************!*\\\n  !*** ./src/app/case/pages/family-visit/family-visit.page.scss ***!\n  \\****************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = \"app-family-visit .visit-details-family-view {\\n  margin-top: 20px; }\\n  @media (max-width: 480px) {\\n    app-family-visit .visit-details-family-view {\\n      margin-top: 10px; } }\\n  app-family-visit .visit-details-family-view #title {\\n    margin-bottom: 20px; }\\n  app-family-visit .datetime-md {\\n  padding-left: 0; }\\n  .verification_page {\\n  padding-top: 15px; }\\n\"\n\n/***/ }),\n</code></pre>\n\n<p>So the pwa build add these <code>[_ngcontent-%COMP%]</code> markers inline</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 3, "creation_date": 1538568227, "post_id": 52626631, "comment_id": 92186439, "body": "It&#39;s not a good practice to directly access DOM using <code>Document</code> APIs. It&#39;s also not recommended to use jQuery for it. Angular has it&#39;s own way of doing this. Use the <code>(click)</code> event instead. Like this <code>&lt;div (click)=&quot;eventHandler()&quot;&gt;&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 869, "user_id": 3709922, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e12430d6a7cbfccf692ebcf4c1bea015?s=128&d=identicon&r=PG&f=1", "display_name": "Jignesh M. Khatri", "link": "https://stackoverflow.com/users/3709922/jignesh-m-khatri"}, "edited": false, "score": 0, "creation_date": 1538568249, "post_id": 52626631, "comment_id": 92186447, "body": "Can you make events write on element directly?"}, {"owner": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1538568590, "post_id": 52626631, "comment_id": 92186641, "body": "@SiddAjmera As the input has an activity with the <code>KeyUp</code> event, so I wanted to trigger that. I know, that I can call <code>(click)</code> and call that function which is called by <code>KeyUp</code>. Please let me know if there is a way to call it."}], "answers": [{"comments": [{"owner": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "edited": false, "score": 0, "creation_date": 1538568656, "post_id": 52626706, "comment_id": 92186685, "body": "That event is binded. But from another point I want to trigger the (keyup) event programmatically."}, {"owner": {"reputation": 676, "user_id": 1005083, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2e55b273eea3e72d6bbc77d97ff0518b?s=128&d=identicon&r=PG", "display_name": "r0bb077", "link": "https://stackoverflow.com/users/1005083/r0bb077"}, "edited": false, "score": 0, "creation_date": 1552350603, "post_id": 52626706, "comment_id": 96967250, "body": "KeyboardEvent constructor isn&#39;t support in IE"}], "tags": [], "owner": {"reputation": 2026, "user_id": 7812112, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I9HJf24huv0/AAAAAAAAAAI/AAAAAAAAAmM/Lcp1K2SE1Kk/photo.jpg?sz=128", "display_name": "Sarthak Aggarwal", "link": "https://stackoverflow.com/users/7812112/sarthak-aggarwal"}, "is_accepted": false, "score": 9, "last_activity_date": 1538570091, "last_edit_date": 1538570091, "creation_date": 1538568479, "answer_id": 52626706, "question_id": 52626631, "link": "https://stackoverflow.com/questions/52626631/trigger-keyup-event-in-angular-5-typescript/52626706#52626706", "title": "Trigger keyup event in Angular 5 TypeScript", "body": "<p>In your app.component.html file, define events on DOM elements</p>\n\n<pre><code>&lt;input (keyup)=\"onKeyup($event)\" (keydown)=\"onKeydown($event)\" #userName&gt;&lt;/input&gt;\n</code></pre>\n\n<p>In your app.component.ts file , get element ref and dispatch an event, also make event handlers for the same</p>\n\n<pre><code>export class AppComponent {\n @ViewChild('userName') userInput: ElementRef;\n constructor() {}\n\n\nsomeFunction(){\n  let event = new KeyboardEvent('keyup',{'bubbles':true});\n  this.userInput.nativeElement.dispatchEvent(event);\n}\n\n onKeyup(event){\n   console.log(event)\n }\n\n onKeydown(event){\n   console.log(event)\n }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38915, "user_id": 133840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42daf6e99c85882a69ca9530ae6a19ff?s=128&d=identicon&r=PG", "display_name": "JeffryHouser", "link": "https://stackoverflow.com/users/133840/jeffryhouser"}, "is_accepted": false, "score": 2, "last_activity_date": 1538568926, "creation_date": 1538568926, "answer_id": 52626842, "question_id": 52626631, "link": "https://stackoverflow.com/questions/52626631/trigger-keyup-event-in-angular-5-typescript/52626842#52626842", "title": "Trigger keyup event in Angular 5 TypeScript", "body": "<p>If you want to listen to an Angular event in HTML, you can do so like this:</p>\n\n<pre><code>&lt;button (click)=\"eventHandler($event)\"&gt;\n</code></pre>\n\n<p>Inside your component's TypeScript class, you have your method:</p>\n\n<pre><code>eventHandler(event){\n  console.log(event);\n}\n</code></pre>\n\n<p>That is the most common way.  </p>\n\n<p>You can also get an element reference in Angular.  Start by adding the #value on the element:</p>\n\n<pre><code>&lt;button #myButton&gt;\n</code></pre>\n\n<p>The <code>#MyButton</code> syntax allows you to reference the child in code using the <code>@ViewChild</code> metadata:</p>\n\n<pre><code>@ViewChild('myButton')\nmyButton: ElementRef;\n</code></pre>\n\n<p>Then you should be able to call the methods on the native element:</p>\n\n<pre><code>myButton.nativeElement.keydown();\nmyButton.nativeElement.keypress();\nmyButton.nativeElement.keyup();\nmyButton.nativeElement.blur();\n</code></pre>\n\n<p>I haven't actually tested this, as it is rare in Angular to try to access the underlying DOM events as opposed to using Angular's encapsulation of them.</p>\n"}, {"tags": [], "owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "is_accepted": false, "score": 2, "last_activity_date": 1538568948, "creation_date": 1538568948, "answer_id": 52626849, "question_id": 52626631, "link": "https://stackoverflow.com/questions/52626631/trigger-keyup-event-in-angular-5-typescript/52626849#52626849", "title": "Trigger keyup event in Angular 5 TypeScript", "body": "<p>This has nothing to do with javascript vs typescript. Typescript is basically the same. The distinction is rather jQuery vs angular. </p>\n\n<p>Mark your button with an id, so we can access it from the component. </p>\n\n<pre><code>&lt;button #submitButton ...&gt;\n</code></pre>\n\n<p>In your component you can use a ViewChild decorator to access this element.</p>\n\n<pre><code>export class FooComponent {\n    @ViewChild('submitButton')\n    submitButtonRef: ElementRef;\n\n    emitClick() {\n         // ...\n    }\n}\n</code></pre>\n\n<p>Then to trigger the click you can do following:</p>\n\n<pre><code>emitClick() {\n    this.submitButtonRef.nativeElement.click();\n}\n</code></pre>\n\n<p>Just make sure that you don't call emitClick to early. ViewRef is only available after the <code>AfterViewInit</code> angular lifecycle event if I'm not mistaken.</p>\n\n<p>This should also work for focus. Other events might be a bit trickier, but you have the native dom element, so basically you just need to find out how to trigger the desired event on a native dom element without jquery. If you need that you could refer to this answer: <a href=\"https://stackoverflow.com/questions/29898254/trigger-custom-event-without-jquery\">trigger custom event without jQuery</a></p>\n"}], "owner": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20945, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1538570091, "creation_date": 1538568137, "last_edit_date": 1538568240, "question_id": 52626631, "link": "https://stackoverflow.com/questions/52626631/trigger-keyup-event-in-angular-5-typescript", "title": "Trigger keyup event in Angular 5 TypeScript", "body": "<p>We have triggered keypress/down/up events programmatically easily with JavaScript/jQuery.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(function() {\n    $('item').keydown();\n    $('item').keypress();\n    $('item').keyup();\n    $('item').blur();\n});\n</code></pre>\n\n<p>But with Angular 5 and TypeScript, how can we do that?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//I am setting value programmatically -&gt; working\ndocument.getElementById('custom_Credit').setAttribute('value', coinsToBuy);    \n//setting focus -&gt; working\ndocument.getElementById('custom_Credit').focus();\n//but there are no way to generate or trigger keypress/up events.\ndocument.getElementById('custom_Credit')..........;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic3", "angular6"], "comments": [{"owner": {"reputation": 1932, "user_id": 4770754, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/X8e1t.jpg?s=128&g=1", "display_name": "tatsu", "link": "https://stackoverflow.com/users/4770754/tatsu"}, "edited": false, "score": 0, "creation_date": 1538568921, "post_id": 52626618, "comment_id": 92186860, "body": "why is everyone downvoting without explaining the downvote? is this anti-pattern? is this too vague? is this with the wrong tags? The inner machinations of the mind of the average stackoverflower are an enigma..."}, {"owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "reply_to_user": {"reputation": 1932, "user_id": 4770754, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/X8e1t.jpg?s=128&g=1", "display_name": "tatsu", "link": "https://stackoverflow.com/users/4770754/tatsu"}, "edited": false, "score": 0, "creation_date": 1538569047, "post_id": 52626618, "comment_id": 92186939, "body": "@tatsu that was I thinking too, if they give me feedback than I can edit my question.."}], "answers": [{"tags": [], "owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "is_accepted": false, "score": 1, "last_activity_date": 1538570419, "creation_date": 1538570419, "answer_id": 52627257, "question_id": 52626618, "link": "https://stackoverflow.com/questions/52626618/send-data-from-component-to-controller/52627257#52627257", "title": "Send data from component to controller", "body": "<p>If I understand your question correctly you have a base class <code>FaqController</code> and you have a class that extends this class called <code>FaqPage</code>. Now you want to use a value that is established in <code>FaqPage</code> and use it in <code>FaqController</code>.</p>\n\n<p>As you get the page id in the constructor, you could pass this on to your controller.</p>\n\n<pre><code>class FaqController {\n    constructor(injector: Injector, private pageId: number) {\n       // ...\n    }\n}\n</code></pre>\n\n<p>Now in your findById you can reference the page id with <code>this.pageId</code>.</p>\n\n<p>Only thing left to do is change the constructor of <code>FaqPage</code>:</p>\n\n<pre><code>constructor(\n    injector: Injector,\n    public viewController: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n)\n{\n    super(injector, this.navParams.get('id'));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 6116592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c149407385098db9be4100a1dd1c054?s=128&d=identicon&r=PG&f=1", "display_name": "Setako", "link": "https://stackoverflow.com/users/6116592/setako"}, "is_accepted": true, "score": 2, "last_activity_date": 1538571432, "creation_date": 1538571432, "answer_id": 52627567, "question_id": 52626618, "link": "https://stackoverflow.com/questions/52626618/send-data-from-component-to-controller/52627567#52627567", "title": "Send data from component to controller", "body": "<p>I'm not sure why you need to separate FaqPage and FaqController, since FaqPage is already a Controller. I would suggest just call the faqService directly.</p>\n\n<p>Just like this:</p>\n\n<pre><code>export class FaqPage {\n  data = {\n      sections: null,\n      search: '',\n      menuFaq: [],\n      results: []\n  }\n  constructor(\n    injector: Injector,\n    public viewController: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  )\n  {\n    console.log(this.navParams.get('id')) \n  }\n\n  ngOnInit(){\n    this.findById(this.navParams.get('id'));\n  }\n\n  findById(id) {\n    this.faqService.findById(id, new RequestObject({\n        onSuccess: (menuFaq) =&gt; {\n            this.data.menuFaq = menuFaq;\n        }\n    }));\n  }\n}\n</code></pre>\n\n<p>Anyway if you sure you want to do that, passing the NavParams or FAQ id inside the constructor of FaqController should be work</p>\n"}], "owner": {"reputation": 3492, "user_id": 4983589, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/610eb31d22385e4687f5f50636ed904e?s=128&d=identicon&r=PG&f=1", "display_name": "Sireini", "link": "https://stackoverflow.com/users/4983589/sireini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 52627567, "answer_count": 2, "score": -1, "last_activity_date": 1538571432, "creation_date": 1538568094, "question_id": 52626618, "link": "https://stackoverflow.com/questions/52626618/send-data-from-component-to-controller", "title": "Send data from component to controller", "body": "<p>I have a component which has an id which I want to pass to the controller of that component. This is the class which extends the FaqController. This is the <code>faq.ts</code></p>\n\n<pre><code>export class FaqPage extends FaqController {\n  constructor(\n    injector: Injector,\n    public viewController: ViewController,\n    public navCtrl: NavController,\n    public navParams: NavParams\n  )\n  {\n    super(injector);\n    console.log(this.navParams.get('id')) \n  }\n}\n</code></pre>\n\n<p>I have a controller which handles data from a elastic search I have a method in my <code>service</code> which needs the <code>id</code> from the <code>faq.ts</code> to complete the correct query:</p>\n\n<p><code>faq.controller.ts</code></p>\n\n<pre><code>data = {\n    sections: null,\n    search: '',\n    menuFaq: [],\n    results: []\n}\nfindById() {\n    this.faqService.findById(id, new RequestObject({\n        onSuccess: (menuFaq) =&gt; {\n            this.data.menuFaq = menuFaq;\n        }\n    }));\n}\n</code></pre>\n\n<p>In the method <code>findById()</code> above I need the id of the <code>faq.ts</code> file how can I achieve this?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "web"], "comments": [{"owner": {"reputation": 631, "user_id": 6895106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f271a8fd1702d0508741037997a10a7?s=128&d=identicon&r=PG&f=1", "display_name": "Learning", "link": "https://stackoverflow.com/users/6895106/learning"}, "edited": false, "score": 0, "creation_date": 1538570290, "post_id": 52626294, "comment_id": 92187761, "body": "Angular 2 comes with its own animation module as &#39;&quot;@angular/animations&#39; and you can find many great tutorials on that and implement the fade in animation with opacity changes. For example: <a href=\"https://www.kdechant.com/blog/angular-animations-fade-in-and-fade-out\" rel=\"nofollow noreferrer\">kdechant.com/blog/angular-animations-fade-in-and-fade-out</a>"}, {"owner": {"reputation": 43, "user_id": 10054634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e45a251d0dd6581a6bf5343307855b7?s=128&d=identicon&r=PG&f=1", "display_name": "Fantomiald", "link": "https://stackoverflow.com/users/10054634/fantomiald"}, "reply_to_user": {"reputation": 631, "user_id": 6895106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f271a8fd1702d0508741037997a10a7?s=128&d=identicon&r=PG&f=1", "display_name": "Learning", "link": "https://stackoverflow.com/users/6895106/learning"}, "edited": false, "score": 0, "creation_date": 1538570907, "post_id": 52626294, "comment_id": 92188187, "body": "First, thanks for your answer. I tried to follow the tutorial but i&#39;ve got the same problem: the animation is well visible when I reload the page but when I change the value of my sent array by clicking on my button, it doesn&#39;t animate a second time :/"}], "answers": [{"comments": [{"owner": {"reputation": 4915, "user_id": 3073280, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/PmdLQ.jpg?s=128&g=1", "display_name": "choopage - Jek Bao", "link": "https://stackoverflow.com/users/3073280/choopage-jek-bao"}, "edited": false, "score": 2, "creation_date": 1605826783, "post_id": 52629558, "comment_id": 114779315, "body": "I created a stackblitz for your answer. <a href=\"https://stackblitz.com/edit/angular-animation-on-array-item-addition\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-animation-on-array-item-addition</a>"}], "tags": [], "owner": {"reputation": 631, "user_id": 6895106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f271a8fd1702d0508741037997a10a7?s=128&d=identicon&r=PG&f=1", "display_name": "Learning", "link": "https://stackoverflow.com/users/6895106/learning"}, "is_accepted": true, "score": 0, "last_activity_date": 1538577478, "creation_date": 1538577478, "answer_id": 52629558, "question_id": 52626294, "link": "https://stackoverflow.com/questions/52626294/angular6-animation-when-change-value/52629558#52629558", "title": "Angular6 - Animation when change value", "body": "<p>I tried the same example which i suggested to you (kdechant.com/blog/angular-animations-fade-in-and-fade-out) with your sample code and it is working:</p>\n\n<p>Import BrowserAnimationsModule in the application module (app.module.ts):</p>\n\n<pre><code>import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [...],\n  imports: [BrowserAnimationsModule],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>parent.component.html</p>\n\n<pre><code>&lt;div style=\"text-align: center; margin: 20px 0\"&gt;\n  &lt;div *ngFor=\"let select of buttonSelector\" (click)=\"getSelectArray(select.title)\"&gt;\n    &lt;p&gt;{{ select.title }}&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;app-infoapp [selectedArray]=\"selectedArray\"&gt;&lt;/app-infoapp&gt;\n</code></pre>\n\n<p>parent.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-parent',\n  templateUrl: './parent.component.html',\n  styleUrls: ['./parent.component.css']\n})\nexport class ParentComponent implements OnInit {\n  public buttonSelector = [];\n  public selectedArray = [];\n\n  constructor() { }\n\n  ngOnInit() {\n    this.buttonSelector = [{title: 'save'}, {title: 'add'}, {title: 'edit'}, {title: 'delete'}];\n  }\n\n  getSelectArray(title: string) {\n    this.selectedArray.push({title:title});\n  }\n\n}\n</code></pre>\n\n<p>info-app.component.html</p>\n\n<pre><code>&lt;div class=\"info\" *ngFor=\"let selected of selectedArray\" [@simpleFadeAnimation]=\"'in'\"&gt;\n    {{ selected.title }}\n&lt;/div&gt;\n</code></pre>\n\n<p>info-app.component.ts</p>\n\n<pre><code>import {Component, Input, OnInit} from '@angular/core';\nimport { trigger, transition, state, style, animate } from '@angular/animations';\n\n@Component({\n  selector: 'app-infoapp',\n  templateUrl: './info-app.component.html',\n  styleUrls: ['./info-app.component.css'],\n  animations: [\n    trigger('simpleFadeAnimation', [\n      state('in', style({opacity: 1})),\n      transition(':enter', [\n        style({opacity: 0}),\n        animate(600 )\n      ]),\n      transition(':leave',\n        animate(600, style({opacity: 0})))\n    ])\n  ]\n})\nexport class InfoAppComponent implements OnInit {\n  @Input() selectedArray = [];\n\n  constructor() {}\n\n  ngOnInit() {}\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10054634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e45a251d0dd6581a6bf5343307855b7?s=128&d=identicon&r=PG&f=1", "display_name": "Fantomiald", "link": "https://stackoverflow.com/users/10054634/fantomiald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7091, "favorite_count": 1, "accepted_answer_id": 52629558, "answer_count": 1, "score": 2, "last_activity_date": 1538577478, "creation_date": 1538566952, "question_id": 52626294, "link": "https://stackoverflow.com/questions/52626294/angular6-animation-when-change-value", "title": "Angular6 - Animation when change value", "body": "<p>I searched on Google how to do what I want to do and tried some things but nothing works and I found a lot of AngularJS tutorial but not Angular6.. so I hope u will be able to help me.</p>\n\n<p>I want to make a fade when my array's values change (on click) so I downloaded ng-animate but it doesn't give me the behaviour I'm looking for.\nCurrently, I've got two components so the first:</p>\n\n<p>HTML:</p>\n\n<pre><code> &lt;div style=\"text-align: center; margin: 20px 0\"&gt;\n      &lt;div class=\"buttonSelector\" *ngFor=\"let select of buttonSelector\" (click)=\"getSelectArray(select.title)\"\n           [ngClass]=\"{'selected': select.title === selectedArray.title.toUpperCase() }\"&gt;\n        &lt;p&gt;{{ select.title }}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;app-infoapp [selectedArray]=\"selectedArray\"&gt;&lt;/app-infoapp&gt;\n</code></pre>\n\n<p>There, I change my selectedArray by sending a variable to getSelectArray() then I send it to my 'app-infoapp' component.\nOn my 'app-infoapp' component, we can find this:</p>\n\n<pre><code>import {Component, Input, OnInit} from '@angular/core';\nimport { trigger, transition, useAnimation } from '@angular/animations';\nimport {bounce, fadeIn} from 'ng-animate';\n\n@Component({\n  selector: 'app-infoapp',\n  templateUrl: './infoapp.component.html',\n  styleUrls: ['./infoapp.component.css'],\n  animations: [\n    trigger('fade', [transition('* =&gt; *', useAnimation(fadeIn, {delay: 0.2}))])\n  ]\n})\nexport class InfoappComponent implements OnInit {\n\n  @Input() selectedArray;\n  fade: any;\n\n  constructor() {\n  }\n}\n</code></pre>\n\n<p>So now when I refresh my page, the component is fading so that's cool but when I change my array by clicking on the button so another array is sent to my 'app-infoapp' component, it doesn't animate another time.</p>\n\n<p>I hope I was clear and that u will be able to help me.</p>\n\n<p>If you need more informations or if I wasn't clear tell me, I'll answer as fast as possible.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2062, "user_id": 6432698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DMpuD.jpg?s=128&g=1", "display_name": "billyjov", "link": "https://stackoverflow.com/users/6432698/billyjov"}, "edited": false, "score": 1, "creation_date": 1538565895, "post_id": 52625923, "comment_id": 92185127, "body": "can you show the implementation of your <code>search</code> method ? so we can demonstrate the best practice?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1538571063, "post_id": 52625923, "comment_id": 92188290, "body": "What is the type of <code>response</code>?"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1538631534, "post_id": 52625923, "comment_id": 92211736, "body": "@Zabs you should type the <code>response</code>. For example if response is an array of SearchResult : <code>return this.http.get&lt;SearchResult[]&gt;(url, {params: params})</code>. By the way <code>map</code> after <code>get</code> is useless in your example. Then in component add typing to items: <code>public items: SearchResult[] = [];</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5192, "user_id": 5246058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36299274b998e4730d3def882d84f7d6?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/5246058/ashish-singh"}, "is_accepted": true, "score": 3, "last_activity_date": 1538565760, "creation_date": 1538565760, "answer_id": 52625963, "question_id": 52625923, "link": "https://stackoverflow.com/questions/52625923/type-object-is-not-assignable-to-type-any-in-angular-4-x-app/52625963#52625963", "title": "Type &#39;Object&#39; is not assignable to type &#39;any[]&#39; in Angular 4.x app", "body": "<p>do this change</p>\n\n<pre><code>public items = {}\n</code></pre>\n\n<p>then thing is, you are making items as array of <code>any</code> type and apparently response is of <code>object</code> type</p>\n"}, {"tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 1, "last_activity_date": 1538565963, "creation_date": 1538565963, "answer_id": 52626029, "question_id": 52625923, "link": "https://stackoverflow.com/questions/52625923/type-object-is-not-assignable-to-type-any-in-angular-4-x-app/52626029#52626029", "title": "Type &#39;Object&#39; is not assignable to type &#39;any[]&#39; in Angular 4.x app", "body": "<p>This is an array of any items <code>any[]</code>.</p>\n\n<pre><code>public items = []\n</code></pre>\n\n<p>Response is probably an object.</p>\n\n<p>You are setting items to be equal to an object.</p>\n\n<p>You should either make items of type any OR</p>\n\n<p>You should push the response object to the items array like this:</p>\n\n<pre><code>this.items.push(response)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>this.items = [...this.items, response]\n</code></pre>\n\n<p>Depending on what you want.</p>\n"}], "owner": {"reputation": 12414, "user_id": 218725, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/42f3760d9b5dcabfb902d2f24f363dcc?s=128&d=identicon&r=PG", "display_name": "Zabs", "link": "https://stackoverflow.com/users/218725/zabs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3231, "favorite_count": 0, "accepted_answer_id": 52625963, "answer_count": 2, "score": 2, "last_activity_date": 1538572270, "creation_date": 1538565630, "last_edit_date": 1538572270, "question_id": 52625923, "link": "https://stackoverflow.com/questions/52625923/type-object-is-not-assignable-to-type-any-in-angular-4-x-app", "title": "Type &#39;Object&#39; is not assignable to type &#39;any[]&#39; in Angular 4.x app", "body": "<p>I get the following error in my typescript code but unsure why any ideas - it is the <code>this.items</code> variable?</p>\n\n<blockquote>\n  <p>Type 'Object' is not assignable to type 'any[]'.   The 'Object' type\n  is assignable to very few other types. Did you mean to use the 'any'\n  type instead?</p>\n</blockquote>\n\n<pre><code>export class GifpickerComponent implements OnInit {\n    public searchTerm : FormControl = new FormControl();\n    public items = [];\n\nconstructor(private gifpickerService: GifpickerService){\n    this.searchTerm.valueChanges\n        .subscribe(data =&gt; {\n            this.gifpickerService.search(data).subscribe(response =&gt;{\n                console.log('subscribe', response);\n                this.items = response; /* line picked up in error */\n            })\n        })\n}\n</code></pre>\n\n<p>/* service as requested */</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { ApiService } from \"../../services/api.service\";\nimport { HttpClient,  HttpParams, HttpResponse} from '@angular/common/http';\n\n@Injectable()\nexport class GifpickerService {\n\nconstructor(\n    private http: HttpClient,\n    private apiService: ApiService\n) {}\n\nsearch(term){\n    console.log('term', term);\n    let url = this.apiService.getApiUrl('gif/search');\n    let params = new HttpParams()\n        .set('q', String(term))\n        .set('results_only', '1');\n\n    return this.http.get(url, {params: params})\n        .map(response =&gt; {\n            return response;\n        });\n }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "iframe"], "comments": [{"owner": {"reputation": 11587, "user_id": 2651006, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/21db98493eb83498d8d0443c3fa3134f?s=128&d=identicon&r=PG", "display_name": "Ploppy", "link": "https://stackoverflow.com/users/2651006/ploppy"}, "edited": false, "score": 0, "creation_date": 1538564783, "post_id": 52625650, "comment_id": 92184540, "body": "Do not quote my words but iframes are sandboxed for security reason, unless they are from the same domain, you can&#39;t interact with the iframe&#39;s content."}], "answers": [{"tags": [], "owner": {"reputation": 966, "user_id": 6648228, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/217c03e219297ed452097c8867beb5df?s=128&d=identicon&r=PG", "display_name": "Raja Mohamed", "link": "https://stackoverflow.com/users/6648228/raja-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1538565391, "creation_date": 1538565391, "answer_id": 52625861, "question_id": 52625650, "link": "https://stackoverflow.com/questions/52625650/iframe-trigger-function-issue/52625861#52625861", "title": "Iframe trigger function issue", "body": "<p>Communication between an iframe and parent document is not possible for cross-origin \nIn case same origin you can send/broadcast the message and receive in same window object. from the receiver message you can call your custom message.</p>\n\n<p>resources. </p>\n\n<pre><code>Template :\n    &lt;iframe src=\"http://javascript.info\" name=\"example\"&gt;\n\nComponent : \n    let win = window.frames.example;\n\n    win.postMessage(\"message\", \"http://example.com\");\n</code></pre>\n\n<p>Receive the broadcaster message : </p>\n\n<pre><code>window.addEventListener(\"message\", function(event) {\n  if (event.origin != 'http://javascript.info') {\n    // something from an unknown domain, let's ignore it\n    return;\n  }\n\n  alert( \"received: \" + event.data );\n});\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 4470127, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-GwLkHLQfCk8/AAAAAAAAAAI/AAAAAAAAAC8/DanNEk5iHmQ/photo.jpg?sz=128", "display_name": "Ahsan Mustafa", "link": "https://stackoverflow.com/users/4470127/ahsan-mustafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538565391, "creation_date": 1538564645, "question_id": 52625650, "link": "https://stackoverflow.com/questions/52625650/iframe-trigger-function-issue", "title": "Iframe trigger function issue", "body": "<p>using iframe inside Angular component, in iframe there is list of users, is there any way when i click on user it will trigger a function, that function will be inside component .ts file.</p>\n"}, {"tags": ["javascript", "typescript", "knockout.js", "knockout-3.0"], "answers": [{"tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": true, "score": 1, "last_activity_date": 1538571516, "creation_date": 1538571516, "answer_id": 52627586, "question_id": 52625326, "link": "https://stackoverflow.com/questions/52625326/dynamically-created-selects-dont-bind-to-their-observable-values/52627586#52627586", "title": "Dynamically created selects don&#39;t bind to their observable values?", "body": "<p>The <code>selectedChildrenAges</code> is an observable array. To get it's content you should use <code>()</code>:</p>\n\n<pre><code>this.selectedChildrenAges.subscribe(() =&gt; {\n            console.log((this.selectedChildrenAges() as any).join(\", \"));\n            this.selectedChildrenAgesCsv((this.selectedChildrenAges() as any).filter(age =&gt; age &gt; 0).join(\",\"));\n});\n</code></pre>\n\n<p>or use newValue that is coming as argument in the subsription handler function:</p>\n\n<pre><code>this.selectedChildrenAges.subscribe((newValue: Array&lt;number&gt;) =&gt; {\n            console.log(newValue.join(\", \"));\n            this.selectedChildrenAgesCsv(newValue.filter(age =&gt; age &gt; 0).join(\",\"));\n});\n</code></pre>\n\n<p>Or you can use computed:</p>\n\n<pre><code>this.selectedChildrenAgesCsv = ko.computed&lt;string&gt;(() =&gt; {\n    return this.selectedChildrenAges().filter(age =&gt; age &gt; 0).join(\",\");\n});\n</code></pre>\n"}], "owner": {"reputation": 3896, "user_id": 681045, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ommze.gif?s=128&g=1", "display_name": "Ms01", "link": "https://stackoverflow.com/users/681045/ms01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 52627586, "answer_count": 1, "score": 0, "last_activity_date": 1538571516, "creation_date": 1538563484, "question_id": 52625326, "link": "https://stackoverflow.com/questions/52625326/dynamically-created-selects-dont-bind-to-their-observable-values", "title": "Dynamically created selects don&#39;t bind to their observable values?", "body": "<p>I dynamically create selects in knockout like this:</p>\n\n<pre><code>&lt;h5 data-bind=\"visible: selectedChildren() &gt; 0\"&gt;@Model.SelectChildrenAge&lt;/h5&gt;\n  &lt;input type=\"hidden\" name=\"ac1\" data-bind=\"value: selectedChildrenAgesCsv()\"/&gt;\n  &lt;div class=\"children-age-container__ages\" data-bind=\"foreach: childrenAges\"&gt;\n       &lt;select class=\"children-age-container__ages--select\" data-bind=\"options: $data, optionsCaption: 'Age', value: $parent.selectedChildrenAges[$index]\"&gt;&lt;/select&gt;\n   &lt;/div&gt;\n</code></pre>\n\n<p>In my model I an observableArray that I want the dynamically created select value to bind to:</p>\n\n<pre><code>selectedChildrenAges: KnockoutObservableArray&lt;number&gt; = ko.observableArray([\n        0, 0, 0, 0, 0, 0,\n        0, 0, 0, 0, 0, 0\n    ]);\n</code></pre>\n\n<p>However, it seems like they are always 0 even if the actual creating of the selects works like a charm. The issue here is I don't actually want to post whats in the select boxes as is, the backend require me to post it as a CSV string. What I've done is create a subscribe method that will update <code>selectedChildrenAgesCsv</code> accordingly:</p>\n\n<pre><code>this.selectedChildrenAges.subscribe(() =&gt; {\n            console.log((this.selectedChildrenAges as any).join(\", \"));\n            this.selectedChildrenAgesCsv((this.selectedChildrenAges as any).filter(age =&gt; age &gt; 0).join(\",\"));\n</code></pre>\n\n<p>My console log never outputs anything here, and I'm kinda lost in how to face it. I have tried so many different ways but nothing seems to work good.</p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "gatsby"], "comments": [{"owner": {"reputation": 1390, "user_id": 5210535, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GJaUr.jpg?s=128&g=1", "display_name": "Juned Lanja", "link": "https://stackoverflow.com/users/5210535/juned-lanja"}, "edited": false, "score": 0, "creation_date": 1538563824, "post_id": 52624983, "comment_id": 92183982, "body": "You don&#39;t need  <code>index.d.ts</code>. to know more about how to import and export module  see link <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/modules.html</a>"}, {"owner": {"reputation": 55, "user_id": 1746449, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33b911f0f7f3260a3fb8a80de5f5cb83?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1746449/patrick"}, "reply_to_user": {"reputation": 1390, "user_id": 5210535, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/GJaUr.jpg?s=128&g=1", "display_name": "Juned Lanja", "link": "https://stackoverflow.com/users/5210535/juned-lanja"}, "edited": false, "score": 0, "creation_date": 1538565233, "post_id": 52624983, "comment_id": 92184767, "body": "thank you @JunedLanja for your quick response. can you elaborate more on the &quot;you don&#39;t need index.d.ts&quot; part, because I&#39;m using <code>webpack</code> to create a <code>bundle.js</code> and when I remove the <code>d.ts file</code>, publish, install and trying to use the library, IntelliJ find/import it .. maybe my webpack configuration is not right? do I miss some steps/files before the build process?"}], "owner": {"reputation": 55, "user_id": 1746449, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/33b911f0f7f3260a3fb8a80de5f5cb83?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1746449/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539421719, "creation_date": 1538562380, "last_edit_date": 1539421719, "question_id": 52624983, "link": "https://stackoverflow.com/questions/52624983/type-is-invalid-when-using-custom-react-component-library", "title": "&#39;type is invalid&#39; when using custom react component library", "body": "<p>I'm currently working on my first gatsby/react/typescript project and one of the requirements is to create a component library which should hold components commonly used in the upcoming applications.</p>\n\n<p>My inital test with only one component (without the index.ts as the entry was the FancyBanner.tsx itself) worked. After adding a second component (FancyButton.tsx) and the index.ts, I can not use the component in my App. Following error occures:</p>\n\n<blockquote>\n  <p>Uncaught Error: Element type is invalid: expected a string (for\n  built-in components) or a class/function (for composite components)\n  but got: undefined. You likely forgot to export your component from\n  the file it's defined in, or you might have mixed up default and named\n  imports.</p>\n</blockquote>\n\n<p>Setup</p>\n\n<ul>\n<li>Gatsby 2 </li>\n<li>React 16.5</li>\n<li>Typescript 3</li>\n<li>Local npm registry through Artifactory</li>\n</ul>\n\n<p>Project structure (this is the stipped down version as the gatsby files is only needed for testing an not relevant built component library)</p>\n\n<pre><code>component-lib/\n  src/\n    lib/\n      fancy.css\n      FancyButton.tsx\n      FancyBanner.tsx\n    index.ts\n  index.d.ts\n  package.json\n  tsconfig.json\n  webpack.config.js \n</code></pre>\n\n<p>The two components are nearly identical but should replicate two individual components:</p>\n\n<pre><code>import * as React from 'react';\nimport './fancy.css'\n\ninterface Props {\n    text: string\n}\n\ninterface State {\n    /* no state required */\n}\n\nexport default class FancyBanner extends React.Component&lt;Props, State&gt; {\n\n    public static defaultProps: Partial&lt;Props&gt; = {\n        text: \"this is a fancy component\"\n    };\n\n    public render() {\n        return (\n            &lt;div className={\"fancy\"}&gt;\n                {this.props.text}\n            &lt;/div&gt;\n        );\n    };\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>import * as React from 'react';\nimport './fancy.css'\n\ninterface Props {\n    text: string\n}\n\ninterface State {\n    /* no state required */\n}\n\nexport default class FancyButton extends React.Component&lt;Props, State&gt; {\n\n    public static defaultProps: Partial&lt;Props&gt; = {\n        text: \"this is a fancy button\"\n    };\n\n    public render() {\n        return (\n            &lt;div className={\"button fancy\"}&gt;\n                {this.props.text}\n            &lt;/div&gt;\n        );\n    };\n}\n</code></pre>\n\n<p>The <strong>index.ts</strong> simply exports the two componets</p>\n\n<pre><code>export * from \"./fancy/FancyButton\"\nexport * from \"./fancy/FancyBanner\"\n</code></pre>\n\n<p>The <strong>index.d.ts</strong> is \"handmade\" (<em>maybe this is the problem?</em>)</p>\n\n<pre><code>import * as React from \"react\";\n\nexport interface Props {\n    text: string;\n}\n\nexport interface State {\n}\n\nexport class FancyBanner extends React.Component&lt;Props, State&gt; {}\n\nexport class FancyButton extends React.Component&lt;Props, State&gt; {}\n</code></pre>\n\n<p>Finally, the different configuration files</p>\n\n<pre><code>{\n  \"name\": \"company-component-lib\",\n  \"description\": \"makes your app fancy\",\n  \"version\": \"0.0.7-snapshot.10\",\n  \"main\": \"dist/bundle.js\",\n  \"types\": \"index.d.ts\",\n  \"dependencies\": {},\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n    \"start\": \"webpack --watch\",\n    \"build\": \"webpack\",\n    \"local-release\": \"npm run build &amp;&amp; npm link\",\n    \"release\": \"npm run build &amp;&amp; npm publish\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^10.10.3\",\n    \"@types/react\": \"^16.4.14\",\n    \"@types/react-dom\": \"^16.0.7\",\n    \"react\": \"^16.5.2\",\n    \"react-dom\": \"^16.5.2\",\n    \"react-helmet\": \"^5.2.0\",\n    \"typescript\": \"^3.0.3\",\n    \"css-loader\": \"^1.0.0\",\n    \"gatsby\": \"^2.0.8\",\n    \"gatsby-link\": \"^2.0.1\",\n    \"gatsby-plugin-react-helmet\": \"^3.0.0\",\n    \"gatsby-plugin-typescript\": \"^2.0.0\",\n    \"style-loader\": \"^0.23.0\",\n    \"webpack-cli\": \"^3.1.1\",\n    \"ts-loader\": \"^5.2.1\"\n  },\n  \"publishConfig\": {\n    \"type\": \"npm\",\n    \"registry\": \"&lt;myrepo&gt;\"\n  },\n  \"files\": [\n    \"dist/bundle.js\",\n    \"index.d.ts\"\n  ]\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist/\",\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"jsx\": \"react\",\n    \"declaration\": true,\n    \"lib\": [\"dom\", \"es5\"]\n  },\n  \"include\": [\n    \"./src/lib/**/*\"\n  ]\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>var path = require('path');\n\nmodule.exports = {\n    entry: './src/lib/index.ts',\n    output: {\n        path: path.resolve(__dirname, 'dist'),\n        filename: 'bundle.js',\n        libraryTarget: 'commonjs2'\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.tsx$/,\n                include: path.resolve(__dirname, 'src/lib'),\n                exclude: /(node_modules|bower_components|public)/,\n                use: 'ts-loader'\n            },\n            {\n                test:/\\.css$/,\n                use:['style-loader','css-loader']\n            }\n        ]\n    },\n    externals: {\n        'react': 'commonjs react'\n    },\n    resolve: {\n        extensions: [\".tsx\", \".ts\", \".js\"]\n    }\n};\n</code></pre>\n\n<p>After build and publish I can install my component library in my app and IntelliJ automatically adds the import</p>\n\n<pre><code>import * as React from 'react'\nimport Layout from \"../components/layout\";\nimport {FancyBanner} from \"company-component-lib\";\n\nexport default class Page_7 extends React.Component&lt;any, any&gt; {\n\n    public render() {\n        return (\n            &lt;Layout&gt;\n                &lt;div&gt;\n                    &lt;h1&gt;Component Sample Page&lt;/h1&gt;\n\n                    &lt;FancyBanner text={\"WOOOHOOO!\"}/&gt;\n\n                &lt;/div&gt;\n            &lt;/Layout&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I tried some of the suggestions from <a href=\"https://stackoverflow.com/questions/34130539/uncaught-error-invariant-violation-element-type-is-invalid-expected-a-string\">this quests</a> but the error remains. \nAs a react/typescript newby I somewhat have the feeling that the typescript declaration is the problem but cannot find the failure in my setup. Any hints or suggestions are appreciated. </p>\n\n<p><strong>##### UPDATE #####</strong></p>\n\n<p>After further research we dropped <code>webpack</code> with <code>babel</code> and simply use <code>tsc</code> based on <a href=\"https://www.tsmean.com/articles/how-to-write-a-typescript-library/\" rel=\"nofollow noreferrer\">this tutorial</a>. This tutorial helped us to create a commons library but sadly does not answer the intial question, why the module with <code>webpack</code> and <code>babel</code> cannot be imported (specificaly what we did wrong and if <code>webpack</code> with <code>babel</code> is suitable for this scenario).</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "global-variables"], "comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 2, "creation_date": 1538563532, "post_id": 52624685, "comment_id": 92183827, "body": "I think you might need to export <code>Human</code> from the entry point of your project in order to make it available as <code>someName.Human</code>."}], "owner": {"reputation": 23607, "user_id": 407650, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/v5HaT.png?s=128&g=1", "display_name": "XCS", "link": "https://stackoverflow.com/users/407650/xcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538566036, "creation_date": 1538561448, "last_edit_date": 1538566036, "question_id": 52624685, "link": "https://stackoverflow.com/questions/52624685/webpack-enable-access-to-classes-static-members", "title": "WebPack enable access to classes static members", "body": "<p>I am using WebPack with my TypeScript project.</p>\n\n<p>I have several classes that have static members, <em>e.g.</em>:</p>\n\n<pre><code>class Human {\n   public static DEFAULT_AGE: number = 20;\n}\n</code></pre>\n\n<p>This class is imported by other files. I want to be able to change this variable in my browser's console like: <code>window.Human.DEFAULT_AGE = 30</code>, but the <code>Human</code> class is encapsulated and not visible in the global scope.</p>\n\n<p>What can I add to the WebPack config to make this class globally accessible after the build process (in the browser). Note that I have multiple such classes, and I want a WebPack config solution, not just setting <code>global.Human = Human</code>, if it is possible.</p>\n\n<p>I tried adding </p>\n\n<pre><code>output: {\n  library: 'someName'\n}\n</code></pre>\n\n<p>It does expose the <code>someName</code> namespace, but it is just an empty <code>esModule</code>.</p>\n"}, {"tags": ["node.js", "typescript", "jestjs", "inversifyjs"], "comments": [{"owner": {"reputation": 1690, "user_id": 608042, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/43170c54502dcfebd4c8fb32fb4748d3?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/608042/andy"}, "edited": false, "score": 0, "creation_date": 1570041971, "post_id": 52624501, "comment_id": 102793065, "body": "Hi @lostdorje, it&#39;s been a while \u2013 were you able to solve this issue and do you remember the solution? I&#39;m having a similar issue without <i>ts-node</i>, my error is <code>Missing required @injectable annotation in:</code>."}], "owner": {"reputation": 5290, "user_id": 964823, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4625eda4b9da63750555e39c2808a619?s=128&d=identicon&r=PG", "display_name": "lostdorje", "link": "https://stackoverflow.com/users/964823/lostdorje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 452, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1541241655, "creation_date": 1538560825, "last_edit_date": 1541241655, "question_id": 52624501, "link": "https://stackoverflow.com/questions/52624501/tests-fail-when-injecting-a-class-with-decorator", "title": "tests fail when injecting a class with decorator", "body": "<p>This is likely an environment issue on my end, but I'm having problems testing injected classes that use decorators.</p>\n\n<p>Am hoping someone can see what I'm missing.</p>\n\n<p>Note: that when I run the code, it runs fine. The error only occurs when running jest tests. I have a full test suite that works fine. The test in question that fails passes when I remove the decorator annotation and no longer have the class extend <code>EventEmitter</code>.</p>\n\n<p>I also use <code>ts-node</code> to run the code. I use <code>ts-node ./node_modules/.bin/jest src/event-emitter-inversify/__tests__/event-emitter-inversify.test.ts</code></p>\n\n<p>I'm not sure why the tests fail and the run succeeds.</p>\n\n<p>I consistently see the error <code>TypeError: Cannot read property 'constructor' of null</code> in my tests.</p>\n\n<p>Here is the setup.</p>\n\n<p><strong>event-emitter-inversify.ts</strong></p>\n\n<pre><code>import 'reflect-metadata';\nimport { EventEmitter } from 'events';\nimport { ContainerModule, decorate, injectable, interfaces } from 'inversify';\n\ndecorate(injectable(), EventEmitter);\n\n@injectable()\nexport class EventEmitterChild extends EventEmitter {\n  constructor() {\n    super();\n  }\n\n  greet() {\n    console.log('hello world.');\n  }\n}\n\nexport const EventEmitterModule = new ContainerModule(\n  (bind: interfaces.Bind) =&gt; {\n    bind&lt;EventEmitterChild&gt;('EventEmitterChild').to(EventEmitterChild).inSingletonScope();\n  }\n);\n</code></pre>\n\n<p><strong>event-emitter-inversify-dependent.ts</strong></p>\n\n<pre><code>import { inject, injectable } from 'inversify';\nimport { EventEmitterChild } from './event-emitter-inversify';\n\n@injectable()\nexport class EventEmitterDependent {\n  constructor(@inject('EventEmitterChild') private readonly _eventEmitterChild: EventEmitterChild) {\n  }\n\n  run() {\n    this._eventEmitterChild.greet();\n  }\n}\n</code></pre>\n\n<p><strong>run.ts  (this runs fine!)</strong></p>\n\n<pre><code>import { Container } from 'inversify';\n\nimport { EventEmitterChild, EventEmitterModule } from './event-emiiter-inversify';\nimport { EventEmitterDependent } from './event-emitter-inversify-dependent';\n\nconst referenceContainer = new Container();\n\nreferenceContainer.load(EventEmitterModule);\n\nconst eventEmitterChild = referenceContainer.get&lt;EventEmitterChild&gt;('EventEmitterChild');\neventEmitterChild.greet();\n\nconst eventEmitterDependent = referenceContainer.get&lt;EventEmitterDependent&gt;('EventEmitterDependent');\n\neventEmitterDependent.run();\n</code></pre>\n\n<p><strong>event-emitter-inversify.test.ts (this fails)</strong></p>\n\n<pre><code>import { Container } from 'inversify';\n\nimport { EventEmitterChild, EventEmitterModule } from '../event-emitter-inversify';\n\ndescribe('EventEmitter test', () =&gt; {\n  const container: Container = new Container();\n\n  beforeAll(async () =&gt; {\n    container.load(EventEmitterModule);\n  });\n\n  test('get EventEmitterChild from container', () =&gt; {\n    const eventEmitterChild = container.get&lt;EventEmitterChild&gt;('EventEmitterChild');\n\n    expect(eventEmitterChild).toBeDefined();\n  });\n});\n</code></pre>\n\n<p>I run the test with:</p>\n\n<pre><code>ts-node ./node_modules/.bin/jest src/event-emitter-inversify/__tests__/event-emitter-inversify.test.ts\n</code></pre>\n\n<p>And it fails with:</p>\n\n<pre><code>TypeError: Cannot read property 'constructor' of null\n</code></pre>\n\n<p><strong>stacktrace</strong></p>\n\n<pre><code>  at getClassPropsAsTargets (node_modules/inversify/lib/planning/reflection_utils.js:82:75)\n  at getClassPropsAsTargets (node_modules/inversify/lib/planning/reflection_utils.js:84:27)\n  at getClassPropsAsTargets (node_modules/inversify/lib/planning/reflection_utils.js:84:27)\n  at getTargets (node_modules/inversify/lib/planning/reflection_utils.js:28:27)\n  at Object.getDependencies (node_modules/inversify/lib/planning/reflection_utils.js:12:19)\n  at node_modules/inversify/lib/planning/planner.js:106:51\n      at Array.forEach (&lt;anonymous&gt;)\n  at _createSubRequests (node_modules/inversify/lib/planning/planner.js:94:20)\n  at Object.plan (node_modules/inversify/lib/planning/planner.js:136:9)\n  at node_modules/inversify/lib/container/container.js:318:37\n</code></pre>\n\n<p>Any ideas of what I'm missing or doing wrong?</p>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "edited": false, "score": 0, "creation_date": 1538560700, "post_id": 52624420, "comment_id": 92182171, "body": "have you instantiated your model before accessing it&#39;s properties into child components?"}, {"owner": {"reputation": 3877, "user_id": 2380952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/OAxjn.jpg?s=128&g=1", "display_name": "Matheno", "link": "https://stackoverflow.com/users/2380952/matheno"}, "reply_to_user": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "edited": false, "score": 0, "creation_date": 1538560720, "post_id": 52624420, "comment_id": 92182184, "body": "What do you mean exactly?"}, {"owner": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "edited": false, "score": 0, "creation_date": 1538560739, "post_id": 52624420, "comment_id": 92182197, "body": "do you receive an undefined error?"}, {"owner": {"reputation": 3877, "user_id": 2380952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/OAxjn.jpg?s=128&g=1", "display_name": "Matheno", "link": "https://stackoverflow.com/users/2380952/matheno"}, "reply_to_user": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "edited": false, "score": 0, "creation_date": 1538560793, "post_id": 52624420, "comment_id": 92182228, "body": "I updated my question"}], "answers": [{"comments": [{"owner": {"reputation": 3877, "user_id": 2380952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/OAxjn.jpg?s=128&g=1", "display_name": "Matheno", "link": "https://stackoverflow.com/users/2380952/matheno"}, "edited": false, "score": 0, "creation_date": 1538566322, "post_id": 52624515, "comment_id": 92185395, "body": "Should I do this, instead of public myModel: MyModel;?"}], "tags": [], "owner": {"reputation": 5159, "user_id": 2882688, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/GZLz2.png?s=128&g=1", "display_name": "firegloves", "link": "https://stackoverflow.com/users/2882688/firegloves"}, "is_accepted": false, "score": 0, "last_activity_date": 1538572978, "last_edit_date": 1538572978, "creation_date": 1538560860, "answer_id": 52624515, "question_id": 52624420, "link": "https://stackoverflow.com/questions/52624420/sharing-a-model-in-multiple-components/52624515#52624515", "title": "Sharing a model in multiple components", "body": "<p>I think your problem is that <code>myModel</code> is not instantiated, so when you try to access one of its property it fails because it's undefined.</p>\n\n<p>In typescript you can use this syntax</p>\n\n<pre><code>public myModel: MyModel;\n</code></pre>\n\n<p>to define the type of a variable, in this case <code>myModel</code> variable will be of type <code>MyModel</code>.\nSo this instruction is only a declaration, you are saying that a particular memory address is referenced by <code>myModel</code> name.</p>\n\n<p>Then to create a variable of type <code>MyModel</code> you need to instantiate it with <code>new MyModel()</code>.</p>\n\n<p>So the extended typescript syntax to do this is</p>\n\n<pre><code>public myModel: MyModel = new MyModel();\n</code></pre>\n\n<p>This is equal to:</p>\n\n<ul>\n<li><code>myModel</code> is a variable of type <code>MyModel</code></li>\n<li><code>myModel</code> is a public variable</li>\n<li>assign a new instance of <code>MyModel</code> to <code>myModel</code> variable</li>\n</ul>\n\n<p>Now, when you create an instance in the same line of a type declaration you can omit this last thing, letting the compiler to infere the object type. So writing</p>\n\n<pre><code>public myModel = new MyModel();\n</code></pre>\n\n<p>is a contracted form that will lead to </p>\n\n<pre><code>public myModel: MyModel = new MyModel();\n</code></pre>\n"}], "owner": {"reputation": 3877, "user_id": 2380952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/OAxjn.jpg?s=128&g=1", "display_name": "Matheno", "link": "https://stackoverflow.com/users/2380952/matheno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538572978, "creation_date": 1538560590, "last_edit_date": 1538560939, "question_id": 52624420, "link": "https://stackoverflow.com/questions/52624420/sharing-a-model-in-multiple-components", "title": "Sharing a model in multiple components", "body": "<p>I'm trying to share a model with multiple components.</p>\n\n<p>In my component:</p>\n\n<pre><code>public myModel: MyModel;\n</code></pre>\n\n<p>This is my form view, with multiple components in it:</p>\n\n<pre><code>&lt;div class=\"panel-body\"&gt;\n    &lt;div id=\"accordion\"&gt;\n      &lt;app-details-1 [myModel]=\"myModel\"&gt;&lt;/app-details-1&gt;\n      &lt;app-details-2 [myModel]=\"myModel\"&gt;&lt;/app-details-2&gt;\n      &lt;app-details-3 [myModel]=\"myModel\"&gt;&lt;/app-details-3&gt;\n</code></pre>\n\n<p>In my components I do something like this:</p>\n\n<pre><code>@Input() myModel: MyModel;\n</code></pre>\n\n<p>In my forms in the components I would like to bind my inputs to myModel:</p>\n\n<pre><code>&lt;label class=\"radio-inline\"&gt;\n   &lt;input type=\"radio\" name=\"someRadioButton\" [(ngModel)]=\"myModel.someValue\"&gt; Yes\n&lt;/label&gt;\n</code></pre>\n\n<p>However, when loading the page, I get parsing errors cause myModel is empty.\nI also have some dependencies in my component based on the model:</p>\n\n<pre><code>this.itemSubscription = this.someService.get(this.myModel.id).subscribe(item =&gt; {\n      this.item = item\n    });\n</code></pre>\n\n<p>This also fails, because myModel is empty...</p>\n\n<p>These are the errors:</p>\n\n<pre><code>ERROR TypeError: Cannot read property 'id' of undefined\n</code></pre>\n\n<p>And the call to my API</p>\n\n<pre><code>GET https://myApiUrl/api/item/undefined &lt;--- this is the id from myModel\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["angular", "image", "typescript", "cropper"], "comments": [{"owner": {"reputation": 1386, "user_id": 1794058, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/624fc33c8075a5f5315323eed98432e2?s=128&d=identicon&r=PG", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/1794058/ritesh"}, "edited": false, "score": 0, "creation_date": 1538564979, "post_id": 52624169, "comment_id": 92184628, "body": "What all properties do you see when you console log image?"}, {"owner": {"reputation": 357, "user_id": 5793661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FetKK.jpg?s=128&g=1", "display_name": "Dejazmach", "link": "https://stackoverflow.com/users/5793661/dejazmach"}, "reply_to_user": {"reputation": 1386, "user_id": 1794058, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/624fc33c8075a5f5315323eed98432e2?s=128&d=identicon&r=PG", "display_name": "Ritesh", "link": "https://stackoverflow.com/users/1794058/ritesh"}, "edited": false, "score": 0, "creation_date": 1538659566, "post_id": 52624169, "comment_id": 92227607, "body": "@Ritesh File(390053) {name: &quot;blob&quot;, lastModified: 1538659450015, lastModifiedDate: Thu Oct 04 2018 16:24:10 GMT+0300 (East Africa Time), webkitRelativePath: &quot;&quot;, size: 390053, \u2026}"}, {"owner": {"reputation": 719, "user_id": 2709298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce0c9b4e011ade979eb87a47ded8263?s=128&d=identicon&r=PG&f=1", "display_name": "Kishita Variya", "link": "https://stackoverflow.com/users/2709298/kishita-variya"}, "edited": false, "score": 0, "creation_date": 1591556160, "post_id": 52624169, "comment_id": 110094992, "body": "I am facing the same issue"}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 5793661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FetKK.jpg?s=128&g=1", "display_name": "Dejazmach", "link": "https://stackoverflow.com/users/5793661/dejazmach"}, "edited": false, "score": 0, "creation_date": 1538562856, "post_id": 52624331, "comment_id": 92183435, "body": "The blobImage then has only type and size as properties. Can you elaborate please?"}], "tags": [], "owner": {"reputation": 5704, "user_id": 2134604, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/4a199e76bd801ef0f40cdb752ffc145c?s=128&d=identicon&r=PG", "display_name": "Pandiyan Cool", "link": "https://stackoverflow.com/users/2134604/pandiyan-cool"}, "is_accepted": false, "score": 1, "last_activity_date": 1538560349, "creation_date": 1538560349, "answer_id": 52624331, "question_id": 52624169, "link": "https://stackoverflow.com/questions/52624169/ngx-image-cropper-output-property-file-having-undefined-name/52624331#52624331", "title": "ngx-image-cropper Output property file having undefined name", "body": "<p>cast your file into blob, and you can name your blob by yourself</p>\n\n<pre><code>const blobImage = file as Blob;\n</code></pre>\n\n<p>Reference : <a href=\"https://github.com/Mawi137/ngx-image-cropper/issues/91#issuecomment-422252629\" rel=\"nofollow noreferrer\">https://github.com/Mawi137/ngx-image-cropper/issues/91#issuecomment-422252629</a></p>\n"}, {"tags": [], "owner": {"reputation": 3741, "user_id": 5063031, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a10284924bd77f292510557382276fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeb50", "link": "https://stackoverflow.com/users/5063031/jeb50"}, "is_accepted": false, "score": 0, "last_activity_date": 1617978416, "creation_date": 1617978416, "answer_id": 67022911, "question_id": 52624169, "link": "https://stackoverflow.com/questions/52624169/ngx-image-cropper-output-property-file-having-undefined-name/67022911#67022911", "title": "ngx-image-cropper Output property file having undefined name", "body": "<p>This works for me:</p>\n<pre><code>// grab the cropped area to file for upload\nvar b64File = this.dataURLtoFile(this.croppedImage, 'hello.jpg');  // you can name it anything.\n\ndataURLtoFile(dataurl, filename): File {\n        var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\n            bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\n        while(n--){\n            u8arr[n] = bstr.charCodeAt(n);\n        }\n        return new File([u8arr], filename, {type:mime});\n    }\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 5793661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FetKK.jpg?s=128&g=1", "display_name": "Dejazmach", "link": "https://stackoverflow.com/users/5793661/dejazmach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2146, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1617978416, "creation_date": 1538559792, "question_id": 52624169, "link": "https://stackoverflow.com/questions/52624169/ngx-image-cropper-output-property-file-having-undefined-name", "title": "ngx-image-cropper Output property file having undefined name", "body": "<p>I am using <a href=\"https://www.npmjs.com/package/ngx-image-cropper\" rel=\"nofollow noreferrer\">ngx-image-cropper</a>\nto crop an image in my angular app. I use the Output property returning 'File' which is (imageCroppedFile) to be able to grab the cropped image. I need the cropped image to have a file name, so that I can iterate through the files on the back end using the name attribute, while it is by default undefined. How can I give it a name?\nI tried the following: On the FormData,</p>\n\n<pre><code>var formData:any = new FormData();\nconsole.log('The number of files is '+files.length);//Logs the number of files is 1\n\nfor(var i=0; i&lt;files.length;i++) {\n  formData.append(\"uploads[]\", files[i].name, 'image'+i);\n  console.log('File name '+ i + ' ' +files[i].name);//Logs File name 0 undefined\n}\n</code></pre>\n\n<p>and on the method triggered by the cropping</p>\n\n<pre><code>imageCroppedFile(image: File) {\n  this.filesToUpload = [];\n  console.log('imageCroppedFile method '+image.name+ ' size is '+image.size);// Logs imageCroppedFile method undefined size is 380284\n  this.filesToUpload[0]=image;\n  console.log('The filesToUpload is '+this.filesToUpload[0].name);// Logs The filesToUpload is undefined\n}\n</code></pre>\n\n<p>The uploader works without the cropper.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 15601, "user_id": 5173426, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9tQ1B.png?s=128&g=1", "display_name": "DirtyBit", "link": "https://stackoverflow.com/users/5173426/dirtybit"}, "edited": false, "score": 1, "creation_date": 1538559744, "post_id": 52624131, "comment_id": 92181617, "body": "What have you tried yet?"}, {"owner": {"reputation": 150, "user_id": 10175317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115b8261e373fb6ec8b7b31dfecf6cb8?s=128&d=identicon&r=PG&f=1", "display_name": "Ramya", "link": "https://stackoverflow.com/users/10175317/ramya"}, "edited": false, "score": 0, "creation_date": 1538559751, "post_id": 52624131, "comment_id": 92181622, "body": "There&#39;s always only 2 names?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1538559854, "post_id": 52624131, "comment_id": 92181681, "body": "let myarray:any[]=[];let obj1:any={};obj1[name]=cars;myarray.push(obj1)"}, {"owner": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "edited": false, "score": 0, "creation_date": 1538559883, "post_id": 52624131, "comment_id": 92181692, "body": "No name1 and name2 are just an example to show it would be multiple. They are dynamic values so it&#39;s uncertain how many names you would get."}, {"owner": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "reply_to_user": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1538559916, "post_id": 52624131, "comment_id": 92181714, "body": "@Eliseo please answer it don&#39;t comment."}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1538559957, "post_id": 52624131, "comment_id": 92181745, "body": "Shouldn&#39;t your dynamic keys be contained in another array?"}], "answers": [{"tags": [], "owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "is_accepted": false, "score": 1, "last_activity_date": 1538560243, "last_edit_date": 1538560243, "creation_date": 1538559864, "answer_id": 52624191, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values/52624191#52624191", "title": "Create Array by Dynamic Keys and Values", "body": "<p>How about this (assuming it is only two names):</p>\n\n<pre><code>let obj1 = {};\nobj1[name] = cars;\n\nlet obj2 = {};\nobj2[name2] = cars;\n\nvar array = [obj1, obj2];\n</code></pre>\n\n<p>Do note: both objects reference the same array. Changing the array will therefore 'update' the array in two places (since it is by reference).</p>\n\n<p>If however you want a dynamic set of names your code could look like this:</p>\n\n<pre><code>var names = [\"Vishesh\", \"Vishesh2\", \"Vishesh3\"];\n\nvar array = [];\nfor(var i = 0; i &lt; names.length; i++) {\n    var name = names[i];\n\n    var obj = {};\n    obj[name] = cars;\n\n    array.push(obj);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1538560271, "post_id": 52624205, "comment_id": 92181935, "body": "Cool, didn&#39;t know you could do that!"}, {"owner": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "reply_to_user": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "edited": false, "score": 0, "creation_date": 1538561477, "post_id": 52624205, "comment_id": 92182645, "body": "Without dynamic code it was perfect as I wanted but, the Dynamic code is not proper because it is not an Array. @Mathyn Solution for dynamic worked for me as he is using push, So I get in Array."}], "tags": [], "owner": {"reputation": 10621, "user_id": 2019221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU7WF.jpg?s=128&g=1", "display_name": "Callam", "link": "https://stackoverflow.com/users/2019221/callam"}, "is_accepted": false, "score": 2, "last_activity_date": 1538560293, "last_edit_date": 1538560293, "creation_date": 1538559905, "answer_id": 52624205, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values/52624205#52624205", "title": "Create Array by Dynamic Keys and Values", "body": "<p>You can interpolate the names directly into the dictionary construction as a key.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let name = 'Vishesh';\r\nlet name2 = 'Vishesh2';\r\n \r\nconsole.log([\r\n  {\r\n    [name]: [\r\n      { carName: \"Mercedes\" },\r\n      { carName: \"Volvo\" },\r\n      { carName:\"BMW\" }\r\n    ]\r\n  },\r\n   {\r\n    [name2]: [\r\n      { carName: \"Mercedes\" },\r\n      { carName: \"Volvo\" },\r\n      { carName:\"BMW\" }\r\n    ]\r\n  }\r\n]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But you can do this a bit more dynamically</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let name = 'Vishesh';\r\nlet name2 = 'Vishesh2';\r\nlet cars = [\r\n  { carName: \"Mercedes\" },\r\n  { carName: \"Volvo\" },\r\n  { carName:\"BMW\" }\r\n];\r\n\r\nfunction keyByNames(names, cars) {\r\n  let named = {}\r\n  names.forEach(name =&gt; {\r\n    named[name] = JSON.parse(JSON.stringify(cars))\r\n  })\r\n  return named\r\n}\r\n\r\nconsole.log(keyByNames([ name, name2 ], cars));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2662, "user_id": 10443105, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9CdeAHKgoxY/AAAAAAAAAAI/AAAAAAAAAHo/UQGyNrqE0ao/photo.jpg?sz=128", "display_name": "Tarek Essam", "link": "https://stackoverflow.com/users/10443105/tarek-essam"}, "is_accepted": false, "score": 0, "last_activity_date": 1538560297, "creation_date": 1538560297, "answer_id": 52624312, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values/52624312#52624312", "title": "Create Array by Dynamic Keys and Values", "body": "<p>if there is always two names: </p>\n\n<pre><code>const Array = [\n  { [name]: cars },\n  { [name2]: cars }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 243, "user_id": 7011562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be08d7abb5814c473e1e9fca04e42ad4?s=128&d=identicon&r=PG&f=1", "display_name": "N.chauhan", "link": "https://stackoverflow.com/users/7011562/n-chauhan"}, "is_accepted": true, "score": 4, "last_activity_date": 1538561540, "last_edit_date": 1538561540, "creation_date": 1538560499, "answer_id": 52624390, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values/52624390#52624390", "title": "Create Array by Dynamic Keys and Values", "body": "<pre><code>let name = 'Vishesh';\nlet name2 = 'Vishesh2';\nlet cars = [{carName: \"Mercedes\"},{carName: \"Volvo\"},{carName:\"BMW\"}];\nlet array = []\n\narray.push({[name]:cars})\narray.push({[name2]:cars})\nconsole.log(array);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "edited": false, "score": 0, "creation_date": 1538569771, "post_id": 52626846, "comment_id": 92187394, "body": "Thanks for the help but I wanted it in an Array. Upvoted for your effort."}, {"owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "reply_to_user": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "edited": false, "score": 0, "creation_date": 1538570830, "post_id": 52626846, "comment_id": 92188143, "body": "Oh, i see. Sorry for that. I will stay with reduce and instead of pushing it to map you can push it to array like this: <a href=\"https://jsfiddle.net/krewilone/5hsaq7eu/\" rel=\"nofollow noreferrer\">jsfiddle.net/krewilone/5hsaq7eu</a>"}], "tags": [], "owner": {"reputation": 357, "user_id": 7105503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8e87d42b5a845f105ab30d97626b454?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Kratochvil", "link": "https://stackoverflow.com/users/7105503/pavel-kratochvil"}, "is_accepted": false, "score": 1, "last_activity_date": 1538568940, "creation_date": 1538568940, "answer_id": 52626846, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values/52626846#52626846", "title": "Create Array by Dynamic Keys and Values", "body": "<p>using reduce function on your array of cars can be solution as well.: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let names = [\"Wishes1\", \"Wishes2\", \"Wishes3\"]\r\n\r\nlet cars = [{carName: \"Mercedes\"},{carName: \"Volvo\"},{carName:\"BMW\"}];\r\n\r\nconst withNames = (names) =&gt; (currentMapState, currentItem, currentIndex) =&gt; {\r\n\tcurrentMapState[names[currentIndex]] = currentItem;\r\n  return currentMapState;\r\n}\r\n\r\nconsole.log(cars.reduce(withNames(names), {}));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And bonus is that withNames function is easily testable. Have a nice day.</p>\n"}], "owner": {"reputation": 779, "user_id": 9298816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/383daa3bbb979d6676021976d62ad448?s=128&d=identicon&r=PG&f=1", "display_name": "Vishesh", "link": "https://stackoverflow.com/users/9298816/vishesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 52624390, "answer_count": 5, "score": 1, "last_activity_date": 1538568940, "creation_date": 1538559647, "question_id": 52624131, "link": "https://stackoverflow.com/questions/52624131/create-array-by-dynamic-keys-and-values", "title": "Create Array by Dynamic Keys and Values", "body": "<p>I am getting a value in string in a variable, i.e</p>\n\n<pre><code>let name = 'Vishesh';\nlet name2 = 'Vishesh2';\n</code></pre>\n\n<p>and an Array i.e</p>\n\n<pre><code>let cars = [{carName: \"Mercedes\"},{carName: \"Volvo\"},{carName:\"BMW\"}];\n</code></pre>\n\n<p>Now I want to create an Array where my Key is the name and in value, there should be cars array, i.e</p>\n\n<pre><code>Array=[{Vishesh: [{carName: \"Mercedes\"},{carName: \"Volvo\"},{carName:\"BMW\"}]},{Vishesh2: [{carName: \"Mercedes\"},{carName: \"Volvo\"},{carName:\"BMW\"}]}];\n</code></pre>\n"}, {"tags": ["typescript", "typing"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1538560680, "creation_date": 1538560680, "answer_id": 52624446, "question_id": 52624083, "link": "https://stackoverflow.com/questions/52624083/typescript-spread-in-function-type-definition/52624446#52624446", "title": "Typescript spread in function type definition", "body": "<p>You are very close, you can do this in Typescript 3.0 using <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">Tuples in rest parameters and spread expressions</a>.</p>\n\n<pre><code>function callMyFunction&lt;T extends unknown[]&gt;(toCall: (...a: T) =&gt; any, ...args: T) {\n    toCall(...args);\n}\n\nfunction thisDoesSomething(arg1: string, arg2: number) {\n    // do something\n}\ncallMyFunction(thisDoesSomething, \"a string\", 7);\ncallMyFunction(thisDoesSomething, \"a string\", \"7\"); // error\n</code></pre>\n\n<p>There were just two issues with your code, firstly <code>T</code> has to extend an array type, secondly the argument to <code>toCall</code> must have a name, the way you were declaring it <code>toCall</code> had a parameter named <code>T</code> implicitly of type <code>any</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "is_accepted": false, "score": 0, "last_activity_date": 1538560860, "creation_date": 1538560860, "answer_id": 52624516, "question_id": 52624083, "link": "https://stackoverflow.com/questions/52624083/typescript-spread-in-function-type-definition/52624516#52624516", "title": "Typescript spread in function type definition", "body": "<pre><code>function callMyFunction&lt;T extends any[]&gt;(toCall: (...T) =&gt; any, ...args: T) {\n    return toCall(...args);\n}\n</code></pre>\n\n<p>Or even simpler without generic types</p>\n\n<pre><code>function callMyFunction(toCall: Function, ...args: any[]) {\n    return toCall(...args);\n}\n</code></pre>\n\n<p>There are also the function prototype methods <code>call</code> and <code>apply</code> that you can use, like this:</p>\n\n<pre><code>//call:\nthisDoesSomething.call(this, \"a string\", 7);\n//apply:\nthisDoesSomething.apply(this, [\"a string\", 7]);\n</code></pre>\n"}], "owner": {"reputation": 743, "user_id": 3999297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UrT5t.png?s=128&g=1", "display_name": "Lukor", "link": "https://stackoverflow.com/users/3999297/lukor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 52624446, "answer_count": 2, "score": 1, "last_activity_date": 1538560860, "creation_date": 1538559507, "question_id": 52624083, "link": "https://stackoverflow.com/questions/52624083/typescript-spread-in-function-type-definition", "title": "Typescript spread in function type definition", "body": "<p>I want to create a Typescript function which takes any other function and a list of arguments and calls the given function with the given arguments. For example:</p>\n\n<pre><code>function thisDoesSomething(arg1: string, arg2: int) {\n    // do something\n}\ncallMyFunction(thisDoesSomething, \"a string\", 7);\n</code></pre>\n\n<p>For the definition of the function, I tried something along the lines of:</p>\n\n<pre><code>function callMyFunction&lt;T&gt;(toCall: (...T) =&gt; any, ...args: T) {\n    toCall(...args);\n}\n</code></pre>\n\n<p>However, this of course does not work. Is there any way to achieve my goal in typescript?</p>\n"}, {"tags": ["html", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 10191958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GYeWj1aey24/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p9PdAjfo6cE_uhheYmXyRB2w9Sqg/mo/photo.jpg?sz=128", "display_name": "Ole Bark", "link": "https://stackoverflow.com/users/10191958/ole-bark"}, "edited": false, "score": 2, "creation_date": 1538566510, "post_id": 52625120, "comment_id": 92185503, "body": "Thanks for taking the time to answer! It works perfectly!"}], "tags": [], "owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "is_accepted": true, "score": 2, "last_activity_date": 1538563387, "last_edit_date": 1538563387, "creation_date": 1538562803, "answer_id": 52625120, "question_id": 52623968, "link": "https://stackoverflow.com/questions/52623968/angular-6-loadingbar-with-dialogbox/52625120#52625120", "title": "Angular 6 Loadingbar With DialogBox", "body": "<p>Please consider handling operations that are occurring right after the dialog is closed in the class which the dialog opened from.</p>\n\n<p>In other words, consider handling the progress bar functionality in the component that has opened the dialog. The way you're doing it doesn't work as you don't have an instance of that class and thus your code won't actually do what you think it will do.</p>\n\n<p>Anyways, you can pass an optional result either with the <code>matDialogClose</code> attribute in your dialog's template which is set to a string or via the dialog reference's <code>close</code> method with the parameter set as the result. You can then handle the dialog's result via the <code>afterClosed</code> observable from the dialog's reference.</p>\n\n<p>Here's an example:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h2 matDialogTitle&gt;Discard changes?&lt;/h2&gt;\n&lt;mat-dialog-content&gt;\n  &lt;p&gt;Unsaved changes will be lost!&lt;/p&gt;\n&lt;/mat-dialog-content&gt;\n&lt;mat-dialog-actions align=\"end\"&gt;\n  &lt;button mat-button color=\"primary\" matDialogClose=\"cancel\"&gt;Cancel&lt;/button&gt;\n  &lt;button mat-button color=\"primary\" matDialogClose=\"discard\"&gt;Discard changes&lt;/button&gt;\n&lt;/mat-dialog-actions&gt;\n</code></pre>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class MyComponent {\n  constructor(private dialog: MatDialog) { }\n  onDelete() {\n    const dialogRef = this.dialog.open(DiscardChangesDialogComponent);\n    dialogRef.afterClosed().subscribe(result =&gt; {\n      // Note: If the user clicks outside the dialog, the result\n      // will be returned as `undefined`\n      if (result !== undefined) {\n        // Note: If you set the attribute of `matDialogClose` to something\n        // else, please modify the following if statement below to suit\n        // your needs.\n        if (result === 'cancel') {\n          // TODO: Implement functionality here.\n        } else if (result === 'discard') {\n          // TODO: Implement functionality\n        }\n      }\n    })\n  }\n</code></pre>\n\n<hr>\n\n<p>Alternative method (using methods instead of the <code>matDialogClose</code> attribute):</p>\n\n<p>IMO, I suggest that you use the first method as this requires a few more lines for handling the buttons in the dialog template.</p>\n\n<p>Using the <code>matDialogClose</code> property reduces the number of lines as you no longer have to write click handlers for the buttons in your dialog's component.</p>\n\n<p>Anyways, here's the code:</p>\n\n<p>Dialog template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h2 matDialogTitle&gt;Delete all conversations?&lt;/h2&gt;\n&lt;mat-dialog-content&gt;\n  &lt;p&gt;This cannot be undone!&lt;/p&gt;\n&lt;/mat-dialog-content&gt;\n&lt;mat-dialog-actions align=\"end\"&gt;\n  &lt;button mat-button color=\"primary\" (click)=\"onCancelClick()\"&gt;Cancel&lt;/button&gt;\n  &lt;button mat-button color=\"warn\" (click)=\"onConfirmClick()\"&gt;Confirm&lt;/button&gt;\n</code></pre>\n\n<p>Dialog's component:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>export class MyDialogComponent {\n  // ...\n  constructor(private dialogRef: MatDialogRef&lt;MyDialogComponent&gt;) { }\n\n  onCancelClick() {\n    this.dialogRef.close('cancel');\n  }\n  onConfirmClick() {\n    this.dialogRef.close('confirm');\n  }\n}\n</code></pre>\n\n<p>Component (that opens the dialog):</p>\n\n<blockquote>\n  <p>Same as the above example, except replace <code>discard</code> with <code>confirm</code> in the <code>else if</code> condition</p>\n</blockquote>\n\n<hr>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 109, "user_id": 10191958, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GYeWj1aey24/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p9PdAjfo6cE_uhheYmXyRB2w9Sqg/mo/photo.jpg?sz=128", "display_name": "Ole Bark", "link": "https://stackoverflow.com/users/10191958/ole-bark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 0, "accepted_answer_id": 52625120, "answer_count": 1, "score": 0, "last_activity_date": 1538563387, "creation_date": 1538559147, "last_edit_date": 1538561886, "question_id": 52623968, "link": "https://stackoverflow.com/questions/52623968/angular-6-loadingbar-with-dialogbox", "title": "Angular 6 Loadingbar With DialogBox", "body": "<p>I've been using angular with material, and I want to have the 'mat-progress-bar' show when I press 'Add' on my dialogbox\nI've made a small app on StackBlitz which might make it easier to understand.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-eqxkbm\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-eqxkbm</a></p>\n\n<p><strong>dialog-overview-example.html</strong></p>\n\n<pre><code> &lt;div *ngIf=\"LoadingCondition; then LoadingBlock\"&gt;&lt;/div&gt;\n  &lt;ng-template #LoadingBlock&gt;&lt;mat-progress-bar mode=\"indeterminate\"&gt;&lt;/mat-progress-bar&gt;&lt;/ng-template&gt;\n  &lt;br&gt;\n\n  My list list here\n\n  &lt;br&gt;\n  &lt;br&gt;\n\n\n    &lt;button mat-raised-button (click)=\"openDialog()\"&gt;Add&lt;/button&gt;\n</code></pre>\n\n<p><strong>dialog-overview-example.ts</strong></p>\n\n<pre><code>import {Component, Inject} from '@angular/core';\nimport {MatDialog, MatDialogRef, MAT_DIALOG_DATA} from '@angular/material';\n\nexport interface DialogData {\n  animal: string;\n  name: string;\n}\n\n@Component({\n  selector: 'dialog-overview-example',\n  templateUrl: 'dialog-overview-example.html',\n  styleUrls: ['dialog-overview-example.css'],\n})\nexport class DialogOverviewExample {\n\npublic LoadingCondition = false;\n\n  animal: string;\n  name: string;\n\n  constructor(public dialog: MatDialog) {}\n\n  openDialog(): void {\n    const dialogRef = this.dialog.open(DialogOverviewExampleDialog, {\n      width: '250px',\n      data: {name: this.name, animal: this.animal}\n    });\n\n    dialogRef.afterClosed().subscribe(result =&gt; {\n      console.log('The dialog was closed');\n      this.animal = result;\n    });\n  }\n\n}\n\n@Component({\n  selector: 'dialog-overview-example-dialog',\n  templateUrl: 'dialog-overview-example-dialog.html',\n})\nexport class DialogOverviewExampleDialog {\n\n  constructor(\n    public dialogRef: MatDialogRef&lt;DialogOverviewExampleDialog&gt;,\n    @Inject(MAT_DIALOG_DATA) public data: DialogData, private DialogOverviewExample : DialogOverviewExample) {}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  onAddClick() :void{\n    this.DialogOverviewExample.LoadingCondition = true;\n    //makes a call to my service\n    //I want to start loading here\n    //but does not work\n    this.dialogRef.close();\n  }\n\n}\n</code></pre>\n\n<p><strong>dialog-overview-example-dialog.html</strong></p>\n\n<pre><code>&lt;h1 mat-dialog-title&gt;Stuff to add&lt;/h1&gt;\n&lt;div mat-dialog-content&gt;\n  &lt;p&gt;add what?&lt;/p&gt;\n  &lt;mat-form-field&gt;\n    &lt;input matInput [(ngModel)]=\"data.animal\"&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n&lt;div mat-dialog-actions&gt;\n  &lt;button mat-button (click)=\"onNoClick()\"&gt;No Click&lt;/button&gt;\n  &lt;button mat-button (click)=\"onAddClick()\" cdkFocusInitial&gt;add&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TLDR; When I press 'onAddClick()' the the loading bar does not show</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "protractor"], "comments": [{"owner": {"reputation": 177, "user_id": 1324331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c315b2ab1316e8bc6501f4c2e7c13dba?s=128&d=identicon&r=PG&f=1", "display_name": "swit", "link": "https://stackoverflow.com/users/1324331/swit"}, "edited": false, "score": 0, "creation_date": 1538559806, "post_id": 52623933, "comment_id": 92181659, "body": "Possible duplicate: <a href=\"https://stackoverflow.com/questions/44263497/how-to-import-ts-file-on-js-file-firebase-functions\" title=\"how to import ts file on js file firebase functions\">stackoverflow.com/questions/44263497/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "reply_to_user": {"reputation": 177, "user_id": 1324331, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c315b2ab1316e8bc6501f4c2e7c13dba?s=128&d=identicon&r=PG&f=1", "display_name": "swit", "link": "https://stackoverflow.com/users/1324331/swit"}, "edited": false, "score": 0, "creation_date": 1538560031, "post_id": 52623933, "comment_id": 92181790, "body": "@swit I looked upon the link however, my .ts file is a test case file which is written in &#39;describe&#39; and &#39;it&#39; format. and under that, i have declared a variable which i need to use in my config file (.js). I&#39;m not using classes in .ts file"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538560989, "post_id": 52624424, "comment_id": 92182342, "body": "Thank you for the information @enguerran. I&#39;m using visual studio code tool. Do i need to add any loader which converts .ts to .js at runtime?"}, {"owner": {"reputation": 2493, "user_id": 178575, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e43fe3376aaf887aad755de94942fa0?s=128&d=identicon&r=PG", "display_name": "enguerran", "link": "https://stackoverflow.com/users/178575/enguerran"}, "reply_to_user": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538561608, "post_id": 52624424, "comment_id": 92182720, "body": "I don&#39;t know what tools from visual studio code you use. But here is a working example: <a href=\"https://codesandbox.io/s/k0qyrq7yr\" rel=\"nofollow noreferrer\">codesandbox.io/s/k0qyrq7yr</a>. CodeSandBox uses <code>parcel</code> as the build tool that is responsible to import modules. See the exported github project to see the configuration: <a href=\"https://github.com/enguerran/tsmoduleinjsmodule/blob/master/package.json#L7\" rel=\"nofollow noreferrer\">github.com/enguerran/tsmoduleinjsmodule/blob/master/&hellip;</a>"}, {"owner": {"reputation": 2493, "user_id": 178575, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e43fe3376aaf887aad755de94942fa0?s=128&d=identicon&r=PG", "display_name": "enguerran", "link": "https://stackoverflow.com/users/178575/enguerran"}, "reply_to_user": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538561724, "post_id": 52624424, "comment_id": 92182801, "body": "Take a look on the TypeScript documentation <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/tsconfig-json.html</a> and be sure to understand this tutorial: <a href=\"https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/typescript-in-5-minutes.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538562341, "post_id": 52624424, "comment_id": 92183153, "body": "the example you gave, consists of exporting a function and functions are not declared in describe block in node. I just wanted to declare a variable in .ts for example    var comment = &#39;hello&#39; and use this &#39;comment&#39; in .js file"}, {"owner": {"reputation": 2493, "user_id": 178575, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e43fe3376aaf887aad755de94942fa0?s=128&d=identicon&r=PG", "display_name": "enguerran", "link": "https://stackoverflow.com/users/178575/enguerran"}, "reply_to_user": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538572078, "post_id": 52624424, "comment_id": 92188963, "body": "Take the time to understand your needs and the basis of your activity. Functions and variables are exported the same way (of course hence functions are expression that can be stored in variables). To give you the chance to try it by yourself, I illustrated my comment in the codesandbox: <a href=\"https://codesandbox.io/s/k0qyrq7yr\" rel=\"nofollow noreferrer\">codesandbox.io/s/k0qyrq7yr</a>"}, {"owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538575603, "post_id": 52624424, "comment_id": 92191260, "body": "Thanks for the example, i tried it but I&#39;m getting error:     [19:34:13]      E/configParser - Error code: 105     [19:34:13] E/configParser - Error message: failed loading configuration file protractor.conf.js [19:34:13] E/configParser - C:\\Shruti\\Git\\Manual_Distrib_F1\\rnqliabilitymanagement\\protr&zwnj;&#8203;actor.conf.js:8 import { comment } from &quot;./e2e/app.Login&quot;; ^^^^^^  SyntaxError: Unexpected token import     at createScript (vm.js:80:10)     at Object.runInThisContext (vm.js:139:10)"}, {"owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "edited": false, "score": 0, "creation_date": 1538728795, "post_id": 52624424, "comment_id": 92253282, "body": "I tried using import { comment } from require( &#39;./e2e/app.Login&#39;); but nothing helped."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1538837114, "post_id": 52624424, "comment_id": 92288879, "body": "I&#39;ll take another look at this if you update the question with complete information about what you&#39;re trying now."}], "tags": [], "owner": {"reputation": 2493, "user_id": 178575, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e43fe3376aaf887aad755de94942fa0?s=128&d=identicon&r=PG", "display_name": "enguerran", "link": "https://stackoverflow.com/users/178575/enguerran"}, "is_accepted": false, "score": 1, "last_activity_date": 1538560616, "creation_date": 1538560616, "answer_id": 52624424, "question_id": 52623933, "link": "https://stackoverflow.com/questions/52623933/how-to-import-a-variable-from-ts-file-to-js-file/52624424#52624424", "title": "How to import a variable from .ts file to .js file", "body": "<p>You have to understand what is <code>.ts</code> and how JavaScript modules work:</p>\n\n<p>The <code>.ts</code> file is a file writtent in TypeScript and that need a TypeScript runtime to be evaluated (and used).</p>\n\n<p>JavaScript modules is a bit complex as there is a lot of things to understand. First of all, not all runtime (JavaScript evaluator) can compute modules import/export. Secondary, if you set up everything to import modules in JavaScript, you need to be ware that it can miss something to import TypeScript files.</p>\n\n<p>You did not give so much information about your tools. But if you use Webpack, it is mandatory to add a \"TypeScript loader\" in order to import TypeScript modules into JavaScript modules.</p>\n\n<p>Let me know if you need more details.</p>\n"}], "owner": {"reputation": 55, "user_id": 9573826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a258a8f7507706d66d2365c4e2e942a3?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/9573826/shruti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6013, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538560616, "creation_date": 1538559021, "last_edit_date": 1538560299, "question_id": 52623933, "link": "https://stackoverflow.com/questions/52623933/how-to-import-a-variable-from-ts-file-to-js-file", "title": "How to import a variable from .ts file to .js file", "body": "<p>For my project, i require to import a variable declared in .ts file to use in .js file. I cannot change js file to ts file as there are other functions written in it which will get impacted.</p>\n\n<p>I tried a lot using:</p>\n\n<pre><code>import AvailableBalances = require('./app.Processing');\n\nimport { AvailableBalances } from './app.Processing';\n</code></pre>\n\n<p>but nothing helped. Below is my code in .ts file. 'Comment' is the variable for example, i need to import and use in .js file.</p>\n\n<pre><code>describe('Login', function () {\nit('Should able to login into the Webpage', function () {\n\nbrowser.driver.manage().window().maximize();\nbrowser.get('https://inside.pilot.theprincipal.net/rnqLiabilityManagement/');\nvar Comment = 'Login Successful';\n</code></pre>\n"}, {"tags": ["function", "typescript", "types"], "answers": [{"comments": [{"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538558825, "post_id": 52623869, "comment_id": 92181052, "body": "Why is this so?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538558911, "post_id": 52623869, "comment_id": 92181105, "body": "My guess is the the <code>|</code> has higher precedence to =&gt;. so the compiler will see the type as ` (void | (doc: any)) =&gt; any)`"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1538558803, "creation_date": 1538558803, "answer_id": 52623869, "question_id": 52623834, "link": "https://stackoverflow.com/questions/52623834/cannot-find-param-on-defining-function-type-returning-a-function-in-typescript/52623869#52623869", "title": "&quot;Cannot find param&quot; on defining function type returning a function in TypeScript", "body": "<p>You need an extra set of <code>()</code> around the function signature:</p>\n\n<pre><code>type SyncHookDoc = (updateStore, doc: any, store) =&gt; (void | ((doc: any) =&gt; any))\n</code></pre>\n"}], "owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19, "favorite_count": 0, "accepted_answer_id": 52623869, "answer_count": 1, "score": 0, "last_activity_date": 1538558803, "creation_date": 1538558714, "question_id": 52623834, "link": "https://stackoverflow.com/questions/52623834/cannot-find-param-on-defining-function-type-returning-a-function-in-typescript", "title": "&quot;Cannot find param&quot; on defining function type returning a function in TypeScript", "body": "<p>I have trouble with defining a function type that returns another function in TypeScript.</p>\n\n<p>This works:</p>\n\n<pre><code>type HandleDoc = (doc: any) =&gt; any\ntype SyncHookDoc = (updateStore, doc: any, store) =&gt; (void | HandleDoc)\n</code></pre>\n\n<p>But if I try in 1 line it does not work:</p>\n\n<pre><code>type SyncHookDoc = (updateStore, doc: any, store) =&gt; (void | (doc: any) =&gt; any)\n</code></pre>\n\n<blockquote>\n  <p>Errors:</p>\n  \n  <p>Cannot find name 'doc'.</p>\n  \n  <p>'any' only refers to a type, but is being used as a value here.</p>\n</blockquote>\n"}, {"tags": ["asp.net", "angular", "typescript", "file-upload"], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 9812400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHqVY.jpg?s=128&g=1", "display_name": "PuntanetDeveloper", "link": "https://stackoverflow.com/users/9812400/puntanetdeveloper"}, "edited": false, "score": 0, "creation_date": 1538559232, "post_id": 52623858, "comment_id": 92181301, "body": "I need to convert a file into a byte array my backand accept only byte array"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 325, "user_id": 9812400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHqVY.jpg?s=128&g=1", "display_name": "PuntanetDeveloper", "link": "https://stackoverflow.com/users/9812400/puntanetdeveloper"}, "edited": false, "score": 0, "creation_date": 1538559287, "post_id": 52623858, "comment_id": 92181337, "body": "<a href=\"https://stackoverflow.com/questions/9258932/how-to-convert-image-to-byte-array-using-javascript-only-to-store-image-on-sql-s?answertab=active#tab-top\" title=\"how to convert image to byte array using javascript only to store image on sql s\">stackoverflow.com/questions/9258932/&hellip;</a>"}, {"owner": {"reputation": 325, "user_id": 9812400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHqVY.jpg?s=128&g=1", "display_name": "PuntanetDeveloper", "link": "https://stackoverflow.com/users/9812400/puntanetdeveloper"}, "edited": false, "score": 0, "creation_date": 1538559620, "post_id": 52623858, "comment_id": 92181540, "body": "i need to convert ANY file"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": -1, "last_activity_date": 1538558776, "creation_date": 1538558776, "answer_id": 52623858, "question_id": 52623758, "link": "https://stackoverflow.com/questions/52623758/upload-file-from-angular-5-6-to-webapi-c/52623858#52623858", "title": "upload file from Angular 5/6 to WebApi c#", "body": "<p>Need to create a <code>FormData</code> object to upload the images</p>\n\n<pre><code>onUpload() {   \n\n    let formData:FormData = new FormData();\n    formData.append('uploadFile', this.selectedFile, this.selectedFile.name);\n    let headers = new Headers();\n\n    headers.append('Content-Type', 'multipart/form-data');\n    headers.append('Accept', 'application/json');\n\n    let options = new RequestOptions({ headers: headers });   \n\n    this.http.post('http://localhost:516./....', formData, options)\n     .subscribe(event =&gt;  console.log(event));        \n}\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 9812400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHqVY.jpg?s=128&g=1", "display_name": "PuntanetDeveloper", "link": "https://stackoverflow.com/users/9812400/puntanetdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 0, "accepted_answer_id": 52623858, "answer_count": 1, "score": 1, "last_activity_date": 1554740189, "creation_date": 1538558487, "last_edit_date": 1554740189, "question_id": 52623758, "link": "https://stackoverflow.com/questions/52623758/upload-file-from-angular-5-6-to-webapi-c", "title": "upload file from Angular 5/6 to WebApi c#", "body": "<p>I need to convert a file to a byte array into my WebApi </p>\n\n<p>my HTML template:</p>\n\n<pre><code> &lt;input style=\"display: none\"  type=\"file\" (change)=\"onFileChanged($event)\" #fileInput&gt;\n &lt;button (click)=\"fileInput.click()\"&gt;Select File&lt;/button&gt;\n &lt;button (click)=\"onUpload()\"&gt;Upload!&lt;/button&gt;\n</code></pre>\n\n<p>end my component:</p>\n\n<pre><code>    onFileChanged(event) {\n      this.selectedFile = event.target.files[0]      \n    }  \n    onUpload() {   \n      const uploadFile = new FormData();   \n      uploadFile.append('string', this.selectedFile, \n                                   this.selectedFile.name);       \n      this.http.post(URL ,uploadFile);        \n    }\n</code></pre>\n\n<p>for this example not use service</p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 174, "user_id": 9483522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086b7778b0b0867894812af9ea7df363?s=128&d=identicon&r=PG&f=1", "display_name": "user9483522", "link": "https://stackoverflow.com/users/9483522/user9483522"}, "edited": false, "score": 0, "creation_date": 1538561793, "post_id": 52624605, "comment_id": 92182834, "body": "so what i have to check in html *ngIf = &quot;robot.ionicNamedColor == false&quot; then button will show and enabled , and *ngIf =&quot;robot.ionicNamedColor == true&quot; then the button will be disabled ????"}, {"owner": {"reputation": 188, "user_id": 8641807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f0d3b2b6ebd98cafcb66399da4e050?s=128&d=identicon&r=PG&f=1", "display_name": "meuser07", "link": "https://stackoverflow.com/users/8641807/meuser07"}, "reply_to_user": {"reputation": 174, "user_id": 9483522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086b7778b0b0867894812af9ea7df363?s=128&d=identicon&r=PG&f=1", "display_name": "user9483522", "link": "https://stackoverflow.com/users/9483522/user9483522"}, "edited": false, "score": 0, "creation_date": 1538562385, "post_id": 52624605, "comment_id": 92183178, "body": "Yes. inside toggleNamedColor function you have to toggle particular index variable."}, {"owner": {"reputation": 174, "user_id": 9483522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086b7778b0b0867894812af9ea7df363?s=128&d=identicon&r=PG&f=1", "display_name": "user9483522", "link": "https://stackoverflow.com/users/9483522/user9483522"}, "edited": false, "score": 0, "creation_date": 1538563438, "post_id": 52624605, "comment_id": 92183774, "body": "can you please wirte some code i am doing but not successfull??"}, {"owner": {"reputation": 188, "user_id": 8641807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f0d3b2b6ebd98cafcb66399da4e050?s=128&d=identicon&r=PG&f=1", "display_name": "meuser07", "link": "https://stackoverflow.com/users/8641807/meuser07"}, "reply_to_user": {"reputation": 174, "user_id": 9483522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086b7778b0b0867894812af9ea7df363?s=128&d=identicon&r=PG&f=1", "display_name": "user9483522", "link": "https://stackoverflow.com/users/9483522/user9483522"}, "edited": false, "score": 0, "creation_date": 1538564155, "post_id": 52624605, "comment_id": 92184187, "body": "You can add one more variable ionicNamedColor  to Robot class."}], "tags": [], "owner": {"reputation": 188, "user_id": 8641807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4f0d3b2b6ebd98cafcb66399da4e050?s=128&d=identicon&r=PG&f=1", "display_name": "meuser07", "link": "https://stackoverflow.com/users/8641807/meuser07"}, "is_accepted": false, "score": 1, "last_activity_date": 1538561192, "creation_date": 1538561192, "answer_id": 52624605, "question_id": 52623672, "link": "https://stackoverflow.com/questions/52623672/click-event-on-each-button-on-ion-slides/52624605#52624605", "title": "Click event on each button on ion-slides", "body": "<p>You are using same variable ionicNamedColor for all the items of array. </p>\n\n<p>You can try like create one more variable inside robot object ionicNamedColor and change the color of particular index object color.</p>\n\n<p>Ex :  *ngIf=\"robot.ionicNamedColor == false\"</p>\n"}, {"tags": [], "owner": {"reputation": 1208, "user_id": 3786343, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Jyh3H.jpg?s=128&g=1", "display_name": "Kamlesh", "link": "https://stackoverflow.com/users/3786343/kamlesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1538567837, "creation_date": 1538567837, "answer_id": 52626523, "question_id": 52623672, "link": "https://stackoverflow.com/questions/52623672/click-event-on-each-button-on-ion-slides/52626523#52626523", "title": "Click event on each button on ion-slides", "body": "<p>You can achieve you to add a new key to your _robots JSON object from .ts, Here are the hints:</p>\n\n<h2>in your .html File</h2>\n\n<pre><code>&lt;ion-slides #slider (ionDidChange)=\"SlideChanged()\" [options]=\"_sliderOptions\" id=\"ionSlider\" class=\"main-slider\"&gt;\n    &lt;ion-slide #slide *ngFor=\"let robot of _robots; let i = index\"&gt;\n      &lt;ion-grid class=\"content-info-item\"&gt;\n          &lt;img [src]=\"sanitizer.bypassSecurityTrustResourceUrl(photoPicArray[i])\" class=\"postimage\" /&gt;\n        &lt;div class=\"content-info-content\"&gt;\n          &lt;p class=\"posttime\"&gt;{{robot.Created | date:'medium'}}&lt;/p&gt;\n          &lt;h1 class=\"GuardianEgyp-Regular-Web heading-title\" (click)=\"goToLongStory(i)\"&gt;{{robot.Title}}&lt;/h1&gt;\n          &lt;p class=\"shortstory GuardianEgyp-Light-Web\" (click)=\"goToLongStory(i)\"&gt;{{robot.SortStory}}&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"like-info-icon\" *ngIf=\"robot.isLiked == false\"&gt;\n            &lt;button (click)=\"toggleNamedColor(robot.Id, i)\" color=\"primary\" block&gt;\n                &lt;img src=\"assets/imgs/like.png\"&gt;\n           &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"like-info-content GuardianEgyp-Light-Web\"&gt;\n          &lt;p item-end&gt;&lt;span *ngIf=\"robot.isLiked == true\" &gt;You and&lt;/span&gt;&lt;span&gt;{{robot.TotalLikesId}}&lt;/span&gt; Likes&lt;/p&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"like-info-icon-box\"&gt;\n          &lt;div class=\"like-info-icon\"&gt;\n            &lt;img class=\"\" width=\"24\" src=\"assets/imgs/comments1.png\" alt=\"longstory\" title=\"View More\"&gt;\n          &lt;/div&gt;\n          &lt;div class=\"like-info-content GuardianEgyp-Light-Web\"&gt;\n            &lt;p&gt;\n              &lt;span&gt;{{robot.TotlaCommentsId}}&lt;/span&gt; Comments&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/ion-grid&gt;\n</code></pre>\n\n<h2>in your .ts file</h2>\n\n<pre><code>let _robots = [\n  {\n    Id : \"1\",\n    Title: \"your title...\",\n    SortStory: \"SortStory...\",\n    ...\n  },{\n    Id : \"2\",\n    Title: \"your title...\",\n    SortStory: \"SortStory...\",\n  }\n]\n\nfunction addKeyValue(obj, key, data){\n  obj[key] = data;\n}\n\n\n_robots.map(function(person) {\n  return addKeyValue(person, 'isLiked', 'false');\n});\n\n\npublic toggleNamedColor(indexID): void {\n    _robots[indexID].isLiked = true;\n}\n</code></pre>\n\n<p>Hope it helpful for you. </p>\n"}, {"comments": [{"owner": {"reputation": 3615, "user_id": 2613439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/atrCl.jpg?s=128&g=1", "display_name": "mohsinali1317", "link": "https://stackoverflow.com/users/2613439/mohsinali1317"}, "edited": false, "score": 0, "creation_date": 1583328104, "post_id": 60526730, "comment_id": 107078083, "body": "This helped me a lot. :) Thanks"}], "tags": [], "owner": {"reputation": 23, "user_id": 3929930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KLFtD.jpg?s=128&g=1", "display_name": "Ravi Talveda", "link": "https://stackoverflow.com/users/3929930/ravi-talveda"}, "is_accepted": false, "score": 1, "last_activity_date": 1583326940, "creation_date": 1583326940, "answer_id": 60526730, "question_id": 52623672, "link": "https://stackoverflow.com/questions/52623672/click-event-on-each-button-on-ion-slides/60526730#60526730", "title": "Click event on each button on ion-slides", "body": "<p><strong>Implemented in Ionic 4 Angular 8 project:</strong></p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code> &lt;ion-slides pager=\"true\" #slides&gt;\n    &lt;ion-slide&gt;\n        &lt;div&gt;Slide page 1&lt;/div&gt;\n    &lt;/ion-slide&gt;\n    &lt;ion-slide&gt;\n        &lt;div&gt;Slide page 2&lt;/div&gt;\n    &lt;/ion-slide&gt;\n    &lt;ion-slide&gt;\n        &lt;div&gt;Slide page 3&lt;/div&gt;\n    &lt;/ion-slide&gt;\n &lt;/ion-slides&gt;\n</code></pre>\n\n<p><strong>TypeScript:</strong></p>\n\n<pre><code> @ViewChild('slides', { static: true }) slides: IonSlides;\n\nngOnInit() {\n    this.slides.ionSlidesDidLoad.subscribe((e) =&gt; {\n        var swiperElements: HTMLCollection =\n            this.elem.nativeElement.querySelectorAll(\".swiper-pagination-bullet\");\n        var self = this;\n        Array.from(swiperElements).forEach(function(element) {\n            element.addEventListener(\"click\", function() {\n                self.goToSliderIndex(this, self);\n            });\n        });\n    })\n}\n\ngoToSliderIndex(child, self) {\n    var parent = child.parentNode;\n    var bulletIndex = Array.prototype.indexOf.call(parent.children, child);\n    this.slides.slideTo(bulletIndex, 2000);\n}\n</code></pre>\n"}], "owner": {"reputation": 174, "user_id": 9483522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/086b7778b0b0867894812af9ea7df363?s=128&d=identicon&r=PG&f=1", "display_name": "user9483522", "link": "https://stackoverflow.com/users/9483522/user9483522"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1550, "favorite_count": 0, "accepted_answer_id": 52626523, "answer_count": 3, "score": 1, "last_activity_date": 1583326940, "creation_date": 1538558243, "last_edit_date": 1538585314, "question_id": 52623672, "link": "https://stackoverflow.com/questions/52623672/click-event-on-each-button-on-ion-slides", "title": "Click event on each button on ion-slides", "body": "<p>I am having various slide and each having like and comment button, what I have to do that when I click on particular slide like button then that button image changes or it shows like you and 20 likes. </p>\n\n<p>The problem I am facing that when I am click on like button then it will also effect on other slides like button also. When I am refreshing the page it still shows like button is enabled for the particular slide even I already liked it.</p>\n\n<p>My code is below </p>\n\n<p>.html </p>\n\n<pre><code>&lt;ion-slides #slider (ionDidChange)=\"SlideChanged()\" [options]=\"_sliderOptions\" id=\"ionSlider\" class=\"main-slider\"&gt;\n    &lt;ion-slide #slide *ngFor=\"let robot of _robots; let i = index\"&gt;\n      &lt;ion-grid class=\"content-info-item\"&gt;\n          &lt;img [src]=\"sanitizer.bypassSecurityTrustResourceUrl(photoPicArray[i])\" class=\"postimage\" /&gt;\n        &lt;div class=\"content-info-content\"&gt;\n          &lt;p class=\"posttime\"&gt;{{robot.Created | date:'medium'}}&lt;/p&gt;\n          &lt;h1 class=\"GuardianEgyp-Regular-Web heading-title\" (click)=\"goToLongStory(i)\"&gt;{{robot.Title}}&lt;/h1&gt;\n          &lt;p class=\"shortstory GuardianEgyp-Light-Web\" (click)=\"goToLongStory(i)\"&gt;{{robot.SortStory}}&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;div class=\"like-info-icon\" *ngIf=\"ionicNamedColor == false\"&gt;\n            &lt;button (click)=\"toggleNamedColor(robot.Id,i)\" color=\"primary\" block&gt;\n                &lt;img src=\"assets/imgs/like.png\"&gt;\n           &lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=\"like-info-content GuardianEgyp-Light-Web\"&gt;\n          &lt;p item-end&gt;&lt;span *ngIf=\"ionicNamedColor == true\" &gt;You and&lt;/span&gt;&lt;span&gt;{{robot.TotalLikesId}}&lt;/span&gt; Likes&lt;/p&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"like-info-icon-box\"&gt;\n          &lt;div class=\"like-info-icon\"&gt;\n            &lt;img class=\"\" width=\"24\" src=\"assets/imgs/comments1.png\" alt=\"longstory\" title=\"View More\"&gt;\n          &lt;/div&gt;\n          &lt;div class=\"like-info-content GuardianEgyp-Light-Web\"&gt;\n            &lt;p&gt;\n              &lt;span&gt;{{robot.TotlaCommentsId}}&lt;/span&gt; Comments&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/ion-grid&gt;\n</code></pre>\n\n<p>.ts file</p>\n\n<pre><code>public ionicNamedColor: boolean = false;\n  public likeArray: any[] = [];\n\n\n    public toggleNamedColor(articleID: string, indexID: string): void {\n        if (this.ionicNamedColor == false) {\n          this.ionicNamedColor = true;\n        }\n        else {\n          this.ionicNamedColor = false;\n        }\n}\n\nSlideChanged() {\n    let currentSlide = this.slider.getActiveIndex();\n    let slideElements = this.slides.toArray();\n\n    let targetSlide = slideElements[currentSlide];\n    console.log(targetSlide);\n  }\n</code></pre>\n"}, {"tags": ["typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 624, "user_id": 1885401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fi4X2.jpg?s=128&g=1", "display_name": "Diego Bascans", "link": "https://stackoverflow.com/users/1885401/diego-bascans"}, "is_accepted": true, "score": 0, "last_activity_date": 1538588498, "creation_date": 1538588498, "answer_id": 52632821, "question_id": 52623557, "link": "https://stackoverflow.com/questions/52623557/display-modal-card-on-first-page-load/52632821#52632821", "title": "Display modal card on first page load", "body": "<p>You can save a flag in your localstorage variable, that will remains even when you refresh the page.\nJust set it false when you login</p>\n\n<p>Save into LocalStorage variable</p>\n\n<pre><code>localStorage.setItem('key', value);\n</code></pre>\n\n<p>Get from LocalStorage variable</p>\n\n<pre><code>localStorage.getItem('key');\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 9970857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDRpM.jpg?s=128&g=1", "display_name": "hafizi hamid", "link": "https://stackoverflow.com/users/9970857/hafizi-hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 52632821, "answer_count": 1, "score": 0, "last_activity_date": 1538618283, "creation_date": 1538557910, "last_edit_date": 1538618283, "question_id": 52623557, "link": "https://stackoverflow.com/questions/52623557/display-modal-card-on-first-page-load", "title": "Display modal card on first page load", "body": "<p>I'm new to Angular, I have modal card that will open if users had succesful login,but it will open  everytime the page is refresh and what I need its to open on first page load only,below is my code,</p>\n\n<pre><code>userAuthenticated(): void {\n    this.authenticationService.getCurrentUser().subscribe(obj =&gt; {\n        if (obj.currentKycLevel === null) this.kycLevel = 0\n        if (this.kycLevel === 0) {\n            const dialogRef = this.dialog.open(MatDialogComponent, {\n                width: '500px',\n                data: {\n                    header: 'Upgrade your Limits',\n                    body: {},\n                    modalType: 'user-setting'\n                }\n            });\n            dialogRef.afterClosed().subscribe(result =&gt; {\n            });\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6000969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eEyY1.jpg?s=128&g=1", "display_name": "LeeNin", "link": "https://stackoverflow.com/users/6000969/leenin"}, "edited": false, "score": 0, "creation_date": 1538622539, "post_id": 52637634, "comment_id": 92209589, "body": "Thanks for your help, it work for me after I change import statement to: <i>import JqxCheckBox from &#39;jqwidgets-framework/jqwidgets-react/react_jqxcheckbox&#39;;</i>"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1538615701, "creation_date": 1538615701, "answer_id": 52637634, "question_id": 52623508, "link": "https://stackoverflow.com/questions/52623508/how-i-can-define-typescript-type-for-exist-component/52637634#52637634", "title": "how I can define typescript @type for exist component", "body": "<p>Use a <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules\" rel=\"nofollow noreferrer\">module declaration</a> to associate your type declarations with the original <code>jqwidgets-framework/jqwidgets-react/react_jqxcheckbox</code> module:</p>\n\n<pre><code>/// &lt;reference path=\"node_modules/jqwidgets-framework/jqwidgets-ts/jqwidgets.d.ts\" /&gt;\n\ndeclare module \"jqwidgets-framework/jqwidgets-react/react_jqxcheckbox\" {\n    import * as React from \"react\";\n    import * as CSS from 'csstype';\n\n    interface IJqxCheckBoxProps extends jqwidgets.CheckBoxOptions {\n        style?: CSS.Properties&lt;string | number&gt;;\n        value: string;\n        //on?: (name?: string, callback?: Function ) =&gt; void;\n        // render?: ()=&gt;void;\n    }\n    class JqxCheckBox extends React.Component&lt;IJqxCheckBoxProps, any&gt; { }\n\n    export default JqxCheckBox;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6000969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eEyY1.jpg?s=128&g=1", "display_name": "LeeNin", "link": "https://stackoverflow.com/users/6000969/leenin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 52637634, "answer_count": 1, "score": 0, "last_activity_date": 1538615701, "creation_date": 1538557761, "question_id": 52623508, "link": "https://stackoverflow.com/questions/52623508/how-i-can-define-typescript-type-for-exist-component", "title": "how I can define typescript @type for exist component", "body": "<p>I got jqwidgets-framework by npm:</p>\n\n<p><i>npm install jqwidgets-framework -D</i></p>\n\n<p>This framework have implemented a lot of react component by javascript.\nFor ex:</p>\n\n<pre><code>... \nexport default class JqxCheckBox extends React.Component {\n        componentDidMount() {\n            let options = this.manageAttributes();\n            this.createComponent(options);\n        }; \n...\n</code></pre>\n\n<p>But my project wrote react by typescript so I can't integrate this framework to my project.</p>\n\n<p>I'm trying add new file <em>jqw.d.ts</em>:</p>\n\n<pre><code>/// &lt;reference path=\"../../node_modules/jqwidgets-framework/jqwidgets-ts/jqwidgets.d.ts\" /&gt;\n\nimport * as React from \"react\";\nimport * as CSS from 'csstype';\n\ninterface IJqxCheckBoxProps extends jqwidgets.CheckBoxOptions {\n    style?: CSS.Properties&lt;string | number&gt;;\n    value: string;\n    //on?: (name?: string, callback?: Function ) =&gt; void;\n    // render?: ()=&gt;void;\n}\ndeclare class JqxCheckBox extends React.Component&lt;IJqxCheckBoxProps, any&gt; { }\n\nexport default JqxCheckBox;\n</code></pre>\n\n<p>and use this component in react:</p>\n\n<pre><code>/// &lt;reference path=\"jqw.d.ts\"/&gt;\n\nimport '../css/site.css';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n//import 'jqwidgets-framework/jqwidgets-react/react_jqxdatatable';\nimport 'jqwidgets-framework/jqwidgets-react/react_jqxcheckbox';\nimport * as CSS from 'csstype';\n.......\nrender() {\n  let chexboxCSS: CSS.Properties&lt;string | number&gt; = { marginLeft: 10, float: 'left' };\n  let checkboxParentCSS: CSS.Properties&lt;string | number&gt; = { float: 'left', width: 400, marginTop: 10 };\n  return (\n      &lt;div style={{ fontFamily: 'Verdana Arial', fontSize: 12, width: 400 }}&gt;\n          &lt;div style={{ float: 'left', width: 400 }}&gt;\n              &lt;h3 style={{ marginLeft: 15 }}&gt;Categories&lt;/h3&gt;\n              &lt;JqxCheckBox style={chexboxCSS} value='Entertainment'\n                  width={120} height={25}\n              /&gt;\n              &lt;JqxCheckBox style={chexboxCSS} value='Computers'\n                  width={120} height={25} checked={true}\n              /&gt;\n              &lt;JqxCheckBox style={chexboxCSS} value='Sports'\n                  width={120} height={25}\n              /&gt;\n.......\n</code></pre>\n\n<p>but it <strong>do not</strong> work.</p>\n\n<p>How can I define type for exist components?</p>\n"}, {"tags": ["typescript", "tsconfig"], "answers": [{"comments": [{"owner": {"reputation": 746, "user_id": 3720305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Yzex.jpg?s=128&g=1", "display_name": "Jerry Green", "link": "https://stackoverflow.com/users/3720305/jerry-green"}, "edited": false, "score": 0, "creation_date": 1617084531, "post_id": 52622677, "comment_id": 118196381, "body": "Doesn&#39;t seem to work nowadays"}], "tags": [], "owner": {"reputation": 2799, "user_id": 824495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb4b0e7e4b0647c4c14d831e5ddf1160?s=128&d=identicon&r=PG", "display_name": "mehmetseckin", "link": "https://stackoverflow.com/users/824495/mehmetseckin"}, "is_accepted": true, "score": 3, "last_activity_date": 1538554593, "creation_date": 1538554593, "answer_id": 52622677, "question_id": 52622544, "link": "https://stackoverflow.com/questions/52622544/visual-code-constantly-changes-included-files-in-tsconfig-json/52622677#52622677", "title": "Visual Code constantly changes included files in tsconfig.json", "body": "<p>The <code>TypeScript</code> extension has a setting that updates imports on file move, this might be the culprit. </p>\n\n<blockquote>\n  <p><strong>Typescript \u203a Update Imports On File Move: Enabled</strong></p>\n  \n  <p>Enable/disable automatic updating of import paths when you rename or move a file in VS Code. Requires using TypeScript 2.9 or newer in the workspace.</p>\n</blockquote>\n\n<p>Try setting <code>typescript.updateImportsOnFileMove.enabled: false</code></p>\n"}], "owner": {"reputation": 2726, "user_id": 3612643, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3e18288eaaaef95535b2ba6deb069db5?s=128&d=identicon&r=PG&f=1", "display_name": "user3612643", "link": "https://stackoverflow.com/users/3612643/user3612643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 52622677, "answer_count": 1, "score": 3, "last_activity_date": 1538554593, "creation_date": 1538554099, "question_id": 52622544, "link": "https://stackoverflow.com/questions/52622544/visual-code-constantly-changes-included-files-in-tsconfig-json", "title": "Visual Code constantly changes included files in tsconfig.json", "body": "<p>Since a few versions, Visual Code constantly messes up my tsconfig.json by adding individual files to the include array when I add or rename files in my project.</p>\n\n<p>Is there any setting to tell VC to NOT do that?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 4, "creation_date": 1538553775, "post_id": 52622396, "comment_id": 92178376, "body": "That&#39;s called type intersection. <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}, {"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 2, "creation_date": 1538554312, "post_id": 52622396, "comment_id": 92178656, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/38317625/what-does-the-ampersand-mean-in-a-typescript-type-definition\">What does the ampersand (&amp;) mean in a TypeScript type definition?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 583291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jmh7M.png?s=128&g=1", "display_name": "Juan M. Medina", "link": "https://stackoverflow.com/users/583291/juan-m-medina"}, "is_accepted": false, "score": 0, "last_activity_date": 1538686061, "creation_date": 1538686061, "answer_id": 52654921, "question_id": 52622396, "link": "https://stackoverflow.com/questions/52622396/why-use-in-typescript-generic/52654921#52654921", "title": "Why use &#39;&amp;&#39; in Typescript generic", "body": "<p>Those are called intersection types. See <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types</a></p>\n"}], "owner": {"reputation": 418, "user_id": 5453683, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/S0JF6.jpg?s=128&g=1", "display_name": "Saeed Jalali", "link": "https://stackoverflow.com/users/5453683/saeed-jalali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 442, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538686061, "creation_date": 1538553550, "question_id": 52622396, "link": "https://stackoverflow.com/questions/52622396/why-use-in-typescript-generic", "title": "Why use &#39;&amp;&#39; in Typescript generic", "body": "<p>I'm new in Typescript. In the following code, I see using generic with \"&amp;\". I don't understand what's that means? I think 2 interfaces can join and like 1 interface work?</p>\n\n<pre><code>import * as React from 'react';\n\nexport interface StatefulCounterWithDefaultProps {\n label: string;\n initialCount?: number;\n}\n\ninterface DefaultProps {\n readonly initialCount: number;\n}\n\ninterface State {\n  readonly count: number;\n}\n\nexport const StatefulCounterWithDefault: \nReact.ComponentClass&lt;StatefulCounterWithDefaultProps&gt; =\nclass extends React.Component&lt;StatefulCounterWithDefaultProps &amp; \n DefaultProps&gt; {\n\nstatic defaultProps: DefaultProps = {\n  initialCount: 0,\n};\n\nreadonly state: State = {\n  count: this.props.initialCount,\n};\n\ncomponentWillReceiveProps({ initialCount }: StatefulCounterWithDefaultProps) {\n  if (initialCount != null &amp;&amp; initialCount !== this.props.initialCount) {\n    this.setState({ count: initialCount });\n  }\n}\n\nhandleIncrement = () =&gt; {\n  this.setState({ count: this.state.count + 1 });\n}\n\nrender() {\n  const { handleIncrement } = this;\n  const { label } = this.props;\n  const { count } = this.state;\n\n  return (\n    &lt;div&gt;\n      &lt;span&gt;{label}: {count} &lt;/span&gt;\n      &lt;button type=\"button\" onClick={handleIncrement}&gt;\n        {`Increment`}\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n};\n</code></pre>\n\n<p>In this code : <code>React.Component&lt;StatefulCounterWithDefaultProps &amp; \n     DefaultProps&gt;</code>  2 interfaces join together with &amp;. \n   How does it work? </p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "angular-forms"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1538552610, "post_id": 52622063, "comment_id": 92177815, "body": "<code>change</code> event bubbles. Take a look <a href=\"https://jsfiddle.net/wd2zp7Ls/\" rel=\"nofollow noreferrer\">jsfiddle.net/wd2zp7Ls</a>"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1538553315, "post_id": 52622063, "comment_id": 92178126, "body": "You can add <code>event.stopPropagation()</code> to stop bubbling. <a href=\"https://jsfiddle.net/nqfxc78e/\" rel=\"nofollow noreferrer\">jsfiddle.net/nqfxc78e</a>"}], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538552327, "creation_date": 1538552327, "question_id": 52622063, "link": "https://stackoverflow.com/questions/52622063/angular-why-does-clicking-on-a-checkbox-fire-a-change-event-for-the-parent-sel", "title": "Angular - Why does clicking on a checkbox fire a change event for the parent selector in which the change event is bound to?", "body": "<p>So, I was just minding my own business on Gitter when I came across something interesting. Take a look at <a href=\"https://stackblitz.com/edit/mlc-controlcontainer-formarray-iemzly?file=src%2Fapp%2Fcheckbox.directive.ts\" rel=\"nofollow noreferrer\">this Stackblitz demo</a>. </p>\n\n<p>It uses a custom directive that makes a custom checkbox component work with <code>ngModel</code>/<code>formControl</code> etc.</p>\n\n<p>What I don't understand here is how the events set for <code>host</code> in the <code>NgCheckboxControlDirective</code> work. Since the host here is the selector for the checkbox component and not the checkbox input itself, it shouldn't trigger any <code>change</code> or <code>blur</code> event.. but it does.</p>\n\n<p>If you click on the checkbox in the demo linked at the top you'll see that <code>choosen</code> changes between <code>true</code> and <code>false</code>.</p>\n\n<p>Why? Why does clicking on the checkbox fire a <code>change</code> event here which then updates the <code>choosen</code> state?</p>\n\n<p>The directive which implements <code>ControlValueAccessor</code>:</p>\n\n<pre><code>import { Directive, Renderer2, ElementRef } from '@angular/core';\nimport { ControlValueAccessor , NG_VALUE_ACCESSOR } from '@angular/forms';\n\n@Directive({\n  selector: '[ngCheckboxControl]',\n  host: {'(change)': 'onChange($event.target.checked)', '(blur)': 'onTouched()'},\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: NgCheckboxControlDirective,\n      multi: true\n}\n  ]\n})\nexport class NgCheckboxControlDirective implements ControlValueAccessor {\n\n  onChange = (_: any) =&gt; {};\n  onTouched = () =&gt; {};\n\n  constructor(private _renderer: Renderer2, private _elementRef: ElementRef) {}\n\n  writeValue(value: any): void {\n    this._renderer.setProperty(this._elementRef.nativeElement.firstElementChild, 'checked', value);\n  }\n  registerOnChange(fn: (_: any) =&gt; {}): void { this.onChange = fn; }\n  registerOnTouched(fn: () =&gt; {}): void { this.onTouched = fn; }\n\n  setDisabledState(isDisabled: boolean): void {\n    this._renderer.setProperty(this._elementRef.nativeElement.firstElementChild, 'disabled', isDisabled);\n  }\n}\n</code></pre>\n\n<p>The checkbox:</p>\n\n<pre><code>import { Component, ElementRef } from '@angular/core';\nimport { NgControl } from '@angular/forms';\n\n@Component({\n  selector: 'checkbox-layout',\n  template: `\n    My checkbox: &lt;input type=\"checkbox\" /&gt;\n  `,\n})\nexport class CkeckboxLayoutComponent {\n\n  constructor(\n    private ngControl: NgControl,\n    private elementRef: ElementRef\n  ) {\n    console.log('... elementRef:', elementRef);\n    console.log('... ngControl:', ngControl);\n  }\n\n}\n</code></pre>\n\n<p>Then you'd use it like this:</p>\n\n<pre><code>&lt;checkbox-layout formControlName=\"choosen\" ngCheckboxControl&gt;&lt;/checkbox-layout&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 11700, "user_id": 867760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a50beb64776bacac9a0a04508fc45603?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/867760/luke"}, "edited": false, "score": 1, "creation_date": 1547755863, "post_id": 52621223, "comment_id": 95311526, "body": "This isn&#39;t working for me. At least with big.js. No matter what values types has, Big is included globally."}, {"owner": {"reputation": 1413, "user_id": 1105281, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Byxyt.jpg?s=128&g=1", "display_name": "osdiab", "link": "https://stackoverflow.com/users/1105281/osdiab"}, "reply_to_user": {"reputation": 11700, "user_id": 867760, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a50beb64776bacac9a0a04508fc45603?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/867760/luke"}, "edited": false, "score": 0, "creation_date": 1559674648, "post_id": 52621223, "comment_id": 99492888, "body": "hmmm yeah I actually ran into this too now and I&#39;m left confused. It&#39;s def working for <code>jest</code> when I remove/add it but I&#39;m running into Big acting up now."}], "tags": [], "owner": {"reputation": 1413, "user_id": 1105281, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Byxyt.jpg?s=128&g=1", "display_name": "osdiab", "link": "https://stackoverflow.com/users/1105281/osdiab"}, "is_accepted": false, "score": 0, "last_activity_date": 1538549364, "creation_date": 1538549364, "answer_id": 52621223, "question_id": 52621222, "link": "https://stackoverflow.com/questions/52621222/how-do-you-exclude-global-types-declared-in-typescript-definitions/52621223#52621223", "title": "How do you exclude global types declared in TypeScript definitions?", "body": "<p>When compiling your TypeScript code, assuming that you've installed typing using something like <code>npm install @types/node @types/jest</code>, <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types\" rel=\"nofollow noreferrer\">use the <code>types</code> flag</a> to specify which type declarations get included globally. For example, in <code>tsconfig.json</code>, include code like this:</p>\n\n<pre><code>{\n  compilerOptions: {\n    // ...\n    // @types/node and @types/jest will be included globally.\n    types: [\"node\", \"jest\"],\n    // ...\n  }\n}\n</code></pre>\n\n<p>This way, TypeScript will only include the declarations for those specified libraries automatically, including the global ones. The rest of the types still work when you import\u2014TypeScript will resolve those libraries when it sees you <code>import</code> them\u2014but this way, only the libraries you specify that provide global types for your environment will be made available, allowing the TypeScript compiler to inform you of missing imports more reliably.</p>\n\n<p>Thanks to Github @googol <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/29304#issuecomment-425841872\" rel=\"nofollow noreferrer\">for the tip on DefinitelyTyped</a>.</p>\n"}], "owner": {"reputation": 1413, "user_id": 1105281, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Byxyt.jpg?s=128&g=1", "display_name": "osdiab", "link": "https://stackoverflow.com/users/1105281/osdiab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1033, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538549364, "creation_date": 1538549364, "question_id": 52621222, "link": "https://stackoverflow.com/questions/52621222/how-do-you-exclude-global-types-declared-in-typescript-definitions", "title": "How do you exclude global types declared in TypeScript definitions?", "body": "<p>Many libraries are written for both the web, Node servers, and mobile apps like React Native. as a result they can be included either via <code>&lt;script /&gt;</code> tags, calls to <code>require()</code>, or using the modern <code>import</code> keywords, especially if you're using tools like Webpack or frameworks like React Native.</p>\n\n<p>Their TypeScript dependencies therefore will often expose types not only using the <code>export</code> keyword, but also in a global namespace. This allows code that uses TypeScript on the browser and includes libraries perhaps from CDNs using <code>&lt;script /&gt;</code> tags to make use of types that will be globally available in those environments.</p>\n\n<p>For example, <code>jquery</code>, <code>big.js</code>, and many more libraries use this pattern.</p>\n\n<p>When you're coding modern JavaScript but using a library that exposes global types for the browser case, how do you exclude those types from entering the global namespace in environments like Node and React Native where they are actually not available?</p>\n"}, {"tags": ["node.js", "typescript", "ionic-framework", "npm"], "answers": [{"comments": [{"owner": {"reputation": 420, "user_id": 5030261, "user_type": "registered", "profile_image": "https://graph.facebook.com/927442133986887/picture?type=large", "display_name": "Amit Gandole", "link": "https://stackoverflow.com/users/5030261/amit-gandole"}, "edited": false, "score": 0, "creation_date": 1538550010, "post_id": 52621173, "comment_id": 92176479, "body": "Great. Thanks. i was only looking at the various syntax and made mistake while defining data. Thanks for pointing that."}], "tags": [], "owner": {"reputation": 1893, "user_id": 3816881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d54434c93ddb64341138b488f769335e?s=128&d=identicon&r=PG&f=1", "display_name": "Mathyn", "link": "https://stackoverflow.com/users/3816881/mathyn"}, "is_accepted": true, "score": 1, "last_activity_date": 1538549119, "creation_date": 1538549119, "answer_id": 52621173, "question_id": 52621053, "link": "https://stackoverflow.com/questions/52621053/how-to-read-data-in-node-js-app-js-from-ionic-typescript-through-rest-api/52621173#52621173", "title": "How to read data in node.js app.js from IONIC typescript through REST API?", "body": "<p>You have not defined your data correctly in the PeopleSearch service. Take a close look at the top of the PeopleSearch class. This:</p>\n\n<pre><code>@Injectable()\nexport class PeopleSearch {\n  data: {name:'morr', age: 19, email:'mor@mo.com' };\n  apiurl: \"http://localhost:3082\";\n</code></pre>\n\n<p>Should be (note the '=' instead of ':'):</p>\n\n<pre><code>@Injectable()\nexport class PeopleSearch {\n  data = {name:'morr', age: 19, email:'mor@mo.com' };\n  apiurl = \"http://localhost:3082\";\n</code></pre>\n\n<p>The Typescript syntax for defining a property in a class is:</p>\n\n<pre><code>[name]:[type] = [value]\n</code></pre>\n\n<p>In your case you have defined the name and the type but not the value. Effectively you defined the property data and set the type so only objects exactly matching the properties and values you defined can be set to it.</p>\n"}], "owner": {"reputation": 420, "user_id": 5030261, "user_type": "registered", "profile_image": "https://graph.facebook.com/927442133986887/picture?type=large", "display_name": "Amit Gandole", "link": "https://stackoverflow.com/users/5030261/amit-gandole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 52621173, "answer_count": 1, "score": 0, "last_activity_date": 1538549119, "creation_date": 1538548654, "question_id": 52621053, "link": "https://stackoverflow.com/questions/52621053/how-to-read-data-in-node-js-app-js-from-ionic-typescript-through-rest-api", "title": "How to read data in node.js app.js from IONIC typescript through REST API?", "body": "<p>My service.ts is like this :</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {Http, Headers} from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n/*\n  Generated class for the PeopleSearch provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class PeopleSearch {\n  data: {name:'morr', age: 19, email:'mor@mo.com' };\n  apiurl: \"http://localhost:3082\";\n\n  constructor(public http: Http) {\n    console.log('Hello PeopleSearch Provider');\n\n  }\n\n  load1() {\n    return new Promise(resolve =&gt; { \n      let headers = new Headers();\n\n      this.http.post('http://localhost:3082/users/u/',JSON.stringify(this.data),{ headers: headers })\n        .map(res =&gt; res.json())\n        .subscribe(data =&gt; {\n          //console.log(data.user1);\n\n\n          resolve(data);\n        });\n    });\n  }  \n</code></pre>\n\n<p>And my app.js is like this :</p>\n\n<pre><code>const express= require('express')\nconst app= express();\nconst morgan= require('morgan')\nconst mysql= require('mysql')\nvar cors = require('cors');\napp.use(cors());\n\nconst bodyParser = require('body-parser')\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json()); \n\n\n\nconst connection= mysql.createConnection({\n    host: 'localhost',\n    user: 'root',\n    password: '',\n    database: 'test'\n})\n\napp.use(morgan('combined'))\n\n\napp.use(function (req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Headers\", \"Cache-Control, Pragma, Origin, Authorization, Content-Type, X-Requested-With\");\n    res.header(\"Access-Control-Allow-Methods\", \"GET, PUT, POST\");\n    if ('OPTIONS' === req.method) {\n        res.status(204).send();\n    }\n    else {\n        next();\n    }\n});\napp.post(\"/users/u\", (req, res) =&gt; {\n    const name=req.body.name\n    const age= req.body.age\n    const email= req.body.email\n    const querystring=\"insert into users values(?,?,?,?)\"\n    connection.query(querystring, [11,name,age,email],(err,results,fields)=&gt;{\n        console.log(\"success sql post\")\n        res.end()        \n    })\n  })\n\napp.listen(3082, () =&gt; {\n    console.log(\"Server is up and listening on 3082...\")\n  })\n</code></pre>\n\n<p>I am not getting where I am exactly wrong. If I write data hardcoded in all variables, username age and email, then post req is executing successfully. But when I am using req.body to get the data posted by typescript then i think Its not reading properly.</p>\n\n<p>can anyone suggest what to use or how to use req.body to get the data in variables and save it in query??</p>\n"}, {"tags": ["css", "typescript", "firebase", "ionic-framework"], "owner": {"reputation": 345, "user_id": 9983127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8765c919867c192ddacbe101456986f?s=128&d=identicon&r=PG&f=1", "display_name": "caro", "link": "https://stackoverflow.com/users/9983127/caro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538548138, "creation_date": 1538548138, "question_id": 52620932, "link": "https://stackoverflow.com/questions/52620932/how-to-set-a-firebase-value-as-a-css-property", "title": "How to set a Firebase value as a CSS property?", "body": "<p>I really need some help with this. I'm using the Ionic Framework on this project.</p>\n\n<p>Right now, all data being displayed is of the interface 'list', which comprises of the following ts file. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface list {\r\n    name: string,\r\n    color: string\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to create an icon with the color of each list's color value. So far, I've written the following typescript, using a tutorial online. I have no idea if it makes sense or not, but what I do know is that it does not work. </p>\n\n<p>(Order of code --> 1st: TS; 2nd: SCSS; 3rd: HTML)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\r\nimport { NavController, PopoverController } from 'ionic-angular';\r\nimport { AddListPage } from '../add-list/add-list';\r\n\r\n//Firebase imports\r\nimport { AngularFireDatabase, AngularFireList } from 'angularfire2/database';\r\nimport { AngularFireAuth } from 'angularfire2/auth';\r\n\r\n//Observable\r\nimport { Observable } from 'rxjs';\r\nimport { list } from '../../models/list.interface';\r\nimport { PopoverPage } from '../popover/popover';\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  list = {} as list;\r\n  listRef: Observable&lt;any[]&gt;;\r\n  listReff: Observable&lt;any&gt;;\r\n  \r\n  constructor(public navCtrl: NavController,\r\n    private afAuth: AngularFireAuth,\r\n    private db: AngularFireDatabase,\r\n    public popoverCtrl: PopoverController) {\r\n  }\r\n\r\n  ionViewWillLoad(){\r\n    this.afAuth.authState.subscribe(data =&gt; {\r\n        this.listRef = this.db.list(data.uid+'/lists').valueChanges();\r\n        this.listReff = this.db.object(data.uid+'/lists/color').valueChanges();\r\n        const color = String(this.listReff);\r\n        document.documentElement.style.setProperty('--bg', color);\r\n    })\r\n    console.log(this.listRef);\r\n\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>page-home {\r\n    :root {\r\n        --bg: red;\r\n    }\r\n    \r\n    ion-card{\r\n        ion-icon{\r\n        background: var(--bg);\r\n        }\r\n    }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-content padding&gt;\r\n\r\n  &lt;ion-grid&gt;\r\n  &lt;ion-row&gt;\r\n      &lt;ion-col *ngFor = \"let list of listRef | async\"&gt;\r\n      &lt;ion-card&gt;\r\n        &lt;ion-icon name=\"planet\"&gt;&lt;/ion-icon&gt;\r\n      &lt;p&gt;{{list?.name}}&lt;/p&gt;\r\n      &lt;p&gt;{{list?.color}}&lt;/p&gt;\r\n      &lt;/ion-card&gt;\r\n    &lt;/ion-col&gt;            \r\n  &lt;/ion-row&gt;\r\n &lt;/ion-grid&gt;\r\n\r\n&lt;/ion-content&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database"], "answers": [{"tags": [], "owner": {"reputation": 1157, "user_id": 4693209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14b886011ab9adc2882e8fcb621ecc1a?s=128&d=identicon&r=PG", "display_name": "Quentin Fonck", "link": "https://stackoverflow.com/users/4693209/quentin-fonck"}, "is_accepted": true, "score": 1, "last_activity_date": 1538577213, "creation_date": 1538577213, "answer_id": 52629460, "question_id": 52620908, "link": "https://stackoverflow.com/questions/52620908/how-to-make-firebase-data-read-only-once-in-typescript/52629460#52629460", "title": "How to make firebase data read only once in typescript", "body": "<p>Since it is an observable, if you want to read your data only one time and don't get any new emissions of possible update, juste add <code>take(1)</code> in your operator chains:</p>\n\n<pre><code>this.qS = this.afDatabase.list('product_table', ref =&gt; {\n    return ref.limitToLast(1000) ;\n}).snapshotChanges().map(changes =&gt; {\n    return changes.map(c =&gt; ({ key1: c.payload.key, ...c.payload.val() }));\n}).take(1);\n\nthis.qS.subscribe(values =&gt; {\n\n});\n</code></pre>\n\n<p>It will take the first emission then complete the observable.</p>\n"}], "owner": {"reputation": 3849, "user_id": 4650969, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/--S24vwJjcPU/AAAAAAAAAAI/AAAAAAAAAdA/ZMh1tx27y1A/photo.jpg?sz=128", "display_name": "Midhilaj", "link": "https://stackoverflow.com/users/4650969/midhilaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 52629460, "answer_count": 1, "score": 0, "last_activity_date": 1538577213, "creation_date": 1538548017, "last_edit_date": 1538569265, "question_id": 52620908, "link": "https://stackoverflow.com/questions/52620908/how-to-make-firebase-data-read-only-once-in-typescript", "title": "How to make firebase data read only once in typescript", "body": "<pre><code>readProductFromServer() {\n\n    this.qS = this.afDatabase.list('product_table', ref =&gt; {\n\n      return ref.limitToLast(1000) ;\n\n\n    }).snapshotChanges().map(changes =&gt; {\n      return changes.map(c =&gt; ({ key1: c.payload.key, ...c.payload.val() }));\n    });\n    this.qS.subscribe(values =&gt; {\n\n    });\n  }\n</code></pre>\n\n<p>How to make this code read only once. I searched on the internet and not get an answer to my code, some solution is available in StackOverflow  but not match  with my code?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 1, "creation_date": 1538547511, "post_id": 52620737, "comment_id": 92175247, "body": "<code>(click)=&quot;card_click(); event.stopPropagation()&quot;</code>"}, {"owner": {"reputation": 460, "user_id": 1502615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/12715629c001151b43e73adbdebce9fe?s=128&d=identicon&r=PG", "display_name": "Punith Mithra", "link": "https://stackoverflow.com/users/1502615/punith-mithra"}, "edited": false, "score": 0, "creation_date": 1538548391, "post_id": 52620737, "comment_id": 92175660, "body": "You can add a click event listener in the capture phase and in the <code>event</code> object if the <code>target</code> is same as the dropdown don&#39;t call <code>event.stopPropagation()</code>"}, {"owner": {"reputation": 103, "user_id": 10219665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bFfZe5NHiQA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p72Tftxc5ovHAEg6uWUALNwzelZg/mo/photo.jpg?sz=128", "display_name": "Ishaan Shringi", "link": "https://stackoverflow.com/users/10219665/ishaan-shringi"}, "edited": false, "score": 0, "creation_date": 1538550141, "post_id": 52620737, "comment_id": 92176534, "body": "I have edited my question to provide more details on the same"}, {"owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "edited": false, "score": 0, "creation_date": 1538551162, "post_id": 52620737, "comment_id": 92177047, "body": "If you treat the <code>div</code> element as a <code>button</code>, ask yourself: does it truly make sense to nest a button inside of another? can this layout be changed in any form?"}, {"owner": {"reputation": 467, "user_id": 6681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0978f51a02ddc2ccd7aa50570dd41a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Shannon", "link": "https://stackoverflow.com/users/6681375/shannon"}, "edited": false, "score": 0, "creation_date": 1538554010, "post_id": 52620737, "comment_id": 92178486, "body": "Please see my updated answer"}, {"owner": {"reputation": 467, "user_id": 6681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0978f51a02ddc2ccd7aa50570dd41a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Shannon", "link": "https://stackoverflow.com/users/6681375/shannon"}, "edited": false, "score": 0, "creation_date": 1538556969, "post_id": 52620737, "comment_id": 92180006, "body": "Did you use my solution for this? If not please post your own answer and accept it."}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 10219665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bFfZe5NHiQA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p72Tftxc5ovHAEg6uWUALNwzelZg/mo/photo.jpg?sz=128", "display_name": "Ishaan Shringi", "link": "https://stackoverflow.com/users/10219665/ishaan-shringi"}, "edited": false, "score": 0, "creation_date": 1538549573, "post_id": 52621071, "comment_id": 92176244, "body": "I&#39;m already using this (refer to my question). This is however, not possible on drop downs, etc, where click events are not registered."}, {"owner": {"reputation": 467, "user_id": 6681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0978f51a02ddc2ccd7aa50570dd41a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Shannon", "link": "https://stackoverflow.com/users/6681375/shannon"}, "reply_to_user": {"reputation": 103, "user_id": 10219665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bFfZe5NHiQA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p72Tftxc5ovHAEg6uWUALNwzelZg/mo/photo.jpg?sz=128", "display_name": "Ishaan Shringi", "link": "https://stackoverflow.com/users/10219665/ishaan-shringi"}, "edited": false, "score": 0, "creation_date": 1538550900, "post_id": 52621071, "comment_id": 92176915, "body": "Sorry i updated the answer to show a check on the target before calling <code>stopPropagation()</code>"}], "tags": [], "owner": {"reputation": 467, "user_id": 6681375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0978f51a02ddc2ccd7aa50570dd41a7b?s=128&d=identicon&r=PG&f=1", "display_name": "Shannon", "link": "https://stackoverflow.com/users/6681375/shannon"}, "is_accepted": true, "score": 1, "last_activity_date": 1539267270, "last_edit_date": 1539267270, "creation_date": 1538548716, "answer_id": 52621071, "question_id": 52620737, "link": "https://stackoverflow.com/questions/52620737/disable-click-for-element-inside-division-angular-typescript/52621071#52621071", "title": "Disable (click) for element inside division - Angular/Typescript", "body": "<p>You can check the target in various manners, one is to use <code>contains</code>. like this <code>e.target.classList.contains(\"innerElement\")</code></p>\n\n<p>Then call <code>stopPropagation()</code> on the \"innerElement\" click event only.</p>\n\n<p>So you can use a class name like \"prevent-bubble\" where you need it and not have to change your function every time.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-jh9dpe\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-jh9dpe</a></p>\n"}], "owner": {"reputation": 103, "user_id": 10219665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bFfZe5NHiQA/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7p72Tftxc5ovHAEg6uWUALNwzelZg/mo/photo.jpg?sz=128", "display_name": "Ishaan Shringi", "link": "https://stackoverflow.com/users/10219665/ishaan-shringi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2357, "favorite_count": 2, "accepted_answer_id": 52621071, "answer_count": 1, "score": 0, "last_activity_date": 1539267270, "creation_date": 1538547214, "last_edit_date": 1538550107, "question_id": 52620737, "link": "https://stackoverflow.com/questions/52620737/disable-click-for-element-inside-division-angular-typescript", "title": "Disable (click) for element inside division - Angular/Typescript", "body": "<p>I'm using angular/typescript for my web development project.</p>\n\n<p>I'm looking for an efficient way to apply <code>(click)</code> event to only a division and not some selective elements inside it.</p>\n\n<p>For example, consider the division :</p>\n\n<pre><code>&lt;div class='card' (click)=\"card_click()\"&gt;\n    &lt;button (click)=\"whatever($event)\"&gt;Save&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here, click on button will call both the functions.</p>\n\n<p>It is very common to catch the event in the function and call <code>event.stopPropagation()</code> and stop the propagation.</p>\n\n<p>But in special cases like a drop-down (consider following image) this thing can become tricky.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yYFz9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yYFz9.jpg\" alt=\"example div\"></a></p>\n\n<p>I can use event of the card to check target of the mouse click to acheive the same.</p>\n\n<p>I wouldn't call this the most efficient approach, but it still works.</p>\n\n<p>HTML :</p>\n\n<pre><code>&lt;div class='card' (click)=\"card_click($event)\"&gt;\n    &lt;button (click)=\"whatever($event)\"&gt;Save&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Typescript :</p>\n\n<pre><code>card_click(event) {\n\n    //dropdown button catches SPAN or A\n    if(event.target.tagName == \"SPAN\" || event.target.tagName == \"A\") {\n        event.stopPropagation()\n    }\n    //do the rest\n}\n</code></pre>\n\n<p>I will not prefer this solution because every time i add a new element on the card, I will have to edit this function.</p>\n\n<p>Is there any other <i>neat</i> solution for this?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "typescript", "object", "properties"], "answers": [{"comments": [{"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538547851, "post_id": 52620777, "comment_id": 92175391, "body": "Dear @Titian Your very first sentence &quot;You can define it using an index signature&quot; is one I do not comprehend. : D mind if you add some extra clarification what that means?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538547976, "post_id": 52620777, "comment_id": 92175442, "body": "@mesqueeb added a link to docs, see the Indexable Types section (I can&#39;t link directly to it unfortunately)"}, {"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538548042, "post_id": 52620777, "comment_id": 92175471, "body": "Basically you are saying if I want to check if it&#39;s an object with any props (which are strings) and any values inside those props, I should use <code>{[name: string]: any}</code> instead of <code>object</code>. If this is true, I&#39;m really confused what the difference is between TypeScript&#39;s <code>object</code> vs <code>{}</code> eg as explained in this article here: <a href=\"https://blog.mariusschulz.com/2017/02/24/typescript-2-2-the-object-type\" rel=\"nofollow noreferrer\">blog.mariusschulz.com/2017/02/24/typescript-2-2-the-object-t&zwnj;&#8203;ype</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538548351, "post_id": 52620777, "comment_id": 92175627, "body": "@mesqueeb <code>object</code> is a non primitive type. <code>{}</code> is a type with no properties (but not necessarily a non primitive). You can assign anything to <code>{}</code> (since there are no requirements as to what it should contain) including a <code>string</code> or a number, you can&#39;t assign a primitive to <code>object</code> <a href=\"http://www.typescriptlang.org/play/#src=let%20a%3A%20%7B%7D%0D%0Aa%20%3D%201%0D%0Aa%20%3D%20%22%22%0D%0Alet%20b%3A%20object%3B%0D%0Ab%20%3D%201%0D%0Ab%20%3D%20%22%22\" rel=\"nofollow noreferrer\">typescriptlang.org/play/&hellip;</a>"}, {"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538548766, "post_id": 52620777, "comment_id": 92175847, "body": "Two more questions: 1. Is there a difference between <code>{[key: string]: any}</code> and <code>{[name: string]: any}</code>? 2. does this represent &#225;ny amount of props, or just &#243;ne prop?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "edited": false, "score": 0, "creation_date": 1538548850, "post_id": 52620777, "comment_id": 92175879, "body": "@mesqueeb 1. No, no difference, just the paramater name, functionally they are the same. 2. it can have any number of props, if you want a specific prop specified as a string you can use mapped types."}, {"owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1538548889, "post_id": 52620777, "comment_id": 92175899, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/181193/discussion-between-mesqueeb-and-titian-cernicova-dragomir\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1538547936, "last_edit_date": 1538547936, "creation_date": 1538547399, "answer_id": 52620777, "question_id": 52620709, "link": "https://stackoverflow.com/questions/52620709/defining-an-object-with-any-prop-in-typescript/52620777#52620777", "title": "Defining an object with any prop in typescript", "body": "<p>You can define it using an <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html\" rel=\"nofollow noreferrer\">index signature</a>, although I'm not sure what benefit you would get from it over <code>any</code> since you can index into it with any property, it does not appeat to be any more type-safe then any.</p>\n\n<pre><code>function isObject (payload: any): payload is { [name: string]: any} {\n    return typeof payload === 'object'; // this should work just the same\n}\n\nlet payload: any;\nif (isObject(payload) &amp;&amp; payload.id) payload.id\n</code></pre>\n\n<p>Perhaps if you were to start using strict null checks, one benefit could be that you could remove <code>undefined</code> from the result type:</p>\n\n<pre><code>function isObject (payload: any): payload is { [name: string]: object | number | string | boolean | undefined} {\n\n    return typeof payload === 'object'\n}\n\nlet payload: any;\nif (isObject(payload) &amp;&amp; payload.id) payload.id // payload.id is string | number | true | object here\n</code></pre>\n"}], "owner": {"reputation": 3122, "user_id": 2697506, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29f1cd3f59b8074183043251068b693d?s=128&d=identicon&r=PG", "display_name": "mesqueeb", "link": "https://stackoverflow.com/users/2697506/mesqueeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 936, "favorite_count": 0, "accepted_answer_id": 52620777, "answer_count": 1, "score": 1, "last_activity_date": 1538547936, "creation_date": 1538547052, "question_id": 52620709, "link": "https://stackoverflow.com/questions/52620709/defining-an-object-with-any-prop-in-typescript", "title": "Defining an object with any prop in typescript", "body": "<p>I just switched from JavaScript to TypeScript and am converting a bunch of my code.</p>\n\n<p>I used to use this code a lot in JavaScript (already converted to TypeScript):</p>\n\n<pre><code>function isObject (payload: any): payload is object {\n  const type: string = Object.prototype.toString.call(payload).slice(8, -1)\n  return type === 'Object'\n}\n</code></pre>\n\n<p>Then I would do things like this in JavaScript</p>\n\n<pre><code>if (isObject(payload) &amp;&amp; payload.id) return payload.id\n</code></pre>\n\n<p>However in TypeScript, now it would give me the error that <code>id</code> does not exist on <code>object</code>.</p>\n\n<p>So instead of returning <code>payload is object</code> in my <code>isObject</code> function, I think I should return something that is an object with any props with any values.</p>\n\n<p>How can I do this best?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "edited": false, "score": 0, "creation_date": 1538545632, "post_id": 52620374, "comment_id": 92174536, "body": "Such a quick accurate answer! Thank you very much :)"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "edited": false, "score": 0, "creation_date": 1538546423, "post_id": 52620374, "comment_id": 92174790, "body": "make sure to check this as answer if this helped :D"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1538545365, "creation_date": 1538545365, "answer_id": 52620374, "question_id": 52620355, "link": "https://stackoverflow.com/questions/52620355/set-value-to-dynamically-generated-dropdown-list-in-a-tabular-grid-angular-5/52620374#52620374", "title": "Set value to dynamically generated dropdown list in a tabular Grid Angular 5", "body": "<p>use the <code>ngModel</code> </p>\n\n<pre><code>&lt;select class=\"form-control\" [(ngModel)] =\"item.duration\" (change)=\"durationChange(item, $event.target.value)\" [value]='item.duration'&gt;\n</code></pre>\n"}], "owner": {"reputation": 3589, "user_id": 1299145, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/b67e84c69c02be9fb75ad7aca132e3bc?s=128&d=identicon&r=PG", "display_name": "Abdur Rahim", "link": "https://stackoverflow.com/users/1299145/abdur-rahim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 52620374, "answer_count": 1, "score": 0, "last_activity_date": 1538545484, "creation_date": 1538545251, "last_edit_date": 1538545484, "question_id": 52620355, "link": "https://stackoverflow.com/questions/52620355/set-value-to-dynamically-generated-dropdown-list-in-a-tabular-grid-angular-5", "title": "Set value to dynamically generated dropdown list in a tabular Grid Angular 5", "body": "<p>There are many other controls in each row with this particular dropdown list. after a redirection, on ngInit, I have value in <strong>item</strong>, then I am setting the <strong>item</strong>'s value in each row. everythin working fine. But for this dropdown list, just updating the item.duration model is not showing the selected value of the drop down list.</p>\n\n<pre><code>                 &lt;td&gt;\n                  &lt;select class=\"form-control\" (change)=\"durationChange(item, $event.target.value)\" [value]='item.duration'&gt;\n                    &lt;option value=\"1\"&gt;1 Month&lt;/option&gt;\n                    &lt;option value=\"3\"&gt;3 Months&lt;/option&gt;\n                    &lt;option value=\"6\"&gt;6 Months&lt;/option&gt;\n                  &lt;/select&gt;\n                &lt;/td&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7Axpu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Axpu.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "google-chrome-extension", "google-analytics", "firefox-addon-webextensions", "microsoft-edge-extension"], "comments": [{"owner": {"reputation": 2701, "user_id": 351711, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8919f5f328c1105161e73019d7be5bcf?s=128&d=identicon&r=PG", "display_name": "user351711", "link": "https://stackoverflow.com/users/351711/user351711"}, "edited": false, "score": 0, "creation_date": 1538556413, "post_id": 52620213, "comment_id": 92179743, "body": "It looks like I may have to manually post to google analytics as per this example: <a href=\"https://github.com/jvillalobos/AMO-Admin-Assistant/commit/7824abbe294294af486e0899e856d8776934169e\" rel=\"nofollow noreferrer\">github.com/jvillalobos/AMO-Admin-Assistant/commit/&hellip;</a>.  I will try this and update if it works."}, {"owner": {"reputation": 320, "user_id": 4218769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e697c7a4db1d4f52cfa8147e8db613?s=128&d=identicon&r=PG&f=1", "display_name": "WarPro", "link": "https://stackoverflow.com/users/4218769/warpro"}, "edited": false, "score": 0, "creation_date": 1538719621, "post_id": 52620213, "comment_id": 92248787, "body": "This is most probably CORS issue. Can you double check if there are any errors in Dev Tools (Content, Popup)?"}, {"owner": {"reputation": 2701, "user_id": 351711, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8919f5f328c1105161e73019d7be5bcf?s=128&d=identicon&r=PG", "display_name": "user351711", "link": "https://stackoverflow.com/users/351711/user351711"}, "reply_to_user": {"reputation": 320, "user_id": 4218769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e697c7a4db1d4f52cfa8147e8db613?s=128&d=identicon&r=PG&f=1", "display_name": "WarPro", "link": "https://stackoverflow.com/users/4218769/warpro"}, "edited": false, "score": 0, "creation_date": 1539177990, "post_id": 52620213, "comment_id": 92407372, "body": "There were no errors in the console.  I could not find an answer so changed to not reference analytics.js from google and I manually posted the pageviews and events which worked without issue in Chrome, Firefox and Edge."}], "owner": {"reputation": 2701, "user_id": 351711, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8919f5f328c1105161e73019d7be5bcf?s=128&d=identicon&r=PG", "display_name": "user351711", "link": "https://stackoverflow.com/users/351711/user351711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1538547665, "creation_date": 1538544410, "last_edit_date": 1538547665, "question_id": 52620213, "link": "https://stackoverflow.com/questions/52620213/chrome-firefox-edge-extension-google-analytics", "title": "Chrome/Firefox/Edge Extension - Google Analytics", "body": "<p>We have an extension written in Typescript working on Chrome, Firefox and Edge which we are adding Google Analytics to.  We have done this by creating a simple file to load the google analytics:</p>\n\n<pre><code>import { environment } from \"../environment\";\n\n(function (i, s, o, g, r, a, m) {\n    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {\n        (i[r].q = i[r].q || []).push(arguments)\n    }, i[r].l = 1 * new Date().getTime(); a = s.createElement(o),\n        m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)\n})(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n\nga('create', environment.googleAnalyticsTrackingCode, 'auto');\nga('set', 'checkProtocolTask', function () { }); // Removes failing protocol check. @see: http://stackoverflow.com/a/22152353/1958200\nga('require', 'displayfeatures');\n</code></pre>\n\n<p>We then use webpack to build this and reference the file in the popup.html we have.  We have added a reference to the NPM package:</p>\n\n<blockquote>\n  <p>\"@types/google.analytics\": \"^0.0.39\"</p>\n</blockquote>\n\n<p>From the popup js file we are then able to make a call to the ga function like so:</p>\n\n<pre><code>ga('send', 'pageview', url); \n</code></pre>\n\n<p>We have also modified the manifest to include:</p>\n\n<blockquote>\n  <p>\"content_security_policy\": \"script-src 'self'\n  <a href=\"https://www.google-analytics.com\" rel=\"nofollow noreferrer\">https://www.google-analytics.com</a>; object-src 'self'\"</p>\n</blockquote>\n\n<p>Everything works without issue in Chrome and we see the page views logged in Google Analaytics but in Firefox and Edge there are no requests to Google Analytics but there are no errors of any kind either, it hits the ga function but nothing happens.</p>\n\n<p>Is there anything else we would have to do in Firefox and Edge to make this work?</p>\n\n<p>The structure of our application is that the content script creates an iframe on the page and loads the popup.html as the src of that iframe.  Is there a restriction in Firefox/Edge but not on Chrome that would affect Google Analytics on an extension structured in this way?</p>\n\n<p>Comparing the network requests, Chrome on the left, Firefox on the right:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hzWSj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzWSj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have also modified so it logs a page view from the background.  Again this is working fine in Chrome but does not work in Edge/Firefox but no errors.</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 796, "user_id": 7963358, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzDoh.jpg?s=128&g=1", "display_name": "Saket", "link": "https://stackoverflow.com/users/7963358/saket"}, "is_accepted": false, "score": 0, "last_activity_date": 1538543865, "creation_date": 1538543865, "answer_id": 52620117, "question_id": 52619969, "link": "https://stackoverflow.com/questions/52619969/how-to-show-components-in-the-content-area-of-home-component-instead-of-separate/52620117#52620117", "title": "How to show components in the content area of home component instead of separate page in Angular 5", "body": "<p>You should use something like this.\nCreate a <code>app.component.html</code> and <code>app.component.ts</code>, in your app.component.html write code as :</p>\n\n<pre><code>&lt;app-header *ngIf=\" this.session_data != null \" &gt;&lt;/app-header&gt;\n&lt;mz-progress [backgroundClass]=\"'grey lighten-4'\" *ngIf=\" progress == true\"&gt;&lt;/mz-progress&gt;\n&lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;app-footer&gt;&lt;/app-footer&gt;\n</code></pre>\n\n<p>this will bring the header and footer on every page as default or you can put your condition over here as per pages and thee pages on which you will redirect will be loaded under the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code>.</p>\n\n<p>Hence you can put your sidebar here as header or footer and write your html &amp; .ts code for your header or footer or sidebar as separate components.</p>\n\n<p>In your header/sidebar.html, write :</p>\n\n<pre><code>&lt;div class=\"app-header\" *ngIf=\"header == true\"&gt;\n//write your html here\n&lt;/div&gt;\n</code></pre>\n\n<p>Now, in your <code>app.module.ts</code>, load your <code>AppComponent</code> as: </p>\n\n<pre><code>bootstrap: [AppComponent],\n</code></pre>\n\n<p>and define your routes as :</p>\n\n<pre><code>export const routes: Routes = [//routing definations\n   { path: '', component: LoginComponent, canActivate: [Guard1] },\n   { path: 'dashboard', component: DashboardComponent, canActivate: [Guard] },\n   { path: 'afterDashboard', component: AfterDashboardComponent, canActivate: [Guard, DateGuard] },\n   { path: 'formlist', component: FormlistComponent, canActivate: [Guard, DateGuard] }\n},\n];\n</code></pre>\n\n<p>Hope this helps, what you have asked, i have achieved same by using this.</p>\n"}, {"tags": [], "owner": {"reputation": 683, "user_id": 6619757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc8465eef9f8ba52f77074fb5faa683?s=128&d=identicon&r=PG&f=1", "display_name": "mgm87", "link": "https://stackoverflow.com/users/6619757/mgm87"}, "is_accepted": true, "score": 4, "last_activity_date": 1538544071, "creation_date": 1538544071, "answer_id": 52620157, "question_id": 52619969, "link": "https://stackoverflow.com/questions/52619969/how-to-show-components-in-the-content-area-of-home-component-instead-of-separate/52620157#52620157", "title": "How to show components in the content area of home component instead of separate page in Angular 5", "body": "<p>What you want is a child route.</p>\n\n<p>The home component needs to have a <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> as well as your app component. Then you will want to create a new component to hold the content you want to replace in your main component.</p>\n\n<pre><code>&lt;mat-sidenav-container class=\"sidenav-container\"&gt;\n\n  &lt;mat-sidenav #drawer class=\"sidenav\" fixedInViewport=\"true\" [attr.role]= (isHandset$ | async) ? 'dialog' : 'navigation'\"\n    [mode]=\"(isHandset$ | async) ? 'over' : 'side'\" [opened]=\"!(isHandset$ | async)\" style=\"background:black\"&gt;\n    &lt;mat-toolbar class=\"menuBar\"&gt;Menus&lt;/mat-toolbar&gt;\n    &lt;mat-nav-list&gt;\n      &lt;a class=\"menuTextColor\" mat-list-item routerLink=\"/settings\"&gt;Link 1&lt;/a&gt;\n    &lt;/mat-nav-list&gt;\n  &lt;/mat-sidenav&gt;\n\n  &lt;mat-sidenav-content&gt;\n    &lt;mat-toolbar class=\"toolbar\"&gt;\n      &lt;button class=\"menuTextColor\" type=\"button\" aria-label=\"Toggle sidenav\" mat-icon-button (click)=\"drawer.toggle()\"\n        *ngIf=\"isHandset$ | async\"&gt;\n        &lt;mat-icon aria-label=\"Side nav toggle icon\"&gt;menu&lt;/mat-icon&gt;\n      &lt;/button&gt;\n      &lt;span class=\"toolbarHeading\"&gt;Application Title&lt;/span&gt;\n    &lt;/mat-toolbar&gt;\n\n    // The new part\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n\n  &lt;/mat-sidenav-content&gt;\n\n&lt;/mat-sidenav-container&gt;\n</code></pre>\n\n<p>Then update your routes to something like this:</p>\n\n<pre><code>const routings: Routes = [\n  { path: '', redirectTo: '/login', pathMatch: 'full' },\n  {\n    path: 'home',\n    component: HomeComponent,\n    children: [\n      { path: '', component: NewComponent },\n      { path: 'settings', component: SettingsComponent },\n    ]\n  },\n  { path: 'login', component: LoginComponent },\n  { path: '**', redirectTo: '/login', pathMatch: 'full' },\n];\n</code></pre>\n\n<p>The route <code>/home</code> will look the same as it used to even thou it is now the new component wrapped by the home component. The route <code>/home/settings</code> will have your settings component wrapped by your home component.</p>\n"}], "owner": {"reputation": 2581, "user_id": 9956391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b481d275f3f4090747ba9ee3fcebb63?s=128&d=identicon&r=PG&f=1", "display_name": "Zhu", "link": "https://stackoverflow.com/users/9956391/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 693, "favorite_count": 0, "accepted_answer_id": 52620157, "answer_count": 2, "score": 0, "last_activity_date": 1538544071, "creation_date": 1538542815, "question_id": 52619969, "link": "https://stackoverflow.com/questions/52619969/how-to-show-components-in-the-content-area-of-home-component-instead-of-separate", "title": "How to show components in the content area of home component instead of separate page in Angular 5", "body": "<p>I am new to Angular 5 ,Here I am facing a problem with component routing .</p>\n\n<p>What I want to do is ,When a user open the app first it should show a <strong>login screen</strong> (login screen with full height and width of browser window).Once the user is successfully validated then the user get into the <strong>Home Component</strong>.</p>\n\n<p>Here Home component has Toolbar and Side menu bar ,If user selected any any from side menu bar I want to show the relevant(component) data in the content area of the home component.</p>\n\n<p>As of now everything works fine ,I mean when user opens the app login screen first displayed and successfully validated Home page displayed to the user .</p>\n\n<p><strong>Problem occurs when user select any menu from side menu bar the respected component not showing in the content area of the Home component ,it opens as a separate component and takes full screen.</strong></p>\n\n<p>home.component.ts</p>\n\n<pre><code> &lt;mat-sidenav-container class=\"sidenav-container\"&gt;\n\n      &lt;mat-sidenav #drawer class=\"sidenav\" fixedInViewport=\"true\" [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\n        [mode]=\"(isHandset$ | async) ? 'over' : 'side'\" [opened]=\"!(isHandset$ | async)\" style=\"background:black\"&gt;\n        &lt;mat-toolbar class=\"menuBar\"&gt;Menus&lt;/mat-toolbar&gt;\n        &lt;mat-nav-list&gt;\n          &lt;a class=\"menuTextColor\" mat-list-item routerLink=\"/settings\"&gt;Link 1&lt;/a&gt;\n        &lt;/mat-nav-list&gt;\n      &lt;/mat-sidenav&gt;\n\n      &lt;mat-sidenav-content&gt;\n        &lt;mat-toolbar class=\"toolbar\"&gt;\n          &lt;button class=\"menuTextColor\" type=\"button\" aria-label=\"Toggle sidenav\" mat-icon-button (click)=\"drawer.toggle()\"\n            *ngIf=\"isHandset$ | async\"&gt;\n            &lt;mat-icon aria-label=\"Side nav toggle icon\"&gt;menu&lt;/mat-icon&gt;\n          &lt;/button&gt;\n          &lt;span class=\"toolbarHeading\"&gt;Application Title&lt;/span&gt;\n        &lt;/mat-toolbar&gt;\n\n//Content area ,need to show the components related to the side menu\n\n      &lt;/mat-sidenav-content&gt;\n\n    &lt;/mat-sidenav-container&gt;\n</code></pre>\n\n<p>app.components.ts</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>In app.component.ts I have the </p>\n\n<p>app.module.ts</p>\n\n<pre><code>const routings: Routes = [\n    { path: '', redirectTo: '/login', pathMatch: 'full' },\n    { path: 'login', component: LoginComponent },\n    { path: 'home', component: HomeComponent },\n    { path: 'settings', component: SettingsComponent },\n    { path: '**', redirectTo: '/login', pathMatch: 'full' },\n];\n</code></pre>\n\n<p>here I have defined the routes .</p>\n\n<p>can anyone help me to fix this .</p>\n"}, {"tags": ["javascript", "angular", "typescript", "chart.js"], "answers": [{"tags": [], "owner": {"reputation": 1107, "user_id": 5487345, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TIjQP.jpg?s=128&g=1", "display_name": "maxadorable", "link": "https://stackoverflow.com/users/5487345/maxadorable"}, "is_accepted": true, "score": 1, "last_activity_date": 1538696075, "last_edit_date": 1538696075, "creation_date": 1538541290, "answer_id": 52619745, "question_id": 52619523, "link": "https://stackoverflow.com/questions/52619523/how-to-show-bar-chart-labels-clearly-using-chartjs/52619745#52619745", "title": "How to show bar chart labels clearly using ChartJS?", "body": "<p>Try setting <code>autoSkip: true</code>. This is how you would do it in normal Chart.JS, not sure how you can do it in Angular2 Chart.js</p>\n\n<pre><code>scales: {\n  xAxes: [{\n    ticks: {\n      autoSkip: true\n    }\n  }]\n}\n</code></pre>\n\n<p>You can also add <code>minRotation: 30</code>, to rotate the text to increase the text readability</p>\n\n<p>** Edit ** </p>\n\n<pre><code>  barChartOptions:any = {\n      scaleShowVerticalLines: true,\n       scales: {\n        xAxes: [{\n          ticks: {\n            autoSkip: true\n          }\n         }]\n      },\n      responsive: true\n  };\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 10120711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGkui.png?s=128&g=1", "display_name": "lei lei", "link": "https://stackoverflow.com/users/10120711/lei-lei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 52619745, "answer_count": 1, "score": 0, "last_activity_date": 1538696075, "creation_date": 1538539313, "question_id": 52619523, "link": "https://stackoverflow.com/questions/52619523/how-to-show-bar-chart-labels-clearly-using-chartjs", "title": "How to show bar chart labels clearly using ChartJS?", "body": "<p>In my Angular project, I want to use ChartJS to draw a barchart. The number of data for this chart are random and variable. It may be very large sometimes.</p>\n\n<p>When the number is large, the labels are overlap each other as:  <a href=\"https://i.stack.imgur.com/bVhaQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bVhaQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to know how to automatically adjust the space and show the label correctly?</p>\n\n<p>Source code is: \nJavascript:</p>\n\n<pre><code>  // Bar chart mock data\n  barChartOptions:any = {\n  scaleShowVerticalLines: true,\n  responsive: true\n  };\n  barChartLabels:string[] = ['2018-10-02 15:26:41', ...];\n  barChartType:string = 'horizontalBar';\n  barChartLegend:boolean = true;\n  barChartData:any[] = [{data: data, label: 'Kilometre per Litre'}];\n</code></pre>\n\n<p>html</p>\n\n<pre><code>&lt;div style=\"display: block\"&gt;\n   &lt;canvas baseChart id=\"mpgChart\"\n       [datasets]=\"barChartData\"\n       [labels]=\"barChartLabels\"\n       [options]=\"barChartOptions\"\n       [legend]=\"barChartLegend\"\n       [chartType]=\"barChartType\"\n       (chartHover)=\"chartHovered($event)\"\n       (chartClick)=\"chartClicked($event)\"&gt;&lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>scss</p>\n\n<pre><code> #mpgChart{\n    height: 100%;\n    width: 100%;\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "is_accepted": true, "score": 1, "last_activity_date": 1538537604, "creation_date": 1538537604, "answer_id": 52619316, "question_id": 52619264, "link": "https://stackoverflow.com/questions/52619264/how-do-i-import-jimp-into-ionic/52619316#52619316", "title": "How do I import JIMP into Ionic?", "body": "<p>Jimp exposes definition file(.d.ts) in root of the project. So</p>\n\n<p><strong>App.Module.ts</strong></p>\n\n<pre><code>import Jimp from 'jimp';\n\n@NgModule({\n  imports: [ Jimp ],\n</code></pre>\n\n<p><strong>Component:</strong></p>\n\n<pre><code>import Jimp from 'jimp';\nJimp.read('');\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-bx1aae\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-bx1aae</a></p>\n"}], "owner": {"reputation": 23, "user_id": 5627221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ad71a081142917f549372ba2877508?s=128&d=identicon&r=PG", "display_name": "Recalc", "link": "https://stackoverflow.com/users/5627221/recalc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 52619316, "answer_count": 1, "score": 1, "last_activity_date": 1538537604, "creation_date": 1538536983, "question_id": 52619264, "link": "https://stackoverflow.com/questions/52619264/how-do-i-import-jimp-into-ionic", "title": "How do I import JIMP into Ionic?", "body": "<p>Angular/Typescript novice here.</p>\n\n<p>I am trying to bring <a href=\"https://github.com/oliver-moran/jimp/tree/master/packages/jimp\" rel=\"nofollow noreferrer\">Jimp</a>into my Ionic project.</p>\n\n<p>I've followed the Github documentation to <code>npm install --save jimp</code> and <code>import Jimp from 'jimp/es';</code></p>\n\n<p>I'm stuck now, with the application throwing a <code>StaticInjectorError</code>.</p>\n\n<p>Basically, how do I import Jimp properly? I'm stuck and would appreciate all the help I can get.</p>\n\n<p>Thanks for reading!</p>\n\n<p>Edit:</p>\n\n<p>in the past, I am used to being able to import modules into my <code>app.module.ts</code> and respective pages that use the modules in the constructor, but Jimp seems to be a different case here.</p>\n"}, {"tags": ["typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4416029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc09dfb9745b4ec7ce9b22b9ff59b78f?s=128&d=identicon&r=PG&f=1", "display_name": "C&#225;ssio Moraes", "link": "https://stackoverflow.com/users/4416029/c%c3%a1ssio-moraes"}, "edited": false, "score": 0, "creation_date": 1538603749, "post_id": 52619271, "comment_id": 92205621, "body": "That worked for the file reference, on top of that I also had a problem coping the file to the &quot;build&quot; folder. Also solved that and everything started to work."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1538537076, "creation_date": 1538537076, "answer_id": 52619271, "question_id": 52618963, "link": "https://stackoverflow.com/questions/52618963/using-image-imported-in-typescript/52619271#52619271", "title": "Using image imported in Typescript", "body": "<p>The <code>file-loader</code> produces a module with a CommonJS export assignment, not a default export.  Either enable the <code>esModuleInterop</code> TypeScript compiler option to make export assignments interoperable with default exports, or change your declaration to:</p>\n\n<pre><code>declare module \"*.png\" {\n  const value: any;\n  export = value;\n}\n</code></pre>\n\n<p>and remove the <code>.default</code> from your code.  See <a href=\"https://stackoverflow.com/a/42479216\">this answer</a> for a little background on the different kinds of imports and exports (it doesn't cover TypeScript though).</p>\n"}], "owner": {"reputation": 3, "user_id": 4416029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc09dfb9745b4ec7ce9b22b9ff59b78f?s=128&d=identicon&r=PG&f=1", "display_name": "C&#225;ssio Moraes", "link": "https://stackoverflow.com/users/4416029/c%c3%a1ssio-moraes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2313, "favorite_count": 0, "accepted_answer_id": 52619271, "answer_count": 1, "score": 0, "last_activity_date": 1538537076, "creation_date": 1538534283, "last_edit_date": 1538536609, "question_id": 52618963, "link": "https://stackoverflow.com/questions/52618963/using-image-imported-in-typescript", "title": "Using image imported in Typescript", "body": "<p>I'm creating a project with Typescrip, Three.js and Webpack.</p>\n\n<p>For this project I need to put an icon inside the view to show it in fullscreen. </p>\n\n<p>To achieve this I followed the above thread:\n<a href=\"https://stackoverflow.com/questions/51100401/typescript-image-import\">Typescript image import</a></p>\n\n<p>My <strong>import-png.d.ts</strong></p>\n\n<pre><code> declare module \"*.png\" {\n    const value: any;\n    export default value;\n }\n</code></pre>\n\n<p>My image import:</p>\n\n<pre><code>import * as fullscreenIcon from \"./resources/fullscreenIcon.png\";\n</code></pre>\n\n<p>My function to add the icon:</p>\n\n<pre><code>private addFullscreenIcon(): void {\n   const fullscreen = document.createElement(\"div\");\n   const icon = document.createElement(\"img\") as HTMLImageElement;\n\n   console.log(\"fullscreen\", fullscreenIcon);\n\n   icon.src = fullscreenIcon.default;\n   fullscreen.appendChild(icon);\n\n   this.canvas.append(fullscreen);\n}\n</code></pre>\n\n<p>On the page console I got this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/GrzTk.png\" alt=\"Console error\"></p>\n\n<p>My html structure, with the div generate by the <code>const fullscreen = document.createElement(\"div\");</code> command, is:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PEIQZ.png\" alt=\"enter image description here\"></p>\n\n<p>And my bundled folder structure is like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Y3yNn.png\" alt=\"Folder structure\"></p>\n\n<p>In the console the image name is <code>627aac9ac2a7a147efb902c908a25b2c.png</code> but in the folder structure is <code>fullscreenIcon.png</code></p>\n\n<p>So if <code>icon.src = fullscreenIcon.default;</code> is not working, how should I proceed?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 995, "user_id": 6437335, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b1e29f44c7cffacfb1b32c6746f85c27?s=128&d=identicon&r=PG&f=1", "display_name": "Edon", "link": "https://stackoverflow.com/users/6437335/edon"}, "edited": false, "score": 0, "creation_date": 1538529653, "post_id": 52618396, "comment_id": 92170956, "body": "Is this code you posted related to the question? If I&#39;m understanding you correctly, you want there to be a pop-up prompt before (generate) is ran?"}], "answers": [{"tags": [], "owner": {"reputation": 995, "user_id": 6437335, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b1e29f44c7cffacfb1b32c6746f85c27?s=128&d=identicon&r=PG&f=1", "display_name": "Edon", "link": "https://stackoverflow.com/users/6437335/edon"}, "is_accepted": false, "score": 0, "last_activity_date": 1538530529, "last_edit_date": 1538530529, "creation_date": 1538530220, "answer_id": 52618497, "question_id": 52618396, "link": "https://stackoverflow.com/questions/52618396/how-to-have-popup-or-prompt-validation-password-before-run-a-function/52618497#52618497", "title": "How to have popup or prompt validation password before run a function", "body": "<p>You can use a modal (pop-up) to do this</p>\n\n<p><a href=\"https://embed.plnkr.co/plunk/7Ve8jy\" rel=\"nofollow noreferrer\">Here</a> is an example of how this might work:</p>\n\n<p>In your html:</p>\n\n<pre><code>&lt;modal id=\"custom-modal-1\"&gt;\n    &lt;div class=\"modal\"&gt;\n        &lt;div class=\"modal-body\"&gt;\n            &lt;h1&gt;A Custom Modal!&lt;/h1&gt;\n            &lt;p&gt;\n                Enter the password: &lt;input type=\"text\" [(ngModel)]=\"passwordText\" /&gt;\n            &lt;/p&gt;\n            &lt;button (click)=\"generate();\"&gt;Run generate function&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"modal-background\"&gt;&lt;/div&gt;\n&lt;/modal&gt;\n</code></pre>\n\n<p>Then, in your typescript, declare your variable that is tied to the ngModel. The variable tied to the ngModel (passwordText) will be exactly the same as whatever the user is entering the in modal password prompt.</p>\n\n<pre><code>  private passwordText: any;\n\n  generate() {\n    // prevent function from running if password is incorrect\n    if (this.passwordText !== 'some password') {\n      return;\n    }\n   // your current code goes here\n  }\n</code></pre>\n\n<p>And the CSS for the modal to be created, taken from the link:</p>\n\n<pre><code>/* MODAL STYLES\n-------------------------------*/\nmodal {\n    /* modals are hidden by default */\n    display: none;\n\n    .modal {\n        /* modal container fixed across whole screen */\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n\n        /* z-index must be higher than .modal-background */\n        z-index: 1000;\n\n        /* enables scrolling for tall modals */\n        overflow: auto;\n\n        .modal-body {\n            padding: 20px;\n            background: #fff;\n\n            /* margin exposes part of the modal background */\n            margin: 40px;\n        }\n    }\n\n    .modal-background {\n        /* modal background fixed across whole screen */\n        position: fixed;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n\n        /* semi-transparent black  */\n        background-color: #000;\n        opacity: 0.75;\n\n        /* z-index must be below .modal and above everything else  */\n        z-index: 900;\n    }\n}\n\nbody.modal-open {\n    /* body overflow is hidden to hide main scrollbar when modal window is open */\n    overflow: hidden;\n}\n</code></pre>\n\n<p>Credit to Jason Watmore for the modal example plnkr.</p>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 9767407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gyTWbTa_nrU/AAAAAAAAAAI/AAAAAAAAAxw/Q2xWYVHbwVU/photo.jpg?sz=128", "display_name": "Hicham MARKUS", "link": "https://stackoverflow.com/users/9767407/hicham-markus"}, "edited": false, "score": 0, "creation_date": 1538618253, "post_id": 52619123, "comment_id": 92208738, "body": "Thank you Dauglas. Im working on it but having a small issue: I can not include  two constructor  in one class it gives me an error :  constructor(private lotService: LotService) { } constructor(public dialog: MatDialog) { }"}, {"owner": {"reputation": 455, "user_id": 5373909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYDDk.jpg?s=128&g=1", "display_name": "Douglas P.", "link": "https://stackoverflow.com/users/5373909/douglas-p"}, "reply_to_user": {"reputation": 49, "user_id": 9767407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gyTWbTa_nrU/AAAAAAAAAAI/AAAAAAAAAxw/Q2xWYVHbwVU/photo.jpg?sz=128", "display_name": "Hicham MARKUS", "link": "https://stackoverflow.com/users/9767407/hicham-markus"}, "edited": false, "score": 0, "creation_date": 1538710013, "post_id": 52619123, "comment_id": 92246364, "body": "Hello Markus, you should have only 1 constructor but pass 2 parameters like this: constructor(private lotService: LotService, public dialog: MatDialog) { }"}], "tags": [], "owner": {"reputation": 455, "user_id": 5373909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYDDk.jpg?s=128&g=1", "display_name": "Douglas P.", "link": "https://stackoverflow.com/users/5373909/douglas-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1560443142, "last_edit_date": 1560443142, "creation_date": 1538535760, "answer_id": 52619123, "question_id": 52618396, "link": "https://stackoverflow.com/questions/52618396/how-to-have-popup-or-prompt-validation-password-before-run-a-function/52619123#52619123", "title": "How to have popup or prompt validation password before run a function", "body": "<p>Since you are using Angular and Angular Material for this you can use a <a href=\"https://material.angular.io/components/dialog/overview\" rel=\"nofollow noreferrer\">Dialog</a> to pop up when you click on the button and return the value of the input and check against your secret.</p>\n\n<p>Even though the input does not display the password as you type remember that the data is being 'saved' as a string and is not encrypted in any way.</p>\n\n<p>Click <a href=\"https://angular-so-popup-example.stackblitz.io\" rel=\"nofollow noreferrer\">here</a> to see my working example on Stackblitz.</p>\n\n<p>HTML for the dialog:</p>\n\n<pre><code>&lt;h1 mat-dialog-title&gt;WARNING!&lt;/h1&gt;\n&lt;div mat-dialog-content&gt;\n  &lt;p&gt;You are about to generate a new Lot #. YOU CAN'T UNDO IT&lt;/p&gt;\n  &lt;mat-form-field&gt;\n    &lt;input matInput type=\"password\" placeholder=\"Password\" [(ngModel)]=\"password\"&gt;\n  &lt;/mat-form-field&gt;\n&lt;/div&gt;\n&lt;div mat-dialog-actions&gt;\n  &lt;button mat-button (click)=\"onNoClick()\"&gt;Cancel&lt;/button&gt;\n  &lt;button mat-button [mat-dialog-close]=\"password\" cdkFocusInitial&gt;Ok&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>TS for Dialog:</p>\n\n<pre><code>export class SimpleDialogComponent {\n  password = '';\n\n  constructor(\n    public dialogRef: MatDialogRef&lt;SimpleDialogComponent&gt;) {}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n}\n</code></pre>\n\n<p>TS for AppComponent:</p>\n\n<pre><code>export class AppComponent  {\n  // secret to validate the password\n  secret = 'YESRUNFUNCTION';\n\n  constructor(public dialog: MatDialog) {}\n\n  generate(): void {\n    const dialogRef = this.dialog.open(SimpleDialogComponent, {\n      width: '250px',\n    });\n\n    dialogRef.afterClosed().subscribe(password =&gt; {\n      const isPwdValid = password === this.secret;\n      console.log(isPwdValid);\n      if (isPwdValid) {\n        // run code for correct password \n      } else {\n        // run code for wrong password\n      }\n    });\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 9767407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gyTWbTa_nrU/AAAAAAAAAAI/AAAAAAAAAxw/Q2xWYVHbwVU/photo.jpg?sz=128", "display_name": "Hicham MARKUS", "link": "https://stackoverflow.com/users/9767407/hicham-markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1114, "favorite_count": 1, "accepted_answer_id": 52619123, "answer_count": 2, "score": 0, "last_activity_date": 1560443142, "creation_date": 1538529346, "question_id": 52618396, "link": "https://stackoverflow.com/questions/52618396/how-to-have-popup-or-prompt-validation-password-before-run-a-function", "title": "How to have popup or prompt validation password before run a function", "body": "<p>Im looking for a way to have a validation password as prompt or popup before running a function.\nexample: after clicking a button and run a function a popup should comes up and ask to write YESRUNFUNCTION  then click ok and the function will be run its a way of validation.</p>\n\n<p>here is the code Im working with js confirmation  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  generate() {\r\n    if(confirm(\"WARNING! you are about to generate a new Lot #. YOU CAN'T UNDO IT\")) {\r\n    const sku = this.myControl.value;\r\n    if (sku) {\r\n      this.lotService.getCurrentLotNumber(sku).subscribe(result =&gt; {\r\n        let lotNumber = 'MY';\r\n        \r\n        const dt = new Date();\r\n        this.date = dt;\r\n        const year_time = dt.getFullYear();\r\n\r\n        var d = new Date();\r\n        var n = d.getMonth();\r\n         \r\n         if (n &lt; 10 ) {\r\n          this.foo = n+1;\r\n        }\r\n        if ( n === 9 ) {           \r\n             this.foo= 'O';\r\n        }\r\n        if ( n === 10 ) {           \r\n          this.foo= 'N';\r\n     }\r\n     if ( n === 11 ) {           \r\n      this.foo= 'D';\r\n }\r\n\r\n if (year_time === 2018 ) {\r\n  lotNumber = lotNumber + 'R'+ this.foo;\r\n}\r\nif (year_time === 2019) {\r\n  lotNumber = lotNumber + 'S'+ this.foo;\r\n}\r\nif (year_time === 2020) {\r\n  lotNumber = lotNumber + 'T'+ this.foo;\r\n}\r\n\r\nif (year_time === 2021) {\r\n  lotNumber = lotNumber + 'U'+ this.foo;\r\n}\r\n\r\nif (year_time === 2022) {\r\n  lotNumber = lotNumber + 'V'+ this.foo;\r\n}\r\nif (year_time === 2023) {\r\n  lotNumber = lotNumber + 'W'+ this.foo;\r\n}\r\nif (year_time === 2024) {\r\n  lotNumber = lotNumber + 'X'+ this.foo;\r\n}\r\nif (year_time === 2025) {\r\n  lotNumber = lotNumber + 'Y'+ this.foo;\r\n}\r\nif (year_time === 2026) {\r\n  lotNumber = lotNumber + 'Z'+ this.foo;\r\n}\r\n\r\n        lotNumber += result;\r\n        this.lotService.saveLotNumber(sku, lotNumber).subscribe(res =&gt; {\r\n          if (res &amp;&amp; res.sku == sku) {\r\n            this.lot_number = lotNumber + 'W';\r\n            this.loadLastLot(sku);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;mat-chip-list&gt;\r\n    &lt;mat-chip color=\"accent\" selected (click)=\"generate()\" &gt; Generate New Lot #&lt;/mat-chip&gt;\r\n  &lt;/mat-chip-list&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1538530295, "creation_date": 1538530295, "answer_id": 52618508, "question_id": 52618362, "link": "https://stackoverflow.com/questions/52618362/typescript-function-that-takes-an-object-without-certain-keys/52618508#52618508", "title": "TypeScript function that takes an object without certain keys", "body": "<p>One possible way is to have a type with optional properties declared with <code>void</code> type. No type is assignable to <code>void</code>, so any object that has these attributes will not be compatible with the argument type:</p>\n\n<pre><code>interface ReservedAttributes {\n    someKey: string;\n}\n\ntype DisallowedAttributes&lt;T&gt; = { [k in keyof T]?: void };\n\n\ntype AllowedKeys = string; // could be restricted if necessary \n\nfunction fn&lt;K extends AllowedKeys&gt;(t: { [k in K]: {}} &amp; DisallowedAttributes&lt;ReservedAttributes&gt;) {\n\n}\n\nfn({ a: 'hi' }); // ok\n\nfn({ b: 4, someKey: 'd' }); // Error: Type 'string' is not assignable to type 'void &amp; {}'.\n                            // Type 'string' is not assignable to type 'void'.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "edited": false, "score": 0, "creation_date": 1538537921, "post_id": 52618536, "comment_id": 92172729, "body": "That&#39;s very creative! I&#39;m probably over-applying conditional types having just learned about them recently. Thanks for this. Are you using <code>keyof any</code> just as a short hand for <code>string | number | symbol</code>?"}, {"owner": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "edited": false, "score": 0, "creation_date": 1538539182, "post_id": 52618536, "comment_id": 92172956, "body": "And why would you avoid conditional types in this case? Only because you think it would be harder to reason about?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "edited": false, "score": 0, "creation_date": 1538562865, "post_id": 52618536, "comment_id": 92183441, "body": "Yeah <code>keyof any</code> is easier to write and also backwards compatible with versions of typescript where only strings are considered keys."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "edited": false, "score": 0, "creation_date": 1538563122, "post_id": 52618536, "comment_id": 92183589, "body": "Conditional types and generics are harder to reason about, both for developers and for the compiler.  Meaning that you might find yourself having to jump through hoops to convince the compiler that an expression is assignable to such a type.  It\u2019s not a huge deal either way, really."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1538530482, "creation_date": 1538530482, "answer_id": 52618536, "question_id": 52618362, "link": "https://stackoverflow.com/questions/52618362/typescript-function-that-takes-an-object-without-certain-keys/52618536#52618536", "title": "TypeScript function that takes an object without certain keys", "body": "<p>I think I'd first try staying away from generics and conditional types and do something like this:</p>\n\n<pre><code>type ValidAttributes = Record&lt;string, string&gt; &amp;\n  Partial&lt;Record&lt;keyof ReservedAttributes, never&gt;&gt;;\ndeclare function foo(attributes: ValidAttributes): void;\n\nfoo({ a: 'hi' }); // okay\nfoo({ a: 'hi', someKey: '' }); // error, someKey\n</code></pre>\n\n<p>In this case, <code>ValidAttributes</code> is a general string-valued dictionary but with the keys from <code>ReservedAttributes</code> listed as optional properties of type <code>never</code> (optional properties are allowed to be missing, and properties of type <code>never</code> are not really allowed to be present, so an optional property of type <code>never</code> is more or less one that must be missing.) Does that work for you?</p>\n\n<p>If you need to use conditional types in a generic constraint it can be done:</p>\n\n<pre><code>type Attributes&lt;K extends keyof any&gt; = {\n  [P in K]: P extends keyof ReservedAttributes ? never: string\n};\ndeclare function foo&lt;T&gt;(attributes: T &amp; Attributes&lt;keyof T&gt;): void;\nfoo({ a: 'hi' }); // okay\nfoo({ a: 'hi', someKey: '' }) // error\n</code></pre>\n\n<p>But it's more complicated and achieves similar results.  Hope that helps; good luck!</p>\n"}], "owner": {"reputation": 2185, "user_id": 998248, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9da7f340f13894027213bfb9aa2c5fed?s=128&d=identicon&r=PG", "display_name": "Anthony Naddeo", "link": "https://stackoverflow.com/users/998248/anthony-naddeo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1362, "favorite_count": 0, "accepted_answer_id": 52618536, "answer_count": 2, "score": 2, "last_activity_date": 1538530482, "creation_date": 1538529041, "question_id": 52618362, "link": "https://stackoverflow.com/questions/52618362/typescript-function-that-takes-an-object-without-certain-keys", "title": "TypeScript function that takes an object without certain keys", "body": "<p>Playing around with trying to create a function that takes an a single argument object that must not have some set of keys, without making people specify types manually. I was trying to leverage <code>never</code> somehow, but I'm getting caught up in trying to understand how inference works for function arguments that take in a type with a generic parameter.</p>\n\n<pre><code>interface ReservedAttributes {\n    someKey: string\n}\n\n// evaluates to never if the type has a key that intersects \n// with the keys in ReservedAttributes\ntype ValidAttributes&lt;T&gt; = keyof T extends Exclude&lt;keyof T, keyof ReservedAttributes&gt; ? T : never\n\n// This is correctly a never, but it doesn't address this problem\ntype Test = ValidAttributes&lt;{someKey : string}&gt;\n\n\n// This doesn't work because the function argument ends \n// up being inferred as { [name: string] : string}\nfunction foo1&lt;K extends { [name: string] : string}&gt;(attributes: ValidAttributes&lt;K&gt;)  {\n    // ...\n}\nfoo1({a: 'hi', someKey: ''})\n\n// Roughly equivalent to the above\nfunction foo2&lt; K extends { [name: string] : string}, V extends ValidAttributes&lt;K&gt; &gt;(attributes: V)  {\n    // ...\n}\n\n// This one allows V to correctly evaluate to never, \n// but I'm not sure how to leverage that\nfunction foo3&lt; K extends { [name: string] : string}, V extends ValidAttributes&lt;K&gt; &gt;(attributes: K)  {\n    // ...\n}\nfoo3({a: 'hi', someKey: ''})\n</code></pre>\n\n<p>How would you solve this problem?</p>\n"}, {"tags": ["node.js", "typescript", "fs"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 0, "creation_date": 1538530196, "post_id": 52618340, "comment_id": 92171077, "body": "Thanks, I guess I was just thrown off by the fact that a file descriptor is a number. What does a file descriptor represent? Is it just a location on disk?"}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 1, "creation_date": 1538542866, "post_id": 52618340, "comment_id": 92173736, "body": "@schu34 - A file descriptor at the OS level represents a data structure internal to the OS that keeps state about the open file on disk.  A file descriptor in C is a pointer to a data structure that keeps the OS level file descriptor and other state such as current write position etc....  The file descriptor number in node.js is an index into some sort of table or map inside of node.js that lets the node.js internals get the C-level file descriptor so it can call C file functions on it (which in turn get the OS level file descriptor) and carry out operations on the file."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "edited": false, "score": 1, "creation_date": 1538542979, "post_id": 52618340, "comment_id": 92173762, "body": "@schu34 - It&#39;s probably just a number in node.js because node.js didn&#39;t have an appropriate type for what it actually represents.  Thus, they just went with an abstract number that the native code behind the file operations can turn into a real native code file descriptor via some sort of map or table lookup."}], "tags": [], "owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1538528826, "creation_date": 1538528826, "answer_id": 52618340, "question_id": 52618275, "link": "https://stackoverflow.com/questions/52618275/why-does-fs-open-return-a-number/52618340#52618340", "title": "Why does fs.open return a number?", "body": "<p><a href=\"https://nodejs.org/api/fs.html#fs_fs_open_path_flags_mode_callback\" rel=\"nofollow noreferrer\">fs.open</a> returns a file descriptor (as an integer). But <a href=\"https://nodejs.org/api/fs.html#fs_fs_createwritestream_path_options\" rel=\"nofollow noreferrer\">createWriteStream</a> receives a <code>&lt;string&gt; | &lt;Buffer&gt; | &lt;URL&gt;</code> as its first argument, not a file-descriptor.</p>\n\n<p>Check <a href=\"https://nodejs.org/api/fs.html#fs_fs_write_fd_buffer_offset_length_position_callback\" rel=\"nofollow noreferrer\">fs.write</a> for a function that receives a file descriptor and allows writing to the file.</p>\n"}], "owner": {"reputation": 821, "user_id": 3294012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9145075c1e0430d85432483ed032f6ae?s=128&d=identicon&r=PG&f=1", "display_name": "schu34", "link": "https://stackoverflow.com/users/3294012/schu34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 547, "favorite_count": 0, "accepted_answer_id": 52618340, "answer_count": 1, "score": 0, "last_activity_date": 1539206806, "creation_date": 1538528185, "last_edit_date": 1539206806, "question_id": 52618275, "link": "https://stackoverflow.com/questions/52618275/why-does-fs-open-return-a-number", "title": "Why does fs.open return a number?", "body": "<p>I'm trying to use node/typescript to read a file using this code:</p>\n\n<pre><code>const openFile = util.promisify(fs.open);\nwrite(data: Buffer, index: number) {\n    if (!checkPieceIntegrity(data, this.pieceMap[index])) {\n        return false;\n    } else {\n        return openFile(this.path, \"r+\")\n            .then(fd =&gt; {\n                const writeStream = createWriteStream(fd, {\n                    flags: \"r+\",\n                    start: index * this.pieceLength,\n                    autoClose: true,\n                })\n\n                return util.promisify(writeStream.write)(data);\n            })\n\n\n    }\n}\n</code></pre>\n\n<p>but when I try to compile with <code>tsc</code> I get and error:  </p>\n\n<p><code>Argument of type 'number' is not assignable to parameter of type 'PathLike'</code>. </p>\n\n<p>In reference to this line: </p>\n\n<p><code>const writeStream = createWriteStream(fd, {</code>.</p>\n\n<p>The node.js docs say that <code>fs.open</code> returns a file descriptor, not a number so why does typescript think <code>fd</code> is a number and how can I get it to recognize it as a file descriptor?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538527827, "post_id": 52618188, "comment_id": 92170588, "body": "Can you post your angular.json"}, {"owner": {"reputation": 4935, "user_id": 584239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be8a9b2e9d87b13606c3b9e75d26e71d?s=128&d=identicon&r=PG", "display_name": "kumar", "link": "https://stackoverflow.com/users/584239/kumar"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538528125, "post_id": 52618188, "comment_id": 92170649, "body": "@Phix updated with Angular.json"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538528523, "post_id": 52618188, "comment_id": 92170731, "body": "Some searching around and it looks like the cli needs to be downgraded. Any reason you don&#39;t want to? Also, where did you see that the v6 cli is compatible with Angular v5?"}, {"owner": {"reputation": 4935, "user_id": 584239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be8a9b2e9d87b13606c3b9e75d26e71d?s=128&d=identicon&r=PG", "display_name": "kumar", "link": "https://stackoverflow.com/users/584239/kumar"}, "reply_to_user": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538528713, "post_id": 52618188, "comment_id": 92170766, "body": "@Phix <a href=\"https://blog.ninja-squad.com/2018/05/04/angular-cli-6.0/\" rel=\"nofollow noreferrer\">blog.ninja-squad.com/2018/05/04/angular-cli-6.0</a> Under &quot;Breaking changes&quot; section"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 0, "creation_date": 1538529565, "post_id": 52618188, "comment_id": 92170940, "body": "I don&#39;t see anything in the official changelog either, might be worth opening an issue if nothing comes of this question."}], "owner": {"reputation": 4935, "user_id": 584239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be8a9b2e9d87b13606c3b9e75d26e71d?s=128&d=identicon&r=PG", "display_name": "kumar", "link": "https://stackoverflow.com/users/584239/kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 307, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538528060, "creation_date": 1538527128, "last_edit_date": 1538528060, "question_id": 52618188, "link": "https://stackoverflow.com/questions/52618188/error-after-upgrading-project-from-angular-cli-5-2-to-angular-cli-6", "title": "error after upgrading project from angular cli 5.2 to angular CLI 6", "body": "<p>I recently upgraded my project from Angular CLI 5.2 to 6. But I get the following error when I build</p>\n\n<pre><code>ng build --configuration=qa\n</code></pre>\n\n<p>From my understading Angular CLI 6 is supposed to be compatible with angular 5.2. I do not want to roll back my Angular CLI back to 5</p>\n\n<blockquote>\n  <p>ERROR in Either route or analyzedModules has to be specified!</p>\n</blockquote>\n\n<p>Package.json </p>\n\n<pre><code>{\n  \"name\": \"WebApplication1\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve --extract-css\",\n    \"build\": \"ng build --extract-css\",\n    \"build:ssr\": \"npm run build -- --app=ssr --output-hashing=media\",\n    \"test\": \"ng test\",\n    \"lint\": \"ng lint\",\n    \"e2e\": \"ng e2e\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/animations\": \"^5.2.0\",\n    \"@angular/common\": \"^5.2.0\",\n    \"@angular/compiler\": \"^5.2.0\",\n    \"@angular/core\": \"^5.2.0\",\n    \"@angular/forms\": \"^5.2.0\",\n    \"@angular/http\": \"^5.2.0\",\n    \"@angular/platform-browser\": \"^5.2.0\",\n    \"@angular/platform-browser-dynamic\": \"^5.2.0\",\n    \"@angular/platform-server\": \"^5.2.0\",\n    \"@angular/router\": \"^5.2.0\",\n    \"@nguniversal/module-map-ngfactory-loader\": \"^5.0.0-beta.5\",\n    \"aspnet-prerendering\": \"^3.0.1\",\n    \"bootstrap\": \"^3.3.7\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"^5.5.6\",\n    \"zone.js\": \"^0.8.19\"\n  },\n  \"devDependencies\": {\n    \"@angular-devkit/build-angular\": \"0.8.4\",\n    \"@angular/cli\": \"6.2.4\",\n    \"@angular/compiler-cli\": \"6.1.9\",\n    \"@angular/language-service\": \"6.1.9\",\n    \"@types/jasmine\": \"~2.8.3\",\n    \"@types/jasminewd2\": \"~2.0.2\",\n    \"@types/node\": \"~6.0.60\",\n    \"codelyzer\": \"^4.0.1\",\n    \"jasmine-core\": \"~2.8.0\",\n    \"jasmine-spec-reporter\": \"~4.2.1\",\n    \"karma\": \"~2.0.0\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-coverage-istanbul-reporter\": \"^1.2.1\",\n    \"karma-jasmine\": \"~1.1.0\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"protractor\": \"~5.1.2\",\n    \"ts-node\": \"~4.1.0\",\n    \"tslint\": \"~5.9.1\",\n    \"typescript\": \"2.9.2\"\n  },\n  \"optionalDependencies\": {\n    \"node-sass\": \"^4.9.0\"\n  }\n}\n</code></pre>\n\n<p>Angular.json</p>\n\n<pre><code>{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"WebApplication1\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {},\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/WebApplication1\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ],\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.prod.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true,\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"2mb\",\n                  \"maximumError\": \"5mb\"\n                }\n              ]\n            },\n            \"qa\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.qa.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true,\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"2mb\",\n                  \"maximumError\": \"5mb\"\n                }\n              ]\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"browserTarget\": \"WebApplication1:build\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"WebApplication1:build:production\"\n            },\n            \"qa\": {\n              \"browserTarget\": \"WebApplication1:build:qa\"\n            }\n          }\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"WebApplication1:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"main\": \"src/test.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.spec.json\",\n            \"karmaConfig\": \"src/karma.conf.js\",\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"scripts\": [],\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ]\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"src/tsconfig.app.json\",\n              \"src/tsconfig.spec.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    }\n\n  },\n  \"defaultProject\": \"WebApplication1\"\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack", "ecmascript-6", "jestjs"], "comments": [{"owner": {"reputation": 21, "user_id": 10448772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e4f0e295ba8de812d7526ac4783a10?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik1408", "link": "https://stackoverflow.com/users/10448772/koushik1408"}, "edited": false, "score": 0, "creation_date": 1538527034, "post_id": 52618158, "comment_id": 92170443, "body": "Just FYI: Everything works fine when I do something like:       import * as sha256 from &quot;crypto-js&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10448772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e4f0e295ba8de812d7526ac4783a10?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik1408", "link": "https://stackoverflow.com/users/10448772/koushik1408"}, "edited": false, "score": 0, "creation_date": 1538632403, "post_id": 52618652, "comment_id": 92212094, "body": "Thanks Matt. I got it to work using createHash from @types/node instead of crypto-js/sha256."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 2, "last_activity_date": 1538531504, "creation_date": 1538531504, "answer_id": 52618652, "question_id": 52618158, "link": "https://stackoverflow.com/questions/52618158/typeerror-sha256-1-default-is-not-a-function/52618652#52618652", "title": "TypeError: sha256_1.default is not a function", "body": "<p>I assume the <code>crypto-js/sha256</code> module exports the sha256 function via a CommonJS-style export assignment (<code>module.exports = sha256</code>).  To import it, you either need to use TypeScript's special import assignment syntax:</p>\n\n<pre><code>import sha256 = require(\"crypto-js/sha256\");\n</code></pre>\n\n<p>or enable the <code>esModuleInterop</code> compiler option that provides interoperability between default imports and export assignments.</p>\n"}, {"tags": [], "owner": {"reputation": 1396, "user_id": 6405655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXqIm.jpg?s=128&g=1", "display_name": "Al Fahad", "link": "https://stackoverflow.com/users/6405655/al-fahad"}, "is_accepted": false, "score": 0, "last_activity_date": 1611037066, "creation_date": 1611037066, "answer_id": 65786363, "question_id": 52618158, "link": "https://stackoverflow.com/questions/52618158/typeerror-sha256-1-default-is-not-a-function/65786363#65786363", "title": "TypeError: sha256_1.default is not a function", "body": "<p>This syntax worked for me</p>\n<pre><code>import * as sha256 from 'crypto-js/sha256';\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10448772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02e4f0e295ba8de812d7526ac4783a10?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik1408", "link": "https://stackoverflow.com/users/10448772/koushik1408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1705, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1611037066, "creation_date": 1538526900, "last_edit_date": 1538590705, "question_id": 52618158, "link": "https://stackoverflow.com/questions/52618158/typeerror-sha256-1-default-is-not-a-function", "title": "TypeError: sha256_1.default is not a function", "body": "<p>I am getting below error while using jest to test. I'm using a non es6 npm package here. The issue happens when I do not want to do any wildcard * imports. I wanted to do explicit imports.</p>\n\n<pre><code>//code\n\nimport sha256 from \"crypto-js/sha256\";\n\nexport const GetHashToken = (value) =&gt; {\n return sha256(value);\n};\n\n//test\n\nimport { GetHashToken, GetUtcTimeStamp } from \n\"../../utils/ScheduleRepairUtility\";\n\ndescribe(\"Get hash token utility\", () =&gt; {\n  it(\"Should return sha-256 hex digit string for given value\", () =&gt; {\n    const paramValue = \"78436783465sears121212\";   \n    expect(GetHashToken(paramValue))\n     .toBe(\"b87663752c7f5bf0967f74fd3523dece543\n      f447e96d9b1d478c7336781e1828b\");\n  });\n});\n</code></pre>\n\n<p>Getting error:</p>\n\n<pre><code>\u25cf  Get hash token utility \u203a Should return sha-256 hex digit string for \n   given value\n\nTypeError: sha256_1.default is not a function\n</code></pre>\n\n<p>I'm using react-typescript for my project. Any help is appreciated.</p>\n\n<p>Thanks!!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "d3.js"], "comments": [{"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1538528471, "post_id": 52618138, "comment_id": 92170718, "body": "do you still have an SVG in the <code>div</code>, do you destruct the SVG when the component is hidden?"}, {"owner": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "reply_to_user": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 0, "creation_date": 1538532185, "post_id": 52618138, "comment_id": 92171535, "body": "@rioV8 no I do not destruct that. I added my code in the post."}, {"owner": {"reputation": 11834, "user_id": 9938317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b72fceef5630b6b962624fed6ac9c82?s=128&d=identicon&r=PG&f=1", "display_name": "rioV8", "link": "https://stackoverflow.com/users/9938317/riov8"}, "edited": false, "score": 1, "creation_date": 1538532596, "post_id": 52618138, "comment_id": 92171611, "body": "<code>var child = this.state.selection===&quot;graph&quot;;</code> is enough, the expression is a boolean"}], "answers": [{"comments": [{"owner": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "edited": false, "score": 0, "creation_date": 1538537180, "post_id": 52618705, "comment_id": 92172577, "body": "Thanks this solved the issue. But as you said &quot;React removes the old div from the document and adds a new one&quot; should not the componentDidMount callback trigger again?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "edited": false, "score": 1, "creation_date": 1538537438, "post_id": 52618705, "comment_id": 92172629, "body": "The <code>componentDidMount</code> callback on a given <code>D3Core</code> component instance is called only once, after that instance is fully initialized.  After that, the instance may re-render many times (resulting in addition and/or removal of DOM elements and subcomponents) and each time you will get a <code>componentDidUpdate</code>, not <code>componentDidMount</code>.  In principle, you could write <code>componentDidUpdate</code> to check if <code>renderfull</code> went from false to true and initialize another D3 instance if so, but using a subcomponent avoids duplicating code between <code>componentDidMount</code> and <code>componentDidUpdate</code>."}, {"owner": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "edited": false, "score": 0, "creation_date": 1538590473, "post_id": 52618705, "comment_id": 92199866, "body": "Will component did update be called before componentdidmount?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "edited": false, "score": 1, "creation_date": 1538591212, "post_id": 52618705, "comment_id": 92200185, "body": "The first render of a component calls <code>componentDidMount</code> and not <code>componentDidUpdate</code>; see <a href=\"http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/\" rel=\"nofollow noreferrer\">this diagram</a>.  If your question is about the order of <code>componentDidUpdate</code> of a parent component vs. <code>componentDidMount</code> of a child component that was just created when the parent re-rendered, I believe the <code>componentDidMount</code> of the child component comes first, but you could just try it and see."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 3, "last_activity_date": 1538532038, "creation_date": 1538532038, "answer_id": 52618705, "question_id": 52618138, "link": "https://stackoverflow.com/questions/52618138/force-re-render-d3-component-on-react-after-state-change-in-parent/52618705#52618705", "title": "Force re-render D3 component on React after state change in parent", "body": "<p>I presume the problem is that when <code>renderfull</code> gets toggled off and back on again, React removes the old <code>div</code> from the document and adds a new one, and your D3 instance is still attached to the old (removed) div.  However, the D3Core component instance remains mounted the whole time, so you don't get a new <code>componentDidMount</code> callback.</p>\n\n<p>The cleanest solution would be to move the D3 stuff to a subcomponent of <code>D3Core</code> (for example, suppose the subcomponent is named <code>D3Sub</code>) and have <code>D3Core</code>'s <code>render</code> method return <code>&lt;D3Sub ...&gt;</code> only if <code>renderfull</code> is true.  Then, when <code>renderfull</code> gets toggled off and back on again, the <code>D3Sub</code> instance will be destroyed and a new <code>D3Sub</code> instance will be created, and the new instance will get a <code>componentDidMount</code> callback.</p>\n"}], "owner": {"reputation": 4498, "user_id": 1164435, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0c5d4b1f18696b95d487c354ba1b5148?s=128&d=identicon&r=PG", "display_name": "P basak", "link": "https://stackoverflow.com/users/1164435/p-basak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1563, "favorite_count": 0, "accepted_answer_id": 52618705, "answer_count": 1, "score": 1, "last_activity_date": 1538532234, "creation_date": 1538526632, "last_edit_date": 1538532234, "question_id": 52618138, "link": "https://stackoverflow.com/questions/52618138/force-re-render-d3-component-on-react-after-state-change-in-parent", "title": "Force re-render D3 component on React after state change in parent", "body": "<p>I have two react components (in typescript). In the first component I have some menus. </p>\n\n<pre><code>   &lt;Menu.Item\n      name=\"graph\"\n      active={activeItem === \"graph\"}\n      onClick={this.handleItemClick}\n    /&gt;\n    &lt;Menu.Item\n      name=\"flow\"\n      active={activeItem === \"flow\"}\n      onClick={this.handleItemClick}\n    /&gt;\n</code></pre>\n\n<p>corresponding event handler</p>\n\n<pre><code>handleItemClick = (e, { name }) =&gt; {this.setState({ activeItem: name, hello: name, selection:name });};\n</code></pre>\n\n<p>In the render function I am passing this decision as a property to another react component D3Core</p>\n\n<p>before return,</p>\n\n<pre><code>var child = this.state.selection===\"graph\"? true : false ;\n</code></pre>\n\n<p>inside return,</p>\n\n<pre><code>&lt;D3Core renderfull = {child} width={this.state.width} height={this.state.height} data={data} /&gt;\n</code></pre>\n\n<p>In D3Core render function I am using the following to render the graph</p>\n\n<pre><code>if(this.props.renderfull) {\n        return &lt;div style={style} ref={mountPoint =&gt; (this.ctrls.mountPoint = mountPoint)} /&gt;;\n    } else {\n        return &lt;p&gt;Hello&lt;/p&gt;;\n    }\n</code></pre>\n\n<p>where the force layout d3 computation is done inside the componentDidMount callback.</p>\n\n<pre><code>componentDidMount() {\n    const { width, height, data } = this.props;\n    const force = d3\n      .forceSimulation()\n      .nodes(data.nodes)\n      .force('charge', d3.forceManyBody().strength(-120))\n      .force('link', d3.forceLink(data.links).distance(50))\n      .force('center', d3.forceCenter(width / 2, height / 2));\n\nconst svg = d3\n      .select(this.ctrls.mountPoint)\n      .append('svg')\n      .attr('width', width)\n      .attr('height', height);\n    ...\n</code></pre>\n\n<p>The problem I am facing is when I first load the document it shows the graph but if I navigate away from the menu and return to the menu it just loads the div not the graph. I guess I have to re-render the graph but how?</p>\n\n<p>I am guessing this is because all the components are already rendered and the d3 computation is not happening at all. Should I do the computation inside render?</p>\n\n<p>I have attached couple of screenshots. THe first screenshot shows the graph is rendered when the page is first loaded. THe second screenshot shows the graph is not rendered only the div element when I navigated away from graph menu and came back.</p>\n\n<p>Edit 1: <a href=\"https://codeshare.io/5Xn9kE\" rel=\"nofollow noreferrer\">Here</a> is my d3 code  </p>\n\n<p><a href=\"https://i.stack.imgur.com/geTFH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/geTFH.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/FcH24.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FcH24.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "angular5", "amazon-rds", "date-pipe"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 10192769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8deddef955498cee92d7de291e636ef0?s=128&d=identicon&r=PG&f=1", "display_name": "user10192769", "link": "https://stackoverflow.com/users/10192769/user10192769"}, "is_accepted": true, "score": 0, "last_activity_date": 1538662661, "creation_date": 1538662661, "answer_id": 52649012, "question_id": 52617864, "link": "https://stackoverflow.com/questions/52617864/timezone-for-date-not-working-in-date-pipe-angular-5/52649012#52649012", "title": "Timezone for date not working in Date pipe - angular 5", "body": "<p>I edited the timezone with the exact time increment for this issue to get resolved.</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"invoiceDate\"&gt;\n              &lt;mat-header-cell *matHeaderCellDef  mat-sort-header&gt; Date &lt;/mat-header-cell&gt;\n              &lt;mat-cell *matCellDef=\"let invoice\"&gt; {{invoice.invoiceDate | date: 'mediumDate' : '+0100'}} &lt;/mat-cell&gt;\n            &lt;/ng-container&gt;\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 10192769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8deddef955498cee92d7de291e636ef0?s=128&d=identicon&r=PG&f=1", "display_name": "user10192769", "link": "https://stackoverflow.com/users/10192769/user10192769"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2193, "favorite_count": 0, "accepted_answer_id": 52649012, "answer_count": 1, "score": 0, "last_activity_date": 1538662661, "creation_date": 1538523908, "question_id": 52617864, "link": "https://stackoverflow.com/questions/52617864/timezone-for-date-not-working-in-date-pipe-angular-5", "title": "Timezone for date not working in Date pipe - angular 5", "body": "<p>I am fetching data from date column in my DB. I try to format it with the timezone using the date pipe. Below is the code</p>\n\n<pre><code>&lt;ng-container matColumnDef=\"invoiceDate\"&gt;\n          &lt;mat-header-cell *matHeaderCellDef  mat-sort-header&gt; Date &lt;/mat-header-cell&gt;\n          &lt;mat-cell *matCellDef=\"let invoice\"&gt; {{invoice.invoiceDate | date: 'mediumDate' : 'EDT'}} &lt;/mat-cell&gt;\n        &lt;/ng-container&gt;\n</code></pre>\n\n<p>It works fine in my local environment, whereas the application is deployed in AWS and the DB is AWS RDS (postgres) and in this environment the timezone isn't working. The default timezone in AWS machine is GMT. Any suggestions will be of great help.For example the data in DB is 2018-08-18 12:00:00 but in the front end it shows 2018-08-17 21:00:00</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 4, "last_activity_date": 1538524705, "creation_date": 1538524705, "answer_id": 52617953, "question_id": 52617679, "link": "https://stackoverflow.com/questions/52617679/string-literal-union-types-fail-to-compile-when-created-during-a-map-operation/52617953#52617953", "title": "String literal union types fail to compile when created during a map operation", "body": "<p><a href=\"https://github.com/Microsoft/TypeScript/issues/8131\" rel=\"nofollow noreferrer\">It's explained here</a></p>\n\n<blockquote>\n  <p>The way string literal types work is that a string literal expression\n  must be contextually typed by a string literal type (or a union\n  containing a string literal type) in order to type check as a string\n  literal type instead of as string.</p>\n</blockquote>\n\n<p>In your code, <code>'g'</code> string literal type is widened to <code>string</code> because there is no context that would preserve it as literal in <code>Array...map</code> expression.</p>\n\n<p>Another workaround is to add explicit return type for <code>map</code> callback:</p>\n\n<pre><code>type Unit = 'g' | 'ml';\n\nclass Measurement { \n    unit: Unit;\n}\n\nclass Thing { \n    measurements: Measurement[];\n}\n\n// works\nconst things: Thing[] = [{\n    measurements: [{\n        unit: 'g'\n    }]\n}];\n\n// works\nconst thingsToo: Thing[] = Array.from({ length: 5 }).map((i): Thing =&gt; ({\n    measurements: [{\n        unit: 'g'\n    }]\n}));\n</code></pre>\n"}], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "accepted_answer_id": 52617953, "answer_count": 1, "score": 3, "last_activity_date": 1538524705, "creation_date": 1538522393, "question_id": 52617679, "link": "https://stackoverflow.com/questions/52617679/string-literal-union-types-fail-to-compile-when-created-during-a-map-operation", "title": "String literal union types fail to compile when created during a map operation", "body": "<p>String literal union types are failing when we use <code>map</code> but not when we directly create an array.</p>\n\n<p>Here is a <a href=\"https://www.typescriptlang.org/play/#src=type%20Unit%20%3D%20&#39;g&#39;%20%7C%20&#39;ml&#39;%3B%0D%0A%0D%0Aclass%20Measurement%20%7B%20%0D%0A%20%20%20%20unit%3A%20Unit%3B%0D%0A%7D%0D%0A%0D%0Aclass%20Thing%20%7B%20%0D%0A%20%20%20%20measurements%3A%20Measurement%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20things%3A%20Thing%5B%5D%20%3D%20%5B%7B%0D%0A%20%20%20%20measurements%3A%20%5B%7B%0D%0A%20%20%20%20%20%20%20%20unit%3A%20&#39;g&#39;%0D%0A%20%20%20%20%7D%5D%0D%0A%7D%5D%3B%0D%0A%0D%0Aconst%20thingsToo%3A%20Thing%5B%5D%20%3D%20Array.from(%7B%20length%3A%205%20%7D).map((i)%20%3D%3E%20(%7B%0D%0A%20%20%20%20measurements%3A%20%5B%7B%0D%0A%20%20%20%20%20%20%20%20unit%3A%20&#39;g&#39;%0D%0A%20%20%20%20%7D%5D%0D%0A%7D))%3B%0D%0A\" rel=\"nofollow noreferrer\">Fiddle from the Playground</a>.</p>\n\n<pre><code>type Unit = 'g' | 'ml';\n\nclass Measurement { \n    unit: Unit;\n}\n\nclass Thing { \n    measurements: Measurement[];\n}\n\n// works\nconst things: Thing[] = [{\n    measurements: [{\n        unit: 'g'\n    }]\n}];\n\n// fails\nconst thingsToo: Thing[] = Array.from({ length: 5 }).map((i) =&gt; ({\n    measurements: [{\n        unit: 'g'\n    }]\n}));\n</code></pre>\n\n<p>Errors:</p>\n\n<pre><code>Type '{ measurements: { unit: string; }[]; }[]' is not assignable to type 'Thing[]'.\n  Type '{ measurements: { unit: string; }[]; }' is not assignable to type 'Thing'.\n    Types of property 'measurements' are incompatible.\n      Type '{ unit: string; }[]' is not assignable to type 'Measurement[]'.\n        Type '{ unit: string; }' is not assignable to type 'Measurement'.\n          Types of property 'unit' are incompatible.\n            Type 'string' is not assignable to type 'Unit'.\n</code></pre>\n\n<p>Why does this happen during a <code>map</code>? How can we prevent it?</p>\n\n<p>One approach is to cast as <code>Measurement</code>. It isn't clear though why that is necessary and it is also more verbose than not casting, so we would rather not use a cast, unless that's the only way.</p>\n\n<pre><code>// works\nconst thingsToo: Thing[] = Array.from({ length: 5 }).map((i) =&gt; ({\n    measurements: [{\n        unit: 'g'\n    } as Measurement]\n}));\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 944, "user_id": 1438908, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/5b7fc526c3869aa12433698b54a68ca3?s=128&d=identicon&r=PG", "display_name": "cdaringe", "link": "https://stackoverflow.com/users/1438908/cdaringe"}, "edited": false, "score": 0, "creation_date": 1538589568, "post_id": 52617764, "comment_id": 92199408, "body": "thanks.  though this could work, practically it does not if you use other properties on your class that don&#39;t fit that fn signature.  i will update the example class with another property to demonstrate."}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "reply_to_user": {"reputation": 944, "user_id": 1438908, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/5b7fc526c3869aa12433698b54a68ca3?s=128&d=identicon&r=PG", "display_name": "cdaringe", "link": "https://stackoverflow.com/users/1438908/cdaringe"}, "edited": false, "score": 0, "creation_date": 1538599791, "post_id": 52617764, "comment_id": 92204177, "body": "Correct, but you could use <code>any</code> instead of the function signature. I updated my answer with a &quot;more complete&quot; solution, but it does require a bit of repetition."}], "tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1538599704, "last_edit_date": 1538599704, "creation_date": 1538523146, "answer_id": 52617764, "question_id": 52617647, "link": "https://stackoverflow.com/questions/52617647/how-can-i-extend-a-typescript-class-prototype-from-an-array-of-strings-mapping-i/52617764#52617764", "title": "how can i extend a typescript class prototype from an array of strings mapping into a single function", "body": "<p>One option is to declare the class with \"dynamic\" properties.</p>\n\n<pre><code>class Hello {\n    [prop: string]: any;\n}\n</code></pre>\n\n<hr>\n\n<p>Another option is to use <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">Declaration Merging</a>.</p>\n\n<pre><code>type FuncA = () =&gt; string;\ninterface A {\n    a1: FuncA;\n    a2: FuncA;\n    a3: FuncA;\n}\n\ntype FuncB = (value: string) =&gt; string;\ninterface B {\n    b1: FuncB;\n    b2: FuncB;\n    b3: FuncB;\n}\n\nclass Hello {\n    constructor(public x: number) { }\n}\n\ninterface Hello extends A, B { }\n\n['a1', 'a2', 'a3'].forEach((method: string) =&gt; {\n    Hello.prototype[method as keyof A] = function (): string {\n        return 'FuncA';\n    };\n});\n\n['b1', 'b2', 'b3'].forEach((method: string) =&gt; {\n    Hello.prototype[method as keyof B] = function (value: string): string {\n        return `FuncB: ${value}`;\n    };\n});\n\nconst hello = new Hello(1);\nconsole.log(hello.a1());        // FuncA\nconsole.log(hello.b1('foo'));   // FuncB: foo\n</code></pre>\n\n<p>But you'll need to make sure that the interface properties and array elements stay synchronized.</p>\n"}], "owner": {"reputation": 944, "user_id": 1438908, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/5b7fc526c3869aa12433698b54a68ca3?s=128&d=identicon&r=PG", "display_name": "cdaringe", "link": "https://stackoverflow.com/users/1438908/cdaringe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1538599704, "creation_date": 1538522124, "last_edit_date": 1538589662, "question_id": 52617647, "link": "https://stackoverflow.com/questions/52617647/how-can-i-extend-a-typescript-class-prototype-from-an-array-of-strings-mapping-i", "title": "how can i extend a typescript class prototype from an array of strings mapping into a single function", "body": "<p>i need to extend a prototype, creating methods by mapping a set of <code>string</code>s into a single function.   however, i'm having trouble extending a class prototype even for a base case.  e.g.:</p>\n\n<pre><code>class Hello {}\nHello.prototype['whatever'] = 1\n// [ts] Element implicitly has an 'any' type because type 'Hello' has no index signature.\n</code></pre>\n\n<p>i read <a href=\"https://basarat.gitbooks.io/typescript/docs/types/index-signatures.html\" rel=\"nofollow noreferrer\">here</a> about index signatures, but not sure how to extend the prototype's definition?</p>\n\n<p>really, i want something pretty simple, similar to as follows:</p>\n\n<pre><code>const methods = ['a', 'b', 'c']\nconst exampleMethodImplementation = () =&gt; 'weeee'\nclass Hello {\n   x: number\n}\nmethods.forEach(name =&gt; { Hello.prototype[name] = exampleMethodImplementation })\n</code></pre>\n"}, {"tags": ["javascript", "html", "typescript", "canvas", "web"], "comments": [{"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 1, "creation_date": 1538522269, "post_id": 52617643, "comment_id": 92169482, "body": "&quot;the result is incorrect&quot; could really use some further explanation.  Based on your description I&#39;m not really sure what you even mean by &quot;combining&quot; two images?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 1, "creation_date": 1538523202, "post_id": 52617643, "comment_id": 92169666, "body": "Your way of waiting for the load events is wrong. What if img2 loads faster? You need to increment a counter and only trigger the drawing when it reaches the number of images. Or, since you seem to be in an environnement supporting Promises, promisify the load events, and wait for Promise.all."}, {"owner": {"reputation": 23, "user_id": 5627221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ad71a081142917f549372ba2877508?s=128&d=identicon&r=PG", "display_name": "Recalc", "link": "https://stackoverflow.com/users/5627221/recalc"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1538525622, "post_id": 52617643, "comment_id": 92170164, "body": "@DanielBeck oh, sorry about that, I have added images to clarify the correct and incorrect results"}, {"owner": {"reputation": 23, "user_id": 5627221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ad71a081142917f549372ba2877508?s=128&d=identicon&r=PG", "display_name": "Recalc", "link": "https://stackoverflow.com/users/5627221/recalc"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1538525829, "post_id": 52617643, "comment_id": 92170199, "body": "@Kaiido Hm, okay. I&#39;ll give it a shot - I am still relatively new to web dev/hybrid applications and any pseudo code would be super helpful. But thanks for the tips!"}], "answers": [{"tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 1, "last_activity_date": 1538556463, "creation_date": 1538556463, "answer_id": 52623121, "question_id": 52617643, "link": "https://stackoverflow.com/questions/52617643/merge-image-functions-results-in-incorrect-result-in-hybrid-application-on-ios/52623121#52623121", "title": "Merge Image Functions Results in Incorrect Result in Hybrid Application on iOS - Works in Safari", "body": "<p>The problem here is that the loading of both images is not handled correctly.<br>\nBoth will load asynchronously, and while your codes is waiting for each <code>load</code> event, your code is assuming that the first image will always load first.<br>\nBut given the nature of these images, it seems that the second image (<code>sig</code>) will be lighter (most pixels are transparent), and thus will actually probably load faster.  </p>\n\n<p>You may have not experienced this issue on the browser, because the browser had these images in cache already, and thus will take the same time to load both images.</p>\n\n<p>In the era pre-Promises, a common way to handle it was to use a counter, that would get incremented at each image's load, and which will trigger an <em>oncomplete</em> callback:</p>\n\n<pre><code>function loadImages(urls, onsuccess, onerror) {\n  var counter = 0;\n  var imgs = urls.map(function load(url) {\n    var img = new Image();\n    img.onload = incrementCounter;\n    img.src = url;\n    img.onerror = onerror;\n    return img;\n  });\n  function incrementCounter(evt) {\n    if(++counter === urls.length) {\n      onsuccess(imgs);\n    }\n  }\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.body.appendChild(document.createElement('canvas'));\r\nvar ctx = canvas.getContext('2d');\r\n\r\nloadImages([\r\n  // a quite big 3000 x 2000 picture by Arturo Mann\r\n  'https://upload.wikimedia.org/wikipedia/commons/6/65/Sunset_over_The_Pacific_Ocean_at_Acapulco_1.jpg',\r\n  // a small 32x32 image\r\n  'https://dl.dropboxusercontent.com/s/4e90e48s5vtmfbd/aaa.png'\r\n  ], oncomplete, onerror);\r\n\r\nfunction loadImages(urls, onsuccess, onerror) {\r\n  var counter = 0;\r\n  var imgs = urls.map(function load(url) {\r\n    var img = new Image();\r\n    img.onload = incrementCounter;\r\n    img.src = url;\r\n    img.onerror = onerror;\r\n    return img;\r\n  });\r\n  function incrementCounter(evt) {\r\n    if(++counter === urls.length) {\r\n      onsuccess(imgs);\r\n    }\r\n    // only for demo\r\n    console.log('successfully loaded', evt.target.src);\r\n  }\r\n}\r\n\r\n// our callback\r\n// in here we receive the img elements,\r\n// in the order we did set the urls\r\n// whatever was the first to load\r\nfunction oncomplete(imgs) {\r\n  canvas.width = imgs[0].width/8;\r\n  canvas.height = imgs[0].height/8;\r\n  ctx.scale(0.125, 0.125);\r\n  ctx.drawImage(imgs[0], 0,0);\r\n  ctx.imageSmoothingEnabled = false;\r\n  ctx.scale(8, 8);\r\n  ctx.drawImage(imgs[1], 176, 100);\r\n}\r\n\r\nfunction onerror(err) {\r\n  console.error('failed to load resources');\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But since you seem to be in a context that do support Promises and ES6, you can simply promisify the loading, and wait for a <em>Promise.all</em> of these loadings.</p>\n\n<pre><code>Promise.all([loadImage(url1), loadImage(url2)])\n  .then(oncomplete)\n  .catch(onerror);\n\nfunction loadImage(url) {\n  return new Promise((res, rej) =&gt; Object.assign(\n    new Image(),\n    {\n      onload: (evt)=&gt;res(evt.target),\n      onerror: rej,\n      src: url\n    }\n  )\n );\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.body.appendChild(document.createElement('canvas'));\r\nvar ctx = canvas.getContext('2d');\r\n// a quite big 3000 x 2000 picture by Arturo Mann\r\nvar url1 = 'https://upload.wikimedia.org/wikipedia/commons/6/65/Sunset_over_The_Pacific_Ocean_at_Acapulco_1.jpg';\r\n// a small 32x32 image\r\nvar url2 = 'https://dl.dropboxusercontent.com/s/4e90e48s5vtmfbd/aaa.png';\r\n\r\n\r\nPromise.all([loadImage(url1), loadImage(url2)])\r\n  .then(oncomplete)\r\n  .catch(onerror);\r\n\r\nfunction loadImage(url) {\r\n  return new Promise((res, rej) =&gt; Object.assign(\r\n    new Image(),\r\n    {\r\n      onload: (evt)=&gt;res(evt.target),\r\n      onerror: rej,\r\n      src: url\r\n    }\r\n  )\r\n );\r\n}\r\n\r\n// our callback\r\n// in here we receive the img elements,\r\n// in the order we did set the urls\r\n// whatever was the first to load\r\nfunction oncomplete(imgs) {\r\n  canvas.width = imgs[0].width/8;\r\n  canvas.height = imgs[0].height/8;\r\n  ctx.scale(0.125, 0.125);\r\n  ctx.drawImage(imgs[0], 0,0);\r\n  ctx.imageSmoothingEnabled = false;\r\n  ctx.scale(8, 8);\r\n  ctx.drawImage(imgs[1], 176, 100);\r\n}\r\n\r\nfunction onerror(err) {\r\n  console.error('failed to load resources');\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 5627221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0ad71a081142917f549372ba2877508?s=128&d=identicon&r=PG", "display_name": "Recalc", "link": "https://stackoverflow.com/users/5627221/recalc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 52623121, "answer_count": 1, "score": 0, "last_activity_date": 1538556463, "creation_date": 1538522083, "last_edit_date": 1538525352, "question_id": 52617643, "link": "https://stackoverflow.com/questions/52617643/merge-image-functions-results-in-incorrect-result-in-hybrid-application-on-ios", "title": "Merge Image Functions Results in Incorrect Result in Hybrid Application on iOS - Works in Safari", "body": "<p>I have this function:</p>\n\n<pre><code>   //Merge images\n   mergeImages(sig, bg, outputFormat)\n   {\n\n   return new Promise((resolve, reject) =&gt; {\n     var canvas = &lt;HTMLCanvasElement&gt; document.createElement(\"canvas\");\n\n     var img1 = new Image();\n     var img2 = new Image();\n\n     var finalURL = '';\n\n     var canvas = &lt;HTMLCanvasElement&gt; document.createElement('canvas');\n\n     document.getElementById(\"canvasContainer\").appendChild(canvas);\n\n     var context = canvas.getContext('2d');\n\n     img1.src = '';\n     img2.src = '';\n\n     img1.addEventListener('load',function() {\n          console.log(\"loaded img1\");\n\n          canvas.width = 100;\n          canvas.height = 100;\n      });\n\n      img2.addEventListener('load',function() {\n           console.log(\"loaded img2\");\n\n          context.drawImage(img1, 0, 0, 100, 100);\n          context.drawImage(img2, 0, 0, 100, 100);\n\n          finalURL = canvas.toDataURL(outputFormat);\n\n          resolve (finalURL);\n\n          console.log(\"\\n finalURL\" + finalURL +\"\\n\");\n       });\n\n\n     setTimeout(function() {\n        console.log(img1.complete);\n      }, 1000);\n\n      setTimeout(function() {\n         console.log(img2.complete);\n       }, 1000);\n\n     img1.src = bg;\n\n     img2.src = sig;\n\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>This function returns a base64 dataURL of the resulting image from combining 'img1' and 'img2'. The application is built with Ionic (HTML/Typescript). </p>\n\n<p>In the Safari browser, after triggering this function (called via DOM button presses), I always see the correct combined image. </p>\n\n<p>However, when I build this application for iOS (iPad), the result is incorrect, and I have no idea why. That is, only img2 renders in the final image.</p>\n\n<p>No errors are being explicitly thrown.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p><strong>Edit (added images):\nCorrect output in desktop browsers:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/SO9Jc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SO9Jc.png\" alt=\"Correct\"></a></p>\n\n<p><strong>Incorrect image on iOS:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/QeUqv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QeUqv.png\" alt=\"Incorrect\"></a></p>\n"}, {"tags": ["javascript", "typescript", "automated-tests", "e2e-testing", "testcafe"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6117854"}, "edited": false, "score": 0, "creation_date": 1538585338, "post_id": 52618142, "comment_id": 92197236, "body": "I tried that assertion but I get this error when running in headless mode: &quot;   1) AssertionError: expected false to be truthy&quot; But I don&#39;t get any errors when running in normal GUI mode"}, {"owner": {"reputation": 1813, "user_id": 2778940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9e0bef10f16fa750bf2a1c0813bc1c28?s=128&d=identicon&r=PG&f=1", "display_name": "ioseph", "link": "https://stackoverflow.com/users/2778940/ioseph"}, "edited": false, "score": 0, "creation_date": 1538605090, "post_id": 52618142, "comment_id": 92205984, "body": "It&#39;s a bit hard to debug without seeing the page you&#39;re testing, is the element your checking initially in the DOM or does it appear after a user action? Can you add a 1 second wait before the visibility check?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6117854"}, "edited": false, "score": 0, "creation_date": 1539811520, "post_id": 52618142, "comment_id": 92641996, "body": "unfortunately, I can&#39;t provide the page since its local. I will mention that is written with VueJS and I don&#39;t know if that affects how  headless mode tests run?"}, {"owner": {"reputation": 1813, "user_id": 2778940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9e0bef10f16fa750bf2a1c0813bc1c28?s=128&d=identicon&r=PG&f=1", "display_name": "ioseph", "link": "https://stackoverflow.com/users/2778940/ioseph"}, "edited": false, "score": 0, "creation_date": 1541464888, "post_id": 52618142, "comment_id": 93219001, "body": "It shouldn&#39;t, testcafe interacts directly with the DOM so is more or less framework agnostic. e2e tests can be difficult to debug, a good starting point is inspecting the page and targeting elements via <code>document.querySelector</code> then trying to create a simple isolated test case"}], "tags": [], "owner": {"reputation": 1813, "user_id": 2778940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9e0bef10f16fa750bf2a1c0813bc1c28?s=128&d=identicon&r=PG&f=1", "display_name": "ioseph", "link": "https://stackoverflow.com/users/2778940/ioseph"}, "is_accepted": false, "score": 4, "last_activity_date": 1538526713, "creation_date": 1538526713, "answer_id": 52618142, "question_id": 52617560, "link": "https://stackoverflow.com/questions/52617560/test-cafe-headless-visibility-check/52618142#52618142", "title": "Test Cafe Headless Visibility Check", "body": "<p>You want <code>t.expect(selector.visible).ok()</code> </p>\n\n<p>Visibility simply checks that the element exists in the DOM and does not have a <code>visible: hidden</code> or <code>display: none</code> style rule set</p>\n\n<p>Running in headless does not affect this so there might be some other issue.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6117854"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1538585313, "creation_date": 1538521264, "last_edit_date": 1538585313, "question_id": 52617560, "link": "https://stackoverflow.com/questions/52617560/test-cafe-headless-visibility-check", "title": "Test Cafe Headless Visibility Check", "body": "<p>When running in headless mode, should the tests make visibilty checks? When I run tests in normal chrome or firefox they all pass, but in headless mode I keep getting this error: </p>\n\n<pre><code>test('Assert navigation from Home to page x...', async t =&gt; {\nawait t\n    .expect(link.textContent).eql('page x')\n    .click(link)\n    .expect(getPageUrl()).contains('pagex')\n});\n\nError: The element that matches the specified selector is not visible.\n</code></pre>\n\n<p>and when I add expect([someSelector].visibile).ok() I get this error:</p>\n\n<pre><code>   AssertionError: expected false to be truthy\n</code></pre>\n\n<p>I feel my approach to writing these tests for the specific prupose of running them in headless mode is incorrect. I'm not sure if running in headless mode impacts the overall approach to how tests are structured?</p>\n\n<p>I'm writing a number of e2e tests that can integrate into Jenkins so that they run whenever new code is committed.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": true, "score": 1, "last_activity_date": 1538521630, "creation_date": 1538521630, "answer_id": 52617594, "question_id": 52617503, "link": "https://stackoverflow.com/questions/52617503/how-can-i-use-imports-with-a-specific-condition/52617594#52617594", "title": "How can I use imports with a specific condition?", "body": "<p>The approach to what you are doing seems very wrong.</p>\n\n<blockquote>\n  <p>only the language &amp; urls differ</p>\n</blockquote>\n\n<p>This should be a single app that serves up the correct language using Angular internationalisation. Angular provide a guide on internationalisation when catering for different languages here ... <a href=\"https://angular.io/guide/i18n\" rel=\"nofollow noreferrer\">https://angular.io/guide/i18n</a></p>\n\n<p>With regards different URLs, what is stopping you just using a simple lookup like this:</p>\n\n<pre><code>[\n  {\n    \"domain\": \"domainone.com\",\n    \"url\": \"/url/one/\"\n  {,\n  {\n    \"domain\": \"domaintwo.com\",\n    \"url\": \"/url/two/\"\n  {\n]\n</code></pre>\n\n<p>If you really need to pursue the lazy loading route (which isn't a bad thing either way) then the Angular docs for lazy loading routes are here:</p>\n\n<p><a href=\"https://angular.io/guide/lazy-loading-ngmodules\" rel=\"nofollow noreferrer\">https://angular.io/guide/lazy-loading-ngmodules</a></p>\n"}], "owner": {"reputation": 23, "user_id": 10448542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1HthL.jpg?s=128&g=1", "display_name": "briston82", "link": "https://stackoverflow.com/users/10448542/briston82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 52617594, "answer_count": 1, "score": 2, "last_activity_date": 1538521748, "creation_date": 1538520878, "last_edit_date": 1538521748, "question_id": 52617503, "link": "https://stackoverflow.com/questions/52617503/how-can-i-use-imports-with-a-specific-condition", "title": "How can I use imports with a specific condition?", "body": "<p>I'm relatively new to angular &amp; typescript.</p>\n\n<p>My idea is, to redirect different hostnames to only one angular6 project because most of the stuff is the same, only the language &amp; URLs differ.</p>\n\n<p>E.g. what I have done in <strong>app-routing.module.ts</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport {enRoutes} from \"lang/en/routes\";\r\nimport {esRoutes} from \"lang/es/routes\";\r\nimport {frRoutes} from \"lang/fr/routes\";\r\n\r\nlet routes: Routes;\r\n\r\nswitch(window.location.hostname) {\r\n  case 'foobar.es' : {\r\n    routes = esRoutes;\r\n  }\r\n  case 'foobar.fr' : {\r\n    routes = frRoutes;\r\n  }\r\n  default : {\r\n    routes = enRoutes;\r\n  }\r\n}\r\n\r\n@NgModule({\r\n    exports: [ RouterModule ],\r\n    imports: [ RouterModule.forRoot(routes) ],\r\n})\r\nexport class AppRoutingModule {}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It works like a charm, but the problem I face now is that the routes for each hostName are in the <em>main.js</em> for each of them. Now the Route-Files are really big, also there are more than just 3 hostNames, so the <em>main.js</em> gets really big because of this.</p>\n\n<p>Because of these static imports, it will load all routes, no matter with which hostName it gets called. I tried already lazy loading with import(...).then(...) but it didn't work :( </p>\n\n<p>Has anyone an idea, how to solve this?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 7107, "user_id": 5496808, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XXJOv.png?s=128&g=1", "display_name": "Jayce444", "link": "https://stackoverflow.com/users/5496808/jayce444"}, "edited": false, "score": 0, "creation_date": 1538525815, "post_id": 52617485, "comment_id": 92170196, "body": "The difference in your case is that <code>String</code> is a data type, whereas <code>&#39;REFRESH_REVIEWER_BENCH_COMPONENT&#39;</code> is an actual string. It&#39;s like the difference between <code>Number</code> and <code>4</code>. One is a data type, the other is an instance of that data type. If this is for a Redux situation then an <code>enum</code> of action types is probably a simpler choice than a bunch of string constants that you coerce into types."}], "answers": [{"tags": [], "owner": {"reputation": 1940, "user_id": 9867662, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MMyK3YlAEAc/AAAAAAAAAAI/AAAAAAAADSg/SZ88GPpYQuo/photo.jpg?sz=128", "display_name": "Tyler", "link": "https://stackoverflow.com/users/9867662/tyler"}, "is_accepted": false, "score": 0, "last_activity_date": 1538525688, "creation_date": 1538525688, "answer_id": 52618048, "question_id": 52617485, "link": "https://stackoverflow.com/questions/52617485/typescript-constant-string-cannot-be-found/52618048#52618048", "title": "TypeScript constant string cannot be found", "body": "<p>Fair warning, I am pretty new to Typescript, so if someone has a better solution please chime in.</p>\n\n<p>I think what you are looking for is <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Type Aliases</a>. You create a type that is an alias for the constant value, then reference that type.</p>\n\n<pre><code>type REFRESH_REVIEWER_BENCH_COMPONENT = 'REFRESH_REVIEWER_BENCH_COMPONENT';\n\ninterface RefreshReviewerBenchAction { type: REFRESH_REVIEWER_BENCH_COMPONENT }\n</code></pre>\n\n<p>An implementing class is then valid if it has a <code>type</code> prop that is set to <code>REFRESH_REVIEWER_BENCH_COMPONENT</code> or the string value \n<code>'REFRESH_REVIEWER_BENCH_COMPONENT'</code>, though you probably want the former.</p>\n"}, {"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1538530508, "post_id": 52618471, "comment_id": 92171138, "body": "<code>type REFRESH_REVIEWER_BENCH_COMPONENT = typeof REFRESH_REVIEWER_BENCH_COMPONENT;</code> - would it work?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1538530582, "post_id": 52618471, "comment_id": 92171156, "body": "@zerkms Yes, try it in <a href=\"https://www.typescriptlang.org/play/#src=const%20REFRESH_REVIEWER_BENCH_COMPONENT%20%3D%20&#39;REFRESH_REVIEWER_BENCH_COMPONENT&#39;%3B%0D%0Atype%20REFRESH_REVIEWER_BENCH_COMPONENT%20%3D%20typeof%20REFRESH_REVIEWER_BENCH_COMPONENT%3B%0D%0Ainterface%20RefreshReviewerBenchAction%20%7B%20type%3A%20REFRESH_REVIEWER_BENCH_COMPONENT%20%7D%0D%0A\" rel=\"nofollow noreferrer\">the playground</a>."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1538530816, "post_id": 52618471, "comment_id": 92171211, "body": "Right, it implies that <code>REFRESH_REVIEWER_BENCH_COMPONENT</code> variable is declared above, it was not immediately obvious from the answer, sorry. I thought as soon as you define a <code>REFRESH_REVIEWER_BENCH_COMPONENT</code> type the declaration is to go away."}, {"owner": {"reputation": 1074, "user_id": 1491433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fefea25b93cfc765357ca09a8d34428?s=128&d=identicon&r=PG", "display_name": "Kevin Burton", "link": "https://stackoverflow.com/users/1491433/kevin-burton"}, "edited": false, "score": 0, "creation_date": 1538700716, "post_id": 52618471, "comment_id": 92244746, "body": "It is just really confusing when this is correct <code>type REFRESH_REVIEWER_BENCH_COMPONENT = &#39;REFRESH_REVIEWER_BENCH_COMPONENT&#39;;  interface RefreshReviewerBenchAction { type: REFRESH_REVIEWER_BENCH_COMPONENT }</code>  and this is not  <code>export const actionCreators = {     refresh: () =&gt; &lt;RefreshReviewerBenchAction&gt;{ type: REFRESH_REVIEWER_BENCH_COMPONENT },     componentData: componentData };</code>"}, {"owner": {"reputation": 1074, "user_id": 1491433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fefea25b93cfc765357ca09a8d34428?s=128&d=identicon&r=PG", "display_name": "Kevin Burton", "link": "https://stackoverflow.com/users/1491433/kevin-burton"}, "edited": false, "score": 0, "creation_date": 1539430412, "post_id": 52618471, "comment_id": 92505426, "body": "What is a type of &#39;REFRESH_REVIEWER_BENCH_COMPONENT&#39; mean? I understand a type of string, number etc. But &#39;xxxx&#39;?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1539437199, "post_id": 52618471, "comment_id": 92507197, "body": "The type <code>&#39;xxxx&#39;</code> is a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types\" rel=\"nofollow noreferrer\">string literal type</a>; the only valid value of this type is the exact string <code>&#39;xxxx&#39;</code>.  So your original interface definition was saying that for an object to be a valid <code>RefreshReviewerBenchAction</code>, its <code>type</code> property has to be the exact string <code>&#39;REFRESH_REVIEWER_BENCH_COMPONENT&#39;</code>."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1538530886, "last_edit_date": 1538530886, "creation_date": 1538530050, "answer_id": 52618471, "question_id": 52617485, "link": "https://stackoverflow.com/questions/52617485/typescript-constant-string-cannot-be-found/52618471#52618471", "title": "TypeScript constant string cannot be found", "body": "<p>You're right that the problem has to do with the difference between values and types.  A given name can be independently defined as a value, a type, or both.  (A string literal like <code>'REFRESH_REVIEWER_BENCH_COMPONENT'</code> can be used as either a value or a type.)  Use the <code>typeof</code> keyword to get the type of the constant <code>REFRESH_REVIEWER_BENCH_COMPONENT</code>:</p>\n\n<pre><code>export const REFRESH_REVIEWER_BENCH_COMPONENT = 'REFRESH_REVIEWER_BENCH_COMPONENT';\ninterface RefreshReviewerBenchAction { type: typeof REFRESH_REVIEWER_BENCH_COMPONENT }\n</code></pre>\n\n<p>If you wanted to be able to use <code>REFRESH_REVIEWER_BENCH_COMPONENT</code> directly as a type, then you could define a type alias:</p>\n\n<pre><code>export const REFRESH_REVIEWER_BENCH_COMPONENT = 'REFRESH_REVIEWER_BENCH_COMPONENT';\ntype REFRESH_REVIEWER_BENCH_COMPONENT = typeof REFRESH_REVIEWER_BENCH_COMPONENT;\ninterface RefreshReviewerBenchAction { type: REFRESH_REVIEWER_BENCH_COMPONENT }\n</code></pre>\n"}], "owner": {"reputation": 1074, "user_id": 1491433, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/7fefea25b93cfc765357ca09a8d34428?s=128&d=identicon&r=PG", "display_name": "Kevin Burton", "link": "https://stackoverflow.com/users/1491433/kevin-burton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538546233, "creation_date": 1538520747, "last_edit_date": 1538546233, "question_id": 52617485, "link": "https://stackoverflow.com/questions/52617485/typescript-constant-string-cannot-be-found", "title": "TypeScript constant string cannot be found", "body": "<p>I am trying to define a string constant rather than have to define it multiple times, my code is as follows;</p>\n\n<pre><code>interface RefreshReviewerBenchAction { type: 'REFRESH_REVIEWER_BENCH_COMPONENT' }\n</code></pre>\n\n<p>I am confused as to why why this isn't of type 'string' rather than what appears to be a constant string. I try to define this constant string like this;</p>\n\n<pre><code>export const REFRESH_REVIEWER_BENCH_COMPONENT = 'REFRESH_REVIEWER_BENCH_COMPONENT';\n\ninterface RefreshReviewerBenchAction { type: REFRESH_REVIEWER_BENCH_COMPONENT }\n</code></pre>\n\n<p>But I'm getting an error stating that \"REFRESH_REVIEWER_BENCH_COMPONENT cannot be found\". I think it cannot be found because I am using a constant string where a type is expected. So the question is what is the difference between string and 'REFRESH_REVIEWER_BENCH_COMPONENT'? And how do I make 'REFRESH_REVIEWER_BENCH_COMPONENT' a string type so I don't have to use what appears to be a constant string throughout my code?</p>\n"}, {"tags": ["typescript", "vue.js", "typescript2.0"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1538521280, "post_id": 52617469, "comment_id": 92169243, "body": ":) welcome back, i will try to answer your question with usual vue.js syntax"}, {"owner": {"reputation": 465, "user_id": 3376642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533f8131da12cdaa8fd21ecd53795197?s=128&d=identicon&r=PG&f=1", "display_name": "user3376642", "link": "https://stackoverflow.com/users/3376642/user3376642"}, "reply_to_user": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1538521606, "post_id": 52617469, "comment_id": 92169314, "body": "LOL, thanks!!! I know this should be the easiest thing ever, but I can figure it out, and when I think I got it, in my Input (search bar) I&#39;m getting [object][object]"}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1538521834, "post_id": 52617469, "comment_id": 92169374, "body": "i don&#39;t see the difference between this question and the last one"}, {"owner": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "edited": false, "score": 3, "creation_date": 1538522018, "post_id": 52617469, "comment_id": 92169410, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52558770/vuejs-search-filter\">Vuejs Search filter</a>"}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "reply_to_user": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "edited": false, "score": 0, "creation_date": 1538522101, "post_id": 52617469, "comment_id": 92169436, "body": "@HusamIbrahim yes i see that"}], "owner": {"reputation": 465, "user_id": 3376642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/533f8131da12cdaa8fd21ecd53795197?s=128&d=identicon&r=PG&f=1", "display_name": "user3376642", "link": "https://stackoverflow.com/users/3376642/user3376642"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 498, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1583511355, "creation_date": 1538520587, "last_edit_date": 1583511355, "question_id": 52617469, "link": "https://stackoverflow.com/questions/52617469/typescript-vuejs-filtered-search", "title": "TypeScript/VueJS Filtered Search", "body": "<p>I have a table that is presenting a list of items that I got using the following code:</p>\n\n<p>MY table gets populate :</p>\n\n<pre><code>&lt;div class=\"panel-heading\" style=\"font-weight:bold\"&gt;\n    &lt;span class=\"glyphicon glyphicon-align-justify\"&gt;&lt;/span&gt; \n    All Resources\n&lt;/div&gt;\n&lt;div class=\"row\"&gt;\n     &lt;div class=\"search-wrapper panel-heading col-sm-12\"&gt;\n         &lt;input class=\"form-control\" type=\"text\" v-model=\"\" \n         placeholder=\"Search\" /&gt;\n     &lt;/div&gt;                        \n&lt;/div&gt;\n&lt;tbody&gt;\n    &lt;tr v-for=\"item in resources\"&gt;\n\n            this.resources = data;\n        });\n    }\n\n}\n</code></pre>\n\n<p>I want to be able to type in the search bar and get results as I type in.</p>\n\n<p>I tried something like this didn't work</p>\n\n<pre><code> filteredResources() {\n    if (this.sea\n    } else {\n        return this.resources;\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "router"], "comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1538520078, "post_id": 52617165, "comment_id": 92168918, "body": "Try [routerLink]=&quot;[&#39;letter&#39;]&quot;"}, {"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "reply_to_user": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1538520162, "post_id": 52617165, "comment_id": 92168948, "body": "No, I tried that and it takes me to error component"}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "is_accepted": true, "score": 1, "last_activity_date": 1538521109, "creation_date": 1538521109, "answer_id": 52617537, "question_id": 52617165, "link": "https://stackoverflow.com/questions/52617165/how-can-i-clicked-with-routerlink-inside-a-child-view-to-another-child-view/52617537#52617537", "title": "How can I clicked with [routerLink] inside a child view to another child view?", "body": "<p>I'm not going to delete this question, because this bug or mistake can happen to anotherone. In this case I've forgotten to say that in the view I'm using a modal window, so the class of the modal window to access the other secondary view remains activated (which obscures the view that is being accessed)</p>\n\n<p>Just like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/YHIH6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YHIH6.png\" alt=\"Bootstrap&#39;s class\"></a></p>\n\n<p>Ok, how can solve this?</p>\n\n<p>Just you need to use an attribute to close the modal: <code>data-dismiss</code></p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-success\" data-dismiss=\"modal\" [routerLink]=\"['/administrator/letter']\"&gt;\n   Check\n&lt;/button&gt;\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 52617537, "answer_count": 1, "score": 1, "last_activity_date": 1538521109, "creation_date": 1538518383, "last_edit_date": 1538519404, "question_id": 52617165, "link": "https://stackoverflow.com/questions/52617165/how-can-i-clicked-with-routerlink-inside-a-child-view-to-another-child-view", "title": "How can I clicked with [routerLink] inside a child view to another child view?", "body": "<p>I have a small problem with a view from my website in Angular, because I'm trying to move from a child's view to another child's view in my application. When I've clicked on a button with the <code>routerlink</code>, it takes me to the view, but the problem is that the view goes dark and I can't do anymore until I refresh with <code>f5</code> or the reload <code>button</code> from my web navigator.</p>\n\n<p><strong>ROUTES</strong></p>\n\n<pre><code>const routes: Routes = [\n  {\n    path:'',\n    component: HomeComponent\n  },\n  {\n    path:'login',\n    component: LoginComponent\n  },\n  {\n    path:'administrator',\n    component: AdministratorComponent,\n    canActivate: [AuthGuard],\n    children:\n    [\n      { path: '', component: DashboardComponent },\n      { path: 'contact', component: ContactComponent },\n      { path: 'information', component: InformationComponent },\n      { path: 'logout', component: LogoutComponent },\n      { path: 'letter', component: LetterComponent },\n    ]\n  },\n  { path: 'home', component: HomeComponent },\n  { path: 'error', component: ErrorComponent },\n  {\n    path: '**',\n    redirectTo: \"/error\"\n  }\n];\n</code></pre>\n\n<p>This is the model of my webpage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EQ6a4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQ6a4.png\" alt=\"Model Page\"></a></p>\n\n<p>And trying to access to my children view:</p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-success\" [routerLink]=\"['/administrator/letter']\"&gt;\n    Check\n&lt;/button&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> If I access from the <code>AdministratorComponent</code> it works just like I'm wating for, but in this case I need another way to make it.</p>\n</blockquote>\n\n<p>How can access correctly to that view?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1538529640, "creation_date": 1538529640, "answer_id": 52618423, "question_id": 52616571, "link": "https://stackoverflow.com/questions/52616571/get-typescript-to-catch-this-type-mismatch-errors/52618423#52618423", "title": "Get TypeScript to catch &#39;this&#39; type mismatch errors?", "body": "<p>It sounds like you're probably missing the <code>noImplicitThis</code> compiler option, which causes references to <code>this</code> that are not in a context with a known <code>this</code> type (such as a class) to generate an error instead of having type <code>any</code>.  You might want to turn on <code>strict</code> (which includes <code>noImplicitThis</code> and a number of other useful options) and then turn off any options that are part of <code>strict</code> that you don't want.</p>\n"}], "owner": {"reputation": 3171, "user_id": 843315, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jdgM0.png?s=128&g=1", "display_name": "Vern Jensen", "link": "https://stackoverflow.com/users/843315/vern-jensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 52618423, "answer_count": 1, "score": 0, "last_activity_date": 1538529640, "creation_date": 1538515257, "question_id": 52616571, "link": "https://stackoverflow.com/questions/52616571/get-typescript-to-catch-this-type-mismatch-errors", "title": "Get TypeScript to catch &#39;this&#39; type mismatch errors?", "body": "<p>Let's say I have a module with a function like so:</p>\n\n<pre><code>export module Network\n{\n    export function savePrefs( globals:Globals )\n    {\n       // [save globals.prefs to the database...]\n    }\n}\n</code></pre>\n\n<p>And originally I have the code that calls it is part of the Globals class, so it calls the above method using:</p>\n\n<pre><code>Network.savePrefs(this);\n</code></pre>\n\n<p>since, being an instance method inside the Globals class, the 'this' variable refers to a Globals instance. But later I decide to move that method to a module, and forget to change 'this':</p>\n\n<pre><code>export module Utils\n{\n    upgradePrefs(globals:Globals)\n    {\n        // [... upgrade stuff....] //\n        Network.savePrefs(this); // OOPS!\n    }\n}\n</code></pre>\n\n<p>TypeScript does not generate an error for this.</p>\n\n<p>I'd like to get TypeScript to give me an error when this happens, as 'this' does not match the required type (Globals) for the method being called. Is that possible with some kind of compiler configuration option?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-material", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 344, "user_id": 7809425, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155206387359764/picture?type=large", "display_name": "Cesar Leonardo Ochoa Contreras", "link": "https://stackoverflow.com/users/7809425/cesar-leonardo-ochoa-contreras"}, "edited": false, "score": 1, "creation_date": 1538521011, "post_id": 52616495, "comment_id": 92169177, "body": "Oh, I set encapsulation: none in the component typescript file and now this works."}], "tags": [], "owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "is_accepted": true, "score": 1, "last_activity_date": 1538514884, "creation_date": 1538514884, "answer_id": 52616495, "question_id": 52616315, "link": "https://stackoverflow.com/questions/52616315/angular-mat-select-dont-show-option-properly-on-mobile-or-low-width-devices/52616495#52616495", "title": "Angular mat-select don&#39;t show option properly on mobile or low width devices", "body": "<p>Currently, the text with the answers is offscreen to the left. If you make the strings in the dropdown very long, you'll start to see them.</p>\n\n<p>You need to change the following css properties:</p>\n\n<pre><code>.cdk-overlay-pane {\n    min-width: 200px !important; //or whatever width you want goes here\n    .mat-select-panel {\n        min-width: auto !important;\n    }\n}\n</code></pre>\n\n<p>The <code>!important</code> tags are to override the native material styles.</p>\n"}], "owner": {"reputation": 344, "user_id": 7809425, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155206387359764/picture?type=large", "display_name": "Cesar Leonardo Ochoa Contreras", "link": "https://stackoverflow.com/users/7809425/cesar-leonardo-ochoa-contreras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1223, "favorite_count": 0, "accepted_answer_id": 52616495, "answer_count": 1, "score": 0, "last_activity_date": 1538514884, "creation_date": 1538513917, "question_id": 52616315, "link": "https://stackoverflow.com/questions/52616315/angular-mat-select-dont-show-option-properly-on-mobile-or-low-width-devices", "title": "Angular mat-select don&#39;t show option properly on mobile or low width devices", "body": "<p>I'm using mat-select in an angular project. When it comes to large screens, the options are shown properly but it is the opposite on mobile or low res screens. \nActually, the options are shown but the text is missing. \nI've tried setting the max width of the mat-option with no success. \nWhen i select an option, it is selected and shown properly, but there is no way to know what option is selected. \nWith images,\nExpected behavior: \n<a href=\"https://i.stack.imgur.com/4Jr2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Jr2H.png\" alt=\"enter image description here\"></a></p>\n\n<p>Current behavior: </p>\n\n<p><a href=\"https://i.stack.imgur.com/MCd8I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCd8I.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["arrays", "typescript", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 14219, "user_id": 863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f5256889a7f5add5559ec762b18c935?s=128&d=identicon&r=PG", "display_name": "Matt Dillard", "link": "https://stackoverflow.com/users/863/matt-dillard"}, "is_accepted": true, "score": 0, "last_activity_date": 1538514338, "last_edit_date": 1538514338, "creation_date": 1538513787, "answer_id": 52616289, "question_id": 52616210, "link": "https://stackoverflow.com/questions/52616210/re-implementing-a-map-in-typescript/52616289#52616289", "title": "Re-implementing a Map in Typescript", "body": "<p>You don't need to re-implement <code>Map</code>; just use it with a tuple as the contents:</p>\n\n<pre><code>private store: Map&lt;K, [V, M]&gt;;\n</code></pre>\n\n<p>Now you can still index into the map with your key, and then you peel off either the value or metadata from what you get back.</p>\n\n<pre><code>private store = new Map&lt;string, [number, string]&gt;();\nstore.set('duck', [1.50, 'yellow']);\nstore.set('firetruck', [8.49, 'red']);\n</code></pre>\n"}], "owner": {"reputation": 1474, "user_id": 967091, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uTHvc.png?s=128&g=1", "display_name": "Forseti", "link": "https://stackoverflow.com/users/967091/forseti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 52616289, "answer_count": 1, "score": 0, "last_activity_date": 1538514338, "creation_date": 1538513491, "question_id": 52616210, "link": "https://stackoverflow.com/questions/52616210/re-implementing-a-map-in-typescript", "title": "Re-implementing a Map in Typescript", "body": "<p>As I need a Map where a key is associated not only with value but also with some metadata - like 'weight' or 'timeToLive', I was trying to use Map-based structure in form like <code>class MdaMap&lt;M, K, V&gt; extends Map&lt;K, AugmValue&lt;V, M&gt;&gt;</code>. As answered in <a href=\"https://stackoverflow.com/questions/52578541/implementing-es6-map-augmented-with-metadata-in-typescript\">Implementing ES6 Map augmented with metadata in Typescript</a> it isn't good approach. Second option would be a wrapper object around a Map but feels like meh. So I thought about third option: reimplementing Map.</p>\n\n<p>So I make a class that has to hold records of 3 kinds: keys, values and metadata. </p>\n\n<pre><code>class MdaMap&lt;K, V, M&gt; {\n</code></pre>\n\n<p>K is for keys, V for values and M for metadata. Now, question: what data structure would be best. I see following solutions:</p>\n\n<ol>\n<li><p>array of tuples: </p>\n\n<pre><code>private store: [K, V, M][];\n</code></pre></li>\n<li><p>array of objects:</p>\n\n<pre><code>private store: {key: K, value: V, metadata: M}[]\n</code></pre></li>\n<li><p>3 arrays:</p>\n\n<pre><code>private keys: K[];\nprivate values: V[];\nprivate metadata: M[];\n</code></pre></li>\n</ol>\n\n<p>Solutions 1. and 2. require looping through the array until given key is found. The difference seems to be the convenience in accessing key, value or metadata - otherwise I suspect tuple is easier on the resources. </p>\n\n<p>As for 3. I'd have to remember to set and delete the element in all three arrays of course and that's no problem. But I wonder if it's possible that if the MdaMap would be in a shared object the <code>keys</code>, <code>values</code> and <code>metadata</code> array could desynchronize if say, at the same time there is a call to the <code>set(k: K, v: V, m: M): void</code> and to <code>del(k: K): void</code>?</p>\n\n<p>What in your opinion is the best approach and why?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 11358, "user_id": 2708650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iuLvd5ToDQ8/AAAAAAAAAAI/AAAAAAAAAEA/aGdWcMU2x_4/photo.jpg?sz=128", "display_name": "Ian MacDonald", "link": "https://stackoverflow.com/users/2708650/ian-macdonald"}, "is_accepted": true, "score": 93, "last_activity_date": 1583854696, "last_edit_date": 1583854696, "creation_date": 1538513455, "answer_id": 52616197, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/52616197#52616197", "title": "How to initialize an object in TypeScript", "body": "<p>There are a number of ways to solve this problem, depending on your desired result.</p>\n\n<h3>Way 1: Convert your <code>interface</code> to a <code>class</code></h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Category {\n  name: string;\n  description: string;\n}\nconst category: Category = new Category();\n</code></pre>\n\n<h3>Way 2: Extend your <code>interface</code> as a <code>class</code></h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class CategoryObject implements Category {\n}\nconst category: Category = new CategoryObject();\n</code></pre>\n\n<h3>Way 3: Fully specify your object, matching the <code>interface</code></h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>const category: Category = {\n  name: 'My Category',\n  description: 'My Description',\n};\n</code></pre>\n\n<h3>Way 4: Make the properties optional</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Category {\n  name?: string;\n  description?: string;\n}\n\nconst category: Category = {};\n</code></pre>\n\n<h3>Way 5: Change your variable's type to use <code>Partial&lt;T&gt;</code></h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Category {\n  name: string;\n  description: string;\n}\n\nconst category: Partial&lt;Category&gt; = {};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 587, "user_id": 1071368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514a073c0b27d605db1f3fcccf9d8993?s=128&d=identicon&r=PG", "display_name": "Serdar", "link": "https://stackoverflow.com/users/1071368/serdar"}, "is_accepted": false, "score": 15, "last_activity_date": 1538513632, "creation_date": 1538513632, "answer_id": 52616245, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/52616245#52616245", "title": "How to initialize an object in TypeScript", "body": "<p>In Typescript if you want to use Object Initializer you need to define all properties in the class.</p>\n\n<pre><code>let category: Category = {\n    name: '',\n    description: ''\n};\n</code></pre>\n\n<p>With this way your model still can be remain as an interface.</p>\n"}, {"comments": [{"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 1, "creation_date": 1589824651, "post_id": 52616361, "comment_id": 109441329, "body": "Isn&#39;t that dangerous if the interface isn&#39;t single-tiered and nullable like the one in this example? That is, if the interface is <code>export interface ITiered { one: { two: { three: function (x) {...} } } }</code> and you try <code>let x = {} as ITiered</code>, wouldn&#39;t <code>x.one.two.three()</code> blow up with no defined <code>two</code>? Guess I should go set up a simplest case... ;^)"}, {"owner": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 2, "creation_date": 1589825273, "post_id": 52616361, "comment_id": 109441666, "body": "Yeah, that blows up. <b>main.ts:11 ERROR TypeError: Cannot read property &#39;two&#39; of undefined</b> You&#39;ve been warned. ;^D"}, {"owner": {"reputation": 2536, "user_id": 1397117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5459389a73b5c1ec65044eff404d8c?s=128&d=identicon&r=PG", "display_name": "Vitor M. Barbosa", "link": "https://stackoverflow.com/users/1397117/vitor-m-barbosa"}, "reply_to_user": {"reputation": 13365, "user_id": 1028230, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/fbeKv.png?s=128&g=1", "display_name": "ruffin", "link": "https://stackoverflow.com/users/1028230/ruffin"}, "edited": false, "score": 1, "creation_date": 1589830862, "post_id": 52616361, "comment_id": 109444515, "body": "Good to know, I&#39;ll add that disclaimer to my answer. :)"}], "tags": [], "owner": {"reputation": 2536, "user_id": 1397117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5459389a73b5c1ec65044eff404d8c?s=128&d=identicon&r=PG", "display_name": "Vitor M. Barbosa", "link": "https://stackoverflow.com/users/1397117/vitor-m-barbosa"}, "is_accepted": false, "score": 32, "last_activity_date": 1589831051, "last_edit_date": 1589831051, "creation_date": 1538514219, "answer_id": 52616361, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/52616361#52616361", "title": "How to initialize an object in TypeScript", "body": "<p>If you don't want to change your definition from <code>interface</code> to <code>class</code>, you could also do:</p>\n\n<pre><code>let category = &lt;Category&gt;{ };\n</code></pre>\n\n<p>Otherwise, you could follow other answers and change your <code>Category</code> to be a class.</p>\n\n<p><em>edit</em>: as per ruffin's comment below, if the interface is  </p>\n\n<pre><code>export interface ITiered { one: { two: { three: function (x) {...} } } } \n</code></pre>\n\n<p>and you try <code>let x = {} as ITiered</code>, then you'll have an error when you call something like <code>x.one.two.three()</code></p>\n"}, {"tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": false, "score": 5, "last_activity_date": 1538514781, "creation_date": 1538514781, "answer_id": 52616479, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/52616479#52616479", "title": "How to initialize an object in TypeScript", "body": "<p>Your object literal must match the interface. Since your interface has two required properties (<code>name</code> and <code>description</code>) they must both be declared when the object is instantiated.</p>\n\n<pre><code>const category: Category = {\n    name: 'foo',\n    description: 'bar'\n};\n</code></pre>\n\n<p>If you cannot construct the entire object up front you can use the builtin <code>Partial</code> type to build the object.</p>\n\n<pre><code>const builder: Partial&lt;Category&gt; = {};\nbuilder.name = 'foo';\nbuilder.description = 'bar';\n\nconst category: Category = builder as Category;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9043, "user_id": 119139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8886a8a5271cdebc61e6f25db73163c5?s=128&d=identicon&r=PG", "display_name": "nightingale2k1", "link": "https://stackoverflow.com/users/119139/nightingale2k1"}, "is_accepted": false, "score": 0, "last_activity_date": 1542371887, "creation_date": 1542371887, "answer_id": 53338081, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/53338081#53338081", "title": "How to initialize an object in TypeScript", "body": "<pre><code>interface Person{\n    id: number; \n    name: string;\n}\n\nlet x: Person = {\n    id : 0,\n    name :\"JOHN\"\n};\n\nalert(x.name);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 1983909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/440c3cc469c76542c1ae721341656869?s=128&d=identicon&r=PG", "display_name": "spec", "link": "https://stackoverflow.com/users/1983909/spec"}, "is_accepted": false, "score": 5, "last_activity_date": 1580471474, "last_edit_date": 1580471474, "creation_date": 1580471043, "answer_id": 60003274, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/60003274#60003274", "title": "How to initialize an object in TypeScript", "body": "<p>Like C# class:</p>\n\n<pre><code>export class Category {\n    category: number = null;\n    description: string = null;\n    name: string = null;\n\n  public constructor(init?: Partial&lt;Category&gt;) {\n        Object.assign(this, init);\n}\n}\n</code></pre>\n\n<p>Now when you create a new instance all field names are disponible and empty.</p>\n\n<pre><code> const instance_of_category: Category = new Category();\n</code></pre>\n\n<p>now you have emty class object with all fields defined like c#:</p>\n\n<pre><code>instance_of_category{\n    \"category\": null,\n    \"description\": null,\n    \"name\": null\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 5769239, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qC7dh2Yxhr4/AAAAAAAAAAI/AAAAAAAAAJo/3lwF_uQbkL0/photo.jpg?sz=128", "display_name": "Subhashis Pal", "link": "https://stackoverflow.com/users/5769239/subhashis-pal"}, "is_accepted": false, "score": 1, "last_activity_date": 1588960959, "creation_date": 1588960959, "answer_id": 61685236, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/61685236#61685236", "title": "How to initialize an object in TypeScript", "body": "<p>If you already have a class and you want to create new instance and initialize properties at the same time you can try this</p>\n\n<pre><code>return Object.assign(new Person(), {\n    name:\"Your Name\"\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12965115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iX36X.png?s=128&g=1", "display_name": "Nikolaev", "link": "https://stackoverflow.com/users/12965115/nikolaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1591525347, "creation_date": 1591525347, "answer_id": 62243921, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/62243921#62243921", "title": "How to initialize an object in TypeScript", "body": "<p>You can use <code>Record</code> type as well. </p>\n\n<pre><code>{\n    category: Record&lt;string, string&gt;;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 555, "user_id": 5572146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c799e0c44a11d16cc175a717d5dca855?s=128&d=identicon&r=PG&f=1", "display_name": "chpio", "link": "https://stackoverflow.com/users/5572146/chpio"}, "edited": false, "score": 0, "creation_date": 1609774263, "post_id": 65150372, "comment_id": 115920312, "body": "now you have an object in your system that is assumed to be of some type, but with some required properties missing. this is just bad advice causing errors somewhere down the line."}], "tags": [], "owner": {"reputation": 678, "user_id": 7435898, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5493855076d42c4c963426cd323c7408?s=128&d=identicon&r=PG&f=1", "display_name": "moto", "link": "https://stackoverflow.com/users/7435898/moto"}, "is_accepted": false, "score": 2, "last_activity_date": 1609844524, "last_edit_date": 1609844524, "creation_date": 1607114129, "answer_id": 65150372, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript/65150372#65150372", "title": "How to initialize an object in TypeScript", "body": "<pre><code>export interface Category {\n  name: string;\n  description: string;\n}\n\n\ncategory = {} as Category ;\n</code></pre>\n<p>Edit: Wanted to put the comment below in the answer so people know why my answer is wrong. I was assuming you would always assign right after, but that's not a good assumption to make.</p>\n<blockquote>\n<p>now you have an object in your system that is assumed to be of some type, but with some required properties missing. this is just bad advice causing errors somewhere down the line.</p>\n</blockquote>\n"}], "owner": {"reputation": 3804, "user_id": 1205647, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7b03ae8795066ff29f8da0860b6411b5?s=128&d=identicon&r=PG", "display_name": "Aragorn", "link": "https://stackoverflow.com/users/1205647/aragorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86388, "favorite_count": 17, "accepted_answer_id": 52616197, "answer_count": 9, "score": 47, "last_activity_date": 1609844524, "creation_date": 1538513289, "question_id": 52616172, "link": "https://stackoverflow.com/questions/52616172/how-to-initialize-an-object-in-typescript", "title": "How to initialize an object in TypeScript", "body": "<p>I have a simple model class</p>\n\n<pre><code>export interface Category {\n\n  name: string;\n  description: string;\n\n}\n</code></pre>\n\n<p>I need to declare and initialize a variable in an angular component.\nTried:</p>\n\n<pre><code>category: Category = {};\n</code></pre>\n\n<p>Error: {} is not assignable to a Category</p>\n\n<pre><code>category: Category = new Category();\n</code></pre>\n\n<p>error: Category refers to a type, but being referred as value..</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "nodes", "parent-child"], "comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538513095, "post_id": 52616038, "comment_id": 92166544, "body": "so <code>three</code> is a child of <code>two</code> or of <code>one</code> ?"}, {"owner": {"reputation": 13, "user_id": 5780772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97fd2dfd9990869e20a19de00e1eb0b?s=128&d=identicon&r=PG&f=1", "display_name": "s2990", "link": "https://stackoverflow.com/users/5780772/s2990"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538529473, "post_id": 52616038, "comment_id": 92170921, "body": "three would be the child of two. As the child nodes are created recursively."}], "answers": [{"tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 0, "last_activity_date": 1538556552, "creation_date": 1538556552, "answer_id": 52623155, "question_id": 52616038, "link": "https://stackoverflow.com/questions/52616038/creating-a-model-with-object-array-in-typescript/52623155#52623155", "title": "Creating a model with object array in typescript", "body": "<p>You could just reduce the array of strings to the wanted result:</p>\n\n<pre><code> function buildTree(path: string): Node {\n   return path.split(\"\\\\\").reduceRight((child, name) =&gt; ([{ name, child }], [])[0];\n }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5780772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97fd2dfd9990869e20a19de00e1eb0b?s=128&d=identicon&r=PG&f=1", "display_name": "s2990", "link": "https://stackoverflow.com/users/5780772/s2990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 1, "accepted_answer_id": 52623155, "answer_count": 1, "score": 0, "last_activity_date": 1538556552, "creation_date": 1538512569, "question_id": 52616038, "link": "https://stackoverflow.com/questions/52616038/creating-a-model-with-object-array-in-typescript", "title": "Creating a model with object array in typescript", "body": "<p>I am trying to build a recursive model based on url strings in to a tree like view. I am very new to typescript, any thoughts are appreciated, thanks.</p>\n\n<pre><code>//node.ts interface\n export interface Node {\n name: string;\n child: Node[];\n }\n\n//ObjectModel.ts\nexport class ObjectModel {\n\nconstructor(public parentNodes?: Node[]) { } \n\ncreateObjectModel(path: string): ObjectModel {\n\n//path = \"one\\two\\three\"\nconst nodeArr = path.split('\\\\');\n//[\"one\", \"two\", \"three\"]\nconst obj = nodeArr.reduce((o, key) =&gt; Object.assign(o, {[key]: nodeArr[0]}), {});\nconsole.log(obj); \n//{one: \"one\", two: \"one\", three: \"one\"}\nreturn _.map(nodeArr, (node: Node) =&gt; {\n  return { \n    parentNodes: bomNode\n  }\n});\n</code></pre>\n\n<p>}</p>\n\n<p>Expected result is tree like structure based on the url path provided. Thanks in advance.</p>\n"}, {"tags": ["html", "json", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "edited": false, "score": 0, "creation_date": 1538509837, "post_id": 52615350, "comment_id": 92165117, "body": "Have you tried to output using <code>{{_jsonData | json}}</code> and look if everything is correct in the structure?"}, {"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "reply_to_user": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "edited": false, "score": 0, "creation_date": 1538512142, "post_id": 52615350, "comment_id": 92166159, "body": "I already have, and I tried ordering the variables in the CoinListing interface file as appropriate."}], "answers": [{"comments": [{"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1538511812, "post_id": 52615635, "comment_id": 92166002, "body": "ng-repeat is not used in Angular. That&#39;s for AngularJS <a href=\"https://namitamalik.github.io/NgRepeat-vs-ngFor/\" rel=\"nofollow noreferrer\">namitamalik.github.io/NgRepeat-vs-ngFor</a>"}, {"owner": {"reputation": 104, "user_id": 10448093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d806afc2922f579c707a7a5f9d979c5?s=128&d=identicon&r=PG&f=1", "display_name": "Jgillett7674", "link": "https://stackoverflow.com/users/10448093/jgillett7674"}, "reply_to_user": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 1, "creation_date": 1538513573, "post_id": 52615635, "comment_id": 92166702, "body": "Thank you for your clarification"}], "tags": [], "owner": {"reputation": 104, "user_id": 10448093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d806afc2922f579c707a7a5f9d979c5?s=128&d=identicon&r=PG&f=1", "display_name": "Jgillett7674", "link": "https://stackoverflow.com/users/10448093/jgillett7674"}, "is_accepted": false, "score": 0, "last_activity_date": 1538513852, "last_edit_date": 1538513852, "creation_date": 1538510731, "answer_id": 52615635, "question_id": 52615350, "link": "https://stackoverflow.com/questions/52615350/angular-6-api-json-ngfor-not-showing/52615635#52615635", "title": "Angular 6 API JSON ngFor Not Showing", "body": "<p>If I understand this correctly, \"Each entry has a variable key value, paired with an array of variables\" then coins is an object or array. If that is the case then </p>\n\n<pre><code>Found {{ coin }} \n</code></pre>\n\n<p>will not return a value. You would need to call a variable from inside coin. For example if 'title' was a key inside of coin then you could do</p>\n\n<pre><code>Found {{ coin.title }}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538512655, "post_id": 52615757, "comment_id": 92166374, "body": "I tried it, but it comes up with the following...  Error: Error trying to diff &#39;[object Object]&#39;. Only arrays and iterables are allowed at DefaultIterableDiffer.push../node_modules/@angular/core/fesm&zwnj;&#8203;5/core.js.DefaultIte&zwnj;&#8203;rableDiffer.diff (core.js:5642)"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538512753, "post_id": 52615757, "comment_id": 92166420, "body": "@ScH88 did you try both solutions?"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538512995, "post_id": 52615757, "comment_id": 92166505, "body": "your problem is in this line right here <code>this._jsonData = result.Data;</code> can you post in your question part of the structure you are getting back from results.Data? result.Data is not an array of objects. Looks like is just an Object @ScH88"}, {"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538513707, "post_id": 52615757, "comment_id": 92166759, "body": "I tried both. I included the &quot;.Data&quot; because is a part of the return value itself and is all I need. The full return value is {Response: &quot;Success&quot;, Message: &quot;Coin list succesfully returned!&quot;, Data: {\u2026}, BaseImageUrl: &quot;<a href=\"https://www.cryptocompare.com\" rel=\"nofollow noreferrer\">cryptocompare.com</a>&quot;, BaseLinkUrl: &quot;<a href=\"https://www.cryptocompare.com\" rel=\"nofollow noreferrer\">cryptocompare.com</a>&quot;}"}, {"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538514088, "post_id": 52615757, "comment_id": 92166915, "body": "And as for what &quot;.Data&quot; returns, here&#39;s a line.   0XBTC: {Id: &quot;877383&quot;, Url: &quot;/coins/0xbtc/overview&quot;, ImageUrl: &quot;/media/32655871/0xbtc.jpg&quot;, Name: &quot;0xBTC&quot;, Symbol: &quot;0XBTC&quot;, \u2026}"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538514469, "post_id": 52615757, "comment_id": 92167053, "body": "yep... so the issue is that you Object has the <code>0XBTC:{...}</code> you can either do 2 things. loop through and array with keys that contain objects or remove the keys basically if you remove the 0XBTC your object will be like this <code>{...}</code>"}, {"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 1, "creation_date": 1538515903, "post_id": 52615757, "comment_id": 92167581, "body": "Just did, and having tried your code, it works now. I am able to get each item and their variables. Much thanks for your help."}, {"owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538516638, "post_id": 52615757, "comment_id": 92167859, "body": "I tried. It said something about votes from those with less than 15 reputation being recorded but not changing the public score."}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "edited": false, "score": 0, "creation_date": 1538516770, "post_id": 52615757, "comment_id": 92167905, "body": "@ScH88 that&#39;s right. Well when you get enough reputation don&#39;t forget about your homies ;) hahah"}], "tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": true, "score": 0, "last_activity_date": 1538515745, "last_edit_date": 1538515745, "creation_date": 1538511249, "answer_id": 52615757, "question_id": 52615350, "link": "https://stackoverflow.com/questions/52615350/angular-6-api-json-ngfor-not-showing/52615757#52615757", "title": "Angular 6 API JSON ngFor Not Showing", "body": "<p>You need to bind the properties or use the <strong>json pipe</strong> the <code>{{_jsonData | json}}</code> is working because you are telling the binding to give it that structure with the <strong>json pipe</strong></p>\n\n<p>To learn more about JSON pipes:\n<a href=\"https://angular.io/api/common/JsonPipe\" rel=\"nofollow noreferrer\">https://angular.io/api/common/JsonPipe</a></p>\n\n<p>You can do this:</p>\n\n<pre><code>&lt;p *ngFor=\"let coin of _jsonData\"&gt;\n  Found {{ coin | json }}\n&lt;p&gt;\n</code></pre>\n\n<p>or binding each property you want to show</p>\n\n<pre><code> &lt;p *ngFor=\"let coin of _jsonData\"&gt;\n      Found:\n      {{  coin.Algorithm }}\n      {{  coin.BuiltOn }}\n      .\n      .\n      .\n      {{  coin.Url }}\n &lt;p&gt;\n</code></pre>\n\n<p><strong>UPDATE: Based on the structure of your object</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let coin of objectKeys(_jsonData)\"&gt;\n    {{_jsonData[coin] | json}}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>In your ts file:</strong></p>\n\n<pre><code>objectKeys(obj) {\n    return Object.keys(obj);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 2177996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43d4e669a253d304630e1b55fc3df803?s=128&d=identicon&r=PG", "display_name": "dryize", "link": "https://stackoverflow.com/users/2177996/dryize"}, "is_accepted": false, "score": 0, "last_activity_date": 1538511539, "creation_date": 1538511539, "answer_id": 52615822, "question_id": 52615350, "link": "https://stackoverflow.com/questions/52615350/angular-6-api-json-ngfor-not-showing/52615822#52615822", "title": "Angular 6 API JSON ngFor Not Showing", "body": "<p>You need to use property like below</p>\n\n<pre><code>&lt;p *ngFor=\"let coin of _jsonData\"&gt;\n Found {{ coin.Title }}\n&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10447899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/611a72980f83ab140adf2d2de49f3842?s=128&d=identicon&r=PG&f=1", "display_name": "ScH88", "link": "https://stackoverflow.com/users/10447899/sch88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1094, "favorite_count": 0, "accepted_answer_id": 52615757, "answer_count": 3, "score": 1, "last_activity_date": 1538523245, "creation_date": 1538509475, "last_edit_date": 1538523245, "question_id": 52615350, "link": "https://stackoverflow.com/questions/52615350/angular-6-api-json-ngfor-not-showing", "title": "Angular 6 API JSON ngFor Not Showing", "body": "<p>I am working on a project using Angular 6 for the first time, and I am creating an application that gets JSON data from an online URL, listing each entry on a HTML page. Each entry has a variable key value, paired with an array of variables. The problem is that, despite not showing any errors, the *ngFor statement does not show any of the entries, yet the {{ jsonData | json }} shows that the data is returned successfully. Here is my code.</p>\n\n<p><strong>api-retrieval-service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpErrorResponse, HttpResponse} from '@angular/common/http';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport { CoinListing } from './coinListing';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ApiRetrievalService {\n  constructor(private _http: HttpClient) { }\n\n  coinList() {\n    return this._http.get('https://min-api.cryptocompare.com/data/all/coinlist').pipe(catchError(this.errorHandler));\n  }\n\n  errorHandler(error: HttpErrorResponse) {\n     return throwError(error);\n  }\n} \n</code></pre>\n\n<p><strong>coinlist.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ApiRetrievalService } from '../api-retrieval.service';\nimport { CoinListing } from '../coinListing';\n\n@Component({\n  selector: 'app-coinlist',\n  templateUrl: './coinlist.component.html',\n  styles: []\n})\nexport class CoinlistComponent implements OnInit {\n  title = 'Coin Listing';\n  public _jsonData:CoinListing[] = [];\n  constructor(private _apiRetrieval: ApiRetrievalService) { }\n  ngOnInit() {\n    this._apiRetrieval.coinList()\n      .subscribe(\n        result =&gt;  {\n          this._jsonData = result.Data;\n          console.log('Success', result.Data);\n        },\n        error =&gt; this.errorMsg = error.statusText\n     );\n  }\n}\n</code></pre>\n\n<p><strong>coinListing.ts</strong></p>\n\n<pre><code>export interface CoinListing {\n  [key:string]: {\n    Algorithm: string;\n    BuiltOn: string;\n    CoinName: string;\n    FullName: string;\n    FullyPremined: string;\n    Id: string;\n    ImageUrl: string;\n    IsTrading: string;\n    Name: string;\n    PreMinedValue: string;\n    ProofType: string;\n    SmartContractAddress: string;\n    SortOrder: string;\n    Sponsored: string;\n    Symbol: string;\n    TotalCoinSupply: string;\n    TotalCoinsFreeFloat: string;\n    Url: string;\n  }\n};\n</code></pre>\n\n<p><strong>coinlist.component.html</strong></p>\n\n<pre><code>&lt;div style=\"text-align:center\"&gt;\n  &lt;h1&gt;\n    {{ title }}\n  &lt;/h1&gt;\n&lt;/div&gt;\n&lt;br/&gt;\n&lt;p *ngFor=\"let coin of _jsonData\"&gt;\n Found {{ coin }}\n&lt;/p&gt;\n</code></pre>\n\n<p>Anyone know what is stopping the CoinListings from being displayed via *ngFor? Or how I can show each CoinListing's variables in the HTML page, given their structure?</p>\n"}, {"tags": ["angular", "typescript", "redux", "ngrx", "redux-devtools-extension"], "comments": [{"owner": {"reputation": 322, "user_id": 8715552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd58e88239b4ec6c4eaf4fb5d127ea98?s=128&d=identicon&r=PG&f=1", "display_name": "user8715552", "link": "https://stackoverflow.com/users/8715552/user8715552"}, "edited": false, "score": 0, "creation_date": 1538509726, "post_id": 52615090, "comment_id": 92165060, "body": "Both chrome and firefox extensions show &#39;pin: undefined&#39; on launching the redux devtools"}], "answers": [{"tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": true, "score": 14, "last_activity_date": 1618048612, "last_edit_date": 1618048612, "creation_date": 1538511900, "answer_id": 52615902, "question_id": 52615090, "link": "https://stackoverflow.com/questions/52615090/ngrx-redux-devtools-not-showing-store-and-state-details-even-though-applicaton-i/52615902#52615902", "title": "NgRx Redux devtools not showing store and state details even though applicaton is working fine", "body": "<p>To use the Redux devtools you'll have to install @ngrx/store-devtools and import it in the <code>AppModule</code> - <a href=\"https://ngrx.io/guide/store-devtools\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>Install it with:</p>\n<pre><code>npm install @ngrx/store-devtools --save \n</code></pre>\n<p>Import it with:</p>\n<pre><code>@NgModule({\n  imports: [\n    StoreModule.forRoot(reducers),\n    // Instrumentation must be imported after importing StoreModule (config is optional)\n    StoreDevtoolsModule.instrument({\n      maxAge: 25, // Retains last 25 states\n      logOnly: environment.production, // Restrict extension to log-only mode\n    }),\n  ],\n})\nexport class AppModule {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5859, "user_id": 776686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1ccf60b805c4c84f8377908435b14b05?s=128&d=identicon&r=PG", "display_name": "user776686", "link": "https://stackoverflow.com/users/776686/user776686"}, "is_accepted": false, "score": 0, "last_activity_date": 1562169434, "creation_date": 1562169434, "answer_id": 56874011, "question_id": 52615090, "link": "https://stackoverflow.com/questions/52615090/ngrx-redux-devtools-not-showing-store-and-state-details-even-though-applicaton-i/56874011#56874011", "title": "NgRx Redux devtools not showing store and state details even though applicaton is working fine", "body": "<p>If you have @ngrx/store-devtools installed and the store still doesn't show up (instead, you see <strong>No store found - <em>blah blah blah</em> instructions</strong>), context menu over the frame and select <strong>Reload Frame</strong>.</p>\n\n<p>One of the tickets claimed that this workaround should no longer be necessary, but to me it was (Angular and store around v.7.2.x, Redux DevTools extension 2.17)</p>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 11163220, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Tn6J6UQ-Qf4/AAAAAAAAAAI/AAAAAAAAAEw/igvta31Fpy4/photo.jpg?sz=128", "display_name": "Chamara Nillushan", "link": "https://stackoverflow.com/users/11163220/chamara-nillushan"}, "edited": false, "score": 0, "creation_date": 1588570733, "post_id": 60022268, "comment_id": 108938477, "body": "This option work for me and you save my effort of days. Thank you"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1614127771, "post_id": 60022268, "comment_id": 117289101, "body": "Thank you a lot. I just put the store dev tool above the StoreModule.forRoot. Silly me"}], "tags": [], "owner": {"reputation": 14025, "user_id": 2150711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JHE02.jpg?s=128&g=1", "display_name": "v-andrew", "link": "https://stackoverflow.com/users/2150711/v-andrew"}, "is_accepted": false, "score": 9, "last_activity_date": 1615855619, "last_edit_date": 1615855619, "creation_date": 1580602848, "answer_id": 60022268, "question_id": 52615090, "link": "https://stackoverflow.com/questions/52615090/ngrx-redux-devtools-not-showing-store-and-state-details-even-though-applicaton-i/60022268#60022268", "title": "NgRx Redux devtools not showing store and state details even though applicaton is working fine", "body": "<p>There is an issue with Angular app when <code>Redux</code> doesn't see your <code>Store</code></p>\n<p>Check that you have</p>\n<pre class=\"lang-js prettyprint-override\"><code>StoreDevtoolsModule.instrument({maxAge: 25, logOnly: environment.production})\n</code></pre>\n<p><strong>after</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>StoreModule.forRoot(reducers)\n</code></pre>\n<p>Otherwise you are in trouble.</p>\n<p><strong>BTW, it is better to install DevTools with</strong></p>\n<pre class=\"lang-sh prettyprint-override\"><code>ng add @ngrx/store-devtools\n</code></pre>\n<p>It adds schematics to the project.</p>\n"}, {"tags": [], "owner": {"reputation": 3237, "user_id": 1324366, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kqWgp.jpg?s=128&g=1", "display_name": "Ahmad Sharif", "link": "https://stackoverflow.com/users/1324366/ahmad-sharif"}, "is_accepted": false, "score": 0, "last_activity_date": 1592896444, "creation_date": 1592896444, "answer_id": 62529272, "question_id": 52615090, "link": "https://stackoverflow.com/questions/52615090/ngrx-redux-devtools-not-showing-store-and-state-details-even-though-applicaton-i/62529272#62529272", "title": "NgRx Redux devtools not showing store and state details even though applicaton is working fine", "body": "<p>Make sure you have installed the ngrx/store-devtools by following commands</p>\n<pre><code>npm install @ngrx/store-devtools --save\n</code></pre>\n<blockquote>\n<p>I want to put my two-cent experience that might be helpful for many of you. There is an order issue. You have to the add ngrx/store-devtools after the reducer. If you do not maintain the order, it will not work.</p>\n</blockquote>\n"}], "owner": {"reputation": 322, "user_id": 8715552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd58e88239b4ec6c4eaf4fb5d127ea98?s=128&d=identicon&r=PG&f=1", "display_name": "user8715552", "link": "https://stackoverflow.com/users/8715552/user8715552"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5048, "favorite_count": 2, "accepted_answer_id": 52615902, "answer_count": 4, "score": 9, "last_activity_date": 1618048612, "creation_date": 1538508258, "last_edit_date": 1582055575, "question_id": 52615090, "link": "https://stackoverflow.com/questions/52615090/ngrx-redux-devtools-not-showing-store-and-state-details-even-though-applicaton-i", "title": "NgRx Redux devtools not showing store and state details even though applicaton is working fine", "body": "<p>I am using the below sample application to learn angular+ngrx.\n<a href=\"https://github.com/DeborahK/Angular-NgRx-GettingStarted/tree/master/APM-Demo1\" rel=\"noreferrer\">APM Sample NgRx App</a></p>\n\n<p>I have installed Redux firefox extension. But whenever I run/reload application, redux tab shows 'No store found' message. The application is working as expected(is able to retain state). I am able to dispatch actions, handle it in the reducer etc..\nPlease help.. I am stuck in this for quite a long time.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 1, "creation_date": 1538506666, "post_id": 52614653, "comment_id": 92163741, "body": "It looks okay to me. To use with <code>ngFor</code> you would have to convert this to an array or something you can iterate over"}, {"owner": {"reputation": 7629, "user_id": 978005, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9219975d0b744e19422761516d419f12?s=128&d=identicon&r=PG", "display_name": "Phix", "link": "https://stackoverflow.com/users/978005/phix"}, "edited": false, "score": 1, "creation_date": 1538508097, "post_id": 52614653, "comment_id": 92164364, "body": "There&#39;s also the <a href=\"https://angular.io/api/common/KeyValuePipe\" rel=\"nofollow noreferrer\">keyvalue</a> pipe depending on what version you&#39;re using."}], "answers": [{"tags": [], "owner": {"reputation": 343, "user_id": 8272551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwAPA.png?s=128&g=1", "display_name": "Tawfiek Khalaf", "link": "https://stackoverflow.com/users/8272551/tawfiek-khalaf"}, "is_accepted": true, "score": 2, "last_activity_date": 1538507966, "creation_date": 1538507966, "answer_id": 52615034, "question_id": 52614653, "link": "https://stackoverflow.com/questions/52614653/object-within-object-data-structure-in-angular/52615034#52615034", "title": "Object within object data structure in Angular", "body": "<p>It looks okay  I think , \nand  for  using  this  with  ngFor  I think  you need to convert  the object to array  using map  function  . </p>\n\n<pre><code>    var arr = Object.keys(objectName).map((index)=&gt;{\n    let item = objectName[index];\n\n    return item ;\n});\n</code></pre>\n\n<p>and then using  arr  within  *ngFor</p>\n"}, {"tags": [], "owner": {"reputation": 2218, "user_id": 3623608, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/7UZUW.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/3623608/tommy"}, "is_accepted": false, "score": 1, "last_activity_date": 1538508483, "creation_date": 1538508483, "answer_id": 52615137, "question_id": 52614653, "link": "https://stackoverflow.com/questions/52614653/object-within-object-data-structure-in-angular/52615137#52615137", "title": "Object within object data structure in Angular", "body": "<p>What you want to achieve is an array</p>\n\n<pre><code>[\n    \"97\": {\n        \"Title\": \"This is a title\",\n     },\n    \"98\": {\n        \"Title\": \"This is another title\",\n     }\n]\n</code></pre>\n\n<p>to parse your API response as <code>SKU[]</code>. To achieve this structure you can either correct your server code (correct way to do it) or do some fancy object to array conversions (don\u2018t do).</p>\n\n<p>After parsing this result in your component as <code>SKU[]</code> you can iterate in your view using <code>*ngFor</code>.</p>\n"}], "owner": {"reputation": 135, "user_id": 9420638, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9b40558045092b7cb7c076a8c9f189dd?s=128&d=identicon&r=PG&f=1", "display_name": "viiskis", "link": "https://stackoverflow.com/users/9420638/viiskis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 52615034, "answer_count": 2, "score": 0, "last_activity_date": 1538508483, "creation_date": 1538506382, "question_id": 52614653, "link": "https://stackoverflow.com/questions/52614653/object-within-object-data-structure-in-angular", "title": "Object within object data structure in Angular", "body": "<p>I'm receiving these results from an API:</p>\n\n<pre><code>{\n  \"97\": {\n    \"Title\": \"This is a title\",\n  },\n  \"98\": {\n    \"Title\": \"This is another title\",\n  }\n}\n</code></pre>\n\n<p>I'm using this interface:</p>\n\n<pre><code>export interface Product {\n  Title: string;\n}\n\nexport interface SKU {\n  [key: string]: Product\n}\n</code></pre>\n\n<p>Does my interface looks alright? And how do I work with this type of stracture in Angular regarding *ngFor?</p>\n"}, {"tags": ["javascript", "typescript", "angular5"], "comments": [{"owner": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1538506402, "post_id": 52614586, "comment_id": 92163614, "body": "I guess you have undefined value in this.selectedLecturer.$key. console the this.selectedLecturer."}, {"owner": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "reply_to_user": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1538507049, "post_id": 52614586, "comment_id": 92163930, "body": "yes i have unidentified value. but what is the way of getting the value. i also tried like this,                  this.selectedLecturer[&#39;$key&#39;] which also did not work.."}, {"owner": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1538507188, "post_id": 52614586, "comment_id": 92163992, "body": "You are just making an empty object of lecturer as selectedLecturer. You have to assign an object to that"}, {"owner": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "reply_to_user": {"reputation": 1691, "user_id": 4639894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d679ebb85af0e2733799ec568337c47?s=128&d=identicon&r=PG", "display_name": "suzan", "link": "https://stackoverflow.com/users/4639894/suzan"}, "edited": false, "score": 0, "creation_date": 1538507489, "post_id": 52614586, "comment_id": 92164129, "body": "this.lecturerService.selectedLecturer = Object.assign({},lec); I think i did it in my lecturer.component.ts like this where the console is showing all the values. but i can&#39;t get it in the lecturer.service.ts"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "edited": false, "score": 0, "creation_date": 1538515018, "post_id": 52615234, "comment_id": 92167245, "body": "really thank you for the suggestion. but it did not work. :("}, {"owner": {"reputation": 1377, "user_id": 3342447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ekHO.jpg?s=128&g=1", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/3342447/abhishek-singh"}, "reply_to_user": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "edited": false, "score": 0, "creation_date": 1538561511, "post_id": 52615234, "comment_id": 92182664, "body": "Okay, there must be another problem. But this is the standard way for class-based object creation."}, {"owner": {"reputation": 1377, "user_id": 3342447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ekHO.jpg?s=128&g=1", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/3342447/abhishek-singh"}, "reply_to_user": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "edited": false, "score": 0, "creation_date": 1538561564, "post_id": 52615234, "comment_id": 92182697, "body": "btw from where are you calling getAssignedCourse() function??"}, {"owner": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "edited": false, "score": 0, "creation_date": 1538585498, "post_id": 52615234, "comment_id": 92197325, "body": "i get that. actually i was able to do the same while fetching the data from the selectedLecturer in a form from other module using this, though i used two way binding i somehow thought this would work to. but this is not working.  i was calling it from assignedcourse.module.ts ."}], "tags": [], "owner": {"reputation": 1377, "user_id": 3342447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ekHO.jpg?s=128&g=1", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/3342447/abhishek-singh"}, "is_accepted": false, "score": 1, "last_activity_date": 1538509378, "last_edit_date": 1538509378, "creation_date": 1538508991, "answer_id": 52615234, "question_id": 52614586, "link": "https://stackoverflow.com/questions/52614586/angular5-newly-created-object-from-class-is-returning-undefined/52615234#52615234", "title": "Angular5 - newly created object from class is returning undefined", "body": "<p><strong>Solution 1:</strong></p>\n\n<p><em>I think you should pass the default value to it like this ...</em></p>\n\n<p><strong>lecturer.ts file</strong></p>\n\n<pre><code>export class Lecturer {\n   $key: string = '';\n   userName: string = '';\n   userEmail: string = '';\n   userProfileImageUrl: string = '';\n}\n</code></pre>\n\n<p><strong>new Object creation</strong></p>\n\n<pre><code>selectedLecturer: Lecturer = new Lecturer();\n\nconsole.log(selectedLecturer)\n// output will be\n { $key: '',\n   userName: '',\n   userEmail:'',\n   userProfileImageUrl:''\n }\n</code></pre>\n\n<p><strong>Solution 2:</strong></p>\n\n<p><strong>lecture.ts file</strong></p>\n\n<p><em>Or add a constructor to assign value while creating a new object like this...</em></p>\n\n<pre><code>export class Lecturer {\n   $key: string;\n   userName: string;\n   userEmail: string;\n   userProfileImageUrl: string;\n   constructor(key:string,userName: string,userEmail: string, userProfileImageUrl: string){\n         this.$key = key;\n         this.userName = userName;\n         this.userEmail = userEmail;\n         this.userProfileImageUrl = userProfileImageUrl\n        }\n}\n</code></pre>\n\n<p><strong>new Object creation</strong></p>\n\n<pre><code>selectedLecturer: Lecturer = new Lecturer('my_key','name','email','url');\n\nconsole.log(selectedLecturer)\n// output will be\n { $key: 'my_key',\n   userName: 'name',\n   userEmail:'email',\n   userProfileImageUrl:'url'\n }\n</code></pre>\n"}], "owner": {"reputation": 129, "user_id": 7215342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-S1vppY2If8Q/AAAAAAAAAAI/AAAAAAAAAAs/iB8slCRiBrY/photo.jpg?sz=128", "display_name": "MEHEDI HASAN", "link": "https://stackoverflow.com/users/7215342/mehedi-hasan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1538511813, "creation_date": 1538506106, "last_edit_date": 1538511813, "question_id": 52614586, "link": "https://stackoverflow.com/questions/52614586/angular5-newly-created-object-from-class-is-returning-undefined", "title": "Angular5 - newly created object from class is returning undefined", "body": "<p>i have a service class where i am passing an object from component saving it temporarily model class. i want to get the $key in lecturer.service.ts from lecturer.ts (Model).</p>\n\n<p><strong>lecturer.component.ts</strong></p>\n\n<pre><code>onItemClick(lec: Lecturer) {\n  this.lecturerService.selectedLecturer = Object.assign({},lec); // this is working properly as i have seen in console.log(lec)\n}\n</code></pre>\n\n<p><strong>lecturer.ts</strong></p>\n\n<pre><code>export class Lecturer {\n    $key: string;\n    userName: string;\n    userEmail: string;\n    userProfileImageUrl: string;\n}\n</code></pre>\n\n<p>now i just want the $key from lecture.ts in service class but somehow i cannot get the key to use in this function..</p>\n\n<p><strong>lecture.service.ts</strong></p>\n\n<pre><code> import { Injectable } from '@angular/core';\n import { Lecturer } from './lecturer';\n import { AngularFireDatabase, AngularFireList } from '@angular/fire/database';\n\n @Injectable({\n    providedIn: 'root'\n })\n\n  export class LecturerService {\n     lecturerList: AngularFireList&lt;any&gt;;\n     assignedCourseList: AngularFireList&lt;any&gt;;\n\n     selectedLecturer: Lecturer = new Lecturer();\n\n     constructor(private db: AngularFireDatabase) {}\n\n     getAssignedCourse() {\n     this.assignedCourseList = this.db.list('Users/' + this.selectedLecturer.$key + '/Course'); //this is where i'm having problem to get the $key\n       console.log(this.selectedLecturer.$key);\n       return this.assignedCourseList;\n     }\n  }\n</code></pre>\n\n<p>what can i do to achieve this.. ? </p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "edited": false, "score": 0, "creation_date": 1538507343, "post_id": 52614567, "comment_id": 92164065, "body": "See this <a href=\"https://stackoverflow.com/questions/52569073/want-to-show-more-data-in-another-component-when-view-in-detail-button-is-clicke/52569837#52569837\" title=\"want to show more data in another component when view in detail button is clicke\">stackoverflow.com/questions/52569073/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "edited": false, "score": 0, "creation_date": 1538516863, "post_id": 52614924, "comment_id": 92167936, "body": "It doesn&#39;t work because compiler shows error - updateWeatherId is not defined"}, {"owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "reply_to_user": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "edited": false, "score": 0, "creation_date": 1538578881, "post_id": 52614924, "comment_id": 92193469, "body": "you did put the <code>updateWeatherId()</code> function in the <b>app.component.ts</b> right? Otherwise I don&#39;t know what to tell you because we literally defined it in there."}, {"owner": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "edited": false, "score": 0, "creation_date": 1538585109, "post_id": 52614924, "comment_id": 92197112, "body": "Yes, right I put updateWeatherID inside ngOninit. it looks like -        ngOnInit() {          updateWeatherId(weatherId){       if (weatherId &gt; 800) { ....}"}, {"owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "reply_to_user": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "edited": false, "score": 0, "creation_date": 1538587109, "post_id": 52614924, "comment_id": 92198130, "body": "I updated my answer to be more straightforward on what I meant by add the weather id checks to ngOnInit."}, {"owner": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "edited": false, "score": 1, "creation_date": 1538591726, "post_id": 52614924, "comment_id": 92200419, "body": "Thank you for help me. It&#39;s working. I just a little changed here -&gt; ngOnInit() {     this.updateWeatherId(this.weatherID);   }"}], "tags": [], "owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "is_accepted": true, "score": 1, "last_activity_date": 1538592063, "last_edit_date": 1538592063, "creation_date": 1538507465, "answer_id": 52614924, "question_id": 52614567, "link": "https://stackoverflow.com/questions/52614567/how-to-pass-only-one-value-from-one-component-to-other-component-in-angular-6/52614924#52614924", "title": "How to pass only one value from one component to other component in Angular 6?", "body": "<p>you need an <code>@Output</code> to send to the parent component. here is how you will pass it up. also you should take the weatherId checks out of the <code>constructor</code> and put it in the <code>ngOnInit</code></p>\n\n<p><strong>current-weather.component.ts</strong></p>\n\n<pre><code>@Output() weatherId: EventEmitter&lt;boolean&gt; = new EventEmitter();\n\nngOnInit() {\nthis.weatherService.getCurrentWeather('Seattle', 'US')\n  .subscribe((data) =&gt; {\n      this.current = data;\n      this.weatherId.emit(data.weatherId);\n    });\n\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;app-current-weather (weatherId)=\"updateWeatherId($event)\"&gt;&lt;/app-current-weather&gt;\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>ngOnInit() {\n   this.updateWeatherId(this.weatherID.weatherId);\n}\n\nupdateWeatherId(weatherId) {\n   if ( weatherId &gt; 800) {\n      this.bgImage = '../../../assets/images/cloud.jpg';\n    } else if (weatherId === 800) {\n      this.bgImage = '../../../assets/images/clear.jpg';\n    } else if (weatherId &gt;= 700) {\n      this.bgImage = '../../../assets/images/fog.png';\n    } else if (weatherId &gt;= 600) {\n      this.bgImage = '../../../assets/images/snow.png';\n    } else if (weatherId &gt;= 500) {\n      this.bgImage = '../../../assets/images/rain.png';\n    } else if (weatherId &gt;= 300) {\n      this.bgImage = '../../../assets/images/drizzly.png';\n    } else {\n      this.bgImage = '../../../assets/images/thunderstorm.jpg';\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 10033999, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D9fIcHA2ul0/AAAAAAAAAAI/AAAAAAAAAJI/8Wbz_pV9Vq4/photo.jpg?sz=128", "display_name": "Jimmy Hedstr&#246;m", "link": "https://stackoverflow.com/users/10033999/jimmy-hedstr%c3%b6m"}, "is_accepted": false, "score": 2, "last_activity_date": 1538587950, "creation_date": 1538587950, "answer_id": 52632662, "question_id": 52614567, "link": "https://stackoverflow.com/questions/52614567/how-to-pass-only-one-value-from-one-component-to-other-component-in-angular-6/52632662#52632662", "title": "How to pass only one value from one component to other component in Angular 6?", "body": "<p>Since <code>CurrentWeatherComponent</code> will be a direct child of <code>AppComponent</code> (I assume), the child can inject the parent in the constructor and from there, reach the parent when it needs to change image. Something like this:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ICurrentWeather} from '../icurrent-weather';\nimport {WeatherService} from '../weather/weather.service';\nimport {AppComponent} from '../../app.component'; // change path if incorrect\n\n@Component({\n  selector: 'app-current-weather',\n  templateUrl: './current-weather.component.html',\n  styleUrls: ['./current-weather.component.css']\n})\nexport class CurrentWeatherComponent implements OnInit {\n\n  current: ICurrentWeather;\n\n  // inject weather service and parent component\n  constructor(public weatherService: WeatherService, private parent: AppComponent) { }\n\n  ngOnInit() {\n    this.current = {\n      city: '',\n      country: '',\n      image: '',\n      temperature: 80,\n      description: '',\n      natural: '',\n      bgImage: '',\n      visibility: 12478,\n      weatherId: 200,\n    } as ICurrentWeather;\n\n    this.weatherService.getCurrentWeather('Seattle', 'US')\n      .subscribe((data) =&gt; {\n        this.current = data;\n        this.parent.changeImage(data);  // call some function in parent to swap image\n      });\n\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4980478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658f1fc5d906cdffe14e13046f78965d?s=128&d=identicon&r=PG&f=1", "display_name": "KAPTIK", "link": "https://stackoverflow.com/users/4980478/kaptik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 52614924, "answer_count": 2, "score": 2, "last_activity_date": 1538592063, "creation_date": 1538506041, "question_id": 52614567, "link": "https://stackoverflow.com/questions/52614567/how-to-pass-only-one-value-from-one-component-to-other-component-in-angular-6", "title": "How to pass only one value from one component to other component in Angular 6?", "body": "<p>How pass data from one component to other one in Angular 6? I created service (weather.service), weather.component, interface and app.component. So, I have data from weather api in weather.component but I want to pass data to app.component and use it to change background-images dynamically.\n<strong>current-weather.component</strong></p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ICurrentWeather} from '../icurrent-weather';\nimport {WeatherService} from '../weather/weather.service';\n\n@Component({\n selector: 'app-current-weather',\n templateUrl: './current-weather.component.html',\n styleUrls: ['./current-weather.component.css']\n})\nexport class CurrentWeatherComponent implements OnInit {\n\ncurrent: ICurrentWeather;\n\nconstructor(public weatherService: WeatherService) {\nthis.current = {\n  city: '',\n  country: '',\n  image: '',\n  temperature: 80,\n  description: '',\n  natural: '',\n  bgImage: '',\n  visibility: 12478,\n  weatherId: 200,\n} as ICurrentWeather;\n\n\n}\n\nngOnInit() {\nthis.weatherService.getCurrentWeather('Seattle', 'US')\n  .subscribe((data) =&gt; this.current = data);\n\n}\n\n}\n</code></pre>\n\n<p><strong>app.component</strong></p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {ICurrentWeather} from './icurrent-weather';\n\n\n@Component({\n selector: 'app-root',\n templateUrl: './app.component.html',\n styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n weatherID: ICurrentWeather;\n bgImage: string;\n\n constructor() {\n\n  if ( this.weatherID.weatherId &gt; 800) {\n    this.bgImage = '../../../assets/images/cloud.jpg';\n  } else if (this.weatherID.weatherId === 800) {\n    this.bgImage = '../../../assets/images/clear.jpg';\n  } else if (this.weatherID.weatherId &gt;= 700) {\n    this.bgImage = '../../../assets/images/fog.png';\n  } else if (this.weatherID.weatherId &gt;= 600) {\n    this.bgImage = '../../../assets/images/snow.png';\n  } else if (this.weatherID.weatherId &gt;= 500) {\n    this.bgImage = '../../../assets/images/rain.png';\n  } else if (this.weatherID.weatherId &gt;= 300) {\n    this.bgImage = '../../../assets/images/drizzly.png';\n  } else {\n    this.bgImage = '../../../assets/images/thunderstorm.jpg';\n  }\n }\n}\n</code></pre>\n\n<p><strong>interface</strong></p>\n\n<pre><code>export interface ICurrentWeather {\n city: string;\n country: string;\n image: string;\n temperature: number;\n description: string;\n natural: string;\n weatherId: number;\n visibility: number;\n}\n</code></pre>\n\n<p><strong>weather.service</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {environment} from '../../environments/environment';\nimport {Observable} from 'rxjs';\nimport {ICurrentWeather} from '../icurrent-weather';\nimport {map} from 'rxjs/internal/operators';\n\ninterface ICurrentWeatherData {\n  weather: [{\n   main: string, // main:'Rain'\n   description: string,\n   icon: string,\n   id: number,\n }];\nmain: {\n  temp: number\n};\nvisibility: number;  // visibility: 12874\nsys: {\n  country: string\n};\nname: string;\n}\n</code></pre>\n\n<p>@Injectable({\n    providedIn: 'root'\n   })\n    export class WeatherService {</p>\n\n<pre><code> constructor(private http: HttpClient) { }\n\n getCurrentWeather(city: string, country: string): \n  Observable&lt;ICurrentWeather&gt; {\n   return this.http.get&lt;ICurrentWeatherData&gt;(\n    `http://api.openweathermap.org/data/2.5/weather? \n      q=${city},${country}&amp;APPID=${environment.apiID}`\n      ).pipe(\n       map(data =&gt; this.transformToICurrentWeather(data))\n     );\n   }\n\n\n   private transformToICurrentWeather(data: ICurrentWeatherData): \n    ICurrentWeather {\n     return {\n      city: data.name,\n      country: data.sys.country,\n      image: `http://openweathermap.org/img/w/${data.weather[0].icon}.png`,\n      temperature: this.convertKelvinToFahrenheit(data.main.temp),\n      description: data.weather[0].description,\n      natural: data.weather[0].main,\n      weatherId: data.weather[0].id,\n      visibility: data.visibility,\n     };\n   }\n  private convertKelvinToFahrenheit(kelvin: number): number {\n    return kelvin * 9 / 5 - 459.67;\n   }\n}\n</code></pre>\n\n<p>Please, any suggestions?</p>\n"}]