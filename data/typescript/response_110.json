[{"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487205441, "post_id": 42262288, "comment_id": 71682921, "body": "What type of module is <code>child_process</code>? The simplest way to import an ambient module is to use the shorthand described in <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#working-with-other-javascript-libraries\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 805, "user_id": 953887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06ac1313150d75b66ffd905547184059?s=128&d=identicon&r=PG", "display_name": "Laurence Dougal Myers", "link": "https://stackoverflow.com/users/953887/laurence-dougal-myers"}, "is_accepted": false, "score": 0, "last_activity_date": 1487206131, "creation_date": 1487206131, "answer_id": 42262875, "question_id": 42262288, "link": "https://stackoverflow.com/questions/42262288/how-to-make-typescript-2-to-find-node-modules/42262875#42262875", "title": "How to make TypeScript 2 to find node modules?", "body": "<p>Try this syntax:</p>\n\n<pre><code>import child = require('child_process');\n</code></pre>\n\n<p>This is a commonjs style import, used for nodejs modules, instead of the current ES6-style import you have currently.</p>\n"}, {"tags": [], "owner": {"reputation": 906, "user_id": 7088848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inQcY.jpg?s=128&g=1", "display_name": "Shreenil Patel", "link": "https://stackoverflow.com/users/7088848/shreenil-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1514626346, "creation_date": 1514626346, "answer_id": 48032657, "question_id": 42262288, "link": "https://stackoverflow.com/questions/42262288/how-to-make-typescript-2-to-find-node-modules/48032657#48032657", "title": "How to make TypeScript 2 to find node modules?", "body": "<p><strong>If you have webpack.config.js</strong></p>\n\n<p>Add following array to <code>devConfig</code> and <code>prodConfig</code> in your <code>webpack.config.json</code></p>\n\n<pre><code> externals: [\n(function () {\n    var IGNORES = [\"fs\",\"child_process\",\"electron\",\"path\",\"assert\",\"cluster\",\"crypto\",\"dns\",\"domain\",\"events\",\"http\",\"https\",\"net\",\"os\",\"process\",\"punycode\",\"querystring\",\"readline\",\"repl\",\"stream\",\"string_decoder\",\"tls\",\"tty\",\"dgram\",\"url\",\"util\",\"v8\",\"vm\",\"zlib\"];\n    return function (context, request, callback) {\n        if (IGNORES.indexOf(request) &gt;= 0) {\n            return callback(null, \"require('\" + request + \"')\");\n        }\n        return callback();\n    };\n})()\n],\n</code></pre>\n\n<p>This will ignore modules listed in <code>IGNORES</code> array.</p>\n\n<p>Then, in your 'Typescript' file.</p>\n\n<pre><code>declare var require:any;\n...\n...\nvar exec = require('child_process');\n</code></pre>\n\n<p>If you don't have <strong>webpack.config</strong> and your project is working on webpack. You can find it in \"node_modules/app_scripts/config\". Copy webpack.config from that path and save it in config folder at the root of your project and paste the following code to your <code>package.json</code> </p>\n\n<pre><code>\"config\": {\n   \"ionic_bundler\": \"webpack\",\n   \"ionic_webpack\": \"./config/webpack.config.js\"\n },\n</code></pre>\n\n<p><strong>If you have <code>SystemJS</code></strong></p>\n\n<p>Add following code to system.config.js</p>\n\n<pre><code> System.config({\n  map: {\n    'child_process': '@node/child_process'\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 673, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1514626346, "creation_date": 1487202621, "last_edit_date": 1495539934, "question_id": 42262288, "link": "https://stackoverflow.com/questions/42262288/how-to-make-typescript-2-to-find-node-modules", "title": "How to make TypeScript 2 to find node modules?", "body": "<p>I've found <a href=\"https://stackoverflow.com/questions/36546860/require-nodejs-child-process-with-typescript-systemjs-and-electron\">this</a> answer, but it didn't solve my problem.</p>\n\n<p>I'm just learning TypeScript.</p>\n\n<p>What I'm doing is as simple as this:</p>\n\n<pre><code>import * as child from 'child_process';\n</code></pre>\n\n<p>Which triggers this error:</p>\n\n<pre><code>TSError: \u2a2f Unable to compile TypeScript\ndb\\installDB.ts (1,24): Cannot find module 'child_process'. (2307)\n</code></pre>\n\n<p>What I thought is: It's not finding 'child_process' because I have no typings for it, so I added <code>@types/node</code> on the hope it would now find it. It didn't.</p>\n\n<p>What is the problem?</p>\n\n<p>This is my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"outDir\": \"./dist/\",\n        \"sourceMap\": true,\n        \"noImplicitAny\": true,\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"jsx\": \"react\",\n        \"allowJs\": true\n    },\n    \"include\": [\n        \"./db/**/*\",\n        \"./src/**/*\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1487202224, "creation_date": 1487202224, "answer_id": 42262226, "question_id": 42262147, "link": "https://stackoverflow.com/questions/42262147/typescript-errors-in-function-pushing-objects-to-an-array/42262226#42262226", "title": "Typescript Errors in Function Pushing Objects to an Array", "body": "<p>You can declare <code>locations</code> as array of objects with optional <code>city</code> and <code>coordinates</code>:</p>\n\n<pre><code>type Loc = {city?: string; postalCode: string; coordinates?: number};\n\nlet locations: Loc[] = [\n  { city: 'Los Angelas', postalCode: '90001', coordinates: 2321 },\n  { city: 'New York', postalCode: '10001', coordinates: 3432 },\n];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 3, "last_activity_date": 1487206792, "last_edit_date": 1487206792, "creation_date": 1487202244, "answer_id": 42262232, "question_id": 42262147, "link": "https://stackoverflow.com/questions/42262147/typescript-errors-in-function-pushing-objects-to-an-array/42262232#42262232", "title": "Typescript Errors in Function Pushing Objects to an Array", "body": "<p>TypeScript has inferred array type as <code>{ city: string; postalCode: string; coordinates: number; }[]</code> , but you are trying to push <code>{postalCode:string}</code> - this is error. If you still want to do this then it is necessary to set appropriate type for <code>location</code>:</p>\n\n<pre><code>  location:any[]\n  //or\n  interface ILocation {\n     city?:string;\n     postalCode?:string;\n     coordinates?:string;\n  }\n  location:ILocation[];\n</code></pre>\n"}], "owner": {"reputation": 4976, "user_id": 2584924, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ui9hq.jpg?s=128&g=1", "display_name": "Muirik", "link": "https://stackoverflow.com/users/2584924/muirik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2345, "favorite_count": 0, "accepted_answer_id": 42262232, "answer_count": 2, "score": 1, "last_activity_date": 1487206792, "creation_date": 1487201752, "question_id": 42262147, "link": "https://stackoverflow.com/questions/42262147/typescript-errors-in-function-pushing-objects-to-an-array", "title": "Typescript Errors in Function Pushing Objects to an Array", "body": "<p>I am trying to push new objects to an array in my Angular 2 app, but I am running into an issue (which I suspect may be a Typescript type issue, though I'm not certain). This is what the array I'm pushing to looks like:</p>\n\n<pre><code>locations = [\n  { city: 'Los Angelas', postalCode: '90001', coordinates: 2321 },\n  { city: 'New York', postalCode: '10001', coordinates: 3432 },\n];\n</code></pre>\n\n<p>And here is the function I am using to push new zipcodes to the array with:</p>\n\n<pre><code>  addZipcode(event) {\n    this.locations.push({ postalCode: this.newPostalCode });\n    this.newPostalCode = '';\n    this.addZipInput = false;\n    event.preventDefault();\n  }\n</code></pre>\n\n<p>The error I'm getting re: this function is:</p>\n\n<blockquote>\n  <p>Argument of type '{ postalCode: any; }' is not assignable to parameter\n  of type '{ city: string; postalCode: string; coordinates: number; }'. \n  Property 'city' is missing in type '{ postalCode: any; }'.</p>\n</blockquote>\n\n<p>How can I deal with this issue? Users will be pushing postalCodes, not cities or coordinates. I would think I could push an object of any kind to the array, but it seems typescript is preventing this.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "reactive-programming", "observable"], "answers": [{"tags": [], "owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "is_accepted": true, "score": 18, "last_activity_date": 1487202012, "creation_date": 1487202012, "answer_id": 42262190, "question_id": 42262144, "link": "https://stackoverflow.com/questions/42262144/conditionally-chain-observable/42262190#42262190", "title": "Conditionally chain observable", "body": "<p>There are many ways you can implement this, one would be to use a switchMap that contains your condition:</p>\n\n<pre><code>getData(): Observable&lt;MyData&gt; {\n    return getRegularData()\n        .switchMap(data =&gt; {\n            if (data != null) {\n                return Observable.of(data);\n            } else {\n                return getAlternateData();\n            }\n        });\n}\n</code></pre>\n"}], "owner": {"reputation": 851, "user_id": 2661556, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fab01a9f959f7250ea762e30c67dd5b0?s=128&d=identicon&r=PG", "display_name": "Hutch", "link": "https://stackoverflow.com/users/2661556/hutch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6875, "favorite_count": 0, "accepted_answer_id": 42262190, "answer_count": 1, "score": 6, "last_activity_date": 1487202012, "creation_date": 1487201736, "question_id": 42262144, "link": "https://stackoverflow.com/questions/42262144/conditionally-chain-observable", "title": "Conditionally chain observable", "body": "<p>For the following TypeScript (using rxjs):</p>\n\n<pre><code>getRegularData(): Observable&lt;MyData&gt; {\n    return WS.loadRegularData();\n}\n\ngetAlternateData(): Observable&lt;MyData&gt; {\n    return WS.loadAlternateData();\n}\n</code></pre>\n\n<p>how can a new method be implemented to satisfy the following pseudocode:</p>\n\n<pre><code>getData(): Observable&lt;MyData&gt; {\n    // try to use getRegularData, and return observable for result.\n    // if getRegularData returns null, get data from getAlternateData()\n    // instead and return observable for result.\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "optimization", "ngfor", "angular-pipe"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487200614, "post_id": 42261882, "comment_id": 71681400, "body": "If you need to use the data outside of the view, maybe using a pipe isn&#39;t the right solution. Maybe you could create a function that can transform that data for you, before inserting it into the view, and then use that same function elsewhere when calculating the sum of the values."}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487201304, "post_id": 42261882, "comment_id": 71681657, "body": "Later, I refactored it. But now I want to leave as it is. Another way of how to re-go through the array using the @Pipe or function doesn&#39;t come to mind..."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487201509, "post_id": 42261882, "comment_id": 71681723, "body": "Just to complement the comment of @Adam, if you go through pipe solution.. just remember that the pipe must be <code>impure</code>, since you said <code>rows can be added dynamically</code>."}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487201878, "post_id": 42261882, "comment_id": 71681849, "body": "Why @pipe is impure? I use it for grouping."}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1487202493, "post_id": 42261882, "comment_id": 71682036, "body": "@Seva, Check <a href=\"http://stackoverflow.com/questions/34456430/ngfor-doesnt-update-data-with-pipe-in-angular2#answer-34497504\"><b>this answer</b></a>..."}], "owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1241, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487200363, "creation_date": 1487200363, "question_id": 42261882, "link": "https://stackoverflow.com/questions/42261882/what-is-the-best-way-to-calculate-the-sum-of-values-in-complex-table", "title": "What is the best way to calculate the sum of values in complex table?", "body": "<p>I have folowing table:</p>\n\n<pre><code>&lt;ng-container *ngFor='let data1 of sectionList'&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                {{data1.name}}\n                &lt;button (click)=\"ArrRow($event)\" style=\"float: right\" id=\"{{data1.id}}\"&gt;+&lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr *ngFor=\"let data2 of (model.Register10Data | filter:'sectionGroup':data1.id); let dataIndex = index\"&gt;\n            &lt;td&gt;\n                {{data2.SomeNumericValue}}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;&lt;td&gt;Here I need to summing of the data2.SomeNumericValue&lt;/td&gt;&lt;/tr&gt;\n    &lt;/ng-container&gt;\n</code></pre>\n\n<p>In this table I'm using @pipe for grouping data. Pipe looks like:</p>\n\n<pre><code>@Pipe({\n    name: 'sectionGroup'\n})\n\nexport class FilterPipe implements PipeTransform {\n    transform(items: any[], field: number, value: number): any[] {\n        if (!items) return [];\n        return items.filter(it =&gt; (+it[field]) === (+value));\n    }\n}\n</code></pre>\n\n<p>This works fine.</p>\n\n<p>I need get summation of <code>data2.SomeNumericValue</code> that's rendering within  *ngFor with pipe. But summation must be rendered outside *ngFor. Above in the example I wrote where it should be.\nReal table contains many columns and rows. And rows can be added dynamically. By some columns i want get summation. I know how to write function and render  result in cell. But I think that summation must calculated inside *ngFor because it is reduce count of iterations. But maybe i'm wrong. How to do this and which method is the best?  </p>\n"}, {"tags": ["reactjs", "typescript", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 47791, "user_id": 2030321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/ALZ1w.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2030321/chris"}, "edited": false, "score": 1, "creation_date": 1556014965, "post_id": 42261933, "comment_id": 98285435, "body": "@Chris yeah, things are being moved around every once in a while. the current url for it is: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts#L190\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 4258, "user_id": 80254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sNFba.jpg?s=128&g=1", "display_name": "bjunix", "link": "https://stackoverflow.com/users/80254/bjunix"}, "edited": false, "score": 1, "creation_date": 1579791919, "post_id": 42261933, "comment_id": 105892094, "body": "Got it working with the type guard. But the casting approach still produces some errors fromTS in my code"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 132, "last_activity_date": 1573750630, "last_edit_date": 1573750630, "creation_date": 1487200606, "answer_id": 42261933, "question_id": 42261783, "link": "https://stackoverflow.com/questions/42261783/how-to-assign-the-correct-typing-to-react-cloneelement-when-giving-properties-to/42261933#42261933", "title": "How to assign the correct typing to React.cloneElement when giving properties to children?", "body": "<p>The problem is that the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/949922e0959ccea0cad7a6fa787b63b7d4e67d3f/types/react/index.d.ts#L196\" rel=\"noreferrer\">definition for <code>ReactChild</code></a> is this:</p>\n\n<pre><code>type ReactText = string | number;\ntype ReactChild = ReactElement&lt;any&gt; | ReactText;\n</code></pre>\n\n<p>If you're sure that <code>child</code> is always a <code>ReactElement</code> then cast it:</p>\n\n<pre><code>return React.cloneElement(child as React.ReactElement&lt;any&gt;, {\n    width: this.props.width,\n    height: this.props.height\n});\n</code></pre>\n\n<p>Otherwise use the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/949922e0959ccea0cad7a6fa787b63b7d4e67d3f/types/react/index.d.ts#L351\" rel=\"noreferrer\">isValidElement type guard</a>:</p>\n\n<pre><code>if (React.isValidElement(child)) {\n    return React.cloneElement(child, {\n        width: this.props.width,\n        height: this.props.height\n    });\n}\n</code></pre>\n\n<p>(I haven't used it before, but according to the definition file it's there)</p>\n"}, {"comments": [{"owner": {"reputation": 7041, "user_id": 6529098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Zubl.png?s=128&g=1", "display_name": "Amaury Liet", "link": "https://stackoverflow.com/users/6529098/amaury-liet"}, "edited": false, "score": 0, "creation_date": 1617283008, "post_id": 65883017, "comment_id": 118265408, "body": "definitely the correct solution, this handle the multiple children case"}], "tags": [], "owner": {"reputation": 211, "user_id": 5014927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97d63dffa1405ffd0be4b5299443db16?s=128&d=identicon&r=PG&f=1", "display_name": "o-faro", "link": "https://stackoverflow.com/users/5014927/o-faro"}, "is_accepted": false, "score": 5, "last_activity_date": 1611570868, "creation_date": 1611570868, "answer_id": 65883017, "question_id": 42261783, "link": "https://stackoverflow.com/questions/42261783/how-to-assign-the-correct-typing-to-react-cloneelement-when-giving-properties-to/65883017#65883017", "title": "How to assign the correct typing to React.cloneElement when giving properties to children?", "body": "<p>This solved it for me:</p>\n<pre><code>React.Children.map&lt;ReactNode, ReactNode&gt;(children, child =&gt; {\n    if(React.isValidElement(child)) {\n      return React.cloneElement(child, props\n      )\n    }\n  }\n</code></pre>\n<p>quite simplle solution</p>\n"}], "owner": {"reputation": 1280, "user_id": 3987360, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/8xwtJ.jpg?s=128&g=1", "display_name": "David C", "link": "https://stackoverflow.com/users/3987360/david-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30339, "favorite_count": 9, "accepted_answer_id": 42261933, "answer_count": 2, "score": 73, "last_activity_date": 1611570868, "creation_date": 1487199909, "question_id": 42261783, "link": "https://stackoverflow.com/questions/42261783/how-to-assign-the-correct-typing-to-react-cloneelement-when-giving-properties-to", "title": "How to assign the correct typing to React.cloneElement when giving properties to children?", "body": "<p>I am using React and Typescript. I have a react component that acts as a wrapper, and I wish to copy its properties to its children. I am following React's guide to using clone element: <a href=\"https://facebook.github.io/react/blog/2015/03/03/react-v0.13-rc2.html#react.cloneelement\" rel=\"noreferrer\">https://facebook.github.io/react/blog/2015/03/03/react-v0.13-rc2.html#react.cloneelement</a>. But when using using <code>React.cloneElement</code> I get the following error from Typescript:</p>\n\n<pre><code>Argument of type 'ReactChild' is not assignable to parameter of type 'ReactElement&lt;any&gt;'.at line 27 col 39\n  Type 'string' is not assignable to type 'ReactElement&lt;any&gt;'.\n</code></pre>\n\n<p><strong>How can I assign the correct typing's to react.cloneElement?</strong></p>\n\n<p>Here is an example that replicates the error above:</p>\n\n<pre><code>import * as React from 'react';\n\ninterface AnimationProperties {\n    width: number;\n    height: number;\n}\n\n/**\n * the svg html element which serves as a wrapper for the entire animation\n */\nexport class Animation extends React.Component&lt;AnimationProperties, undefined&gt;{\n\n    /**\n     * render all children with properties from parent\n     *\n     * @return {React.ReactNode} react children\n     */\n    renderChildren(): React.ReactNode {\n        return React.Children.map(this.props.children, (child) =&gt; {\n            return React.cloneElement(child, { // &lt;-- line that is causing error\n                width: this.props.width,\n                height: this.props.height\n            });\n        });\n    }\n\n    /**\n     * render method for react component\n     */\n    render() {\n        return React.createElement('svg', {\n            width: this.props.width,\n            height: this.props.height\n        }, this.renderChildren());\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3913, "user_id": 2009212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8cyBO.jpg?s=128&g=1", "display_name": "Bruno Jo&#227;o", "link": "https://stackoverflow.com/users/2009212/bruno-jo%c3%a3o"}, "edited": false, "score": 1, "creation_date": 1487199942, "post_id": 42261608, "comment_id": 71681179, "body": "I would suggest you to create a filter to do this kind of thing so you will have a single point of ref and when some improvement is needed you won&#39;t need to change more than one place."}, {"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "reply_to_user": {"reputation": 3913, "user_id": 2009212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8cyBO.jpg?s=128&g=1", "display_name": "Bruno Jo&#227;o", "link": "https://stackoverflow.com/users/2009212/bruno-jo%c3%a3o"}, "edited": false, "score": 2, "creation_date": 1487200247, "post_id": 42261608, "comment_id": 71681283, "body": "Absolutely, a <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html\" rel=\"nofollow noreferrer\">pipe</a> would be ideal for what you&#39;re describing, but I didn&#39;t want to over architect the answer."}], "tags": [], "owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "is_accepted": true, "score": 11, "last_activity_date": 1487199086, "creation_date": 1487199086, "answer_id": 42261608, "question_id": 42261579, "link": "https://stackoverflow.com/questions/42261579/in-angular-2-how-to-put-array-string-elements-into-template-element-value-attrib/42261608#42261608", "title": "In Angular 2 how to put array string elements into template element value-attribute?", "body": "<p>No need to use <code>*ngFor</code>, try using <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/join\" rel=\"noreferrer\">Array.join()</a>.</p>\n\n<pre><code>&lt;input name='user-tag' placeholder='write some tags' value='{{ myArray.join(', ') }}'&gt;\n</code></pre>\n"}], "owner": {"reputation": 2384, "user_id": 3508762, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qgOsF.png?s=128&g=1", "display_name": "brinch", "link": "https://stackoverflow.com/users/3508762/brinch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8587, "favorite_count": 1, "accepted_answer_id": 42261608, "answer_count": 1, "score": 6, "last_activity_date": 1503658014, "creation_date": 1487198936, "last_edit_date": 1503658014, "question_id": 42261579, "link": "https://stackoverflow.com/questions/42261579/in-angular-2-how-to-put-array-string-elements-into-template-element-value-attrib", "title": "In Angular 2 how to put array string elements into template element value-attribute?", "body": "<p>I have this array called myArray in my Angular 2 component class:</p>\n\n<pre><code>@Component({\n    templateUrl: 'my.component.html'\n})\n\nexport class MyComponent {\n    private myArray: Array&lt;string&gt;;\n    ...\n}\n</code></pre>\n\n<p>In my.component.html I have a single input element:</p>\n\n<pre><code>&lt;input placeholder='write some tags' value=''&gt;\n</code></pre>\n\n<p>What I want is to have the string elements of myArray inserted into the value attribute of the input element. The strings should be comma separated. Something like:</p>\n\n<pre><code>&lt;input placeholder='write some tags' value='apple, orange, banana'&gt;\n</code></pre>\n\n<p>I tried:</p>\n\n<pre><code>&lt;input name='user-tag' placeholder='write some tags' value='*ngFor=\"let e of myArray\"{{e}}'&gt;\n</code></pre>\n\n<p>But that produced an error.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3957, "user_id": 271200, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x93aw.jpg?s=128&g=1", "display_name": "wonea", "link": "https://stackoverflow.com/users/271200/wonea"}, "edited": false, "score": 4, "creation_date": 1491300086, "post_id": 42261302, "comment_id": 73479718, "body": "This is not a duplicate, please reopen. I need to specify a TypeScript answer. TypeScript has capabilities above and beyond JavaScript."}, {"owner": {"reputation": 3957, "user_id": 271200, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/x93aw.jpg?s=128&g=1", "display_name": "wonea", "link": "https://stackoverflow.com/users/271200/wonea"}, "edited": false, "score": 0, "creation_date": 1491300110, "post_id": 42261302, "comment_id": 73479732, "body": "Using DefinitelyTyped definition for DateJS      <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/datejs/datejs-tests.ts\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a>      // Add 1 days to Today Date.today().add(1).days();"}], "answers": [{"tags": [], "owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "is_accepted": false, "score": 46, "last_activity_date": 1596122207, "last_edit_date": 1596122207, "creation_date": 1487197849, "answer_id": 42261330, "question_id": 42261302, "link": "https://stackoverflow.com/questions/42261302/how-to-add-a-day-to-a-date-in-typescript/42261330#42261330", "title": "How to add a day to a date in TypeScript", "body": "<p>This is just regular JavaScript, no need for TypeScript.</p>\n<pre><code>yourDate = new Date(yourDate.getTime() + (1000 * 60 * 60 * 24));\n</code></pre>\n<p>1000 milliseconds in a second * 60 seconds in a minute * 60 minutes in an hour * 24 hours.</p>\n<p>Additionally you could increment the date:</p>\n<pre><code>yourDate.setDate(yourDate.getDate() + 1);\n</code></pre>\n<p>The neat thing about <code>setDate</code> is that if your date is out-of-range for the month, it will still correctly update the date (January 32 -&gt; February 1).</p>\n<p>See more documentation on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate\" rel=\"noreferrer\">setDate on MDN</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1110, "user_id": 7064454, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Moj2h.gif?s=128&g=1", "display_name": "Enrico", "link": "https://stackoverflow.com/users/7064454/enrico"}, "edited": false, "score": 3, "creation_date": 1553250638, "post_id": 42261419, "comment_id": 97323590, "body": "You might get &#39;date.getDate is not a function&#39; when trying this."}, {"owner": {"reputation": 131, "user_id": 9855057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R1TqgTusv8Y/AAAAAAAAAAI/AAAAAAAABpQ/Qcz6eunuhGw/photo.jpg?sz=128", "display_name": "Tejashri Patange", "link": "https://stackoverflow.com/users/9855057/tejashri-patange"}, "edited": false, "score": 0, "creation_date": 1597706971, "post_id": 42261419, "comment_id": 112216174, "body": "check whether the date variable is string, the error is because of that, if yes then first convert it to a date and then pass it to the above function"}], "tags": [], "owner": {"reputation": 756, "user_id": 6929816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hi95U.png?s=128&g=1", "display_name": "RK_Aus", "link": "https://stackoverflow.com/users/6929816/rk-aus"}, "is_accepted": false, "score": 22, "last_activity_date": 1518451839, "last_edit_date": 1518451839, "creation_date": 1487198253, "answer_id": 42261419, "question_id": 42261302, "link": "https://stackoverflow.com/questions/42261302/how-to-add-a-day-to-a-date-in-typescript/42261419#42261419", "title": "How to add a day to a date in TypeScript", "body": "<pre><code> addDays(date: Date, days: number): Date {\n        date.setDate(date.getDate() + days);\n        return date;\n    }\n</code></pre>\n\n<p>In your case days = 1</p>\n"}], "owner": {"reputation": 311, "user_id": 7571633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee8d09f97705ec366f143a030b1a3510?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/7571633/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83803, "favorite_count": 1, "closed_date": 1487209095, "answer_count": 2, "score": 30, "last_activity_date": 1596122207, "creation_date": 1487197700, "last_edit_date": 1491210407, "question_id": 42261302, "link": "https://stackoverflow.com/questions/42261302/how-to-add-a-day-to-a-date-in-typescript", "closed_reason": "Duplicate", "title": "How to add a day to a date in TypeScript", "body": "<p>I need to add 1 day to a date variable in TypeScript. May I know how can I add a day to a date field in TypeScript.</p>\n"}, {"tags": ["cordova", "typescript", "ionic2", "cordova-plugins"], "comments": [{"owner": {"reputation": 5664, "user_id": 4790610, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-Y-O9RmPGhkE/AAAAAAAAAAI/AAAAAAAAADg/k97LiSbLzhA/photo.jpg?sz=128", "display_name": "Andreas Gassmann", "link": "https://stackoverflow.com/users/4790610/andreas-gassmann"}, "edited": false, "score": 0, "creation_date": 1487199977, "post_id": 42261133, "comment_id": 71681189, "body": "Can you add a link to the plugin you are trying to use?  As suggested in the link that you provided, did you try logging <code>cordova</code> to see if the plugin is there?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1487219445, "post_id": 42261133, "comment_id": 71686838, "body": "are you trying in a device or ionic serve?"}, {"owner": {"reputation": 11, "user_id": 7307391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e0b2d3f40532edd8dc1384e08fe8f2?s=128&d=identicon&r=PG&f=1", "display_name": "ghot", "link": "https://stackoverflow.com/users/7307391/ghot"}, "edited": false, "score": 0, "creation_date": 1487233139, "post_id": 42261133, "comment_id": 71693081, "body": "in ionic serve, testing initialize function. I will try in device."}, {"owner": {"reputation": 11, "user_id": 7307391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e0b2d3f40532edd8dc1384e08fe8f2?s=128&d=identicon&r=PG&f=1", "display_name": "ghot", "link": "https://stackoverflow.com/users/7307391/ghot"}, "edited": false, "score": 0, "creation_date": 1487234292, "post_id": 42261133, "comment_id": 71693754, "body": "Same in device &quot;Error: Uncaught (in promise): ReferenceError: myPlugin is not defined ReferenceError: myPlugin is not defined&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 5207, "user_id": 2075839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74ae2e589e278bb2b51e39f69fb16d13?s=128&d=identicon&r=PG", "display_name": "Purus", "link": "https://stackoverflow.com/users/2075839/purus"}, "is_accepted": false, "score": 1, "last_activity_date": 1487236229, "creation_date": 1487236229, "answer_id": 42269410, "question_id": 42261133, "link": "https://stackoverflow.com/questions/42261133/use-plugins-non-ionic-native-in-ionic-2/42269410#42269410", "title": "use plugins non ionic-native in Ionic 2", "body": "<p>Few things to look:</p>\n\n<ul>\n<li>Verify if you plugin entry is present in the plugin.xml and package.json files? If not you might need to add an entry as the below example.</li>\n<li>Use the plugin only when the platform is ready.</li>\n<li>Test your app in real device.</li>\n<li>Use \"ionic add\" instead \"cordova add\" to add new plugins.</li>\n</ul>\n\n<p>Refer the below thread which might be of some help on editing your plugin.xml file.</p>\n\n<p><a href=\"https://forum.ionicframework.com/t/how-to-use-non-native-plugins-on-ionic-2/63936/17\" rel=\"nofollow noreferrer\">https://forum.ionicframework.com/t/how-to-use-non-native-plugins-on-ionic-2/63936/17</a></p>\n"}, {"tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 1, "last_activity_date": 1487258807, "last_edit_date": 1487258807, "creation_date": 1487258068, "answer_id": 42277828, "question_id": 42261133, "link": "https://stackoverflow.com/questions/42261133/use-plugins-non-ionic-native-in-ionic-2/42277828#42277828", "title": "use plugins non ionic-native in Ionic 2", "body": "<p>Your problem is that in plugin.xml <code>clobbers</code> is set as <code>window.plugins.myplugin</code>.\nThis makes <em>window</em> the global object and you have to declare:</p>\n\n<pre><code>declare var window: any;\n</code></pre>\n\n<p>and functions called as:</p>\n\n<pre><code>window.plugins.myPlugin.pluginInitialize()\n</code></pre>\n\n<p>or if this is your custom made plugin, you could make clobbers object as <code>myPlugin</code></p>\n"}, {"tags": [], "owner": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "is_accepted": false, "score": 0, "last_activity_date": 1545070034, "last_edit_date": 1545070034, "creation_date": 1545069355, "answer_id": 53820668, "question_id": 42261133, "link": "https://stackoverflow.com/questions/42261133/use-plugins-non-ionic-native-in-ionic-2/53820668#53820668", "title": "use plugins non ionic-native in Ionic 2", "body": "<p>Please try like this :</p>\n\n<p>First import plugin or library as :</p>\n\n<pre><code>import plugin from 'plugin-name' ;\n</code></pre>\n\n<p>And then use :</p>\n\n<pre><code>plugin.functionName();\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7307391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e0b2d3f40532edd8dc1384e08fe8f2?s=128&d=identicon&r=PG&f=1", "display_name": "ghot", "link": "https://stackoverflow.com/users/7307391/ghot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545070034, "creation_date": 1487196981, "last_edit_date": 1495541820, "question_id": 42261133, "link": "https://stackoverflow.com/questions/42261133/use-plugins-non-ionic-native-in-ionic-2", "title": "use plugins non ionic-native in Ionic 2", "body": "<p>I'm using a cordova plugin from github, not available in ionic native.</p>\n\n<p>I have problem. How to use non ionic-native plugins in Ionic 2 ?</p>\n\n<p>I try :</p>\n\n<pre><code>declare var myPlugin: any;\n\nmyPlugin.doSomething(...)\n</code></pre>\n\n<p>and other forum solutions </p>\n\n<p>but I have error :</p>\n\n<pre><code>ReferenceError: myPlugin is not defined\nat new HomePage (http://localhost:8100/build/main.js:18762:9)\n</code></pre>\n\n<p>My config :</p>\n\n<pre><code>Ionic Framework: ^2.0.0-rc.3\nIonic Native: ^2.2.3\nIonic App Scripts: 1.0.0\nAngular Core: 2.2.1\nAngular Compiler CLI: 2.2.1\nNode: 6.9.5\nOS Platform: Windows 10\nNavigator Platform: Win32\ncordova 6.5.0\n</code></pre>\n\n<p>Same problem : \n<a href=\"https://stackoverflow.com/questions/36783081/working-with-non-ionic-native-plugins-in-ionic-2\">Working with non ionic-native plugins in Ionic 2</a></p>\n"}, {"tags": ["angular", "typescript", "jasmine", "angular-cli", "ng-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 488, "user_id": 473881, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2847c51225ece7583b73ba1369af8d36?s=128&d=identicon&r=PG", "display_name": "Glenn", "link": "https://stackoverflow.com/users/473881/glenn"}, "is_accepted": false, "score": 1, "last_activity_date": 1497418637, "creation_date": 1497418637, "answer_id": 44536248, "question_id": 42260821, "link": "https://stackoverflow.com/questions/42260821/using-ngbmodule-forroot-in-component-causing-tests-to-fail/44536248#44536248", "title": "Using NgbModule.forRoot() in component causing tests to fail", "body": "<p>I have a workaround but I think this is an issue with NgbTooltip when running within a test fixture. Add the following globally to redefine NgbTooltip's ngOnDestroy method:</p>\n\n<pre><code>NgbTooltip.prototype.ngOnDestroy = function () {\n    this.close();\n    //this._unregisterListenersFn();\n    this._zoneSubscription.unsubscribe();\n};\n</code></pre>\n\n<p>The third line commented out stops the error appearing in my unit tests. Bit of a hack but should be ok in unit tests. I think that this function is not initialized in ngOnInit() correctly when running in a test fixture.</p>\n\n<p>I did try overriding the NgbTooltip directive with overrideDirective() but the original seemed to always be called regardless.</p>\n\n<p>To find the actual error I added the following to my unit test spec:</p>\n\n<pre><code>afterEach(() =&gt; {\n  fixture.destroy();\n});\n</code></pre>\n\n<p>This then displayed the actual exception that seemed to be occurring:</p>\n\n<pre><code>TypeError: this._unregisterListenersFn is not a function\nat NgbTooltip.webpackJsonp.../../../../@ng-bootstrap/ng-bootstrap/tooltip/tooltip.js.NgbTooltip.ngOnDestroy (http://localhost:9876/_karma_webpack_/vendor.bundle.js:4522:14)\nat callProviderLifecycles (http://localhost:9876/_karma_webpack_/vendor.bundle.js:103669:18)\nat callElementProvidersLifecycles (http://localhost:9876/_karma_webpack_/vendor.bundle.js:103638:13)\nat callLifecycleHooksChildrenFirst (http://localhost:9876/_karma_webpack_/vendor.bundle.js:103622:17)\nat destroyView (http://localhost:9876/_karma_webpack_/vendor.bundle.js:104948:5)\nat callViewAction (http://localhost:9876/_karma_webpack_/vendor.bundle.js:105094:13)\nat execComponentViewsAction (http://localhost:9876/_karma_webpack_/vendor.bundle.js:105006:13)\nat destroyView (http://localhost:9876/_karma_webpack_/vendor.bundle.js:104947:5)\nat callViewAction (http://localhost:9876/_karma_webpack_/vendor.bundle.js:105094:13)\nat execComponentViewsAction (http://localhost:9876/_karma_webpack_/vendor.bundle.js:105006:13)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32, "user_id": 2732171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gosEm.jpg?s=128&g=1", "display_name": "St.Zelenin", "link": "https://stackoverflow.com/users/2732171/st-zelenin"}, "is_accepted": false, "score": 1, "last_activity_date": 1503079578, "creation_date": 1503079578, "answer_id": 45762607, "question_id": 42260821, "link": "https://stackoverflow.com/questions/42260821/using-ngbmodule-forroot-in-component-causing-tests-to-fail/45762607#45762607", "title": "Using NgbModule.forRoot() in component causing tests to fail", "body": "<p>I would suggest just to stub it in beforeEach:</p>\n\n<pre><code>// fix 'Error during cleanup of component'\nNgbTooltip.prototype.ngOnDestroy = jasmine.createSpy('ngOnDestroy');\n(NgbTooltip.prototype.ngOnDestroy as jasmine.Spy).and.stub();\n</code></pre>\n"}], "owner": {"reputation": 943, "user_id": 2200576, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/ac18c184ddcd606f580ae7d0fbfbb802?s=128&d=identicon&r=PG", "display_name": "spongessuck", "link": "https://stackoverflow.com/users/2200576/spongessuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5089, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1503079578, "creation_date": 1487195786, "question_id": 42260821, "link": "https://stackoverflow.com/questions/42260821/using-ngbmodule-forroot-in-component-causing-tests-to-fail", "title": "Using NgbModule.forRoot() in component causing tests to fail", "body": "<p>I'm using Tooltips and Modals in a nested component, and in my spec file, I'm importing <code>NgbModule.forRoot()</code> in the testing module.</p>\n\n<p>This seems to work everywhere except in this one component, and if I add this import, many of my unit tests suddenly start failing with this error:</p>\n\n<pre><code>TypeError: this._unregisterListenersFn is not a function\n        at NgbTooltip.ngOnDestroy\n</code></pre>\n\n<p>I'm using Angular CLI for bundling/testing.</p>\n\n<p>This is the only component failing my tests.</p>\n\n<p>I've also tried importing the Tooltip/Modal modules separately and their relevant providers separately and it's I keep getting the error above. If I try it without <code>forRoot()</code>, I get DI errors.</p>\n\n<p>I have no clue what the issue is.</p>\n\n<p>Here's the spec file:</p>\n\n<pre><code>/* tslint:disable:no-unused-variable */\nimport { async, ComponentFixture, TestBed } from '@angular/core/testing';\nimport { By } from '@angular/platform-browser';\nimport { DebugElement } from '@angular/core';\nimport { APP_BASE_HREF } from '@angular/common';\nimport { RouterTestingModule } from '@angular/router/testing';\nimport { NgbModule, NgbTooltipModule, NgbTooltipConfig, NgbModalModule } from '@ng-bootstrap/ng-bootstrap';\nimport { NgbModalStack } from '@ng-bootstrap/ng-bootstrap/modal/modal-stack';\n\nimport { ListItemComponent } from './list-item.component';\nimport { VideoPlayerService } from '../../../video-player';\nimport { CalendarRoutingService } from '../../calendar-routing.service';\n\ndescribe('ListItemComponent', () =&gt; {\n  let component: ListItemComponent;\n  let fixture: ComponentFixture&lt;ListItemComponent&gt;;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [\n        ListItemComponent\n      ],\n      imports: [RouterTestingModule, NgbModule.forRoot()],\n      providers: [\n        VideoPlayerService,\n        CalendarRoutingService,\n        // NgbModalStack,\n        // NgbTooltipConfig\n      ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ListItemComponent);\n    component = fixture.componentInstance;\n    component.item = { records: [] };\n    fixture.detectChanges();\n  });\n\n  it('should create', () =&gt; {\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 1, "creation_date": 1487197269, "post_id": 42260801, "comment_id": 71680043, "body": "I suggest you look at the official Angular 2 testing guide, since you&#39;re not testing the &#39;angular way&#39;. This problem is solved by using <code>Testbed</code> and <code>configureTestingModule</code>. <a href=\"https://angular.io/docs/ts/latest/guide/testing.html#!#testbed\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/testing.html#!#testbed</a>"}, {"owner": {"reputation": 13755, "user_id": 207051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ktARb.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/207051/martin"}, "edited": false, "score": 0, "creation_date": 1487197718, "post_id": 42260801, "comment_id": 71680272, "body": "Use a provider to inject your mock at instantiation. This is the purpose of dependancy injection. Their is good documentation at angular.io on how to do this."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487197941, "post_id": 42260801, "comment_id": 71680369, "body": "You can just specify the type of <code>appHttpMock</code> as <code>any</code>, to force TypeScript to relax the type check. AFAIK, you can also use jasmine.createSpyObj() to create the whole mock object, and pretend that the result is an AppHttpMockService: <code>let appHttpMock = jasmine.createSpyObj(...) as AppHttpService;</code>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487198408, "post_id": 42260801, "comment_id": 71680570, "body": "And it seems there is even a generic method declared in the jasmine d.ts file to do that: <code>jasmine.createSpyObj&lt;AppHttpService&gt;(...)</code>"}, {"owner": {"reputation": 873, "user_id": 2675329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c1462cf4c84fde8d802fca911d61f86?s=128&d=identicon&r=PG", "display_name": "Roy Reiss", "link": "https://stackoverflow.com/users/2675329/roy-reiss"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 1, "creation_date": 1487201152, "post_id": 42260801, "comment_id": 71681605, "body": "@Adam thanks, I actually write my integrated tests using the &#39;angular way&#39; with a test bed (to be clear I mean integrated in terms of Angular, I use mocks for dependencies in those tests too).  Unfortunately, those tests can take 500-1000ms to run even with mocks and that doesn&#39;t scale well if you&#39;re using TDD, BDD.  I saw this as a faster way of testing logic that doesn&#39;t touch Angular."}], "answers": [{"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 2, "creation_date": 1488162307, "post_id": 42261195, "comment_id": 72094191, "body": "<code>Observable&lt;any&gt;</code> is dangerous because it is compatible with <code>Observable&lt;void&gt;</code>, consider using <code>Observable&lt;{}&gt;</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1488407407, "post_id": 42261195, "comment_id": 72222508, "body": "On the whole this is a nice solution in that, necessary or not, it illustrates a useful technique. The only real downside besides the types (easy to fix em :)) is that you use the concrete type as the DI token for injecting the implementation. Obviously that does not matter in this case, but using classes as interfaces is a bad pattern and the great thing about this answer is it shows how to avoid that, but then fails to do so. Consider using this. <code>export interface IAppHttpService  {post(body):Observable&lt;{}&gt;;}</code> <code>export namespace IAppHttpService {}</code> and then <code>@Inject(IAppHttpService)</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1488407521, "post_id": 42261195, "comment_id": 72222556, "body": "that would require <code>@NgModule({ providers: [ { provide: IAppHttpService, useClass: AppHttpService } ] })</code> somewhere."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 2, "last_activity_date": 1487197258, "creation_date": 1487197258, "answer_id": 42261195, "question_id": 42260801, "link": "https://stackoverflow.com/questions/42260801/angular-2-mocking-private-properties/42261195#42261195", "title": "Angular 2 - Mocking Private Properties", "body": "<p>In this case you could use interfaces:</p>\n\n<pre><code>export interface IAppHttpService  {post(body):Observable&lt;any&gt;;}\n\nexport class AppHttpService implements IAppHttpService { ... } \n\nexport class UserService {\n  constructor(@Inject(AppHttpService) private appHttp: IAppHttpService) {\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": false, "score": 6, "last_activity_date": 1530317316, "last_edit_date": 1530317316, "creation_date": 1488161680, "answer_id": 42476793, "question_id": 42260801, "link": "https://stackoverflow.com/questions/42260801/angular-2-mocking-private-properties/42476793#42476793", "title": "Angular 2 - Mocking Private Properties", "body": "<p>TL;DR: Avoid <code>private</code> if it is causing you testability problems since it does precious little.</p>\n\n<p>As a huge fan of TypeScript and an advocate of the language, I don't have much use for the <code>private</code> keyword.</p>\n\n<p>It has a few problems.</p>\n\n<p>It does nothing to limit actual access to the field at runtime, it only serves to limit the public API surface of an abstraction.</p>\n\n<p>Obviously most of TypeScript's benefits are compile time only (which is a great thing by the way) so this is not a direct point against the feature, but I feel that it gives developers a false sense of encapsulation, and more problematically, encourages them to eschew tried and true JavaScript techniques that actually do enforce privacy via closures.</p>\n\n<p>Now I know that if you are using classes, encapsulation via closures ranges from awkward to impossible, but if you actually want a private field, and certainly if you want a private method, you can declare a function external to the class and not export it from the enclosing module. This gives you true privacy.</p>\n\n<p>There is also another issue. ECMAScript has a proposal in the works for real private properties and it is pretty much guaranteed to use a different syntax and have different semantics as well.</p>\n\n<p>Basically TypeScript's notion of <code>private</code> has very weak semantics and will become a syntactic and semantic clash in the future when true private properties are part of ECMAScript, so just don't use it where it is problematic.</p>\n\n<p>I am not saying to avoid it completely, but in this kind of situation, dropping the modifier is the simplest solution.</p>\n\n<p>Also lots of mutable state, private or otherwise, is not desirable. It is sometimes necessary to optimize things, but you would need to measure first to know if it even helps you in your specific scenario.</p>\n\n<p>More often than not, the best thing a class property can be defined by is a <code>get</code> with no corresponding <code>set</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 6128392, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lKdcaXpflZ4/AAAAAAAAAAI/AAAAAAAAAJY/mArO2DRYU5w/photo.jpg?sz=128", "display_name": "Pasquale Vitale", "link": "https://stackoverflow.com/users/6128392/pasquale-vitale"}, "is_accepted": false, "score": 1, "last_activity_date": 1531919852, "creation_date": 1531919852, "answer_id": 51403055, "question_id": 42260801, "link": "https://stackoverflow.com/questions/42260801/angular-2-mocking-private-properties/51403055#51403055", "title": "Angular 2 - Mocking Private Properties", "body": "<p>I had similar problem and I have found this solution (without the usage of jasmine.createSpy):</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>import { Service } from 'my-service';\n\nclass ServiceMock {\n    service(param: string): void { // do mocking things }\n}\n\nfunction factoryServiceMock(): any {\n    return new ServiceMock();\n}\n\n// user.service.spec.ts\ndescribe('', () =&gt; {\n    const serviceMocked = factoryServiceMock() as Service;\n    const userService = new UserService(serviceMocked);\n    beforeEach(() =&gt; {\n    });\n    it('', () =&gt; {\n    });\n});\n</code></pre>\n\n\n\n<p>I don't know if it is the best solution, but it works for mocking strategy and obviously doesn't use Testbed</p>\n"}], "owner": {"reputation": 873, "user_id": 2675329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c1462cf4c84fde8d802fca911d61f86?s=128&d=identicon&r=PG", "display_name": "Roy Reiss", "link": "https://stackoverflow.com/users/2675329/roy-reiss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6567, "favorite_count": 0, "accepted_answer_id": 42261195, "answer_count": 3, "score": 3, "last_activity_date": 1531919852, "creation_date": 1487195726, "last_edit_date": 1488307761, "question_id": 42260801, "link": "https://stackoverflow.com/questions/42260801/angular-2-mocking-private-properties", "title": "Angular 2 - Mocking Private Properties", "body": "<p>While I understand that the ideal way to test code is to consume it the same way it will be in production and thus don't directly deal with private properties and methods TypeScript has me a little flummoxed.</p>\n\n<p>I have a user service.</p>\n\n<pre><code>// user.service.ts\nimport {Injectable} from '@angular/core';\nimport {AppHttpService} from '../app-http/app-http.service'\n@Injectable()\nexport class UserService {\n\n  constructor(private appHttp: AppHttpService) {\n  }\n}\n</code></pre>\n\n<p>As shown it depends on an appHttp service which has private properties and methods and let's say looks like this:</p>\n\n<pre><code>// app-http.service.ts\n@Injectable()\nexport class AppHttpService {\n  private apiUrl     = 'my domain';\n  constructor(private http: Http, private authHttp: AuthHttp) {\n  }\n\n  post(body): Observable&lt;any&gt; {\n     return this.http.post(this.apiUrl, body)\n        .map((res)=&gt;res)\n        .catch((err)=&gt;null);\n  }\n}\n</code></pre>\n\n<p>In order to run an isolated test on my user service I would like to hand it a simple mock of my appHttp service. Unfortunately, if I just mock the public methods, properties of appHttp and provide it to my constructor like so:</p>\n\n<pre><code>// user.service.spec.ts\ndescribe('', () =&gt; {\n  let appHttpMock = {\n    post: jasmine.createSpy('post')\n  };\n  let service = new UserService(appHttpMock);\n  beforeEach(() =&gt; {\n  })\n  it('', () =&gt; {\n  })\n})\n</code></pre>\n\n<p>I get an error stating:</p>\n\n<pre><code>Error:(11, 33) TS2345:Argument of type '{ post: Spy; }' is not assignable to parameter of type 'AppHttpService'.  Property 'apiUrl' is missing in type '{ post: Spy; }'.\n</code></pre>\n\n<p>If I change my mock to simply add the property I'll get another error complaining that it's not private.  If I create a bonafide mock class such as:</p>\n\n<pre><code>// app-http.mock.ts\nexport class AppHttpMockService {\n  private apiUrl     = 'my domain';\n\n  constructor() {\n  }\n\n  post() {\n  }\n}\n</code></pre>\n\n<p>I'll still get another TypeScript error:</p>\n\n<pre><code>Error:(8, 33) TS2345:Argument of type 'AppHttpMockService' is not assignable to parameter of type 'AppHttpService'. Types have separate declarations of a private property 'apiUrl'.\n</code></pre>\n\n<p>What is a clean way to run isolated tests (i.e., one that doesn't require the time consuming creation of a testbed) without TypeScript fussing over the private properties and methods of the mock?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "firebase-realtime-database", "angularfire2"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1487199618, "post_id": 42260757, "comment_id": 71681074, "body": "Firebase Database queries can only order/filter on a single property. In some cases it may be possible to combine multiple values into a single property to accomplish a use-case (see <a href=\"http://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\">this answer</a>). But it looks like this scenario is closer to putting the books into categories (see <a href=\"http://stackoverflow.com/questions/40656589/firebase-query-if-child-of-child-contains-a-value\">this answer</a>)."}, {"owner": {"reputation": 4656, "user_id": 1787388, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pSr04.png?s=128&g=1", "display_name": "shusson", "link": "https://stackoverflow.com/users/1787388/shusson"}, "edited": false, "score": 0, "creation_date": 1487204433, "post_id": 42260757, "comment_id": 71682615, "body": "In addition to Frank&#39;s comment, I&#39;d recommend you read <a href=\"https://firebase.google.com/docs/database/web/structure-data\" rel=\"nofollow noreferrer\">firebase.google.com/docs/database/web/structure-data</a>"}], "owner": {"reputation": 89, "user_id": 7183916, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ccbbbff61e2e065b7054716786938301?s=128&d=identicon&r=PG&f=1", "display_name": "devMan", "link": "https://stackoverflow.com/users/7183916/devman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 787, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1487213357, "creation_date": 1487195483, "last_edit_date": 1487213357, "question_id": 42260757, "link": "https://stackoverflow.com/questions/42260757/angularfire2-complex-query", "title": "AngularFire2 Complex Query", "body": "<p>I need to query a Firebase list based on two keys and values. For example:</p>\n\n<pre><code>books\n   -gdhagd342363\n        status:'Active'\n        authers\n            -yruywert676:'john markos'\n            -eiuqwbj8200:'mark solo'\n   -jdfhs8797429\n        status:'Active'\n        authers\n            -yruywert676:'john markos'\n</code></pre>\n\n<p>So I want to find how many books are <code>(status=='Active')</code> AND (the key of the <code>authers</code> child == <code>-yruywert676</code>).</p>\n\n<p>How to implement such query ?</p>\n"}, {"tags": ["angular", "typescript", "eventemitter"], "answers": [{"comments": [{"owner": {"reputation": 1891, "user_id": 5927442, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49784b9a56ce274ecb2d78e7ab4cf147?s=128&d=identicon&r=PG&f=1", "display_name": "LostJon", "link": "https://stackoverflow.com/users/5927442/lostjon"}, "edited": false, "score": 0, "creation_date": 1487195044, "post_id": 42260389, "comment_id": 71678900, "body": "I could kiss you."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1487194048, "creation_date": 1487194048, "answer_id": 42260389, "question_id": 42260125, "link": "https://stackoverflow.com/questions/42260125/emit-custom-event-in-angular2-and-typescript/42260389#42260389", "title": "Emit custom event in Angular2 and TypeScript", "body": "<p>Event <code>authFailed</code> belongs to <code>Login</code> component, but you added listener to <code>MessageModal</code> - it wont work.</p>\n\n<p>In your case <code>MessageModal</code> is within <code>Login</code> component, so you could call it directly without events:</p>\n\n<pre><code> //Login component\n @ViewChild(MessageComponent) message:MessageComponent\n ....\n (err:Object)=&gt;{\n    if(err.response.status) this.message.handleAuthFailure(err.response.status);\n });\n ....\n</code></pre>\n"}], "owner": {"reputation": 1891, "user_id": 5927442, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/49784b9a56ce274ecb2d78e7ab4cf147?s=128&d=identicon&r=PG&f=1", "display_name": "LostJon", "link": "https://stackoverflow.com/users/5927442/lostjon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1630, "favorite_count": 0, "accepted_answer_id": 42260389, "answer_count": 1, "score": 0, "last_activity_date": 1487196282, "creation_date": 1487193064, "last_edit_date": 1487196282, "question_id": 42260125, "link": "https://stackoverflow.com/questions/42260125/emit-custom-event-in-angular2-and-typescript", "title": "Emit custom event in Angular2 and TypeScript", "body": "<p>In short, I have basically mocked this: <a href=\"http://learnangular2.com/outputs/\" rel=\"nofollow noreferrer\">http://learnangular2.com/outputs/</a></p>\n\n<p>Here is what I do:</p>\n\n<ol>\n<li>Send Login Request using login.service.ts (axios module)</li>\n<li>Handle the form submit - if success route away else display modal with issue</li>\n<li>(in the case of issue) display ng2-bootstrap modal</li>\n</ol>\n\n<p>So, I'll go ahead and verify that the API is working correctly, I can trigger a fail by sending bad creds, no problem. Now, I have a failure, I want to display a good looking modal explain what happened with a users request. The below is my <strong>login.component.ts</strong></p>\n\n<pre><code>@Component({\n  selector: 'login',\n  encapsulation: ViewEncapsulation.None,\n  styles: [require('./login.scss')],\n  template: require('./login.html'),\n  providers: [LoginService,LoginRouteGuard]\n})\nexport class Login {\n\n  public form:FormGroup;\n  public email:AbstractControl;\n  public password:AbstractControl;\n  public submitted:boolean = false;\n  private router:Router;\n  @Output() authFailed = new EventEmitter();\n\n  constructor(fb:FormBuilder, private loginService: LoginService, router: Router) {\n    // ...stripping bc it doesnt really matter\n  }\n\n  public onSubmit(values:Object):void {\n    this.submitted = true;\n    if (this.form.valid) {\n      this.loginService.post(this.email.value,this.password.value).then((token:string)=&gt;{\n        //store cookies/manage session then redirect\n      },(err:Object)=&gt;{\n        if(err.response.status) this.authFailed.emit(err.response.status);\n      });\n    }\n  }\n}\n</code></pre>\n\n<p>Right, so from this perspective, I would need to bind my event to my child directive, so that I can be call from my child component. See the below</p>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"onSubmit(form.value)\" class=\"form-horizontal\"&gt;\n    &lt;!-- removed my form to shorten question --&gt;\n&lt;/form&gt;\n&lt;message-modal (authFailed)=\"handleAuthFailure($event)\"&gt;&lt;/message-modal&gt;\n</code></pre>\n\n<p>No problem here, right? I have bound a custom event (ie authFailed) to the message-modal directive. Next step is to handle this event from my modal component. See the below</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'message-modal',\n  template: require('./modal.html'),\n  styles: [require('./modal.scss')],\n})\nexport class MessageModal{\n\n    public content:Object = {header:'Message Modal' ,body:'Body Content'};\n\n    constructor(){}\n\n    public handleAuthFailure(code){\n        console.log('DEBUG', code)\n    }\n}\n</code></pre>\n\n<p>So, from this point, I should be seeing a line in my console similar to <strong>\"DEBUG 401\"</strong> or something of that sort. No luck; this line is never called. </p>\n"}, {"tags": ["typescript", "jasmine"], "comments": [{"owner": {"reputation": 5801, "user_id": 2586392, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9d89d4072afb4457b0c49131d8d258f5?s=128&d=identicon&r=PG", "display_name": "rpadovani", "link": "https://stackoverflow.com/users/2586392/rpadovani"}, "edited": false, "score": 8, "creation_date": 1487192130, "post_id": 42259813, "comment_id": 71677366, "body": "Try to do <code>expect((ref.getClient as any).calls.count()).toBe(1);</code>"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1487194974, "post_id": 42259813, "comment_id": 71678865, "body": "Where is <code>SshRefService</code> defined? How do you import it?"}], "answers": [{"tags": [], "owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "is_accepted": false, "score": 7, "last_activity_date": 1487198965, "creation_date": 1487198965, "answer_id": 42261590, "question_id": 42259813, "link": "https://stackoverflow.com/questions/42259813/how-to-resolve-calls-does-not-exist-on-type-any/42261590#42261590", "title": "How to resolve &#39;calls&#39; does not exist on type &#39;() =&gt; any&#39;", "body": "<p>It looks like <code>SshRefService</code> currently defines <code>getClient() : any</code>. As a result, it's correctly throwing this error. This is happening because the mocking process replaces the property/method with the Spy, but Typescript has no way of knowing that's taken place.</p>\n\n<p>Since you've spied on <code>SshRefService.getClient</code> , you have two ways to test whether it's been called:</p>\n\n<p><code>spyOn</code> returns a <code>jasmine.Spy</code> object, which exposes the calls property directly. You can save the result of <code>spyOn(ref, 'getClient').and.returnValue(true)</code> on the example object, and then test that like so:</p>\n\n<pre><code>expect(getClientSpy.calls.count()).toEqual(1)\n</code></pre>\n\n<p>Preferred (probably): You can run expect on the method on the object itself, like so:</p>\n\n<pre><code>expect(ref.getClient).toHaveBeenCalledTimes(1)\n</code></pre>\n"}], "owner": {"reputation": 1987, "user_id": 2453687, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/5e29b26628de252b46e08307345a55b6?s=128&d=identicon&r=PG", "display_name": "Justin Young", "link": "https://stackoverflow.com/users/2453687/justin-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5234, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1487198965, "creation_date": 1487191919, "question_id": 42259813, "link": "https://stackoverflow.com/questions/42259813/how-to-resolve-calls-does-not-exist-on-type-any", "title": "How to resolve &#39;calls&#39; does not exist on type &#39;() =&gt; any&#39;", "body": "<p>Testing my angular2 app.  I try and set a spy and then check how many times it has been called.  I keep getting this TS error though</p>\n\n<blockquote>\n  <p>Property 'calls' does not exist on type '() => any'.</p>\n</blockquote>\n\n<p><strong><em>How Do I resolve this error?</em></strong></p>\n\n<pre><code>describe('ssh Service', () =&gt; {\n    let ref:SshRefService;\n\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({\n            providers: [\n                { provide: SshRefService, useClass: refClass },\n            ]\n        });\n\n    });\n\n    beforeEach(inject([SshRefService], (sshRef:SshRefService) =&gt; {\n        ref = sshRef\n        spyOn(ref, 'getClient').and.returnValue(true)\n    }));\n\n    it('should mock an observable', () =&gt; {\n        //service.list() calls ref.getClient() internally\n        expect(service.list('/share')).toEqual(Observable.of(mockFileList));\n\n        expect(ref.getClient.calls.count()).toBe(1);\n\n\n    });\n}); \n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1487191755, "post_id": 42259675, "comment_id": 71677172, "body": "You are misunderstanding the purpose of <code>any</code>. Quoting the last comment for this <a href=\"http://stackoverflow.com/questions/41749751/typescript-vs-legal-javascript-an-index-must-be-of-type-string-number-sy#comment70698908_41749751\">question</a>:  Basically the point of any is that it says &quot;Yes that is OK&quot; to literally any question asked of it by the type system. Can you be assigned from X? Yes. Can you be assigned to Y? Yes. Do you have property Z? Yes."}, {"owner": {"reputation": 54, "user_id": 2179854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ff476a43dcb0680fe03fd6cd5c6f0e?s=128&d=identicon&r=PG", "display_name": "pwunderlich", "link": "https://stackoverflow.com/users/2179854/pwunderlich"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1487194228, "post_id": 42259675, "comment_id": 71678482, "body": "Ok, so far is that clear - thx. Any is a multitalent :-) But in the end I do not have the result that I expect. An array in which all elements are of type String. The reason for the question is that I want to make a kind of validation of the data when they come from an external source."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1487195322, "post_id": 42259675, "comment_id": 71679063, "body": "Then you have to check it yourself at runtime. There are several ways to bypass constraints imposed by TypeScript type system, even without <code>any</code>, <a href=\"https://www.typescriptlang.org/play/#src=let%20items%3A%20Array%20%3C%20string%20%3E%20%3D%20%5B%5D%3B%0D%0A%0D%0Afunction%20f(a%3A%20Array%3C%20%7B%7D%20%3E)%20%7B%0D%0A%20%20%20%20a%5B0%5D%20%3D%202%3B%0D%0A%7D%0D%0A%0D%0Af(items)%3B%0D%0A%0D%0Aconsole.log(typeof%20items%5B0%5D)%3B%20%2F%2F%20number%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">this is one example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "is_accepted": false, "score": 10, "last_activity_date": 1487192088, "last_edit_date": 1487192088, "creation_date": 1487191651, "answer_id": 42259724, "question_id": 42259675, "link": "https://stackoverflow.com/questions/42259675/arrays-of-a-specific-type-in-typescript/42259724#42259724", "title": "Arrays of a specific type in typescript", "body": "<p>What you are looking for is <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"noreferrer\">union types</a>.</p>\n\n<p>Try this </p>\n\n<pre><code>items: (string|number)[]; // or...\nitems: Array&lt;string|number&gt;;\n</code></pre>\n\n<p>Or you can initialize it like this </p>\n\n<pre><code>items: (string|number)[] = [\"Hello\", 154]; // or...\nitems: Array&lt;string|number&gt; = [\"Hello\", 154];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2462, "user_id": 3016043, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/NtdfC.jpg?s=128&g=1", "display_name": "Mark Macneil Bikeio", "link": "https://stackoverflow.com/users/3016043/mark-macneil-bikeio"}, "is_accepted": false, "score": 1, "last_activity_date": 1532276204, "last_edit_date": 1532276204, "creation_date": 1532275827, "answer_id": 51466938, "question_id": 42259675, "link": "https://stackoverflow.com/questions/42259675/arrays-of-a-specific-type-in-typescript/51466938#51466938", "title": "Arrays of a specific type in typescript", "body": "<p><strong>Array of specific type in typescript</strong></p>\n\n<pre><code>export class RegisterFormComponent \n{\n     genders = new Array&lt;GenderType&gt;();\n\n     loadGenders()\n     {\n            this.genders.push({name: \"Male\",isoCode: 1});\n            this.genders.push({name: \"FeMale\",isoCode: 2});\n     }\n}\n\ntype GenderType = { name: string, isoCode: number };    // Specified format\n</code></pre>\n\n<p><strong>Array of any type in typescript</strong></p>\n\n<pre><code>export class RegisterFormComponent \n{\n     genders = new Array&lt;any&gt;();          \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 818, "user_id": 1531945, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/423066350bace86d606e2050f6a871ac?s=128&d=identicon&r=PG", "display_name": "Konstantin Pelepelin", "link": "https://stackoverflow.com/users/1531945/konstantin-pelepelin"}, "is_accepted": false, "score": 0, "last_activity_date": 1555079408, "creation_date": 1555079408, "answer_id": 55653934, "question_id": 42259675, "link": "https://stackoverflow.com/questions/42259675/arrays-of-a-specific-type-in-typescript/55653934#55653934", "title": "Arrays of a specific type in typescript", "body": "<blockquote>\n  <p>do I underestimate the \"power\" of the anys</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p><code>any</code> is assignable to any type, so even though <code>items</code> is <code>string[]</code> and <code>items.push()</code> accepts only <code>string</code>, <code>any</code> is accepted.</p>\n\n<blockquote>\n  <p>But in the end I do not have the result that I expect.</p>\n</blockquote>\n\n<p>Disallow <code>any</code> then. There are a <code>noImplicitAny</code> rule for <code>tsconfig</code> and <code>no-any</code> and <code>no-unsafe-any</code> rules for <code>tslint</code>.</p>\n\n<p>Still, as seen in @artem's example, since <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Type%20Compatibility.md#function-parameter-bivariance\" rel=\"nofollow noreferrer\">TypeScript does not control co- and contravariance of function parameters</a>, its type system can't guarantee the desired type safety.</p>\n"}], "owner": {"reputation": 54, "user_id": 2179854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ff476a43dcb0680fe03fd6cd5c6f0e?s=128&d=identicon&r=PG", "display_name": "pwunderlich", "link": "https://stackoverflow.com/users/2179854/pwunderlich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12454, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1555079408, "creation_date": 1487191495, "last_edit_date": 1487192636, "question_id": 42259675, "link": "https://stackoverflow.com/questions/42259675/arrays-of-a-specific-type-in-typescript", "title": "Arrays of a specific type in typescript", "body": "<p>I define an array of a specific type in typescript. When assigning values that do not correspond to the type, error messages are generated as required. An assignment of the type <em>any</em> works, even if the type is not correct.</p>\n\n<p>Do I misunderstand the type definition of an array? Or do I underestimate the \"power\" of the anys :-)</p>\n\n<p>Here is a brief example:</p>\n\n<pre><code>export class ItemList {\n\n  items: Array&lt;string&gt; = [];\n\n  constructor() {\n\n    // push a string directly =&gt; works\n    this.items.push('item 1');\n\n    // push a string variable =&gt; works\n    let item2:string = 'item 2';\n    this.items.push(item2);\n\n    // push a number variable =&gt; doesn't work\n    let item3 = 3;\n    this.items.push(item3);\n\n    // push a number as any type =&gt; works\n    let item4:any = 4;\n    this.items.push(item4);\n\n  }\n\n}\n\nlet itemList = new ItemList();\n</code></pre>\n\n<p>The error from the tsc is: </p>\n\n<p><code>error TS2345: Argument of type 'number' is not assignable to parameter of type</code> 'string'.</p>\n\n<p>Funny thing: the <a href=\"https://plnkr.co/edit/FiXFG8RMkK66bBtUMVSo\" rel=\"nofollow noreferrer\">plunkers</a> here works.</p>\n"}, {"tags": ["javascript", "typescript", "cron", "promise"], "comments": [{"owner": {"reputation": 108, "user_id": 1282453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f86cbede299cf407578f702d5d4cbbd9?s=128&d=identicon&r=PG", "display_name": "javier", "link": "https://stackoverflow.com/users/1282453/javier"}, "edited": false, "score": 0, "creation_date": 1487191526, "post_id": 42259390, "comment_id": 71677046, "body": "I had a similar issue once, due to missing environment variables. Check: <a href=\"http://askubuntu.com/questions/23009/reasons-why-crontab-does-not-work\" title=\"reasons why crontab does not work\">askubuntu.com/questions/23009/reasons-why-crontab-does-not-w&zwnj;&#8203;ork</a>  and <a href=\"http://2clickfix.com/6-reasons-cron-job-not-running/\" rel=\"nofollow noreferrer\">2clickfix.com/6-reasons-cron-job-not-running</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1487197616, "post_id": 42259390, "comment_id": 71680218, "body": "by the way ... <code>Promise.resolve()         .then(() =&gt; startSomething()).then(...</code> is just <code>startSomething().then(...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 1782800, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cf278c24fe8c6cc0bcc7ef3f3d7251eb?s=128&d=identicon&r=PG", "display_name": "pmestima", "link": "https://stackoverflow.com/users/1782800/pmestima"}, "edited": false, "score": 0, "creation_date": 1487194409, "post_id": 42260066, "comment_id": 71678586, "body": "Hi Alistair, the workFunction should not return anything. But I also tried that before."}], "tags": [], "owner": {"reputation": 561, "user_id": 1584172, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/28bc129badf48c5c88876bede394c5e2?s=128&d=identicon&r=PG", "display_name": "Alistair", "link": "https://stackoverflow.com/users/1584172/alistair"}, "is_accepted": false, "score": 0, "last_activity_date": 1487192862, "creation_date": 1487192862, "answer_id": 42260066, "question_id": 42259390, "link": "https://stackoverflow.com/questions/42259390/promise-inside-cron-job-not-executed/42260066#42260066", "title": "Promise inside cron job not executed", "body": "<p>Don't you have a <code>return</code> missing in your <code>workFunction</code>?</p>\n\n<pre><code>SomeService.login()\n    .then(() =&gt; {\n        // new CronJob(expression, workFunction, null, true);\n        workFunction();\n});\n\nfunction workFunction() {\n    console.log(\"start\")\n\n    return Promise.resolve()\n        .then(() =&gt; startSomething())\n        .then(moreStuff1)\n        .then(moreStuff2)\n        .then(moreStuff3)\n              ...\n        .then(console.log)\n        .catch(errorHandling);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10306, "user_id": 302793, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/7s8R3.png?s=128&g=1", "display_name": "lex82", "link": "https://stackoverflow.com/users/302793/lex82"}, "is_accepted": false, "score": 1, "last_activity_date": 1487197586, "creation_date": 1487197586, "answer_id": 42261275, "question_id": 42259390, "link": "https://stackoverflow.com/questions/42259390/promise-inside-cron-job-not-executed/42261275#42261275", "title": "Promise inside cron job not executed", "body": "<p>It seems this behavior is somehow related to the execution context of the cron job. I don't understand it but it seems to be different in some way. I guess breaking out of this context with a timeout solves the problem:</p>\n\n<pre><code>function wrapper() { setTimeout(workFunction) }\n\nnew CronJob(expression, wrapper, null, true);\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 1782800, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cf278c24fe8c6cc0bcc7ef3f3d7251eb?s=128&d=identicon&r=PG", "display_name": "pmestima", "link": "https://stackoverflow.com/users/1782800/pmestima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487238690, "creation_date": 1487190512, "last_edit_date": 1487238690, "question_id": 42259390, "link": "https://stackoverflow.com/questions/42259390/promise-inside-cron-job-not-executed", "title": "Promise inside cron job not executed", "body": "<p>I have the piece of code in typescript that have a very strange behaviour\nI wrote some code that apparently is OK but I have a very strange behaviour.\nAfter I get loggedIn to a service I want to start a CronJob.</p>\n\n<pre><code>SomeService.login()\n    .then(() =&gt; {\n        // new CronJob(expression, workFunction, null, true);\n        workFunction();\n});\n\nfunction workFunction() {\n    console.log(\"start\")\n\n    Promise.resolve()\n        .then(() =&gt; startSomething())\n        .then(moreStuff1)\n        .then(moreStuff2)\n        .then(moreStuff3)\n              ...\n        .then(console.log)\n        .catch(errorHandling);\n}\n</code></pre>\n\n<p>This code works fine for me if I just call the workFunction like it is right now, but if I switch the code to use the CronJob, it will call the function but the promises inside will not be resolved.\nThe first .then is called and the next ones are ignored and the return of the function startSomething() will be printed in the last .then()</p>\n\n<p>I dont know if this is related to the fact that the CronJob is started from inside a Promise.then() but I see that the workFunction is being called on each tick, which is correct.</p>\n\n<p><strong>FIXED</strong></p>\n\n<p>I could fix it by binding the workFunction to this.</p>\n\n<pre><code>new CronJob(expression, workFunction.bind(self), null, true);\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1487251905, "post_id": 42259964, "comment_id": 71706755, "body": "Correct me if I&#39;m wrong, but the actual emitted code in this case does not exist within a module, or namespace (still not entirely sure of the difference), so how do I use this to segregate my types away from the global scope?"}, {"owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1487257507, "post_id": 42259964, "comment_id": 71711398, "body": "Like you, the module system is voodoo to me. I keep seeing that &quot;module&quot; is deprecated and you should use &quot;namespace&quot; instead, so I don&#39;t use &quot;module&quot; keyword."}, {"owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "reply_to_user": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1487257687, "post_id": 42259964, "comment_id": 71711554, "body": "If you&#39;re worried about type collisions, you can use the same name for different class types without a collision. With the &quot;default&quot; keyword, you can actually name them whatever you want when you import them unless you import them in the curly brackets like <code>{ Alpha }</code>.  In which case you would have to do <code>{ Alpha as AnotherAlpha }</code>. But otherwise, you could import the <code>Alpha</code> class like <code>import MySuperAwesomeClass from &quot;.&#47;System&#47;Alpha&quot;</code> and it will use it as <code>MySuperAwesomeClass</code>."}], "tags": [], "owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "is_accepted": true, "score": 3, "last_activity_date": 1487192831, "last_edit_date": 1487192831, "creation_date": 1487192467, "answer_id": 42259964, "question_id": 42259376, "link": "https://stackoverflow.com/questions/42259376/typescript-import-across-multiple-files-with-same-module-name/42259964#42259964", "title": "TypeScript import across multiple files with same module name", "body": "<p>This is a different approach, but should produce the same result you're looking for. </p>\n\n<p>Instead of having a module <code>System</code>, you can use the file system to put all the files in a conjoined module with an <code>index.ts</code> file. So have a directory called <code>System</code>. So do something like this:</p>\n\n<p><code>/System/Bravo.ts</code></p>\n\n<pre><code>export default class Bravo {\n  constructor(n: number) {\n    console.log(`Bravo ${n}`);\n  }\n}\n</code></pre>\n\n<p><code>/System/Alpha.ts</code></p>\n\n<pre><code>import Bravo from \"./Bravo\"\n\nexport default class Alpha extends Bravo {\n  constructor() { \n    super(123);\n  }\n}\n</code></pre>\n\n<p>Then include an <code>index.ts</code> file that includes both.</p>\n\n<p><code>/System/index.ts</code></p>\n\n<pre><code>import Alpha from \"./Alpha\";\nimport Bravo from \"./Bravo\";\n\nexport { Alpha };\nexport { Bravo };\n</code></pre>\n\n<p>Then, whenever you want to import the entire module you would do:</p>\n\n<pre><code>import * as System from \"&lt;relativePath&gt;/System\";\n\nlet alphaClass = new System.Alpha();\nlet bravoClass = new System.Bravo(1);\n</code></pre>\n\n<p>Likewise, if you just want <code>Alpha</code>, then you can import it directly like so:</p>\n\n<pre><code>import { Alpha } from \"&lt;relativePath&gt;/System\";\n\nlet alphaClass = new Alpha();\n</code></pre>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2699, "favorite_count": 0, "accepted_answer_id": 42259964, "answer_count": 1, "score": 1, "last_activity_date": 1487192831, "creation_date": 1487190465, "last_edit_date": 1487190794, "question_id": 42259376, "link": "https://stackoverflow.com/questions/42259376/typescript-import-across-multiple-files-with-same-module-name", "title": "TypeScript import across multiple files with same module name", "body": "<p>Whilst getting to grips with TypeScript's module import/export system, <em>which STILL eludes me, and feels like a dark art mastered only by he who must not be named...</em> I'm trying to understand how I can make the following import a little cleaner</p>\n\n<p><strong>B.ts</strong></p>\n\n<pre><code>export module System {\n    export class Bravo {\n        constructor(n: number) {\n            console.log(`Bravo ${n}`);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>A.ts</strong></p>\n\n<pre><code>import {System as System1} from \"./B\";\n\nexport module System {\n    export class Alpha extends System1.Bravo {\n        constructor() { \n            super(123);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>What don't I like about this</strong></p>\n\n<ul>\n<li><code>import { System as System1 }</code></li>\n<li><code>extends System1.Bravo</code></li>\n</ul>\n\n<p>That to me, sticks out like a sore thumb! Is there any way to make it cleaner?</p>\n\n<ul>\n<li><code>import { System.Bravo } from \"./B\";</code></li>\n<li><code>extends Bravo</code></li>\n</ul>\n\n<p>Something like this?</p>\n\n<p><strong>As a side-note</strong>, what I'm actually trying to achieve is</p>\n\n<ul>\n<li>Proper use of namespacing i.e. <code>System.Foo.Bar.MyAwesomeClass</code>.</li>\n<li>Separating classes into their own files so that builds don't include things they dont need.</li>\n<li><em>With regards to above, tree shaking?</em></li>\n<li>Using export/import as a mechanism to manage dependencies.</li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "is_accepted": true, "score": 3, "last_activity_date": 1487189134, "creation_date": 1487189134, "answer_id": 42258991, "question_id": 42258947, "link": "https://stackoverflow.com/questions/42258947/password-confirmation-in-angular-2/42258991#42258991", "title": "password confirmation in angular 2", "body": "<p>The issue is with these lines in your template:</p>\n\n<p><code>formName.get('confirmpassword').hasError('mismatchedPasswords')</code> </p>\n\n<p>You're applying the validator to the group <code>formName</code>, but checking for the error on the <code>confirmpassword</code> formControl.</p>\n\n<p>Try using this in the two places where you check for <code>mismatchedPasswords</code> in your template.</p>\n\n<p><code>formName.hasError('mismatchedPasswords')</code></p>\n"}], "owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1226, "favorite_count": 0, "accepted_answer_id": 42258991, "answer_count": 1, "score": 3, "last_activity_date": 1487189134, "creation_date": 1487188987, "question_id": 42258947, "link": "https://stackoverflow.com/questions/42258947/password-confirmation-in-angular-2", "title": "password confirmation in angular 2", "body": "<p>I am trying to check whether the two passwords are equal. I am not getting any error message when there are not but i am not getting the error message <strong>\"Password must match\"</strong>. </p>\n\n<p>Below is my DOM:</p>\n\n<pre><code>&lt;div class=\"form-group\" [ngClass]=\"{'has-error': formName.get('password').touched &amp;&amp; \n                formName.get('password').hasError('invalidPassword')}\"&gt;\n    &lt;label class=\"control-label\"&gt;Password&lt;/label&gt;\n    &lt;input type=\"text\" class=\"form-control\" formControlName=\"password\" name=\"password\" required /&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group\" [ngClass]=\"{'has-error': formName.get('confirmpassword').touched \n        &amp;&amp; formName.get('confirmpassword').hasError('mismatchedPasswords')}\"&gt;\n    &lt;label class=\"control-label\"&gt;confirm password&lt;/label&gt;\n    &lt;input type=\"text\" class=\"form-control\" formControlName=\"confirmpassword\" name=\"confirmpassword\" required /&gt;\n    &lt;span class=\"help-block\" *ngIf=\"formName.get('confirmpassword').touched \n            &amp;&amp; formName.get('confirmpassword').hasError('mismatchedPasswords')\"&gt;\n            Password must match\n        &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My Component class on how i am building my form:</p>\n\n<pre><code>   this.formName = this.fb.group({\n        name: [\"\", [Validators.required]],            \n        password: [\"\",[Validators.required, ValidationHelper.passwordValidator]],\n        confirmpassword: [\"\",Validators.required],\n        info: this.fb.group({\n            acc: [\"\",[Validators.required, ValidationHelper.creditCardValidator]]\n        })\n   },{ validator: ValidationHelper.matchPass})\n</code></pre>\n\n<p>And my password matching function:</p>\n\n<pre><code>static matchPass = (control: AbstractControl) : {[key: string]: boolean} =&gt; {    \n    let password = control.get('password');\n    let confirmPassword = control.get('confirmpassword');\n    return password.value === confirmPassword.value ? null : { 'mismatchedPasswords': true };        \n}  \n</code></pre>\n\n<p>The function is getting called, i am also getting the return value... but why is my confirm password input control not showing error or activitating its span tag.</p>\n"}, {"tags": ["angular", "asynchronous", "typescript", "async.js"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 2, "creation_date": 1487188913, "post_id": 42258868, "comment_id": 71675604, "body": "Angular 2 heavily uses Observables, have you tried looking into how to use those instead of trying to use Async? Chaining observables is pretty easy with the <code>.map</code> method."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1487188946, "post_id": 42258868, "comment_id": 71675627, "body": "Angular already uses RxJS, which has more than 60 operators for combining, filtering, mapping, etc. observables. Why not use that?"}, {"owner": {"reputation": 1156, "user_id": 6435458, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a01aedb8d649c171928ef6f7a4c3e394?s=128&d=identicon&r=PG&f=1", "display_name": "Natanael", "link": "https://stackoverflow.com/users/6435458/natanael"}, "edited": false, "score": 0, "creation_date": 1487244790, "post_id": 42258868, "comment_id": 71701459, "body": "By now I know just the basic use of Observables, but I will give a look at it."}], "answers": [{"comments": [{"owner": {"reputation": 1156, "user_id": 6435458, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a01aedb8d649c171928ef6f7a4c3e394?s=128&d=identicon&r=PG&f=1", "display_name": "Natanael", "link": "https://stackoverflow.com/users/6435458/natanael"}, "edited": false, "score": 0, "creation_date": 1487245589, "post_id": 42260523, "comment_id": 71702059, "body": "I got the message &quot;Module &#39;&quot;async&quot;&#39; has no exported member &#39;asyn&#39;&quot;. Async is a Javascript library and, to use it on a Angular 2 project, I need an wrapper for typescript."}], "tags": [], "owner": {"reputation": 12611, "user_id": 491265, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AJGd6.jpg?s=128&g=1", "display_name": "kemsky", "link": "https://stackoverflow.com/users/491265/kemsky"}, "is_accepted": true, "score": 3, "last_activity_date": 1487272269, "last_edit_date": 1487272269, "creation_date": 1487194522, "answer_id": 42260523, "question_id": 42258868, "link": "https://stackoverflow.com/questions/42258868/async-js-and-angular-2/42260523#42260523", "title": "Async.js and Angular 2", "body": "<p>You can use it if you want, just install typings <code>npm i @types/async</code>, <code>npm i async</code> and import library:</p>\n\n<pre><code>  import async from 'async'; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2360230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c118fed94b5a887bc17814f32a71c02?s=128&d=identicon&r=PG", "display_name": "Piyush", "link": "https://stackoverflow.com/users/2360230/piyush"}, "is_accepted": false, "score": 3, "last_activity_date": 1493842676, "creation_date": 1493842676, "answer_id": 43769238, "question_id": 42258868, "link": "https://stackoverflow.com/questions/42258868/async-js-and-angular-2/43769238#43769238", "title": "Async.js and Angular 2", "body": "<p>Install the async package using <code>npm i --save async</code> and import it in any component using <code>import * as async from 'async'</code></p>\n\n<p>To get typings for async - <code>npm i --save-dev @typings/async</code> and if you structured the project using angular cli, add 'async' to the types array in \"src/tsconfig.json\"</p>\n\n<pre><code>\"types\":[\n  \"async\"\n]\n</code></pre>\n\n<p>For more, refer to <a href=\"https://github.com/angular/angular-cli/wiki/stories-third-party-lib\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-third-party-lib</a>.</p>\n"}], "owner": {"reputation": 1156, "user_id": 6435458, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/a01aedb8d649c171928ef6f7a4c3e394?s=128&d=identicon&r=PG&f=1", "display_name": "Natanael", "link": "https://stackoverflow.com/users/6435458/natanael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1641, "favorite_count": 0, "accepted_answer_id": 42260523, "answer_count": 2, "score": 1, "last_activity_date": 1493842676, "creation_date": 1487188641, "question_id": 42258868, "link": "https://stackoverflow.com/questions/42258868/async-js-and-angular-2", "title": "Async.js and Angular 2", "body": "<p>I need to execute some promises/callbacks in series in Angular 2.</p>\n\n<p>I know <a href=\"https://github.com/caolan/async\" rel=\"nofollow noreferrer\">Async</a>, which is a very nice library to work with asynchronous tasks. And make it easy to deal with this. But I was not able to find an wrapper for typescript.</p>\n\n<p>How could I to se Async library together Angular 2?</p>\n"}, {"tags": ["typescript", "visual-studio-code", "tsconfig"], "answers": [{"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 2, "creation_date": 1487260463, "post_id": 42258802, "comment_id": 71713776, "body": "To extend on this, <code>files</code> is an exact match where <code>include</code> is a glob like match."}], "tags": [], "owner": {"reputation": 370, "user_id": 4437907, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7f924f25038dfd1641190572c75e7b53?s=128&d=identicon&r=PG&f=1", "display_name": "davidtaylorjr", "link": "https://stackoverflow.com/users/4437907/davidtaylorjr"}, "is_accepted": true, "score": 12, "last_activity_date": 1487351484, "last_edit_date": 1487351484, "creation_date": 1487188420, "answer_id": 42258802, "question_id": 42258765, "link": "https://stackoverflow.com/questions/42258765/why-can-tsconfig-json-not-find-my-files-in-a-src-folder/42258802#42258802", "title": "Why can tsconfig.json not find my files in a src folder?", "body": "<p>You need to change the \"files\" to \"include\" in your tsconfig file.</p>\n\n<p>The <code>files</code> flag looks for specific files while <code>include</code> can use glob syntax.</p>\n"}], "owner": {"reputation": 370, "user_id": 4437907, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7f924f25038dfd1641190572c75e7b53?s=128&d=identicon&r=PG&f=1", "display_name": "davidtaylorjr", "link": "https://stackoverflow.com/users/4437907/davidtaylorjr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5466, "favorite_count": 0, "accepted_answer_id": 42258802, "answer_count": 1, "score": 4, "last_activity_date": 1487351484, "creation_date": 1487188268, "question_id": 42258765, "link": "https://stackoverflow.com/questions/42258765/why-can-tsconfig-json-not-find-my-files-in-a-src-folder", "title": "Why can tsconfig.json not find my files in a src folder?", "body": "<p>I am giving my first try at TypeScript compiling and I am trying to do it within Visual Studio Code with a tsconfig file.</p>\n\n<p>I have read the <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">documentation</a> at the <a href=\"http://typescriptlang.org\" rel=\"nofollow noreferrer\">TypeScript</a> site and believe I have formatted my file the correct way but the error I keep getting in the output is: </p>\n\n<blockquote>\n  <p>error TS6053: File\n  'c:/Users/username/devbox/home/tsc-play/**/*.ts' not found.\n  2:46:11 PM - Compilation complete. Watching for file changes.</p>\n</blockquote>\n\n<p>However, in that folder there is a 'hello.ts' file.</p>\n\n<p>Here is the code for my tsconfig.json file:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"outFile\": \"dist/bundle.js\",\n        \"watch\": true\n    },\n    \"compileOnSave\": true,\n    \"files\": [\n        \"src/*.ts\"\n    ]\n\n}\n</code></pre>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 779, "user_id": 3076934, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/uObVL.jpg?s=128&g=1", "display_name": "amansoni211", "link": "https://stackoverflow.com/users/3076934/amansoni211"}, "edited": false, "score": 1, "creation_date": 1487184741, "post_id": 42257729, "comment_id": 71673315, "body": "you can use *ngIf. for better solution please put some code."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487429261, "post_id": 42257729, "comment_id": 71786599, "body": "See also <a href=\"http://stackoverflow.com/questions/42315828/angular-2-how-to-clear-the-dropdown-and-textbox-values-while-switching-the-rad\" title=\"angular 2 how to clear the dropdown and textbox values while switching the rad\">stackoverflow.com/questions/42315828/&hellip;</a> which is the same question with more details."}], "answers": [{"tags": [], "owner": {"reputation": 2563, "user_id": 1971015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f9684ef8bc4f800d351067e999733b?s=128&d=identicon&r=PG", "display_name": "aholtry", "link": "https://stackoverflow.com/users/1971015/aholtry"}, "is_accepted": false, "score": 2, "last_activity_date": 1487185916, "last_edit_date": 1487185916, "creation_date": 1487185608, "answer_id": 42258042, "question_id": 42257729, "link": "https://stackoverflow.com/questions/42257729/angular-2-typescripthow-to-show-dropdown-and-textbox-based-on-radio-button/42258042#42258042", "title": "Angular 2 typescript:How to show dropdown and textbox based on radio button", "body": "<p>Here is a simple example without seeing your code. If you could give a code example then I can elaborate more.</p>\n\n<pre><code>&lt;div&gt;\n    &lt;input type=\"radio\" [(ngModel)]=\"radioValue\"  name=\"radioValue\" value=\"true\" /&gt;YES\n    &lt;input type=\"radio\" [(ngModel)]=\"radioValue\"  name=\"radioValue\" value=\"false\" /&gt;NO\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;select *ngIf=\"!radioValue\"&gt;\n        &lt;option&gt;Some Option&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;input type=\"text\" *ngIf=\"radioValue\" /&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "edited": false, "score": 0, "creation_date": 1487423887, "post_id": 42259083, "comment_id": 71784851, "body": "Thank you, but how to clear the dropdown and textbox values while switching through radio buttons."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "edited": false, "score": 0, "creation_date": 1487424695, "post_id": 42259083, "comment_id": 71785122, "body": "Not sure what you mean, could you elaborate some more. Currently the code in my answer does clear the select and input when switching between radio buttons. But I guess you have some more code?"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 4, "last_activity_date": 1487189483, "creation_date": 1487189483, "answer_id": 42259083, "question_id": 42257729, "link": "https://stackoverflow.com/questions/42257729/angular-2-typescripthow-to-show-dropdown-and-textbox-based-on-radio-button/42259083#42259083", "title": "Angular 2 typescript:How to show dropdown and textbox based on radio button", "body": "<p>Small changes to aholtry's answer as that will not unfortunately work. The values of the radio buttons are not <code>boolean</code>, but <code>string</code>, so the values have to be checked against string values, here I used \"yes\" and \"no\".</p>\n\n<p>So:</p>\n\n<pre><code>&lt;input type=\"radio\" [(ngModel)]=\"radioValue\" value=\"yes\" /&gt;YES\n&lt;input type=\"radio\" [(ngModel)]=\"radioValue\" value=\"no\"/&gt;NO\n\n&lt;select *ngIf=\"radioValue == 'yes'\"&gt;\n    &lt;option&gt;Some Option&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;input type=\"text\" *ngIf=\"radioValue == 'no'\" /&gt;\n</code></pre>\n\n<p>This should get you started! :)</p>\n"}], "owner": {"reputation": 393, "user_id": 5588829, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/313b849d1c65ed26a5012ddb050a1f40?s=128&d=identicon&r=PG&f=1", "display_name": "PAR", "link": "https://stackoverflow.com/users/5588829/par"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4145, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1487189483, "creation_date": 1487184494, "question_id": 42257729, "link": "https://stackoverflow.com/questions/42257729/angular-2-typescripthow-to-show-dropdown-and-textbox-based-on-radio-button", "title": "Angular 2 typescript:How to show dropdown and textbox based on radio button", "body": "<p>My UI contain two radio buttons YES and NO, how to show dropdown and textbox based on these radio button values. Example if user click YES radio then need to show dropdown,if user checked NO radio then textbox should show using angular 2 typescript.please anybody provide link or help me to do.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1196, "user_id": 3673245, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/92fb776f7bce5a545a733ddca0463abe?s=128&d=identicon&r=PG&f=1", "display_name": "Damkulul", "link": "https://stackoverflow.com/users/3673245/damkulul"}, "edited": false, "score": 0, "creation_date": 1487182284, "post_id": 42256806, "comment_id": 71671780, "body": "Thanks, if I understand right, the best way to create an obj in ts is to pass my data from js to.ts and in the ts to creae my object ?"}, {"owner": {"reputation": 171, "user_id": 3784589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdcfb8010168547c39358e08314064d1?s=128&d=identicon&r=PG&f=1", "display_name": "nbouchet", "link": "https://stackoverflow.com/users/3784589/nbouchet"}, "reply_to_user": {"reputation": 1196, "user_id": 3673245, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/92fb776f7bce5a545a733ddca0463abe?s=128&d=identicon&r=PG&f=1", "display_name": "Damkulul", "link": "https://stackoverflow.com/users/3673245/damkulul"}, "edited": false, "score": 0, "creation_date": 1487182547, "post_id": 42256806, "comment_id": 71671953, "body": "@Damkulul could you please give us more information regarding why would you want to create an object on js instead of on a .ts file?"}, {"owner": {"reputation": 1196, "user_id": 3673245, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/92fb776f7bce5a545a733ddca0463abe?s=128&d=identicon&r=PG&f=1", "display_name": "Damkulul", "link": "https://stackoverflow.com/users/3673245/damkulul"}, "edited": false, "score": 0, "creation_date": 1487183206, "post_id": 42256806, "comment_id": 71672312, "body": "well according to a tutorial that i found, the obj was declared in the script tag and used the obj&#39;s class like in c# when you create an obj in the &#39;main&#39; section...and in my case use the .ts as a class.."}], "tags": [], "owner": {"reputation": 171, "user_id": 3784589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdcfb8010168547c39358e08314064d1?s=128&d=identicon&r=PG&f=1", "display_name": "nbouchet", "link": "https://stackoverflow.com/users/3784589/nbouchet"}, "is_accepted": true, "score": 4, "last_activity_date": 1487181500, "creation_date": 1487181500, "answer_id": 42256806, "question_id": 42256456, "link": "https://stackoverflow.com/questions/42256456/why-isnt-the-compiler-throwing-an-error-when-assigining-a-number-bool-to-a-stri/42256806#42256806", "title": "Why isn&#39;t the compiler throwing an error when assigining a number/bool to a string var", "body": "<p>Assuming that the first portion of code was done using Typescript, the code that uses that class seems to be placed in an HTML and it's pure Javascript, that's why the types are not being checked, since this is not being compiled by Typescript.\nIn order to use type checking your code needs to be placed in a .ts file:</p>\n\n<pre><code>// Inside a .ts file\nvar tito = new Customer();\ntito.name = 345;\n</code></pre>\n"}], "owner": {"reputation": 1196, "user_id": 3673245, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/92fb776f7bce5a545a733ddca0463abe?s=128&d=identicon&r=PG&f=1", "display_name": "Damkulul", "link": "https://stackoverflow.com/users/3673245/damkulul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 42256806, "answer_count": 1, "score": 1, "last_activity_date": 1487182085, "creation_date": 1487180316, "last_edit_date": 1487182085, "question_id": 42256456, "link": "https://stackoverflow.com/questions/42256456/why-isnt-the-compiler-throwing-an-error-when-assigining-a-number-bool-to-a-stri", "title": "Why isn&#39;t the compiler throwing an error when assigining a number/bool to a string var", "body": "<p>I am new to Typescript and I'm trying to understand how Javascript var types work, \nI created a simple class: and restricted the name property to string, but when I insert a number to my string variable I get no error and my string property holds the number as it was a string... am I missing something?\nWhen I debugged it, I found that name was 345.\n//done in ts</p>\n\n<pre><code>class Customer {\n    public name: string = \"\";\n    validate(input: string): string {\n        alert(\"hey\");\n        return \"hey\";\n    }\n}\n</code></pre>\n\n<p>The code that uses my class</p>\n\n<pre><code> &lt;script&gt;        \n        var tito = new Customer();\n        tito.name = 345;\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 134355, "user_id": 120955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3653360c9b96b1ae5e39067c9e18183c?s=128&d=identicon&r=PG", "display_name": "StriplingWarrior", "link": "https://stackoverflow.com/users/120955/striplingwarrior"}, "edited": false, "score": 0, "creation_date": 1487185919, "post_id": 42256206, "comment_id": 71673974, "body": "Can you add an explanation of how your current code isn&#39;t doing what you want it to do? Is the compiler giving you an error? Is it throwing an exception when run? Is it giving different output than what you want it to return?"}], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 991857, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zmD7H.jpg?s=128&g=1", "display_name": "ZanattMan", "link": "https://stackoverflow.com/users/991857/zanattman"}, "is_accepted": false, "score": 0, "last_activity_date": 1487180454, "creation_date": 1487180454, "answer_id": 42256492, "question_id": 42256206, "link": "https://stackoverflow.com/questions/42256206/how-to-observable-map-collection-of-json-objects-with-different-property-names/42256492#42256492", "title": "How to Observable map collection of json objects with different property names", "body": "<p>I suggest creating a method in the <code>multiSelect</code> class:</p>\n\n<pre><code>export class multiSelect {\n   constructor(\n    public id: string,\n    public name: string\n  ) {  }\n  fillWithData(data){ //this function receive your json\n       this.id = data.empID;\n       this.name = data.formattedName;\n  }\n}\n</code></pre>\n\n<p>Then, a <code>JSON.strigify(multiSelectInstance)</code> would do the trick.</p>\n\n<p>If you want to keep using the constructor so you only need one call you can make the following:</p>\n\n<pre><code>export class multiSelect {\n   constructor(\n    public id: string,\n    public name: string,\n    public data\n  ) { \n       this.id = data.empID;\n       this.name = data.formattedName;\n   }\n  fillWithData(data){ //this function receive your json\n       this.id = data.empID;\n       this.name = data.formattedName;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 5508583, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45716b31357d5bbf4688edf42db97fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5508583/brian"}, "edited": false, "score": 0, "creation_date": 1487183887, "post_id": 42256698, "comment_id": 71672763, "body": "Would like to go with this method but I get red squiggly lines (TS errors) under id and empID.  Errors like &quot;[ts] unused labe1&quot; and &quot;[ts] Left side of comma operator is unused and has no side effects&quot; respectively."}, {"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "reply_to_user": {"reputation": 145, "user_id": 5508583, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45716b31357d5bbf4688edf42db97fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5508583/brian"}, "edited": false, "score": 0, "creation_date": 1487185276, "post_id": 42256698, "comment_id": 71673624, "body": "Sorry, my mistake, the syntax was a bit off and I didn&#39;t test after I wrote it. The edited answer should work."}], "tags": [], "owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "is_accepted": false, "score": 0, "last_activity_date": 1487185253, "last_edit_date": 1487185253, "creation_date": 1487181117, "answer_id": 42256698, "question_id": 42256206, "link": "https://stackoverflow.com/questions/42256206/how-to-observable-map-collection-of-json-objects-with-different-property-names/42256698#42256698", "title": "How to Observable map collection of json objects with different property names", "body": "<p>It might be easier to change your service to something like this:</p>\n\n<pre><code>reportsTo(): Observable&lt;multiSelect&gt; {\n  return this._http.get('getCollection')\n    .map((response: Response) =&gt; response.json())\n    .map(({empID, formattedName}) =&gt; ({id: empID, name: formattedName}))\n    .catch(this.handleError);\n}\n</code></pre>\n\n<p>Then get rid of your <code>multiSelect</code> class and instead replace it with an interface.</p>\n\n<pre><code>export interface multiSelect {\n  id: string;\n  name: string;\n}\n</code></pre>\n\n<p>Typescript will enforce the returned observable has the data in the correct format because of the interface, and now you don't have to deal with classes or constructors.</p>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 3, "last_activity_date": 1487184022, "creation_date": 1487184022, "answer_id": 42257564, "question_id": 42256206, "link": "https://stackoverflow.com/questions/42256206/how-to-observable-map-collection-of-json-objects-with-different-property-names/42257564#42257564", "title": "How to Observable map collection of json objects with different property names", "body": "<p>You can map your data to your class like so:</p>\n\n<pre><code>reportsTo() {\n  return this._http.get('getCollection')\n    .map((response: Response) =&gt; response.json().map(res =&gt; new multiSelect(res.empID, res.formattedName)))\n    .catch(this.handleError);\n  }\n</code></pre>\n\n<p>That should do what you want. Hope this helps! :)</p>\n"}], "owner": {"reputation": 145, "user_id": 5508583, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/45716b31357d5bbf4688edf42db97fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5508583/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9847, "favorite_count": 1, "accepted_answer_id": 42257564, "answer_count": 3, "score": 8, "last_activity_date": 1487185253, "creation_date": 1487179514, "question_id": 42256206, "link": "https://stackoverflow.com/questions/42256206/how-to-observable-map-collection-of-json-objects-with-different-property-names", "title": "How to Observable map collection of json objects with different property names", "body": "<p>I have an json result which is a collection of objects. I need to cast them to a collection of custom objects which have different property names than the json result. Also not all result properties are needed in this instance.</p>\n\n<p><strong>JSON</strong></p>\n\n<pre><code>[{\"empID\":\"12345\", \"formattedName\":\"Simpson, Homer\"},\n {\"empID\":\"24680\", \"formattedName\":\"Simpson, Marge\"},\n {\"empID\":\"36912\", \"formattedName\":\"Simpson, Bart\"},\n {\"empID\":\"13579\", \"formattedName\":\"Simpson, Lisa\"},\n {\"empID\":\"13579\", \"formattedName\":\"Simpson, Lisa\"}]\n</code></pre>\n\n<p><strong>My Custom Ojbect</strong></p>\n\n<pre><code>export class multiSelect {\n   constructor(\n    public id: string,\n    public name: string\n  ) {  }\n}\n</code></pre>\n\n<p><strong>Service</strong></p>\n\n<pre><code>  reportsTo(): Observable&lt;multiSelect&gt; {\n    return this._http.get('getCollection')\n      .map((response: Response) =&gt; response.json())\n      .map(({empID, formattedName}) =&gt; new multiSelect(empID, formattedName))\n      .catch(this.handleError);\n  }\n</code></pre>\n\n<p>I would like for my service to return this</p>\n\n<pre><code>[{\"id\":\"12345\", \"name\":\"Simpson, Homer\"},\n {\"id\":\"24680\", \"name\":\"Simpson, Marge\"},\n {\"id\":\"36912\", \"name\":\"Simpson, Bart\"},\n {\"id\":\"13579\", \"name\":\"Simpson, Lisa\"},\n {\"id\":\"13579\", \"name\":\"Simpson, Lisa\"}]\n</code></pre>\n\n<p>Any help would be appreciated. Thanks.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 835, "user_id": 1795271, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0U8rf.jpg?s=128&g=1", "display_name": "theB3RV", "link": "https://stackoverflow.com/users/1795271/theb3rv"}, "is_accepted": true, "score": 2, "last_activity_date": 1487259844, "last_edit_date": 1487259844, "creation_date": 1487257673, "answer_id": 42277686, "question_id": 42255256, "link": "https://stackoverflow.com/questions/42255256/how-do-i-control-the-evaluation-order-of-angular-validators/42277686#42277686", "title": "How do I control the evaluation order of Angular validators?", "body": "<p>The following link explains that $validators fire after $parsers successfully complete. In the <code>Meet the $validators pipeline</code> section:</p>\n\n<p><a href=\"https://blog.thoughtram.io/angularjs/2015/01/11/exploring-angular-1.3-validators-pipeline.html\" rel=\"nofollow noreferrer\">https://blog.thoughtram.io/angularjs/2015/01/11/exploring-angular-1.3-validators-pipeline.html</a></p>\n\n<p>So instead of trying to get validators to fire before one another. I was able to write a parser that said (in plain terms) if the user enters a valid amount, store it in the modelValue, otherwise leave the modelValue blank.</p>\n\n<pre><code>ctrl.$parsers.push((viewValue: string) =&gt; {\n    var modelReturnValue = '';\n\n    if (ctrl.$isEmpty(viewValue)) { return modelReturnValue; }\n\n    if (this.isAmount(viewValue)) {\n        modelReturnValue = viewValue;\n    }\n\n    return modelReturnValue;\n});\n</code></pre>\n\n<p>Then in my validators instead of using viewValue I can use modelValue</p>\n\n<pre><code>ctrl.$validators.amountFormat = (modelValue: string, viewValue: string) =&gt; {\n    if (ctrl.$isEmpty(viewValue)) {\n        return true;\n    }\n\n    //format validator still has to check the viewValue because if the user doesnt type anything in we do not want to show a format error\n    return isAmount(viewValue);\n}\n</code></pre>\n\n<p>Optionally, the amountFormat validator could simply check if <code>viewValue != modelValue</code> since if the viewValue is a valid amount we are simply storing it as the modelValue.</p>\n\n<pre><code>ctrl.$validators.amountGreaterThanZero = (modelValue: string) =&gt; {\n    //Because we are returning an empty string if the value is not a valid amount, we can comfortably say that the modelValue will be empty\n    if (ctrl.$isEmpty(modelValue)) {  \n        return true;\n    }\n\n    return parseFloat(modelValue) &gt; 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 835, "user_id": 1795271, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0U8rf.jpg?s=128&g=1", "display_name": "theB3RV", "link": "https://stackoverflow.com/users/1795271/theb3rv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 1, "accepted_answer_id": 42277686, "answer_count": 1, "score": 2, "last_activity_date": 1487259844, "creation_date": 1487177041, "last_edit_date": 1487258686, "question_id": 42255256, "link": "https://stackoverflow.com/questions/42255256/how-do-i-control-the-evaluation-order-of-angular-validators", "title": "How do I control the evaluation order of Angular validators?", "body": "<p>Using Angular 1.5</p>\n\n<p>I understand that angular validators get added to a field when the directive gets fired and then when the value of the control changes all the validators fire. I have 3 different validations of an amount field (correct characters, max length, and cannot be zero). I do not need to evaluate for cannot be zero if the field isn't a valid amount, but instead of going through all the valid amount checks a second time I'd like to check <code>control.$validator.amountFormat.</code> </p>\n\n<p>Is there anyway to guarantee that the format validator that I built will occur before the greater than zero validator. I have many other scenarios than this.</p>\n\n<p>This is what I have:</p>\n\n<pre><code>ctrl.$validators.amountFormat = (modelValue: string, viewValue: string) =&gt; {\n    if (ctrl.$isEmpty(viewValue)) {\n        return true;\n    }\n\n    return isAmount(viewValue);\n}\n\nctrl.$validators.amountGreaterThanZero = (modelValue: string, viewValue: string) =&gt; {\n    if (!isAmount(viewValue)) {  //isAmount() is the function used to determine format\n        return true;\n    }\n\n    return parseFloat(viewValue) &gt; 0;\n}\n</code></pre>\n\n<p>This is what I'd like to have:</p>\n\n<pre><code>ctrl.$validators.amountGreaterThanZero = (modelValue: string, viewValue: string) =&gt; {\n    if (ctrl.$error.amountFormat) {\n        return true;\n    }\n\n    return parseFloat(viewValue) &gt; 0;\n}\n</code></pre>\n"}, {"tags": ["typescript", "knockout.js", "observable"], "answers": [{"comments": [{"owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "edited": false, "score": 0, "creation_date": 1487177258, "post_id": 42255239, "comment_id": 71668370, "body": "The problem with this approach is that it would tell the typescript compiler that all observables have the <code>setOriginalValue</code> method on them, which isn&#39;t actually the case. The method is only added if the observable is extended with <code>.extend({ trackChange: true })</code>."}, {"owner": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "reply_to_user": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "edited": false, "score": 0, "creation_date": 1487177498, "post_id": 42255239, "comment_id": 71668554, "body": "I&#39;m not sure if that can be accomplished at compile time. I would consider moving that logic into the method instead."}], "tags": [], "owner": {"reputation": 709, "user_id": 3379586, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0b42bad0ce56a144a5b74a9278f8802b?s=128&d=identicon&r=PG&f=1", "display_name": "Tumen_t", "link": "https://stackoverflow.com/users/3379586/tumen-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1487176985, "creation_date": 1487176985, "answer_id": 42255239, "question_id": 42254984, "link": "https://stackoverflow.com/questions/42254984/how-should-i-add-a-typescript-definition-for-a-knockout-extender-which-adds-meth/42255239#42255239", "title": "How should I add a typescript definition for a knockout extender which adds methods to an observable?", "body": "<p>Try the following</p>\n\n<pre><code>interface KnockoutObservable&lt;T&gt; extends Observable&lt;T&gt; {\n  setOriginalValue(param: string): void;\n}\n\nclass ProductTypeViewModel {\n    private name: KnockoutObservable&lt;string&gt;;\n\n    constructor() {\n        this.name.setOriginalValue('Initial value');\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4224, "user_id": 1922611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSD8r.jpg?s=128&g=1", "display_name": "Jason Spake", "link": "https://stackoverflow.com/users/1922611/jason-spake"}, "edited": false, "score": 0, "creation_date": 1487188949, "post_id": 42255736, "comment_id": 71675629, "body": "You could also get around it by accessing the property via indexer, like &quot;this.name[&quot;setOriginalValue&quot;](&#39;Initial value&#39;)&quot;"}, {"owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "reply_to_user": {"reputation": 4224, "user_id": 1922611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSD8r.jpg?s=128&g=1", "display_name": "Jason Spake", "link": "https://stackoverflow.com/users/1922611/jason-spake"}, "edited": false, "score": 0, "creation_date": 1487238175, "post_id": 42255736, "comment_id": 71696488, "body": "Thanks for the suggestion, but this didn&#39;t work for me. <code>this.name[&#39;setOriginalValue&#39;]</code> has a return type of <code>KnockoutBindingHandler</code> and trying to call it as a function gives the error <code>Value of type &#39;KnockoutBindingHandler&#39; is not callable</code>. I also get the error <code>Cannot invoke an expression whose type lacks a call signature.</code> (TS2349)"}, {"owner": {"reputation": 486, "user_id": 4193310, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b905e8ff3bc795b9bbb1695d7f0b2336?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas Rathikrindi", "link": "https://stackoverflow.com/users/4193310/srinivas-rathikrindi"}, "edited": false, "score": 0, "creation_date": 1533013012, "post_id": 42255736, "comment_id": 90176667, "body": "@Tim  i need to implement required extender in type script shown here <a href=\"http://knockoutjs.com/documentation/extenders.html\" rel=\"nofollow noreferrer\">knockoutjs.com/documentation/extenders.html</a> . im new to typescript could you give suggestions??"}, {"owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "reply_to_user": {"reputation": 486, "user_id": 4193310, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/b905e8ff3bc795b9bbb1695d7f0b2336?s=128&d=identicon&r=PG&f=1", "display_name": "Srinivas Rathikrindi", "link": "https://stackoverflow.com/users/4193310/srinivas-rathikrindi"}, "edited": false, "score": 0, "creation_date": 1533029504, "post_id": 42255736, "comment_id": 90184759, "body": "@SrinivasRa If you&#39;re new to typescript I&#39;d suggest working through a quick typescript tutorial first to get the hang of the language, then come back to your knockout extenders.   These comments aren&#39;t the ideal place to get help because not many people will see them, and they&#39;re really for comments related to this answer, but if you get stuck then you can always ask a new question to get help."}], "tags": [], "owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "is_accepted": true, "score": 0, "last_activity_date": 1516815337, "last_edit_date": 1516815337, "creation_date": 1487178129, "answer_id": 42255736, "question_id": 42254984, "link": "https://stackoverflow.com/questions/42254984/how-should-i-add-a-typescript-definition-for-a-knockout-extender-which-adds-meth/42255736#42255736", "title": "How should I add a typescript definition for a knockout extender which adds methods to an observable?", "body": "<p>I have been able to get around the typescript errors by manually casting the type of the observable. </p>\n\n<pre><code>name = ko.observable('').extend({\n    trackChange: true\n}) as ITrackChange&lt;string&gt;;\n</code></pre>\n\n<p>I would prefer to be able to register it somewhere so that I don't have to use this cast on every observable I extend, but doing it manually will suffice. If anyone comes up with a better solution I'll happily accept their answer. (If this is a poor approach please do comment to explain why, I'm always happy to learn!)</p>\n\n<p>Note that if the observable has multiple extenders, an intersection type can be used to show all relevant interfaces, as per <a href=\"https://stackoverflow.com/a/37668981/4051181\">this answer to a different question</a>:</p>\n\n<pre><code>name = ko.observable(false).extend({\n    trackChange: true,\n    logChange: true\n}) as ITrackChange&lt;boolean&gt; &amp; ILogChange&lt;boolean&gt;;\n</code></pre>\n"}], "owner": {"reputation": 4042, "user_id": 4051181, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/2bf24f11aef5e660e99a2bc0f39f9da6?s=128&d=identicon&r=PG", "display_name": "Tim", "link": "https://stackoverflow.com/users/4051181/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 42255736, "answer_count": 2, "score": 0, "last_activity_date": 1516815337, "creation_date": 1487176301, "last_edit_date": 1495541820, "question_id": 42254984, "link": "https://stackoverflow.com/questions/42254984/how-should-i-add-a-typescript-definition-for-a-knockout-extender-which-adds-meth", "title": "How should I add a typescript definition for a knockout extender which adds methods to an observable?", "body": "<p>I have a knockout extender which I want to use in a typescript file, and I can't work out how to declare it.</p>\n\n<p>The extender is written in javascript, and I want to use it from a typescript file (as the project is currently a mix of javascript and typescript). However, I haven't been able to work out how to add a definition for the extender. From <a href=\"https://stackoverflow.com/questions/15357750/knockout-typescript-extenders\">this question</a> I have added to the <code>KnockoutExtenders</code> interface (though I'm not sure if I've missed the point of that question) like so:</p>\n\n<pre><code>interface KnockoutExtenders {\n    trackChange&lt;T&gt;(target: T, track: boolean): ITrackChange&lt;T&gt;;\n}\n\ninterface ITrackChange&lt;T&gt; extends KnockoutObservable&lt;T&gt; {\n    setOriginalValue(startingValue: T): void;\n    resetToConfirmedValue(): void;\n    setConfirmedValue(): void;\n    numberChanges(): number;\n}\n</code></pre>\n\n<p>The usage for the extender is as follows:</p>\n\n<pre><code>class ProductTypeViewModel {\n    constructor() {\n        this.name.setOriginalValue('Initial value');\n    }\n\n    name = ko.observable('').extend({\n        trackChange: true\n    });\n}\n</code></pre>\n\n<p>I get a typescript build error on <code>this.name.setOriginalValue</code> because <code>Property 'setOriginalValue' does not exist on type 'KnockoutObservable&lt;string&gt;'</code>, which is of course true.</p>\n\n<p>How should I declare the extender so that typescript can recognise that the observable has been given new methods (i.e. it is no longer a <code>KnockoutObservable&lt;string&gt;</code> and is now an <code>ITrackChange&lt;string&gt;</code>)?</p>\n\n<p>(Not sure if an explanation of the extender is relevant, but here it is anyway:\nThe extender tracks changes to an observable and allows them to be accepted/cancelled. This allows an observable to be used to display a current value, and on an edit modal the same observable can be used to change the value, but the underlying value doesn't actually change until the user confirms their changes in the modal. If they cancel them, nothing is actually changed.)</p>\n"}, {"tags": ["angular", "typescript", "rendering"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487176101, "post_id": 42254829, "comment_id": 71667541, "body": "How are you building your application? What do your build scripts look like? Is your application based on any other project that we could reference? Your question is too broad without any more details."}, {"owner": {"reputation": 426, "user_id": 4551075, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e54647d78ebefcf434c9762cfb31827c?s=128&d=identicon&r=PG&f=1", "display_name": "Florin Simion", "link": "https://stackoverflow.com/users/4551075/florin-simion"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487176469, "post_id": 42254829, "comment_id": 71667769, "body": "Simply followed the installation guide provided by universal-cli and to build I run this command  <code>ung build --prod --env=prod</code> I have nothing added to this setup...just the blank app."}], "owner": {"reputation": 426, "user_id": 4551075, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e54647d78ebefcf434c9762cfb31827c?s=128&d=identicon&r=PG&f=1", "display_name": "Florin Simion", "link": "https://stackoverflow.com/users/4551075/florin-simion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487175942, "creation_date": 1487175942, "question_id": 42254829, "link": "https://stackoverflow.com/questions/42254829/universal-cli-build-for-production-and-upload-on-shared-server", "title": "universal-cli build for production and upload on shared server", "body": "<p>I'm building an app using universal-cli for Angular 2 in order to have server rendered view.</p>\n\n<p>Everything works well on localhost (I can see the source code), but when I try to build the project, I end up with two directories in dist folder (client and server) and no other files </p>\n\n<p>Now the question is how I need to upload the project on a shared server and still have the server rendered?! source code. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["typescript", "tsc"], "comments": [{"owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "edited": false, "score": 0, "creation_date": 1487241673, "post_id": 42254518, "comment_id": 71699208, "body": "I probably don&#39;t need to tell you, but I&#39;ll say it for the sake of people visiting this question in the future: <b>If the answer is <code>eval()</code>, you&#39;re most probably asking the wrong question</b>. Using <code>eval()</code> leads to security vulnerabilities and hard-to-track bugs. There&#39;s almost always a better solution."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 4132997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vL5Pe.jpg?s=128&g=1", "display_name": "Adam The Tux", "link": "https://stackoverflow.com/users/4132997/adam-the-tux"}, "edited": false, "score": 0, "creation_date": 1487238200, "post_id": 42254644, "comment_id": 71696504, "body": "Thanks, this solved our problem. However I wonder why the name became module_1 in runtime.  I created a simple project with two modules with Foo and EntryPoint. Foo exports a class named foo like this:  <code>class Foo { } export default Foo;</code>  EntryPpint looks like this:  <code>import Foo from &quot;Foo&quot;; export function run() {   var foo = new Foo(); }</code>  EntryPoint being compiled to a function having an argument for Foo named Foo_1. What is the purpose or cause of this behavior?"}, {"owner": {"reputation": 27, "user_id": 4132997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vL5Pe.jpg?s=128&g=1", "display_name": "Adam The Tux", "link": "https://stackoverflow.com/users/4132997/adam-the-tux"}, "edited": false, "score": 0, "creation_date": 1487240881, "post_id": 42254644, "comment_id": 71698600, "body": "Can you point to a documentation for further understanding this?"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "reply_to_user": {"reputation": 27, "user_id": 4132997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vL5Pe.jpg?s=128&g=1", "display_name": "Adam The Tux", "link": "https://stackoverflow.com/users/4132997/adam-the-tux"}, "edited": false, "score": 0, "creation_date": 1487241049, "post_id": 42254644, "comment_id": 71698741, "body": "Yep. The article from Mozilla, at the last line of my answer. ;)"}, {"owner": {"reputation": 27, "user_id": 4132997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vL5Pe.jpg?s=128&g=1", "display_name": "Adam The Tux", "link": "https://stackoverflow.com/users/4132997/adam-the-tux"}, "edited": false, "score": 0, "creation_date": 1487247377, "post_id": 42254644, "comment_id": 71703406, "body": "Thank you so much for this detailed answer :)"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": true, "score": 1, "last_activity_date": 1487241464, "last_edit_date": 1487241464, "creation_date": 1487175415, "answer_id": 42254644, "question_id": 42254518, "link": "https://stackoverflow.com/questions/42254518/typescript-name-generation-mechanism/42254644#42254644", "title": "Typescript name generation mechanism", "body": "<p>It's unsafe to use the name generated by the compiler. It could be changed.</p>\n\n<h1>A workaround</h1>\n\n<p>But you can do:</p>\n\n<pre><code>import myModule from 'module'\nconst module = myModule\n</code></pre>\n\n<p>The second line will be compiled to:</p>\n\n<pre><code>var module = module_1.default;\n</code></pre>\n\n<p>Then, you can use the variable <code>module</code>.</p>\n\n<h1>Why to use <code>export default</code> rather than <code>export =</code></h1>\n\n<p>In the near future, the use of <code>export default</code> will become the norm. This feature is designed by ECMAScript to replace the current CommonJS use case. A member <code>default</code> is just better, more generic.</p>\n\n<p>Here is an example. You need to export an object:</p>\n\n<pre><code>const myConfigObject = Object.freeze({\n    dbHost: \"\",\n    dbUser: \"\",\n    // ...\n})\nexport = myConfigObject\n</code></pre>\n\n<p>Then, you can import it:</p>\n\n<pre><code>import * as myConfigObject from \"./myConfigObject\"\n</code></pre>\n\n<p>Subsequently, you would like to export a small helper function <code>toDSN</code> that helps the module user to do something related to the exported object. How to do that? You could add the helper as a member of the configuration. But it wouldn't be elegant.</p>\n\n<p>Here is the ES6 way:</p>\n\n<pre><code>export default Object.freeze({\n    dbHost: \"\",\n    dbUser: \"\",\n    // ...\n})\nexport function toDSN(configObj) {\n    return // ...\n}\n</code></pre>\n\n<p>Then, you can import the default object:</p>\n\n<pre><code>import myConfigObject from \"./myConfigObject\"\n</code></pre>\n\n<p>... or import <code>toDSN</code>:</p>\n\n<pre><code>import { toDSN } from \"./myConfigObject\"\n</code></pre>\n\n<p>... or import both:</p>\n\n<pre><code>import myConfigObject, { toDSN } from \"./myConfigObject\"\n</code></pre>\n\n<p>The only small pitfall is for current Node.js user code: a member <code>default</code> must be used. When Node.js will implement ES6 modules, the pitfall won't exist anymore.</p>\n\n<h1>Why the TS compiler generates an intermediate variable for imports?</h1>\n\n<p>Because it is needed by the general case of ES6 modules. The following ES6 code:</p>\n\n<pre><code>import myConfigObject, { toDSN } from \"./myConfigObject\"\n</code></pre>\n\n<p>Here, two variables are imported. But a CommonJS (or AMD) <code>require</code> can only import a single variable. So, the compiler imports this single variable as an intermediate variable <code>myConfigObject_1</code>. Then, the object <code>myConfigObject</code> is available through <code>myConfigObject_1.default</code> and <code>toDSN</code> is available through <code>myConfigObject_1.toDSN</code>.</p>\n\n<p>I suggest <a href=\"https://hacks.mozilla.org/2015/08/es6-in-depth-modules/\" rel=\"nofollow noreferrer\">the article from Mozilla</a> for an introduction to ES6 modules.</p>\n"}], "owner": {"reputation": 27, "user_id": 4132997, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vL5Pe.jpg?s=128&g=1", "display_name": "Adam The Tux", "link": "https://stackoverflow.com/users/4132997/adam-the-tux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 42254644, "answer_count": 1, "score": 0, "last_activity_date": 1487241464, "creation_date": 1487175084, "question_id": 42254518, "link": "https://stackoverflow.com/questions/42254518/typescript-name-generation-mechanism", "title": "Typescript name generation mechanism", "body": "<p>We are trying to organize an older package. In order to this we started to change the original \"<code>export = module</code>\" form to \"<code>export default module</code>\". This change breaks an other part of the code which uses eval(), since the \"<code>import module from 'module'</code>\" is being compiled to \"module_1\". The code fed to eval() arrives from an external source, whereas we want to use module, not the \"module_1.default\" form.</p>\n\n<p>How this kind of naming convention actually works? Could you tell us the concept and how can we use the original module name instead of the compiled one? Or is there a function to get the actual name of the module after compilation?</p>\n\n<p>Thanks,\nAdam</p>\n"}, {"tags": ["generics", "typescript", "type-safety"], "answers": [{"tags": [], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "is_accepted": true, "score": 2, "last_activity_date": 1487175168, "creation_date": 1487175168, "answer_id": 42254547, "question_id": 42254406, "link": "https://stackoverflow.com/questions/42254406/typescript-generic-constraint-extends-other-generic-type/42254547#42254547", "title": "Typescript generic constraint extends other generic type", "body": "<p>Do you mean like this?</p>\n\n<pre><code>export class RestListService&lt;V extends Identifiable, T extends Array&lt;V&gt;&gt; {\n\n    //Here the Promise is type safe:\n    update(updateURL: string, savingInstance: Identifiable): Promise&lt;V&gt; { }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 2260, "user_id": 1545278, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5412f0f056da0549bb03f30946cce13e?s=128&d=identicon&r=PG", "display_name": "ingaham", "link": "https://stackoverflow.com/users/1545278/ingaham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 753, "favorite_count": 0, "accepted_answer_id": 42254547, "answer_count": 1, "score": 2, "last_activity_date": 1487175168, "creation_date": 1487174768, "question_id": 42254406, "link": "https://stackoverflow.com/questions/42254406/typescript-generic-constraint-extends-other-generic-type", "title": "Typescript generic constraint extends other generic type", "body": "<p>I would like to create a reusable network service component, which would be responsible for CRUD requests of an <code>Item</code>.</p>\n\n<p>Let\"s say my <code>CatService</code> want to request a list of <code>cats</code>, then it can have a <code>restService</code> instance and it can use it for list, create, update, delete...:</p>\n\n<pre><code>private restService:RestListService&lt;Cat[]&gt; = RestListService();\n...\nrestService.list(urlToGetCats).then(cats =&gt; console.log(listdata));\n...\nrestService.update(urlToUpdateACat, updatedCat);\n</code></pre>\n\n<p>I implemented this generic components, but it not safe enough. The class declaration looks like:</p>\n\n<pre><code>export class RestListService&lt;T extends Array&lt;Identifiable&gt;&gt; {\n\n    private dataSubject$: BehaviorSubject&lt;T&gt; = null;\n\n    list(url: string): Promise&lt;T&gt; { }\n\n    // PROBLEM: I cannot specify the `savingInstance` &amp; the returned Promise type: \n    update(updateURL: string, savingInstance: Identifiable): Promise&lt;Identifiable&gt; { }\n\n}\n</code></pre>\n\n<p>Ideally, I would do something like introduce a generic <code>V</code> as the type of the items in the array to make the array (and the whole class) more typesafe:</p>\n\n<pre><code>export class RestListService&lt;T extends Array&lt;V extends Identifiable&gt;&gt; {\n\n    //Here the Promise is type safe:\n    update(updateURL: string, savingInstance: Identifiable): Promise&lt;V&gt; { }\n\n}\n</code></pre>\n\n<p>But it's not permitted at the moment (as I see).</p>\n\n<p>Can I somehow solve the type safety in this situation?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["typescript", "openlayers"], "owner": {"reputation": 2319, "user_id": 485183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/nAFij.png?s=128&g=1", "display_name": "Corey Alix", "link": "https://stackoverflow.com/users/485183/corey-alix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487175618, "creation_date": 1487173782, "last_edit_date": 1487175618, "question_id": 42253982, "link": "https://stackoverflow.com/questions/42253982/tsc-why-does-introducing-a-module-declaration-effects-the-contents-of-the-outfi", "title": "TSC: Why does introducing a module declaration effects the contents of the outFile?", "body": "<p>tsconfig.json:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"amd\",\n        \"target\": \"es3\",\n        \"declaration\": false,\n        \"noImplicitAny\": false,\n        \"outFile\": \"built/index.js\",\n        \"sourceMap\": true,\n        \"moduleResolution\": \"node\",\n        \"baseUrl\": \"./node_modules\"\n    },\n    \"include\": [\n        \"index.ts\",\n        \"ol4-lab\",\n        \"typings/index.d.ts\"\n    ]\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>import Map from \"ol/map\";\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>define(\"ol4-lab/examples/index\", [\"require\", \"exports\", \"node_modules/ol/map\", \"node_modules/ol/layer/tile\", ...\n</code></pre>\n\n<p>But introducing this declaration effects the produced code:</p>\n\n<pre><code>declare module \"ol/map\" {\n    export default ol.Map;\n}\n</code></pre>\n\n<p>Now it produces:</p>\n\n<pre><code>define(\"ol4-lab/examples/index\", [\"require\", \"exports\", \"ol/map\", \"node_modules/ol/layer/tile\", \n</code></pre>\n\n<p>Notice the \"node_modules/\" was removed from \"ol/map\".</p>\n\n<p>QUESTION: Is this a defect or by design and how can it be avoided?</p>\n"}, {"tags": ["angular", "typescript"], "owner": {"reputation": 1765, "user_id": 1434301, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d8de9f3bd3f0ca6d0d32e63696c52bf3?s=128&d=identicon&r=PG", "display_name": "yantrab", "link": "https://stackoverflow.com/users/1434301/yantrab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 333, "favorite_count": 1, "answer_count": 0, "score": 7, "last_activity_date": 1487173741, "creation_date": 1487173741, "question_id": 42253971, "link": "https://stackoverflow.com/questions/42253971/check-if-exist-decorator-on-property", "title": "Check if exist decorator on property", "body": "<p>There is a way to check if property has some decorator?</p>\n\n<p>There is a way to do like this:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"name\" class=\"form-control\"\n       [required]='model.decorator[\"required\"]'      [minlength]='=model.decorator[\"minlength\"]?.value' maxlength=\"24\"\n       name=\"name\" [(ngModel)]=\"hero.name\"\n       #name=\"ngModel\" &gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1900, "user_id": 1555756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5eae5a4e898fa0099ed5a2ab494be3f2?s=128&d=identicon&r=PG", "display_name": "Pavel Staselun", "link": "https://stackoverflow.com/users/1555756/pavel-staselun"}, "edited": false, "score": 0, "creation_date": 1487173900, "post_id": 42253792, "comment_id": 71665731, "body": "<a href=\"https://developer.mozilla.org/en/docs/Web/HTML/Element/a\" rel=\"nofollow noreferrer\">Anchor element</a> has a <code>download</code> attribute."}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "reply_to_user": {"reputation": 1900, "user_id": 1555756, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5eae5a4e898fa0099ed5a2ab494be3f2?s=128&d=identicon&r=PG", "display_name": "Pavel Staselun", "link": "https://stackoverflow.com/users/1555756/pavel-staselun"}, "edited": false, "score": 0, "creation_date": 1487173973, "post_id": 42253792, "comment_id": 71665779, "body": "@PavelStaselun I am aware of the download attribute for &lt;a&gt; tags. But I don&#39;t see how that can be applied to my use case."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1487174494, "post_id": 42254140, "comment_id": 71666254, "body": "Thank you for the help! But, there are two problems that prevent this from completely fulfilling my need. It opens the selected mp3 in a new window, while I need the file to begin downloading when the user clicks the download button. Also, this does not open all selected recordings. It seems to only be opening the first one."}, {"owner": {"reputation": 539, "user_id": 4971033, "user_type": "registered", "profile_image": "https://graph.facebook.com/1546096265644240/picture?type=large", "display_name": "Vohidjon Karimjonov", "link": "https://stackoverflow.com/users/4971033/vohidjon-karimjonov"}, "reply_to_user": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1487176585, "post_id": 42254140, "comment_id": 71667845, "body": "Technically, you could create multiple anchor elements on fly and trigger click event on them. However, this is not reliable due to browser restrictions and it is not angular way. So, the right solution would be to create compressed file on backend."}, {"owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "edited": false, "score": 0, "creation_date": 1487176888, "post_id": 42254140, "comment_id": 71668081, "body": "Yeah, that doesn&#39;t seem like a very clean solution. I was hoping that I could do this in Angular, but it&#39;s looking more and more like it&#39;s simply not possible and I&#39;m going to need my back-end dev to create a zip of the selected files and a link to it that I can href to. :("}], "tags": [], "owner": {"reputation": 539, "user_id": 4971033, "user_type": "registered", "profile_image": "https://graph.facebook.com/1546096265644240/picture?type=large", "display_name": "Vohidjon Karimjonov", "link": "https://stackoverflow.com/users/4971033/vohidjon-karimjonov"}, "is_accepted": false, "score": 1, "last_activity_date": 1487174164, "creation_date": 1487174164, "answer_id": 42254140, "question_id": 42253792, "link": "https://stackoverflow.com/questions/42253792/how-to-trigger-a-file-download-with-angular-2/42254140#42254140", "title": "How to trigger a file download with Angular 2?", "body": "<p>Answering the question directly, you can open new tab for every link:</p>\n\n<pre><code>downloadSelected() {\n        let isSelected = this.recordingsList.filter(x =&gt; x.isSelected);\n        isSelected.forEach(x =&gt; window.open(x.audio, '_blank'));\n    }\n</code></pre>\n\n<p>However, this is not graceful in terms user experience with multiple tabs opening up wildly. So I suggest you to create special url (ex: example.com/bulk-download?ids=1,34,56) that creates zip folder with selected files and lets the user to download</p>\n"}], "owner": {"reputation": 157, "user_id": 6301616, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-XBhinvw_kBs/AAAAAAAAAAI/AAAAAAAABMQ/Qp1NNIBp7eA/photo.jpg?sz=128", "display_name": "Matt Gween", "link": "https://stackoverflow.com/users/6301616/matt-gween"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487174164, "creation_date": 1487173265, "question_id": 42253792, "link": "https://stackoverflow.com/questions/42253792/how-to-trigger-a-file-download-with-angular-2", "title": "How to trigger a file download with Angular 2?", "body": "<p>I am creating an application to browse and download recordings of phone calls.</p>\n\n<p>Part of this application is a table populated with an *ngFor to display the recordings and associated information. Each row on the table also has a checkbox used to mark the recording for download. I have gotten to the point where I can console.log the links to the test mp3s that I am using, but I cannot figure out how to actually trigger the downloading of said mp3s.</p>\n\n<p>I would really like to be able to do this using Typescript and without the use of jQuery.</p>\n\n<pre><code>&lt;table&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th&gt;\n                    &lt;input type=\"checkbox\" [checked]=\"isAllChecked()\" (change)=\"checkAll($event)\"&gt; &lt;/th&gt;\n                &lt;th&gt;Date&lt;/th&gt;\n                &lt;th&gt;Time&lt;/th&gt;\n                &lt;th&gt;Duration&lt;/th&gt;\n                &lt;th&gt;Calling Number&lt;/th&gt;\n                &lt;th&gt;Called Number&lt;/th&gt;\n                &lt;th&gt; &lt;/th&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n            &lt;tr *ngFor=\"let entry of recordingsList\"&gt;\n                &lt;td&gt;\n                    &lt;input type=\"checkbox\" [(ngModel)]=\"entry.isSelected\"&gt; &lt;/td&gt;\n                &lt;td&gt;{{entry.date}}&lt;/td&gt;\n                &lt;td&gt;{{entry.time}}&lt;/td&gt;\n                &lt;td&gt;{{entry.duration}}&lt;/td&gt;\n                &lt;td&gt;{{entry.callingNumber}}&lt;/td&gt;\n                &lt;td&gt;{{entry.calledNumber}}&lt;/td&gt;\n                &lt;td&gt;\n                    &lt;button (click)=\"openPlayer(entry)\" class=\"play-button\"&gt;&lt;i class=\"material-icons\"&gt;play_arrow&lt;/i&gt;&lt;/button&gt;\n                &lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/tbody&gt;\n    &lt;/table&gt;\n</code></pre>\n\n<p>-</p>\n\n<pre><code>// Download selected recordings\n\n    downloadSelected() {\n        let isSelected = this.recordingsList.filter(x =&gt; x.isSelected);\n        isSelected.forEach(x =&gt; console.log(x.audio));\n    }\n</code></pre>\n\n<p>-</p>\n\n<p>Any assistance is greatly appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "is_accepted": true, "score": 1, "last_activity_date": 1490100258, "last_edit_date": 1490100258, "creation_date": 1487169724, "answer_id": 42252438, "question_id": 42252207, "link": "https://stackoverflow.com/questions/42252207/how-to-implement-name-less-methods-in-typescript-interfaces/42252438#42252438", "title": "How to implement name-less methods in typescript interfaces?", "body": "<p>From the <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#function-types\" rel=\"nofollow noreferrer\">Typescript docs</a> :</p>\n\n<blockquote>\n  <p>Function Types\n  Interfaces are capable of describing the wide range of shapes that\n  JavaScript objects can take. In addition to describing an object with\n  properties, interfaces are also capable of describing function types.</p>\n  \n  <p>To describe a function type with an interface, we give the interface a\n  call signature. This is like a function declaration with only the\n  parameter list and return type given. Each parameter in the parameter\n  list requires both name and type.</p>\n\n<pre><code>interface SearchFunc {\n    (source: string, subString: string): boolean; \n}\n</code></pre>\n  \n  <p>Once defined, we can use this function type interface like we would other interfaces.\n  Here, we show how you can create a variable of a function type and\n  assign it a function value of the same type.</p>\n\n<pre><code>let mySearch: SearchFunc;\nmySearch = function(source: string, subString: string) {\n    let result = source.search(subString);\n    return result &gt; -1;\n}\n</code></pre>\n</blockquote>\n\n<p>So you can implement it with</p>\n\n\n\n<pre><code>let test: Force = function(alpha: number) {\n   //do stuff\n}\n//optional part\ntest.initialize = function(nodes: NodeDatum[]) {\n   //do other stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 42252438, "answer_count": 1, "score": 0, "last_activity_date": 1490100258, "creation_date": 1487169147, "question_id": 42252207, "link": "https://stackoverflow.com/questions/42252207/how-to-implement-name-less-methods-in-typescript-interfaces", "title": "How to implement name-less methods in typescript interfaces?", "body": "<p>Working on a graph visualization task, I found the following interface in the d3.js typings (upstream link <a href=\"https://github.com/tomwanzek/d3-v4-definitelytyped/blob/master/src/d3-force/index.d.ts\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>export interface Force&lt;NodeDatum extends SimulationNodeDatum, LinkDatum extends SimulationLinkDatum&lt;NodeDatum&gt; | undefined&gt; {\n    (alpha: number): void; // &lt;- ???\n    initialize?(nodes: NodeDatum[]): void;\n}\n</code></pre>\n\n<p>This <code>(alpha: number): void;</code> seems to me a little bit uncommon. My intuition from different OOP languages says as if it would be some like a C++ <a href=\"https://stackoverflow.com/questions/356950/c-functors-and-their-uses\">functor</a>. But I couldn't find the correct syntax to implement it.</p>\n\n<p>What is it?</p>\n\n<p>How can I implement this interface?</p>\n\n<p>How can I call this method?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "typescript2.0"], "answers": [{"tags": [], "owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "is_accepted": true, "score": 5, "last_activity_date": 1487173131, "last_edit_date": 1487173131, "creation_date": 1487169189, "answer_id": 42252218, "question_id": 42252193, "link": "https://stackoverflow.com/questions/42252193/in-typescript-2-how-can-i-take-single-property-from-array-of-objects-and-assign/42252218#42252218", "title": "In Typescript 2 how can I take single property from array of objects and assign to new array?", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array.map</a>, it creates a new array by processing each element.</p>\n\n<pre><code>this.myArray.map(o =&gt; o.myProperty1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1487173221, "post_id": 42252256, "comment_id": 71665202, "body": "&quot;<i>returns an array of properties, which you select</i>&quot; is not very accurate, it doesn&#39;t return an array of properties, it returns an array where each item has been mapped into any value you desire by returning it from the callback function."}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": false, "score": 6, "last_activity_date": 1487177217, "last_edit_date": 1487177217, "creation_date": 1487169309, "answer_id": 42252256, "question_id": 42252193, "link": "https://stackoverflow.com/questions/42252193/in-typescript-2-how-can-i-take-single-property-from-array-of-objects-and-assign/42252256#42252256", "title": "In Typescript 2 how can I take single property from array of objects and assign to new array?", "body": "<p>Use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">map()</a></strong> function.In this case it gets each item in your array, an returns an array of properties, which you select. In my case an array of <code>prop1</code> .</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arrays = [{prop1: \"one\", prop2: \"apple\"}, { prop1: \"two\", prop2: \"oranges\"}];\r\n\r\nconst newArr = arrays.map(item =&gt; item.prop1);\r\nconsole.log(newArr);\r\n   </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2384, "user_id": 3508762, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qgOsF.png?s=128&g=1", "display_name": "brinch", "link": "https://stackoverflow.com/users/3508762/brinch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1186, "favorite_count": 0, "accepted_answer_id": 42252218, "answer_count": 2, "score": 4, "last_activity_date": 1487177217, "creation_date": 1487169123, "last_edit_date": 1487169580, "question_id": 42252193, "link": "https://stackoverflow.com/questions/42252193/in-typescript-2-how-can-i-take-single-property-from-array-of-objects-and-assign", "title": "In Typescript 2 how can I take single property from array of objects and assign to new array?", "body": "<p>I have this \"model\" in TypeScript 2:</p>\n\n<pre><code>export class MyModel {\n   myProperty1: string;\n   myProperty2: string;\n   ...\n}\n</code></pre>\n\n<p>I also have this class:</p>\n\n<pre><code>// Leaving out the imports\n@Component\n...\nexport class MyClass {\n   private myArray: Array&lt;MyModel&gt;;\n\n   ngOnInit() {\n      this.myArray = ...// calls a service which returns a populated array of MyModel objects;\n   }\n\n   ngAfterViewInit() {\n      var newArray: Array&lt;string&gt; = this.myArray ??? // take only myProperty1 from myArray objects and assign to newArray\n   }\n}\n</code></pre>\n\n<p>How can I take only the myProperty1 in myArray and assign to my new string array?</p>\n\n<p>So if myArray contains two elements of type MyModel:</p>\n\n<pre><code>[{\"one\", \"apple\"}, {\"two\", \"oranges\"}]\n</code></pre>\n\n<p>Then newArray should end up containing these two elements of type string:</p>\n\n<pre><code>[\"one\", \"two\"]\n</code></pre>\n"}, {"tags": ["json", "angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487168159, "post_id": 42251726, "comment_id": 71661251, "body": "What does the class property need to have the same name?"}, {"owner": {"reputation": 4563, "user_id": 3239473, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/230bddb3fb24bf5217530620b93a0701?s=128&d=identicon&r=PG&f=1", "display_name": "Amarnath R Shenoy", "link": "https://stackoverflow.com/users/3239473/amarnath-r-shenoy"}, "edited": false, "score": 0, "creation_date": 1487168287, "post_id": 42251726, "comment_id": 71661335, "body": "Why dont you replace &#39;@type&#39; with &#39;type&#39; from your json using string operations and continue ur operations with the new json(string you got after replacement)"}, {"owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487168345, "post_id": 42251726, "comment_id": 71661373, "body": "@G&#252;nter Z&#246;chbauer, the name does not need to be the same."}, {"owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "reply_to_user": {"reputation": 4563, "user_id": 3239473, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/230bddb3fb24bf5217530620b93a0701?s=128&d=identicon&r=PG&f=1", "display_name": "Amarnath R Shenoy", "link": "https://stackoverflow.com/users/3239473/amarnath-r-shenoy"}, "edited": false, "score": 0, "creation_date": 1487168442, "post_id": 42251726, "comment_id": 71661445, "body": "@Amarnath R Shenoy this sounds like a good workaround, but it&#39;s not clean imho. I would like to find an Angular2 library that manages this stuff itself :D"}], "answers": [{"comments": [{"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1487168717, "post_id": 42251947, "comment_id": 71661635, "body": "My doubt is what will happen if you get an object that contains an array of MyClass, you have to do a .map to resolve that array?, just asking btw"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 1, "creation_date": 1487168816, "post_id": 42251947, "comment_id": 71661695, "body": "Yes, <code>map()</code> would do it"}, {"owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "edited": false, "score": 0, "creation_date": 1487169283, "post_id": 42251947, "comment_id": 71662072, "body": "@G&#252;nter Z&#246;chbauer I added some other info in the question."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487169777, "post_id": 42251947, "comment_id": 71662450, "body": "I would need to know what the JSON is exactly you get. Is it a single object like the one in your question or is it an array of such object or is it somehow nested deeper in the JSON?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487169978, "post_id": 42251947, "comment_id": 71662596, "body": "In what form do you want to get the data? You don&#39;t seem to deserialize anything"}, {"owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "edited": false, "score": 0, "creation_date": 1487170214, "post_id": 42251947, "comment_id": 71662802, "body": "My bad. In the extractData function I was using json() function. I replaced this with a new operator and it worked with your solution! Thank you!"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487170439, "post_id": 42251947, "comment_id": 71662973, "body": "Glad to hear :) Thanks for the feedback."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 3, "last_activity_date": 1487168518, "creation_date": 1487168518, "answer_id": 42251947, "question_id": 42251726, "link": "https://stackoverflow.com/questions/42251726/json-field-starting-with-deserialization-in-angular2/42251947#42251947", "title": "JSON (field starting with @) deserialization in Angular2", "body": "<pre><code>class MyClass {\n  String xtype;\n  String name;\n  String type;\n  String value;\n  constructor(json:any) {\n    this.xtype = json['@type'];\n    this.name = json.name;\n    this.type = json.type;\n    this.value = json.value;\n  }\n}\n</code></pre>\n\n\n\n<pre><code>var myClass = new MyClass(json);\n</code></pre>\n"}], "owner": {"reputation": 702, "user_id": 6212879, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83eb9b76551a18573818237109235925?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/6212879/nano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 0, "accepted_answer_id": 42251947, "answer_count": 1, "score": 1, "last_activity_date": 1487169193, "creation_date": 1487167954, "last_edit_date": 1487169193, "question_id": 42251726, "link": "https://stackoverflow.com/questions/42251726/json-field-starting-with-deserialization-in-angular2", "title": "JSON (field starting with @) deserialization in Angular2", "body": "<p>My scenario is really simple. I'm trying to deserialize a JSON inside an Angular2 application. The problem is that in the JSON there is a field that starts with @.</p>\n\n<p>Example:</p>\n\n<pre><code>  {\n    \"@type\": \".StringField\",\n    \"name\": \"description\",\n    \"type\": \"String\",\n    \"value\": \"A\"\n  }\n</code></pre>\n\n<p>So my question is, how do I write a class in Typescript with a field @type? Is there any way to do it in a neat way? I can't figure out a solution.</p>\n\n<p>@G\u00fcnter Z\u00f6chbauer</p>\n\n<p>Consider the following code:</p>\n\n<pre><code>  getCustomerProfile(): Observable&lt;CustomerMetaModel&gt; {\n    return this.http.get('/customer/metaModel')\n      .map(this.extractData)\n      .catch(this.handleError);\n  }\n\n  private extractData(res: Response): string {\n    let body = res.json();\n    return body || {};\n  }\n</code></pre>\n\n<p>I'm not doing the parsing by myself, but I let the function <code>getCustomerProfile()</code> do all the job. How do I manage this situation?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 399, "user_id": 5828372, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KTfiT.jpg?s=128&g=1", "display_name": "grzesiekmq", "link": "https://stackoverflow.com/users/5828372/grzesiekmq"}, "edited": false, "score": 0, "creation_date": 1487168245, "post_id": 42251674, "comment_id": 71661312, "body": "do you want c with a symbol <code>&#176;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1131, "user_id": 3481709, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/7VxTZ.gif?s=128&g=1", "display_name": "PersyJack", "link": "https://stackoverflow.com/users/3481709/persyjack"}, "is_accepted": true, "score": 7, "last_activity_date": 1487168260, "creation_date": 1487168260, "answer_id": 42251849, "question_id": 42251674, "link": "https://stackoverflow.com/questions/42251674/how-to-get-degree-symbol-in-a-string/42251849#42251849", "title": "How to get degree symbol in a string?", "body": "<p>Or use hexadecimal code \\xB0\nlike this:</p>\n\n<pre><code>const PASS_SPN_TXT = [ { name: 'PASS V \\xB0C' },\n    { name: 'PASS. T12 \\xB0C' }];\n</code></pre>\n"}], "owner": {"reputation": 357, "user_id": 7502117, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/20b1e3a345d1adc018141efc50ae1d41?s=128&d=identicon&r=PG&f=1", "display_name": "test", "link": "https://stackoverflow.com/users/7502117/test"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3479, "favorite_count": 0, "accepted_answer_id": 42251849, "answer_count": 1, "score": 0, "last_activity_date": 1487168260, "creation_date": 1487167835, "last_edit_date": 1487167868, "question_id": 42251674, "link": "https://stackoverflow.com/questions/42251674/how-to-get-degree-symbol-in-a-string", "title": "How to get degree symbol in a string?", "body": "<p>I have a constant declared in typescript file as mentioned below.</p>\n\n<pre><code>const PASS_SPN_TXT = [ { name: 'PASS V C' },\n    { name: 'PASS. T12 C' }];\n</code></pre>\n\n<p>In actual I want the names as PASS V degree symbol C and PASS.T12 degree symbol C.\nHow to get degree symbol in a string.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1487193399, "post_id": 42251568, "comment_id": 71678073, "body": "Your <code>finish</code> function looks like a nightmare to maintain :D I suggest you take a look at <a href=\"https://angular.io/docs/ts/latest/guide/forms.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/forms.html</a> You can use the Object created by the form to process the form data, instead of using  the huge amount of variables you are now using. That&#39;s my suggestion :)"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3294339, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/607e10c61efe8ef8c0fb7f15dbbc699e?s=128&d=identicon&r=PG&f=1", "display_name": "Campa", "link": "https://stackoverflow.com/users/3294339/campa"}, "edited": false, "score": 0, "creation_date": 1488504775, "post_id": 42316801, "comment_id": 72272154, "body": "Thank you very much! I had considerate that the model have a lot of behaviour and have to be consistent, so I made a class Person and put that objects into the model"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1487430237, "creation_date": 1487430237, "answer_id": 42316801, "question_id": 42251568, "link": "https://stackoverflow.com/questions/42251568/dynamic-controls-into-object-typescript/42316801#42316801", "title": "Dynamic controls into object typescript", "body": "<p>As mentioned in comment, I would suggest you use dynamic form, which would let you have a nice object to work with and extract values:</p>\n\n<p>So a simplified example based on your code, using <code>FormGroup</code>, <code>FormControl</code> and <code>FormArray</code>. You can also use validators to check that your form is valid.</p>\n\n<p>So start off with a FormGroup, where you add all your formcontrol. First import necessary things and inject FormBuilder in your constructor:</p>\n\n<pre><code>import { FormBuilder, FormGroup, Validators, FormArray } from '@angular/forms';\n\nconstructor(private fb: FormBuilder) {  }\n</code></pre>\n\n<p>Then build form</p>\n\n<pre><code>patientForm: FormGroup;\n\nngOnInit() {\n  this.patientForm = this.fb.group({\n    firstname: ['', [Validators.required]], // add different validators\n    lastname: ['']\n    children: this.fb.array([ // create an FormArray for children\n      this.initChildren()\n    ])\n  });\n}\n</code></pre>\n\n<p>Then build you <code>FormArray</code> for children and method for adding new child in your form:</p>\n\n<pre><code>initChildren() {\n  return this.fb.group({ // create a new group for children\n    firstname: ['']\n  })\n}\n\naddChild() { // adds a new formcontrol to your children formarray\n  const control = &lt;FormArray&gt;this.patientForm.controls['children'];\n  control.push(this.initChildren())\n}\n</code></pre>\n\n<p>Then create your actual form in the view:</p>\n\n<pre><code>&lt;form [formGroup]=\"patientForm\" (ngSubmit)=\"submit(patientForm.value)\"&gt; &lt;!-- add formgroup --&gt;\n  &lt;label&gt;Patient firstname: &lt;/label&gt;\n  &lt;input formControlName=\"firstname\"/&gt; &lt;!-- all fields need corresponding formcontrol name --&gt;\n  &lt;label&gt;Patient lastname: &lt;/label&gt;\n  &lt;input formControlName=\"lastname\"/&gt;\n\n  &lt;div formArrayName=\"children\"&gt; &lt;!-- Your formarray and below iterate the array --&gt;\n    &lt;div *ngFor=\"let child of patientForm.controls.children.controls; let i = index\" &gt;\n      &lt;div formGroupName=\"{{i}}\"&gt; &lt;!-- All children need unique formControl, here we used index --&gt;\n        &lt;label&gt;Child {{i+1}} firstname: &lt;/label&gt;\n        &lt;input formControlName=\"firstname\" /&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>This way you get a nice Object to work with and can get rid of all <code>[(ngModel)]</code> which makes your life so much easier ;)</p>\n\n<p>With the above code upon submit you would end up with an Object like so:</p>\n\n<pre><code>{\n  \"firstname\": \"\",\n  \"lastname\": \"\",\n  \"children\": [\n    {\n      \"firstname\": \"\"\n    }\n  ]\n}\n</code></pre>\n\n<p>This <a href=\"https://scotch.io/tutorials/how-to-deal-with-different-form-controls-in-angular-2\" rel=\"nofollow noreferrer\"><strong>link</strong></a> could be helpful, this link basically shows the example I have created for you, but with further explanations, and I also created a <a href=\"http://plnkr.co/edit/FF6X94J9QveqaHCU5Cpq?p=preview\" rel=\"nofollow noreferrer\"><strong>Plunker</strong></a> for you with the above code! :)</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 33, "user_id": 3294339, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/607e10c61efe8ef8c0fb7f15dbbc699e?s=128&d=identicon&r=PG&f=1", "display_name": "Campa", "link": "https://stackoverflow.com/users/3294339/campa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487430237, "creation_date": 1487167524, "last_edit_date": 1487170413, "question_id": 42251568, "link": "https://stackoverflow.com/questions/42251568/dynamic-controls-into-object-typescript", "title": "Dynamic controls into object typescript", "body": "<p>I got a form, which must be filled by a main person, and he can also fill the form for his spouse and children. \n<a href=\"https://i.stack.imgur.com/VRmnd.jpg\" rel=\"nofollow noreferrer\">(Picture of the form)</a>\nIt was working fine until the children requirement. </p>\n\n<p>I made this model:</p>\n\n<pre><code>export class RequestForm{\n\n model = {\n    main: { apellido: \"\", nombre: \"\", documento: \"\", sexo: \"\", fechaNacimiento: \"\", localidad: \"\", calle: 0, piso: 0, depto: 0, edificio: 0, telefono: \"\", celular: \"\", mail: \"\" },\n    spouse: { apellido: \"\", nombre: \"\", documento: \"\", sexo: \"\", fechaNacimiento: \"\", localidad: \"\", calle: 0, piso: 0, depto: 0, edificio: 0, telefono: \"\", celular: \"\", mail: \"\" },\n    children: [{ apellido: \"\", nombre: \"\", documento: \"\", sexo: \"\", fechaNacimiento: \"\", localidad: \"\", calle: 0, piso: 0, depto: 0, edificio: 0, telefono: \"\", celular: \"\", mail: \"\" }]\n};\n</code></pre>\n\n<p>then, when Finish Form button is clicked, this function is called: </p>\n\n<pre><code> finish() {\n    this.model.main= {\n        apellido: this.titularApellido.value, nombre: this.titularNombre.value, documento: this.titularDocumento.value\n        , sexo: this.titularSexo.value, fechaNacimiento: this.titularFechaNacimiento.value, localidad: this.titularLocalidad.value\n        , calle: this.titularCalle.value, piso: this.titularPiso.value, depto: this.titularDepto.value, edificio: this.titularEdificio.value\n        , telefono: this.titularTelefono.value, celular: this.titularCelular.value, mail: this.titularMail.value\n    };\n\n    this.model.spouse = {\n        apellido: this.conyugeApellido.value, nombre: this.conyugeNombre.value, documento: this.conyugeDocumento.value\n        , sexo: this.conyugeSexo.value, fechaNacimiento: this.conyugeFechaNacimiento.value, localidad: this.titularLocalidad.value\n        , calle: this.titularCalle.value, piso: this.titularPiso.value, depto: this.titularDepto.value, edificio: this.titularEdificio.value\n        , telefono: this.conyugeTelefono.value, celular: this.conyugeCelular.value, mail: this.conyugeMail.value\n    };       \n\n    this.persistPerson(this.model.main);\n    this.persistPerson(this.model.spouse);\n}\n</code></pre>\n\n<p>I dont really know how to make the children controls dynamically and then be binded in the finish function. \nThere is an input property ngModel but when I add it, the control breaks.</p>\n\n<p>Thanks</p>\n\n<p>PD. I made this to repeat the controls, but I cant set an id to the controls, so I lose the reference. When I did this, children was an array, and + and - button pushes and remove objects from the array</p>\n\n<pre><code>                        &lt;ul style=\"list-style-type:decimal\"&gt;\n                            &lt;li *ngFor=\"let child of children\" style=\"display:list-item\"&gt;\n\n                                &lt;table&gt;\n                                    &lt;tr&gt;\n                                        &lt;td&gt;\n                                            &lt;md-input textoLabel=\"Apellido\" type=\"text\" [disabled]=\"esModoVisualizacion()\"\n                                                      placeholder=\"Apellido\"\n                                                      style=\"width:130px;\"&gt;&lt;/md-input&gt;\n                                        &lt;/td&gt;\n                                        &lt;td&gt;\n                                            &lt;md-input ..\n                                              .\n                                              .\n                                &lt;/table&gt;\n                            &lt;/li&gt;\n                        &lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1487169561, "creation_date": 1487169561, "answer_id": 42252365, "question_id": 42251445, "link": "https://stackoverflow.com/questions/42251445/angular2-build-refreshing-with-valid-sub-urls-shows-servers-404-page/42252365#42252365", "title": "Angular2 build - Refreshing with valid sub urls shows servers 404 page", "body": "<p>You need to use <code>HashLocationStrategy</code></p>\n\n<pre><code>import {LocationStrategy, HashLocationStrategy} from '@angular/common';\n\n@NgModule({\n    ...\n    providers: [{provide: LocationStrategy, useClass: HashLocationStrategy}],\n    ...\n})\nexport class AppModule {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 822, "user_id": 1838451, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Leyvx.jpg?s=128&g=1", "display_name": "Ambuj Khanna", "link": "https://stackoverflow.com/users/1838451/ambuj-khanna"}, "edited": false, "score": 0, "creation_date": 1565675630, "post_id": 42252859, "comment_id": 101415941, "body": "any idea about how to setup on JBOSS server?"}], "tags": [], "owner": {"reputation": 1, "user_id": 7501219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6757f2c94610a4c35cfc7e420ca7c59?s=128&d=identicon&r=PG&f=1", "display_name": "anderfug", "link": "https://stackoverflow.com/users/7501219/anderfug"}, "is_accepted": false, "score": 0, "last_activity_date": 1487170753, "creation_date": 1487170753, "answer_id": 42252859, "question_id": 42251445, "link": "https://stackoverflow.com/questions/42251445/angular2-build-refreshing-with-valid-sub-urls-shows-servers-404-page/42252859#42252859", "title": "Angular2 build - Refreshing with valid sub urls shows servers 404 page", "body": "<p>To make refreshing and navigation work correctly with the default PathLocationStrategy, you must configure your server to forward <a href=\"http://localhost/users\" rel=\"nofollow noreferrer\">http://localhost/users</a> to <a href=\"http://localhost/index.html\" rel=\"nofollow noreferrer\">http://localhost/index.html</a>. How to do this depends on what server you are using.</p>\n"}], "owner": {"reputation": 4165, "user_id": 2571212, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wBd1X.jpg?s=128&g=1", "display_name": "Sanjay Kumar N S", "link": "https://stackoverflow.com/users/2571212/sanjay-kumar-n-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 42252365, "answer_count": 2, "score": 0, "last_activity_date": 1487170753, "creation_date": 1487167222, "question_id": 42251445, "link": "https://stackoverflow.com/questions/42251445/angular2-build-refreshing-with-valid-sub-urls-shows-servers-404-page", "title": "Angular2 build - Refreshing with valid sub urls shows servers 404 page", "body": "<p>Angular2(With typescript) is build and whenever trying to refresh with valid suburl, it shows server's 404 page. But in the non builded versions it is working fine.</p>\n\n<p>Is there anything want to do extra to get this work.</p>\n\n<p>Suppose my domain is : <a href=\"http://localhost\" rel=\"nofollow noreferrer\">http://localhost</a>\nand suppose I reached here: suburl: <a href=\"http://localhost/users\" rel=\"nofollow noreferrer\">http://localhost/users</a>\nand if I am refreshing the page, it show servers 404 page (Shows the server - apache or ngnix corresponding 404 page)</p>\n"}, {"tags": ["typescript", "webpack", "typescript-typings", "ts-loader", "jquery-globalize"], "comments": [{"owner": {"reputation": 19420, "user_id": 147915, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/p2ayf.jpg?s=128&g=1", "display_name": "redconservatory", "link": "https://stackoverflow.com/users/147915/redconservatory"}, "edited": false, "score": 0, "creation_date": 1487218357, "post_id": 42251426, "comment_id": 71686505, "body": "1. index.ts is not a module, refer to: <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/modules.html</a> and 2. If you are manipulating the DOM you probably should do it inside of a DOMContentLoaded event listener <a href=\"https://developer.mozilla.org/en/docs/Web/Events/DOMContentLoaded\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/Events/DOMContentLoaded</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "edited": false, "score": 0, "creation_date": 1487921452, "post_id": 42409458, "comment_id": 72010725, "body": "I did this: npm install --save-dev @types/globalize (see question above). Do I have to skip the save-dev?"}, {"owner": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "reply_to_user": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "edited": false, "score": 0, "creation_date": 1488194467, "post_id": 42409458, "comment_id": 72108392, "body": "You should using npm install --save instead of --save-dev, because you&#39;ll using these lib in production anyway. You can refer here <a href=\"http://stackoverflow.com/questions/22891211/what-is-difference-between-save-and-save-dev\" title=\"what is difference between save and save dev\">stackoverflow.com/questions/22891211/&hellip;</a>"}, {"owner": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "reply_to_user": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "edited": false, "score": 0, "creation_date": 1488194484, "post_id": 42409458, "comment_id": 72108410, "body": "However I think it&#39;s not the issue cause your problem"}, {"owner": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "edited": false, "score": 0, "creation_date": 1488464639, "post_id": 42409458, "comment_id": 72250285, "body": "Thank you for the detailed explanation! The application now compiles with webpack, however I am getting &quot;Uncaught TypeError: Cannot read property &#39;currencyFormatter&#39; of undefined&quot; in the browser. Are you using webpack 2 or webpack 1? Do you maybe have your working project somehwere on github so I could compare?"}, {"owner": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "reply_to_user": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "edited": false, "score": 0, "creation_date": 1488520439, "post_id": 42409458, "comment_id": 72276637, "body": "I&#39;ll try make a demo on github this weekend."}, {"owner": {"reputation": 168, "user_id": 8446222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badfafc7ac73c821ca0a7703747a9565?s=128&d=identicon&r=PG&f=1", "display_name": "adkstar", "link": "https://stackoverflow.com/users/8446222/adkstar"}, "edited": false, "score": 0, "creation_date": 1517468286, "post_id": 42409458, "comment_id": 84109738, "body": "@AlenLiang have you write that demo program you said you&#39;ll write on github  ?"}], "tags": [], "owner": {"reputation": 409, "user_id": 2368322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kzp4.png?s=128&g=1", "display_name": "Alen Liang", "link": "https://stackoverflow.com/users/2368322/alen-liang"}, "is_accepted": false, "score": 1, "last_activity_date": 1488194324, "last_edit_date": 1488194324, "creation_date": 1487834760, "answer_id": 42409458, "question_id": 42251426, "link": "https://stackoverflow.com/questions/42251426/using-globalize-with-webpack-2-and-typescript/42409458#42409458", "title": "Using globalize with webpack 2 and typescript", "body": "<p>I did the following steps to use globalize.js in typescript project.</p>\n\n<p>1.\nInstall the library</p>\n\n<pre><code>npm install globalize\nnpm install @types/globalize\n</code></pre>\n\n<p>2.\nCreate a file to export module\n(globalize.d.ts)</p>\n\n<pre><code>/// &lt;reference types='globalize' /&gt;\n\n/* tslint:disable */\n\ndeclare namespace globalize { }\ndeclare module 'globalize' {\n    export default Globalize;\n}\n</code></pre>\n\n<p>3.\nUse in my main file</p>\n\n<pre><code>import globalize from 'globalize';\n\n// Formatter creation.\nvar formatter = globalize.numberFormatter();\n\n// Formatter execution (roughly 10x faster than above).\nformatter( Math.PI );\n</code></pre>\n\n<p>However, I never success download the cldr lib, so my browser has errors like:</p>\n\n<pre><code>./src/client/index.tsx\n(5,23): error TS2306: File '/Users/alen/Workspace/Qunhe/core/node_modules/@types/globalize/index.d.ts' is not a module.\n./~/globalize/dist/globalize.js\nModule not found: Error: Cannot resolve module 'cldr' in /Users/alen/Workspace/Qunhe/core/node_modules/globalize/dist\n@ ./~/globalize/dist/globalize.js 22:2-25:14\n./~/globalize/dist/globalize.js\n</code></pre>\n\n<p>I'm not sure it's the globalize.js issue or cldr.js issue, still trying.\nSorry I made the early reply other than solve your question.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>To solve the error above, I use the webpack plugin to help me pack data, and install the cldr-data. and it did works.</p>\n\n<ol>\n<li>Add globalize-webpack-plugin \n<a href=\"https://github.com/rxaviers/globalize-webpack-plugin\" rel=\"nofollow noreferrer\">https://github.com/rxaviers/globalize-webpack-plugin</a></li>\n</ol>\n\n<p>and use in webpack.config.js as demo illustrate here.\n<a href=\"https://github.com/globalizejs/globalize/tree/master/examples/app-npm-webpack\" rel=\"nofollow noreferrer\">https://github.com/globalizejs/globalize/tree/master/examples/app-npm-webpack</a></p>\n\n<ol start=\"2\">\n<li>Install the cldr-data library, because this issue \n<a href=\"https://github.com/globalizejs/globalize/issues/548\" rel=\"nofollow noreferrer\">https://github.com/globalizejs/globalize/issues/548</a></li>\n</ol>\n\n<p>I have to install using</p>\n\n<pre><code>npm install globalize cldr-data\n</code></pre>\n\n<p>And back in browser, every thing works well.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VaW7Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VaW7Z.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 4865391, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VQa_W3d6MSE/AAAAAAAAAAI/AAAAAAAAASU/pBQTJLvSDtQ/photo.jpg?sz=128", "display_name": "Brice Miclo", "link": "https://stackoverflow.com/users/4865391/brice-miclo"}, "is_accepted": false, "score": 2, "last_activity_date": 1500387326, "creation_date": 1500387326, "answer_id": 45169371, "question_id": 42251426, "link": "https://stackoverflow.com/questions/42251426/using-globalize-with-webpack-2-and-typescript/45169371#45169371", "title": "Using globalize with webpack 2 and typescript", "body": "<p>I finally got it to work:</p>\n\n<ol>\n<li><p>In your <code>globalize.d.ts</code> file:</p>\n\n<pre><code> declare module 'globalize' {\n     export = Globalize;\n }\n</code></pre></li>\n<li><p>In your webpack config:</p>\n\n<pre><code>plugins: [\n    new webpack.ProvidePlugin({\n        Globalize: \"globalize\"\n    })\n]\n</code></pre></li>\n<li><p>And finally, when you import <code>globalize</code> in all your <code>.ts</code> files:</p>\n\n<pre><code>import * as Globalize from 'globalize';\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2765, "user_id": 3049015, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/989d23aa4839953a9ec3e72d888deafa?s=128&d=identicon&r=PG&f=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/3049015/dominic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3978, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1500387326, "creation_date": 1487167164, "last_edit_date": 1495539973, "question_id": 42251426, "link": "https://stackoverflow.com/questions/42251426/using-globalize-with-webpack-2-and-typescript", "title": "Using globalize with webpack 2 and typescript", "body": "<p>I am trying to use the <a href=\"https://github.com/globalizejs/globalize\" rel=\"nofollow noreferrer\">Globalize library</a> with <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack 2</a> in a TypeScript project.\nThe typescript/Webpack 2 setup already works, however, when importing and accessing Globalize, I am getting the following error message when running webpack:</p>\n\n<pre><code>ERROR in ./.tmp-globalize-webpack/C--Projects-webpack2-testing-app-index.ts\n(1,1): error TS2304: Cannot find name 'module'.\n\nERROR in ./app/index.ts\n(2,23): error TS7016: Could not find a declaration file for module 'globalize'. 'C:\\Projects\\webpack2-testing\\node_modules\\globalize\\dist\\node-main.js' implicitly has an 'any' type.\n</code></pre>\n\n<p>So I tried installing the globalize types:</p>\n\n<pre><code>npm install --save-dev @types/globalize\n</code></pre>\n\n<p>Now I get the following error:</p>\n\n<pre><code>ERROR in ./.tmp-globalize-webpack/C--Projects-webpack2-testing-app-index.ts\n(1,1): error TS2304: Cannot find name 'module'.\n\nERROR in ./app/index.ts\n(2,23): error TS2306: File 'C:/Projects/webpack2-testing/node_modules/@types/globalize/index.d.ts' is not a module.\n</code></pre>\n\n<p>Unfotunately this is all very new to me. Don't know if I should check webpack or typings or globalize or typescript...</p>\n\n<p>This is my package.json:</p>\n\n<pre><code>{\n\"name\": \"webpack2-testing\",\n  \"version\": \"1.0.0\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"scripts\": {\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n    \"build\": \"webpack --config webpack-config.js\"\n  },\n  \"devDependencies\": {\n    \"cldr-data\": \"^30.0.4\",\n    \"globalize\": \"^1.2.2\",\n    \"globalize-webpack-plugin\": \"^0.3.10\",\n    \"html-webpack-plugin\": \"^2.28.0\",\n    \"ts-loader\": \"^2.0.0\",\n    \"typescript\": \"^2.1.6\",\n    \"webpack\": \"^2.2.1\"\n  }\n}\n</code></pre>\n\n<p>and the index.ts:</p>\n\n<pre><code>import Globalize from \"globalize\";\n\nfunction component () {\n  let element = document.createElement('div');\n\n  let currencyFormatter = Globalize.currencyFormatter( \"USD\" );\n  element.innerHTML = currencyFormatter( 69900 );\n  return element;\n}\n\ndocument.body.appendChild(component());\n</code></pre>\n\n<p>The complete project files (including webpack-config) are available at <a href=\"https://github.com/dominic-simplan/webpack2-testing\" rel=\"nofollow noreferrer\">this github repository</a>.</p>\n\n<p>Note: This question arose while trying to solve a <a href=\"https://stackoverflow.com/questions/42208273/module-loader-for-typescript-application-running-locally-no-webserver-used\">question I asked previously</a>. If this works, it could also resolve my previous question.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 19345, "user_id": 1055279, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/13ac92a723e01487c1e6052d2c318353?s=128&d=identicon&r=PG", "display_name": "realtebo", "link": "https://stackoverflow.com/users/1055279/realtebo"}, "edited": false, "score": 1, "creation_date": 1487168512, "post_id": 42251652, "comment_id": 71661483, "body": "Thanks...was so simple"}], "tags": [], "owner": {"reputation": 69022, "user_id": 367138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L9Q9v.png?s=128&g=1", "display_name": "Oleksandr T.", "link": "https://stackoverflow.com/users/367138/oleksandr-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1487168574, "last_edit_date": 1487168574, "creation_date": 1487167787, "answer_id": 42251652, "question_id": 42251404, "link": "https://stackoverflow.com/questions/42251404/react-how-to-define-and-call-a-function-from-a-custom-class/42251652#42251652", "title": "React: how to define and call a function from a custom class?", "body": "<p><code>getProducts</code> is instance method., you should create instance of <code>ApiClient</code> and then call method</p>\n\n<pre><code>new ApiClient().getProducts()\n</code></pre>\n"}], "owner": {"reputation": 19345, "user_id": 1055279, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/13ac92a723e01487c1e6052d2c318353?s=128&d=identicon&r=PG", "display_name": "realtebo", "link": "https://stackoverflow.com/users/1055279/realtebo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 42251652, "answer_count": 1, "score": 1, "last_activity_date": 1487168574, "creation_date": 1487167108, "last_edit_date": 1487167522, "question_id": 42251404, "link": "https://stackoverflow.com/questions/42251404/react-how-to-define-and-call-a-function-from-a-custom-class", "title": "React: how to define and call a function from a custom class?", "body": "<p>My 'custom class' (not extending something other)</p>\n\n<pre><code>import Axios from \"../node_modules/axios\";\n\nclass ApiClient {\n\n  getProducts(success_callback) {\n    Axios.get('/api/timers')\n      .then(this.checkStatus)\n      .then(this.parseJSON)\n      .then(success_callback)\n  }\n\n  checkStatus(response) {\n    if (response.status &gt;= 200 &amp;&amp; response.status &lt; 300) {\n      return response;\n    } else {\n      const error = new Error(`HTTP Error ${response.statusText}`);\n      error.status = response.statusText;\n      error.response = response;\n      console.log(error);\n      throw error;\n    }\n  }\n\n  parseJSON(response) {\n    return response.json();\n  }\n\n}\n\n\nexport default ApiClient;\n</code></pre>\n\n<p>I imported in the app.js file using </p>\n\n<pre><code>import ApiClient from \"./ApiClient\";\n</code></pre>\n\n<p>And try to call it using </p>\n\n<pre><code>  componentDidMount() {\n    ApiClient.getProducts( (response) =&gt; {\n      this.setState({ products: response.products});\n    });\n\n  }\n</code></pre>\n\n<p>The error is at runtime, when browser try to call <code>ApiClient.getProducts()</code></p>\n\n<p>This is the error text, from Chrome: </p>\n\n<pre><code>Uncaught TypeError: _ApiClient2.default.getProducts is not a function\n</code></pre>\n\n<p>Please, be patient with me, I'm totally newbie with React</p>\n"}, {"tags": ["angular", "typescript", "nativescript"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487166951, "post_id": 42251249, "comment_id": 71660386, "body": "Post the contents of <code>ActivityIndicator</code> component"}, {"owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487166988, "post_id": 42251249, "comment_id": 71660406, "body": "is a nativescript component:"}, {"owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487166991, "post_id": 42251249, "comment_id": 71660408, "body": "<a href=\"https://docs.nativescript.org/cookbook/ui/activity-indicator\" rel=\"nofollow noreferrer\">docs.nativescript.org/cookbook/ui/activity-indicator</a>"}, {"owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487167104, "post_id": 42251249, "comment_id": 71660494, "body": "when busy = true, the activatorindicator is visible, when busy = false, the activiatorindicator is hidden."}, {"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487167105, "post_id": 42251249, "comment_id": 71660496, "body": "can you able to create plnkr"}, {"owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "reply_to_user": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1487167239, "post_id": 42251249, "comment_id": 71660592, "body": "the component is indifferent, i&#39;ve tried with label and text components, but the variable still not changing."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487167304, "post_id": 42251249, "comment_id": 71660634, "body": "Please post the code as text instead of as screenshot. Screenshots are great, but only in addition to the source as text"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1487167414, "post_id": 42251249, "comment_id": 71660720, "body": "I suspect the <code>userService</code> somehow executes code outside Angulars zone and therefore Angular doesn&#39;t run change detection. You can check by injecting <code>constructor(private cdRef:ChangeDetectorRef){}</code> and then run <code>this.cdRef.detectChanges();</code> after the line with the red arrow."}, {"owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1487167774, "post_id": 42251249, "comment_id": 71660994, "body": "@G&#252;nterZ&#246;chbauer thanks a lot, i identified the problem and updated my question with the answer. Your comment help me a lot."}], "owner": {"reputation": 561, "user_id": 2912563, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0be41b108f1970631eff02915f12e636?s=128&d=identicon&r=PG", "display_name": "Douglas Franco", "link": "https://stackoverflow.com/users/2912563/douglas-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487167867, "creation_date": 1487166691, "last_edit_date": 1487167867, "question_id": 42251249, "link": "https://stackoverflow.com/questions/42251249/not-binding-variable-changes-inside-callback-angular-2-nativescrip", "title": "Not binding variable changes inside callback Angular 2 + NativeScrip", "body": "<p>I have an ActivityIndicator that shows/hide when login occurs.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zxBb9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxBb9.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem that when i change the value of isAuthenticating inside a callback function, the value seems not to been changed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hVm7z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVm7z.png\" alt=\"enter image description here\"></a></p>\n\n<p>The alert dialog appear normaly, but the ActivitatorIndicator still visible.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The problem was on my component declaration.\n<a href=\"https://i.stack.imgur.com/s4iwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s4iwl.png\" alt=\"enter image description here\"></a></p>\n\n<p>solved by removing the line</p>\n\n<pre><code>changeDetection: ChangeDetectionStrategy.OnPush,\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "module", "require"], "answers": [{"tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 1, "last_activity_date": 1487166261, "creation_date": 1487166261, "answer_id": 42251088, "question_id": 42250682, "link": "https://stackoverflow.com/questions/42250682/import-and-require-used-together/42251088#42251088", "title": "Import and require used together", "body": "<p>The statements <code>import {foo} = require(\"/foo\");</code> and <code>var foo = require(\"/foo\");</code> are not equivalent. Say <code>/foo</code> is a file with the following contents:</p>\n\n<pre><code>export default { bar: 'bar' };\nexport const foo = 'hello';\n</code></pre>\n\n<p>With the first statement your variable <code>foo</code> will be <code>'hello'</code>. The <code>{}</code> is an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">object destcrution</a>. In the other case you will receive the default exports, which means <code>foo</code> will be the object <code>{ bar: 'bar' }</code>.</p>\n\n<p>MDN has some good explanation: <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Statements/import\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Statements/import</a></p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1487166330, "creation_date": 1487166330, "answer_id": 42251115, "question_id": 42250682, "link": "https://stackoverflow.com/questions/42250682/import-and-require-used-together/42251115#42251115", "title": "Import and require used together", "body": "<p>Checkout <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"nofollow noreferrer\">the export = and import = require()</a> part of the docs:</p>\n\n<blockquote>\n  <p>When importing a module using <code>export =</code>, TypeScript-specific <code>import let\n  = require(\"module\")</code> must be used to import the module</p>\n</blockquote>\n\n<p>You can write it like this as well:</p>\n\n<pre><code>import foo = require(\"/foo\");\n</code></pre>\n"}], "owner": {"reputation": 1147, "user_id": 752636, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2044aca09f80cc7ec7979d6e50dd2237?s=128&d=identicon&r=PG", "display_name": "Nemus", "link": "https://stackoverflow.com/users/752636/nemus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1487166330, "creation_date": 1487165165, "question_id": 42250682, "link": "https://stackoverflow.com/questions/42250682/import-and-require-used-together", "title": "Import and require used together", "body": "<p>Recently I come into this:</p>\n\n<pre><code>import {foo} = require(\"/foo\");\n</code></pre>\n\n<p>This sound me really weird, as I usually use require like this:</p>\n\n<pre><code>var foo = require(\"/foo\");\n</code></pre>\n\n<p>Or import like this:</p>\n\n<pre><code>import {foo} from \"/foo\";\n</code></pre>\n\n<p>So, what's the point of that?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "sweetalert2"], "comments": [{"owner": {"reputation": 392, "user_id": 4092201, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a979f77b59ce57a1ed35847d86caa0af?s=128&d=identicon&r=PG", "display_name": "Daredzik", "link": "https://stackoverflow.com/users/4092201/daredzik"}, "edited": false, "score": 0, "creation_date": 1487164138, "post_id": 42250180, "comment_id": 71658404, "body": "file is in node_modules ??"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 4309690, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000526816148/picture?type=large", "display_name": "Lehel", "link": "https://stackoverflow.com/users/4309690/lehel"}, "is_accepted": false, "score": 0, "last_activity_date": 1487164393, "creation_date": 1487164393, "answer_id": 42250405, "question_id": 42250180, "link": "https://stackoverflow.com/questions/42250180/importing-sweetalert2-module-returns-404-in-angular2/42250405#42250405", "title": "Importing sweetalert2 module returns 404 in angular2", "body": "<p>Your import should be <code>import swal from 'sweetalert2';</code> or <code>import * as swal from 'sweetalert2;</code></p>\n"}, {"comments": [{"owner": {"reputation": 144, "user_id": 3005115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3fc2795ed79e8fd9f9378f1f9e40b1d?s=128&d=identicon&r=PG&f=1", "display_name": "d.bayo", "link": "https://stackoverflow.com/users/3005115/d-bayo"}, "edited": false, "score": 0, "creation_date": 1487164976, "post_id": 42250446, "comment_id": 71658949, "body": "When i try using the swal trigger i get the same error again  swal({                     title: &#39;Error!&#39;,                     text: &#39;Do you want to continue&#39;,                     type: &#39;error&#39;,                     confirmButtonText: &#39;Cool&#39;                 })"}, {"owner": {"reputation": 123, "user_id": 4309690, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000526816148/picture?type=large", "display_name": "Lehel", "link": "https://stackoverflow.com/users/4309690/lehel"}, "edited": false, "score": 0, "creation_date": 1487165289, "post_id": 42250446, "comment_id": 71659196, "body": "Did you add import &#39;sweetalert2&#39;; in your app or shared module?"}, {"owner": {"reputation": 144, "user_id": 3005115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3fc2795ed79e8fd9f9378f1f9e40b1d?s=128&d=identicon&r=PG&f=1", "display_name": "d.bayo", "link": "https://stackoverflow.com/users/3005115/d-bayo"}, "edited": false, "score": 0, "creation_date": 1487171062, "post_id": 42250446, "comment_id": 71663428, "body": "Yes i did, import works, but when i includel the swal() function, it throws up the erro"}, {"owner": {"reputation": 177, "user_id": 2133340, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1881e954aa01c10d42287c551a9aa03b?s=128&d=identicon&r=PG", "display_name": "Tarun", "link": "https://stackoverflow.com/users/2133340/tarun"}, "edited": false, "score": 0, "creation_date": 1510408474, "post_id": 42250446, "comment_id": 81427295, "body": "import swal from &#39;sweetalert2/src/sweetalert2.all.js&#39;;   But it&#39;s breaking angular2 build"}], "tags": [], "owner": {"reputation": 43429, "user_id": 1331425, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/50779fa75a83e96b50172486cb38ab92?s=128&d=identicon&r=PG", "display_name": "Limon Monte", "link": "https://stackoverflow.com/users/1331425/limon-monte"}, "is_accepted": false, "score": 0, "last_activity_date": 1537645801, "last_edit_date": 1537645801, "creation_date": 1487164516, "answer_id": 42250446, "question_id": 42250180, "link": "https://stackoverflow.com/questions/42250180/importing-sweetalert2-module-returns-404-in-angular2/42250446#42250446", "title": "Importing sweetalert2 module returns 404 in angular2", "body": "<p>As per <a href=\"https://sweetalert2.github.io\" rel=\"nofollow noreferrer\">SweetAlert2 documentation</a>, in case of ES6 Modules or TypeScript you should import SweetAlert2 like this:</p>\n\n<pre><code>import swal from 'sweetalert2' \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 4203081, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Ikj1Q.jpg?s=128&g=1", "display_name": "SerefAltindal", "link": "https://stackoverflow.com/users/4203081/serefaltindal"}, "is_accepted": false, "score": 0, "last_activity_date": 1516955924, "creation_date": 1516955924, "answer_id": 48458009, "question_id": 42250180, "link": "https://stackoverflow.com/questions/42250180/importing-sweetalert2-module-returns-404-in-angular2/48458009#48458009", "title": "Importing sweetalert2 module returns 404 in angular2", "body": "<ol>\n<li>Initialize the plugin by referencing the necessary files:</li>\n</ol>\n\n<blockquote>\n<pre><code>&lt;script src=\"sweetalert2.all.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/core-s/2.4.1/core.js\"&gt;&lt;/script&gt;\n</code></pre>\n</blockquote>\n\n<p>You can also include the stylesheet separately if desired:</p>\n\n<pre><code>&gt; &lt;script src=\"sweetalert2.min.js\"&gt;&lt;/script&gt; &lt;link rel=\"stylesheet\"\n&gt; href=\"sweetalert2.min.css\"&gt;\n</code></pre>\n\n<p>Or</p>\n\n<p>// ES6 Modules or TypeScript</p>\n\n<blockquote>\n  <p>import swal from 'sweetalert2'</p>\n</blockquote>\n\n<p>// CommonJS</p>\n\n<blockquote>\n  <p>const swal = require('sweetalert2')</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>Call the sweetAlert2-function after the page has loaded</li>\n</ol>\n\n<blockquote>\n<pre><code>swal({\n  title: 'Error!',\n  text: 'Do you want to continue',\n  type: 'error',\n  confirmButtonText: 'Cool'\n})\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 144, "user_id": 3005115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b3fc2795ed79e8fd9f9378f1f9e40b1d?s=128&d=identicon&r=PG&f=1", "display_name": "d.bayo", "link": "https://stackoverflow.com/users/3005115/d-bayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1093, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1537645801, "creation_date": 1487163744, "last_edit_date": 1492768441, "question_id": 42250180, "link": "https://stackoverflow.com/questions/42250180/importing-sweetalert2-module-returns-404-in-angular2", "title": "Importing sweetalert2 module returns 404 in angular2", "body": "<p>Been following the online documentation and trying to use the sweetalert2 plugin in my angular2 application.</p>\n\n<p>Unfortunately after i include this </p>\n\n<pre><code>import { default as swal } from 'sweetalert2';\n</code></pre>\n\n<p>I get a 404 error saying sweetalert not found</p>\n\n<p><a href=\"https://i.stack.imgur.com/ixLjI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ixLjI.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1487165662, "post_id": 42250288, "comment_id": 71659454, "body": "I get an error.... TypeError: _this.subscribe is not a function... check my updated post"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1487165987, "post_id": 42250288, "comment_id": 71659696, "body": "Maybe the problem is in the form model declaration. Can you show the code for the form <b>model</b> (i.e. what you have in your class)?"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "edited": false, "score": 0, "creation_date": 1487167413, "post_id": 42250288, "comment_id": 71660719, "body": "You have an error where you declare the validators. See my updated answer."}], "tags": [], "owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "is_accepted": true, "score": 11, "last_activity_date": 1487167366, "last_edit_date": 1487167366, "creation_date": 1487164023, "answer_id": 42250288, "question_id": 42249764, "link": "https://stackoverflow.com/questions/42249764/cannot-read-property-touched-of-undefined/42250288#42250288", "title": "Cannot read property &#39;touched&#39; of undefined", "body": "<p>The complete path to the field is:</p>\n\n<pre><code>formName.get('custdetails.email')\n</code></pre>\n\n<p>So you need to access:</p>\n\n<pre><code>formName.get('custdetails.email').touched\n</code></pre>\n\n<p>Also, you have an error in the form model. When multiple validators are applied to the same field, they should be wrapped inside an array:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>// Replace that:\nemail: [\"\", Validators.required, ValidationHelper.emailValidator]\n// With this:\n// Notice the additional [ ] around the validators\nemail: [\"\", [Validators.required, ValidationHelper.emailValidator]]\n</code></pre>\n\n<p>By passing the two validators as separate parameters, Angular interprets the second validator <code>emailValidator</code> as an <strong>async validator</strong> and it tries to subscribe to it. Hence the error message \"_this.subscribe is not a function\".</p>\n"}, {"comments": [{"owner": {"reputation": 2549, "user_id": 823321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrwbB.png?s=128&g=1", "display_name": "s\u0250un\u0131\u0254\u05df\u0250q\u0250p", "link": "https://stackoverflow.com/users/823321/s%c9%90un%c4%b1%c9%94%d7%9f%c9%90q%c9%90p"}, "edited": false, "score": 2, "creation_date": 1528098741, "post_id": 50675356, "comment_id": 88361038, "body": "(This post does not seem to provide a <a href=\"https://stackoverflow.com/help/how-to-answer\">quality answer</a> to the question. Please either edit your answer and show the solution with source code, or just post it as a comment to the question)."}], "tags": [], "owner": {"reputation": 359, "user_id": 8235053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8092558bc6474f1fb9c0b54c9e37ff0d?s=128&d=identicon&r=PG&f=1", "display_name": "hemant rao", "link": "https://stackoverflow.com/users/8235053/hemant-rao"}, "is_accepted": false, "score": -2, "last_activity_date": 1528097282, "creation_date": 1528097282, "answer_id": 50675356, "question_id": 42249764, "link": "https://stackoverflow.com/questions/42249764/cannot-read-property-touched-of-undefined/50675356#50675356", "title": "Cannot read property &#39;touched&#39; of undefined", "body": "<p>you need write ngClass in this input feild error will be solve.</p>\n\n<p></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7948846, "user_type": "registered", "profile_image": "https://graph.facebook.com/1488646771197284/picture?type=large", "display_name": "Prabhakar Neelu", "link": "https://stackoverflow.com/users/7948846/prabhakar-neelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1596527714, "creation_date": 1596527714, "answer_id": 63242441, "question_id": 42249764, "link": "https://stackoverflow.com/questions/42249764/cannot-read-property-touched-of-undefined/63242441#63242441", "title": "Cannot read property &#39;touched&#39; of undefined", "body": "<p>add in TS file</p>\n<p><code>get email(){ return this.formName.get('custdetails.email'); }</code></p>\n<p>add validation in html</p>\n<p><code>*ngIf=&quot;email.touched&quot;</code></p>\n"}], "owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24096, "favorite_count": 2, "accepted_answer_id": 42250288, "answer_count": 3, "score": 7, "last_activity_date": 1596527714, "creation_date": 1487162576, "last_edit_date": 1487166291, "question_id": 42249764, "link": "https://stackoverflow.com/questions/42249764/cannot-read-property-touched-of-undefined", "title": "Cannot read property &#39;touched&#39; of undefined", "body": "<p>Why am i getting this error <strong>Cannot read property touched of undefined</strong>? </p>\n\n<p>Why is it not able to read <code>formName.controls['email'].touched</code> but its able to read <code>formName.get('custDetails').touched</code></p>\n\n<pre><code>&lt;form [formGroup]=\"formName\"&gt;\n&lt;fieldset formGroupName=\"custdetails\"&gt;\n    &lt;div class=\"form-group\" [ngClass]=\"{'has-error': formName.controls['email'].touched \n                &amp;&amp; formName.controls['email'].hasError('invalidEmailAddress')}\"&gt;\n        &lt;label class=\"control-label\"&gt;Email&lt;/label&gt;\n        &lt;input type=\"text\" class=\"form-control\" \n                formControlName=\"email\" name=\"email\" required /&gt;\n    &lt;/div&gt;\n&lt;/fieldset&gt;        \n\n&lt;/form&gt;\n</code></pre>\n\n<p>When we use <code>formName.get('custdetails.email').touched</code> ... i get the below erro</p>\n\n<blockquote>\n  <p>TypeError: _this.subscribe is not a function\n      at eval (<a href=\"http://localhost:3000/node_modules/rxjs/operator/toPromise.js:68:15\" rel=\"noreferrer\">http://localhost:3000/node_modules/rxjs/operator/toPromise.js:68:15</a>)\n      at new ZoneAwarePromise (<a href=\"http://localhost:3000/node_modules/zone.js/dist/zone.js:551:29\" rel=\"noreferrer\">http://localhost:3000/node_modules/zone.js/dist/zone.js:551:29</a>)\n      at Object.toPromise (<a href=\"http://localhost:3000/node_modules/rxjs/operator/toPromise.js:66:12\" rel=\"noreferrer\">http://localhost:3000/node_modules/rxjs/operator/toPromise.js:66:12</a>)\n      at _convertToPromise (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:541:73\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:541:73</a>)\n      at Array.map (native)\n      at FormControl.eval [as asyncValidator] (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:530:101\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:530:101</a>)\n      at FormControl.AbstractControl._runAsyncValidator (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2670:62\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2670:62</a>)\n      at FormControl.AbstractControl.updateValueAndValidity (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2630:26\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2630:26</a>)\n      at FormControl.setValue (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2988:18\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:2988:18</a>)\n      at DefaultValueAccessor.eval [as onChange] (<a href=\"http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:1658:21\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/forms//bundles/forms.umd.js:1658:21</a>)\n      at Wrapper_DefaultValueAccessor.handleEvent (/InternalFormsSharedModule/DefaultValueAccessor/wrapper.ngfactory.js:29:34)\n      at CompiledTemplate.proxyViewClass.View_ReactiveFormComponentFive0.handleEvent_36\n  (/AppModule/ReactiveFormComponentFive/component.ngfactory.js:717:45)\n      at CompiledTemplate.proxyViewClass.eval (<a href=\"http://localhost:3000/node_modules/@angular/core//bundles/core.umd.js:12397:41\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/core//bundles/core.umd.js:12397:41</a>)\n      at HTMLInputElement.eval (<a href=\"http://localhost:3000/node_modules/@angular/platform-browser//bundles/platform-browser.umd.js:3224:57\" rel=\"noreferrer\">http://localhost:3000/node_modules/@angular/platform-browser//bundles/platform-browser.umd.js:3224:57</a>)\n      at ZoneDelegate.invokeTask (<a href=\"http://localhost:3000/node_modules/zone.js/dist/zone.js:275:35\" rel=\"noreferrer\">http://localhost:3000/node_modules/zone.js/dist/zone.js:275:35</a>)</p>\n</blockquote>\n\n<p>Below is how my form is construct:</p>\n\n<pre><code>ngOnInit() {\n    this.formName = this.fb.group({\n       name: [\"\", [Validators.required]], \n       custdetails: this.fb.group({\n            email: [\"\", Validators.required, ValidationHelper.emailValidator],\n            confirm: [\"\", Validators.required]\n        }, {\n            validator: ValidationHelper.emailMatcher\n        })\n\n    })\n}\n</code></pre>\n\n<p>And my email validator:</p>\n\n<pre><code>static emailValidator = (control: AbstractControl) : {[key: string]: boolean} =&gt;{\n        // RFC 2822 compliant regex\n        if (control.value.match(/[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/)) {\n            return null;\n        } else {\n            return { 'invalidEmailAddress': true };\n        }\n    }\n</code></pre>\n"}, {"tags": ["http", "angular", "typescript", "sessionstorage"], "comments": [{"owner": {"reputation": 471, "user_id": 2642410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huqvI.jpg?s=128&g=1", "display_name": "oto lolua", "link": "https://stackoverflow.com/users/2642410/oto-lolua"}, "edited": false, "score": 0, "creation_date": 1487170857, "post_id": 42249290, "comment_id": 71663270, "body": "New tab has its own sessionStorage and it should not come anything from previous tab. I think http request gives you new sid, which is set in new tab&#39;s sessionStorage and you think it comes from previous tab."}, {"owner": {"reputation": 245, "user_id": 6899869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-_2d7WZfZhC4/AAAAAAAAAAI/AAAAAAAAF9k/H6O_LzfqfLE/photo.jpg?sz=128", "display_name": "Erik Kr&#225;nicz", "link": "https://stackoverflow.com/users/6899869/erik-kr%c3%a1nicz"}, "reply_to_user": {"reputation": 471, "user_id": 2642410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huqvI.jpg?s=128&g=1", "display_name": "oto lolua", "link": "https://stackoverflow.com/users/2642410/oto-lolua"}, "edited": false, "score": 1, "creation_date": 1487233005, "post_id": 42249290, "comment_id": 71692993, "body": "I know that <code>sessionStorage</code> does not come from previous tab. That is the actual problem: I need the <code>sessionStorage</code> from the previous tab! I don&#39;t want to store the session variables in cookies, but in the <code>sessionStorage</code>, but it is not available on the other tab..."}, {"owner": {"reputation": 471, "user_id": 2642410, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huqvI.jpg?s=128&g=1", "display_name": "oto lolua", "link": "https://stackoverflow.com/users/2642410/oto-lolua"}, "edited": false, "score": 0, "creation_date": 1487234048, "post_id": 42249290, "comment_id": 71693633, "body": "There is good explanation: <a href=\"http://security.stackexchange.com/questions/80727/best-place-to-store-authentication-tokens-client-side\" title=\"best place to store authentication tokens client side\">security.stackexchange.com/questions/80727/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 583, "user_id": 2656795, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mcin9.jpg?s=128&g=1", "display_name": "Chaitanya Chauhan", "link": "https://stackoverflow.com/users/2656795/chaitanya-chauhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1511184724, "creation_date": 1511184724, "answer_id": 47393255, "question_id": 42249290, "link": "https://stackoverflow.com/questions/42249290/sharing-sessionstorage-between-tabs-in-angular-2-then-immediately-using-it/47393255#47393255", "title": "Sharing sessionStorage between tabs in Angular 2 then immediately using it?", "body": "<p>keep the code from <a href=\"https://stackoverflow.com/questions/20325763/browser-sessionstorage-share-between-tabs\">here</a> mentioned in correct answer in your index.html of your angular web-app. It worked for me.</p>\n"}], "owner": {"reputation": 245, "user_id": 6899869, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-_2d7WZfZhC4/AAAAAAAAAAI/AAAAAAAAF9k/H6O_LzfqfLE/photo.jpg?sz=128", "display_name": "Erik Kr&#225;nicz", "link": "https://stackoverflow.com/users/6899869/erik-kr%c3%a1nicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7121, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1511184724, "creation_date": 1487161300, "last_edit_date": 1495540926, "question_id": 42249290, "link": "https://stackoverflow.com/questions/42249290/sharing-sessionstorage-between-tabs-in-angular-2-then-immediately-using-it", "title": "Sharing sessionStorage between tabs in Angular 2 then immediately using it?", "body": "<p><strong>What I already know:</strong></p>\n\n<ul>\n<li>I can share <code>sessionStorage</code> between browser tabs using the solution\nfound here:<br>\n<a href=\"https://stackoverflow.com/questions/20325763/browser-sessionstorage-share-between-tabs?answertab=active#tab-top\">browser sessionStorage. share between tabs?</a></li>\n</ul>\n\n<p><strong>What I use:</strong></p>\n\n<ul>\n<li><strong>Angular 2</strong> (v2.4.4) with <strong>TypeScript</strong> on <strong>Angular CLI</strong> base</li>\n</ul>\n\n<p><strong>The actual problem:</strong></p>\n\n<p>The script (which shares the <code>sessionStorage</code> between tabs) runs within Angular before HTTP requests, but when the page creates a HTTP request, it uses a session id (which is sent to the server in order to identify the session) and <strong>the session id should be taken from <code>sessionStorage</code>, but it is not there yet</strong>.</p>\n\n<p>When I open the browser's debugger console (on the new tab), the <code>sessionStorage</code> is there. And because of this when I reload this new tab everything works just fine. <strong>But the problem is that the <code>sessionStorage</code> was set <em>after</em> HTTP request already tried to use.</strong></p>\n\n<p>The above linked solution truly runs before HTTP calls, but the <em>event</em> calls happen after HTTP calls. I think about especial <code>sessionStorage_transfer</code> from the above linked code:</p>\n\n<pre><code>window.addEventListener(\"storage\", sessionStorage_transfer, false);\n</code></pre>\n\n<p>I store the session id like this:</p>\n\n<pre><code>get sid(): string {\n    return sessionStorage.getItem('user.sid') || '';\n}\nset sid(value: string) {\n    sessionStorage.setItem('user.sid', value);\n}\n</code></pre>\n\n<p>So eventually <code>sid</code> receives value but just after the HTTP call already tried to use it despite the fact that the script (which shares <code>sessionStorage</code>) started to run before any HTTP call.</p>\n\n<p>(If there is no solution then I will use session cookie for <code>sid</code> alone but I hope someone knows a solution for this. Perhaps a Promise, Observable, Subject, anything?)</p>\n\n<p>Thank you for your solutions! :-)</p>\n"}, {"tags": ["google-maps", "angular", "typescript"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487178601, "post_id": 42249051, "comment_id": 71669395, "body": "What are the styles you&#39;re trying to apply? The <a href=\"https://angular-maps.com/docs/getting-started.html\" rel=\"nofollow noreferrer\">getting started guide</a> just says to use <code>styleUrls: [&#39;app.component.css&#39;]</code> in the component declaration. Your example doesn&#39;t provide detail about the style you&#39;re trying to apply."}, {"owner": {"reputation": 727, "user_id": 4200410, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/D59bV.jpg?s=128&g=1", "display_name": "Carsten H", "link": "https://stackoverflow.com/users/4200410/carsten-h"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1487178787, "post_id": 42249051, "comment_id": 71669523, "body": "in the components css I only add styles to the component itself, like width and height of the map. What I would like to achieve ist to apply the JASON formatted style for example form <a href=\"https://mapstyle.withgoogle.com/\" rel=\"nofollow noreferrer\">mapstyle.withgoogle.com</a> and from my undestanding this needs to be added via the api(?)"}], "answers": [{"comments": [{"owner": {"reputation": 614, "user_id": 6826372, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-68hU4fK0fPM/AAAAAAAAAAI/AAAAAAAAFOA/G3UMUf35OGQ/photo.jpg?sz=128", "display_name": "Sandip Solanki", "link": "https://stackoverflow.com/users/6826372/sandip-solanki"}, "edited": false, "score": 0, "creation_date": 1506168965, "post_id": 42256278, "comment_id": 79717445, "body": "hello i want change label test color how it posible  ?"}], "tags": [], "owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "is_accepted": false, "score": 8, "last_activity_date": 1492795898, "last_edit_date": 1492795898, "creation_date": 1487179726, "answer_id": 42256278, "question_id": 42249051, "link": "https://stackoverflow.com/questions/42249051/adding-style-to-angular2-google-maps/42256278#42256278", "title": "Adding style to Angular2 Google Maps", "body": "<p>The docs aren't very useful, so I had to dig into the code for the component.</p>\n\n<pre><code>&lt;sebm-google-map [latitude]=\"lat\" [longitude]=\"lng\" [styles]=\"styles\"&gt;\n  &lt;sebm-google-map-marker [latitude]=\"lat\" [longitude]=\"lng\"&gt;&lt;/sebm-google-map-marker&gt;\n&lt;/sebm-google-map&gt;\n</code></pre>\n\n<p>Just adding <code>styles</code> should work, where <code>styles</code> is of the type <code>MapTypeStyle[]</code> which is <a href=\"https://github.com/SebastianM/angular2-google-maps/blob/500dce0d41f23dab9c78b8fa18674ed92e164072/src/core/services/google-maps-types.ts#L152\" rel=\"noreferrer\">declared here</a>.</p>\n\n<p>Try defining <code>styles</code> as something like:</p>\n\n<pre><code>let styles = [{\n  \"featureType\": \"water\",\n  \"stylers\": [{\n      \"color\": \"#ff0000\"\n    }]\n}];\n</code></pre>\n\n<p>That <em>should</em> make your water red, but I haven't tested this myself yet, I'm just basing it off the code.</p>\n"}, {"comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 1, "creation_date": 1487263268, "post_id": 42267515, "comment_id": 71716078, "body": "The custom style is of the <code>MapTypeStyle</code> type. At the top of your document if you add <code>import { MapTypeStyle } from &#39;angular2-google-maps;</code> you can then change the line <code>public customStyle = [</code> to <code>public customStyle: MapTypeStyle = [</code>, which ensures the custom style is of the correct type. It&#39;s not essential though, since it&#39;s working for you."}], "tags": [], "owner": {"reputation": 727, "user_id": 4200410, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/D59bV.jpg?s=128&g=1", "display_name": "Carsten H", "link": "https://stackoverflow.com/users/4200410/carsten-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1487230141, "creation_date": 1487230141, "answer_id": 42267515, "question_id": 42249051, "link": "https://stackoverflow.com/questions/42249051/adding-style-to-angular2-google-maps/42267515#42267515", "title": "Adding style to Angular2 Google Maps", "body": "<p>My final working solution. But I still don\u00b4t understand where and how MapTypeStyle Interface is used. </p>\n\n<p>html adding <code>[styles]=\"customStyle\"</code> </p>\n\n<pre><code>&lt;sebm-google-map [latitude]=\"lat\" [longitude]=\"lng\" [styles]=\"customStyle\" &gt;\n  &lt;sebm-google-map-marker [latitude]=\"lat\" [longitude]=\"lng\" &gt;&lt;/sebm-google-map-marker&gt;\n&lt;/sebm-google-map&gt;\n</code></pre>\n\n<p>component (excerpt) adding <code>public customStyle = [{ \"JSON style declaration goes here\" }]</code></p>\n\n<pre><code>export class GmapComponent implements OnInit {\n\n  public customStyle = [\n    {\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"hue\": \"#ff4400\"\n        },\n        {\n          \"saturation\": -100\n        },\n        {\n          \"lightness\": -4\n        },\n        {\n          \"gamma\": 0.72\n        }\n      ]\n    },\n    {\n      \"featureType\": \"road\",\n      \"elementType\": \"labels.icon\"\n    },\n    {\n      \"featureType\": \"landscape.man_made\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"hue\": \"#0077ff\"\n        },\n        {\n          \"gamma\": 3.1\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"stylers\": [\n        {\n          \"hue\": \"#00ccff\"\n        },\n        {\n          \"gamma\": 0.44\n        },\n        {\n          \"saturation\": -33\n        }\n      ]\n    },\n    {\n      \"featureType\": \"poi.park\",\n      \"stylers\": [\n        {\n          \"hue\": \"#44ff00\"\n        },\n        {\n          \"saturation\": -23\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"labels.text.fill\",\n      \"stylers\": [\n        {\n          \"hue\": \"#007fff\"\n        },\n        {\n          \"gamma\": 0.77\n        },\n        {\n          \"saturation\": 65\n        },\n        {\n          \"lightness\": 99\n        }\n      ]\n    },\n    {\n      \"featureType\": \"water\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"gamma\": 0.11\n        },\n        {\n          \"weight\": 5.6\n        },\n        {\n          \"saturation\": 99\n        },\n        {\n          \"hue\": \"#0091ff\"\n        },\n        {\n          \"lightness\": -86\n        }\n      ]\n    },\n    {\n      \"featureType\": \"transit.line\",\n      \"elementType\": \"geometry\",\n      \"stylers\": [\n        {\n          \"lightness\": -48\n        },\n        {\n          \"hue\": \"#ff5e00\"\n        },\n        {\n          \"gamma\": 1.2\n        },\n        {\n          \"saturation\": -23\n        }\n      ]\n    },\n    {\n      \"featureType\": \"transit\",\n      \"elementType\": \"labels.text.stroke\",\n      \"stylers\": [\n        {\n          \"saturation\": -64\n        },\n        {\n          \"hue\": \"#ff9100\"\n        },\n        {\n          \"lightness\": 16\n        },\n        {\n          \"gamma\": 0.47\n        },\n        {\n          \"weight\": 2.7\n        }\n      ]\n    }\n  ];\n\n\n\n  title: string = 'Current Location';\n  lat: number = 50.937531;\n  lng: number = 6.960278600000038;\n\n  constructor() {\n\n  }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1086, "user_id": 4218046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YhzjT.jpg?s=128&g=1", "display_name": "Fabian Sch&#246;ner", "link": "https://stackoverflow.com/users/4218046/fabian-sch%c3%b6ner"}, "edited": false, "score": 1, "creation_date": 1495197942, "post_id": 44070066, "comment_id": 75164808, "body": "Please add some information what you changed, what the errors were and how you solved it. Simply posting the fixed code doesnt help anyone cause the same errors will be made again..."}, {"owner": {"reputation": 171, "user_id": 7986163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7c8ebcde0d4875db3ad1ccfa7e2c22?s=128&d=identicon&r=PG&f=1", "display_name": "saddam", "link": "https://stackoverflow.com/users/7986163/saddam"}, "reply_to_user": {"reputation": 1086, "user_id": 4218046, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YhzjT.jpg?s=128&g=1", "display_name": "Fabian Sch&#246;ner", "link": "https://stackoverflow.com/users/4218046/fabian-sch%c3%b6ner"}, "edited": false, "score": 1, "creation_date": 1495430495, "post_id": 44070066, "comment_id": 75230120, "body": "when i use [styles]=&quot;styles&quot; and pass json data in variable &#39;styles&#39;, it doesn&#39;t work,then i have passed the data in json directly."}], "tags": [], "owner": {"reputation": 171, "user_id": 7986163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e7c8ebcde0d4875db3ad1ccfa7e2c22?s=128&d=identicon&r=PG&f=1", "display_name": "saddam", "link": "https://stackoverflow.com/users/7986163/saddam"}, "is_accepted": false, "score": 6, "last_activity_date": 1495430621, "last_edit_date": 1495430621, "creation_date": 1495196672, "answer_id": 44070066, "question_id": 42249051, "link": "https://stackoverflow.com/questions/42249051/adding-style-to-angular2-google-maps/44070066#44070066", "title": "Adding style to Angular2 Google Maps", "body": "<h1>This is working for me. \u263a :-p</h1>\n\n<pre><code>&lt;sebm-google-map *ngIf=\"map\" [latitude]=\"placeLat\" [longitude]=\"placeLng\" [scrollwheel]=\"false\" [zoom]=\"zoom\" [disableDefaultUI]=\"true\" [styles]='[\n            {\n                elementType : \"labels.icon\",\n                stylers : [{\n                  visibility : \"off\"\n                }]\n            }]'&gt;\n</code></pre>\n"}], "owner": {"reputation": 727, "user_id": 4200410, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/D59bV.jpg?s=128&g=1", "display_name": "Carsten H", "link": "https://stackoverflow.com/users/4200410/carsten-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7028, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1495430621, "creation_date": 1487160644, "last_edit_date": 1487178532, "question_id": 42249051, "link": "https://stackoverflow.com/questions/42249051/adding-style-to-angular2-google-maps", "title": "Adding style to Angular2 Google Maps", "body": "<p>Hi I am new to Angular2/Typescript and I am trying to style a map that I added to my Angular2 project by using the <a href=\"https://angular-maps.com/\" rel=\"noreferrer\">Angular2 Google Maps Components</a> but I can\u00b4t figure out how to use its not yet documented <a href=\"https://angular-maps.com/docs/api/latest/ts/core/index/MapTypeStyle-interface.html\" rel=\"noreferrer\">MapTypeStyle Interface</a>. How do I use it in my module and the html? The map module works but I don\u00b4t get the styles applied. Any help appreciated. </p>\n\n<p>The according <a href=\"https://developers.google.com/maps/documentation/javascript/reference#MapTypeStyle\" rel=\"noreferrer\">Google MapsTypeStyle Reference</a> </p>\n\n<p>html:</p>\n\n<pre><code>&lt;sebm-google-map [latitude]=\"lat\" [longitude]=\"lng\"&gt;\n  &lt;sebm-google-map-marker [latitude]=\"lat\" [longitude]=\"lng\"&gt;&lt;/sebm-google-map-marker&gt;\n&lt;/sebm-google-map&gt;\n</code></pre>\n\n<p>module (excerpt)</p>\n\n<pre><code>export class GmapComponent implements OnInit {\n\n  title: string = 'Current Location';\n  lat: number = 50.937531;\n  lng: number = 6.960278600000038;\n  constructor() { }\n\n  ngOnInit() {\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 0, "creation_date": 1487149221, "post_id": 42244671, "comment_id": 71647757, "body": "Did you consider using a pipe? <a href=\"https://angular.io/docs/ts/latest/api/common/index/CurrencyPipe-pipe.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/common/index/&hellip;</a>"}, {"owner": {"reputation": 2057, "user_id": 1521258, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dcfea059ec2c47ff5c5733f96de0d9b4?s=128&d=identicon&r=PG", "display_name": "Zyga", "link": "https://stackoverflow.com/users/1521258/zyga"}, "edited": false, "score": 0, "creation_date": 1487149246, "post_id": 42244671, "comment_id": 71647774, "body": "Since you are using Angular2 try using DecimalPipe (either in a view or component/service)."}, {"owner": {"reputation": 545, "user_id": 2840820, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Ny07Z.png?s=128&g=1", "display_name": "wonghenry", "link": "https://stackoverflow.com/users/2840820/wonghenry"}, "edited": false, "score": 0, "creation_date": 1487149310, "post_id": 42244671, "comment_id": 71647815, "body": "see this post <a href=\"http://stackoverflow.com/questions/2901102/how-to-print-a-number-with-commas-as-thousands-separators-in-javascript\" title=\"how to print a number with commas as thousands separators in javascript\">stackoverflow.com/questions/2901102/&hellip;</a>  function numberWithCommas(x) {     return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, &quot;,&quot;); }"}, {"owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "edited": false, "score": 0, "creation_date": 1487149412, "post_id": 42244671, "comment_id": 71647875, "body": "You can also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NumberFormat/format\" rel=\"nofollow noreferrer\">NumberFormat</a> with selected locale"}], "answers": [{"tags": [], "owner": {"reputation": 6718, "user_id": 5361130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/206601a888686677c4a74c89d9a2920f?s=128&d=identicon&r=PG", "display_name": "ponury-kostek", "link": "https://stackoverflow.com/users/5361130/ponury-kostek"}, "is_accepted": true, "score": 2, "last_activity_date": 1487149293, "creation_date": 1487149293, "answer_id": 42244797, "question_id": 42244671, "link": "https://stackoverflow.com/questions/42244671/converting-number-string-to-comma-version/42244797#42244797", "title": "Converting number string to comma version", "body": "<p>Have you tried</p>\n\n<pre><code>var some_string_value = '-10000.50';\nparseFloat(some_string_value).toLocaleString()\n</code></pre>\n\n<p>?</p>\n"}, {"tags": [], "owner": {"reputation": 282, "user_id": 7564116, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3Vjq2moFv9g/AAAAAAAAAAI/AAAAAAAABL8/ovkfm_5n2BA/photo.jpg?sz=128", "display_name": "Iaconis Simone", "link": "https://stackoverflow.com/users/7564116/iaconis-simone"}, "is_accepted": false, "score": 0, "last_activity_date": 1487149297, "last_edit_date": 1495540455, "creation_date": 1487149297, "answer_id": 42244799, "question_id": 42244671, "link": "https://stackoverflow.com/questions/42244671/converting-number-string-to-comma-version/42244799#42244799", "title": "Converting number string to comma version", "body": "<p>You can use a pipe, you can find a full answer to your question here: <a href=\"https://stackoverflow.com/questions/35299583/add-comma-separated-thousands-to-number-inputs-in-angular2\">Add Comma Separated Thousands to Number Inputs in Angular2</a></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 6468094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f37e9db754d817dc0af1409888a7b46?s=128&d=identicon&r=PG&f=1", "display_name": "Zhis", "link": "https://stackoverflow.com/users/6468094/zhis"}, "is_accepted": false, "score": 1, "last_activity_date": 1487151046, "creation_date": 1487151046, "answer_id": 42245430, "question_id": 42244671, "link": "https://stackoverflow.com/questions/42244671/converting-number-string-to-comma-version/42245430#42245430", "title": "Converting number string to comma version", "body": "<p>Use \"indexOf('.')\",splice to two part,then use the method you found.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function addComma(num){\r\n//some type check here\r\n\tvar numStr = num.toString();\r\n\tvar intEnd = numStr.indexOf('.');\r\nvar onePart =numStr,otherPart ='';\r\nif(intEnd !== -1){\r\n\tvar onePart = numStr.slice(0,intEnd); \r\n\tvar otherPart = numStr.slice(intEnd); \r\n}\r\n\t\r\n\treturn onePart.replace(/(\\d)(?=(?:\\d{3})+$)/g, '$1,')+otherPart;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3811, "user_id": 574130, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f5ef61cd993e3fe28bb681b0ebf340c0?s=128&d=identicon&r=PG", "display_name": "Ben Cameron", "link": "https://stackoverflow.com/users/574130/ben-cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 0, "accepted_answer_id": 42244797, "answer_count": 3, "score": 0, "last_activity_date": 1487151046, "creation_date": 1487148949, "question_id": 42244671, "link": "https://stackoverflow.com/questions/42244671/converting-number-string-to-comma-version", "title": "Converting number string to comma version", "body": "<p>I have a Angular 2 / Typescript  application string that contains number representations such as the following...</p>\n\n<blockquote>\n  <p>10000</p>\n  \n  <p>10000.50</p>\n  \n  <p>-10000 </p>\n  \n  <p>-10000.50</p>\n  \n  <p>0</p>\n</blockquote>\n\n<p>I want to add in commas after the thousand mark, for example...</p>\n\n<blockquote>\n  <p>10,000</p>\n  \n  <p>10,000.50</p>\n  \n  <p>-10,000</p>\n  \n  <p>-10,000.50</p>\n  \n  <p>0</p>\n</blockquote>\n\n<p>What is the best way to do this?</p>\n\n<p>I have tried some other answers but nothing is quite right.</p>\n\n<p>For example <code>this.value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");</code> and <code>this.value.toLocaleString();</code> don't seem to handle both the comman and decimal point.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 2, "creation_date": 1487147406, "post_id": 42244108, "comment_id": 71646606, "body": "<code>let newDate = new Date(...oldDate.split(&quot;.&quot;).reverse().map(Number));</code>"}, {"owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1487148948, "post_id": 42244108, "comment_id": 71647574, "body": "@dandavis No luck"}], "owner": {"reputation": 1382, "user_id": 5327791, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/3be5600ec4de2b10dbe6286e6494b382?s=128&d=identicon&r=PG&f=1", "display_name": "Protagonist", "link": "https://stackoverflow.com/users/5327791/protagonist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 8889, "favorite_count": 0, "closed_date": 1487147468, "answer_count": 0, "score": 1, "last_activity_date": 1487148867, "creation_date": 1487147214, "last_edit_date": 1487148867, "question_id": 42244108, "link": "https://stackoverflow.com/questions/42244108/typescript-how-to-convert-string-date-to-date", "closed_reason": "Duplicate", "title": "Typescript: How to convert string date to date", "body": "<p>How to convert string date to date? For example</p>\n\n<pre><code>let oldDate = \"24.01.2017\";\nlet newDate = new Date(oldDate);\n</code></pre>\n\n<p>I did a console log and I see that typeof newDate is object and if I do console log of newDate, it's displaying as invalid Date.\nI don't want to use any other third party js like moment JS.\nHow to resolve this?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 520, "user_id": 2151116, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e893d298ce2567e5a3fe8470e65f028c?s=128&d=identicon&r=PG", "display_name": "Grigor Aleksanyan", "link": "https://stackoverflow.com/users/2151116/grigor-aleksanyan"}, "edited": false, "score": 1, "creation_date": 1487147377, "post_id": 42244082, "comment_id": 71646589, "body": "Ha ha, perfect)) Thank you)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 3, "last_activity_date": 1487152361, "last_edit_date": 1487152361, "creation_date": 1487147128, "answer_id": 42244082, "question_id": 42244029, "link": "https://stackoverflow.com/questions/42244029/angular2-is-it-possible-to-use-custom-types-in-html-templates/42244082#42244082", "title": "Angular2: Is it possible to use custom types in html templates?", "body": "<p>You need to define <code>CustomPages</code> inside your component.</p>\n\n<pre><code>import {CustomPages} from 'path/to/enum/CustomPages';\n\n@Component({...})\nexport class YourComponentName {\n\n    CustomPages = CustomPages; // &lt;- assign enum to the same name as a field.\n\n    constructor(..){..}\n\n    ...\n\n}\n</code></pre>\n"}], "owner": {"reputation": 520, "user_id": 2151116, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e893d298ce2567e5a3fe8470e65f028c?s=128&d=identicon&r=PG", "display_name": "Grigor Aleksanyan", "link": "https://stackoverflow.com/users/2151116/grigor-aleksanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 42244082, "answer_count": 1, "score": 1, "last_activity_date": 1487152361, "creation_date": 1487146969, "last_edit_date": 1487151221, "question_id": 42244029, "link": "https://stackoverflow.com/questions/42244029/angular2-is-it-possible-to-use-custom-types-in-html-templates", "title": "Angular2: Is it possible to use custom types in html templates?", "body": "<p>For example I have an enumeration </p>\n\n<pre><code>export enum CustomPages{\n  page1 = 1,\n  page2 = 2,\n  page3 = 3\n}\n</code></pre>\n\n<p>In html template I want to access this enum.</p>\n\n<p>For example:</p>\n\n<pre><code>&lt;a class=\"nav-link\" [class.active]=\"page == CustomPages.page1\" href=\"#\"&gt;Categories and responses&lt;/a&gt;\n</code></pre>\n\n<p>It throws an exception </p>\n\n<blockquote>\n  <p>Cannot read property 'page1' of undefined</p>\n</blockquote>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 0, "creation_date": 1487146075, "post_id": 42243684, "comment_id": 71645920, "body": "I tried it, the same thing happens. I got undefined. what frustrated me is why it give me the right result in ngDestroy and in the template but not in ngOnInit"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 0, "creation_date": 1487146272, "post_id": 42243684, "comment_id": 71646019, "body": "@MohammedSabbah I don&#39;t think you did the same thing. The reason it is showing you the log inside <code>ngOnDestroy</code> is because in <code>ngOnDestroy</code> the <code>this.relatedNews</code> variable has enough time to be defined. I made a type in my answer before can you try it like the updated one."}, {"owner": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 1, "creation_date": 1487146725, "post_id": 42243684, "comment_id": 71646265, "body": "Now it worked very well, thank you a lot. So, now for ever operation on related news I need to do the same thing? For example, if I need to use it like this this.metaService.setTitle(&#39;News page  &#39;+this.relatednews[0].name); do I need to insert it like the console.log?"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 0, "creation_date": 1487146912, "post_id": 42243684, "comment_id": 71646349, "body": "@MohammedSabbah yes because <code>getRelatedNews</code> is async you know, meaning it will happen but some time after. And that some time after part is inside the subscribe function. Check this answer for deeper understanding of how asynchronous functions work: <a href=\"http://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call/14220323#14220323\" title=\"how do i return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}, {"owner": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 2, "creation_date": 1487147129, "post_id": 42243684, "comment_id": 71646454, "body": "Thank you very much you save my day :)"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "edited": false, "score": 0, "creation_date": 1487147258, "post_id": 42243684, "comment_id": 71646521, "body": "@MohammedSabbah glad I could help :-)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 2, "last_activity_date": 1487146156, "last_edit_date": 1487146156, "creation_date": 1487145684, "answer_id": 42243684, "question_id": 42243610, "link": "https://stackoverflow.com/questions/42243610/exception-error-uncaught-in-promise-typeerror-cannot-read-property-0-of/42243684#42243684", "title": "EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property &#39;0&#39; of null any suggestion please?", "body": "<pre><code>this._newsService.getRelatedNews(id).subscribe(\n        relatedNews =&gt; this.relatedNews = relatedNews);\n    });\n</code></pre>\n\n<p>is an async operation. You need to do your operations with <code>relatedNews</code> inside the callback(<code>subscribe</code>) like this:</p>\n\n<pre><code>this._newsService.getRelatedNews(id).subscribe(\n        (relatedNews) =&gt; {\n          this.relatedNews = relatedNews;\n          console.log(this.relatedNews[0]);\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 6643290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68a8b198ca6fd68b4261108a90ee2b45?s=128&d=identicon&r=PG&f=1", "display_name": "Uak", "link": "https://stackoverflow.com/users/6643290/uak"}, "is_accepted": false, "score": 0, "last_activity_date": 1487145955, "creation_date": 1487145955, "answer_id": 42243756, "question_id": 42243610, "link": "https://stackoverflow.com/questions/42243610/exception-error-uncaught-in-promise-typeerror-cannot-read-property-0-of/42243756#42243756", "title": "EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property &#39;0&#39; of null any suggestion please?", "body": "<p>Put your console.log(this.relatedNews[0]) inside the callback of your service like this: </p>\n\n<pre><code> this._newsService.getRelatedNews(id).subscribe(\n    relatedNews =&gt; this.relatedNews = relatedNews);\n    console.log(this.relatedNews[0])\n});\n</code></pre>\n\n<p>normally your console.log will return your object </p>\n"}], "owner": {"reputation": 723, "user_id": 7567356, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1464897990188624/picture?type=large", "display_name": "Mohammed Sabbah", "link": "https://stackoverflow.com/users/7567356/mohammed-sabbah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4895, "favorite_count": 0, "accepted_answer_id": 42243684, "answer_count": 2, "score": 1, "last_activity_date": 1487146156, "creation_date": 1487145487, "question_id": 42243610, "link": "https://stackoverflow.com/questions/42243610/exception-error-uncaught-in-promise-typeerror-cannot-read-property-0-of", "title": "EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property &#39;0&#39; of null any suggestion please?", "body": "<p>I am facing this problem since I started to learn angular2.\nnews.service</p>\n\n<pre><code>    @Injectable()\n    export class NewsServices {\n    private news: News[] = [];\n\n    constructor(private _http: Http) {}\n\n    getSingleNews(id: string): Observable &lt;SingleNews[]&gt; {\n        return this._http.get(`http://watania.info/getNewsById/${id}`)\n            .map((response: Response) =&gt; response.json());\n    }\n    export interface SpecialNews {\n    id: string;\n    title: string;\n    url_title: string;\n    image: string;\n    category: string;\n    summary: string;\n    date_to_publish: string;\n    }\n</code></pre>\n\n<p>news.component.ts</p>\n\n<pre><code>    import { ActivatedRoute, Router } from '@angular/router';\n    import { Component, OnDestroy, OnInit } from '@angular/core';\n    import { NewsServices, SingleNews } from '../../services/news.services';\n\n    import { News } from './../../services/news.services';\n    import { Subscription } from 'rxjs/Rx';\n    import { VideosPage } from './../../services/videos.service';\n\n    @Component({\n    selector: 'wn-single-news',\n    templateUrl: './single-news.component.html',\n    styleUrls: ['./single-news.component.css']\n    })\n    export class SingleNewsComponent implements OnInit, OnDestroy {\n    sub: Subscription;\n    private selectednews: SingleNews[]= [];\n    private relatedNews: News[]= [];\n\n    constructor(private _newsService: NewsServices,\n            private route: ActivatedRoute) {}\n\n    ngOnInit (): void {\n    this.sub = this.route.params.subscribe(params =&gt; {\n    let id = params['id'];\n    this._newsService.getSingleNews(id).subscribe(\n    selectednews =&gt; this.selectednews = selectednews);\n\n    this._newsService.getRelatedNews(id).subscribe(\n        relatedNews =&gt; this.relatedNews = relatedNews);\n    });\n    console.log(this.relatedNews[0])\n    } \n\n    ngOnDestroy() {\n    console.log(this.relatedNews[0])      \n    this.sub.unsubscribe();\n    }\n    }\n</code></pre>\n\n<p>The problem is that when I try to use any service like the above one, in any of my component like news component, I got undefined in the console for console.log(this.relatedNews[0]) in ngOnInit, but for console.log(this.relatedNews[0]) in ngOnDestroy I got the array. Moreover I can use the same variable in my template.</p>\n\n<pre><code>    &lt;h1 class=\"news-header\"&gt;&lt;span&gt;&lt;/span&gt; {{selectednews[0]?.title}}&lt;/h1&gt;\n</code></pre>\n\n<p>It worked fine when use the variable in the template as shown above. but whenever I try to use it in the component I got</p>\n\n<pre><code>    EXCEPTION: Error: Uncaught (in promise): TypeError: Cannot read property '0' of null\n    any suggestion please?\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1487144528, "post_id": 42243311, "comment_id": 71645073, "body": "Can you give more detail? What gets executed after the navigation?"}, {"owner": {"reputation": 515, "user_id": 6695026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVGy4.jpg?s=128&g=1", "display_name": "Hasmukh Ahir", "link": "https://stackoverflow.com/users/6695026/hasmukh-ahir"}, "edited": false, "score": 0, "creation_date": 1487144746, "post_id": 42243311, "comment_id": 71645178, "body": "can you make plnkr?"}, {"owner": {"reputation": 2533, "user_id": 5525734, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/79536b18724805cabddfb28c23d84cb7?s=128&d=identicon&r=PG", "display_name": "A. Gladkiy", "link": "https://stackoverflow.com/users/5525734/a-gladkiy"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1487144911, "post_id": 42243311, "comment_id": 71645275, "body": "@echonax code in subscribe block in component gets executed after the navigation."}], "answers": [{"comments": [{"owner": {"reputation": 2533, "user_id": 5525734, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/79536b18724805cabddfb28c23d84cb7?s=128&d=identicon&r=PG", "display_name": "A. Gladkiy", "link": "https://stackoverflow.com/users/5525734/a-gladkiy"}, "edited": false, "score": 0, "creation_date": 1487145236, "post_id": 42243435, "comment_id": 71645451, "body": "Can I stop propagation straight in response.service?"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1487145583, "last_edit_date": 1487145583, "creation_date": 1487144967, "answer_id": 42243435, "question_id": 42243311, "link": "https://stackoverflow.com/questions/42243311/error-handling-stop-propagation-after-router-navigate-angular-2/42243435#42243435", "title": "Error handling stop propagation after router.navigate Angular 2", "body": "<p>You return <code>null</code> in <code>extractJson</code> therefore you can just</p>\n\n<pre><code>onClick() {\n    this.dataService.getData()\n        .subscribe((response: Json) =&gt; {\n            console.log(\"some text\");\n            if(!response) {\n              // do nothing or whatever\n              return\n            }\n            if(response.status !== 'fail') {\n                ...\n            }\n        });\n}\n</code></pre>\n\n<p><strong>update</strong><br>\nUse filter to prevent the <code>null</code> to be event emitted as an event:</p>\n\n<pre><code>getData(): Observable&lt;Json&gt; {\n    return this.http\n        .get(this.getDataUrl)\n        .map((response: Response) =&gt; {\n            return this.responseService.extractJson(response);\n        })\n        .catch(error =&gt; {\n            return this.errorService.handleError(error);\n        }).filter(val =&gt; val != null);\n}\n</code></pre>\n"}], "owner": {"reputation": 2533, "user_id": 5525734, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/79536b18724805cabddfb28c23d84cb7?s=128&d=identicon&r=PG", "display_name": "A. Gladkiy", "link": "https://stackoverflow.com/users/5525734/a-gladkiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "accepted_answer_id": 42243435, "answer_count": 1, "score": 2, "last_activity_date": 1487145583, "creation_date": 1487144455, "last_edit_date": 1487144787, "question_id": 42243311, "link": "https://stackoverflow.com/questions/42243311/error-handling-stop-propagation-after-router-navigate-angular-2", "title": "Error handling stop propagation after router.navigate Angular 2", "body": "<p>I've implemented error handling on server side to return json. And now I'm working on error handling in Angular 2.</p>\n\n<p>My component is:</p>\n\n<pre><code>onClick() {\n        this.dataService.getData()\n            .subscribe((response: Json) =&gt; {\n                console.log(\"some text\");\n                if(response.status !== 'fail') {\n                    ...\n                }\n            });\n    }\n</code></pre>\n\n<p>My <strong>DataService.ts</strong> is:</p>\n\n<pre><code>getData(): Observable&lt;Json&gt; {\n        return this.http\n            .get(this.getDataUrl)\n            .map((response: Response) =&gt; {\n                return this.responseService.extractJson(response);\n            })\n            .catch(error =&gt; {\n                return this.errorService.handleError(error);\n            });\n    }\n</code></pre>\n\n<p>And <strong>ResponseService.ts</strong>:</p>\n\n<pre><code>extractJson(response: Response): any {\n        let json: Json = response.json();\n        if (json.status === 'success') {\n            return json;\n        } else {\n            this.router.navigate(['something-went-wrong']);\n            return null;\n        }\n    }\n</code></pre>\n\n<p>But app continues to execute code further in <em>subscribe</em> section, so I see in browser console <code>some text</code> and error <code>Cannot read property 'status' of null</code>. How can I stop further propagation after <code>router.navigate</code>? What should I do or return after <code>router.navigate</code> for that?</p>\n"}, {"tags": ["css", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 3084, "user_id": 5868331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpLps.jpg?s=128&g=1", "display_name": "mayur", "link": "https://stackoverflow.com/users/5868331/mayur"}, "edited": false, "score": 0, "creation_date": 1487142892, "post_id": 42242493, "comment_id": 71644223, "body": "can check <a href=\"http://stackoverflow.com/a/39848327/5868331\">stackoverflow.com/a/39848327/5868331</a>"}, {"owner": {"reputation": 3084, "user_id": 5868331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpLps.jpg?s=128&g=1", "display_name": "mayur", "link": "https://stackoverflow.com/users/5868331/mayur"}, "edited": false, "score": 0, "creation_date": 1487143102, "post_id": 42242493, "comment_id": 71644329, "body": "or can use <a href=\"https://github.com/yuyang041060120/ng2-validation\" rel=\"nofollow noreferrer\">github.com/yuyang041060120/ng2-validation</a> readymade validations"}, {"owner": {"reputation": 31, "user_id": 2372395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a23345db01b087b6c7da710aeae37f7a?s=128&d=identicon&r=PG", "display_name": "user2372395", "link": "https://stackoverflow.com/users/2372395/user2372395"}, "edited": false, "score": 0, "creation_date": 1487162761, "post_id": 42242493, "comment_id": 71657514, "body": "Check this - <a href=\"http://stackoverflow.com/questions/39361721/limit-the-length-of-a-string-using-angular-2-ionic-2\" title=\"limit the length of a string using angular 2 ionic 2\">stackoverflow.com/questions/39361721/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9624269, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3563babb0fa8c193253981f0e91e5dc7?s=128&d=identicon&r=PG", "display_name": "yogaraj", "link": "https://stackoverflow.com/users/9624269/yogaraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1523355800, "last_edit_date": 1523355800, "creation_date": 1523355689, "answer_id": 49751159, "question_id": 42242493, "link": "https://stackoverflow.com/questions/42242493/how-to-restrict-the-number-of-characters-user-can-enter-in-ion-textarea-in-ionic/49751159#49751159", "title": "How to restrict the number of characters user can enter in ion-textarea in Ionic 2", "body": "<p>Try with <code>maxlength=500</code> in your inputfield.</p>\n"}], "owner": {"reputation": 2378, "user_id": 5782347, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-6JIhgSNjqhQ/AAAAAAAAAAI/AAAAAAAABVE/tosCV4YYJxA/photo.jpg?sz=128", "display_name": "Prithivi Raj", "link": "https://stackoverflow.com/users/5782347/prithivi-raj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1523355800, "creation_date": 1487141607, "question_id": 42242493, "link": "https://stackoverflow.com/questions/42242493/how-to-restrict-the-number-of-characters-user-can-enter-in-ion-textarea-in-ionic", "title": "How to restrict the number of characters user can enter in ion-textarea in Ionic 2", "body": "<p>I have a text area in my Ionic 2 App, where I want to restrict the user to give comments of only less than 500 characters. How can I achieve it in Ionic 2?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 2581107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004381297212/picture?type=large", "display_name": "Rodney Mathew", "link": "https://stackoverflow.com/users/2581107/rodney-mathew"}, "edited": false, "score": 0, "creation_date": 1487142025, "post_id": 42242486, "comment_id": 71643774, "body": "Yes, I have both of them. <b>app.component.html</b> &lt;div class=&quot;main&quot;&gt;     &lt;router-outlet&gt;&lt;/router-outlet&gt; &lt;/div&gt; and app.module.ts here: <a href=\"https://justpaste.it/154785452358\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "is_accepted": false, "score": 0, "last_activity_date": 1487141565, "creation_date": 1487141565, "answer_id": 42242486, "question_id": 42242226, "link": "https://stackoverflow.com/questions/42242226/how-to-create-a-child-route-in-angular-2/42242486#42242486", "title": "How to create a child route in angular 2?", "body": "<p>Your <code>&lt;router-outlet&gt;</code> should be inside your <code>app.component.html</code> file to avoid that kind of behavior. </p>\n\n<p>You might be forgetting to add <code>CreateComponent</code> to your <code>app.module.ts</code>. Make sure you have CreateComponent inside your module declarations.</p>\n"}, {"comments": [{"owner": {"reputation": 3930, "user_id": 3142408, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cd35619033c220fadfaef5ea5683b14?s=128&d=identicon&r=PG", "display_name": "Dawid Zbi\u0144ski", "link": "https://stackoverflow.com/users/3142408/dawid-zbi%c5%84ski"}, "reply_to_user": {"reputation": 61, "user_id": 2581107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004381297212/picture?type=large", "display_name": "Rodney Mathew", "link": "https://stackoverflow.com/users/2581107/rodney-mathew"}, "edited": false, "score": 0, "creation_date": 1487152881, "post_id": 42242596, "comment_id": 71650417, "body": "Im glad I was able to help"}], "tags": [], "owner": {"reputation": 3930, "user_id": 3142408, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/6cd35619033c220fadfaef5ea5683b14?s=128&d=identicon&r=PG", "display_name": "Dawid Zbi\u0144ski", "link": "https://stackoverflow.com/users/3142408/dawid-zbi%c5%84ski"}, "is_accepted": true, "score": 1, "last_activity_date": 1487142027, "creation_date": 1487142027, "answer_id": 42242596, "question_id": 42242226, "link": "https://stackoverflow.com/questions/42242226/how-to-create-a-child-route-in-angular-2/42242596#42242596", "title": "How to create a child route in angular 2?", "body": "<p>Just add another child route inside your AdminComponent which will be a default route. Than copy your AdminComponent's logic, styles and view into the created child route and it should work fine.</p>\n\n<p>When you define a child route it's working kind-of like in HTML. You have your parent that has some content and then by adding the child you're not deleting the parent's content - you're just adding the child's content to it's parent.</p>\n\n<p>So you're routes should look like:</p>\n\n<pre><code>Admin - /admin - redirects to AdminDefaultController by default\n    AdminDefaultController - /admin/dashborad \n    AdminCreateController - /admin/create\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 2581107, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100004381297212/picture?type=large", "display_name": "Rodney Mathew", "link": "https://stackoverflow.com/users/2581107/rodney-mathew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 0, "accepted_answer_id": 42242596, "answer_count": 2, "score": 0, "last_activity_date": 1487142027, "creation_date": 1487140512, "last_edit_date": 1487141066, "question_id": 42242226, "link": "https://stackoverflow.com/questions/42242226/how-to-create-a-child-route-in-angular-2", "title": "How to create a child route in angular 2?", "body": "<p>I Have a project with with admin page(See the file structure below). I need to create a child route called '<em>createuser</em>' to admin page <em>(localhost:4200/admin/createuser)</em>. I tried few methods but it shows an error(Cannot find primary outlet to load 'CreateComponent'). So, I added <em>router-outlet</em> to my admin component html. Now, the routing code works but the html from admin page is showing in the '<em>createuser</em>' page. How to avoid that? Or Have I missed something?</p>\n\n<p><strong>admin.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n    moduleId: module.id,\n    selector: 'admin',\n    templateUrl: 'admin.component.html'\n})\n\nexport class AdminComponent implements OnInit\n{\n    constructor(){}\n    ngOnInit(){}\n}\n</code></pre>\n\n<p><strong>admin.component.html</strong></p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n&lt;div class=\"logo\" style=\"background-color: #fbc111\"&gt;\n    &lt;img src=\"../../../assets/lbtrackerlogo.png\" style=\"width: 250px;padding: 15px\"&gt;\n    &lt;button class=\"btn btn-default\" routerLink=\"create\" style=\"position: absolute;top:25px;left: 80%\"&gt;Create Agency&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>create.component.html</strong></p>\n\n<pre><code>&lt;h1&gt;Create Component&lt;/h1&gt;\n</code></pre>\n\n<p><strong>create.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { AngularFire, AuthProviders, AuthMethods, FirebaseListObservable } from 'angularfire2';\nimport { Router } from '@angular/router';\nimport { UUIDService } from '../../../services/uuid.service';\n\n@Component({\n    moduleId: module.id,\n    selector: 'create',\n    templateUrl: 'create.component.html'\n})\nexport class CreateComponent implements OnInit\n{\n    constructor() { }\n\n    ngOnInit()\n    {\n        console.log(\"In Create component\");\n    }\n}\n</code></pre>\n\n<p><strong>app.routing.ts</strong></p>\n\n<pre><code>import { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginComponent } from './components/login/login.component';\nimport { AdminComponent } from './components/admin/admin.component';\nimport { CreateComponent } from './components/admin/create/create.component';\n\nimport { AuthGuard } from './auth.service';\n\nconst appRoutes: Routes = [\n    {\n        path: '',\n        component: LoginComponent\n    },\n    {\n        path: 'login',\n        component: LoginComponent\n    },\n    {\n        path: 'admin',\n        component: AdminComponent,\n        canActivate: [AuthGuard],\n        data: { roles: ['admin'] },\n        children: [\n            {\n                path: 'create',\n                component: CreateComponent\n            }\n        ]\n    }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DsiUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DsiUT.png\" alt=\"File Structure\"></a> <a href=\"https://i.stack.imgur.com/o3zwP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o3zwP.jpg\" alt=\"snapshot\"></a></p>\n"}, {"tags": ["typescript", "gulp", "browserify", "watchify", "tsify"], "answers": [{"tags": [], "owner": {"reputation": 1380, "user_id": 675561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ab1f8d1bd45b30c2e1cbe4ed74cd83c?s=128&d=identicon&r=PG", "display_name": "Graeme Wicksted", "link": "https://stackoverflow.com/users/675561/graeme-wicksted"}, "is_accepted": false, "score": 0, "last_activity_date": 1508419326, "last_edit_date": 1508419326, "creation_date": 1508379302, "answer_id": 46821920, "question_id": 42240632, "link": "https://stackoverflow.com/questions/42240632/how-to-use-browserify-watchify-tsify-gulp-on-multiple-entry-files-and-get/46821920#46821920", "title": "How to use Browserify + Watchify + Tsify + Gulp on multiple entry files and get multiple output files quickly", "body": "<p>Make sure you're excluding libraries (like <code>jquery</code>, <code>lodash</code>, etc.)</p>\n\n<p>You might benefit from <code>factor-bundle</code> (specifically <code>gulp-watchify-factor-bundle</code>) to split your entries up but keep their shared code in a separate library.  If they have a lot of shared code, it will be compiled and duplicated in each entry's output.  <code>tsify</code> + <code>gulp-watchify-factor-bundle</code> doesn't seem to be well documented so here is my guess on what you might need:</p>\n\n<pre><code>const gulp = require(\"gulp\");\nconst reduce = require(\"gulp-watchify-factor-bundle\");\nconst buffer = require(\"vinyl-buffer\");\nconst filelog = require(\"gulp-filelog\");\nconst tsify = require(\"tsify\");\nconst gutil = require(\"gulp-util\");\n\nconst devenv = true; // bring your own env config\n\n\nfunction configuredUglify() {\n    return uglify(); // bring your own uglify\n}\n\ngulp.task(\"clean\", () =&gt; {\n    return del(\"./bin/js\");\n});\n\n// full builds\ngulp.task(\"build\", [\"clean\"], () =&gt; {\n    const basedir = __dirname;\n\n    // browserify options here ()\n    const b = reduce.create({\n        basedir: basedir,\n        debug: devenv,\n        // the following may not apply to you\n        builtins: [],\n        insertGlobals: false,\n        detectGlobals: false,\n        browserField: false,\n        commondir: false\n    });\n\n    // any large external libraries should be excluded (and loaded via &lt;script src=\"...\"&gt; tags especially for development)\n    b.exclude(\"jquery\");\n    b.exclude(\"moment\");\n\n    b.plugin(tsify);\n\n    // NOTE: unlike browserify entries, reduce.src allows globs (like gulp.src) but will consider them a single bundle\n    // this is especially handy for unit tests!\n    return reduce.src([\"backScript.ts\", \"mainFrame.ts\", \"commentFrame.ts\", \"script-inject.ts\"], { cwd: basedir })\n        // \"outputs:\" is required otherwise the .ts extension is kept (unlike jsify with vanilla browserify)\n        // full:\n        .pipe(reduce.bundle(b, { common: \"sharedLib.js\", outputs: [\"backScripts.js\", \"mainFrame.js\", \"commentFrame.js\", \"script-inject.js\"] }))\n        // incrementals:\n        // .pipe(reduce.watch(b, { common: \"sharedLib.js\", outputs: [\"backScripts.js\", \"mainFrame.js\", \"commentFrame.js\", \"script-inject.js\"] }))\n\n        // incrementals:\n        // .on(\"bundle\", (vinylStream) =&gt; { /* vinylStream followed by lines below */ })\n\n        .pipe(buffer())\n        .pipe(devenv ? sourcemaps.init({ loadMaps: true, largeFile: true }) : gutil.noop()) // largeFile may be applicable\n        .pipe(!devenv ? configuredUglify() : gutil.noop())\n        .on(\"error\", gutil.log)\n        .pipe(devenv ? sourcemaps.write(\"./\") : gutil.noop())\n        .pipe(filelog(\"browserify\"))\n        .pipe(reduce.dest(\"./bin/js/\"));\n});\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 2355429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ebca947a6bd8329d35f1f56cd29fda?s=128&d=identicon&r=PG", "display_name": "RakTom", "link": "https://stackoverflow.com/users/2355429/raktom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 969, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508419326, "creation_date": 1487132041, "question_id": 42240632, "link": "https://stackoverflow.com/questions/42240632/how-to-use-browserify-watchify-tsify-gulp-on-multiple-entry-files-and-get", "title": "How to use Browserify + Watchify + Tsify + Gulp on multiple entry files and get multiple output files quickly", "body": "<p>I have been trying to use Gulp + Browserify + Tsify to transpile 4 files plus their libraries into 4 js files which is currently taking 4 or 5 seconds.</p>\n\n<p>In my current build script, watchify triggers an update on a change of any ts file for all 4 of my build pipes each of which traspiles every ts file in my project even if it is not being used in that pipe.</p>\n\n<p>Currently I am looking for a better and faster way of getting this done.</p>\n\n<pre><code>import * as browserify from \"browserify\"\nimport * as gulp from \"gulp\"\nimport * as rename from \"gulp-rename\"\nimport * as sass from \"gulp-sass\"\nimport * as uglify from \"gulp-uglify\"\nimport * as gutil from \"gulp-util\"\nimport * as fs from \"fs\"\nimport * as tsify from \"tsify\"\nimport * as buffer from \"vinyl-buffer\"\nimport * as source from \"vinyl-source-stream\"\nimport * as watchify from \"watchify\"\nimport {assign} from \"lodash\"\n\nconst sassOptions: sass.Options = {\n    outputStyle: 'expanded'\n}\n\nfunction combinejs(update: boolean, minify: boolean) {\n    ['backScript.ts', 'mainFrame.ts', 'commentFrame.ts','script-inject.ts'].forEach(f =&gt; {\n        let b = browserify(assign({},watchify.args,{basedir:'src/', entries: f})),\n            bundle = () =&gt; {\n                let pipe = b.bundle().on('error',gutil.log)\n                    .pipe(source(f)).pipe(rename({extname:'.js'}))\n                if (minify) {\n                    pipe = pipe.pipe(buffer()).pipe(uglify())\n                }\n                pipe.pipe(gulp.dest('build/files/src'))\n            }\n        b.plugin(tsify)\n        if (update){\n            b.plugin(watchify,{})\n            b.on('update',()=&gt;{\n                console.log({update:f})\n                bundle()\n            })\n        }\n        b.on('log', console.log)\n        console.log(f)\n        bundle()\n    })\n}\n\ngulp.add('js', () =&gt; combinejs(false, true))\n\ngulp.add('css', () =&gt; {\n    gulp.src('src/*.scss')\n        .pipe(sass(sassOptions))\n        .pipe(gulp.dest('build/files/src'))\n})\ngulp.add('copyFiles', () =&gt; {\n    gulp.src(['manifest.json', 'popup.html', 'images/*'], { base: '.' })\n        .pipe(gulp.dest('build/files'))\n})\n\ngulp.add(\"default\", ['copyFiles','js', 'css'])\ngulp.add('build',['copyFiles','css'],()=&gt;{\n    combinejs(false,false)\n})\n\ngulp.add(\"watch\", ['copyFiles', 'css'], () =&gt; {\n    combinejs(true, false)\n    gulp.watch('src/*.scss', ['css'])\n})\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487144851, "post_id": 42239768, "comment_id": 71645239, "body": "I copy pasted your code to an Angular project and didn&#39;t get an error. What typings for <code>IDirective</code> do you use? Please add them to your question."}, {"owner": {"reputation": 5036, "user_id": 163186, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1eb92e3eabe80013d83ad235b39266c5?s=128&d=identicon&r=PG", "display_name": "Mohamed Nuur", "link": "https://stackoverflow.com/users/163186/mohamed-nuur"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487183680, "post_id": 42239768, "comment_id": 71672638, "body": "@Sabastin, I added the typings. This is very puzzling to me. I&#39;m not sure why it doesn&#39;t work."}, {"owner": {"reputation": 5036, "user_id": 163186, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1eb92e3eabe80013d83ad235b39266c5?s=128&d=identicon&r=PG", "display_name": "Mohamed Nuur", "link": "https://stackoverflow.com/users/163186/mohamed-nuur"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487184942, "post_id": 42239768, "comment_id": 71673432, "body": "According to this: <a href=\"http://stackoverflow.com/questions/22077023/why-cant-i-indirectly-return-an-object-literal-to-satisfy-an-index-signature-re\" title=\"why cant i indirectly return an object literal to satisfy an index signature re\">stackoverflow.com/questions/22077023/&hellip;</a> the solution is to explicitly cast scope and bindToController to <code>{[boundProperty:string]:string}</code> and the error goes away."}], "answers": [{"comments": [{"owner": {"reputation": 5036, "user_id": 163186, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1eb92e3eabe80013d83ad235b39266c5?s=128&d=identicon&r=PG", "display_name": "Mohamed Nuur", "link": "https://stackoverflow.com/users/163186/mohamed-nuur"}, "edited": false, "score": 0, "creation_date": 1487183618, "post_id": 42243745, "comment_id": 71672590, "body": "This answer doesn&#39;t help at all. The problem is TypeScript is complaining about my <code>bindToController</code> not being right. I&#39;m not sure what&#39;s going on."}], "tags": [], "owner": {"reputation": 457, "user_id": 1225695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53c1af09afac034a51231eab61d97508?s=128&d=identicon&r=PG", "display_name": "lalo", "link": "https://stackoverflow.com/users/1225695/lalo"}, "is_accepted": false, "score": 1, "last_activity_date": 1487145908, "creation_date": 1487145908, "answer_id": 42243745, "question_id": 42239768, "link": "https://stackoverflow.com/questions/42239768/angular-1-5-typescript-directive-with-controller/42243745#42243745", "title": "Angular 1.5 + TypeScript Directive with Controller", "body": "<p>The directive should be a function that returns a configuration object. I would write the directive like this:</p>\n\n<pre><code>export const fooDirective = (): angular.IDirective =&gt; {\n    return {\n        restrict: 'E',\n        replace: true,\n        scope: {},\n        templateUrl: 'content/templates/foo.template.html',\n        controller: FooController,\n        controllerAs: 'ctrl',\n        bindToController: {\n            foo: '&lt;'\n        }\n    };\n};\n</code></pre>\n\n<p>I would also recommend you take a look at the new component API. It greatly simplifies creating new components, and it uses many best practices by default, such as <code>controllerAs</code>.</p>\n\n<p><a href=\"https://docs.angularjs.org/guide/directive\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/guide/directive</a><br>\n<a href=\"https://docs.angularjs.org/guide/component\" rel=\"nofollow noreferrer\">https://docs.angularjs.org/guide/component</a></p>\n"}, {"comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1492464654, "post_id": 42298799, "comment_id": 73975911, "body": "You don&#39;t need to write the word <code>public</code> seven (7) times, it has no impact on your code except where it reduces readability."}, {"owner": {"reputation": 1265, "user_id": 862567, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KzqUX.png?s=128&g=1", "display_name": "Eduard Jacko", "link": "https://stackoverflow.com/users/862567/eduard-jacko"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1539864002, "post_id": 42298799, "comment_id": 92660419, "body": "@AluanHaddad that depend on tslint settings."}], "tags": [], "owner": {"reputation": 168, "user_id": 2396766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c022b16c509933247226af6a6879c4d?s=128&d=identicon&r=PG", "display_name": "Vlada", "link": "https://stackoverflow.com/users/2396766/vlada"}, "is_accepted": false, "score": 0, "last_activity_date": 1487336834, "creation_date": 1487336834, "answer_id": 42298799, "question_id": 42239768, "link": "https://stackoverflow.com/questions/42239768/angular-1-5-typescript-directive-with-controller/42298799#42298799", "title": "Angular 1.5 + TypeScript Directive with Controller", "body": "<p>It seems to be the problem with TypeScript definition only accepting boolean.</p>\n\n<pre><code>export class FooDirective implements angular.IDirective {\n  public restrict = 'E';\n  public replace = true;\n  public scope = {};\n  public templateUrl = 'content/templates/foo.template.html';\n  public controller = FooController;\n  public controllerAs = 'ctrl';\n  public bindToController:any = {\n      foo: '&lt;',\n  };\n}\n</code></pre>\n\n<p>This would fix the error, on the other hand it won't typecheck bindToController.</p>\n"}], "owner": {"reputation": 5036, "user_id": 163186, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1eb92e3eabe80013d83ad235b39266c5?s=128&d=identicon&r=PG", "display_name": "Mohamed Nuur", "link": "https://stackoverflow.com/users/163186/mohamed-nuur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487336834, "creation_date": 1487126311, "last_edit_date": 1487183422, "question_id": 42239768, "link": "https://stackoverflow.com/questions/42239768/angular-1-5-typescript-directive-with-controller", "title": "Angular 1.5 + TypeScript Directive with Controller", "body": "<p>I'm trying to create a directive with controller using Angular 1.5 and TypeScript 1.8 but it won't work for me. I looked at a bunch of examples but I am following those examples to the tee and it still won't work for me. Am I cursed?</p>\n\n<p>Here is the code:</p>\n\n<pre><code>export class FooController implements angular.IController {\n    static $inject = ['myService', '$state'];\n\n    constructor(private myService: Services.MyService, private $state: angular.ui.IStateService) {\n    }\n\n    public foo: Services.Dtos.Foo;\n    public bar;\n\n    $onInit() {\n        if (!this.foo) return;\n\n        this.bar = this.$state.href('app.bar', {id: this.foo.id});\n    }\n}\n\nexport class FooDirective implements angular.IDirective {\n    public restrict = 'E';\n    public replace = true;\n    public scope = {};\n    public templateUrl = 'content/templates/foo.template.html';\n    public controller = FooController;\n    public controllerAs = 'ctrl';\n    public bindToController = {\n        foo: '&lt;',\n    };\n}\n</code></pre>\n\n<p>It errors on <code>FooDirective</code> saying the following:</p>\n\n<ol>\n<li>Class 'FooDirective' incorrectly implements interface 'IDirective'.</li>\n<li>Types of property 'bindToController' are incompatible.</li>\n<li>Type '{ foo: string; }' is not assignable to type 'boolean | { [boundProperty: string]: string; }'.</li>\n<li>Type '{ foo: string; }' is not assignable to type '{ [boundProperty: string]: string; }'.</li>\n<li>Index signature is missing in type '{ foo: string; }'.</li>\n</ol>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>UPDATE 2017/02/15</strong> IDirective looks like this (from angular.d.ts file):</p>\n\n<pre><code>interface IDirective {\n    compile?: IDirectiveCompileFn;\n    controller?: string | Injectable&lt;IControllerConstructor&gt;;\n    controllerAs?: string;\n    /**\n     * @deprecated\n     * Deprecation warning: although bindings for non-ES6 class controllers are currently bound to this before\n     * the controller constructor is called, this use is now deprecated. Please place initialization code that\n     * relies upon bindings inside a $onInit method on the controller, instead.\n     */\n    bindToController?: boolean | {[boundProperty: string]: string};\n    link?: IDirectiveLinkFn | IDirectivePrePost;\n    multiElement?: boolean;\n    priority?: number;\n    /**\n     * @deprecated\n     */\n    replace?: boolean;\n    require?: string | string[] | {[controller: string]: string};\n    restrict?: string;\n    scope?: boolean | {[boundProperty: string]: string};\n    template?: string | ((tElement: JQuery, tAttrs: IAttributes) =&gt; string);\n    templateNamespace?: string;\n    templateUrl?: string | ((tElement: JQuery, tAttrs: IAttributes) =&gt; string);\n    terminal?: boolean;\n    transclude?: boolean | 'element' | {[slot: string]: string};\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2538, "user_id": 6847234, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e6c83419733b2645e9e9c66aaf5e959?s=128&d=identicon&r=PG&f=1", "display_name": "dev_054", "link": "https://stackoverflow.com/users/6847234/dev-054"}, "edited": false, "score": 0, "creation_date": 1487127926, "post_id": 42239909, "comment_id": 71639013, "body": "Thanks for your response. It really works :) Can you explain why destructuring does not work for <i>global</i> variables?"}, {"owner": {"reputation": 200340, "user_id": 2680216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K877D.png?s=128&g=1", "display_name": "Josh Crozier", "link": "https://stackoverflow.com/users/2680216/josh-crozier"}, "edited": false, "score": 0, "creation_date": 1487127928, "post_id": 42239909, "comment_id": 71639015, "body": "+1 - Yeah, this seems like the current solution. I did some research, and using <code>Object.assign</code> was suggested in GitHub <a href=\"https://github.com/Microsoft/TypeScript/issues/5326\" rel=\"nofollow noreferrer\">issue #5326</a>. The issue is still open, and the proposed TS solution was <code>constructor(public {name1, name2})</code>, but that hasn&#39;t been implemented yet."}, {"owner": {"reputation": 2538, "user_id": 6847234, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e6c83419733b2645e9e9c66aaf5e959?s=128&d=identicon&r=PG&f=1", "display_name": "dev_054", "link": "https://stackoverflow.com/users/6847234/dev-054"}, "reply_to_user": {"reputation": 200340, "user_id": 2680216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K877D.png?s=128&g=1", "display_name": "Josh Crozier", "link": "https://stackoverflow.com/users/2680216/josh-crozier"}, "edited": false, "score": 0, "creation_date": 1487127980, "post_id": 42239909, "comment_id": 71639031, "body": "Thanks @JoshCrozier for link."}], "tags": [], "owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "is_accepted": true, "score": 4, "last_activity_date": 1487127511, "creation_date": 1487127511, "answer_id": 42239909, "question_id": 42239716, "link": "https://stackoverflow.com/questions/42239716/destructuring-assignment-in-typescript-for-global-variables/42239909#42239909", "title": "Destructuring assignment in Typescript for global variables", "body": "<p>Use <code>Object.assign</code> from within your class:</p>\n\n<pre><code>Object.assign(this, paginationConfig);\n</code></pre>\n"}], "owner": {"reputation": 2538, "user_id": 6847234, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e6c83419733b2645e9e9c66aaf5e959?s=128&d=identicon&r=PG&f=1", "display_name": "dev_054", "link": "https://stackoverflow.com/users/6847234/dev-054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1246, "favorite_count": 1, "accepted_answer_id": 42239909, "answer_count": 1, "score": 7, "last_activity_date": 1584578165, "creation_date": 1487125901, "last_edit_date": 1584578165, "question_id": 42239716, "link": "https://stackoverflow.com/questions/42239716/destructuring-assignment-in-typescript-for-global-variables", "title": "Destructuring assignment in Typescript for global variables", "body": "<p>I have the following statement:</p>\n\n<p>I'm receiving an <code>object</code> from somewhere like the following in example:</p>\n\n<pre><code>paginationConfig = {\n  currentPage: 1,\n  pageSizes: [5, 10, 15],\n  perPage: 20\n};\n</code></pre>\n\n<p>My class:</p>\n\n<pre><code>export class MyComponent implements OnInit {\n\n  currentPage: number;\n  pageSizes: number[];\n  perPage: number;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    { this.currentPage, this.perPage, this.pageSizes } = paginationConfig; \n    // It prints undefined for all those variables and I receive the error:\n    // TS1128: Declaration or statement expected.\n\n    // It works for local variables (as below), why not when I use **this**?\n    const { currentPage, pageSizes, perPage } = paginationConfig;\n  }\n}\n</code></pre>\n\n<p>So what I'm trying to do is destructure the <code>object</code> like the examples in <a href=\"https://basarat.gitbooks.io/typescript/content/docs/destructuring.html\" rel=\"nofollow noreferrer\"><strong>this</strong></a> book.</p>\n\n<p>I can get it work if I use <strong>local</strong> variables, but in my case I really want these as global. Isn't it possible/supported?</p>\n\n<p><strong>PS:</strong> I already tried to wrap everything in parenthesis, it doesn't work either.</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 42, "user_id": 1364155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77451b2a3da09841e82ca3276994f66?s=128&d=identicon&r=PG", "display_name": "SRLKilling", "link": "https://stackoverflow.com/users/1364155/srlkilling"}, "edited": false, "score": 0, "creation_date": 1487257289, "post_id": 42252062, "comment_id": 71711203, "body": "Well, this does not really answer my question... a) For the fallback route, I&#39;m already using it, but I would like to display the fallback route content for a valid route, where the param is invalid, i.e. rejected by my auth guard. b) This solution is maybe the prettiest one, but as the downside of actualy changing the url. This is exactly what I wanted to avoid."}], "tags": [], "owner": {"reputation": 430, "user_id": 2088123, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1453c2755ed87f52f7a4f5c7e0475072?s=128&d=identicon&r=PG", "display_name": "KGolbang", "link": "https://stackoverflow.com/users/2088123/kgolbang"}, "is_accepted": false, "score": 0, "last_activity_date": 1487168796, "creation_date": 1487168796, "answer_id": 42252062, "question_id": 42239131, "link": "https://stackoverflow.com/questions/42239131/angular-display-another-route-than-the-url-one/42252062#42252062", "title": "Angular - Display another route than the url one", "body": "<p>I think this is the Angular 2 way to do that:</p>\n\n<p>a) for pages not found there is fallback path \"**\"</p>\n\n<pre><code>{\n    path: '**',\n    component: NotFoundComponent\n}\n</code></pre>\n\n<p>b) for protected pages there is the onActivate mechanism</p>\n\n<pre><code>{\n    path: 'private',\n    component: PrivateComponent,\n    canActivate: [Guard]\n}\n</code></pre>\n\n<p>I don't think you have to hide or ngIf-fy the router-outlet. The router outlet is present all time and is crucial part of the application.</p>\n\n<p>Plunkr:</p>\n\n<ul>\n<li>Go in windowed mode to be able to check the route in the address bar</li>\n<li>Click at \"Navigate to non existing page\": the address bar shows \"/non-existing\" but in fact you see 404 component</li>\n<li>Click at \"Navigate to private\": the Guard returns false which means that the navigation gets cancelled. Since there is a subscription to events Observable on router the user will be redirected to the login page. \"/login\" is what you see in the address bar.</li>\n</ul>\n\n<p><a href=\"https://plnkr.co/edit/FSklRhhQV0cpLFP53I13\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/FSklRhhQV0cpLFP53I13</a></p>\n"}, {"tags": [], "owner": {"reputation": 42, "user_id": 1364155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77451b2a3da09841e82ca3276994f66?s=128&d=identicon&r=PG", "display_name": "SRLKilling", "link": "https://stackoverflow.com/users/1364155/srlkilling"}, "is_accepted": true, "score": 1, "last_activity_date": 1487264236, "creation_date": 1487264236, "answer_id": 42280224, "question_id": 42239131, "link": "https://stackoverflow.com/questions/42239131/angular-display-another-route-than-the-url-one/42280224#42280224", "title": "Angular - Display another route than the url one", "body": "<p>Using the latest answer, I dug into the <code>Router</code> class and figured we can pass <code>{skipLocationChange: true}</code> to <code>Router.navigate</code> in order not to update the url.</p>\n\n<p>So, when the route is activated, in the constructor of the component, I just need to check if the route parameters resolved to a valid object, and if it is not the case, I silently navigate to the 404 :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class GroupResolve implements Resolve&lt;Group&gt; {\n    constructor() {}\n\n    resolve(route: ActivatedRouteSnapshot) {\n        return api.getGroup(route.params['id']);\n        /* Returns null if user can't access such a group */\n    }\n}\n\n@Component({\n    templateUrl: 'group.component.html',\n    providers: [ GroupResolve ]\n})\nexport class GroupComponent {\n    constructor(public route: ActivatedRoute, private router: Router) {\n        if(route.snapshot.data['group'] == null) {\n            /* The user can't access the given group page, silently navigate to a global 404 route */\n            this.router.navigate([\"404\"], {skipLocationChange: true});\n        }\n    };\n}\n</code></pre>\n"}], "owner": {"reputation": 42, "user_id": 1364155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c77451b2a3da09841e82ca3276994f66?s=128&d=identicon&r=PG", "display_name": "SRLKilling", "link": "https://stackoverflow.com/users/1364155/srlkilling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "accepted_answer_id": 42280224, "answer_count": 2, "score": 0, "last_activity_date": 1487264236, "creation_date": 1487121277, "last_edit_date": 1487257380, "question_id": 42239131, "link": "https://stackoverflow.com/questions/42239131/angular-display-another-route-than-the-url-one", "title": "Angular - Display another route than the url one", "body": "<p>Here is the scenario :  </p>\n\n<ul>\n<li>I'm on <code>/group/</code></li>\n<li>I click on a group, thus trying to go to <code>/group/:id</code></li>\n<li>My AuthGuard is called with the activated route, resolves and check for <code>CanActivate</code></li>\n<li><code>CanActivate</code> detects the user should not go to the route.<br>\nThe user may have lost his rights between the time the group list was retrieved, and he tried to access a particular one.</li>\n</ul>\n\n<p>Current behavior is that if I return false, the url will never be activated. If I return true, the url will be activated, but then, the whole component tree will be rendered, and all the <code>router-outlet</code> need to be physically present.</p>\n\n<p><strong>What I would like to do :</strong>  </p>\n\n<p>The url should be activated (i.e. <code>/group/:id</code> is in the url and history) but the page displayed should correspond to another route (e.g. <code>/404</code> or <code>/login</code>).\nI insist on the fact that the url in the adress bar must remain the original <code>/group/:id</code>.</p>\n\n<p><strong>I have thought about two possibilities :</strong></p>\n\n<ul>\n<li>Having a local 404 component, and hiding the router-outlet, displaying the 404 if needed.<br>\nBut the problem is the 404 component should be global, nested templates from root to the url should not be displayed. It not just the last part that is invalid, but the whole route.</li>\n<li>So instead, I could have a service storing informations about if we should show a 404, and then, a top-level component hiding the router-outlet and displaying the 404 when needed.</li>\n</ul>\n\n<p>Though, these solutions don't seem perfect to me. They just get around the problem, without actualy solving it.<br>\nIn particular, the <code>router-outlet</code> can't be <code>*ngIf</code>ed, meaning that even though I am displaying a 404, or a login page, the DOM will be populated with the whole website components of the activated route, but without any data, and even though the user should not see it. It seems ugly to me.\nI'm not trying to get around the fact that router-outlet should be present to resolve the route, I just want angular to pretend a route on the url, and activate another one.</p>\n\n<p>What is the proper way of implementing this behavior using Angular ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript", "promise", "subscribe"], "comments": [{"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1487122094, "post_id": 42238819, "comment_id": 71637603, "body": "Is <code>send_catagories()</code> also using an observable? If yes, you need to chain the observable from get_categories() to the one in send_categories() with the <code>.mergeMap()</code> operator. Let me know if you need help with the syntax."}, {"owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "reply_to_user": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1487122544, "post_id": 42238819, "comment_id": 71637702, "body": "send_catagories() is not using observable, please show me the syntax: return this.http.post( url, body, {headers: headers, withCredentials:true})         .subscribe(            response =&gt; { this.total_page = response.json();return this.total_page;                   }, .share()       );       } then this.get_category(1).subscribe(response=&gt; {       this.callfunc(); });"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 1, "creation_date": 1487123436, "post_id": 42238819, "comment_id": 71637948, "body": "Got it. I have posted an answer with the correct syntax."}], "answers": [{"comments": [{"owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487120858, "post_id": 42238885, "comment_id": 71637216, "body": "Thanks I will try. But my idea is use something more proffesional to catch the response. Eg: get_category(1).then or an observable but i dont know how to do that"}, {"owner": {"reputation": 907, "user_id": 4561908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b818103f77149ade01b9c9b0f49a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Gab", "link": "https://stackoverflow.com/users/4561908/gab"}, "reply_to_user": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487120938, "post_id": 42238885, "comment_id": 71637250, "body": "There&#39;s nothing unprofessional about using callback functions but suit yourself"}, {"owner": {"reputation": 3520, "user_id": 2651688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d6a0bcd2590c0aa61a775b039c6480?s=128&d=identicon&r=PG&f=1", "display_name": "RobM", "link": "https://stackoverflow.com/users/2651688/robm"}, "edited": false, "score": 4, "creation_date": 1487121594, "post_id": 42238885, "comment_id": 71637463, "body": "In my opinion, passing in a callback to a service when using observables is not a good pattern. As Louis alluded to, it makes additional logic and error handling ugly."}, {"owner": {"reputation": 907, "user_id": 4561908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b818103f77149ade01b9c9b0f49a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Gab", "link": "https://stackoverflow.com/users/4561908/gab"}, "reply_to_user": {"reputation": 3520, "user_id": 2651688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9d6a0bcd2590c0aa61a775b039c6480?s=128&d=identicon&r=PG&f=1", "display_name": "RobM", "link": "https://stackoverflow.com/users/2651688/robm"}, "edited": false, "score": 1, "creation_date": 1503423266, "post_id": 42238885, "comment_id": 78605645, "body": "@RobM I just wanted to say that you&#39;re right. While rewriting a co-workers application, I went to callback hell and back and I now see the error in my ways!"}], "tags": [], "owner": {"reputation": 907, "user_id": 4561908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5b818103f77149ade01b9c9b0f49a6d?s=128&d=identicon&r=PG&f=1", "display_name": "Gab", "link": "https://stackoverflow.com/users/4561908/gab"}, "is_accepted": false, "score": 8, "last_activity_date": 1487119556, "creation_date": 1487119556, "answer_id": 42238885, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post/42238885#42238885", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<p>You can add a callback function to your list of get_category(...) parameters.</p>\n\n<p>Ex:</p>\n\n<pre><code> get_categories(number, callback){\n this.http.post( url, body, {headers: headers, withCredentials:true})\n    .subscribe( \n      response =&gt; {\n        this.total = response.json();\n        callback(); \n\n      }, error =&gt; {\n    }\n  ); \n\n}\n</code></pre>\n\n<p>And then you can just call get_category(...) like this:</p>\n\n<pre><code>this.get_category(1, name_of_function);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487122152, "post_id": 42239060, "comment_id": 71637616, "body": "Yes!, this is what I want, how I can keep the old syntax without &quot;.map&quot;?, eg : return this.http.post( url, body, {headers: headers, withCredentials:true})     .subscribe(        response =&gt; {         this.total = response.json(); return total;       }).share();"}, {"owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487122852, "post_id": 42239060, "comment_id": 71637807, "body": "(173,69): error TS2339: Property &#39;subscribe&#39; does not exist on type &#39;Subscription&#39;."}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "reply_to_user": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487127660, "post_id": 42239060, "comment_id": 71638951, "body": "Why do you want the original syntax? FRP is about combining streams to create one meaningful observable that can be subscribed to."}, {"owner": {"reputation": 1532, "user_id": 5996109, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/ea8a30cf336f9bdd23ecafdae26e2b2a?s=128&d=identicon&r=PG&f=1", "display_name": "Alfa Bravo", "link": "https://stackoverflow.com/users/5996109/alfa-bravo"}, "edited": false, "score": 0, "creation_date": 1506765445, "post_id": 42239060, "comment_id": 79957454, "body": "@pixelbits I get an error message that <code>.share does not exist on type Observable&lt;any&gt;</code> and also should <code>return total</code> not be <code>return this.total</code>? Just trying to figure this code out seeing that I am struggling with something similar."}], "tags": [], "owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "is_accepted": false, "score": 1, "last_activity_date": 1487120724, "creation_date": 1487120724, "answer_id": 42239060, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post/42239060#42239060", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<pre><code>get_categories(number){\n return this.http.post( url, body, {headers: headers, withCredentials:true})\n      .map(t=&gt;  {\n          this.total = t.json();\n          return total;\n      }).share();\n  );     \n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>this.get_category(1).subscribe(t=&gt; {\n      this.callfunc();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487127733, "post_id": 42239388, "comment_id": 71638970, "body": "Thanks, Thanks, Thanks! it is working perfect!  just two question,1) inside this.send_categories(total){ this.myNewTotal= total } How I can ectract the data (responde.json) from &quot;total&quot; parameter?  2)  i have added &quot;error&quot; to the syntax: .map(response =&gt; response.json()), error =&gt; {         } ); if I need call this.send_categories(total) only in error case, how I can subscribe to error ?"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "edited": false, "score": 0, "creation_date": 1487151705, "post_id": 42239388, "comment_id": 71649515, "body": "Hmm. Based on your previous code, I thought <code>response.json()</code> <b>WAS</b> the total. What I mean is, I named the variable <code>total</code> but it contains whatever is in <code>response.json()</code>; you can name this variable whatever you want. I&#39;ve updated my answer to reflect that better and also to show you how to handle the error."}, {"owner": {"reputation": 2758, "user_id": 4184670, "user_type": "registered", "accept_rate": 63, "profile_image": "https://lh5.googleusercontent.com/-srjOBPyZ3EA/AAAAAAAAAAI/AAAAAAAAAHk/QkrBFiVfDj0/photo.jpg?sz=128", "display_name": "Winnemucca", "link": "https://stackoverflow.com/users/4184670/winnemucca"}, "edited": false, "score": 0, "creation_date": 1504942183, "post_id": 42239388, "comment_id": 79218904, "body": "I may be missing the point of the third argument in subscribe but I am wondering if you can invoke a method to complete the callback?"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 1, "creation_date": 1504968933, "post_id": 42239388, "comment_id": 79226108, "body": "Oftentimes the two callbacks are synonymous. Take an HTTP request for instance. When the server returns the data, the <code>nextCallback</code> is invoked, and then immediately after the <code>completeCallback</code>. But in a different situation (e.g. a chat system), the <code>nextCallback</code> could be invoked multiple times (e.g. for each chat notification) and the <code>completeCallback</code> could never be invoked."}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1504969071, "post_id": 42239388, "comment_id": 79226148, "body": "If you created an observable with <code>Observable.create()</code>, you can complete it with <code>observer.complete()</code>. If you have a Subject, you can call <code>subject.complete()</code>. Finally, some operators trigger the completion of the observable, like <code>obs.take(1)</code> which completes the observable after one value has been emitted."}, {"owner": {"reputation": 381, "user_id": 1759343, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/713219b4148529821b977080dbc7e585?s=128&d=identicon&r=PG", "display_name": "yas", "link": "https://stackoverflow.com/users/1759343/yas"}, "edited": false, "score": 1, "creation_date": 1535383332, "post_id": 42239388, "comment_id": 91035659, "body": "the best explanation ever."}], "tags": [], "owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "is_accepted": true, "score": 49, "last_activity_date": 1487152231, "last_edit_date": 1487152231, "creation_date": 1487123415, "answer_id": 42239388, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post/42239388#42239388", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<p>Update your <code>get_categories()</code> method to <strong>return</strong> the total (wrapped in an observable):</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>// Note that .subscribe() is gone and I've added a return.\nget_categories(number) {\n  return this.http.post( url, body, {headers: headers, withCredentials:true})\n    .map(response =&gt; response.json());\n}\n</code></pre>\n\n<p>In <code>search_categories()</code>, you can subscribe the observable returned by <code>get_categories()</code> (or you could keep transforming it by chaining more RxJS operators):</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>// send_categories() is now called after get_categories().\nsearch_categories() {\n  this.get_categories(1)\n    // The .subscribe() method accepts 3 callbacks\n    .subscribe(\n      // The 1st callback handles the data emitted by the observable.\n      // In your case, it's the JSON data extracted from the response.\n      // That's where you'll find your total property.\n      (jsonData) =&gt; {\n        this.send_categories(jsonData.total);\n      },\n      // The 2nd callback handles errors.\n      (err) =&gt; console.error(err),\n      // The 3rd callback handles the \"complete\" event.\n      () =&gt; console.log(\"observable complete\")\n    );\n}\n</code></pre>\n\n<p>Note that you <strong>only subscribe ONCE</strong>, at the end.</p>\n\n<p>Like I said in the comments, the <code>.subscribe()</code> method of any observable accepts 3 callbacks like this:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>obs.subscribe(\n  nextCallback,\n  errorCallback,\n  completeCallback\n);\n</code></pre>\n\n<p>They must be passed in this order. You don't have to pass all three. Many times only the <code>nextCallback</code> is implemented:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>obs.subscribe(nextCallback);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 315, "user_id": 4866425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-v1TIKyrrEHM/AAAAAAAAAAI/AAAAAAAAA24/lN7zkIka6Ns/photo.jpg?sz=128", "display_name": "Sushrut Kanetkar", "link": "https://stackoverflow.com/users/4866425/sushrut-kanetkar"}, "is_accepted": false, "score": 5, "last_activity_date": 1520535938, "creation_date": 1520535938, "answer_id": 49180652, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post/49180652#49180652", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<p>You can code as a lambda expression as the third parameter(on complete) to the subscribe method. Here I re-set the departmentModel variable to the default values.</p>\n\n<pre><code>saveData(data:DepartmentModel){\n  return this.ds.sendDepartmentOnSubmit(data).\n  subscribe(response=&gt;this.status=response,\n   ()=&gt;{},\n   ()=&gt;this.departmentModel={DepartmentId:0});\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 10685, "user_id": 3326275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9bH0J.jpg?s=128&g=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/3326275/pratik"}, "edited": false, "score": 0, "creation_date": 1563539537, "post_id": 52978104, "comment_id": 100743926, "body": "@Pratik what do you mean by that?"}, {"owner": {"reputation": 10685, "user_id": 3326275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9bH0J.jpg?s=128&g=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/3326275/pratik"}, "edited": false, "score": 0, "creation_date": 1563543813, "post_id": 52978104, "comment_id": 100746294, "body": "it means 1st statement let subject = new Subject();  gives error as there is no subject class."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 10685, "user_id": 3326275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9bH0J.jpg?s=128&g=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/3326275/pratik"}, "edited": false, "score": 0, "creation_date": 1566068505, "post_id": 52978104, "comment_id": 101542488, "body": "@Pratik you need rxjs for that"}, {"owner": {"reputation": 10685, "user_id": 3326275, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9bH0J.jpg?s=128&g=1", "display_name": "Pratik", "link": "https://stackoverflow.com/users/3326275/pratik"}, "edited": false, "score": 0, "creation_date": 1566120980, "post_id": 52978104, "comment_id": 101550018, "body": "keep mentioning that :)"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1540416284, "creation_date": 1540416284, "answer_id": 52978104, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post/52978104#52978104", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<p>You can do this be using a new <code>Subject</code> too:</p>\n\n<p><strong>Typescript:</strong></p>\n\n<pre><code>let subject = new Subject();\n\nget_categories(...) {\n   this.http.post(...).subscribe( \n      (response) =&gt; {\n         this.total = response.json();\n         subject.next();\n      }\n   ); \n\n   return subject; // can be subscribed as well \n}\n\nget_categories(...).subscribe(\n   (response) =&gt; {\n     // ...\n   }\n);\n</code></pre>\n"}], "owner": {"reputation": 312, "user_id": 6089644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b162ceb997825cd2063460db6123d08?s=128&d=identicon&r=PG", "display_name": "Louise", "link": "https://stackoverflow.com/users/6089644/louise"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134948, "favorite_count": 10, "accepted_answer_id": 42239388, "answer_count": 5, "score": 30, "last_activity_date": 1540416284, "creation_date": 1487119110, "last_edit_date": 1512316105, "question_id": 42238819, "link": "https://stackoverflow.com/questions/42238819/angular-2-how-to-call-a-function-after-get-a-response-from-subscribe-http-post", "title": "Angular 2: How to call a function after get a response from subscribe http.post", "body": "<p>I need to call a method after get the data from the http post request </p>\n\n<p><strong>service: request.service.TS</strong></p>\n\n<pre><code>get_categories(number){\n this.http.post( url, body, {headers: headers, withCredentials:true})\n    .subscribe( \n      response =&gt; {\n        this.total = response.json();\n\n      }, error =&gt; {\n    }\n  ); \n\n}\n</code></pre>\n\n<p><strong>component: categories.TS</strong> </p>\n\n<pre><code>search_categories() {\n\nthis.get_categories(1);\n//I need to call a Method here after get the data from response.json() !! e.g.: send_catagories();\n}\n</code></pre>\n\n<p>Only works if I change to:</p>\n\n<p><strong>service: request.service.TS</strong></p>\n\n<pre><code>get_categories(number){\n this.http.post( url, body, {headers: headers, withCredentials:true})\n    .subscribe( \n      response =&gt; {\n        this.total = response.json();\n        this.send_catagories(); //here works fine\n\n      }, error =&gt; {\n    }\n  ); \n\n}\n</code></pre>\n\n<p>But I need to call the method <code>send_catagories()</code> inside of component after call <code>this.get_categories(1);</code> like this</p>\n\n<p>component: categories.TS </p>\n\n<pre><code>search_categories() {\n\nthis.get_categories(1);\nthis.send_catagories(response);\n}\n</code></pre>\n\n<p>What I doing wrong?</p>\n"}, {"tags": ["typescript", "metadata", "decorator", "reflect-metadata"], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": false, "score": -1, "last_activity_date": 1487215410, "creation_date": 1487215410, "answer_id": 42264249, "question_id": 42238593, "link": "https://stackoverflow.com/questions/42238593/typescript-metadata-in-module-issue/42264249#42264249", "title": "TypeScript metadata in module issue", "body": "<p>The answer is that it does work. For some reason, when I try it today, it started working.</p>\n\n<p>The unicorn just pass by.</p>\n\n<p>Thanks @blakeembrey for taking a look into this. </p>\n"}], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1487215410, "creation_date": 1487117532, "last_edit_date": 1487120666, "question_id": 42238593, "link": "https://stackoverflow.com/questions/42238593/typescript-metadata-in-module-issue", "title": "TypeScript metadata in module issue", "body": "<p>I have a framework that uses metadata with decorator in TypeScript so I know it is working.</p>\n\n<p>However, today I just found a bizarre basic case that I can't figure out why.</p>\n\n<p>It is reproducible in TS@2.1.5, @2.1.6, and @2.2.0-dev.20170214</p>\n\n<p>The issue can be demo in <a href=\"https://github.com/unional/some-issues/tree/ts-meta-import\" rel=\"nofollow noreferrer\">https://github.com/unional/some-issues/tree/ts-meta-import</a></p>\n\n<p>Summary of the situation</p>\n\n<pre><code>// Foo.ts\nimport 'reflect-metadata'\n\n@Reflect.metadata('somekey', 123)\nexport class Foo { }\n\nReflect.getMetadata('somekey', Foo) // returns 123\n</code></pre>\n\n<p>The above code works fine, however if I try to access <code>Foo</code> in a different file and do the same thing, it doesn't work:</p>\n\n<pre><code>import 'reflect-metadata'\nimport { Foo } from './Foo'\n\nReflect.getMetadata('somekey', Foo) // returns undefined\n</code></pre>\n\n<p>It really shouldn't be the case....</p>\n\n<p>UPDATE: in my framework, I'm using <code>aurelia-metadata</code> and it seems to work in this case. But the question remains, why this \"simple\" scenario doesn't work with <code>reflect-metadata</code>?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "charts", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 430, "user_id": 2392536, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4810c263ef03383a017a8f256cf8668d?s=128&d=identicon&r=PG", "display_name": "Langfo", "link": "https://stackoverflow.com/users/2392536/langfo"}, "is_accepted": false, "score": 5, "last_activity_date": 1487569764, "creation_date": 1487569764, "answer_id": 42337325, "question_id": 42238490, "link": "https://stackoverflow.com/questions/42238490/angular-2-typeerror-undefined-is-not-a-function-for-array-includes/42337325#42337325", "title": "Angular 2 - TypeError undefined is not a function for Array includes", "body": "<p>I found the problem.  The polyfills.ts file contained</p>\n\n<pre><code>import 'core-js/es6/array';\n</code></pre>\n\n<p>I needed to add</p>\n\n<pre><code>import 'core-js/es7/array';\n</code></pre>\n\n<p>to the file.</p>\n\n<p>I'm thinking this is due to the version of Chrome installed on my corporate PC. It is version 38.  This <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"noreferrer\">developer.mozilla.org</a> page for Array.includes states that support for Chrome is in version 47.</p>\n"}], "owner": {"reputation": 430, "user_id": 2392536, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/4810c263ef03383a017a8f256cf8668d?s=128&d=identicon&r=PG", "display_name": "Langfo", "link": "https://stackoverflow.com/users/2392536/langfo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5595, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1487569764, "creation_date": 1487116922, "last_edit_date": 1487569529, "question_id": 42238490, "link": "https://stackoverflow.com/questions/42238490/angular-2-typeerror-undefined-is-not-a-function-for-array-includes", "title": "Angular 2 - TypeError undefined is not a function for Array includes", "body": "<p>My Angular 2 project was created with angular-cli version 1.0.0-beta.30.  I am using the ngx-charts version 4.1.2 library.  The bar chart component is working fine but when I add a line chart, a TypeError exception is thrown when I run the application.  The error is the \"includes\" function in line 240 of [line-chart.component.ts][1] source file when running in Chrome version 38.  The line chart appears correctly in Firefox</p>\n\n<pre><code>if (!values.includes(d.name)) {\n    values.push(d.name);\n}\n</code></pre>\n\n<p>How do I make the array include function known to my application?</p>\n\n<p>In my tsconfig.json file I have</p>\n\n<pre><code>\"lib\": [\"es6\", \"dom\"],\n</code></pre>\n\n<p>My package.json file contains the following</p>\n\n<pre><code>{\n  \"name\": \"dashboards\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"ng\": \"ng\",\n    \"start\": \"ng serve\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update --standalone false --gecko false\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.4.5\",\n    \"@angular/compiler\": \"^2.4.5\",\n    \"@angular/core\": \"^2.4.5\",\n    \"@angular/forms\": \"^2.4.5\",\n    \"@angular/http\": \"^2.4.5\",\n    \"@angular/platform-browser\": \"^2.4.5\",\n    \"@angular/platform-browser-dynamic\": \"^2.4.5\",\n    \"@angular/router\": \"^3.4.1\",\n    \"@swimlane/ngx-charts\": \"^4.1.2\",\n    \"core-js\": \"^2.4.1\",\n    \"d3\": \"^4.4.0\",\n    \"rxjs\": \"^5.0.3\",\n    \"ts-helpers\": \"^1.1.2\",\n    \"zone.js\": \"^0.7.6\"\n  },\n  \"devDependencies\": {\n    \"@angular/cli\": \"1.0.0-beta.30\",\n    \"@angular/compiler-cli\": \"^2.4.5\",\n    \"@types/d3\": \"^4.4.0\",\n    \"@types/jasmine\": \"2.5.38\",\n    \"@types/node\": \"^6.0.42\",\n    \"codelyzer\": \"~2.0.0-beta.1\",\n    \"jasmine-core\": \"2.5.2\",\n    \"jasmine-spec-reporter\": \"2.7.0\",\n    \"karma\": \"1.3.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.1.0\",\n    \"karma-remap-istanbul\": \"^0.4.0\",\n    \"protractor\": \"~4.0.14\",\n    \"ts-node\": \"1.7.2\",\n    \"tslint\": \"^4.3.0\",\n    \"typescript\": \"~2.0.10\"\n  }\n}\n</code></pre>\n\n<p>My polyfills.ts file contains</p>\n\n<pre><code>import 'core-js/es6/array';\n</code></pre>\n\n<p>I've looked through the ngx-charts demo and other examples but I can't figure out why I am receiving the error.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 4312167, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/vnP1d.jpg?s=128&g=1", "display_name": "John Stafford", "link": "https://stackoverflow.com/users/4312167/john-stafford"}, "edited": false, "score": 0, "creation_date": 1487121938, "post_id": 42238875, "comment_id": 71637554, "body": "Is this a common work around? I will try this out tomorrow.  Thank you for your response."}, {"owner": {"reputation": 2767, "user_id": 55154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fse7P.jpg?s=128&g=1", "display_name": "Fredy Treboux", "link": "https://stackoverflow.com/users/55154/fredy-treboux"}, "reply_to_user": {"reputation": 545, "user_id": 4312167, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/vnP1d.jpg?s=128&g=1", "display_name": "John Stafford", "link": "https://stackoverflow.com/users/4312167/john-stafford"}, "edited": false, "score": 0, "creation_date": 1487122611, "post_id": 42238875, "comment_id": 71637726, "body": "I would say that more than a workaround is the way to go with handling the md-checkbox checked state changing. I&#39;ve edited the answer to add an option using ngModel in case you don&#39;t really need to respond to the change event for reasons other than maintaining that boolean."}], "tags": [], "owner": {"reputation": 2767, "user_id": 55154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fse7P.jpg?s=128&g=1", "display_name": "Fredy Treboux", "link": "https://stackoverflow.com/users/55154/fredy-treboux"}, "is_accepted": true, "score": 3, "last_activity_date": 1487122428, "last_edit_date": 1487122428, "creation_date": 1487119511, "answer_id": 42238875, "question_id": 42238479, "link": "https://stackoverflow.com/questions/42238479/strange-md-checkbox-behavior-when-initial-click-happens/42238875#42238875", "title": "Strange md-checkbox behavior when initial click happens", "body": "<p>You need to use the (change) event instead of (click), like so:</p>\n\n<pre><code>&lt;md-checkbox [checked]=\"facility.checked\" (change)=\"facility.check()\"&gt;\n</code></pre>\n\n<p>Otherwise, possibly due to at which point the (click) event calls your \"check\" method, the contents of your \"checked\" boolean get messed up.</p>\n\n<p>Additionally, if all you want to do in response to the change is maintain the boolean you can do it with two-way data binding via ngModel as follows:</p>\n\n<pre><code>&lt;md-checkbox [(ngModel)]=\"facility.checked\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 545, "user_id": 4312167, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/vnP1d.jpg?s=128&g=1", "display_name": "John Stafford", "link": "https://stackoverflow.com/users/4312167/john-stafford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 42238875, "answer_count": 1, "score": 1, "last_activity_date": 1487884940, "creation_date": 1487116835, "last_edit_date": 1487884940, "question_id": 42238479, "link": "https://stackoverflow.com/questions/42238479/strange-md-checkbox-behavior-when-initial-click-happens", "title": "Strange md-checkbox behavior when initial click happens", "body": "<p>I am getting an unexpected checkbox behavior. </p>\n\n<p>When I initially click on my checkbox I get to the <code>check()</code> function of the Facility object, and <code>this.check</code> is FALSE, like it should be. My toggle statement <code>!this.checked</code> works appropriately and the newState is assigned a value of TRUE. <strong>On the next line, that TRUE value is assigned to <code>this.checked</code>, I see the ripple, but no check appears.</strong></p>\n\n<p>When I subsequently click this checkbox, I again get to the check() function of the Facility object, and despite the checkbox not being checked, this.check   value is TRUE. <strong>My toggle statement works again, and the newState has a value   of FALSE, and this.checked is now FALSE. Strangely enough, after this, the   check appears.</strong></p>\n\n<p>What is going on?</p>\n\n<p>Parent TreeNode Class</p>\n\n<pre><code>export class TreeNode {\n    id: string;\n    name: string;\n    checked: boolean;\n\n    constructor(id: string, name: string) {\n        this.id = id;\n        this.name = name;\n        this.checked = false;\n    }\n}\n</code></pre>\n\n<p>Child Facility Class</p>\n\n<pre><code>import { TreeNode } from './tree-node';\n\nexport class Facility extends TreeNode {\n\n    constructor(id: string, name: string) {\n        super(id, name);\n    }\n\n    check() {\n        console.log('Facility Check: facility = '+ this.name);\n        let newState = !this.checked;\n        this.checked = newState;;\n    }\n }\n</code></pre>\n\n<p>HTML that iterates over a Facility Array </p>\n\n<pre><code>&lt;div *ngFor=\"let facility of facilities\" &gt;\n    &lt;md-checkbox [checked]=\"facility.checked\" (click)=\"facility.check()\"&gt;  \n    {{facility.name}}&lt;/md-checkbox&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "ionic2", "angularfire2"], "answers": [{"tags": [], "owner": {"reputation": 31497, "user_id": 122313, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/65a1c89a4d5c60688f29abd3eb636c08?s=128&d=identicon&r=PG", "display_name": "Aaron Saunders", "link": "https://stackoverflow.com/users/122313/aaron-saunders"}, "is_accepted": false, "score": 0, "last_activity_date": 1487128133, "creation_date": 1487128133, "answer_id": 42240016, "question_id": 42237381, "link": "https://stackoverflow.com/questions/42237381/angularfire2-ionic2-firebase-is-not-defined/42240016#42240016", "title": "Angularfire2 Ionic2 firebase is not defined", "body": "<p>that should be <code>af.getAuth()</code> to get the current user I believe</p>\n\n<p><a href=\"https://github.com/angular/angularfire2/blob/4630a8623deb253b5ea21270a3fa1093e4cc6ded/docs/api-reference.md\" rel=\"nofollow noreferrer\">Api Doc</a></p>\n"}], "owner": {"reputation": 167, "user_id": 6093176, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d84b4963e835350ee10138c9abbdcf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mystearica", "link": "https://stackoverflow.com/users/6093176/mystearica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487128133, "creation_date": 1487111131, "question_id": 42237381, "link": "https://stackoverflow.com/questions/42237381/angularfire2-ionic2-firebase-is-not-defined", "title": "Angularfire2 Ionic2 firebase is not defined", "body": "<p>I'm having a problem trying to get the token from the current user.\nIt says that firebase is not defined, but I tried also with AngularFireAuth, etc.</p>\n\n<p>And if I use the firebase object that I declare in the constructor, I can't access the auth() method that contains the current user.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController, NavParams } from 'ionic-angular';\nimport { AuthProviders, AuthMethods, AngularFire, AngularFireAuth } from 'angularfire2';\n\nimport { MainPage } from '../main/main';\n\n/*\n  Generated class for the Login page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n\n@Component({\n  selector: 'page-login',\n  templateUrl: 'login.html'\n})\nexport class LoginPage {\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public af: AngularFire, public aa: AngularFireAuth) { }\n\n  // ionViewDidLoad() {\n  //   console.log('ionViewDidLoad LoginPage');\n  // }\n\n  btnLogIn() {\n    this.af.auth.login({\n      email: 'aaa@bbb.com',\n      password: '123456'\n    }, {\n        provider: AuthProviders.Password,\n        method: AuthMethods.Password\n      }).then((response) =&gt; {\n        this.getUser();\n      }).catch((error) =&gt; {\n        console.log(error);\n      })\n  }\n\n  getUser() {\n    console.log(firebase.auth().currentUser.getToken());\n  }\n\n\n}\n</code></pre>\n\n<p>The error is at the bottom, in the method called getUser().</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 2892106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/491fff99b95dae9a63106db070b4a5c1?s=128&d=identicon&r=PG", "display_name": "Justin Boyson", "link": "https://stackoverflow.com/users/2892106/justin-boyson"}, "is_accepted": true, "score": 0, "last_activity_date": 1487189467, "creation_date": 1487189467, "answer_id": 42259078, "question_id": 42237101, "link": "https://stackoverflow.com/questions/42237101/migrate-giant-typescript-application-to-use-webpack/42259078#42259078", "title": "Migrate giant Typescript application to use webpack", "body": "<p>Always think of the answer after I ask, and it's so simple</p>\n\n<ul>\n<li>Create a second project and move some files to the new project.</li>\n<li>Give it an angular module name like 'project.new'</li>\n<li>Bundled that up with webpack as a UMD library.</li>\n<li>Reference that file in index.html of the old project.</li>\n<li>Add 'project.new' as a dependency in the old project ex: <code>angular.module('project', ['project.new']);</code></li>\n<li>In old project either modify ts_glob to ignore the files I've moved or just delete them altogether.</li>\n</ul>\n\n<p>Now you can just move one section or file at a time.</p>\n"}], "owner": {"reputation": 179, "user_id": 2892106, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/491fff99b95dae9a63106db070b4a5c1?s=128&d=identicon&r=PG", "display_name": "Justin Boyson", "link": "https://stackoverflow.com/users/2892106/justin-boyson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 42259078, "answer_count": 1, "score": 0, "last_activity_date": 1487189467, "creation_date": 1487109857, "question_id": 42237101, "link": "https://stackoverflow.com/questions/42237101/migrate-giant-typescript-application-to-use-webpack", "title": "Migrate giant Typescript application to use webpack", "body": "<p>I have a giant Typescript application (~700 files) that uses gulp to basically concat all the files then compile into ES5.</p>\n\n<p>Simplified example:</p>\n\n<pre><code>gulp.task(\n'ts',\nfunction () {\n    var tsResult = gulp.src(ts_glob, { base: './js' })\n        .pipe(sourcemaps.init())\n        .pipe(tsProject());\n\n    return tsResult.js\n        .pipe(sourcemaps.write())\n        .pipe(gulp.dest('./'))\n});\n</code></pre>\n\n<p>I want to start using some of Webpack's functionality and take advantage of modular javascript using import, but I can't find a way to \"baby step\" this process. As soon as use import that file's code is no longer available to the rest of the gulp based code.</p>\n\n<p>This may not even be a webpack problem really. If I could just get away from globbing <em>all</em> the files into one giant file and start using import that would be a huge win.</p>\n\n<p>Is there anyway to piece meal this together so that I don't have to overhaul the whole app at one time?</p>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1487134338, "post_id": 42236210, "comment_id": 71640711, "body": "Which one you are using systemjs or CLI"}, {"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "reply_to_user": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1487134897, "post_id": 42236210, "comment_id": 71640845, "body": "I don&#39;t use systemjs. I&#39;m not sure about CLI but it seems that I use the builtin loader of browserify for CommonJS modules."}], "answers": [{"comments": [{"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1487162024, "post_id": 42243324, "comment_id": 71656980, "body": "Clarified my question. It&#39;s not <code>power-assert</code> however your suggestions are still relevant"}, {"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "reply_to_user": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1487181191, "post_id": 42243324, "comment_id": 71671134, "body": "That would explain that the module declarations &quot;seem buggy&quot; because the definitions loaded from @types/assert clearly mention they are designed for <code>power-assert</code>"}, {"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1487183469, "post_id": 42243324, "comment_id": 71672492, "body": "<a href=\"https://www.npmjs.com/package/@types/assert\" rel=\"nofollow noreferrer\">npmjs.com/package/@types/assert</a> clearly says &quot;This package contains type definitions for assert and power-assert&quot;"}, {"owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "edited": false, "score": 0, "creation_date": 1487189290, "post_id": 42243324, "comment_id": 71675830, "body": "The approach works with tsc but it doesn&#39;t work in Visual Studio. <code>@types&#47;</code> worked in both"}], "tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": true, "score": 0, "last_activity_date": 1487144490, "creation_date": 1487144490, "answer_id": 42243324, "question_id": 42236210, "link": "https://stackoverflow.com/questions/42236210/own-types-style-declaration-in-typescript/42243324#42243324", "title": "Own @types-style declaration in TypeScript", "body": "<p>The declaration modules looks OK to me at first glance (no thorough test) but anyway, assuming you are talking about <a href=\"https://github.com/power-assert-js/power-assert\" rel=\"nofollow noreferrer\">this library</a></p>\n\n<p>Create a <code>typings/assert/assert.d.ts</code> directory/subdir/file which will be under source control</p>\n\n<p>the <code>assert.d.ts</code> must be constructed as an external module definition, which exports a single symbol <code>assert</code>. The content is almost a straight copy of what is found in @types/assert (with the required corrections you mentioned)</p>\n\n<pre><code>declare module 'assert' {\n\n    function assert(value:any, message?:string):void;\n\n    namespace assert {\n\n         export function fail(actual?:any, expected?:any, message?:string, operator?:string):void;\n\n         ...\n\n    }\n\n    export = assert\n\n}\n</code></pre>\n\n<p>in <code>tsconfig.json</code>, simply make sure that the content of the <code>typings</code> directory is included (i.e. not excluded) from compilation.</p>\n"}, {"tags": [], "owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "is_accepted": false, "score": 0, "last_activity_date": 1487271959, "creation_date": 1487271959, "answer_id": 42282572, "question_id": 42236210, "link": "https://stackoverflow.com/questions/42236210/own-types-style-declaration-in-typescript/42282572#42282572", "title": "Own @types-style declaration in TypeScript", "body": "<p>To clarify the answer of @Bruno Grieder.</p>\n\n<p>How <code>tsc</code> finds <code>.d.ts</code> files is explained in <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/module-resolution.html</a></p>\n\n<p>The mechanism of <code>declare module 'assert'</code>is called Ambient modules:</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules</a></p>\n"}], "owner": {"reputation": 13121, "user_id": 805266, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/eabce8cd59f72d8f9e7db06a0343bdb1?s=128&d=identicon&r=PG", "display_name": "nponeccop", "link": "https://stackoverflow.com/users/805266/nponeccop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 42243324, "answer_count": 2, "score": 2, "last_activity_date": 1487271959, "creation_date": 1487106399, "last_edit_date": 1487161886, "question_id": 42236210, "link": "https://stackoverflow.com/questions/42236210/own-types-style-declaration-in-typescript", "title": "Own @types-style declaration in TypeScript", "body": "<p>I want to use <code>assert</code> module in <code>browserify</code>/<code>tsify</code> bundles. See <a href=\"https://www.npmjs.com/package/assert\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/assert</a> and <a href=\"https://github.com/substack/browserify-handbook#builtins\" rel=\"nofollow noreferrer\">https://github.com/substack/browserify-handbook#builtins</a> and <a href=\"https://nodejs.org/api/assert.html\" rel=\"nofollow noreferrer\">https://nodejs.org/api/assert.html</a>. In short, it's node-js compatible <code>assert</code> module in browser, that is browserify builtin.</p>\n\n<p>So I added <code>@types/assert</code> to my <code>package.json</code>. However the declaration module is not recognized (seems buggy). So I want to do an equivalent of <code>node_modules/@types/assert</code> but outside of <code>node_modules</code> as <code>node_modules</code>  should not be in source control.</p>\n\n<p>Is it possible? If not, can/should I use the <code>/// &lt;reference</code> old-school syntax or <code>declare module \"assert\"</code> or what?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-services"], "answers": [{"comments": [{"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487105357, "post_id": 42235817, "comment_id": 71631283, "body": "This is not a package dependency in any way, it is a third party resource that must be loaded from their servers at the URL they provide."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487106067, "post_id": 42235817, "comment_id": 71631653, "body": "is it just a javascript or a module with few features??"}, {"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487106184, "post_id": 42235817, "comment_id": 71631725, "body": "It is just a javascript file that creates a window object that I then need to be able to reference without typescript throwing a fit."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487106929, "post_id": 42235817, "comment_id": 71632148, "body": "are you using that javascript methods in your angular2 components??"}, {"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487107072, "post_id": 42235817, "comment_id": 71632207, "body": "yes, which is why I need a reference to the window variable."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487107504, "post_id": 42235817, "comment_id": 71632443, "body": "You cannot do that in typescript"}, {"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487107708, "post_id": 42235817, "comment_id": 71632554, "body": "Can you give more details as to why in an answer please?"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487184808, "post_id": 42235817, "comment_id": 71673359, "body": "was this you were expecting? @StephenRios"}, {"owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487186132, "post_id": 42235817, "comment_id": 71674108, "body": "Yes, it worked perfectly. Thank you, it&#39;s an elegant solution."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "edited": false, "score": 0, "creation_date": 1487186185, "post_id": 42235817, "comment_id": 71674129, "body": "I will modify the title and tags to reach large ppl"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489245304, "post_id": 42235817, "comment_id": 72591637, "body": "All you need is <code>declare global { interface Window { whateverIsAddedToWindow: TypeOfWhateverIsAddedToWindow } }</code> nothing remotely this complex"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489245389, "post_id": 42235817, "comment_id": 72591676, "body": "@AluanHaddad down voted?  how you will get intellisense?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489245482, "post_id": 42235817, "comment_id": 72591705, "body": "The only purpose of the <code>declare global</code> block is to provide intellisense, you can give that property any type that you wish."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489246732, "post_id": 42235817, "comment_id": 72592142, "body": "Just to clarify, if you were in a module use <code>declare global</code> to augment the global scope. Otherwise, you&#39;re in a global script file in which case you don&#39;t need to wrap the augmentation. In both cases the <code>interface Window</code> declaration that you write will merge with all others including the one in <code>lib.d.ts</code>."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489247544, "post_id": 42235817, "comment_id": 72592452, "body": "You mean like this <a href=\"https://plnkr.co/edit/cJxoSPVoHE56cFXmmxvO?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/cJxoSPVoHE56cFXmmxvO?p=preview</a> ? If you wish to provide a facade for the global <code>toastr</code> object created by the script so that you may replace it during testing, then wrapping it in a service has merit but simply injecting the global as if it were a service is not useful since it still depends on the global. My understanding was the OP simply wanted to avoid the error from TypeScript because <code>toastr</code> was not  declared."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489248064, "post_id": 42235817, "comment_id": 72592636, "body": "Actually, here is an even simpler version <a href=\"https://plnkr.co/edit/HZYKYDsi0a7Aq8PuSVHk?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/HZYKYDsi0a7Aq8PuSVHk?p=preview</a> in which case we don&#39;t even need the global augmentation at all since the template uses the member directly, but it is nice to have it should we want to use it in the component&#39;s logic."}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1489248981, "post_id": 42235817, "comment_id": 72592993, "body": "this is not a injectable service ?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489249883, "post_id": 42235817, "comment_id": 72593300, "body": "Sure you could do that, but the text of the question does not really suggest that this is needed. The title of this question &quot;Plain Javascript as Angular 2 service&quot; does not make any sense. But sure, you can wrap it with <code>{ provide: &#39;toastr&#39;, useFactory: () =&gt; window.toastr }</code> and then <code>@Inject(&#39;toastr&#39;) toastr</code>, but what is the point?"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1489249964, "post_id": 42235817, "comment_id": 72593332, "body": "are you in the intension to argue? if you feel you have a better solution answer it instead of downvoting others answers"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489250098, "post_id": 42235817, "comment_id": 72593388, "body": "You wrote &quot;You cannot do that in typescript&quot; in response to the comment &quot;yes, which is why I need a reference to the window variable&quot; which suggests you somehow think TypeScript has special rules as compared to JavaScript. I do intend to argue with that statement because it is patently false."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1489250322, "post_id": 42235817, "comment_id": 72593459, "body": "Sure thing, just be sure to learn TypeScript (and by implication JavaScript). Following Angular 2 tutorials does not qualify as learning the language. Consider reading <i>JavaScript: The Good Parts</i> <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596517742\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/&hellip;</a>"}, {"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1489250388, "post_id": 42235817, "comment_id": 72593482, "body": "also, it doesn&#39;t mean if your solution is good you can downvote some one else answers."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1489250449, "post_id": 42235817, "comment_id": 72593500, "body": "I downvoted because you suggested a solution to a non-existent problem. I added the plunkr, based on yours, to demonstrate nothing here (OpaqueToken nonsense) was required, when you asked me to do so. Seriously though lots of people seem to think TypeScript has different runtime behavior than JavaScript and that is untrue. Many people starting off with Angular 2 have no idea what TypeScript is and the Angular 2 tutorials mislead them. 99% of Angular 2 questions should have the JavaScript tag"}], "tags": [], "owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "is_accepted": true, "score": 2, "last_activity_date": 1487124809, "last_edit_date": 1487124809, "creation_date": 1487104918, "answer_id": 42235817, "question_id": 42235540, "link": "https://stackoverflow.com/questions/42235540/plain-javascript-as-angular-2-service/42235817#42235817", "title": "Plain Javascript as Angular 2 service", "body": "<p><strong>Update 1:</strong> Based on the comments, the previous solution will be not help you.</p>\n\n<p>You can do that by using <strong><a href=\"https://angular.io/docs/ts/latest/api/core/index/OpaqueToken-class.html\" rel=\"nofollow noreferrer\">OpaqueToken</a></strong> in Angular2 </p>\n\n<p><strong>1</strong>. Create a Token that is used to find an instance as below in a separate ts file.</p>\n\n<pre><code>import { OpaqueToken } from '@angular/core'\n\nexport let name_of_The_Token = new OpaqueToken('name_Of_The_Window_Object');\n</code></pre>\n\n<p><strong>2.</strong> In your <strong>App.module</strong>, you need to <strong>import and declare a variable</strong> that is the name of your window object which makes the Token as a angular2 service so that you can use properties, methods in that javascript file across your components.</p>\n\n<pre><code>import { name_of_The_Token } from '/* file_Path */';\ndeclare let name_Of_The_Window_Object : any;  //below your import statements\n</code></pre>\n\n<p>Step 3: <strong>Inject</strong> it to providers array of your module.</p>\n\n<pre><code>{ provide : name_of_The_Token , useValue : name_Of_The_Window_Object }\n</code></pre>\n\n<p>Guidance to use this token in components</p>\n\n<ol>\n<li><p>Import the token just like any other service and @Inject from angular-core</p>\n\n<pre><code> import { name_of_The_Token } from '/* file_Path */';\n import { Inject } from '@angular/core';\n</code></pre></li>\n<li><p>In constructor of the component </p>\n\n<pre><code> constructor(@Inject( name_of_The_Token ) private _serviceObject : any )       \n</code></pre></li>\n<li><p>Any where in your component you can use the variables and methods of your javascript file as </p>\n\n<pre><code> this._serviceObject.method1()\n this._serviceObject.variable1\n .....\n</code></pre></li>\n</ol>\n\n<p><strong>Note</strong>: One drawback is that you will <strong>not get intellisense</strong>. </p>\n\n<p>Overcoming it:\nIf you are looking for intellisense you need to <strong>wrap the methods and variables inside an interface</strong> and use it in the type**(instead of any)** of your token as </p>\n\n<pre><code>export interface myCustom {\n      method1(args): return_Type;\n      method2(args): void;\n      .....\n   }\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/D6LY55XHPuaJHGZgIhoG?p=preview\" rel=\"nofollow noreferrer\">LIVE DEMO</a></strong> of ToasterService</p>\n"}, {"tags": [], "owner": {"reputation": 2231, "user_id": 3538258, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rG3j6.jpg?s=128&g=1", "display_name": "Ron Newcomb", "link": "https://stackoverflow.com/users/3538258/ron-newcomb"}, "is_accepted": false, "score": 0, "last_activity_date": 1501798870, "last_edit_date": 1501798870, "creation_date": 1501798552, "answer_id": 45495392, "question_id": 42235540, "link": "https://stackoverflow.com/questions/42235540/plain-javascript-as-angular-2-service/45495392#45495392", "title": "Plain Javascript as Angular 2 service", "body": "<p>Effectively, you're trying to pick up a \"global module\" javascript library from a CDN. (I assume the 3rd-party lib is not in CommonJS, AMD, UMD, or other module format, since it is accessed through a sole global variable.) </p>\n\n<p>So the first question is where is the corresponding .d.ts file?  It contains the names and interfaces that inform Typescript of the 'shape' of the library, as well as declaring that global variable will exist.  If your 3rd-party doesn't provide it you'll need to write it yourself.  It will contain not just the declaration of the global var, like</p>\n\n<p><code>declare var theGlobalVarInQuestion: IInterfaceOfStuffInsideLibrary;</code></p>\n\n<p>but also the declaration of said Interface, and its properties and their types, all the way down. Like this: <a href=\"https://github.com/catamphetamine/libphonenumber-js/blob/master/index.d.ts\" rel=\"nofollow noreferrer\">https://github.com/catamphetamine/libphonenumber-js/blob/master/index.d.ts</a> </p>\n\n<p>You can include the .d.ts file in /node_modules/@types/nameOfSaidLibrary but you'd need to check it into your source repo (with possible .gitignore gymnastics) especially because a <code>npm prune</code> will remove it.  Or if you put it elsewhere, modify the tsconfig.json <code>typeroots</code> property to look in both that place in addition to its usual /node_modules/@types/ folder. </p>\n\n<p>Just to be clear, the .d.ts file doesn't (and shouldn't) actually create the variable; it just states that it will be there so the Typescript compiler won't complain.  Whether or not it is there at runtime is decided by however you're loading the js. </p>\n\n<p>If you're not loading it via script tag in the index.html, then either a Typescript <code>import</code> statement in the consuming component can do so (given the right config of SystemJS or whatever you're using) or the consuming component can dynamically create and append a new script tag to the index.html.  Just make sure your module loader isn't trying to download and immediately bundle it with the rest of your app at buildtime. It sounds like you want the lib to be downloaded anew each time at runtime. </p>\n"}], "owner": {"reputation": 1972, "user_id": 1096637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7ee48778bbd0353db4525f650d4e191c?s=128&d=identicon&r=PG", "display_name": "StephenRios", "link": "https://stackoverflow.com/users/1096637/stephenrios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1509, "favorite_count": 1, "accepted_answer_id": 42235817, "answer_count": 2, "score": 3, "last_activity_date": 1501798870, "creation_date": 1487103914, "last_edit_date": 1489257668, "question_id": 42235540, "link": "https://stackoverflow.com/questions/42235540/plain-javascript-as-angular-2-service", "title": "Plain Javascript as Angular 2 service", "body": "<p>I need to add a hosted third-party JavaScript file in an Angular 2 component.  This file is updated anytime a change is made in the associated third-party vendors proprietary system, so I cannot simply pull down a copy, include it locally, and import it into the project.</p>\n\n<p>Typically I would include this file at a top level in a script tag, and then simply use <code>declare &lt;windowvar&gt;: any</code> to get access to it.  However in this case, since the component itself is trying to load the script, I cannot declare the window variable because it does not exist on the window object at the time the component is loaded, which generates an error.</p>\n\n<p>I can load the script by manually adding a script tag, and that works, however I need access to the window variable it creates in order to use it properly.  And I cannot simply use an interval to look for it because typescript throws a fit that <code>&lt;windowvariable&gt; does not exist on object window</code>.</p>\n\n<p>Is there any way I can 1) Load the hosted JavaScript file inside the component, and 2) Get access to the window variable created by the loaded JavaScript file?</p>\n"}, {"tags": ["google-maps", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7133350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45529d036d1bd4f1e5c538d3a659715c?s=128&d=identicon&r=PG&f=1", "display_name": "VinzeG", "link": "https://stackoverflow.com/users/7133350/vinzeg"}, "edited": false, "score": 0, "creation_date": 1487126366, "post_id": 42239087, "comment_id": 71638636, "body": "I tried, but i have another error: Property &#39;index&#39; does not exist on type &#39;HTMLDivElement&#39;."}, {"owner": {"reputation": 1918, "user_id": 2737131, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0c77fe6e4041cbdf7755bd4b9de1d33d?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/2737131/gene"}, "reply_to_user": {"reputation": 11, "user_id": 7133350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45529d036d1bd4f1e5c538d3a659715c?s=128&d=identicon&r=PG&f=1", "display_name": "VinzeG", "link": "https://stackoverflow.com/users/7133350/vinzeg"}, "edited": false, "score": 0, "creation_date": 1487126667, "post_id": 42239087, "comment_id": 71638687, "body": "i did the same(in rgds to index) and mine works. Is your map appearing without the custom controls?"}, {"owner": {"reputation": 11, "user_id": 7133350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45529d036d1bd4f1e5c538d3a659715c?s=128&d=identicon&r=PG&f=1", "display_name": "VinzeG", "link": "https://stackoverflow.com/users/7133350/vinzeg"}, "edited": false, "score": 0, "creation_date": 1487127993, "post_id": 42239087, "comment_id": 71639034, "body": "I got this:Runtime Error Can&#39;t resolve all parameters for HomePage: (NavController, ?, ?)."}], "tags": [], "owner": {"reputation": 1918, "user_id": 2737131, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0c77fe6e4041cbdf7755bd4b9de1d33d?s=128&d=identicon&r=PG", "display_name": "Gene", "link": "https://stackoverflow.com/users/2737131/gene"}, "is_accepted": false, "score": 0, "last_activity_date": 1487120966, "creation_date": 1487120966, "answer_id": 42239087, "question_id": 42235367, "link": "https://stackoverflow.com/questions/42235367/ionic-2-googlemaps-custom-controls/42239087#42239087", "title": "ionic 2 googlemaps custom controls", "body": "<p>Have you tried removing </p>\n\n<pre><code> var centerControl = new HomePage();\n</code></pre>\n\n<p>and run?</p>\n\n<p>U can't call your homePage like a function.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7133350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45529d036d1bd4f1e5c538d3a659715c?s=128&d=identicon&r=PG&f=1", "display_name": "VinzeG", "link": "https://stackoverflow.com/users/7133350/vinzeg"}, "is_accepted": true, "score": 0, "last_activity_date": 1488564402, "creation_date": 1488564402, "answer_id": 42585672, "question_id": 42235367, "link": "https://stackoverflow.com/questions/42235367/ionic-2-googlemaps-custom-controls/42585672#42585672", "title": "ionic 2 googlemaps custom controls", "body": "<p>Use the function setCenter, then add a button in the html :)\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>centerMapa(){\r\n  let latLng = new google.maps.LatLng(this.lat, this.lng);\r\n  this.map.setCenter(latLng);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button (click)='centerMapa();' ion-button clear large color=\"dark\" icon-only&gt;\r\n  &lt;ion-icon name=\"ios-navigate\"&gt;&lt;/ion-icon&gt;\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 7133350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45529d036d1bd4f1e5c538d3a659715c?s=128&d=identicon&r=PG&f=1", "display_name": "VinzeG", "link": "https://stackoverflow.com/users/7133350/vinzeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 42585672, "answer_count": 2, "score": 1, "last_activity_date": 1488564402, "creation_date": 1487103264, "question_id": 42235367, "link": "https://stackoverflow.com/questions/42235367/ionic-2-googlemaps-custom-controls", "title": "ionic 2 googlemaps custom controls", "body": "<p>I got this from my code :</p>\n\n<p>Supplied parameters do not match any signature of call target.</p>\n\n<pre><code>var centerControl = new HomePage();\n</code></pre>\n\n<p>Property 'index' does not exist on type 'HTMLDivElement'.</p>\n\n<pre><code>centerControlDiv.index = 1;\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import { Component, ViewChild } from '@angular/core';\r\nimport { NavController } from 'ionic-angular';\r\nimport { Geolocation } from 'ionic-native';\r\n\r\ndeclare var google;\r\n\r\n@Component({\r\n  selector: 'page-homepage',\r\n  templateUrl: 'homepage.html'\r\n})\r\n\r\nexport class HomePage {\r\n  @ViewChild('map') mapElement;\r\n  map: any;\r\n\r\n  constructor(public navCtrl: NavController, controlDiv, map) {\r\n      // Set CSS for the control border.\r\n    var controlUI = document.createElement('div');\r\n    controlUI.style.backgroundColor = '#fff';\r\n    controlUI.style.border = '2px solid #fff';\r\n    controlUI.style.borderRadius = '3px';\r\n    controlUI.style.boxShadow = '0 2px 6px rgba(0,0,0,.3)';\r\n    controlUI.style.cursor = 'pointer';\r\n    controlUI.style.marginBottom = '22px';\r\n    controlUI.style.textAlign = 'center';\r\n    controlUI.title = 'Click to recenter the map';\r\n    controlDiv.appendChild(controlUI);\r\n\r\n    // Set CSS for the control interior.\r\n    var controlText = document.createElement('div');\r\n    controlText.style.color = 'rgb(25,25,25)';\r\n    controlText.style.fontFamily = 'Roboto,Arial,sans-serif';\r\n    controlText.style.fontSize = '16px';\r\n    controlText.style.lineHeight = '38px';\r\n    controlText.style.paddingLeft = '5px';\r\n    controlText.style.paddingRight = '5px';\r\n    controlText.innerHTML = 'Center Map';\r\n    controlUI.appendChild(controlText);\r\n\r\n    // Setup the click event listeners: simply set the map to Chicago.\r\n    controlUI.addEventListener('click', function() {\r\n      map.setCenter(location);\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad(){\r\n      this.initMap();\r\n  }\r\n\r\n  initMap(){\r\n\r\n    Geolocation.getCurrentPosition().then((position) =&gt; {\r\n      let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n      let mapOptions = {\r\n        center: latLng,\r\n        zoom: 15,\r\n        mapTypeId: google.maps.MapTypeId.ROADMAP\r\n      }\r\n\r\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n\r\n      var marker = new google.maps.Marker({\r\n          position: latLng,\r\n          map: this.map\r\n      });\r\n\r\n      // Create the DIV to hold the control and call the CenterControl() constructor\r\n      // passing in this DIV.\r\n      var centerControlDiv = document.createElement('div');\r\n      var centerControl = new HomePage();\r\n\r\n      centerControlDiv.index = 1;\r\n      this.map.controls[google.maps.ControlPosition.TOP_CENTER].push(centerControlDiv);\r\n\r\n    },(err) =&gt; {\r\n      console.log(err);\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>page-homepage {\r\n  #map{\r\n    height: 90%;\r\n    width: 100%;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ion-header&gt;\r\n  &lt;ion-navbar&gt;\r\n    &lt;button ion-button menuToggle&gt;\r\n      &lt;ion-icon name=\"menu\"&gt;&lt;/ion-icon&gt;\r\n    &lt;/button&gt;\r\n    &lt;ion-title&gt;Google Custom&lt;/ion-title&gt;\r\n\r\n  &lt;/ion-navbar&gt;\r\n&lt;/ion-header&gt;\r\n\r\n&lt;ion-content&gt;\r\n  &lt;div #map id=\"map\"&gt;\r\n\r\n  &lt;/div&gt;\r\n&lt;/ion-content&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to do something like that <a href=\"https://developers.google.com/maps/documentation/javascript/examples/control-custom?hl=es-419\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/javascript/examples/control-custom?hl=es-419</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 0, "creation_date": 1487103859, "post_id": 42234985, "comment_id": 71630441, "body": "Are you sure the variable name is still testVar because it looks as if you minify your code."}, {"owner": {"reputation": 165, "user_id": 7538915, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a2a2fb3c0ea075893777a6ed2a6e59?s=128&d=identicon&r=PG&f=1", "display_name": "TypeScript Learner", "link": "https://stackoverflow.com/users/7538915/typescript-learner"}, "reply_to_user": {"reputation": 3867, "user_id": 7506820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JcASm.jpg?s=128&g=1", "display_name": "Nico Van Belle", "link": "https://stackoverflow.com/users/7506820/nico-van-belle"}, "edited": false, "score": 0, "creation_date": 1487104539, "post_id": 42234985, "comment_id": 71630855, "body": "@NicoVanBelle, Yes, it is still testVar"}], "answers": [{"comments": [{"owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "edited": false, "score": 0, "creation_date": 1487145276, "post_id": 42238587, "comment_id": 71645475, "body": "Are not we able to use CommonJs/system and also being able to access variables and functions?\ud83c\udf37 I used umd, but the file become very large! about 100k"}, {"owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "edited": false, "score": 0, "creation_date": 1487146106, "post_id": 42238587, "comment_id": 71645935, "body": "I  found the tsconfig and gulpfile configs from the TypeScript project website, for bundling files... but they said nothing about how to work with the ts functions when we included inside the browser"}, {"owner": {"reputation": 165, "user_id": 7538915, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a2a2fb3c0ea075893777a6ed2a6e59?s=128&d=identicon&r=PG&f=1", "display_name": "TypeScript Learner", "link": "https://stackoverflow.com/users/7538915/typescript-learner"}, "edited": false, "score": 0, "creation_date": 1487186763, "post_id": 42238587, "comment_id": 71674432, "body": "Can you please describ more? I see people talk about Commonjs modules and mine is also commonjs but it is not working in browser, no error in output, but I don&#39;t know how to run it!"}, {"owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "reply_to_user": {"reputation": 165, "user_id": 7538915, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a2a2fb3c0ea075893777a6ed2a6e59?s=128&d=identicon&r=PG&f=1", "display_name": "TypeScript Learner", "link": "https://stackoverflow.com/users/7538915/typescript-learner"}, "edited": false, "score": 0, "creation_date": 1487233541, "post_id": 42238587, "comment_id": 71693342, "body": "@TypeScriptLearner I had the same problem, Please take a look at my answer, that solved my problem. <a href=\"http://stackoverflow.com/a/42268460/3176270\">stackoverflow.com/a/42268460/3176270</a>"}, {"owner": {"reputation": 165, "user_id": 7538915, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a2a2fb3c0ea075893777a6ed2a6e59?s=128&d=identicon&r=PG&f=1", "display_name": "TypeScript Learner", "link": "https://stackoverflow.com/users/7538915/typescript-learner"}, "reply_to_user": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "edited": false, "score": 0, "creation_date": 1487269084, "post_id": 42238587, "comment_id": 71719994, "body": "@M98 Thanks, I think the <b>libraryTarget</b> in Webpack is same as <b>standalone</b> in browserify."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 2, "last_activity_date": 1487117491, "creation_date": 1487117491, "answer_id": 42238587, "question_id": 42234985, "link": "https://stackoverflow.com/questions/42234985/how-to-call-typescript-functions-out-of-the-ts-files/42238587#42238587", "title": "How to call TypeScript functions out of the .ts files?", "body": "<blockquote>\n  <p>How to design API of my library in TypeScript? (any good resource)</p>\n</blockquote>\n\n<p>Really a build tool chain question. If you want to expose your library as a global the answer is dependent on your toolchain. I recommend using <code>webpack</code>. Here is a a sample config:</p>\n\n<pre><code>module.exports = {\n    /** Build from built js file */\n    entry: {\n      typestyle: './lib/index.js',\n    },\n    output: {\n        filename: './umd/typestyle.js',\n        libraryTarget: 'umd',\n        /** The library name on window */\n        library: 'typestyle'\n    }\n};\n</code></pre>\n\n<p>From the <a href=\"https://github.com/typestyle/typestyle/blob/9d5cfae9ec31b1c7764ce67ed81243e16cf1a451/webpack.config.js#L11-L13\" rel=\"nofollow noreferrer\">TypeStyle project</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 999, "user_id": 3493998, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5e2wt.jpg?s=128&g=1", "display_name": "Ismoh", "link": "https://stackoverflow.com/users/3493998/ismoh"}, "edited": false, "score": 0, "creation_date": 1510929948, "post_id": 42268460, "comment_id": 81658609, "body": "Am I able to add a class with static functions to the library? I am new to JS and TypeScript and want to call a static function in my js file: <code>var test = MyClass.doSomething();</code> MyClass is in a TypeScript file like &quot;MyClass.ts&quot; and will be bundled and minified via browserify."}], "tags": [], "owner": {"reputation": 4184, "user_id": 3176270, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d7cc49b0d3c7cf426749422c7886a297?s=128&d=identicon&r=PG", "display_name": "Mohammad Kermani", "link": "https://stackoverflow.com/users/3176270/mohammad-kermani"}, "is_accepted": true, "score": 3, "last_activity_date": 1505286402, "last_edit_date": 1505286402, "creation_date": 1487233404, "answer_id": 42268460, "question_id": 42234985, "link": "https://stackoverflow.com/questions/42234985/how-to-call-typescript-functions-out-of-the-ts-files/42268460#42268460", "title": "How to call TypeScript functions out of the .ts files?", "body": "<p>your code should work as expected, you just need to add standalone to your Browserify config</p>\n\n<p>This should be your Browserify task on Gulp:</p>\n\n<pre><code> return browserify({\n        standalone: \"yourLib\",\n        basedir: '.',\n        debug: true,\n        entries: ['src/main.ts'],\n        cache: {},\n        packageCache: {},\n    })\n</code></pre>\n\n<p><em>Look at <code>standalone: \"yourLib\"</code>.</em></p>\n\n<hr>\n\n<p>Now you need to export something in your <code>main.ts</code> file, for example:</p>\n\n<pre><code>//main.ts\nexport function whatsYourName(name:string){\n console.log(name);\n}\n</code></pre>\n\n<p>Now just run your gulp <code>build</code> task <em>(which will compile and browserify/bundle your ts files)</em>, include that bundled script into your page, open Chrome console (F12) and inside the console tab just write the name of what you defined for <code>standalone</code> in your <code>browserify</code> task <em>(here we named that <code>yourLib</code>)</em>.</p>\n\n<p>For our example, you just need to type this in the console to get the response:</p>\n\n<pre><code>yourLib.whatsYourName(\"Alex\");\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 7538915, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/99a2a2fb3c0ea075893777a6ed2a6e59?s=128&d=identicon&r=PG&f=1", "display_name": "TypeScript Learner", "link": "https://stackoverflow.com/users/7538915/typescript-learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3067, "favorite_count": 0, "accepted_answer_id": 42268460, "answer_count": 2, "score": 0, "last_activity_date": 1505286402, "creation_date": 1487101862, "last_edit_date": 1487110761, "question_id": 42234985, "link": "https://stackoverflow.com/questions/42234985/how-to-call-typescript-functions-out-of-the-ts-files", "title": "How to call TypeScript functions out of the .ts files?", "body": "<p>I have a very simple program to learn how to work with TypeScript, I bundled all my <code>.ts</code> files using Browserify to make it possible to run inside the browser.</p>\n\n<p>Just imagine very simple variable declaration in TypeScript:</p>\n\n<pre><code>main.ts\nlet testVar = \"Something\";\n</code></pre>\n\n<p>And here is my <code>gulpfile.js</code> to compile (and bundle the files when needed):</p>\n\n<pre><code>'use strict';\n\nvar gulp = require('gulp');\nvar browserify = require(\"browserify\");\nvar source = require('vinyl-source-stream');\nvar tsify = require(\"tsify\");\nvar buffer = require('vinyl-buffer');\nvar sourcemaps = require('gulp-sourcemaps');\nvar minify = require('gulp-minify');\n\n\ngulp.task('build',['minify'], function () {\n\n    return browserify({\n        basedir: '.',\n        debug: true,\n        entries: ['src/main.ts'],\n        cache: {},\n        packageCache: {}\n    })\n        .plugin(tsify)\n        .bundle()\n        .pipe(source('main.js'))\n        .pipe(buffer())\n        .pipe(sourcemaps.init({loadMaps: true}))\n        .pipe(sourcemaps.write('./'))\n        .pipe(gulp.dest(\"dist\"));\n\n});\n\ngulp.task('minify',function () {\n    gulp.src('dist/main.js')\n        .pipe(minify({\n            ext:{\n                src:'.js',\n                min:'.min.js'\n            },\n            ignoreFiles: ['.min.js']\n        }))\n        .pipe(gulp.dest('dist'));\n});\n</code></pre>\n\n<p>and this is my <code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"system\",\n    \"sourceMap\": true,\n    \"lib\": [\"dom\", \"es2015.promise\", \"es5\"],\n    \"noImplicitAny\": true,\n    \"target\": \"es2015\"\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"include\": [\n    \"src/**/*\"\n  ],\n  \"files\": [\n    \"src/**/*\"\n  ]\n}\n</code></pre>\n\n<p>The build task work as expected, and what that I have inside the typescript works well too. But, when I include the bundled and compiled into my .html file, and trying to access the testVar variable. by just easily calling it in Chrome console, <code>console.log(testVar);</code> but it returns error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: testVar is not defined</p>\n</blockquote>\n\n<p>And here is the compiled + bundled <code>.js</code> file:</p>\n\n<pre><code>(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&amp;&amp;require;if(!u&amp;&amp;a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&amp;&amp;require;for(var o=0;o&lt;r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nlet testVar = \"Something\";\n},{}]},{},[1])\n\n//# sourceMappingURL=main.js.map\n</code></pre>\n\n<p>How can I access the functions and variables inside the bundled <code>.js</code> file?\nHow to design API of my library in TypeScript? (any good resource)</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": false, "score": 1, "last_activity_date": 1487100712, "creation_date": 1487100712, "answer_id": 42234652, "question_id": 42234635, "link": "https://stackoverflow.com/questions/42234635/angular2-detect-the-name-of-focused-dom-element/42234652#42234652", "title": "Angular2 - detect the name of focused DOM element", "body": "<p>You can just pass the name like</p>\n\n<pre><code>&lt;select (click)=\"functionDetectName('test1')\" name=\"test1\"&gt;\n</code></pre>\n\n<p>or if you really want the attribute you can do</p>\n\n<pre><code>&lt;select #self (click)=\"functionDetectName(self.getAttribute('name'))\" name=\"test1\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 3, "last_activity_date": 1487101013, "last_edit_date": 1487101013, "creation_date": 1487100942, "answer_id": 42234710, "question_id": 42234635, "link": "https://stackoverflow.com/questions/42234635/angular2-detect-the-name-of-focused-dom-element/42234710#42234710", "title": "Angular2 - detect the name of focused DOM element", "body": "<p>You can pass <code>$event</code> to your <code>functionDetectName()</code> function and then get attribute name from passed data, for example:</p>\n\n<pre><code>&lt;select (click)=\"functionDetectName($event)\" name=\"test1\"&gt;\n&lt;select (click)=\"functionDetectName($event)\" name=\"test2\"&gt;\n&lt;select (click)=\"functionDetectName($event)\" name=\"test3\"&gt;\n\nfunctionDetectName(event: MouseEvent) {\n    console.log(event.srcElement.name);\n}\n</code></pre>\n"}], "owner": {"reputation": 2226, "user_id": 998415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/093690ccc5fd093df1b73955a58d6093?s=128&d=identicon&r=PG", "display_name": "jjj", "link": "https://stackoverflow.com/users/998415/jjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 42234710, "answer_count": 2, "score": 3, "last_activity_date": 1487101013, "creation_date": 1487100638, "question_id": 42234635, "link": "https://stackoverflow.com/questions/42234635/angular2-detect-the-name-of-focused-dom-element", "title": "Angular2 - detect the name of focused DOM element", "body": "<p>I have a bunch of  elements on the page and I need to detect the name of the selected element.</p>\n\n<p>Example:</p>\n\n<pre><code>&lt;select (click)=\"functionDetectName()\" name=\"test1\"&gt;\n&lt;select (click)=\"functionDetectName()\" name=\"test2\"&gt;\n&lt;select (click)=\"functionDetectName()\" name=\"test3\"&gt;\n\nfunctionDetectName() {\nconsole.log(\"What to put here to detect the name of the select element?\");\n}\n</code></pre>\n\n<p>So, when I click on the test1 select box, console log should output: test1, when on test2, it should output test2.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "parameter-passing"], "comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 6, "creation_date": 1487100202, "post_id": 42234482, "comment_id": 71628460, "body": "Actually it&#39;s not lost. The <code>+</code> operator tries to change the variable value into number and since that variable isn&#39;t &#39;numberish&#39;, it returns <code>NaN</code>."}, {"owner": {"reputation": 29810, "user_id": 423170, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/H9kNQ.png?s=128&g=1", "display_name": "Frxstrem", "link": "https://stackoverflow.com/users/423170/frxstrem"}, "edited": false, "score": 0, "creation_date": 1487100214, "post_id": 42234482, "comment_id": 71628465, "body": "What is the value of <code>idAttr</code> in <code>addRow</code>? If it&#39;s not a number(ish), it&#39;s like that <code>+idAttr</code> tries for force it into a number, but can&#39;t, so it just becomes NaN (&quot;not a number&quot;)."}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487100930, "post_id": 42234482, "comment_id": 71628868, "body": "Yes. It&#39;s works when I&#39;m using <code>idAttr.value</code>. But why <code>console.log(idAttr);</code> returns actual value? Function <code>log</code> parses argument and looks for an attribute &quot;value&quot;?"}], "owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487106333, "creation_date": 1487100065, "last_edit_date": 1487106333, "question_id": 42234482, "link": "https://stackoverflow.com/questions/42234482/why-argument-lost-value-after-passing-to-another-function", "title": "Why argument lost value after passing to another function?", "body": "<p>I'm using TypeScript 2 and Angular 2.\nAfter the argument (<code>idAttr</code>) was lost value and became NaN.\nThe code is below:</p>\n\n<pre><code>addRow(event) {\n    const target = event.target || event.srcElement || event.currentTarget;\n    var idAttr = target.attributes.id;\n    console.log(idAttr);\n    this.addItem(+idAttr, \"ewewe\");\n}\n\naddItem(index:number, title:string): void {\n    let item = new Register10SectionViewModel();\n    item.SectionTitle = title;\n    item.SectionId = +index;\n    item.AssetType = \"test\";\n    item.CauseDisposal = null;\n    item.Num1 = 0;\n    item.Num2 = 0;\n    item.Num3 = 0;\n    item.Num4 = 0;\n    this.model.Register10Data = [...this.model.Register10Data, item];\n}\n</code></pre>\n\n<p><code>addRow(event)</code> it is event that's bind to button in loop</p>\n\n<pre><code>&lt;button (click)=\"addRow($event)\" style=\"float: right\" id=\"{{data1.id}}\"&gt;+&lt;/button&gt;\n</code></pre>\n\n<p>In debug i see that's <code>idAttr</code> has valid value in <code>addRow</code> but in <code>addItem</code> argument became with NaN value. Why? Do I declare idAttr as a global variable?=) </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487099850, "post_id": 42234396, "comment_id": 71628257, "body": "How does it fail?"}, {"owner": {"reputation": 79, "user_id": 4788756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f6f73f13cf1b313e171e1ac456234ea?s=128&d=identicon&r=PG&f=1", "display_name": "sunnysideup", "link": "https://stackoverflow.com/users/4788756/sunnysideup"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487099958, "post_id": 42234396, "comment_id": 71628316, "body": "The above code works when I have all the filters keyed in - but if I choose to filter lets say on any three of them.. then nothing happens on the screen no filtering happens - the whole list is as is."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487099992, "post_id": 42234396, "comment_id": 71628334, "body": "Did you check the browser console for errors?"}, {"owner": {"reputation": 79, "user_id": 4788756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f6f73f13cf1b313e171e1ac456234ea?s=128&d=identicon&r=PG&f=1", "display_name": "sunnysideup", "link": "https://stackoverflow.com/users/4788756/sunnysideup"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487100093, "post_id": 42234396, "comment_id": 71628403, "body": "There are no errors - its just that no filtering happens, if I dont choose all of the 4 ."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487100474, "post_id": 42234396, "comment_id": 71628612, "body": "You could try to add a <code>console.log()</code> like shown in my updated answer"}, {"owner": {"reputation": 79, "user_id": 4788756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f6f73f13cf1b313e171e1ac456234ea?s=128&d=identicon&r=PG&f=1", "display_name": "sunnysideup", "link": "https://stackoverflow.com/users/4788756/sunnysideup"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487103850, "post_id": 42234396, "comment_id": 71630437, "body": "var result =  field1Filter || field2Filter || field3Filter || field4Filter  ? value.filter((acct: IAcct) =&gt;         (acct.field1.toLocaleLowerCase().indexOf(field1Filter) !== -1)     || (acct.field2.toLocaleLowerCase().indexOf(field2Filter ) !== -1) || (acct.field3.toLocaleLowerCase().indexOf(field3Filter ) !== -1) ||  (acct.field4.toLocaleLowerCase().indexOf(field4Filter  ) !== -1)) : value; But this did not work as well.. it jsut filters on one of the columns and stops there .. does not take in any of the other filters.. because of || condition"}], "owner": {"reputation": 79, "user_id": 4788756, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3f6f73f13cf1b313e171e1ac456234ea?s=128&d=identicon&r=PG&f=1", "display_name": "sunnysideup", "link": "https://stackoverflow.com/users/4788756/sunnysideup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1079, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487100456, "creation_date": 1487099732, "question_id": 42234396, "link": "https://stackoverflow.com/questions/42234396/multiple-filters-on-angular-2", "title": "Multiple filters on Angular 2", "body": "<p>I am trying to filter a table using multiple filters.At any point in time I can have either have one or all filters keyed in and the list needs to return accordingly  - I have been successful when all the filters are keyed in - but when I choose any one of it the filtering fails - Please note my code so far  </p>\n\n<p>the filter.html file -</p>\n\n<pre><code> &lt;tr&gt;\n                    &lt;td&gt;&lt;input type=\"text\" [(ngModel)]='field1Filter ' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=\"text\" [(ngModel)]='field2Filter ' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=\"text\" [(ngModel)]='field3Filter ' /&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;input type=\"text\" [(ngModel)]='field4Filter ' /&gt;&lt;/td&gt;\n                &lt;/tr&gt;   \n\n&lt;tr *ngFor='let acct of Accts  | acctFilter :field1Filter :field2Filter :field3Filter :field4Filter'&gt;                                                                                                                    \n                    &lt;td&gt;{{acct.field1}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field2}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field3}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field4}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field5}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field6}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field7| date}}&lt;/td&gt;\n                    &lt;td&gt;{{acct.field8| date}}&lt;/td&gt;   \n</code></pre>\n\n<p>In my filter.pipe.ts</p>\n\n<pre><code>import { PipeTransform, Pipe } from '@angular/core';\nimport { IAcct } from './Acct';\n\n@Pipe({\n\n    name: 'acctFilter'\n\n})\nexport class AcctFilterPipe implements PipeTransform {\n\n    transform(value: IAcct[], field1Filter : any, field2Filter : any, field3Filter : any, field4Filter : any): IAcct[] {\n        field1Filter = field1Filter ? field1Filter .toLocaleLowerCase() : null;\n        field2Filter = field2Filter ? field2Filter .toLocaleLowerCase() : null;\n        field3Filter = field3Filter ? field3Filter .toLocaleLowerCase() : null;\n        field4Filter = field4Filter ? field4Filter .toLocaleLowerCase() : null;\n\n        return field1Filter &amp;&amp; field2Filter &amp;&amp; field3Filter &amp;&amp; field4Filter  ? value.filter((acct: IAcct) =&gt;\n            (acct.field1.toLocaleLowerCase().indexOf(field1Filter) !== -1)\n        &amp;&amp; (acct.field2.toLocaleLowerCase().indexOf(field2Filter ) !== -1) &amp;&amp; (acct.field3.toLocaleLowerCase().indexOf(field3Filter ) !== -1) &amp;&amp;  (acct.field4.toLocaleLowerCase().indexOf(field4Filter  ) !== -1)) : value;             \n    }                           \n}\n</code></pre>\n\n<p>If i try to use the || on any one of the above clause then it will choose only one of it obvisouly , but I would like the ability filter on any or all of the above filters. </p>\n\n<p>Please let me know your inputs. </p>\n\n<p>Thanks much!\nS</p>\n"}, {"tags": ["typescript", "momentjs"], "comments": [{"owner": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 1, "creation_date": 1487273150, "post_id": 42234096, "comment_id": 71722350, "body": "Did you follow <a href=\"http://momentjs.com/docs/#/use-it/typescript/\" rel=\"nofollow noreferrer\">moment typescript</a> guide? Does it cover your usecase?"}, {"owner": {"reputation": 20313, "user_id": 32242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c61ebe8b7bd57b3f789710d0c0863f6?s=128&d=identicon&r=PG", "display_name": "edt", "link": "https://stackoverflow.com/users/32242/edt"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1487293711, "post_id": 42234096, "comment_id": 71731642, "body": "I&#39;m not sure if it covers my use case. I tried. The result is that a require statement is added to the generated JavaScript. But, I&#39;m trying to avoid a require statement if possible."}, {"owner": {"reputation": 5775, "user_id": 661584, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/c47466232c1a0d231193ca21bba25524?s=128&d=identicon&r=PG", "display_name": "MemeDeveloper", "link": "https://stackoverflow.com/users/661584/memedeveloper"}, "reply_to_user": {"reputation": 24465, "user_id": 4131048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7fa62a0a8d08d01ae848ea7fdee8e9?s=128&d=identicon&r=PG&f=1", "display_name": "VincenzoC", "link": "https://stackoverflow.com/users/4131048/vincenzoc"}, "edited": false, "score": 0, "creation_date": 1529513669, "post_id": 42234096, "comment_id": 88904470, "body": "@VincenzoC as of 2018-06-20 the moment typescript guide does not help, nor does their moment.d.ts file - problems arise if you are not using a module loader, ts converts import statements into something like Object.defineProperty(exports, &quot;__esModule&quot;, {     value: !0 }); var moment = require(&quot;moment&quot;);  what did work for me was Bruno&#39;s ans below i.e. commenting out //export = moment; from their d.ts file."}], "answers": [{"comments": [{"owner": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 1, "creation_date": 1487389862, "post_id": 42288957, "comment_id": 71776387, "body": "This worked for me. Moment <a href=\"https://github.com/moment/moment/pull/3688\" rel=\"nofollow noreferrer\">has a PR open</a> to address this issue."}, {"owner": {"reputation": 10859, "user_id": 2625248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c79e22adc397ec878eab6260abaa82?s=128&d=identicon&r=PG", "display_name": "dtabuenc", "link": "https://stackoverflow.com/users/2625248/dtabuenc"}, "reply_to_user": {"reputation": 1751, "user_id": 156166, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/663120570/picture?type=large", "display_name": "Rich Seviora", "link": "https://stackoverflow.com/users/156166/rich-seviora"}, "edited": false, "score": 1, "creation_date": 1487543802, "post_id": 42288957, "comment_id": 71819879, "body": "I would also look at @unional &#39;s answer as it is a better/less intrusive way of achieving the same thing."}], "tags": [], "owner": {"reputation": 10859, "user_id": 2625248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c79e22adc397ec878eab6260abaa82?s=128&d=identicon&r=PG", "display_name": "dtabuenc", "link": "https://stackoverflow.com/users/2625248/dtabuenc"}, "is_accepted": false, "score": 7, "last_activity_date": 1487315054, "last_edit_date": 1487315054, "creation_date": 1487302766, "answer_id": 42288957, "question_id": 42234096, "link": "https://stackoverflow.com/questions/42234096/how-to-consume-the-moment-js-typescript-definition-file-if-my-site-is-already-us/42288957#42288957", "title": "How to consume the Moment.js TypeScript definition file if my site is already using moment.min.js?", "body": "<p>Unfortunately, the momentjs type declarations are written in a purely modular syntax. This is because these days, many people are using npm to acquire js packages and then using module loaders such as Webpack or Browserify to bundle the npm modules in a format usable for the browser.</p>\n\n<p>In your case, you are not using modules, but just relying on importing browser scripts in a global context. In order to support this, the authors of the definition files should have made the definition following UMD guidelines,which is a way to write the definition so that they support both modular and global ambient use. </p>\n\n<p>Fortunately, it's extremely easy for you to add this to your copy of the definitions. Simply add the following line to the top of <code>moment.d.ts</code></p>\n\n<pre><code>export as namespace moment;\n</code></pre>\n\n<p>What this does is basically say that when you are referencing <code>moment.d.ts</code> with a tripple-slash directive, it will make available everything exported from the module under a global namespace with the name of 'moment'.</p>\n\n<p>This means there should now be a global <code>moment</code> variable accessible in the global context and you should no longer see the <code>Cannot find the name 'moment'</code> error.</p>\n\n<p>This should be all you need to do. </p>\n"}, {"tags": [], "owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "is_accepted": false, "score": 13, "last_activity_date": 1487315922, "last_edit_date": 1487315922, "creation_date": 1487312074, "answer_id": 42290662, "question_id": 42234096, "link": "https://stackoverflow.com/questions/42234096/how-to-consume-the-moment-js-typescript-definition-file-if-my-site-is-already-us/42290662#42290662", "title": "How to consume the Moment.js TypeScript definition file if my site is already using moment.min.js?", "body": "<p><strong>TL;DR;</strong></p>\n\n<p>Add the <a href=\"https://raw.githubusercontent.com/moment/moment/develop/moment.d.ts\" rel=\"noreferrer\"><code>moment.d.ts</code></a> (<a href=\"https://raw.githubusercontent.com/moment/moment/develop/moment.d.ts\" rel=\"noreferrer\">link</a>) in your project from the moment github site and <strong>comment out</strong> the last line </p>\n\n<pre><code> //export = moment;\n</code></pre>\n\n<hr>\n\n<p>I have created a mini test project to prove this and this works for me.</p>\n\n<p>Project structure</p>\n\n<pre><code>--\n  |\n  -typings/\n     -moment/\n       -moment.d.ts   &lt;-- //export = moment; commented out\n  -typescript/\n     -main.ts\n  -tsconfig.json\n</code></pre>\n\n<p>Contents of both <code>typings</code> and <code>typescript</code> are part of the compilation target, i.e. not excluded in <code>tsconfig.json</code> which looks like this</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"declaration\": false,\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"outDir\": \"dist\",\n        \"jsx\": \"react\",\n        \"sourceMap\": true,\n        \"experimentalDecorators\": true\n    },\n    \"compileOnSave\": true,\n    \"exclude\": [\n        \"node_modules\",\n        \"dist\"\n    ]\n}\n</code></pre>\n\n<p>The <code>main.ts</code> file contains</p>\n\n<pre><code>const now: moment.Moment = moment.utc();\n</code></pre>\n\n<p>and compiles... As expected, my IDE gives me auto-completion from the definition file.\n(no need for <code>///&lt;reference</code> tags - you should avoid them anyway)</p>\n\n<p>Removing the <code>export</code> statement at the end of the definition file, \"transforms\" it into an internal - but global -  module declaration file.</p>\n"}, {"comments": [{"owner": {"reputation": 10859, "user_id": 2625248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c79e22adc397ec878eab6260abaa82?s=128&d=identicon&r=PG", "display_name": "dtabuenc", "link": "https://stackoverflow.com/users/2625248/dtabuenc"}, "edited": false, "score": 0, "creation_date": 1487543618, "post_id": 42322335, "comment_id": 71819807, "body": "I like this solution as it does not involve editing up-stream files."}, {"owner": {"reputation": 3437, "user_id": 1454888, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IBah1.jpg?s=128&g=1", "display_name": "Augusto Barreto", "link": "https://stackoverflow.com/users/1454888/augusto-barreto"}, "reply_to_user": {"reputation": 10859, "user_id": 2625248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c79e22adc397ec878eab6260abaa82?s=128&d=identicon&r=PG", "display_name": "dtabuenc", "link": "https://stackoverflow.com/users/2625248/dtabuenc"}, "edited": false, "score": 0, "creation_date": 1509215651, "post_id": 42322335, "comment_id": 80932674, "body": "For some reason, after adding the &quot;include&quot; property to my tsconfig.json file, VS stops compiling my files on build. It does when saving a .ts file, but not when building the project, and that gives me problems when publishing. Went with @dtabuenc solution."}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1509232367, "post_id": 42322335, "comment_id": 80937250, "body": "Do you have multiple tsconfig files? As you say <code>it does when saving a .ts file</code>, that means it is working. Maybe you just didn&#39;t include the <code>custom-typings</code> in your build config."}, {"owner": {"reputation": 2055, "user_id": 413464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780737c04a6ff81d68cdd0b8991c0555?s=128&d=identicon&r=PG", "display_name": "Yepeekai", "link": "https://stackoverflow.com/users/413464/yepeekai"}, "edited": false, "score": 2, "creation_date": 1550266624, "post_id": 42322335, "comment_id": 96220498, "body": "I&#39;m getting TS2498: ...uses &#39;export =&#39; and cannot be used with &#39;export *&#39;"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "reply_to_user": {"reputation": 2055, "user_id": 413464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780737c04a6ff81d68cdd0b8991c0555?s=128&d=identicon&r=PG", "display_name": "Yepeekai", "link": "https://stackoverflow.com/users/413464/yepeekai"}, "edited": false, "score": 0, "creation_date": 1550267960, "post_id": 42322335, "comment_id": 96220963, "body": "@Yepeekai see if you have <code>esModuleInterop</code> enabled."}, {"owner": {"reputation": 2055, "user_id": 413464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/780737c04a6ff81d68cdd0b8991c0555?s=128&d=identicon&r=PG", "display_name": "Yepeekai", "link": "https://stackoverflow.com/users/413464/yepeekai"}, "edited": false, "score": 2, "creation_date": 1550269850, "post_id": 42322335, "comment_id": 96221527, "body": "it still don&#39;t work, but I found an alternative that works and is similar to yours: <a href=\"https://github.com/moment/moment/issues/3808#issuecomment-406029986\" rel=\"nofollow noreferrer\">github.com/moment/moment/issues/3808#issuecomment-406029986</a> import * as moment from &quot;moment&quot;; export as namespace moment; export = moment;"}, {"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1550270004, "post_id": 42322335, "comment_id": 96221576, "body": "Do you have a repro? I would like to take a look into why you have the problem. What you did was exporting the module namespace object as TypeScript namespace. There might be come corner cases it does not cover."}, {"owner": {"reputation": 1199, "user_id": 2039845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrjHv.jpg?s=128&g=1", "display_name": "Kedar9444", "link": "https://stackoverflow.com/users/2039845/kedar9444"}, "edited": false, "score": 0, "creation_date": 1578771270, "post_id": 42322335, "comment_id": 105550425, "body": "exactly what I am looking for."}], "tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 9, "last_activity_date": 1487464820, "creation_date": 1487464820, "answer_id": 42322335, "question_id": 42234096, "link": "https://stackoverflow.com/questions/42234096/how-to-consume-the-moment-js-typescript-definition-file-if-my-site-is-already-us/42322335#42322335", "title": "How to consume the Moment.js TypeScript definition file if my site is already using moment.min.js?", "body": "<p>One way to do this is create a custom typing, e.g. <code>custom-typings/moment.d.ts</code>:</p>\n\n<pre><code>export * from 'moment'\nexport as namespace moment\n</code></pre>\n\n<p>And include that folder in your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  include: [\n    \"custom-typings\"\n  ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 1, "creation_date": 1487852393, "post_id": 42391633, "comment_id": 71976423, "body": "This is a mere copy of the documentation, that I suspect the OP followed, and assumes that the OP is using ES6 or CommonJS."}, {"owner": {"reputation": 2942, "user_id": 2879146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/96017e943f61761e100381c9fe066048?s=128&d=identicon&r=PG", "display_name": "Hitesh Kumar", "link": "https://stackoverflow.com/users/2879146/hitesh-kumar"}, "reply_to_user": {"reputation": 22172, "user_id": 1263942, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b272a5e1d5d3589192d942552e51e2a8?s=128&d=identicon&r=PG", "display_name": "Bruno Grieder", "link": "https://stackoverflow.com/users/1263942/bruno-grieder"}, "edited": false, "score": 0, "creation_date": 1487852706, "post_id": 42391633, "comment_id": 71976625, "body": "Yeah I found it on documentation only."}], "tags": [], "owner": {"reputation": 2942, "user_id": 2879146, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/96017e943f61761e100381c9fe066048?s=128&d=identicon&r=PG", "display_name": "Hitesh Kumar", "link": "https://stackoverflow.com/users/2879146/hitesh-kumar"}, "is_accepted": false, "score": 2, "last_activity_date": 1487766821, "creation_date": 1487766821, "answer_id": 42391633, "question_id": 42234096, "link": "https://stackoverflow.com/questions/42234096/how-to-consume-the-moment-js-typescript-definition-file-if-my-site-is-already-us/42391633#42391633", "title": "How to consume the Moment.js TypeScript definition file if my site is already using moment.min.js?", "body": "<p>As of version 2.13.0, Moment includes a typescript definition file. So if you are using this version you can do following:</p>\n\n<pre><code>import * as moment from 'moment';\n\n\nlet now = moment().format('LLLL');\n</code></pre>\n\n<p><strong>Note</strong>: If you have trouble importing moment, try add <code>\"allowSyntheticDefaultImports\": true</code> in <code>compilerOptions</code> in your <code>tsconfig.json</code> file.</p>\n\n<p>For reference please visit official <a href=\"http://momentjs.com/docs/#/use-it/typescript/\" rel=\"nofollow noreferrer\">doc</a>.</p>\n"}], "owner": {"reputation": 20313, "user_id": 32242, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0c61ebe8b7bd57b3f789710d0c0863f6?s=128&d=identicon&r=PG", "display_name": "edt", "link": "https://stackoverflow.com/users/32242/edt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8849, "favorite_count": 2, "accepted_answer_id": 42322335, "answer_count": 4, "score": 19, "last_activity_date": 1487766821, "creation_date": 1487098575, "last_edit_date": 1487269283, "question_id": 42234096, "link": "https://stackoverflow.com/questions/42234096/how-to-consume-the-moment-js-typescript-definition-file-if-my-site-is-already-us", "title": "How to consume the Moment.js TypeScript definition file if my site is already using moment.min.js?", "body": "<p>I'm in the process of converting a website to use TypeScript and I'm converting just one of many JavaScript files to TypeScript.\nAll pages of my site already reference moment.js, such as:</p>\n\n<pre><code>&lt;script src=\"/scripts/moment.min.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I've added other TypeScript definition files using:</p>\n\n<pre><code>npm install --save-dev @types/jquery\n</code></pre>\n\n<p>... But, the above seems like the wrong choice for moment. When I use the above command (but substitute 'moment' for 'jquery'), a readme file is downloaded that says:</p>\n\n<blockquote>\n  <p>This is a stub types definition for Moment (<a href=\"https://github.com/moment/moment\" rel=\"noreferrer\">https://github.com/moment/moment</a>).\n  Moment provides its own type definitions, so you don't need @types/moment installed!</p>\n</blockquote>\n\n<p>As a solution, I tried saving the moment.d.ts file from its GitHub repo and referencing it in the TypeScript file as so:</p>\n\n<pre><code>///&lt;reference path=\"../../Scripts/typeDeclarations/moment.d.ts\"/&gt;\nvar now:any = moment.utc();\n</code></pre>\n\n<p>But, TypeScript gives me the warning:</p>\n\n<blockquote>\n  <p>Cannot find the name 'moment'</p>\n</blockquote>\n"}, {"tags": ["typescript", "typescript-typings", "typescript2.0", "typescript1.8"], "answers": [{"comments": [{"owner": {"reputation": 4493, "user_id": 1288418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pEClj.png?s=128&g=1", "display_name": "Andris", "link": "https://stackoverflow.com/users/1288418/andris"}, "edited": false, "score": 2, "creation_date": 1487189515, "post_id": 42257742, "comment_id": 71675966, "body": "You are absolutely correct! It turned out my issue was (as you suggested) that I was importing classes/interfaces from other files into my declaration files. As soon as I removed those imports and only left clean <code>interface Foo {}</code> declarations everything worked.   As per globals - I completely see why having declarations to be magically available is a bad practice and am considering switching to a custom module (actually tried <code>declare module MyApp { export interface Foo {} }</code> and could successfully import it by doing <code>import { {Foo} from &#39;MyApp&#39;</code>) but for now magic works for me :)"}, {"owner": {"reputation": 14770, "user_id": 1693859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MdkLS.jpg?s=128&g=1", "display_name": "Sam R.", "link": "https://stackoverflow.com/users/1693859/sam-r"}, "edited": false, "score": 11, "creation_date": 1543114542, "post_id": 42257742, "comment_id": 93799581, "body": "Holy shit man. I just wasted an entire day not knowing what I was doing. Thanks a lot. This answer needs to go to official doc if it&#39;s not there already."}, {"owner": {"reputation": 1413, "user_id": 3748178, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/pwhln.jpg?s=128&g=1", "display_name": "Salathiel Gen&#232;se", "link": "https://stackoverflow.com/users/3748178/salathiel-gen%c3%a8se"}, "edited": false, "score": 1, "creation_date": 1548666873, "post_id": 42257742, "comment_id": 95608147, "body": "I halted a project for a week, wondering why it wasn&#39;t working. I private learning stuff that would not have lasted three days otherwise. Tanks of thanks <a href=\"https://stackoverflow.com/users/2625248/dtabuenc\">dtabuenc</a>"}, {"owner": {"reputation": 2546, "user_id": 550605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1d488abbbb3a22282f54c4c9acf4111c?s=128&d=identicon&r=PG", "display_name": "Steve Adams", "link": "https://stackoverflow.com/users/550605/steve-adams"}, "edited": false, "score": 0, "creation_date": 1578894630, "post_id": 42257742, "comment_id": 105573881, "body": "Thank you so, so much. I imported the <code>SyntheticEvent</code> interface from React to use in my own type definitions and everything stopped working. I should have caught that sooner, but here we are. Thanks!"}, {"owner": {"reputation": 323, "user_id": 6456946, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-sV-s38v-EK4/AAAAAAAAAAI/AAAAAAAAEMs/7Hj3Ok3S5NU/photo.jpg?sz=128", "display_name": "Tomek ", "link": "https://stackoverflow.com/users/6456946/tomek"}, "edited": false, "score": 1, "creation_date": 1585816917, "post_id": 42257742, "comment_id": 107897532, "body": "@dtabuenc Can you support your statement that global types are deprecated? Looking at the official documentation I can&#39;t get that impression."}, {"owner": {"reputation": 719, "user_id": 1446907, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hp8A5.jpg?s=128&g=1", "display_name": "tomwang1013", "link": "https://stackoverflow.com/users/1446907/tomwang1013"}, "edited": false, "score": 0, "creation_date": 1590629545, "post_id": 42257742, "comment_id": 109754476, "body": "Very clear explanation! This topic is opaque in typescript official doc and many beginners feel confused(myself included) about it. Thanks!"}, {"owner": {"reputation": 546, "user_id": 1512310, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wx0bk.jpg?s=128&g=1", "display_name": "Oussama Bouthouri", "link": "https://stackoverflow.com/users/1512310/oussama-bouthouri"}, "edited": false, "score": 0, "creation_date": 1602421087, "post_id": 42257742, "comment_id": 113708834, "body": "you must also know that in <code>tsconfig.json</code> the <code>isolatedModules</code> parameter should be false for this to work."}, {"owner": {"reputation": 1800, "user_id": 1885442, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1aa1fb55aeb2c530e2d4f13b90abf2e1?s=128&d=identicon&r=PG", "display_name": "Szczepan Ho\u0142yszewski", "link": "https://stackoverflow.com/users/1885442/szczepan-ho%c5%82yszewski"}, "edited": false, "score": 0, "creation_date": 1618598645, "post_id": 42257742, "comment_id": 118659794, "body": "&quot;Magically available interfaces&quot; is one of the two ways to provide basic IDE support for JS-based DSLs, and the other way is <b>LITERALLY HUNDREDS IF NOT THOUSANDS OF TIMES HARDER</b>: write plugins for all IDEs."}], "tags": [], "owner": {"reputation": 10859, "user_id": 2625248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c79e22adc397ec878eab6260abaa82?s=128&d=identicon&r=PG", "display_name": "dtabuenc", "link": "https://stackoverflow.com/users/2625248/dtabuenc"}, "is_accepted": true, "score": 214, "last_activity_date": 1487184520, "creation_date": 1487184520, "answer_id": 42257742, "question_id": 42233987, "link": "https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript/42257742#42257742", "title": "How to configure custom global interfaces (.d.ts files) for TypeScript?", "body": "<p>\"Magically available interfaces\" or global types is highly discouraged and should mostly be left to legacy.  Also, you should not be using ambient declaration files (e.g. <code>d.ts</code> files) for code that you are writing. These are meant to stand-in the place of external non-typescript code (essentially filling in the typescript types into js code so that you can better integrate it with javascript).</p>\n\n<p>For code you write you should be using plain <code>.ts</code> files to define your interfaces and types. </p>\n\n<p>While global types are discouraged, the answer to your issue is that there are two types of <code>.ts</code> files in Typescript. These are called <code>scripts</code> and <code>modules</code>. </p>\n\n<p>Anything in a <code>script</code> will be global. So if you define your interfaces in a script it will be available globally throughout your application (as long as the script is included in the compilation through either <code>///&lt;reference path=\"\"&gt;</code> tags or through <code>files:[]</code> or <code>includes:[]</code> or the default <code>**/*.ts</code> in your <code>tsconfig.json</code>.</p>\n\n<p>The other file type is 'module', and anything in a <code>module</code> will be private to the module. If you export anything from a module it will be available to other modules if those other modules chose to import it.</p>\n\n<p>What makes a <code>.ts</code> file a \"script\" or a \"module\"? Well.... if you use <code>import/export</code> anywhere in the file, that file becomes a \"module\". If there are no  <code>import/export</code> statements then it is a global script.</p>\n\n<p>My guess is you have inadvertently used <code>import</code> or <code>export</code> in your declarations and made it into a module, which turned all your interfaces to private within that module. If you want them to be global then you would make sure you are not using import/export statements within your file.</p>\n"}], "owner": {"reputation": 4493, "user_id": 1288418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pEClj.png?s=128&g=1", "display_name": "Andris", "link": "https://stackoverflow.com/users/1288418/andris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56951, "favorite_count": 30, "accepted_answer_id": 42257742, "answer_count": 1, "score": 92, "last_activity_date": 1603106188, "creation_date": 1487098222, "last_edit_date": 1603106188, "question_id": 42233987, "link": "https://stackoverflow.com/questions/42233987/how-to-configure-custom-global-interfaces-d-ts-files-for-typescript", "title": "How to configure custom global interfaces (.d.ts files) for TypeScript?", "body": "<p>I'm currently working on a ReactJS project which uses Webpack2 and TypeScript. Everything works perfectly apart from one thing - I can't a find a way to move interfaces that I've written myself into separate files so that they are visible to the whole application.</p>\n<p>For prototyping purposes I initially had interfaces defined in files that use them but eventually I started adding some that were needed in multiple classes and that's when all the problems started. No matter what changes I make to my <code>tsconfig.json</code> and no matter where I put the files my IDE and Webpack both complain about not being able to find names (<em>&quot;Could not find name 'IMyInterface'&quot;</em>).</p>\n<p>Here's my current <code>tsconfig.json</code> file:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;src&quot;,\n    &quot;outDir&quot;: &quot;build/dist&quot;,\n    &quot;module&quot;: &quot;commonjs&quot;,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;lib&quot;: [\n      &quot;es6&quot;,\n      &quot;dom&quot;\n    ],\n    &quot;typeRoots&quot;: [\n      &quot;./node_modules/@types&quot;,\n      &quot;./typings&quot;\n    ],\n    &quot;sourceMap&quot;: true,\n    &quot;allowJs&quot;: true,\n    &quot;jsx&quot;: &quot;react&quot;,\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &quot;rootDir&quot;: &quot;src&quot;,\n    &quot;forceConsistentCasingInFileNames&quot;: true,\n    &quot;noImplicitReturns&quot;: true,\n    &quot;noImplicitThis&quot;: true,\n    &quot;noImplicitAny&quot;: false,\n    &quot;strictNullChecks&quot;: true,\n    &quot;suppressImplicitAnyIndexErrors&quot;: true,\n    &quot;noUnusedLocals&quot;: true\n  },\n  &quot;exclude&quot;: [\n    &quot;node_modules&quot;,\n    &quot;build&quot;,\n    &quot;scripts&quot;,\n    &quot;acceptance-tests&quot;,\n    &quot;webpack&quot;,\n    &quot;jest&quot;,\n    &quot;src/setupTests.ts&quot;\n  ],\n  &quot;types&quot;: [\n    &quot;typePatches&quot;\n  ]\n}\n</code></pre>\n<p>As you can see, my <code>tsconfig.json</code> is in the root of the project directory, all source is in <code>./src</code>, I placed my custom <code>.d.ts</code> files in <code>./typings</code> and included it in <code>typeRoots</code>.</p>\n<p>I tested it with TypeScript 2.1.6 and 2.2.0 and neither works.</p>\n<p>One way of getting it all to work is to move my <code>typings</code> directory into <code>src</code> and then <code>import {IMyInterface} from 'typings/blah'</code> but that doesn't feel right to me as it's not something I need to use. I want those interfaces to just be 'magically' available throughout my application.</p>\n<p>Here's a sample <code>app.d.ts</code> file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface IAppStateProps {}\ninterface IAppDispatchProps {}\ninterface IAppProps extends IAppStateProps, IAppDispatchProps {}\n</code></pre>\n<p>Do I need to <code>export</code> them or maybe <code>declare</code>? I hope I don't have to wrap them in a namespace?!</p>\n<h2>Update (October 2020)</h2>\n<p>Seeing how this question is still surprisingly popular I wanted to explain the solution in more detail.</p>\n<p>Firstly, what could and should be confusing to people is that the interface example I gave at the end of my question actually doesn't have any <code>export</code> keywords even though I'm almost certain I did have them in my files at the time of asking the question. I believe I didn't include them in the question thinking they didn't make any difference, whether they were there or not. Well, it turns out that it's not true and the <code>export</code> keyword is exactly what makes or breaks you being able to just &quot;use&quot; the interfaces versus having to explicitly <code>import</code> them.</p>\n<p>So, the way it works in TypeScript is as follows:</p>\n<p>If you want an interface/type that you can simply use without having to import it in the consuming module said interface must reside in a <code>.ts</code> or ideally a <code>.d.ts</code> file <strong>without any imports or exports being present in the same file</strong>. This is of utmost importance because as soon as you are exporting at least one thing from the same file it becomes a module and everything that is in that module must be subsequently imported by consumers.</p>\n<p>To give you an example let's assume you want to have a type called <code>Dictionary</code> that you want to be able to use without importing. The way to declare it would be as follows:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// types.d.ts\ninterface Dictionary {}\ninterface Foo {}\ninterface Bar {}\n</code></pre>\n<p>To use it you simply do:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// consumer.ts\nconst dict: Dictionary = {};\n</code></pre>\n<p>However, it will no longer work if for some reason <strong>any</strong> of the interfaces/types in that file are exported, e.g.:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// types.d.ts\ninterface Dictionary {}\ninterface Foo {}\nexport interface Bar {}\n</code></pre>\n<p>It will also not work if there are imports in that file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// types.d.ts\nimport { OtherType } from 'other-library';\n\ninterface Dictionary {}\ninterface Foo extends OtherType {}\ninterface Bar {}\n</code></pre>\n<p>If that is the case the only way to be able to use the <code>Dictionary</code> type would be to also export it and then import it in the consumer:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// types.d.ts\nexport interface Dictionary {}\ninterface Foo {}\nexport interface Bar {}\n\n// consumer.ts\nimport { Dictionary } from './types';\n\nconst dict: Dictionary = {};\n</code></pre>\n<code>--isolatedModules</code>\n<p>There is an additional quirk to keep in mind when using the <code>isolatedModules</code> modules flag in TypeScript, which, importantly, is enabled by default (and cannot be disabled) when using Create React App - <code>.ts</code> files MUST export at least one thing as otherwise you will be getting the <em>&quot;All files must be modules when the '--isolatedModules' flag is provided.&quot;</em> error. That means that putting the <code>Dictionary</code> interface in a <code>types.ts</code> files without the export keyword won't work. It must either be an export from a <code>.ts</code> file of be a declaration without the export in a <code>.d.ts</code> file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// types.d.ts\ninterface Dictionary {}        // works\nexport interface Dictionary {} // works\n\n// types.ts\ninterface Dictionary {}        // doesn't work with --isolatedModules enabled\nexport interface Dictionary {} // works\n\n</code></pre>\n<p>N.B.<br />\nAs @dtabuenc mentions in his answer ambient modules (<code>.d.ts</code> files) are discoraged and my correction shouldn't be taken as advice. It's just an attempt at explaining how normal modules and ambient modules work in TypeScript.</p>\n"}, {"tags": ["typescript", "sublimetext3", "sublimetext"], "answers": [{"comments": [{"owner": {"reputation": 3621, "user_id": 999248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G9pId.jpg?s=128&g=1", "display_name": "robstarbuck", "link": "https://stackoverflow.com/users/999248/robstarbuck"}, "edited": false, "score": 0, "creation_date": 1487115121, "post_id": 42237769, "comment_id": 71635580, "body": "That&#39;s a great help, though I struggled getting it to load at first. I saved the file in ~/Library/Application Support/Sublime Text 3/Packages/TypeScript-OnSave/TypeScript-OnSave.py. Presuming it could have gone anywhere in the Packages folder?"}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "reply_to_user": {"reputation": 3621, "user_id": 999248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G9pId.jpg?s=128&g=1", "display_name": "robstarbuck", "link": "https://stackoverflow.com/users/999248/robstarbuck"}, "edited": false, "score": 1, "creation_date": 1487118563, "post_id": 42237769, "comment_id": 71636497, "body": "Yep, technically anywhere under <code>Packages</code> is fine. Some people put things like that in their <code>User</code> package (that&#39;s the default location suggested to you if you follow the steps above) but that&#39;s just down to preference regarding how you like to lay your changes out."}, {"owner": {"reputation": 4517, "user_id": 5368667, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KeGLP.png?s=128&g=1", "display_name": "Jeet", "link": "https://stackoverflow.com/users/5368667/jeet"}, "edited": false, "score": 1, "creation_date": 1509096185, "post_id": 42237769, "comment_id": 80890658, "body": "Thanks a ton this is a really awesome piece of information."}, {"owner": {"reputation": 2332, "user_id": 4598992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DzrM58TgNmc/AAAAAAAAAAI/AAAAAAAAAK8/L_igxJEcSos/photo.jpg?sz=128", "display_name": "evanjmg", "link": "https://stackoverflow.com/users/4598992/evanjmg"}, "edited": false, "score": 0, "creation_date": 1511868541, "post_id": 42237769, "comment_id": 82017316, "body": "I&#39;ve saved it in user, but it isn&#39;t formatting my typescript files? Is there way to specify formatting?"}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "edited": false, "score": 0, "creation_date": 1511908134, "post_id": 42237769, "comment_id": 82041166, "body": "You can check the Sublime console (<code>View &gt; Show Console</code>) to see if there are any error messages displayed at startup when the plugin is loaded. If there&#39;s not, the only other reason I can think for it not working would be if you don&#39;t have the Microsoft TypeScript package installed."}, {"owner": {"reputation": 2413, "user_id": 3183756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Akzmi.png?s=128&g=1", "display_name": "caub", "link": "https://stackoverflow.com/users/3183756/caub"}, "edited": false, "score": 0, "creation_date": 1554912125, "post_id": 42237769, "comment_id": 97927057, "body": "How to pass settings though?"}, {"owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "reply_to_user": {"reputation": 2413, "user_id": 3183756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Akzmi.png?s=128&g=1", "display_name": "caub", "link": "https://stackoverflow.com/users/3183756/caub"}, "edited": false, "score": 0, "creation_date": 1555005237, "post_id": 42237769, "comment_id": 97968044, "body": "@caub what settings?"}, {"owner": {"reputation": 2413, "user_id": 3183756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Akzmi.png?s=128&g=1", "display_name": "caub", "link": "https://stackoverflow.com/users/3183756/caub"}, "edited": false, "score": 0, "creation_date": 1555075608, "post_id": 42237769, "comment_id": 97993916, "body": "@OdatNurd like <code>&quot;javascript.format.insertSpaceAfterOpeningAndBeforeClosingNo&zwnj;&#8203;nemptyBraces&quot;: false,</code> I&#39;ve found a way: <a href=\"https://gist.github.com/caub/bc4ab4a7dc2978837fbc3fcc8a823504\" rel=\"nofollow noreferrer\">gist.github.com/caub/bc4ab4a7dc2978837fbc3fcc8a823504</a> but it&#39;s not practical"}], "tags": [], "owner": {"reputation": 16941, "user_id": 814803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LUo4b.png?s=128&g=1", "display_name": "OdatNurd", "link": "https://stackoverflow.com/users/814803/odatnurd"}, "is_accepted": true, "score": 20, "last_activity_date": 1487113013, "creation_date": 1487113013, "answer_id": 42237769, "question_id": 42233292, "link": "https://stackoverflow.com/questions/42233292/sublimetext-typescript-format-on-save/42237769#42237769", "title": "SublimeText Typescript Format on Save", "body": "<p>There is likely an existing plugin on <a href=\"http://packagecontrol.io/\" rel=\"noreferrer\">PackgeControl</a> that allows you to do something like this, although I'm not aware of any off the top of my head and the site is not responsive at the moment. </p>\n\n<p>In the meantime, simplistically you can accomplish this via some simple plugin code:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import sublime\nimport sublime_plugin\n\nclass FormatTypescriptOnSave(sublime_plugin.EventListener):\n    def on_pre_save(self, view):\n        if \"TypeScript\" in view.settings().get(\"syntax\"):\n            view.run_command(\"typescript_format_document\")\n</code></pre>\n\n<p>To use this, select <code>Tools &gt; Developer &gt; New Plugin...</code> from the menu, then replace the entire contents of the template document with this code, and save it (name doesn't matter, only the extension).</p>\n\n<p>This catches a save that's about to happen and runs the appropriate command, so long as the current file is a TypeScript file, as determined by the currently set syntax.</p>\n"}], "owner": {"reputation": 3621, "user_id": 999248, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G9pId.jpg?s=128&g=1", "display_name": "robstarbuck", "link": "https://stackoverflow.com/users/999248/robstarbuck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5857, "favorite_count": 3, "accepted_answer_id": 42237769, "answer_count": 1, "score": 5, "last_activity_date": 1487113013, "creation_date": 1487095773, "question_id": 42233292, "link": "https://stackoverflow.com/questions/42233292/sublimetext-typescript-format-on-save", "title": "SublimeText Typescript Format on Save", "body": "<p>Using Microsoft's <a href=\"https://github.com/Microsoft/TypeScript-Sublime-Plugin\" rel=\"noreferrer\">Typescript plugin</a> for sublime, I can format a file using <code>^T ^F</code> as mentioned in <a href=\"https://github.com/Microsoft/TypeScript-Sublime-Plugin#features\" rel=\"noreferrer\">features</a>.</p>\n\n<p>Is they a way to run this command automatically when saving a file? I'm after something akin to Sublime-HTMLPrettify <a href=\"https://github.com/victorporof/Sublime-HTMLPrettify#beautify-on-save\" rel=\"noreferrer\">Beautify on Save</a> feature.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1487097950, "post_id": 42233124, "comment_id": 71627237, "body": "Pretty sure click works on everything since they are all about touch. If you really want to indulge Ionic uses hammer.js for all of its gesture stuff. You could try to add your own gestures that will work on everything. <a href=\"http://hammerjs.github.io/getting-started/\" rel=\"nofollow noreferrer\">hammerjs.github.io/getting-started</a>"}, {"owner": {"reputation": 5408, "user_id": 1726579, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/84efb29927ef4493ac5a1185cb1b0e4b?s=128&d=identicon&r=PG", "display_name": "Bill Noble", "link": "https://stackoverflow.com/users/1726579/bill-noble"}, "reply_to_user": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1487098329, "post_id": 42233124, "comment_id": 71627442, "body": "What code would I need to monitor click?"}, {"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1487098528, "post_id": 42233124, "comment_id": 71627539, "body": "@HostListener(&#39;click&#39;, [&#39;$event.target&#39;]) on a directive <a href=\"http://plnkr.co/edit/EVjv3t7Z688LPzAp4MUT?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/EVjv3t7Z688LPzAp4MUT?p=preview</a>"}, {"owner": {"reputation": 5408, "user_id": 1726579, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/84efb29927ef4493ac5a1185cb1b0e4b?s=128&d=identicon&r=PG", "display_name": "Bill Noble", "link": "https://stackoverflow.com/users/1726579/bill-noble"}, "reply_to_user": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1487102361, "post_id": 42233124, "comment_id": 71629678, "body": "Using that code in my ionic 2 project it complains that onClick doesn&#39;t exist."}, {"owner": {"reputation": 5408, "user_id": 1726579, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/84efb29927ef4493ac5a1185cb1b0e4b?s=128&d=identicon&r=PG", "display_name": "Bill Noble", "link": "https://stackoverflow.com/users/1726579/bill-noble"}, "reply_to_user": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1487104230, "post_id": 42233124, "comment_id": 71630647, "body": "It was a cut and paste error :) Works like a charm. Thanks loads."}], "owner": {"reputation": 5408, "user_id": 1726579, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/84efb29927ef4493ac5a1185cb1b0e4b?s=128&d=identicon&r=PG", "display_name": "Bill Noble", "link": "https://stackoverflow.com/users/1726579/bill-noble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487095254, "creation_date": 1487095254, "question_id": 42233124, "link": "https://stackoverflow.com/questions/42233124/capture-all-ionic-2-mouse-events", "title": "Capture all ionic 2 mouse events", "body": "<p>Is there a way to capture all mouse events (e.g. tap, scroll, etc.) in an ionic 2 App?</p>\n\n<p>I am writing an idle timer which I want to reset every time the user does something in the App.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "scope", "mqtt"], "answers": [{"comments": [{"owner": {"reputation": 844, "user_id": 1093816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b0189d56ce6452b430b6ef24cbb93c28?s=128&d=identicon&r=PG", "display_name": "Wandang", "link": "https://stackoverflow.com/users/1093816/wandang"}, "edited": false, "score": 0, "creation_date": 1487097353, "post_id": 42233338, "comment_id": 71626939, "body": "Your 2nd approach is a copy by reference and not by value? Otherwise this won&#39;t work as intended."}, {"owner": {"reputation": 3271, "user_id": 1572938, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea19537c0c01d7205b07054fc12ac6b4?s=128&d=identicon&r=PG", "display_name": "Evan Kennedy", "link": "https://stackoverflow.com/users/1572938/evan-kennedy"}, "reply_to_user": {"reputation": 844, "user_id": 1093816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b0189d56ce6452b430b6ef24cbb93c28?s=128&d=identicon&r=PG", "display_name": "Wandang", "link": "https://stackoverflow.com/users/1093816/wandang"}, "edited": false, "score": 1, "creation_date": 1487097573, "post_id": 42233338, "comment_id": 71627066, "body": "My second approach does pass <code>this.mydata</code> by reference and at the time of reference <code>this</code> is still your class instance, not mqtt. So it&#39;s just prepending <code>this.mydata</code> to whatever call but the current context when the event triggers does not matter because we&#39;re always prepending the same array. I&#39;d go with the first solution as often as possible, but if you needed access to the client for some reason I wanted to make sure to post a workaround."}], "tags": [], "owner": {"reputation": 3271, "user_id": 1572938, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ea19537c0c01d7205b07054fc12ac6b4?s=128&d=identicon&r=PG", "display_name": "Evan Kennedy", "link": "https://stackoverflow.com/users/1572938/evan-kennedy"}, "is_accepted": true, "score": 1, "last_activity_date": 1487096416, "last_edit_date": 1487096416, "creation_date": 1487095888, "answer_id": 42233338, "question_id": 42233090, "link": "https://stackoverflow.com/questions/42233090/access-class-properties-outside-of-mqtt-callback-scope/42233338#42233338", "title": "Access class properties outside of mqtt callback scope", "body": "<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow noreferrer\"><code>.bind(this)</code></a>, you can make sure <code>this</code> doesn't change when your events are called.</p>\n\n<p>Your code will now look like:</p>\n\n<pre><code>this.mydata: Array&lt;any&gt; = [];\n\nprivate fetchWithMqtt(){\n    var client = mqtt.connect('ws://' + this.ip + \":\" + Number(this.port) + \"/mqtt\");\n    // set callback handlers\n    client.on('close', this.onConnectionLost.bind(this));\n    client.on('message', this.onMessageArrived.bind(this));\n    client.on('connect', this.onConnect.bind(this));\n}\n\nprivate onMessageArrived(topic, message) {\n    let tempDataset = JSON.parse(message).dataset;\n    this.mydata.push({\n        x: tempDataset[0],\n        y: tempDataset[1]\n    });\n</code></pre>\n\n<p>But what if you need to access the <code>client</code> within the event handler? Well then you can still use bind, but prepend <code>mydata</code> to the event handler and take it in as an argument.</p>\n\n<p>Your code now becomes:</p>\n\n<pre><code>this.mydata: Array&lt;any&gt; = [];\n\nprivate fetchWithMqtt(){\n    var client = mqtt.connect('ws://' + this.ip + \":\" + Number(this.port) + \"/mqtt\");\n    // set callback handlers\n    client.on('close', this.onConnectionLost.bind(client, this.mydata));\n    client.on('message', this.onMessageArrived.bind(client, this.mydata));\n    client.on('connect', this.onConnect.bind(client, this.mydata));\n}\n\nprivate onMessageArrived(mydata, topic, message) {\n    let tempDataset = JSON.parse(message).dataset;\n    mydata.push({ // this == client\n        x: tempDataset[0],\n        y: tempDataset[1]\n    });\n</code></pre>\n"}], "owner": {"reputation": 844, "user_id": 1093816, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b0189d56ce6452b430b6ef24cbb93c28?s=128&d=identicon&r=PG", "display_name": "Wandang", "link": "https://stackoverflow.com/users/1093816/wandang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 42233338, "answer_count": 1, "score": 0, "last_activity_date": 1487096416, "creation_date": 1487095159, "question_id": 42233090, "link": "https://stackoverflow.com/questions/42233090/access-class-properties-outside-of-mqtt-callback-scope", "title": "Access class properties outside of mqtt callback scope", "body": "<p>I am using <a href=\"https://www.npmjs.com/package/mqtt\" rel=\"nofollow noreferrer\">npm-mqtt</a> to get data from another mqtt broker.</p>\n\n<p>On each message received I want to add the data to the class/component array property.</p>\n\n<p>But I cannot access the class or its properties. Instead the scope says I am in the mqtt client class object.</p>\n\n<p>Here is a code example:</p>\n\n<pre><code>this.mydata: Array&lt;any&gt; = [];\n\nprivate fetchWithMqtt(){\nvar client = mqtt.connect('ws://' + this.ip + \":\" + Number(this.port) + \"/mqtt\");\n        // set callback handlers\n        client.on('close', this.onConnectionLost);\n        client.on('message', this.onMessageArrived);\n        client.on('connect', this.onConnect);\n}\n\nprivate onMessageArrived(topic, message) {\n        let tempDataset = JSON.parse(message).dataset;\n            this.mydata.push({ //this.mydata is undefined because this = mqtt-client\n                x: tempDataset[0],\n                y: tempDataset[1]\n            });\n</code></pre>\n\n<p>How can I push data to my class property outside this scope?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 176, "user_id": 2357245, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/df753f814d3ad32edd6cd8ab83b166cc?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/2357245/pascal"}, "edited": false, "score": 0, "creation_date": 1487164728, "post_id": 42236403, "comment_id": 71658784, "body": "that works, however, the value for e.g databaseName1 is not an array."}, {"owner": {"reputation": 10633, "user_id": 20057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e16fcfaaab21f57be4d2a84f46320086?s=128&d=identicon&r=PG", "display_name": "David Walschots", "link": "https://stackoverflow.com/users/20057/david-walschots"}, "reply_to_user": {"reputation": 176, "user_id": 2357245, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/df753f814d3ad32edd6cd8ab83b166cc?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/2357245/pascal"}, "edited": false, "score": 1, "creation_date": 1487165629, "post_id": 42236403, "comment_id": 71659428, "body": "According to the JSON provided in your question, databaseName1 is an array. Thus, I can&#39;t really help you any further with that."}], "tags": [], "owner": {"reputation": 10633, "user_id": 20057, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e16fcfaaab21f57be4d2a84f46320086?s=128&d=identicon&r=PG", "display_name": "David Walschots", "link": "https://stackoverflow.com/users/20057/david-walschots"}, "is_accepted": false, "score": 0, "last_activity_date": 1522412685, "last_edit_date": 1522412685, "creation_date": 1487107102, "answer_id": 42236403, "question_id": 42231327, "link": "https://stackoverflow.com/questions/42231327/how-to-iterate-on-a-dynamic-formcontrol-with-angular2-and-formbuilder/42236403#42236403", "title": "How to iterate on a dynamic FormControl with Angular2 and FormBuilder?", "body": "<p>You are binding your <code>input</code> to the objects <code>databaseName1</code> and <code>xyz</code>. The input shows the value returned by calling <code>toString</code> on the passed property, thus in this case it returns <code>[object Object]</code>.</p>\n\n<p>Let's assume you actually want to bind to the properties of a single object. For sake of simplicity I leave out the validators from my example. I'll leave the HTML up to you.</p>\n\n<pre><code>ngOnInit() {\n  this.data = this.dataSet[this.key];\n\n  this.form = this._fb.group({});\n\n  let self = this; //multiple fat-arrow functions, so capture this.\n  Object.keys(this.data).forEach(name =&gt; { //databaseName1 and xyz\n    let array = self.data[name];\n    array.forEach(item =&gt; { //The objects within the arrays referenced by databaseName1 and xyz.\n      self.form.addControl(name, new FormGroup({\n        destination: new FormControl(item['destination']),\n        ports: new FormControl(item['ports']),\n        protocol: new FormControl(item['protocol'])\n      }));\n    });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 2357245, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/df753f814d3ad32edd6cd8ab83b166cc?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/2357245/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4241, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522412685, "creation_date": 1487089770, "question_id": 42231327, "link": "https://stackoverflow.com/questions/42231327/how-to-iterate-on-a-dynamic-formcontrol-with-angular2-and-formbuilder", "title": "How to iterate on a dynamic FormControl with Angular2 and FormBuilder?", "body": "<p>I try to iterate in the HTML part over a FormControl which was dynamically generated, but I get <strong>[object Object],[object Object]</strong> in the input field.</p>\n\n<p>The Data:\nI get a json string with following format:</p>\n\n<pre><code>{\n    \"security_groups\": {\n        \"databaseName1\": [{\n            \"destination\": \"10.0.8.1-10.0.8.255\",\n            \"ports\": \"27000-27499\",\n            \"protocol\": \"tcp\"\n        }, {\n            \"destination\": \"10.0.8.1-10.0.8.255\",\n            \"ports\": \"27000-27499\",\n            \"protocol\": \"tcp\"\n        }],\n        \"xyz\": [{\n            \"destination\": \"10.0.8.1-10.0.8.255\",\n            \"ports\": \"27000-27499\",\n            \"protocol\": \"tcp\"\n        }]\n    }\n}\n</code></pre>\n\n<p>this json is is just fix in the structure but not in the naming.\nDatabase1 can also by called differently. Just the key \"security_groups\" is fix.</p>\n\n<p>I have in my controller following code:</p>\n\n<pre><code>public form: FormGroup;\n  public data: any;\n\n  constructor(private _fb: FormBuilder) {\n  }\n\n  ngOnInit() {\n    this.data = this.dataSet[this.key];\n\n    this.form = this._fb.group({});\n    Object.keys(this.data).forEach(name =&gt; {\n      this.form.addControl(name, new FormControl(\n        this.data[name], [&lt;any&gt;Validators.required, &lt;any&gt;Validators.minLength(1)]\n      ));\n    });\n</code></pre>\n\n<p>When I check now this in the console, I get following structure.</p>\n\n<pre><code>FormGroup\n  ...\n  controls: Object\n    databaseName1: FormControl\n    ...\n    _value: Array[2]\n      0: Object\n        destination: \"10.0.8.1-10.0.8.255\"\n        ports: \"27000-27499\"\n        protocol: \"tcp\"\n        __proto__: Object\n      1: Object\n        destination: \"10.0.8.1-10.0.8.255\"\n        ports: \"27000-27499\"\n        protocol: \"tcp\"\n        __proto__: Object\n        ...\n    xyz: FormControl\n    ...\n    _value: Array[2]\n      0: Object\n        destination: \"10.0.8.1-10.0.8.255\"\n        ports: \"27000-27499\"\n        protocol: \"tcp\"\n        __proto__: Object\n        ...\n</code></pre>\n\n<p>I have a FormControlName = \"databaseName1\", and I have a FormControlName = \"xyz\".\nI tray now to iterate over this FormControls (databaseName1 and xyz) and put there name in a input field.</p>\n\n<p>The HTML Code so far:</p>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"onSave(form)\"&gt;\n  &lt;div *ngFor=\"let control of form.controls | keyVal; let i=index\"&gt;\n\n    control.log(control.key)\n\n    &lt;input class=\"form-control\" [formControlName]=control.key&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>The values of \"control.key\" are databaseName1 and xyz check in console.\nThe input field shows the value [object Object],[object Object].</p>\n\n<p>How it's possible to write the FormControlName in the input field?</p>\n\n<p>Is that way of create the form in the controller wrong?</p>\n\n<p>Thanks for help.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487091525, "post_id": 42230996, "comment_id": 71623338, "body": "Get the index of the currently selected movie (i.e. the one whose value is equal to movies.value.name), then set movies.value.name to the value of the next movie in the array. But why not use the standard keyboard shortcuts, directly supported by the browser, instead?"}], "answers": [{"comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487091611, "post_id": 42231908, "comment_id": 71623412, "body": "It would be great if the question would contain the essential parts directly instead of only in a link to an external resource."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487091862, "post_id": 42231908, "comment_id": 71623599, "body": "@G&#252;nterZ&#246;chbauer Done, mate."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487092251, "post_id": 42231908, "comment_id": 71623896, "body": "The problem with this solution is that if you select an option without pressing F9 (using the mouse for example), the next option selected by F9 is not the option following the selected one anymore. Instead of using <code>i</code>, the function should find the index of the selected option."}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487092505, "post_id": 42231908, "comment_id": 71624062, "body": "@JBNizet just find the value bind to the ngModel in the array and get the index, then +1/-1 just check indexOutOfBounds."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1487092512, "post_id": 42231908, "comment_id": 71624070, "body": "See <a href=\"http://plnkr.co/edit/Bbf7Yh7NEqun6DKsFwQm?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/Bbf7Yh7NEqun6DKsFwQm?p=preview</a> for a simpler solution that doesn&#39;t have this problem"}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487092600, "post_id": 42231908, "comment_id": 71624148, "body": "@JBNizet that&#39;s, you should post the code as the answer, gj!"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487092728, "post_id": 42231908, "comment_id": 71624239, "body": "This answer is &quot;good enough&quot; to me, because it shows the principle of the solution."}, {"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487094186, "post_id": 42231908, "comment_id": 71625123, "body": "@JBNizet I&#39;ve posted a working solution. Thanks mate for pointing it out. Have a great day!"}, {"owner": {"reputation": 2226, "user_id": 998415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/093690ccc5fd093df1b73955a58d6093?s=128&d=identicon&r=PG", "display_name": "jjj", "link": "https://stackoverflow.com/users/998415/jjj"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1487094792, "post_id": 42231908, "comment_id": 71625494, "body": "@JBNizet, post this as a solution. That&#39;s awesome, thanks a lot."}], "tags": [], "owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "is_accepted": false, "score": 3, "last_activity_date": 1487094940, "last_edit_date": 1487094940, "creation_date": 1487091523, "answer_id": 42231908, "question_id": 42230996, "link": "https://stackoverflow.com/questions/42230996/angular2-how-to-change-selected-select-element-option-on-key-press/42231908#42231908", "title": "Angular2 - How to change selected &lt;select&gt; element option on key press?", "body": "<p>Took a while but I've made something for you.</p>\n\n<p>If you click <strong><code>F9</code></strong> button, the selected value will be incremented by one. When it reaches the last element of the <code>moviesList</code> array, the selected value gets reseted to the first one.</p>\n\n<p><strong><code>app.component.html</code></strong></p>\n\n<pre><code>&lt;select id=\"movie\" name=\"Movie\" (keyup)=\"keyPress($event)\" \n  [(ngModel)]=\"selectedMovie\" autofocus&gt;\n&lt;option *ngFor=\"let movie of moviesList\"&gt;{{ movie.movie }}&lt;/option&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong><code>app.component.ts</code></strong></p>\n\n<pre><code>  selectedMovie: string;\n  moviesList = [{movie: 'Shrek'}, {movie: 'Inception'}, {movie: 'Interstellar'},  {movie: 'Star Wars'},  {movie: 'Nemo'} , {movie: 'Pluton'},  {movie: 'Pokemon'}];\n  i: number = 0;\n\n  constructor() { \n    this.selectedMovie = this.moviesList[0].movie;\n  }\n\n  keyPress(event): void {\n     this.i = this.moviesList.map(v =&gt; v.movie == this.selectedMovie).indexOf(true);\n        if (event.keyCode === 120) {\n          this.i++;\n          if (this.i &lt; this.moviesList.length) {\n            this.selectedMovie = this.moviesList[this.i].movie;\n          } else {\n            this.selectedMovie = this.moviesList[0].movie;\n            this.i = 0;\n          }    \n      } \n  }\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/i5hii6N9PelIYSWs5vwg?p=preview\" rel=\"nofollow noreferrer\">Plunker link</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1487095252, "post_id": 42233034, "comment_id": 71625769, "body": "It&#39;s less of code here, but - to be honest - it&#39;s kinda more complicated. But anyways, that&#39;s a really clever code."}, {"owner": {"reputation": 2226, "user_id": 998415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/093690ccc5fd093df1b73955a58d6093?s=128&d=identicon&r=PG", "display_name": "jjj", "link": "https://stackoverflow.com/users/998415/jjj"}, "reply_to_user": {"reputation": 31873, "user_id": 6695924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFTZc.png?s=128&g=1", "display_name": "kind user", "link": "https://stackoverflow.com/users/6695924/kind-user"}, "edited": false, "score": 0, "creation_date": 1487095415, "post_id": 42233034, "comment_id": 71625849, "body": "Thank you both, you&#39;ve really helped a lot. Much appreciated. @Kinduser, if you don&#39;t mind I&#39;ll mark this answer as a solution."}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537419951, "post_id": 42233034, "comment_id": 91778907, "body": "@JB Nizet this guy!! MVP"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 2, "last_activity_date": 1487094974, "creation_date": 1487094974, "answer_id": 42233034, "question_id": 42230996, "link": "https://stackoverflow.com/questions/42230996/angular2-how-to-change-selected-select-element-option-on-key-press/42233034#42233034", "title": "Angular2 - How to change selected &lt;select&gt; element option on key press?", "body": "<p>The principle of the solution is demonstrated by Kind user's answer. The code could be simpler, though:</p>\n\n<pre><code>  &lt;select id=\"movie\" name=\"Movie\"\n          (keyup.f9)=\"f9Pressed()\"\n          [(ngModel)]=\"movies.value.name\"&gt;\n    &lt;option *ngFor=\"let movie of movieNameOptions\" [value]=\"movie.value\"&gt;\n      {{ movie.label }}\n    &lt;/option&gt;\n  &lt;/select&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>f9Pressed() {\n  let index = this.movieNameOptions.map(m =&gt; m.value).indexOf(this.movies.value.name);\n  index = (index + 1) % this.movieNameOptions.length;\n  this.movies.value.name = this.movieNameOptions[index].value;\n}\n</code></pre>\n\n<p>See <a href=\"http://plnkr.co/edit/Bbf7Yh7NEqun6DKsFwQm?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/Bbf7Yh7NEqun6DKsFwQm?p=preview</a> for a complete plunkr.</p>\n"}], "owner": {"reputation": 2226, "user_id": 998415, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/093690ccc5fd093df1b73955a58d6093?s=128&d=identicon&r=PG", "display_name": "jjj", "link": "https://stackoverflow.com/users/998415/jjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1749, "favorite_count": 1, "accepted_answer_id": 42233034, "answer_count": 2, "score": 0, "last_activity_date": 1487114938, "creation_date": 1487088706, "last_edit_date": 1487114938, "question_id": 42230996, "link": "https://stackoverflow.com/questions/42230996/angular2-how-to-change-selected-select-element-option-on-key-press", "title": "Angular2 - How to change selected &lt;select&gt; element option on key press?", "body": "<p>Following is my HTML:</p>\n\n<pre><code>&lt;select id=\"movie\" name=\"Movie\"\n  (keyup)=\"keyPress($event);\"\n  [(ngModel)]=\"movies.value.name\"\n  &lt;option *ngFor=\"let movie of movieNameOptions\" [value]=\"movie.value\"&gt;{{ movie.label }}\n  &lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>I am populating the options from the model. </p>\n\n<p>I need to scroll through movie options inside  tag programmatically on a particular F9 key press.</p>\n\n<p>This is what my f9 keyPress function looks like:</p>\n\n<pre><code>keyPress(event): void {\n        if(event.keyCode === 120) {\n           // not sure what to do here\n        }\n}\n</code></pre>\n\n<p>How do I go about scrolling through available option by pressing F9?\nFor example, if I have five items and I am on the item #3, by pressing F9, selected option should switch to item #4. \nAnother press, it should go to item #5.\nAnother press it should land on item #1 again.</p>\n\n<p>Any help is much appreciated.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1487088081, "post_id": 42230718, "comment_id": 71620936, "body": "Why are you incrementing <code>i</code> at the bottom of the loop?"}, {"owner": {"reputation": 5424, "user_id": 821488, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d053a0b1fbbd5f529ee6f0d2987ce6e7?s=128&d=identicon&r=PG", "display_name": "ntgCleaner", "link": "https://stackoverflow.com/users/821488/ntgcleaner"}, "edited": false, "score": 0, "creation_date": 1487088121, "post_id": 42230718, "comment_id": 71620963, "body": "@torazaburo The <code>else</code> statement is basically saying <code>if the value of this array item is equal to 0, look at the next array item</code>"}, {"owner": {"reputation": 5424, "user_id": 821488, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d053a0b1fbbd5f529ee6f0d2987ce6e7?s=128&d=identicon&r=PG", "display_name": "ntgCleaner", "link": "https://stackoverflow.com/users/821488/ntgcleaner"}, "edited": false, "score": 0, "creation_date": 1487088403, "post_id": 42230718, "comment_id": 71621198, "body": "@torazaburo, your comment was dead on.  I had the biggest brain fart ever.  No reason to increment a loop inside a for loop... Thank you!"}, {"owner": {"reputation": 11646, "user_id": 368003, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3d7b2cbf0a36a51ac8f811041406d8a2?s=128&d=identicon&r=PG&f=1", "display_name": "DrColossos", "link": "https://stackoverflow.com/users/368003/drcolossos"}, "edited": false, "score": 0, "creation_date": 1487088539, "post_id": 42230718, "comment_id": 71621304, "body": "Maybe <a href=\"http://momentjs.com/docs/#/displaying/fromnow/\" rel=\"nofollow noreferrer\">momentjs.com/docs/#/displaying/fromnow</a> or <a href=\"http://momentjs.com/docs/#/displaying/from/\" rel=\"nofollow noreferrer\">momentjs.com/docs/#/displaying/from</a> and similar?"}, {"owner": {"reputation": 5424, "user_id": 821488, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d053a0b1fbbd5f529ee6f0d2987ce6e7?s=128&d=identicon&r=PG", "display_name": "ntgCleaner", "link": "https://stackoverflow.com/users/821488/ntgcleaner"}, "reply_to_user": {"reputation": 11646, "user_id": 368003, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3d7b2cbf0a36a51ac8f811041406d8a2?s=128&d=identicon&r=PG&f=1", "display_name": "DrColossos", "link": "https://stackoverflow.com/users/368003/drcolossos"}, "edited": false, "score": 0, "creation_date": 1487088585, "post_id": 42230718, "comment_id": 71621339, "body": "@DrColossos, I tried using that, and it works great, but I wanted to see the largest 2 times.  from and from now only show the single largest time."}], "answers": [{"comments": [{"owner": {"reputation": 5424, "user_id": 821488, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d053a0b1fbbd5f529ee6f0d2987ce6e7?s=128&d=identicon&r=PG", "display_name": "ntgCleaner", "link": "https://stackoverflow.com/users/821488/ntgcleaner"}, "edited": false, "score": 0, "creation_date": 1487088357, "post_id": 42230840, "comment_id": 71621154, "body": "Wow.  that&#39;s a facepalm right there...  Thank you for helping me understand a basic loop again!  Answer will be accepted in 7 minutes"}], "tags": [], "owner": {"reputation": 3643, "user_id": 5079380, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/qYTmy.jpg?s=128&g=1", "display_name": "Amr ElAdawy", "link": "https://stackoverflow.com/users/5079380/amr-eladawy"}, "is_accepted": true, "score": 1, "last_activity_date": 1487091677, "last_edit_date": 1487091677, "creation_date": 1487088264, "answer_id": 42230840, "question_id": 42230718, "link": "https://stackoverflow.com/questions/42230718/javascript-typescript-for-loop-not-working-properly/42230840#42230840", "title": "Javascript (Typescript): for loop not working properly", "body": "<p>This is because of the <code>else</code> statement in your code is incrementing the counter <code>i</code> and that is causing the loop to skip the next item in the array when it hits a <code>0</code>.\nThat is why <code>10</code> is skipped after <code>0</code>. \nRemove that part and it should work.</p>\n\n<pre><code>for(var i = 0; i &lt; dateArray.length; i++) {\n  if(dateArray[i] &gt; 0){\n    //If the event is in the future\n    this.state = \"future\";\n    this.timePrimary = dateArray[i];\n    this.timePrimaryType = this.typeOfTime(i, dateArray[i]);\n    this.timeSecondary = dateArray[i+1] !== 0 ? dateArray[i+1] : dateArray[i+2];\n    this.timeSecondaryType = dateArray[i+1] !== 0 ? this.typeOfTime(i+1, dateArray[i+1]) : this.typeOfTime(i+2, dateArray[i+2]);\n    break;\n  } else if(dateArray[i] &lt; 0) {\n    //If the event is in the past\n    this.state = \"past\";\n    this.timePrimary = dateArray[i] * (-1);\n    this.timePrimaryType = this.typeOfTime(i, (dateArray[i] * (-1))) + \" ago\";\n    break;\n  } else {\n    //do nothing... let the loop to go on.\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5424, "user_id": 821488, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d053a0b1fbbd5f529ee6f0d2987ce6e7?s=128&d=identicon&r=PG", "display_name": "ntgCleaner", "link": "https://stackoverflow.com/users/821488/ntgcleaner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1687, "favorite_count": 0, "accepted_answer_id": 42230840, "answer_count": 1, "score": 0, "last_activity_date": 1487091677, "creation_date": 1487087927, "question_id": 42230718, "link": "https://stackoverflow.com/questions/42230718/javascript-typescript-for-loop-not-working-properly", "title": "Javascript (Typescript): for loop not working properly", "body": "<p>I am working in Ionic 2 and I'm trying to make a for loop to show certain data.  But it is acting very strange.</p>\n\n<p>I currently have an array of \"time left\" using moment.js</p>\n\n<pre><code>var dur = moment.duration( moment(date).diff(moment()) );\nlet yearsRemain = dur.years();\nlet monthsRemain = dur.months();\nlet daysRemain = dur.days();\nlet hoursRemain = dur.hours();\nlet minutesRemain = dur.minutes();\nlet secondsRemain = dur.seconds();\n\nvar dateArray = [\n  yearsRemain,\n  monthsRemain,\n  daysRemain,\n  hoursRemain,\n  minutesRemain,\n  secondsRemain\n]\n</code></pre>\n\n<p>If I were to output the <code>dateArray</code> like <code>this.timeString = dateArray.join(\",\");</code> and show <code>timeString</code> in my html, I can see the following values:</p>\n\n<pre><code>0,  0,  0,-17,-46, -3  //17 hours ago\n0,  0,  0, 10,  7, 47  //in 10 hours 7 minutes\n0,  0,  2,  1,  9, 35  //in 2 days and 1 hour\n</code></pre>\n\n<p>Now, I iterate through the array and I try to get the two largest values.  I'm trying to show a string like I have in the comments above.  If it is in the past, I want to show just the largest value.</p>\n\n<pre><code>for(var i = 0; i &lt; dateArray.length; i++) {\n  if(dateArray[i] &gt; 0){\n    //If the event is in the future\n    this.state = \"future\";\n    this.timePrimary = dateArray[i];\n    this.timePrimaryType = this.typeOfTime(i, dateArray[i]);\n    this.timeSecondary = dateArray[i+1] !== 0 ? dateArray[i+1] : dateArray[i+2];\n    this.timeSecondaryType = dateArray[i+1] !== 0 ? this.typeOfTime(i+1, dateArray[i+1]) : this.typeOfTime(i+2, dateArray[i+2]);\n    break;\n  } else if(dateArray[i] &lt; 0) {\n    //If the event is in the past\n    this.state = \"past\";\n    this.timePrimary = dateArray[i] * (-1);\n    this.timePrimaryType = this.typeOfTime(i, (dateArray[i] * (-1))) + \" ago\";\n    break;\n  } else {\n    i++\n  }\n}\n</code></pre>\n\n<p>This loop goes through each array item and should catch the first array item that isn't a <code>0</code>.  If it's larger than 0, the event is in the future and I want to capture that number and the next (if the next is zero, find the next, I'm going to upgrade this part soon).</p>\n\n<p><strong>Here's the problem</strong></p>\n\n<p>For some reason, it's skipping the <code>hours</code> part of the array when hours is the largest number.  Take the second example from above: <code>0,  0,  0, 10,  7, 47</code>.  All I see is <code>7 minutes and 47 seconds</code> when it should read <code>10 hours and 7 minutes</code>.</p>\n\n<p>Any ideas as to why this is happening?</p>\n\n<p>Just in case you feel like asking, here's the <code>typeOfType</code> function:</p>\n\n<pre><code>typeOfTime(type, num) {\nvar display;\nvar plur = num === 1 ? \"\" : \"s\";\nswitch(type) {\n  case 0:\n    display = \"Year\" + plur;\n    break;\n  case 1:\n    display = \"Month\" + plur;\n    break;\n  case 2:\n    display = \"Day\" + plur;\n    break;\n  case 3:\n    display = \"Hour\" + plur;\n    break;\n  case 4:\n    display = \"Minute\" + plur;\n    break;\n  case 5:\n    display = \"Second\" + plur;\n    break;\n}\nreturn display;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["typescript", "typescript2.1"], "answers": [{"tags": [], "owner": {"reputation": 251, "user_id": 2169988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdac448d08e3c8b21467c42c04601e51?s=128&d=identicon&r=PG", "display_name": "Finn Poppinga", "link": "https://stackoverflow.com/users/2169988/finn-poppinga"}, "is_accepted": true, "score": 5, "last_activity_date": 1487145532, "last_edit_date": 1487145532, "creation_date": 1487091606, "answer_id": 42231941, "question_id": 42230251, "link": "https://stackoverflow.com/questions/42230251/generate-a-type-from-a-modules-own-exported-keys/42231941#42231941", "title": "Generate a type from a module&#39;s own exported keys", "body": "<p>I did not believe, that what you are planning to do was possible, as the line <code>export type MyKeys...</code> would have neede to be included in the keys type itself. </p>\n\n<p>However, surprisingly it is working to just import the module into itself and exporting the keys from there. </p>\n\n<p><strong>main.ts</strong>\n</p>\n\n<pre><code>export const a : string = 'a';\nexport const b : string = 'b';\n\nimport * as main from './main'\nexport type MyKeys = keyof typeof main;\n</code></pre>\n\n<p><strong>test.ts</strong></p>\n\n<pre><code>import {MyKeys} from './main';\n\nconst a : MyKeys = 'a';\nconst b : MyKeys = 'c'; // TS2322: Type '\"c\"' is not assignable to type '\"a\" | \"b\"'.\n</code></pre>\n"}], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 42231941, "answer_count": 1, "score": 1, "last_activity_date": 1487145532, "creation_date": 1487086721, "last_edit_date": 1487087510, "question_id": 42230251, "link": "https://stackoverflow.com/questions/42230251/generate-a-type-from-a-modules-own-exported-keys", "title": "Generate a type from a module&#39;s own exported keys", "body": "<p>Given a module like this:</p>\n\n<pre><code>export const a: string;\nexport const b: string;\n</code></pre>\n\n<p>From outside you can generate a type <code>\"a\" | \"b\"</code> like this:</p>\n\n<pre><code>import * as stuff from \"./stuff\";\ntype StuffKeys = keyof typeof stuff; // \"a\" | \"b\"\n</code></pre>\n\n<p>But I want to generate and export this type from <em>within the module</em>. Something like:</p>\n\n<pre><code>export type MyKeys = keyof typeof this;\n</code></pre>\n\n<p>But that does not work. </p>\n\n<p>Is there a way to do this? </p>\n"}, {"tags": ["angular", "typescript", "webpack", "angular2-aot"], "answers": [{"tags": [], "owner": {"reputation": 2313, "user_id": 2053494, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7d28f908143997898db6a93a42a03a2?s=128&d=identicon&r=PG", "display_name": "doker", "link": "https://stackoverflow.com/users/2053494/doker"}, "is_accepted": false, "score": 1, "last_activity_date": 1487144717, "creation_date": 1487144717, "answer_id": 42243364, "question_id": 42229170, "link": "https://stackoverflow.com/questions/42229170/angular-2-ahead-of-time-compilation-with-ngtools-webpack-how-to/42243364#42243364", "title": "angular 2 Ahead-Of-Time compilation with @ngtools/webpack, how to?", "body": "<p>Ok so... it's new day and having a fresh mind I decided to investigate that issue.</p>\n\n<p>I went to ./node-modules/@ngtools/webpack/src and I have identified the file that is responsible for substituting the bootstraping code. It is in file loader.js.</p>\n\n<p>I have added some console logs to that code:</p>\n\n<pre><code>console.log(\"searching for bootstrapModule.\")\n    const bootstraps = allCalls\n        .filter(call =&gt; call.expression.kind == ts.SyntaxKind.PropertyAccessExpression)\n        .map(call =&gt; call.expression)\n        .filter(access =&gt; {\n        return access.name.kind == ts.SyntaxKind.Identifier\n            &amp;&amp; access.name.text == 'bootstrapModule';\n        });\n    console.log(\"bootstraps:\", bootstraps.length);\n\n    const calls = bootstraps\n        .reduce((previous, access) =&gt; {\n            console.log(\"previous:\", previous);\n            console.log(\"access:\", access);\n            const expressions = refactor.findAstNodes(access, ts.SyntaxKind.CallExpression, true);\n            return previous.concat(expressions);\n    }, [])\n        .filter((call) =&gt; {\n            console.log(\"call:\", call);\n\n        return call.expression.kind == ts.SyntaxKind.Identifier\n            &amp;&amp; call.expression.text == 'platformBrowserDynamic';\n        });\n    console.log(\"matching calls:\", calls.length);\n</code></pre>\n\n<p>The 'bootstrapModule' part was found but the 'platformBrowserDynamic' was not.\nLooking at what was being parsed by the code I have identified that issue.</p>\n\n<p>Basically what I had was:</p>\n\n<pre><code>const platform = platformBrowserDynamic();\nplatform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>While the plugin is only able to identify code in that form:</p>\n\n<pre><code>platformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n"}], "owner": {"reputation": 2313, "user_id": 2053494, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e7d28f908143997898db6a93a42a03a2?s=128&d=identicon&r=PG", "display_name": "doker", "link": "https://stackoverflow.com/users/2053494/doker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487144717, "creation_date": 1487083817, "question_id": 42229170, "link": "https://stackoverflow.com/questions/42229170/angular-2-ahead-of-time-compilation-with-ngtools-webpack-how-to", "title": "angular 2 Ahead-Of-Time compilation with @ngtools/webpack, how to?", "body": "<p>I want to compile angular templates in webpack but it does not fully work.</p>\n\n<p>This is my webpack.config.js</p>\n\n<pre><code>/// &lt;binding ProjectOpened='Watch - Development' /&gt;\nvar AotPlugin = require(\"@ngtools/webpack\").AotPlugin;\n\nvar path = require(\"path\");\nvar webpack = require(\"webpack\");\nvar basePath = path.join(__dirname, \"wwwroot\");\n\nmodule.exports = {\n    context: basePath,\n    entry: {\n        main: [\"./app/main.ts\"],\n        productModule: \"./app/components/product-module\",\n        adminModule: \"./app/components/admin-module\" \n    },\n    output: {\n        path: path.join(__dirname, \"wwwroot/built\"),\n        filename: \"[name].bundle.js\",\n        sourceMapFilename: \"[name].bundle.js\",\n        publicPath: \"built/\"\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.html$/,\n                loader: \"html-loader\",\n                query: {\n                    minimize: true,\n                    ignoreCustomFragments: [/\\{\\{.*?}}/],\n                    removeAttributeQuotes: false,\n                    caseSensitive: true,\n                    customAttrSurround: [ [/#/, /(?:)/], [/\\*/, /(?:)/], [/\\[?\\(?/, /(?:)/] ],\n                    customAttrAssign: [ /\\)?\\]?=/ ] ,\n                    root: basePath,\n                    attrs: false // ['img:src', 'link:href']\n                }\n            },\n            {\n                test: /\\.ts$/,\n                loader: \"@ngtools/webpack\"\n            }//,\n           // { test: /\\.css$/, loader: \"style-loader!css-loader?root=.\" }\n        ]\n    },\n    externals: {\n        \"jquery\": \"jQuery\"\n    },\n    devtool: false,\n    plugins: [\n        new AotPlugin({\n            tsConfigPath: \"./tsconfig.json\",\n            basePath: basePath\n        }),\n        new webpack.optimize.CommonsChunkPlugin({\n            //filename: \"[name].c.bundle.js\"//, \n            names: [\"main\"]\n        })\n        , new webpack.optimize.UglifyJsPlugin({\n            sourceMap: true,\n            minimize: true,\n            acorn: true,\n            angular: true,\n            beautify: false,\n            compress: {\n                properties: true,\n                sequences: true,\n                dead_code: true,\n                drop_debugger: true,\n                unsafe_comps: true,\n                conditionals: true,\n                comparisons: true,\n                evaluate: true,\n                booleans: true,\n                keep_fargs: false,\n                loops: true,\n                unsafe: true,\n                angular: true,\n                unused: true,\n                cascade: true,\n                hoist_funs: true,\n                join_vars: true,\n                warnings: false\n            },\n            output: {\n                comments: false\n            }\n        })\n    ]\n\n};\n</code></pre>\n\n<p>and my tsconfig.json:</p>\n\n<pre><code>{\n  \"compileOnSave\": true,\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"diagnostics\": false,\n    \"suppressImplicitAnyIndexErrors\": true\n  },\n  \"filesGlob\": [\n    \"**/*.ts\"\n  ],\n  \"include\": [ \"typings\" ],\n  \"exclude\": [ \"node_modules\" ],\n  \"angularCompilerOptions\": {\n    \"entryModule\": \"app/module#AppModule\"\n  }\n}\n</code></pre>\n\n<p>When my main.ts imports @angular/platform-browser and calls platform.bootstrapModule(AppModule); </p>\n\n<pre><code>import 'core-js';\nimport 'zone.js';\n\nimport { enableProdMode } from \"@angular/core\";\nimport { platformBrowser } from \"@angular/platform-browser\";\nenableProdMode();\nimport { AppModule } from './module';\nconst platform = platformBrowser();\nplatform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>Then the size of main bundle is around 680kB but the site throws:</p>\n\n<pre><code>NoProviderError_nativeError: Error: No provider for CompilerFactory!\n    at NoProviderError.BaseError [as constructor] (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:23:4831), &lt;anonymous&gt;:30:27) [&lt;root&gt;]\n    at NoProviderError.AbstractProviderError [as constructor] (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:53:73), &lt;anonymous&gt;:64:16) [&lt;root&gt;]\n    at new NoProviderError (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:53:73), &lt;anonymous&gt;:126:16) [&lt;root&gt;]\n    at ReflectiveInjector_._throwOrNull (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:84:73), &lt;anonymous&gt;:492:19) [&lt;root&gt;]\n    at ReflectiveInjector_._getByKeyDefault (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:84:73), &lt;anonymous&gt;:531:25) [&lt;root&gt;]\n    at ReflectiveInjector_._getByKey (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:84:73), &lt;anonymous&gt;:463:25) [&lt;root&gt;]\n    at ReflectiveInjector_.get (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:84:73), &lt;anonymous&gt;:332:21) [&lt;root&gt;]\n    at PlatformRef_._bootstrapModuleWithZone (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:32:7749), &lt;anonymous&gt;:403:62) [&lt;root&gt;]\n    at PlatformRef_.bootstrapModule (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:32:7749), &lt;anonymous&gt;:391:21) [&lt;root&gt;]\n    at eval (eval at &lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:74:73), &lt;anonymous&gt;:17:10) [&lt;root&gt;]\n    at Object.&lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:74:73) [&lt;root&gt;]\n    at n (http://localhost:59432/built/main.bundle.js:1:101) [&lt;root&gt;]\n    at Object.&lt;anonymous&gt; (http://localhost:59432/built/main.bundle.js:119:29) [&lt;root&gt;]\n    at n (http://localhost:59432/built/main.bundle.js:1:101) [&lt;root&gt;]constructResolvingMessage: (keys)injectors: Array[1]keys: Array[1]message: (...)name: (...)stack: (...)__proto__: AbstractProviderError\nReflectiveInjector_._throwOrNull @ VM1617:492\nReflectiveInjector_._getByKeyDefault @ VM1617:531\nReflectiveInjector_._getByKey @ VM1617:463\nReflectiveInjector_.get @ VM1617:332\nPlatformRef_._bootstrapModuleWithZone @ VM1627:403\nPlatformRef_.bootstrapModule @ VM1627:391\n(anonymous) @ VM1271:17\n(anonymous) @ main.bundle.js:74\nn @ main.bundle.js:1\n(anonymous) @ main.bundle.js:119\nn @ main.bundle.js:1\n(anonymous) @ main.bundle.js:1\n(anonymous) @ main.bundle.js:1\n</code></pre>\n\n<p>But if I call platform-browser-dynamic hoping that the AotPlugin will substitute imports and calls:</p>\n\n<pre><code>import 'core-js';\nimport 'zone.js';\nimport { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nenableProdMode();\nimport { AppModule } from './module';\nconst platform = platformBrowserDynamic();\nplatform.bootstrapModule(AppModule);\n</code></pre>\n\n<p>Then the main.bundle.js is 1076kB which clearly indicates that the platform-browser-dynamic has not been replaced with platform-browser and the template compiler has not been removed from code tree.</p>\n\n<p>What is the proper way to get rid of template compiler from bundle when using webpack (but not by using angular typescript compiler prior to running webpack)</p>\n\n<p>I'll also list my package.json in case that helps:</p>\n\n<pre><code>{\n  \"version\": \"1.0.0\",\n  \"name\": \"asp.net\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"\",\n    \"lite\": \"lite-server\",\n    \"postinstall\": \"typings install &amp;&amp; gulp restore &amp;&amp; gulp build:sass\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"2.4.7\",\n    \"@angular/core\": \"2.4.7\",\n    \"@angular/forms\": \"2.4.7\",\n    \"@angular/http\": \"2.4.7\",\n    \"@angular/platform-browser\": \"2.4.7\",\n    \"@angular/platform-browser-dynamic\": \"2.4.7\",\n    \"@angular/router\": \"3.4.7\",\n    \"@types/es6-shim\": \"^0.31.32\",\n    \"animate.css\": \"^3.5.2\",\n    \"aspnet-prerendering\": \"1.0.7\",\n    \"bootstrap-sass\": \"^3.3.7\",\n    \"concurrently\": \"^2.0.0\",\n    \"css-loader\": \"^0.25.0\",\n    \"es6-promise\": \"4.0.5\",\n    \"es6-shim\": \"0.35.2\",\n    \"core-js\": \"2.4.1\",\n    \"font-awesome\": \"4.6.3\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-clean-css\": \"2.0.13\",\n    \"gulp-rename\": \"1.2.2\",\n    \"gulp-sass\": \"2.3.2\",\n    \"gulp-typescript\": \"3.1.3\",\n    \"gulp-webpack\": \"1.5.0\",\n    \"jquery\": \"^2.2.4\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"rollup\": \"^0.36.3\",\n    \"rxjs\": \"5.1\",\n    \"style-loader\": \"^0.13.1\",\n    \"systemjs\": \"0.19.27\",\n    \"typings\": \"^1.0.4\",\n    \"webpack\": \"2.2.1\",\n    \"zone.js\": \"0.7.2\",\n    \"angular-2-local-storage\": \"1.0.0\"\n  },\n  \"devDependencies\": {\n    \"@ngtools/webpack\": \"1.2.9\",\n    \"@angular/compiler\": \"^2.4.7\",\n    \"@angular/compiler-cli\": \"2.4.7\",\n    \"@types/lodash\": \"^4.14.52\",\n    \"gulp\": \"^3.9.1\",\n    \"gulp-clean-css\": \"2.0.13\",\n    \"gulp-rename\": \"1.2.2\",\n    \"gulp-sass\": \"2.3.2\",\n    \"gulp-typescript\": \"3.1.3\",\n    \"html-loader\": \"0.4.4\",\n    \"raw-loader\": \"0.5.1\",\n    \"rollup-loader\": \"0.1.2\",\n    \"rollup-plugin-babel\": \"2.7.1\",\n    \"typescript\": \"2.1.5\"\n  },\n  \"optionalDependencies\": {\n    \"fsevents\": \"1.0.15\"\n  }\n}\n</code></pre>\n"}, {"tags": ["file", "angular", "typescript", "blob"], "comments": [{"owner": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "edited": false, "score": 0, "creation_date": 1487083613, "post_id": 42229050, "comment_id": 71617570, "body": "Are you setting the filename in the response headers on the server side?"}, {"owner": {"reputation": 523, "user_id": 916428, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11b1257d02c73d3e1d108d2534a242d4?s=128&d=identicon&r=PG", "display_name": "M364M4N cro", "link": "https://stackoverflow.com/users/916428/m364m4n-cro"}, "reply_to_user": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "edited": false, "score": 0, "creation_date": 1487083714, "post_id": 42229050, "comment_id": 71617632, "body": "What do you mean? how can i set those when using window.open()?"}, {"owner": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "edited": false, "score": 0, "creation_date": 1487083754, "post_id": 42229050, "comment_id": 71617662, "body": "Sorry I assumed you had control over the server side also."}, {"owner": {"reputation": 523, "user_id": 916428, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11b1257d02c73d3e1d108d2534a242d4?s=128&d=identicon&r=PG", "display_name": "M364M4N cro", "link": "https://stackoverflow.com/users/916428/m364m4n-cro"}, "reply_to_user": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "edited": false, "score": 0, "creation_date": 1487083983, "post_id": 42229050, "comment_id": 71617824, "body": "Actually i do, i updated my question"}, {"owner": {"reputation": 2560, "user_id": 106418, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/cCSN0.jpg?s=128&g=1", "display_name": "Nicholas Hirras", "link": "https://stackoverflow.com/users/106418/nicholas-hirras"}, "edited": false, "score": 1, "creation_date": 1487084194, "post_id": 42229050, "comment_id": 71617985, "body": "<a href=\"http://stackoverflow.com/questions/19327749/javascript-blob-filename-without-link\" title=\"javascript blob filename without link\">stackoverflow.com/questions/19327749/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 523, "user_id": 916428, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11b1257d02c73d3e1d108d2534a242d4?s=128&d=identicon&r=PG", "display_name": "M364M4N cro", "link": "https://stackoverflow.com/users/916428/m364m4n-cro"}, "edited": false, "score": 0, "creation_date": 1487084301, "post_id": 42229295, "comment_id": 71618079, "body": "I will try it out"}, {"owner": {"reputation": 523, "user_id": 916428, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11b1257d02c73d3e1d108d2534a242d4?s=128&d=identicon&r=PG", "display_name": "M364M4N cro", "link": "https://stackoverflow.com/users/916428/m364m4n-cro"}, "edited": false, "score": 0, "creation_date": 1487084948, "post_id": 42229295, "comment_id": 71618572, "body": "No luck, nothing happens, no error message and no download prompt"}], "tags": [], "owner": {"reputation": 1616, "user_id": 3478417, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Emaro.jpg?s=128&g=1", "display_name": "SBylemans", "link": "https://stackoverflow.com/users/3478417/sbylemans"}, "is_accepted": true, "score": 3, "last_activity_date": 1487149524, "last_edit_date": 1487149524, "creation_date": 1487084142, "answer_id": 42229295, "question_id": 42229050, "link": "https://stackoverflow.com/questions/42229050/rename-file-saved-to-the-file-system-with-angular-2/42229295#42229295", "title": "Rename file saved to the file system with angular 2", "body": "<p>I've been searching for a similar answer myself and found several possibilities to save a downloaded file.</p>\n\n<p>In your case you can use the <code>download</code> attribute of the <code>&lt;a&gt;</code> element:\n<code>&lt;a href=\"bloburl\" download=\"filename\"&gt;&lt;/a&gt;</code>. You can dynamically add this element when for instance a button is clicked, and programmatically perform the click event. </p>\n\n<pre><code> var a = document.createElement(\"a\"),\n     fileURL = URL.createObjectURL(blob);\n a.style = \"display:none\";\n a.href = fileURL;\n a.download = fileName;\n window.document.body.appendChild(a);\n a.click();\n window.document.body.removeChild(a);\n URL.revokeObjectURL(fileURL);\n</code></pre>\n\n<p>The <code>download</code> atrribute only has recent support: <a href=\"http://www.w3schools.com/tags/att_a_download.asp\" rel=\"nofollow noreferrer\">http://www.w3schools.com/tags/att_a_download.asp</a></p>\n\n<p>For older versions of IE, use </p>\n\n<pre><code>if (typeof window.navigator.msSaveBlob !== 'undefined') {\n    window.navigator.msSaveOrOpenBlob(blob, fileName);\n}\n</code></pre>\n"}], "owner": {"reputation": 523, "user_id": 916428, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11b1257d02c73d3e1d108d2534a242d4?s=128&d=identicon&r=PG", "display_name": "M364M4N cro", "link": "https://stackoverflow.com/users/916428/m364m4n-cro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4007, "favorite_count": 1, "accepted_answer_id": 42229295, "answer_count": 1, "score": 1, "last_activity_date": 1487149524, "creation_date": 1487083493, "last_edit_date": 1487083967, "question_id": 42229050, "link": "https://stackoverflow.com/questions/42229050/rename-file-saved-to-the-file-system-with-angular-2", "title": "Rename file saved to the file system with angular 2", "body": "<p>I want to save a blob downloaded from a server onto the file system, so i use</p>\n\n<pre><code>window.open( window.URL.createObjectURL(myBlob));\n</code></pre>\n\n<p>to save it. But when i do that, then the saved file gets a completly jumbled random name. \n<br />\nIs there any way to give the saved file my own name?</p>\n\n<p>EDIT:\nServer side looks like this (Spring Data REST controller):</p>\n\n<pre><code>@RequestMapping(value = \"/downloadFile/{fileName}\", method = RequestMethod.GET)\npublic void downloadFile(@PathVariable(value=\"fileName\") String fileName, HttpServletResponse response) throws IOException {    \n    File file = getMyFile(fileName)\n\n    response.addHeader(\"Content-Disposition\", \"attachment; filename=\"+file.getName());\n    response.setContentType(Files.probeContentType(file.toPath()));\n    response.setContentLengthLong(file.length());\n\n    response.getOutputStream().write(FileUtils.readFileToByteArray(file));\n}\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "firebase-realtime-database", "local-storage"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1487083491, "post_id": 42228910, "comment_id": 71617479, "body": "It&#39;s possible this question would be better at security.stackexchange.com. That said, if there is ever a situation where someone can, through relatively basic URL manipulation, view data that they shouldn&#39;t be able to (in a JSON format or not) then you need to improve your serverside security - and that&#39;s not really something you&#39;d solve in typescript."}], "answers": [{"comments": [{"owner": {"reputation": 2171, "user_id": 7528750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3366727e1404a179625896a1e807e2ad?s=128&d=identicon&r=PG&f=1", "display_name": "ErnieKev", "link": "https://stackoverflow.com/users/7528750/erniekev"}, "edited": false, "score": 0, "creation_date": 1487088084, "post_id": 42230401, "comment_id": 71620938, "body": "Does that mean the user will have access to my firebase configuration details such as keysinside my app.module.ts  such as apiKey, authDomain, databaseUrl...etc? Firebase documentation told me to put it there though"}, {"owner": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1589151088, "post_id": 42230401, "comment_id": 109172505, "body": "@Shai: That link may become unavailable. It should be more interesting to provide a minimum information from, in order to have this answer more useful over time."}, {"owner": {"reputation": 2574, "user_id": 6441048, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207980379205937/picture?type=large", "display_name": "Shai", "link": "https://stackoverflow.com/users/6441048/shai"}, "reply_to_user": {"reputation": 7581, "user_id": 5377805, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1a479657355e5a7d6b6a81efd8136db4?s=128&d=identicon&r=PG&f=1", "display_name": "HDJEMAI", "link": "https://stackoverflow.com/users/5377805/hdjemai"}, "edited": false, "score": 0, "creation_date": 1589264665, "post_id": 42230401, "comment_id": 109216217, "body": "@HDJEMAI I wrote the main point of the article in my answer - since JS is an interpreted language, you can&#39;t encrypt it. The article adds more upon this but this is the main point."}], "tags": [], "owner": {"reputation": 2574, "user_id": 6441048, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207980379205937/picture?type=large", "display_name": "Shai", "link": "https://stackoverflow.com/users/6441048/shai"}, "is_accepted": false, "score": 2, "last_activity_date": 1487087077, "creation_date": 1487087077, "answer_id": 42230401, "question_id": 42228910, "link": "https://stackoverflow.com/questions/42228910/security-in-using-local-storage-for-html-angular-2-project/42230401#42230401", "title": "Security in using local storage for HTML Angular 2 Project", "body": "<p>The use of TypeScript, which is basically JavaScript, is problematic in the ways of security, since JavaScript is an interpreted language and the user has access to the entirety of your client-side code.</p>\n\n<p>For this reason, solutions like client-side encryption won't work since you'll need the data at some point, which means your client will have code to decipher the files, which makes this code available to a malicious user.</p>\n\n<p>Read <a href=\"https://www.sitepoint.com/importance-client-side-javascript-security/\" rel=\"nofollow noreferrer\">this article</a>, it goes further into this issue and suggests several options that might help you.</p>\n"}, {"tags": [], "owner": {"reputation": 15210, "user_id": 1364771, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wI3aU.jpg?s=128&g=1", "display_name": "Jesse Carter", "link": "https://stackoverflow.com/users/1364771/jesse-carter"}, "is_accepted": false, "score": 0, "last_activity_date": 1487095979, "creation_date": 1487095979, "answer_id": 42233371, "question_id": 42228910, "link": "https://stackoverflow.com/questions/42228910/security-in-using-local-storage-for-html-angular-2-project/42233371#42233371", "title": "Security in using local storage for HTML Angular 2 Project", "body": "<p>Firebase has a built in security model through which you can define custom access levels to nodes in your database. This is backed by JWT which relies on a server signed token that encodes the user's permissions. If the token is tampered with or modified in anyway the entire thing becomes invalid. So if you implement your security properly at the Firebase side, a user modifying local storage data should not matter at all.</p>\n"}], "owner": {"reputation": 2171, "user_id": 7528750, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3366727e1404a179625896a1e807e2ad?s=128&d=identicon&r=PG&f=1", "display_name": "ErnieKev", "link": "https://stackoverflow.com/users/7528750/erniekev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2017, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1487095979, "creation_date": 1487083106, "last_edit_date": 1487085503, "question_id": 42228910, "link": "https://stackoverflow.com/questions/42228910/security-in-using-local-storage-for-html-angular-2-project", "title": "Security in using local storage for HTML Angular 2 Project", "body": "<p>I am concerned that if I use local storage to store user information, a hacker may go into developer's console/application/local storage to change data (such as company name) and start getting data from my database from other company. Here is a bit more detail</p>\n\n<p>I am working on a business app where upon registration, I receive the basic user information such as company, email, name...etc.</p>\n\n<p>A simplified version of ny databse (firebase) data structure looks something like</p>\n\n<pre><code>-company1\n    -filed1\n        -data1\n    -filed2\n        -data1\n-company2\n    -field1\n        data1\n</code></pre>\n\n<p>Here is how I do it currently without local storage (And the problem with it is mentioned)</p>\n\n<ol>\n<li>User opens up the site to login, the app goes to firebase to log user in and retreive user detail to store it in a variable</li>\n<li>Everytime the user wants to make a query, I use that variable and find information such as company name (for this example). \nThen I tell firebase to search for the path based on that company name (company1).</li>\n</ol>\n\n<p>This all works fine. However, the problem is that upon launch, there is no user, hence all my AuthGuard will fail resulting the user to be re-direct back to login page.\nImagine if the user is logged in, and then the refresh button is pressed, this will result in a re-direction back to login page because there is no user until firebase returns some data.</p>\n\n<pre><code>// Auth guard\ncanActivate() {\n    if (!this.userService.getCurrentUser()) {\n        return false\n    }\n    return true\n}\n\ngetCurrentUser(): User {\n    return this.currentUser\n}\n\nconst APP_ROUTE: Routes = [\n    { path: '', redirectTo: '/login', pathMatch: 'full' },\n    { path: 'login', component: LoginComponent },\n    { path: 'register', component: RegisterComponent },\n    { path: 'somePath', component: SomeComponent, canActivate: [AuthGuard] },\n    { path: 'somePath2', component: SomeOtherComponent, canActivate: [AuthGuard] },\n    { path: '**', redirectTo: '/login' },\n]\n</code></pre>\n\n<p>The easiest fix that I could think of is to create a local storage to store the used information and check it in there when required.\nHowever, I am concerned that with this approach, a user can potentially go into the local storage and for example, change company to 2 which will allow access to other company's data</p>\n\n<p>Is there a way to securely store data in local storage without having my concern?</p>\n"}, {"tags": ["javascript", "date", "typescript"], "comments": [{"owner": {"reputation": 1767, "user_id": 193717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6446a74c47a3050a34a84b2de38a1bb6?s=128&d=identicon&r=PG", "display_name": "Calum", "link": "https://stackoverflow.com/users/193717/calum"}, "edited": false, "score": 0, "creation_date": 1487083187, "post_id": 42228749, "comment_id": 71617261, "body": "Could you use the code in my answer to your other question? <a href=\"https://stackoverflow.com/questions/42158971/how-to-find-the-dates-of-coming-saturday-and-sunday-from-todays-date-in-typescr\" title=\"how to find the dates of coming saturday and sunday from todays date in typescr\">stackoverflow.com/questions/42158971/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1487103185, "post_id": 42228870, "comment_id": 71630082, "body": "You shouldn&#39;t add days by adding hours as not all days are 24 hours long due to daylight saving changes."}], "tags": [], "owner": {"reputation": 449, "user_id": 4083152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b0c4caab9740374aa9be0a4d7329048?s=128&d=identicon&r=PG&f=1", "display_name": "krisph", "link": "https://stackoverflow.com/users/4083152/krisph"}, "is_accepted": false, "score": 1, "last_activity_date": 1487083332, "last_edit_date": 1487083332, "creation_date": 1487082997, "answer_id": 42228870, "question_id": 42228749, "link": "https://stackoverflow.com/questions/42228749/get-next-weeks-start-and-end-date-using-pure-javascript/42228870#42228870", "title": "Get next week&#39;s start and end date using pure javascript", "body": "<p>Not 100% what your after, but if you modify this a little you should be able to figure out how </p>\n\n<pre><code>function test() {\n    var today = new Date; \n    alert(getMonday(today));\n}\nfunction getMonday( date ) {\n    date.setHours((24*7));\n    var day = date.getDay() || 7;  \n    if( day !== 1 ) \n        date.setHours(-24 * (day - 1)); \n    return date;\n}\n</code></pre>\n\n<p>Just edited the answer, this should get you next mondays date </p>\n"}, {"comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 1, "creation_date": 1487093214, "post_id": 42228994, "comment_id": 71624543, "body": "lastDay is not of date type"}], "tags": [], "owner": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "is_accepted": false, "score": 2, "last_activity_date": 1487104187, "last_edit_date": 1487104187, "creation_date": 1487083360, "answer_id": 42228994, "question_id": 42228749, "link": "https://stackoverflow.com/questions/42228749/get-next-weeks-start-and-end-date-using-pure-javascript/42228994#42228994", "title": "Get next week&#39;s start and end date using pure javascript", "body": "<p>You can achieve this using <code>getFullYear()</code>,<code>getMonth()</code> and <code>getDate()</code> methods.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getWeekBegin() {\r\n   var now = new Date();\r\n   var next = new Date(now.getFullYear(), now.getMonth(), now.getDate()+(7 - now.getDay()));\r\n   return next;\r\n}\r\nvar firstDay = getWeekBegin();\r\nconsole.log(\"First day: \"+firstDay);\r\nvar lastDay=firstDay.setDate(firstDay.getDate() + 6);\r\nconsole.log(\"Last day: \"+new Date(lastDay));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1487202569, "post_id": 42229000, "comment_id": 71682058, "body": "This code gives an incorrect result for the end of next week. The line <code>var nextWeekEnd = ...</code> should be after <code>var nextWeekFrom = ...</code> as that line modifies <i>date</i>."}, {"owner": {"reputation": 1921, "user_id": 3679901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705f20913cd10246828d55aeb946ce0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jackowski", "link": "https://stackoverflow.com/users/3679901/jackowski"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1487202990, "post_id": 42229000, "comment_id": 71682196, "body": "@RobG you are right. i messed up after editing the last time. thanks again"}], "tags": [], "owner": {"reputation": 1921, "user_id": 3679901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705f20913cd10246828d55aeb946ce0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jackowski", "link": "https://stackoverflow.com/users/3679901/jackowski"}, "is_accepted": true, "score": 0, "last_activity_date": 1487202954, "last_edit_date": 1487202954, "creation_date": 1487083377, "answer_id": 42229000, "question_id": 42228749, "link": "https://stackoverflow.com/questions/42228749/get-next-weeks-start-and-end-date-using-pure-javascript/42229000#42229000", "title": "Get next week&#39;s start and end date using pure javascript", "body": "<p>Just sum 7 days to the start of this week to get the start of the next week; to get the end of the week add 6 days to the start of the week.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var date = new Date;\r\nvar nextWeekStart = date.getDate() - date.getDay() + 7;\r\nvar nextWeekFrom = new Date(date.setDate(nextWeekStart));\r\nvar nextWeekEnd = date.getDate() - date.getDay() + 6;\r\nvar nextWeekTo = new Date(date.setDate(nextWeekEnd));\r\n\r\nconsole.log('nextWeekFrom: ' + nextWeekFrom.toString())\r\nconsole.log('nextWeekTo  : ' + nextWeekTo.toString())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "is_accepted": false, "score": 0, "last_activity_date": 1487113634, "creation_date": 1487113634, "answer_id": 42237890, "question_id": 42228749, "link": "https://stackoverflow.com/questions/42228749/get-next-weeks-start-and-end-date-using-pure-javascript/42237890#42237890", "title": "Get next week&#39;s start and end date using pure javascript", "body": "<p>The following simplifies the code and provides some explanation. The <em>setDate</em> method modifies the date and returns the new time value, so it can be used to modify a date and create a copy in one go.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Get current date\r\nvar d = new Date();\r\n\r\n// Set to next Sunday and copy\r\nvar startOfWeek = new Date(d.setDate(d.getDate() + 7 - d.getDay()));\r\n\r\n// Set to the following Saturday\r\nd.setDate(d.getDate() + 6);\r\n\r\nconsole.log('Start of week: ' + startOfWeek.toString());\r\nconsole.log('End of week  : ' + d.toString());\r\n\r\n// The following shows the dates formatted and in the host default language\r\n// Support for toLocaleString options may be lacking though\r\nvar options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\nconsole.log('Start of week: ' + startOfWeek.toLocaleString(undefined, options));\r\nconsole.log('End of week  : ' + d.toLocaleString(undefined, options));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 924, "favorite_count": 0, "accepted_answer_id": 42229000, "answer_count": 4, "score": 0, "last_activity_date": 1487202954, "creation_date": 1487082649, "question_id": 42228749, "link": "https://stackoverflow.com/questions/42228749/get-next-weeks-start-and-end-date-using-pure-javascript", "title": "Get next week&#39;s start and end date using pure javascript", "body": "<p>I was using moment.js to calculate the next week start date and end date. but right now i have removed it because of some minification issue.</p>\n\n<p>I am able to get this week's start and end date as follows,</p>\n\n<pre><code>var today = new Date; \nvar first = today.getDate() - today.getDay(); \n(this.fromDate = new Date(today.setDate(first)));\n(this.toDate  = new Date(today.setDate(last)));\n</code></pre>\n\n<p>how to find next week start and end date?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "is_accepted": true, "score": 1, "last_activity_date": 1487119321, "last_edit_date": 1487119321, "creation_date": 1487083673, "answer_id": 42229118, "question_id": 42228380, "link": "https://stackoverflow.com/questions/42228380/why-is-my-form-not-populating-the-data-using-ngmodelgroup/42229118#42229118", "title": "Why is my form not populating the data using ngModelGroup?", "body": "<p><code>ngModelGroup</code> lets you shape the data received from the form by introducing \"subproperties\".</p>\n\n<p><strong>With <code>ngModelGroup=\"user\"</code></strong> in your template, here's what <code>form.value</code> will look like:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"user\": {\n    \"firstname\": \"foo\",\n    \"lastname\": \"bar\"\n  },\n  // ...\n}\n</code></pre>\n\n<p><strong>Without <code>ngModelGroup=\"user\"</code></strong> in your template, <code>form.value</code> will be:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\n  \"firstname\": \"foo\",\n  \"lastname\": \"bar\",\n  // ...\n}\n</code></pre>\n\n<p><code>ngModelGroup</code> can be useful to give the form data the same shape as your data models. But it has no impact on the properties that you bind <code>[(ngModel)]</code> to (these properties can be whatever you want).</p>\n"}], "owner": {"reputation": 4927, "user_id": 2805694, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/be19c109c129e98b195c3999cf30d034?s=128&d=identicon&r=PG&f=1", "display_name": "Shane", "link": "https://stackoverflow.com/users/2805694/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 42229118, "answer_count": 1, "score": 0, "last_activity_date": 1487119321, "creation_date": 1487081504, "question_id": 42228380, "link": "https://stackoverflow.com/questions/42228380/why-is-my-form-not-populating-the-data-using-ngmodelgroup", "title": "Why is my form not populating the data using ngModelGroup?", "body": "<p>I have a below form, where i am using <code>ngModelGroup</code> to group the inputs.</p>\n\n<pre><code>&lt;form #form=\"ngForm\" (ngSubmit)=\"submit(form.value)\"&gt;\n    &lt;fieldset ngModelGroup=\"user\"&gt;\n        &lt;div&gt;\n            &lt;label&gt;Firstname:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"firstname\" [(ngModel)]=\"firstname\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label&gt;Lastname:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"lastname\" [(ngModel)]=\"lastname\"&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n    &lt;fieldset ngModelGroup=\"address\"&gt;\n        &lt;div&gt;\n            &lt;label&gt;Street:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"street\" [(ngModel)]=\"street\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label&gt;Zip:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"zip\" [(ngModel)]=\"zip\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label&gt;City:&lt;/label&gt;\n            &lt;input type=\"text\" name=\"city\" [(ngModel)]=\"city\"&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n\n    &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>When i map my <code>[(ngModel)] = \"user.firstname\" or \"user.lastname\" or \"user.address.street\"</code> it works? If i do in the above way, i don't see a reason why i need <code>ngModelGroup</code> in total.</p>\n\n<p>I am not sure how to properly use <code>ngModelGroup</code> for <code>nested objects.</code></p>\n\n<p>Below is the plunkr:\n<a href=\"https://plnkr.co/edit/Y4bjFh6sjtvdzkUWciid?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/Y4bjFh6sjtvdzkUWciid?p=preview</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "routing"], "comments": [{"owner": {"reputation": 11, "user_id": 5201605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I1mA8Yjg-kQ/AAAAAAAAAAI/AAAAAAAAAOY/iLB16iF_uqQ/photo.jpg?sz=128", "display_name": "Faimy Ansari", "link": "https://stackoverflow.com/users/5201605/faimy-ansari"}, "edited": false, "score": 0, "creation_date": 1487510304, "post_id": 42227910, "comment_id": 71807928, "body": "Got it through a hack, used { skipLocationChange: true } in navigate function and used this.location.go(&quot;&quot;) to put desired URL"}], "owner": {"reputation": 11, "user_id": 5201605, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-I1mA8Yjg-kQ/AAAAAAAAAAI/AAAAAAAAAOY/iLB16iF_uqQ/photo.jpg?sz=128", "display_name": "Faimy Ansari", "link": "https://stackoverflow.com/users/5201605/faimy-ansari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1487080739, "creation_date": 1487080227, "last_edit_date": 1487080739, "question_id": 42227910, "link": "https://stackoverflow.com/questions/42227910/incorrect-url-with-named-routing-outlet-in-angular-2", "title": "Incorrect URL with named routing outlet in Angular 2", "body": "<p>I am writing following code for routing:</p>\n\n<pre><code>imports: [\n    RouterModule.forChild([{\n    path: 'list/open',\n    component: SWAOrderAppComponent,\n    children: []\n  }, {\n      path: 'list/:orderId',\n      component: SWAOrderPackageComponent,\n      outlet: 'popup'\n    }, {\n    path: '',\n    redirectTo: 'list',\n    pathMatch: 'full',\n  }])],\n  exports: [RouterModule,]\n</code></pre>\n\n<p>and using following code to navigate to route \"list/911\" with named outlet 'popup'</p>\n\n<pre><code>this.router.navigate([{ outlets: { popup: \"list/\"+ id }}]);\n</code></pre>\n\n<p>This is loading correct component but i am getting following url with this route:</p>\n\n<pre><code>https://host/list(popup:list/911)\n</code></pre>\n\n<p>I want URL of format\n    <a href=\"https://host/list/911\" rel=\"nofollow noreferrer\">https://host/list/911</a></p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 1886, "user_id": 4533073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A8u8z3nb4U4/AAAAAAAAAAI/AAAAAAAAAFI/bULQvk-CbVg/photo.jpg?sz=128", "display_name": "bipin patel", "link": "https://stackoverflow.com/users/4533073/bipin-patel"}, "edited": false, "score": 0, "creation_date": 1487079605, "post_id": 42227596, "comment_id": 71614739, "body": "you can do that using direct add moment.min.js file"}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "reply_to_user": {"reputation": 1886, "user_id": 4533073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A8u8z3nb4U4/AAAAAAAAAAI/AAAAAAAAAFI/bULQvk-CbVg/photo.jpg?sz=128", "display_name": "bipin patel", "link": "https://stackoverflow.com/users/4533073/bipin-patel"}, "edited": false, "score": 0, "creation_date": 1487080110, "post_id": 42227596, "comment_id": 71615106, "body": "My <code>index.html</code> is already referencing <code>moment.js</code> from the <code>node_modules</code> folder.  If I switch that over to <code>moment.min.js</code> I still get errors from the TypeScript compiler."}, {"owner": {"reputation": 1886, "user_id": 4533073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A8u8z3nb4U4/AAAAAAAAAAI/AAAAAAAAAFI/bULQvk-CbVg/photo.jpg?sz=128", "display_name": "bipin patel", "link": "https://stackoverflow.com/users/4533073/bipin-patel"}, "edited": false, "score": 0, "creation_date": 1487080252, "post_id": 42227596, "comment_id": 71615202, "body": "can you try to declare moment variable like this &#39;declare var moment: any;&#39; before @Injectable() or @Component"}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "reply_to_user": {"reputation": 1886, "user_id": 4533073, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A8u8z3nb4U4/AAAAAAAAAAI/AAAAAAAAAFI/bULQvk-CbVg/photo.jpg?sz=128", "display_name": "bipin patel", "link": "https://stackoverflow.com/users/4533073/bipin-patel"}, "edited": false, "score": 0, "creation_date": 1487080464, "post_id": 42227596, "comment_id": 71615353, "body": "That fixes usage like <code>let foo = moment()</code>, but using the <code>moment.Moment</code> interface still produces a compiler error.  Also there&#39;s no intellisense in VS Code for <code>moment()</code> with this fix."}, {"owner": {"reputation": 10809, "user_id": 149358, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b1e45f43831a8a7d53b102b495db1dab?s=128&d=identicon&r=PG", "display_name": "Darthg8r", "link": "https://stackoverflow.com/users/149358/darthg8r"}, "edited": false, "score": 0, "creation_date": 1492444348, "post_id": 42227596, "comment_id": 73965087, "body": "@KevinKuszyk I&#39;m having the exact same issue.  Did you ever figure this out?"}, {"owner": {"reputation": 364, "user_id": 1903364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c62e0cf0897a1b0080e685067596f3?s=128&d=identicon&r=PG", "display_name": "Ace7k3", "link": "https://stackoverflow.com/users/1903364/ace7k3"}, "edited": false, "score": 0, "creation_date": 1492604064, "post_id": 42227596, "comment_id": 74045065, "body": "@KevinKuszyk Having the same problem as well. Any new ideas?"}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "reply_to_user": {"reputation": 10809, "user_id": 149358, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b1e45f43831a8a7d53b102b495db1dab?s=128&d=identicon&r=PG", "display_name": "Darthg8r", "link": "https://stackoverflow.com/users/149358/darthg8r"}, "edited": false, "score": 0, "creation_date": 1492610084, "post_id": 42227596, "comment_id": 74049765, "body": "@Darthg8r I just had another look at this, and spotted some GitHub issues I didn&#39;t see before.  Please see my answer below with an interim fix that worked for me."}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "reply_to_user": {"reputation": 364, "user_id": 1903364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c62e0cf0897a1b0080e685067596f3?s=128&d=identicon&r=PG", "display_name": "Ace7k3", "link": "https://stackoverflow.com/users/1903364/ace7k3"}, "edited": false, "score": 0, "creation_date": 1492610109, "post_id": 42227596, "comment_id": 74049787, "body": "@Ace7k3 please see my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "edited": false, "score": 0, "creation_date": 1487087528, "post_id": 42228736, "comment_id": 71620502, "body": "Thanks @kyranjamie.  I&#39;m on the latest TypeScript (2.1.6).  Moment ships with it&#39;s <code>d.ts</code> in the main package, so this fix doesn&#39;t work I&#39;m afraid."}, {"owner": {"reputation": 888, "user_id": 1141891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFkQJ.jpg?s=128&g=1", "display_name": "kyranjamie", "link": "https://stackoverflow.com/users/1141891/kyranjamie"}, "reply_to_user": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "edited": false, "score": 0, "creation_date": 1487087736, "post_id": 42228736, "comment_id": 71620649, "body": "Strange, just works for me.  How about if you add the moment project as well to the <code>typesRoot</code> array?"}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "edited": false, "score": 0, "creation_date": 1487088045, "post_id": 42228736, "comment_id": 71620911, "body": "You may be on to something.  If I add <code>.&#47;node_modules&#47;moment</code> to the <code>typesRoot</code> array I get <code>error TS2688: Cannot find type definition file for &#39;locale&#39;.</code> and the same for <code>min</code> &amp; <code>src</code> from the compiler."}, {"owner": {"reputation": 888, "user_id": 1141891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFkQJ.jpg?s=128&g=1", "display_name": "kyranjamie", "link": "https://stackoverflow.com/users/1141891/kyranjamie"}, "reply_to_user": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "edited": false, "score": 0, "creation_date": 1487088136, "post_id": 42228736, "comment_id": 71620976, "body": "Moment does also has a definition under <code>@types</code>. Perhaps that might work"}, {"owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "edited": false, "score": 0, "creation_date": 1487088385, "post_id": 42228736, "comment_id": 71621178, "body": "It does have an <code>@types</code> package, but it&#39;s a stub. In <code>@types&#47;moment@2.13.0</code> all you get is a <code>readme.md</code> with the message <code>This is a stub types definition for Moment (https:&#47;&#47;github.com&#47;moment&#47;moment). Moment provides its own type definitions, so you don&#39;t need @types&#47;moment installed!</code>"}], "tags": [], "owner": {"reputation": 888, "user_id": 1141891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HFkQJ.jpg?s=128&g=1", "display_name": "kyranjamie", "link": "https://stackoverflow.com/users/1141891/kyranjamie"}, "is_accepted": false, "score": 0, "last_activity_date": 1487082961, "last_edit_date": 1487082961, "creation_date": 1487082616, "answer_id": 42228736, "question_id": 42227596, "link": "https://stackoverflow.com/questions/42227596/using-moment-with-angular-and-typescript/42228736#42228736", "title": "Using Moment with Angular and TypeScript", "body": "<p>Try explicitly declaring the <code>@types</code> scoped package to typesRoot in your <code>tsconfig.json</code> file:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": false,\n        \"typeRoots\": [\n            \"./node_modules/@types\"\n        ]\n    }\n}\n</code></pre>\n\n<p>Ensure the type definitions are installed properly in <code>node_modules/@types/...</code> and that your TypeScript compiler is up to date.</p>\n"}, {"tags": [], "owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "is_accepted": true, "score": 6, "last_activity_date": 1492609908, "creation_date": 1492609908, "answer_id": 43497735, "question_id": 42227596, "link": "https://stackoverflow.com/questions/42227596/using-moment-with-angular-and-typescript/43497735#43497735", "title": "Using Moment with Angular and TypeScript", "body": "<p>It looks like this is a known issue with Moment's <code>d.ts</code> file (see issues <a href=\"https://github.com/moment/moment/issues/3763\" rel=\"noreferrer\">#3763</a>, <a href=\"https://github.com/moment/moment/issues/3808\" rel=\"noreferrer\">#3808</a> and <a href=\"https://github.com/moment/moment/issues/3663\" rel=\"noreferrer\">#3663</a>).</p>\n\n<p>While we wait for an official fix, this worked for me.  </p>\n\n<p>Change:</p>\n\n<pre><code>export = moment;\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>declare module \"moment\" {\n    export = moment;\n}\n</code></pre>\n"}], "owner": {"reputation": 1878, "user_id": 1288481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db5ccec28dac0174bc3ab60359859dbc?s=128&d=identicon&r=PG", "display_name": "Kevin Kuszyk", "link": "https://stackoverflow.com/users/1288481/kevin-kuszyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5805, "favorite_count": 0, "accepted_answer_id": 43497735, "answer_count": 2, "score": 2, "last_activity_date": 1492609908, "creation_date": 1487079369, "question_id": 42227596, "link": "https://stackoverflow.com/questions/42227596/using-moment-with-angular-and-typescript", "title": "Using Moment with Angular and TypeScript", "body": "<p>I'm new to TypeScript and it's been a while since I've done any serious JavaScript development, so I may be missing something obvious.</p>\n\n<p>I'm trying to use Moment in an Angular 1 app with TypeScript.</p>\n\n<p>I'm using Angular 1.6.5, Moment 2.17.1 and TypeScript 2.17.1.  I have Angular typings installed from the npm <code>@types\\angular</code> package.  Intellisense etc for Angular is working in VS Code.</p>\n\n<p>I've posted the sample code to GitHub here: <a href=\"https://github.com/kevinkuszyk/moment-angular-typescript\" rel=\"nofollow noreferrer\">https://github.com/kevinkuszyk/moment-angular-typescript</a></p>\n\n<h2>The first error</h2>\n\n<p>My sample app runs in the browser, but the TypeScript compiler complains that it can't find Moment:</p>\n\n<pre><code>app/controller.ts(3,20): error TS2503: Cannot find namespace 'moment'.\napp/controller.ts(6,30): error TS2304: Cannot find name 'moment'.\n</code></pre>\n\n<h2>Try using a /// compiler directive</h2>\n\n<p>To fix this, I tried adding the following <code>///</code> compiler directive:</p>\n\n<pre><code>/// &lt;reference path=\"../node_modules/moment/moment.d.ts\" /&gt;\n</code></pre>\n\n<p>But that doesn't fix the TypeScript compiler:</p>\n\n<pre><code>app/controller.ts(5,20): error TS2503: Cannot find namespace 'moment'.\napp/controller.ts(8,30): error TS2304: Cannot find name 'moment'.\n</code></pre>\n\n<h2>Import Moment</h2>\n\n<p>Next I tried importing Moment using the instructions from their <a href=\"http://momentjs.com/docs/#/use-it/typescript/\" rel=\"nofollow noreferrer\">docs</a>: </p>\n\n<pre><code>import * as moment from 'moment';\n</code></pre>\n\n<p>But this makes TypeScript generate a different erorr:</p>\n\n<pre><code>app/controller.ts(13,5): error TS2686: 'angular' refers to a UMD global, but the current file is a module. Consider adding an import instead.\n</code></pre>\n\n<h2>Import Angular</h2>\n\n<p>I also imported Angular.  This fixes TypeScript:</p>\n\n<pre><code>import * as angular from \"angular\";\n</code></pre>\n\n<p>But now the app doesn't run in the browser:</p>\n\n<pre><code>Uncaught ReferenceError: require is not defined\n    at controller.js:2\n</code></pre>\n\n<h2>Use Require.JS</h2>\n\n<p>Finally I tried adding Require.JS, but this just causes a different runtime error:</p>\n\n<pre><code>Uncaught Error: Module name \"moment\" has not been loaded yet for context: _. Use require([])\nhttp://requirejs.org/docs/errors.html#notloaded\n    at makeError (require.js:168)\n    at Object.localRequire [as require] (require.js:1433)\n    at requirejs (require.js:1794)\n    at controller.js:2\n</code></pre>\n\n<h2>Questions</h2>\n\n<ol>\n<li>Have I missed anything obvious here?</li>\n<li>What's the best practice for referencing <code>d.ts</code> files which are shipped with the main package on npm rather than a separate <code>@types</code> package?</li>\n<li>How do I make this work without using an external module loader?</li>\n</ol>\n"}, {"tags": ["javascript", "typescript", "require"], "comments": [{"owner": {"reputation": 2951, "user_id": 2736817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38f596a60d51c899ee86eaec38ec8efe?s=128&d=identicon&r=PG&f=1", "display_name": "tom10271", "link": "https://stackoverflow.com/users/2736817/tom10271"}, "edited": false, "score": 0, "creation_date": 1487079677, "post_id": 42227447, "comment_id": 71614795, "body": "Just import it. All JS are valid TS"}, {"owner": {"reputation": 716, "user_id": 2881685, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004845400077/picture?type=large", "display_name": "Hakeem El Bakka-lee", "link": "https://stackoverflow.com/users/2881685/hakeem-el-bakka-lee"}, "reply_to_user": {"reputation": 2951, "user_id": 2736817, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/38f596a60d51c899ee86eaec38ec8efe?s=128&d=identicon&r=PG&f=1", "display_name": "tom10271", "link": "https://stackoverflow.com/users/2736817/tom10271"}, "edited": false, "score": 0, "creation_date": 1487079767, "post_id": 42227447, "comment_id": 71614863, "body": "I heard that but when i query a function from the JS file i got an error : xxx is not a function. Plus it is not possible to super in the constructor to use it as in the this context."}, {"owner": {"reputation": 17238, "user_id": 391150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7ui9v.png?s=128&g=1", "display_name": "blorkfish", "link": "https://stackoverflow.com/users/391150/blorkfish"}, "edited": false, "score": 1, "creation_date": 1487081602, "post_id": 42227447, "comment_id": 71616157, "body": "Try to post some sample code to help explain your problem.  What is a simple function in your JavaScript file ? How are you trying to use it in TypeScript ? How are you importing this file ? Basic information like this will help others to diagnose your problem correctly."}], "answers": [{"comments": [{"owner": {"reputation": 716, "user_id": 2881685, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004845400077/picture?type=large", "display_name": "Hakeem El Bakka-lee", "link": "https://stackoverflow.com/users/2881685/hakeem-el-bakka-lee"}, "edited": false, "score": 0, "creation_date": 1487148196, "post_id": 42230946, "comment_id": 71647117, "body": "Okay, but how is the structure of a Object declaration in the .d.ts file ? How the compiler knows that my DObject exist ? How can i declare fairly static functions(method) like DObject.Counter = function(){...} ? Then how to call them ? Is the require variable name is enough ? do i have to import the .d.ts file ?"}], "tags": [], "owner": {"reputation": 14254, "user_id": 537647, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/g6d9o.jpg?s=128&g=1", "display_name": "Aniruddha Das", "link": "https://stackoverflow.com/users/537647/aniruddha-das"}, "is_accepted": false, "score": -1, "last_activity_date": 1487089093, "last_edit_date": 1487089093, "creation_date": 1487088523, "answer_id": 42230946, "question_id": 42227447, "link": "https://stackoverflow.com/questions/42227447/require-js-object-and-functions-in-typescript-angular2-project/42230946#42230946", "title": "Require JS Object and Functions in Typescript Angular2 project", "body": "<p>In your case your existing javascript files are not detected in typescript because typings are not available. </p>\n\n<p>you can create a type definition (index.d.ts) file and keep adding your typings so that it will be available to your tsc compiler.</p>\n\n<p>Below are few thing you need to understand when coming to the typescript world. Some of you might know, some may not.</p>\n\n<ul>\n<li><p>every typescript file transpiled to java script into specific version you want in tsconfig.json</p></li>\n<li><p>typescript understand typescript ( for javascript type definition is required) or type definition.</p></li>\n<li>there are many typing available in 2 forms : \n\n<ol>\n<li>typings install </li>\n<li>@types namespace package</li>\n</ol></li>\n<li>import and export makes available your members and properties to others</li>\n</ul>\n"}], "owner": {"reputation": 716, "user_id": 2881685, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100004845400077/picture?type=large", "display_name": "Hakeem El Bakka-lee", "link": "https://stackoverflow.com/users/2881685/hakeem-el-bakka-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 231, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487147299, "creation_date": 1487078984, "last_edit_date": 1487147299, "question_id": 42227447, "link": "https://stackoverflow.com/questions/42227447/require-js-object-and-functions-in-typescript-angular2-project", "title": "Require JS Object and Functions in Typescript Angular2 project", "body": "<p>I am working with <strong>Typescript</strong> <strong>2</strong>.1.5 and trying to write some newer sections of code with it. \nI have a <strong>JS</strong> <em>library</em> that i am not ready to update in Typescript. The problem is that <strong>i need to consume some of that Javascript code</strong> in a simple Typescript component.</p>\n\n<p>I have been fetching the web for a way to get my Javascript functions to get called and work in a .TS file. Unfortunatly informations are either <strong><em>outdated</em></strong>(mostly), <strong>not clear</strong> or not explained at all. I allready tryed a whole lot of tricks but none works.</p>\n\n<p>So my question is : What is the <strong>easiest</strong> way and <strong>simplest way</strong> to consume javascript code in a TS file (ES6) ? There must be a protocol to follow to get this done.</p>\n\n<p>Any tutorial, link or explanations will be much appreciated and i'am sure will help others in the same situation.</p>\n\n<p>For better understanding here are some code snippets : </p>\n\n<p><em>I start by doing an import of my JS file in the component.ts</em></p>\n\n<pre><code>var ZP = require('./zp.js');\n</code></pre>\n\n<p><em>In my js file i have two types of functions. Respectively a basic one and another which are methods from an object:</em> </p>\n\n<pre><code>**export** function logTest(){\n    console.log(\"Responding\");\n}//Simple function\n</code></pre>\n\n<p>(<strong>*i just found while editing, that by appending the keyword \"export\" to the simple function makes it avaible to call in TS file. Wich doesn't work with methods *</strong>).</p>\n\n<pre><code>DObject.stringtest = function(){\n    return \"Responding\";\n} //Object Method\n</code></pre>\n\n<p>Back to my <strong>component.ts</strong> file i call each one. The <strong>simple function</strong> with the <strong>export keyword</strong> now gets called, but the <strong>DObject</strong> <strong><em>method</em></strong> remains undefined. \n(I made dummy calls for the <strong>DObject</strong> just to show what doesn't work even if it can seem obvious to some).</p>\n\n<pre><code>testFunc(event){\n      console.log(\"event is okay\");\n      console.log(ZP.logTest()); &lt;--- Now Works\n      console.log(ZP.stringTest()); &lt;--- Don't Work\n      console.log(ZP.DObject.stringTest()); &lt;--- Don't Work\n      console.log(ZP.DObject.stringTest); &lt;--- Don't Work\n      }\n</code></pre>\n\n<p>Here are the console logs : </p>\n\n<pre><code>DObject.stringTest is not a function\n</code></pre>\n\n<p>( For the first two calls to stringTest() )</p>\n\n<pre><code>Undefined\n</code></pre>\n\n<p>( For the last call to DObject.stringTest )</p>\n\n<p><em>( I just found something about Declaration files, i ll give it a shot, hopefully if it works i ll edit a full explained step by step tutorial. In the mean time any help would be much appreciated. )</em> </p>\n"}, {"tags": ["typescript", "clone", "readonly"], "answers": [{"tags": [], "owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "is_accepted": true, "score": 1, "last_activity_date": 1487079101, "last_edit_date": 1487079101, "creation_date": 1487078758, "answer_id": 42227355, "question_id": 42227214, "link": "https://stackoverflow.com/questions/42227214/how-can-i-let-typescript-know-that-my-function-will-clone-a-passed-readonly-pro/42227355#42227355", "title": "How can I let Typescript know, that my function will clone a passed Readonly protected argument?", "body": "<p>You could infer the generic type from the generic type parameter of the received <code>Readonly&lt;T&gt;</code> value instead:</p>\n\n<pre><code>function modifyState&lt;S&gt;(\n    prevState: Readonly&lt;S&gt;, // &lt;- this one\n    updateFunc: (update: S) =&gt; void\n): Readonly&lt;S&gt; {\n    ...\n}\n</code></pre>\n\n<p>I believe the code is self-explanatory. If you need to support both <code>readonly</code> and non-readonly versions, you could use an overload signature, or a union type, such as:</p>\n\n<pre><code>prevState: Readonly&lt;S&gt; | S\n</code></pre>\n\n<p>In this case, the TypeScript compiler will <em>prefer</em> <code>Readonly&lt;S&gt;</code> over <code>S</code>, when applicable.</p>\n"}, {"tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1487099660, "last_edit_date": 1487099660, "creation_date": 1487080184, "answer_id": 42227881, "question_id": 42227214, "link": "https://stackoverflow.com/questions/42227214/how-can-i-let-typescript-know-that-my-function-will-clone-a-passed-readonly-pro/42227881#42227881", "title": "How can I let Typescript know, that my function will clone a passed Readonly protected argument?", "body": "<p>You can use this approach:</p>\n\n<pre><code>type Mutable&lt;T extends { [x: string]: any }, K extends string&gt; = {\n    [P in K]: T[P];\n}\n\n...\nupdateFunc: (update: Mutable&lt;S, keyof S&gt;) =&gt; void\n</code></pre>\n\n<p>(<a href=\"http://www.typescriptlang.org/play/index.html#src=%2F%2F%20Basic%20example%0D%0Aimport%20%7B%20clone%20%7D%20from%20&#39;lodash&#39;%3B%0D%0A%0D%0Atype%20Mutable%3CT%20extends%20%7B%20%5Bx%3A%20string%5D%3A%20any%20%7D%2C%20K%20extends%20string%3E%20%3D%20%7B%0D%0A%20%20%20%20%5BP%20in%20K%5D%3A%20T%5BP%5D%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20IState%20%7B%0D%0A%20%20foo%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aconst%20state%3A%20Readonly%3CIState%3E%20%3D%20%7B%0D%0A%20%20foo%3A%20%22bar%22%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Start%20situation%0D%0Afunction%20modifyState%3CS%3E(%0D%0A%20%20prevState%3A%20S%2C%0D%0A%20%20updateFunc%3A%20(update%3A%20Mutable%3CS%2C%20keyof%20S%3E)%20%3D%3E%20void%0D%0A)%3A%20S%20%7B%0D%0A%20%20const%20newState%20%3D%20clone(prevState)%3B%0D%0A%20%20updateFunc(newState)%3B%0D%0A%20%20return%20newState%3B%0D%0A%7D%0D%0A%0D%0AmodifyState(%0D%0A%20%20state%2C%0D%0A%20%20update%20%3D%3E%20%7B%0D%0A%20%20%20%20update.foo%20%3D%20%22another%20string%22%3B%0D%0A%20%20%7D%0D%0A)%3B\" rel=\"nofollow noreferrer\">code in playground</a>)</p>\n\n<p>As explained here: <a href=\"https://github.com/Microsoft/TypeScript/issues/13723\" rel=\"nofollow noreferrer\">Mapped Types syntax to remove modifiers</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7562831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa3e1713a890a07042b96c079f81b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Huberst", "link": "https://stackoverflow.com/users/7562831/huberst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 42227355, "answer_count": 2, "score": 2, "last_activity_date": 1487099660, "creation_date": 1487078284, "question_id": 42227214, "link": "https://stackoverflow.com/questions/42227214/how-can-i-let-typescript-know-that-my-function-will-clone-a-passed-readonly-pro", "title": "How can I let Typescript know, that my function will clone a passed Readonly protected argument?", "body": "<p>I'd like to know how I can make Typescript understand, that <em>update</em> can be mutated by the function which is passed as the second parameter to modifyState because <em>update</em> will be cloned.</p>\n\n<pre><code>// Basic example\nimport { clone } from 'lodash';\n\ninterface IState {\n  foo: string;\n}\n\nconst state: Readonly&lt;IState&gt; = {\n  foo: \"bar\"\n};\n\n// Start situation\nfunction modifyState&lt;S&gt;(\n  prevState: S,\n  updateFunc: (update: S) =&gt; void\n): S {\n  const newState = clone(prevState);\n  updateFunc(newState);\n  return newState;\n}\n\nmodifyState(\n  state,\n  update =&gt; {\n    update.foo = \"another string\"; // 'Cannot assign to 'foo' because it is a constant or a read-only property.'\n  }\n);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 6, "creation_date": 1487077608, "post_id": 42226964, "comment_id": 71613367, "body": "Change <code>.map(this.responseService.extractData)</code> line with something like <code>.map(this.responseService.extractData.bind(this))</code> or <code>.map((res)=&gt;{return this.responseService.extractData(res);})</code>"}, {"owner": {"reputation": 2533, "user_id": 5525734, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/79536b18724805cabddfb28c23d84cb7?s=128&d=identicon&r=PG", "display_name": "A. Gladkiy", "link": "https://stackoverflow.com/users/5525734/a-gladkiy"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1487077840, "post_id": 42226964, "comment_id": 71613510, "body": "Thanks, it helped me"}, {"owner": {"reputation": 2363, "user_id": 4834117, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oC4DK.png?s=128&g=1", "display_name": "Tonio", "link": "https://stackoverflow.com/users/4834117/tonio"}, "edited": false, "score": 0, "creation_date": 1501843168, "post_id": 42226964, "comment_id": 77969869, "body": "Exactly my problem, thanks"}], "owner": {"reputation": 2533, "user_id": 5525734, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/79536b18724805cabddfb28c23d84cb7?s=128&d=identicon&r=PG", "display_name": "A. Gladkiy", "link": "https://stackoverflow.com/users/5525734/a-gladkiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2974, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1487077527, "creation_date": 1487077527, "question_id": 42226964, "link": "https://stackoverflow.com/questions/42226964/cannot-read-property-navigate-of-undefined-in-service-angular-2", "title": "Cannot read property &#39;navigate&#39; of undefined in service Angular 2", "body": "<p>I'm doing http-request to server in one service and then I want to extract response in other service. And if response is wrong I want to redirect user on error page.</p>\n\n<p><strong>DataService.ts</strong>:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport './../rxjs-operators';\nimport { Json } from './models/json';\nimport { ResponseService } from './providers/response.service';\nimport { ErrorService } from './providers/error.service';\n\n@Injectable()\nexport class DataService {\n    constructor(private http: Http,\n        private responseService: ResponseService,\n        private errorService: ErrorService) { }\n\n    getData(): Observable&lt;Json&gt; {\n        return this.http\n            .get(this.getDataUrl)\n            .map(this.responseService.extractData)\n            .catch(this.errorService.handleError);\n    }\n}\n</code></pre>\n\n<p><strong>ResponseService.ts</strong>:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Response } from '@angular/http';\nimport { Router } from '@angular/router';\nimport { Json } from './models/json';\n\n@Injectable()\nexport class ResponseService {\n    constructor(private router: Router) { }\n\n    extractData(response: Response) {\n        let json: Json = response.json();\n        if (json.status === 'success') {\n            return json.data;\n        } else {\n            let errorId: number = json.data;\n            console.log(this.router);\n            this.router.navigate(['something-went-wrong'], { queryParams: { errorId: errorId } });\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>But I have error <code>Cannot read property 'navigate' of undefined</code> and when I print <code>router</code> in console I see <code>undefined</code>. </p>\n\n<p>How can I resolve that?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "observable"], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1487082145, "post_id": 42227441, "comment_id": 71616519, "body": "This post is mainly due to my lack of knowledge on this technology and sorry about that. But, why do I need to &quot;flatten&quot; the Array? Why to create an Object since we are working on Observables and taking 2 sources to &quot;merge&quot; into one might be possible (This is only an opinion). Of cource, I have understood that Observables are not updatable."}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1487082803, "post_id": 42227441, "comment_id": 71616987, "body": "I have updated my answer with a more detailed explanation. You should try and watch egghead.io tutorials on RxJS, they&#39;re really helpful."}, {"owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1487094250, "post_id": 42227441, "comment_id": 71625150, "body": "Thanks you @AngularFrance. I will need to look further by myself for sure."}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "edited": false, "score": 0, "creation_date": 1487119532, "post_id": 42227441, "comment_id": 71636815, "body": "Last suggestion: you can add the <code>toArray()</code> operator before the <code>subscribe()</code> if you want to gather all the results in a SINGLE array."}], "tags": [], "owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "is_accepted": true, "score": 2, "last_activity_date": 1487119566, "last_edit_date": 1487119566, "creation_date": 1487078977, "answer_id": 42227441, "question_id": 42226777, "link": "https://stackoverflow.com/questions/42226777/how-to-synchronize-observables/42227441#42227441", "title": "How to &quot;synchronize&quot; Observables?", "body": "<p>Once more, the solution comes from the <code>mergeMap()</code> operator. :-)</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>this.categoryService.getCategories()\n  .mergeMap(val =&gt; val)  // \"Flatten\" the categories array\n  .mergeMap(category =&gt; \n    this.categoryService.countCategoryLinks(category.id)\n      // Write the number of links on the `category` object\n      .map(numLinks =&gt; Object.assign(category, {numLinks: numLinks}))\n  )\n  .toArray()\n  .subscribe(allCategoriesWithNumLinks =&gt; console.log(allCategoriesWithNumLinks));\n</code></pre>\n\n<p>I'm not going into the specifics (the first <code>mergeMap</code> to flatten the array, <code>Object.assign()</code> to produce the final object) since it seems like we covered all that in a previous thread we had, but feel free to ask questions if anything is unclear.</p>\n\n<p><strong>Philippe's questions:</strong></p>\n\n<ul>\n<li>Why flatten the categories array? I'm assuming <code>getCategories()</code>  emits a SINGLE array containing all the categories. Since you want to run an HTTP request for each category, it's more convenient to have an observable emitting each category individually. That's what the first <code>mergeMap()</code> does: it transforms <code>Observable&lt;Category[]&gt;</code> into <code>Observable&lt;Category&gt;</code>.</li>\n<li>Why create an object? You said you wanted to store everything in the same data structure. That's what <code>Object.assign</code> does: it writes the number of links found for each category on the <code>category</code> object itself. This way, you end up with ONE object containing the information from TWO observables (category + numLinks).</li>\n</ul>\n"}], "owner": {"reputation": 482, "user_id": 5226877, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HlFL4.png?s=128&g=1", "display_name": "Philippe Corr&#232;ges", "link": "https://stackoverflow.com/users/5226877/philippe-corr%c3%a8ges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2245, "favorite_count": 1, "accepted_answer_id": 42227441, "answer_count": 1, "score": 1, "last_activity_date": 1487674285, "creation_date": 1487076934, "last_edit_date": 1487674285, "question_id": 42226777, "link": "https://stackoverflow.com/questions/42226777/how-to-synchronize-observables", "title": "How to &quot;synchronize&quot; Observables?", "body": "<p>I have this piece of code:</p>\n\n<pre><code>ngOnInit(): void\n\n       {\nthis.categories = this.categoryService.getCategories();\n\n            var example = this.categories.flatMap((categor) =&gt; categor.map((categories) =&gt; {\n\n            var links = this.categoryService.countCategoryLinks(categories.id)\n                       .subscribe(valeur =&gt; console.log(valeur));\n                return categories.id\n            }));\n    }\n</code></pre>\n\n<p>The result are two observables.\nOne consists in a list of categories.\nThe second one is the number of items for a particular categories.id.</p>\n\n<p>My question is as follow:</p>\n\n<p>How could I get all this information structured in a particular data structure? \nI would like to store categories and the number of items per category in the same data structure to be able to show them up in my TS component. </p>\n\n<p>I went step by step trying to fix my issues and I went to have the following code that is almost the solution:</p>\n\n<pre><code>this.categories = this.categoryService.getCategories();\n        var example = this.categories.mergeMap((categor) =&gt; categor.map((myCateg) =&gt;\n            {\n            this.categoryService.countCategoryLinks(myCateg.id)\n                .map(numlinks =&gt; Object.assign(myCateg,{numLinks: numlinks}))\n                  .subscribe(valeur =&gt; console.log(valeur));\n            return myCateg.id\n        }));\n</code></pre>\n\n<p>It gives the following output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gOeFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOeFT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Where numLinks is still an object... (containing my count value) Any idea on how to transform it to a json property like categoryName or id??</p>\n\n<p>Thanks in advance and Regards,</p>\n\n<p>Here is the <strong>solution</strong> to the problem:</p>\n\n<pre><code>ngOnInit(): void\n{\n    this.categories = this.categoryService.getCategories();\n    const example = this.categories\n        .mergeMap((categor) =&gt; categor\n            .map((myCateg) =&gt; {\n        this.categoryService.countCategoryLinks(myCateg.id)\n            .map(numlinks =&gt; {\n                myCateg.numlinks = numlinks.count;\n                return myCateg;\n            })\n                //Object.assign(myCateg,{numLinks: numlinks}))\n            .subscribe(value =&gt; console.log(value));\n        return myCateg\n    }));\n\n            example.subscribe(val =&gt; console.log(\"value2: \"+val));\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 3, "creation_date": 1487075504, "post_id": 42226262, "comment_id": 71612047, "body": "Welcome to StackOverflow. Best practice on StackOverflow is to not ask opinionated questions ;-)"}, {"owner": {"reputation": 1476, "user_id": 7532917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mSeN.jpg?s=128&g=1", "display_name": "Jijo Cleetus", "link": "https://stackoverflow.com/users/7532917/jijo-cleetus"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1487075583, "post_id": 42226262, "comment_id": 71612102, "body": "Ohh k, I understand. Thanks @G&#252;nterZ&#246;chbauer"}], "answers": [{"comments": [{"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 6, "creation_date": 1487076745, "post_id": 42226332, "comment_id": 71612882, "body": "No. Just read the first line of the document: <i>&quot;NOTE: These are Coding Guidelines for TypeScript Contributors.&quot;</i> It&#39;s not a recommendation for TypeScript users."}], "tags": [], "owner": {"reputation": 80, "user_id": 2055060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4884e32a998942909be4445f50eb0672?s=128&d=identicon&r=PG", "display_name": "Alejandro Perez Martin", "link": "https://stackoverflow.com/users/2055060/alejandro-perez-martin"}, "is_accepted": true, "score": 1, "last_activity_date": 1487075640, "creation_date": 1487075640, "answer_id": 42226332, "question_id": 42226262, "link": "https://stackoverflow.com/questions/42226262/best-practices-in-typescript/42226332#42226332", "title": "Best practices in typescript", "body": "<p>Follow the official <a href=\"https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines\" rel=\"nofollow noreferrer\">TypeScript coding guidelines</a> from Microsoft.</p>\n"}], "owner": {"reputation": 1476, "user_id": 7532917, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5mSeN.jpg?s=128&g=1", "display_name": "Jijo Cleetus", "link": "https://stackoverflow.com/users/7532917/jijo-cleetus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "closed_date": 1487076459, "accepted_answer_id": 42226332, "answer_count": 1, "score": 1, "last_activity_date": 1487075640, "creation_date": 1487075471, "question_id": 42226262, "link": "https://stackoverflow.com/questions/42226262/best-practices-in-typescript", "closed_reason": "Opinion-based", "title": "Best practices in typescript", "body": "<p>What is the best practices we need to follow in developing Angular2 apps using Typescripts.</p>\n"}, {"tags": ["angular", "typescript", "filtering", "grouping"], "comments": [{"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1487075179, "post_id": 42226062, "comment_id": 71611822, "body": "what is the <code>+</code> doing in the pipe?"}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "reply_to_user": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1487075251, "post_id": 42226062, "comment_id": 71611866, "body": "@Christopher. it&#39;s casting the value to a number (i&#39;m assuming)"}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1487075471, "post_id": 42226062, "comment_id": 71612032, "body": "ok - you&#39;re declaring <code>data</code> in both of your nested for loops, that probably isn&#39;t helping"}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "edited": false, "score": 0, "creation_date": 1487078523, "post_id": 42226062, "comment_id": 71613942, "body": "A tip for debugging. You have a lot of different errors in your code. Get a version working with minimal features, then slowly work your way to the end state, adding one feature at a time and verify that each one works before moving to the next."}], "answers": [{"tags": [], "owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "is_accepted": false, "score": 0, "last_activity_date": 1487075124, "creation_date": 1487075124, "answer_id": 42226137, "question_id": 42226062, "link": "https://stackoverflow.com/questions/42226062/filtering-data-in-pipe-error/42226137#42226137", "title": "Filtering data in @Pipe error", "body": "<p>Try adding parentheses around the property + filter ?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr *ngFor=\"let data of (model.Register10Data | filter:'sectionGroup':'cSectionId'); let dataIndex = index\"&gt;\n&lt;/tr&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487078330, "post_id": 42226940, "comment_id": 71613795, "body": "Now i get folow exception: <code>Unhandled Promise rejection: Template parse errors: The pipe &#39;filter&#39; could not be found</code> Maybe I&#39;m creating @Pipe incorrectly?"}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "reply_to_user": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487078411, "post_id": 42226940, "comment_id": 71613857, "body": "Progress at least, have you included the pipe in your <code>app.modules.ts</code> declarations?"}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487079035, "post_id": 42226940, "comment_id": 71614322, "body": "I mus includ FilterPipe class? If yes, how it is doing?"}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "reply_to_user": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487079088, "post_id": 42226940, "comment_id": 71614366, "body": "Yes - have a look here: <a href=\"http://stackoverflow.com/documentation/angular2/1165/pipes/3756/custom-pipes#t=201702141331159077603\">stackoverflow.com/documentation/angular2/1165/pipes/3756/&hellip;</a>"}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487079755, "post_id": 42226940, "comment_id": 71614853, "body": "I&#39;m already using <code>template: require(&#39;.&#47;register10.component.html&#39;)</code> in In my.component.ts. In my case it is <code>register10.component.ts</code>"}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "reply_to_user": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487079857, "post_id": 42226940, "comment_id": 71614917, "body": "That is different, you need to define the filter in the global app. Let me update the answer"}, {"owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487081291, "post_id": 42226940, "comment_id": 71615936, "body": "Look at updated question. Look at the update in question. Error all the exact same ..."}, {"owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "reply_to_user": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "edited": false, "score": 0, "creation_date": 1487082448, "post_id": 42226940, "comment_id": 71616745, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/135689/discussion-between-christopher-moore-and-seva\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2825, "user_id": 6806381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/fguIJ.png?s=128&g=1", "display_name": "Christopher Moore", "link": "https://stackoverflow.com/users/6806381/christopher-moore"}, "is_accepted": false, "score": 0, "last_activity_date": 1487079984, "last_edit_date": 1487079984, "creation_date": 1487077436, "answer_id": 42226940, "question_id": 42226062, "link": "https://stackoverflow.com/questions/42226062/filtering-data-in-pipe-error/42226940#42226940", "title": "Filtering data in @Pipe error", "body": "<p>Try this</p>\n\n<pre><code> &lt;ng-container *ngFor='let data1 of sectionList'&gt;\n    &lt;tr&gt;\n        &lt;td colspan=\"7\" &gt;{{data1.name}}\n            &lt;button (click)=\"ArrRow($event)\" style=\"float: right\" id=\"{{data1.id}}\" &gt;+&lt;/button&gt;\n        &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr *ngFor=\"let data2 of (model.Register10Data | filter:'sectionGroup':data1.id); let dataIndex = index\"&gt;\n        &lt;td&gt;\n            {{dataIndex}}\n        &lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>You can access the values from the first <code>ngFor</code> in the second one, but only if you declare differnt names <code>data1</code> and <code>data2</code> here.</p>\n\n<p>If you haven't done so already, include your custom pipe in <code>app.module.ts</code></p>\n\n<pre><code>...\nimport { FilterPipe } from './filter.pipe';\n\n@NgModule({\n  imports: [\n    ...,\n  ],\n  declarations: [\n    ...,\n    FilterPipe\n  ],\n})\nexport class MyModule { }\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 519, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487081464, "creation_date": 1487074914, "last_edit_date": 1487081464, "question_id": 42226062, "link": "https://stackoverflow.com/questions/42226062/filtering-data-in-pipe-error", "title": "Filtering data in @Pipe error", "body": "<p>I'm attempt filtering data and rendering it in htmltable.\nBelow my code:\nIn module.ts</p>\n\n<pre><code>import Register10Pipe = require(\"./register10/register10.pipe\");\n@NgModule({\n    declarations: [\n        Register10Pipe.FilterPipe\n    ])\n</code></pre>\n\n<p>In my.pipe.ts</p>\n\n<pre><code>import { Component, OnInit, Pipe, PipeTransform, Injectable } from '@angular/core';\n\n@Pipe({\n    name: 'sectionGroup'\n})\n\nexport class FilterPipe implements PipeTransform {\n    transform(items: any[], field: number, value: number): any[] {\n        if (!items) return [];\n        return items.filter(it =&gt; (+it[field]) === (+value));\n    }\n}\n</code></pre>\n\n<p>In my.component.ts</p>\n\n<pre><code>    import { FilterPipe } from './register10.pipe';\nexport class MyComponent implements OnInit {\n    filter: FilterPipe;\n...... \n</code></pre>\n\n<p>HTML where data must rendering</p>\n\n<pre><code>    &lt;ng-container *ngFor='let data1 of sectionList'&gt;\n        &lt;tr&gt;\n            &lt;td colspan=\"7\"&gt;\n                {{data1.name}}\n                &lt;button (click)=\"ArrRow($event)\" style=\"float: right\" id=\"{{data1.id}}\"&gt;+&lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr *ngFor=\"let data2 of (model.Register10Data | filter:'sectionGroup':data1.id); let dataIndex = index\"&gt;\n            &lt;td&gt;\n                {{dataIndex}}\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/ng-container&gt;\n</code></pre>\n\n<p>sectionList it is Array of objects like myObj{number:id, string:name}\nI'm getting id from this array and trying to filter data that received from server. As i understand for this in angular can be using @Pipe. I know that there are other approaches, but this one I liked more. But I getting exception.</p>\n\n<blockquote>\n  <p>Unhandled Promise rejection: Template parse errors: The pipe 'filter'\n  could not be found (\"\n                      \n                  \n                  ]*ngFor=\"let data2 of (model.Register10Data | filter:'sectionGroup':data1.id); let dataIndex\n  = index\">\"): e@68:20 ; Zone:  ; Task: Promise.then ; Value: Error: Template parse errors: The pipe 'filter' could not be found (\"\n                      \n                  \n                  ]*ngFor=\"let data2 of (model.Register10Data | filter:'sectionGroup':data1.id); let dataIndex\n  = index\">\"): e@68:20</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "behaviorsubject"], "comments": [{"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1487075155, "post_id": 42225370, "comment_id": 71611802, "body": "Can you add the code for this.buildConversations(messages) ?"}, {"owner": {"reputation": 145, "user_id": 4827776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dbe0518c362df73ede2d9225803a3dfe?s=128&d=identicon&r=PG&f=1", "display_name": "user289520", "link": "https://stackoverflow.com/users/4827776/user289520"}, "reply_to_user": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1487076213, "post_id": 42225370, "comment_id": 71612547, "body": "@MikeOne of course, I updated the question."}, {"owner": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1487083047, "post_id": 42225370, "comment_id": 71617168, "body": "Okay, and you&#39;re using an async pipe in your template to subscribe to that Subject (which btw, is not a behaviorSubject but a normal Subject)?"}, {"owner": {"reputation": 145, "user_id": 4827776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dbe0518c362df73ede2d9225803a3dfe?s=128&d=identicon&r=PG&f=1", "display_name": "user289520", "link": "https://stackoverflow.com/users/4827776/user289520"}, "reply_to_user": {"reputation": 4011, "user_id": 2295103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c383c695ee4db4f4bf3926a0546de64?s=128&d=identicon&r=PG", "display_name": "MikeOne", "link": "https://stackoverflow.com/users/2295103/mikeone"}, "edited": false, "score": 0, "creation_date": 1487085575, "post_id": 42225370, "comment_id": 71619036, "body": "@MikeOne Yes, I did it exactly like in the plunker. And it is a BehaviorSubject not in ConversationService but in TableComponent where the list is displayed."}, {"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1487860768, "post_id": 42225370, "comment_id": 71982811, "body": "@user289520. Do you still need help with this?"}], "owner": {"reputation": 145, "user_id": 4827776, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dbe0518c362df73ede2d9225803a3dfe?s=128&d=identicon&r=PG&f=1", "display_name": "user289520", "link": "https://stackoverflow.com/users/4827776/user289520"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1487153406, "creation_date": 1487072863, "last_edit_date": 1487153406, "question_id": 42225370, "link": "https://stackoverflow.com/questions/42225370/no-view-changes-on-behaviorsubject-but-only-on-first-page-visit", "title": "no view changes on BehaviorSubject but only on first page visit", "body": "<p>I've wrote a table module which includes a filter module, a tab navigation module and a pagination module. This table module is implemented by different parent components like user list or message list.\nThe parent sends a list of objects to the table module where it'll be sent to the different child components (filter, tab navigation, pagination). <a href=\"https://plnkr.co/edit/vwd0zgJree5LrbaOARvx?p=preview\" rel=\"nofollow noreferrer\">Here</a> is the basic setup with pagination as only one child component.</p>\n\n<p>For getting the list of messages as list of conversations, I built a conversation service where all messages are received from a server and transformed into a list of conversations. When the conversation list within the service has changed an event is fired. Because the message list component is subscribed to this event the list within message list will change, too.</p>\n\n<pre><code>@Injectable()\nexport class ConversationService {\n\n    private conversationList: Conversation[];\n    private changeConversationListSource = new Subject&lt;any[]&gt;();\n    conversationListChanged$ = this.changeConversationListSource.asObservable();\n\n    constructor(\n        private authService: AuthenticationService,\n        private messageService: MessageService) { }\n\n    getConversationList() {\n        if (this.conversationList)\n            this.changeConversationListSource.next(this.conversationList);\n        else\n            this.getMessages()\n                .then(messages =&gt; {\n                    this.buildConversations(messages);  // conversationList built in here\n                    this.changeConversationListSource.next(this.conversationList);\n                });\n    }\n\n    private getMessages(): Promise&lt;Message[]&gt; {\n        return this.messageService\n                   .getMessagesByUserId(this.authService.getAuthElement().userId);\n    }\n}\n</code></pre>\n\n<p>The problem is when I visit the page for the first time the displayed table won't change after transforming the list within pagination. When I visit the page again, click on a tab of tab navigation or on a site button of pagination it works. This ONLY happens for the message list component and not the user list component. The strange thing is that only the table itself won't be displayed correctly, the received list of objects within the table module are correctly transformed by pagination.</p>\n\n<p><a href=\"https://plnkr.co/edit/vwd0zgJree5LrbaOARvx?p=preview\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eu6vM.png\" alt=\"View when visiting the page for the first time\"></a></p>\n\n<p>As you can see the BehaviorSubject holds 3 objects but the table has 6 entries. After I click on any button as described above, the view changes correctly.</p>\n\n<p><a href=\"https://plnkr.co/edit/vwd0zgJree5LrbaOARvx?p=preview\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W6vop.png\" alt=\"View after any button on the page has clicked\"></a></p>\n\n<p>When I don't do an API call in ConversationService it works.</p>\n\n<pre><code>getConversationList() {\n    this.changeConversationListSource.next([\n        new Conversation(),\n        new Conversation(),\n        new Conversation(),\n        new Conversation(),\n        new Conversation(),\n        new Conversation()\n    ]);\n}\n</code></pre>\n\n<p>So what could cause this problem?</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Here is the code for building the conversation list.</p>\n\n<pre><code>private buildConversations(messages: Message[]): void {\n    let conversations: Conversation[] = [];     // \n    let users = this.groupUsers(messages);      // \n    conversations = conversations.concat(       // \n        this.buildConversationList(users.internUsers, messages));\n    conversations = conversations.concat(       // \n        this.buildConversationList(users.externUsers, messages));\n    this.conversationList = conversations;\n}\n\nprivate buildConversationList(users: any[], messages: Message[]): Conversation[] {\n    let conversations: Conversation[] = [];\n    let conversation: Conversation;\n    users.forEach(user =&gt; {\n        for (let category in MessageCategory) {\n            conversation = new Conversation();\n            conversation.category = MessageCategory[category];\n            if (typeof user === 'string') conversation.externPartner = user;\n            else conversation.internPartner = user;\n            conversation.messages = messages.filter(message =&gt; {\n                    if (message.category === MessageCategory[category])\n                        if (typeof user === 'string')\n                            return this.checkExternMessage(message, user, conversation);\n                        else\n                            return this.checkInternMessage(message, user, conversation);\n            });\n            if (conversation.messages.length &gt; 0) conversations.push(conversation);\n        }\n    });\n    return conversations;\n}\n\nprivate checkExternMessage(message: Message, user: string, conversation: Conversation): boolean {\n    if (message.receiver === undefined &amp;&amp; message.sender === undefined)\n        if (message.receiverMail !== null &amp;&amp; message.receiverMail === user) {\n            if (!message.isRead &amp;&amp; this.messageService.isUserMessageReceiver(message))\n                conversation.newMessages++;\n            return true;\n        }\n        else if (message.senderMail !== null &amp;&amp; message.senderMail === user) {\n            if (!message.isRead &amp;&amp; this.messageService.isUserMessageReceiver(message))\n                conversation.newMessages++;\n            return true;\n        }\n    return false;\n}\n\nprivate checkInternMessage(message: Message, user: User, conversation: Conversation): boolean {\n    if (message.receiver !== undefined &amp;&amp; message.sender !== undefined)\n        if (message.receiver !== null &amp;&amp; message.receiver.id === user.id) {\n            if (!message.isRead &amp;&amp; this.messageService.isUserMessageReceiver(message))\n                conversation.newMessages++;\n            return true;\n        }\n        else if (message.sender !== null &amp;&amp; message.sender.id === user.id) {\n            if (!message.isRead &amp;&amp; this.messageService.isUserMessageReceiver(message))\n                conversation.newMessages++;\n            return true;\n        }\n    return false;\n}\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>During finding the bug within <code>this.buildConversations()</code> I recognized that the error can't be within this function. When I do the following I get the same bug as before.</p>\n\n<pre><code>private buildConversations(messages: Message[]): void {\n    let conversations: Conversation[] = [];\n    let users = this.groupUsers(messages);\n    for (var i = 0; i &lt; 10; i++)\n        conversations.push(new Conversation());\n    this.conversationList = conversations;\n}\n</code></pre>\n\n<p>So it definitely looks like the bug appears during the API call, but there I can't find any error. Here is the code of the API call.</p>\n\n<pre><code>@Injectable()\nexport class MessageService {\n    private newMessages: number;\n    newMessagesChanged: EventEmitter&lt;number&gt;;\n\n    constructor(\n        private authService: AuthenticationService,\n        private httpClient: HttpClient) {\n        this.newMessagesChanged = new EventEmitter&lt;number&gt;();\n    }\n\n    getMessagesByUserId(userId: number): Promise&lt;Message[]&gt; {\n        if (this.messages)\n            return new Promise&lt;Message[]&gt;((resolve, reject) =&gt; resolve(this.messages));\n        return this.httpClient\n                   .get(MessageService.API + userId, this.httpClient.getHeader())\n                   .then(res =&gt; this.handleMessageList(this.httpClient.extractData(res)));\n    }\n\n    private handleMessageList(messages: Message[]): Message[] {\n        this.newMessages = 0;\n        this.messages = messages;\n        this.messages.forEach(message =&gt; {\n            if (!message.isRead &amp;&amp; this.isUserMessageReceiver(message))\n                this.newMessages++;\n        });\n        this.newMessagesChanged.emit(this.newMessages);\n        return this.messages;\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2363, "user_id": 4834117, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oC4DK.png?s=128&g=1", "display_name": "Tonio", "link": "https://stackoverflow.com/users/4834117/tonio"}, "is_accepted": false, "score": 0, "last_activity_date": 1487074393, "creation_date": 1487074393, "answer_id": 42225888, "question_id": 42225321, "link": "https://stackoverflow.com/questions/42225321/ng-bind-html-not-working-with-custom-components/42225888#42225888", "title": "Ng-bind-html not working with custom components", "body": "<p>In your plunker, Angularjs is never included, you don't have ng-app directive at the top, so I don't see how it can recognise anything related to Angularjs</p>\n"}], "owner": {"reputation": 151, "user_id": 4055294, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/faa080be84142c48b42ffc2e51ac1839?s=128&d=identicon&r=PG&f=1", "display_name": "codeguru", "link": "https://stackoverflow.com/users/4055294/codeguru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1487079490, "creation_date": 1487072742, "last_edit_date": 1487079490, "question_id": 42225321, "link": "https://stackoverflow.com/questions/42225321/ng-bind-html-not-working-with-custom-components", "title": "Ng-bind-html not working with custom components", "body": "<p>I am using typescript with Angular. My requirement is to dynamically fill the contents of the tab.</p>\n\n<p>I have a variable which has HTML content with Angular components included using <code>ng-include</code>.</p>\n\n<p>I m using this variable in my HTML inside <code>ng-bind-html</code> tag. It is not recognising the Angular tags.</p>\n\n<p>I'd I just use Normal HTML tags, it compiles fine.</p>\n"}, {"tags": ["angular", "typescript", "npm", "visual-studio-code"], "comments": [{"owner": {"reputation": 1823, "user_id": 635573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V5ih0.jpg?s=128&g=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/635573/ricardo"}, "edited": false, "score": 0, "creation_date": 1487071480, "post_id": 42224827, "comment_id": 71609433, "body": "I think for verify your imports will be good if you can share your package.json"}, {"owner": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "reply_to_user": {"reputation": 1823, "user_id": 635573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V5ih0.jpg?s=128&g=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/635573/ricardo"}, "edited": false, "score": 0, "creation_date": 1487071902, "post_id": 42224827, "comment_id": 71609706, "body": "@Ricardo i have added package.json file"}, {"owner": {"reputation": 3349, "user_id": 2056805, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/63a97cb9344d161a4590c402ec3b8b13?s=128&d=identicon&r=PG", "display_name": "Ahmar", "link": "https://stackoverflow.com/users/2056805/ahmar"}, "edited": false, "score": 0, "creation_date": 1487074690, "post_id": 42224827, "comment_id": 71611507, "body": "update your package.json file from this link <a href=\"https://github.com/angular/quickstart/blob/master/package.json\" rel=\"nofollow noreferrer\">github.com/angular/quickstart/blob/master/package.json</a>"}, {"owner": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "edited": false, "score": 0, "creation_date": 1487075465, "post_id": 42224827, "comment_id": 71612028, "body": "after updating it is showing me the same error"}], "answers": [{"comments": [{"owner": {"reputation": 540, "user_id": 1425903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0f1faf0f86305788db3e80d8489972?s=128&d=identicon&r=PG", "display_name": "MaGnumX", "link": "https://stackoverflow.com/users/1425903/magnumx"}, "edited": false, "score": 0, "creation_date": 1521453533, "post_id": 42225385, "comment_id": 85720325, "body": "Ricardo, I agree.  You need to install everything that&#39;s missing: sudo npm i @angular/core@&lt;version&gt; sudo npm i @angular/compiler@&lt;version&gt; sudo npm i @angular/platform-browser-dynamic@&lt;version&gt;  ..."}, {"owner": {"reputation": 178, "user_id": 2278593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BU3Lt.jpg?s=128&g=1", "display_name": "petey m", "link": "https://stackoverflow.com/users/2278593/petey-m"}, "edited": false, "score": 0, "creation_date": 1533045834, "post_id": 42225385, "comment_id": 90195815, "body": "this fixed this issue for me, aim at the directory your project is installed in and run the above. thanks for this!"}], "tags": [], "owner": {"reputation": 1823, "user_id": 635573, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/V5ih0.jpg?s=128&g=1", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/635573/ricardo"}, "is_accepted": false, "score": 10, "last_activity_date": 1487072906, "creation_date": 1487072906, "answer_id": 42225385, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/42225385#42225385", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>I think you need install and add @angular/platform-browser in your package.json you can do this:</p>\n\n<pre><code>npm install @angular/platform-browser --save\n</code></pre>\n\n<p>So, at this moment angular2 has a final version, youi don't need to use a beta version. You tagged your project like an ionic2 project, but he doesn't seen like a \nnormal ionic2 app, you don't have any ionic/cordova dependecy in your package.json</p>\n"}, {"comments": [{"owner": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "edited": false, "score": 0, "creation_date": 1487077595, "post_id": 42225555, "comment_id": 71613361, "body": "i have updated my dependency but still the error is same"}, {"owner": {"reputation": 17175, "user_id": 5802115, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Y5MD9.jpg?s=128&g=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/5802115/sanket"}, "reply_to_user": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "edited": false, "score": 0, "creation_date": 1487079058, "post_id": 42225555, "comment_id": 71614341, "body": "After updating dependency, have you ran <code>npm install</code> command?"}], "tags": [], "owner": {"reputation": 17175, "user_id": 5802115, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Y5MD9.jpg?s=128&g=1", "display_name": "Sanket", "link": "https://stackoverflow.com/users/5802115/sanket"}, "is_accepted": false, "score": 0, "last_activity_date": 1487073394, "creation_date": 1487073394, "answer_id": 42225555, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/42225555#42225555", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>Looking at your package.json, you are using older version of angular2</p>\n\n<pre><code>\"angular2\": \"2.0.0-beta.13\"\n</code></pre>\n\n<p>You need to use below dependecies in your package.json</p>\n\n<pre><code>  \"dependencies\": {\n    \"@angular/common\": \"~2.4.0\",\n    \"@angular/compiler\": \"~2.4.0\",\n    \"@angular/core\": \"~2.4.0\",\n    \"@angular/forms\": \"~2.4.0\",\n    \"@angular/http\": \"~2.4.0\",\n    \"@angular/platform-browser\": \"~2.4.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.4.0\",\n    \"@angular/router\": \"~3.4.0\",\n</code></pre>\n\n<p>Please note - From angular2 2.0.0-rc.0 version, they moved into scoped packages hence you will see <code>@angular/&lt;packagename&gt;</code>. Before this, it was angular2. Refer this <a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md#200-rc0-2016-05-02\" rel=\"nofollow noreferrer\">info</a></p>\n\n<p>For latest versions refer this <a href=\"https://github.com/angular/quickstart\" rel=\"nofollow noreferrer\">link</a></p>\n"}, {"comments": [{"owner": {"reputation": 1034, "user_id": 1140382, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6c818e664d70f7245cb552c498402b83?s=128&d=identicon&r=PG", "display_name": "Zoran Pavlovic", "link": "https://stackoverflow.com/users/1140382/zoran-pavlovic"}, "edited": false, "score": 16, "creation_date": 1508664796, "post_id": 42227793, "comment_id": 80692204, "body": "What changes to tsconfig file? Which setting was the problem, or which ones did you add?  Also, what did you update in your package.json file?"}], "tags": [], "owner": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "is_accepted": false, "score": 0, "last_activity_date": 1487081270, "last_edit_date": 1487081270, "creation_date": 1487079941, "answer_id": 42227793, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/42227793#42227793", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>i figured out the answer by applying changes to the <strong>tsconfig file</strong></p>\n\n<pre><code> {\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/main\",\n    \"typings/main.d.ts\"\n  ]\n}\n</code></pre>\n\n<p>and I also updated <strong>package.json file</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 7482963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ab62cafbb88d9876b3c34f9100ac47?s=128&d=identicon&r=PG&f=1", "display_name": "Yekke", "link": "https://stackoverflow.com/users/7482963/yekke"}, "is_accepted": false, "score": 0, "last_activity_date": 1508730714, "creation_date": 1508730714, "answer_id": 46881707, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/46881707#46881707", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>Try to reinstall @types/node:</p>\n\n<pre><code>npm uninstall --save-dev @types/node\nnpm install --save-dev @types/node\n</code></pre>\n\n<p>If it doesn't help try the same with typescript:</p>\n\n<pre><code>npm uninstall --save-dev typescript\nnpm install --save-dev typescript\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 386, "user_id": 2215352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40dde625684180ceb0f636e0973315c2?s=128&d=identicon&r=PG", "display_name": "Adeel Shekhani", "link": "https://stackoverflow.com/users/2215352/adeel-shekhani"}, "edited": false, "score": 0, "creation_date": 1586876980, "post_id": 50438710, "comment_id": 108286561, "body": "This is entirely off topic"}], "tags": [], "owner": {"reputation": 1, "user_id": 7581273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qLI5EUK7mqg/AAAAAAAAAAI/AAAAAAAAAqg/XO_FM5TrNrw/photo.jpg?sz=128", "display_name": "rathna kumar", "link": "https://stackoverflow.com/users/7581273/rathna-kumar"}, "is_accepted": false, "score": -4, "last_activity_date": 1526847291, "last_edit_date": 1526847291, "creation_date": 1526845098, "answer_id": 50438710, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/50438710#50438710", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>Just use bellow command at project path.</p>\n\n<pre><code>E:\\Ratna\\Angular\\Project1\\Demo&gt;npm install\n\nnpm install \n</code></pre>\n\n<p>it is works.</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 10925171, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2LkX2ZqXFwE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYFzoz9vIwirIFIZuNeajp-e-VO4w/mo/photo.jpg?sz=128", "display_name": "\u05d0\u05d1\u05e8\u05d9\u05de\u05d9 \u05e4\u05e8\u05d9\u05d3\u05de\u05df", "link": "https://stackoverflow.com/users/10925171/%d7%90%d7%91%d7%a8%d7%99%d7%9e%d7%99-%d7%a4%d7%a8%d7%99%d7%93%d7%9e%d7%9f"}, "edited": false, "score": 0, "creation_date": 1597342590, "post_id": 52688050, "comment_id": 112109163, "body": "close and reopen your editor!!!!!!!!!! i spend hours before i find this answer."}], "tags": [], "owner": {"reputation": 1037, "user_id": 9695262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bfada8788be9c105b1f270cb88bb8b4?s=128&d=identicon&r=PG&f=1", "display_name": "T. Shashwat", "link": "https://stackoverflow.com/users/9695262/t-shashwat"}, "is_accepted": false, "score": 1, "last_activity_date": 1538911809, "creation_date": 1538911809, "answer_id": 52688050, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/52688050#52688050", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>Try running</p>\n\n<blockquote>\n  <p>npm install -g @angular/cli</p>\n</blockquote>\n\n<p>if still getting errors then close and reopen your editor I faced it in my Visual Studio when I copied src of my existing project and placed it in newly created cli project (to avoid making new components again)</p>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 2562435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d8f4bcb3bc98aa07bed761fa9e4d100?s=128&d=identicon&r=PG", "display_name": "Zest", "link": "https://stackoverflow.com/users/2562435/zest"}, "is_accepted": false, "score": 2, "last_activity_date": 1540024542, "creation_date": 1540024542, "answer_id": 52903858, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/52903858#52903858", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>Gone through same problem, and here's one firm solution to this.</p>\n\n<p>I am assuming you have generated an angular cli project and this is what you have ran into once you've started to code.</p>\n\n<h2>Solution</h2>\n\n<p>So what happens is at times angular fails to install all the required dependencies, and does not even update on npm install.</p>\n\n<p>Steps</p>\n\n<pre><code>1. Delete existing folders @angular &amp; @angular-devkit inside node_modules folder\n2. perform npm install, or yarn\n</code></pre>\n\n<p>And this should work for almost all scenarios. At Least worked for me couple of times.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 11611307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S88d3.png?s=128&g=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/11611307/jordan"}, "is_accepted": false, "score": 1, "last_activity_date": 1573465120, "last_edit_date": 1573465120, "creation_date": 1568416551, "answer_id": 57931274, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/57931274#57931274", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>It's possible that the <code>dependencies</code> were just not <code>installed</code> right, or maybe you need to <code>re-install</code> them. I had a similar issue and all these answers are good.</p>\n\n<p><strong>try in your terminal:</strong> </p>\n\n<pre><code>npm install --save @angular/platform-browser\n\nnpm install --save @angular/core\n</code></pre>\n\n<p>hope this works!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5179888, "user_type": "registered", "profile_image": "https://graph.facebook.com/612030065605644/picture?type=large", "display_name": "singh95ravindra", "link": "https://stackoverflow.com/users/5179888/singh95ravindra"}, "is_accepted": false, "score": 0, "last_activity_date": 1571641257, "creation_date": 1571641257, "answer_id": 58481264, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser/58481264#58481264", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p>You can update your application and its dependencies by using ng update command, like this:</p>\n\n<pre><code>ng update --all=true --force\n</code></pre>\n\n<p>here, flag all is set to true to update all dependencies and flag force is used to do it forcefully as name suggests.Now after doing so you may face some vulnerabilities for few dependencies which can be fixed by manually installing those dependencies.</p>\n"}], "owner": {"reputation": 595, "user_id": 5052082, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-HA7XXpEacuU/AAAAAAAAAAI/AAAAAAAAAIQ/PWjVjyBeogI/photo.jpg?sz=128", "display_name": "Shehram Tahir", "link": "https://stackoverflow.com/users/5052082/shehram-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37541, "favorite_count": 2, "answer_count": 9, "score": 14, "last_activity_date": 1573465120, "creation_date": 1487071261, "last_edit_date": 1487084267, "question_id": 42224827, "link": "https://stackoverflow.com/questions/42224827/ts-cannot-find-module-angular-platform-browser", "title": "ts cannot find module &#39;@angular/platform-browser&#39;;", "body": "<p><strong>Images of files</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/lxMiT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lxMiT.png\" alt=\"**app.module.ts file**\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/5jxAT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5jxAT.png\" alt=\"**app.component file**\"></a></p>\n\n<p>I am having this error and i am not able to figure that out.I am trying to import <strong>angular/core</strong> and <strong>angular/platform-browser</strong> . I followed many links on <strong>stackoverflow</strong> but none of them helped me out.</p>\n\n<p>this is my <strong>package.json file</strong></p>\n\n<pre><code>{   \"name\": \"angular-2\",   \"version\": \"1.0.0\",   \"scripts\": {\n    \"start\": \"concurrently \\\"npm run tsc:w\\\" \\\"npm run lite\\\" \",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"lite\": \"lite-server\",\n    \"typings\": \"typings\",\n    \"postinstall\": \"typings install\"   },   \"license\": \"ISC\",   \"dependencies\": {\n    \"angular2\": \"2.0.0-beta.13\",\n    \"systemjs\": \"0.19.25\",\n    \"es6-shim\": \"^0.35.0\",\n    \"reflect-metadata\": \"0.1.2\",\n    \"rxjs\": \"5.0.0-beta.2\",\n    \"@angular/router\":  \"3.0.0-alpha.7\",\n    \"zone.js\": \"0.6.6\"\n       },   \"devDependencies\": {\n    \"concurrently\": \"^2.0.0\",\n    \"lite-server\": \"^2.1.0\",\n    \"typescript\": \"^1.8.9\",\n    \"typings\":\"^0.7.11\"   } }\n</code></pre>\n"}, {"tags": ["typescript", "enums"], "answers": [{"tags": [], "owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "is_accepted": false, "score": 1, "last_activity_date": 1487070778, "creation_date": 1487070778, "answer_id": 42224670, "question_id": 42224103, "link": "https://stackoverflow.com/questions/42224103/issue-with-open-ended-enums-in-typescript/42224670#42224670", "title": "Issue with open ended enums in typescript", "body": "<p>Seems like a bug in the language. If you omit the initialization for <code>Red</code> TypeScript will throw an error. But if you initialize it it will not.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=enum%20One%20%7B%0D%0A%20%20Foo%20%3D%200%2C%0D%0A%20%20Bar%0D%0A%7D%0D%0A%0D%0Aenum%20One%20%7B%0D%0A%20%20Baz%0D%0A%7D\" rel=\"nofollow noreferrer\">The output is definitely broken</a>:</p>\n\n<pre><code>enum One {\n  Foo = 0,\n  Bar\n}\n\nenum One {\n  Baz\n}\n</code></pre>\n\n<p>will transpile to</p>\n\n<pre><code>var One;\n(function (One) {\n    One[One[\"Foo\"] = 0] = \"Foo\";\n    One[One[\"Bar\"] = 1] = \"Bar\";\n})(One || (One = {}));\n(function (One) {\n    One[One[\"Baz\"] = 0] = \"Baz\";\n})(One || (One = {}));\n</code></pre>\n\n<p>which is obviously not the outcome you want :)</p>\n"}], "owner": {"reputation": 3983, "user_id": 1274424, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/71c66acfc0635d22236d479f8eb45dda?s=128&d=identicon&r=PG", "display_name": "Konst", "link": "https://stackoverflow.com/users/1274424/konst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487070778, "creation_date": 1487069145, "question_id": 42224103, "link": "https://stackoverflow.com/questions/42224103/issue-with-open-ended-enums-in-typescript", "title": "Issue with open ended enums in typescript", "body": "<p>Typescript Enums are number based and are also open ended. This means that I can have </p>\n\n<pre><code>enum Color {\n   Red = 0,\n   Green,\n   Blue\n}\n\nenum Color {\n   Black\n}\n</code></pre>\n\n<p>the issue here is that now I have Color.Red associated with value 0 and Color.Black also associated with value 0. I would expect Color.Black to be associated  with the next available value which is 3. Obviously the fix is easy but the behavior is strange and it might lead to bugs. Is this an issue of the language or this happens for some other reason?</p>\n"}, {"tags": ["node.js", "visual-studio", "typescript", "protractor"], "comments": [{"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487069050, "post_id": 42223930, "comment_id": 71607793, "body": "I have no experience with VS, but can&#39;t you not just use <code>npm</code> instead of NuGet? BTW, it Java<i>Script</i> not Java. Totally different things ;)"}, {"owner": {"reputation": 23, "user_id": 7562414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9615dc3c581de5f24af697a0b814874d?s=128&d=identicon&r=PG&f=1", "display_name": "Transzendental", "link": "https://stackoverflow.com/users/7562414/transzendental"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487069446, "post_id": 42223930, "comment_id": 71608073, "body": "Typed java script instead of java (just a space, but i fixed it), i am of course aware of the difference. However like i said i dont really understand nodejs. i triedto compile with tsc and added dependecys in the package.json. Got the same compile errors visual studio is telling me about."}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487069951, "post_id": 42223930, "comment_id": 71608403, "body": "Can you add the errors to your question? Maybe we can help you then :) I just know that VS hade issue in the past compiling TS. The typings for protractor are inside the package (<a href=\"https://github.com/angular/protractor/blob/d5d9393da68c6949c92b829d0bba819171c36e5e/package.json#L69\" rel=\"nofollow noreferrer\">github.com/angular/protractor/blob/&hellip;</a>) so TypeScript should just pick them up automatically."}, {"owner": {"reputation": 23, "user_id": 7562414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9615dc3c581de5f24af697a0b814874d?s=128&d=identicon&r=PG&f=1", "display_name": "Transzendental", "link": "https://stackoverflow.com/users/7562414/transzendental"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487070990, "post_id": 42223930, "comment_id": 71609115, "body": "Thank you, i added an error message in my inital post. The link you posted seemed promising but dosent help sind the built folder dosent exit?"}, {"owner": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487074434, "post_id": 42223930, "comment_id": 71611327, "body": "The link was to the repository. This is only the unbuild source. If you install it via npm the <code>build</code> folder will be there and you can import/use protractor."}, {"owner": {"reputation": 23, "user_id": 7562414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9615dc3c581de5f24af697a0b814874d?s=128&d=identicon&r=PG&f=1", "display_name": "Transzendental", "link": "https://stackoverflow.com/users/7562414/transzendental"}, "reply_to_user": {"reputation": 12267, "user_id": 298969, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ItLUZ.jpg?s=128&g=1", "display_name": "Sebastian Sebald", "link": "https://stackoverflow.com/users/298969/sebastian-sebald"}, "edited": false, "score": 0, "creation_date": 1487079653, "post_id": 42223930, "comment_id": 71614775, "body": "yes this seems to be what i was looking for. however i still have errors: &gt; &quot;invalid &#39;reference&#39; directive syntax&quot; on &gt; /// &lt;reference types=&quot;selenium-webdriver&quot; /&gt; which i think is because it is an typescript 2 instruction. I installed the latest NuGet typescript compiler, but once again dosent help. &gt; cannot find module &#39;webdriver-js-extender&#39; on &gt; import { ExtendedWebDriver } from &#39;webdriver-js-extender&#39;;  sry for all these questions but my colleagues have no idea as well."}], "owner": {"reputation": 23, "user_id": 7562414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9615dc3c581de5f24af697a0b814874d?s=128&d=identicon&r=PG&f=1", "display_name": "Transzendental", "link": "https://stackoverflow.com/users/7562414/transzendental"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487070710, "creation_date": 1487068736, "last_edit_date": 1487070710, "question_id": 42223930, "link": "https://stackoverflow.com/questions/42223930/typescript-typings-for-protactor-in-a-visual-studio-project", "title": "Typescript typings for protactor in a visual studio project", "body": "<p>I am writing with protractor e2e tests for our Angular Webapp, since all your javascript code is writtin in typescript i would like to do the same for the tests. Now i have run into the problem that the protractor typescript NuGets are outdated protracotr v1.5.</p>\n\n<p>These are based on the DefinitelyTyped typings, but i cant find them in their offical git repository. So where do i get working Typings? </p>\n\n<p>I cant really get my head around nodejs so if there is a solution including nodejs i am happy to take it but would like to get some detailed explanation.</p>\n\n<p>Errors are like:</p>\n\n<blockquote>\n  <p>Property 'stacktrace' does not exist on type 'typeof webdriver'</p>\n</blockquote>\n\n<p>webdriver is defined in the selenium-webdriver.d.ts but apparently it is not complete</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "angular2-template"], "answers": [{"tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 2, "last_activity_date": 1487066654, "creation_date": 1487066654, "answer_id": 42223130, "question_id": 42223092, "link": "https://stackoverflow.com/questions/42223092/how-render-data-from-array-in-ng-container-angular-2/42223130#42223130", "title": "How render data from array in ng-container Angular 2?", "body": "<p>It should be:</p>\n\n<pre><code>&lt;ng-container *ngFor='let data of sectionList'&gt;\n</code></pre>\n\n<p>Right now, you are trying to iterate through <code>Section</code> model, not <code>sectionList</code> which is instance of that model.</p>\n"}], "owner": {"reputation": 909, "user_id": 6408649, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/khpVJ.jpg?s=128&g=1", "display_name": "Seva", "link": "https://stackoverflow.com/users/6408649/seva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 632, "favorite_count": 0, "accepted_answer_id": 42223130, "answer_count": 1, "score": 1, "last_activity_date": 1487067002, "creation_date": 1487066547, "last_edit_date": 1487067002, "question_id": 42223092, "link": "https://stackoverflow.com/questions/42223092/how-render-data-from-array-in-ng-container-angular-2", "title": "How render data from array in ng-container Angular 2?", "body": "<p>I want to render data from array into HTML table. Here's my model:</p>\n\n<pre><code>export class Section {\n    public id :number;\n    public name: string;\n    constructor(id: number, theName: string) {\n        this.id = id;\n        this.name = theName;\n    }\n}\n</code></pre>\n\n<p>I import it and fill it in the component:</p>\n\n<pre><code>import { Section } from \"../models/registerSection.model\";\n</code></pre>\n\n<p>Array declaration:</p>\n\n<pre><code>sectionList: Array&lt;Section&gt;;\n</code></pre>\n\n<p>Array is filled in constructor:</p>\n\n<pre><code>    this.sectionList = [new Section(1, \"A\"),\n        new Section(2, \"B*\"),\n        new Section(3, \"C\"),\n        new Section(4, \"D\")];\n</code></pre>\n\n<p>This is how I'm trying to render data in template:</p>\n\n<pre><code>        &lt;ng-container *ngFor='let data of Section'&gt;\n            &lt;tr&gt;\n                &lt;td colspan=\"7\"&gt;{{data.name}}&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/ng-container&gt;\n</code></pre>\n\n<p>But the table is empty. In DOM, I see the following:</p>\n\n<pre><code>&lt;!--template bindings={\n  \"ng-reflect-ng-for-of\": null\n}--&gt;\n</code></pre>\n\n<p>What am I doing wrong? In debugging I can see that array contains data.</p>\n"}, {"tags": ["angular", "typescript", "exception", "rxjs", "observable"], "comments": [{"owner": {"reputation": 12335, "user_id": 1153681, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/YkEOT.png?s=128&g=1", "display_name": "AngularChef", "link": "https://stackoverflow.com/users/1153681/angularchef"}, "edited": false, "score": 0, "creation_date": 1487065959, "post_id": 42222633, "comment_id": 71605650, "body": "You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers/onerror\" rel=\"nofollow noreferrer\">window.onerror</a> to react to all exceptions on the page, but I&#39;m not sure this is a good idea..."}], "answers": [{"tags": [], "owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "is_accepted": false, "score": 2, "last_activity_date": 1487066883, "last_edit_date": 1495542358, "creation_date": 1487066054, "answer_id": 42222881, "question_id": 42222633, "link": "https://stackoverflow.com/questions/42222633/catching-exceptions-and-displaying-error-messages-in-view/42222881#42222881", "title": "Catching exceptions and displaying error messages in view", "body": "<p>You can override the global error handler within your module:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/index/ErrorHandler-class.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/api/core/index/ErrorHandler-class.html</a></p>\n\n<pre><code>import { NgModule, ErrorHandler } from '@angular/core';\n\nclass MyErrorHandler implements ErrorHandler {\n  handleError(error) {\n    // do something with the exception\n  }\n}\n@NgModule({\n  providers: [{ provide: ErrorHandler, useClass: MyErrorHandler }]\n})\nclass MyModule {}\n</code></pre>\n\n<p>For a custom Error Dialog or Error Message, I would create a custom ErrorLogService, which allows components to subscribe to an error event. The component that shows the error would subscribe to the error event, and display an error message, or popup an error dialog.</p>\n\n<p>See this answer for how to use Flux to do this (the pattern is important - not the specific classes involved):\n<a href=\"https://stackoverflow.com/questions/42219858/how-can-i-maintain-the-state-of-dialog-box-with-progress-all-over-my-angular-2-a/42221273#42221273\">How can I maintain the state of dialog box with progress all over my Angular 2 application?</a></p>\n"}], "owner": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2435, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1556900176, "creation_date": 1487065361, "last_edit_date": 1556900176, "question_id": 42222633, "link": "https://stackoverflow.com/questions/42222633/catching-exceptions-and-displaying-error-messages-in-view", "title": "Catching exceptions and displaying error messages in view", "body": "<p>I am able to catch exceptions when using the <code>subscribe()</code> method with <code>catch()</code>, but this is done on a service call basis.</p>\n\n<p>Is there any way to catch an exception that happens anywhere in the page and display it in the view?</p>\n\n<p>It is straight forward to catch the exceptions and display them in the console, but I need to display something in the view to give a helpful error message as opposed to just freezing.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "rest", "angular", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 2562, "user_id": 4785859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f055b0e9d863f26bdf5e1c4f355e2c?s=128&d=identicon&r=PG&f=1", "display_name": "Gampesh", "link": "https://stackoverflow.com/users/4785859/gampesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1490701622, "creation_date": 1490701622, "answer_id": 43068732, "question_id": 42222544, "link": "https://stackoverflow.com/questions/42222544/image-upload-issue-in-angular-2/43068732#43068732", "title": "Image Upload issue in angular 2:", "body": "<p>I used below code to solve similar problem</p>\n\n<p>This is my file element in COMPONENTNAME.component.html</p>\n\n<pre><code>&lt;input type=\"file\" (change)=\"fileChange($event)\"&gt;\n</code></pre>\n\n<p>Create fileChange function to your COMPONENT.component.ts</p>\n\n<pre><code>private fileChange(event: any) {\n    let reader = new FileReader();\n    let imageBlob: any;\n    reader.onload = (fileReadEvent: any) =&gt; {\n        imageBlob = fileReadEvent.target.result;\n    };\n    reader.readAsDataURL(event.target.files[0]);\n}\n</code></pre>\n\n<p>when you upload image it will call fileChange method and readAsDataURL method will be triggered and imageBlob variable will be having  image as blob.</p>\n\n<p>Hope this will solve your problem!!</p>\n"}], "owner": {"reputation": 1, "user_id": 7561736, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qJMBSRbOXQM/AAAAAAAAAAI/AAAAAAAAABU/mTBTLFaWMXI/photo.jpg?sz=128", "display_name": "Priya Murugan", "link": "https://stackoverflow.com/users/7561736/priya-murugan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1490701622, "creation_date": 1487065151, "question_id": 42222544, "link": "https://stackoverflow.com/questions/42222544/image-upload-issue-in-angular-2", "title": "Image Upload issue in angular 2:", "body": "<p><strong>Image Upload issue in angular 2:</strong></p>\n\n<p>We have a problem with uploading images into mysql as 'blob data' using angular 2.We dont know How to parse image into blob data</p>\n\n<p><strong>image.html:</strong></p>\n\n<pre><code>&lt;input type=\"file\"  class=\"fileinput btn-primary\" name=\"file\" id=\"file\" formControlName=\"file\"\n                        title=\"Browse image\" [(ngModel)]=\"student.file\" (change)=\"onChange($event)\" /&gt;\n</code></pre>\n\n<p><strong>image.component.ts:</strong></p>\n\n<pre><code>            file: File;\n            onChange(event: EventTarget) {\n            let eventObj: MSInputMethodContext = &lt;MSInputMethodContext&gt; event;\n            let target: HTMLInputElement = &lt;HTMLInputElement&gt; eventObj.target;\n            let files: FileList = target.files;\n            this.file = files[0];\n            console.log(this.file);\n</code></pre>\n\n<p><strong>In Json</strong></p>\n\n<pre><code>   Student(\n    name: string,\n    class:string,\n    file: any,\n    rollNo: number): Observable&lt;any&gt; {\n    let requestData = {\n        name: name,\n        class: class,\n        photo: {\n            data: file,\n            contentType: \"multipart/form-data\"\n        },\n        rollNo: rollNo,\n    };\n    return this.http.post(this.studentUrl, requestData)\n        .map(response =&gt; {\n            return response;\n        });\n}\n</code></pre>\n\n<p>When we run this code it shows following error.</p>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>\"Caused by: org.hibernate.TransientPropertyValueException: object references an unsaved transient instance - save the transient instance before flushing\n</code></pre>\n\n<p>If any plugin or directives for this?</p>\n"}, {"tags": ["class", "typescript", "dependency-injection"], "answers": [{"comments": [{"owner": {"reputation": 3601, "user_id": 5490695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fada82ffbcaa4c7a79462b54dff85633?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5490695/nicolas"}, "edited": false, "score": 0, "creation_date": 1487067883, "post_id": 42222609, "comment_id": 71606962, "body": "I added the constructor in my class like you said, but right now I receive &quot;Cannot set property &#39;SelectedLanguage&#39; of undefined&quot; for some reason, however according to VS it should be defined."}, {"owner": {"reputation": 6654, "user_id": 2606098, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P2wJB.jpg?s=128&g=1", "display_name": "Tinwor", "link": "https://stackoverflow.com/users/2606098/tinwor"}, "reply_to_user": {"reputation": 3601, "user_id": 5490695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fada82ffbcaa4c7a79462b54dff85633?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5490695/nicolas"}, "edited": false, "score": 1, "creation_date": 1487068037, "post_id": 42222609, "comment_id": 71607058, "body": "Because you need to instantiate first the Description object and then try to access to the the SelectedLanguage"}], "tags": [], "owner": {"reputation": 6654, "user_id": 2606098, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P2wJB.jpg?s=128&g=1", "display_name": "Tinwor", "link": "https://stackoverflow.com/users/2606098/tinwor"}, "is_accepted": true, "score": 0, "last_activity_date": 1487065291, "creation_date": 1487065291, "answer_id": 42222609, "question_id": 42222533, "link": "https://stackoverflow.com/questions/42222533/creating-a-new-instance-of-a-class-in-typescript/42222609#42222609", "title": "Creating a new instance of a class in typescript", "body": "<p>You must create a <code>constructor</code> in <code>MyTimeDefinition</code> class where you add some values to the variables inside your class.<br>\nSomething like this:  </p>\n\n<pre><code>export class MyTimeDefinition { \n    ...\n    //Some other variable\n    constructor(){\n        this.mystringvariable = \"my string value\";\n    }\n}\n</code></pre>\n\n<p>And, as you will see, when you create a new class intense by calling the constructor the variables of your class will be not empty.</p>\n"}], "owner": {"reputation": 3601, "user_id": 5490695, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fada82ffbcaa4c7a79462b54dff85633?s=128&d=identicon&r=PG&f=1", "display_name": "Nicolas", "link": "https://stackoverflow.com/users/5490695/nicolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11890, "favorite_count": 0, "accepted_answer_id": 42222609, "answer_count": 1, "score": 1, "last_activity_date": 1487065291, "creation_date": 1487065138, "last_edit_date": 1487065290, "question_id": 42222533, "link": "https://stackoverflow.com/questions/42222533/creating-a-new-instance-of-a-class-in-typescript", "title": "Creating a new instance of a class in typescript", "body": "<p>I'm trying to create a new instance of a class, with empty values but I'm struggling with the code.</p>\n\n<p>Here's my class file code:</p>\n\n<pre><code>export class MyTimeDefinition {\n    RequestCodes: Array&lt;RequestCodes&gt;;\n    BalanceCodes: Array&lt;BalanceCodes&gt;;\n    ID: number;\n    Description: {\n        SelectedLanguage: number,\n        Values: {\n            LanguageID: number,\n            ValueID: number,\n            Value: string\n        }[]\n    };\n    IsDataLoaded: boolean;\n    TypeName: string;\n}\n\nexport interface RequestCodes {\n    ID: number;\n    StringValue: string;\n}\n\nexport interface BalanceCodes {\n    ID: number;\n    StringValue: string;\n}\n</code></pre>\n\n<p>and in my component I try to create a new instance of the class like this:</p>\n\n<pre><code>//Create New MyTime-Definition\npublic createNewMyTimeDefinition() {\n    let newMyTimeDefinition = new models.MyTimeDefinition();\n    console.log(newMyTimeDefinition);\n}\n</code></pre>\n\n<p>the result of my console.log is <code>MyTimeDefinition {}</code> how can I create the variable <em>newMyTimeDefinition</em> that has all the attributes of the class and not just an empty object?</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1487064989, "post_id": 42222391, "comment_id": 71604972, "body": "what if you exclude: [&#39;*.d.ts&#39;] in your tsconfig?"}, {"owner": {"reputation": 90, "user_id": 5915514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0635c513fd02e8eb364cc015ce707e0?s=128&d=identicon&r=PG&f=1", "display_name": "Csvn", "link": "https://stackoverflow.com/users/5915514/csvn"}, "reply_to_user": {"reputation": 3265, "user_id": 5842430, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kzxRTPC_BI0/AAAAAAAAAAI/AAAAAAAAAKg/yYr8RBdEqQ4/photo.jpg?sz=128", "display_name": "federico scamuzzi", "link": "https://stackoverflow.com/users/5842430/federico-scamuzzi"}, "edited": false, "score": 0, "creation_date": 1487074557, "post_id": 42222391, "comment_id": 71611412, "body": "I don&#39;t want to exclude then all. E.g. I want <code>@types&#47;angular</code> to load in my controller, but I don&#39;t want <code>@types&#47;angular-mocks</code>. I only want to exclude one library in <code>@types</code>, and that only for files not ending in <code>*.spec.ts</code>."}], "owner": {"reputation": 90, "user_id": 5915514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0635c513fd02e8eb364cc015ce707e0?s=128&d=identicon&r=PG&f=1", "display_name": "Csvn", "link": "https://stackoverflow.com/users/5915514/csvn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1487064794, "creation_date": 1487064794, "question_id": 42222391, "link": "https://stackoverflow.com/questions/42222391/dont-include-test-definition-files-in-typescript-intellisense-and-output", "title": "Don&#39;t include test definition files in Typescript IntelliSense and output", "body": "<p>I'm working on an app in Angular.js. I'm having an issue where <code>@types/angular-mocks</code> definitions are applied for all files under <code>src/**</code>. I'd like for the definition file for <code>angular-mocks</code> to only apply to files that match <code>src/**/*.spec.ts</code>.</p>\n\n<ul>\n<li>Prevent mock methods from showing in real controllers</li>\n<li>Prevent mock library from being referenced in <code>d.ts</code> output files</li>\n</ul>\n\n<p>The code below shows my issue with a typical controller and the <code>d.ts</code> output:</p>\n\n<p><strong>my-controller.ts</strong></p>\n\n<pre><code>import * as ng from 'angular';\n\nexport class MyController {\n  constructor(public $timeout: ng.ITimeoutService) {}\n\n  method() {\n    // I don't want this method to be shown\n    this.$timeout.flush();\n  }\n}\n</code></pre>\n\n<p><strong>my-controller.d.ts</strong></p>\n\n<pre><code>/// &lt;reference types=\"angular\" /&gt;\n/// &lt;reference types=\"angular-mocks\" /&gt;\n// I want to prevent the above reference from being added\nimport * as ng from 'angular';\nexport declare class MyController {\n    $timeout: ng.ITimeoutService;\n    constructor($timeout: ng.ITimeoutService);\n    method(): void;\n}\n</code></pre>\n\n<p>Just in case it's relevant, here is the <code>tsconfig.json</code> settings:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"target\": \"es6\",\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"dist\",\n    \"newLine\": \"LF\",\n    \"sourceMap\": true,\n    \"skipLibCheck\": true,\n    \"removeComments\": false,\n    \"importHelpers\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"experimentalDecorators\": true\n  },\n  \"include\": [\n    \"src/**/*\"\n  ]\n}\n</code></pre>\n\n<p>I haven't found a good way to accomplish this. Any help would be greatly appreciated.</p>\n"}]