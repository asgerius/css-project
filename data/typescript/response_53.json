[{"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 19537, "user_id": 11252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535d6388fa5b748d9d69e3c00fefd7e6?s=128&d=identicon&r=PG", "display_name": "rg88", "link": "https://stackoverflow.com/users/11252/rg88"}, "edited": false, "score": 0, "creation_date": 1452748260, "post_id": 34779393, "comment_id": 57308824, "body": "That bug was so recently resolved it makes me wonder it Typescript is really ready to be used with React. What do you think? Is it still too &quot;beta&quot; for React?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 19537, "user_id": 11252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535d6388fa5b748d9d69e3c00fefd7e6?s=128&d=identicon&r=PG", "display_name": "rg88", "link": "https://stackoverflow.com/users/11252/rg88"}, "edited": false, "score": 0, "creation_date": 1452750785, "post_id": 34779393, "comment_id": 57309516, "body": "@Stuart I&#39;m building this with it : <a href=\"http://alm.tools/\" rel=\"nofollow noreferrer\">alm.tools</a> Its a lot less beta than React itself \ud83c\udf39 The bugs are mostly TypeScript providing <i>more help</i> which would otherwise be <i>completely absent and ignored till runtime</i>."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 21, "last_activity_date": 1452729689, "creation_date": 1452729689, "answer_id": 34779393, "question_id": 34779183, "link": "https://stackoverflow.com/questions/34779183/typescript-errors-while-converting-a-react-project/34779393#34779393", "title": "Typescript Errors while converting a React project", "body": "<blockquote>\n  <p>error TS2339: Property 'propTypes' does not exist on type 'typeof App'.</p>\n</blockquote>\n\n<p>Instead of </p>\n\n<pre><code>class App extends React.Component{\n}\nApp.propTypes = {\n  actions: PropTypes.object.isRequired,\n  fuelSavingsAppState: PropTypes.object.isRequired\n};\n</code></pre>\n\n<p>Use a <code>static</code> property. </p>\n\n<pre><code>class App extends React.Component{\n    static propTypes = {\n      actions: PropTypes.object.isRequired,\n      fuelSavingsAppState: PropTypes.object.isRequired\n    };\n}\n</code></pre>\n\n<blockquote>\n  <p>error TS2605: JSX element type 'Element' is not a constructor function for JSX elements.\n    Property 'render' is missing in type 'Element'</p>\n</blockquote>\n\n<p>This was a bug in the compiler that has since been fixed : <a href=\"https://github.com/Microsoft/TypeScript/issues/6349\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/6349</a> Alternative provide type annotations for <code>props</code>. \ud83c\udf39</p>\n"}, {"comments": [{"owner": {"reputation": 2885, "user_id": 1903781, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/61Mu1.jpg?s=128&g=1", "display_name": "Adrian Moisa", "link": "https://stackoverflow.com/users/1903781/adrian-moisa"}, "edited": false, "score": 0, "creation_date": 1489921086, "post_id": 38156377, "comment_id": 72873510, "body": "I am new to React coming from Angular 2. I can say that there are definitely situations when runtime checks are more than necessary, should I say, even vital. Many of the helper methods used in services tend to benefit from runtime checks. I usually check the params to prevent their misuse and thus prevent bugs deeper in the callstack."}, {"owner": {"reputation": 355, "user_id": 5067344, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206040952157395/picture?type=large", "display_name": "Nate Cheng", "link": "https://stackoverflow.com/users/5067344/nate-cheng"}, "edited": false, "score": 0, "creation_date": 1546138280, "post_id": 38156377, "comment_id": 94787549, "body": "I tried with defining interface, it won&#39;t pop error, even if there&#39;s wrong type defined"}, {"owner": {"reputation": 59197, "user_id": 1463, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d9f2c02c23a3013166710a1d24bca056?s=128&d=identicon&r=PG", "display_name": "Guy", "link": "https://stackoverflow.com/users/1463/guy"}, "edited": false, "score": 0, "creation_date": 1568521027, "post_id": 38156377, "comment_id": 102297148, "body": "TS will provide the type checking at transpile time and the PropTypes at runtime."}], "tags": [], "owner": {"reputation": 3777, "user_id": 472032, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ByzoW.jpg?s=128&g=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/472032/neo"}, "is_accepted": false, "score": 5, "last_activity_date": 1467432383, "creation_date": 1467432383, "answer_id": 38156377, "question_id": 34779183, "link": "https://stackoverflow.com/questions/34779183/typescript-errors-while-converting-a-react-project/38156377#38156377", "title": "Typescript Errors while converting a React project", "body": "<p>Is propTypes really required? Won't interface check at compile time what propTypes check in runtime?</p>\n\n<pre><code>interface IApp{\n  actions:any;\n  fuelSavingsAppState: (props:any)=&gt; void;\n}\n\nclass App extends React.Component&lt;IApp,{}&gt;{\n}\n</code></pre>\n\n<p>or if you are using dumb components</p>\n\n<pre><code>const App = ({actions,  fuelSavingsAppState }:IApp):React.ReactElement&lt;{}&gt; =&gt; (\n  &lt;div&gt;\n   What Ever you want to do with the props \n  &lt;/div&gt;\n)\n</code></pre>\n\n<p>Note: If you are using object please create an interface for the same. Like actions as of now given as any which should be ideally an interface.</p>\n"}], "owner": {"reputation": 19537, "user_id": 11252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/535d6388fa5b748d9d69e3c00fefd7e6?s=128&d=identicon&r=PG", "display_name": "rg88", "link": "https://stackoverflow.com/users/11252/rg88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7264, "favorite_count": 1, "accepted_answer_id": 34779393, "answer_count": 2, "score": 4, "last_activity_date": 1467432383, "creation_date": 1452728490, "question_id": 34779183, "link": "https://stackoverflow.com/questions/34779183/typescript-errors-while-converting-a-react-project", "title": "Typescript Errors while converting a React project", "body": "<p>This is specific to a React app I am converting from standard ES2015 to Typescript. In my .tsx files (converted from regular .js files) I am getting a couple of typescript errors I do not know how to solve.</p>\n\n<p>The first is: <code>error TS2339: Property 'propTypes' does not exist on type 'typeof App'.</code></p>\n\n<p>This applies to:</p>\n\n<pre><code>App.propTypes = {\n  actions: PropTypes.object.isRequired,\n  fuelSavingsAppState: PropTypes.object.isRequired\n};\n</code></pre>\n\n<p>I tried creating an interface above that code that defined App like:</p>\n\n<pre><code>interface App {\n    propTypes?: any;\n}\n</code></pre>\n\n<p>But this had no effect. Clearly I am new to Typescript so what am I missing?</p>\n\n<p>The other error is: </p>\n\n<pre><code>error TS2605: JSX element type 'Element' is not a constructor function for JSX elements.\n  Property 'render' is missing in type 'Element'\n</code></pre>\n\n<p>and this applies to:</p>\n\n<pre><code>{settings.necessaryDataIsProvidedToCalculateSavings ? &lt;FuelSavingsResults savings={settings.savings} /&gt; : null}\n</code></pre>\n\n<p>The error specifically refers to the bit about <code>&lt;FuelSavingsResults</code> </p>\n\n<p>At a complete loss as to where to even start with that. Any suggestions are most welcome.</p>\n\n<hr>\n\n<p>in case it helps, the definition for FuelSavingsResults starts like:</p>\n\n<pre><code>let FuelSavingsResults = (props) =&gt; {\n    let savingsExist = NumberFormatter.scrubFormatting(props.savings.monthly) &gt; 0;\n    let savingsClass = savingsExist ? 'savings' : 'loss';\n    let resultLabel = savingsExist ? 'Savings' : 'Loss';\n</code></pre>\n\n<p>and then has a regular React render method that follows, but I don't think that will matter.</p>\n"}, {"tags": ["typescript", "angular", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 7671, "user_id": 515279, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c5ea3b30be6f62c5a96ccb58320e7f1f?s=128&d=identicon&r=PG", "display_name": "jz87", "link": "https://stackoverflow.com/users/515279/jz87"}, "edited": false, "score": 0, "creation_date": 1452727428, "post_id": 34778953, "comment_id": 57302903, "body": "yeah, but I would like to develop the modules in conjunction with my app, and then separate them out later as node_modules. It&#39;s too much overhead to do this from the beginning."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 7671, "user_id": 515279, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c5ea3b30be6f62c5a96ccb58320e7f1f?s=128&d=identicon&r=PG", "display_name": "jz87", "link": "https://stackoverflow.com/users/515279/jz87"}, "edited": false, "score": 0, "creation_date": 1452727688, "post_id": 34778953, "comment_id": 57303002, "body": "Agreed. Can&#39;t be done at the moment. Note that your IDE can make it easier : <a href=\"https://github.com/TypeStrong/atom-typescript#relative-paths\" rel=\"nofollow noreferrer\">github.com/TypeStrong/atom-typescript#relative-paths</a>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1452727186, "creation_date": 1452727186, "answer_id": 34778953, "question_id": 34778789, "link": "https://stackoverflow.com/questions/34778789/how-to-import-typescript-modules-by-name/34778953#34778953", "title": "How to import typescript modules by name?", "body": "<blockquote>\n  <p>this way when I move the path of the module I don't have to go change all the files. Is this possible</p>\n</blockquote>\n\n<p>Not unless you use split the project into little <code>node_modules</code>. </p>\n\n<p>Having configurable paths for module resolution is tracked here : <a href=\"https://github.com/Microsoft/TypeScript/issues/5039\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/5039</a></p>\n"}], "owner": {"reputation": 7671, "user_id": 515279, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c5ea3b30be6f62c5a96ccb58320e7f1f?s=128&d=identicon&r=PG", "display_name": "jz87", "link": "https://stackoverflow.com/users/515279/jz87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453115008, "creation_date": 1452726514, "last_edit_date": 1453115008, "question_id": 34778789, "link": "https://stackoverflow.com/questions/34778789/how-to-import-typescript-modules-by-name", "title": "How to import typescript modules by name?", "body": "<p>I'm using VS Code to write an app in Angular 2. I'm wondering if it's possible to create an entry in some project setting to allow me to import modules by name. Currently I have to write <code>import * from &lt;long path&gt;</code> for modules I create. I would like to define a mapping <code>'name': &lt;long path&gt;</code> somewhere and then be able to write <code>import * from &lt;name&gt;</code> in my files, this way when I move the path of the module I don't have to go change all the files. Is this possible?</p>\n"}, {"tags": ["javascript", "typescript", "angular"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 1, "creation_date": 1452723218, "post_id": 34778080, "comment_id": 57301156, "body": "have you tried with <code>ngClass</code> ? <a href=\"https://angular.io/docs/ts/latest/api/common/NgClass-directive.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/common/NgClass-directive.html</a>"}, {"owner": {"reputation": 5005, "user_id": 1698890, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/a59Xq.jpg?s=128&g=1", "display_name": "AJStacy", "link": "https://stackoverflow.com/users/1698890/ajstacy"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 1, "creation_date": 1452785768, "post_id": 34778080, "comment_id": 57330448, "body": "My code apparently works and another extraneous error was throwing it off. This code is correct!"}], "answers": [{"comments": [{"owner": {"reputation": 5005, "user_id": 1698890, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/a59Xq.jpg?s=128&g=1", "display_name": "AJStacy", "link": "https://stackoverflow.com/users/1698890/ajstacy"}, "edited": false, "score": 1, "creation_date": 1452785720, "post_id": 34784725, "comment_id": 57330417, "body": "I&#39;m not trying to display a value, I&#39;m merely attempting to loop a set number of times based on a value &quot;numVariants&quot; that is translated into an array length in order for ngFor to loop (since ng-repeat no longer exists).   Apparently I had another extraneous error that was affecting my code and my Angular 2 code was already correct. Thank you for verify it for me."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 10, "last_activity_date": 1452759903, "creation_date": 1452759903, "answer_id": 34784725, "question_id": 34778080, "link": "https://stackoverflow.com/questions/34778080/angular-2-generate-class-name-based-on-ngfor-index/34784725#34784725", "title": "Angular 2 Generate Class Name Based on ngFor Index", "body": "<p>I don't really understand your problem ;-)</p>\n\n<p>There are two ways to set classes for a specific element:</p>\n\n<ul>\n<li><p>The way you do with curly brackets:</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div class=\"product-detail__variants\"&gt;\n      &lt;template ngFor #variant [ngForOf]=\"variants\" #index=\"index\"&gt;\n        &lt;div *ngIf=\"currentVariant == index\"&gt;\n          &lt;div class=\"product-detail-carousel-{{index}}\"&gt;\n            Test\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/template&gt;\n    &lt;/div&gt;\n  `,\n  styles: [\n    '.product-detail-carousel-2 { color: red }'\n  ]\n})\n</code></pre>\n\n<p><code>Test</code> is displayed only for the third element (index 2) and in red.</p></li>\n<li><p>As suggested by @Langley using the <code>ngClass</code> directive</p>\n\n<pre><code>import {NgClass} from 'angular2/common';\n\n@Component({\n  selector: 'my-app',\n  template: `\n    &lt;div class=\"product-detail__variants\"&gt;\n      &lt;template ngFor #variant [ngForOf]=\"variants\" #index=\"index\"&gt;\n        &lt;div *ngIf=\"currentVariant == index\"&gt;\n          &lt;div class=\"product-detail-carousel-{{index}}\"&gt;\n            Test\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/template&gt;\n    &lt;/div&gt;\n  `,\n  styles: [\n    '.product-detail-carousel-2 { color: red }'\n  ],\n  directives: [ NgClass ]\n})\n</code></pre>\n\n<p>The different is that you need to specify the NgClass directive within the <code>providers</code> attribute of your component. Again <code>Test</code> is displayed only for the third element (index 2) and in red.</p></li>\n</ul>\n\n<p>Your following sentences: \"The value <code>variants</code> is an empty array of a set length. <code>variant</code> thus has no value. <code>currentVariant</code> is a number that by default equals 0.\". How do you expect something to be displayed if your array is empty. An <code>ngFor</code> is an iteration...</p>\n\n<p>Hope it helps you,\nThierry</p>\n"}, {"tags": [], "owner": {"reputation": 3492, "user_id": 1077003, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/029647b8a3ce683fada0f1e6a0106936?s=128&d=identicon&r=PG", "display_name": "Ian Jamieson", "link": "https://stackoverflow.com/users/1077003/ian-jamieson"}, "is_accepted": false, "score": 0, "last_activity_date": 1585327069, "creation_date": 1585327069, "answer_id": 60890313, "question_id": 34778080, "link": "https://stackoverflow.com/questions/34778080/angular-2-generate-class-name-based-on-ngfor-index/60890313#60890313", "title": "Angular 2 Generate Class Name Based on ngFor Index", "body": "<p>In case anyone is looking to add a specific class based on the index, you can do something like this. I personally prefer the syntax here too. Let's say you wanted to add <code>last-para</code> to the last paragraph from an array:</p>\n\n<pre><code>&lt;p\n  *ngFor=\"let p of paragraphs; let i = index\"\n  [class.last-para]=\"i &gt;= paragraphs.length - 1\"&gt;\n  {{p}}&lt;/p&gt;\n</code></pre>\n"}], "owner": {"reputation": 5005, "user_id": 1698890, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/a59Xq.jpg?s=128&g=1", "display_name": "AJStacy", "link": "https://stackoverflow.com/users/1698890/ajstacy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11690, "favorite_count": 0, "accepted_answer_id": 34784725, "answer_count": 2, "score": 10, "last_activity_date": 1585327069, "creation_date": 1452723093, "last_edit_date": 1452785838, "question_id": 34778080, "link": "https://stackoverflow.com/questions/34778080/angular-2-generate-class-name-based-on-ngfor-index", "title": "Angular 2 Generate Class Name Based on ngFor Index", "body": "<p>I'm running into a problem with creating a dynamic class name based on the Angular 2 ngFor loop index. I had to use the following syntax because Angular 2 does not like ngFor and ngIf on the same element.</p>\n\n<p>With this syntax, how can I create a dynamic class name with the value of index at <code>{{index}}</code>. I know this isn't proper A2 code, but I put it in my code example to show you where I would like the value to appear.</p>\n\n<pre><code>&lt;div class=\"product-detail__variants\"&gt;\n    &lt;template ngFor #variant [ngForOf]=\"variants\" #index=\"index\"&gt;\n        &lt;div *ngIf=\"currentVariant == index\"&gt;\n            &lt;div class=\"product-detail-carousel-{{index}}\"&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/template&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The value \"variants\" is an empty array of a set length. \"variant\" thus has no value.</p>\n\n<p>\"currentVariant\" is a number that by default equals 0.</p>\n\n<p><strong>EDIT</strong>: This code above is correct. I had another extraneous error that I thought was connected to this code.</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "edited": false, "score": 0, "creation_date": 1452725194, "post_id": 34778102, "comment_id": 57302044, "body": "Oh, you&#39;ll probably not need the Serializable interface either."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1452758478, "last_edit_date": 1452758478, "creation_date": 1452723197, "answer_id": 34778102, "question_id": 34777999, "link": "https://stackoverflow.com/questions/34777999/how-to-create-array-of-custom-object-in-typescript/34778102#34778102", "title": "How to create Array of custom object in Typescript", "body": "<p>There's no need to have a function inside the class that initializes objects, that's what constructors are for. </p>\n\n<p>Instead you can iterate over the <strong>jsonDatas</strong> array and create a new class instance for every one of them.</p>\n\n<p>You can easily do it with a <strong>map</strong> call.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module NameSpacens{\n\n    export class Class1 {\n\n        constructor(private prop1?:number, private prop2?:string){\n\n        }\n\n\n    }\n}\n\nvar jsonDatas = [{ prop1: 1, prop2: \"Test1\"}, { prop1: 2, prop2: \"Test2\" }];\n\nvar coll:Array&lt;NameSpacens.Class1&gt; = jsonDatas.map((data) =&gt; new NameSpacens.Class1(data.prop1, data.prop2));\n</code></pre>\n\n\n"}], "owner": {"reputation": 1386, "user_id": 2398353, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/222fb32751de4db3a682b22f14e01b7c?s=128&d=identicon&r=PG", "display_name": "Pratik Gaikwad", "link": "https://stackoverflow.com/users/2398353/pratik-gaikwad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3275, "favorite_count": 0, "accepted_answer_id": 34778102, "answer_count": 1, "score": 0, "last_activity_date": 1452758478, "creation_date": 1452722767, "question_id": 34777999, "link": "https://stackoverflow.com/questions/34777999/how-to-create-array-of-custom-object-in-typescript", "title": "How to create Array of custom object in Typescript", "body": "<pre><code>module NameSpacens{\n    interface Serializable&lt;T&gt; {\n        deserialize(input: Object): T;\n    }\n\n    export class Class1 implements Serializable&lt;Class1&gt;{\n        private prop1: number;\n        private prop2:string;\n        constructor(va1?:number, va2?:string){\n            this.prop1 = va1;\n            this.prop2 = va2;\n        }\n\n        deserialize(jsonData){\n            if (!(Array.isArray(jsonData))) {\n                this.Index = jsonData.index;\n                this.HeaderName = jsonData.headerName;\n                this.SortName = jsonData.sortName;\n                this.AllowSorting = jsonData.allowSorting;\n                return this;\n            }\n            else {\n                //How to code this portion to create list?\n            }\n        }\n    }\n}\n\nvar jsonDatas = [{ prop1: 1, prop2: \"Test1\"}, { prop1: 2, prop2: \"Test2\" }];\n\nvar coll:Array&lt;NameSpacens.Class1&gt; = new NameSpacens.Class1().deserialize(jsonDatas);\n</code></pre>\n\n<p>for coll I am getting below error during compile time.</p>\n\n<p>Type 'Class1' is not assignable to type 'Class1[]'.\n  Property 'length' is missing in type 'Class1'.    </p>\n\n<p>Also how I can create the list from JSON array of objects, in this case jsonDatas?</p>\n"}, {"tags": ["javascript", "knockout.js", "typescript", "observable", "subscribe"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 465989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c588887729e84267f85520d743a7a5?s=128&d=identicon&r=PG", "display_name": "Dimi", "link": "https://stackoverflow.com/users/465989/dimi"}, "edited": false, "score": 0, "creation_date": 1452794400, "post_id": 34777265, "comment_id": 57336228, "body": "In this case yes, but I don&#39;t know exactly why but Typescript treats the &quot;this&quot; differently if you are in a function than arrow function."}, {"owner": {"reputation": 784, "user_id": 2250353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0c280f8ac8de93972f82f5ce7ffaff8?s=128&d=identicon&r=PG", "display_name": "Frank Hagenson", "link": "https://stackoverflow.com/users/2250353/frank-hagenson"}, "reply_to_user": {"reputation": 21, "user_id": 465989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c588887729e84267f85520d743a7a5?s=128&d=identicon&r=PG", "display_name": "Dimi", "link": "https://stackoverflow.com/users/465989/dimi"}, "edited": false, "score": 0, "creation_date": 1452812335, "post_id": 34777265, "comment_id": 57345959, "body": "It is quite instructive to look at the .js code generated by the TypeScript compiler for callbacks with and without the =&gt; notation. If you use =&gt;, a &quot;_this&quot; member is generated and substituted in the callback code. I think you will see the solution to you particular case if you look there."}], "tags": [], "owner": {"reputation": 784, "user_id": 2250353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0c280f8ac8de93972f82f5ce7ffaff8?s=128&d=identicon&r=PG", "display_name": "Frank Hagenson", "link": "https://stackoverflow.com/users/2250353/frank-hagenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1452720175, "creation_date": 1452720175, "answer_id": 34777265, "question_id": 34777057, "link": "https://stackoverflow.com/questions/34777057/using-knockout-typescript-how-can-i-change-the-value-of-an-observable-from-it/34777265#34777265", "title": "Using Knockout &amp; Typescript. How can I change the value of an Observable from its subscription?", "body": "<p>In TypeScript, you have control over what \"this\" is by using => or not.</p>\n\n<pre><code>class x {\n    public myObservable: KnockoutObservable&lt;any&gt;;\n\n    constructor(){\n        this.myObservable = ko.observable&lt;any&gt;();\n        this.myObservable.subscribe(function(val){\n            // Not using =&gt; this remains myObservable\n            var newVal = utils.filterAlphanumeric(val);\n            this(newVal); \n        })\n    }\n}\n</code></pre>\n\n<p>Should work OK</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 465989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c588887729e84267f85520d743a7a5?s=128&d=identicon&r=PG", "display_name": "Dimi", "link": "https://stackoverflow.com/users/465989/dimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1452795110, "creation_date": 1452795110, "answer_id": 34796769, "question_id": 34777057, "link": "https://stackoverflow.com/questions/34777057/using-knockout-typescript-how-can-i-change-the-value-of-an-observable-from-it/34796769#34796769", "title": "Using Knockout &amp; Typescript. How can I change the value of an Observable from its subscription?", "body": "<p>Ko.Extenders it was a good solution</p>\n\n<p><a href=\"http://knockoutjs.com/documentation/extenders.html\" rel=\"nofollow\">http://knockoutjs.com/documentation/extenders.html</a></p>\n\n<p>I created:</p>\n\n<pre><code>ko.extenders.filter = function (target, filterType) {\n    if (filterType == \"number\") { \n        wUtils.observableSubscribeFilterNumber(target);\n    }\n    return target;\n};\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 465989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c588887729e84267f85520d743a7a5?s=128&d=identicon&r=PG", "display_name": "Dimi", "link": "https://stackoverflow.com/users/465989/dimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1452795110, "creation_date": 1452719383, "question_id": 34777057, "link": "https://stackoverflow.com/questions/34777057/using-knockout-typescript-how-can-i-change-the-value-of-an-observable-from-it", "title": "Using Knockout &amp; Typescript. How can I change the value of an Observable from its subscription?", "body": "<p>Using Knockout &amp; Typescript. How can I change the value of an Observable from its subscription?</p>\n\n<p>I'm refactoring a KO old code using Typescript, and I found this piece of code that subscribes to an observable and is updating it using \"this\" which is not possible with TypeScript.</p>\n\n<pre><code>let utils = new Utils();\n\nutils.subscribeFilterAlphanumeric = function(val){\n    var newVal = utils.filterAlphanumeric(val);\n    this(newVal); \n    // \"this\" in regular JS is the observable\n    // \"this\" in Typescript is the Class \"Utils\"\n};\n\nmyObservable = ko.observable();\nmyObservable.subscribe(utils.subscribeFilterAlphanumeric , myObservable);\n</code></pre>\n\n<p>Any suggestion how to make this work in Typescript?</p>\n\n<p>Thanks !</p>\n"}, {"tags": ["generics", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 2, "last_activity_date": 1452712720, "creation_date": 1452712720, "answer_id": 34775217, "question_id": 34774264, "link": "https://stackoverflow.com/questions/34774264/union-type-in-generic-function/34775217#34775217", "title": "Union type in generic function", "body": "<p>Your intuition that this should be inferrable is correct, and in fact the current nightly build of TypeScript (<code>npm install typescript@next</code>) does infer the correct type now.</p>\n\n<p>See the PR that fixed this <a href=\"https://github.com/Microsoft/TypeScript/pull/5895\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/pull/5895</a> and the originating bug <a href=\"https://github.com/Microsoft/TypeScript/issues/5861\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript/issues/5861</a></p>\n"}], "owner": {"reputation": 6143, "user_id": 778430, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/oyv6J.png?s=128&g=1", "display_name": "KRyan", "link": "https://stackoverflow.com/users/778430/kryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 34775217, "answer_count": 1, "score": 1, "last_activity_date": 1452712720, "creation_date": 1452709488, "last_edit_date": 1452710932, "question_id": 34774264, "link": "https://stackoverflow.com/questions/34774264/union-type-in-generic-function", "title": "Union type in generic function", "body": "<p>I have code that looks like this:</p>\n\n<pre><code>/** explains the absence of a value */\nexport interface None {\n    'is none because': string;\n    // has spaces to reduce likelihood of a non-None having this member\n}\n\n/** Either a value or a reason why that value is missing. */\nexport type Optional&lt;a&gt; = a | None;\n\n/** Possible value actually is a value */\nexport function isSome&lt;a&gt;(optValue: Optional&lt;a&gt;): optValue is a {\n    return !('is none because' in optValue);\n}\n\n/** Possible value actually is absent */\nexport function isNone&lt;a&gt;(optValue: Optional&lt;a&gt;): optValue is None {\n    return 'is none because' in optValue;\n}\n\n/** Consider optional value, require users to consider both possibilities */\nexport function outOfOptional&lt;a, r&gt;(value: Optional&lt;a&gt;, haveSome: (some: a) =&gt; r, haveNone: (reason: string) =&gt; r): r {\n    if (isNone(value)) {\n        return haveNone(value['is none because']);\n    }\n    else {\n        return haveSome(value);\n    }\n}\n</code></pre>\n\n<p>I'm finding two problems with this set-up, however. Both are related to the automatic deduction of the generic types in these utility functions.</p>\n\n<p>First, <code>isSome</code> does not seem to work as a typeguard:</p>\n\n<pre><code>if (isSome(value)) {\n    // value here is still treated as a | None\n}\n</code></pre>\n\n<p>It seems that the default deduction here is <code>isSome&lt;Optional&lt;a&gt;&gt;</code>, which quite frankly is wrong (<code>isSome&lt;Optional&lt;a&gt;&gt;</code> should expect an argument of <code>Optional&lt;Optional&lt;a&gt;&gt;</code>, which is not what it's getting here). If I'm explicit and use <code>isSome&lt;a&gt;</code>, then it works, but I decidedly do not want to do that. </p>\n\n<p>Alternatively, <code>isNone</code> does work, which is why you see it used in <code>outOfOptional</code>: <code>value</code> has type <code>a</code> in the <code>else</code> block.</p>\n\n<p>In addition, consider this usage of <code>outOfOptional</code>:</p>\n\n<pre><code>export function outOfBothOptional&lt;a, b, r&gt;(\n    one: Optional&lt;a&gt;, another: Optional&lt;b&gt;,\n    haveBoth: (one: a, another: b) =&gt; r,\n    haveFirst: (one: a) =&gt; r,\n    haveSecond: (another: b) =&gt; r,\n    haveNone: (none: string) =&gt; r\n): r {\n    return outOfOptional(\n        one,\n        haveOne =&gt; outOfOptional(\n            another,\n            haveAnother =&gt; haveBoth(haveOne, haveAnother),\n            () =&gt; haveFirst(haveOne)\n        ),\n        () =&gt; outOfOptional(\n            another,\n            haveSecond,\n            haveNone\n        )\n    );\n}\n</code></pre>\n\n<p>Both <code>haveOne</code> and <code>haveAnother</code> are deduced to be <code>a | None</code> rather than <code>a</code>, even though this leads to an error, and even though <em>they could not be</em>. In effect, <code>outOfOptional</code> here seems to be treated as <code>outOfOptional&lt;Optional&lt;a&gt;&gt;</code>, except that's wrong, for the same reason <code>isSome&lt;Optional&lt;a&gt;&gt;</code> was wrong. The first argument is <code>Optional&lt;a&gt;</code>, not <code>Optional&lt;a&gt; | None</code> or <code>Optional&lt;Optional&lt;a&gt;&gt;</code> as that deduction would imply. Given a first argument of <code>Optional&lt;a&gt;</code>, the generic type of <code>outOfOptional</code> must be <code>a</code> and definitely not <code>Optional&lt;a&gt;</code>. </p>\n\n<p>Why does TypeScript consider this a valid, and in fact <em>more valid</em>, deduction? Is there anyway I can use <code>a | None</code> as an optional type, without having to explicitly indicate generic types in the related functions?</p>\n"}, {"tags": ["angular", "typescript", "google-maps"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452705394, "post_id": 34772889, "comment_id": 57290949, "body": "Take a look at <code>ElementRef</code> : <a href=\"https://angular.io/docs/ts/latest/api/core/ElementRef-class.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/core/ElementRef-class.html</a> or <code>ViewChild</code> : <a href=\"https://angular.io/docs/ts/latest/api/core/ViewChild-var.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/core/ViewChild-var.html</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452705563, "post_id": 34772889, "comment_id": 57291056, "body": "I can&#39;t see the point of creating an Angular component and then stringify it to pass it to infowindow. Why don&#39;t you just pass a string instead. Is it because you want to use data-binding? This won&#39;t be updated after passing it to infowindow anyway."}, {"owner": {"reputation": 5735, "user_id": 967405, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xqE2Q.png?s=128&g=1", "display_name": "drewwyatt", "link": "https://stackoverflow.com/users/967405/drewwyatt"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1452705645, "post_id": 34772889, "comment_id": 57291108, "body": "@G&#252;nterZ&#246;chbauer - right, I don&#39;t need the databinding - the template sytax just seems much nicer than an awful stringbuilder. (especially for <code>ngIf</code> and <code>ngFor</code>). Does that make sense?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452705902, "post_id": 34772889, "comment_id": 57291275, "body": "You could use <code>ElementRef</code> like @Langley explained and use <code>innerHTML</code>. Using Angular as string template builder is extremely inefficient compared to stringbuilder."}, {"owner": {"reputation": 5735, "user_id": 967405, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xqE2Q.png?s=128&g=1", "display_name": "drewwyatt", "link": "https://stackoverflow.com/users/967405/drewwyatt"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452706567, "post_id": 34772889, "comment_id": 57291691, "body": "@G&#252;nterZ&#246;chbauer yuck. the warning in the docs makes me feel weird about that. And if it really has poor performance I probably will not use it, but if you would like to post an implementation of that as an answer I will mark it as accepted."}, {"owner": {"reputation": 5735, "user_id": 967405, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xqE2Q.png?s=128&g=1", "display_name": "drewwyatt", "link": "https://stackoverflow.com/users/967405/drewwyatt"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452706666, "post_id": 34772889, "comment_id": 57291751, "body": "@Langley same thing I mentioned ^ applies to you."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452709412, "post_id": 34772889, "comment_id": 57293421, "body": "Yea, that&#39;s why I put an alternative. but I don&#39;t it matters, the reason why it is not recommended its because you are supposed to change the virtual dom and let angular handle the real dom, but pretty much 99% of the libraries you&#39;ll find right now work off the real DOM so if you want to use them there&#39;s no really other option."}, {"owner": {"reputation": 5735, "user_id": 967405, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xqE2Q.png?s=128&g=1", "display_name": "drewwyatt", "link": "https://stackoverflow.com/users/967405/drewwyatt"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452709509, "post_id": 34772889, "comment_id": 57293484, "body": "@Langley for sure. I just meant - it still technically answers my question, so I will mark it as accepted if you want to do the legwork."}, {"owner": {"reputation": 930, "user_id": 4821694, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh3.googleusercontent.com/-fhrxp56k1ZQ/AAAAAAAAAAI/AAAAAAAAAsY/GY0GrUdSKCI/photo.jpg?sz=128", "display_name": "\u0424\u0435\u0434\u043e\u0440 \u0423\u0441\u0430\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4821694/%d0%a4%d0%b5%d0%b4%d0%be%d1%80-%d0%a3%d1%81%d0%b0%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 0, "creation_date": 1507550768, "post_id": 34772889, "comment_id": 80241056, "body": "@drewwyatt So how do you finally resolved this task? Please, share your approach. Im facing the same issue and I would like to use angular components for different InfoWindow templates..."}], "answers": [{"comments": [{"owner": {"reputation": 930, "user_id": 4821694, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh3.googleusercontent.com/-fhrxp56k1ZQ/AAAAAAAAAAI/AAAAAAAAAsY/GY0GrUdSKCI/photo.jpg?sz=128", "display_name": "\u0424\u0435\u0434\u043e\u0440 \u0423\u0441\u0430\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/4821694/%d0%a4%d0%b5%d0%b4%d0%be%d1%80-%d0%a3%d1%81%d0%b0%d0%ba%d0%be%d0%b2"}, "edited": false, "score": 1, "creation_date": 1507551299, "post_id": 34774346, "comment_id": 80241357, "body": "Sorry, but it is not clear. How do I inject compiled HTML from component viewChild property to google.maps.InfoWindow content:string?"}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": true, "score": 2, "last_activity_date": 1452709779, "creation_date": 1452709779, "answer_id": 34774346, "question_id": 34772889, "link": "https://stackoverflow.com/questions/34772889/how-can-i-render-an-angular2-component-to-a-string/34774346#34774346", "title": "How can I render an Angular2 component to a string?", "body": "<p>Try passing the <code>ElementRef</code> angular.io/docs/ts/latest/api/core/ElementRef-class.html.</p>\n\n<p>Or something with <code>ViewChild</code>:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/core/ViewChild-var.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/core/ViewChild-var.html</a></p>\n\n<p>I will not write the code for you, but the idea is something like this:</p>\n\n<pre><code>@Component({\n  selector: 'my-infowindow',\n  template: `&lt;p #kiddo&gt;This is an infowindow for {{ something.name }}&lt;/p&gt;`\n})\nexport class MyInfoWindowComponent {\n    @ViewChild('kiddo') viewChild;\n    constructor(public something: Thing) {}\n    ngOnInit(){\n        yourFunction(this.viewChild); //or viewChild.innerHtml or w/e works\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5735, "user_id": 967405, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xqE2Q.png?s=128&g=1", "display_name": "drewwyatt", "link": "https://stackoverflow.com/users/967405/drewwyatt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1977, "favorite_count": 0, "accepted_answer_id": 34774346, "answer_count": 1, "score": 6, "last_activity_date": 1549902863, "creation_date": 1452705159, "last_edit_date": 1549902863, "question_id": 34772889, "link": "https://stackoverflow.com/questions/34772889/how-can-i-render-an-angular2-component-to-a-string", "title": "How can I render an Angular2 component to a string?", "body": "<p>I would like to be able to use the Angular2 template syntax when building a <a href=\"https://developers.google.com/maps/documentation/javascript/examples/infowindow-simple\" rel=\"noreferrer\">Google Maps InfoWindow</a>. </p>\n\n<p>As far as I can tell, this means passing a a component as a template string to the <code>content</code> property in the <code>InfoWindow</code> constructor object.</p>\n\n<p>If this is the case, I believe I need to stringify the component template. Is this correct (and possible)?</p>\n\n<p>Here is an example of what I <em>think</em> I need to do:</p>\n\n<pre><code>// Component\n\nimport {Component} from 'angular2/core';\nimport {Thing} from './something/in/my/app/thing.model.ts';\n\n@Component({\n  selector: 'my-infowindow',\n  template: `&lt;p&gt;This is an infowindow for {{ something.name }}&lt;/p&gt;`\n})\nexport class MyInfoWindowComponent {\n    constructor(public something: Thing) {}\n}\n\n\n// Implementation\n\nimport {Thing} from './something/in/my/app/thing.model.ts';\nimport {MyInfoWindowComponent} from './path/to/infowindow.component';\n\n/* { ...stuff... } */\n\nprivate _buildInfoWindow(thing: Thing): google.maps.InfoWindow {\n    return new google.maps.InfoWindow({\n      /* v this is what I want v */\n      content: new MyInfoWindowComponent(thing).toString() \n      /* ^ this is what I want ^ */\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "webstorm"], "comments": [{"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 1, "creation_date": 1452710172, "post_id": 34772174, "comment_id": 57293920, "body": "This is a common issue with Angular2 lately.  I was answering a similar question with the same problem here <a href=\"http://stackoverflow.com/a/34627194/99256\">stackoverflow.com/a/34627194/99256</a>."}, {"owner": {"reputation": 41, "user_id": 4754016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a042f47ec5f633546f75c588291be64?s=128&d=identicon&r=PG&f=1", "display_name": "Herndl", "link": "https://stackoverflow.com/users/4754016/herndl"}, "edited": false, "score": 0, "creation_date": 1452710355, "post_id": 34772174, "comment_id": 57367610, "body": "I think, I&#39;ve had a similar problem before and the problem was the typescript module system interfere with the references. It really depends on how you use the module structure (<i>internal</i> [namespaces] or <i>external</i> modules) and if your use a reference to this file directly. I think the problem is neither TSLint, Webstorm nor your configuration. Maybe you could post an module example and your reference file or your tsd.d.ts file."}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 1134380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/92458ac15290aed82fd8c402c3f09bc2?s=128&d=identicon&r=PG", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/1134380/guillaume"}, "is_accepted": false, "score": 0, "last_activity_date": 1452705426, "creation_date": 1452705426, "answer_id": 34772975, "question_id": 34772174, "link": "https://stackoverflow.com/questions/34772174/how-to-silence-the-typescript-compiler-with-duplicate-identifiers/34772975#34772975", "title": "How to silence the TypeScript compiler with duplicate identifiers?", "body": "<p>I think that you should move your tsconfig.json in the root directory of your real code files.</p>\n\n<p>In that case, the file is higher in the directory tree and attempt to validate the node_modules.</p>\n"}], "owner": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452710355, "creation_date": 1452703159, "question_id": 34772174, "link": "https://stackoverflow.com/questions/34772174/how-to-silence-the-typescript-compiler-with-duplicate-identifiers", "title": "How to silence the TypeScript compiler with duplicate identifiers?", "body": "<p>How to silence the TypeScript compiler with duplicate identifiers with WebStorm?</p>\n\n<p>See below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NOJBs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NOJBs.png\" alt=\"enter image description here\"></a></p>\n\n<p>tsconfig:</p>\n\n<pre><code>   {\n  \"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"removeComments\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"noEmitHelpers\": false,\n    \"sourceMap\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ],\n  \"compileOnSave\": false,\n  \"buildOnSave\": false\n}\n</code></pre>\n\n<p>Regards,</p>\n\n<p>Sean</p>\n"}, {"tags": ["d3.js", "typescript", "force-layout"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1452723670, "post_id": 34768870, "comment_id": 57301355, "body": "please consider providing a working sample"}], "owner": {"reputation": 53, "user_id": 5295958, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cf0c4aaa2908b2f527fef02a32853459?s=128&d=identicon&r=PG", "display_name": "Nod", "link": "https://stackoverflow.com/users/5295958/nod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1466373080, "creation_date": 1452694271, "last_edit_date": 1466373080, "question_id": 34768870, "link": "https://stackoverflow.com/questions/34768870/d3js-typescript-force-layout-link-event", "title": "D3js Typescript force layout link event", "body": "<p>Hello I work on a D3JS project with d3.d.ts library and I have this piece of code</p>\n\n<pre><code> this.force\n        .nodes(this.graph.nodes)\n        .links(this.graph.edges)\n        .on(\"tick\", () =&gt; this.tick())\n        .start();\n    this.links = this.svg.selectAll(\".link\")\n        .data(this.graph.edges)\n        .enter().append(\"line\")\n        .on(\"click\", (e: NVEdge) =&gt; { this.edge = e ; console.log(\"toto\") })\n        .on(\"dblclick\",(e:NVEdge) =&gt; { this.edgemodalstate = true })\n        .attr(\"class\", \"link\");\n    this.nodes = this.svg.selectAll(\".node\")\n        .data(this.graph.nodes)\n        .enter().append(\"circle\")\n        .attr(\"class\", \"node\")\n        .attr(\"r\", 10)\n        .attr(\"id\", (n: NVNode) =&gt; { return n.id })\n        .style('fill', (n: NVNode) =&gt; { return n.branch.color })\n        .style('stroke', (n: NVNode) =&gt; { return n.branch.color })\n        .on(\"mousedown\", (n: NVNode) =&gt; { this.mousedown(n) })\n        .call(this.force.drag)\n        .on(\"mouseup\", (n: NVNode) =&gt; { this.mouseupNode(n) })\n        .on(\"dblclick\", (n: NVNode) =&gt; { this.nodemodalstate = true });\n    this.nodes.append(\"title\").text((n: NVNode) =&gt; { return n.name; });\n</code></pre>\n\n<p>and the event on link does'nt seems to work</p>\n\n<pre><code>.on(\"click\", (e: NVEdge) =&gt; { console.log(\"toto\") }) \n</code></pre>\n\n<p>If somebody have an idea how to solve this problem i'll be glad to hear it :D</p>\n\n<p>Here all the code <a href=\"https://github.com/NodeVision/NodeVision/tree/dev\" rel=\"nofollow\">https://github.com/NodeVision/NodeVision/tree/dev</a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 11846, "user_id": 4339170, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xdR3z.png?s=128&g=1", "display_name": "CoderPi", "link": "https://stackoverflow.com/users/4339170/coderpi"}, "is_accepted": true, "score": 5, "last_activity_date": 1452693749, "last_edit_date": 1452693749, "creation_date": 1452693354, "answer_id": 34768552, "question_id": 34768492, "link": "https://stackoverflow.com/questions/34768492/default-values-for-optional-parameters-in-options-argument/34768552#34768552", "title": "Default values for optional parameters in options argument", "body": "<p>Use  <code>if (options.numberOfWheels === void 0) { options.numberOfWheels = 4; }</code> instead. (Otherwise 0 or NaN ... will be 4 as well)</p>\n\n<p>Aside that what you do is actually pretty clever and it's the best you can do.\nThings like that won't work:</p>\n\n<pre><code>constructor (options: {color: number, numberOfWheels?: number} = {color: options.color})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": false, "score": 4, "last_activity_date": 1452698940, "last_edit_date": 1452698940, "creation_date": 1452697309, "answer_id": 34769975, "question_id": 34768492, "link": "https://stackoverflow.com/questions/34768492/default-values-for-optional-parameters-in-options-argument/34769975#34769975", "title": "Default values for optional parameters in options argument", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow\">destructuring</a> for this:</p>\n\n<pre><code>class Car {\n    color: number;\n    numberOfWheels: number;\n\n    constructor ({color, numberOfWheels = 4}: {color: number, numberOfWheels?: number}) {\n        this.color = color;\n        this.numberOfWheels = numberOfWheels;\n    }\n}\n</code></pre>\n\n<p>Alternatively...</p>\n\n<pre><code>constructor (options: {color: number, numberOfWheels?: number}) {\n    let {color, numberOfWheels = 4} = options;\n\n    this.color = color;\n    this.numberOfWheels = numberOfWheels;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "edited": false, "score": 0, "creation_date": 1520993629, "post_id": 44515958, "comment_id": 85540813, "body": "Why the this answer got down voted? Please leave a reason so that i can correct if anything misleading here."}, {"owner": {"reputation": 398, "user_id": 874239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iO4Ys.png?s=128&g=1", "display_name": "sonnb", "link": "https://stackoverflow.com/users/874239/sonnb"}, "edited": false, "score": 0, "creation_date": 1523603384, "post_id": 44515958, "comment_id": 86636949, "body": "Your answer and even your link is not really related to the OP question. You also didn&#39;t try the example he gave because you cannot give default value for optional parameter."}, {"owner": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "reply_to_user": {"reputation": 398, "user_id": 874239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iO4Ys.png?s=128&g=1", "display_name": "sonnb", "link": "https://stackoverflow.com/users/874239/sonnb"}, "edited": false, "score": 1, "creation_date": 1523604596, "post_id": 44515958, "comment_id": 86637586, "body": "Not Exactly! The question is about passing Optional parameter / Default values for the Object property in a constructor. This question popped up in my search, But what i was looking for was Just default parameter with optional to a method.  Hence posted this answer where it may help people who just want <code>Just an optional parameter with default value</code>."}, {"owner": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "reply_to_user": {"reputation": 398, "user_id": 874239, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iO4Ys.png?s=128&g=1", "display_name": "sonnb", "link": "https://stackoverflow.com/users/874239/sonnb"}, "edited": false, "score": 0, "creation_date": 1523605180, "post_id": 44515958, "comment_id": 86637880, "body": "And i have answered your &quot;you cannot give default value for optional parameter.&quot; query, see my Edits of this answer. I hope that clarifies... ;)"}], "tags": [], "owner": {"reputation": 6029, "user_id": 900307, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vkqaG.jpg?s=128&g=1", "display_name": "RajeshKdev", "link": "https://stackoverflow.com/users/900307/rajeshkdev"}, "is_accepted": false, "score": 1, "last_activity_date": 1523605097, "last_edit_date": 1523605097, "creation_date": 1497342020, "answer_id": 44515958, "question_id": 34768492, "link": "https://stackoverflow.com/questions/34768492/default-values-for-optional-parameters-in-options-argument/44515958#44515958", "title": "Default values for optional parameters in options argument", "body": "<p><strong><em>Note:</em></strong> <em>This answer is not an attempt give exact answer to the question. Instead, gives simple answer about optional or Default parameter to the method or constructor how that works in Typescript (Just for documentation purpose). Users whomever searched for simple optional / default values for the parameter may find this answer as helpful.</em></p>\n\n<p>I'm using Typescript latest and stabled version as of June 2017 with VSCode. </p>\n\n<p>We can achieve the optional parameter and default value by using the below approach. </p>\n\n<pre><code>export class Searcher {\n  createLog(message: string = \"Default: No Message!\") {\n     console.log(message);\n  }\n}\n</code></pre>\n\n<p>Good reference link to learn about <a href=\"http://www.codecompiled.com/optional-and-default-valued-parameters-in-typescript/\" rel=\"nofollow noreferrer\">Optional and Default valued parameters in TypeScript</a>.</p>\n\n<p><strong><em>Edit:</em></strong></p>\n\n<p>You can call the above method, like this.</p>\n\n<pre><code>this.createLog();\n</code></pre>\n\n<p>Therefore you don't need to pass any parameter value \"<strong><em>it becomes optional parameter</em></strong>\".</p>\n\n<p>And when you don't pass the parameter \"<strong><em>The default value will be supplied in that place of execution</em></strong>\"</p>\n\n<p>Hence We can achieve the optional parameter and default value of the pararmeter by using the above approach. </p>\n\n<p>I hope this helps to someone!</p>\n"}], "owner": {"reputation": 50096, "user_id": 42636, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1cf6e58dae064fc449e6840ffdb90306?s=128&d=identicon&r=PG", "display_name": "pistacchio", "link": "https://stackoverflow.com/users/42636/pistacchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7786, "favorite_count": 0, "accepted_answer_id": 34768552, "answer_count": 3, "score": 9, "last_activity_date": 1523605097, "creation_date": 1452693173, "question_id": 34768492, "link": "https://stackoverflow.com/questions/34768492/default-values-for-optional-parameters-in-options-argument", "title": "Default values for optional parameters in options argument", "body": "<p>I want to pass an object as argument for the constructor of a class. Some keys of the options object are optional.</p>\n\n<p>Is there a better / more idiomatic way of accomplishing the following in typescript? Thanks</p>\n\n<pre><code>class Car {\n    color: number;\n    numberOfWheels: number;\n\n    constructor (options: {color: number, numberOfWheels?: number}) {\n        options.numberOfWheels |= 4;\n\n        this.color = options.color;\n        this.numberOfWheels = options.numberOfWheels;\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1452693423, "post_id": 34767871, "comment_id": 57281881, "body": "Where did you get this code?. Component is a part of angular 2 core, not web_worker. I only found that <code>worker_app</code> module exports some WORKER_RENDER, MessageBus, etc, I found it here: <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/docs/web_workers/web_workers.md\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/master/modules/angular2/docs&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 123, "user_id": 5784468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b9dc5f7f66cc9cda9a3df750919ef2?s=128&d=identicon&r=PG&f=1", "display_name": "MatsGA", "link": "https://stackoverflow.com/users/5784468/matsga"}, "reply_to_user": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1452693775, "post_id": 34767871, "comment_id": 57282134, "body": "I found this code example: <a href=\"http://www.syntaxsuccess.com/viewarticle/web-workers-in-angular-2.0\" rel=\"nofollow noreferrer\">syntaxsuccess.com/viewarticle/web-workers-in-angular-2.0</a>"}, {"owner": {"reputation": 3823, "user_id": 2182767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7de026e2d1f87814ca9cf59fcec9506b?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2182767/andrey"}, "edited": false, "score": 0, "creation_date": 1452695767, "post_id": 34767871, "comment_id": 57283565, "body": "Ok, thing you want to do is use angular 2 part in UMD format. But I couldn&#39;t found angular 2 umd build with web workers included. So the only way I can see now for ES5 is try to use angular 2 without UMD bundle, using SystemJS modules. (I hope I wrong and you can find easier solution)"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452713364, "post_id": 34767871, "comment_id": 57295916, "body": "this might be a bit crude, but have you thought of making this in typescript and check what the outputed js is? :)"}, {"owner": {"reputation": 815, "user_id": 3862050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbF1d.png?s=128&g=1", "display_name": "spozun", "link": "https://stackoverflow.com/users/3862050/spozun"}, "edited": false, "score": 3, "creation_date": 1453239173, "post_id": 34767871, "comment_id": 57512954, "body": "Don&#39;t forget you can just paste Typescript into here, and it will show you the ES5 very quickly:  <a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow noreferrer\">typescriptlang.org/Playground</a>"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 5784468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b9dc5f7f66cc9cda9a3df750919ef2?s=128&d=identicon&r=PG&f=1", "display_name": "MatsGA", "link": "https://stackoverflow.com/users/5784468/matsga"}, "edited": false, "score": 0, "creation_date": 1461068598, "post_id": 36536498, "comment_id": 61021676, "body": "Thank you for your reply. We changed our minds about ES5 and reimplemented using TypeScript, which was not at all as hard as we had feared. Thanks for the help though"}], "tags": [], "owner": {"reputation": 1027, "user_id": 464077, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/49f7c6e036a9bb6a04b04eca33a50869?s=128&d=identicon&r=PG", "display_name": "carlosdubusm", "link": "https://stackoverflow.com/users/464077/carlosdubusm"}, "is_accepted": true, "score": 2, "last_activity_date": 1460328839, "creation_date": 1460328839, "answer_id": 36536498, "question_id": 34767871, "link": "https://stackoverflow.com/questions/34767871/angular2-web-workers-with-es5/36536498#36536498", "title": "Angular2 web workers with ES5", "body": "<p>Can I ask, why do you want to do it with ES5? You can easily use SystemJS and ES6 if you don't like Typescript. Typescript would be almost identical to ES6.</p>\n\n<p>In case you still want to do it with ES5, you need to change the imports to require calls:</p>\n\n<pre><code>var WORKER_APP_PLATFORM = require(\"angular2/platform/worker_app\").WORKER_APP_PLATFORM;\nvar WORKER_APP_APPLICATION = require(\"angular2/platform/worker_app\").WORKER_APP_APPLICATION;\nvar platform = require(\"angular2/core\").platform;\nplatform([WORKER_APP_PLATFORM]).application([WORKER_APP_APPLICATION]).bootstrap(myApp)\n</code></pre>\n\n<p>Another example:</p>\n\n<pre><code>var Component = require('angular2/web_worker/worker').Component;\n</code></pre>\n\n<p>You get the idea. You also don't need RequireJS... You can use SystemJS. You should import the main file like this:</p>\n\n<pre><code>System.import(\"main\")\n</code></pre>\n\n<p>SystemJS will resolve all the require calls async, but in the code, the require calls look sync. </p>\n"}], "owner": {"reputation": 123, "user_id": 5784468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b9dc5f7f66cc9cda9a3df750919ef2?s=128&d=identicon&r=PG&f=1", "display_name": "MatsGA", "link": "https://stackoverflow.com/users/5784468/matsga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1477, "favorite_count": 2, "accepted_answer_id": 36536498, "answer_count": 1, "score": 12, "last_activity_date": 1494959543, "creation_date": 1452691369, "last_edit_date": 1494959543, "question_id": 34767871, "link": "https://stackoverflow.com/questions/34767871/angular2-web-workers-with-es5", "title": "Angular2 web workers with ES5", "body": "<p>I have gone down a path of using Angular2 but writing ES5 code, which means that the examples and guidance I find usually must be translated from answers relevant to TypeScript.</p>\n\n<p>Can someone help me with an ES5 version of:</p>\n\n<p>Bootstrapping the application. In TypeScript I see it done as:</p>\n\n<pre><code>import {WORKER_APP_PLATFORM, WORKER_APP_APPLICATION} from \"angular2/platform/worker_app\";\nimport {platform} from \"angular2/core\";\nplatform([WORKER_APP_PLATFORM]).application([WORKER_APP_APPLICATION]).bootstrap(myApp)\n</code></pre>\n\n<p>Accessing the web_workers component:</p>\n\n<pre><code>import {Component} from 'angular2/web_worker/worker';\n@Component({ ... ])\n</code></pre>\n\n<p>I assumed the latter would be achieved by calling </p>\n\n<pre><code>ng.web_worker.worker.Component({ ... })\n</code></pre>\n\n<p>But that seems to not be the case: ng.web_worker is undefined.</p>\n\n<p>The problem might be that I seem to not be able to include web_worker/ui.js properly. When I include it instead of bundles/angular2-all.umd.js I only get error messages about require being undefined. When I explicitly include RequireJS in my project I get a bunch of other errors. </p>\n\n<p>Any help will be greatly appreciated!</p>\n"}, {"tags": ["jquery", "mvvm", "typescript", "kendo-grid"], "owner": {"reputation": 1391, "user_id": 990423, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/dac55d6a9a1795d121a290394054bcb3?s=128&d=identicon&r=PG", "display_name": "user990423", "link": "https://stackoverflow.com/users/990423/user990423"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 228, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452691366, "creation_date": 1452691366, "question_id": 34767870, "link": "https://stackoverflow.com/questions/34767870/check-if-user-has-selected-any-grid-rows", "title": "Check if user has selected any grid rows", "body": "<p>I have the code below that will remove rows that a user has selected on a Kendo grid.  </p>\n\n<p>How would I check to see if user has NOT selected any rows (in order to display a message \"Please select a row to remove\") ?  </p>\n\n<pre><code>// Set reference to the grid;\nvar grid = $(\"#employeeGrid\").data(\"kendoGrid\");\nvar rows = new Array();\n\n$(\"#employeeGrid\").find(\"input:checked\").each(function () {\n    rows.push($(this).closest('tr'));\n\n    // set removed rows into a variable;\n    var dataItem = grid.dataItem($(this).closest('tr'));\n\n    // store dataItem in session Storage;\n    sessionStorage.setItem('removeRecords', JSON.stringify(dataItem));\n})\n\n//remove rows;\nrows.forEach(function (row) {\n    grid.removeRow(row);\n});\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 1, "creation_date": 1452693959, "post_id": 34767196, "comment_id": 57282273, "body": "It sounds like unhandled exception. If using Chrome to debug - make sure you have &quot;Pause on Caught Exceptions&quot; set to true. Just in case you might already handle it somewhere upper in the call stack."}, {"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1452695305, "post_id": 34767196, "comment_id": 57283263, "body": "The only logical explanation I can find is that somehow <code>populateTheDropBox</code> increases <code>SearchAllFormProperties.searchFormProperties.length</code> and causes the loop to run forever..."}, {"owner": {"reputation": 1100, "user_id": 4636482, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7RH32.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/4636482/sasha"}, "edited": false, "score": 0, "creation_date": 1452698262, "post_id": 34767196, "comment_id": 57285426, "body": "Aviad - No, I&#39;ve printed the index value - it is correct and the loop ends."}, {"owner": {"reputation": 1100, "user_id": 4636482, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7RH32.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/4636482/sasha"}, "edited": false, "score": 0, "creation_date": 1452698329, "post_id": 34767196, "comment_id": 57285483, "body": "Amid - Will do that. I have the working solution by avoiding the loop and duplicating some code, but this bugs me."}, {"owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "edited": false, "score": 0, "creation_date": 1452699285, "post_id": 34767196, "comment_id": 57286190, "body": "The loop ends and the <code>alert</code> isn&#39;t executed? -- Try a <code>console.log</code> instead see if that works."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1452723855, "creation_date": 1452723855, "answer_id": 34778227, "question_id": 34767196, "link": "https://stackoverflow.com/questions/34767196/strange-switch-operator-behaviour/34778227#34778227", "title": "Strange switch operator behaviour", "body": "<blockquote>\n  <p>unless I comment out line 24 of a same class i.e. populateTheDropBox call, however it gets to line 25 meaning it returned from populateTheDropBox method, but why doesn't it go back to setDefaultValues</p>\n</blockquote>\n\n<p>Based on your code you are calling <code>pushDataToUI</code> in a loop. Just because you get to line 25 <code>alert(\"after populateTheDropBox\");</code> <strong>once</strong> doesn't mean the loop is terminated. It might continue to execute (and probably has a javascript error at some point that crashes the call stack) and you might never get to <code>alert(\"End Of the loop.\");</code>. </p>\n"}], "owner": {"reputation": 1100, "user_id": 4636482, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7RH32.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/4636482/sasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452723855, "creation_date": 1452689380, "last_edit_date": 1452696278, "question_id": 34767196, "link": "https://stackoverflow.com/questions/34767196/strange-switch-operator-behaviour", "title": "Strange switch operator behaviour", "body": "<p>Good day all,</p>\n\n<p>I am really struggling to give the post proper heading (describing the problem), so please forgive me.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>I have the class with two methods as follows:</p>\n\n<pre><code>1  import FormPopulator = require(\"../util/FormPopulator\");\n2 \n3  class UIX {\n4    \n5     formPopulator: FormPopulator;\n6 \n7     contructor () {\n8         this.formPopulator = new FormPopulator();\n9     }\n10     \n11    public setDefaultValues(defaultValues: DefaultValues) {\n12        for (var i = 0; i &lt; SearchAllFormProperties.searchFormProperties.length; i++) {\n13            this.pushDataToUI(SearchAllFormProperties.searchFormProperties[i], defaultValues);\n14        }\n15        alert(\"End Of the loop.\");\n16    }\n17 \n18    public pushDataToUI(property: string, defaultValues: DefaultValues) {\n19        switch (property) {\n20            case \"textField\": \n21                (&lt;HTMLInputElement&gt; document.getElementById(\"textField\")).value = \"\";\n22                break;\n23            case \"dropDown\":\n24                this.formPopulator.populateTheDropBox(\"dropDown\", defaultValues.listOfValues);\n25                alert(\"after populateTheDropBox\");  \n26                break;\n27            default:\n28                alert(\"Property: \" + property + \" is not accepted.\");\n29        }\n30     }\n31  }\n</code></pre>\n\n<p><strong>Now</strong> - <code>setDefaultValues</code> is called, but the execution doesn't get to line <code>15</code> of class <strong>UIX</strong>, unless I comment out line <code>24</code> of a same class i.e. <code>populateTheDropBox</code> call, however it gets to line <code>25</code> meaning it returned from <code>populateTheDropBox</code> method, but why doesn't it go back to <code>setDefaultValues</code> ?</p>\n\n<pre><code>1  class FormPopulator {\n2      public populateTheDropBox(selectElementID: string, listOfElements: Array&lt;any&gt;) {\n3 \n4          // Get the combo box\n5          var selectElement = &lt;HTMLSelectElement&gt; document.getElementById(comboBoxID);\n6          // Reset the options \n7          selectElement.options.length = 0;\n8\n9          for (var i = 0; i &lt; listOfElements.length; i++) {\n10      \n11             var option = document.createElement(\"option\");\n12             option.value = \"\"+listOfElements[i].id;\n13             option.innerHTML = listOfElements[i].value;\n14      \n15             selectElement.appendChild(option);\n16         }\n17      }   \n18  }\n</code></pre>\n\n<p><strong>P.S.</strong> If I comment out the loop starting at line <code>9</code> of class <strong>FormPopulator</strong> - it return back to <code>setDefaultValues</code> and executes line <code>15</code> of class <strong>UIX</strong> i.e. <code>alert(\"End Of the loop.\");</code></p>\n\n<p>I am really struggling to explain this behaviour and there is no exceptions. </p>\n"}, {"tags": ["visual-studio", "reactjs", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1452723890, "post_id": 34766856, "comment_id": 57301446, "body": "Try VS code (or atom with atom-typescript)."}, {"owner": {"reputation": 259, "user_id": 5667929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89a8f38064bedc7cf2b7607fdf01cfc2?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/5667929/koent-x"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1452861107, "post_id": 34766856, "comment_id": 57364100, "body": "Will I be able to start a build, automatically launch a browser with my client app and set (and hit) breakpoints in the TypeScript code with VS Code?"}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 5667929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89a8f38064bedc7cf2b7607fdf01cfc2?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/5667929/koent-x"}, "is_accepted": true, "score": 0, "last_activity_date": 1453907473, "creation_date": 1453907473, "answer_id": 35041022, "question_id": 34766856, "link": "https://stackoverflow.com/questions/34766856/how-to-make-this-simple-typescript-react-app-work-with-visual-studio-2015/35041022#35041022", "title": "How to make this simple TypeScript + React app work with Visual Studio 2015?", "body": "<p>OK, after some more testing and trying, I got a basic example working.</p>\n\n<p>It's using the currently latest stable version of React (0.14.6, so where react and react-dom are split off), the AMD module loading system (using require.js), and VisualStudio 2015 CE, where you can debug in the IDE (when using Internet Explorer). I started from the \"HTML Application with TypeScript\" project template in Visual Studio.\nIt's still in the repository on GitHub I posted earlier: <a href=\"https://bitbucket.org/KoenT_IM/typescriptreacttests\" rel=\"nofollow\">https://bitbucket.org/KoenT_IM/typescriptreacttests</a></p>\n"}], "owner": {"reputation": 259, "user_id": 5667929, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/89a8f38064bedc7cf2b7607fdf01cfc2?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/5667929/koent-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 35041022, "answer_count": 1, "score": 2, "last_activity_date": 1453907473, "creation_date": 1452688359, "question_id": 34766856, "link": "https://stackoverflow.com/questions/34766856/how-to-make-this-simple-typescript-react-app-work-with-visual-studio-2015", "title": "How to make this simple TypeScript + React app work with Visual Studio 2015?", "body": "<p>After looking around for examples of TypeScript + React apps using the Visual Studio 2015 tool chain, I decided to try and make a simple example project myself, ready to check out from github, build and run.</p>\n\n<p>However, after spending several hours trying to make this work, I don't seem to get it going. Here is the public repository:\n<a href=\"https://bitbucket.org/KoenT_IM/typescriptreacttests.git\" rel=\"nofollow\">https://bitbucket.org/KoenT_IM/typescriptreacttests.git</a></p>\n\n<p>Could someone show me how to make this project build and run using Visual Studio 2015? Thanks!</p>\n\n<p>Note:\nI'm only interested in a setup for a web client app (front-end). The server for our actual project is built in C#/.NET (separate project). Communication between the two will be done using websockets.</p>\n"}, {"tags": ["typescript", "node-modules", "tsconfig"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1452724483, "creation_date": 1452724483, "answer_id": 34778365, "question_id": 34766219, "link": "https://stackoverflow.com/questions/34766219/typescript-module-resolution/34778365#34778365", "title": "typescript module resolution", "body": "<blockquote>\n  <p>I think that should be possible, if you look at angular's code they seem to have both, ie. in the http.ts module: <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/http/http.ts\" rel=\"nofollow\">https://github.com/angular/angular/blob/master/modules/angular2/src/http/http.ts</a></p>\n</blockquote>\n\n<p>Not Trivial. </p>\n\n<p>They have module resolution <code>classic</code> <a href=\"https://github.com/angular/angular/blob/6b73d09ba1d8c227d1b297341de2218aea5d1276/modules/angular2/tsconfig.json#L12\" rel=\"nofollow\">https://github.com/angular/angular/blob/6b73d09ba1d8c227d1b297341de2218aea5d1276/modules/angular2/tsconfig.json#L12</a> </p>\n\n<blockquote>\n  <p>import {Observable} from 'rxjs/Observable'; //this probably comes from node_modules</p>\n</blockquote>\n\n<p>The have a non trivial build pipeline specific to them that maps this to <code>node_modules</code>. See : <a href=\"https://github.com/angular/angular/blob/851647334040ec95d1ab2f376f6b6bb76ead0d9a/tools/broccoli/broccoli-typescript.ts#L271\" rel=\"nofollow\">https://github.com/angular/angular/blob/851647334040ec95d1ab2f376f6b6bb76ead0d9a/tools/broccoli/broccoli-typescript.ts#L271</a></p>\n"}], "owner": {"reputation": 179, "user_id": 5783821, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fa642da8c87d1daadf303e0c67f0602b?s=128&d=identicon&r=PG&f=1", "display_name": "user5783821", "link": "https://stackoverflow.com/users/5783821/user5783821"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4377, "favorite_count": 2, "accepted_answer_id": 34778365, "answer_count": 1, "score": 6, "last_activity_date": 1452724483, "creation_date": 1452686549, "last_edit_date": 1452686997, "question_id": 34766219, "link": "https://stackoverflow.com/questions/34766219/typescript-module-resolution", "title": "typescript module resolution", "body": "<p>Is there a typescript module resolution strategy that would allow me to have both local imports <strong>not</strong> starting with a slash and imports from node_modules in the same module?</p>\n\n<p>With \"moduleResolution\" set to \"node\" the compiler cannot find my local modules, with all other options it does not see the modules in node_modules directory I'm trying to import.</p>\n\n<p>I have the following imports in my file:</p>\n\n<pre><code>import {Injectable} from \"angular2/core\";\nimport {Logger} from \"core/logging/Logger\";\n</code></pre>\n\n<p>\"angular2/core\" is located in node_modules, \"core/logging/Logger\" is my local module.</p>\n\n<p>I think that should be possible, if you look at angular's code they seem to have both, ie. in the http.ts module:  <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/src/http/http.ts\">https://github.com/angular/angular/blob/master/modules/angular2/src/http/http.ts</a></p>\n\n<pre><code>import {Injectable} from 'angular2/core'; //this is local\nimport {Observable} from 'rxjs/Observable'; //this probably comes from node_modules\n</code></pre>\n\n<p>More background info:<br>\nI have a project consisting of two subprojects:<br>\n - library<br>\n - app<br>\nLibrary defines some utilities which app then uses. My build process first builds the 'library' subproject, then copies it (compiled js along with d.ts files) to 'library' subfolder in 'app's node_modules, then compiles the 'app'.</p>\n\n<p>In 'library' I have the following classes:</p>\n\n<pre><code>//file project/library/jsonparser/JSONParser.ts\nclass JSONParser {...} \n\n//file project/library/services/ConfigurationService.ts\nimport {JSONParser} from \"../jsonparser/JSONParser\"\nclass ConfigurationService {\n  constructor(parser: JSONParser){ ... }\n}\n</code></pre>\n\n<p>In 'app':</p>\n\n<pre><code>import {JSONParser} from \"library/jsonparser/JSONParser\" //this comes from node_modules in 'app'\nimport {ConfigurationService} from \"library/services/ConfigurationService\" //from node_modules\nclass AppConfigurationService extends ConfigurationService {\n  constructor(parser: JSONParser) {\n    super(parser);\n  }\n}\n</code></pre>\n\n<p>This won't compile as soon as JSONParser has any non public fields (they are imported from two different places so for typescript these are two different types). That is why I'm trying two import my modules without the slash at the start. But maybe there are other solutions to that?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 2027, "user_id": 3204942, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YF12O.jpg?s=128&g=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3204942/gary"}, "edited": false, "score": 0, "creation_date": 1452692252, "post_id": 34767143, "comment_id": 57281044, "body": "Thanks for the link."}], "tags": [], "owner": {"reputation": 2830, "user_id": 4717011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-V-f-_8e-I2k/AAAAAAAAAAI/AAAAAAAAFx4/jscVwpq206E/photo.jpg?sz=128", "display_name": "bertrandg", "link": "https://stackoverflow.com/users/4717011/bertrandg"}, "is_accepted": true, "score": 2, "last_activity_date": 1452689245, "creation_date": 1452689245, "answer_id": 34767143, "question_id": 34765821, "link": "https://stackoverflow.com/questions/34765821/can-anyone-point-me-to-a-working-code-or-complete-concept-tut-for-viewmetadata-i/34767143#34767143", "title": "Can anyone point me to a working code or complete concept tut for ViewMetadata in Angular2", "body": "<p><code>ViewEncapsulation.None</code>:\nNo Shadow DOM at all. Therefore, also no style encapsulation.</p>\n\n<p><code>ViewEncapsulation.Emulated</code>:\nNo Shadow DOM but style encapsulation emulation.</p>\n\n<p><code>ViewEncapsulation.Native</code>:\nNative Shadow DOM with all it\u2019s goodness.</p>\n\n<p>You got a well explained blog post with code samples here:\n<a href=\"http://blog.thoughtram.io/angular/2015/06/29/shadow-dom-strategies-in-angular2.html\" rel=\"nofollow\">http://blog.thoughtram.io/angular/2015/06/29/shadow-dom-strategies-in-angular2.html</a></p>\n"}], "owner": {"reputation": 2027, "user_id": 3204942, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/YF12O.jpg?s=128&g=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/3204942/gary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 34767143, "answer_count": 1, "score": -2, "last_activity_date": 1452689245, "creation_date": 1452685334, "question_id": 34765821, "link": "https://stackoverflow.com/questions/34765821/can-anyone-point-me-to-a-working-code-or-complete-concept-tut-for-viewmetadata-i", "title": "Can anyone point me to a working code or complete concept tut for ViewMetadata in Angular2", "body": "<p>I am trying to comprehend and link the concepts of viewmetadata and the basic usage for <code>encapsulation : ViewEncapsulation</code> , <code>ViewEncapsulation.Emulated</code> , and <code>ViewEncapsulation.None</code> <a href=\"https://angular.io/docs/ts/latest/api/core/ViewMetadata-class.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/core/ViewMetadata-class.html</a> . Can anyone point me to difference of two options cleanly and working code for the same?</p>\n"}, {"tags": ["javascript", "unit-testing", "typescript", "angular", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 271, "user_id": 3026160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iCFfd.jpg?s=128&g=1", "display_name": "Deniss B.", "link": "https://stackoverflow.com/users/3026160/deniss-b"}, "is_accepted": false, "score": 9, "last_activity_date": 1467043097, "last_edit_date": 1467043097, "creation_date": 1452690362, "answer_id": 34767536, "question_id": 34765413, "link": "https://stackoverflow.com/questions/34765413/angular2-mocking-routeparams-in-test/34767536#34767536", "title": "Angular2 - mocking RouteParams in test", "body": "<p>Managed to solve this myself, you mock RouteProvider by using <pre>provide(RouteParams, { useValue: new RouteParams({ id: '1' }) })</pre></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  it,\n  inject,\n  injectAsync,\n  describe,\n  beforeEach,\n  beforeEachProviders,\n  TestComponentBuilder\n} from 'angular2/testing';\n\nimport {Component, provide} from 'angular2/core';\nimport {BaseRequestOptions, Http} from 'angular2/http';\nimport {MockBackend} from 'angular2/http/testing';\nimport {RouteParams, ROUTER_PROVIDERS, ROUTER_PRIMARY_COMPONENT} from 'angular2/router';\n\n// Load the implementations that should be tested\nimport {Home} from './home';\nimport {Title} from './providers/title';\n\ndescribe('Home', () =&gt; {\n  // provide our implementations or mocks to the dependency injector\n\n  beforeEachProviders(() =&gt; [\n    Title,\n    Home,\n    provide(RouteParams, { useValue: new RouteParams({ id: '1' }) }),\n    BaseRequestOptions,\n    MockBackend,\n    provide(Http, {\n        useFactory: function(backend, defaultOptions) {\n            return new Http(backend, defaultOptions);\n        },\n        deps: [MockBackend, BaseRequestOptions]\n    })\n  ]);\n\n  it('should have a title', inject([ Home ], (home) =&gt; {\n    expect(home.title.value).toEqual('Angular 2');\n  }));\n\n  it('should have a http', inject([ Home ], (home) =&gt; {\n    expect(!!home.http).toEqual(true);\n  }));\n\n  it('should log ngOnInit', inject([ Home ], (home) =&gt; {\n    spyOn(console, 'log');\n    spyOn(console, 'info');\n    expect(console.log).not.toHaveBeenCalled();\n    expect(console.info).not.toHaveBeenCalled();\n\n    home.ngOnInit();\n    expect(console.log).toHaveBeenCalled();\n    expect(console.info).toHaveBeenCalledWith('1');\n  }));\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1744, "user_id": 530709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b659730682321c6a04326d3a75c5515?s=128&d=identicon&r=PG", "display_name": "Mathias", "link": "https://stackoverflow.com/users/530709/mathias"}, "is_accepted": true, "score": 1, "last_activity_date": 1509390393, "creation_date": 1509390393, "answer_id": 47022557, "question_id": 34765413, "link": "https://stackoverflow.com/questions/34765413/angular2-mocking-routeparams-in-test/47022557#47022557", "title": "Angular2 - mocking RouteParams in test", "body": "<p>For people who land here even though they are working with <strong>Angular4</strong></p>\n\n<p>I just went ahead and created a mock. I guess the trick is to mock the parts of the <code>ActivatedRoute</code> you need. for me this did it:</p>\n\n<pre><code>import {ActivatedRoute, ParamMap} from '@angular/router';\n\n/**\n * Mocking the ActivatedRoute which is injected in the Component on creation.\n * This allows for easier testing as values can be set as needed.\n */\nclass MockActivatedRoute {\n   paramMap = Observable.of(new Params());\n}\n\n/**\n * Bare bones implementation of ParamMap used in mock. Further tests can expand\n * on this implementation as needed.\n */\nclass Params implements ParamMap {\n  keys: string[];\n\n  private routes: {[key: string]: string|null} = {\n    subject: 'foo',\n    time: 'd-123-1',\n    device: 'all',\n    location: 'c-123'\n  };\n\n  constructor() {\n    this.keys = Object.keys(this.routes);\n  }\n\n  has(name: string): boolean {\n    throw new Error('Method not implemented.');\n  }\n  get(name: string): string|null {\n    return this.routes[name];\n  }\n  getAll(name: string): string[] {\n    throw new Error('Method not implemented.');\n  }\n}\n</code></pre>\n\n<p>And then make sure in your testing module you provide the mocked service over the real <code>ActivatedRoute</code>:</p>\n\n<pre><code>providers: [\n  {\n    provide: ActivatedRoute,\n    useValue: new MockActivatedRoute(),\n  }\n]\n</code></pre>\n\n<p>For completion, the way I use it in the Component I'm testing:</p>\n\n<pre><code>ngOnInit() {\n  this.route.paramMap\n      .map((params: ParamMap) =&gt; params.get('subject') as string)\n      .subscribe((subject: string) =&gt; this.subject = subject);\n}\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 3026160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iCFfd.jpg?s=128&g=1", "display_name": "Deniss B.", "link": "https://stackoverflow.com/users/3026160/deniss-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2803, "favorite_count": 1, "accepted_answer_id": 47022557, "answer_count": 2, "score": 9, "last_activity_date": 1509390393, "creation_date": 1452684324, "last_edit_date": 1467043117, "question_id": 34765413, "link": "https://stackoverflow.com/questions/34765413/angular2-mocking-routeparams-in-test", "title": "Angular2 - mocking RouteParams in test", "body": "<p>I am having some trouble injecting a mock for a RouteParams dependency in a test for an Angular2 component. My general thought is that I might be missing some providers.</p>\n\n<p>The tests fail with:</p>\n\n<pre>\nCannot resolve all parameters for 'RouteParams'(?). Make sure that all the parameters are decorated with Inject\nor have valid type annotations and that 'RouteParams' is decorated with Injectable.\n</pre>\n\n<p>Does anyone know what the issue might be?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  it,\n  inject,\n  injectAsync,\n  describe,\n  beforeEach,\n  beforeEachProviders,\n  TestComponentBuilder\n} from 'angular2/testing';\n\nimport {Component, provide} from 'angular2/core';\nimport {BaseRequestOptions, Http} from 'angular2/http';\nimport {MockBackend} from 'angular2/http/testing';\nimport {RouteParams, ROUTER_PROVIDERS, ROUTER_PRIMARY_COMPONENT} from 'angular2/router';\n\n// Load the implementations that should be tested\nimport {Home} from './home';\nimport {Title} from './providers/title';\n\ndescribe('Home', () =&gt; {\n  // provide our implementations or mocks to the dependency injector\n\n  beforeEachProviders(() =&gt; [\n    Title,\n    Home,\n    provide(RouteParams, { useValue: new RouteParams({ id: '1' }) }),\n    BaseRequestOptions,\n    MockBackend,\n    provide(Http, {\n        useFactory: function(backend, defaultOptions) {\n            return new Http(backend, defaultOptions);\n        },\n        deps: [MockBackend, BaseRequestOptions]\n    }),\n    provide(RouteParams, {\n        useFactory: function() {\n            return new RouteParams({ 'id':'1' });\n        }\n    })\n  ]);\n\n  it('should have a title', inject([ Home ], (home) =&gt; {\n    expect(home.title.value).toEqual('Angular 2');\n  }));\n\n  it('should have a http', inject([ Home ], (home) =&gt; {\n    expect(!!home.http).toEqual(true);\n  }));\n\n  it('should log ngOnInit', inject([ Home ], (home) =&gt; {\n    spyOn(console, 'log');\n    spyOn(console, 'info');\n    expect(console.log).not.toHaveBeenCalled();\n    expect(console.info).not.toHaveBeenCalled();\n\n    home.ngOnInit();\n    expect(console.log).toHaveBeenCalled();\n    expect(console.info).toHaveBeenCalledWith('1');\n  }));\n\n});\n</code></pre>\n"}, {"tags": ["arrays", "typescript"], "owner": {"reputation": 21667, "user_id": 539490, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f41bc8e21c00c13c6afa2da502f79367?s=128&d=identicon&r=PG", "display_name": "AJP", "link": "https://stackoverflow.com/users/539490/ajp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 211, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1452698511, "creation_date": 1452683485, "last_edit_date": 1452698511, "question_id": 34765138, "link": "https://stackoverflow.com/questions/34765138/subclass-native-array-in-typescript", "title": "Subclass native Array in TypeScript", "body": "<p>I'm trying to subclass of native Array so that I can add a method to it:</p>\n\n<pre><code>var a = new Array(0,1,2);  // =&gt; [0,1,2]\n\nclass MyArray extends Array&lt;number&gt; {\n    someMethod(a: number) {\n        return this[2] === a;\n    }\n}\n\nvar b = new MyArray(0,1,2);  // =&gt; Error.  Supplied parameters to do not match any signature of call target `constructor MyArray(): MyArray`\n</code></pre>\n\n<p>The <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#extending-expressions\" rel=\"nofollow\">TypeScript wiki post</a> announcing it's support in 1.6 doesn't shown an example of instantiation.</p>\n\n<p>** <strong>edit</strong> **</p>\n\n<p>The question was more like: is there a way to implement the subclass and retain the full functionality of the parent constructor which has a signature capable of dealing with instantiation by <code>new Array(0,1,2)</code>?</p>\n\n<p>I understand you can implement your own constructor and that the JavaScript compiled from the TypeScript does not work.</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-2015", "gulp", "task-runner-explorer"], "owner": {"reputation": 1496, "user_id": 787157, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/J7fKX.jpg?s=128&g=1", "display_name": "Gavin Sutherland", "link": "https://stackoverflow.com/users/787157/gavin-sutherland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1453286248, "creation_date": 1452679956, "last_edit_date": 1453286248, "question_id": 34763873, "link": "https://stackoverflow.com/questions/34763873/unkown-error-thrown-when-compiling-typescript-using-gulp-in-vs2015", "title": "UNKOWN error thrown when compiling typescript using Gulp in VS2015", "body": "<p>I have installed Visual Studio 2015 (with no other previous versions) on a new laptop and have pulled down the source for our MVC web app. We have a gulp file with tasks to compile our less and typescript.</p>\n\n<p>When running this task ...</p>\n\n<blockquote>\n  <p>cmd.exe /c gulp -b \"C:\\Code\\Trunk\\MyProj\\MyProj.Web\" --color --gulpfile \"C:\\Code\\Trunk\\MyProj\\MyProj.Web\\Gulpfile.js\" typescript</p>\n</blockquote>\n\n<p>... I get the following error:</p>\n\n<pre><code>[09:43:16] Using gulpfile C:\\Code\\Trunk\\MyProj\\MyProj.Web\\Gulpfile.js\n[09:43:16] Starting 'typescript'...\n[09:43:34] Plumber found unhandled error:\n Error: UNKNOWN, open 'C:\\Code\\Trunk\\MyProj\\MyProj.Web\\app\\allergy\\main.js'\nProcess terminated with code 0.\n</code></pre>\n\n<p>Here is the task in the gulp file (with other parts removed for brevity):</p>\n\n<pre><code>var gulp = require(\"gulp\");\nvar plumber = require(\"gulp-plumber\");\nvar sourcemaps = require(\"gulp-sourcemaps\");\nvar typescript = require(\"gulp-typescript\");\nvar merge = require(\"merge2\");\n\nvar paths = {\n    typescript: {\n        globpatterns: {\n            all: \"./Scripts/**/*.ts\",\n            excludedefinitions: \"!./Scripts/**/*.d.ts\"\n        }\n    }\n};\n\ngulp.task(\"typescript\", function () {\n    var result = gulp.src([\n            paths.typescript.globpatterns.all,\n            paths.typescript.globpatterns.excludedefinitions\n        ])\n        .pipe(plumber())\n        .pipe(sourcemaps.init())\n        .pipe(typescript({\n            removeComments: true,\n            declarationFiles: false,\n            noImplicitAny: false,\n            noEmitOnError: true,\n            module: \"amd\",\n            target: \"ES5\"\n        }));\n\n    return merge([\n        result.js.pipe(gulp.dest(\"./\")),\n        result.pipe(sourcemaps.write()).pipe(gulp.dest(\"./\"))\n    ]);\n});\n</code></pre>\n\n<ul>\n<li>My colleague has the same set-up as me and gets no error.</li>\n<li>Typescript is set to version 1.0 in the project file (<code>&lt;TypeScriptToolsVersion&gt;1.0&lt;/TypeScriptToolsVersion&gt;</code>) and I can't change this just now. I wondered if the reason was beacuse I don't have this version installed on my machine but my colleague doesn't either. <code>C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript</code> only has a folder for <code>1.7</code></li>\n<li>I noticed that the task completes successfully if I remove either of the 2 lines with in the merge block.</li>\n<li>It's a different .js file in the error message each time</li>\n</ul>\n\n<p>I searched the web to see what the UNKNOWN error even means but couldn't find anything obvious / helpful. Anyone know how to fix this error? Or how I go about finding out why it's being thrown?</p>\n\n<p><strong>EDIT 20-Jan-2016</strong></p>\n\n<p>So, I was getting this error consistently for about a week ... and now it has stopped happening. I haven't made any changes to my development environment either. I'd like to leave this question open since I'm curious as to why this happened.</p>\n"}, {"tags": ["visual-studio", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 6259, "user_id": 35233, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f72109ece794c5a8428b95bdb31d8d0?s=128&d=identicon&r=PG", "display_name": "Chris Chilvers", "link": "https://stackoverflow.com/users/35233/chris-chilvers"}, "edited": false, "score": 1, "creation_date": 1452680781, "post_id": 34763264, "comment_id": 57273275, "body": "Check the <code>&lt;TypeScriptToolsVersion&gt;</code> in the project file. Normally VS offers to update this for you, but maybe in this case VS did not."}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "reply_to_user": {"reputation": 6259, "user_id": 35233, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f72109ece794c5a8428b95bdb31d8d0?s=128&d=identicon&r=PG", "display_name": "Chris Chilvers", "link": "https://stackoverflow.com/users/35233/chris-chilvers"}, "edited": false, "score": 0, "creation_date": 1452684010, "post_id": 34763264, "comment_id": 57275602, "body": "@ChrisChilvers haha the project states 1.6 ...... <code>&lt;TypeScriptToolsVersion&gt;1.6&lt;&#47;TypeScriptToolsVersion&gt;</code>"}, {"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "reply_to_user": {"reputation": 6259, "user_id": 35233, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2f72109ece794c5a8428b95bdb31d8d0?s=128&d=identicon&r=PG", "display_name": "Chris Chilvers", "link": "https://stackoverflow.com/users/35233/chris-chilvers"}, "edited": false, "score": 0, "creation_date": 1452684157, "post_id": 34763264, "comment_id": 57275701, "body": "@ChrisChilvers and annoyingly, this didnt fix it... I don&#39;t understand why this is difficult for the Typescript and VS team...."}], "answers": [{"comments": [{"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1452759286, "post_id": 34779086, "comment_id": 57313095, "body": "yeah not a bad shout that!"}], "tags": [], "owner": {"reputation": 46, "user_id": 5787114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b0a3f4eea0505e9fa34a3f160514a4?s=128&d=identicon&r=PG&f=1", "display_name": "Schalk Bower", "link": "https://stackoverflow.com/users/5787114/schalk-bower"}, "is_accepted": true, "score": 3, "last_activity_date": 1452728023, "creation_date": 1452728023, "answer_id": 34779086, "question_id": 34763264, "link": "https://stackoverflow.com/questions/34763264/typescript-visual-studio-2015-claims-version-1-4-instead-of-1-7-6/34779086#34779086", "title": "Typescript Visual Studio 2015 claims version 1.4 instead of 1.7.6", "body": "<p>Do you have resharper installed? </p>\n\n<p>I have resharper 9.2 installed and that doesn't understand TypeScript 1.7.6 so it's autodetect feature doesn't work.</p>\n\n<p>Open up Resharper Options -> TypeScript -> Inspections and change Auto-detection to the latest version of TypeScript that shows up.</p>\n"}], "owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 34779086, "answer_count": 1, "score": 2, "last_activity_date": 1452742973, "creation_date": 1452678479, "question_id": 34763264, "link": "https://stackoverflow.com/questions/34763264/typescript-visual-studio-2015-claims-version-1-4-instead-of-1-7-6", "title": "Typescript Visual Studio 2015 claims version 1.4 instead of 1.7.6", "body": "<p>I have installed Typescript 1.7.6 for Visual Studio 2015, I'm getting VS telling me that I'm using 1.4 .... why? How do I get VS to recognise the 1.7.6 compiler....</p>\n\n<p><a href=\"https://i.stack.imgur.com/HtIlB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtIlB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-directive", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "edited": false, "score": 0, "creation_date": 1452683429, "post_id": 34764819, "comment_id": 57275184, "body": "Thank you! I <i>did</i> save the watcher, so I&#39;ll make sure to invoke the function."}, {"owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "edited": false, "score": 0, "creation_date": 1452683498, "post_id": 34764819, "comment_id": 57275238, "body": "The reason why it&#39;s implemented that way is because I want to update the model when <code>A</code> updated, or the collection is changed. Is this achievable without using listeners?"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "reply_to_user": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "edited": false, "score": 0, "creation_date": 1452684032, "post_id": 34764819, "comment_id": 57275618, "body": "You can  set <code>$watch</code> to do a so-called &quot;deep watch&quot; by setting the third argument to <code>true</code>. <code>$scope.$watch(&quot;model&quot;, listenerFn, true);</code>. See the Docs for more info."}, {"owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "edited": false, "score": 0, "creation_date": 1452686703, "post_id": 34764819, "comment_id": 57277360, "body": "Thank you, @georgeawg! :) I&#39;ll look at it!"}], "tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": true, "score": 2, "last_activity_date": 1453117967, "last_edit_date": 1453117967, "creation_date": 1452682554, "answer_id": 34764819, "question_id": 34762925, "link": "https://stackoverflow.com/questions/34762925/watching-a-deleted-model/34764819#34764819", "title": "Watching a deleted model?", "body": "<p>Both <code>$watch</code> and <code>$watchcollection</code> continue to watch during digest cycles. If the item of interest becomes defined again, the <code>$rootScope</code> executes the registered listener function. You can de-register the watcher by calling the de-register function that was returned when the <code>$watch</code> was registered. (You <strong>did</strong> save it, didn't you?)</p>\n\n<pre><code>var deRegisterFn = $scope.$watchCollection('model', function (newValue) {\n      console.log(newValue);\n});\n\ndelete $scope.model;\ndeRegisterFn();\n</code></pre>\n\n<p>Otherwise the watcher remains until the scope is destroyed.</p>\n\n<p>For more information on <code>$watch</code>, see the <a href=\"https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch\" rel=\"nofollow\">AngularJS $rootScope.scope API Reference -- $watch</a>.</p>\n\n<p>BTW, your example, adding watchers inside a listening function is very strange. AngularJS is not jQuery and even in the jQuery community there are people who discourage binding and unbinding of listeners. Some even calling it an <strong>Anti-pattern</strong>.</p>\n\n<h2>Update: objectEquality AKA Deep-Watch</h2>\n\n<p><code>$watch(watchExpression, listener, [objectEquality]);</code></p>\n\n<ul>\n<li>When <code>objectEquality == true</code>, inequality of the <code>watchExpression</code> is determined\n     according to the <a href=\"https://docs.angularjs.org/api/ng/function/angular.equals\" rel=\"nofollow\">angular.equals</a> function. To save the value of the object for\n    later comparison, the <a href=\"https://docs.angularjs.org/api/ng/function/angular.copy\" rel=\"nofollow\">angular.copy</a> function is used. This therefore means that\n    watching complex objects will have adverse memory and performance implications.</li>\n</ul>\n\n<p>For performance reasons the <code>$watch</code> function uses a \"shallow watch\". The author of the question needed a \"deep watch\" of his object. Being unaware of the \"objectEquality\" option, also known as (AKA) the \"deep watch\" option, he solved his problem by adding and removing watches on properties of his model. The \"deep watch\" option solved his problem in a cleaner, more elegant manner. Thus obviating the need to add and remove watches.</p>\n\n<p>For more information on <code>$watch</code>, see the <a href=\"https://docs.angularjs.org/api/ng/type/$rootScope.Scope#$watch\" rel=\"nofollow\">AngularJS $rootScope.scope API Reference -- $watch</a>.</p>\n"}], "owner": {"reputation": 2832, "user_id": 690920, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PCCMa.jpg?s=128&g=1", "display_name": "Leonard", "link": "https://stackoverflow.com/users/690920/leonard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 34764819, "answer_count": 1, "score": 1, "last_activity_date": 1453117967, "creation_date": 1452677531, "last_edit_date": 1453114381, "question_id": 34762925, "link": "https://stackoverflow.com/questions/34762925/watching-a-deleted-model", "title": "Watching a deleted model?", "body": "<p>Consider this psuedo-code: </p>\n\n<pre><code>$scope.model = [{ A: 'a', B: 'b' }, { A: 'c', B: 'd' }];\n\n$scope.$watchCollection('model', (model) =&gt; {\n  for (var i = 0; i &lt; model.length; i += 1) {\n    $scope.$watch('model[' + i + '].A', () =&gt; ...);\n  }\n});\n</code></pre>\n\n<p>What happens the watch expression if I <code>delete $scope.model[1]</code>? Would it be a \"memory leak\", a zombie, or some other leakiness?</p>\n\n<p><strong>Edit</strong> This method offers a terrible solution to an already solved problem. I ended up using angularjs equality check instead of reference check. Refer to the documentation for $watch.</p>\n"}, {"tags": ["angular", "typescript", "loops"], "answers": [{"tags": [], "owner": {"reputation": 239, "user_id": 5098110, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sb2eN.jpg?s=128&g=1", "display_name": "harmoniemand", "link": "https://stackoverflow.com/users/5098110/harmoniemand"}, "is_accepted": false, "score": 3, "last_activity_date": 1452677719, "last_edit_date": 1495541856, "creation_date": 1452677719, "answer_id": 34762987, "question_id": 34762821, "link": "https://stackoverflow.com/questions/34762821/how-to-iterate-json-object-in-angular-2/34762987#34762987", "title": "How to iterate JSON object in Angular 2?", "body": "<p>You can use the ng-for directive.</p>\n\n<p>Have a look at this.\n<a href=\"https://coryrylan.com/blog/angular-2-ng-for-syntax\" rel=\"nofollow noreferrer\">angular-2-ng-for-syntax</a></p>\n\n<p>And you should convert your object to an array. Have a look here: <a href=\"https://stackoverflow.com/questions/6857468/a-better-way-to-convert-js-object-to-array\">a-better-way-to-convert-js-object-to-array</a></p>\n"}], "owner": {"reputation": 101, "user_id": 2522448, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/304642dab4418aa1596048de7b63b2fc?s=128&d=identicon&r=PG", "display_name": "Zeyar Phyo Maung", "link": "https://stackoverflow.com/users/2522448/zeyar-phyo-maung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11191, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1549892704, "creation_date": 1452677264, "last_edit_date": 1549892704, "question_id": 34762821, "link": "https://stackoverflow.com/questions/34762821/how-to-iterate-json-object-in-angular-2", "title": "How to iterate JSON object in Angular 2?", "body": "<p>Let's say I have a JSON like this:</p>\n\n<pre><code>{\n    \"A\": [\n            {\"name\": \"Aa\", \"count\": \"21\"},\n            {\"name\": \"Ab\", \"count\": \"54\"}\n         ],\n\n    \"B\": [\n            {\"name\": \"Ba\", \"count\": \"30\"},\n            {\"name\": \"Bb\", \"count\": \"22\"}\n         ],\n\n    \"C\": [\n            {\"name\": \"Ca\", \"count\": \"40\"},\n            {\"name\": \"Cb\", \"count\": \"33\"}\n         ],\n}\n</code></pre>\n\n<p>Output HTML should like this:</p>\n\n<pre><code>[A]\nAa 21\nAb 54\n\n[B]\nBa 30\nBb 22\n\n[C]\nCa 40\nCb 33\n</code></pre>\n\n<p>How can I iterate using <strong>angular2 Beta</strong> version?</p>\n"}, {"tags": ["angular", "typescript", "web-component"], "answers": [{"comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1452675506, "post_id": 34761937, "comment_id": 57269579, "body": "You can also use the <code>ngSrc</code> directive."}, {"owner": {"reputation": 1858, "user_id": 3149635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6OJea.jpg?s=128&g=1", "display_name": "dKab", "link": "https://stackoverflow.com/users/3149635/dkab"}, "reply_to_user": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 1, "creation_date": 1452676966, "post_id": 34761937, "comment_id": 57270531, "body": "@georgeawg you sure you aren&#39;t talking about angular 1?"}, {"owner": {"reputation": 1858, "user_id": 3149635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6OJea.jpg?s=128&g=1", "display_name": "dKab", "link": "https://stackoverflow.com/users/3149635/dkab"}, "edited": false, "score": 0, "creation_date": 1452677355, "post_id": 34761937, "comment_id": 57270815, "body": "Although, it doesn&#39;t adress my question directly but it solved my problem."}, {"owner": {"reputation": 841, "user_id": 1370600, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/om1E9.png?s=128&g=1", "display_name": "Hristo Venev", "link": "https://stackoverflow.com/users/1370600/hristo-venev"}, "edited": false, "score": 0, "creation_date": 1464602886, "post_id": 34761937, "comment_id": 62537761, "body": "does not delay instantiation and does not work if the component contains a router"}], "tags": [], "owner": {"reputation": 656, "user_id": 5550503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oFWtI.jpg?s=128&g=1", "display_name": "George Lee", "link": "https://stackoverflow.com/users/5550503/george-lee"}, "is_accepted": true, "score": 3, "last_activity_date": 1452674549, "creation_date": 1452674549, "answer_id": 34761937, "question_id": 34761712, "link": "https://stackoverflow.com/questions/34761712/how-to-delay-component-instantiation-until-data-from-service-is-received-in-angu/34761937#34761937", "title": "How to delay component instantiation until data from service is received in Angular 2?", "body": "<p>One way would be to use the <a href=\"https://angular.io/docs/ts/latest/api/common/NgIf-directive.html\" rel=\"nofollow\"><code>ngIf</code></a> directive.</p>\n\n<p>Something like...</p>\n\n<pre><code>&lt;img *ngIf=\"user.avatar\" class=\"user-avatar\" [src]=\"'data:image/png;base64,' + user.avatar\"&gt;\n</code></pre>\n\n<p>Then the element won't then be rendered in the page until the <code>user.avatar</code> is truthy.</p>\n"}, {"comments": [{"owner": {"reputation": 1858, "user_id": 3149635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6OJea.jpg?s=128&g=1", "display_name": "dKab", "link": "https://stackoverflow.com/users/3149635/dkab"}, "edited": false, "score": 0, "creation_date": 1550045311, "post_id": 54638134, "comment_id": 96120954, "body": "Isn&#39;t usage of resolvers limited to components that get created by router for a certain route? Or you can use resolvers with any component?"}, {"owner": {"reputation": 299, "user_id": 4605468, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7bf37614ca1c90b3c4d0aedbf79db99f?s=128&d=identicon&r=PG&f=1", "display_name": "Ales", "link": "https://stackoverflow.com/users/4605468/ales"}, "reply_to_user": {"reputation": 1858, "user_id": 3149635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6OJea.jpg?s=128&g=1", "display_name": "dKab", "link": "https://stackoverflow.com/users/3149635/dkab"}, "edited": false, "score": 0, "creation_date": 1550085920, "post_id": 54638134, "comment_id": 96144874, "body": "@dKab Yes you have to specify a resolver inside your router. I assumed you load your component this way. Then you should use *ngIf as mentioned above. You could also try using user?.avatar. This might work aswell."}], "tags": [], "owner": {"reputation": 299, "user_id": 4605468, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/7bf37614ca1c90b3c4d0aedbf79db99f?s=128&d=identicon&r=PG&f=1", "display_name": "Ales", "link": "https://stackoverflow.com/users/4605468/ales"}, "is_accepted": false, "score": 0, "last_activity_date": 1549915014, "creation_date": 1549915014, "answer_id": 54638134, "question_id": 34761712, "link": "https://stackoverflow.com/questions/34761712/how-to-delay-component-instantiation-until-data-from-service-is-received-in-angu/54638134#54638134", "title": "How to delay component instantiation until data from service is received in Angular 2?", "body": "<p>Previous answer is correct but there is another option.\nTo delay your component to be loaded until some service is resolved then you can use <a href=\"https://angular.io/api/router/Resolve\" rel=\"nofollow noreferrer\">Resolvers</a>.</p>\n\n<p>Here is some <a href=\"https://codeburst.io/understanding-resolvers-in-angular-736e9db71267\" rel=\"nofollow noreferrer\">good blog post</a> that describes implementing one.</p>\n\n<p>Basically Component that has resolver specified doesn't load until promise/observable inside resolver is resolved.</p>\n"}], "owner": {"reputation": 1858, "user_id": 3149635, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6OJea.jpg?s=128&g=1", "display_name": "dKab", "link": "https://stackoverflow.com/users/3149635/dkab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3484, "favorite_count": 2, "accepted_answer_id": 34761937, "answer_count": 2, "score": 6, "last_activity_date": 1549915014, "creation_date": 1452673783, "last_edit_date": 1549910030, "question_id": 34761712, "link": "https://stackoverflow.com/questions/34761712/how-to-delay-component-instantiation-until-data-from-service-is-received-in-angu", "title": "How to delay component instantiation until data from service is received in Angular 2?", "body": "<p>I have a service wich fetches data from server with its <code>get</code> method:</p>\n\n<pre><code>export class UserService implements IRestService&lt;User&gt; {\n    constructor(public http: Http) {\n    }\n\n    get(): Rx.Observable&lt;User&gt; {\n        return this.http.get('api/ui_user', &lt;any&gt; {\n            headers: {'Accept': 'application/json'}\n            })\n            .toRx()\n            .map(res =&gt; res.json());\n    }\n</code></pre>\n\n<p>And I have a component which uses this service.</p>\n\n<pre><code>constructor(emplService: EmployeesService, userService: UserService){\n    this.emplService = emplService;\n    this.isDisplayMenu = false;\n    this.user = new User();\n\n    userService.get()\n        .subscribe(usr =&gt; {\n            this.user = usr;\n        });\n}\n</code></pre>\n\n<p>Because data is fetched asyncronously, the component is instantiated and rendered, and only after that data is received. View gets populated with data and looks good eventually but at first I have an error in console:</p>\n\n<pre><code>GET data:image/png;base64,undefined net::ERR_INVALID_URL\n</code></pre>\n\n<p>It happens in my view:</p>\n\n<pre><code> &lt;img class=\"user-avatar\" [src]=\"'data:image/png;base64,' + user.avatar\"&gt;\n</code></pre>\n\n<p>I want the component to wait until data is received before it rendered itself. Is this possible? I was thinking about <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"noreferrer\">lifecycle hooks</a> but documentation is so poor I can't understand it.</p>\n"}, {"tags": ["typescript", "angular", "angular2-directives"], "comments": [{"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1452681172, "post_id": 34761399, "comment_id": 57273562, "body": "Hi Naftis. I tried to use your plunk but I can&#39;t fill the ace area. Is it something normal?"}, {"owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "reply_to_user": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1452685168, "post_id": 34761399, "comment_id": 57276381, "body": "Hi, thanks, no it&#39;s not normal. It&#39;s part of the issue, but I cannot see any error message logged from the console. I tried a number of changes in a local copy, and found that at least for data binding I can solve by adding the $event parameter to the call, e.g.[text]=&quot;xml&quot; (textChanged)=&quot;onXmlChanged($event). Not sure about why Plunker is not even showing the editor."}], "answers": [{"comments": [{"owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "edited": false, "score": 0, "creation_date": 1452689442, "post_id": 34767095, "comment_id": 57279173, "body": "Thanks you&#39;re right, I had forgotten to add the import in the app.ts! As for $event, I had just found this. I updated the post before I could read this, yet the &quot;endless update&quot; issue remains."}], "tags": [], "owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "is_accepted": true, "score": 3, "last_activity_date": 1452689091, "creation_date": 1452689091, "answer_id": 34767095, "question_id": 34761399, "link": "https://stackoverflow.com/questions/34761399/angular2-2-way-databinding-between-parent-component-and-directive/34767095#34767095", "title": "Angular2 2-way databinding between parent component and directive", "body": "<p>You forgot to add</p>\n\n<pre><code>directives: [EditorComponent]\n</code></pre>\n\n<p>in your app.ts file. Currently the <code>directives</code> array is empty (<code>[]</code>) in your plunker. Just make this change and it works, and if you set <code>onXmlChanged($event)</code> it won't even error out when you type inside the editor :)</p>\n"}], "owner": {"reputation": 4109, "user_id": 632116, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f212eab3236d816ea152f326b9280ca2?s=128&d=identicon&r=PG", "display_name": "Naftis", "link": "https://stackoverflow.com/users/632116/naftis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 750, "favorite_count": 1, "accepted_answer_id": 34767095, "answer_count": 1, "score": 2, "last_activity_date": 1452689221, "creation_date": 1452672734, "last_edit_date": 1452689221, "question_id": 34761399, "link": "https://stackoverflow.com/questions/34761399/angular2-2-way-databinding-between-parent-component-and-directive", "title": "Angular2 2-way databinding between parent component and directive", "body": "<p><strong>See update below</strong></p>\n\n<p>Still playing with Angular2 Beta, I'm trying to implement a scenario where an \"editor\" component template contains a directive wrapping the Ace editor. Thus, the \"editor\" component is the parent of the Ace wrapper directive, and I want to get the code from the directive or set the code into it.</p>\n\n<p>While the directive alone works fine, when I include it in this component I get nothing displayed; yet no errors are shown in the browser's console. You can find a <strong>repro</strong> at this Plunker: <a href=\"http://plnkr.co/edit/kzclJLIX6hRMWa14A0Pb\" rel=\"nofollow\">http://plnkr.co/edit/kzclJLIX6hRMWa14A0Pb</a>.</p>\n\n<p>In my implementation, the <code>ace.directive</code> directive wrapping the Ace editor  has a <code>text</code> property and a <code>textChanged</code> event.</p>\n\n<pre><code>import {Component,Directive,EventEmitter,ElementRef} from 'angular2/core';\ndeclare var ace: any;\n\n@Directive({\n    selector: \"ace-editor\",\n    inputs: [\n        \"text\"\n    ],\n    outputs: [\n        \"textChanged\"\n    ]\n})\nexport class AceDirective { \n    private editor : any;\n    private settingText : boolean;\n    public textChanged: EventEmitter&lt;string&gt;;\n\n    set text(s: string) {\n        let sOld = this.editor.getValue();\n        if (sOld === s) return;\n\n        this.settingText = true;\n        this.editor.setValue(s);\n        this.editor.clearSelection();\n        this.editor.focus();\n        this.settingText = false;\n    }\n\n    constructor(elementRef: ElementRef) {\n        var dir = this;\n        this.textChanged = new EventEmitter&lt;string&gt;();\n\n        let el = elementRef.nativeElement;\n        this.editor = ace.edit(el);\n\n        this.editor.on(\"change\", (e) =&gt; {\n            if (dir.settingText) return;\n            dir.textChanged.next(dir.editor.getValue());\n        });\n    }\n}\n</code></pre>\n\n<p>The <code>editor.component</code> component uses the directive: it has an <code>xml</code> property representing the XML code being edited. Its template contains the directive as follows:</p>\n\n<pre><code>&lt;ace-editor id=\"editor\" [text]=\"xml\" (textChanged)=\"onXmlChanged()\"&gt;&lt;/ace-editor&gt;\n</code></pre>\n\n<p>i.e. the directive's <code>text</code> property is bound to the parent component's <code>xml</code>\nproperty, and the directive's <code>textChanged</code> event is handled by the parent's\n<code>onXmlChanged</code> function.</p>\n\n<p>This being a 2-way databinding, AFAIK I could also try:</p>\n\n<pre><code>&lt;ace-editor id=\"editor\" [(ngModel)]=\"xml\"&gt;&lt;/ace-editor&gt;\n</code></pre>\n\n<p>Here is the editor's code:</p>\n\n<pre><code>import {Component,EventEmitter} from \"angular2/core\";\nimport {AceDirective} from \"./ace.directive\";\n\n@Component({\n    selector: \"mit-editor\",\n    directives: [AceDirective],\n    template: `&lt;div&gt;\n      &lt;ace-editor id=\"editor\" [text]=\"xml\" (textChanged)=\"onXmlChanged()\"&gt;&lt;/ace-editor&gt;\n    &lt;/div&gt;\n    `,\n    inputs: [\n        \"xml\"\n    ]\n})\nexport class EditorComponent { \n    public xml: string;\n\n    constructor() {\n        this.xml = \"\";\n    }\n\n    public onXmlChanged(xml: string) {\n        this.xml = xml;\n    }\n}\n</code></pre>\n\n<p><strong>Update #1</strong>\nFor some reason, the Plunker does not transpile and load my .ts files other than the preexisting ones, so I continued troubleshooting locally.</p>\n\n<p>As for the question, I found I have to add the <code>$event</code> argument to the call in the template (see my comment). My directive is now:</p>\n\n<pre><code>import {Component,Directive,EventEmitter,ElementRef} from 'angular2/core';\ndeclare var ace: any;\n\n@Directive({\n    selector: \"ace-editor\",\n    inputs: [\n        \"text\"\n    ],\n    outputs: [\n        \"textChanged\"\n    ]\n})\nexport class AceDirective { \n    private editor : any;\n    public textChanged: EventEmitter&lt;string&gt;;\n\n    set text(s: string) {\n        if (s === undefined) return;\n        let sOld = this.editor.getValue();\n        if (sOld === s) return;\n\n        this.editor.setValue(s);\n        this.editor.clearSelection();\n        this.editor.focus();\n    }\n\n    get text() {\n        return this.editor.getValue();\n    }\n\n    constructor(elementRef: ElementRef) {\n        var dir = this;\n        this.textChanged = new EventEmitter&lt;string&gt;();\n\n        let el = elementRef.nativeElement;\n        this.editor = ace.edit(el);\n        let session = this.editor.getSession();\n        session.setMode(\"ace/mode/xml\");\n        session.setUseWrapMode(true);\n\n        this.editor.on(\"change\", (e) =&gt; {\n            let s = dir.editor.getValue();\n            dir.textChanged.next(s);\n        });\n    }\n}\n</code></pre>\n\n<p>The editor component template contains the directive like this:</p>\n\n<pre><code>&lt;ace-editor id=\"editor\" [text]=\"xml\" (textChanged)=\"onXmlChanged($event)\"&gt;&lt;/ace-editor&gt;\n</code></pre>\n\n<p>Anyway, note that if I now try to programmatically set the editor's component <code>xml</code> property, Angular starts and endless loop as the change triggers the event on the ace editor which emits the event which sets the <code>xml</code> property again, and so forth. Probably it's just me doing something wrong, but currently I had to use this hack in the code, and of course I don't like it:):</p>\n\n<pre><code>// ...\nexport class EditorComponent { \n    private _xml: string;\n    private _changeFrozenCount: number;\n\n    public set xml(s: string) {\n        this._xml = s; \n    }\n    public get xml() : string {\n        return this._xml;\n    }\n\n    constructor(private editorService: EditorService, private xmlService: XmlService) {\n        this._xml = \"\";\n    }\n\n    public onXmlChanged(xml: string) {\n        if (this._changeFrozenCount &gt; 0) {\n            this._changeFrozenCount--;\n            return;\n        }\n        this._xml = xml;\n    }\n\n    public changeXml() {\n        this._changeFrozenCount = 1;\n        this._xml = \"&lt;sample&gt;Hello&lt;/sample&gt;\"\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452682782, "post_id": 34762577, "comment_id": 57274702, "body": "Neither of these seem to work for me. I tried explicitly setting the testChange emitter to @Ouput() and tried being type-specifc with the &lt;T&gt; value, but it just doesn&#39;t fire the ngOnchanges in the directive."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452683015, "post_id": 34762577, "comment_id": 57274858, "body": "Which version of Angular2 do you use because I made it work with the beta0 one?"}, {"owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452683274, "post_id": 34762577, "comment_id": 57275066, "body": "I&#39;m also on beta.0. Your testChange declaration is invalid for me as well (have to either assign &lt;T&gt; or forego the type declaration and go straight to: testChange = new EventEmitter();) Am I supposed to subscribe in some special way in my directive for it to register the eventEmitter?"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452683940, "post_id": 34762577, "comment_id": 57275551, "body": "No, the event is detected by Angular itself and it triggers the <code>onChanges</code> method..."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452684129, "post_id": 34762577, "comment_id": 57275683, "body": "I hust saw in your code that you don&#39;t use an <code>@Input</code> for your <code>test</code> field within the <code>MyDirective</code> component..."}, {"owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452687583, "post_id": 34762577, "comment_id": 57277938, "body": "That&#39;s because I declared the inputs in the inputs array in the @Component decorator (I have also tried it with the @Input())"}, {"owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452689564, "post_id": 34762577, "comment_id": 57279254, "body": "Doh - of course your code works, I wasn&#39;t paying attention. In your code you specifically set this.test to a NEW object - just like the code I have that works. When you ONLY change the child property, it doesn&#39;t work"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 0, "creation_date": 1452694881, "post_id": 34762577, "comment_id": 57282938, "body": "Oh my god! You&#39;re right... I investigated a bit more and get some feedbacks from angular github. I updated my answer accordingly."}, {"owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "edited": false, "score": 2, "creation_date": 1452764524, "post_id": 34762577, "comment_id": 57316205, "body": "I see... Well, that&#39;s disappointing. Honestly, I think it should be possible to decide whether or not you need deep-comparison. The performance can&#39;t be that bad, if pretty much every other js framework supports it."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 15, "last_activity_date": 1452694830, "last_edit_date": 1452694830, "creation_date": 1452676500, "answer_id": 34762577, "question_id": 34761224, "link": "https://stackoverflow.com/questions/34761224/angular2-child-property-change-not-firing-update-on-bound-property/34762577#34762577", "title": "Angular2 child property change not firing update on bound property", "body": "<p>In fact, it's a normal behavior and Angular2 doesn't support deep comparison. It's only based on reference comparison. See this issue: <a href=\"https://github.com/angular/angular/issues/6458\" rel=\"noreferrer\">https://github.com/angular/angular/issues/6458</a>.</p>\n\n<p>That said they are some workarounds to notify the directive that some fields in an object were updated.</p>\n\n<ul>\n<li><p><strong>Referencing the directive from the component</strong></p>\n\n<pre><code>export class AppComponent {\n  test: { one: string; } = { one: '1' }\n  @ViewChild(MyDirective) viewChild:MyDirective;\n\n  clicked() {\n    this.test.one = '4';\n    this.viewChild.testChanged(this.test);\n  }\n}\n</code></pre>\n\n<p>In this case, the testChanged method of the directive is called explicitly. See this plunkr: <a href=\"https://plnkr.co/edit/TvibzkWUKNxH6uGkL6mJ?p=preview\" rel=\"noreferrer\">https://plnkr.co/edit/TvibzkWUKNxH6uGkL6mJ?p=preview</a>.</p></li>\n<li><p><strong>Using an event within a service</strong></p>\n\n<p>A dedicated service defines <code>testChanged</code> event</p>\n\n<pre><code>export class ChangeService {\n  testChanged: EventEmitter;\n\n  constructor() {\n    this.testChanged = new EventEmitter();\n  }\n}\n</code></pre>\n\n<p>The component uses a service to trigger the <code>testChanged</code> event:</p>\n\n<pre><code>export class AppComponent {\n  constructor(service:ChangeService) {\n    this.service = service;\n  }\n\n  clicked() {\n    this.test.one = '4';\n    this.service.testChanged.emit(this.test);\n  }\n}\n</code></pre>\n\n<p>The directive subscribes to this <code>testChanged</code> event in order to be notified</p>\n\n<pre><code>export class MyDirective implements OnChanges,OnInit {\n  @Input()\n  test: { one: string; } = { one: \"\" }\n\n  constructor(service:ChangeService) {\n    service.testChanged.subscribe(data =&gt; {\n      console.log('test object updated!');\n    });\n  }\n}\n</code></pre></li>\n</ul>\n\n<p>Hope it helps you,\nThierry</p>\n"}], "owner": {"reputation": 2384, "user_id": 295540, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/689a790fb4e451fa23fd7b7834431aa0?s=128&d=identicon&r=PG", "display_name": "Dynde", "link": "https://stackoverflow.com/users/295540/dynde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9483, "favorite_count": 4, "accepted_answer_id": 34762577, "answer_count": 1, "score": 16, "last_activity_date": 1452694830, "creation_date": 1452671996, "question_id": 34761224, "link": "https://stackoverflow.com/questions/34761224/angular2-child-property-change-not-firing-update-on-bound-property", "title": "Angular2 child property change not firing update on bound property", "body": "<p>I have a simple custom directive with an input, that I'm binding to in my component. But for whatever reason, the ngOnchanges() method doesn't fire when changing a child property of the input property.</p>\n\n<p>my.component.ts</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {MyDirective} from './my.directive';\n\n@Component({\n    directives: [MyDirective],\n    selector: 'my-component', \n    templateUrl: 'Template.html'\n})\n\nexport class MyComponent {\n    test: { one: string; } = { one: \"1\" }\n\n    constructor( ) {\n        this.test.one = \"2\";\n    }\n    clicked() {\n        console.log(\"clicked\");\n        var test2: { one: string; } = { one :\"3\" };\n        this.test = test2; // THIS WORKS - because I'm changing the entire object\n        this.test.one = \"4\"; //THIS DOES NOT WORK - ngOnChanges is NOT fired=\n    }\n}\n</code></pre>\n\n<p>my.directive.ts</p>\n\n<pre><code>import {Directive, Input} from 'angular2/core';\nimport {OnChanges} from 'angular2/core';\n\n@Directive({\n    selector: '[my-directive]',\n    inputs: ['test']\n})\n\nexport class MyDirective implements OnChanges {\n    test: { one: string; } = { one: \"\" }\n\n    constructor() { }\n\n    ngOnChanges(value) {\n        console.log(value);\n    }\n}\n</code></pre>\n\n<p>template.html</p>\n\n<pre><code>&lt;div (click)=\"clicked()\"&gt; Click to change &lt;/div&gt;\n&lt;div my-directive [(test)]=\"test\"&gt;\n</code></pre>\n\n<p>Can anyone tell me why?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 538, "user_id": 1035811, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015134971/picture?type=large", "display_name": "Bo\u0161tjan Pi\u0161ler", "link": "https://stackoverflow.com/users/1035811/bo%c5%a1tjan-pi%c5%a1ler"}, "edited": false, "score": 8, "creation_date": 1453741725, "post_id": 34762065, "comment_id": 57724477, "body": "You can achieve similar functionality as bootstrap by adding the service to your <code>@App</code> providers array and <b>not</b> adding the service to providers of the said <code>@Page</code>."}, {"owner": {"reputation": 1648, "user_id": 5783085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IvGg.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/5783085/raphael"}, "reply_to_user": {"reputation": 538, "user_id": 1035811, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015134971/picture?type=large", "display_name": "Bo\u0161tjan Pi\u0161ler", "link": "https://stackoverflow.com/users/1035811/bo%c5%a1tjan-pi%c5%a1ler"}, "edited": false, "score": 1, "creation_date": 1453793044, "post_id": 34762065, "comment_id": 57744796, "body": "Yes but it&#39;s a better practice to specify services where your are using them."}, {"owner": {"reputation": 538, "user_id": 1035811, "user_type": "registered", "profile_image": "https://graph.facebook.com/1015134971/picture?type=large", "display_name": "Bo\u0161tjan Pi\u0161ler", "link": "https://stackoverflow.com/users/1035811/bo%c5%a1tjan-pi%c5%a1ler"}, "edited": false, "score": 0, "creation_date": 1454329051, "post_id": 34762065, "comment_id": 57980257, "body": "A service has to be one singleton for whole app to share common data like cache, which means it has to be defined in top level component. If we are talking about model like services that is. Others, like http, on the other hand don&#39;t need to know about each other."}, {"owner": {"reputation": 503, "user_id": 1888538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/J975i.jpg?s=128&g=1", "display_name": "Adri&#225;n Navarro", "link": "https://stackoverflow.com/users/1888538/adri%c3%a1n-navarro"}, "edited": false, "score": 0, "creation_date": 1455559296, "post_id": 34762065, "comment_id": 58532950, "body": "After following these steps, any clue about how to access the &quot;data&quot; variable used within <code>@Page</code> once the request finishes?"}, {"owner": {"reputation": 918, "user_id": 3209658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GJxAy.jpg?s=128&g=1", "display_name": "Raja Yogan", "link": "https://stackoverflow.com/users/3209658/raja-yogan"}, "edited": false, "score": 0, "creation_date": 1456345229, "post_id": 34762065, "comment_id": 58908468, "body": "Friends, please add this at the top import &#39;rxjs/Rx&#39;; of the service in order to use the observables. :) (Otherwise you might get an error in the this.http.get() line)"}, {"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1461188144, "post_id": 34762065, "comment_id": 61091462, "body": "I am not sure, but you may need the <code>static get parameters(){         return [[Http]];     }</code> below your line which says <code>export class DataService</code>"}, {"owner": {"reputation": 2157, "user_id": 1016128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9hhss.jpg?s=128&g=1", "display_name": "Manu Vald&#233;s", "link": "https://stackoverflow.com/users/1016128/manu-vald%c3%a9s"}, "edited": false, "score": 4, "creation_date": 1463119083, "post_id": 34762065, "comment_id": 61936399, "body": "It&#39;s not a better practice to inject the service wherever needed, this creates a separate instance, which is usually not the desired behaviour of a service. Generally speaking, you will want a single instance which you will only inject in the @App. In your example, two different pages would have their own associated instances, so calling retrieveData() in page1, and trying to getData() in page2 would not return the data just retrieved."}, {"owner": {"reputation": 612, "user_id": 4188732, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/QfeJu.png?s=128&g=1", "display_name": "Anuj", "link": "https://stackoverflow.com/users/4188732/anuj"}, "edited": false, "score": 0, "creation_date": 1492769973, "post_id": 34762065, "comment_id": 74132009, "body": "I have one issue that when i am using  getData()  in any other folder then this is creating issue, because response from api is taking time then how i can use this ?"}, {"owner": {"reputation": 131, "user_id": 5358139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b396322dddd35cb1bbd261dca553a1c?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Nagaraj", "link": "https://stackoverflow.com/users/5358139/karthik-nagaraj"}, "edited": false, "score": 0, "creation_date": 1497976712, "post_id": 34762065, "comment_id": 76302520, "body": "I created a service similar to suggested but its giving me error:   &quot;Property &#39;http&#39; does not exist on type &#39;DeviceConfService&#39;&quot;. Anyone has any idea how to solve this?"}, {"owner": {"reputation": 1648, "user_id": 5783085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IvGg.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/5783085/raphael"}, "reply_to_user": {"reputation": 131, "user_id": 5358139, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7b396322dddd35cb1bbd261dca553a1c?s=128&d=identicon&r=PG&f=1", "display_name": "Karthik Nagaraj", "link": "https://stackoverflow.com/users/5358139/karthik-nagaraj"}, "edited": false, "score": 0, "creation_date": 1498066917, "post_id": 34762065, "comment_id": 76349813, "body": "@AnKarthik I think you are trying to do <code>this.http</code> and <code>http</code> is not set to your Service class. To do that, you can write in the constructor <code>this.http = http;</code> or <code>constructor(private http: Http)</code>"}], "tags": [], "owner": {"reputation": 1648, "user_id": 5783085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1IvGg.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/5783085/raphael"}, "is_accepted": true, "score": 36, "last_activity_date": 1452674968, "creation_date": 1452674968, "answer_id": 34762065, "question_id": 34760422, "link": "https://stackoverflow.com/questions/34760422/how-to-use-angular-2-service-with-ionic-2/34762065#34762065", "title": "How to use angular 2 service with Ionic 2?", "body": "<p>There is no use of Bootstrap() in Ionic2, only use of @App to declare your app.\nYou still need to declare your service in your @Page component.</p>\n\n<p>Create your service </p>\n\n<pre><code>import {Injectable} from \"angular2/core\";\nimport {Http} from \"angular2/http\";\n\n@Injectable()\nexport class DataService {\n  constructor(http: Http) {\n    this.http = http;\n    this.data = null;\n  }\n\n  retrieveData() {\n    this.http.get('./mocks/test.json')\n    .subscribe(data =&gt; {\n      this.data = data;\n    });\n  }\n\n  getData() {\n    return this.data;\n  }\n}\n</code></pre>\n\n<p>Then use it in your @Page</p>\n\n<pre><code>import {Page} from 'ionic/ionic';\nimport {DataService} from './service';\n\n@Page({\n  templateUrl: 'build/test.html',\n  providers: [DataService]\n})\nexport class TestPage {\n  constructor(data: DataService) {\n    data.retrieveData()\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 301, "user_id": 2422405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ga1NT.jpg?s=128&g=1", "display_name": "webdevinci", "link": "https://stackoverflow.com/users/2422405/webdevinci"}, "edited": false, "score": 1, "creation_date": 1468446642, "post_id": 38036031, "comment_id": 64136964, "body": "This fixed it for me, thanks so much. Wondering where the documentation is on this, was hard to find with a vague error about Promises"}, {"owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "reply_to_user": {"reputation": 301, "user_id": 2422405, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ga1NT.jpg?s=128&g=1", "display_name": "webdevinci", "link": "https://stackoverflow.com/users/2422405/webdevinci"}, "edited": false, "score": 0, "creation_date": 1468479738, "post_id": 38036031, "comment_id": 64146403, "body": "Well, Ionic Team is still working on the documentation, but as Ionic2 is built on top of Angular2, you can find these kind of things in <a href=\"https://angular.io/docs/ts/latest/guide/style-guide.html\" rel=\"nofollow noreferrer\">Angular Style Guides</a> and other Angular Doc related pages. In order to know how the Injector works (which allowed me to understand this subject and write this answer), you can take a look at <a href=\"https://angular.io/docs/ts/latest/guide/hierarchical-dependency-injection.html\" rel=\"nofollow noreferrer\">this page</a>."}, {"owner": {"reputation": 311, "user_id": 2286556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5P4vA.jpg?s=128&g=1", "display_name": "Cornelius Parkin", "link": "https://stackoverflow.com/users/2286556/cornelius-parkin"}, "edited": false, "score": 0, "creation_date": 1486533644, "post_id": 38036031, "comment_id": 71380790, "body": "Hi. I tried following this example by @sebaferreras. It seems like the service is picked up, however, the screen generated is blank whenever I include the service. Any idea why that would be? The service resides in src/providers/global-alerts.ts"}], "tags": [], "owner": {"reputation": 41555, "user_id": 3915438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5ef58d4da96105d5c0880ee70c37756?s=128&d=identicon&r=PG&f=1", "display_name": "sebaferreras", "link": "https://stackoverflow.com/users/3915438/sebaferreras"}, "is_accepted": false, "score": 24, "last_activity_date": 1499760279, "last_edit_date": 1499760279, "creation_date": 1466924889, "answer_id": 38036031, "question_id": 34760422, "link": "https://stackoverflow.com/questions/34760422/how-to-use-angular-2-service-with-ionic-2/38036031#38036031", "title": "How to use angular 2 service with Ionic 2?", "body": "<p><strong>RC Update:</strong></p>\n\n<p>As of Ionic2 RC, now the services should be included in the <code>providers</code> array from the <code>@NgModule</code> to make those services work as <strong>singletons</strong> (meaning that the same instance will be used in the entire application).</p>\n\n<pre><code>@NgModule({\n  declarations: [\n    MyApp,\n\n    // Pages\n    Page1,\n    Page2,\n\n    // Pipes\n    MyCustomPipe,\n\n    // Directives\n    MyCustomDirective,\n  ],\n  imports: [\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n\n    // Pages\n    Page1,\n    Page2\n  ],\n  providers: [ DataService, NavigationService, Storage, ... ] // &lt;- here!\n})\nexport class AppModule {}\n</code></pre>\n\n<hr>\n\n<p><strong>Old answer (2.0.0-beta.8)</strong></p>\n\n<p>Just in case if this could help other <code>Ionic2</code> developers, with the release of <a href=\"https://github.com/driftyco/ionic/blob/2.0/CHANGELOG.md#200-beta8-2016-06-06\" rel=\"nofollow noreferrer\">2.0.0-beta.8</a>, now we can use <code>ionicBootstrap</code> to make our services work as <code>singletons</code> meaning that <em>the same instance will be used in the entire application</em>.</p>\n\n<p>The changes needed to do this are minimum; your services will remain the same</p>\n\n<pre><code>/* Notice that the imports have slightly changed*/\nimport {Injectable} from \"@angular/core\";\nimport {Http} from \"@angular/http\";\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class DataService {\n  constructor(http: Http) {\n    this.http = http;\n    this.data = null;\n  }\n\n  retrieveData() {\n    this.http.get('./mocks/test.json')\n    .subscribe(data =&gt; {\n      this.data = data;\n    });\n  }\n\n  getData() {\n    return this.data;\n  }\n}\n</code></pre>\n\n<p>But instead of injecting it as a <code>provider</code> in your <code>Component</code> (which will cause a new instance of the <code>service</code> to be created everytime the <code>component</code> is loaded)</p>\n\n<pre><code>import {Component} from '@angular/core';\nimport {DataService} from './service';\n\n@Component({\n  templateUrl: 'build/test.html'\n  /* This should not be done anymore */\n  /* providers: [DataService] */\n})\nexport class TestPage {\n  constructor(data: DataService) {\n    data.retrieveData()\n  }\n}\n</code></pre>\n\n<p>Just include it in the <code>ionicBootstrap</code> of your <code>app.ts</code> file, <strong>in order to ensure that the same instance of the service will be used in the entire application.</strong></p>\n\n<pre><code>ionicBootstrap(MyApp, [DataService], {});\n</code></pre>\n\n<hr>\n\n<p><strong>Angular Style Guide:</strong></p>\n\n<p>Following <a href=\"https://angular.io/styleguide#!#07-03\" rel=\"nofollow noreferrer\">Angular2 Style Guide</a> </p>\n\n<blockquote>\n  <p>Do provide services to the Angular 2 injector at the top-most\n  component where they will be shared.</p>\n  \n  <p>Why? The Angular 2 injector is hierarchical.</p>\n  \n  <p>Why? <strong>When providing the service to a top level component, that\n  instance is shared and available to all child components of that top\n  level component</strong>.</p>\n  \n  <p>Why? This is ideal when a service is sharing methods or state.</p>\n</blockquote>\n\n<p>And </p>\n\n<blockquote>\n  <p>It will work. It's just not a best practice. <strong>The bootstrap provider\n  option is intended for configuring and overriding Angular's own\n  preregistered services, such as its routing support</strong>.</p>\n</blockquote>\n\n<p>So Instead of registering the service in the <code>ionicBootstrap</code>, we'd have to register it in the top-most component of our App (if we want to use the <em>same instance in the entire application</em>), like this:</p>\n\n<pre><code>@Component({\n  templateUrl: 'build/app.html',\n  directives: [...],\n  providers: [..., DataService]\n})\nclass MyApp{ \n  // ...\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 646, "user_id": 7618720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/925273cb1ec6d3e13016fbf2c4db8971?s=128&d=identicon&r=PG&f=1", "display_name": "Kuldeep Kumar", "link": "https://stackoverflow.com/users/7618720/kuldeep-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1536494073, "creation_date": 1536494073, "answer_id": 52244278, "question_id": 34760422, "link": "https://stackoverflow.com/questions/34760422/how-to-use-angular-2-service-with-ionic-2/52244278#52244278", "title": "How to use angular 2 service with Ionic 2?", "body": "<p>Search for Ionic Provider, in ionic instead of angular services we use ionic Provider, they provide the concept of Dependency Injection in Ionic.</p>\n\n<p>generate the ionic provider </p>\n\n<pre><code>ionic generate provider &lt;provider name&gt;\n</code></pre>\n\n<p>and then import the provider in the root page or the page in which it needs to be used</p>\n\n<p>and put in provider array</p>\n"}], "owner": {"reputation": 3596, "user_id": 697360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/pEajT.jpg?s=128&g=1", "display_name": "VISHAL DAGA", "link": "https://stackoverflow.com/users/697360/vishal-daga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31199, "favorite_count": 5, "accepted_answer_id": 34762065, "answer_count": 3, "score": 32, "last_activity_date": 1536494073, "creation_date": 1452668966, "last_edit_date": 1535099751, "question_id": 34760422, "link": "https://stackoverflow.com/questions/34760422/how-to-use-angular-2-service-with-ionic-2", "title": "How to use angular 2 service with Ionic 2?", "body": "<p>I am new to Ionic 2. \nI read in angular 2 docs, that service needs to be injected while bootstrap application. But could not see any bootstrap thing while going through Ionic 2 tutorial. </p>\n\n<p>Any help is highly appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "redux"], "comments": [{"owner": {"reputation": 2282, "user_id": 1682761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EaGwv.jpg?s=128&g=1", "display_name": "Dmitry  Yaremenko", "link": "https://stackoverflow.com/users/1682761/dmitry-yaremenko"}, "edited": false, "score": 0, "creation_date": 1452715048, "post_id": 34759047, "comment_id": 57296967, "body": "Added some notes in my answer after reading other answers. Don&#39;t know if it helps for TypeScript (may be you need to provide some code examples to show exact problem)."}], "answers": [{"tags": [], "owner": {"reputation": 2282, "user_id": 1682761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EaGwv.jpg?s=128&g=1", "display_name": "Dmitry  Yaremenko", "link": "https://stackoverflow.com/users/1682761/dmitry-yaremenko"}, "is_accepted": true, "score": 7, "last_activity_date": 1453111858, "last_edit_date": 1453111858, "creation_date": 1452676642, "answer_id": 34762630, "question_id": 34759047, "link": "https://stackoverflow.com/questions/34759047/why-do-you-need-actions-as-data-in-redux/34762630#34762630", "title": "Why do you need &#39;Actions&#39; as data in redux?", "body": "<p>The main purpose of <strong>action</strong> in Redux is to reduce the state.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"noreferrer\">Reduce</a> method will be called on array of actions (thats why it called a  <strong>reducer</strong>). Example:</p>\n\n<pre><code>import reducer from './reducer';\n\nconst actions = [\n    {type: 'INIT'},\n    {type: 'SOME_ACTION', params: {...}},\n    {type: 'RECEIVE_DATA', data: [...]},\n    {type: 'SOME_ANOTHER_ACTION', params: {...}},\n    {type: 'RECEIVE_DATA', data: [...]},\n    ...\n];\n\nconst finalState = actions.reduce(reducer, undefined);\n</code></pre>\n\n<p><strong>Action creators</strong> is a function that can create <strong>actions</strong>. <em>It is not necessary that action creator will create only one action.</em> </p>\n\n<p>Actually, if your reducer is able to receive functions instead of objects - your actions will be functions and it will do the main purpose, but you can loose some benefits of Redux functional abilities. </p>\n\n<p>In that case the reducer will be implemented like this:</p>\n\n<pre><code>function reducer(state, action) {\n    return action(state);\n}\n</code></pre>\n\n<p><strong>The reasons why you may create actions as <code>{type: 'ACTION_NAME'}</code> format:</strong></p>\n\n<ol>\n<li><strong>Redux DevTools</strong> expects this format.</li>\n<li>You need to store sequence of actions. </li>\n<li>Reducer makes state transformations on worker.</li>\n<li>Everybody in Redux ecosystem use this format. It's a kind of convention.</li>\n<li>Hot reloading abilities (your stored functions will not be reloaded).</li>\n<li>You need to send actions as is on server.</li>\n<li>Debugging benefits - to see the stack of actions with actions names.</li>\n<li>Writing unit tests for reducer: <code>assert.equal(finalState, expectedState)</code>.</li>\n<li>More declarative code - action name and parameters are about \"what to do\" and not about \"how to do\" (but <code>addTodo('Ask question')</code> is declarative too). </li>\n</ol>\n\n<p><strong>Note about coupling between action creators and state changes</strong></p>\n\n<p>Just compare two notations:</p>\n\n<p>First:    </p>\n\n<pre><code>function someActionCreator() {\n    return {\n        type: \"ADD_TODO\",\n        text: \"Ask question on stackoverflow\"\n    }; // returns object\n}\n</code></pre>\n\n<p>Second:</p>\n\n<pre><code>function someActionCreator() {\n    return addTodo(\"Ask question on stackoverflow\"); // returns function\n}\n</code></pre>\n\n<p>\"In both cases we see that code is declarative and action creator is decoupled from state change. You can still reuse <code>addTodo</code> or dispatch two <code>addTodo</code>'s or use <em>middleware</em> or dispatch <code>compose(addTodo('One'), addTodo('Two'))</code>. The main difference is that we created Object and Function and place in code where state changes. </p>\n"}, {"comments": [{"owner": {"reputation": 5213, "user_id": 694001, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84f77cc699f9e87852e57da3c820751e?s=128&d=identicon&r=PG", "display_name": "S&#248;ren Debois", "link": "https://stackoverflow.com/users/694001/s%c3%b8ren-debois"}, "edited": false, "score": 0, "creation_date": 1452710770, "post_id": 34765253, "comment_id": 57294333, "body": "Very helpful, thanks. I see the rationale for decoupling actions and state changes. I can&#39;t help wondering if the compositionality of reducers you mention can&#39;t be achieved by function composition, though\u2014that issue seems orthogonal to whether actions should have explicit representation as data."}, {"owner": {"reputation": 2282, "user_id": 1682761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EaGwv.jpg?s=128&g=1", "display_name": "Dmitry  Yaremenko", "link": "https://stackoverflow.com/users/1682761/dmitry-yaremenko"}, "edited": false, "score": 1, "creation_date": 1452754955, "post_id": 34765253, "comment_id": 57310995, "body": "&quot;Not a mere function call, but a dispatched object.&quot; But function is object too... As I understand question - it&#39;s about benefits of literal objects with certain format, but not functions. See my note about coupling"}], "tags": [], "owner": {"reputation": 20565, "user_id": 2553506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOi8K.jpg?s=128&g=1", "display_name": "David L. Walsh", "link": "https://stackoverflow.com/users/2553506/david-l-walsh"}, "is_accepted": false, "score": 3, "last_activity_date": 1452723545, "last_edit_date": 1452723545, "creation_date": 1452683823, "answer_id": 34765253, "question_id": 34759047, "link": "https://stackoverflow.com/questions/34759047/why-do-you-need-actions-as-data-in-redux/34765253#34765253", "title": "Why do you need &#39;Actions&#39; as data in redux?", "body": "<p>Good question.</p>\n\n<p>Separating actions from state changes is really a Flux pattern, rather than a specifically Redux thing. (Though I will answer the question with reference to Redux.) It's an example of <em>loose coupling</em>.</p>\n\n<p>In a simple app, tight coupling between actions and state changes might be fine. But in a larger app, this could be a headache. For instance, your <code>addTodo</code> action might trigger changes in several parts of the state. Splitting actions from state changes - the latter performed in reducers - allows you to write smaller functions, which are easier to reason about and more testable.</p>\n\n<p>Additionally, decoupling your actions and state changes allows your reducer logic to be more reusable. e.g. Action X might trigger state changes A and B, whilst action Y only triggers state change A.</p>\n\n<p>Furthermore, this decoupling gives rise to a Redux feature called <em>middleware</em>. Middleware listens to action dispatches. It doesn't change the state of the app, but it can read the current state and the next state, as well as the action information. Middleware is useful for functionality extraneous from the core application logic, e.g. logging and tracking (dev tools were mentioned in a previous answer). </p>\n\n<h3>[UPDATE] But why have actions as objects?</h3>\n\n<p>If it were simply a matter of functions calling other functions, that decoupling would be much less explicit. Indeed it may even get lost; since most actions only enact one state change, developers might tire of a single function calling a single function and do away with the separation entirely.</p>\n\n<p>The other thing is the <a href=\"https://facebook.github.io/flux/docs/overview.html\" rel=\"nofollow\">Flux data flow model</a>. One-way data flow is very important to the Flux/React paradigm. A typical Redux/React goes something like this: <code>Store state -&gt; Higher order React components -&gt; Lower order React components -&gt; DOM</code>. The action is the aberration in the model; it's the backwards arrow transmitting data from the view to the store. It makes sense to make the action something as loud and emphatic as possible. Not a mere function call, but a <em>dispatched object</em>. It's as if your app were announcing <em>Hey! Something important happened here!</em></p>\n"}, {"comments": [{"owner": {"reputation": 2282, "user_id": 1682761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/EaGwv.jpg?s=128&g=1", "display_name": "Dmitry  Yaremenko", "link": "https://stackoverflow.com/users/1682761/dmitry-yaremenko"}, "edited": false, "score": 1, "creation_date": 1452710351, "post_id": 34774301, "comment_id": 57294052, "body": "He told about comparing action creators with reducers. Action creators != actions. Action is an item of array (actions stack). That array will be used to reduce the state."}], "tags": [], "owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "is_accepted": false, "score": 3, "last_activity_date": 1452709622, "last_edit_date": 1592644375, "creation_date": 1452709622, "answer_id": 34774301, "question_id": 34759047, "link": "https://stackoverflow.com/questions/34759047/why-do-you-need-actions-as-data-in-redux/34774301#34774301", "title": "Why do you need &#39;Actions&#39; as data in redux?", "body": "<p>There is NOT a one-to-one mapping between actions and reducers.  Per Dan Abramov's comments at <a href=\"https://github.com/Pitzcarraldo/reduxible/issues/8\" rel=\"nofollow noreferrer\">https://github.com/Pitzcarraldo/reduxible/issues/8</a> :</p>\n<blockquote>\n<p>It reinforces a very common misconception about Redux: namely that action creators and reducers are one-to-one mapping.</p>\n<p>This is only true in trivial examples, but it is extremely limiting in real applications. Beginners exposed to this pattern couple reducers and action creators, and fail to realize they're meant to be many-to-many and decoupled.</p>\n<p>Many reducers may handle one action. One reducer may handle many actions. Putting them together negates many benefits of how Flux and Redux application scale. This leads to code bloat and unnecessary coupling. You lose the flexibility of reacting to the same action from different places, and your action creators start to act like \u201csetters\u201d, coupled to a specific state shape, thus coupling the components to it as well.</p>\n</blockquote>\n<p>As for actions and the &quot;type&quot; parameter, the other answers are right.  That's deliberately how Redux was designed, and that was intended to give the benefits of serialization for debugging purposes.</p>\n"}], "owner": {"reputation": 5213, "user_id": 694001, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84f77cc699f9e87852e57da3c820751e?s=128&d=identicon&r=PG", "display_name": "S&#248;ren Debois", "link": "https://stackoverflow.com/users/694001/s%c3%b8ren-debois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2380, "favorite_count": 1, "accepted_answer_id": 34762630, "answer_count": 3, "score": 11, "last_activity_date": 1453111858, "creation_date": 1452663000, "last_edit_date": 1452669131, "question_id": 34759047, "link": "https://stackoverflow.com/questions/34759047/why-do-you-need-actions-as-data-in-redux", "title": "Why do you need &#39;Actions&#39; as data in redux?", "body": "<p><a href=\"http://rackt.org/redux/docs/basics/Actions.html\">Redux documentations</a> says I should make actions and action creators, like this:</p>\n\n<pre><code>function addTodo(filter) {\n  return { \n    type: SET_VISIBILITY_FILTER, \n    filter\n  }\n}\n</code></pre>\n\n<p>Then write reducers, like this: </p>\n\n<pre><code>function todoApp(state = initialState, action) {\n  switch (action.type) {\n   case SET_VISIBILITY_FILTER:\n     return Object.assign({}, state, {\n       visibilityFilter: action.filter\n     });\n  } \n}\n</code></pre>\n\n<p>I then invoke the action using dispatch:</p>\n\n<pre><code>store.dispatch(addTodo(\"Ask question on stackoverflow\"));\n</code></pre>\n\n<p>It seems there's a one-one correspondence between actions and reducers; the sole purpose of the action is to select a reducer and provide input data for that reducer. </p>\n\n<p>Why don't we skip the middle man and identify actions with reducers and action creators with functions producing reducers? Then <code>dispatch</code> would take a single argument, a reducer/action of type <code>State =&gt; State</code>:</p>\n\n<pre><code>// Action/reducer. (Parametrised state transformer, really.)\nconst addTodo = text =&gt; state =&gt; {\n  return Object.assign({}, state, {\n       visibilityFilter: action.filter\n  });\n}\n\n// Dispatch takes as a argument the action/reducer\nstore.dispatch(addTodo(\"Ask question on stackoverflow\"));\n</code></pre>\n\n<p>You'd lose the ability to serialise actions, but otherwise, it seems you'd get rid of boilerplate action creators and express more clearly the connection between actions and reducers. If you're in Typescript, you also get typechecking of the data in actions, which is <a href=\"https://stackoverflow.com/questions/21034017/how-do-you-emulate-adts-and-pattern-matching-in-typescript\">difficult to express otherwise</a>.</p>\n\n<p>So what reasons for having actions as data am I missing?</p>\n"}, {"tags": ["typescript", "systemjs"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 3, "last_activity_date": 1452656221, "creation_date": 1452656221, "answer_id": 34757986, "question_id": 34757916, "link": "https://stackoverflow.com/questions/34757916/using-import-from-statement-with-systemjs/34757986#34757986", "title": "using import from statement with SystemJs", "body": "<blockquote>\n  <p>Causes 404 Error because system.js looks for /js/testLib/ folder rather than /js/testLib.js file</p>\n</blockquote>\n\n<p>If you are using system js change <code>module</code> format to <code>system</code></p>\n\n<pre><code>\"module\": \"system\",\n</code></pre>\n"}], "owner": {"reputation": 6509, "user_id": 216575, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/b2728e5231859b8292db6c6356dd6222?s=128&d=identicon&r=PG", "display_name": "Ali Salehi", "link": "https://stackoverflow.com/users/216575/ali-salehi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 34757986, "answer_count": 1, "score": 3, "last_activity_date": 1452656221, "creation_date": 1452655774, "question_id": 34757916, "link": "https://stackoverflow.com/questions/34757916/using-import-from-statement-with-systemjs", "title": "using import from statement with SystemJs", "body": "<p>I am trying to build up a sample code using typescript and systemjs (browser).</p>\n\n<p>app.ts file : </p>\n\n<pre><code>import {Person,add as test} from './testLib'\n</code></pre>\n\n<p>app.js (generated by ts compiler):</p>\n\n<pre><code> var testLib_1 = require('./testLib');\n</code></pre>\n\n<p>then</p>\n\n<pre><code>System.import('./app.js')\n</code></pre>\n\n<p>Causes 404 Error because system.js looks for <strong>/js/testLib/</strong> folder rather than <strong>/js/testLib.js</strong> file.</p>\n\n<p>Any ideas why ?</p>\n\n<p>My tsconfig.js:</p>\n\n<pre><code>\"target\": \"es5\",\n\"module\": \"commonjs\",\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "edited": false, "score": 0, "creation_date": 1452659256, "post_id": 34758014, "comment_id": 57262305, "body": "code ? here stands for what ? me too facing the same problem"}, {"owner": {"reputation": 1037, "user_id": 377252, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/Dfc8O.jpg?s=128&g=1", "display_name": "ehiller", "link": "https://stackoverflow.com/users/377252/ehiller"}, "edited": false, "score": 0, "creation_date": 1452679742, "post_id": 34758014, "comment_id": 57272568, "body": "basarat There is no basic guide I ever saw. Btw. I figured it, I assume you meant <code>tsd init</code> and not <code>tsc -init</code> correct? Believe me I restarted vscode twenty thousand times. <code>code</code> is not on my path though so that does me no good, but thank you!"}, {"owner": {"reputation": 2118, "user_id": 2312181, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UzF4Q.jpg?s=128&g=1", "display_name": "Wade Anderson", "link": "https://stackoverflow.com/users/2312181/wade-anderson"}, "edited": false, "score": 0, "creation_date": 1452705674, "post_id": 34758014, "comment_id": 57291126, "body": "See <a href=\"http://stackoverflow.com/questions/29971053/how-to-open-visual-studio-code-from-the-command-line-on-osx\">here</a> for getting <code>code</code> on the command line."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1452723526, "post_id": 34758014, "comment_id": 57301294, "body": "No worries. I did mean <code>tsc -init</code>. It creates a <code>tsconfig.json</code> file"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1452656464, "creation_date": 1452656464, "answer_id": 34758014, "question_id": 34757713, "link": "https://stackoverflow.com/questions/34757713/typescript-angular2-typings-d-ts-in-visual-studio-code/34758014#34758014", "title": "Typescript Angular2 Typings d.ts in Visual Studio Code", "body": "<blockquote>\n  <p>But no matter what Vscode continues to say Cannot find module </p>\n</blockquote>\n\n<p>You probably forgot to restart vscode after following the basic guide. </p>\n\n<pre><code>npm install angular2\ntsc -init\ncode .\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 675, "user_id": 5457201, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bdcdc58c57984ddfa3ef8080b12bcea4?s=128&d=identicon&r=PG", "display_name": "TylerDurden", "link": "https://stackoverflow.com/users/5457201/tylerdurden"}, "edited": false, "score": 0, "creation_date": 1454176747, "post_id": 34765695, "comment_id": 57931153, "body": "if you use tsconfig.json you need to add <code>&quot;moduleResolution&quot;: &quot;node&quot;</code> under <code>&quot;compilerOptions&quot;</code>"}], "tags": [], "owner": {"reputation": 85, "user_id": 2221669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16e967084e12d055152f057eca301d02?s=128&d=identicon&r=PG", "display_name": "Vinicius Quaiato", "link": "https://stackoverflow.com/users/2221669/vinicius-quaiato"}, "is_accepted": false, "score": 3, "last_activity_date": 1452685032, "creation_date": 1452685032, "answer_id": 34765695, "question_id": 34757713, "link": "https://stackoverflow.com/questions/34757713/typescript-angular2-typings-d-ts-in-visual-studio-code/34765695#34765695", "title": "Typescript Angular2 Typings d.ts in Visual Studio Code", "body": "<p>I don't think there is already an extension for installing <code>.td</code> directly from VS CODE. Besides that the Angular definitions are shipped with the Angular2 package from npm:</p>\n\n<pre><code>npm install angular2\n</code></pre>\n\n<p>The npm package already gives you the definitions. You need to configure your Typescript with:</p>\n\n<pre><code>--moduleResolution node\n</code></pre>\n"}], "owner": {"reputation": 1037, "user_id": 377252, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/Dfc8O.jpg?s=128&g=1", "display_name": "ehiller", "link": "https://stackoverflow.com/users/377252/ehiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2550, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1452685032, "creation_date": 1452654223, "last_edit_date": 1495542157, "question_id": 34757713, "link": "https://stackoverflow.com/questions/34757713/typescript-angular2-typings-d-ts-in-visual-studio-code", "title": "Typescript Angular2 Typings d.ts in Visual Studio Code", "body": "<p>Quite possible that I am really missing something. But for the life of me I can not get typings to work for Typescript + Angular2. Not with <code>///</code> per file nor for the entire workspace. I have tried manually grabbing the source of angular2 off github and putting in a <code>/typings</code> directory within the workspace. I have tried using <code>tsc</code> to install angular2 typings I have tried the <code>tsd.json</code> file that <a href=\"https://stackoverflow.com/questions/30445936/compile-angular2-ts-file/30446990#30446990\">Badal in this Stack Overflow thread</a> was nice enough to post. But no matter what Vscode continues to say <code>Cannot find module &lt;blerg&gt;</code> (ie. angular2/core, angular2/common, etc...) And its driving me nuts!</p>\n\n<p>Any help would be GREATLY appreciated!</p>\n"}, {"tags": ["html", "dependency-injection", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 6115, "user_id": 1521227, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cf413aac057e188bcbabcdecdb78ff85?s=128&d=identicon&r=PG", "display_name": "Spontifixus", "link": "https://stackoverflow.com/users/1521227/spontifixus"}, "edited": false, "score": 0, "creation_date": 1501191687, "post_id": 34756883, "comment_id": 77684285, "body": "Though support for binding to elements of base classes will be supported in one of the upcoming releases of Aurelia, there is another way to save doubling the logic: By adding the bindable properties by means of a decorator. I have explained that over here: stackoverflow.com/a/45361429/1521227 \u2013"}, {"owner": {"reputation": 6115, "user_id": 1521227, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/cf413aac057e188bcbabcdecdb78ff85?s=128&d=identicon&r=PG", "display_name": "Spontifixus", "link": "https://stackoverflow.com/users/1521227/spontifixus"}, "edited": false, "score": 0, "creation_date": 1502292280, "post_id": 34756883, "comment_id": 78149152, "body": "While this not answers this question directly, there is another approach to this that might help you - and that is to use composition instead of inheritance. I have explained over here how that works: <a href=\"https://stackoverflow.com/a/45361429/1521227\">stackoverflow.com/a/45361429/1521227</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5781764, "user_type": "registered", "profile_image": "https://graph.facebook.com/921119197963801/picture?type=large", "display_name": "Frances Brussee", "link": "https://stackoverflow.com/users/5781764/frances-brussee"}, "is_accepted": false, "score": 0, "last_activity_date": 1452724865, "creation_date": 1452724865, "answer_id": 34778457, "question_id": 34756883, "link": "https://stackoverflow.com/questions/34756883/using-the-bindable-attribute-on-child-class-in-aurelia/34778457#34778457", "title": "Using the @bindable attribute on child class in Aurelia", "body": "<p>As a work-around until inheritance with bindable properties gets supported in Aurelia, I am binding to a class that has some of the shared properties. The bindable ones will get duplicated across the controls for now.</p>\n\n<pre><code>import {bindable, bindingMode} from \"aurelia-framework\";\nimport {IControlBase, ControlBase} from \"./controlbase\";\n\nexport class MyClass {\n  @bindable controlbase: IControlBase = new ControlBase();\n  @bindable label: string = \"\";\n  @bindable editing: boolean = false;\n  @bindable({ defaultBindingMode: bindingMode.twoWay })\n  value: string;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5781764, "user_type": "registered", "profile_image": "https://graph.facebook.com/921119197963801/picture?type=large", "display_name": "Frances Brussee", "link": "https://stackoverflow.com/users/5781764/frances-brussee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 742, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452724865, "creation_date": 1452648290, "last_edit_date": 1452671746, "question_id": 34756883, "link": "https://stackoverflow.com/questions/34756883/using-the-bindable-attribute-on-child-class-in-aurelia", "title": "Using the @bindable attribute on child class in Aurelia", "body": "<p>For the current project at work, we are creating quite a few custom controls that all share the same properties and that are bindable.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@bindable required: boolean = false;\n@bindable minLength: number = 0;\n@bindable maxLength: number = 0;\n</code></pre>\n\n<p>Since we'd like to avoid code duplication, the idea is to keep these bindable properties in a separate class, called 'Validation' in this case. </p>\n\n<pre><code>import {Validation} from \"./validation\";\n\nexport class MyClass {\n  private validation: Validation = new Validation();\n\n  // also tried:\n  // @bindable validation: Validation = new Validation();\n}\n</code></pre>\n\n<p>The question is how to get the HTML to bind to the properties in the Validation class. Doing this <code>validation.required.bind=\"someProperty.required\"</code> doesn't update the <code>required</code> property on the validation instance. We attempted to use DI, but that didn't seem to cut it either.</p>\n\n<pre><code>import {inject} from \"aurelia-framework\";\nimport {Validation} from \"./validation\";\n\n@inject(Validation)\nexport class MyClass {\n  constructor(private validation: Validation) {\n    this.validation = validation;\n  }\n}\n</code></pre>\n\n<p>Any hints would be greatly appreciated.</p>\n\n<p>EDIT:</p>\n\n<p>It seems that Aurelia interprets 'validation.required' as a command rather than an expression.</p>\n\n<p><code>WARN [templating-binding] Unknown binding command. Object {defaultBindingMode: null, attrName: \"validation\", attrValue: \"true\", command: \"required\", expression: null}</code></p>\n"}, {"tags": ["typescript", "decorator"], "comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1460568725, "post_id": 34756294, "comment_id": 60808123, "body": "This might be possible depending on <i>how</i> and <i>when</i> you need to use the passed in value. I get it that you need to pass the... errrr... <i>instance value</i> of <code>startDateString</code> to the decorator applied to <code>endDateString</code>, but what are you planning to <i>do</i> with it in the decorator? Depending on circumstances, it <i>is</i> possible to get an instance member through a decorator."}], "answers": [{"comments": [{"owner": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "edited": false, "score": 0, "creation_date": 1452647511, "post_id": 34756469, "comment_id": 57259336, "body": "Thanks. But in my case, it cannot be static to be a class variable. It has to be an instance variable."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "edited": false, "score": 0, "creation_date": 1452648646, "post_id": 34756469, "comment_id": 57259636, "body": "@new2cpp one thing you could do is pass in a string or a function that is passed an instance of the class and returns the property value. Something like <code>{ afterDate: &quot;startDateString&quot; }</code> or <code>{afterDate: (instance: MyClass) =&gt; instance.startDate }</code>. You could then use this information later once you have an instance of the class to get the value out of the property. It&#39;s a hacky solution that&#39;s a great way to confuse everyone looking at the code though."}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 16, "last_activity_date": 1452650062, "last_edit_date": 1452650062, "creation_date": 1452645508, "answer_id": 34756469, "question_id": 34756294, "link": "https://stackoverflow.com/questions/34756294/how-to-pass-an-instance-variable-into-typescript-decorator-arguments/34756469#34756469", "title": "How to pass an instance variable into typescript decorator arguments?", "body": "<p>What you are trying to do is not possible.</p>\n\n<p>Decorators get called when the class is declared and at this time there is no instance to pass into the decorator.</p>\n\n<p>For example, with this code:</p>\n\n<pre><code>class MyClass {\n    startDateString: string;\n    @property({ afterDate: this.startDateString })\n    endDateString: string;\n}\nlet myClass = new MyClass();\n</code></pre>\n\n<ol>\n<li><code>MyClass</code> is declared.</li>\n<li>The decorators are run on <code>MyClass</code>. There is no instance that exists to pass in at this point and <code>this</code> in the decorator argument refers to the global object\u2014not an instance.</li>\n<li><code>new MyClass()</code> is called and the instance is created. Decorators aren't called on this step. That already happened.</li>\n</ol>\n\n<p>Take a look at the compiled JavaScript for reference:</p>\n\n<pre><code>var MyClass = (function () {\n    // -- 1 --\n    function MyClass() {\n    }\n    // -- 2 --\n    __decorate([\n        // see here... `this` is equal to the global object\n        property({ afterDate: this.startDateString })\n    ], MyClass.prototype, \"endDateString\", void 0);\n    return MyClass;\n})();\n// -- 3 --\nvar myClass = new MyClass();\n</code></pre>\n\n<p>Note that using <code>this.startDateString</code> doesn't throw a compile error here because <code>this</code> is typed as <code>any</code>.</p>\n\n<p>So what is trying to be done here by passing in an instance property doesn't make sense and isn't possible.</p>\n\n<p>What you could do is make <code>startDateString</code> static then pass it in like so: <code>@property({ afterDate: MyClass.startDateString })</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2821, "user_id": 1274509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ede70cd795d1eb6be6e805cb85fa2732?s=128&d=identicon&r=PG", "display_name": "Javier Ros", "link": "https://stackoverflow.com/users/1274509/javier-ros"}, "is_accepted": false, "score": 3, "last_activity_date": 1452645732, "creation_date": 1452645732, "answer_id": 34756498, "question_id": 34756294, "link": "https://stackoverflow.com/questions/34756294/how-to-pass-an-instance-variable-into-typescript-decorator-arguments/34756498#34756498", "title": "How to pass an instance variable into typescript decorator arguments?", "body": "<p>You can't access to a object property from a attribute definition. </p>\n\n<p>Decorator is called when the property is defined. </p>\n\n<p>You could use getter or setter to get control when access to the property. </p>\n"}], "owner": {"reputation": 2111, "user_id": 2251303, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6bbbc78a70fcb3621e68d4b2630d8900?s=128&d=identicon&r=PG", "display_name": "new2cpp", "link": "https://stackoverflow.com/users/2251303/new2cpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4736, "favorite_count": 3, "accepted_answer_id": 34756469, "answer_count": 2, "score": 17, "last_activity_date": 1452650062, "creation_date": 1452644404, "last_edit_date": 1495540971, "question_id": 34756294, "link": "https://stackoverflow.com/questions/34756294/how-to-pass-an-instance-variable-into-typescript-decorator-arguments", "title": "How to pass an instance variable into typescript decorator arguments?", "body": "<p><a href=\"https://stackoverflow.com/questions/29775830/how-to-implement-a-typescript-decorator\">How to implement a typescript decorator?</a> is a good example about how to use decorator in typescript.</p>\n\n<p>Considering the below case,</p>\n\n<pre><code>class MyClass {\n    @enumerable(false)\n    get prop() {\n        return true;\n    }\n\n    @property({required: true}) //here pass constant is no issue\n    public startDateString:string;\n\n    @property({afterDate: this.startDateString}) //how to pass startDateString here?\n    public endDateString:string;\n}\n\nfunction enumerable(isEnumerable: boolean) {\n    return (target: Object, propertyKey: string, descriptor: TypedPropertyDescriptor&lt;any&gt;) =&gt; {\n        descriptor.enumerable = isEnumerable;\n        return descriptor;\n    };\n}\n</code></pre>\n\n<p>I tried everything but it seems I have no way to pass <code>startDateString</code> into decorator argument. <code>startDateString</code> could be a variable, a function and a reference.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "edited": false, "score": 0, "creation_date": 1452644367, "post_id": 34756255, "comment_id": 57258506, "body": "What version of Typescript are you using?"}, {"owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "reply_to_user": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "edited": false, "score": 0, "creation_date": 1452644424, "post_id": 34756255, "comment_id": 57258524, "body": "the most recent one. (1.7.5)"}], "answers": [{"comments": [{"owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 0, "creation_date": 1452644695, "post_id": 34756309, "comment_id": 57258594, "body": "ooh -- didn&#39;t realize that had been added. Awesome. Exactly what I was looking for."}, {"owner": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "reply_to_user": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 1, "creation_date": 1452644770, "post_id": 34756309, "comment_id": 57258610, "body": "@BryceJohnson Keep an eye on <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript\" rel=\"nofollow noreferrer\">What&#39;s new in TypeScript</a> and the <a href=\"https://github.com/Microsoft/TypeScript/wiki/Roadmap\" rel=\"nofollow noreferrer\">Roadmap</a> for other new features you may have missed."}, {"owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "edited": false, "score": 0, "creation_date": 1452705931, "post_id": 34756309, "comment_id": 57291295, "body": "Thanks for the links -- I definitely need to look through both and think about how they&#39;re relevant to me."}], "tags": [], "owner": {"reputation": 31954, "user_id": 507784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746626153d30ebddefbe5d61553a9b39?s=128&d=identicon&r=PG", "display_name": "GregL", "link": "https://stackoverflow.com/users/507784/gregl"}, "is_accepted": true, "score": 3, "last_activity_date": 1452644495, "creation_date": 1452644495, "answer_id": 34756309, "question_id": 34756255, "link": "https://stackoverflow.com/questions/34756255/is-it-possible-to-implement-one-of-two-signatures-in-typescript/34756309#34756309", "title": "Is it possible to implement one of two signatures in Typescript?", "body": "<p>More recent versions of Typescript have introduced the concept of <em>union types</em>, where you can specify that a parameter/variable is one of a list of types.</p>\n\n<p>In your example, you would do:</p>\n\n<pre><code>interface arrayTypeOne {...}\ninterface arrayTypeTwo {...}\n\nexport class MyClass {\n\n    myMethod(args: arrayTypeOne | arrayTypeTwo) {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5757, "user_id": 2472219, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/N1L0L.jpg?s=128&g=1", "display_name": "Bryce Johnson", "link": "https://stackoverflow.com/users/2472219/bryce-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 34756309, "answer_count": 1, "score": 2, "last_activity_date": 1452644495, "creation_date": 1452644148, "question_id": 34756255, "link": "https://stackoverflow.com/questions/34756255/is-it-possible-to-implement-one-of-two-signatures-in-typescript", "title": "Is it possible to implement one of two signatures in Typescript?", "body": "<p>For example, let's say I want to accept an array of a specific type (say <code>User</code>) or an array <em>of arrays</em> of <code>Users</code> as a parameter.</p>\n\n<p>In other words, I want to do something like this:</p>\n\n<pre><code>interface arrayTypeOne {...}\ninterface arrayTypeTwo {...}\n\nexport class MyClass {\n\n    myMethod(args:MustBeOneOrTwo) {\n\n    }\n}\n</code></pre>\n\n<p>The flexibility is valuable to consumers of the API, so I don't think it's a good idea to break it into two methods. On the other hand, I'd really like to declare a type more specific than <code>all</code>.</p>\n\n<p>Ideas?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 2354, "user_id": 606885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78308bfba597911237a97e8c2fa6cee1?s=128&d=identicon&r=PG", "display_name": "Esteban", "link": "https://stackoverflow.com/users/606885/esteban"}, "edited": false, "score": 2, "creation_date": 1452637145, "post_id": 34754727, "comment_id": 57255859, "body": "I don&#39;t think you&#39;re missing anything. They hold a reference to the class in a variable. They use that variable to modify the class. It&#39;s just an indirection. In this case it could be avoided by doing <code>Greeter.standardGreeting = &quot;Hey there!&quot;;</code> but imagine passing the class around to some module that doesn&#39;t know about it and you&#39;ll get the point."}], "answers": [{"tags": [], "owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "is_accepted": true, "score": 1, "last_activity_date": 1452637154, "creation_date": 1452637154, "answer_id": 34754834, "question_id": 34754727, "link": "https://stackoverflow.com/questions/34754727/whats-the-point-of-this-section-of-code-in-typescript/34754834#34754834", "title": "What&#39;s the point of this section of code in Typescript?", "body": "<p>This is working within TS' typing system to get a reference to the class, without declaring <code>greeterMaker</code> as holding a class directly (I imagine <code>foo: class</code> is probably not allowed).</p>\n\n<p>In theory, this will work even if the value on the right isn't <code>Greeter</code> but is some other class with similar semantics and the same public static field. It could allow you to dynamically provide a different class and use that, but in this example, isn't particularly helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 2197169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cbeb033512dbbb4cbc18cbda5f6dc2e?s=128&d=identicon&r=PG", "display_name": "user2197169", "link": "https://stackoverflow.com/users/2197169/user2197169"}, "is_accepted": false, "score": 0, "last_activity_date": 1452637455, "creation_date": 1452637455, "answer_id": 34754905, "question_id": 34754727, "link": "https://stackoverflow.com/questions/34754727/whats-the-point-of-this-section-of-code-in-typescript/34754905#34754905", "title": "What&#39;s the point of this section of code in Typescript?", "body": "<p>If you run the code, you will see that \"Hello, there\" should be displayed in an alert box. Followed by \"Hey there!\". </p>\n\n<p>The static variable cannot be changed in the class Greeter without Creating a new on as a Typeof. </p>\n\n<p>if you try to add line \ngreeter.standardGreeting = \"Hey there!\";</p>\n\n<p>It will error.</p>\n"}, {"tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": false, "score": 2, "last_activity_date": 1452667947, "creation_date": 1452667947, "answer_id": 34760150, "question_id": 34754727, "link": "https://stackoverflow.com/questions/34754727/whats-the-point-of-this-section-of-code-in-typescript/34760150#34760150", "title": "What&#39;s the point of this section of code in Typescript?", "body": "<p>This part of the documentation seems to be trying to explain the difference between a type of <code>Greeting</code> and a type of <code>typeof Greeting</code>.</p>\n\n<p>To understand these two things, you must first understand that a TypeScript class is syntactic sugar that combines (1) a constructor function and (2) an interface that describes instances generated by that constructor.</p>\n\n<p>So, when you see this:</p>\n\n<pre><code>class Greeter {\n    static standardGreeting = \"Hello, there\";\n    greeting: string;\n    greet() {\n        // ... code ...\n    }\n}\n</code></pre>\n\n<p>What you actually are doing is defining something that, written out longhand, looks more like this:</p>\n\n<pre><code>interface Greeter {\n  greet(): void;\n}\n\nvar Greeter: {\n  new(): Greeter;\n  prototype: Greeter;\n  standardGreeting: string;\n};\n\nGreeter = function () {};\nGreeter.prototype.greet = function () {\n  // ...code...\n};\n</code></pre>\n\n<p>In other words, you\u2019ve written an interface <code>Greeter</code> that describes Greeter instances, plus a second <em>anonymous</em> type on a variable <code>Greeter</code> that describes the constructor function. (This works because types exist in a separate, parallel namespace that does not conflict with the variable names in generated code.)</p>\n\n<p>Using the <code>Greeter</code> interface type is obvious enough\u2014just write <code>Greeter</code>\u2014but how does one access this anonymous type attached to the <code>Greeter</code> variable? The answer is the <code>typeof</code> type modifier. Writing <code>typeof Greeter</code> says \u201cuse the type of the <em>variable</em> Getter\u201d, which lets us access the anonymous type assigned to the variable <code>Greeter</code> that holds the constructor.</p>\n\n<p>So that is what the documentation is trying to explain. Hopefully this explanation is much clearer and we can now understand this part of the code:</p>\n\n<pre><code>// This creates an alias called `greeterMaker` to the\n// Greeter constructor function\n// (functions are objects, and objects are always handled\n// by-reference in JavaScript)\nvar greeterMaker: typeof Greeter = Greeter;\n\n// This modifies the `standardGreeting` property of the\n// function through the alias\ngreeterMaker.standardGreeting = \"Hey there!\";\n\n// This invokes the constructor function through the alias,\n// constructing a new instance of a Greeter\nvar greeter2:Greeter = new greeterMaker(); // And this line\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 5722159, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/674f3d64de20eb084f1a727fa7e21454?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/5722159/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 34754834, "answer_count": 3, "score": 4, "last_activity_date": 1452667947, "creation_date": 1452636756, "question_id": 34754727, "link": "https://stackoverflow.com/questions/34754727/whats-the-point-of-this-section-of-code-in-typescript", "title": "What&#39;s the point of this section of code in Typescript?", "body": "<p>I'm reading the handbook for Typescript and I noticed section of code that is (to me) pointless. Can some explain what the purpose of this is?</p>\n\n<p>Taken from the <a href=\"http://www.typescriptlang.org/Handbook#classes-advanced-techniques\" rel=\"nofollow\">docs</a>:</p>\n\n<pre><code>class Greeter {\n    static standardGreeting = \"Hello, there\";\n    greeting: string;\n    greet() {\n        if (this.greeting) {\n            return \"Hello, \" + this.greeting;\n        }\n        else {\n            return Greeter.standardGreeting;\n        }\n    }\n}\n\nvar greeter1: Greeter;\ngreeter1 = new Greeter();\nalert(greeter1.greet());\n\nvar greeterMaker: typeof Greeter = Greeter; // This line\ngreeterMaker.standardGreeting = \"Hey there!\"; // This line\nvar greeter2:Greeter = new greeterMaker(); // And this line\nalert(greeter2.greet());\n</code></pre>\n\n<p>So, what the docs say is that <code>var greeterMaker: typeof Greeter = Greeter</code> \"will hold the class itself.\" I'm not entirely sure what that means either</p>\n\n<p>Then it does this:</p>\n\n<pre><code>greeterMaker.standardGreeting = \"Hey there!\";\n\n// Which does the exact same thing as this:\nGreeter.standardGreeting = \"Hey there!\";\n</code></pre>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["typescript", "angular", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452636038, "post_id": 34754517, "comment_id": 57255314, "body": "for the routerOnActivate where do I import it from?"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452636167, "post_id": 34754517, "comment_id": 57255373, "body": "The angular.io documentation is poor for examples."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 1, "creation_date": 1452636281, "post_id": 34754517, "comment_id": 57255432, "body": "The @CanActivate(()=&gt;console.log(&#39;Should the component Activate?&#39;)) code doesnt seem to work"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452636422, "post_id": 34754517, "comment_id": 57255492, "body": "from <a href=\"https://angular.io/docs/ts/latest/api/router/OnActivate-interface.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/router/OnActivate-interface.ht&zwnj;&#8203;ml</a>, you import the OnActivate interface , but its not necesary, as long as your Component has that method, the router will call it if your method gets resolved by a route"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452637827, "post_id": 34754517, "comment_id": 57256166, "body": "And I can put this in my app.ts file?"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452637943, "post_id": 34754517, "comment_id": 57256230, "body": "Have you gone through the <code>&lt;router-outlet&gt;</code> at all?"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452657381, "post_id": 34754517, "comment_id": 57261794, "body": "@AngularM - looks like the routerOnActivate is from the following. exported from angular2/router defined in angular2/src/router/interfaces.ts (line 7)"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "edited": false, "score": 0, "creation_date": 1453892117, "post_id": 34754517, "comment_id": 57795329, "body": "@inoabrian  did you get anywhere with the redirect to homepage?"}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": false, "score": 1, "last_activity_date": 1452635790, "creation_date": 1452635790, "answer_id": 34754517, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/34754517#34754517", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>From here:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html</a></p>\n\n<p><code>CanActivate</code> is an annotation, not a function. You use it like this:</p>\n\n<pre><code>@Component({selector: ... })\n@CanActivate(()=&gt;console.log('Should the component Activate?'))\nclass AppComponent {\n\n}\n</code></pre>\n\n<p><code>routerOnActivate</code> IS a function you use inside your component:</p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/api/router/OnActivate-interface.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/api/router/OnActivate-interface.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452673818, "post_id": 34759270, "comment_id": 57268525, "body": "Where do I import this annotation from?"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452693623, "post_id": 34759270, "comment_id": 57282024, "body": "I added it to my answer it`s in angular2/router"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452693973, "post_id": 34759270, "comment_id": 57282283, "body": "Can I add the @CanActivate to my app.ts file? Because I want to redirect the user to another route if they are not authenticated"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452695359, "post_id": 34759270, "comment_id": 57283296, "body": "I think you will need to put it on the components where you want to over ride their navigation."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452695542, "post_id": 34759270, "comment_id": 57283408, "body": "I want it in a global area like app ts so I can redirect if users try to reach pages without logging in"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452696102, "post_id": 34759270, "comment_id": 57283797, "body": "I added the higher level route authentication to my answer."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453822877, "post_id": 34759270, "comment_id": 57762249, "body": "I&#39;ve implement your answer above but do I need to link it to my app,ts file? because its not hitting the LoggedInRouterOutlet code above"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823065, "post_id": 34759270, "comment_id": 57762384, "body": "Ok I&#39;ve got it hitting it, but it still hits the internal page component"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823101, "post_id": 34759270, "comment_id": 57762411, "body": "could you put it in a plnkr just your app.ts file"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823319, "post_id": 34759270, "comment_id": 57762553, "body": "Not sure how to do that."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823328, "post_id": 34759270, "comment_id": 57762562, "body": "This is my current code :  activate(instruction: ComponentInstruction) {     this.parentRouter.navigate([&#39;/Home&#39;]);      return super.activate(instruction);   }"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823377, "post_id": 34759270, "comment_id": 57762613, "body": "For some pages it navigates to Home and for other pages that are internal it doesnt, thus causing a component error as its hitting the component"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823397, "post_id": 34759270, "comment_id": 57762634, "body": "remove the return statement.. What happens if you do that? If you return super.activate(instruction) it will continue to the navigated route and not redirect."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823598, "post_id": 34759270, "comment_id": 57762800, "body": "I get typescript error - property activate are incompatible"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453823733, "post_id": 34759270, "comment_id": 57762909, "body": "Are you sure you are using the &lt;LoggedInRouterOutlet&gt;&lt;/LoggedInRouterOutlet&gt; tag instead of &lt;router-outlet&gt;&lt;/router-outlet&gt;"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453824102, "post_id": 34759270, "comment_id": 57763188, "body": "I didnt do that, I have now and none of my routes work"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453824200, "post_id": 34759270, "comment_id": 57763266, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/101694/discussion-between-inoabrian-and-angularm\">continue this discussion in chat</a>."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453899149, "post_id": 34759270, "comment_id": 57800186, "body": "any luck with the redirect to home route ?"}, {"owner": {"reputation": 8135, "user_id": 29821, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0a7a92f79bb02ee0683a5e7a131d5e85?s=128&d=identicon&r=PG", "display_name": "pbz", "link": "https://stackoverflow.com/users/29821/pbz"}, "edited": false, "score": 0, "creation_date": 1454596386, "post_id": 34759270, "comment_id": 58123069, "body": "@inoabrian Can you show us an example of how to use LoggedInRouterOutlet? How do you register it in boot.ts? I am currently getting &quot;Cannot resolve all parameters for &#39;Router&#39;(?, ?, ?)&quot;. Thanks."}, {"owner": {"reputation": 49266, "user_id": 3751711, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/vQxvC.png?s=128&g=1", "display_name": "micronyks", "link": "https://stackoverflow.com/users/3751711/micronyks"}, "edited": false, "score": 0, "creation_date": 1455346498, "post_id": 34759270, "comment_id": 58459627, "body": "superb solution...bravo !"}, {"owner": {"reputation": 12476, "user_id": 5376813, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c390d5f49f162d21c0dc234131a4ed7d?s=128&d=identicon&r=PG&f=1", "display_name": "TetraDev", "link": "https://stackoverflow.com/users/5376813/tetradev"}, "edited": false, "score": 0, "creation_date": 1467132098, "post_id": 34759270, "comment_id": 63600078, "body": "<code>ComponentInstruction</code> does not exist yet in the new v 3.0.0.0-alpha8 router. How do we get around this?"}, {"owner": {"reputation": 1154, "user_id": 303623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a7be2787417fe82e9677e541fb096cb?s=128&d=identicon&r=PG", "display_name": "Rick O&#39;Shea", "link": "https://stackoverflow.com/users/303623/rick-oshea"}, "edited": false, "score": 0, "creation_date": 1470015369, "post_id": 34759270, "comment_id": 64759310, "body": "This is a common requirement and core behavior that the framework can and should provide. It&#39;s not the case that thousands of developers should hack together an override of the routing function."}], "tags": [], "owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "is_accepted": false, "score": 12, "last_activity_date": 1457557682, "last_edit_date": 1457557682, "creation_date": 1452664185, "answer_id": 34759270, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/34759270#34759270", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>So the documentation looks like this is what it exports.</p>\n\n<pre><code>export CanActivate(options : CanActivateAnnotation) : (hook: (next: ComponentInstruction, prev: ComponentInstruction) =&gt;\n                     Promise&lt;boolean&gt;| boolean) =&gt; ClassDecorator\n\n@CanActivate((next, prev) =&gt; {\n      // This must prove to be true for the component @ this route to load\n      if(next.urlPath != '/Login'){ \n         return Promise.resolve(this._authService.getIsAuth() \n         &amp;&amp; localStorage.getItem('authToken')\n      }\n      /*\n       If CanActivate returns or resolves to false, the navigation is \n       cancelled. If CanActivate throws or rejects, the navigation is also\n       cancelled. If CanActivate returns or resolves to true, navigation \n       continues, the component is instantiated, and the OnActivate hook of \n       that component is called if implemented.\n      */\n   }\n);\n</code></pre>\n\n<p>At the bottom of the Angular2 documentation they add this snippet : \nexported from angular2/router \n<a href=\"https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html\">https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html</a></p>\n\n<p>So if you are looking to do redirection from a higher level.\nYou would not use the CanActivate decorator you would do the following.</p>\n\n<pre><code>import {Directive, Attribute, ElementRef, DynamicComponentLoader} from 'angular2/core';\nimport {Router, RouterOutlet, ComponentInstruction} from 'angular2/router';\nimport {Login} from '../login/login';\nimport {UserService} from '../../Services/userService'; // a service to handle auth\n\n@Directive({\n  selector: 'router-outlet'\n})\nexport class AuthRouterOutlet extends RouterOutlet {\n  publicRoutes: any;\n  private parentRouter: Router;\n\n  constructor(private _userService:UserService, _elementRef: ElementRef, _loader: DynamicComponentLoader,\n              _parentRouter: Router, @Attribute('name') nameAttr: string) {\n    super(_elementRef, _loader, _parentRouter, nameAttr);\n\n    this.parentRouter = _parentRouter;\n    this.publicRoutes = {\n      '/login': true,\n      '/signup': true\n    };\n    // publicRoutes will be the routes auth is not needed for.\n  }\n\n  activate(instruction: ComponentInstruction) {\n    var url = this.parentRouter.lastNavigationAttempt;\n    if (!this.publicRoutes[url] &amp;&amp; this._userService.getAuth()) {\n      // todo: redirect to Login, may be there a better way?\n      this.parentRouter.navigateByUrl('/login');\n    }\n    return super.activate(instruction);\n    // we return super.activate(instruction) here so the router can activate the requested route and it's components.\n  }\n}\n</code></pre>\n\n<p>This implementation handles any new request to a  directive and runs the activate function where your route authentication logic will be.\nThe code above would be called something like AuthRouterOutlet.\nand you would have to add it to your app.ts via the </p>\n\n<pre><code>directives: [ AuthRouterOutlet]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 2232846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb1c49b65033386ad94ab7d5aea5671?s=128&d=identicon&r=PG", "display_name": "MJB", "link": "https://stackoverflow.com/users/2232846/mjb"}, "is_accepted": false, "score": 2, "last_activity_date": 1466548064, "creation_date": 1466548064, "answer_id": 37955608, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/37955608#37955608", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>These answers are no longer valid in the RC candidate as of 22/6/16.</p>\n\n<p>There is a lot of talk a new solution for <code>@CanActivate</code> annotation but you can revert back to using the <code>angular-2/router-deprecated</code> version in the interim.</p>\n\n<p>If you want to follow the updates to this area if you want to use the newer router implementation please check out these two github issues:</p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular/issues/6611\" rel=\"nofollow\">Router OnActivate does not delay render until promise settles #6611</a></li>\n<li><a href=\"https://github.com/angular/angular/issues/4015\" rel=\"nofollow\">Equivalent to resolve in Component Router? #4015</a></li>\n</ul>\n\n<p>Sorry there is no complete answer right now, if I see any further progress on this I'll update this reply. I'm searching for an elegant solution as well.</p>\n\n<p>For the interim I just used a <code>ngIf='fooObject'</code> in a div to check for object being used in a child directive is populated/truthy and then render the rest of the components html. It's not ideal but it does work consistently right now. May help you or not depending on your use case. I don't need to redirect, only check my data has resolved for the display of my component.</p>\n"}, {"tags": [], "owner": {"reputation": 1202, "user_id": 1944351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a91645f4dd11fb27c17b723c379b0087?s=128&d=identicon&r=PG", "display_name": "Nilz11", "link": "https://stackoverflow.com/users/1944351/nilz11"}, "is_accepted": false, "score": 5, "last_activity_date": 1468487296, "last_edit_date": 1495540043, "creation_date": 1468487296, "answer_id": 38370032, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/38370032#38370032", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>With the new beta release of the router, you can also see my answer here on how to use the CanActivate interface:</p>\n\n<p><a href=\"https://stackoverflow.com/a/38369948/1944351\">https://stackoverflow.com/a/38369948/1944351</a></p>\n\n<p>Using the decorator as mentioned in other answer is fine too.</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 3140679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/676c06cd883f157349c8e51205fe61bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ori Calvo", "link": "https://stackoverflow.com/users/3140679/ori-calvo"}, "is_accepted": false, "score": 0, "last_activity_date": 1494710175, "creation_date": 1494710175, "answer_id": 43958060, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/43958060#43958060", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>@CanActivate was removed. See more details <a href=\"https://github.com/angular/angular/issues/8655\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>You should now use <a href=\"https://angular.io/docs/ts/latest/api/router/index/CanActivate-interface.html\" rel=\"nofollow noreferrer\">route.canActivate</a></p>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21370, "favorite_count": 7, "answer_count": 5, "score": 12, "last_activity_date": 1494710175, "creation_date": 1452634856, "question_id": 34754295, "link": "https://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red", "title": "Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in", "body": "<p>Angular2 Router - Anyone know how to use canActivate in app.ts so that I can redirect to home page if not logged in</p>\n\n<p>I'm using typescript and angular 2.</p>\n\n<p><strong>Current attempt under my constructor in my app.ts file:</strong></p>\n\n<pre><code>   canActivate(instruction) {           \n               console.log(\"here - canActivate\");\n               console.log(instruction);\n\n               this.router.navigate(['Home']);  \n   }\n</code></pre>\n\n<p>It currently doesnt get hit.\nAny idea why?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1452632892, "post_id": 34753755, "comment_id": 57253705, "body": "Just to put it out there, you can define getters in TypeScript using <code>public get foobar() { return this._foobar; }</code>. The compiler&#39;s not going to evaluate your code and figure out what the result of <code>removeUnderscores(key)</code> is, so there&#39;s no way to make what you&#39;re trying to do here work."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1452637688, "creation_date": 1452637688, "answer_id": 34754962, "question_id": 34753755, "link": "https://stackoverflow.com/questions/34753755/typescript-is-it-possible-to-define-new-class-members-using-decorators/34754962#34754962", "title": "TypeScript: Is it possible to define new class members using decorators?", "body": "<blockquote>\n  <p>console.log(this.foobar) // Compiler error</p>\n</blockquote>\n\n<p>You cannot remove this compiler error based on the current semantics of a TypeScript decorator infrastructure. </p>\n"}], "owner": {"reputation": 41, "user_id": 5781004, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0xYDMAwQmMM/AAAAAAAAAAI/AAAAAAAAAMU/bmBE8zqTpsc/photo.jpg?sz=128", "display_name": "logashoff", "link": "https://stackoverflow.com/users/5781004/logashoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1452637688, "creation_date": 1452632618, "question_id": 34753755, "link": "https://stackoverflow.com/questions/34753755/typescript-is-it-possible-to-define-new-class-members-using-decorators", "title": "TypeScript: Is it possible to define new class members using decorators?", "body": "<p>Example:</p>\n\n<pre><code>function Getter(target: any, key: string): void {\n  let getter = () =&gt; this[key];\n  /*  create \"foobar\" property from \"_foobar\" */\n  Object.defineProperty(target, removeUnderscores(key), {\n    get: getter,\n    enumerable: true,\n    configurable: true\n  });\n}\n\nclass Foo {\n   @Getter \n   private _foobar: string;\n   constructor() {\n      this._foobar = \"Hello World\" // OK\n      console.log(this.foobar) // Compiler error\n   }\n}\n\nlet foo = new Foo();\nconsole.log(foo.foobar) // Compiler error\n</code></pre>\n\n<p>I guess it's possible to make <code>_foobar</code> public and rename it to <code>foobar</code> to avoid creating new property names, but trying to modify that property externally won't cause compile-time error, it should cause a run-time error when it's modified internally or externally.</p>\n"}, {"tags": ["typescript", "angular", "angular2-routing"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452632606, "post_id": 34753689, "comment_id": 57253540, "body": "Check these two options: <a href=\"https://angular.io/docs/ts/latest/api/router/CanActivate-decorator.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/router/CanActivate-decorator.h&zwnj;&#8203;tml</a> &amp; <a href=\"https://angular.io/docs/ts/latest/api/router/OnActivate-interface.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/router/OnActivate-interface.ht&zwnj;&#8203;ml</a>"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452633904, "post_id": 34753689, "comment_id": 57254226, "body": "I&#39;m not sure how to get those working - the documentation is poor on those websites"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452634093, "post_id": 34753689, "comment_id": 57254316, "body": "Add the <code>@CanActivate</code> annotation to your component and the function you pass to it will get called before the constructor of your component."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452634333, "post_id": 34753689, "comment_id": 57254433, "body": "I&#39;ve just tried this in my app.ts under my constructor:   CanActivate() {         console.log(&#39;here&#39;);     }  But its not getting hit at all"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452635549, "post_id": 34753689, "comment_id": 57255031, "body": "CanAtivate is an Anotation, not a function, you pass a function to it, like in the example: <code>@CanActivate( () =&gt; console.log(&#39;here&#39;) ) export class YourComponent {</code>"}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452635711, "post_id": 34753689, "comment_id": 57255123, "body": "Ok, I&#39;ve put this in the app.ts file: @CanActivate( () =&gt; console.log(&#39;here&#39;) )  But I get loads of typescript errors."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452635809, "post_id": 34753689, "comment_id": 57255183, "body": "like which one? Did you import the CanActivate annotation ?"}], "answers": [{"comments": [{"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453821189, "post_id": 34759468, "comment_id": 57760926, "body": "where do I put this code? in my app.ts file? if so where abouts ? (inside the component?)"}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453821326, "post_id": 34759468, "comment_id": 57761021, "body": "This piece goes before each component. If you look at my answer here : <a href=\"http://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/34759270?noredirect=1#comment57283408_34759270\" title=\"angular2 router anyone know how to use canactivate in app ts so that i can red\">stackoverflow.com/questions/34754295/&hellip;</a>. It will show you how to do it at the app.ts level by overriding the router-outlet."}, {"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453822385, "post_id": 34759468, "comment_id": 57761878, "body": "I have loads of components though. I want something like angular 1.x interceptor."}, {"owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "reply_to_user": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1453822674, "post_id": 34759468, "comment_id": 57762096, "body": "then use this answer <a href=\"http://stackoverflow.com/questions/34754295/angular2-router-anyone-know-how-to-use-canactivate-in-app-ts-so-that-i-can-red/34759270?noredirect=1#comment57283408_34759270\" title=\"angular2 router anyone know how to use canactivate in app ts so that i can red\">stackoverflow.com/questions/34754295/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3655, "user_id": 1851066, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a91dae54e0a9f8f7a06f1bafd1d4f410?s=128&d=identicon&r=PG", "display_name": "inoabrian", "link": "https://stackoverflow.com/users/1851066/inoabrian"}, "is_accepted": false, "score": 0, "last_activity_date": 1452664929, "creation_date": 1452664929, "answer_id": 34759468, "question_id": 34753689, "link": "https://stackoverflow.com/questions/34753689/angular-2-router-when-logged-out-and-a-user-tries-to-navigate-to-a-logged-in-p/34759468#34759468", "title": "Angular 2 router - When logged out and a user tries to navigate to a logged in page I need the app.ts to redirect", "body": "<p>Well you already posted something on this topic but i'll answer it here in case this is something others look at more.\nYou can redirect a user by utilizing the @CanActivate decorator.\nWhat this does is that it will run before the component initialization.\nif the function returns true the component will load else it will redirect.\nI assume it will go to the route you set <code>useAsDefault :true;</code></p>\n\n<pre><code>export CanActivate(options : CanActivateAnnotation) : (hook: (next: ComponentInstruction, prev: ComponentInstruction) =&gt;\n                     Promise&lt;boolean&gt;| boolean) =&gt; ClassDecorator\n\n@CanActivate((next, prev) =&gt; {\n      // This must prove to be true for the component @ this route to load\n      if(next.urlPath != '/Login'){ \n         return Promise.resolve(this._authService.getIsAuth() \n         &amp;&amp; localStorage.getItem('authToken')\n      }\n      /*\n       If CanActivate returns or resolves to false, the navigation is \n       cancelled. If CanActivate throws or rejects, the navigation is also\n       cancelled. If CanActivate returns or resolves to true, navigation \n       continues, the component is instantiated, and the OnActivate hook of \n       that component is called if implemented.\n      */\n   }\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "edited": false, "score": 0, "creation_date": 1452673763, "post_id": 34759663, "comment_id": 57268496, "body": "The above code only works when changing url and not on refresh. When I refresh it still reaches the component and doesn&#39;t redirect them to my home page view"}], "tags": [], "owner": {"reputation": 49266, "user_id": 3751711, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/vQxvC.png?s=128&g=1", "display_name": "micronyks", "link": "https://stackoverflow.com/users/3751711/micronyks"}, "is_accepted": false, "score": 0, "last_activity_date": 1452665809, "creation_date": 1452665809, "answer_id": 34759663, "question_id": 34753689, "link": "https://stackoverflow.com/questions/34753689/angular-2-router-when-logged-out-and-a-user-tries-to-navigate-to-a-logged-in-p/34759663#34759663", "title": "Angular 2 router - When logged out and a user tries to navigate to a logged in page I need the app.ts to redirect", "body": "<p>You need to write below code into app.ts as you are asking.</p>\n\n<pre><code>import {Router,ROUTER_PROVIDERS,RouteConfig, ROUTER_DIRECTIVES,APP_BASE_HREF,LocationStrategy,RouteParams,ROUTER_BINDINGS} from 'angular2/router';\n\nexport class AppComponent  {\n    constructor(router:Router){\n       this.router=router;\n       this.router.subscribe((nextValue) =&gt; {\n       console.log(nextValue)\n       if (nextValue !== 'login' &amp;&amp; !autheService.isAuthenticated) {\n                      this.router.navigate(['/Login']);\n       }\n}\n</code></pre>\n\n<p>have a look here <code> <a href=\"https://plnkr.co/edit/NbGy8gxmy5DdLhoiHw8h?p=preview\" rel=\"nofollow\">plnkr</a> </code></p>\n\n<p>If you consider angular1. We have, </p>\n\n<pre><code>$scope.$on('$routeChangeStart', function(next, current) { \n   ... you could trigger something here ...\n });\n</code></pre>\n\n<p>and other events if route fails and so on to deal with routing using ui.router. So you can replace Angular1 with this above mentioned code.</p>\n\n<p>I think what you are asking for, can be achieved by this with minimum efforts. Still @canActive other points are valid.</p>\n\n<p>I hope this will help.</p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 3181465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf2bfaa592a1c6a46406e0785d94b37?s=128&d=identicon&r=PG", "display_name": "Ajay Ambre", "link": "https://stackoverflow.com/users/3181465/ajay-ambre"}, "is_accepted": false, "score": 0, "last_activity_date": 1468997873, "creation_date": 1468997873, "answer_id": 38474335, "question_id": 34753689, "link": "https://stackoverflow.com/questions/34753689/angular-2-router-when-logged-out-and-a-user-tries-to-navigate-to-a-logged-in-p/38474335#38474335", "title": "Angular 2 router - When logged out and a user tries to navigate to a logged in page I need the app.ts to redirect", "body": "<p>If you are on RC4 version, check <a href=\"https://angular.io/docs/ts/latest/api/router/index/CanActivate-interface.html\" rel=\"nofollow\">CanActivate interface</a></p>\n\n<p>You will need to create a class which implements CanActivate interface and protect your routes using <code>canActivate</code> property of <code>RouterConfig</code></p>\n\n<p>Check the <a href=\"https://angular.io/docs/ts/latest/guide/router.html#!#can-activate-guard\" rel=\"nofollow\">latest router documentation</a> for examples.</p>\n"}], "owner": {"reputation": 13772, "user_id": 1590389, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/51a41858b3dd958e7ed05e6c926a57f4?s=128&d=identicon&r=PG&f=1", "display_name": "AngularM", "link": "https://stackoverflow.com/users/1590389/angularm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2185, "favorite_count": 3, "answer_count": 3, "score": 0, "last_activity_date": 1468997873, "creation_date": 1452632382, "last_edit_date": 1452656115, "question_id": 34753689, "link": "https://stackoverflow.com/questions/34753689/angular-2-router-when-logged-out-and-a-user-tries-to-navigate-to-a-logged-in-p", "title": "Angular 2 router - When logged out and a user tries to navigate to a logged in page I need the app.ts to redirect", "body": "<p>Angular 2 router - When logged out and a user tries to navigate to a logged in page I need the app.ts to redirect.</p>\n\n<p>I'm using <strong>typescript</strong> with <strong>angular 2.</strong></p>\n\n<p>For some reason the redirect works for some pages.\nBut when I have code in the constructor it hits it.\nI want to redirect the user to homepage straight away if not logged in.</p>\n\n<p><strong>I'm checking if they are logged in and then I do this code if they are not logged in in the app.ts file:</strong></p>\n\n<pre><code>       this.router.navigate(['Home']);\n</code></pre>\n\n<p>This works for basic pages but when I try access my search page for example I get console errors because its accessing the components constructor.</p>\n\n<p><strong>This is my route config in the app.ts file:</strong></p>\n\n<pre><code> @RouteConfig([\n     { path: '/', component: Home, as: 'Home'},\n     { path: '/home', component: Home, as: 'Home' },\n     { path: '/login', component: Login, as: 'Login' }, \n     { path: '/register/:id', component: Register, as: 'Register' },\n     { path: '/forgotpassword', component: ForgotPassword, as: 'ForgotPassword' },\n     { path: '/dashboard', component: Dashboard, as: 'Dashboard' },\n     { path: '/search', component: SearchJobs, as: 'Search' },  \n     {path:'/**', redirectTo: ['Home']}\n ])\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "gulp", "angular", "systemjs"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452626711, "post_id": 34752047, "comment_id": 57250180, "body": "any particular reason for compiling with babel and not typescript?"}, {"owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452626964, "post_id": 34752047, "comment_id": 57250330, "body": "Gulp has built-in support for babel, I don&#39;t have to transpile the gulpfile before I can run gulp. If I&#39;d written my gulpfile in TypeScript I&#39;d have had to transpile before being able to run it (to my knowledge). So pure laziness :D"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452627061, "post_id": 34752047, "comment_id": 57250376, "body": "why would you want to transpile a gulp file? sorry I&#39;m a bit lost"}, {"owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452627340, "post_id": 34752047, "comment_id": 57250581, "body": "The Gulp+Babel thing is only for the gulpfile task. It&#39;s a <code>gulpfile.babel.js</code>. I&#39;ll edit it to remove the confusion, as it doesn&#39;t really matter if it&#39;s a babel gulpfile or not for the snippet included. And there might be reasons why you&#39;d want to transpile a gulpfile (probably similar reasons as the ones I have for using ES6 in my gulpfile: it makes writing tasks easier and more elegant in my point of view)"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452627499, "post_id": 34752047, "comment_id": 57250675, "body": "got it, so what&#39;s the exact error you are getting when you load your index.html file?"}, {"owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452627920, "post_id": 34752047, "comment_id": 57250924, "body": "With all of the code as shown in the question, I get: <code>core_1.Input is not a function</code>"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452628131, "post_id": 34752047, "comment_id": 57251065, "body": "are you compiling the typings?"}, {"owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452628166, "post_id": 34752047, "comment_id": 57251081, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/100510/discussion-between-ionut-costica-and-langley\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "is_accepted": true, "score": 1, "last_activity_date": 1452683400, "creation_date": 1452683400, "answer_id": 34765107, "question_id": 34752047, "link": "https://stackoverflow.com/questions/34752047/how-can-you-make-angular2-work-in-a-generated-distribution-folder/34765107#34765107", "title": "How can you make Angular2 work in a generated distribution folder?", "body": "<p>I managed to find the solution, the <code>System.config()</code> parameters were wrong. This is the working version for whoever has similar problems:</p>\n\n<pre><code>    System.config({\n      packages: {\n        js: {\n          format: 'register',\n          defaultExtension: 'js'\n        }\n      }\n    });\n</code></pre>\n\n<p>The rest of it apparently takes care of itself.</p>\n"}], "owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3056, "favorite_count": 1, "accepted_answer_id": 34765107, "answer_count": 1, "score": 4, "last_activity_date": 1452683400, "creation_date": 1452626382, "last_edit_date": 1452627365, "question_id": 34752047, "link": "https://stackoverflow.com/questions/34752047/how-can-you-make-angular2-work-in-a-generated-distribution-folder", "title": "How can you make Angular2 work in a generated distribution folder?", "body": "<p>I'm trying to get my own starter project for Angular2+Typescript (+SystemJS+Gulp4) going, but I've run into some problems when switching from compiling the TypeScript in the same folder as the JavaScript and with access to <code>node_modules</code> folder to putting everything in a <code>dist</code> folder (with <code>dist/js</code> for compiled JavaScript and <code>dist/js/lib</code> for the vendor files (<code>angular2.dev.js</code>, <code>http.dev.js</code>, <code>router.dev.js</code>, <code>Rx.js</code>, <code>system.src.js</code> etc.)).</p>\n\n<p>You can find the complete project <a href=\"https://github.com/souldreamer/event-planner\" rel=\"nofollow\">on github (souldreamer/event-planner)</a>.</p>\n\n<p>Is someone willing to take a gander and see what I'm doing wrong? It's probably the <code>SystemJS</code> config in <code>index.html</code> because depending on what config I try, I either get no actual loading of <code>boot.js</code> (the network tab shows that everything was loaded though, but the <code>System.import()</code> promise never resolves), or errors like <code>core_1.Component is not a function</code> or <code>core_1.Input is not a function</code> when I also add the <code>InputComponent</code>.</p>\n\n<p><strong>Note:</strong> before you think about marking this as a duplicate, I've been searching the net &amp; StackOverflow for the past couple of days, and tried every variation I could find, so it's not really a duplicate problem (even though there are <em>many</em> similar questions).</p>\n\n<p>Included here are some pieces I think might be relevant, in case you don't want to look at the full project:</p>\n\n<ul>\n<li><p><code>TypeScript</code> compilation (<code>Gulp4</code> task):</p>\n\n<pre><code>function tsCompile() {\n  var tsResult = gulp\n    .src(['./app/**/*.ts', './typings/**/*.ts'])\n    .pipe(sourcemaps.init())\n    .pipe(tsc(tsc.createProject('tsconfig.json')));\n\n  return merge([\n    tsResult.dts.pipe(gulp.dest('./typings/typescriptApp.d.ts')),\n    tsResult.js\n      .pipe(sourcemaps.write('.'))\n      .pipe(gulp.dest('./dist/js'))\n  ]);\n}\n</code></pre></li>\n<li><p><code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"dist/js\",\n    \"target\": \"ES5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": true,\n    \"suppressImplicitAnyIndexErrors\": true\n  },\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre></li>\n<li><p><code>index.html</code></p>\n\n<pre><code>&lt;head&gt;\n  &lt;base href=\"/\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\n  &lt;!-- inject:libs --&gt;\n  &lt;!--   add wanted libs to gulpfile --&gt;\n  &lt;!--   this is replaced by the gulp task runner --&gt;\n  &lt;!--   lib order: --&gt;\n  &lt;!--     angular2-polyfills, system.src, Rx, --&gt;\n  &lt;!--     angular2.dev, router.dev, http.dev --&gt;\n  &lt;!-- endinject --&gt;\n  &lt;script&gt;\n    System.config({\n      baseUrl: './', // same result with this omitted\n      transpiler: 'typescript', // same result with this omitted\n      defaultJSExtensions: true,\n      bundles: {\n        './js/lib/angular2.dev.js': ['angular2/*']\n      },\n      packages: {\n        js: {\n          format: 'register',\n          defaultExtension: 'js'\n        }\n      },\n      paths: {\n        'angular/http': './js/lib/router.dev.js',\n        'angular/router': './js/lib/http.dev.js',\n        'angular2/*': './js/lib/angular2.dev.js',\n        'rx/*': './js/lib/Rx.js'\n      }\n    });\n    System.import('js/boot')\n      .then(\n        function() {console.log('loaded')},\n        console.error.bind(console)\n      );\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;main-app&gt;Loading...&lt;/main-app&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre></li>\n<li><p><code>boot.ts</code> (the actual <code>Angular2</code> app is inconsequential, it should work as-is, the error is not here, included for completeness' sake)</p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser';\nimport {AppComponent} from './components/app.component';\n\nbootstrap(AppComponent, []);\n</code></pre></li>\n<li><p><code>app.component.ts</code> (the actual <code>Angular2</code> app is inconsequential, it should work as-is, the error is not here, included for completeness' sake)</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {InputComponent} from './input.component';\n\n@Component({\n  selector: 'main-app',\n  template: `&lt;h1&gt;Hi!&lt;/h1&gt;\n  &lt;input-component label=\"A\"&gt;&lt;/input-component&gt;\n  &lt;input-component label=\"B\"&gt;&lt;/input-component&gt;\n  `,\n  directives: [InputComponent]\n})\nexport class AppComponent {\n\n}\n</code></pre></li>\n<li><p><code>input.component.ts</code> (the actual <code>Angular2</code> app is inconsequential, it should work as-is, the error is not here, included for completeness' sake)</p>\n\n<pre><code>import {Component, Input} from 'angular2/core';\n\n@Component({\n  selector: 'input-component',\n  template: `\n    &lt;label [attr.for]=\"inputName\"&gt;{{label}}\n    &lt;input #input [attr.id]=\"inputName\" type=\"text\"&gt;&lt;/label&gt;\n  `,\n  styles: [\n    `label { color: red; }`\n  ]\n})\nexport class InputComponent {\n  public static latestId: number = 0;\n  private inputId: number = InputComponent.latestId;\n  @Input() public label: string = '';\n\n  constructor() {\n    InputComponent.latestId++;\n  }\n  get inputName(): string {\n    return 'input-' + this.inputId;\n  }\n}\n</code></pre></li>\n</ul>\n"}, {"tags": ["dependency-injection", "typescript", "visual-studio-2015", "angular"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452627153, "post_id": 34751944, "comment_id": 57250447, "body": "If you pass <code>HeroService</code> in <code>bootstrap()</code> you don&#39;t need it in <code>providers</code> in your <code>AppComponent</code>. This can lead to several instances being created while you probably only want one."}, {"owner": {"reputation": 141, "user_id": 3546765, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fdea315147cf38e9de175c8a9a542992?s=128&d=identicon&r=PG&f=1", "display_name": "whitemtnelf", "link": "https://stackoverflow.com/users/3546765/whitemtnelf"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452627438, "post_id": 34751944, "comment_id": 57250644, "body": "I tried both ways and got the same error. Because DI works when I specify Inject it seems like the VS TypeScript compiler isn&#39;t generating the metadata for the Injectable decorator."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452627636, "post_id": 34751944, "comment_id": 57250761, "body": "I can&#39;t help you with such TS configuration issues. I&#39;m a Dart-only developer."}, {"owner": {"reputation": 141, "user_id": 3546765, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fdea315147cf38e9de175c8a9a542992?s=128&d=identicon&r=PG&f=1", "display_name": "whitemtnelf", "link": "https://stackoverflow.com/users/3546765/whitemtnelf"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452694096, "post_id": 34751944, "comment_id": 57282367, "body": "I solved the problem by adding the following to the csproj file and was able to remove the @Inject from the code -   &lt;TypeScriptAdditionalFlags&gt; $(TypeScriptAdditionalFlags) --emitDecoratorMetadata &lt;/TypeScriptAdditionalFlags&gt;"}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 3546765, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fdea315147cf38e9de175c8a9a542992?s=128&d=identicon&r=PG&f=1", "display_name": "whitemtnelf", "link": "https://stackoverflow.com/users/3546765/whitemtnelf"}, "is_accepted": false, "score": 1, "last_activity_date": 1452723088, "last_edit_date": 1452723088, "creation_date": 1452694196, "answer_id": 34768840, "question_id": 34751944, "link": "https://stackoverflow.com/questions/34751944/visual-studion-2015-and-angular2-beta-2-dependency-injection/34768840#34768840", "title": "Visual Studion 2015 and Angular2 Beta 2 dependency injection", "body": "<p>I solved the problem by adding the following to the csproj file and was able to remove the @Inject from the code -   </p>\n\n<pre><code>&lt;TypeScriptEmitDecoratorMetadata&gt;true&lt;/TypeScriptEmitDecoratorMetadata&gt;\n</code></pre>\n\n<p>See <a href=\"https://github.com/Microsoft/TypeScript/wiki/Setting-Compiler-Options-in-MSBuild-projects\" rel=\"nofollow\">here</a> for how to set TS compiler options in Visual Studio</p>\n"}], "owner": {"reputation": 141, "user_id": 3546765, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fdea315147cf38e9de175c8a9a542992?s=128&d=identicon&r=PG&f=1", "display_name": "whitemtnelf", "link": "https://stackoverflow.com/users/3546765/whitemtnelf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1452723088, "creation_date": 1452626010, "last_edit_date": 1452626985, "question_id": 34751944, "link": "https://stackoverflow.com/questions/34751944/visual-studion-2015-and-angular2-beta-2-dependency-injection", "title": "Visual Studion 2015 and Angular2 Beta 2 dependency injection", "body": "<p>My environment is VS2015 with TypeScript 1.7.3, Angular2 Beta 2, target ECMA 5. I've modified the csproj file to include  <code>TypeScriptExperimentalDecorators = true</code>.</p>\n\n<p>I'm working on the Angular2 <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt4.html\" rel=\"nofollow\">tutorial</a> and can not get dependency injection working as documented.  I can only get DI to work when I include <code>@Inject</code> in the <code>AppComponent</code> class constructor. If I don't include <code>@Inject</code> I receive this error - </p>\n\n<blockquote>\n  <p>EXCEPTION: Cannot resolve all parameters for AppComponent(?). Make sure they all have valid type or annotations.</p>\n</blockquote>\n\n<p>I did not include the code in this post because its the same as the tutorial. I did try modifying boot.ts as follows: </p>\n\n<pre><code>bootstrap(AppComponent, [HeroService]);\n</code></pre>\n\n<p>but I still get the error. Has anyone else run into this?</p>\n\n<p>The <code>HeroService</code> is decorated with <code>@Injectable</code>:</p>\n\n<pre><code>import {Hero} from './hero';\nimport {HEROES} from './mock-heroes';\nimport {Injectable} from '../node_modules/angular2/core';\n\n@Injectable()\nexport class HeroService {\n    heroes: Hero[];\n\n    getHeroes() {\n        return Promise.resolve(HEROES);\n    }\n   //  See the \"Take it slow\" appendix\n    getHeroesSlowly() {\n        return new Promise&lt;Hero[]&gt;(resolve =&gt;\n            setTimeout(() =&gt; resolve(HEROES), 2000) // 2 seconds\n        );\n    }\n}\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import {Component, OnInit, Inject} from '../node_modules/angular2/core';\nimport {Hero} from './hero';\nimport {HeroDetailComponent} from './hero-detail.component';\nimport {HeroService} from './hero.service';\n\n@Component({\n    selector: 'my-app',\n    template: `\n        &lt;h1&gt;{{title}}&lt;/h1&gt;\n        &lt;my-hero-detail [hero]=\"selectedHero\"&gt;&lt;/my-hero-detail&gt;\n        &lt;h2&gt;My Heroes&lt;/h2&gt;\n        &lt;ul class=\"heroes\"&gt;\n            &lt;li *ngFor=\"#hero of heroes\" \n                (click)=\"onSelect(hero)\" \n                [class.selected]=\"hero === selectedHero\"&gt;\n                &lt;span class=\"badge\"&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}\n            &lt;/li&gt;\n        &lt;/ul&gt;      \n        `\n    ,directives: [HeroDetailComponent]\n    ,providers: [HeroService]\n})\n\nexport class AppComponent implements OnInit {\n    public title = 'Tour of Heroes';\n    public heroes: Hero[];\n    public selectedHero: Hero;\n\n    constructor(private _heroService: HeroService) { \n   // constructor( @Inject(HeroService) private _heroService: HeroService) {\n\n    }\n    getHeroes() {\n        this._heroService.getHeroes().then(heroes =&gt; this.heroes = heroes);\n    }\n    ngOnInit() {\n        this.getHeroes();\n    }\n    onSelect(hero: Hero) { this.selectedHero = hero; }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "tsx"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452620442, "post_id": 34749564, "comment_id": 57246441, "body": "could you please post a code example with this issue? And the error you are receiving. It will help us more easily find your problem."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452620464, "post_id": 34749564, "comment_id": 57246458, "body": "Also, please read the how to ask a good question guide. <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 956, "user_id": 3836205, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a8fcaa9aae1f958bedebdb3a4e9b01b9?s=128&d=identicon&r=PG&f=1", "display_name": "tome", "link": "https://stackoverflow.com/users/3836205/tome"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452623470, "post_id": 34749564, "comment_id": 57248285, "body": "Sorry, I am afk and posted from phone, will update my question shortly"}, {"owner": {"reputation": 956, "user_id": 3836205, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a8fcaa9aae1f958bedebdb3a4e9b01b9?s=128&d=identicon&r=PG&f=1", "display_name": "tome", "link": "https://stackoverflow.com/users/3836205/tome"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1452629269, "post_id": 34749564, "comment_id": 57251725, "body": "@toskv - I edited my question with more info"}, {"owner": {"reputation": 785, "user_id": 2987410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69940f8d4d9637e559323f55a2d736a5?s=128&d=identicon&r=PG", "display_name": "Sourav Chandra", "link": "https://stackoverflow.com/users/2987410/sourav-chandra"}, "edited": false, "score": 0, "creation_date": 1521744262, "post_id": 34749564, "comment_id": 85874366, "body": "Can you try adding type?  <code>let GreeterComponent: React.SFC </code>"}], "answers": [{"comments": [{"owner": {"reputation": 956, "user_id": 3836205, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a8fcaa9aae1f958bedebdb3a4e9b01b9?s=128&d=identicon&r=PG&f=1", "display_name": "tome", "link": "https://stackoverflow.com/users/3836205/tome"}, "edited": false, "score": 0, "creation_date": 1452629315, "post_id": 34752460, "comment_id": 57251757, "body": "OK, that makes sense, I edited my question and added some more specific info, can you please take a look and perhaps help? Thnaks"}], "tags": [], "owner": {"reputation": 2432, "user_id": 801702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F1RKD.jpg?s=128&g=1", "display_name": "Jim O&#39;Brien", "link": "https://stackoverflow.com/users/801702/jim-obrien"}, "is_accepted": false, "score": 0, "last_activity_date": 1452627800, "creation_date": 1452627800, "answer_id": 34752460, "question_id": 34749564, "link": "https://stackoverflow.com/questions/34749564/typescript-react-0-14-stateless-functional-components/34752460#34752460", "title": "Typescript - React 0.14 stateless functional components", "body": "<p>When you <em>define</em> a stateless component, it's a plain and simple function.</p>\n\n<p>When you <em>instantiate</em> it (i.e. pass it to <code>React.createElement</code>), it gets wrapped with <code>React.StatelessComponent</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1453245785, "creation_date": 1453245785, "answer_id": 34888830, "question_id": 34749564, "link": "https://stackoverflow.com/questions/34749564/typescript-react-0-14-stateless-functional-components/34888830#34888830", "title": "Typescript - React 0.14 stateless functional components", "body": "<blockquote>\n  <p>error TS2605: JSX element type 'Element' is not a constructor function for JSX elements. Property 'render' is missing in type 'Element'.</p>\n</blockquote>\n\n<p>That will work fine in TypeScript latest <code>npm install typescript@latest</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 22591, "user_id": 195417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b209e81c82e45437da92af24ddc97360?s=128&d=identicon&r=PG", "display_name": "Miguel Angelo", "link": "https://stackoverflow.com/users/195417/miguel-angelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1455754783, "creation_date": 1455754783, "answer_id": 35470436, "question_id": 34749564, "link": "https://stackoverflow.com/questions/34749564/typescript-react-0-14-stateless-functional-components/35470436#35470436", "title": "Typescript - React 0.14 stateless functional components", "body": "<p>I had to install the typescript using <strong>@next</strong>:</p>\n\n<h2><code>npm install typescript@next --save-dev</code></h2>\n\n<p><br/></p>\n\n<p>At the moment of this answer, the <code>@next</code> version is <code>1.9.0-dev.20160217</code>.</p>\n\n<p>In the beginning I though the problem was with the <code>react.d.ts</code> or <code>react-dom.d.ts</code>... but it was not. The latest version of these are already installed here. But the real problem was I installed typescript version 1.7.5, the latest release.</p>\n\n<p><br/>\n<strong>Some notes about this:</strong> as per the blog post <a href=\"http://rostacik.net/2015/09/04/using-typescriptnext-nightly-package-dont-rely-on-save-dev-to-be-up-to-date/\" rel=\"nofollow\">Using typescript@next nightly package? Don\u2019t rely on \u2013save-dev to be up-to-date!</a>, you cannot rely on <code>npm</code> updating your dependency of <code>typescript</code> to a greater version number after installing with <code>@next</code> and <code>--save-dev</code>.</p>\n\n<p>As they explain, <code>npm update</code> seems not to update from one beta version to the next:</p>\n\n<p>e.g. The dependency string <code>\"^1.6.0-dev.20150818\"</code> (inside the <code>package.json</code>) will have the package updated to <code>1.6.0-dev.20150825</code>, but not to <code>1.7.0-dev.20150901</code> when running <code>npm update</code></p>\n\n<p>What they recommend is to change the dependency string that <code>npm --save-dev</code> saved inside your <code>package.json</code> to just <code>\"next\"</code> to be always with the latest of the latest version:</p>\n\n<pre><code>{\n  ...\n  \"devDependencies\": {\n    ...\n    \"typescript\": \"next\",\n    ...\n  }\n}\n</code></pre>\n\n<p>I personally didn't try it, because I like to have full control over the version I am using. I rarely run <code>npm update</code> anyway.</p>\n"}], "owner": {"reputation": 956, "user_id": 3836205, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/a8fcaa9aae1f958bedebdb3a4e9b01b9?s=128&d=identicon&r=PG&f=1", "display_name": "tome", "link": "https://stackoverflow.com/users/3836205/tome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1738, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1455754783, "creation_date": 1452617958, "last_edit_date": 1452932006, "question_id": 34749564, "link": "https://stackoverflow.com/questions/34749564/typescript-react-0-14-stateless-functional-components", "title": "Typescript - React 0.14 stateless functional components", "body": "<h2>Simple example:</h2>\n\n<pre><code>import * as React from 'react'\ndeclare function getFish(x: any): any;\ndeclare var Tank: any;\n\nvar Aquarium = ({species}) =&gt; (\n  &lt;Tank&gt;\n      {getFish(species)}\n  &lt;/Tank&gt;\n);\nlet x = &lt;Aquarium species=\"rainbowfish\"/&gt;;\n</code></pre>\n\n<p>Result: </p>\n\n<blockquote>\n  <p>(10,9): error TS2605: JSX element type 'Element' is not a constructor function for JSX elements.</p>\n</blockquote>\n\n<p>Note the error is in regards to the <strong>usage</strong> of the Component (let x declaration). It seems as if maybe the definition file for React is not allowing this as a valid JSX? I am using the latest React 0.14 definition file from tsd, what am I doing wrong?</p>\n\n<hr>\n\n<p>Say I have defined the following stateless functional component (React v0.14)</p>\n\n<pre><code>let GreeterComponent = (props: {name: string}){\n    return &lt;div&gt;Hi {props.name}!&lt;/div&gt; \n}\n</code></pre>\n\n<p>in a different component, I am using it like this:</p>\n\n<pre><code>class WrappingComponent extends React.Component{\n    render(){\n        let names = ['tom', 'john', 'simon'];\n        return (\n           &lt;div className=\"names\"&gt;\n               {names.map((name)=&gt; &lt;GreeterComponent name={name} /&gt;)}\n           &lt;/div&gt;\n          );\n    } \n}\n</code></pre>\n\n<p>I am getting this error from typescript compiler:</p>\n\n<blockquote>\n  <p>error TS2605: JSX element type 'Element' is not a constructor function\n  for JSX elements. Property 'render' is missing in type 'Element'.</p>\n</blockquote>\n\n<p>How can I fix it? What is the correct to work with stateless functional components in typescript? I am using the latest <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/react/react.d.ts\" rel=\"nofollow\">react.d.ts</a> from tsd</p>\n"}, {"tags": ["typescript", "grunt-ts"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1452637825, "creation_date": 1452637825, "answer_id": 34754988, "question_id": 34749559, "link": "https://stackoverflow.com/questions/34749559/turning-html-templates-into-amd-modules-with-grunt-ts/34754988#34754988", "title": "Turning .html templates into AMD modules with grunt-ts", "body": "<blockquote>\n  <p>Can I instead tell grunt-ts to output the final .js file in a different module syntax, such as AMD or CommonJS, (to avoid using globals)</p>\n</blockquote>\n\n<p>Not at the moment. The whole html template mechanism was written before module systems exploded in popularity.</p>\n"}], "owner": {"reputation": 14274, "user_id": 579078, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/xC5kj.png?s=128&g=1", "display_name": "\u11bc\u11ba\u11bc", "link": "https://stackoverflow.com/users/579078/%e1%86%bc%e1%86%ba%e1%86%bc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 34754988, "answer_count": 1, "score": 0, "last_activity_date": 1452637825, "creation_date": 1452617955, "question_id": 34749559, "link": "https://stackoverflow.com/questions/34749559/turning-html-templates-into-amd-modules-with-grunt-ts", "title": "Turning .html templates into AMD modules with grunt-ts", "body": "<p>Using <code>grunt-ts</code> with say the <code>html: [\"*.tpl.html\"]</code> option, it compiles <code>*.tpl.html</code> files in the end into <code>*.tpl.html.js</code> files, which set a global <code>var</code>. </p>\n\n<p>Can I instead tell <code>grunt-ts</code> to output the final <code>.js</code> file in a different module syntax, such as AMD or CommonJS, (to avoid using globals)?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1452616431, "post_id": 34748958, "comment_id": 57243662, "body": "What is unclear about a 404 error? The URL is wrong."}, {"owner": {"reputation": 253, "user_id": 3534999, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fd3b43d7a1136b10130ce871e978d226?s=128&d=identicon&r=PG&f=1", "display_name": "Ciro", "link": "https://stackoverflow.com/users/3534999/ciro"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1452616483, "post_id": 34748958, "comment_id": 57243696, "body": "How can I fix it? My resource is local, I don&#39;t have an URL"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1452616540, "post_id": 34748958, "comment_id": 57243740, "body": "Either (1) Work out what URL that file actually has or (2) Look at the server side to figure out how to make the file have the URL you are requesting. Either way, nothing about your client side code tells us anything about why the server can&#39;t find what you are asking for."}], "answers": [{"tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1452617059, "creation_date": 1452617059, "answer_id": 34749198, "question_id": 34748958, "link": "https://stackoverflow.com/questions/34748958/load-html-file-in-typescript/34749198#34749198", "title": "Load html file in typescript", "body": "<p>The directory does not matter. Why?</p>\n\n<ul>\n<li><p>The typescript file is actually javascript and this runs on the browser ie. the client's machine and not your server. The client has no clue what the structure is on the server so placing these files in the same folder is a convenience for the developer and nothing more.</p></li>\n<li><p>The <code>HTM</code> / <code>HTML</code> file is hosted on your server and the server knows nothing about the client.</p></li>\n</ul>\n\n<p>To fix it - You have to specify the path to your html file in the <code>$http</code> command so the server knows where to pick it up from. The path always starts at the root of the folder that is hosted by IIS (or appache or whatever). So if you are hosting it in a folder named <code>someFolder</code> in the root of the web site folder then your url that you would use in the typescript file would be <code>/someFolder/help.html</code>.</p>\n\n<p>If you want to manually test that the url is correct you should be able to put it directly in the URL of your web browser (along with the host) and it should return the content.</p>\n"}], "owner": {"reputation": 253, "user_id": 3534999, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fd3b43d7a1136b10130ce871e978d226?s=128&d=identicon&r=PG&f=1", "display_name": "Ciro", "link": "https://stackoverflow.com/users/3534999/ciro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 34749198, "answer_count": 1, "score": -1, "last_activity_date": 1452617059, "creation_date": 1452616353, "question_id": 34748958, "link": "https://stackoverflow.com/questions/34748958/load-html-file-in-typescript", "title": "Load html file in typescript", "body": "<p>I have an html file in the same directory of the typescript file. IO have to load it and return it from the function.</p>\n\n<pre><code>public ...(... ) :  angular.IHttpPromise&lt;string&gt; {\n   ...\n   return $http({\n            method: 'GET',\n            url: 'help.html'\n   });\n</code></pre>\n\n<p>Error: NetworkError: 404 Not Found - <a href=\"http://localhost:3000/help.html\" rel=\"nofollow\">http://localhost:3000/help.html</a></p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gulp", "tsify"], "answers": [{"tags": [], "owner": {"reputation": 2821, "user_id": 1274509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ede70cd795d1eb6be6e805cb85fa2732?s=128&d=identicon&r=PG", "display_name": "Javier Ros", "link": "https://stackoverflow.com/users/1274509/javier-ros"}, "is_accepted": true, "score": 2, "last_activity_date": 1452670735, "creation_date": 1452670735, "answer_id": 34760915, "question_id": 34748663, "link": "https://stackoverflow.com/questions/34748663/bundle-a-typescript-library-to-one-js-file-and-one-d-ts/34760915#34760915", "title": "Bundle a typescript library to one .js file and one .d.ts", "body": "<p>Yeah, after deep search I have found one way.\nI have found <a href=\"https://github.com/systemjs/builder\" rel=\"nofollow\">systemjs builder</a> project.\nI have wrote a task in my gulp file, this way:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>gulp.task(\"system-builder\", function () {\n    var builder = new Builder('dist/js/src');\n\n    builder.config({\n        meta: {\n            'HTML5Tokenizer.js': { // HTML5Tokenizer is a external m\u00f3dule\n                build: false       // Not to include in a bundle.\n            }\n        },\n        defaultJSExtensions: true\n    });\n\n    builder\n        .bundle('Ng2Emulation.js', 'dist/release/Ng2Emulation-bundle.js')\n        .then(function () {\n            console.log('Build complete');\n        })\n        .catch(function (err) {\n            console.log('Build error');\n            console.log(err);\n        });\n});\n</code></pre>\n\n<p>I have found it looking at Angular2 gulp files :D\nNow I can include the file using html <code>script</code> tag, my html is like that:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=\"~/Scripts/simple-html-tokenizer.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.15/system.src.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    // set our baseURL reference path\n    System.config({\n        baseURL: '/TypeScript',\n        map: {\n            \"HTML5Tokenizer\": \"/Scripts/simple-html-tokenizer.js\"\n        }\n    });\n    System.defaultJSExtensions = true;\n&lt;/script&gt;\n&lt;script src=\"~/Scripts/Ng2Emulation-es5.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n    System.import('App/Boot');\n&lt;/script&gt;\n</code></pre>\n\n<p>It works like a charm.</p>\n\n<p>Still, if anyone knows other ways to do I would like to know.\nI don't understand what mudule system is better, when use one or other, ...</p>\n"}], "owner": {"reputation": 2821, "user_id": 1274509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ede70cd795d1eb6be6e805cb85fa2732?s=128&d=identicon&r=PG", "display_name": "Javier Ros", "link": "https://stackoverflow.com/users/1274509/javier-ros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 0, "accepted_answer_id": 34760915, "answer_count": 1, "score": 5, "last_activity_date": 1452670735, "creation_date": 1452615558, "question_id": 34748663, "link": "https://stackoverflow.com/questions/34748663/bundle-a-typescript-library-to-one-js-file-and-one-d-ts", "title": "Bundle a typescript library to one .js file and one .d.ts", "body": "<p>I'm developing a library to use in the webbrowser using TypeScript.</p>\n\n<p>I'm writing separate typescript files as modules using \"system\" as --module, for example this is the main file:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>/// &lt;reference path=\"../typings/tsd.d.ts\" /&gt;\n/// &lt;reference path=\"./typings/simple-html-tokenizer/simple-html-tokenizer\" /&gt;\n\nexport * from \"./Decorators/Component\";\nexport * from \"./Decorators/Directive\";\nexport * from \"./Decorators/Inject\";\nexport * from \"./Decorators/Injectable\";\nexport * from \"./Events/EventEmitter\";\nexport * from \"./Core/Bootstrap\";\nexport * from \"./Decorators/Output\";\nexport * from \"./Decorators/Input\";\nexport {OnChanges, OnInit, OnDestroy} from \"./Core/LifeCycle/LifeCycleHooks\";\n</code></pre>\n\n<p>And this is the first module:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>import {serviceNormalize} from \"../Utils/AngularHelpers\";\n\nexport interface IComponentMetadata {\n    template?: string;\n    templateUrl?: string;\n    selector?: string;\n    directives?: Function[];\n    outputs?: string[];\n    inputs?: string[];\n    styles?: string[];\n    providers?: (Function|string)[];\n}\n\n/**\n * Register metadata into class to be used by bootstrap.\n */\nexport function Component(componentMetadata: IComponentMetadata) {\n    return (target: any) =&gt; {\n\n        /// ...\n        /// ...\n        /// ...\n\n        return target;\n    }\n}\n</code></pre>\n\n<p>Well, I'm building it using <code>gulp-typescript</code>, I transpile it to <code>es5</code> and create one .js and one .d.ts file per each .ts file. So far so good, I have a npm package and I can use my project from other npm projects. But ...</p>\n\n<p>I want to use it from the webbrowser too. I would like to bundle all .js files in one and use this way:</p>\n\n<pre><code>&lt;script src=\"~/Scripts/Ng2Emulation-bundle.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I have generated a .d.ts file using <a href=\"https://github.com/TypeStrong/dts-bundle\" rel=\"noreferrer\">dts-bundle</a> and I have tried to bundle the .js files from two ways:</p>\n\n<ol>\n<li><p>Using concat:</p>\n\n<p><code>gulp.src('dist/js/src/**/*.js')\n    .pipe(concat('Ng2Emulation-bundle.js'))\n    .pipe(gulp.dest('dist/release'));</code></p></li>\n<li><p>Using tsify:</p>\n\n<p><code>browserify()\n    .add('src/ng2emulation.ts')\n    .plugin(tsify, { noImplicitAny: false })\n    .bundle()\n    .on('error', function (error) { console.error(error.toString()); })\n    .pipe(gulp.dest(\"Ng2Emulation-bundle.js\"));</code></p></li>\n</ol>\n\n<p>Two ways create the bundle but when I try to use it from the browser it tries to load each module, getting errors like:</p>\n\n<pre><code>GET http://localhost:55411/Utils/AngularHelpers.js 404 (Not Found)D @ system.js:4(anonymous function) @ system.js:4(anonymous function) @ system.js:4V @ system.js:5t.metadata.deps @ system.js:5r @ system.js:5n @ system.js:5r @ system.js:5(anonymous function) @ system.js:5(anonymous function) @ system.js:4\nsystem.js:4 GET http://localhost:55411/Templates/HttpInterceptor.js 404 (Not Found)D @ system.js:4(anonymous function) @ system.js:4(anonymous function) @ system.js:4V @ system.js:5t.metadata.deps @ system.js:5r @ system.js:5n @ system.js:5r @ system.js:5(anonymous function) @ system.js:5(anonymous function) @ system.js:4\nsystem.js:4 GET http://localhost:55411/Directives/NgProperty.js 404 (Not Found)D @ system.js:4(anonymous function) @ system.js:4(anonymous function) @ system.js:4V @ system.js:5t.metadata.deps @ system.js:5r @ system.js:5n @ system.js:5r @ system.js:5(anonymous function) @ system.js:5(anonymous function) @ system.js:4\nsystem.js:4 GET http://localhost:55411/Templates/HtmlParser/Parser.js 404 (Not Found)\n</code></pre>\n\n<p>I'm using Visual Studio 2013, an MVC ASP.NET application. My main html (_layout.cshtml) is like it:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/&gt;\n    &lt;link href=\"~/node_modules/angular-material/angular-material.css\" rel=\"stylesheet\"/&gt;\n    &lt;script src=\"~/Scripts/jquery-2.2.0.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/angular.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/angular-aria.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/angular-animate.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/Scripts/angular-messages.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"~/node_modules/angular-material/angular-material.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.15/system.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n        // set our baseURL reference path\n        System.config({\n            baseURL: '/TypeScript',\n            map: {\n                \"HTML5Tokenizer\": \"/Scripts/simple-html-tokenizer.js\",\n                \"Ng2Emulation\": \"/Scripts/Ng2Emulation-es5.js\"\n            }\n        });\n        System.defaultJSExtensions = true;\n\n        System.import('App/Boot');\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    @RenderBody()\n    @RenderSection(\"scripts\", required: false)\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And this is my <code>App/Boot.ts</code>:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>import {bootstrap, Component} from \"Ng2Emulation\";\n\n@Component({\n    selector: \"my-app\",\n    template: \"&lt;h1&gt;My First Angular 2 App&lt;/h1&gt;\"\n})\nexport class AppComponent { }\n\nbootstrap(AppComponent);\n</code></pre>\n\n<p>I have tried to load the bundle via: <code>&lt;script src=\"~/Scripts/Ng2Emulation-bundle.js\"&gt;&lt;/script&gt;</code> and remove the <code>Ng2Emulation</code> map from <code>system.config</code> but I don't have luck :(</p>\n\n<p>I think that there is something that I don't understand in the bundle creation process or in the modules behaivor ... </p>\n\n<p>How to bundle it?\nHow could I do it?</p>\n"}, {"tags": ["angularjs", "visual-studio", "web-applications", "asp.net-web-api", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2423, "user_id": 4189441, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-HVpR-CLyWTk/AAAAAAAAAAI/AAAAAAAAZxo/EVQjrRymCPU/photo.jpg?sz=128", "display_name": "CPA", "link": "https://stackoverflow.com/users/4189441/cpa"}, "edited": false, "score": 0, "creation_date": 1452638137, "post_id": 34755025, "comment_id": 57256314, "body": "VS generates all .js files, but I have to include them manually into the project. Is there any option to include them automatically?"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 2423, "user_id": 4189441, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-HVpR-CLyWTk/AAAAAAAAAAI/AAAAAAAAZxo/EVQjrRymCPU/photo.jpg?sz=128", "display_name": "CPA", "link": "https://stackoverflow.com/users/4189441/cpa"}, "edited": false, "score": 1, "creation_date": 1452638514, "post_id": 34755025, "comment_id": 57256487, "body": "<code>Is there any option to include them automatically</code> Have a glob <code>src&#47;**&#47;*.js</code> <code>&lt;Content &#47;&gt;</code> included as content in your project file"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1452637955, "creation_date": 1452637955, "answer_id": 34755025, "question_id": 34748553, "link": "https://stackoverflow.com/questions/34748553/what-about-angularjs-typescript-files-after-compiling/34755025#34755025", "title": "What about AngularJS typescript files after compiling?", "body": "<blockquote>\n  <p>Is it possible to add the generated .js files automatically to the project after compiling?</p>\n</blockquote>\n\n<p>If the <code>ts</code> file is included with as <code>&lt;TypeScriptCompile</code> in the project file (should happen automatically if you have TypeScript tools for Visual Studio) VS will compile and generate a js file. </p>\n\n<blockquote>\n  <p>Do I have to delete the .ts files before deploying to Azure or something like that?</p>\n</blockquote>\n\n<p>No. However you should have the generated <code>.js</code> files included in the project to ensure they get deployed after build.</p>\n"}], "owner": {"reputation": 2423, "user_id": 4189441, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-HVpR-CLyWTk/AAAAAAAAAAI/AAAAAAAAZxo/EVQjrRymCPU/photo.jpg?sz=128", "display_name": "CPA", "link": "https://stackoverflow.com/users/4189441/cpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452637955, "creation_date": 1452615227, "last_edit_date": 1452615797, "question_id": 34748553, "link": "https://stackoverflow.com/questions/34748553/what-about-angularjs-typescript-files-after-compiling", "title": "What about AngularJS typescript files after compiling?", "body": "<p>I created a web application using angularJS with typescript in Visual Studio 2015. </p>\n\n<ol>\n<li><p>Is it possible to add the generated .js files automatically to the project after compiling? </p></li>\n<li><p>Do I have to delete the .ts files before deploying to Azure or something like that? </p></li>\n</ol>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "edited": false, "score": 0, "creation_date": 1452615620, "post_id": 34748544, "comment_id": 57243111, "body": "What result do you expect of document.body.appendChild(node) ?"}, {"owner": {"reputation": 19680, "user_id": 562222, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/jgGXb.jpg?s=128&g=1", "display_name": "qed", "link": "https://stackoverflow.com/users/562222/qed"}, "reply_to_user": {"reputation": 2742, "user_id": 4892515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/JHSqd.png?s=128&g=1", "display_name": "Antoine Pelletier", "link": "https://stackoverflow.com/users/4892515/antoine-pelletier"}, "edited": false, "score": 0, "creation_date": 1452616092, "post_id": 34748544, "comment_id": 57243452, "body": "See my edits. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 2414, "user_id": 4727982, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OunHL.jpg?s=128&g=1", "display_name": "Nikola Prokopi\u0107", "link": "https://stackoverflow.com/users/4727982/nikola-prokopi%c4%87"}, "is_accepted": false, "score": 1, "last_activity_date": 1452626086, "last_edit_date": 1452626086, "creation_date": 1452625681, "answer_id": 34751862, "question_id": 34748544, "link": "https://stackoverflow.com/questions/34748544/why-do-i-get-type-error-when-the-type-is-correct/34751862#34751862", "title": "Why do I get type error when the type is correct?", "body": "<p>Content inside of <code>template</code> tag is not rendered, it is not actually in the document. The line <code>document.querySelector(\"#hello\").firstChild</code> is returning <code>null</code>, hence the error.</p>\n\n<p>In order to access template's inner HTML you can use its <code>content</code> attribute. <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template\" rel=\"nofollow\">Here</a> you can read the following:</p>\n\n<blockquote>\n  <p>There is also a content attribute, which is read-only and provides access to the template's contents.</p>\n</blockquote>\n\n<p>So the code would be:</p>\n\n<pre><code>function greeter(person: string) {\n    return \"hello \" + person\n}\n\nvar user = \"Jane\"\nvar greetNode = document.createElement(\"p\")\ngreetNode.innerHTML = greeter(user)\ndocument.body.appendChild(greetNode)\n\nvar template = document.querySelector(\"#hello\")\nvar div = template.content.querySelector(\"div\")\n\nvar node = document.importNode(div, true)\ndocument.body.appendChild(node)\n</code></pre>\n"}], "owner": {"reputation": 19680, "user_id": 562222, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/jgGXb.jpg?s=128&g=1", "display_name": "qed", "link": "https://stackoverflow.com/users/562222/qed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452626086, "creation_date": 1452615200, "last_edit_date": 1452616080, "question_id": 34748544, "link": "https://stackoverflow.com/questions/34748544/why-do-i-get-type-error-when-the-type-is-correct", "title": "Why do I get type error when the type is correct?", "body": "<p>Html code:</p>\n\n<pre><code>&lt;body&gt;\n\n&lt;template id=\"hello\"&gt;\n    &lt;div&gt;Hellow world!&lt;/div&gt;\n&lt;/template&gt;\n&lt;script src=\"x.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>Typescript code:</p>\n\n<pre><code>function greeter(person: string) {\n    return \"hello \" + person\n}\n\nvar user = \"Jane\"\nvar greetNode = document.createElement(\"p\")\ngreetNode.innerHTML = greeter(user)\ndocument.body.appendChild(greetNode)\nvar node = document.importNode(\n    document.querySelector(\"#hello\").firstChild, true\n)\ndocument.body.appendChild(node)\n</code></pre>\n\n<p>Error from chrome:</p>\n\n<pre><code>Uncaught TypeError: Failed to execute 'importNode' on 'Document': parameter 1 is not of type 'Node'.\n</code></pre>\n\n<p>Expected behavior is that the \"hello world\" div should be added to the html body. </p>\n\n<p>The jsfiddle:</p>\n\n<p><a href=\"https://jsfiddle.net/kindlychung/4o2fwwfb/\" rel=\"nofollow\">https://jsfiddle.net/kindlychung/4o2fwwfb/</a></p>\n\n<p>Any suggestions? </p>\n"}, {"tags": ["unit-testing", "typescript", "mocha.js", "webstorm", "intellij-15"], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 4747761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a833de7d03956e8b7aadb5a55642ec?s=128&d=identicon&r=PG&f=1", "display_name": "mcverry", "link": "https://stackoverflow.com/users/4747761/mcverry"}, "edited": false, "score": 0, "creation_date": 1452699100, "post_id": 34752727, "comment_id": 57286055, "body": "Thanks for your answer! I really like that the tests can be logically separated from the source."}], "tags": [], "owner": {"reputation": 534, "user_id": 2423498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnEmG.jpg?s=128&g=1", "display_name": "Seshu Kumar Alluvada", "link": "https://stackoverflow.com/users/2423498/seshu-kumar-alluvada"}, "is_accepted": true, "score": 5, "last_activity_date": 1452628797, "creation_date": 1452628797, "answer_id": 34752727, "question_id": 34748542, "link": "https://stackoverflow.com/questions/34748542/setting-up-typescript-unit-tests-with-mocha/34752727#34752727", "title": "setting up TypeScript unit tests with Mocha", "body": "<p>I have been through these problems when I was setting up my jasmine tests but fundamentally the concepts are the same. The problem stems from the fact that while the relative path reference is specified based on the locations of the .ts files, that relative path reference is not maintained when the code is compiled over to the dist location. Below is how I got past that issue.</p>\n\n<ol>\n<li><p>Separate the compilation of scripts and specs into two different tasks. I am using gulp tasks for my build process but if you are not using gulp, you can still achieve this by having a separate tsconfig.json, one in resources folder for your source code compilation and another tsconfig.json in your resources-test folder for your test scripts compilation. Basically that would logically separate your source code and test scripts as two different typescript projects.</p></li>\n<li><p>For the typescript compilation of your source code, use the declaration compiler option set to true so that you get a schema.d.ts file. This file is going to be referenced in your schemaTest.ts. To make things super easy, have a build step that when source is compiled, copy over the .d.ts and .js files generated from the source compilation to a specific folder in the test-resources folder (lets say test-resources/compiledsource). The compiledsource folder will in this case have schema.d.ts and schema.js files.</p></li>\n</ol>\n\n<p>The import statement in your test scripts (schematests.ts) will import from the compiledsource folder as below </p>\n\n<p><code>import {Schema, SchemaFactory} from './compiledsource/schema';</code></p>\n\n<ol start=\"3\">\n<li>Your source compilation and test scripts compilation should be done in two steps and the first step would be source compilation so that when your test scripts compile, you have the schema.d.ts available in the compiledsource folder, and when your tests run the schema.js will be available in compiledsource folder. </li>\n</ol>\n\n<blockquote>\n  <p>When typescript interprets \"import\" statement, it will look for the\n  .ts or .d.ts file and when it is compiled to javascript require\n  statement, it will look for the .js file.</p>\n</blockquote>\n"}], "owner": {"reputation": 225, "user_id": 4747761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a833de7d03956e8b7aadb5a55642ec?s=128&d=identicon&r=PG&f=1", "display_name": "mcverry", "link": "https://stackoverflow.com/users/4747761/mcverry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2445, "favorite_count": 2, "accepted_answer_id": 34752727, "answer_count": 1, "score": 5, "last_activity_date": 1452628797, "creation_date": 1452615193, "last_edit_date": 1452619845, "question_id": 34748542, "link": "https://stackoverflow.com/questions/34748542/setting-up-typescript-unit-tests-with-mocha", "title": "setting up TypeScript unit tests with Mocha", "body": "<p>I am trying to organize a new typescript project that has unit tests, also written in TS, running in the Mocha test runner. </p>\n\n<p>My project with the following directory convention: </p>\n\n<pre><code>/project/src/             for server-side code (java)\n/project/test/            server's tests\n/project/resources/       client-side code (typescript)\n/project/test-resources/  typescript tests. \n</code></pre>\n\n<p>right now I have a typescript module Schema in a typescript file located at resources/many/levels/schema.ts</p>\n\n<p>and I have its test, written for the mocha test runner, in a typescript file:\ntest-resources/many/levels/schemaTest.ts</p>\n\n<p>The problem is that the typescript compiler can't find the schema module using the following import syntaxes:</p>\n\n<blockquote>\n  <p>TC2307 Can't find module schema</p>\n</blockquote>\n\n<p>schemaTest.ts (version 1):</p>\n\n<pre><code>/// &lt;reference path=\"../typings/mocha/mocha.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/chai/chai.d.ts\" /&gt;\n/// &lt;reference path=\"../../../resources/many/levels/schema.ts\" /&gt;\nimport s = require('schema');\n</code></pre>\n\n<p>schemaTest.ts (version 2):</p>\n\n<pre><code>/// &lt;reference path=\"../typings/mocha/mocha.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/chai/chai.d.ts\" /&gt;\n/// &lt;reference path=\"../../../resources/many/levels/schema.ts\" /&gt;\nimport {Schema, SchemaFactory} from 'schema';\n</code></pre>\n\n<p>finally, the following version compiles but leads to a runtime error since the module is not at ../../../resources/many/level but instead is located in the dist directory</p>\n\n<pre><code>/// &lt;reference path=\"../typings/mocha/mocha.d.ts\" /&gt;\n/// &lt;reference path=\"../typings/chai/chai.d.ts\" /&gt;\n/// &lt;reference path=\"../../../resources/many/levels/schema.ts\" /&gt;\nimport {Schema, SchemaFactory} from '../../../resources/many/levels/schema';\n</code></pre>\n\n<p>schema.ts:</p>\n\n<pre><code>module Schema  {\n\n    export interface Schema {\n        getName() : string;\n        getColumnByIndex(index : number) : Column;\n        getColumnById(id : string) : Column;\n        getNumberOfColumns(): number;\n    }\n\n    export class SchemaFactory{\n        ...\n        build() : Schema {...}\n    }\n}  \n</code></pre>\n\n<p>I am compiling both my test and src files to a single dist directory (not ideal) and hope to run tests from there.  </p>\n\n<p>I am compiling with the flag --module commonjs. </p>\n\n<p>if it matters, I am using IntelliJ 15 / WebStorm (and using its plugings for mocha, node, and tsc) </p>\n\n<p>Is my Schema module set up incorrectly? Should it be an internal/external module? Should my tests be in the same namespace?</p>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["angular", "typescript", "typescript1.7"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452611665, "post_id": 34747143, "comment_id": 57240239, "body": "Try adding the template or templateUrl in the  <code>@Component</code> annotation instead"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452611735, "post_id": 34747143, "comment_id": 57240291, "body": "and remove the <code>.Class({         constructor: function() {          }     })</code> stuff, that&#39;s not from a typescript example is it? your class is: <code>export class AppComponent {     title = &quot;My First Angular 2 App&quot;; }</code>"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452616316, "post_id": 34747143, "comment_id": 57243583, "body": "Ok I removed <code>@View</code> and moved the <code>templateUrl</code> to <code>@Componant</code>, but still when trying to compile it I get <code>Cannot find module &#39;angular2&#47;core&#39;</code> Also isn&#39;t <code>.Class({ contructor: function()</code> the place where I can add logic? Do have have any sample code for a similar basic structure?"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452616456, "post_id": 34747143, "comment_id": 57243675, "body": "like I said your class is <code>export class AppComponent</code> that&#39;s where you add your logic, you can set the constructor on it."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452616492, "post_id": 34747143, "comment_id": 57243703, "body": "Check the second example @ <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">angular.io</a>"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452617244, "post_id": 34747143, "comment_id": 57244216, "body": "Ok I found the 2nd example, and I just replaced the code it works now, their <code>System.config</code> was different that what I had, also I think I needed the latest scripts that the Google team is using, this had that <a href=\"http://plnkr.co/edit/DNmmOxUzBOdbsD4eTZER?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/DNmmOxUzBOdbsD4eTZER?p=preview</a> Want to post answer?"}], "answers": [{"tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": true, "score": 2, "last_activity_date": 1452620377, "creation_date": 1452620377, "answer_id": 34750332, "question_id": 34747143, "link": "https://stackoverflow.com/questions/34747143/angular2-typescript-error-ts2307-cannot-find-module-angular2-core/34750332#34750332", "title": "Angular2 TypeScript - error TS2307: Cannot find module &#39;angular2/core&#39;", "body": "<p>Remove:</p>\n\n<pre><code>.Class({\n    constructor: function() {\n\n    }\n})\n</code></pre>\n\n<p>Remove:</p>\n\n<pre><code>@View({\n    templateUrl: '/templates/home.html',\n    directives: []\n})\n</code></pre>\n\n<p>and put <code>templateUrl: '/templates/home.html',</code> in the @Component annotation instead.</p>\n\n<p>And apply the <code>system.js</code> configuration.\nIn general follow the steps in here:</p>\n\n<p><a href=\"https://angular.io/\" rel=\"nofollow\">https://angular.io/</a></p>\n\n<p>Check the second example.</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14234, "favorite_count": 1, "accepted_answer_id": 34750332, "answer_count": 1, "score": 3, "last_activity_date": 1506061056, "creation_date": 1452611407, "last_edit_date": 1506061056, "question_id": 34747143, "link": "https://stackoverflow.com/questions/34747143/angular2-typescript-error-ts2307-cannot-find-module-angular2-core", "title": "Angular2 TypeScript - error TS2307: Cannot find module &#39;angular2/core&#39;", "body": "<p>The version of my TypeScript <code>1.7.5</code></p>\n\n<h3>My main component file</h3>\n\n<pre><code>// import {Component} from 'angular2/core';\nimport {Component, View} from 'angular2/core';\n// import {bootstrap} from 'angular2/platform/browser';\n\n    @Component({\n        selector: 'my-app',\n        // template: '&lt;h1&gt;My title: {{title}}&lt;/h1&gt; &lt;h2&gt;Hardcoded h2&lt;/h2&gt;'\n    })\n    @View({\n        templateUrl: '/templates/home.html',\n        directives: []\n    })\n    .Class({\n        constructor: function() {\n\n        }\n    })\n\nexport class AppComponent {\n    title = \"My First Angular 2 App\";\n}\n</code></pre>\n\n<h3>My HTML scripts</h3>\n\n<pre><code>&lt;!-- 1. Load libraries --&gt;\n&lt;script src=\"node_modules/es6-shim/es6-shim.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n&lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n&lt;script src='app.component.js'&gt;&lt;/script&gt;\n&lt;script src='app/boot.js'&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Next when I try to compile the file <code>tsc app.component.ts --module system --experimentalDecorators</code></p>\n\n<p><strong>I get the following error:</strong> <code>app.component.ts(2,31): error TS2307: Cannot find module 'angular2/core'.</code></p>\n\n<p>Do you know what I'm missing here?</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "angular", "immutable.js"], "comments": [{"owner": {"reputation": 6187, "user_id": 2834553, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lRVAY.jpg?s=128&g=1", "display_name": "Kutyel", "link": "https://stackoverflow.com/users/2834553/kutyel"}, "edited": false, "score": 1, "creation_date": 1452626459, "post_id": 34746646, "comment_id": 57250010, "body": "You might want to have a look at this <a href=\"http://blog.scottlogic.com/2016/01/05/angular2-with-immutablejs.html\" rel=\"nofollow noreferrer\">link</a> ;)"}, {"owner": {"reputation": 4452, "user_id": 2251156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/233863b1f74fc7a33a94630b99be4a40?s=128&d=identicon&r=PG&f=1", "display_name": "Frozen Crayon", "link": "https://stackoverflow.com/users/2251156/frozen-crayon"}, "reply_to_user": {"reputation": 6187, "user_id": 2834553, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lRVAY.jpg?s=128&g=1", "display_name": "Kutyel", "link": "https://stackoverflow.com/users/2834553/kutyel"}, "edited": false, "score": 0, "creation_date": 1452666650, "post_id": 34746646, "comment_id": 57264857, "body": "@Kutyel the wrapper is a nice concept. Perhaps you should write it as an answer and link to the article."}, {"owner": {"reputation": 6187, "user_id": 2834553, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lRVAY.jpg?s=128&g=1", "display_name": "Kutyel", "link": "https://stackoverflow.com/users/2834553/kutyel"}, "edited": false, "score": 0, "creation_date": 1452668179, "post_id": 34746646, "comment_id": 57265533, "body": "done, thanks for your suggestion ^_^"}], "answers": [{"comments": [{"owner": {"reputation": 4452, "user_id": 2251156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/233863b1f74fc7a33a94630b99be4a40?s=128&d=identicon&r=PG&f=1", "display_name": "Frozen Crayon", "link": "https://stackoverflow.com/users/2251156/frozen-crayon"}, "edited": false, "score": 2, "creation_date": 1452691087, "post_id": 34748391, "comment_id": 57280275, "body": "It is not type checking the constructor arguments. Pass string for id and it works!"}], "tags": [], "owner": {"reputation": 2830, "user_id": 4717011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-V-f-_8e-I2k/AAAAAAAAAAI/AAAAAAAAFx4/jscVwpq206E/photo.jpg?sz=128", "display_name": "bertrandg", "link": "https://stackoverflow.com/users/4717011/bertrandg"}, "is_accepted": false, "score": 9, "last_activity_date": 1507484849, "last_edit_date": 1507484849, "creation_date": 1452614718, "answer_id": 34748391, "question_id": 34746646, "link": "https://stackoverflow.com/questions/34746646/how-to-use-immutable-js-with-typed-es6-classes/34748391#34748391", "title": "How to use Immutable JS with typed ES6 classes?", "body": "<p>You can do like this:</p>\n\n<pre><code>const TodoRecord = Immutable.Record({\n    id: 0,\n    description: \"\",\n    completed: false\n});\n\nclass Todo extends TodoRecord {\n    id:number;\n    description:string;\n    completed: boolean;\n\n    constructor(props) {\n        super(props);\n    }\n}\n\nlet todo:Todo = new Todo({id: 1, description: \"I'm Type Safe!\"});\n</code></pre>\n\n<p>Not perfect but working.</p>\n\n<p>It comes from this great blog post:\n<a href=\"https://blog.angular-university.io/angular-2-application-architecture-building-flux-like-apps-using-redux-and-immutable-js-js/\" rel=\"nofollow noreferrer\">https://blog.angular-university.io/angular-2-application-architecture-building-flux-like-apps-using-redux-and-immutable-js-js/</a></p>\n"}, {"tags": [], "owner": {"reputation": 6187, "user_id": 2834553, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lRVAY.jpg?s=128&g=1", "display_name": "Kutyel", "link": "https://stackoverflow.com/users/2834553/kutyel"}, "is_accepted": false, "score": 3, "last_activity_date": 1452668061, "creation_date": 1452668061, "answer_id": 34760180, "question_id": 34746646, "link": "https://stackoverflow.com/questions/34746646/how-to-use-immutable-js-with-typed-es6-classes/34760180#34760180", "title": "How to use Immutable JS with typed ES6 classes?", "body": "<p>You can make a wrapper with Immutable, as stated in <a href=\"http://blog.scottlogic.com/2016/01/05/angular2-with-immutablejs.html\" rel=\"nofollow\">this</a> tutorial:</p>\n\n<pre><code>import { List, Map } from 'immutable';\n\nexport class TodoItem {\n  _data: Map&lt;string, any&gt;;\n\n  get text() {\n    return &lt;string&gt; this._data.get('text');\n  }\n\n  setText(value: string) {\n    return new TodoItem(this._data.set('text', value));\n  }\n\n  get completed() {\n    return &lt;boolean&gt; this._data.get('completed');\n  }\n\n  setCompleted(value: boolean) {\n    return new TodoItem(this._data.set('completed', value));\n  }\n\n  constructor(data: any = undefined) {\n    data = data || { text: '', completed: false, uuid: uuid.v4() };\n    this._data = Map&lt;string, any&gt;(data);\n  }\n}\n</code></pre>\n\n<p>Hope this will help! ;)</p>\n"}], "owner": {"reputation": 4452, "user_id": 2251156, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/233863b1f74fc7a33a94630b99be4a40?s=128&d=identicon&r=PG&f=1", "display_name": "Frozen Crayon", "link": "https://stackoverflow.com/users/2251156/frozen-crayon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7755, "favorite_count": 1, "answer_count": 2, "score": 15, "last_activity_date": 1507484849, "creation_date": 1452609881, "question_id": 34746646, "link": "https://stackoverflow.com/questions/34746646/how-to-use-immutable-js-with-typed-es6-classes", "title": "How to use Immutable JS with typed ES6 classes?", "body": "<p>Say I have classes <code>Task</code> and <code>TaskGroup</code></p>\n\n<pre><code>class Task{\n     constructor(public text:string){}\n}\n\nclass TaskGroup {\n    constructor(public title:string = \"new task group\", public tasks:Task[] = []){}\n}\n</code></pre>\n\n<p>Then in my Angular 2 service I will create an Immutable List of TaskGroups</p>\n\n<pre><code>@Injectable()\nclass TaskService {\n    taskGroups:Immutable.List&lt;TaskGroup&gt;;\n\n    constructor() {\n       this.taskGroups = Immutable.List&lt;TaskGroup&gt;([new TaskGroup(\"Coding tasks\")]);\n    }\n}\n</code></pre>\n\n<p>This way only taskGroups List is immutable. Whatever is inside it isn't. Even if I do <code>Immutable.fromJS(...)</code> instead of <code>Immutable.List&lt;Board&gt;(...)</code> the nested objects are plain ol' Javascript objects.</p>\n\n<p>Immutable JS doesn't supposed class inheritance (<a href=\"https://github.com/facebook/immutable-js/issues/562\">Inheriting from Immutable object with ES6 #562</a>)</p>\n\n<pre><code>//can't do this!\nclass TaskGroup extends Immutable.Map&lt;string, any&gt;{\n    constructor(public title:string = \"new task group\", public tasks:Task[]){}\n}\n//it complained about the class not having methods like set, delete etc\n</code></pre>\n\n<p>So how to create Immutable class objects?</p>\n"}, {"tags": ["asp.net", "typescript", "visual-studio-2015"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452611024, "post_id": 34746539, "comment_id": 57239748, "body": "you will have to give us more info. where is that method coming from? a library, is some of your code making a global function? how is the project set up?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452611093, "post_id": 34746539, "comment_id": 57239797, "body": "look at that bit of code, I guess you have a global function that is defined in a different file, and typescript knows nothing of it."}, {"owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452879215, "post_id": 34746539, "comment_id": 57375443, "body": "__doPostBack is ASP.NET&#39;s very own JavaScript function, and is the function that ASP.NET itself uses to post back to the server. It is very commonly used and I find it very strange that Microsoft&#39;s TypeScript has no idea what it is. Why haven&#39;t they provided type information of ASP.NET&#39;s JavaScript functions?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452879385, "post_id": 34746539, "comment_id": 57375517, "body": "it doesn&#39;t look like there&#39;s a definition file made for ASP.NET functions. The best solution is the one proposed by @basarat"}, {"owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452879552, "post_id": 34746539, "comment_id": 57375594, "body": "You are correct. I&#39;ve accepted @basarat&#39;s proposal but also added an answer of my own showing the line I added. Hopefully this will help others in future."}], "answers": [{"comments": [{"owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "edited": false, "score": 1, "creation_date": 1458213115, "post_id": 34755046, "comment_id": 59764359, "body": "Followed your advice and created a globals.d.ts file but added the following line instead: <code>declare function __doPostBack(eventTarget: string, eventArguments: any)</code>."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 5, "last_activity_date": 1452638054, "creation_date": 1452638054, "answer_id": 34755046, "question_id": 34746539, "link": "https://stackoverflow.com/questions/34746539/typescript-cannot-find-name-dopostback/34755046#34755046", "title": "Typescript cannot find name &#39;doPostBack&#39;", "body": "<blockquote>\n  <p>__doPostBack('ccm$ctl00$_ColumnDesigner', 'radW');\n  Typescript produces the error: Cannot find name 'doPostBack'</p>\n</blockquote>\n\n<p>Just declare it in a file <code>globals.d.ts</code>: </p>\n\n<pre><code>declare var __doPostBack:any;\n</code></pre>\n\n<h1>More</h1>\n\n<p>Check the quick migration guide : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/types/migrating.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/types/migrating.html</a></p>\n"}], "owner": {"reputation": 3094, "user_id": 909882, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Tzvdi.jpg?s=128&g=1", "display_name": "\u0189iamond \u01e4eeze\u01a6", "link": "https://stackoverflow.com/users/909882/%c6%89iamond-%c7%a4eeze%c6%a6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 596, "favorite_count": 1, "accepted_answer_id": 34755046, "answer_count": 1, "score": 1, "last_activity_date": 1452879398, "creation_date": 1452609549, "last_edit_date": 1452618949, "question_id": 34746539, "link": "https://stackoverflow.com/questions/34746539/typescript-cannot-find-name-dopostback", "title": "Typescript cannot find name &#39;doPostBack&#39;", "body": "<p>I'm migrating some existing JavaScript in an ASP.NET web application to Typescript and came across the following line in the JavaScript:</p>\n\n<p><code>__doPostBack('ccm$ctl00$_ColumnDesigner', 'radW');</code></p>\n\n<p>Typescript produces the error: <em>Cannot find name 'doPostBack'.</em> I'm stuck on how to resolve this. Anybody know how?</p>\n\n<p>The JavaScript is located in a .js file and is part of a <code>System.Web.UI.WebControls.CompositeControl</code> object. The script is registered using the <code>System.Web.UI.ScriptManager.RegisterClientScriptResource(Control, Type, resourceName)</code> method.</p>\n"}, {"tags": ["typescript", "npm", "webpack", "angular", "cal-heatmap"], "comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452609133, "post_id": 34746304, "comment_id": 57238258, "body": "try this: <code>&#47;&#47;&#47; &lt;reference path=&quot;.&#47;pathToYourLIbTypings&#47;cal-heatmap.d.ts&quot; &#47;&gt;</code>"}, {"owner": {"reputation": 857, "user_id": 359834, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48c2edef26e7800f4fc872c9a56834e6?s=128&d=identicon&r=PG", "display_name": "OG Dude", "link": "https://stackoverflow.com/users/359834/og-dude"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452609540, "post_id": 34746304, "comment_id": 57238607, "body": "Hi, thanks for your reply. This doesn&#39;t fix it and IIRC the reference notation is not required for recent versions of Typescript anymore."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 1, "creation_date": 1452610765, "post_id": 34746304, "comment_id": 57239547, "body": "<a href=\"http://www.typescriptlang.org/Handbook\" rel=\"nofollow noreferrer\">typescriptlang.org/Handbook</a> compare the &quot;Ambient Internal Modules&quot; with &quot;Ambient External Modules&quot;"}, {"owner": {"reputation": 857, "user_id": 359834, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48c2edef26e7800f4fc872c9a56834e6?s=128&d=identicon&r=PG", "display_name": "OG Dude", "link": "https://stackoverflow.com/users/359834/og-dude"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452612599, "post_id": 34746304, "comment_id": 57240904, "body": "I&#39;ll check that link, thanks. Hopefully this part of the documentation is still up to date."}], "answers": [{"tags": [], "owner": {"reputation": 857, "user_id": 359834, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48c2edef26e7800f4fc872c9a56834e6?s=128&d=identicon&r=PG", "display_name": "OG Dude", "link": "https://stackoverflow.com/users/359834/og-dude"}, "is_accepted": false, "score": 0, "last_activity_date": 1452649079, "creation_date": 1452649079, "answer_id": 34756983, "question_id": 34746304, "link": "https://stackoverflow.com/questions/34746304/using-js-library-installed-via-npm-in-typescript-angular-2-project/34756983#34756983", "title": "Using JS library installed via npm in Typescript Angular 2 project", "body": "<p>Ok, so I got this to work. Never mind the typings for the cal-heatmap module. They don't export anything so there are not useful in this case. No need to install.</p>\n\n<p>You can then do:</p>\n\n<pre><code>import * as CalHeatMap from 'cal-heatmap';\n...\nnew CalHeatMap().init({});\n</code></pre>\n\n<p>Before, I was trying to call init directly on CalHeatMap without instantiating, kind of n00b.</p>\n"}, {"tags": [], "owner": {"reputation": 743, "user_id": 4437655, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/4493db97d7ae7512d313941d6567b412?s=128&d=identicon&r=PG&f=1", "display_name": "rakeen", "link": "https://stackoverflow.com/users/4437655/rakeen"}, "is_accepted": false, "score": 1, "last_activity_date": 1458669165, "creation_date": 1458669165, "answer_id": 36161766, "question_id": 34746304, "link": "https://stackoverflow.com/questions/34746304/using-js-library-installed-via-npm-in-typescript-angular-2-project/36161766#36161766", "title": "Using JS library installed via npm in Typescript Angular 2 project", "body": "<p>I ran into something similar.<br>\n<a href=\"https://github.com/wa0x6e/cal-heatmap/issues/192\" rel=\"nofollow\">https://github.com/wa0x6e/cal-heatmap/issues/192</a></p>\n\n<p>I was using systemjs though. Funny thing is the CalHeatMap object loaded perfectly in the browser, but didn't loaded in the component.</p>\n\n<p><br>\nI imported d3js and c3js like that and they loaded perfectly.\nOne thing I noticed is that, the other libraries keep the functionalities inside an object(i.e d3 in d3js); whereas in cal-heatmap they're returning a function(CalHeatMap is actually a function if you look inside the <a href=\"https://github.com/wa0x6e/cal-heatmap/blob/master/cal-heatmap.js#L11\" rel=\"nofollow\">source-code</a>).</p>\n"}, {"tags": [], "owner": {"reputation": 1967, "user_id": 406290, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BwcOg.jpg?s=128&g=1", "display_name": "Kevin Hooke", "link": "https://stackoverflow.com/users/406290/kevin-hooke"}, "is_accepted": false, "score": 0, "last_activity_date": 1575529784, "creation_date": 1575529784, "answer_id": 59189955, "question_id": 34746304, "link": "https://stackoverflow.com/questions/34746304/using-js-library-installed-via-npm-in-typescript-angular-2-project/59189955#59189955", "title": "Using JS library installed via npm in Typescript Angular 2 project", "body": "<p>If you're bundling cal-heatmap with Webpack4, because of the global var in cal-heatmap.js, I also needed to use Webpack ProvidePlugin like this:</p>\n\n<pre><code>    new webpack.ProvidePlugin({\n        CalHeatMap: \"cal-heatmap\"\n    })\n</code></pre>\n\n<p>Otherwise I'd see this error at runtime:</p>\n\n<pre><code>Uncaught ReferenceError: CalHeatMap is not defined\n at Module../src/app/js/myapp.js \n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 359834, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/48c2edef26e7800f4fc872c9a56834e6?s=128&d=identicon&r=PG", "display_name": "OG Dude", "link": "https://stackoverflow.com/users/359834/og-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1197, "favorite_count": 2, "answer_count": 3, "score": 1, "last_activity_date": 1575529784, "creation_date": 1452608942, "question_id": 34746304, "link": "https://stackoverflow.com/questions/34746304/using-js-library-installed-via-npm-in-typescript-angular-2-project", "title": "Using JS library installed via npm in Typescript Angular 2 project", "body": "<p>I don't manage to use <a href=\"https://www.npmjs.com/package/cal-heatmap\" rel=\"nofollow\">cal-heatmap</a> in my Angular2 project written in TypeScript. Any help on how to get this going would be appreciated.</p>\n\n<p>I am using webpack (<a href=\"http://pastebin.com/pFQQK7zx\" rel=\"nofollow\">webpack.config.js</a>) to bundle the application. Here is the <a href=\"http://pastebin.com/6Q3DQeNm\" rel=\"nofollow\">ts.config</a>. I installed cal-heatmap with npm and type definitions with tsd. In my application's TypeScript code I would do like:</p>\n\n<pre><code>import * as calheatmap from 'cal-heatmap';\n</code></pre>\n\n<p>However, when I open the application in a browser <code>calheatmap</code> remains undefined and nothing is imported. The library is based on d3 and d3 itself works. Using the same package installation procedure the following just works inside my application:</p>\n\n<pre><code>    import * as d3 from 'd3';\n</code></pre>\n\n<p>I suspect cal-heatmap does not work because its <a href=\"https://github.com/wa0x6e/cal-heatmap/blob/master/src/cal-heatmap.js#L1\" rel=\"nofollow\">JS code</a> (from NPM) or the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/cal-heatmap/cal-heatmap.d.ts\" rel=\"nofollow\">ts.d</a> are not compatible but I don't know how to remedy this.</p>\n\n<p>Any hints would are appreciated, thanks!</p>\n"}, {"tags": ["typescript", "protractor", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "is_accepted": true, "score": 2, "last_activity_date": 1452611706, "creation_date": 1452611706, "answer_id": 34747256, "question_id": 34744394, "link": "https://stackoverflow.com/questions/34744394/with-protractor-and-typescript-how-can-i-return-the-column-index-of-a-grid-base/34747256#34747256", "title": "With protractor and TypeScript, how can I return the column index of a grid based on the header text for that column?", "body": "<p>Working with a colleague, he pointed out a couple of salient problems with the approach that I took above.  He was able to fix this as follows:</p>\n\n<p>First, the signature for the function needed to return a promise, not a number. Note the return type and the return statements.</p>\n\n<pre><code>public getIndexByHeaderText(gridId: string, headerText: string): protractor.promise.Promise&lt;number&gt; {\n    var GRID_HEADER_REPEATER: string = 'col in colContainer.renderedColumns track by col.uid';\n    return element(by.id(gridId)).all(by.repeater(GRID_HEADER_REPEATER)).getText().then(function (textArray) {\n        return textArray.indexOf(headerText);\n    });\n};\n</code></pre>\n\n<p>Second, the call to this function needs to treat it as a promise, and assign the returned value via the then-function syntax, like so.</p>\n\n<pre><code>it('Should do something', function() {\n    lib.grid.getRow.byRowIdentifier(page.GRID_ID, newUserEmailPrefix, 'name').then(function (gridReturnObject) {\n        lib.grid.column.getIndexByHeaderText(page.GRID_ID, 'Header Text').then(function (columnIndex) {\n            var deactivateButtonCell = gridReturnObject.rowCellElements[columnIndex];\n            // Other code omitted for clarity...\n        });\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 2117, "user_id": 993856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8b947edb1a48656a7d6c0053f11781cc?s=128&d=identicon&r=PG", "display_name": "Ken Palmer", "link": "https://stackoverflow.com/users/993856/ken-palmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 459, "favorite_count": 1, "accepted_answer_id": 34747256, "answer_count": 1, "score": 2, "last_activity_date": 1452611706, "creation_date": 1452603623, "question_id": 34744394, "link": "https://stackoverflow.com/questions/34744394/with-protractor-and-typescript-how-can-i-return-the-column-index-of-a-grid-base", "title": "With protractor and TypeScript, how can I return the column index of a grid based on the header text for that column?", "body": "<p>I'm trying to write a function that will return the column index of a grid, based on the header text for that column.  I've made numerous attempts, which appear in the comments below. In the end, this function always returns -1 instead of the expected column index.  With the WebStorm debugger I've been able to verify that the parameters entering the function are being populated.</p>\n\n<p>Additionally, you can see one of my attempts at just doing this via a CSS selector, which was a desperation approach.</p>\n\n<pre><code>public getColumnIndexByHeaderText(gridId: string, headerText: string): number {\n    var GRID_HEADER_REPEATER: string = 'col in colContainer.renderedColumns track by col.uid';\n    var columnIndex: number = -1;\n\n    // Attempt A\n    element(by.id(gridId)).all(by.repeater(GRID_HEADER_REPEATER)).getText().then(function (textArray) {\n        columnIndex = textArray.indexOf(headerText);\n    });\n\n    // Attempt B\n    element(by.id(gridId)).then(function (grid) {\n        grid.all(by.repeater(GRID_HEADER_REPEATER)).getText().then(function (textArray) {\n            columnIndex = textArray.indexOf(headerText);\n        });\n    });\n\n    // Attempt C\n    element.all(by.repeater(GRID_HEADER_REPEATER)).filter(function (elm, index) {\n        return elm.getText().then(function (text) {\n            if (text === headerText) {\n                return index;\n            }\n        });\n    });\n\n    // Attempt D\n    var cssSelector = '#' + gridId + ' .ui-grid-header span.ng-binding';\n    element.all(by.css(cssSelector)).getText().then(function (textArray) {\n        columnIndex = textArray.indexOf(headerText);\n    });\n\n    return columnIndex;\n};\n</code></pre>\n\n<p>Other approaches that I tried (not shown here) also failed.  It feels like I'm just overlooking something fundamental.  Thanks for your help.</p>\n"}, {"tags": ["angular", "macos", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 4, "creation_date": 1452602259, "post_id": 34743848, "comment_id": 57233156, "body": "<a href=\"http://superuser.com/questions/532233/what-is-the-key-on-a-mac-keyboard\" title=\"what is the key on a mac keyboard\">superuser.com/questions/532233/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1452638149, "last_edit_date": 1490005097, "creation_date": 1452638149, "answer_id": 34755070, "question_id": 34743848, "link": "https://stackoverflow.com/questions/34743848/typescript-what-is-the-mac-osx-command-for-the-quote-character-concerning-multi/34755070#34755070", "title": "Typescript: what is the Mac OSX command for the quote character concerning multiline?", "body": "<blockquote>\n  <p>the back tick key is to the left of Return while you hold the Option key</p>\n</blockquote>\n\n<p>Ref <a href=\"https://superuser.com/questions/532233/what-is-the-key-on-a-mac-keyboard\">https://superuser.com/questions/532233/what-is-the-key-on-a-mac-keyboard</a></p>\n"}], "owner": {"reputation": 947, "user_id": 2183350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c79c78ae795c4104eaa8ddcb47858c2?s=128&d=identicon&r=PG", "display_name": "Mr Washington", "link": "https://stackoverflow.com/users/2183350/mr-washington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 886, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549918191, "creation_date": 1452602075, "last_edit_date": 1549918191, "question_id": 34743848, "link": "https://stackoverflow.com/questions/34743848/typescript-what-is-the-mac-osx-command-for-the-quote-character-concerning-multi", "title": "Typescript: what is the Mac OSX command for the quote character concerning multiline?", "body": "<p>I am pretty new to Angular 2 and and following the official tutorial (<a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt1.html\" rel=\"nofollow\">https://angular.io/docs/ts/latest/tutorial/toh-pt1.html</a>) I noticed that I have to use the ` mark for multi-line template strings (string interpolation). </p>\n\n<p>As a Mac OSX user (french keyboard) do you have any advice how to type this quotation marks easily?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452595484, "post_id": 34741285, "comment_id": 57228593, "body": "you can make an enum with the values. :)"}], "answers": [{"comments": [{"owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "edited": false, "score": 0, "creation_date": 1452596275, "post_id": 34741584, "comment_id": 57229166, "body": "Sweet, thought there should be something simple to solve this really common problem"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 1, "last_activity_date": 1452596365, "last_edit_date": 1452596365, "creation_date": 1452595624, "answer_id": 34741584, "question_id": 34741285, "link": "https://stackoverflow.com/questions/34741285/typescript-angularjs-commonjs-constants/34741584#34741584", "title": "Typescript AngularJs CommonJs Constants", "body": "<p>You could make an enum with the values.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>enum FilterType {\n  NAME, \n  AGE\n}\n</code></pre>\n\n\n\n<p>Enum's get numeric values by default, so the 1st one gets the value 0, 2nd one value 1, etc.</p>\n\n<p>You can use it like this:</p>\n\n<pre><code>filters[FilterType.NAME](\"this value\", \"this label\");\n</code></pre>\n\n<p>The enum can be in another file, and you can import it anywhere you want to use it. You can learn more about enums in TypeScript <a href=\"http://www.typescriptlang.org/Handbook#basic-types-enum\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 13034, "user_id": 1330137, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ImoRJ.jpg?s=128&g=1", "display_name": "Callum Linington", "link": "https://stackoverflow.com/users/1330137/callum-linington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 34741584, "answer_count": 1, "score": 1, "last_activity_date": 1452596365, "creation_date": 1452594839, "question_id": 34741285, "link": "https://stackoverflow.com/questions/34741285/typescript-angularjs-commonjs-constants", "title": "Typescript AngularJs CommonJs Constants", "body": "<p>So I have this scenario where I choose a filter object to build. The list of filters is stored in an array:</p>\n\n<pre><code>app.constant(\"filters\", () =&gt; &lt;IFilterList&gt;[\n    (value, label) =&gt; &lt;IFilterObject&gt;{ value: value, label: label }\n]);\n\ninterface IFilterList {\n    [index:number]: (value?:string, label?:string) =&gt; IFilterObject\n}\n\ninterface IFilterObject {\n   value: string,\n   label: string\n}\n</code></pre>\n\n<p>This allows the module that sets the filter being used:</p>\n\n<pre><code>// somemodule.js\n\napp.controller(\"SomeController\", (filters, filterService) =&gt; {\n    var filter = filters[0](\"this value\", \"this label\");\n\n    filterService.change(filter);\n});\n</code></pre>\n\n<p>As you can see doing <code>filters[0]</code> with a magic number is poor to say the least.</p>\n\n<p>In C# I would create a static class which is public so can be used anywhere. Something like:</p>\n\n<pre><code>public static class FilterNames\n{\n    public const int NameFilter = 0;\n}\n</code></pre>\n\n<p>How would you do the same in AngularJs and TypeScript using the CommonJs module system?</p>\n\n<p>In my mind you would need global variables... is really the best way to do this?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "answers": [{"comments": [{"owner": {"reputation": 1962, "user_id": 370532, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nc6yi.jpg?s=128&g=1", "display_name": "DeezCashews", "link": "https://stackoverflow.com/users/370532/deezcashews"}, "edited": false, "score": 30, "creation_date": 1482504876, "post_id": 34738923, "comment_id": 69809482, "body": "It&#39;s useful to understand what the error is saying to help you in future too.  <code>Type &#39;() =&gt; string&#39; is not assignable to type &#39;string&#39;.</code> is basically saying in this instance &quot;A function that returns a string is not assignable to a variable of type string&quot;  Once you read <code>() =&gt; string</code> correctly it should all make sense.  If it was pure JS you wouldn&#39;t have got an error and your variable would have been pointing to a function instead of the value returned and it would have been even harder to track down what&#39;s going on."}, {"owner": {"reputation": 7498, "user_id": 249895, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/XRxBE.jpg?s=128&g=1", "display_name": "Dragos Durlut", "link": "https://stackoverflow.com/users/249895/dragos-durlut"}, "edited": false, "score": 0, "creation_date": 1575715066, "post_id": 34738923, "comment_id": 104664501, "body": "Felt like such a morron once I realized this."}], "tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": true, "score": 51, "last_activity_date": 1452587887, "creation_date": 1452587887, "answer_id": 34738923, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/34738923#34738923", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>You miss parenthesis:</p>\n\n<pre><code>var value: string = dataObjects[i].getValue(); \nvar id: number = dataObjects[i].getId();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6688, "user_id": 4684151, "user_type": "registered", "accept_rate": 9, "profile_image": "https://graph.facebook.com/970085243010198/picture?type=large", "display_name": "Ignatius Andrew", "link": "https://stackoverflow.com/users/4684151/ignatius-andrew"}, "is_accepted": false, "score": 6, "last_activity_date": 1461654552, "last_edit_date": 1461654552, "creation_date": 1461648570, "answer_id": 36855966, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/36855966#36855966", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p><strong>Also adding other Scenarios where you may see these Errors</strong></p>\n\n<blockquote>\n  <ol>\n  <li><p>First Check you compiler version, Download latest Typescript compiler\n  to support ES6 syntaxes</p></li>\n  <li><p>typescript still produces output even with typing errors this doesn't\n  actually block development,</p></li>\n  </ol>\n</blockquote>\n\n<p>When you see these errors Check for Syntaxes in initialization or when Calling these methods or variables,<br>\nCheck whether the parameters of the functions are of wrong data Type,you initialized as 'string' and assigning a 'boolean' or 'number'</p>\n\n<p>For Example</p>\n\n<p><strong>1.</strong></p>\n\n<pre><code> private errors: string;\n    //somewhere in code you assign a boolean value to (string)'errors'\n    this.errors=true\n    or \n    this.error=5\n</code></pre>\n\n<p><strong>2.</strong></p>\n\n<pre><code> private values: Array&lt;number&gt;;    \n    this.values.push(value);  //Argument of type 'X' is not assignable to parameter of type 'X'\n</code></pre>\n\n<p>The Error message here is because the Square brackets for Array Initialization is missing, It works even without it, but VS Code red alerts.</p>\n\n<pre><code>private values: Array&lt;number&gt; = [];    \nthis.values.push(value);\n</code></pre>\n\n<p><strong>Note:</strong><br>\nRemember that Javascript typecasts according to the value assigned, So typescript notifies them but the code executes even with these errors highlighted in VS Code</p>\n\n<p>Ex: </p>\n\n<pre><code> var a=2;\n typeof(a) // \"number\"\n var a='Ignatius';\n typeof(a) // \"string\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 971, "user_id": 689429, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/igtZM.jpg?s=128&g=1", "display_name": "MaximeBernard", "link": "https://stackoverflow.com/users/689429/maximebernard"}, "is_accepted": false, "score": 12, "last_activity_date": 1467798520, "last_edit_date": 1495539206, "creation_date": 1467798520, "answer_id": 38221030, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/38221030#38221030", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>For what it worth, if anyone has this problem only in VSCode, just restart VSCode and it should fix it. Sometimes, Intellisense seems to mess up with imports or types. </p>\n\n<p>Related to <a href=\"https://stackoverflow.com/q/37500125/689429\">Typescript: Argument of type &#39;RegExpMatchArray&#39; is not assignable to parameter of type &#39;string&#39;</a></p>\n"}, {"tags": [], "owner": {"reputation": 2624, "user_id": 3516963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b70ad11c185bf77711323511ff39f10?s=128&d=identicon&r=PG&f=1", "display_name": "artemisian", "link": "https://stackoverflow.com/users/3516963/artemisian"}, "is_accepted": false, "score": 0, "last_activity_date": 1472904360, "creation_date": 1472904360, "answer_id": 39306695, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/39306695#39306695", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>In my case, strangely enough, I was missing the import of the class it was complaining about and my IDE didn't detect it.</p>\n"}, {"tags": [], "owner": {"reputation": 1118, "user_id": 999955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41a67b5554e55db014b98583b0e63eaf?s=128&d=identicon&r=PG", "display_name": "Mike Kellogg", "link": "https://stackoverflow.com/users/999955/mike-kellogg"}, "is_accepted": false, "score": 3, "last_activity_date": 1493930040, "creation_date": 1493930040, "answer_id": 43792323, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/43792323#43792323", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>I'm doing angular 2 and typescript and I didn't realize I had a space in my arrow notation</p>\n\n<p>I had <code>.map(key = &gt;</code>\ninstead of <code>.map(key =&gt;</code> </p>\n\n<p>Definitely keep your eyes open for stupid syntax errors</p>\n"}, {"tags": [], "owner": {"reputation": 726, "user_id": 7909738, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Vrt6cOU1YNI/AAAAAAAAAAI/AAAAAAAAALs/LUYeELDK6KU/photo.jpg?sz=128", "display_name": "Sachin Mishra", "link": "https://stackoverflow.com/users/7909738/sachin-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1521883372, "creation_date": 1521883372, "answer_id": 49463121, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/49463121#49463121", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>This problem basically comes when your compiler gets failed to understand the difference between cast operator of the type string to Number.</p>\n\n<p>you can use the Number object and pass your value to get the appropriate results for it by using <strong>Number(&lt;&lt;&lt;&lt;...Variable_Name......>>>>)</strong> </p>\n"}, {"tags": [], "owner": {"reputation": 360, "user_id": 6269268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aMH8K.jpg?s=128&g=1", "display_name": "GusSL", "link": "https://stackoverflow.com/users/6269268/gussl"}, "is_accepted": false, "score": 2, "last_activity_date": 1522730239, "creation_date": 1522730239, "answer_id": 49622343, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/49622343#49622343", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>In my case, it was that I had a custom interface called Item, but I imported accidentally because of the auto-completion, the angular Item class. Be sure that you're importing from the right package.</p>\n"}, {"comments": [{"owner": {"reputation": 367, "user_id": 1581925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1973c0d97931515f427341f49ac5f01?s=128&d=identicon&r=PG", "display_name": "twildeman", "link": "https://stackoverflow.com/users/1581925/twildeman"}, "edited": false, "score": 1, "creation_date": 1593526041, "post_id": 56831102, "comment_id": 110808350, "body": "setting the type to any is going back to weak typing your code and actually makes it easier for typed errors to crop up"}], "tags": [], "owner": {"reputation": 1286, "user_id": 9697689, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DbHvNY6H8CE/AAAAAAAAAAI/AAAAAAAAAAs/PedGuDCORk8/photo.jpg?sz=128", "display_name": "nagender pratap chauhan", "link": "https://stackoverflow.com/users/9697689/nagender-pratap-chauhan"}, "is_accepted": false, "score": 2, "last_activity_date": 1561963831, "creation_date": 1561963831, "answer_id": 56831102, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/56831102#56831102", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>you just use variable type <strong>any</strong> and remove these types of problem.</p>\n\n<p>error code : </p>\n\n<pre><code>  let accessToken = res;\n  localStorage.setItem(LocalStorageConstants.TOKEN_KEY, accessToken);\n</code></pre>\n\n<p>given error <strong><em>Argument of type '{}' is not assignable to parameter of type 'string'.</em></strong></p>\n\n<p>success Code : </p>\n\n<pre><code>  var accessToken:any = res;\n  localStorage.setItem(LocalStorageConstants.TOKEN_KEY, accessToken);\n</code></pre>\n\n<p>we create var type variable then use variable type any and resolve this issue.</p>\n\n<p>any = handle any type of value so that remove error.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 475278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e770b6c6bf06d685f7d7860bc4b5daf6?s=128&d=identicon&r=PG", "display_name": "Agorilla", "link": "https://stackoverflow.com/users/475278/agorilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1586252306, "creation_date": 1586252306, "answer_id": 61077000, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x/61077000#61077000", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>I was getting this one on this case</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\n.then((error: any, response: any) =&gt;\u00a0{\n  console.info('document error: ', error);\n  console.info('documenr response: ', response);\n  return new MyModel();\n})\n...\n</code></pre>\n\n<p>on this case making parameters optional would make ts stop complaining</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.then((error?: any, response?: any) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 1100, "user_id": 4636482, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7RH32.jpg?s=128&g=1", "display_name": "Sasha", "link": "https://stackoverflow.com/users/4636482/sasha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250919, "favorite_count": 7, "accepted_answer_id": 34738923, "answer_count": 9, "score": 73, "last_activity_date": 1586252306, "creation_date": 1452587466, "last_edit_date": 1500576598, "question_id": 34738799, "link": "https://stackoverflow.com/questions/34738799/argument-of-type-x-is-not-assignable-to-parameter-of-type-x", "title": "Argument of type &#39;X&#39; is not assignable to parameter of type &#39;X&#39;", "body": "<p>Good day. I'm new to Type Script, using VSCode.</p>\n\n<p>Getting following errors:</p>\n\n<ol>\n<li><blockquote>\n  <p>error TS2322: Type '() => string' is not assignable to type 'string'.</p>\n</blockquote></li>\n<li><blockquote>\n  <p>error TS2322: Type '() => number' is not assignable to type 'number'.</p>\n</blockquote></li>\n</ol>\n\n<p>The Code: </p>\n\n<p><strong>DTO.ts</strong></p>\n\n<pre><code>interface DTO {\n\n    getId(): number;\n    getValue(): string;\n}\nexport = DTO;\n</code></pre>\n\n<p><strong>LinkedObject.ts</strong></p>\n\n<pre><code>class LinkedObject {\n\n    public value: string = \"Not Set\";\n    public id: number = 0;\n\n    constructor(value?: string, id?: number) {\n        this.value = value;\n        this.id = id;\n    }\n}\nexport = LinkedObject;\n</code></pre>\n\n<p>I am trying to instantiate <code>LinkedObject</code> class using above mentioned interface methods: </p>\n\n<p><strong>TravelClientFormPopulator.ts</strong></p>\n\n<pre><code>class TravelClientFormPopulator {\n\n    public populateComboBoxUsingDTOs(dataObjects: Array&lt;DTO&gt;, comboBoxID: string): void {\n\n        // Get the combo box\n        var selectElement = &lt;HTMLSelectElement&gt; document.getElementById(comboBoxID);\n        // Reset the options \n        selectElement.options.length = 0;\n\n        var linkedObjectsToAdd: LinkedObject[] = new Array&lt;LinkedObject&gt;();\n\n        var defaultLinkedObject: LinkedObject = new LinkedObject(\"Not Selected\", 0);\n\n        linkedObjectsToAdd.push(defaultLinkedObject);\n\n        for (var i = 0; i &lt; dataObjects.length; i++) {\n            var value: string = dataObjects[i].getValue; // Error here\n            var id: number = dataObjects[i].getId; // And here\n            var linkedObject: LinkedObject = new LinkedObject(value, id);\n        }\n    }\n}\n</code></pre>\n\n<p>Any help will be highly appreciated. </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "edited": false, "score": 0, "creation_date": 1452584301, "post_id": 34737880, "comment_id": 57221779, "body": "You can see in the playground (<a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow noreferrer\">typescriptlang.org/Playground</a>) that <code>this</code> has correct value: <a href=\"http://bit.ly/1ZXO53U\" rel=\"nofollow noreferrer\">bit.ly/1ZXO53U</a>"}, {"owner": {"reputation": 6540, "user_id": 1533666, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Zt74p.png?s=128&g=1", "display_name": "Venkat.R", "link": "https://stackoverflow.com/users/1533666/venkat-r"}, "edited": false, "score": 0, "creation_date": 1452584931, "post_id": 34737880, "comment_id": 57222087, "body": "@shtpavel, check my answer and refer the doc mentioned in the answer."}, {"owner": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "edited": false, "score": 0, "creation_date": 1452585817, "post_id": 34737880, "comment_id": 57222510, "body": "d.pr/i/iBa check this out.. what I&#39;m doing wrong?"}], "answers": [{"comments": [{"owner": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "edited": false, "score": 0, "creation_date": 1452585327, "post_id": 34738097, "comment_id": 57222295, "body": "Maybe you didn&#39;t understand.. I know what arrow function means. But &quot;this&quot; inside lambda points not to the class. Check this out: <a href=\"http://d.pr/i/iBa\" rel=\"nofollow noreferrer\">d.pr/i/iBa</a>"}, {"owner": {"reputation": 6540, "user_id": 1533666, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Zt74p.png?s=128&g=1", "display_name": "Venkat.R", "link": "https://stackoverflow.com/users/1533666/venkat-r"}, "reply_to_user": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "edited": false, "score": 0, "creation_date": 1452591481, "post_id": 34738097, "comment_id": 57225738, "body": "can u share the whole getCompanies method in question"}], "tags": [], "owner": {"reputation": 6540, "user_id": 1533666, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Zt74p.png?s=128&g=1", "display_name": "Venkat.R", "link": "https://stackoverflow.com/users/1533666/venkat-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1452584835, "creation_date": 1452584835, "answer_id": 34738097, "question_id": 34737880, "link": "https://stackoverflow.com/questions/34737880/angular-2-http-subscribe-this-pointer/34738097#34738097", "title": "Angular 2. Http. Subscribe: &quot;this&quot; pointer", "body": "<p>It's ES6 Arrow Function Feature to avoid creating one more variable for the context. You Can\u2019t Override An Arrow Function\u2019s \"this\".</p>\n\n<pre><code>http.request('js/app/config/config.json').subscribe(function(data) {\n  this.url = data.json().url;\n});\n</code></pre>\n\n<p>Refer this doc:\n<a href=\"http://derickbailey.com/2015/09/28/do-es6-arrow-functions-really-solve-this-in-javascript/\" rel=\"nofollow\">http://derickbailey.com/2015/09/28/do-es6-arrow-functions-really-solve-this-in-javascript/</a></p>\n"}, {"tags": [], "owner": {"reputation": 10358, "user_id": 1211175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/il5eC.jpg?s=128&g=1", "display_name": "Endre Simo", "link": "https://stackoverflow.com/users/1211175/endre-simo"}, "is_accepted": false, "score": 2, "last_activity_date": 1452587179, "creation_date": 1452587179, "answer_id": 34738717, "question_id": 34737880, "link": "https://stackoverflow.com/questions/34737880/angular-2-http-subscribe-this-pointer/34738717#34738717", "title": "Angular 2. Http. Subscribe: &quot;this&quot; pointer", "body": "<p><strong>Arrow functions do not have their own <code>this</code> value.</strong> The value of <code>this</code> inside an arrow function is always inherited from the enclosing scope, in your case <code>Subscriber</code>.</p>\n\n<p>In the ES6 version, note that the <code>subscribe</code> method receives <code>this</code> from its caller. The inner function is an arrow function, so it inherits <strong><code>this</code></strong> from the enclosing scope.</p>\n"}, {"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 8, "last_activity_date": 1452638362, "creation_date": 1452638362, "answer_id": 34755119, "question_id": 34737880, "link": "https://stackoverflow.com/questions/34737880/angular-2-http-subscribe-this-pointer/34755119#34755119", "title": "Angular 2. Http. Subscribe: &quot;this&quot; pointer", "body": "<p>Based on the screenshot : <a href=\"http://d.pr/i/iBa\" rel=\"noreferrer\">http://d.pr/i/iBa</a> </p>\n\n<p><a href=\"https://i.stack.imgur.com/vVZiR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vVZiR.png\" alt=\"enter image description here\"></a></p>\n\n<p>You are debugging <code>this</code> in the console. Please note that <code>this</code> on the console will be the <strong>actual this</strong>. When TypeScript generates an arrow function for non ES6 JavaScript (which doesn't have native support for arrow functions) <code>this</code> is mapped to <code>_this</code> (and other things) which means that you need to view <code>_this</code>. </p>\n\n<h1>TIP</h1>\n\n<p>Just debug the generated JavaScript when learning TypeScript. This is the TypeScript bug : <a href=\"https://github.com/Microsoft/TypeScript/issues/2859\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/2859</a> if you are interested.</p>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 6767450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5040c557689b83227187bb054ec73f?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/6767450/simon"}, "is_accepted": false, "score": 3, "last_activity_date": 1473059539, "creation_date": 1473059539, "answer_id": 39325462, "question_id": 34737880, "link": "https://stackoverflow.com/questions/34737880/angular-2-http-subscribe-this-pointer/39325462#39325462", "title": "Angular 2. Http. Subscribe: &quot;this&quot; pointer", "body": "<p>I found a workaround, you can try this</p>\n\n<pre><code>http.request('js/app/config/config.json').subscribe((function (data) {\n  this.url = data.json().url;\n}).bind(this));\n</code></pre>\n"}], "owner": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4892, "favorite_count": 0, "answer_count": 4, "score": 10, "last_activity_date": 1513618372, "creation_date": 1452584004, "last_edit_date": 1513618372, "question_id": 34737880, "link": "https://stackoverflow.com/questions/34737880/angular-2-http-subscribe-this-pointer", "title": "Angular 2. Http. Subscribe: &quot;this&quot; pointer", "body": "<p>Got: </p>\n\n<pre><code>http.request('js/app/config/config.json').subscribe(data =&gt; {\n            this.url = data.json().url;\n        });\n</code></pre>\n\n<p>and somehow \"this\" points to Subscriber. Don't know why... cause I thought that fat-arrow lambda will catch parent's class pointer. </p>\n\n<p>Why so? </p>\n"}, {"tags": ["javascript", "object", "enums", "typescript", "key-value"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1452577696, "last_edit_date": 1452577696, "creation_date": 1452577345, "answer_id": 34736328, "question_id": 34736177, "link": "https://stackoverflow.com/questions/34736177/how-does-typescript-enum-trans-compilation-function-create-2-keyvalue-pairs-at-o/34736328#34736328", "title": "How does typescript enum trans-compilation function create 2 keyvalue pairs at once?", "body": "<blockquote>\n  <p>How is it creating 2 key:value pairs at once check out here: </p>\n</blockquote>\n\n<p>Lets take the line : </p>\n\n<pre><code>Role[Role[\"Employee\"] = 3] = \"Employee\";\n</code></pre>\n\n<p>First we get : </p>\n\n<pre><code>Role[\"Employee\"] = 3\n</code></pre>\n\n<p>Then we get </p>\n\n<pre><code>Role[3] = \"Employee\";\n</code></pre>\n\n<p>Where <code>3</code> is the result of the expression <code>Role[\"Employee\"] = 3</code></p>\n\n<p>So you can use enum to translate number to string OR string to number</p>\n\n<blockquote>\n  <p>Why does the scope pass in (Role || (Role = {})?</p>\n</blockquote>\n\n<p>It allows you to split the enum definition across multiple TypeScript files.</p>\n\n<h1>More</h1>\n\n<p>An entire section in the book : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/enums.html\" rel=\"nofollow\">https://basarat.gitbooks.io/typescript/content/docs/enums.html</a> \ud83c\udf39</p>\n"}, {"tags": [], "owner": {"reputation": 3683, "user_id": 2300664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syRGh.png?s=128&g=1", "display_name": "Seamus", "link": "https://stackoverflow.com/users/2300664/seamus"}, "is_accepted": true, "score": 1, "last_activity_date": 1452577444, "creation_date": 1452577444, "answer_id": 34736342, "question_id": 34736177, "link": "https://stackoverflow.com/questions/34736177/how-does-typescript-enum-trans-compilation-function-create-2-keyvalue-pairs-at-o/34736342#34736342", "title": "How does typescript enum trans-compilation function create 2 keyvalue pairs at once?", "body": "<p>When evaluating:</p>\n\n<pre><code>Role[Role[\"Employee\"] = 3] = \"Employee\";\n</code></pre>\n\n<p>The inner part:</p>\n\n<pre><code>Role[\"Employee\"] = 3\n</code></pre>\n\n<p>Sets <code>Role.Employee</code> to <code>3</code>, but this assignment also returns the value <code>3</code>. So, after the assignment is evaluated, effectively you are left with:</p>\n\n<pre><code>Role[3] = \"Employee\";\n</code></pre>\n\n<p>For details see the assignment operator <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Assignment\" rel=\"nofollow\">specs</a>.</p>\n\n<p>At the end <code>(Role || (Role = {})</code>, evaluates to <code>{}</code>. This guarantees that <code>Role</code>, the object passed to the function, is not <code>null</code> for any reason.</p>\n"}], "owner": {"reputation": 15015, "user_id": 1191635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I8bEt.jpg?s=128&g=1", "display_name": "Armeen Harwood", "link": "https://stackoverflow.com/users/1191635/armeen-harwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 34736342, "answer_count": 2, "score": 2, "last_activity_date": 1452577696, "creation_date": 1452576426, "question_id": 34736177, "link": "https://stackoverflow.com/questions/34736177/how-does-typescript-enum-trans-compilation-function-create-2-keyvalue-pairs-at-o", "title": "How does typescript enum trans-compilation function create 2 keyvalue pairs at once?", "body": "<p>In typescript:</p>\n\n<p><a href=\"http://www.typescriptlang.org/Playground\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/Playground</a></p>\n\n<pre><code>enum Role {Employee = 3, Manager =5, Admin = 7}\nconsole.log('Roles:', Role[3])\n</code></pre>\n\n<p>Transcompiles into:</p>\n\n<pre><code>var Role;\n(function (Role) {\n    Role[Role[\"Employee\"] = 3] = \"Employee\";\n    Role[Role[\"Manager\"] = 5] = \"Manager\";\n    Role[Role[\"Admin\"] = 7] = \"Admin\";\n})(Role || (Role = {}));\nconsole.log('Roles:', Role[3]);\n</code></pre>\n\n<p><strong>I just cannot understand how this function works.</strong></p>\n\n<p><strong>1. How is it creating 2 key:value pairs at once check  out here:</strong>\n<a href=\"https://i.stack.imgur.com/r3PXc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3PXc.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>2. Why does the scope pass in (Role || (Role = {})?</strong></p>\n"}, {"tags": ["typescript", "abstract-syntax-tree", "typescript1.6", "typescript1.7"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "edited": false, "score": 0, "creation_date": 1452830100, "post_id": 34736375, "comment_id": 57351029, "body": "added details in my answer. Care to add anything?"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 5, "last_activity_date": 1452577604, "creation_date": 1452577604, "answer_id": 34736375, "question_id": 34736109, "link": "https://stackoverflow.com/questions/34736109/how-do-you-get-inferred-type-from-a-typescript-ast/34736375#34736375", "title": "How do you get inferred type from a typescript AST?", "body": "<blockquote>\n  <p>The compiler knows about that type---bar.foo() doesn't compile---how can I programmatically get the type?</p>\n</blockquote>\n\n<p>The <code>AST</code> is not the <em>complete</em> story for TypeChecking. You need a <code>TypeChecker</code>. </p>\n\n<p>The simplest solution is to create a program (some docs <a href=\"https://basarat.gitbooks.io/typescript/content/docs/compiler/program.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/compiler/program.html</a>) and then use <code>program.getTypeChecker</code> (more docs <a href=\"https://basarat.gitbooks.io/typescript/content/docs/compiler/checker.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/compiler/checker.html</a>) \ud83c\udf39</p>\n"}, {"comments": [{"owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "edited": false, "score": 1, "creation_date": 1453090987, "post_id": 34804139, "comment_id": 57434664, "body": "This doens&#39;t solve the problem posed in the question...almost"}], "tags": [], "owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "is_accepted": false, "score": 3, "last_activity_date": 1452830051, "creation_date": 1452830051, "answer_id": 34804139, "question_id": 34736109, "link": "https://stackoverflow.com/questions/34736109/how-do-you-get-inferred-type-from-a-typescript-ast/34804139#34804139", "title": "How do you get inferred type from a typescript AST?", "body": "<p>As far as I can tell this does the trick:</p>\n\n<pre><code>// load typechecker for file\nconst program = ts.createProgram([filename], {});\nconst typeChecker = program.getTypeChecker()\n// now get ast\nconst ast = ts.createSourceFile(filename, filecontents, ts.ScriptTarget.ES6, true))\n// get node under question using ts.forEachChild (not shown here)\nconst node = // ...\n\nconst type = typeChecker.getTypeAtLocation(node);\n</code></pre>\n\n<p>The only weird part is that in a variable declaration, the \"node\" must be the <code>value</code> (aka FirstLiteralToken) and not the <code>label</code> (aka Identifier)---otherwise, the type is undefined.\nFor example, if the file contents are <code>const foo = 123</code>, passing the node for \"foo\" to typeChecker#getTypeAtLocation won't work. You must pass the node for \"123\"</p>\n"}], "owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1452830051, "creation_date": 1452575943, "question_id": 34736109, "link": "https://stackoverflow.com/questions/34736109/how-do-you-get-inferred-type-from-a-typescript-ast", "title": "How do you get inferred type from a typescript AST?", "body": "<p>I'm using the built-in parser to generate the AST from source code:</p>\n\n<pre><code>const ts = require('typescript')\n//...\nconst ast = ts.createSourceFile(filename, fs.readFileSync(filename).toString(), ts.ScriptTarget.ES6, true)\n</code></pre>\n\n<p>Is there a way to get the inferred type of a variable from the AST? For example, in the code below, <code>bar</code> is of type <code>IBar</code>. The compiler knows about that type---<code>bar.foo()</code> doesn't compile---how can I programmatically get the type?</p>\n\n<pre><code>interface IBar { bar() } \nconst foo : IBar = //...\nexport const bar = foo\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5599, "user_id": 726621, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127839f293a02c65f342171f0fe91c25?s=128&d=identicon&r=PG", "display_name": "kennypu", "link": "https://stackoverflow.com/users/726621/kennypu"}, "edited": false, "score": 1, "creation_date": 1452572620, "post_id": 34735530, "comment_id": 57217269, "body": "i may be wrong, but don&#39;t you need to import <code>View</code>? line 1: <code>import {Component, View} from &#39;angular2&#47;core&#39;;</code>"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 5599, "user_id": 726621, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127839f293a02c65f342171f0fe91c25?s=128&d=identicon&r=PG", "display_name": "kennypu", "link": "https://stackoverflow.com/users/726621/kennypu"}, "edited": false, "score": 1, "creation_date": 1452572727, "post_id": 34735530, "comment_id": 57217306, "body": "You are right actually, I also found another answer saying I need to remove the <code>;</code> at the end of my component. Now getting a different error <code>error TS2307: Cannot find module &#39;angular2&#47;core&#39;.</code> lol want to post your answer? This is what I updated the top line with <code>import {Component, View, bootstrap} from &#39;angular2&#47;core&#39;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5599, "user_id": 726621, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127839f293a02c65f342171f0fe91c25?s=128&d=identicon&r=PG", "display_name": "kennypu", "link": "https://stackoverflow.com/users/726621/kennypu"}, "is_accepted": true, "score": 3, "last_activity_date": 1452572888, "creation_date": 1452572888, "answer_id": 34735606, "question_id": 34735530, "link": "https://stackoverflow.com/questions/34735530/typescript-error-ts1146-declaration-expected/34735606#34735606", "title": "TypeScript - error TS1146: Declaration expected", "body": "<p>you need to import <code>View</code> from <code>angular2/core</code> as well: </p>\n\n<p><code>import {Component, View} from 'angular2/core';</code></p>\n"}, {"comments": [{"owner": {"reputation": 984, "user_id": 288606, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3127f78dcf7dbe869b1bd5a2582e5f0f?s=128&d=identicon&r=PG", "display_name": "Sam Vloeberghs", "link": "https://stackoverflow.com/users/288606/sam-vloeberghs"}, "edited": false, "score": 0, "creation_date": 1469524616, "post_id": 37095638, "comment_id": 64559769, "body": "when downvoting please state why.. This answer is not valid because he is not using rc to begin with, he is still using beta or alpha, as you can see from import statement : &#39;angular2/core&#39;, which now has moved to the @angular namespace in rc.  <code>import { Component, View } from &#39;@angular&#47;core&#39;;</code> would be correct in newer versions."}], "tags": [], "owner": {"reputation": 101, "user_id": 3326731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e317f3bc10fdf1e344751b08d8874d2?s=128&d=identicon&r=PG&f=1", "display_name": "luhuang", "link": "https://stackoverflow.com/users/3326731/luhuang"}, "is_accepted": false, "score": 4, "last_activity_date": 1583155452, "last_edit_date": 1583155452, "creation_date": 1462674941, "answer_id": 37095638, "question_id": 34735530, "link": "https://stackoverflow.com/questions/34735530/typescript-error-ts1146-declaration-expected/37095638#37095638", "title": "TypeScript - error TS1146: Declaration expected", "body": "<p>Try this</p>\n\n<pre><code>import { Component } from '@angular/core';\n</code></pre>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14748, "favorite_count": 0, "accepted_answer_id": 34735606, "answer_count": 2, "score": 4, "last_activity_date": 1583155452, "creation_date": 1452572384, "last_edit_date": 1487828211, "question_id": 34735530, "link": "https://stackoverflow.com/questions/34735530/typescript-error-ts1146-declaration-expected", "title": "TypeScript - error TS1146: Declaration expected", "body": "<p>I got the latest <a href=\"http://www.typescriptlang.org/\" rel=\"nofollow\">TypeScript</a> via npm (<code>npm install -g typescript</code>)</p>\n\n<p><code>Version 1.7.5</code></p>\n\n<p>When I run the typescript compile command on my file: <code>tsc app.component.ts --module system</code></p>\n\n<p>I get the following error: <code>app.component.ts(15,7): error TS1146: Declaration expected.</code></p>\n\n<pre><code>import {Component} from 'angular2/core';\n\n    @Component({\n        selector: 'my-app',\n        // template: '&lt;h1&gt;My title: {{title}}&lt;/h1&gt; &lt;h2&gt;Hardcoded h2&lt;/h2&gt;'\n    })\n    @View({ // &lt;- line 7\n        templateUrl: '/templates/home.html',\n        directives: []\n    })\n    .Class({\n        constructor: function() {\n\n        }\n    }); // &lt;- line 15\n\nexport class AppComponent {\n    title = \"My First Angular 2 App\";\n}\n</code></pre>\n\n<p>Anyone know what this error means?</p>\n"}, {"tags": ["typescript", "covariance", "contravariance"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1452574427, "creation_date": 1452574427, "answer_id": 34735852, "question_id": 34735368, "link": "https://stackoverflow.com/questions/34735368/unexpected-behavior-in-covariance-contra-variance-like-assignment-of-typescript/34735852#34735852", "title": "unexpected behavior in covariance/contra-variance like assignment of typescript", "body": "<blockquote>\n  <p>// assignment violates principle of contra-variance.\n  // expect a compiling error but there isn't.</p>\n</blockquote>\n\n<p>This is common issue and is documented : <a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Type%20Compatibility.md#function-argument-bivariance\" rel=\"nofollow\">https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Type%20Compatibility.md#function-argument-bivariance</a> </p>\n\n<p>Basically it allows convenience for adding event listeners (a fairly common JS task that would be hard to port to TypeScript if the language pulled the slider further towards safety) </p>\n"}], "owner": {"reputation": 113, "user_id": 956307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/2e12db90d1cfb61af38d64214e58c87e?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/956307/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 1, "accepted_answer_id": 34735852, "answer_count": 1, "score": 2, "last_activity_date": 1452574427, "creation_date": 1452571345, "question_id": 34735368, "link": "https://stackoverflow.com/questions/34735368/unexpected-behavior-in-covariance-contra-variance-like-assignment-of-typescript", "title": "unexpected behavior in covariance/contra-variance like assignment of typescript", "body": "<p>I'm new to typescript and I find something unexpected about covariance/contra-variance like behavior.</p>\n\n<p>here's a code snippet:</p>\n\n<pre><code>interface Func1 {\n    (): { prop1: string }\n}\n\n// assignment similar to covariance\nvar f1: Func1 = function () { return { prop1: \"\", prop2: 0 }; }\n\ninterface Func2 {\n    ({prop1: string, prop2: number}): void;\n}\n\n// assignment similar to contra-variance\nvar f3: Func3 = function (a: { prop1: string }) { }\n\ninterface Func3 {\n    ({prop1: string}): void;\n}\n\n// assignment violates principle of contra-variance.\n// expect a compiling error but there isn't.\nvar f3: Func3 = function (a: { prop1: string, prop2: number }) { alert(a.prop2); }\n\n// here occurs a non-existing field accessing\n// it might be unexpected and was possible to be eliminated by static checking on assignment to 'f3'.\nf3({ prop1: \"\" }); \n</code></pre>\n\n<p>assignment to f1 is ok since the return value of anonymous function can be assigned to return value type of Func1.</p>\n\n<p>assignment to f2 is ok too since argument fed to Func2 type can be assigned to argument 'a' of the anonymous function.</p>\n\n<p>assignment to f3 should be fail because argument fed to Func3 type can't be assigned to argument 'a' of the anonymous function so I expect the compiler raises an error but it actually doesn't.</p>\n\n<p>this leads to an unexpected accessing violation when call f3.</p>\n\n<p>my question is, is the behavior expected or it's the defect of typescript design/implementation?</p>\n"}, {"tags": ["parsing", "typescript", "abstract-syntax-tree", "typescript1.6", "typescript1.7"], "answers": [{"comments": [{"owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "edited": false, "score": 0, "creation_date": 1452566668, "post_id": 34734713, "comment_id": 57215773, "body": "So given a node, is there any way to get back the corresponding source code? I notice that there are <code>pos</code> and <code>end</code> properties."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "edited": false, "score": 0, "creation_date": 1452568343, "post_id": 34734713, "comment_id": 57216185, "body": "There is a <code>getTextOfNode</code> function in the <code>ts</code> namespace"}, {"owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "edited": false, "score": 0, "creation_date": 1452570956, "post_id": 34734713, "comment_id": 57216840, "body": "ts.getTextOfNode is exactly what i was looking for. Thanks"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1452566474, "creation_date": 1452566474, "answer_id": 34734713, "question_id": 34734701, "link": "https://stackoverflow.com/questions/34734701/generate-javascript-from-typescript-ast/34734713#34734713", "title": "Generate javascript from typescript AST?", "body": "<blockquote>\n  <p>an arbitrary node in the tree, how do I generate the typescript from the node</p>\n</blockquote>\n\n<p>You cannot in the current version of the compiler. The only node that supports generation is <code>SourceFile</code>. </p>\n\n<p>There is talk to make the emitter more split (transformer based like the Babel emitter). </p>\n"}], "owner": {"reputation": 5455, "user_id": 555493, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7f71360d1b97bf28012fffa173ec0eb0?s=128&d=identicon&r=PG", "display_name": "U Avalos", "link": "https://stackoverflow.com/users/555493/u-avalos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 586, "favorite_count": 0, "accepted_answer_id": 34734713, "answer_count": 1, "score": 0, "last_activity_date": 1452566474, "creation_date": 1452566358, "question_id": 34734701, "link": "https://stackoverflow.com/questions/34734701/generate-javascript-from-typescript-ast", "title": "Generate javascript from typescript AST?", "body": "<p>I'm using the built-in parser to generate the AST from source code:</p>\n\n<pre><code>const ts = require('typescript')\n//...\nconst ast = ts.createSourceFile(filename, fs.readFileSync(filename).toString(), ts.ScriptTarget.ES6, true)\n</code></pre>\n\n<p>Given an arbitrary node in the tree, how do I generate the typescript from the node?</p>\n"}, {"tags": ["javascript", "vim", "typescript", "neovim"], "comments": [{"owner": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1452586694, "post_id": 34733045, "comment_id": 57222942, "body": "How do you think you will get all your error messages if your code is not compiled?"}, {"owner": {"reputation": 511, "user_id": 1927976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59a9cb96b87e3e41394f4104f509c163?s=128&d=identicon&r=PG", "display_name": "Josh Leeb-du Toit", "link": "https://stackoverflow.com/users/1927976/josh-leeb-du-toit"}, "reply_to_user": {"reputation": 156267, "user_id": 546861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIhsx.png?s=128&g=1", "display_name": "romainl", "link": "https://stackoverflow.com/users/546861/romainl"}, "edited": false, "score": 0, "creation_date": 1452633385, "post_id": 34733045, "comment_id": 57253945, "body": "Perhaps by getting <code>neomake</code> to capture the output from <code>tslint</code> rather than <code>tsc</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 1927976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59a9cb96b87e3e41394f4104f509c163?s=128&d=identicon&r=PG", "display_name": "Josh Leeb-du Toit", "link": "https://stackoverflow.com/users/1927976/josh-leeb-du-toit"}, "is_accepted": false, "score": 0, "last_activity_date": 1452634189, "creation_date": 1452634189, "answer_id": 34754126, "question_id": 34733045, "link": "https://stackoverflow.com/questions/34733045/neovim-stop-compiling-typescript-with-neomake-and-typescript-vim/34754126#34754126", "title": "Neovim stop compiling typescript with Neomake and Typescript-Vim", "body": "<p>By adding the <code>--noEmit</code> flag to the args of <code>neomake</code> when settings the typescript maker, a compiler javascript file no longer appears in the directory upon save. </p>\n\n<pre><code>let g:neomake_typescript_tsc_maker = {\n    \\ 'args': ['--module', 'system', '--target', 'ES5', '--experimentalDecorators', '--noEmit'] }\n</code></pre>\n"}], "owner": {"reputation": 511, "user_id": 1927976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/59a9cb96b87e3e41394f4104f509c163?s=128&d=identicon&r=PG", "display_name": "Josh Leeb-du Toit", "link": "https://stackoverflow.com/users/1927976/josh-leeb-du-toit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 746, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452634189, "creation_date": 1452554912, "question_id": 34733045, "link": "https://stackoverflow.com/questions/34733045/neovim-stop-compiling-typescript-with-neomake-and-typescript-vim", "title": "Neovim stop compiling typescript with Neomake and Typescript-Vim", "body": "<p>I am writing Typescript in Neovim, with plugins <code>leafgarland/typescript-vim</code> and <code>benekastah/neomake</code>, among others, and whenever I save the file gets compiled. </p>\n\n<p>My understanding (I could be wrong) is that when a file is opened, created or saved <code>Neomake</code> is run as indicated by <code>au BufRead,BufNewFile,BufWritePost * Neomake</code>. I still want this to happen so that I can get error messages displayed on save, but I don't want it to compile the Typescript file I am working on.</p>\n\n<p>Removing <code>typescript-vim</code> stops the compilation but there are no error messages, sytax highlighting or auto-indentation. </p>\n\n<p>Relevant code from <code>nvim/nvimrc</code></p>\n\n<pre><code>let g:neomake_typescript_tsc_maker = {\n        \\ 'args': ['--module', 'system', '--target', 'ES5', '--experimentalDecorators'] }\n\nlet g:neomake_warning_sign = { 'text': '!', 'texthl': 'WarnMsg' }\nlet g:neomake_airline = 1\n\nau BufRead,BufNewFile,BufWritePost * Neomake\n</code></pre>\n\n<p>Here are the rest of my <a href=\"http://github.com/joshleeb/dotfiles\" rel=\"nofollow\">dotfiles</a> which contain the rest of the nvimrc.</p>\n\n<p>Thanks in advance :)</p>\n"}, {"tags": ["css", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452554461, "post_id": 34732596, "comment_id": 57212253, "body": "please post a code example. it will help us find your problem."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 2, "creation_date": 1452554507, "post_id": 34732596, "comment_id": 57212270, "body": "also, I would advise you to read the how to ask a good question guide. :) <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 197, "user_id": 5545399, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/31b5679776f19db9eae3f0345b759e4a?s=128&d=identicon&r=PG&f=1", "display_name": "ScottVMeyers", "link": "https://stackoverflow.com/users/5545399/scottvmeyers"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452555034, "post_id": 34732596, "comment_id": 57212429, "body": "thanks, sorry, I try, but I&#39;m new and tired and way over-caffeinated today!  I have posted the code I have."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 4, "last_activity_date": 1452555824, "creation_date": 1452555824, "answer_id": 34733184, "question_id": 34732596, "link": "https://stackoverflow.com/questions/34732596/how-to-use-toggle-css-classes-on-an-element-onclick/34733184#34733184", "title": "How to use toggle css classes on an element onclick?", "body": "<p>In you controller have a property <code>showClass</code> and then bind it to the element like <code>ng-class=\"{'some-class': vm.showClass}\"</code></p>\n\n<p>Now if <code>showClass</code> is true then element gets <code>some-class</code> otherwise <code>some-class</code> is removed. The toggle function on the controller is just <code>this.showClass = !this.showClass</code></p>\n"}], "owner": {"reputation": 197, "user_id": 5545399, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/31b5679776f19db9eae3f0345b759e4a?s=128&d=identicon&r=PG&f=1", "display_name": "ScottVMeyers", "link": "https://stackoverflow.com/users/5545399/scottvmeyers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 440, "favorite_count": 0, "accepted_answer_id": 34733184, "answer_count": 1, "score": 3, "last_activity_date": 1452555824, "creation_date": 1452552696, "last_edit_date": 1452555507, "question_id": 34732596, "link": "https://stackoverflow.com/questions/34732596/how-to-use-toggle-css-classes-on-an-element-onclick", "title": "How to use toggle css classes on an element onclick?", "body": "<p>Using angular typescript, not $scope.  I seen a ton of examples for $scope or JQuery.  I want to basically have a clickable ellipsis, that will remove the overflow and text-overflow properties of the class when clicked, so I can expand the full text of the div I am truncating.  I believe it looks like I want to use ng-class, or make a function for an ng-click, but I can't find any examples that don't use $scope.class, and I it isn't like I can just use a this.class in typescript.  </p>\n\n<p>Here are the css classes I am trying to toggle:</p>\n\n<pre><code>.homeDescriptionDiv {\n  width: 250px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.homeDescriptionDiv2 {\n}\n</code></pre>\n\n<p>here is the html element, sans any Angular references:</p>\n\n<pre><code>&lt;div class=\"col-md-12 homeDescriptionDiv\" ng-click=\"changeClass()\"&gt;\n                                &lt;h4&gt;\n                                    Description\n                                &lt;/h4&gt;\n                                {{challenge.description}}\n                            &lt;/div&gt;\n</code></pre>\n\n<p>The typescript in my controller would look something like:</p>\n\n<pre><code>element.class = class1;\nfunction changeClass(){\nthis.class=class2\n}\n</code></pre>\n\n<p>Ulltimately, I would love to be able to toggle back and forth by clicking again, but removing the first class is the core requirement.  Thanks!</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1452576806, "post_id": 34731987, "comment_id": 57218764, "body": "Does it work with the data from the <code>RESULT_LIST</code>, without the code in the constructor?"}, {"owner": {"reputation": 301, "user_id": 5754444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388df316290e6fe67e51e5eaabd9bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "2er0 - 3n23square", "link": "https://stackoverflow.com/users/5754444/2er0-3n23square"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452584234, "post_id": 34731987, "comment_id": 57221741, "body": "Hi, yes the data from the &#39;RESULTLIST&#39; are shown on the gui"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452584380, "post_id": 34731987, "comment_id": 57221810, "body": "Then it obviously isn&#39;t related to the template tag, only to change detection. I don&#39;t know this well enough myself yet to be able to help though. You might increase the chance for assistance by changing the title of your question accordingly."}, {"owner": {"reputation": 301, "user_id": 5754444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388df316290e6fe67e51e5eaabd9bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "2er0 - 3n23square", "link": "https://stackoverflow.com/users/5754444/2er0-3n23square"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452586123, "post_id": 34731987, "comment_id": 57222647, "body": "yes - but after starting the application there is no ngFor more in the html &lt;md-list-item class=&quot;md-2-line&quot; role=&quot;listitem&quot;&gt;...&lt;/md-list-item&gt; and the NgZone is for async-data-input to check if there were a change and then to trigger a event. I will try it with a service."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452586271, "post_id": 34731987, "comment_id": 57222716, "body": "I don&#39;t know why you think there should. Template is a placeholder for HTML to be generated, when it&#39;s generated the template isn&#39;t needed anymore. <code>&lt;!--template bindings={}--&gt;</code> is an anchor for Angular to know where generated content was inserted and where it needs to be updated when bound data changes. What do you need <code>&lt;template&gt;</code> for in processed output?"}, {"owner": {"reputation": 301, "user_id": 5754444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388df316290e6fe67e51e5eaabd9bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "2er0 - 3n23square", "link": "https://stackoverflow.com/users/5754444/2er0-3n23square"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1452700497, "post_id": 34731987, "comment_id": 57287213, "body": "thanks to G&#252;nther Z&#246;chbauer: The problem was with the update of the bound data in the gui. The solution was: created a service which gets the data from the ipc-service. Then by subscribing the component to the service with the emitter it gets the data from the service in a NgZone (for async-data)."}, {"owner": {"reputation": 274, "user_id": 819790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o9tru.jpg?s=128&g=1", "display_name": "maufarinelli", "link": "https://stackoverflow.com/users/819790/maufarinelli"}, "edited": false, "score": 1, "creation_date": 1457022268, "post_id": 34731987, "comment_id": 59226806, "body": "I had a similar problem, and I fixed using ngOnInit method <a href=\"https://angular.io/docs/ts/latest/api/core/OnInit-interface.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/core/OnInit-interface.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2313, "user_id": 1345101, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/bWBT4.jpg?s=128&g=1", "display_name": "Dariusz Filipiak", "link": "https://stackoverflow.com/users/1345101/dariusz-filipiak"}, "is_accepted": false, "score": 0, "last_activity_date": 1470236998, "creation_date": 1470236998, "answer_id": 38747409, "question_id": 34731987, "link": "https://stackoverflow.com/questions/34731987/angular-2-update-no-gui-update-after-async-data-input/38747409#38747409", "title": "Angular 2 Update: no gui update after async data input", "body": "<p>Try this constructor... works for me:</p>\n\n<pre><code>constructor(zone: NgZone) {\n        this._ngZone = zone;\n        ipc.on('search-result', function (event, arg) {\n            this._ngZone.run(() =&gt; {\n                this.resultlistcontent = [];\n                for (var i = 0; i &lt; arg.pageInfo.resultsPerPage; i++) {\n                    var tmpid = arg.items[i].id;\n                    var tmpsnip = arg.items[i].snippet;\n                    this.resultlistcontent.push({\n                        videoId: tmpid.videoId,\n                        title: tmpsnip.title,\n                        thumbnail: tmpsnip.thumbnails.default.url,\n                        channel: tmpsnip.channelTitle\n                    });\n                }\n                console.log(this.resultlistcontent);\n            });\n        });\n    }\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 5754444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/388df316290e6fe67e51e5eaabd9bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "2er0 - 3n23square", "link": "https://stackoverflow.com/users/5754444/2er0-3n23square"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1449, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1513349544, "creation_date": 1452549884, "last_edit_date": 1513349544, "question_id": 34731987, "link": "https://stackoverflow.com/questions/34731987/angular-2-update-no-gui-update-after-async-data-input", "title": "Angular 2 Update: no gui update after async data input", "body": "<p>Currently I'm working with Angular2-Beta1,</p>\n\n<p>but the templating from the \"*ngFor\" will not work and is only shown as \n<code>&lt;!--template bindings={}--&gt;</code>\nand not as\n<code>&lt;template ...&gt;&lt;/template&gt;</code>\nas it is described here <a href=\"https://github.com/angular/angular/blob/master/modules/angular2/docs/core/01_templates.md\">angular2 on git - doc</a></p>\n\n<p>The problem is also that I work here with electron and typescript and that I'm translating everything with webpack to \"es5\".</p>\n\n<p>I got to the problem because of the async-data-input throw the node-process and they don't want to show up on the GUI but I can see them in the console.</p>\n\n<p>My current typescript-file with the problem</p>\n\n<pre><code>import {Component, View, NgZone} from 'angular2/core';\nimport {NgFor} from 'angular2/common';\nimport {MATERIAL_DIRECTIVES} from 'ng2-material/all';\nconst electron = require('electron');\nconst ipc = electron.ipcRenderer;\n\ninterface Result {\n  videoId: string;\n  title: string;\n  thumbnail: string;\n  channel: string;\n}\n\n@Component({\n  selector: 'resultlist'\n})\n@View({\n  directives: [MATERIAL_DIRECTIVES, NgFor],\n  template: `\n&lt;div \n  style=\"height: 250px;\"&gt;\n  &lt;md-list&gt;\n    &lt;md-list-item class=\"md-2-line\" *ngFor=\"#result of resultlistcontent; #i = index\"&gt;\n      &lt;img [src]=\"result.thumbnail\" class=\"md-avatar\" alt=\"{{result.videoId}}\"/&gt;\n      &lt;div class=\"md-list-item-text\" layout=\"column\"&gt;\n        &lt;h3&gt; {{ result.title }} &lt;/h3&gt;\n        &lt;p&gt; {{ result.channel }}\n      &lt;/div&gt;\n    &lt;/md-list-item&gt;\n  &lt;/md-list&gt;\n&lt;/div&gt;\n  `\n})\n\nexport class Resultlist { \n\n  private resultlistcontent = RESULTLIST;\n  private _ngZone:NgZone;\n\n  constructor(zone:NgZone) {\n    this._ngZone = zone;\n    this._ngZone.run(() =&gt; {\n      ipc.on('search-result', function (event, arg) {\n      this.resultlistcontent = [];\n      for (var i = 0; i &lt; arg.pageInfo.resultsPerPage; i ++) {\n        var tmpid = arg.items[i].id;\n        var tmpsnip = arg.items[i].snippet;\n        this.resultlistcontent.push( { videoId: tmpid.videoId, \n                            title: tmpsnip.title, \n                            thumbnail: tmpsnip.thumbnails.default.url, \n                            channel: tmpsnip.channelTitle});\n      }\n      console.log(this.resultlistcontent);\n      })\n    })\n  }\n}\n\nvar RESULTLIST: Result[] = [{videoId: '', title: 'Resultlist...', thumbnail: '', channel: 'test'},\n  {videoId: \"ZTVNgzvxoV0\", title: \"The Best Of Vocal Deep House Chill Out Music 2015\", thumbnail: \"https://i.ytimg.com/vi/ZTVNgzvxoV0/default.jpg\", channel: 'test'}];\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 1504867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53581d09ec4f7541c259e71aaa50c9aa?s=128&d=identicon&r=PG", "display_name": "AndrewSokolowski", "link": "https://stackoverflow.com/users/1504867/andrewsokolowski"}, "edited": false, "score": 0, "creation_date": 1452539266, "post_id": 34728520, "comment_id": 57204372, "body": "but it won&#39;t work if IFoo has properties of different types, right?"}, {"owner": {"reputation": 395, "user_id": 1504867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53581d09ec4f7541c259e71aaa50c9aa?s=128&d=identicon&r=PG", "display_name": "AndrewSokolowski", "link": "https://stackoverflow.com/users/1504867/andrewsokolowski"}, "edited": false, "score": 0, "creation_date": 1452540312, "post_id": 34728520, "comment_id": 57204947, "body": "sorry to bother you even more but I&#39;ve updated original question with a potential use case. it seems that there is no generic method to let typescript know that shortName is and always going to be a string &quot;n&quot;."}, {"owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "reply_to_user": {"reputation": 395, "user_id": 1504867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53581d09ec4f7541c259e71aaa50c9aa?s=128&d=identicon&r=PG", "display_name": "AndrewSokolowski", "link": "https://stackoverflow.com/users/1504867/andrewsokolowski"}, "edited": false, "score": 0, "creation_date": 1452543695, "post_id": 34728520, "comment_id": 57206844, "body": "That would be a fairly complicated inference (and in most cases it would not work, in others, it would not be useful). TypeScript does not perform it. Often, an inability or difficulty in doing things a certain way in a language suggests that that is a bad way to do things in that language (at least because people would be unfamiliar with it, though often it is actually unsuitable and a bad idea)."}, {"owner": {"reputation": 6991, "user_id": 445600, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a3d8833971f5cab1fb7cbdcea437f749?s=128&d=identicon&r=PG", "display_name": "starcorn", "link": "https://stackoverflow.com/users/445600/starcorn"}, "edited": false, "score": 0, "creation_date": 1482952620, "post_id": 34728520, "comment_id": 69938271, "body": "If you want to have different types you can make use of <code>union</code>. In that example you would define your index as following <code>[key: string]: string[] | your_second_type;</code>"}, {"owner": {"reputation": 4902, "user_id": 227821, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/92d2d99a596d59a6db55797d5f252ccb?s=128&d=identicon&r=PG", "display_name": "lony", "link": "https://stackoverflow.com/users/227821/lony"}, "edited": false, "score": 0, "creation_date": 1589148331, "post_id": 34728520, "comment_id": 109171728, "body": "Figuring out to make the type for the key generic <a href=\"https://www.nadershamma.dev/blog/2019/how-to-access-object-properties-dynamically-using-bracket-notation-in-typescript/\" rel=\"nofollow noreferrer\">this guide</a> really helped, to show how to use <code>keyof</code>"}], "tags": [], "owner": {"reputation": 9986, "user_id": 154066, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/de26d95d3cf2a9ddcb8b4e5b1967477e?s=128&d=identicon&r=PG&f=1", "display_name": "mk.", "link": "https://stackoverflow.com/users/154066/mk"}, "is_accepted": true, "score": 19, "last_activity_date": 1452537004, "creation_date": 1452537004, "answer_id": 34728520, "question_id": 34727936, "link": "https://stackoverflow.com/questions/34727936/typescript-bracket-notation-property-access/34728520#34728520", "title": "Typescript: bracket notation property access", "body": "<p>Instead of using a variable in <code>obj[x]</code>, <a href=\"http://www.typescriptlang.org/Playground#src=interface%20IFoo%20%7B%0D%0A%09bar%3A%20string%5B%5D%3B%0D%0A%7D%0D%0Avar%20obj%3A%20IFoo%20%3D%20%7B%20bar%3A%20%5B%22a%22%2C%20%22b%22%5D%20%7D%3B%0D%0Aobj%5B%22bar%22%5D.sort%3B\" rel=\"noreferrer\">you can write</a>:</p>\n\n<pre><code>obj[\"bar\"].sort\n</code></pre>\n\n<p>The only reason to use a variable here is to choose an arbitrary property from your <code>IFoo</code> interface. You seem to only have one. If you had many string arrays on your <code>IFoo</code>, you could make it indexable and write:</p>\n\n<pre><code>interface IFoo {\n    bar: string[];\n    bar2: string[];\n    [key: string]: string[]; // IFoo is indexable; not a new property\n}\n</code></pre>\n\n<p>Which would allow you to write:</p>\n\n<pre><code>var name = \"bar\";\nobj[name].sort;\n</code></pre>\n\n<p>But it would also allow you to write:</p>\n\n<pre><code>obj[\"some new property\"] = [\"a\", \"b\"];\nobj[\"some new property\"].sort;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 667, "user_id": 2452585, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/eb42d562e92d02cfbf9ca368b22105ca?s=128&d=identicon&r=PG", "display_name": "Roberto", "link": "https://stackoverflow.com/users/2452585/roberto"}, "edited": false, "score": 3, "creation_date": 1591005112, "post_id": 55108590, "comment_id": 109883263, "body": "Great! I made it generic to keep type safety: <code>export interface IIndexable&lt;T = any&gt; { [key: string]: T }</code>"}], "tags": [], "owner": {"reputation": 20924, "user_id": 349100, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wBuM3.png?s=128&g=1", "display_name": "Sonic Soul", "link": "https://stackoverflow.com/users/349100/sonic-soul"}, "is_accepted": false, "score": 18, "last_activity_date": 1552330654, "creation_date": 1552330654, "answer_id": 55108590, "question_id": 34727936, "link": "https://stackoverflow.com/questions/34727936/typescript-bracket-notation-property-access/55108590#55108590", "title": "Typescript: bracket notation property access", "body": "<p>I added it as a separate interface because i need to keep original.. </p>\n\n<pre><code>export interface IIndexable {\n  [key: string]: any;\n}\n</code></pre>\n\n<p>and referencing it when needed </p>\n\n<pre><code>getEditDate(r: IRestriction, fieldName: string) {\n    ...\n    value={(r as IIndexable)[fieldName] as Date}\n</code></pre>\n\n<p>works well. i will update if i find a way to shorten it</p>\n"}], "owner": {"reputation": 395, "user_id": 1504867, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53581d09ec4f7541c259e71aaa50c9aa?s=128&d=identicon&r=PG", "display_name": "AndrewSokolowski", "link": "https://stackoverflow.com/users/1504867/andrewsokolowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36655, "favorite_count": 2, "accepted_answer_id": 34728520, "answer_count": 2, "score": 24, "last_activity_date": 1552330654, "creation_date": 1452534615, "last_edit_date": 1452540132, "question_id": 34727936, "link": "https://stackoverflow.com/questions/34727936/typescript-bracket-notation-property-access", "title": "Typescript: bracket notation property access", "body": "<p>I'd like to access typed object with bracket notation like this:</p>\n\n<pre><code>interface IFoo {\n    bar: string[];\n}\n\nvar obj: IFoo = { bar: [\"a\", \"b\"] }\nvar name = \"bar\";\nobj[name]. // type info lost after dot \n</code></pre>\n\n<p>According to the <a href=\"http://bartvds.github.io/tsspec-html/0.9.1/dist/expressions.html\" rel=\"noreferrer\">spec</a> 4.10 as far as I understood it, it is an expected behavior:</p>\n\n<pre><code>A bracket notation property access of the form ObjExpr [ IndexExpr ]  \n....  \nOtherwise, if IndexExpr is of type Any, the String or Number primitive type, or an enum type, the property access is of type Any.\n</code></pre>\n\n<p>Can anyone confirm if that is true and if it is possible to circumvent this behavior.</p>\n\n<p><strong>Edit:</strong>\nMy use case is with object minification as in   </p>\n\n<pre><code>var props = {long_name: \"n\"};    \nvar shortName = props.long_name;\n\nfunction(minObj) {\n    var value = minObj[shortName]\n    var newMinObj = {};\n    newMinObj[shortName] = value.toUpperCase();\n    db.save(newMinObj)\n}\n</code></pre>\n"}, {"tags": ["dependency-injection", "typescript", "constants", "angular"], "answers": [{"comments": [{"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452533464, "post_id": 34727344, "comment_id": 57201144, "body": "Yea, moving it to a different file other than boot, makes it work just fine, thank you good Sr! Now, if you could just tell me why, I&#39;ll mark your answer as accepted. =)"}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452535113, "post_id": 34727344, "comment_id": 57202097, "body": "You&#39;re welcome! I think about a circular dependency between modules ;-) The root module imports the component module which imports the root module..."}], "tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 1, "last_activity_date": 1452585020, "last_edit_date": 1452585020, "creation_date": 1452532576, "answer_id": 34727344, "question_id": 34727119, "link": "https://stackoverflow.com/questions/34727119/how-can-i-decide-dynamically-the-base-path-of-my-templates-in-angular-2/34727344#34727344", "title": "How can I decide dynamically the base path of my templates in Angular 2?", "body": "<p>Perhaps you could use a dedicated file for constants and import it.</p>\n\n<p>I made a test and it works for me with your (constant creation and import).</p>\n\n<p>I think that your problem comes from a circular dependency between modules. The root module imports the component module which imports the root module.</p>\n\n<p>Hope it helps you,\nThierry</p>\n"}], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 34727344, "answer_count": 1, "score": 0, "last_activity_date": 1452585020, "creation_date": 1452531828, "last_edit_date": 1452583952, "question_id": 34727119, "link": "https://stackoverflow.com/questions/34727119/how-can-i-decide-dynamically-the-base-path-of-my-templates-in-angular-2", "title": "How can I decide dynamically the base path of my templates in Angular 2?", "body": "<p>Say I have two versions of each template, how can I define the base path of them dinamically so I can use one or the other through configuration?</p>\n\n<p>Basically how do I declare <code>TEMPLATES_PATH</code> so it can be used like this:</p>\n\n<p>component.ts</p>\n\n<pre><code>@Component({\n    templateUrl: TEMPLATES_PATH + 'template1.html';\n})\n</code></pre>\n\n<p>I tried declaring a constant in my root file but when I import it, it doesn't have a value, maybe I'm importing it or declaring it wrong?</p>\n\n<p>root.ts</p>\n\n<p><code>export const TEMPLATES_PATH = './somepath/'</code></p>\n\n<p>component.ts</p>\n\n<p><code>import {TEMPLATES_PATH} from \"../../boot\";</code></p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452530724, "post_id": 34726680, "comment_id": 57199309, "body": "I think a better way to put it is that /// &lt;reference&gt; is at compilation time, while import statements are at runtime as well."}, {"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452531504, "post_id": 34726680, "comment_id": 57199848, "body": "@toskv Well, import statements can also be at compile time. Reference statements theoretically shouldn&#39;t change the actual compiled output either (since plain JavaScript code never really depends on knowing the types of the code it&#39;s operating on). It&#39;s mostly an assistive technology, much like the &quot;#pragma region&quot;s used by Visual Studio."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452531663, "post_id": 34726680, "comment_id": 57199957, "body": "indeed, import statements are both at runtime and compilation time. References are one way of telling the compiler what files it should compile. I would go for a tsconfig file instead though. :)"}, {"owner": {"reputation": 271, "user_id": 5622830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ad3cbef276663933ab33ab50f531f244?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaowei", "link": "https://stackoverflow.com/users/5622830/zhaowei"}, "edited": false, "score": 0, "creation_date": 1452531676, "post_id": 34726680, "comment_id": 57199965, "body": "thanks, but why there is no error with    var style:React.CSSProperties = \u2018str\u2019;"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452531711, "post_id": 34726680, "comment_id": 57199993, "body": "well.. what is the type of CSSProperties?"}, {"owner": {"reputation": 271, "user_id": 5622830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ad3cbef276663933ab33ab50f531f244?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaowei", "link": "https://stackoverflow.com/users/5622830/zhaowei"}, "edited": false, "score": 0, "creation_date": 1452531889, "post_id": 34726680, "comment_id": 57200122, "body": "interface CSSProperties{key?:value}  all of the keys is optional"}], "tags": [], "owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "is_accepted": true, "score": 0, "last_activity_date": 1452530394, "creation_date": 1452530394, "answer_id": 34726680, "question_id": 34726601, "link": "https://stackoverflow.com/questions/34726601/whats-the-different-between-reference-path-and-import-statement/34726680#34726680", "title": "what&#39;s the different between ///&lt;reference path=&quot;...&quot;/&gt; and import statement", "body": "<p><code>///&lt;reference&gt;</code> is the equivalent of saying \"Just trust me that this will have run before my code\", which is often something you can safely assume. It's intended for IDEs, and since it's a comment, does not affect code execution at all.</p>\n\n<p><code>import modulename ...</code> uses either commonjs or requirejs to actually retrieve the specified module before running the proceeding code.</p>\n\n<p>If you have a dependency-management system that works with the module you need, it's preferred to use that instead of the former solution; that way, there is no risk of trying to access a module before it's loaded (even if 99% of uses aren't even remotely possible for the code to see before it has loaded)</p>\n"}], "owner": {"reputation": 271, "user_id": 5622830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ad3cbef276663933ab33ab50f531f244?s=128&d=identicon&r=PG&f=1", "display_name": "Zhaowei", "link": "https://stackoverflow.com/users/5622830/zhaowei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 34726680, "answer_count": 1, "score": 1, "last_activity_date": 1452530394, "creation_date": 1452530138, "question_id": 34726601, "link": "https://stackoverflow.com/questions/34726601/whats-the-different-between-reference-path-and-import-statement", "title": "what&#39;s the different between ///&lt;reference path=&quot;...&quot;/&gt; and import statement", "body": "<p>at first when I import react, the typescript compiler console 'can not find module react',then I add /// , and the problem fixed.</p>\n\n<p>but I just found if I remove the reference comment, there is no error.</p>\n\n<p>this is my code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Created by huagu on 2015/12/21.\n */\nimport * as ReactDOM from \"react-dom\";\nimport * as React from \"react\";\nimport FloatButton from \"./FloatButton\";\n\nwindow.onload = function (event:Event) {\n    var bd = document.querySelector('#bd');\n    var style:__React.CSSProperties = {\n        width:'80px',\n        height:'40px',\n        background:'blue',\n        position:'absolute',\n        top:'100px',\n        left:'10px'\n    }\n    var str:__React.CSSProperties = '';\n    var num:number = '';\n    var c = &lt;span style={{fontSize:'14px'}}&gt;button&lt;/span&gt;\n    var props = {\n        content:c,\n        click:function(){\n            console.log(\"FloatButton clicked\");\n        },\n        style:style,\n        allowSeriesClick:false,\n    }\n    ReactDOM.render(&lt;FloatButton {...props}&gt;&lt;/FloatButton&gt;, bd);\n}\n</code></pre>\n\n<p>so, my problem is whether reference comment is necessary?I don't add reference comment, but there is no error reference __React.CSSProperties, it was declare in react.d.ts. if it's not necessary, why there is no error with \"var str:__React.CSSProperties = ''; \"?</p>\n\n<p><a href=\"https://i.stack.imgur.com/90P9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/90P9q.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "single-page-application", "aurelia"], "answers": [{"comments": [{"owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1452539698, "post_id": 34728781, "comment_id": 57204600, "body": "I believe he is looking for a way to rewrite the convention. Like the <code>ViewLocator.prototype.convertOriginToViewUrl</code>, but for view and view-models, not only views"}, {"owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1452539904, "post_id": 34728781, "comment_id": 57204715, "body": "In that case, the moduleId would be <code>moduleId: &#39;welcome&#39;</code> and the locator would look for <code>welcome&#47;welcome</code>"}, {"owner": {"reputation": 1202, "user_id": 666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mmm9G.jpg?s=128&g=1", "display_name": "J.Hudler", "link": "https://stackoverflow.com/users/666104/j-hudler"}, "reply_to_user": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "edited": false, "score": 0, "creation_date": 1452542184, "post_id": 34728781, "comment_id": 57206039, "body": "Jeremy and @Fabio - spot on! &#39;welcome&#39; id should look for &#39;welcome/welcome&#39;. The thing here is more about understanding the framework under-the-hoods and find out what level of flexibility is possible to achieve in a convention manner."}, {"owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "edited": false, "score": 1, "creation_date": 1452542372, "post_id": 34728781, "comment_id": 57206143, "body": "ok- I&#39;ll see if there&#39;s a way.  Word of warning to you- this could become very confusing if you are to start using partial module ids in route configuration while using normal module ids in <code>import {Foo} from &#39;my&#47;module&#47;id&#39;</code> statements. I would recommend against doing this, even if there&#39;s a way."}, {"owner": {"reputation": 1202, "user_id": 666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mmm9G.jpg?s=128&g=1", "display_name": "J.Hudler", "link": "https://stackoverflow.com/users/666104/j-hudler"}, "edited": false, "score": 0, "creation_date": 1452550138, "post_id": 34728781, "comment_id": 57210414, "body": "@Jeremy: Right. My concern (and curiosity) began when I was wondering about big projects: Lob applications with 30+ views, some of them with non-shared particular components. How should we organize the project in this case? All-in-one folder seems a little messy for me..."}, {"owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "edited": false, "score": 0, "creation_date": 1452557700, "post_id": 34728781, "comment_id": 57213300, "body": "I think a lot of people are using the same approach you&#39;re proposing (myself included):  putting related functionality in folders.  I would stop short of aliasing module ids.  Here&#39;s an example app I put together a while back that uses the folder approach:  <a href=\"https://github.com/jdanyow/aurelia-breeze-northwind\" rel=\"nofollow noreferrer\">github.com/jdanyow/aurelia-breeze-northwind</a>"}, {"owner": {"reputation": 1202, "user_id": 666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mmm9G.jpg?s=128&g=1", "display_name": "J.Hudler", "link": "https://stackoverflow.com/users/666104/j-hudler"}, "edited": false, "score": 0, "creation_date": 1452642202, "post_id": 34728781, "comment_id": 57257855, "body": "Thank you for all the considerations. At last you convinced me: I&#39;ll stick with the built-in defaults."}], "tags": [], "owner": {"reputation": 25584, "user_id": 725866, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cbede50c0d1034b1b4453b2d426542e7?s=128&d=identicon&r=PG", "display_name": "Jeremy Danyow", "link": "https://stackoverflow.com/users/725866/jeremy-danyow"}, "is_accepted": false, "score": 2, "last_activity_date": 1452537913, "creation_date": 1452537913, "answer_id": 34728781, "question_id": 34726285, "link": "https://stackoverflow.com/questions/34726285/how-to-override-aurelia-viewmodel-resolution/34728781#34728781", "title": "How to override Aurelia ViewModel resolution?", "body": "<p>In <code>main.js</code>, <code>.setRoot()</code> becomes <code>.setRoot('app/app')</code>.  This is required because <code>setRoot</code> with no args assumes an <code>app.js</code> at the root of your project.</p>\n\n<p>Route configuration changes are limited to the <code>moduleId</code>... This:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>config.map([\n  { route: ['', 'welcome'], name: 'welcome',      moduleId: 'welcome',      nav: true, title: 'Welcome' },\n  { route: 'users',         name: 'users',        moduleId: 'users',        nav: true, title: 'Github Users' },\n]);\n</code></pre>\n\n<p>Becomes this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>config.map([\n  { route: ['', 'welcome'], name: 'welcome',      moduleId: 'welcome/welcome',    nav: true, title: 'Welcome' },\n  { route: 'users',         name: 'users',        moduleId: 'users/users',        nav: true, title: 'Github Users' },\n]);\n</code></pre>\n\n<p>Not sure if this answers your question.  Are you looking for a way for the router to convert the moduleId from <code>'welcome'</code> to <code>'welcome/welcome'</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 1202, "user_id": 666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mmm9G.jpg?s=128&g=1", "display_name": "J.Hudler", "link": "https://stackoverflow.com/users/666104/j-hudler"}, "edited": false, "score": 0, "creation_date": 1452642020, "post_id": 34730538, "comment_id": 57257794, "body": "Thanks for the idea. Simple but do the work. Marking as accepted because it addresses the question itself."}], "tags": [], "owner": {"reputation": 11504, "user_id": 1148153, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/PnJGH.jpg?s=128&g=1", "display_name": "Fabio Luz", "link": "https://stackoverflow.com/users/1148153/fabio-luz"}, "is_accepted": true, "score": 4, "last_activity_date": 1452545040, "last_edit_date": 1452545040, "creation_date": 1452544335, "answer_id": 34730538, "question_id": 34726285, "link": "https://stackoverflow.com/questions/34726285/how-to-override-aurelia-viewmodel-resolution/34730538#34730538", "title": "How to override Aurelia ViewModel resolution?", "body": "<p>There's a workaround.</p>\n\n<p>I see that you don't want to type the specific path all the time, like: <code>welcome/welcome</code>. So, you can put the routes array in a variable, and then replace all moduleIds, according to your pattern. Like this:</p>\n\n<pre><code>let routes = [\n    { route: ['', 'welcome'], name: 'welcome', moduleId: 'welcome', nav: true, title: 'Welcome' },\n    { route: 'test', name: 'test', moduleId: 'test', nav: true, title: 'Test' },\n ];\n\nupdateRoutes(routes);\n\nconfig.map(routes);\n</code></pre>\n\n<p>Update routes function:</p>\n\n<pre><code> function updateRoutes(routes) {\n     for (i = 0; i &lt; routes.length; i++) {\n        let route = routes[i];\n        if (route.moduleId.indexOf('/') === -1) {\n            route.moduleId = `${route.moduleId}/${route.moduleId}`;\n            routes[i] = route;\n        }\n     }\n }\n</code></pre>\n\n<p>So, <code>welcome</code> becomes <code>welcome/welcome</code>. Be aware that the function will only replace the moduleId if there's no '/' in its value;</p>\n\n<p>Using this way, you aren't \"hurting\" the framework, as explained in the @JeremyDanyow's comment.</p>\n"}], "owner": {"reputation": 1202, "user_id": 666104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Mmm9G.jpg?s=128&g=1", "display_name": "J.Hudler", "link": "https://stackoverflow.com/users/666104/j-hudler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 34730538, "answer_count": 2, "score": 1, "last_activity_date": 1452545040, "creation_date": 1452529143, "question_id": 34726285, "link": "https://stackoverflow.com/questions/34726285/how-to-override-aurelia-viewmodel-resolution", "title": "How to override Aurelia ViewModel resolution?", "body": "<p>The <a href=\"http://aurelia.io\" rel=\"nofollow\">Aurelia</a> framework has a strong appeal to convention-over-configuration.</p>\n\n<p>In its docs <a href=\"http://aurelia.io/docs.html#/aurelia/framework/1.0.0-beta.1.0.8/doc/article/getting-started/1\" rel=\"nofollow\">sample app (typescript)</a>, we've got a source code structure like this:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 config.js\n\u251c\u2500\u2500 src\n    \u251c\u2500\u2500 main.ts\n    \u251c\u2500\u2500 app.ts         // viewmodel\n    \u251c\u2500\u2500 app.html       // view\n    \u251c\u2500\u2500 welcome.ts     // viewmodel\n    \u251c\u2500\u2500 welcome.html   // view\n    \u251c\u2500\u2500 users.ts       // viewmodel\n    \u251c\u2500\u2500 users.html     // view\n    (...)\n</code></pre>\n\n<p>For organization purposes, I would rather organize the sources with each view/viewmodel/private components/etc in their own folder, obtaining a folder structure like this:</p>\n\n<pre><code>.\n\u251c\u2500\u2500 index.html\n\u251c\u2500\u2500 config.js\n\u251c\u2500\u2500 src\n    \u251c\u2500\u2500 main.ts\n    \u251c\u2500\u2500 app\n        \u251c\u2500\u2500 app.ts            // viewmodel\n        \u251c\u2500\u2500 app.html          // view\n    \u251c\u2500\u2500 welcome\n        \u251c\u2500\u2500 welcome.ts        // viewmodel\n        \u251c\u2500\u2500 welcome.html      // view\n    \u251c\u2500\u2500 users\n        \u251c\u2500\u2500 users.ts          // viewmodel\n        \u251c\u2500\u2500 user-info.ts      // view-specific component (1)\n        \u251c\u2500\u2500 user-detail.ts    // view-specific component (2)\n        \u251c\u2500\u2500 users.html        // view\n    (...)\n</code></pre>\n\n<p>Is there a way to do this implementing a custom resolver or overriding the convention? That is, I want to avoid explicit path boilerplate code in my <a href=\"http://aurelia.io/docs.html#/aurelia/framework/1.0.0-beta.1.0.8/doc/article/getting-started/4\" rel=\"nofollow\">Router</a> config. Any suggestions?</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "angular-resource", "angular-http"], "comments": [{"owner": {"reputation": 4740, "user_id": 2535335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/86bnp.jpg?s=128&g=1", "display_name": "Johannes Jander", "link": "https://stackoverflow.com/users/2535335/johannes-jander"}, "edited": false, "score": 0, "creation_date": 1452525153, "post_id": 34724433, "comment_id": 57195309, "body": "The only way I can think of is a POST as multipart/form-data, see here: <a href=\"http://stackoverflow.com/a/33350954/2535335\">stackoverflow.com/a/33350954/2535335</a>"}, {"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 0, "creation_date": 1452526994, "post_id": 34724433, "comment_id": 57196672, "body": "After reading <a href=\"https://github.com/angular/angular.js/blob/master/src/ngResource/resource.js#L577\" rel=\"nofollow noreferrer\">ngResource source</a> it seems that it&#39;s not possible as <code>hasBody</code> is constrainted to <code>POST&#47;PUT&#47;PATCH</code>."}], "answers": [{"tags": [], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "is_accepted": true, "score": 0, "last_activity_date": 1452529481, "creation_date": 1452529481, "answer_id": 34726394, "question_id": 34724433, "link": "https://stackoverflow.com/questions/34724433/angularjs-resource-is-encoding-entire-object-into-url/34726394#34726394", "title": "AngularJS $resource is encoding entire object into URL", "body": "<p>I managed a workaround:</p>\n\n<pre><code>var paramDefaults = {\n    id: '@id'\n};\n\nvar actions = {\n    'snapshot': &lt;ActionDescriptor&gt;{ method: 'TAKE-SNAPSHOT' }\n};\n\nvar retval = &lt;IBatchResource&gt; this.$resource('/api/batches/:id', paramDefaults, actions);\n\n/*\n * Passing in the object results in serializing the entire Batch into the URL query string.\n * Instead, we only want to pass the ID.\n */\nvar oldSnapshotFn = retval.snapshot;\nretval.snapshot = (batch: IBatch) =&gt; oldSnapshotFn(&lt;any&gt;{id: batch.id });\nreturn retval;\n</code></pre>\n"}], "owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 34726394, "answer_count": 1, "score": 1, "last_activity_date": 1452529481, "creation_date": 1452524072, "question_id": 34724433, "link": "https://stackoverflow.com/questions/34724433/angularjs-resource-is-encoding-entire-object-into-url", "title": "AngularJS $resource is encoding entire object into URL", "body": "<p>I'm using Angular 1.4.8 with Angular UI and TypeScript.  My models are defined as such:</p>\n\n<pre><code>export interface IBatch extends ng.resource.IResource&lt;IBatch&gt; {\n    id: Number;\n    ...\n}\n\nexport interface IBatchResource extends ng.resource.IResourceClass&lt;IBatch&gt; {\n    snapshot(batch: IBatch);\n}\n</code></pre>\n\n<p>I setup my <code>Batch</code> resource with a custom HTTP verb <code>TAKE-SNAPSHOT</code>, which returns either a <code>200 OK</code> or a <code>404 NOT FOUND</code>:</p>\n\n<pre><code>var paramDefaults = {\n    id: '@id'\n};\n\nvar actions = {\n    'snapshot': { method: 'TAKE-SNAPSHOT' }\n};\n\nreturn &lt;IBatchResource&gt; this.$resource('/api/batches/:id', paramDefaults, actions);\n</code></pre>\n\n<p>This lets me take a snapshot of a particular Batch.  The <em>only</em> parameter for this API call is the batch Id.  However, <code>$resource</code> is encoding the <em>entire</em> <code>Batch</code> object into the query string (the actual string is over 1000 characters long, shortened for brevity):</p>\n\n<blockquote>\n  <p>localhost:15000/api/batches/4?$originalData=%7B%22id%22:4,%22createdDateUtc%22:%222015-12-...</p>\n</blockquote>\n\n<p>How do I make <code>$resource</code> direct the request to <code>localhost:15000/api/batches/4</code>?  </p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 7849, "user_id": 576396, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8371065173a6c6bc169a4694c4fa2b50?s=128&d=identicon&r=PG", "display_name": "Katana314", "link": "https://stackoverflow.com/users/576396/katana314"}, "edited": false, "score": 0, "creation_date": 1452527975, "post_id": 34723358, "comment_id": 57197404, "body": "I&#39;m afraid I don&#39;t have my full project environment with me, but I know I was able to accomplish this with a &quot;tsconfig.json&quot; file and pointing TSC to just the folder containing it, with the argument &quot;-p&quot;. VS Code might be able to help you fill in the various options for tsconfig.json."}], "answers": [{"comments": [{"owner": {"reputation": 2469, "user_id": 3801632, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f35e72d5615f5b2ea502a40cc78245ce?s=128&d=identicon&r=PG", "display_name": "Vladimir Amiorkov", "link": "https://stackoverflow.com/users/3801632/vladimir-amiorkov"}, "edited": false, "score": 1, "creation_date": 1452526118, "post_id": 34724467, "comment_id": 57196024, "body": "Indeed this would &quot;do&quot; the trick of compiling all of the ts code to js code but it will force me after that to reference a single .js file in my html which would kind of kill the idea of &quot;separation of concern&quot;."}], "tags": [], "owner": {"reputation": 184, "user_id": 5746463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3032bdefd3c9ed4dbece4771900835?s=128&d=identicon&r=PG&f=1", "display_name": "Nabeel Hassan", "link": "https://stackoverflow.com/users/5746463/nabeel-hassan"}, "is_accepted": false, "score": 0, "last_activity_date": 1452524157, "creation_date": 1452524157, "answer_id": 34724467, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/34724467#34724467", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>Make a _all.ts file , add references of all the files you want to compile and pass it to the args parameter.</p>\n\n<p>It will output a single file containing all the transpiled code.</p>\n\n<p>I hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 1, "last_activity_date": 1452527584, "creation_date": 1452527584, "answer_id": 34725733, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/34725733#34725733", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>It maybe a bit of overkill for your task but for my project I use gulp and its nicely supported by VSCode.</p>\n\n<p>First you should setup tsconfig.json for your project, where you will be able to exclude unnecessary files. I find it easier to exclude what you do not need than to include whats needed. This is especially true for large projects.</p>\n\n<pre><code>{ \n     \"compilerOptions\": { \n         \"emitDecoratorMetadata\": true, \n         \"experimentalDecorators\": true,\n         \"module\": \"commonjs\", \n         \"target\": \"es5\",\n         \"sourceMap\": true,\n         \"outDir\": \"dist\",\n         \"declaration\": true\n     },\n     \"exclude\": [\n         \"node_modules\",\n         \"dist\",\n         \".vscode\",\n         \"docs\"\n     ]\n}\n</code></pre>\n\n<p>This is how your tasks.json might look like:</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n    \"command\": \"node\",\n    \"windows\": {\n        \"command\": \"node.exe\"\n    },\n    \"isShellCommand\": true,\n    \"tasks\": [\n        {\n            \"taskName\": \"build-debug\",\n            \"args\": [\"${workspaceRoot}/node_modules/gulp/bin/gulp.js\", \"build-debug\"],\n            \"isBuildCommand\": true,\n            \"suppressTaskName\": true,\n            \"problemMatcher\": [\n                \"$tsc\"\n            ]\n        }\n    ]\n}\n</code></pre>\n\n<p>Note that I used here local installation of gulp.</p>\n\n<p>And here is sample gulpfile.js:</p>\n\n<pre><code>\"use strict\";\n\nvar gulp = require('gulp');\nvar ts = require('gulp-typescript');\nvar merge = require('merge2');\nvar sourcemaps = require('gulp-sourcemaps');\nvar del = require('del');\n\nvar tsProject = ts.createProject('tsconfig.json');\n\ngulp.task('build-debug', function() {\n    del.sync(\"dist\");\n\n    var tsResult = tsProject.src()\n        .pipe(sourcemaps.init())   \n    .pipe(ts(tsProject));\n\n    return merge([\n        //Build typescript to dist folder \n        // tsResult.dts\n        //     .pipe(gulp.dest('dist')),\n        tsResult.js\n            .pipe(sourcemaps.write(\"./\", { sourceRoot: __dirname }))\n            .pipe(gulp.dest('dist')),\n});\n</code></pre>\n\n<p>And do not forget to add corresponding dev dependencies to your package.json:</p>\n\n<pre><code>  \"devDependencies\": {\n    \"gulp\": \"latest\",\n    \"gulp-typescript\": \"latest\",\n    \"gulp-sourcemaps\": \"latest\",\n    \"merge2\": \"latest\",\n    \"del\": \"latest\"\n  } \n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 7044, "user_id": 752545, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/Izo4C.jpg?s=128&g=1", "display_name": "mishap", "link": "https://stackoverflow.com/users/752545/mishap"}, "is_accepted": false, "score": 4, "last_activity_date": 1454518374, "last_edit_date": 1454518374, "creation_date": 1454431075, "answer_id": 35158948, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/35158948#35158948", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>In your tasks.json remove content of squared brackets for \"args\" key:</p>\n\n<pre><code>\"args\": []\n</code></pre>\n\n<p>Make sure you do have tsconfig.json file in place too.\nThis successfully compiles all .ts files for me.</p>\n"}, {"tags": [], "owner": {"reputation": 2469, "user_id": 3801632, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f35e72d5615f5b2ea502a40cc78245ce?s=128&d=identicon&r=PG", "display_name": "Vladimir Amiorkov", "link": "https://stackoverflow.com/users/3801632/vladimir-amiorkov"}, "is_accepted": true, "score": 0, "last_activity_date": 1459854042, "creation_date": 1459854042, "answer_id": 36424547, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/36424547#36424547", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>As @mishap said but what his answer was missing was that there should be an empty space for the \"args\" like so:</p>\n\n<pre><code>\"args\": [ ]\n</code></pre>\n\n<p>rather than:</p>\n\n<pre><code>\"args\": []\n</code></pre>\n\n<p>As those args are passed to the cmd/terminal executing the <strong>tsc</strong> it is important that there is a space \" \" in the \"args\" of the tasks.json.</p>\n"}, {"comments": [{"owner": {"reputation": 2469, "user_id": 3801632, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f35e72d5615f5b2ea502a40cc78245ce?s=128&d=identicon&r=PG", "display_name": "Vladimir Amiorkov", "link": "https://stackoverflow.com/users/3801632/vladimir-amiorkov"}, "edited": false, "score": 0, "creation_date": 1473258879, "post_id": 39365363, "comment_id": 66073494, "body": "Could you be a little more descriptive? Pasting a row of code is not helpful to anyone."}], "tags": [], "owner": {"reputation": 2579, "user_id": 88289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2430f108035a5de4a18595bac2034daf?s=128&d=identicon&r=PG", "display_name": "pmcilreavy", "link": "https://stackoverflow.com/users/88289/pmcilreavy"}, "is_accepted": false, "score": 1, "last_activity_date": 1473373959, "last_edit_date": 1473373959, "creation_date": 1473238375, "answer_id": 39365363, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/39365363#39365363", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>Instead of removing the args altogether this worked for me.</p>\n\n<pre><code>\"args\": [\"-p\", \"${workspaceRoot}\"]\n</code></pre>\n\n<p>There are a bunch of pre-defined variables you can used that will be replaced at runtime. This this page for more information: <a href=\"https://code.visualstudio.com/docs/editor/tasks#_variable-substitution\" rel=\"nofollow\">https://code.visualstudio.com/docs/editor/tasks#_variable-substitution</a></p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 1942732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSAOY.png?s=128&g=1", "display_name": "KhaledDev", "link": "https://stackoverflow.com/users/1942732/khaleddev"}, "is_accepted": false, "score": 0, "last_activity_date": 1488201574, "creation_date": 1488201574, "answer_id": 42486830, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files/42486830#42486830", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<pre><code>--==========================\n  - VS Code - Setup TypeScript Compiler \n  - source : https://code.visualstudio.com/Docs/languages/typescript\n--==========================\n1/ create a file \"tsconfig.json\"\n\n        {\n            \"compilerOptions\": {\n                \"target\": \"es5\",\n                \"module\": \"commonjs\",\n                \"sourceMap\": true\n            }\n        }\n\n2/ Create tasks.json : \n    - Ctrl+Shift+P ==&gt; Configure Task Runner\n    - Select TypeScript - tsconfig.json.\n    {\n        // See http://go.microsoft.com/fwlink/?LinkId=733558\n        // for the documentation about the tasks.json format\n        \"version\": \"0.1.0\",\n        \"command\": \"tsc\",\n        \"isShellCommand\": true,\n        \"args\": [\"-p\", \".\"],\n        \"showOutput\": \"silent\",\n        \"problemMatcher\": \"$tsc\"\n    }\n\n3/ Run the Build Task : Ctrl+Shift+B (Run Build Task)\n</code></pre>\n"}], "owner": {"reputation": 2469, "user_id": 3801632, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f35e72d5615f5b2ea502a40cc78245ce?s=128&d=identicon&r=PG", "display_name": "Vladimir Amiorkov", "link": "https://stackoverflow.com/users/3801632/vladimir-amiorkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9845, "favorite_count": 1, "accepted_answer_id": 36424547, "answer_count": 6, "score": 3, "last_activity_date": 1488201574, "creation_date": 1452520847, "question_id": 34723358, "link": "https://stackoverflow.com/questions/34723358/how-to-configure-vs-codes-tasks-json-to-build-all-ts-files", "title": "How to configure VS Code&#39;s &quot;tasks.json&quot; to build all .ts files", "body": "<p>Its possible this has been asked before if so I am sorry for the duplicate post simply redirect me to the other thread.</p>\n\n<p>Is it possible to configure VS Code's <strong>\"tasks.json\"</strong> to <strong>compile all .ts files in the folder</strong>. I know I can add the path to the .ts file manually like this:</p>\n\n<pre><code>\"args\": [ HelloWorld.ts ],\n</code></pre>\n\n<p>and it does compile the HelloWorld.ts correctly but I cannot figure out how to setup the tasks.json that all.ts files in the folder are compiled.</p>\n\n<p>I have looked at some tutorials which all suggest to simply remove the \"HelloWorld.ts\" but that does not work as no .ts files are compiled at all.</p>\n\n<p>Here is the entire tasks.json file that I have in VS Code:</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n\n    // The command is tsc. Assumes that tsc has been installed using npm install -g typescript\n    \"command\": \"tsc\",\n\n    // The command is a shell script\n    \"isShellCommand\": true,\n\n    // Show the output window only if unrecognized errors occur.\n    \"showOutput\": \"always\",\n\n    // args is the HelloWorld program to compile.\n    \"args\": [ \"HelloWorld.ts\" ],\n\n    // use the standard tsc problem matcher to find compile problems\n    // in the output.\n    \"problemMatcher\": \"$tsc\"\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 421, "user_id": 248978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aab3a0416dee80a9d6d05ac08cf38a17?s=128&d=identicon&r=PG", "display_name": "pyrho", "link": "https://stackoverflow.com/users/248978/pyrho"}, "is_accepted": false, "score": 2, "last_activity_date": 1454093374, "creation_date": 1454093374, "answer_id": 35091888, "question_id": 34722811, "link": "https://stackoverflow.com/questions/34722811/cannot-set-breakpoints-in-typescript-vs-code/35091888#35091888", "title": "Cannot set breakpoints in TypeScript - VS Code", "body": "<p>You also need to tell VSCode to use sourceMaps, in your launch.json file (which should be located under .vscode/launch.json), you should have something like:</p>\n\n<pre><code>    \"configurations\": [\n    {\n        \"name\": \"Launch\",\n        \"type\": \"node\",\n        \"request\": \"launch\",\n        \"program\": \"path/to/your/main.ts\",\n        \"stopOnEntry\": false,\n        \"args\": [],\n        \"cwd\": \".\",\n        \"runtimeExecutable\": null,\n        \"runtimeArgs\": [\n            \"--nolazy\"\n        ],\n        \"env\": {\n            \"NODE_ENV\": \"development\"\n        },\n        \"externalConsole\": false,\n        \"sourceMaps\": true\n    },\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 2211, "user_id": 2770243, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/FwSsz.jpg?s=128&g=1", "display_name": "Yuhuan Jiang", "link": "https://stackoverflow.com/users/2770243/yuhuan-jiang"}, "is_accepted": false, "score": 2, "last_activity_date": 1488847733, "creation_date": 1488847733, "answer_id": 42638264, "question_id": 34722811, "link": "https://stackoverflow.com/questions/34722811/cannot-set-breakpoints-in-typescript-vs-code/42638264#42638264", "title": "Cannot set breakpoints in TypeScript - VS Code", "body": "<p>You need to provide the source maps for VS Code to pinpoint the line of TypeScript code that corresponds to the JavaScript code. The source maps can be automatically generated by the TypeScript compiler, if you set <code>sourceMap</code> to <code>true</code> in <code>tsconfig.json</code>. </p>\n\n<p>You can try <a href=\"https://github.com/jyuhuan/node-ts\" rel=\"nofollow noreferrer\">this starter code on GitHub</a>, which is built exactly for the purpose of setting breakpoints in VS Code. </p>\n"}], "owner": {"reputation": 9858, "user_id": 343159, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/621bd528bae8952ea5f9391b2a727ee6?s=128&d=identicon&r=PG", "display_name": "serlingpa", "link": "https://stackoverflow.com/users/343159/serlingpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1488847733, "creation_date": 1452519103, "question_id": 34722811, "link": "https://stackoverflow.com/questions/34722811/cannot-set-breakpoints-in-typescript-vs-code", "title": "Cannot set breakpoints in TypeScript - VS Code", "body": "<p>I am having a problem setting breakpoints in my TypeScript nodejs app in Visual Studio Code. I have followed the instructions on the Visual Studio Code site without success.</p>\n\n<p>Here is my tasks.json:</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n    \"command\": \"tsc\",\n    \"isShellCommand\": true,\n    \"showOutput\": \"always\",\n    \"args\": [\"-p\", \"src\"],\n    \"problemMatcher\": \"$tsc\"\n}\n</code></pre>\n\n<p>and here is my tsconfig.json:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": false\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>It appears as if the source maps are being generated; however attempting to put a breakpoint in any TypeScript file results in a grey circle...what gives? What am I missing?</p>\n"}, {"tags": ["visual-studio", "typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1452512813, "post_id": 34720318, "comment_id": 57187047, "body": "visual studio might install it&#39;s own version of TSC, and not use the one installed by npm. do you want to know the version visual studio uses?"}, {"owner": {"reputation": 8672, "user_id": 1768008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/110a4869ccf97041d884164cc36c36b6?s=128&d=identicon&r=PG", "display_name": "wonderful world", "link": "https://stackoverflow.com/users/1768008/wonderful-world"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452537455, "post_id": 34720318, "comment_id": 57203379, "body": "I did not install the TSC via npm, but through the Visual Studio 2015. Since I have other versions of the Visual Studio are on my box, I want to make sure the VS 2015 is using the 1.7.4 version."}], "answers": [{"comments": [{"owner": {"reputation": 59637, "user_id": 61989, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/23d0af63ab371e90fa713a96d3066d59?s=128&d=identicon&r=PG", "display_name": "Patrick McDonald", "link": "https://stackoverflow.com/users/61989/patrick-mcdonald"}, "edited": false, "score": 2, "creation_date": 1452521321, "post_id": 34723144, "comment_id": 57192814, "body": "The 1.0.3 is probably in &#39;$ProgramFiles\\Microsoft SDKs\\TypeScript\\1.0&#39;, which I think is installed by Visual Studio 2013.  You can simply remove this folder from your path and install via npm as suggested in this answer.  I&#39;m not sure you can/should remove this SDK if it was installed by an older Visual Studio without uninstalling that version of Visual Studio."}], "tags": [], "owner": {"reputation": 27922, "user_id": 235648, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Qwo97.jpg?s=128&g=1", "display_name": "Aviad P.", "link": "https://stackoverflow.com/users/235648/aviad-p"}, "is_accepted": false, "score": 13, "last_activity_date": 1452520096, "creation_date": 1452520096, "answer_id": 34723144, "question_id": 34720318, "link": "https://stackoverflow.com/questions/34720318/how-to-find-the-typescript-version-that-im-using-through-cli/34723144#34723144", "title": "How to find the typescript version that I&#39;m using through CLI?", "body": "<p>Run the command <code>where tsc</code> you will know where the 1.0.3.0 version is located, then you can remove it by whatever means. If you then install <code>tsc</code> using <code>npm</code> it will install the latest version (1.7.5 at the time of this writing).</p>\n"}, {"comments": [{"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "edited": false, "score": 3, "creation_date": 1514932261, "post_id": 34734696, "comment_id": 83111123, "body": "Why is this the accepted answer when the OP clearly asks for a solution through the CLI?"}], "tags": [], "owner": {"reputation": 132, "user_id": 1358006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAauQ.png?s=128&g=1", "display_name": "Gongxi", "link": "https://stackoverflow.com/users/1358006/gongxi"}, "is_accepted": true, "score": 1, "last_activity_date": 1452566301, "creation_date": 1452566301, "answer_id": 34734696, "question_id": 34720318, "link": "https://stackoverflow.com/questions/34720318/how-to-find-the-typescript-version-that-im-using-through-cli/34734696#34734696", "title": "How to find the typescript version that I&#39;m using through CLI?", "body": "<p>I think you can check you environment path.Make sure  <code>C:\\Program Files (x86)\\Microsoft SDKs\\TypeScript\\1.7</code> is in it.</p>\n"}], "owner": {"reputation": 8672, "user_id": 1768008, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/110a4869ccf97041d884164cc36c36b6?s=128&d=identicon&r=PG", "display_name": "wonderful world", "link": "https://stackoverflow.com/users/1768008/wonderful-world"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10214, "favorite_count": 0, "accepted_answer_id": 34734696, "answer_count": 2, "score": 7, "last_activity_date": 1452566301, "creation_date": 1452511467, "question_id": 34720318, "link": "https://stackoverflow.com/questions/34720318/how-to-find-the-typescript-version-that-im-using-through-cli", "title": "How to find the typescript version that I&#39;m using through CLI?", "body": "<p>I installed typescript 1.7.4 via Visual Studio 2015. In Visual Studio I see that I installed version 1.7.4.</p>\n\n<p>When I run the command <strong>tsc --version</strong>, I get 1.0.3.0, but not 1.7.4.</p>\n\n<p>How can I find which version of Typescript installed through command line interface?</p>\n"}, {"tags": ["angular", "typescript", "angular2-http"], "answers": [{"comments": [{"owner": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "edited": false, "score": 0, "creation_date": 1452575930, "post_id": 34720706, "comment_id": 57218446, "body": "It helped with map function, but didn&#39;t solve &quot;this&quot; issue... &quot;this&quot; inside lambda still points to the Subscriber.. and not to the class SettingsProvider. Why so?"}, {"owner": {"reputation": 2461, "user_id": 1444803, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/mQdE8.jpg?s=128&g=1", "display_name": "Christophe Gigax", "link": "https://stackoverflow.com/users/1444803/christophe-gigax"}, "edited": false, "score": 0, "creation_date": 1455724275, "post_id": 34720706, "comment_id": 58619024, "body": "Same problem here : did you found a solution ?"}], "tags": [], "owner": {"reputation": 855, "user_id": 1801350, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7428239f5dd807d5b491e26ff3d764e4?s=128&d=identicon&r=PG", "display_name": "Wobbley", "link": "https://stackoverflow.com/users/1801350/wobbley"}, "is_accepted": false, "score": 2, "last_activity_date": 1452512604, "creation_date": 1452512604, "answer_id": 34720706, "question_id": 34719417, "link": "https://stackoverflow.com/questions/34719417/angular-2-http-map-subscribe-issue/34720706#34720706", "title": "Angular 2. Http map\\subscribe issue", "body": "<p>The Map function needs to be imported from RXJS, try for example:</p>\n\n<pre><code> import 'rxjs/add/operator/map';\n</code></pre>\n\n<p>There is no need to do the http request inside the constructor, you should make it it's own method. An example from a while back that I did with the names changed so it makes more sense in your contex:</p>\n\n<pre><code>@Injectable()\nexport class SettingsProvider{\n\n  constructor(public http: Http) {\n  }\n\n  getSettings() {\n    //http request code here\n  }\n}\n</code></pre>\n\n<p>I can include more code later if you don't get it to work based on this. The import should solve your map problem at least.</p>\n"}, {"tags": [], "owner": {"reputation": 1027, "user_id": 4834833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/994535e14de3626368e8b8dda1db2646?s=128&d=identicon&r=PG&f=1", "display_name": "mukund patel", "link": "https://stackoverflow.com/users/4834833/mukund-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1492338345, "creation_date": 1492338345, "answer_id": 43436193, "question_id": 34719417, "link": "https://stackoverflow.com/questions/34719417/angular-2-http-map-subscribe-issue/43436193#43436193", "title": "Angular 2. Http map\\subscribe issue", "body": "<p>I also get such error to retrieve branch json, so I change in map. I used  $.parseJSON(res._body), and it works fine.</p>\n\n<p>getbranch (){ return this.http.get(\"/branch\").map(\n        res => $.parseJSON(res._body)\n        ).subscribe( \n            data => this.branches = data\n            ,error => alert('No data found') )}</p>\n"}], "owner": {"reputation": 5941, "user_id": 309793, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/bd8e91accb823780bd71f6f6f1dd7e7b?s=128&d=identicon&r=PG", "display_name": "korovaisdead", "link": "https://stackoverflow.com/users/309793/korovaisdead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 994, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1513266085, "creation_date": 1452508741, "last_edit_date": 1513266085, "question_id": 34719417, "link": "https://stackoverflow.com/questions/34719417/angular-2-http-map-subscribe-issue", "title": "Angular 2. Http map\\subscribe issue", "body": "<p>want to read json file and build settingsProvider. </p>\n\n<p>So I'm doing it like this: </p>\n\n<pre><code>import {Http} from \"angular2/http\";\nimport {Injectable} from \"angular2/core\";\n\n@Injectable()\nexport class SettingsProvider{\n    url: string = \"\";\n    constructor(http: Http){\n        http.request('js/app/config/config.json').map(data =&gt; data.json()).subscribe(data =&gt; this.url = data.url);\n    }\n\n    getUrl():string {\n        return this.url;\n    }\n\n}\n</code></pre>\n\n<p>But got an error like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/bOSN7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOSN7.png\" alt=\"enter image description here\"></a></p>\n\n<p>So, my first question is - why so? </p>\n\n<p>Second question: </p>\n\n<p>When I'm doing like this: </p>\n\n<pre><code>http.request('js/app/config/config.json').subscribe(data =&gt; {\n            this.url = data.json().url;\n        });\n</code></pre>\n\n<p><em>this</em> points not to the class, but to the Subscriber instance. \nWhy so? \nI thought that \"fat-arrow\"-lambda in TypeScript help us to get rid of this weird closure.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1452499144, "post_id": 34716540, "comment_id": 57178925, "body": "I think you have to specify it on the left hand side of the <code>=</code> operator, sth like <code>add:(operand:number)=&gt;number=...</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "edited": false, "score": 0, "creation_date": 1452535384, "post_id": 34716656, "comment_id": 57202243, "body": "Note that doing this breaks <code>super</code> inheritance (these are instance properties, not prototype methods) and forces the JavaScript VM to do extra work every time you construct an object of this type (all those assignments are statements that have to be executed every time the constructor is called). Better to learn and use the normal class method syntax and never do this."}], "tags": [], "owner": {"reputation": 24880, "user_id": 99256, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/HfmF9.png?s=128&g=1", "display_name": "Martin Vseticka", "link": "https://stackoverflow.com/users/99256/martin-vseticka"}, "is_accepted": true, "score": 7, "last_activity_date": 1452499785, "last_edit_date": 1452499785, "creation_date": 1452499477, "answer_id": 34716656, "question_id": 34716540, "link": "https://stackoverflow.com/questions/34716540/add-return-type-information-in-a-fat-arrow-method/34716656#34716656", "title": "Add return type information in a fat arrow method", "body": "<p>You can write:</p>\n\n<pre><code>class BasicCalculator{\n    value:number;\n    constructor(value:number=0){\n        this.value=value;\n    }\n    add = (operand:number):BasicCalculator =&gt;{ \n        this.value+=operand;\n        return this;\n    }\n    subtract= (operand:number)=&gt;{\n        this.value-=operand;\n        return this;\n    }\n    multiply= (operand:number)=&gt;{\n        this.value*=operand;\n        return this;\n    }\n    divide= (operand:number)=&gt;{\n        this.value/=operand;\n        return this;\n    }\n}\n\nlet test = new BasicCalculator();\ntest.add(5);\n</code></pre>\n\n<p>But even if you don't write the return type for <code>add</code> function, TypeScript can infer the type in this situation. You can hover your mouse over the <code>add</code> function with CTRL in the <a href=\"http://www.typescriptlang.org/Playground#src=class%20BasicCalculator%7B%0A%09value%3Anumber%3B%0A%09constructor(value%3Anumber%3D0)%7B%0A%09%09this.value%3Dvalue%3B%0A%09%7D%0A%09add%20%3D%20(operand%3Anumber)%3ABasicCalculator%20%3D%3E%7B%20%2F%2F%20CAVEAT%20how%20to%20add%20return%20type%3F%3F%3F%0A%09%09this.value%2B%3Doperand%3B%0A%09%09return%20this%3B%0A%09%7D%0A%09subtract%3D%20(operand%3Anumber)%3D%3E%7B%0A%09%09this.value-%3Doperand%3B%0A%09%09return%20this%3B%0A%09%7D%0A%09multiply%3D%20(operand%3Anumber)%3D%3E%7B%0A%09%09this.value*%3Doperand%3B%0A%09%09return%20this%3B%0A%09%7D%0A%09divide%3D%20(operand%3Anumber)%3D%3E%7B%0A%09%09this.value%2F%3Doperand%3B%0A%09%09return%20this%3B%0A%09%7D%0A%7D%0A%0Alet%20test%20%3D%20new%20BasicCalculator()%3B%0Atest.add(5)%3B\" rel=\"noreferrer\">playground</a>.</p>\n"}], "owner": {"reputation": 165, "user_id": 5772462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0148ccdad4c3991a31bcd172a03dc2a2?s=128&d=identicon&r=PG&f=1", "display_name": "centeeth", "link": "https://stackoverflow.com/users/5772462/centeeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3058, "favorite_count": 0, "accepted_answer_id": 34716656, "answer_count": 1, "score": 5, "last_activity_date": 1452504472, "creation_date": 1452498957, "last_edit_date": 1452504472, "question_id": 34716540, "link": "https://stackoverflow.com/questions/34716540/add-return-type-information-in-a-fat-arrow-method", "title": "Add return type information in a fat arrow method", "body": "<p>I searched in all possible ways but I can't figure out how to combine return type annotation and fat arrow syntax. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class BasicCalculator{\n    value:number;\n    constructor(value:number=0){\n        this.value=value;\n    }\n    add= (operand:number)=&gt;{ // CAVEAT how to add return type???\n        this.value+=operand;\n        return this;\n    }\n    subtract= (operand:number)=&gt;{\n        this.value-=operand;\n        return this;\n    }\n    multiply= (operand:number)=&gt;{\n        this.value*=operand;\n        return this;\n    }\n    divide= (operand:number)=&gt;{\n        this.value/=operand;\n        return this;\n    }\n}\n</code></pre>\n\n\n\n<p>I tried:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>add= (operand:number)=&gt;number { ....\n</code></pre>\n\n\n\n<p>but it doesn't work.</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "owner": {"reputation": 2699, "user_id": 859490, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3d7c012bb27ad7b2f40976c5edc58968?s=128&d=identicon&r=PG", "display_name": "kunjee", "link": "https://stackoverflow.com/users/859490/kunjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1452495405, "creation_date": 1452495405, "question_id": 34715746, "link": "https://stackoverflow.com/questions/34715746/typescript-and-webpack-loading-file-that-dont-have-typescript-definition", "title": "TypeScript and Webpack. Loading file that don&#39;t have typescript definition", "body": "<p>I was trying to use TypeScript with WebPack. Ts-Loader was working fine till I use <a href=\"http://materializecss.com/\" rel=\"nofollow\">Materializecss</a>. It is not having TypeScript binding. Which I felt ok as there are very few JavaScript things and I can use it for UI purpose by doing type casting with <code>any</code>. Code works but Web-Pack is not adding Materializecss JavaScript files in compiled file. As, I am not importing it in TypeScript file.</p>\n\n<p>I can't import it as it is not having definition file for TypeScript. </p>\n\n<p>So, currently I have to fallback to Gulp + Bower approach. It is ok for now but I am missing npm approach that is better for bigger applications IMHO.</p>\n\n<p>Let me know if any further details are required.</p>\n"}, {"tags": ["angularjs", "node.js", "typescript", "angular", "tsd"], "comments": [{"owner": {"reputation": 1677, "user_id": 3186722, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/149bb3fcb81f2cf7e585521ca7d3721c?s=128&d=identicon&r=PG&f=1", "display_name": "Khalid Hussain", "link": "https://stackoverflow.com/users/3186722/khalid-hussain"}, "edited": false, "score": 0, "creation_date": 1452493359, "post_id": 34715285, "comment_id": 57176639, "body": "<a href=\"http://stackoverflow.com/a/32959334/3186722\">Check this answer, it can help you</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1452493424, "post_id": 34715285, "comment_id": 57176666, "body": "Might be related to <a href=\"https://github.com/angular/angular/issues/5807\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/5807</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "is_accepted": true, "score": -1, "last_activity_date": 1452496453, "creation_date": 1452496453, "answer_id": 34715987, "question_id": 34715285, "link": "https://stackoverflow.com/questions/34715285/angular-typing-and-nodejs-typing-node-d-ts-conflict/34715987#34715987", "title": "angular typing and nodejs typing &#39;node.d.ts&#39; conflict", "body": "<p>Add  ngTypeings:'./node_modules/angular2/typings/**/*.ts', to gulp.config.json file and use this angular2 typing in task instead of typeings </p>\n\n<pre><code> var sourceTsFiles = [\n        config.ngTypeings,\n        config.allNgTs\n    ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": false, "score": 0, "last_activity_date": 1478365810, "last_edit_date": 1478365810, "creation_date": 1452502461, "answer_id": 34717388, "question_id": 34715285, "link": "https://stackoverflow.com/questions/34715285/angular-typing-and-nodejs-typing-node-d-ts-conflict/34717388#34717388", "title": "angular typing and nodejs typing &#39;node.d.ts&#39; conflict", "body": "<p>Your tsconfig.json file should exclude node_modules and any d.ts files that may conflict with angular d.ts i.e:</p>\n\n<pre><code>{\n  \"compilerOptions\": {    \n    \"target\": \"ES5\",\n    \"module\": \"system\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": false,\n    \"noImplicitAny\": false\n  },\n  \"exclude\":[    \n    \"fonts\",\n    \"images\",\n    \"img\",\n    \"libs\",\n    \"navigation\",\n    \"node_modules\",\n    \"pagehtmls\",\n    \"typings\"\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 313, "favorite_count": 0, "accepted_answer_id": 34715987, "answer_count": 2, "score": -1, "last_activity_date": 1478365810, "creation_date": 1452493170, "question_id": 34715285, "link": "https://stackoverflow.com/questions/34715285/angular-typing-and-nodejs-typing-node-d-ts-conflict", "title": "angular typing and nodejs typing &#39;node.d.ts&#39; conflict", "body": "<p>I am working on nodejs application in typescript with angular which is also in typescript. i have use gulp to transpile the files to js. but when i run command to transile my angular file it gives me error <strong>TS2300: Duplicate identifier</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/WHE5j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHE5j.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>here is  my gulp.config.js</p>\n\n<pre><code>module.exports = function () {\n    var config = {\n        allTs:'./src/**/*.ts',\n        typeings:'./typings/**/*.ts',\n        server:'./server.ts',\n        tsOutPutPath:'./app',\n        allNgTs:'./client/**/*.ts',\n        ngOut:'./public/scripts/src'\n    };\n    return config;\n}\n</code></pre>\n\n<p>here is my gulp task </p>\n\n<pre><code>gulp.task('compile-ng', function () {\n\n    var sourceTsFiles = [\n        config.typeings,\n        config.allNgTs\n    ]\n\n    del(['public/scripts/**/*.js','public/scripts/**/*.html']).then(paths =&gt; {\n        console.log('Deleted files and folders:\\n', paths.join('\\n'));\n    });\n    var tsResult = gulp\n        .src(sourceTsFiles)\n        .pipe(sourcemaps.init())\n        .pipe(tsc(tsProject));\n\n    return tsResult.js\n        .pipe(sourcemaps.write('../map'))\n        .pipe(gulp.dest(config.ngOut));\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 950, "user_id": 3052403, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/63wC8.jpg?s=128&g=1", "display_name": "GeneralBear", "link": "https://stackoverflow.com/users/3052403/generalbear"}, "edited": false, "score": 4, "creation_date": 1452486803, "post_id": 34714212, "comment_id": 57174754, "body": "<a href=\"https://github.com/Microsoft/TypeScript-Handbook/blob/master/pages/Namespaces%20and%20Modules.md\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript-Handbook/blob/master/pages/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 3, "last_activity_date": 1452488446, "creation_date": 1452488446, "answer_id": 34714455, "question_id": 34714212, "link": "https://stackoverflow.com/questions/34714212/what-is-the-difference-between-modules-and-namespaces-in-typescript-javascript/34714455#34714455", "title": "What is the difference between Modules and Namespaces in TypeScript/JavaScript?", "body": "<blockquote>\n  <p>So what is the difference between a module and namespace and when should I choose one over another</p>\n</blockquote>\n\n<p>They are both <em>exactly the same</em>. <code>module</code> causes confusion with Native JavaScript (e.g ES6 <code>module</code>) so they decided to rename it to <code>namespace</code>.</p>\n\n<p>In new code prefer to use <code>namespace</code>.</p>\n"}], "owner": {"reputation": 31, "user_id": 5771816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb651869dd53a34cc2eafc128c4d51?s=128&d=identicon&r=PG&f=1", "display_name": "James Smith", "link": "https://stackoverflow.com/users/5771816/james-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1452488446, "creation_date": 1452486627, "question_id": 34714212, "link": "https://stackoverflow.com/questions/34714212/what-is-the-difference-between-modules-and-namespaces-in-typescript-javascript", "title": "What is the difference between Modules and Namespaces in TypeScript/JavaScript?", "body": "<p>I tried to compile the following code in <code>TypeScript</code> to <code>JavaScript</code>:</p>\n\n<pre><code>namespace MyNamespace {\n    class MyClass {\n        public test() {\n            return 1;\n        }\n    }\n}\n</code></pre>\n\n<p>If I replace the keyword <code>namespace</code> with <code>module</code>, it still generates exactly the same JavaScript code. So what is the difference between a <code>module</code> and <code>namespace</code> and when should I choose one over another?</p>\n"}, {"tags": ["angular", "typescript", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 842, "user_id": 382610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b55fee4ececafc82a626c53db968e302?s=128&d=identicon&r=PG", "display_name": "sevcsik", "link": "https://stackoverflow.com/users/382610/sevcsik"}, "edited": false, "score": 0, "creation_date": 1452478928, "post_id": 34713236, "comment_id": 57172947, "body": "thanks! and how does it know that it should look for the <code>fetchedValue</code> property for the new value?"}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "reply_to_user": {"reputation": 842, "user_id": 382610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b55fee4ececafc82a626c53db968e302?s=128&d=identicon&r=PG", "display_name": "sevcsik", "link": "https://stackoverflow.com/users/382610/sevcsik"}, "edited": false, "score": 0, "creation_date": 1452479010, "post_id": 34713236, "comment_id": 57172964, "body": "During change detection, angularjs checks for changes on <i>all</i> bindings."}, {"owner": {"reputation": 842, "user_id": 382610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b55fee4ececafc82a626c53db968e302?s=128&d=identicon&r=PG", "display_name": "sevcsik", "link": "https://stackoverflow.com/users/382610/sevcsik"}, "edited": false, "score": 0, "creation_date": 1452480030, "post_id": 34713236, "comment_id": 57173192, "body": "I updated the code example to use a <code>#fetchedValue</code> and <code>#fetchedValue2</code> as well. If I return <code>this.fetchedValue2</code>, it correctly updates the value with <code>#fetchedValue2</code> when the timeout fires. My question is, how does it know that it should update the view with <code>#fetchedValue2</code> and not with <code>#fetchedValue</code>? The transform function only returns <code>&#39;waiting&#39;</code> initially, with no indication which property it&#39;s in. Nor the property is bound anywhere."}, {"owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "reply_to_user": {"reputation": 842, "user_id": 382610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b55fee4ececafc82a626c53db968e302?s=128&d=identicon&r=PG", "display_name": "sevcsik", "link": "https://stackoverflow.com/users/382610/sevcsik"}, "edited": false, "score": 1, "creation_date": 1452480260, "post_id": 34713236, "comment_id": 57173249, "body": "There is a implicit binding between the result of the pipe and view&#39;s rendering of the result. After the timeout event fires, AngularJS will re-evaluate the pipe and update all the bindings."}], "tags": [], "owner": {"reputation": 47878, "user_id": 3661630, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/duAJH.png?s=128&g=1", "display_name": "pixelbits", "link": "https://stackoverflow.com/users/3661630/pixelbits"}, "is_accepted": true, "score": 6, "last_activity_date": 1452479163, "last_edit_date": 1452479163, "creation_date": 1452478517, "answer_id": 34713236, "question_id": 34713178, "link": "https://stackoverflow.com/questions/34713178/how-does-angular2-detect-the-changes-in-a-stateful-pipe/34713236#34713236", "title": "How does angular2 detect the changes in a stateful pipe?", "body": "<p>Angular monkey patches browser events (including <code>setTimeout()</code>) using a library called Zone.js. When events happen, AngularJS triggers change detection.</p>\n\n<p>With stateful pipes, AngularJS will re-evaluate the pipe on every event because the pipe result may change even with the same inputs.</p>\n\n<p>With pure pipes, AngularJS will trigger change detection and re-evaluate the pipe only when one of the input changes (i.e. data coming in, or the args).</p>\n"}, {"tags": [], "owner": {"reputation": 797, "user_id": 3399432, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/12bc8c7678292fd3f9515b1d020a4a8b?s=128&d=identicon&r=PG&f=1", "display_name": "UtsavShah", "link": "https://stackoverflow.com/users/3399432/utsavshah"}, "is_accepted": false, "score": 2, "last_activity_date": 1452478834, "creation_date": 1452478834, "answer_id": 34713285, "question_id": 34713178, "link": "https://stackoverflow.com/questions/34713178/how-does-angular2-detect-the-changes-in-a-stateful-pipe/34713285#34713285", "title": "How does angular2 detect the changes in a stateful pipe?", "body": "<p>To understand this, I think it's probably best to look at the talk on <a href=\"http://www.youtube.com/watch?v=3IqtmUscE_U\" rel=\"nofollow\">Zone.js</a>. \nBasically angular uses a library called zone to do a $rootScope digest after a setTimeout call completes (if it needs to) </p>\n\n<p>Not only that, even after any promise resolution, a digest cycle is triggered. </p>\n\n<p>This is precisely because it doesn't know which properties might have changed, so it dirty checks the entire app. </p>\n"}], "owner": {"reputation": 842, "user_id": 382610, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b55fee4ececafc82a626c53db968e302?s=128&d=identicon&r=PG", "display_name": "sevcsik", "link": "https://stackoverflow.com/users/382610/sevcsik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1815, "favorite_count": 0, "accepted_answer_id": 34713236, "answer_count": 2, "score": 4, "last_activity_date": 1505758615, "creation_date": 1452477995, "last_edit_date": 1505758615, "question_id": 34713178, "link": "https://stackoverflow.com/questions/34713178/how-does-angular2-detect-the-changes-in-a-stateful-pipe", "title": "How does angular2 detect the changes in a stateful pipe?", "body": "<p>I created a simple stateful pipe based on the <a href=\"https://angular.io/docs/ts/latest/guide/pipes.html#stateful-pipes\" rel=\"nofollow\">Angular.io tutorial on pipes</a>:</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>@Pipe({\n    name: 'fetch',\n    pure: false\n})\n\nclass FetchJsonPipe  implements PipeTransform{\n    private fetchedValue = 'waiting';\n    private fetchedValue2 = 'waiting2';\n\n    transform(value:string, args:string[]):any {\n        setTimeout(() =&gt; {\n            this.fetchedValue = 'done';\n            this.fetchedValue2 = 'done2';\n        }, 3000);\n        return this.fetchedValue2;\n    }\n}\n\n@Component({ selector: 'sd-splash'\n           , template: 'hello ng2 {{ \"5\" | fetch }}'\n           , pipes: [FetchJsonPipe]\n           })\n</code></pre>\n\n<p>My question is, I return <code>this.fetchedValue</code> from <code>#transform</code> immediately.\nSince it's just a string, it's returned <em>by value</em>. Later, when the timeout is \nfinished, I just assign the value <code>'done'</code> to a property (which is also\nprivate).</p>\n\n<p>How does Angular2 know that the intial result, <code>'waiting'</code> is not final? How\ndoes it know that the updated value will be available through <code>#fetchedValue</code>?\nThe promise is not exposed at all, and Angular2 has no information on the name\nof the field I store the result in.</p>\n\n<p>The only clue it has is <code>pure == false</code>, which I guess instructs it to\nwatch the instance for changes. But I don't see how it has information on\n<em>which field</em> to watch.</p>\n\n<p>But it works! And I have no idea why.</p>\n\n<p>Cheers</p>\n"}, {"tags": ["typescript", "npm", "webpack", "ts-loader"], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1491489084, "last_edit_date": 1491489084, "creation_date": 1452466109, "answer_id": 34711692, "question_id": 34710180, "link": "https://stackoverflow.com/questions/34710180/npm-publish-typescript-module-to-support-es6-consumption/34711692#34711692", "title": "npm publish TypeScript module to support es6 consumption?", "body": "<p>Use <code>\"moduleResolution\": \"node\"</code> to have the module resolver use npm style module resolution. </p>\n"}], "owner": {"reputation": 13141, "user_id": 215534, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f02db29ff83998a5c98eab1d7747a4ad?s=128&d=identicon&r=PG", "display_name": "James Manning", "link": "https://stackoverflow.com/users/215534/james-manning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 34711692, "answer_count": 1, "score": 1, "last_activity_date": 1491489084, "creation_date": 1452456110, "question_id": 34710180, "link": "https://stackoverflow.com/questions/34710180/npm-publish-typescript-module-to-support-es6-consumption", "title": "npm publish TypeScript module to support es6 consumption?", "body": "<p>Is there a way to get an npm module to publish with typings that support es6 module usage?  </p>\n\n<p>I'm trying to make a new project based on <a href=\"https://github.com/onybo/webpack-react-typescript-demo\" rel=\"nofollow\">https://github.com/onybo/webpack-react-typescript-demo</a> which does babel|ts and works fine as-is. The npm module I made is based on basarat's ts-npm-module / ts-npm-module-consume repos and seems to work fine for commonjs, but when the compiler module option changes from commonjs to es6, it can no longer find the module.  As basarat mentions in his repos, atom-typescript works fine (F6 builds) but ts-loader doesn't, tsc (1.7.5 and nightly) and ntsc also give the same error.  </p>\n\n<p>Minimal repro as a diff to the demo project (attempting to consume basarat's module) is <a href=\"https://github.com/jamesmanning/webpack-react-typescript-demo/commit/519fb9013065a3125742be804b20703e42d747bb\" rel=\"nofollow\">https://github.com/jamesmanning/webpack-react-typescript-demo/commit/519fb9013065a3125742be804b20703e42d747bb</a> and minimal repro as a diff to basarat's consume module is <a href=\"https://github.com/jamesmanning/ts-npm-module-consume/commit/70706e3280c2ce4cca04f7f8accbc22b5ba5284c\" rel=\"nofollow\">https://github.com/jamesmanning/ts-npm-module-consume/commit/70706e3280c2ce4cca04f7f8accbc22b5ba5284c</a></p>\n\n<p>The \"typings\" entry in the package.json of the npm module seems sufficient for atom-typescript but how can I get ts-loader to also use it (or what can I change to make ts-loader see the module?)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452450961, "post_id": 34709188, "comment_id": 57164640, "body": "no.. it doesn&#39;t look like it&#39;s possible to import and export with an alias in a single statement. :("}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 0, "last_activity_date": 1452476422, "creation_date": 1452476422, "answer_id": 34712957, "question_id": 34709188, "link": "https://stackoverflow.com/questions/34709188/typescript-es6-modules-is-it-possible-to-both-import-and-re-export-in-a-single/34712957#34712957", "title": "TypeScript/ES6 Modules: Is it possible to both import and re-export in a single statement?", "body": "<p>No. Although there are other ways to achieve this same effect, you will always need two statements. </p>\n"}], "owner": {"reputation": 6329, "user_id": 852956, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0cd11d3fb273e05deecbdf041739eee6?s=128&d=identicon&r=PG", "display_name": "CalvinDale", "link": "https://stackoverflow.com/users/852956/calvindale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 1, "accepted_answer_id": 34712957, "answer_count": 1, "score": 2, "last_activity_date": 1452476422, "creation_date": 1452450439, "question_id": 34709188, "link": "https://stackoverflow.com/questions/34709188/typescript-es6-modules-is-it-possible-to-both-import-and-re-export-in-a-single", "title": "TypeScript/ES6 Modules: Is it possible to both import and re-export in a single statement?", "body": "<p>Here's my scenario. I am importing a TypeScript interface, providing it with a local name, using it locally, and also re-exporting it with the same local name. In order to do achieve this, I have both an <code>import</code> statement and an <code>export</code> statement with an identical local name and path. So I'm curious if might be possible to combine these statements somehow.</p>\n\n<pre><code>// \\app\\models\\FilterIdValue.ts\nexport interface FilterIdName {\n    filterId: number;\n    name: string;\n}\n\n// \\app\\components\\FilterIdName.tsx\nimport { FilterIdName as FilterIdNameProps } from '../models/FilterIdValue' \nexport { FilterIdName as FilterIdNameProps } from '../models/FilterIdValue'\n// Can the import and export be combined somehow?\n\nexport interface FilterIdNameListProps {\n    items: FilterIdNameProps[];\n}\n\nexport default class FilterIdNameList extends React.Component&lt;FilterIdNameListProps, any&gt; {\n    constructor(props: FilterIdNameListProps) {\n        super(props);\n    }\n    render() {\n        var items = this.props.items.map(item =&gt; (\n                &lt;FilterIdName filterId={item.filterId} name={item.name} /&gt;\n        ));   \n        return (&lt;div&gt;{items}&lt;/div&gt;);\n    }\n}\n\n// \\app\\components\\FilterIdNameList.tsx\nimport FilterIdName, { FilterIdNameProps } from './FilterIdName'\n//...\n</code></pre>\n\n<p>One reason for doing this is to have a single import statement in a downstream object (with the aliased local name predefined and with the relative path maintained in one location).</p>\n\n<p>From perusing <a href=\"http://exploringjs.com/es6/\" rel=\"nofollow\">Exploring ES6</a>, I gather that this is not possible. But I'm curious if there is another way to prevent maintenance of the extra statement (alias and path).</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1452445895, "post_id": 34708190, "comment_id": 57162706, "body": "but what if I want restrict to functions that return object of some class. Not all functions. Seems like <code>Array&lt; () =&gt; ClassName &gt;</code> is not a right way for doing this"}], "tags": [], "owner": {"reputation": 1136, "user_id": 4421782, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5c7fb77e4052aaf554aec08e3e8f2212?s=128&d=identicon&r=PG&f=1", "display_name": "RJM", "link": "https://stackoverflow.com/users/4421782/rjm"}, "is_accepted": false, "score": 0, "last_activity_date": 1452445018, "creation_date": 1452445018, "answer_id": 34708190, "question_id": 34708066, "link": "https://stackoverflow.com/questions/34708066/how-to-pass-an-array-of-constructors/34708190#34708190", "title": "How to pass an array of constructors", "body": "<p>If you use a lambda, it seems to compile and run ok.</p>\n\n<pre><code>function constructor(name: string, systems: Array&lt;() =&gt; void&gt;){\n    this.system = new systems[0]();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "edited": false, "score": 0, "creation_date": 1452448443, "post_id": 34708655, "comment_id": 57163672, "body": "be careful though, type checking for this kind of thing kinda starts breaking down when you start using generics. :D"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 6, "last_activity_date": 1452448165, "last_edit_date": 1452448165, "creation_date": 1452447542, "answer_id": 34708655, "question_id": 34708066, "link": "https://stackoverflow.com/questions/34708066/how-to-pass-an-array-of-constructors/34708655#34708655", "title": "How to pass an array of constructors", "body": "<p>If you want to instantiate classes you will have to refer to it's constructor using the <strong>new</strong> keyword.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function factory(constructors: { new (): System }[]) {\n    let constructed = constructors.map(c =&gt; new c());\n}\n\ninterface System {\n    name: string;\n}\nclass SomeClass implements System {\n    name: string;\n    constructor() { }\n}\n\nclass SomeOtherClass implements System {\n    name: string;\n    constructor() { }\n}\n\nlet a = factory([SomeClass, SomeClass, SomeClass, SomeOtherClass]);\n</code></pre>\n\n\n\n<p>The <strong>factory</strong> function will receive a list of constructors that can create something of that satisfies the <strong>System</strong> interface.</p>\n\n<p>Calling the method with a class that does not implement System will result in the error you are receiving now.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class AnotherClass {}\nfactory([AnotherClass]); // error\n</code></pre>\n\n\n\n<p>Structural typing works as well, so you don't have to implement the interface explicitly.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class AnotherClass {\n    name: string\n}\nfactory([AnotherClass]);\n</code></pre>\n\n\n\n<p>To make the code a little bit cleaner you can move the interface described for the <strong>constructors</strong> parameter to an <strong>interface</strong> declaration.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// an interface that describes classes that create instances that satisfy the System interface\ninterface CreatesSystem {\n    new (): System\n}\n\ninterface System {\n    name: string;\n}\n\nfunction factory(constructors: CreatesSystem[]) {\n    let constructed = constructors.map(c =&gt; new c());\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 10144, "user_id": 401450, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/41o2I.jpg?s=128&g=1", "display_name": "SET", "link": "https://stackoverflow.com/users/401450/set"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2033, "favorite_count": 0, "accepted_answer_id": 34708655, "answer_count": 2, "score": 5, "last_activity_date": 1452448165, "creation_date": 1452444341, "last_edit_date": 1452447281, "question_id": 34708066, "link": "https://stackoverflow.com/questions/34708066/how-to-pass-an-array-of-constructors", "title": "How to pass an array of constructors", "body": "<p>How is it possible to pass an array of functions that return object of some type. In another words - array of constructors?</p>\n\n<p>What I want to do is something like this:</p>\n\n<pre><code>    constructor(name: string, systems: Array&lt;Function&gt;){\n        this.system = new systems[0]();\n    }\n</code></pre>\n\n<p>but I got an error <code>Cannot use 'new' with an expression whose type lacks a call or construct signature.</code> and as I understand I should somehow let compiler know what type of objects that constructor returns but I don't know how.</p>\n\n<p>Assuming <strong>RJM</strong>'s answer,  here is a bit extended example of what I mean:</p>\n\n<pre><code>interface System{\n    name: string;\n}\ninterface Component{\n    blahblha: string;\n}\nclass Doh implements Component{\n    blahblha: string;\n}\nclass Bar implements System{\n    name: string = 'bar';\n} \n\nclass Blah implements System{\n    name: string = 'foo';\n}\nclass Foo {\n    systems: Array&lt;System&gt;;\n    constructor(bars: Array&lt;()=&gt;System&gt;) {\n        for (let i in bars){\n            this.systems.push(new bars[i]()); // error: only a void functions can be called with the 'new' keyword.\n        }\n    }\n}\nvar foo = new Foo([Blah]); // error: Argument of type 'typeof Blah[]' is not assignable to parameter of type '(() =&gt; System[]'. Type 'typeof Blah[]' is not assignable to type '() =&gt; System'.\n</code></pre>\n\n<p>I want to ensure that <code>Foo.systems</code> will be populated only with instances of objects that implements System interface. So I should have error doing something like <code>new Foo([Doh]);</code> but I'm getting error even when passing <code>Blah</code></p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-2015", "react-jsx"], "comments": [{"owner": {"reputation": 18393, "user_id": 1879019, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/otzDQ.jpg?s=128&g=1", "display_name": "tomRedox", "link": "https://stackoverflow.com/users/1879019/tomredox"}, "edited": false, "score": 0, "creation_date": 1452446085, "post_id": 34707956, "comment_id": 57162787, "body": "Does this answer your question? <a href=\"http://stackoverflow.com/questions/34097915/visual-studio-2015-jsx-es2015-syntax-highlighting\" title=\"visual studio 2015 jsx es2015 syntax highlighting\">stackoverflow.com/questions/34097915/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18393, "user_id": 1879019, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/otzDQ.jpg?s=128&g=1", "display_name": "tomRedox", "link": "https://stackoverflow.com/users/1879019/tomredox"}, "is_accepted": true, "score": 0, "last_activity_date": 1452450645, "last_edit_date": 1452450645, "creation_date": 1452446468, "answer_id": 34708453, "question_id": 34707956, "link": "https://stackoverflow.com/questions/34707956/how-to-configure-visual-studio-2015-to-write-jsx-in-asp-net-5-rc-with-intellis/34708453#34708453", "title": "How to configure Visual Studio 2015 to write JSX in ASP.NET 5 (RC) with intellisense", "body": "<p>I haven't used this, but this looks like what you're looking for: <a href=\"http://blogs.msdn.com/b/typescript/archive/2015/09/02/announcing-typescript-1-6-beta-react-jsx-better-error-checking-and-more.aspx\" rel=\"nofollow\">Announcing TypeScript 1.6 Beta: React/JSX, better error checking, and more</a></p>\n\n<p>There's a <a href=\"http://download.microsoft.com/download/6/D/8/6D8381B0-03C1-4BD2-AE65-30FF0A4C62DA/TS1.6-Beta-D14OOB.23301.00/TypeScript_Full.exe\" rel=\"nofollow\">file for VS2015 to download</a> and install on that page. Quotes from the article:</p>\n\n<blockquote>\n  <p>React heavily leverages JSX in everyday code.  Unfortunately, the\n  syntax for JSX conflicted with the cast syntax that TypeScript already\n  used.</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>In 1.6, we\u2019ve introduced a new .tsx file extension.  This extension\n  does two things: it enables JSX inside of TypeScript files, and it\n  makes the new \u2018as\u2019 operator the default way to cast.  With this, we\u2019ve\n  added full support for working with React/JSX in TypeScript in a\n  type-safe way.</p>\n</blockquote>\n\n<p>So, if I'm reading the above correctly you need to install that file and then use the extension .tsx for your files and then Visual Studio should work as desired.</p>\n"}], "owner": {"reputation": 13, "user_id": 5770250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59cf74ef7c29b618bf041a8af496cede?s=128&d=identicon&r=PG&f=1", "display_name": "rinsen", "link": "https://stackoverflow.com/users/5770250/rinsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 1, "accepted_answer_id": 34708453, "answer_count": 1, "score": 0, "last_activity_date": 1464877488, "creation_date": 1452443763, "last_edit_date": 1452452800, "question_id": 34707956, "link": "https://stackoverflow.com/questions/34707956/how-to-configure-visual-studio-2015-to-write-jsx-in-asp-net-5-rc-with-intellis", "title": "How to configure Visual Studio 2015 to write JSX in ASP.NET 5 (RC) with intellisense", "body": "<p>I want to write ReactJS code in TypeScript with the environment ASP.NET 5(RC)\uff0cbut I am not getting intellisense in Visual Studio 2015. </p>\n\n<p>I run \"tsd install react-global -save \" successfully, but I still don't get intellisense.</p>\n"}, {"tags": ["forms", "typescript", "angular"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1452430884, "post_id": 34705010, "comment_id": 57157145, "body": "Use the <code>dev</code> bundles to debug, you&#39;ll get the correct error message."}, {"owner": {"reputation": 117, "user_id": 5276767, "user_type": "registered", "profile_image": "https://graph.facebook.com/889361984487303/picture?type=large", "display_name": "Nico Ul", "link": "https://stackoverflow.com/users/5276767/nico-ul"}, "reply_to_user": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 0, "creation_date": 1452432107, "post_id": 34705010, "comment_id": 57157494, "body": "This unfortunately just tells me the part of the code where the error occurs, instead of the [null] above. I already knew where it occurs specifically though."}], "answers": [{"tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": true, "score": 5, "last_activity_date": 1452438243, "last_edit_date": 1452438243, "creation_date": 1452433488, "answer_id": 34706106, "question_id": 34705010, "link": "https://stackoverflow.com/questions/34705010/form-providers-ngform/34706106#34706106", "title": "Form-Providers ngForm", "body": "<p>Here's a little example:</p>\n\n<p>form-test.component.js</p>\n\n<pre><code>    @Component({\n    selector: 'form-test',\n    directives: [FormInput, FORM_DIRECTIVES],\n    template: `\n        &lt;form [ngFormModel]=\"heroForm\"&gt;\n            &lt;br&gt;Is Form Valid? - {{heroForm.valid}}&lt;br&gt;\n            &lt;br&gt;Data: - {{input | json}}&lt;br&gt;\n            &lt;input type=\"text\" [(ngModel)]=\"input.test1\" required [ngFormControl]=\"heroForm.controls['test1']\"&gt;\n            &lt;form-input [hForm]=\"heroForm\" [data]=\"input\"&gt;\n            &lt;/form-input&gt;\n            &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n        &lt;/form&gt;\n    `\n})\nexport class FormTest1 {\n\n    public heroForm:ControlGroup;\n\n    constructor(private _builder:FormBuilder){\n        this.heroForm = _builder.group({\n            test1: [\"\", Validators.required],\n            test2: [\"\", Validators.required]\n        });\n    }\n    public input = {\n        test1: \"\",\n        test2: \"\"\n    }\n}\n</code></pre>\n\n<p>form-input-test.ts</p>\n\n<pre><code>@Component({\n    selector: 'form-input',\n    directives: [FORM_DIRECTIVES,NgForm],\n    template: `\n        &lt;label&gt;sdsd&lt;/label&gt;\n        &lt;input type=\"text\" [(ngModel)]=\"data.test2\" [ngFormControl]=\"hForm.controls['test2']\" required&gt;\n    `\n})\nexport class FormInput {\n    @Input() hForm:ControlGroup;\n    @Input() data;\n}\n</code></pre>\n\n<p>I did two things mainly: \n<br>\n1- you only have access to the form in the parent object not in the child, I added another input so you can pass it along. \n<br>\n2-There's two ways to create a ControlGroup, one is implicitly like the one you did with <code>ngForm</code> and <code>ngControl</code>, and the other one is explicitely like I did with <code>ngFormModel</code> and <code>ngFormControl</code>, the second one gives you more control over the form so you can you things like this. </p>\n\n<p>I recommend you to read this link: <a href=\"http://blog.ng-book.com/the-ultimate-guide-to-forms-in-angular-2/\" rel=\"nofollow\">http://blog.ng-book.com/the-ultimate-guide-to-forms-in-angular-2/</a></p>\n"}], "owner": {"reputation": 117, "user_id": 5276767, "user_type": "registered", "profile_image": "https://graph.facebook.com/889361984487303/picture?type=large", "display_name": "Nico Ul", "link": "https://stackoverflow.com/users/5276767/nico-ul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2887, "favorite_count": 0, "accepted_answer_id": 34706106, "answer_count": 1, "score": 6, "last_activity_date": 1452438243, "creation_date": 1452426516, "question_id": 34705010, "link": "https://stackoverflow.com/questions/34705010/form-providers-ngform", "title": "Form-Providers ngForm", "body": "<p>I've got the following problem. I want to work with NG2 Forms. According to the angular 2 documentation, using the ngForm directive on the form and the ngControl directive on the input, the form should always have access to the validity of the input.<br>\n&nbsp;<br>\nThis works if the inputs are in the same component as the form, but as soon as I move the inputs into a child directive, they don't get the ngForm-Provider anymore.<br>\n&nbsp;<br>\nThis works:  </p>\n\n<pre><code>import { Component, Input } from 'angular2/core';\nimport { FORM_DIRECTIVES } from 'angular/common';\n\n@Component({\n    directives: [FORM_DIRECTIVES],\n    template: `\n        &lt;form #heroForm=\"ngForm\"&gt;\n            &lt;input type=\"text\"\n                [(ngModel)]=\"input.test\"\n                ngControl=\"name\"&gt;\n        &lt;/form&gt;\n    `\n})\nexport class FormTest1 {\n    public input = {\n        test: \"\"\n    }\n}\n</code></pre>\n\n<p>However, this doesn't:  </p>\n\n<pre><code>import { Component, Input } from 'angular2/core';\nimport { FORM_DIRECTIVES } from 'angular/common';\n\n\n@Component({\n    directives: [FORM_DIRECTIVES],\n    template: `\n        &lt;input *ngIf=\"data\"\n            [(ngModel)]=\"data.test\"\n            ngControl=\"name\"&gt;\n    `\n})\nexport class FormInput {\n    @Input() data;\n}\n\n@Component({\n    directives: [FormInput, FORM_DIRECTIVES],\n    template: `\n        &lt;form #heroForm=\"ngForm\"&gt;\n            &lt;form-input\n                [data]=\"input\"&gt;\n            &lt;/form-input&gt;\n        &lt;/form&gt;\n    `\n})\nexport class FormTest1 {\n    public input = {\n        test: \"\"\n    }\n}\n</code></pre>\n\n<p>As this throws:  </p>\n\n<pre><code>EXCEPTION: No provider for t! (t -&gt; t) in [null]\n</code></pre>\n\n<p>As soon as I remove the ngControl-attribute from the input, the error disappears, but the form in the parent doesn't receive any information about the input anymore. How do I go about passing the ngForm down to the child component?<br>\nThanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 0, "creation_date": 1472144325, "post_id": 34704702, "comment_id": 65645266, "body": "@G&#252;nter : in RC5 this is not working, is it broken now or is there a new way to do it?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1472144663, "post_id": 34704702, "comment_id": 65645465, "body": "Binding to <code>for</code> should now work. AFAIK they added some mapping. How is it broken? The old way should still work."}, {"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 0, "creation_date": 1472201331, "post_id": 34704702, "comment_id": 65667272, "body": "no binding to for is still broken but it doesn&#39;t give me errors when i use any of your methods it just doesnt work. When I add a for in a label I am expecting that when I click on the label the input is focused. However, when I click it nothing happens"}, {"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 0, "creation_date": 1472203090, "post_id": 34704702, "comment_id": 65668344, "body": "here is your same plunker with the broken behavior i am talking about <a href=\"https://plnkr.co/edit/WGhg597MzJ5df4f0Hm5n\" rel=\"nofollow noreferrer\">plnkr.co/edit/WGhg597MzJ5df4f0Hm5n</a>"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1472203454, "post_id": 34704702, "comment_id": 65668571, "body": "That looks more like a browser issue. The attributes are properly set. If I don&#39;t miss something essential this is not related to this question."}, {"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 0, "creation_date": 1472203722, "post_id": 34704702, "comment_id": 65668732, "body": "I do not believe it is a browser issue as it  neither works on chrome nor firefox and I haven&#39;t tested on other browsers"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1472203791, "post_id": 34704702, "comment_id": 65668787, "body": "If you use the browser devtools and check the DOM it is correct, just the browser doesn&#39;t recognize it. It might be some special treatment the browsers require in certain situations which isn&#39;t met by how Angular sets the attributes/properties, but the properties are actually set, therefore it in my opinion not related to this question."}, {"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 0, "creation_date": 1472203895, "post_id": 34704702, "comment_id": 65668845, "body": "yes i have already seen that but i was asking why? anyways I am writing an independent question"}, {"owner": {"reputation": 829, "user_id": 6076645, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153827524790033/picture?type=large", "display_name": "Mostafa Fateen", "link": "https://stackoverflow.com/users/6076645/mostafa-fateen"}, "edited": false, "score": 1, "creation_date": 1472204438, "post_id": 34704702, "comment_id": 65669175, "body": "here is a link for the question: <a href=\"http://stackoverflow.com/questions/39163205/angular2-the-for-attribute-on-a-label-does-not-link-it-to-the-input\" title=\"angular2 the for attribute on a label does not link it to the input\">stackoverflow.com/questions/39163205/&hellip;</a>"}, {"owner": {"reputation": 5291, "user_id": 4543343, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1847af72c08bdda76ab6c8099262e6a2?s=128&d=identicon&r=PG&f=1", "display_name": "stackdave", "link": "https://stackoverflow.com/users/4543343/stackdave"}, "edited": false, "score": 0, "creation_date": 1480587722, "post_id": 34704702, "comment_id": 69028504, "body": "what about if you don&#39;t use id attribute, but name attribute for the input, why i need id, it&#39;s not enough with name? how i do in this case the label: &lt;input [(ngModel)]=&quot;account.firstname&quot;  name=&quot;firstname&quot;/&gt;"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1480587830, "post_id": 34704702, "comment_id": 69028572, "body": "Sorry, I don&#39;t get how this is related to this question or my answer."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 1485, "user_id": 1260751, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/tftCc.jpg?s=128&g=1", "display_name": "deadManN", "link": "https://stackoverflow.com/users/1260751/deadmann"}, "edited": false, "score": 1, "creation_date": 1562154307, "post_id": 34704702, "comment_id": 100287308, "body": "@deadManN that&#39;s what the first line says (&quot;update&quot;). In older versiond this didn&#39;t work."}, {"owner": {"reputation": 1485, "user_id": 1260751, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/tftCc.jpg?s=128&g=1", "display_name": "deadManN", "link": "https://stackoverflow.com/users/1260751/deadmann"}, "edited": false, "score": 0, "creation_date": 1562172025, "post_id": 34704702, "comment_id": 100297700, "body": "so there is nothing special about it? it act like data-X for old browsers... it just say this attribute is not automatically mappable, but  you should map it and treat it like any other attributes..."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1562179365, "post_id": 34704702, "comment_id": 100300989, "body": "The <code>for</code> attribute is mapped to the <code>html_for</code> property in the <code>label</code> element, I guess to avoid name collisions with the JS <code>for</code> keyword. Angular special-cased it at some point to make this difference opaque to Angular users. There are also a few other attributes where the attribute and property name are not equal."}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 47, "last_activity_date": 1480492902, "last_edit_date": 1495535477, "creation_date": 1452424274, "answer_id": 34704702, "question_id": 34704671, "link": "https://stackoverflow.com/questions/34704671/error-while-adding-for-attribute-to-label-in-angular-2-0-template/34704702#34704702", "title": "Error while adding &quot;for&quot; attribute to label in angular 2.0 template", "body": "<p><strong>update</strong></p>\n\n<p>In recent Angular2 versions <code>for</code> should be mapped to <code>htmlFor</code> automatically to avoid this kind of problem.</p>\n\n<p><strong>original</strong></p>\n\n<p>You need attribute binding instead of proper binding</p>\n\n<pre><code>&lt;label class=\"mdl-textfield__label\" attr.for=\"{{input_id}}\"&gt;{{input_label}}&lt;/label&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code> &lt;label class=\"mdl-textfield__label\" [attr.for]=\"input_id\"&gt;{{input_label}}&lt;/label&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;label class=\"mdl-textfield__label\" htmlFor=\"{{input_id}}\"&gt;{{input_label}}&lt;/label&gt;\n</code></pre>\n\n<p><code>htmlFor</code> is the property that reflects the <code>for</code> attribute (<a href=\"https://developer.mozilla.org/de/docs/Web/API/HTMLLabelElement\" rel=\"noreferrer\">https://developer.mozilla.org/de/docs/Web/API/HTMLLabelElement</a>)</p>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/19246714/html-attributes-vs-properties\">HTML - attributes vs properties</a></p>\n"}], "owner": {"reputation": 471, "user_id": 4702302, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/642578689179445/picture?type=large", "display_name": "Nikita Nikitin", "link": "https://stackoverflow.com/users/4702302/nikita-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13022, "favorite_count": 2, "accepted_answer_id": 34704702, "answer_count": 1, "score": 19, "last_activity_date": 1505677086, "creation_date": 1452424066, "last_edit_date": 1505677086, "question_id": 34704671, "link": "https://stackoverflow.com/questions/34704671/error-while-adding-for-attribute-to-label-in-angular-2-0-template", "title": "Error while adding &quot;for&quot; attribute to label in angular 2.0 template", "body": "<p>I use the Angular 2.0 framework and try to create an input component.\nAlso I use Google MDL and it's HTML structure required to have labels to input. \nAngular gives me an exception:</p>\n\n<pre><code>EXCEPTION: Template parse errors:\nCan't bind to 'for' since it isn't a known native property (\"s=\"mdl-textfield__input\" type=\"text\" id=\"{{input_id}}\"&gt;\n        &lt;label class=\"mdl-textfield__label\" [ERROR -&gt;]for=\"{{input_id}}\"&gt;{{input_label}}&lt;/label&gt;\n    &lt;/div&gt;\"): InputUsernameComponent@2:44\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {Input} from 'angular2/core';\n\n@Component({\n    selector: 'input-username',\n    template: `&lt;div class=\"mdl-textfield mdl-js-textfield mdl-textfield--floating-label\"&gt;\n        &lt;input class=\"mdl-textfield__input\" type=\"text\" id=\"{{input_id}}\"&gt;\n        &lt;label class=\"mdl-textfield__label\" for=\"{{input_id}}\"&gt;{{input_label}}&lt;/label&gt;\n    &lt;/div&gt;`\n})\n\nexport class InputUsernameComponent {\n    @Input('input-id') input_id: string;\n    @Input('input-label') input_label: string;\n}\n</code></pre>\n\n<p>How can I resolve this issue?</p>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452426201, "post_id": 34704819, "comment_id": 57155671, "body": "This seems like exactly what I need. Could you please also provide how to make it use body = encodeURI(body)? Is it just this.body = encodeURI(this.body) ?"}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452430294, "post_id": 34704819, "comment_id": 57156986, "body": "How do I make a request after this? It seems that when I make a normal http.post this does not get triggered"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452430919, "post_id": 34704819, "comment_id": 57157155, "body": "are you using the angular2&#39;s http module?"}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452431354, "post_id": 34704819, "comment_id": 57157264, "body": "Yes. I&#39;m using the http to make a post request like this.http.post(&#39;<a href=\"http://localhost:5000/user/auth/login\" rel=\"nofollow noreferrer\">localhost:5000/user/auth/login</a>&#39;, { &#39;email&#39;: this.emailModel, &#39;password&#39;: this.passwordModel })"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452446709, "post_id": 34704819, "comment_id": 57163020, "body": "I updated the answer, I already tested it and it works. Check the following sources if you still have issues:  <a href=\"https://angular.io/docs/ts/latest/api/http/BaseRequestOptions-class.html\" rel=\"nofollow noreferrer\">BaseRequestOptions</a>  <a href=\"https://angular.io/docs/ts/latest/api/http/HTTP_PROVIDERS-let.html\" rel=\"nofollow noreferrer\">HTTP_PROVIDERS</a>  -  <a href=\"https://angular.io/docs/ts/latest/api/http/Headers-class.html\" rel=\"nofollow noreferrer\">Headers</a> -"}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452450563, "post_id": 34704819, "comment_id": 57164493, "body": "Are you sure this urlencodes the body? I have created a custom urlEncode function which I use on every object I send to post like: (see EDIT)"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452451321, "post_id": 34704819, "comment_id": 57164760, "body": "No I don&#39;t think so, remember Angular is still in Beta I dont think it does that many things automatically, but you can certainly test it, all this does it set the header that specifies that the content you are sending is application/x-www-form-urlencoded so the guy who did your backend accepts the requests. If you want to add that functionality as well maybe you can extend the Http class and override the post method, and encode the body in there and you instantiate your class instead of the Http one in the example."}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452452449, "post_id": 34704819, "comment_id": 57165202, "body": "Yeah I tried doing something like implementing my own http but I don&#39;t get dep injection so well so I had some issues when trying to make my http injectable. Thanks!"}, {"owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "reply_to_user": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1452453922, "post_id": 34704819, "comment_id": 57165742, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/100307/discussion-between-dominikditoivosevic-and-langley\">continue this discussion in chat</a>."}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "edited": false, "score": 0, "creation_date": 1452470067, "post_id": 34704819, "comment_id": 57170900, "body": "I moved the extra info of your question from my answer into the question itself and updated my answer to include info about that functionality as well."}, {"owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1453456320, "post_id": 34704819, "comment_id": 57618910, "body": "@Langley awesome answer! Extending the <code>HTTP</code> class is a killer feature to plug interceptors... Will be very helpful ;-)"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "reply_to_user": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "edited": false, "score": 0, "creation_date": 1453475377, "post_id": 34704819, "comment_id": 57631111, "body": "Thank you @ThierryTemplier =)"}, {"owner": {"reputation": 8266, "user_id": 2049907, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d356063652c78074a84f68d5c9a9e6fe?s=128&d=identicon&r=PG", "display_name": "Piotr Stulinski", "link": "https://stackoverflow.com/users/2049907/piotr-stulinski"}, "edited": false, "score": 0, "creation_date": 1470138666, "post_id": 34704819, "comment_id": 64815347, "body": "@Langley I get an error cannot find name provide..  is there an import i am missing?"}, {"owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "edited": false, "score": 0, "creation_date": 1470144201, "post_id": 34704819, "comment_id": 64819439, "body": "I dont think so, they changed the implementation of the http module in one of the rcs, these exact code might not work anymore, youll probable have to change it a bit"}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": true, "score": 12, "last_activity_date": 1452469822, "last_edit_date": 1452469822, "creation_date": 1452425135, "answer_id": 34704819, "question_id": 34704654, "link": "https://stackoverflow.com/questions/34704654/how-to-make-angular-2-send-all-requests-as-application-x-www-form-urlencoded/34704819#34704819", "title": "How to make Angular 2 send all requests as application/x-www-form-urlencoded", "body": "<p>Try something like this:</p>\n\n<p>DefaultRequestOptions.ts</p>\n\n<pre><code>@Injectable()\nexport class DefaultRequestOptions extends BaseRequestOptions{\n    headers:Headers = new Headers({\n        'Content-Type': 'application/x-www-form-urlencoded'\n    });\n}\n</code></pre>\n\n<p>boot.ts</p>\n\n<pre><code>bootstrap(AppComponent,[\n    HTTP_PROVIDERS,\n    provide( RequestOptions, { useClass: DefaultRequestOptions } ),\n    provide(Http, { useFactory:\n        function(backend, defaultOptions) {\n            return new Http(backend, defaultOptions); },\n        deps: [XHRBackend, RequestOptions]})\n]);\n</code></pre>\n\n<p>IMPORTANT: Make sure you don't declare HTTP_PROVIDERS again in the component where you'll use the Http object or it'll override the one you are injecting in boot.ts.</p>\n\n<hr>\n\n<p>For the other function you can just add it into any @Injectable object, add that object into the constructor of your components and you can call it that way from any component, or you can try to extend the http angular object and override the post method in order to do it for every post request behind the scenes.</p>\n"}], "owner": {"reputation": 3542, "user_id": 2984585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d8b299670c2e1512831e7d2026a8d350?s=128&d=identicon&r=PG", "display_name": "ditoslav", "link": "https://stackoverflow.com/users/2984585/ditoslav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9933, "favorite_count": 4, "accepted_answer_id": 34704819, "answer_count": 1, "score": 10, "last_activity_date": 1452503736, "creation_date": 1452423954, "last_edit_date": 1452503736, "question_id": 34704654, "link": "https://stackoverflow.com/questions/34704654/how-to-make-angular-2-send-all-requests-as-application-x-www-form-urlencoded", "title": "How to make Angular 2 send all requests as application/x-www-form-urlencoded", "body": "<p>I have had a similar problem with Angular 1 so I understand how to implement, only I'm missing the last step.</p>\n\n<p>Just like last time, a guy who did backend for our app accepts requests with type <code>application/x-www-form-urlencoded</code> and just like Angular 1 so does Angular 2 send them with type <code>application/json</code>.</p>\n\n<p>What I did with ng1 was that in config I modified the http provider to run urlencoded over body of each request.</p>\n\n<p>I see in ng2 that there is <a href=\"https://angular.io/docs/ts/latest/api/http/BaseRequestOptions-class.html\" rel=\"noreferrer\">https://angular.io/docs/ts/latest/api/http/BaseRequestOptions-class.html</a>\na <code>BaseRequestOptions</code> class which I supposed is made for exactly this only documentation is a bit <code>not there</code> so I'm not sure how to implement this properly (I'm also new to TypeScript).</p>\n\n<p>How do I provide this so that each of my <code>post</code> and other requests get send as <code>urlencoded</code> at the end (I also want the function to be run on the body so that it actually becomes urlencoded).</p>\n\n<p>Also: Why isn't there a simpler option for this since by now I can see that both ASP.Net and Flask (so I suppose many others as well) do not support <code>application\\json</code> by default?</p>\n\n<p>EDIT: I have made a custom function which I use on every object I send in POST body but I hope that there is a simpler, more general solution.</p>\n\n<pre><code>import { URLSearchParams } from 'angular2/http';\n\nexport function urlEncode(obj: Object): string {\n    let urlSearchParams = new URLSearchParams();\n    for (let key in obj) {\n        urlSearchParams.append(key, obj[key]);\n    }\n    return urlSearchParams.toString();\n}\n</code></pre>\n\n<p>and then I use it like</p>\n\n<pre><code>this.http.post('http://localhost:5000/user/auth/login', urlEncode(data))\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "is_accepted": true, "score": 4, "last_activity_date": 1452411315, "creation_date": 1452411315, "answer_id": 34703164, "question_id": 34703010, "link": "https://stackoverflow.com/questions/34703010/how-to-refer-to-browser-global-in-typescript-within-another-namespace-of-the-sam/34703164#34703164", "title": "How to refer to browser global in typescript within another namespace of the same name", "body": "<p>You could achieve that by extending the type Window and then use <code>window.Math.acos</code>:</p>\n\n<pre><code>interface Window {\n    Math: typeof Math;\n}\n\nnamespace THREE {\n    namespace Math {\n        export function polar(...) {\n            window.Math.acos(...)\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3042, "user_id": 1657490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8b9a3716dfda7d4c7830757963f42adb?s=128&d=identicon&r=PG", "display_name": "bzuillsmith", "link": "https://stackoverflow.com/users/1657490/bzuillsmith"}, "edited": false, "score": 0, "creation_date": 1452454744, "post_id": 34708071, "comment_id": 57165995, "body": "Right, I would generally agree; however, Three.js has already defined <code>THREE.Math</code> so it feels a little more natural to keep extra math functions in there in this case."}], "tags": [], "owner": {"reputation": 647, "user_id": 1040731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tsZ6x.jpg?s=128&g=1", "display_name": "Jeff Woodard", "link": "https://stackoverflow.com/users/1040731/jeff-woodard"}, "is_accepted": false, "score": 0, "last_activity_date": 1452444365, "creation_date": 1452444365, "answer_id": 34708071, "question_id": 34703010, "link": "https://stackoverflow.com/questions/34703010/how-to-refer-to-browser-global-in-typescript-within-another-namespace-of-the-sam/34708071#34708071", "title": "How to refer to browser global in typescript within another namespace of the same name", "body": "<p>Darin's answer. However, I would also advise not to name your namespace \"Math\" for the sake of readability of your code. It will be easy to get your own \"Math\" implementation and the window.Math library mixed up.</p>\n"}], "owner": {"reputation": 3042, "user_id": 1657490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8b9a3716dfda7d4c7830757963f42adb?s=128&d=identicon&r=PG", "display_name": "bzuillsmith", "link": "https://stackoverflow.com/users/1657490/bzuillsmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 0, "accepted_answer_id": 34703164, "answer_count": 2, "score": 1, "last_activity_date": 1452444365, "creation_date": 1452409964, "question_id": 34703010, "link": "https://stackoverflow.com/questions/34703010/how-to-refer-to-browser-global-in-typescript-within-another-namespace-of-the-sam", "title": "How to refer to browser global in typescript within another namespace of the same name", "body": "<p>I'm learning TypeScript. I'm wondering how you would refer to the browsers global <code>Math</code> namespace within another namespace called Math like below:</p>\n\n<pre><code>namespace THREE {\n    namespace Math {\n        export function polar(...) {\n            ...\n            Math.acos(...) // How do I refer to global Math here?\n            ...\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "edited": false, "score": 0, "creation_date": 1452413771, "post_id": 34702519, "comment_id": 57152634, "body": "Have you added tsd.d.ts at the top of your *.tsx files?"}, {"owner": {"reputation": 1686, "user_id": 1245142, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4928da44aac0b41a9ea237f66fc11025?s=128&d=identicon&r=PG", "display_name": "morizotter", "link": "https://stackoverflow.com/users/1245142/morizotter"}, "reply_to_user": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "edited": false, "score": 0, "creation_date": 1452431871, "post_id": 34702519, "comment_id": 57157409, "body": "Thanks. I tried that but nothing changed... Finally, I solved by removing namespace.. I still don&#39;t know why."}, {"owner": {"reputation": 779, "user_id": 2420357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3686fb3d4891224027284f19a6ed95a9?s=128&d=identicon&r=PG", "display_name": "FlorianTopf", "link": "https://stackoverflow.com/users/2420357/floriantopf"}, "edited": false, "score": 0, "creation_date": 1452432316, "post_id": 34702519, "comment_id": 57157561, "body": "The reason is that you are using ES6 styled modules with the proprietary internal module system of Typescript. They are incompatible."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 5, "last_activity_date": 1452476643, "creation_date": 1452476643, "answer_id": 34712982, "question_id": 34702519, "link": "https://stackoverflow.com/questions/34702519/i-want-to-use-superagent-in-typescript-ed-react/34712982#34712982", "title": "I want to use superagent in TypeScript-ed React", "body": "<blockquote>\n  <p>When I try to import superagent, other files in same folder are not found.</p>\n</blockquote>\n\n<p>As soon as you do a module import <em>your file becomes a module</em> which is <em>disconnected from the global namespace</em> and <a href=\"https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md\" rel=\"noreferrer\"><em>that is a good thing</em></a>.</p>\n\n<p>So fix : </p>\n\n<pre><code>import * as request from \"superagent\";\nimport {CommentList} from \"./commentList\"; \n// so on\n</code></pre>\n\n<h1>More :</h1>\n\n<p>Modules : <a href=\"https://basarat.gitbooks.io/typescript/content/docs/project/modules.html\" rel=\"noreferrer\">https://basarat.gitbooks.io/typescript/content/docs/project/modules.html</a></p>\n"}], "owner": {"reputation": 1686, "user_id": 1245142, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4928da44aac0b41a9ea237f66fc11025?s=128&d=identicon&r=PG", "display_name": "morizotter", "link": "https://stackoverflow.com/users/1245142/morizotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5116, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452476643, "creation_date": 1452405058, "question_id": 34702519, "link": "https://stackoverflow.com/questions/34702519/i-want-to-use-superagent-in-typescript-ed-react", "title": "I want to use superagent in TypeScript-ed React", "body": "<p>I want to use superagent in TypeScript-ed React. I try to write <a href=\"https://facebook.github.io/react/docs/tutorial.html\" rel=\"nofollow noreferrer\">Tutorial</a> with TypeScript and try to use superagent when reqest server. And I faced errors to use superagent although I can use <code>marked</code>.</p>\n\n<p><strong>When I try to use superagent like marked, request is not found.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/flbEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/flbEH.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>When I try to import superagent, other files in same folder are not found.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/IAzfa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAzfa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Mmm....</p>\n\n<p>My tsd.d.ts is</p>\n\n<pre><code>/// &lt;reference path=\"react/react.d.ts\" /&gt;\n/// &lt;reference path=\"react/react-dom.d.ts\" /&gt;\n/// &lt;reference path=\"node/node.d.ts\" /&gt;\n/// &lt;reference path=\"superagent/superagent.d.ts\" /&gt;\n/// &lt;reference path=\"marked/marked.d.ts\" /&gt;\n</code></pre>\n\n<p>package.json is</p>\n\n<pre><code>{\n  \"name\": \"react-my-first\",\n  \"version\": \"1.0.0\",\n  \"scripts\": {\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"lite\": \"lite-server\",\n    \"start\": \"concurrent \\\"npm run tsc:w\\\" \\\"npm run lite\\\" \"\n  },\n  \"license\": \"ISC\",\n  \"dependencies\": {\n    \"react\": \"^0.14.6\",\n    \"react-dom\": \"^0.14.6\"\n  },\n  \"devDependencies\": {\n    \"concurrently\": \"^1.0.0\",\n    \"lite-server\": \"^1.3.1\",\n    \"typescript\": \"^1.7.3\"\n  }\n}\n</code></pre>\n\n<p>Any help please...</p>\n"}, {"tags": ["javascript", "php", "c++11", "typescript", "closures"], "comments": [{"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1452393326, "post_id": 34701341, "comment_id": 57148899, "body": "I don&#39;t think there&#39;s a transpiler that could do that. It would have to manage the scope of these functions and that could very well break your code. It&#39;d be a very finicky business. I think your best bet would be to have a linter that warns you about your current closures."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "reply_to_user": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1452393577, "post_id": 34701341, "comment_id": 57148959, "body": "@MinusFour a linter or similar would be great, do you know one that checks this particular case?"}, {"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1452394042, "post_id": 34701341, "comment_id": 57149057, "body": "Sadly, I don&#39;t. But it&#39;s definitely doable... It&#39;s not a feature many will go for because we use them all the time and it&#39;d be bothersome to have the linter scream at us everytime we use one. It&#39;d be a nice thing to have though as a super strict flag (IMO there are more ridiculous rules than this one)."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1453177016, "post_id": 34701341, "comment_id": 57475922, "body": "JSLint already covers this (<code>X was used before it was defined</code>), unless the closure is already reachable from around the function definition (like a wrapping private), in which case it won&#39;t bother you about it."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1453247631, "post_id": 34701341, "comment_id": 57516647, "body": "Thanks  MinusFour, dandavis. @dandavis, unfortunately, my problem is with defined variables, so that lint rule wouldn&#39;t be useful."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1453248341, "post_id": 34701341, "comment_id": 57516886, "body": "you might be able to code your own sweet.js macros instead of using a full-blown transpiler. you can also use run-time checks and unit tests to enforce such a coding style."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453840441, "post_id": 34701341, "comment_id": 57773289, "body": "the problem is that sweet.js won&#39;t give me any warning when an external var is used, it will only translate to js. Having errors detected at compile time would save tons of unit tests (or would make them much shorter)."}], "answers": [{"comments": [{"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453247142, "post_id": 34701409, "comment_id": 57516475, "body": "Right, javascript cannot do it, so I was expecting a solution in transpiler/linter as the question says. Thanks for your answer"}, {"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 1, "creation_date": 1453248385, "post_id": 34701409, "comment_id": 57516901, "body": "Don&#39;t define global variables by omitting <code>var</code> keyword. It&#39;s a bad practice and doesn&#39;t work in strict mode."}, {"owner": {"reputation": 28594, "user_id": 2370483, "user_type": "moderator", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Y0oJ0.jpg?s=128&g=1", "display_name": "Machavity", "link": "https://stackoverflow.com/users/2370483/machavity"}, "reply_to_user": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 0, "creation_date": 1453251229, "post_id": 34701409, "comment_id": 57517739, "body": "@Gothdo This is just an example. I&#39;m not claiming it&#39;s a good practice."}], "tags": [], "owner": {"reputation": 28594, "user_id": 2370483, "user_type": "moderator", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Y0oJ0.jpg?s=128&g=1", "display_name": "Machavity", "link": "https://stackoverflow.com/users/2370483/machavity"}, "is_accepted": false, "score": 0, "last_activity_date": 1452393267, "creation_date": 1452393267, "answer_id": 34701409, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34701409#34701409", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>I don't think JS will ever offer what you want. PHP has a strict scope. If I define a variable inside a function it's limited to that function. Likewise, something defined outside that function is not implicitly available inside the function. <code>use</code>, like <code>global</code> simply changes where and when you can use a variable inside a specific scope.</p>\n\n<p>JS puts everything in the global scope by default. In fact, it's a form of bizarro world, in that you limit a variable's scope to within a function you either have to have it as an argument or explicitly <strong>limit</strong> the scope to that variable</p>\n\n<pre><code>function bob(x) {\n    // x is implicitly local\n    y = 1; //global\n    var z = 2; //local\n}\n</code></pre>\n\n<p>In other words, all variables in JS are <code>use</code> declared implicitly.</p>\n"}, {"comments": [{"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453246854, "post_id": 34784881, "comment_id": 57516363, "body": "Thanks for the answer. Unfortunately it does not prevent/warn outer vars from  being used inside the closure. I think it would be only possible with a transpiler language or linter, I was expecting that kind of answer."}], "tags": [], "owner": {"reputation": 3498, "user_id": 4472048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6adbd8fba5c4897baa6448c14153136e?s=128&d=identicon&r=PG", "display_name": "borracciaBlu", "link": "https://stackoverflow.com/users/4472048/borracciablu"}, "is_accepted": false, "score": 3, "last_activity_date": 1452760557, "creation_date": 1452760557, "answer_id": 34784881, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34784881#34784881", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>Unfortunately as you can immagine the keyword <code>use</code> doesn't exists in javascript but to achieve the result you are looking for there are several ways.</p>\n\n<p>So this was your example in which <code>totalPrice</code> is a function and <code>tax</code> is global.\n</p>\n\n<pre><code>// Your example\nvar tax = 10;\nvar totalPrice = function (quantity, price) {\n    return (price * quantity) * (tax + 1.0);\n};\nvar price = totalPrice(1, 1);\nconsole.log (\"Price YE is : \" + price);\n</code></pre>\n\n<p>So I think that probably the solution who simulate more the keyword <code>use</code> is to generate a function which initialise <code>tax</code> in a sub scope and return a function:\n</p>\n\n<pre><code>// Example 1 return function\nfunction generatePriceCalculator(tax) {\n    return function(quantity, price) {\n        if (\"undefined\" === typeof tax) {\n            throw \"tax is undefined\";\n        }\n\n        return (price * quantity) * (tax + 1.0);\n    };\n};\n\nvar priceCalculator = generatePriceCalculator(20);\nvar price1 = priceCalculator(1, 1);\nconsole.log (\"Price Example 1 is : \" + price1);\n</code></pre>\n\n<p>As you can see <code>generatePriceCalculator</code> is setting the value for <code>tax</code> in the function that return.</p>\n\n<p>Another option is to generate an external function to call inside the closure.</p>\n\n<pre><code>// Example 2 function return tax\nfunction getTax() {\n    return 30;\n}\nvar totalPrice2 = function (quantity, price) {\n    var tax = getTax();\n    return (price * quantity) * (tax + 1.0);\n};\nvar price2 = totalPrice2(1, 1);\nconsole.log (\"Price Example 2 is : \" + price2);\n</code></pre>\n\n<p>You can see all of them here:  </p>\n\n<p><a href=\"https://jsfiddle.net/jo9yzoke/1/\" rel=\"nofollow\">https://jsfiddle.net/jo9yzoke/1/</a></p>\n"}, {"comments": [{"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453246969, "post_id": 34800968, "comment_id": 57516415, "body": "Thanks for the answer, I know all this about closures, unfortunately this does not solve my problem. If it&#39;s not possible with javascript, I was expecting a solution with transpiler/linter"}, {"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "reply_to_user": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453247951, "post_id": 34800968, "comment_id": 57516757, "body": "@EdgarVillegasAlvarado There is no solution to this because of how JavaScript works. &quot;JS is not PHP nor C++ and wont ever be.&quot; You just can&#39;t write your JavaScript in the same way you write PHP or C++."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453248052, "post_id": 34800968, "comment_id": 57516792, "body": "That&#39;s why I mentioned transpiler language. If it&#39;s not possible in JS I expected a solution with transpiler language, which is theoretically possible."}, {"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "reply_to_user": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453248170, "post_id": 34800968, "comment_id": 57516823, "body": "@EdgarVillegasAlvarado But even transpiler JS languages follow basic JS logic."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453248488, "post_id": 34800968, "comment_id": 57516926, "body": "But in a transpiler language, let&#39;s say coffeescript-like, it would be possible to get an error at transpiling time when an outer var has been used without &quot;permission&quot;, as in several other transpiler constructs, that&#39;s what I need. The resulting javascript doesn&#39;t matter much. Actually I plan to add this feature to a transpiler, but first I wanted to know if it already exists."}, {"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453248777, "post_id": 34800968, "comment_id": 57517031, "body": "Don&#39;t get me wrong, I appreciate your answer, and it has cool concepts. Thank you very much, +1"}], "tags": [], "owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "is_accepted": false, "score": 2, "last_activity_date": 1452810344, "last_edit_date": 1495541716, "creation_date": 1452810344, "answer_id": 34800968, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34800968#34800968", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>There is no such keyword in JavaScript.</p>\n\n<p>In JavaScript variables are available to <em>all child scopes</em>, for example:</p>\n\n<pre><code>(function() {\n  var outerVariable = true;\n  (function() {\n    console.log(typeof outerVariable); // boolean\n    (function() {\n      console.log(typeof outerVariable); // boolean\n    }())\n  }());\n}());\n</code></pre>\n\n<p>However, you can't access variables which has been defined in a separate, not-parent scope, for example:</p>\n\n<pre><code>(function() {\n  var someVariable = true;\n}());\n(function() {\n  console.log(typeof someVariable); // undefined\n}());\n</code></pre>\n\n<p>This is the reason why you should write JavaScript code in such a way that you always have access only to variables that you need. Consider following example:</p>\n\n<pre><code>(function() {\n  var math = (function() {\n    // inner variable\n    var PI = 3.141592653589793;\n\n    // inner function\n    function multiply(...args) {\n      return args.reduce((a, b)=&gt; a * b);\n    }\n\n    // outer functions\n    return {\n      circleArea: function circleArea(r) {\n        return multiply(r, r, PI);\n      },\n      circumference: function circumference(r) {\n        return multiply(2, PI, r);\n      }\n    };\n  }());\n\n  console.log(math.circleArea(5)); // 78.53981633974483\n  console.log(math.circumference(10)); // 62.83185307179586\n\n  console.log(typeof PI); // \"undefined\"\n  console.log(typeof multiply); // \"undefined\"\n}());\n</code></pre>\n\n<p>Inside the IIFE which creates the <code>math</code> object, you can use <code>PI</code> variable and <code>multiply</code> function. The IIFE returns two function, which can access <code>PI</code> and <code>multiply</code> too, because they are still inside this IIFE. You can call <code>math.circleArea()</code> and <code>math.circumference()</code> from outside this IIFE, but you can access <code>PI</code> or <code>multiply</code> &mdash; they are <code>undefined</code> in this scope.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2421911/what-is-the-purpose-of-wrapping-whole-javascript-files-in-anonymous-functions-li\">What is the purpose of wrapping whole Javascript files in anonymous functions like \u201c(function(){ \u2026 })()\u201d?</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 1, "creation_date": 1453228122, "post_id": 34861453, "comment_id": 57506428, "body": "This doesn&#39;t prevent you from using global variables inside a closure."}], "tags": [], "owner": {"reputation": 1635, "user_id": 4904695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/web9N.jpg?s=128&g=1", "display_name": "Pierre-Alexis de Solminihac", "link": "https://stackoverflow.com/users/4904695/pierre-alexis-de-solminihac"}, "is_accepted": false, "score": 2, "last_activity_date": 1453211015, "last_edit_date": 1453211015, "creation_date": 1453141171, "answer_id": 34861453, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34861453#34861453", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>You could bind your external variables to the <code>this</code> keyword of your closure, using the <code>.bind()</code> function:</p>\n\n<blockquote>\n  <p>The bind() method creates a new function that, when called, has its\n  this keyword set to the provided value, with a given sequence of\n  arguments preceding any provided when the new function is called.</p>\n</blockquote>\n\n<p>See \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind</a></p>\n"}, {"comments": [{"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453247064, "post_id": 34875632, "comment_id": 57516455, "body": "Thanks for the answer. I know all this, I&#39;m experienced with JS. Unfortunately this does not solve my problem. If it&#39;s not possible with javascript, I was expecting a solution with transpiler/linter."}], "tags": [], "owner": {"reputation": 3965, "user_id": 4615331, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/w3J67.png?s=128&g=1", "display_name": "yergo", "link": "https://stackoverflow.com/users/4615331/yergo"}, "is_accepted": false, "score": 1, "last_activity_date": 1453202932, "creation_date": 1453202932, "answer_id": 34875632, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34875632#34875632", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>First of all: JS is not PHP nor C++ and wont ever be.</p>\n\n<p><code>use()</code> is not for JS. You have lots of possible examples to do what you need, it'a pretty flexible language. Except those in previous answers, I'd like to share one more example:</p>\n\n<pre><code>var tax = 'improper';\n\nvar priceFactory = function(tax) { \n    // private `tax` variable for this scope\n    var tax = tax;\n\n    // or a nightmare to check it\n    // var tax = 'number' ==  typeof tax &amp;&amp; tax || function() { throw \"No tax given\"; }();\n\n    return function(quantity, price) {\n        return (price * quantity) * (1 + tax / 100);\n    }\n};\n\nvar price = new priceFactory(10); // 10%\n\nvar totalPrice = price(1, 100)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "edited": false, "score": 0, "creation_date": 1453247397, "post_id": 34884354, "comment_id": 57516565, "body": "Although this doesn&#39;t solve my problem, for my purposes it&#39;s a good idea that outer variables are used through an intermediate object (I think window isn&#39;t a good one, but could be another), it opened me for new ideas, +1 for you, thanks"}], "tags": [], "owner": {"reputation": 790, "user_id": 5748767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/18f864931f2ac7006598db568aa6fe91?s=128&d=identicon&r=PG&f=1", "display_name": "VKK", "link": "https://stackoverflow.com/users/5748767/vkk"}, "is_accepted": false, "score": 2, "last_activity_date": 1453228183, "creation_date": 1453228183, "answer_id": 34884354, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a/34884354#34884354", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>Here's another alternative approach. If your goal in looking for an equivalent of <code>use</code> in javascript is to write cleaner code, you might want to take a look at <code>window.variablename</code>.  Variables at the global scope in javascript are implicitly properties of the window object. So for example, you could write:</p>\n\n<pre><code>var window.tax = 10;\nvar totalPrice = function (quantity, price){  //no need for 'use' or similar\n    return (price * quantity) * (window.tax + 1.0);  //tax is usable here :(\n};\n</code></pre>\n\n<p>This makes it explicitly clear to someone reading the code, that <code>tax</code> referenced in the function is the <code>tax</code> that's part of the global scope (namely <code>window.tax</code>).</p>\n"}], "owner": {"reputation": 17477, "user_id": 722331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de057083353e7435174218bcaa3e191a?s=128&d=identicon&r=PG", "display_name": "Edgar Villegas Alvarado", "link": "https://stackoverflow.com/users/722331/edgar-villegas-alvarado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "answer_count": 6, "score": 12, "last_activity_date": 1453737565, "creation_date": 1452392540, "last_edit_date": 1453737565, "question_id": 34701341, "link": "https://stackoverflow.com/questions/34701341/closures-equivalent-of-php-use-keyword-or-c-capture-list-in-javascript-or-a", "title": "Closures: Equivalent of PHP &quot;use&quot; keyword or C++ capture list in Javascript or a transpiler language", "body": "<p>in PHP we have the neat <code>use</code> keyword for allowing the usage of 'external' variables when using closures, like the following:</p>\n\n<pre><code>$tax = 10;\n$totalPrice = function ($quantity, $price) use ($tax){  //mandatory 'use'\n    return ($price * $quantity) * ($tax + 1.0);\n};\n</code></pre>\n\n<p>If we omit the <code>use ($tax)</code> part, it will throw an error, which I like a lot.</p>\n\n<p>Similarly in C++ 11, we do the same, specifying the external variables, called <a href=\"http://en.cppreference.com/w/cpp/language/lambda\" rel=\"nofollow noreferrer\">capture list</a>, with brackets:</p>\n\n<pre><code>float tax = 10;\nauto totalPrice = [tax](int quantity, float price){   //mandatory []\n   return (price*quantity) * (tax + 1.0);\n};\n</code></pre>\n\n<p>As in php, it will throw an error if the capture list is omitted.</p>\n\n<p>In Javascript, we don't have an equivalent to this <code>use</code> keyword (or c++ []), we just do:</p>\n\n<pre><code>var tax = 10;\nvar totalPrice = function (quantity, price){  //no need for 'use' or similar\n    return (price * quantity) * (tax + 1.0);  //tax is usable here :(\n};\n</code></pre>\n\n<p>I don't like much that freedom, I strongly prefer to specify the variables that will be accessible by the closure function or get an error otherwise, for reasons outside the scope of this question.</p>\n\n<p>So, I was wondering, is there a special keyword or operator for this in ES6, <strong>or in any language that transpiles to javascript</strong>? (CoffeeScript, TypeScript, etc) If so, in which language and what's the syntax?</p>\n\n<p>Ideally I'd like to detect in transpilation time (or before), when a variable hasn't been explicitly 'authorized' to be used in a closure, pretty much like PHP/C++.</p>\n\n<p>Thanks in advance</p>\n\n<p>PS: Please don't ask me why I want this in js-like language, that debate is another topic.</p>\n\n<p><strong>EDIT</strong>: A linter that performs this check would also help</p>\n"}, {"tags": ["angularjs", "pagination", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 197, "user_id": 5545399, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/31b5679776f19db9eae3f0345b759e4a?s=128&d=identicon&r=PG&f=1", "display_name": "ScottVMeyers", "link": "https://stackoverflow.com/users/5545399/scottvmeyers"}, "edited": false, "score": 0, "creation_date": 1452404004, "post_id": 34701025, "comment_id": 57150828, "body": "Hey, thanks for taking the time!  I think I get what you&#39;re saying, but I&#39;m using typescript.  i think a different approach is in order."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 197, "user_id": 5545399, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/31b5679776f19db9eae3f0345b759e4a?s=128&d=identicon&r=PG&f=1", "display_name": "ScottVMeyers", "link": "https://stackoverflow.com/users/5545399/scottvmeyers"}, "edited": false, "score": 0, "creation_date": 1452410022, "post_id": 34701025, "comment_id": 57151974, "body": "@ScottVMeyers you can just make a method in your controller class, and use controllerAs in the directive to inject the controller in the view."}], "tags": [], "owner": {"reputation": 5782, "user_id": 847853, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40ce3c617bd44d107c176e812e4c01ad?s=128&d=identicon&r=PG", "display_name": "Low Flying Pelican", "link": "https://stackoverflow.com/users/847853/low-flying-pelican"}, "is_accepted": false, "score": 0, "last_activity_date": 1452405119, "last_edit_date": 1452405119, "creation_date": 1452389450, "answer_id": 34701025, "question_id": 34700727, "link": "https://stackoverflow.com/questions/34700727/does-pagination-require-its-own-controller/34701025#34701025", "title": "Does Pagination require it&#39;s own controller?", "body": "<p>You do not seem to be using the <code>ng-change</code> attribute of the uib-pagination, you probably need to link it to the method where actual paging needs to happen</p>\n\n<p>something like this,</p>\n\n<pre><code>$scope.pageChanged = function(){\n    $scope.pagedChallanges = $scope.challanges.splice....\n}\n</code></pre>\n\n<p>and probably you have to bind pagedChallanges to the view.</p>\n\n<p>but better approach would be doing the paging in the server, and when page changes send a call to server to get the required page. </p>\n"}], "owner": {"reputation": 197, "user_id": 5545399, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/31b5679776f19db9eae3f0345b759e4a?s=128&d=identicon&r=PG&f=1", "display_name": "ScottVMeyers", "link": "https://stackoverflow.com/users/5545399/scottvmeyers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452405119, "creation_date": 1452386516, "question_id": 34700727, "link": "https://stackoverflow.com/questions/34700727/does-pagination-require-its-own-controller", "title": "Does Pagination require it&#39;s own controller?", "body": "<p>Sorry, angular newbie.  I've been playing all day and can't get my pagination to respond to the data.  There just doesn't seem to be any link between my directive and the content.  Can I put the pagination information in the same controller as the one used on the rest of the page?  I'm trying to limit my list of objects to five per page.  I copied the code from JS and tried to convert it to typescript, which may be a problem as well.</p>\n\n<p>Here's my controller:</p>\n\n<pre><code>export class HomeController {\n    public challenges;\n    public challengesCompleted;\n    //public allCompletedChallenges;\n    public totalItems = 1;\n    public currentPage = 1;\n    public maxSize = 1;\n    public bigTotalItems = 1;\n    public bigCurrentPage = 1;\n    public setPage(pageNo) {\n        this.currentPage = pageNo;\n    };\n\n\n\n    constructor\n        (\n        private challengeService: MyApp.Services.ChallengeService,\n        private $location: angular.ILocationService,\n        $routeParams: ng.route.IRouteParamsService\n        ) {\n        this.challenges = this.challengeService.listChallenges();\n        this.challengesCompleted = this.challengeService.list10FinishedChallenges();\n        this.maxSize = 5;\n        this.bigTotalItems = 5;\n        this.bigCurrentPage = 5;\n\n        //this.allCompletedChallenges = this.challengeService.listAllCompletedChallenges();\n    }\n\n\n}\n</code></pre>\n\n<p>and html:</p>\n\n<pre><code>                &lt;div class=\"row\" ng-repeat=\"challenge in controller.challenges  | filter: globalSearch\"&gt;\n                    &lt;div class=\"col-md-12\"&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-md-6\"&gt;\n                                &lt;h4&gt;\n                                    Created By: {{challenge.challenger}}\n                                &lt;/h4&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"col-md-6\"&gt;\n                                &lt;h4&gt;{{challenge.dateCreated  | date: 'longDate'}}&lt;/h4&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-md-6\"&gt;\n                                &lt;h4&gt;Title: &lt;b&gt;{{challenge.title}}&lt;/b&gt;&lt;/h4&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"col-md-6\"&gt;\n                                &lt;h4&gt;Bet Amount: {{challenge.amount}}&lt;/h4&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-md-12\"&gt;\n                                &lt;h4&gt;\n                                    Description\n                                &lt;/h4&gt;\n                                {{challenge.description}}\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"row\"&gt;\n                            &lt;div class=\"col-md-12\"&gt;\n                                &lt;a ng-hide=\"challenge.challengee!=null || !account.isLoggedIn() || account.getDisplayName() == challenge.challenger\" href=\"/acceptChallenge/{{challenge.id}}\"&gt;&lt;b&gt;ACCEPT THIS CHALLENGE!&lt;/b&gt;&lt;/a&gt;\n                                &lt;a ng-show=\"!account.isLoggedIn() &amp;&amp; challenge.challengee == null\" href=\"/login\"&gt;&lt;b&gt;YOU MUST BE LOGGED IN TO ACCEPT THIS CHALLENGE.&lt;/b&gt;&lt;/a&gt;\n                                &lt;p ng-show=\"challenge.challengee!=null\"&gt;&lt;b&gt;&lt;i&gt;Challenge has been accepted by {{challenge.challengee}} and is in progress.&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n                            &lt;/div&gt;\n                            &lt;div class=\"col-md-12 linebreak\"&gt;\n\n            &lt;br /&gt;\n        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;&lt;br /&gt;&lt;br /&gt;\n            &lt;/div&gt;\n                            &lt;uib-pagination total-items=\"totalItems\" ng-model=\"controller.currentPage\" items-per-page=5 max-size=\"5\" class=\"pagination-sm\" boundary-link-numbers=\"true\"&gt;\n                            &lt;/uib-pagination&gt;\n\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript"], "comments": [{"owner": {"reputation": 10210, "user_id": 763371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fW8x.png?s=128&g=1", "display_name": "MDEV", "link": "https://stackoverflow.com/users/763371/mdev"}, "edited": false, "score": 0, "creation_date": 1452378233, "post_id": 34699631, "comment_id": 57145305, "body": "Is it not just <code>$scope.$on</code> ?"}, {"owner": {"reputation": 546, "user_id": 842028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Bt0Od.png?s=128&g=1", "display_name": "chr.solr", "link": "https://stackoverflow.com/users/842028/chr-solr"}, "reply_to_user": {"reputation": 10210, "user_id": 763371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2fW8x.png?s=128&g=1", "display_name": "MDEV", "link": "https://stackoverflow.com/users/763371/mdev"}, "edited": false, "score": 0, "creation_date": 1452378476, "post_id": 34699631, "comment_id": 57145406, "body": "Tried $scope.$on(...) with the constructor taking a private &amp; public $scope and nothing."}], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 842028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Bt0Od.png?s=128&g=1", "display_name": "chr.solr", "link": "https://stackoverflow.com/users/842028/chr-solr"}, "is_accepted": true, "score": 1, "last_activity_date": 1452380426, "creation_date": 1452380426, "answer_id": 34699934, "question_id": 34699631, "link": "https://stackoverflow.com/questions/34699631/how-to-use-scope-on-in-typescript-and-angular/34699934#34699934", "title": "How to use $scope.$on in typescript and angular?", "body": "<p>After allot more debugging i noticed that the $scope.$on was getting trigger and the _this.isSidebarOpen was getting updated. I noticed that in the js file the <strong>vm.isSideBarOpen</strong> contains a CAPITAL B and in typescript is lower case. Because of this the binding was broken between the view and controller. i change _this.isSidebarOpen to _this.isSideBarOpen and everything is working perfect.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 6633265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b10e50999f432a3450dc8f1709d2cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "Minh Nguyen", "link": "https://stackoverflow.com/users/6633265/minh-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1490012801, "last_edit_date": 1490012801, "creation_date": 1490009550, "answer_id": 42902499, "question_id": 34699631, "link": "https://stackoverflow.com/questions/34699631/how-to-use-scope-on-in-typescript-and-angular/42902499#42902499", "title": "How to use $scope.$on in typescript and angular?", "body": "<p>Sorry. I edited my response. Previous answers are correct. Still need to inject $scope for watch and listen to event</p>\n"}], "owner": {"reputation": 546, "user_id": 842028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Bt0Od.png?s=128&g=1", "display_name": "chr.solr", "link": "https://stackoverflow.com/users/842028/chr-solr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5633, "favorite_count": 1, "accepted_answer_id": 34699934, "answer_count": 2, "score": 4, "last_activity_date": 1490012801, "creation_date": 1452378120, "question_id": 34699631, "link": "https://stackoverflow.com/questions/34699631/how-to-use-scope-on-in-typescript-and-angular", "title": "How to use $scope.$on in typescript and angular?", "body": "<p>I am new to typescript and I'm trying to convert this angular controller to typescript but I'm having issues with the <strong>$scope.$on()</strong>.</p>\n\n<pre><code>(function () {\n'use strict';\n\nangular.module('controllers').controller('NavigationController', ['$scope', '$location', 'NavigationServices',\n    function ($scope, $location, NavigationServices) {\n\n        var vm = this;\n\n        vm.isSideBarOpen = NavigationServices.getSideBarState();\n\n        vm.toggleSideBar = function () {\n            NavigationServices.toggleSideBar();\n        };\n\n        $scope.$on('navigation:sidebar', function (event, data) {\n            vm.isSideBarOpen = data;\n        });\n\n    }]);\n})();\n</code></pre>\n\n<p>The typescript I have try:</p>\n\n<pre><code>module app.controllers {\n\nimport IScope = ng.IScope;\nimport ILocationService = ng.ILocationService;\nimport INavigationServices = app.services.INavigationServices;\n\ninterface INavbarController {\n    isSidebarOpen: boolean;\n    toggleSideBar(): void;\n}\n\nclass NavbarController implements INavbarController {\n    isSidebarOpen: boolean;\n\n    static $inject = ['$scope', '$location', 'NavigationServices'];\n    constructor(private $scope: IScope, private $location: ILocationService, private NavigationServices: INavigationServices){\n        var _this = this;\n        _this.isSidebarOpen = this.NavigationServices.getSideBarState();\n\n        this.$scope.$on('navigation:sidebar', (event: ng.IAngularEvent, data: boolean) =&gt; {\n            _this.isSidebarOpen = data;\n        });\n    }\n\n    toggleSideBar(): void {\n        this.NavigationServices.toggleSideBar();\n    }\n}\n\nangular.module('controllers')\n    .controller('NavigationController', NavbarController);\n}\n</code></pre>\n\n<p>I get no errors but it doesn't work. Everything worked fine without the typescript.</p>\n\n<p>Here is the NavigationServices factory:</p>\n\n<pre><code>module app.services {\n'use strict';\n\nexport interface INavigationServices {\n    toggleSideBar(): void;\n    getSideBarState(): boolean;\n    closeSideBar(): void;\n    openSideBar(): void;\n}\n\nclass NavigationServices implements INavigationServices {\n    private isSideBarOpen: boolean;\n\n    constructor(private $rootScope: ng.IRootScopeService) {\n        this.isSideBarOpen = false;\n    }\n\n    toggleSideBar(): void {\n        this.isSideBarOpen = !this.isSideBarOpen;\n        this.$rootScope.$broadcast('navigation:sidebar', this.isSideBarOpen);\n    }\n\n    getSideBarState(): boolean {\n        return this.isSideBarOpen;\n    }\n\n    closeSideBar(): void {\n        this.isSideBarOpen = false;\n        this.$rootScope.$broadcast('navigation:sidebar', this.isSideBarOpen);\n    }\n\n    openSideBar(): void {\n        this.isSideBarOpen = true;\n        this.$rootScope.$broadcast('navigation:sidebar', this.isSideBarOpen);\n    }\n}\n\nangular.module('services').factory('NavigationServices', ['$rootScope', ($rootScope) =&gt; new NavigationServices($rootScope)]);\n}\n</code></pre>\n\n<p>Thanks.  </p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "prototypal-inheritance"], "comments": [{"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1452377844, "post_id": 34699529, "comment_id": 57145176, "body": "@wmehanna Not quite. Yes, I am using es6 with babel. So the final output is es5 already. What I want is to get an object just like my in example, because the class instance is not the same with that object."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1452379539, "post_id": 34699529, "comment_id": 57145714, "body": "Why can&#39;t you pass the instance? You&#39;re basically just copying it."}, {"owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 2, "creation_date": 1452379628, "post_id": 34699529, "comment_id": 57145740, "body": "<code>toJSON() {return Object.keys(this).reduce((obj, key) =&gt; {obj[key] = this[key]; return obj;}, {});}</code>"}, {"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "reply_to_user": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "edited": false, "score": 0, "creation_date": 1452386496, "post_id": 34699529, "comment_id": 57147502, "body": "@Louy When targeting <code>es6</code> via babel or node 4+ the old method with <code>Object.keys</code> doesn&#39;t work"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 4, "creation_date": 1474492479, "post_id": 34699529, "comment_id": 66558761, "body": "To be precise, this isn&#39;t converting to JSON, this is converting to an object. JSON is explicitly an object notation."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1576624905, "post_id": 34699529, "comment_id": 104958782, "body": "To follow up on @DaveNewton&#39;s comment, JSON is a text format, and there is no such thing as a JSON object, since objects are in the realm of JavaScript, not JSON. Note that <code>toJSON</code> is also a special method name, used by <code>JSON.stringify</code> if present to get the <b>string</b> representation of an object."}], "answers": [{"comments": [{"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1452381430, "post_id": 34700035, "comment_id": 57146191, "body": "Nope, not working. I have a class hierarchy there, so it&#39;s not going to work"}, {"owner": {"reputation": 534, "user_id": 2423498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnEmG.jpg?s=128&g=1", "display_name": "Seshu Kumar Alluvada", "link": "https://stackoverflow.com/users/2423498/seshu-kumar-alluvada"}, "reply_to_user": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 1, "creation_date": 1452381816, "post_id": 34700035, "comment_id": 57146313, "body": "It works. I have tested calling toJSON on Human, Person and PersonWorker. It is working as expected."}, {"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1452384424, "post_id": 34700035, "comment_id": 57147010, "body": "It works on that example, indeed. But on my usecase it&#39;s still not working. Don&#39;t understand what&#39;s the problem :|"}, {"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1452384433, "post_id": 34700035, "comment_id": 57147012, "body": "Let me try something different"}, {"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1452386090, "post_id": 34700035, "comment_id": 57147400, "body": "It seems that the problem appears when targeting <code>es6</code>. I have updated my question."}, {"owner": {"reputation": 203, "user_id": 2033178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F5qbe.jpg?s=128&g=1", "display_name": "Darkman", "link": "https://stackoverflow.com/users/2033178/darkman"}, "edited": false, "score": 0, "creation_date": 1551576313, "post_id": 34700035, "comment_id": 96690080, "body": "This does not work with es6. However the solution privided by eAbi does."}], "tags": [], "owner": {"reputation": 534, "user_id": 2423498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnEmG.jpg?s=128&g=1", "display_name": "Seshu Kumar Alluvada", "link": "https://stackoverflow.com/users/2423498/seshu-kumar-alluvada"}, "is_accepted": false, "score": 1, "last_activity_date": 1452381208, "creation_date": 1452381208, "answer_id": 34700035, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/34700035#34700035", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>Here is the implementation for the toJSON() method. We are copying over the properties &amp; methods from the current instance to a new object and excluding the unwanted methods i.e. toJSON and constructor.</p>\n\n<pre><code>toJSON() {\n    var jsonedObject = {};\n    for (var x in this) {\n\n        if (x === \"toJSON\" || x === \"constructor\") {\n            continue;\n        }\n        jsonedObject[x] = this[x];\n    }\n    return jsonedObject;\n}\n</code></pre>\n\n<p>I have tested the object returned by toJSON() in Chrome and I see the object behaving the same way as you are expecting.</p>\n"}, {"tags": [], "owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "is_accepted": true, "score": 5, "last_activity_date": 1452390997, "creation_date": 1452390997, "answer_id": 34701165, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/34701165#34701165", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>Ok, so the implementation in my OP was wrong, and the mistake was simply stupid.</p>\n\n<p>The correct implementation when using <code>es6</code> is:</p>\n\n<pre><code>toJSON(proto) {\n    let jsoned = {};\n    let toConvert = proto || this;\n    Object.getOwnPropertyNames(toConvert).forEach((prop) =&gt; {\n        const val = toConvert[prop];\n        // don't include those\n        if (prop === 'toJSON' || prop === 'constructor') {\n            return;\n        }\n        if (typeof val === 'function') {\n            jsoned[prop] = val.bind(jsoned);\n            return;\n        }\n        jsoned[prop] = val;\n    });\n\n    const inherited = Object.getPrototypeOf(toConvert);\n    if (inherited !== null) {\n        Object.keys(this.toJSON(inherited)).forEach(key =&gt; {\n            if (!!jsoned[key] || key === 'constructor' || key === 'toJSON')\n                return;\n            if (typeof inherited[key] === 'function') {\n                jsoned[key] = inherited[key].bind(jsoned);\n                return;\n            }\n            jsoned[key] = inherited[key];\n        });\n    }\n    return jsoned;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 166, "user_id": 1471469, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/58624c56d5b058a76a8704a5a888ca7d?s=128&d=identicon&r=PG", "display_name": "servatj", "link": "https://stackoverflow.com/users/1471469/servatj"}, "edited": false, "score": 1, "creation_date": 1572347795, "post_id": 58568121, "comment_id": 103523581, "body": "That answer is awesome Man, I don&#39;t understand what it has been ignored. Well Done and thank for sharing!"}, {"owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "edited": false, "score": 0, "creation_date": 1574239325, "post_id": 58568121, "comment_id": 104156477, "body": "This answer looks nice and concise. But, my OP required nested classes to be also converted to plain javascript object (preserving methods). I think you need to call your fn recursively to solve that specific scenario as well. I&#39;ll mark your answer as the accepted one after you edit your solution to cover the nested scenario. Thanks for this! :)"}], "tags": [], "owner": {"reputation": 7295, "user_id": 2782583, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/100004476392758/picture?type=large", "display_name": "Alex Cory", "link": "https://stackoverflow.com/users/2782583/alex-cory"}, "is_accepted": false, "score": 8, "last_activity_date": 1572069848, "last_edit_date": 1572069848, "creation_date": 1572065036, "answer_id": 58568121, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/58568121#58568121", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>This is what's working for me</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const classToObject = theClass =&gt; {\n  const originalClass = theClass || {}\n  const keys = Object.getOwnPropertyNames(Object.getPrototypeOf(originalClass))\n  return keys.reduce((classAsObj, key) =&gt; {\n    classAsObj[key] = originalClass[key]\n    return classAsObj\n  }, {})\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/0I6L2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0I6L2.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 278, "user_id": 3702750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd63f216d4f8618723076790f87f4abb?s=128&d=identicon&r=PG", "display_name": "RobotOptimist", "link": "https://stackoverflow.com/users/3702750/robotoptimist"}, "is_accepted": false, "score": 1, "last_activity_date": 1576624476, "creation_date": 1576624476, "answer_id": 59383428, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/59383428#59383428", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>I'm riffing on <a href=\"https://stackoverflow.com/users/2782583/alex-cory\">Alex Cory</a>'s solution a lot, but this is what I came up with. It expects to be assigned to a class as a Function with a corresponding bind on <code>this</code>.</p>\n\n<pre><code>const toObject = function() {\n  const original = this || {};\n  const keys = Object.keys(this);\n  return keys.reduce((classAsObj, key) =&gt; {\n    if (typeof original[key] === 'object' &amp;&amp; original[key].hasOwnProperty('toObject') )\n      classAsObj[key] = original[key].toObject();\n    else if (typeof original[key] === 'object' &amp;&amp; original[key].hasOwnProperty('length')) {\n      classAsObj[key] = [];\n      for (var i = 0; i &lt; original[key].length; i++) {\n        if (typeof original[key][i] === 'object' &amp;&amp; original[key][i].hasOwnProperty('toObject')) {\n          classAsObj[key].push(original[key][i].toObject());\n        } else {\n          classAsObj[key].push(original[key][i]);\n        }\n      }\n    }\n    else if (typeof original[key] === 'function') { } //do nothing\n    else\n      classAsObj[key] = original[key];\n    return classAsObj;\n  }, {})\n}\n</code></pre>\n\n<p>then if you're using TypeScript you can put this interface on any class that should be converted to an object:</p>\n\n<pre><code>export interface ToObject {\n  toObject: Function;\n}\n</code></pre>\n\n<p>and then in  your classes, don't forget to bind <code>this</code></p>\n\n<pre><code>class TestClass implements ToObject {\n   toObject = toObject.bind(this);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 622959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19f683daf5eb911d8818d0c2fd2ad5ab?s=128&d=identicon&r=PG", "display_name": "alvaro.canepa", "link": "https://stackoverflow.com/users/622959/alvaro-canepa"}, "is_accepted": false, "score": 0, "last_activity_date": 1587307919, "creation_date": 1587307919, "answer_id": 61306350, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/61306350#61306350", "title": "Convert javascript class instance to plain object preserving methods", "body": "<h3>using Lodash</h3>\n\n<p>This method isn't recursive.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  toPlainObject() {\n    return _.pickBy(this, item =&gt; {\n      return (\n        !item ||\n        _.isString(item) ||\n        _.isArray(item) ||\n        _.isNumber(item) ||\n        _.isPlainObject(item)\n      );\n    });\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 3940742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc8a06ded12d8d11c5c5fadd11658ba5?s=128&d=identicon&r=PG&f=1", "display_name": "Tal Yaron", "link": "https://stackoverflow.com/users/3940742/tal-yaron"}, "is_accepted": false, "score": 0, "last_activity_date": 1610563084, "last_edit_date": 1610563084, "creation_date": 1610554933, "answer_id": 65705874, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/65705874#65705874", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>This solution will lose methods, but it is a very simple solution to convert a class instance to an object.</p>\n<pre><code>obj = JSON.parse(JSON.stringify(classInstance))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8403, "user_id": 1587729, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7e3d2ba5de8e4c7af8f3a1dc5c911b8b?s=128&d=identicon&r=PG", "display_name": "Damien Romito", "link": "https://stackoverflow.com/users/1587729/damien-romito"}, "edited": false, "score": 0, "creation_date": 1618588751, "post_id": 66774294, "comment_id": 118655899, "body": "Best answer ! &lt;3"}], "tags": [], "owner": {"reputation": 21, "user_id": 12329504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b47315d4ac78e6a5d6eba5d0c1dfac?s=128&d=identicon&r=PG&f=1", "display_name": "Hovoh", "link": "https://stackoverflow.com/users/12329504/hovoh"}, "is_accepted": false, "score": 2, "last_activity_date": 1616556169, "creation_date": 1616556169, "answer_id": 66774294, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods/66774294#66774294", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>Lots of answers already, but this is the simplest yet by using the ... operator and de-structuring the object:</p>\n<pre><code>const {...object} = classInstance\n</code></pre>\n"}], "owner": {"reputation": 2538, "user_id": 2135910, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XP4U0.jpg?s=128&g=1", "display_name": "eAbi", "link": "https://stackoverflow.com/users/2135910/eabi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20050, "favorite_count": 2, "accepted_answer_id": 34701165, "answer_count": 7, "score": 11, "last_activity_date": 1616556169, "creation_date": 1452377521, "last_edit_date": 1576624738, "question_id": 34699529, "link": "https://stackoverflow.com/questions/34699529/convert-javascript-class-instance-to-plain-object-preserving-methods", "title": "Convert javascript class instance to plain object preserving methods", "body": "<p>I want to convert an instance class to plain object, without losing methods and/or inherited properties. So for example:</p>\n\n<pre><code>class Human {\n    height: number;\n    weight: number;\n    constructor() {\n        this.height = 180;\n        this.weight = 180;\n    }\n    getWeight() { return this.weight; }\n    // I want this function to convert the child instance\n    // accordingly\n    toJSON() {\n        // ???\n        return {};\n    }\n}\nclass Person extends Human {\n    public name: string;\n    constructor() {\n        super();\n        this.name = 'Doe';\n    }\n    public getName() {\n        return this.name;\n    }\n}\nclass PersonWorker extends Person {\n    constructor() {\n        super();\n    }\n    public report() {\n        console.log('I am Working');\n    }\n    public test() {\n        console.log('something');\n    }\n}\nlet p = new PersonWorker;\nlet jsoned = p.toJSON();\n</code></pre>\n\n<p><code>jsoned</code> should look like this:</p>\n\n<pre><code>{\n    // from Human class\n    height: 180,\n    weight: 180,\n    // when called should return this object's value of weight property\n    getWeight: function() {return this.weight},\n\n    // from Person class\n    name: 'Doe'\n    getName(): function() {return this.name},\n\n    // and from PersonWorker class\n    report: function() { console.log('I am Working'); },\n\n    test: function() { console.log('something'); }\n}\n</code></pre>\n\n<p>Is this possible to achieve, and if so, how?</p>\n\n<p>In case you're wondering, I need this because I am using a framework that, unfortunately, accepts as input only an object, whereas I am trying to use TypeScript and class inheritance.</p>\n\n<p>Also, I am doing the above conversion once so performance isn't an issue to consider.</p>\n\n<p>The solutions consisting of iterating through object properties will not work if the compiler's target option is set to <code>es6</code>. On <code>es5</code>, the existing implementations by iterating through object properties (using <code>Object.keys(instance)</code>) will work.</p>\n\n<p>So far, I have this implementation:</p>\n\n<pre><code>toJSON(proto?: any) {\n    // ???\n\n    let jsoned: any = {};\n    let toConvert = &lt;any&gt;proto || this;\n\n    Object.getOwnPropertyNames(toConvert).forEach((prop) =&gt; {\n        const val = toConvert[prop];\n        // don't include those\n        if (prop === 'toJSON' || prop === 'constructor') {\n            return;\n        }\n        if (typeof val === 'function') {\n            jsoned[prop] = val.bind(this);\n            return;\n        }\n        jsoned[prop] = val;\n        const proto = Object.getPrototypeOf(toConvert);\n        if (proto !== null) {\n            Object.keys(this.toJSON(proto)).forEach(key =&gt; {\n                if (!!jsoned[key] || key === 'constructor' || key === 'toJSON') return;\n                if (typeof proto[key] === 'function') {\n                    jsoned[key] = proto[key].bind(this);\n                    return;\n                }\n                jsoned[key] = proto[key];\n            });\n        }\n    });\n    return jsoned;\n}\n</code></pre>\n\n<p>But this is still not working. The resulted object includes only all the properties from all classes but only methods from <code>PersonWorker</code>.\nWhat am I missing here?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "edited": false, "score": 0, "creation_date": 1565152800, "post_id": 34698946, "comment_id": 101257400, "body": "I am thinking if do this way, every time you create the instance using the <code>factory</code> function, you have to import the concrete class. e.g. <code>SomeClass</code>"}, {"owner": {"reputation": 80, "user_id": 1063714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ce85b942889d3d198b780b328daee70?s=128&d=identicon&r=PG", "display_name": "bastianowicz", "link": "https://stackoverflow.com/users/1063714/bastianowicz"}, "edited": false, "score": 0, "creation_date": 1604047780, "post_id": 34698946, "comment_id": 114233526, "body": "for variable arguments you could change <code>type</code> to <code>(type: { new (...args): T }</code>, the second parameter to <code>...args</code> and the creation call to <code>return new type(...args);</code>"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 25, "last_activity_date": 1604050954, "last_edit_date": 1604050954, "creation_date": 1452373593, "answer_id": 34698946, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/34698946#34698946", "title": "How to constraint a generic type to have new()?", "body": "<p>The only way shown in the <a href=\"http://www.typescriptlang.org/docs/handbook/generics.html#using-class-types-in-generics\" rel=\"nofollow noreferrer\">handbook</a> to do something similar to this is to send the class you want to initialize as a parameter to the factory method, and describe it's constructor using the <strong>new</strong> keyword.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function factory&lt;T&gt;(type: { new (): T }): T {\n    return new type();\n}\n\nclass SomeClass { }\n\nlet result = factory(SomeClass);\n</code></pre>\n\n<p>The <strong>result</strong> will be of type SomeClass.</p>\n<p>The constructor of the class will be type checked against the interface defined in the factory method.</p>\n<p>If you want to initialize a class that takes a parameter in it's constructor you will have to specify that in the interface given to the factory method.</p>\n<pre class=\"lang-js prettyprint-override\"><code>function factory&lt;T&gt;(type: { new (...args): T }, ...args): T {\n    return new type(...args);\n}\n\n\nclass SomeClass {\n    constructor(name: string) { }\n}\n\nlet a = factory(SomeClass, 'John Doe');\n</code></pre>\n\n"}, {"tags": [], "owner": {"reputation": 534, "user_id": 2423498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnEmG.jpg?s=128&g=1", "display_name": "Seshu Kumar Alluvada", "link": "https://stackoverflow.com/users/2423498/seshu-kumar-alluvada"}, "is_accepted": false, "score": 5, "last_activity_date": 1452375243, "last_edit_date": 1495541321, "creation_date": 1452375243, "answer_id": 34699196, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/34699196#34699196", "title": "How to constraint a generic type to have new()?", "body": "<p>This has been answered <a href=\"https://stackoverflow.com/questions/17382143/how-to-create-a-new-object-from-type-parameter-in-generic-class-in-typescript\">here</a> in Stack Overflow. To be able to new up a new class using generics, you need to have a guarantee that the type supports instantiation. </p>\n\n<p>You can easily support parameter less constructors using this approach but with constructors that require parameters, it would become less useful as your creatEntity method should have to accept the values for those parameters and pass to the constructor while creating the new instance and as you can see each type can have its own signature for constructor.</p>\n\n<pre><code>class ObjectCreator{\n    static createEntity&lt;TEntity&gt;(type:{new():TEntity;}):TEntity{\n        return new type();\n    }\n}\n\nclass Person{\n    firstName:string;\n    lastName:string;\n    constructor(){\n        this.firstName = \"TestFirstName\";\n        this.lastName = \"TestLastName\";\n    }\n}\n\nvar person: Person = ObjectCreator.createEntity(Person);\nalert(person.firstName);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1375, "user_id": 764627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977fddcb5312350bbe2ee23fc2254ae9?s=128&d=identicon&r=PG", "display_name": "Simon Ejsing", "link": "https://stackoverflow.com/users/764627/simon-ejsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1480654318, "last_edit_date": 1480654318, "creation_date": 1480650278, "answer_id": 40924425, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/40924425#40924425", "title": "How to constraint a generic type to have new()?", "body": "<p>We have a similar situation in which we want a generic class to take a factory function that takes parameters to instantiate the type. The provided solutions here does not cover that scenario.</p>\n\n<p>The TypeScript approach seems to be to define Factories using an interface that expects a parameterless constructor:</p>\n\n<pre><code>export interface QueryTypeFactory&lt;T&gt; {\n    new () : T;\n}\n</code></pre>\n\n<p>TypeScript will not accept a factory function that returns an instance of type T to be used in place of an actual type - even though behind the scenes constructors are just functions that returns functions that returns T.</p>\n\n<p>What we found out is that you can achieve this, but you need to an unsafe cast of the factory method like this:</p>\n\n<pre><code>function dynamicFactory&lt;T&gt;(f: () =&gt; T): FactoryType&lt;T&gt; {\n    return f as any as FactoryType&lt;T&gt;;\n}\n</code></pre>\n\n<p>Now you can provide a factory function which can encapsulate a closure to provide dynamic behavior when instantiating objects:</p>\n\n<pre><code>function factory(argument : any) : DynamicType {\n    return new DynamicType(argument);\n}\n</code></pre>\n\n<p>And now you use the dynamic factory like this:</p>\n\n<pre><code>let argument = { ... };\nnew ThingThatCreatesEntities(dynamicFactory(() =&gt; factory(argument)));\n</code></pre>\n\n<p>The trick is the cast of the factory method to any and then to the required factory type. It's not pretty, but it works and you can hide that in your implementation.</p>\n\n<p>The nice thing about this approach is that the dynamic factory can be substituted for an actual type. So you could also do:</p>\n\n<pre><code>new ThingThatCreatesEntities(StaticType);\n</code></pre>\n\n<p>Where the StaticType is a class with a parameterless constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 86, "user_id": 457979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/538b18873eb15b23c772ffa2cac35272?s=128&d=identicon&r=PG", "display_name": "Singgum3b", "link": "https://stackoverflow.com/users/457979/singgum3b"}, "edited": false, "score": 3, "creation_date": 1521791782, "post_id": 46656135, "comment_id": 85891158, "body": "typecasting is just cheating"}], "tags": [], "owner": {"reputation": 127, "user_id": 8748927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f462f327dc9ff8fd9ac16a257ea77f4?s=128&d=identicon&r=PG", "display_name": "Christian Patzer", "link": "https://stackoverflow.com/users/8748927/christian-patzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1507589399, "creation_date": 1507589399, "answer_id": 46656135, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/46656135#46656135", "title": "How to constraint a generic type to have new()?", "body": "<p>This appears to work just fine. </p>\n\n<pre><code> export abstract class GridRowEditDialogBase&lt;T extends DataRow&gt; extends DialogBase{ \n      protected activeRow: T = {} as T;\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1329, "user_id": 1188074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7673f2d36bc2891fc777d4433b7737fe?s=128&d=identicon&r=PG", "display_name": "wlf", "link": "https://stackoverflow.com/users/1188074/wlf"}, "edited": false, "score": 0, "creation_date": 1583346797, "post_id": 57549062, "comment_id": 107088512, "body": "Couldn&#39;t get this to work, it was returning an instance with type (typeof MyClass)[]. Removing the [] from the return type of factoryFun results in it returning an instance with typeof myClass. But it should be just MyClass."}, {"owner": {"reputation": 513, "user_id": 8555599, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k5MNa.jpg?s=128&g=1", "display_name": "Sumomo", "link": "https://stackoverflow.com/users/8555599/sumomo"}, "reply_to_user": {"reputation": 1329, "user_id": 1188074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7673f2d36bc2891fc777d4433b7737fe?s=128&d=identicon&r=PG", "display_name": "wlf", "link": "https://stackoverflow.com/users/1188074/wlf"}, "edited": false, "score": 0, "creation_date": 1583354086, "post_id": 57549062, "comment_id": 107091892, "body": "@wlf Sorry about that! It was a while ago I posted the answer, but I found a more recent version of what I was doing and that definitely works. I have replaced the entire answer... please let me know if that works for you."}], "tags": [], "owner": {"reputation": 513, "user_id": 8555599, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k5MNa.jpg?s=128&g=1", "display_name": "Sumomo", "link": "https://stackoverflow.com/users/8555599/sumomo"}, "is_accepted": false, "score": 4, "last_activity_date": 1583353949, "last_edit_date": 1583353949, "creation_date": 1566170713, "answer_id": 57549062, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/57549062#57549062", "title": "How to constraint a generic type to have new()?", "body": "<p>If you want to instantiate multiple classes with different parameters in your factory function then the other answers so far are incomplete. This is what you need.</p>\n\n<pre><code>class Hero {\n  constructor(public point: [number, number]) {}\n}\n\nconst entities = [];\n\nconst entityFactory = &lt;\n  T extends {\n    new (...args: any[]): any;\n  }\n&gt;(\n  classToCreate: T,\n  numberOf: number,\n  ...args: ConstructorParameters&lt;T&gt;\n): InstanceType&lt;T&gt;[] =&gt;\n  [...Array(numberOf)].map(() =&gt; new classToCreate(...args));\n\nentities.push(...entityFactory(Hero, 10, [12, 10]));\n\nconsole.log(entities[0].point);\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13960527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11bebafca8f10d1dd29e891bb4250774?s=128&d=identicon&r=PG&f=1", "display_name": "user13960527", "link": "https://stackoverflow.com/users/13960527/user13960527"}, "is_accepted": false, "score": 0, "last_activity_date": 1602962120, "creation_date": 1602962120, "answer_id": 64406375, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new/64406375#64406375", "title": "How to constraint a generic type to have new()?", "body": "<p>if the T type is interface the instance of T is look like :</p>\n<pre><code>let a={} as T\n</code></pre>\n<p>if it is class with constructor I guess you need factor function :</p>\n<pre><code>factory1&lt;T&gt;(ctor?: NoParamConstructor&lt;T&gt;):T{return new ctor};\nlet a=this.factory&lt;T&gt;()\n</code></pre>\n"}], "owner": {"reputation": 8220, "user_id": 1831530, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RFtYx.jpg?s=128&g=1", "display_name": "mehrandvd", "link": "https://stackoverflow.com/users/1831530/mehrandvd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18914, "favorite_count": 3, "accepted_answer_id": 34698946, "answer_count": 6, "score": 14, "last_activity_date": 1607922454, "creation_date": 1452372270, "last_edit_date": 1607922454, "question_id": 34698710, "link": "https://stackoverflow.com/questions/34698710/how-to-constraint-a-generic-type-to-have-new", "title": "How to constraint a generic type to have new()?", "body": "<p>I want to have a function like:</p>\n<pre><code>createEntity&lt;TEntity&gt;(): TEntity {\n    return new TEntity();\n}\n</code></pre>\n<p>In C#, we could write:</p>\n<pre><code>void TEntity CreateEntity&lt;TEntity&gt;() where TEntity : new()\n</code></pre>\n<p>How can I do this in TypeScript?</p>\n"}, {"tags": ["node.js", "typescript", "angular"], "comments": [{"owner": {"reputation": 39832, "user_id": 683553, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9d848d8392fc5291a0c77f4064b7e67a?s=128&d=identicon&r=PG", "display_name": "Satch3000", "link": "https://stackoverflow.com/users/683553/satch3000"}, "edited": false, "score": 1, "creation_date": 1460025164, "post_id": 34697466, "comment_id": 60557292, "body": "@View was dropped so this code is no longer valid in Angular2"}, {"owner": {"reputation": 7852, "user_id": 1097123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/93d48a626680f755c5464741d9897e78?s=128&d=identicon&r=PG", "display_name": "kimbaudi", "link": "https://stackoverflow.com/users/1097123/kimbaudi"}, "edited": false, "score": 1, "creation_date": 1469136446, "post_id": 34697466, "comment_id": 64426305, "body": "I think its important to mention... There is a difference between importing from &#39;angular2&#39; vs &#39;@angular&#39;. If you are using cdn (i.e., <code>&lt;script src=&quot;https:&#47;&#47;code.angularjs.org&#47;&lt;version&gt;angular2.dev.js&quot;&gt;</code>), then you would import from &#39;angular2`. If you&#39;re installing angular2 as a dependency from npm, then you would import &#39;@angular&#39;. Also, Angular2 is currently in rc4 and there are a lot of changes that are happening. To get the latest changes for Angular2, I would recommend taking a look at the 5 Min Quickstart on the angular.io website."}], "answers": [{"comments": [{"owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 0, "creation_date": 1452369313, "post_id": 34697489, "comment_id": 57142563, "body": "if i do so /node_modules/angular2/typings/node/node.d.ts  getting conflicted with typings\\node\\node.d.ts"}, {"owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 0, "creation_date": 1452369377, "post_id": 34697489, "comment_id": 57142589, "body": "typings\\node\\node.d.ts is need for the express, mongoose"}, {"owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "reply_to_user": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 1, "creation_date": 1452369572, "post_id": 34697489, "comment_id": 57142646, "body": "You may want to edit and repost your question, as your original question has been solved and your title won&#39;t attrat the typescript experts you need"}, {"owner": {"reputation": 7852, "user_id": 1097123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/93d48a626680f755c5464741d9897e78?s=128&d=identicon&r=PG", "display_name": "kimbaudi", "link": "https://stackoverflow.com/users/1097123/kimbaudi"}, "edited": false, "score": 0, "creation_date": 1469136986, "post_id": 34697489, "comment_id": 64426502, "body": "i think it changed from <code>import {bootstrap} from &#39;angular2&#47;platform-browser&#39;;</code> to `import {bootstrap} from &#39;angular2/platform-browser-dynamic&#39;;"}], "tags": [], "owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "is_accepted": false, "score": 24, "last_activity_date": 1452365122, "creation_date": 1452365122, "answer_id": 34697489, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/34697489#34697489", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>It changed module just ahead of going beta to</p>\n\n<pre><code>import {Component, View} from 'angular2/core';\n</code></pre>\n\n<p>FYI: bootstrap also changed to </p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser';\n</code></pre>\n\n<p>as a result a lot of the blog posts on the net are out of date :-(</p>\n"}, {"comments": [{"owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 0, "creation_date": 1452369329, "post_id": 34697758, "comment_id": 57142573, "body": "if i do so /node_modules/angular2/typings/node/node.d.ts getting conflicted with typings\\node\\node.d.t"}, {"owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 0, "creation_date": 1452369382, "post_id": 34697758, "comment_id": 57142591, "body": "typings\\node\\node.d.ts is need for the express, mongoose"}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "edited": false, "score": 0, "creation_date": 1452369804, "post_id": 34697758, "comment_id": 57142723, "body": "sorry i don&#39;t get you, but if you are talking about typings according to me there is no need to use typings in angular2 now because this is predefined in the librarys of angular2"}, {"owner": {"reputation": 7852, "user_id": 1097123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/93d48a626680f755c5464741d9897e78?s=128&d=identicon&r=PG", "display_name": "kimbaudi", "link": "https://stackoverflow.com/users/1097123/kimbaudi"}, "edited": false, "score": 0, "creation_date": 1469136673, "post_id": 34697758, "comment_id": 64426398, "body": "I&#39;m pretty sure you don&#39;t need to import <code>NgClass</code> and <code>NgIf</code> since these are built into Angular2."}, {"owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "reply_to_user": {"reputation": 7852, "user_id": 1097123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/93d48a626680f755c5464741d9897e78?s=128&d=identicon&r=PG", "display_name": "kimbaudi", "link": "https://stackoverflow.com/users/1097123/kimbaudi"}, "edited": false, "score": 0, "creation_date": 1469168887, "post_id": 34697758, "comment_id": 64434782, "body": "yeah definitely @kimbaudi you don&#39;t need to import those but posting just for reference purpose."}], "tags": [], "owner": {"reputation": 70314, "user_id": 5043867, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/RX8Aw.jpg?s=128&g=1", "display_name": "Pardeep Jain", "link": "https://stackoverflow.com/users/5043867/pardeep-jain"}, "is_accepted": true, "score": 34, "last_activity_date": 1463313242, "last_edit_date": 1463313242, "creation_date": 1452366803, "answer_id": 34697758, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/34697758#34697758", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>yups as said by @simon error is in imports. but for further imports i have posted this answer may be this is useful for others too.</p>\n\n<pre><code>import {Component, View, Directive, Input, Output, Inject, Injectable, provide} from 'angular2/core'; \n\nimport {bootstrap} from 'angular2/platform/browser';\n\nimport {CORE_DIRECTIVES, FORM_DIRECTIVES, NgClass, NgIf  NgForm, Control, ControlGroup, FormBuilder, Validators} from 'angular2/common';\n\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS, Router, LocationStrategy, HashLocationStrategy} from 'angular2/router';\n\nimport {Http, HTTP_PROVIDERS, RequestOptions, Headers, Request, RequestMethod} from 'angular2/http'\n</code></pre>\n\n<h1>update -</h1>\n\n<p><code>@View</code> is no more in angular2 now, so no need to import</p>\n\n<pre><code>import {view} from 'angular2/core'\n</code></pre>\n\n<h1>Update 2</h1>\n\n<p>As of angular2 is in RC so there is breaking change in all imports here is the list if all updated imports - </p>\n\n<pre><code>angular2/core -&gt; @angular/core\nangular2/compiler -&gt; @angular/compiler\nangular2/common -&gt; @angular/common\nangular2/platform/common -&gt; @angular/common\nangular2/common_dom -&gt; @angular/common\nangular2/platform/browser -&gt; @angular/platform-browser-dynamic\nangular2/platform/server -&gt; @angular/platform-server\nangular2/testing -&gt; @angular/core/testing\nangular2/upgrade -&gt; @angular/upgrade\nangular2/http -&gt; @angular/http\nangular2/router -&gt; @angular/router\nangular2/platform/testing/browser -&gt; @angular/platform-browser-dynamic/testing\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7852, "user_id": 1097123, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/93d48a626680f755c5464741d9897e78?s=128&d=identicon&r=PG", "display_name": "kimbaudi", "link": "https://stackoverflow.com/users/1097123/kimbaudi"}, "edited": false, "score": 0, "creation_date": 1469137016, "post_id": 36923006, "comment_id": 64426512, "body": "yup, quickstart is the best way to stay up-to-date with changes in Angular2"}], "tags": [], "owner": {"reputation": 375, "user_id": 3776219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3581c9c346b7edfba5a99d550d61864?s=128&d=identicon&r=PG&f=1", "display_name": "Manrah", "link": "https://stackoverflow.com/users/3776219/manrah"}, "is_accepted": false, "score": 0, "last_activity_date": 1505742779, "last_edit_date": 1505742779, "creation_date": 1461868947, "answer_id": 36923006, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/36923006#36923006", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>import from ''angular2/angular2' was in previous version which no longer supported now .So Now we have to import the same from 'angular2/core'.For detail reference \nuse (<a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a>)</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 2363747, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/EMmK8.jpg?s=128&g=1", "display_name": "Soumya", "link": "https://stackoverflow.com/users/2363747/soumya"}, "is_accepted": false, "score": 4, "last_activity_date": 1464173551, "creation_date": 1464173551, "answer_id": 37434945, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/37434945#37434945", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>As per the new release of Angular2 rc1, you can update your package.json to</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/common\": \"2.0.0-rc.1\",\n    \"@angular/compiler\": \"2.0.0-rc.1\",\n    \"@angular/core\": \"2.0.0-rc.1\",\n    \"@angular/http\": \"2.0.0-rc.1\",\n    \"@angular/platform-browser\": \"2.0.0-rc.1\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0-rc.1\",\n    \"@angular/router\": \"2.0.0-rc.1\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.1\",\n    \"@angular/upgrade\": \"2.0.0-rc.1\",\n    .....\n }\n</code></pre>\n\n<p>In addition to this also import as following in your component or container:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport {ROUTER_DIRECTIVES, Router, RouteParams} from '@angular/router-deprecated';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 4684957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85bec3d24bfc1898955ec6bfb0b0acd3?s=128&d=identicon&r=PG", "display_name": "akinmail", "link": "https://stackoverflow.com/users/4684957/akinmail"}, "is_accepted": false, "score": 3, "last_activity_date": 1474534037, "creation_date": 1474534037, "answer_id": 39634320, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/39634320#39634320", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>Please note that as form Angular2 final release the correct answer is this.</p>\n\n<pre><code>import {Component, View, Directive, Input, Output, Inject, Injectable, provide} from 'angular/core'; \n\nimport {bootstrap} from 'angular/platform/browser';\n\nimport {CORE_DIRECTIVES, FORM_DIRECTIVES, NgClass, NgIf  NgForm, Control, ControlGroup, FormBuilder, Validators} from 'angular/common';\n\nimport {RouteConfig, ROUTER_DIRECTIVES, ROUTER_PROVIDERS, Router, LocationStrategy, HashLocationStrategy} from 'angular/router';\n\nimport {Http, HTTP_PROVIDERS, RequestOptions, Headers, Request, RequestMethod} from 'angular/http'\n</code></pre>\n\n<p>This is true as said in yups update 2 from above</p>\n\n<pre><code>angular2/core -&gt; @angular/core\nangular2/compiler -&gt; @angular/compiler\nangular2/common -&gt; @angular/common\nangular2/platform/common -&gt; @angular/common\nangular2/common_dom -&gt; @angular/common\nangular2/platform/browser -&gt; @angular/platform-browser-dynamic\nangular2/platform/server -&gt; @angular/platform-server\nangular2/testing -&gt; @angular/core/testing\nangular2/upgrade -&gt; @angular/upgrade\nangular2/http -&gt; @angular/http\nangular2/router -&gt; @angular/router\nangular2/platform/testing/browser -&gt; @angular/platform-browser-dynamic/testing\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6770430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OYun2.jpg?s=128&g=1", "display_name": "Ravindra Gupta", "link": "https://stackoverflow.com/users/6770430/ravindra-gupta"}, "is_accepted": false, "score": 2, "last_activity_date": 1481878926, "last_edit_date": 1481878926, "creation_date": 1481211640, "answer_id": 41043270, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/41043270#41043270", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>you have to Update Angular2 version in final version --</p>\n\n<p>And then use like ----</p>\n\n<pre><code>import { Component } from '@angular/core';\n</code></pre>\n\n<p>there is a updated library like --- <code>'@angular/core'</code></p>\n"}, {"tags": [], "owner": {"reputation": 4360, "user_id": 2678544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53da93c93df655d47ffed8359f1aee70?s=128&d=identicon&r=PG&f=1", "display_name": "Yoav Schniederman", "link": "https://stackoverflow.com/users/2678544/yoav-schniederman"}, "is_accepted": false, "score": -1, "last_activity_date": 1495192506, "last_edit_date": 1495192506, "creation_date": 1485340672, "answer_id": 41849359, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/41849359#41849359", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<ul>\n<li>First update your angular2 liberies at packege.json.</li>\n<li><p>Second</p>\n\n<pre><code> import {Component} from \"@angular/core\";\n import {FormBuilder } from \"@angular/forms\";\n\n @Component({\n  selector: \"login\",\n  providers: [FormBuilder],\n  templateUrl: \"/scripts/src/components/login/login.html\"\n })\n\n\n export class login {\n\n }\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8029578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886da75b63115f661c54a6bcb9c8037a?s=128&d=identicon&r=PG&f=1", "display_name": "jayesh chaudhary", "link": "https://stackoverflow.com/users/8029578/jayesh-chaudhary"}, "is_accepted": false, "score": 0, "last_activity_date": 1495184308, "last_edit_date": 1495184308, "creation_date": 1495183958, "answer_id": 44065537, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/44065537#44065537", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p><strong>'angular2/angular2' is not a valid dependencies of angular2</strong></p>\n\n<p>you have to first check package.json file \"@angular/core\" exist or not</p>\n\n<pre><code>\"dependencies\": {\n    \"@angular/common\": \"2.0.0\",\n    \"@angular/compiler\": \"2.0.0\",\n    \"@angular/core\": \"2.0.0\",\n    \"@angular/http\": \"2.0.0\",\n    \"@angular/platform-browser\": \"2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"2.0.0\",\n    \"@angular/router\": \"2.0.0\",\n    \"@angular/router-deprecated\": \"2.0.0\",\n    \"@angular/upgrade\": \"2.0.0\",\n    .....\n }\n</code></pre>\n\n<p><strong>see the component file like this and also you have too use formGroup as belove</strong></p>\n\n<pre><code>    import { Component, OnInit, DoCheck } from '@angular/core'\n    import { Router } from '@angular/router'\n\n    import { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms'\n\n    @Component({\n      selector: 'app-user-profile',\n      templateUrl: './user-profile.component.html',\n      styleUrls: ['./user-profile.component.scss'],\n    })\n    export class UserProfileComponent implements OnInit, DoCheck {\n      profileForm: FormGroup\n\n      constructor(private fb: FormBuilder) {\n        this.profileForm = this.fb.group({\n          firstName: ['', Validators.required],\n          lastName: ['', Validators.required],\n          email: ['', Validators.required],\n          mobileNo: ['', Validators.required]\n        });\n    }\n</code></pre>\n\n<p><strong>than you have to import ReactiveFormsModule in app.module.ts file</strong>\n<br>\nimport { ReactiveFormsModule } from '@angular/forms';<br><br>\nwithout ReactiveFormsModule formGroup not work it make error</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserProfileComponent } from './user-profile.component';\n\nimport { UserProfileRoutingModule } from './user-profile-routing.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    UserProfileRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [UserProfileComponent]\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2213, "user_id": 2828219, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/t79VH.jpg?s=128&g=1", "display_name": "UniCoder", "link": "https://stackoverflow.com/users/2828219/unicoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1496827410, "creation_date": 1496827410, "answer_id": 44408607, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/44408607#44408607", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>The best way to kick of <strong>angular2</strong> project is using Angular <strong>CLI</strong>.</p>\n\n<blockquote>\n  <p>The Angular CLI makes it easy to create an application that already works, right out of the box. It already follows our best practices!</p>\n</blockquote>\n\n<p>please <a href=\"https://cli.angular.io/\" rel=\"nofollow noreferrer\">check this</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 109, "user_id": 9155608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e261888d3fd891589d69ee57df1bea9e?s=128&d=identicon&r=PG&f=1", "display_name": "Slack", "link": "https://stackoverflow.com/users/9155608/slack"}, "is_accepted": false, "score": 3, "last_activity_date": 1514628174, "creation_date": 1514628174, "answer_id": 48032863, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/48032863#48032863", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>You are trying to access Component from wrong/old directory of node_modules.\nPlease access Component from </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n</code></pre>\n\n<p>instead of :  <code>import { Component, View } from 'angular2/angular2';</code></p>\n\n<p>AND </p>\n\n<p>Access bootstrap from bellow path :</p>\n\n<pre><code>import { bootstrap } from 'angular2/platform/browser';\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7744788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa15c06ec6b7acd4ee149946a719f08f?s=128&d=identicon&r=PG&f=1", "display_name": "AMITKUMAR BORKAR", "link": "https://stackoverflow.com/users/7744788/amitkumar-borkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1525935175, "creation_date": 1525935175, "answer_id": 50267204, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2/50267204#50267204", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<pre><code>import {Component} from \"@angular/core\";\n\n@Component({\n  selector: \"userForm\",\n  template: '&lt;div&gt;&lt;input type=\"text\" name=\"name\" [disabled]=\"flag\"/&gt;&lt;/div&gt;'\n});\n\nexport class userForm{\n public flag = false; //boolean value: true/false\n}\n</code></pre>\n"}], "owner": {"reputation": 3382, "user_id": 2170891, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/GqalU.jpg?s=128&g=1", "display_name": "Rhushikesh", "link": "https://stackoverflow.com/users/2170891/rhushikesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12653, "favorite_count": 7, "accepted_answer_id": 34697758, "answer_count": 11, "score": 23, "last_activity_date": 1525935175, "creation_date": 1452364988, "last_edit_date": 1472095944, "question_id": 34697466, "link": "https://stackoverflow.com/questions/34697466/cannot-find-module-angular2-angular2", "title": "Cannot find module &#39;angular2/angular2&#39;", "body": "<p>I am developing an node app with angular2 and gulp. I have written a component file login.ts as follows:</p>\n\n<pre><code>import {Component, View} from 'angular2/angular2';\nimport {FormBuilder,  formDirectives } from 'angular2/forms';\n@Component({\n  selector: 'login',\n  injectables: [FormBuilder]\n})\n@View({\n  templateUrl: '/scripts/src/components/login/login.html',\n  directives: [formDirectives]\n})\n\nexport class login {\n\n}\n</code></pre>\n\n<p>And my bootstrap.ts file is:</p>\n\n<pre><code>import {bootstrap} from 'angular2/angular2';\n\nimport {login} from './components/login/login';\n\nbootstrap(login);\n</code></pre>\n\n<p>but when I compile these files it gives me the following errors:</p>\n\n<pre><code>client\\bootstrap.ts(1,25): error TS2307: Cannot find module 'angular2/angular2'.\nclient\\components\\login\\login.ts(1,31): error TS2307: Cannot find module 'angular2/angular2\nclient\\components\\login\\login.ts(2,45): error TS2307: Cannot find module 'angular2/forms'.\n</code></pre>\n\n<p>Here is my tsconfig.json:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"sourceMap\": true,\n        \"watch\": true,\n        \"removeComments\": true,\n        \"moduleResolution\": \"node\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true\n    }\n}\n</code></pre>\n\n<p>I have installed the typing for angular2 using:</p>\n\n<pre><code>tsd install angular2 --save\n</code></pre>\n\n<p>Please help to fix the error.</p>\n"}, {"tags": ["reflection", "typescript", "optional-parameters"], "comments": [{"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 1, "creation_date": 1452363700, "post_id": 34697131, "comment_id": 57140489, "body": "In case you&#39;re interested, I have been working on this: <a href=\"https://github.com/dsherret/ts-type-info\" rel=\"nofollow noreferrer\">github.com/dsherret/ts-type-info</a>. At the time I&#39;m writing this it&#39;s unstable and subject to change drastically. It does everything you want except right now it only says if the parameter is optional\u2014doesn&#39;t specify if that optional is a default value or not, but I can easily add that soon."}, {"owner": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "reply_to_user": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1452369653, "post_id": 34697131, "comment_id": 57142677, "body": "nice! indeed looks exactly what I&#39;m after. Will try to get this working soon. Yes adding default value in the output would be really nice"}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "edited": false, "score": 0, "creation_date": 1452396814, "post_id": 34697131, "comment_id": 57149657, "body": "I added <code>defaultExpression</code> to it. See my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "edited": false, "score": 0, "creation_date": 1452529494, "post_id": 34701754, "comment_id": 57198443, "body": "excelent. thank you for the torough explanation. I was starting to discover exactly all those steps and figured it was going to take quite some effort, so I&#39;m very happy to find your library. Im surprised it&#39;s not more known, as far as I can tell it is the best typescript reflection api out there."}, {"owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "reply_to_user": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "edited": false, "score": 0, "creation_date": 1452536375, "post_id": 34701754, "comment_id": 57202778, "body": "@Flion thanks, well i haven&#39;t told anyone about it until this thread because I wanted it to be more stable first. It still needs a few more weeks of work :)"}], "tags": [], "owner": {"reputation": 80876, "user_id": 188246, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/bTzLq.jpg?s=128&g=1", "display_name": "David Sherret", "link": "https://stackoverflow.com/users/188246/david-sherret"}, "is_accepted": true, "score": 5, "last_activity_date": 1537377579, "last_edit_date": 1537377579, "creation_date": 1452396642, "answer_id": 34701754, "question_id": 34697131, "link": "https://stackoverflow.com/questions/34697131/typescript-reflection-required-parameters-default-values/34701754#34701754", "title": "Typescript reflection - required parameters &amp; default values", "body": "<p><strong>If you want to do this from scratch...</strong></p>\n\n<p>On a high level, one way of doing it is to:</p>\n\n<ol>\n<li>Figure out how to get the <code>SourceFile</code> node using the compiler api of your file. That requires a bit of an explanation in itself.</li>\n<li>From there, use the api's <code>forEachChild</code> function to loop over all the nodes in the file and find the node with a <code>kind</code> of <code>SyntaxKind.ClassDeclaration</code> and .name property with text <code>Bar</code>.</li>\n<li>Then loop over all the children of the class by again using the api's <code>forEachChild</code> function and get the ones that has the kind <code>SyntaxKind.MethodDeclaration</code> and .name property with text <code>foo</code>.</li>\n<li>To get the parameters, you will need to loop over the method node's <code>parameters</code> property.</li>\n<li>Then for each parameter node, to get the name you can call <code>.getText()</code> on the <code>.name</code> property.</li>\n<li><p>You can tell if the parameter is optional by doing:</p>\n\n<pre><code>const parameterDeclaration = parameterNode as ts.ParameterDeclaration;\nconst isOptional = parameterDeclaration.questionToken != null || parameterDeclaration.initializer != null || parameterDeclaration.dotDotDotToken != null;\n</code></pre>\n\n<p>Or you could use the <code>TypeChecker</code>'s <code>isOptionalParameter</code> method.</p></li>\n<li><p>To get its default expression, you will just have to check the <code>initializer</code> property:</p>\n\n<pre><code>propertyDeclaration.initializer;\n</code></pre></li>\n<li><p>To get the type use the <code>TypeChecker</code>'s <code>getTypeOfSymbolAtLocation</code> method and pass in the symbol of the node... that gets a little bit complicated so I won't bother explaining it (think about how it's different with union types and such).</p></li>\n</ol>\n\n<p><strong>Don't do it from scratch...</strong></p>\n\n<p>I've created a wrapper around the TypeScript compiler api. Just use this code with <a href=\"https://github.com/dsherret/ts-simple-ast\" rel=\"nofollow noreferrer\">ts-simple-ast</a> (edit: Previously this talked about my old <a href=\"https://github.com/dsherret/ts-type-info\" rel=\"nofollow noreferrer\">ts-type-info</a> library, but ts-simple-ast is much better):</p>\n\n<pre><code>import Project from \"ts-simple-ast\";\n\n// read more about setup here:\n// https://dsherret.github.io/ts-simple-ast/setup/adding-source-files\nconst project = new Project({ tsConfigFilePath: \"tsconfig.json\" });\nconst sourceFile = project.getSourceFileOrThrow(\"src/Foo.ts\");\nconst method = sourceFile.getClassOrThrow(\"Bar\").getInstanceMethodOrThrow(\"foo\");\n</code></pre>\n\n<p>Once you have the method, it's very straightforward to get all the information you need from its parameters:</p>\n\n<pre><code>console.log(method.getName()); // foo\n\nfor (const param of method.getParameters()) {\n    console.log(param.getName());\n    console.log(param.getType().getText());\n    console.log(param.isOptional());\n    console.log(param.getInitializer() != null);\n}\n</code></pre>\n"}], "owner": {"reputation": 8983, "user_id": 977206, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f5f1435d8f7dc5e3149befbc8bb5a8aa?s=128&d=identicon&r=PG", "display_name": "Flion", "link": "https://stackoverflow.com/users/977206/flion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2729, "favorite_count": 1, "accepted_answer_id": 34701754, "answer_count": 1, "score": 6, "last_activity_date": 1537377579, "creation_date": 1452363103, "last_edit_date": 1495539847, "question_id": 34697131, "link": "https://stackoverflow.com/questions/34697131/typescript-reflection-required-parameters-default-values", "title": "Typescript reflection - required parameters &amp; default values", "body": "<p>In short: <strong>is there a way to know if a typescript parameter is required and/or has a default value?</strong></p>\n\n<p>Longer version:\nSay I have the following file:</p>\n\n<pre><code>//Foo.ts\nclass Bar {\n    foo(required:string,defaultValue:number=0,optional?:boolean) {\n        ...\n    }\n}\n</code></pre>\n\n<p>I would like to know of each of the parameters:</p>\n\n<ul>\n<li>the name </li>\n<li>the type </li>\n<li>is it required?</li>\n<li>does it have a default value?</li>\n</ul>\n\n<p>I have succesfully used <a href=\"http://blog.wolksoftware.com/decorators-metadata-reflection-in-typescript-from-novice-to-expert-part-4\" rel=\"nofollow noreferrer\">method decorators</a> with the <a href=\"https://github.com/rbuckton/ReflectDecorators\" rel=\"nofollow noreferrer\">TypeScript reflection API</a> to get the types of the parameters, I've used <a href=\"https://stackoverflow.com/questions/1007981/how-to-get-function-parameter-names-values-dynamically-from-javascript\">this method</a> to get their names, but so far I have not found a way to know if a variable is <strong>required</strong> and/or has a <strong>default value</strong>.</p>\n\n<p>I know the typescript compiler itself can be used from within typescript. So I'm wondering if there is a way to use the parse tree of the compiler to see if a parameter is required and/or has a default value?</p>\n\n<p>How would that work?</p>\n"}, {"tags": ["angularjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452357348, "post_id": 34695869, "comment_id": 57138066, "body": "Thanks....this works in the constructor, but how do I gain access to $scope in the method addUpdateTeam above?"}, {"owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452357841, "post_id": 34695869, "comment_id": 57138246, "body": "Regarding your reply, I tried that but I want to get access to the outer scope from inside this.httpService.post code block, in which case I cannot use this, if I am right?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452358346, "post_id": 34695869, "comment_id": 57138415, "body": "that&#39;s because <b>this</b> changes when that function is called. try sending an arrow function to the <b>then</b> instead of a normal function."}, {"owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452358427, "post_id": 34695869, "comment_id": 57138454, "body": "Could you please give an example of the syntax your are referring to?"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452358861, "post_id": 34695869, "comment_id": 57138617, "body": "Added it to the answer."}, {"owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "edited": false, "score": 0, "creation_date": 1452365394, "post_id": 34695869, "comment_id": 57141134, "body": "Thanks for the advice!"}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 4, "last_activity_date": 1452358855, "last_edit_date": 1452358855, "creation_date": 1452356399, "answer_id": 34695869, "question_id": 34695660, "link": "https://stackoverflow.com/questions/34695660/injecting-scope-into-typescript-controller/34695869#34695869", "title": "Injecting $scope into typescript controller", "body": "<p>You can create an interface that extends ng.IScope with the properties you need.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface TeamsScope extends ng.IScope {\n  teams: string[]\n}\n</code></pre>\n\n\n\n<p>And use that instead of ng.IScope in the constructor.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(private dataAccessService: app.common.DataAccessService, $http: ng.IHttpService, $scope: TeamsScope) {\n</code></pre>\n\n\n\n<p>All properties defined in a class can only be accessed trough <strong>this</strong>. </p>\n\n<p>For example you can access <strong>$scope</strong> in one of the class methods like this:</p>\n\n<pre><code>this.$scope\n</code></pre>\n\n<p>In order to keep the same lexical scope inside the handler given to the $http service you can use an <strong>arrow function</strong>.</p>\n\n<pre><code>this.httpService.post('http://localhost:33201/api/Teams/Add', this.teamToBeUpdated)\n                        .then((response) =&gt; { this.teams = resonse.data});\n</code></pre>\n\n<p>You can find more about <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"noreferrer\">arrow functions</a> here.</p>\n"}], "owner": {"reputation": 12595, "user_id": 517406, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7c909834bc613d5a83e4b283e65d88fe?s=128&d=identicon&r=PG", "display_name": "user517406", "link": "https://stackoverflow.com/users/517406/user517406"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8848, "favorite_count": 0, "accepted_answer_id": 34695869, "answer_count": 1, "score": 1, "last_activity_date": 1452358855, "creation_date": 1452355266, "question_id": 34695660, "link": "https://stackoverflow.com/questions/34695660/injecting-scope-into-typescript-controller", "title": "Injecting $scope into typescript controller", "body": "<p>I am writing my first typescript controller and am having a little bit of an issue understanding how to use $scope so that I can refer to elements within different code blocks.  Here is the relevant code :</p>\n\n<pre><code>    module app.controllers {\n\n        class TeamsController implements app.domain.Team {\n\n            //properties\n            teamId: number;\n            teamName: string;\n            coach: app.domain.Coach;\n            division: app.domain.Division;\n            cheerleaderImage: string;\n            coachImage: string;\n            headerImage: string;\n            logoImage: string;\n\n            divisions: app.domain.Division[];\n            coaches: app.domain.Coach[];\n            teams: app.domain.Team[];\n\n            selectedTeam: app.domain.Team;\n            teamToBeUpdated: app.domain.Team;\n\n            httpService: ng.IHttpService;\n\n            static $inject = ['dataAccessService', '$http', '$scope'];\n\n            //constructor\n            constructor(private dataAccessService: app.common.DataAccessService, $http: ng.IHttpService, $scope: ng.IScope) {\n\n                this.teams = [];\n                this.divisions = [];\n                this.coaches = [];\n\n                this.httpService = $http;\n\n                var teamResource = dataAccessService.getTeamResource();\n                var divisionResource = dataAccessService.getDivisionResource();\n                var coachResource = dataAccessService.getCoachResource();\n\n                teamResource.query((data: app.domain.Team[]) =&gt; {\n                    this.teams = data;\n                });\n\n                divisionResource.query((data: app.domain.Division[]) =&gt; {\n                    this.divisions = data;\n                });\n\n                coachResource.query((data: app.domain.Coach[]) =&gt; {\n                    this.coaches = data;\n                });\n\n                this.selectedTeam =\n                    new app.domain.Team(0, \"\", new app.domain.Coach(0, \"\"), new app.domain.Division(0, \"\"), \"\", \"\", \"\", \"\");\n                this.teamToBeUpdated =\n                    new app.domain.Team(0, \"\", new app.domain.Coach(0, \"\"), new app.domain.Division(0, \"\"), \"\", \"\", \"\", \"\");\n            }\n\n    addUpdateTeam(): void {\n\n                if (this.teamToBeUpdated.teamId === 0) {\n\n                    //vm.isBusy = true;\n                    //vm.errorMessage = \"\";\n\n                    //post, pass teamToBeUpdated object\n                    this.httpService.post('http://localhost:33201/api/Teams/Add', this.teamToBeUpdated)\n                        .then(function (response) {\n                            //success\n                            this.teams.push(response.data);\n                            this.teams.sort(function (a, b) {\n                                if (a.teamName.toLowerCase() &lt; b.teamName.toLowerCase()) return -1;\n                                if (a.teamName.toLowerCase() &gt; b.teamName.toLowerCase()) return 1;\n                                return 0;\n                            });\n                            this.teamToBeUpdated =\n                                new app.domain.Team(0, \"\", new app.domain.Coach(0, \"\"), new app.domain.Division(0, \"\"), \"\", \"\", \"\", \"\"); //clear form\n                        }, function (error) {\n                            //failure\n                            //vm.errorMessage = \"Failed to save new team: \" + error;\n                        })\n                        .finally(function () {\n                            //vm.isBusy = false;\n                        });\n                }\n            }\n}\n\n    //registration with module must be declared after class\n    angular.module(\"app\")\n        .controller(\"teamsController\", ['dataAccessService', '$http', '$scope', TeamsController]);\n}\n</code></pre>\n\n<p>Where I am using <code>this</code> above, I would like to replace it with <code>$scope</code>, but when I try to do that I get the error '{propertyname} does not exist on type IScope'.  </p>\n\n<p>Can anybody advise on how to do this correctly?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452346827, "post_id": 34694075, "comment_id": 57134240, "body": "Looks like <a href=\"https://github.com/angular/angular/issues/5395\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/5395</a>"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 2, "creation_date": 1452347636, "post_id": 34694075, "comment_id": 57134514, "body": "are you sure you are compiling to ES5? this error usually shows when you try to compile angular2 to es6, because then TSC will provide it&#39;s own es6 library. Check the target in tsconfig.json."}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452349835, "post_id": 34694075, "comment_id": 57135283, "body": "@toskv I&#39;m trying to compile project to ES6, because I want to use <code>Symbol.iterator</code> that can be used only through Babel compilation."}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452349951, "post_id": 34694075, "comment_id": 57135319, "body": "@G&#252;nterZ&#246;chbauer, so, it is a bug? I thought it can be solved by some settings magic, but if it is a bug, it seems I cannot do it. Thanks for help."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1452350045, "post_id": 34694075, "comment_id": 57135350, "body": "@Lodin, I don&#39;t know. I only use Dart and don&#39;t understand any of the discussion in the issue. I just remembered seeing the issue and thought this looks related."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 3, "creation_date": 1452350986, "post_id": 34694075, "comment_id": 57135704, "body": "isn&#39;t this issue being caused by the fact that there are 2 es6-shim.d.ts files being referenced during compilation? Sounds like it&#39;s the same as this issue <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/5015\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/5015</a>"}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 7686, "user_id": 2626313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/613888ad5bbd9ddba4bd81bbbfeb7a05?s=128&d=identicon&r=PG", "display_name": "xmojmr", "link": "https://stackoverflow.com/users/2626313/xmojmr"}, "edited": false, "score": 0, "creation_date": 1452425308, "post_id": 34694075, "comment_id": 57155436, "body": "@xmojmr, yes, thanks."}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452425462, "post_id": 34694075, "comment_id": 57155478, "body": "@toskv, <a href=\"https://github.com/angular/angular/issues/5973\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/5973</a> and <a href=\"https://github.com/angular/angular/issues/4882\" rel=\"nofollow noreferrer\">github.com/angular/angular/issues/4882</a> is closer, I think. It does not resolve my problem, but gives me a way to explore, thanks."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452428805, "post_id": 34694075, "comment_id": 57156502, "body": "From my point of view this isn&#39;t even something to do with angular, it&#39;s bad dependency management by the compiler. :("}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452428845, "post_id": 34694075, "comment_id": 57156518, "body": "also if you follow the links in that issue you&#39;ll end up to an issue that&#39;s still open for angular, so it&#39;s definitely not solved. :("}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452429213, "post_id": 34694075, "comment_id": 57156662, "body": "@toskv, yes, I agree. <code>&lt;reference&gt;</code> is a completely terrible idea, it does not consider namespaces and produces such problems. ES6-like import is much more acceptable, in my opinion, but somehow it cannot be applied to <code>d.ts</code> files."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "edited": false, "score": 0, "creation_date": 1452429244, "post_id": 34694075, "comment_id": 57156677, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/100287/discussion-between-toskv-and-lodin\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "reply_to_user": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452429290, "post_id": 34694075, "comment_id": 57156692, "body": "@toskv, yes, unfortunately, not solved yet. But Angular is still in beta, it may be solved lately, I hope."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1452429364, "post_id": 34694075, "comment_id": 57156714, "body": "you get the same issue with the es6 imports. the root problem is relative file references, while compiling projects with a global scope that does not allow duplicate definitions. That, combined with allowing definitions to be located in the node-modules folder results in a total mess. :("}], "answers": [{"comments": [{"owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "edited": false, "score": 3, "creation_date": 1452425691, "post_id": 34699388, "comment_id": 57155530, "body": "Yes, I have tried it. Moreover, it is a root of problem, because <code>es6-shim</code> conflicts with <code>lib.es6.d.ts</code>, which is using when <code>--target es6</code> is set. About Babel - I use it because typescript itself cannot compile es6 generators and iterators like babel does."}, {"owner": {"reputation": 43871, "user_id": 1492009, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/FtlBx.jpg?s=128&g=1", "display_name": "Mark Pieszak - Trilon.io", "link": "https://stackoverflow.com/users/1492009/mark-pieszak-trilon-io"}, "edited": false, "score": 0, "creation_date": 1465223237, "post_id": 34699388, "comment_id": 62798593, "body": "Is there anyway to fix this &amp; still target es5? I need code to output to 5 not 6. This does make the errors go away though. So having es6 shim in your app will make it all work fine then?"}], "tags": [], "owner": {"reputation": 5253, "user_id": 3945392, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1374a9ce2b9be9163fa50420a83eb2b7?s=128&d=identicon&r=PG", "display_name": "Langley", "link": "https://stackoverflow.com/users/3945392/langley"}, "is_accepted": false, "score": 1, "last_activity_date": 1573829194, "last_edit_date": 1573829194, "creation_date": 1452376646, "answer_id": 34699388, "question_id": 34694075, "link": "https://stackoverflow.com/questions/34694075/es6-shim-from-angular2-conflicts-with-typescript-lib-es6-d-ts/34699388#34699388", "title": "ES6-shim from Angular2 conflicts with Typescript lib.es6.d.ts", "body": "<p>Have you tried this in your tsconfig.json?: <br></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"ES6\"\n  }\n}\n</code></pre>\n\n<p>btw why are you using babel if you are already using typescript? they're both compilers you only need one. If you have your code written in typescript, typescript compiler will compile it into js, you can't recompile it because it's already compiled. Just choose the target compiler option whether you'll use es5 or es6 syntax if you compile it using es6 syntax make sure you add an es6 shim to your app for when it runs on browsers that don't yet recognize es6.</p>\n"}], "owner": {"reputation": 1688, "user_id": 4229810, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c09f7aa43a0c778154ee7bb5f169802b?s=128&d=identicon&r=PG", "display_name": "Lodin", "link": "https://stackoverflow.com/users/4229810/lodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3960, "favorite_count": 1, "closed_date": 1452425476, "answer_count": 1, "score": 4, "last_activity_date": 1573829194, "creation_date": 1452346397, "last_edit_date": 1513157767, "question_id": 34694075, "link": "https://stackoverflow.com/questions/34694075/es6-shim-from-angular2-conflicts-with-typescript-lib-es6-d-ts", "closed_reason": "Duplicate", "title": "ES6-shim from Angular2 conflicts with Typescript lib.es6.d.ts", "body": "<p>I want to compile my Angular2 application written in Typescript into ES6 code planning compile it to ES5 lately using Babel. But I'm getting the error: </p>\n\n<pre><code>node_modules/angular2/typings/es6-shim/es6-shim.d.ts(6,14): error TS2300: Duplicate identifier 'PropertyKey'.\n&lt;...&gt;\nnode_modules/typescript/lib/lib.es6.d.ts(3841,14): error TS2300: Duplicate identifier 'PropertyKey'.\n&lt;...&gt;\n</code></pre>\n\n<p>I have tried to solve this problem adding directive <code>noLib</code> to my <code>tsconfig.json</code>, but one of angular files (<code>zone.d.ts</code>) need to import <code>es6-shim.d.ts</code> with</p>\n\n<pre><code>/// &lt;reference path=\"es6-shim/es6-shim.d.ts\" /&gt;\n</code></pre>\n\n<p>and it conflicts with main typescript ES6 library (<code>lib.es6.d.ts</code>). </p>\n\n<p>How can I solve this problem? </p>\n"}, {"tags": ["typescript", "gulp"], "comments": [{"owner": {"reputation": 572, "user_id": 2015873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a217cbec288cb3249041bb8acea0c?s=128&d=identicon&r=PG", "display_name": "Jason Kennaly", "link": "https://stackoverflow.com/users/2015873/jason-kennaly"}, "edited": false, "score": 0, "creation_date": 1452345890, "post_id": 34693578, "comment_id": 57133937, "body": "There are two things here that look like potential problems to me: you have two separate gulp.dest in the commonStream (not sure if that is illegal but I&#39;ve never seen it before), and two streams writing to the same directory (dist/server). Maybe try a clientStream and a serverStream, and have them each write once to their own directory?"}, {"owner": {"reputation": 23, "user_id": 5766669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30041b04413c2c1c934a586aac9f4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Delta Echo", "link": "https://stackoverflow.com/users/5766669/delta-echo"}, "reply_to_user": {"reputation": 572, "user_id": 2015873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a217cbec288cb3249041bb8acea0c?s=128&d=identicon&r=PG", "display_name": "Jason Kennaly", "link": "https://stackoverflow.com/users/2015873/jason-kennaly"}, "edited": false, "score": 0, "creation_date": 1452347145, "post_id": 34693578, "comment_id": 57134351, "body": "The individual tasks work when called independently. It&#39;s not that."}, {"owner": {"reputation": 572, "user_id": 2015873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a217cbec288cb3249041bb8acea0c?s=128&d=identicon&r=PG", "display_name": "Jason Kennaly", "link": "https://stackoverflow.com/users/2015873/jason-kennaly"}, "edited": false, "score": 0, "creation_date": 1452347405, "post_id": 34693578, "comment_id": 57134428, "body": "It&#39;s not what? That they are creating a problem when the two streams write to the same directory? How can you tell?"}, {"owner": {"reputation": 23, "user_id": 5766669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30041b04413c2c1c934a586aac9f4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Delta Echo", "link": "https://stackoverflow.com/users/5766669/delta-echo"}, "reply_to_user": {"reputation": 572, "user_id": 2015873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a217cbec288cb3249041bb8acea0c?s=128&d=identicon&r=PG", "display_name": "Jason Kennaly", "link": "https://stackoverflow.com/users/2015873/jason-kennaly"}, "edited": false, "score": 0, "creation_date": 1452347658, "post_id": 34693578, "comment_id": 57134522, "body": "Gulp allows you to pipe to two different destinations. If I run the task buildCommon independently, the file is written to both destinations. Also, if I run the build task calling buildCommon last, it correctly writes the file to both dest folders.   <a href=\"http://stackoverflow.com/questions/21951497/how-to-save-a-stream-into-multiple-destinations-with-gulp-js\" title=\"how to save a stream into multiple destinations with gulp js\">stackoverflow.com/questions/21951497/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5766669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30041b04413c2c1c934a586aac9f4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Delta Echo", "link": "https://stackoverflow.com/users/5766669/delta-echo"}, "edited": false, "score": 0, "creation_date": 1452364614, "post_id": 34696491, "comment_id": 57140828, "body": "Thanks, Seshu. I didn&#39;t realize there would be a contention on the ts compiler."}], "tags": [], "owner": {"reputation": 534, "user_id": 2423498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gnEmG.jpg?s=128&g=1", "display_name": "Seshu Kumar Alluvada", "link": "https://stackoverflow.com/users/2423498/seshu-kumar-alluvada"}, "is_accepted": true, "score": 1, "last_activity_date": 1452359718, "creation_date": 1452359718, "answer_id": 34696491, "question_id": 34693578, "link": "https://stackoverflow.com/questions/34693578/gulp-task-not-completing/34696491#34696491", "title": "Gulp task not completing", "body": "<p>As per the link <a href=\"https://github.com/gulpjs/gulp/issues/426\" rel=\"nofollow\">https://github.com/gulpjs/gulp/issues/426</a>, <strong>gulp.start</strong> is not really recommended for use in build files and it can lead to complicated build files. </p>\n\n<p>I would suggest <a href=\"https://www.npmjs.com/package/run-sequence\" rel=\"nofollow\">run-sequence</a> to sequence your tasks one after and I tested to see that it works fine. The problem you are facing is actually with the typescript compiler not able to run two instances in parallel, and having contentions on intermediate output files that it creates.</p>\n\n<pre><code>var gulp = require('gulp');\nvar del = require('del');\nvar ts = require('gulp-typescript');\nvar concat = require('gulp-concat');\nvar runsequence = require('run-sequence');\n\nvar tsProject = ts.createProject('tsconfig.json');\n\ngulp.task('clean', function () {\n    return del(['dist']);\n});\n\ngulp.task('buildCommon', function () {\n    return gulp.src('src/common/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('common.min.js'))\n        .pipe(gulp.dest('dist/server'))\n        .pipe(gulp.dest('dist/client'));\n});\n\ngulp.task('buildServer', function () {\n    return gulp.src('src/server/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('server.min.js'))\n        .pipe(gulp.dest('dist/server'));\n});\n\ngulp.task('build', ['clean'], function (done) {\n     runsequence('buildCommon', 'buildServer', done);    \n});\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5766669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30041b04413c2c1c934a586aac9f4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Delta Echo", "link": "https://stackoverflow.com/users/5766669/delta-echo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2944, "favorite_count": 0, "accepted_answer_id": 34696491, "answer_count": 1, "score": 1, "last_activity_date": 1452359718, "creation_date": 1452343275, "last_edit_date": 1452345239, "question_id": 34693578, "link": "https://stackoverflow.com/questions/34693578/gulp-task-not-completing", "title": "Gulp task not completing", "body": "<p>When running the gulp default task, one of the build tasks does not complete. And it seems to depend on the order in which they are called. Here's the script. </p>\n\n<pre><code>var gulp = require('gulp');\nvar del = require('del');\nvar ts = require('gulp-typescript');\nvar concat = require('gulp-concat');\n\nvar tsProject = ts.createProject('tsconfig.json');\n\ngulp.task('clean', function () {\n    return del(['dist']);\n});\n\ngulp.task('buildCommon', function () {\n    return gulp.src('src/common/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('common.min.js'))\n        .pipe(gulp.dest('dist/server'))\n        .pipe(gulp.dest('dist/client'));\n});\n\ngulp.task('buildServer', function () {\n    return gulp.src('src/server/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('server.min.js'))\n        .pipe(gulp.dest('dist/server'));\n});\n\ngulp.task('build', ['clean'], function () {\n    gulp.start('buildCommon');\n    gulp.start('buildServer');\n});\n</code></pre>\n\n<p>Running results in the following. </p>\n\n<pre><code>c:\\development\\git\\fsts&gt;gulp build\n[06:31:19] Using gulpfile c:\\development\\git\\fsts\\gulpfile.js\n[06:31:19] Starting 'clean'...\n[06:31:19] Finished 'clean' after 10 ms\n[06:31:19] Starting 'build'...\n[06:31:19] Starting 'buildCommon'...\n[06:31:19] Starting 'buildServer'...\n[06:31:19] Finished 'build' after 15 ms\n[06:31:20] Finished 'buildServer' after 1.18 s\n</code></pre>\n\n<p>You should notice that buildCommon does not complete. </p>\n\n<p>If I run, buildCommon or buildServer tasks individually, they work. </p>\n\n<pre><code>c:\\development\\git\\fsts&gt;gulp buildServer\n[06:34:00] Using gulpfile c:\\development\\git\\fsts\\gulpfile.js\n[06:34:00] Starting 'buildServer'...\n[06:34:01] Finished 'buildServer' after 783 ms\n\nc:\\development\\git\\fsts&gt;gulp buildCommon\n[06:34:31] Using gulpfile c:\\development\\git\\fsts\\gulpfile.js\n[06:34:31] Starting 'buildCommon'...\n[06:34:31] Finished 'buildCommon' after 761 ms\n</code></pre>\n\n<p>Here's the other weird part. If I change the order of the start calls, then the buildServer doesn't complete. </p>\n\n<pre><code>gulp.task('build', ['clean'], function () {\n    gulp.start('buildServer');\n    gulp.start('buildCommon');\n});\n\nc:\\development\\git\\fsts&gt;gulp build\n[06:39:20] Using gulpfile c:\\development\\git\\fsts\\gulpfile.js\n[06:39:20] Starting 'clean'...\n[06:39:20] Finished 'clean' after 9.86 ms\n[06:39:20] Starting 'build'...\n[06:39:20] Starting 'buildServer'...\n[06:39:20] Starting 'buildCommon'...\n[06:39:20] Finished 'build' after 16 ms\n[06:39:21] Finished 'buildCommon' after 1.18 s\n</code></pre>\n\n<p>Any ideas why the two separate tasks with their own streams won't let one of them finish? </p>\n\n<p>Update: tried to use merge-stream and a single task and it still has the same behavior. </p>\n\n<p>Update! My next move was to try and merge the streams and just use one task but I am getting a similar result.</p>\n\n<pre><code>var gulp = require('gulp');\nvar del = require('del');\nvar ts = require('gulp-typescript');\nvar concat = require('gulp-concat');\nvar merge = require('merge-stream');\n\nvar tsProject = ts.createProject('tsconfig.json');\n\ngulp.task('clean', function () {\n    return del(['dist']);\n});\n\ngulp.task('build', ['clean'], function () {\n\n    var serverStream = gulp.src('src/server/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('server.js'))\n        .pipe(gulp.dest('dist/server'));\n\n    var commonStream = gulp.src('src/common/**/*.ts')\n        .pipe(ts(tsProject))\n        .pipe(concat('common.js'))\n        .pipe(gulp.dest('dist/server'))\n        .pipe(gulp.dest('dist/client'));\n\n    var merged = merge(commonStream, serverStream);\n    return merged;\n});\n\ngulp.task('default', ['build']);\n</code></pre>\n\n<p>With the result looking like the build task doesn't complete. </p>\n\n<pre><code>c:\\development\\git\\fsts&gt;gulp\n[06:58:00] Using gulpfile c:\\development\\git\\fsts\\gulpfile.js\n[06:58:00] Starting 'clean'...\n[06:58:00] Finished 'clean' after 9.9 ms\n[06:58:00] Starting 'build'...\n</code></pre>\n"}, {"tags": ["typescript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 2, "creation_date": 1452346418, "post_id": 34693946, "comment_id": 57134120, "body": "You can also use <code>add()</code> method to add another subscription to the subscriber that <code>subscribe()</code> method returns. <a href=\"http://stackoverflow.com/a/34692422/1876949\">Example</a>, but I believe we should get used to services that return obeservables (:"}, {"owner": {"reputation": 1103, "user_id": 643366, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d7b60baa3cfc40689a4e7a8164e16df0?s=128&d=identicon&r=PG", "display_name": "Heru S", "link": "https://stackoverflow.com/users/643366/heru-s"}, "edited": false, "score": 0, "creation_date": 1452357673, "post_id": 34693946, "comment_id": 57138195, "body": "Thanks alot for the clarification! @Sasxa, I was wondering for the <code>(error)</code> somehow I am getting like a <code>e {_body: &quot;{&quot;error&quot;:&quot;User was not found.&quot;}&quot;, status: 404, statusText: &quot;Ok&quot;, headers: e, type: 2\u2026}</code>. How can I get the error message &quot;User was not found&quot; from there? Thanks!"}, {"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "reply_to_user": {"reputation": 1103, "user_id": 643366, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d7b60baa3cfc40689a4e7a8164e16df0?s=128&d=identicon&r=PG", "display_name": "Heru S", "link": "https://stackoverflow.com/users/643366/heru-s"}, "edited": false, "score": 1, "creation_date": 1452364605, "post_id": 34693946, "comment_id": 57140826, "body": "Both success and error handlers have <a href=\"https://angular.io/docs/ts/latest/api/http/Response-class.html\" rel=\"nofollow noreferrer\">Response</a> as arugment, you can call it&#39;s <code>json()</code> method to get the message"}, {"owner": {"reputation": 1103, "user_id": 643366, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d7b60baa3cfc40689a4e7a8164e16df0?s=128&d=identicon&r=PG", "display_name": "Heru S", "link": "https://stackoverflow.com/users/643366/heru-s"}, "edited": false, "score": 0, "creation_date": 1452389000, "post_id": 34693946, "comment_id": 57148057, "body": "thanks for the reply. That&#39;s what I thought, too. In the utils.service.ts above, I have added <code>.map((res: Response) =&gt; res.json())</code> at the end of the return lines. I managed to get the success return (<code>data</code>) as a JSON object. But, somehow, the <code>error</code> still returns a Response. Is there anything I should do? Thanks alot again!"}, {"owner": {"reputation": 1268, "user_id": 1484220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa72e342ee6b690d5ee9c0c4c8ffb805?s=128&d=identicon&r=PG", "display_name": "nickspoon", "link": "https://stackoverflow.com/users/1484220/nickspoon"}, "edited": false, "score": 1, "creation_date": 1454025298, "post_id": 34693946, "comment_id": 57871829, "body": "You can set the access token directly in the UserService login method (as the OP is trying to do) using a <code>.do</code>, instead of having to make a second call to the service from the LoginComponent: <code>return this._utils.api(request).map(res =&gt; res.json()).do(data =&gt; this.setAccessToken(data.token));</code>. Then the LoginComponent subscribes as usual."}], "tags": [], "owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "is_accepted": true, "score": 9, "last_activity_date": 1452345576, "creation_date": 1452345576, "answer_id": 34693946, "question_id": 34693364, "link": "https://stackoverflow.com/questions/34693364/how-can-we-add-another-subscribe-action-in-the-http-observable-in-angularjs2/34693946#34693946", "title": "How can we add another subscribe action in the http observable in angularjs2?", "body": "<p>If you make your UserService.login() return observable (not subscriber, as it does now) you can subscribe to it in LoginComponent</p>\n\n<pre><code>export class UserService {\n  login(username: string, password: string) {\n\n    return this._utils.api(request)\n      .map(response =&gt; response.json())\n    );\n  }\n}\n\nexport class LoginComponent implements OnInit {\n  submitLogin() {\n    var p = this._userService\n      .login(this.username, this.password)\n      .subscribe(\n\n        // success\n        (data) =&gt; { \n          this._userService.setAccessToken(data.access_token); \n          // redirect here...\n        }, \n\n        // error\n        (error) =&gt; {}, \n\n        // completed\n        () =&gt; {}  \n      )\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1103, "user_id": 643366, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d7b60baa3cfc40689a4e7a8164e16df0?s=128&d=identicon&r=PG", "display_name": "Heru S", "link": "https://stackoverflow.com/users/643366/heru-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6440, "favorite_count": 1, "accepted_answer_id": 34693946, "answer_count": 1, "score": 0, "last_activity_date": 1452345576, "creation_date": 1452341902, "question_id": 34693364, "link": "https://stackoverflow.com/questions/34693364/how-can-we-add-another-subscribe-action-in-the-http-observable-in-angularjs2", "title": "How can we add another subscribe action in the http observable in angularjs2?", "body": "<p>I am new to Angular2. I have a LoginComponent which takes in an action called submitLogin from a submit button. When clicked, it will send the username and password (via the UserService) to the API server (with the help of UtilService). If the server responds OK, it will return with a token, and we would save it locally and redirect it.</p>\n\n<p>So far, I have managed to send the username and password and save the token. But, I am confused on how we can add another action in the LoginComponent so that we can redirect the user. (I have added a comment in the login.component.ts below to clarify what I would like to do).</p>\n\n<p>Feel free to let me know if I am not making myself clear.</p>\n\n<p>Here are the codes that I have:</p>\n\n<p>login.component.ts has the following:</p>\n\n<pre><code>import {Component, OnInit} from 'angular2/core';\nimport {NgForm}    from 'angular2/common';\nimport {UserService} from '../services/user.service';\n\n@Component({\n  selector: 'login',\n  templateUrl: './components/login/login.component.html',\n  styleUrls: ['./components/login/login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  public username: string;\n  public password: string;\n  public loginResult: string;\n\n  constructor(private _userService: UserService) {}\n  ngOnInit() { }\n  submitLogin() {\n    var p = this._userService.login(this.username, this.password);\n    // HOW TO: \n    // I know p is an observable. But, is it possible to add a condition as follow:\n    // if p is success, then redirect\n    // if p failed, then return\n  }\n}\n</code></pre>\n\n<p>user.service.ts:</p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport {UtilsService} from './utils.service';\n\n@Injectable()\n\nexport class UserService {\n  constructor(private _utils: UtilsService) { }\n\n  login(username: string, password: string) {\n    var request = {\n      method: 'POST',\n      headers: { 'Authorization': 'Basic ' + btoa(username + ':' + password) },\n      url: '/auth/',\n      data: null\n    };\n\n    return this._utils.api(request).subscribe(\n      data =&gt; this.setAccessToken(data.json().access_token),\n      err =&gt; console.log(err)\n    );\n    var promise = this._utils.api(request);\n    promise.then((response) =&gt; {\n      this.setAccessToken(response.token);\n    });\n  }\n\n}\n</code></pre>\n\n<p>utils.service.ts:</p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport {Http, Headers} from 'angular2/http';\n\n@Injectable()\n\nexport class UtilsService {\n  private apiUrl: string;\n  constructor(public http: Http) {\n    this.apiUrl = '/api/1';\n  }\n  api(request: any) {\n    var headers = new Headers();\n    var url = this.apiUrl + request.url;\n\n    if(request.headers) {\n      for(var key in request.headers) {\n        headers.append(key, request.headers[key]);\n      }\n    }\n\n    if(!request.type || request.type === 'GET') {\n      return this.http.get(url, { headers: headers });\n    }\n\n    if(request.type === 'POST') {\n      return this.http.post(url, request.data, { headers: headers });\n    }\n\n    if(request.type === 'PUT') {\n      return this.http.put(url, request.data, { headers: headers });\n    }\n\n    if(request.type === 'DELETE') {\n      return this.http.delete(url, { headers: headers });\n    }\n    return false;\n\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28908, "user_id": 4933038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fea342bbab0580d1ee823125a5f0e030?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martinez", "link": "https://stackoverflow.com/users/4933038/eric-martinez"}, "edited": false, "score": 1, "creation_date": 1452317714, "post_id": 34689075, "comment_id": 57126543, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/34401354/angular2-beta-bootstrapping-http-providers-unexpected-token\">Angular2 beta - bootstrapping HTTP_PROVIDERS - &quot;Unexpected Token &lt;&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15157, "user_id": 252087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rntY6.png?s=128&g=1", "display_name": "C Snover", "link": "https://stackoverflow.com/users/252087/c-snover"}, "is_accepted": false, "score": 4, "last_activity_date": 1452312839, "creation_date": 1452312839, "answer_id": 34689586, "question_id": 34689075, "link": "https://stackoverflow.com/questions/34689075/di-error-on-service-constructor/34689586#34689586", "title": "DI error on service constructor", "body": "<p>Based on the information provided, whatever module loader you are using is trying to load <code>http://localhost:3000/angular2/http</code>, and probably your Web server is returning a 404 with an HTML document body, which the module loader tries to evaluate as JavaScript and fails. If you look at the network tab of your browser you can confirm this is the case.</p>\n\n<p>Since you haven\u2019t said which module loader you are trying to use it\u2019s not possible to say what you need to do to configure it correctly, but basically: your module loader is not configured correctly and isn\u2019t applying proper path/file extension mapping to your imports. It needs to be (at least) adding a <code>.js</code> to imported module paths to load from the correct URL on the server.</p>\n"}, {"tags": [], "owner": {"reputation": 181833, "user_id": 1873365, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/45TMV.png?s=128&g=1", "display_name": "Thierry Templier", "link": "https://stackoverflow.com/users/1873365/thierry-templier"}, "is_accepted": true, "score": 3, "last_activity_date": 1452326015, "last_edit_date": 1452326015, "creation_date": 1452325632, "answer_id": 34691040, "question_id": 34689075, "link": "https://stackoverflow.com/questions/34689075/di-error-on-service-constructor/34691040#34691040", "title": "DI error on service constructor", "body": "<p>Do you include the <code>http.dev.js</code> file from the Angular2 distribution into the main HTML page of your application?</p>\n\n<p>Moreover you need to add <code>HTTP_PROVIDERS</code> with the second parameter of the bootstrap function:</p>\n\n<pre><code>bootstrap(AppComponent, [ HTTP_PROVIDERS ]);\n</code></pre>\n\n<p>Hope it helps you,\nThierry</p>\n"}], "owner": {"reputation": 5358, "user_id": 2429966, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ht36y.jpg?s=128&g=1", "display_name": "Marcos J.C Kichel", "link": "https://stackoverflow.com/users/2429966/marcos-j-c-kichel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3052, "favorite_count": 0, "accepted_answer_id": 34691040, "answer_count": 2, "score": 4, "last_activity_date": 1513157841, "creation_date": 1452306385, "last_edit_date": 1513157841, "question_id": 34689075, "link": "https://stackoverflow.com/questions/34689075/di-error-on-service-constructor", "title": "DI error on service constructor", "body": "<p>I just start hacking Angular 2 and now I am trying to develop my first 'real world' app. Its meant to retrieve data from a restfull webservice, so I wrote this code:</p>\n\n<p>boot.ts:</p>\n\n<pre><code>import {bootstrap} from 'angular2/platform/browser'\nimport {AppComponent} from './component/app.component'\nimport {Http, Headers} from 'angular2/http';\n\nbootstrap(AppComponent);\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import {Component} from 'angular2/core';\nimport {AuthComponent} from './auth.component';\n\n@Component({\n    selector: 'my-app',\n    templateUrl: 'app/template/my-app.html',\n    styleUrls: ['app/style/my-app.css'],\n    directives: [AuthComponent]\n})\n\nexport class AppComponent {\n\n}\n</code></pre>\n\n<p>auth.service.ts:</p>\n\n<pre><code>import {Injectable} from 'angular2/core';\nimport {Http, Headers, HTTP_PROVIDERS} from 'angular2/http';\nimport {toPromise} from 'rxjs/operator/toPromise';\nimport {Credentials} from '../model/credentials';\n\n@Injectable()\nexport class AuthService {\n\n  headers : Headers;\n  http: Http;\n\n  constructor(headers: Headers, http: Http){\n    console.log('CHAMOU CONSTRUTOR SERVICE');\n    this.headers = headers;\n    this.http = http;\n    this.headers.append('Content-Type', 'application/json');\n  }\n}\n</code></pre>\n\n<p>index.html:</p>\n\n<pre><code>&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;title&gt;MegaS\u00edndico&lt;/title&gt;\n\n    &lt;link href=\"http://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"&gt;\n    &lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-2.1.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- 1. Load libraries --&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2-polyfills.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/systemjs/dist/system.src.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/rxjs/bundles/Rx.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"node_modules/angular2/bundles/angular2.dev.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- 2. Configure SystemJS --&gt;\n    &lt;script&gt;\n      System.config({\n       packages: {\n         app: {\n           format: 'register',\n           defaultExtension: 'js'\n          }\n        }\n      });\n      System.import('app/boot')\n            .then(null, console.error.bind(console));\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;!-- 3. Display the application --&gt;\n  &lt;body&gt;\n    &lt;my-app&gt;Loading...&lt;/my-app&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I am getting this weird syntax error on my console:</p>\n\n<pre><code>Uncaught SyntaxError: Unexpected token &lt;\nEvaluating http://localhost:3000/angular2/http\nError loading http://localhost:3000/app/boot.js\n</code></pre>\n\n<p>Its really weird because when I delete the constructor of the service layer it works and my html is rendered on the browser.</p>\n"}, {"tags": ["css", "sass", "typescript", "visual-studio-code", "transpiler"], "comments": [{"owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "edited": false, "score": 0, "creation_date": 1452327648, "post_id": 34688736, "comment_id": 57128696, "body": "Not sure you can achieve this directly from tasks.json (not sure you can&#39;t though). I would go for an external task runner such as <a href=\"http://gulpjs.com/\" rel=\"nofollow noreferrer\">gulp</a> or <a href=\"http://gruntjs.com/\" rel=\"nofollow noreferrer\">grunt</a>, build my tasks there, then run those tasks either from command line or Code (which supports both). This would also make your project more usable in other editors."}], "answers": [{"tags": [], "owner": {"reputation": 6268, "user_id": 1644422, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/01c7fb4b20926d4dcf7d1125f7adac9f?s=128&d=identicon&r=PG", "display_name": "Louay Alakkad", "link": "https://stackoverflow.com/users/1644422/louay-alakkad"}, "is_accepted": true, "score": 2, "last_activity_date": 1452336160, "last_edit_date": 1592644375, "creation_date": 1452336160, "answer_id": 34692467, "question_id": 34688736, "link": "https://stackoverflow.com/questions/34688736/using-tasks-json-in-visual-studio-code-to-transpile-both-typescript-and-sass/34692467#34692467", "title": "Using tasks.json in Visual Studio Code to transpile both typescript and sass", "body": "<p>you can't do this with the <code>tsc</code> command. use <code>npm</code> instead.</p>\n<h2>package.json</h2>\n<pre><code>{\n  &quot;scripts&quot;: {\n    &quot;build&quot;: &quot;tsc public/app/boot.ts &amp;&amp; node-sass styles.scss styles.css&quot;\n  }\n}\n</code></pre>\n<h2>tasks.json</h2>\n<pre><code>{\n    &quot;version&quot;: &quot;0.1.0&quot;,\n    &quot;command&quot;: &quot;npm&quot;,\n    &quot;isShellCommand&quot;: true,\n    &quot;showOutput&quot;: &quot;silent&quot;,\n    &quot;args&quot;: [&quot;-s&quot;, &quot;run&quot;],\n    &quot;tasks&quot;: [{\n      &quot;taskName&quot;: &quot;build&quot;,\n      &quot;problemMatcher&quot;: &quot;$tsc&quot;,\n      &quot;isBuildCommand&quot;: true\n    }]\n}\n</code></pre>\n"}], "owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1388, "favorite_count": 1, "accepted_answer_id": 34692467, "answer_count": 1, "score": 2, "last_activity_date": 1452336160, "creation_date": 1452303194, "question_id": 34688736, "link": "https://stackoverflow.com/questions/34688736/using-tasks-json-in-visual-studio-code-to-transpile-both-typescript-and-sass", "title": "Using tasks.json in Visual Studio Code to transpile both typescript and sass", "body": "<p>I want to transpile both typescript and sass to javascript and css respectively. At The moment running this tasks.json file transpiles my typescript to javascript:</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n\n    // The command is tsc. Assumes that tsc has been installed using npm install -g typescript\n    \"command\": \"tsc\",\n\n    // The command is a shell script\n    \"isShellCommand\": true,\n\n    // Show the output window only if unrecognized errors occur.\n    \"showOutput\": \"silent\",\n\n    // args is the HelloWorld program to compile.\n    \"args\": [\"public/app/boot.ts\"],\n\n    // use the standard tsc problem matcher to find compile problems\n    // in the output.\n    \"problemMatcher\": \"$tsc\"\n}\n</code></pre>\n\n<p>I only need to specify boot.ts and it transpiles all .ts files to js. It might be because my boot.ts file imports all my ts files. Here is my boot.ts file:</p>\n\n<pre><code>import {bootstrap}    from 'angular2/platform/browser'\nimport {HelloWorld} from './hello_world'\nimport {TodoApp} from './todo_app'\nbootstrap(HelloWorld);\nbootstrap(TodoApp);\n</code></pre>\n\n<p>I would like to add code into the tasks.json file that will transpile the sass to css.</p>\n\n<p>Here is a code snippet of what I could do to only transpile my sass:</p>\n\n<pre><code>{\n    \"version\": \"0.1.0\",\n    \"command\": \"node-sass\",\n    \"isShellCommand\": true,\n    \"args\": [\"styles.scss\", \"styles.css\"]\n}\n</code></pre>\n\n<p>How do I add that code snippet so that it transpiles both the sass and the typescript?</p>\n\n<p>Also, Will I be wanting to add any new sass files to the args array in tasks.json as I create them?</p>\n"}, {"tags": ["typescript", "promise", "angular", "fetch"], "answers": [{"comments": [{"owner": {"reputation": 816, "user_id": 3613907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nvMGK.jpg?s=128&g=1", "display_name": "LargeDachshund", "link": "https://stackoverflow.com/users/3613907/largedachshund"}, "edited": false, "score": 0, "creation_date": 1452547083, "post_id": 34702896, "comment_id": 57208664, "body": "You&#39;re last sentence might be the answer I&#39;m looking for.  Angular 2 reference has an overly simplified implementation of Services here: <a href=\"https://angular.io/docs/ts/latest/tutorial/toh-pt4.html#async-services-and-promises\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/tutorial/&hellip;</a>  The example implements a Promise, but the example doesn&#39;t use a web service as an example.  It led me to believe that I needed to implement a Promise.  Because fetch API already delivers a promise, there&#39;s no need for me to implement another one!!  I&#39;ll take your suggestion and not store the response in the service, too.  Thanks, again!"}, {"owner": {"reputation": 11366, "user_id": 5388620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68887ac2aafbd1115f67fd30b0640778?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoor", "link": "https://stackoverflow.com/users/5388620/shanoor"}, "reply_to_user": {"reputation": 816, "user_id": 3613907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nvMGK.jpg?s=128&g=1", "display_name": "LargeDachshund", "link": "https://stackoverflow.com/users/3613907/largedachshund"}, "edited": false, "score": 0, "creation_date": 1452576231, "post_id": 34702896, "comment_id": 57218544, "body": "@LargeDachshund Keep in mind <code>fetch()</code> doesn&#39;t work on all browsers yet."}, {"owner": {"reputation": 816, "user_id": 3613907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nvMGK.jpg?s=128&g=1", "display_name": "LargeDachshund", "link": "https://stackoverflow.com/users/3613907/largedachshund"}, "edited": false, "score": 0, "creation_date": 1452620137, "post_id": 34702896, "comment_id": 57246214, "body": "ShanShan, Thanks for the heads up.  So, you suggest using &quot;http&quot; that&#39;s built-into Angular 2?"}, {"owner": {"reputation": 11366, "user_id": 5388620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68887ac2aafbd1115f67fd30b0640778?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoor", "link": "https://stackoverflow.com/users/5388620/shanoor"}, "reply_to_user": {"reputation": 816, "user_id": 3613907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nvMGK.jpg?s=128&g=1", "display_name": "LargeDachshund", "link": "https://stackoverflow.com/users/3613907/largedachshund"}, "edited": false, "score": 1, "creation_date": 1452622587, "post_id": 34702896, "comment_id": 57247758, "body": "@LargeDachshund I&#39;m not familiar with Angular2 (only used v1) but it&#39;s better I think. <code>Http</code> is supposed to work an any browser plus it returns an Observable, it seems much more interesting than promises in Angular2 environment. A nice read about it: <a href=\"http://chariotsolutions.com/blog/post/angular2-observables-http-separating-services-components/\" rel=\"nofollow noreferrer\">chariotsolutions.com/blog/post/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11366, "user_id": 5388620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68887ac2aafbd1115f67fd30b0640778?s=128&d=identicon&r=PG&f=1", "display_name": "Shanoor", "link": "https://stackoverflow.com/users/5388620/shanoor"}, "is_accepted": true, "score": 2, "last_activity_date": 1452408749, "creation_date": 1452408749, "answer_id": 34702896, "question_id": 34688525, "link": "https://stackoverflow.com/questions/34688525/angular-2-service-using-fetch-and-promise/34702896#34702896", "title": "Angular 2 Service using Fetch and Promise", "body": "<p>Returned values don't bubble through all the chain when using promises.</p>\n\n<pre><code>window.fetch(...)\n  .then(status) // only status function will have the response\n  .then(json)\n</code></pre>\n\n<p>Maybe I'm wrong but <code>status</code> and <code>json</code> don't seem to be functions. What are you trying to do here?</p>\n\n<p>Your service code lacks a return to work as expected (I also removed <code>status</code> and <code>json</code>):</p>\n\n<pre><code>@Injectable()\nexport class HTTPService {\n    save(url: string, jsonPayload: JsonPayload): any {\n        // if you don't return anything, how the consumer will know it's a promise?\n        return window.fetch(url, {\n            method: \"POST\",\n            headers: {\n                \"Accept\": \"application/json\",\n                \"Content-Type\": \"application/json\"\n            },\n            body: jsonPayload\n        })\n        // do you really need to store the response into the service?\n        // .then((response: any) =&gt; {\n        //    this.response = response;\n        //    return Promise.resolve(this.response);\n        // })\n        .catch((error) =&gt; {\n            console.log(error.message);\n            // if you return error.message here, the consumer won't know there is a problem\n            // you need to rethrow the error so it can be catched by the consumer\n            throw error;\n        });\n    }\n}\n</code></pre>\n\n<p><code>windows.fetch()</code> is already a promise, don't wrap it in a <code>resolve()</code>.</p>\n"}], "owner": {"reputation": 816, "user_id": 3613907, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/nvMGK.jpg?s=128&g=1", "display_name": "LargeDachshund", "link": "https://stackoverflow.com/users/3613907/largedachshund"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4508, "favorite_count": 0, "accepted_answer_id": 34702896, "answer_count": 1, "score": 3, "last_activity_date": 1455588391, "creation_date": 1452301054, "last_edit_date": 1455588391, "question_id": 34688525, "link": "https://stackoverflow.com/questions/34688525/angular-2-service-using-fetch-and-promise", "title": "Angular 2 Service using Fetch and Promise", "body": "<p>I'm running Angular 2 beta.</p>\n\n<p>I'm trying to create an http service using fetch that implements promises.  Here's what I have so far:</p>\n\n<p>HttpService.ts:</p>\n\n<pre><code>@Injectable()\nexport class HTTPService {\n\n    save(url: string, jsonPayload: JsonPayload): any {\n\n        window.fetch(url, {\n            method: \"POST\",\n            headers: {\n                       \"Accept\": \"application/json\",\n                       \"Content-Type\": \"application/json\"\n            },\n            body: jsonPayload \n        })\n        .then(status)\n        .then(json)\n        .then((response: any) =&gt; {\n           this.response = response;\n\n           return Promise.resolve(this.response);\n        })\n        .catch((error) =&gt; {\n           console.log(error.message);\n\n           return error.message;\n        });\n    }\n}\n</code></pre>\n\n<p>Here's the service-consuming class:</p>\n\n<pre><code>export class ConsumingComponent {\n    constructor(private _httpService: HTTPService) {\n               ...\n    }\n\n    getSampleStuff() {\n        this._httpService\n            .save(\"http:sample.com/sample/stuff\", this.jsonPayload)\n            .then(response =&gt; this.response = response);\n\n        this.sampleStuffModel = this.response;\n    }\n}\n</code></pre>\n\n<p>My intention to call a web service asynchronously.<br>\nThis is how I understand the technology:</p>\n\n<ul>\n<li>Initialize a Promise in the service</li>\n<li>Inject the service into the consuming class</li>\n<li>Add a \".then(...)\" in the consuming class.  the callback results land here. </li>\n</ul>\n\n<p>I tried to set a class member (\"this.response\") to the response (\"response\").  </p>\n\n<p>When I run this promise, the response is null or undefined.</p>\n\n<p>I'm guessing that the implementation of the resolve function is the source of the problem.  Do I wrap the entire window.fetch() in a resolve()?</p>\n"}, {"tags": ["angularjs", "typescript", "angular-directive"], "answers": [{"tags": [], "owner": {"reputation": 1032, "user_id": 4216004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efe074828279087bf739ba50da9e6237?s=128&d=identicon&r=PG&f=1", "display_name": "Hugues Stefanski", "link": "https://stackoverflow.com/users/4216004/hugues-stefanski"}, "is_accepted": false, "score": 0, "last_activity_date": 1452334609, "creation_date": 1452334609, "answer_id": 34692227, "question_id": 34687417, "link": "https://stackoverflow.com/questions/34687417/angular-loading-indicator-custom-element-directive/34692227#34692227", "title": "Angular Loading Indicator Custom element Directive", "body": "<p>The problem is that <code>this</code> is not what you expect in the link function. At that point,<code>this</code> will be referring to the <code>window</code> object (and thus <code>tempThis</code> too).</p>\n\n<p>If you need to use the <code>link</code> function, you have to rebind it to <code>this</code> in the constructor, where <code>this</code> is referring to the class:</p>\n\n<pre><code>export interface ILoadingIndicatorAttr extends ng.IAttributes {\n   efpLoadingIndicator: string;\n}\n\nexport interface ILoadingIndicatorscope extends ng.IScope {\n   loading: boolean;\n}\n\nexport class LoadingIndicator implements ng.IDirective {\n   public restrict: string = 'A';\n   public replace: boolean = true;\n   link:(scope: ILoadingIndicatorscope, element: ng.IAugmentedJQuery, attrs: ILoadingIndicatorAttr, ngModel: ng.INgModelController)=&gt; void\n\n   static $inject = [\"$compile\", \"$templateRequest\", \"$timeout\"];\n\nconstructor(public _compile: ng.ICompileService, private templateService: ng.ITemplateRequestService, private timeout: ng.ITimeoutService) {\n    this.link = this.myLink.bind(this);\n};\n\nmyLink(scope: ILoadingIndicatorscope, element: ng.IAugmentedJQuery, attrs: ILoadingIndicatorAttr, ngModel: ng.INgModelController): void =&gt; {\n    var tempThis = this;\n    var templateUrl: string = 'app/modules/common/directives/loadingIndicator/loadingIndicator.tmpl.html';\n    attrs.$observe('efpLoadingIndicator', () =&gt; {\n        if (attrs.efpLoadingIndicator == \"true\") {\n            this.timeout(() =&gt; {\n                if (attrs.efpLoadingIndicator == \"true\") {\n                    scope.loading = true;\n                    tempThis.resolveTemplate(templateUrl).then((html: ng.IAugmentedJQuery) =&gt; {\n                        tempThis._compile(html)(scope).appendTo(element);                            \n                    });\n                }\n                else {                      \n                    scope.loading = false;\n                }\n            }, 1000);\n        }\n        else {\n            scope.loading = false;\n        }\n    });\n}\n\nresolveTemplate = (templateUrl: string): ng.IPromise&lt;ng.IAugmentedJQuery&gt; =&gt;{\n    return this.templateService(templateUrl).then((html: string) =&gt; {\n        return angular.element(html);\n    });\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452334609, "creation_date": 1452293450, "question_id": 34687417, "link": "https://stackoverflow.com/questions/34687417/angular-loading-indicator-custom-element-directive", "title": "Angular Loading Indicator Custom element Directive", "body": "<p>I have written custom angular element directive, which shows/hides loading indicator based on condition evaluated on service call. The directive is applied as element to element. The directive works fine, but the problem the content is of the applied element not hidding.</p>\n\n<p>Here is my <strong>directive:</strong></p>\n\n<pre><code>export interface ILoadingIndicatorAttr extends ng.IAttributes {\n  efpLoadingIndicator: string;\n}\n export interface ILoadingIndicatorscope extends ng.IScope {\n   loading: boolean;\n }\n\n\n\nexport class LoadingIndicator implements ng.IDirective {\n   public restrict: string = 'A';\n   public replace: boolean = true;\n   static $inject = [\"$compile\", \"$templateRequest\", \"$timeout\"];\n\nconstructor(public _compile: ng.ICompileService, private templateService: ng.ITemplateRequestService, private timeout: ng.ITimeoutService) {\n\n};\n\nlink = (scope: ILoadingIndicatorscope, element: ng.IAugmentedJQuery, attrs: ILoadingIndicatorAttr, ngModel: ng.INgModelController): void =&gt; {\n    var tempThis = this;\n    var templateUrl: string = 'app/modules/common/directives/loadingIndicator/loadingIndicator.tmpl.html';\n    attrs.$observe('efpLoadingIndicator', () =&gt; {\n        if (attrs.efpLoadingIndicator == \"true\") {\n            this.timeout(() =&gt; {\n                if (attrs.efpLoadingIndicator == \"true\") {\n                    scope.loading = true;\n                    tempThis.resolveTemplate(templateUrl).then((html: ng.IAugmentedJQuery) =&gt; {\n                        tempThis._compile(html)(scope).appendTo(element);                            \n                    });\n                }\n                else {                      \n                    scope.loading = false;\n                }\n            }, 1000);\n        }\n        else {\n            scope.loading = false;\n        }\n    });\n}\n\nresolveTemplate = (templateUrl: string): ng.IPromise&lt;ng.IAugmentedJQuery&gt; =&gt; {\n    return this.templateService(templateUrl).then((html: string) =&gt; {\n        return angular.element(html);\n    });\n   }\n}\n</code></pre>\n\n<p>Here is how it is applied:</p>\n\n<pre><code> &lt;div efp-loading-indicator ={{vm.isLoading}}&gt;\n\n  &lt;select&gt; &lt;/select&gt;\n\n &lt;/div\n</code></pre>\n\n<p>I want to hide the content of div when loading indicator is present, show when loading indicator is off. I know i can use ng-show on child elements but don't want to do that since I want to reuse this directive.</p>\n"}]