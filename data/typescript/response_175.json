[{"tags": ["reactjs", "typescript", "generics", "recompose"], "answers": [{"comments": [{"owner": {"reputation": 56921, "user_id": 194940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/A0xby.png?s=128&g=1", "display_name": "Matt Greer", "link": "https://stackoverflow.com/users/194940/matt-greer"}, "edited": false, "score": 0, "creation_date": 1526585424, "post_id": 50382367, "comment_id": 87814167, "body": "Thanks for the detailed response! I haven&#39;t had a chance to try your suggestions out yet, but I will. It looks like ultimately a pull request to DefinitelyTyped to improve recompose&#39;s type defs might be what I need to do."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 56921, "user_id": 194940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/A0xby.png?s=128&g=1", "display_name": "Matt Greer", "link": "https://stackoverflow.com/users/194940/matt-greer"}, "edited": false, "score": 1, "creation_date": 1526585592, "post_id": 50382367, "comment_id": 87814259, "body": "@MattGreer Probably, I have a feeling that no definitions fully take advantage of mapped and conditional types yet, especially conditional types are but 2 months old. You could start the process ;-)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1526523007, "creation_date": 1526523007, "answer_id": 50382367, "question_id": 50381005, "link": "https://stackoverflow.com/questions/50381005/using-keystring-any-to-avoid-needing-an-extra-function-for-generics/50382367#50382367", "title": "Using [key:string]: any to avoid needing an extra function for generics?", "body": "<p>You can make the function signature inside <code>ComponentEnhancer</code> generic: </p>\n\n<pre><code>declare function compose&lt;TInner, TOutter&gt;(\n    ...functions: Function[]\n): ComponentEnhancer&lt;TInner, TOutter&gt;;\n\ninterface ComponentEnhancer&lt;TInner, TOutter&gt; {\n    // This is now a generic function \n    &lt;TActualInner extends TInner, TActualOuterProps extends TOutter&gt;(component: React.ComponentClass&lt;TActualInner&gt;): React.ComponentClass&lt;TActualOuterProps&gt;;\n}\n\ninterface IOuterProps {\n    somethingYouGiveMe: string;\n}\n\ninterface IInnerProps {\n    somethingIGiveBack: number;\n}\n\nconst myEnhancer = compose&lt;IInnerProps, IOuterProps&gt;();\ninterface IMyComponentProps {\n    somethingYouGiveMe: string;\n    somethingElse: string;\n}\ninterface IMyInnerComponentProps {\n    somethingElse: string; \n    somethingIGiveBack: number;\n}\n\nclass MyComponent extends React.Component&lt;IMyInnerComponentProps&gt;{ }\n// We specify the actual inner and outer props\nconst MyEnhancedComponent = myEnhancer&lt;IMyInnerComponentProps, IMyComponentProps&gt;(MyComponent)\n</code></pre>\n\n<p>If we consider the logic of how the transformation works we could even use some conditional type magic to avoid specifying the type arguments explicitly. If my understanding of <code>compose</code> is right, what happens is that the resulting component will have all the properties of the inner component excluding the properties of <code>IInnerProps</code> and including the properties of <code>IOuterProps</code>:</p>\n\n<pre><code>type Omit&lt;T, TOmit&gt; = { [P in Exclude&lt;keyof T, keyof TOmit&gt;] : T[P] }\ntype ComponentEnhancerProps&lt;TActualInner, TInner, TOuter&gt; = Omit&lt;TActualInner, TInner&gt; &amp; TOuter;\ninterface ComponentEnhancer&lt;TInner, TOutter&gt; {\n    &lt;TActualInner extends TInner&gt;(component: React.ComponentClass&lt;TActualInner&gt;): React.ComponentClass&lt;ComponentEnhancerProps&lt;TActualInner, TInner, TOutter&gt;&gt;;\n}\n\n\nclass MyComponent extends React.Component&lt;IMyInnerComponentProps&gt;{ }\nconst MyEnhancedComponent = myEnhancer(MyComponent)\n\nlet d = &lt;MyEnhancedComponent somethingYouGiveMe=\"0\" somethingElse=\"\" /&gt;\n</code></pre>\n\n<p>The problem with this automated approach is that optional fields become required, you can keep optionality, if you have <code>strictNullChecks</code> enabled </p>\n\n<pre><code>type ExcludeUndefined&lt;T, TKeys extends keyof T&gt; = { [P in TKeys]: undefined extends T[P]  ? never : P}[TKeys];\ntype Omit&lt;T, TOmit&gt; = \n    { [P in ExcludeUndefined&lt;T, Exclude&lt;keyof T, keyof TOmit&gt;&gt;] : T[P] } &amp;\n    { [P in Exclude&lt;Exclude&lt;keyof T, keyof TOmit&gt;, ExcludeUndefined&lt;T, Exclude&lt;keyof T, keyof TOmit&gt;&gt;&gt;] ? : T[P] }\ntype ComponentEnhancerProps&lt;TActualInner, TInner, TOuter&gt; = Omit&lt;TActualInner, TInner&gt; &amp; TOuter;\ninterface ComponentEnhancer&lt;TInner, TOutter&gt; {\n    &lt;TActualInner extends TInner&gt;(component: React.ComponentClass&lt;TActualInner&gt;): React.ComponentClass&lt;ComponentEnhancerProps&lt;TActualInner, TInner, TOutter&gt;&gt;;\n}\n\ninterface IMyInnerComponentProps {\n    somethingElse: string; \n    somethingIGiveBack: number;\n    optionalProp?: number;\n}\n\n\nclass MyComponent extends React.Component&lt;IMyInnerComponentProps&gt;{ }\nconst MyEnhancedComponent = myEnhancer(MyComponent)\n\nlet d = &lt;MyEnhancedComponent somethingYouGiveMe=\"0\" somethingElse=\"\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 56921, "user_id": 194940, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/A0xby.png?s=128&g=1", "display_name": "Matt Greer", "link": "https://stackoverflow.com/users/194940/matt-greer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 50382367, "answer_count": 1, "score": 4, "last_activity_date": 1526523007, "creation_date": 1526510998, "last_edit_date": 1526511433, "question_id": 50381005, "link": "https://stackoverflow.com/questions/50381005/using-keystring-any-to-avoid-needing-an-extra-function-for-generics", "title": "Using [key:string]: any to avoid needing an extra function for generics?", "body": "<p>I am using recompose in React, in particular its <code>compose</code> function which has a signature of</p>\n\n<pre><code>function compose&lt;TInner, TOutter&gt;(\n    ...functions: Function[]\n): ComponentEnhancer&lt;TInner, TOutter&gt;;\n\ninterface ComponentEnhancer&lt;TInner, TOutter&gt; {\n    (component: Component&lt;TInner&gt;): ComponentClass&lt;TOutter&gt;;\n}\n</code></pre>\n\n<p>where I am passing in some React higher order components. I defined my <code>TInner</code> and <code>TOuter</code> types as interfaces that describe what I need in order for my HoCs to function:</p>\n\n<pre><code>interface IOuterProps {\n    somethingYouGiveMe: string;\n}\n\ninterface IInnerProps {\n    somethingIGiveBack: number;\n}\n\nconst myEnhancer = compose&lt;IInnerProps, IOuterProps&gt;(myHoC, myOtherHoc);\n</code></pre>\n\n<p>(as a silly example for demonstration). But the problem is, my components have more props than that, the HoC that compose generates needs to take those extra props and pass them through, for example:</p>\n\n<pre><code>interface IMyComponentProps {\n    somethingYouGiveMe: string;\n    somethingElse: string;\n}\n</code></pre>\n\n<p>Because of this, I can't do <code>const MyEnhancedComponent = myEnhancer(MyComponent)</code>, as the compiler will complain that <code>MyEnhancedComponent</code> does not have <code>somethingElse</code> as a prop.</p>\n\n<p>I found two work arounds, neither I am happy with. So curious what more experienced TypeScript devs would do.</p>\n\n<h2>Work Around #1: Introduce a function</h2>\n\n<p>By introducing a function, I can use generics and express to the compiler what I am doing</p>\n\n<pre><code>function myEnhancer&lt;TInnerProps extends IInnerProps, TOuterProps extends IOuterProps&gt;(Component: React.ComponentType&lt;TInnerProps&gt;) {\n    return compose&lt;TInnerProps, TOuterProps&gt;(mYHoC, myOtherHoc)(Component);\n}\n</code></pre>\n\n<p>I really dislike this, introducing a function that will create multiple copies of the enhancer, just to get at generics? Seems wrong to me.</p>\n\n<h2>Work Around #2: use [key:string]: any</h2>\n\n<p>I can instead change my interfaces to be</p>\n\n<pre><code>interface IOutterProps {\n    somethingYouGiveMe: string;\n    [key: string]: any;\n}\n\ninterface IInnerProps extends IOuterProps {\n    somethingIGiveBack: number;\n}\n</code></pre>\n\n<p>I am basically using <code>[key:string]: any</code> as a poor man's <code>extends IOutterProps</code>. As in, I need you to give me these props, and if you give me extras then I don't really care about those.</p>\n\n<p>This allows me to use <code>myEnhancer</code> where ever I have components that meet the requirements, avoids the added function, and feels better than workaround #1. But also it feels wrong to have to add <code>[key: string]: any</code>.</p>\n"}, {"tags": ["javascript", "angular", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 6472, "user_id": 3029173, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xJxwn.jpg?s=128&g=1", "display_name": "AnilRedshift", "link": "https://stackoverflow.com/users/3029173/anilredshift"}, "is_accepted": true, "score": 7, "last_activity_date": 1526510983, "creation_date": 1526510983, "answer_id": 50381003, "question_id": 50380984, "link": "https://stackoverflow.com/questions/50380984/how-to-check-if-any-one-of-the-variable-is-greater-than-0/50381003#50381003", "title": "How to check if any one of the variable is greater than 0", "body": "<p>You can combine the variables into an array and then run <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"noreferrer\">some</a> on it:</p>\n\n<p><code>return [a, b, c, d].some(item =&gt; item &gt; 0)</code></p>\n"}, {"tags": [], "owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "is_accepted": false, "score": 3, "last_activity_date": 1526513801, "last_edit_date": 1526513801, "creation_date": 1526511262, "answer_id": 50381040, "question_id": 50380984, "link": "https://stackoverflow.com/questions/50380984/how-to-check-if-any-one-of-the-variable-is-greater-than-0/50381040#50381040", "title": "How to check if any one of the variable is greater than 0", "body": "<p>You can combine the <code>&amp;&amp;</code> operator with the <code>ternary operator</code> like this:</p>\n\n<pre><code>(a &amp;&amp; b &amp;&amp; c &amp;&amp; d &gt; 0) ? true : false // will return true if all integers are more than 0\n</code></pre>\n\n<p><strong>jsFiddle:</strong> <a href=\"https://jsfiddle.net/AndrewL64/6bk1bs0w/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/AndrewL64/6bk1bs0w/</a></p>\n\n<hr>\n\n<p>OR you can assign the variables to an array and use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every\" rel=\"nofollow noreferrer\">Array.prototype.every()</a> like this:</p>\n\n<pre><code>let x = [a, b, c, d]\n\nx.every(i =&gt; i &gt; 0) // will return true if all integers are more than 0\n</code></pre>\n\n<p><strong>jsFiddle:</strong> <a href=\"https://jsfiddle.net/AndrewL64/6bk1bs0w/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/AndrewL64/6bk1bs0w/1/</a></p>\n\n<hr>\n\n<p>OR to make the above even shorter, you can directly place the values in an array and use <code>every</code> on the array directly like this:</p>\n\n<pre><code>[0, 1, 0, 0].every(i =&gt; i &gt; 0); // will return false since all integers are not more than 0\n</code></pre>\n\n<p><strong>jsFiddle:</strong> <a href=\"https://jsfiddle.net/AndrewL64/6bk1bs0w/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/AndrewL64/6bk1bs0w/3/</a></p>\n\n<hr>\n\n<p>OR you can make a reusable function once and run it multiple times with just one line like this:</p>\n\n<pre><code>function moreThanOne(...args){\n   // Insert any of the above approaches here but reference the variables/array with the word 'arg'\n}\n\nmoreThanOne(3,1,2,0); // will return false as well as alert false\n\nmoreThanOne(3,1,2,4); // will return true as well as alert true\n</code></pre>\n\n<p><strong>jsFiddle:</strong> <a href=\"https://jsfiddle.net/AndrewL64/6bk1bs0w/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/AndrewL64/6bk1bs0w/2/</a></p>\n"}], "owner": {"reputation": 2068, "user_id": 5133727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nCYuf.png?s=128&g=1", "display_name": "RV.", "link": "https://stackoverflow.com/users/5133727/rv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2209, "favorite_count": 0, "accepted_answer_id": 50381003, "answer_count": 2, "score": 6, "last_activity_date": 1526513801, "creation_date": 1526510864, "last_edit_date": 1526513123, "question_id": 50380984, "link": "https://stackoverflow.com/questions/50380984/how-to-check-if-any-one-of-the-variable-is-greater-than-0", "title": "How to check if any one of the variable is greater than 0", "body": "<p>How can I check if any of the variables is greater than 0 from given variable in Typescript?</p>\n\n<p>How can I rewrite below code so that it's more elegant/concise?</p>\n\n<pre><code>checkIfNonZero():boolean{\n  const a=0;\n  const b=1;\n  const c=0;\n  const d=0;\n  //Regular way would be as below. \n  //How can this use some library instead of doing comparison for each variable\n  if(a&gt;0 || b&gt;0 || c&gt;0 || d&gt;0){\n   return true;\n  }\n  return false;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "import", "maps"], "answers": [{"tags": [], "owner": {"reputation": 540, "user_id": 8390569, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IatyVMBSjFs/AAAAAAAAAAI/AAAAAAAAADI/opkaSvjsmbg/photo.jpg?sz=128", "display_name": "Dried09", "link": "https://stackoverflow.com/users/8390569/dried09"}, "is_accepted": true, "score": 1, "last_activity_date": 1526715120, "creation_date": 1526715120, "answer_id": 50422921, "question_id": 50380794, "link": "https://stackoverflow.com/questions/50380794/typescript-google-maps-api-infobox-js-uncaught-typeerror-infobox-is-not-a-c/50422921#50422921", "title": "Typescript + Google Maps API + infobox.js Uncaught TypeError: InfoBox is not a constructor", "body": "<p>In search of problem solution I tried a lot of possible ways and all npm packages related to infobox.js. \nFinally, I found 'google-maps-infobox' (<a href=\"https://www.npmjs.com/package/google-maps-infobox\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/google-maps-infobox</a>), which has no exhaustive description, but it was working one at least. Moreover, it has even *.d.ts file, which provide proper import in ts-project.\nSo, I installed this dependency and added in import section of component</p>\n\n<pre><code>import InfoBox from 'google-maps-infobox';\n</code></pre>\n\n<p>and use it in this way</p>\n\n<pre><code>//in some method (function)\nlet infoBox: InfoBox = new InfoBox({\n    content: //some html markup\n});\ninfoBox.setPosition(mapObject.getPosition());\ninfoBox.open(this.map);\n</code></pre>\n\n<p>Also, this package works good with require() import, except of InfoBox-object will be typed as any</p>\n"}], "owner": {"reputation": 540, "user_id": 8390569, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IatyVMBSjFs/AAAAAAAAAAI/AAAAAAAAADI/opkaSvjsmbg/photo.jpg?sz=128", "display_name": "Dried09", "link": "https://stackoverflow.com/users/8390569/dried09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 664, "favorite_count": 1, "accepted_answer_id": 50422921, "answer_count": 1, "score": 2, "last_activity_date": 1526715120, "creation_date": 1526509691, "last_edit_date": 1526535574, "question_id": 50380794, "link": "https://stackoverflow.com/questions/50380794/typescript-google-maps-api-infobox-js-uncaught-typeerror-infobox-is-not-a-c", "title": "Typescript + Google Maps API + infobox.js Uncaught TypeError: InfoBox is not a constructor", "body": "<p>Have a project Vue.js + Typescript using Google Maps API, try to import infobox.js (npm package google-maps-infobox-window) library into and getting an error in the console:</p>\n\n<blockquote>\n  <p>Uncaught TypeError: InfoBox is not a constructor</p>\n</blockquote>\n\n<p>Library doesn't typed yet, so all is remains - import as any, without typings. I tried 3 ways to do it:</p>\n\n<ul>\n<li>import * as InfoBox 'google-maps-infobox-window'</li>\n<li>var InfoBox = require('google-maps-infobox-window')</li>\n<li>making *d.ts file with manual module/function declaration</li>\n</ul>\n\n<p>And none of these actions has no effect, <code>InfoBox</code> constructor still not found.\nBefore import infobox.js I already has imported googlemaps (via script tag) and RichMarker.js (via require('')) and those are works perfectly.\nCan anyone help with it?</p>\n\n<p>Also, I tried to add <code>\"allowJs\": true</code> to tsconfig.json, still nothing</p>\n\n<p>Code:</p>\n\n<pre><code>import { } from '@types/googlemaps';\nconst RichMarker = require('js-rich-marker');\n//problems started below when I use\nimport { InfoBox } from 'google-maps-infobox-window';\n// or this\nconst InfoBox = require('google-maps-infobox-window');\n\n//...\n\n//and try to use imported function (constructor)\nlet infoBox = new InfoBox({content: boxText});\n</code></pre>\n"}, {"tags": ["cordova", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 327, "user_id": 9503949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be09aea1fd1ba1f7980c029aaf507c86?s=128&d=identicon&r=PG&f=1", "display_name": "Leonardo Gabriel", "link": "https://stackoverflow.com/users/9503949/leonardo-gabriel"}, "edited": false, "score": 0, "creation_date": 1526524015, "post_id": 50380702, "comment_id": 87780719, "body": "can you please post the full code of your post.ts component?"}, {"owner": {"reputation": 8031, "user_id": 8331756, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/qcaCX.jpg?s=128&g=1", "display_name": "J. Hesters", "link": "https://stackoverflow.com/users/8331756/j-hesters"}, "edited": false, "score": 0, "creation_date": 1527433708, "post_id": 50380702, "comment_id": 88117727, "body": "Looks like the error occurs with firebase. Could you please specify which firebase services you are using?"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1528351152, "post_id": 50380702, "comment_id": 88475527, "body": "Is all good at <code>C:&#47;xampp&#47;htdocs&#47;project x&#47;projectx&#47;node_modules&#47;firebase&#47;index</code>? Can you check post what is there. Seems like the issue is related to firebase node module in your error"}, {"owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1528375020, "post_id": 50380702, "comment_id": 88490192, "body": "@TarunLalwani I don&#39;t think it is. That&#39;s just a warning I&#39;m getting.. I have a lot of warnings not related to firebase. It&#39;s stuff like: <code>&#39;ViewChild&#39; is declared but never used.</code> do you really think it&#39;s a firebase problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "is_accepted": true, "score": 7, "last_activity_date": 1528681408, "creation_date": 1528681408, "answer_id": 50789556, "question_id": 50380702, "link": "https://stackoverflow.com/questions/50380702/error-failed-to-transpile-program-ionic2/50789556#50789556", "title": "Error: Failed to transpile program - ionic2", "body": "<p>Okay, so I struggled with this for over a month, and I finally realized my issue was actually stupidly simple. </p>\n\n<p>What I found was that even though my application compiled using <code>ionic serve</code> with the \"warnings\" it had, the application couldn't be built on a phone without removing those \"warnings\". I had something like over 40 warnings, and getting rid of them all took a few hours but afterwards <code>ionic cordova run android --device</code> worked perfectly. </p>\n\n<p>So if you are having this problem: look at the typescript errors you have and fix them. Your problem should be fixed. </p>\n"}, {"tags": [], "owner": {"reputation": 4899, "user_id": 5457113, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/ef75d56eaa0fca33dee1d6b1b0d3544b?s=128&d=identicon&r=PG&f=1", "display_name": "dasfdsa", "link": "https://stackoverflow.com/users/5457113/dasfdsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1545863259, "creation_date": 1545863259, "answer_id": 53937812, "question_id": 50380702, "link": "https://stackoverflow.com/questions/50380702/error-failed-to-transpile-program-ionic2/53937812#53937812", "title": "Error: Failed to transpile program - ionic2", "body": "<p>This problem might also occur due to unintended imports. Make sure you check all your imports are right. If you remove all unused imports than the problem will automatically be solved.</p>\n"}], "owner": {"reputation": 2238, "user_id": 2230430, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/D4Kig.jpg?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/2230430/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6841, "favorite_count": 0, "accepted_answer_id": 50789556, "answer_count": 2, "score": 15, "last_activity_date": 1545863259, "creation_date": 1526509126, "last_edit_date": 1528490133, "question_id": 50380702, "link": "https://stackoverflow.com/questions/50380702/error-failed-to-transpile-program-ionic2", "title": "Error: Failed to transpile program - ionic2", "body": "<p>I've been developing an app for 6 months now. I've never tested it on a device, always in browser, but it's gotten to the point where I want to test on my android phone. </p>\n\n<p>So I do <code>ionic cordova run android --device</code> and I get an error:</p>\n\n<blockquote>\n  <p>Error: Failed to transpile program at BuildError.Error (native) at new BuildError (C:\\xampp\\htdocs\\project x\\projectx\\node_modules\\@ionic\\app-scripts\\dist\\util\\errors.js:16:28) at C:\\xampp\\htdocs\\project x\\projectx\\node_modules\\@ionic\\app-scripts\\dist\\transpile.js:159:20 at transpileWorker (C:\\xampp\\htdocs\\project x\\projectx\\node_modules\\@ionic\\app-scripts\\dist\\transpile.js:107:12) at Object.transpile (C:\\xampp\\htdocs\\project x\\projectx\\node_modules\\@ionic\\app-scripts\\dist\\transpile.js:64:12) at C:\\xampp\\htdocs\\project x\\projectx\\node_modules\\@ionic\\app-scripts\\dist\\build.js:109:82 [18:05:02] copy finished in 4.95 s</p>\n</blockquote>\n\n<p>which I can't seem to fix. </p>\n\n<p>I was curious if it was perhaps a problem with my machine, or phone, or something so I created a new ionic project by doing <code>ionic start ionic-test</code> and then simply running it again with <code>ionic cordova run android --device</code>, and this time it worked perfectly. It ran on my device. </p>\n\n<p>So considering that, can I simply paste over my <code>src</code> files into the new project? or is there something else I can do to get this working? Any ideas/tips? Thanks!</p>\n\n<p><strong>Edit:</strong> </p>\n\n<p>Here is a pastebin to the entire result of <code>ionic cordova run android --device</code>.\n<a href=\"https://pastebin.com/x1zX5U1e\" rel=\"noreferrer\">https://pastebin.com/x1zX5U1e</a> (note: there were about 200 code warnings from typescript but they were all very minor stuff)</p>\n\n<p>And here is a pastebin for <code>ionic info</code></p>\n\n<p><a href=\"https://pastebin.com/A628WpAW\" rel=\"noreferrer\">https://pastebin.com/A628WpAW</a></p>\n\n<p><strong>Edit 2: I found the solution. I will be posting a detailed answer soon!</strong></p>\n"}, {"tags": ["typescript", "parameter-passing"], "comments": [{"owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "edited": false, "score": 1, "creation_date": 1526507760, "post_id": 50380414, "comment_id": 87777111, "body": "What error are you getting?"}, {"owner": {"reputation": 191, "user_id": 5440764, "user_type": "registered", "profile_image": "https://graph.facebook.com/657235231085201/picture?type=large", "display_name": "Luca Basilico", "link": "https://stackoverflow.com/users/5440764/luca-basilico"}, "reply_to_user": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "edited": false, "score": 0, "creation_date": 1526557641, "post_id": 50380414, "comment_id": 87796809, "body": "I tried to reproduce the error and I don&#39;t know why but now the second piece of code works as the first piece.  Despite this, my question is still the same: are parameters-passing block-scoped or function-scoped?"}, {"owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "edited": false, "score": 1, "creation_date": 1526570142, "post_id": 50380414, "comment_id": 87805670, "body": "Block-scoped or function-scoped for the function parameters? It is the same thing."}], "owner": {"reputation": 191, "user_id": 5440764, "user_type": "registered", "profile_image": "https://graph.facebook.com/657235231085201/picture?type=large", "display_name": "Luca Basilico", "link": "https://stackoverflow.com/users/5440764/luca-basilico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526570025, "creation_date": 1526507401, "last_edit_date": 1526570025, "question_id": 50380414, "link": "https://stackoverflow.com/questions/50380414/how-it-works-parameter-passing-into-typescript", "title": "How it works parameter-passing into typescript?", "body": "<p>Below there're two pieces of code. I searched a question like this but I haven't found yet.\nSo I don't understand why in my first piece of code my function found my parameter, in this example <i>filterId</i>, but not in the second. </p>\n\n<p>I guess it could be because filterValue is like a var declaration, <a href=\"https://stackoverflow.com/questions/35572895/what-is-the-difference-between-var-and-let-in-typescript\">What is the difference between var and let in Typescript?</a>, instead of a block-scoped, as let. Is it ok this idea?</p>\n\n<p>This is works:</p>\n\n<pre>\n\n    getServiceAreasFiltered (page: number, filterValue: string): Observable {\n      <b>const filterId = filterValue;</b>\n      this._http.post(resource, content).pipe(\n        flatMap(area => area.results),\n        filter((area: ServiceAreaListItem) => area.guid === <b>filterId</b>),\n      ).subscribe(x => x);\n    }\n\n</pre>\n\n<p>This is not works:</p>\n\n<pre>\n\n    getServiceAreasFiltered (page: number, <b>filterValue</b>?: string): Observable {\n      this._http.post(resource, content).pipe(\n        flatMap(area => area.results),\n        filter((area: ServiceAreaListItem) => area.guid === <b>filterValue</b>),\n      ).subscribe(x => x);\n    }\n\n</pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526523384, "post_id": 50380176, "comment_id": 87780621, "body": "I don&#39;t think you can do this. Since the type has an index signature <code>keyof A</code> will always be string. Basically the index eats up all the keys."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 4157034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d34f6472f41fbd3e942ce929da9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Libin Lu", "link": "https://stackoverflow.com/users/4157034/libin-lu"}, "edited": false, "score": 0, "creation_date": 1526560956, "post_id": 50388789, "comment_id": 87799039, "body": "Thanks. But my <code>type A</code> actually is a property for a React dropdown and has more than 20 parameters so this approach is practical in that scenario."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 59, "user_id": 4157034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d34f6472f41fbd3e942ce929da9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Libin Lu", "link": "https://stackoverflow.com/users/4157034/libin-lu"}, "edited": false, "score": 0, "creation_date": 1526561983, "post_id": 50388789, "comment_id": 87799786, "body": "So you need to have 1 prop changed and 19 unchanged? I guess copying and pasting it is the way this should be done for now. I would like to know if there is a better way to do that, but it seems that currently there&#39;s none. If this was your own type, it would be reasonable to keep index type and the rest in 2 different types to make <code>Omit</code> work."}, {"owner": {"reputation": 59, "user_id": 4157034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d34f6472f41fbd3e942ce929da9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Libin Lu", "link": "https://stackoverflow.com/users/4157034/libin-lu"}, "edited": false, "score": 0, "creation_date": 1526602381, "post_id": 50388789, "comment_id": 87819853, "body": "It is coming from npm package so I don&#39;t have control over it"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1526551707, "creation_date": 1526551707, "answer_id": 50388789, "question_id": 50380176, "link": "https://stackoverflow.com/questions/50380176/how-do-i-remove-a-field-from-typescript-type-with-key-string-any/50388789#50388789", "title": "How do I remove a field from Typescript type with [key: string]: any", "body": "<p>Mapped types that rely on <code>keyof</code> like <code>Exclude</code> won't work properly here because index signature absorbs other properties. <code>keyof A</code> is a union of properties, i.e. <code>string</code>.</p>\n\n<p>A problem could likely be addressed in the opposite way, by adding <code>?</code> modifiers to existing keys and removing them for some properties:</p>\n\n<pre><code>type B = Partial&lt;A&gt; &amp; { param1: A['param1'] };\n</code></pre>\n\n<p>Since this will become cumbersome for multiple properties, the type possibly has to be duplicated and modified.</p>\n"}], "owner": {"reputation": 59, "user_id": 4157034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b6d34f6472f41fbd3e942ce929da9ad?s=128&d=identicon&r=PG&f=1", "display_name": "Libin Lu", "link": "https://stackoverflow.com/users/4157034/libin-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 451, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1526551707, "creation_date": 1526506211, "last_edit_date": 1526524174, "question_id": 50380176, "link": "https://stackoverflow.com/questions/50380176/how-do-i-remove-a-field-from-typescript-type-with-key-string-any", "title": "How do I remove a field from Typescript type with [key: string]: any", "body": "<p>I have a type definition from an npm module and want to remove param1 or make it optional</p>\n\n<pre><code>type A = {\n    [key: string]: any,\n    param1: string\n    param2: string\n}\n</code></pre>\n\n<p>I tried Omit function suggested by Typescript but didn't work well</p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype B = Omit&lt;A,\"param1\"&gt;\n// expect: B = {[key:string]: any, param2: string}\n// actual: B = {[key:string]: any}\n</code></pre>\n\n<p>I'm using typescript 2.8.3. How can I get my expected result?</p>\n\n<p>UPDATE:\nI did more dig around and found following.</p>\n\n<pre><code>// this copies index and extra type correctly\ntype B = {\n  [P in keyof A]: A[P];\n}\n\n// this only copies index type\ntype C = keyof A\ntype B = {\n  [P in C]: A[P];\n}\n</code></pre>\n"}, {"tags": ["angular", "forms", "typescript"], "comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 1, "creation_date": 1526505150, "post_id": 50379815, "comment_id": 87776161, "body": "It is a good practice to format code."}], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 8469240, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10155793383973694/picture?type=large", "display_name": "Mason SB", "link": "https://stackoverflow.com/users/8469240/mason-sb"}, "edited": false, "score": 0, "creation_date": 1526571016, "post_id": 50380024, "comment_id": 87806268, "body": "Thank you for the help! The Helper static class was something i didn&#39;t even think about!"}, {"owner": {"reputation": 167, "user_id": 8469240, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10155793383973694/picture?type=large", "display_name": "Mason SB", "link": "https://stackoverflow.com/users/8469240/mason-sb"}, "edited": false, "score": 0, "creation_date": 1526582750, "post_id": 50380024, "comment_id": 87812771, "body": "appreciate it! Thanks"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 1, "last_activity_date": 1526505508, "creation_date": 1526505508, "answer_id": 50380024, "question_id": 50379815, "link": "https://stackoverflow.com/questions/50379815/angular-passing-parameters-from-component-to-service/50380024#50380024", "title": "Angular. Passing Parameters from component to service", "body": "<p>You can use <strong>Named Routes</strong> and some helper static class to easy use it. </p>\n"}], "owner": {"reputation": 167, "user_id": 8469240, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/10155793383973694/picture?type=large", "display_name": "Mason SB", "link": "https://stackoverflow.com/users/8469240/mason-sb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1526505508, "creation_date": 1526504455, "question_id": 50379815, "link": "https://stackoverflow.com/questions/50379815/angular-passing-parameters-from-component-to-service", "title": "Angular. Passing Parameters from component to service", "body": "<p>I feel like this is an appropriate situation to ask this and I have read, so please don't bash me.\n(<a href=\"https://meta.stackoverflow.com/questions/296542/are-is-it-a-good-practice-questions-off-topic-or-opinion-based\">Are &quot;Is it a good practice...?&quot; questions off topic or opinion-based?</a>)</p>\n\n<p>MY QUESTION: What is the alternative (better practice) for passing a parameter from a component.ts to to a service.ts that is to be used to define the URL. (ex. param value =123 , URL: www.blogs.com/posts/\"add params here\")</p>\n\n<p>Background: A users form has a name field, and zipcode field. Based off of the users zipcode, they will see different Providers. What I did was took the zipcode value from the form and passed it from one function to the next over to the service.ts. From there is just added that value to the URL string ex... user 1 ,zipcode =12345 \nzip= user.zipcode\ndata_service = url = \"www.blog.com/post/+ val\" + zip</p>\n\n<p>. So this works, but I feel like this is a bad practice. </p>\n\n<p>:CODE <br>\ncomponent.ts <br>\n(this part starts from the code that loads the users info)<br>\n         ...      </p>\n\n<pre><code>     const zipParam = this.patientDetails.patient_zipcode\n        console.log(zipParam)\n      this.getProvider(zipParam);\n      }\n      }, err =&gt; {\n      console.log(err);\n      });\n      }\n\n\n   getProvider(zip){\n    console.log(\"fZip:\",zip)\n    this.reqObj.zip = zip\n     this.dss.getProvider(this.reqObj,zip).subscribe(res =&gt; {\n      console.log(\"Checkres\",res);\n     this.serviceProvider = res\n     }, err =&gt;{\n  console.log(err);\n});\n};\n</code></pre>\n\n<p><br>\nService.ts</p>\n\n<pre><code>      getProvider(reqObj,zip): Observable&lt;Object&gt;{\n      console.log(\"dZip\",zip)\n      return this.http.get(\"https://blog.com\"+ zip + \"&amp;radius=1\").map(res =&gt; res); \n       };\n       }\n</code></pre>\n\n<p><br></p>\n"}, {"tags": ["typescript", "mocha.js"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1526935292, "post_id": 50379674, "comment_id": 87926132, "body": "What happens when you run the mocha command directly?"}], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 4274679, "user_type": "registered", "profile_image": "https://graph.facebook.com/1277874449/picture?type=large", "display_name": "Tomislav", "link": "https://stackoverflow.com/users/4274679/tomislav"}, "is_accepted": true, "score": 2, "last_activity_date": 1527142170, "creation_date": 1527142170, "answer_id": 50502115, "question_id": 50379674, "link": "https://stackoverflow.com/questions/50379674/mocha-cant-find-my-test-files-when-using-typescript/50502115#50502115", "title": "Mocha can&#39;t find my test files when using TypeScript", "body": "<p>I think that you didn't give enough info about the problem. There could be few problems and solutions:</p>\n\n<ol>\n<li>Check <code>package.json</code> (do you have everything installed properly)</li>\n<li>Check <code>.spec.ts</code> files, can they compile properly</li>\n<li>Can you try to run a test by test, maybe there is a problem in some of them</li>\n<li>Try to run mocha directly through terminal without <code>mocha.units.opts</code>file</li>\n</ol>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1357, "favorite_count": 0, "accepted_answer_id": 50502115, "answer_count": 1, "score": 2, "last_activity_date": 1527142170, "creation_date": 1526503843, "question_id": 50379674, "link": "https://stackoverflow.com/questions/50379674/mocha-cant-find-my-test-files-when-using-typescript", "title": "Mocha can&#39;t find my test files when using TypeScript", "body": "<p>My <code>test</code> script in <code>package.json</code> is:</p>\n\n<pre><code>\"test\": \"yarn seed &amp;&amp; (nyc mocha --opts ./test/mocha.unit.opts)\",\n</code></pre>\n\n<p>My <code>mocha.unit.opts</code> is:</p>\n\n<pre><code>--require ts-node/register\n--require source-map-support/register\n--require ./test/unit/helper.ts\n--recursive\n./test/unit/**/*.spec.ts\n--exit\n</code></pre>\n\n<p>My  folder structure looks like:\n<a href=\"https://i.stack.imgur.com/72U0G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72U0G.png\" alt=\"enter image description here\"></a></p>\n\n<p>There's no error, however. It shows the coverage (all 100% somehow) and exits with:</p>\n\n<pre><code>error Command failed with exit code 1.\n</code></pre>\n\n<p>When I run <code>yarn test</code></p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["visual-studio", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1526503348, "post_id": 50379549, "comment_id": 87775379, "body": "Under <code>shared&#47;</code> can you add <code>package.json</code> with <code>{&quot;name&quot;: &quot;shared&quot;}</code>?"}, {"owner": {"reputation": 25264, "user_id": 767, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a21cd584ff01df83adbf6b3d03d6ecdb?s=128&d=identicon&r=PG", "display_name": "Brian Sullivan", "link": "https://stackoverflow.com/users/767/brian-sullivan"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1526503952, "post_id": 50379549, "comment_id": 87775635, "body": "@ExplosionPills Added that file, and included it in the VS web project, but it didn&#39;t seem to have any effect."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1526882074, "post_id": 50379549, "comment_id": 87899364, "body": "Can you create a minimal project and see if the issue still occurs, if it does may be a bug you may need to report?"}, {"owner": {"reputation": 25264, "user_id": 767, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a21cd584ff01df83adbf6b3d03d6ecdb?s=128&d=identicon&r=PG", "display_name": "Brian Sullivan", "link": "https://stackoverflow.com/users/767/brian-sullivan"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1526919901, "post_id": 50379549, "comment_id": 87918967, "body": "@TarunLalwani Just confirmed that I still see this issue with a brand new MVC app. May indeed need to be filed as a bug."}], "answers": [{"tags": [], "owner": {"reputation": 25264, "user_id": 767, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a21cd584ff01df83adbf6b3d03d6ecdb?s=128&d=identicon&r=PG", "display_name": "Brian Sullivan", "link": "https://stackoverflow.com/users/767/brian-sullivan"}, "is_accepted": true, "score": 5, "last_activity_date": 1526924240, "creation_date": 1526924240, "answer_id": 50453971, "question_id": 50379549, "link": "https://stackoverflow.com/questions/50379549/visual-studio-typescript-intellisense-doesnt-respect-tsconfig-json-baseurl/50453971#50453971", "title": "Visual Studio Typescript Intellisense doesn&#39;t respect tsconfig.json baseUrl", "body": "<p>Turns out the tsconfig.json file needs to be included in the project to get Intellisense to be happy. Not sure why the <code>&lt;TypeScriptBaseUrl&gt;</code> setting wasn't good enough. That's probably still a bug that needs to be reported.</p>\n"}, {"tags": [], "owner": {"reputation": 47055, "user_id": 533120, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b5f148cb28de16681d12f3edfe96f580?s=128&d=identicon&r=PG", "display_name": "Branko Dimitrijevic", "link": "https://stackoverflow.com/users/533120/branko-dimitrijevic"}, "is_accepted": false, "score": 0, "last_activity_date": 1614803376, "last_edit_date": 1614803376, "creation_date": 1614801063, "answer_id": 66463957, "question_id": 50379549, "link": "https://stackoverflow.com/questions/50379549/visual-studio-typescript-intellisense-doesnt-respect-tsconfig-json-baseurl/66463957#66463957", "title": "Visual Studio Typescript Intellisense doesn&#39;t respect tsconfig.json baseUrl", "body": "<p>In case somebody encounters a similar problem in an SDK-style project, you can add this to your <code>.csproj</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--\n  Looks like we need to include tsconfig.json explicitly into the project\n  (as opposed to being &quot;auto-included&quot; by being in the project's folder),\n  for the Visual Studio IntelliSense to pick it up.\n--&gt;\n&lt;ItemGroup&gt;\n  &lt;Content Include=&quot;tsconfig.json&quot; /&gt;\n&lt;/ItemGroup&gt;\n</code></pre>\n<p>Assuming your TypeScript is installed in <code>node_modules</code>, Visual Studio IntelliSense should be able to use it as a language server while respecting the <code>tsconfig.json</code>.</p>\n<p>Also, I found disabling Resharper's support for TypeScript helpful. Looks like Resharper lags in supporting the latest TypeScript versions. Go to Extensions / Resharper / Options / Products &amp; Features, untick JavaScript and TypeScript.</p>\n<p>Restart Visual Studio after all these changes.</p>\n"}], "owner": {"reputation": 25264, "user_id": 767, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/a21cd584ff01df83adbf6b3d03d6ecdb?s=128&d=identicon&r=PG", "display_name": "Brian Sullivan", "link": "https://stackoverflow.com/users/767/brian-sullivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 932, "favorite_count": 0, "accepted_answer_id": 50453971, "answer_count": 2, "score": 9, "last_activity_date": 1614803376, "creation_date": 1526503193, "last_edit_date": 1526919753, "question_id": 50379549, "link": "https://stackoverflow.com/questions/50379549/visual-studio-typescript-intellisense-doesnt-respect-tsconfig-json-baseurl", "title": "Visual Studio Typescript Intellisense doesn&#39;t respect tsconfig.json baseUrl", "body": "<p>I've got a web project in Visual Studio 2017 with a large TypeScript codebase. When I do a TypeScript build, I get no errors, and the resulting JavaScript is correct. However, my intellisense shows errors for any imports using a path based on the <code>baseUrl</code> configured in my tsconfig.json.</p>\n\n<p>For example:\n<a href=\"https://i.stack.imgur.com/6qNuG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6qNuG.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I change these to a relative path, the errors go away:\n<a href=\"https://i.stack.imgur.com/kO6em.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kO6em.png\" alt=\"enter image description here\"></a></p>\n\n<p>Other editors' code inspection doesn't seem to have a problem with the former. We've confirmed it working in VS Code and JetBrains Rider.</p>\n\n<p>My tsconfig.json is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n\t\"compilerOptions\": {\r\n\t\t\"noImplicitAny\": false,\r\n\t\t\"noEmitOnError\": true,\r\n\t\t\"strictNullChecks\": true,\r\n\t\t\"removeComments\": false,\r\n\t\t\"sourceMap\": true,\r\n\t\t\"target\": \"es5\",\r\n\t\t\"module\": \"amd\",\r\n\t\t\"moduleResolution\": \"node\",\r\n\t\t\"baseUrl\": \"./Content/ts\"\r\n\t},\r\n\t\"exclude\": [\r\n\t\t\"node_modules\"\r\n\t],\r\n\t\"compileOnSave\": true\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've tried as many different Visual Studio settings as I can find, but nothing seems to affect whether intellisense is able to find the modules. Again, the compiler itself has no issue finding them and building.</p>\n\n<p>Update: Forgot to include that we also had the <code>&lt;TypeScriptBaseUrl&gt;</code> property defined in the .csproj file, set to the same value that's present in our tsconfig.json. This causes the TS build within Visual Studio to succeed, but doesn't seem to affect Intellisense.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 2, "creation_date": 1526502827, "post_id": 50379444, "comment_id": 87775150, "body": "Easiest way is to put <code>getValues</code> inside the class. Then make a variable in <code>this.state</code> that you can assign the data you get from your API. Just render that <code>this.state</code> variable"}, {"owner": {"reputation": 291, "user_id": 7922157, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/c635986c9a1282668147ecb228113ab1?s=128&d=identicon&r=PG&f=1", "display_name": "Curious13", "link": "https://stackoverflow.com/users/7922157/curious13"}, "edited": false, "score": 0, "creation_date": 1526503022, "post_id": 50379444, "comment_id": 87775230, "body": "Once you fetch your data from the server, you have to set it to state and then you can display it in your view. <code>return</code> block"}, {"owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "edited": false, "score": 0, "creation_date": 1526506525, "post_id": 50379444, "comment_id": 87776681, "body": "I don&#39;t think putting <code>getValues</code> into the component is necessary, if anything, I&#39;d abstract it through a non-react class that only handles react requests."}], "answers": [{"comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1526505366, "post_id": 50379700, "comment_id": 87776243, "body": "I think running <code>getValues</code> in a <code>componentDidMount</code> is a better option. Also, you don&#39;t need to hold a temporary assignment of context when you use an arrow function. You can keep it as <code>this.setState</code>"}, {"owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1526506188, "post_id": 50379700, "comment_id": 87776554, "body": "updated the code. The convention <b>is</b> to use <code>componentDidMount</code> as it makes component extension more straight forward."}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1526506545, "post_id": 50379700, "comment_id": 87776690, "body": "Yes I am aware, I just didn&#39;t want to come off as a dick :P. <code>componentDidMount</code> ensures <code>render</code> has already been run, and since <code>setState</code> is async, the sequence of events can get fumbled around when it&#39;s run in the <code>constructor</code>."}, {"owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1526506694, "post_id": 50379700, "comment_id": 87776749, "body": "that part of the comment wasn&#39;t meant for you, just wanted to clarify the reason for updating"}], "tags": [], "owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1526506040, "last_edit_date": 1526506040, "creation_date": 1526503944, "answer_id": 50379700, "question_id": 50379444, "link": "https://stackoverflow.com/questions/50379444/basic-reactjs-how-to-get-rest-data-and-render-it/50379700#50379700", "title": "basic reactjs, how to get REST data and render it", "body": "<p>something like this... </p>\n\n<pre><code>export default class extends React.Component {\n  constructor(props) {\n    super(props);\n    // initialize myData to prevent render from running map on undefined\n    this.state = {myData: []};\n  }\n\n  // use componentDidMount lifecycle method to call function\n  componentDidMount() {\n    // call your function here, and on promise execute `setState` callback\n    getValues()\n      .then(data =&gt; {\n        this.setState({myData: data})\n      }\n  }\n\n  render() {\n    // create a list\n    const items = this.state.myData.map((datum) =&gt; {\n      return &lt;LayoutContent&gt;\n        &lt;h1&gt;{datum}&lt;/h1&gt;\n      &lt;/LayoutContent&gt;\n   });\n\n    // return with the list\n    return (\n      &lt;LayoutContentWrapper style={{ height: '100vh' }}&gt;\n        {items}\n      &lt;/LayoutContentWrapper&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23212, "user_id": 197546, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3f3f0b68c6bba7cc2cf07f51c1a1afcd?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/197546/daniel"}, "edited": false, "score": 0, "creation_date": 1526506375, "post_id": 50379991, "comment_id": 87776624, "body": "Good call on cancelling request on unmount"}], "tags": [], "owner": {"reputation": 1805, "user_id": 8912636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yEJR9.jpg?s=128&g=1", "display_name": "Steve Vaughan", "link": "https://stackoverflow.com/users/8912636/steve-vaughan"}, "is_accepted": true, "score": 1, "last_activity_date": 1526505797, "last_edit_date": 1526505797, "creation_date": 1526505329, "answer_id": 50379991, "question_id": 50379444, "link": "https://stackoverflow.com/questions/50379444/basic-reactjs-how-to-get-rest-data-and-render-it/50379991#50379991", "title": "basic reactjs, how to get REST data and render it", "body": "<p>The lifecycle method you choose to fetch the data in will largely depend on whether or not you need to update the data at any point and re-render, or whether that data depends on any props passed to the component.</p>\n\n<p>Your example looks as though it is a one time API call that doesn't depend on any props, so placing it in the constructor would be valid.</p>\n\n<p>I would move the getValues code to within the class, and do something like this. Note: I've used async/await, but you could use promise callbacks if you prefer.</p>\n\n<pre><code>export default class MyComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: []\n        }\n        this.fetchData();\n    }\n\n    async fetchData() {\n        try {\n            const data = await this.getValues();\n            !this.isCancelled &amp;&amp; this.setState({ data });\n        } catch(error) {\n            // Handle accordingly\n        }\n    }\n\n    getValues() { \n        // Your API calling code\n    }\n\n    componentWillUnmount() {\n        this.isCancelled = true;\n    }\n\n    render() {\n        const { data } = this.state;\n        return (\n            &lt;ul&gt;\n                {data &amp;&amp; data.map(item =&gt; (\n                    &lt;li&gt;{item.name}&lt;/li&gt;\n                ))}\n            &lt;/ul&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>If you needed to fetch the data again at any point, you might use one of the other lifecycle hooks to listen for prop changes, and call the <code>fetchData</code> method again.</p>\n\n<p>Note the inclusion of a failsafe for the component un-mounting before the async call has finished, preventing React from throwing an error about setting state in an unmounted component. </p>\n"}], "owner": {"reputation": 26702, "user_id": 1014217, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/6zW1x.jpg?s=128&g=1", "display_name": "Luis Valencia", "link": "https://stackoverflow.com/users/1014217/luis-valencia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 50379991, "answer_count": 2, "score": 1, "last_activity_date": 1526506040, "creation_date": 1526502640, "last_edit_date": 1526503449, "question_id": 50379444, "link": "https://stackoverflow.com/questions/50379444/basic-reactjs-how-to-get-rest-data-and-render-it", "title": "basic reactjs, how to get REST data and render it", "body": "<p>I have a basic rect component and I already figured out how to get data from a protected rest api, however I am not sure how to render it in the component and how to call that function, or in which lifecycle I should call the function.</p>\n\n<pre><code>import React, { Component } from 'react';\nimport LayoutContentWrapper from '../components/utility/layoutWrapper';\nimport LayoutContent from '../components/utility/layoutContent';\nvar q = require('q');\n\nvar Adal = require('../adal-webapi/adal-request');\n\nfunction getValues() {\n    var deferred = q.defer();\n    Adal.adalRequest({\n      url: 'https://abc.azurewebsites.net/api/values'\n    }).then(function(data) {\n      console.log(data);\n    }, function(err) {\n      deferred.reject(err);\n    });\n    return deferred.promise;\n  }\n\nexport default class extends Component {\n\n\n\n  render() {\n    return (\n      &lt;LayoutContentWrapper style={{ height: '100vh' }}&gt;\n        &lt;LayoutContent&gt;\n          &lt;h1&gt;Test Page&lt;/h1&gt;\n        &lt;/LayoutContent&gt;\n      &lt;/LayoutContentWrapper&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1526502650, "creation_date": 1526502650, "answer_id": 50379448, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input/50379448#50379448", "title": "Dynamically add attributes in React render input", "body": "<p>Yes, you can do. e.g. <code>props</code> is an object which contains props or properties that you want to add based on some condition then you can something like</p>\n\n<pre><code> const props = { id: 'time', type: 'time' };\n if (condition1) {\n    props.value = 'some value';\n }\n if(condition2) {\n    props.abc = 'some other value';\n }   \n &lt;input {...props} &gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "is_accepted": false, "score": 0, "last_activity_date": 1526502846, "creation_date": 1526502846, "answer_id": 50379470, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input/50379470#50379470", "title": "Dynamically add attributes in React render input", "body": "<p>You should add an onchange attribute on the input which changes the state of your component. This will look something like this:</p>\n\n<pre><code>&lt;input type=\"text\" value={this.state.value} onChange={this.handleChange} /&gt;\n</code></pre>\n\n<p>The handleChange method should then look something like this:</p>\n\n<pre><code>handleChange = (event) =&gt; {\n    this.setState({value: event.target.value});\n  }\n</code></pre>\n\n<p>For more information check out the following article: <a href=\"https://reactjs.org/docs/forms.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/forms.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4107, "user_id": 9770840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/984adcd06e81b4ed593225545018aacb?s=128&d=identicon&r=PG&f=1", "display_name": "Attersson", "link": "https://stackoverflow.com/users/9770840/attersson"}, "is_accepted": false, "score": 0, "last_activity_date": 1526513370, "last_edit_date": 1526513370, "creation_date": 1526502850, "answer_id": 50379473, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input/50379473#50379473", "title": "Dynamically add attributes in React render input", "body": "<p>I guess you are rendering the tag within a render() function within a JSX expression (otherwise you would have added it through normal Javascript or JQuery).</p>\n\n<p>Therefore the JSX expression will have something like:</p>\n\n<p><code>&lt;input id=\"time\" type=\"time\" value={yourValue}&gt;</code></p>\n\n<p>making sure that yourValue is in scope within the context of execution of your render() in your ReactComponent class or in the props. Alternatively it could be in the state.</p>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 9094578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEJ6n.jpg?s=128&g=1", "display_name": "Cory Baker", "link": "https://stackoverflow.com/users/9094578/cory-baker"}, "is_accepted": false, "score": 0, "last_activity_date": 1526502851, "creation_date": 1526502851, "answer_id": 50379474, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input/50379474#50379474", "title": "Dynamically add attributes in React render input", "body": "<p>You would need to set the state of React. So...</p>\n\n<pre><code>this.setState({\n  myValue: newValue\n})\n</code></pre>\n\n<p>Then, inside render:</p>\n\n<pre><code>&lt;input id=\"time\" type=\"time\" value={this.state.myValue}&gt;\n</code></pre>\n\n<p>This assumes you have your state setup with a constructor. Which is a whole other can of worms.</p>\n"}, {"tags": [], "owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "is_accepted": false, "score": 0, "last_activity_date": 1526508553, "creation_date": 1526508553, "answer_id": 50380603, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input/50380603#50380603", "title": "Dynamically add attributes in React render input", "body": "<p>You shouldn't dynamically add or remove a \"value\" field. When you create a React input, it must be either \"controlled\" or \"uncontrolled\" through its whole lifespan. Changing it will make React yell a warning on the console.</p>\n\n<p>React understads an input is meant to be uncontrolled if value is not present or undefined, so you need to at least set it to <code>\"\"</code> in order to achieve a controlled empty input.</p>\n\n<ul>\n<li><p>\"Controlled\" means react controls its value. Ex: For the value to be changed, you'd need to notify react of the change (through onChange + setState) and then make it change its value;</p></li>\n<li><p>\"Uncontrolled\" means react can't control the input's value, and you'd read and change the value through regular DOM ways (ex: <code>input.value</code>).</p></li>\n</ul>\n\n<p>That being said, in order to dynamically change the presence of any element properties (props), you can use the \"object spread\" operator.</p>\n\n<pre><code>function render() {\n  const custom = { value: 2, color: randomColor() }\n  return &lt;Element {...custom}/&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 9405197, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Tasha Herber", "link": "https://stackoverflow.com/users/9405197/tasha-herber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1053, "favorite_count": 0, "accepted_answer_id": 50379448, "answer_count": 5, "score": -1, "last_activity_date": 1526513370, "creation_date": 1526502399, "question_id": 50379381, "link": "https://stackoverflow.com/questions/50379381/dynamically-add-attributes-in-react-render-input", "title": "Dynamically add attributes in React render input", "body": "<p>I have an input tag in render like this:</p>\n\n<pre><code>&lt;input id=\"time\" type=\"time\"&gt;\n</code></pre>\n\n<p>and I need dynamimically add <code>value</code> attribute</p>\n\n<p>How can I do this in React? Thanks in advance</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 2, "creation_date": 1526502361, "post_id": 50379361, "comment_id": 87774964, "body": "No; TypeScript needs to be able to resolve the import at compile time."}, {"owner": {"reputation": 101, "user_id": 11603006, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wcr2k3Rz1uM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfgXs41Y7mXABCIv6NIXFnrm60h4w/mo/photo.jpg?sz=128", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/11603006/jonathan"}, "edited": false, "score": 0, "creation_date": 1615380925, "post_id": 50379361, "comment_id": 117671944, "body": "you can use <code>require</code> instead. See: <a href=\"https://stackoverflow.com/q/36955213/11603006\">stackoverflow.com/q/36955213/11603006</a>"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 7, "last_activity_date": 1526502562, "creation_date": 1526502562, "answer_id": 50379423, "question_id": 50379361, "link": "https://stackoverflow.com/questions/50379361/string-literal-expected-when-importing-in-typescript/50379423#50379423", "title": "String literal expected. when importing in typescript", "body": "<p>This is not legal syntax in ES6 modules or in TypeScript. Part of the ES6 module spec is that dependencies are always statically resolvable.</p>\n"}, {"tags": [], "owner": {"reputation": 10923, "user_id": 9449426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f65f424fd34b2e1a7e875f9311f88c?s=128&d=identicon&r=PG&f=1", "display_name": "NearHuscarl", "link": "https://stackoverflow.com/users/9449426/nearhuscarl"}, "is_accepted": false, "score": 2, "last_activity_date": 1602259067, "creation_date": 1602259067, "answer_id": 64283456, "question_id": 50379361, "link": "https://stackoverflow.com/questions/50379361/string-literal-expected-when-importing-in-typescript/64283456#64283456", "title": "String literal expected. when importing in typescript", "body": "<p>In my case I did this which is illegal apparently:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { two }, one from &quot;./file&quot;;\n</code></pre>\n<p>While it should be this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import one, { two } from &quot;./file&quot;;\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7201, "favorite_count": 0, "accepted_answer_id": 50379423, "answer_count": 2, "score": 8, "last_activity_date": 1602259067, "creation_date": 1526502303, "question_id": 50379361, "link": "https://stackoverflow.com/questions/50379361/string-literal-expected-when-importing-in-typescript", "title": "String literal expected. when importing in typescript", "body": "<pre><code>import * as app from `${process.cwd()}/server`\n</code></pre>\n\n<p>It give me the error:</p>\n\n<pre><code>[ts] String literal expected.\n</code></pre>\n\n<p>Can I not interpolate strings when importing?</p>\n"}, {"tags": ["c#", "linq", "typescript"], "comments": [{"owner": {"reputation": 1016, "user_id": 3511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HouSD.jpg?s=128&g=1", "display_name": "Bayeni", "link": "https://stackoverflow.com/users/3511144/bayeni"}, "edited": false, "score": 1, "creation_date": 1526502659, "post_id": 50379196, "comment_id": 87775106, "body": "Did you try using lodash uniq?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 1, "creation_date": 1526503427, "post_id": 50379196, "comment_id": 87775419, "body": "Self promotion: You could try my library <a href=\"https://www.npmjs.com/package/loq\" rel=\"nofollow noreferrer\">loq</a>  for <code>loq(someIterable).groupBy(item=&gt;item.prop).select(g=&gt;g.singl&zwnj;&#8203;e())</code>. The <a href=\"https://github.com/biggyspender/loq/blob/master/test/library.spec.js\" rel=\"nofollow noreferrer\">tests</a> will give you an idea of what&#39;s available."}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "edited": false, "score": 0, "creation_date": 1526503703, "post_id": 50379196, "comment_id": 87775540, "body": "...or even <code>loq(someIterable).distinctBy(item=&gt;item.prop)</code>"}, {"owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "reply_to_user": {"reputation": 1016, "user_id": 3511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HouSD.jpg?s=128&g=1", "display_name": "Bayeni", "link": "https://stackoverflow.com/users/3511144/bayeni"}, "edited": false, "score": 0, "creation_date": 1526504178, "post_id": 50379196, "comment_id": 87775730, "body": "@Bayeni thanks. Something like this? <code>_(list).chain() .where({ Id: parent.Id }) .groupBy(parent.IdShopItem.toString()) .uniq()</code> How do I return the initial type of <code>list</code> ? Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "edited": false, "score": 0, "creation_date": 1526630741, "post_id": 50380044, "comment_id": 87828469, "body": "<code>import { loq } from &quot;loq&quot;;</code> doesnt seem to work, am I missing something?"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "edited": false, "score": 0, "creation_date": 1526655058, "post_id": 50380044, "comment_id": 87843683, "body": "IIRC it should just be <code>import loq from &quot;loq&quot;</code>"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "edited": false, "score": 0, "creation_date": 1526655423, "post_id": 50380044, "comment_id": 87843918, "body": "@GeraldHughes ... Indeed, take a look: <a href=\"https://repl.it/repls/IntrepidTraumaticPublishers\" rel=\"nofollow noreferrer\">repl.it/repls/IntrepidTraumaticPublishers</a>"}, {"owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "edited": false, "score": 0, "creation_date": 1526655830, "post_id": 50380044, "comment_id": 87844173, "body": "I already tried this, for some reason it does not work for me. I&#39;m using requirejs, and I get this <code>Uncaught TypeError: Cannot read property &#39;default&#39; of undefined</code>. Thanks for your response"}, {"owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "reply_to_user": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "edited": false, "score": 1, "creation_date": 1526664755, "post_id": 50380044, "comment_id": 87848713, "body": "@GeraldHughes Thats strange, because it does have a UMD loader. I added a version that uses requirejs (but no es6 import syntax). It might help. I don&#39;t use requirejs, so this is as far as I can take this. Good luck."}], "tags": [], "owner": {"reputation": 105321, "user_id": 14357, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/SfY0b.png?s=128&g=1", "display_name": "spender", "link": "https://stackoverflow.com/users/14357/spender"}, "is_accepted": false, "score": 2, "last_activity_date": 1526664607, "last_edit_date": 1592644375, "creation_date": 1526505596, "answer_id": 50380044, "question_id": 50379196, "link": "https://stackoverflow.com/questions/50379196/lodash-equivalent-to-c-linq-groupby-and-select-in-typescript/50380044#50380044", "title": "Lodash Equivalent to C# LINQ GroupBy and Select in TypeScript", "body": "<h3>Disclaimer: I wrote this library</h3>\n<p>You could use the javascript <a href=\"https://github.com/biggyspender/loq\" rel=\"nofollow noreferrer\">loq</a> library to achieve this. Here's a snippet to get you on your way:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var list = [\n  {name:\"dog\",type:\"animal\"},\n  {name:\"cat\",type:\"animal\"},\n  {name:\"snake\",type:\"animal\"},\n  {name:\"table\",type:\"furniture\"},\n  {name:\"chair\",type:\"furniture\"},\n];\nvar filtered = loq(list).distinctBy(item =&gt; item.type);\nconsole.log(filtered.toArray());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.rawgit.com/biggyspender/loq/67db7014/lib/loq.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>...or with requirejs</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>requirejs.config({\n    paths: {\n        loq: 'https://cdn.rawgit.com/biggyspender/loq/67db7014/lib/loq.min'\n    }\n});\n\nrequire(['loq'], function(loq){\n  var list = [\n    {name:\"dog\",type:\"animal\"},\n    {name:\"cat\",type:\"animal\"},\n    {name:\"snake\",type:\"animal\"},\n    {name:\"table\",type:\"furniture\"},\n    {name:\"chair\",type:\"furniture\"},\n  ];\n  var filtered = loq(list).distinctBy(item =&gt; item.type);\n  console.log(filtered.toArray());\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>It's a relatively complete reimplementation of LINQ-to-objects on iterables (objects that implement <code>Symbol.iterator</code>) with a few extra goodies (such as <code>distinctBy</code>). Take a look at the <a href=\"https://github.com/biggyspender/loq/blob/master/test/library.spec.js\" rel=\"nofollow noreferrer\">tests</a> to see other uses.</p>\n"}], "owner": {"reputation": 4666, "user_id": 3264998, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/As8MR.png?s=128&g=1", "display_name": "Gerald Hughes", "link": "https://stackoverflow.com/users/3264998/gerald-hughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1599028939, "creation_date": 1526501521, "question_id": 50379196, "link": "https://stackoverflow.com/questions/50379196/lodash-equivalent-to-c-linq-groupby-and-select-in-typescript", "title": "Lodash Equivalent to C# LINQ GroupBy and Select in TypeScript", "body": "<p>I'm trying to find a way to do the equivalent of <code>.GroupBy(key =&gt; key.IdShopItem).Select(item =&gt; item.Single());</code> in typescript.</p>\n\n<p>I've tried this <code>LinQ for TypeScript</code> <a href=\"https://github.com/kutyel/linq.ts\" rel=\"nofollow noreferrer\">https://github.com/kutyel/linq.ts</a> but it seems there's a bug and also it does not support this so far.</p>\n\n<p>Also I've tried with <code>lodash</code> <a href=\"https://lodash.com/docs/4.17.10#groupBy\" rel=\"nofollow noreferrer\">https://lodash.com/docs/4.17.10#groupBy</a>, but I had no success.</p>\n\n<p>How can I achieve this please? Already spend a couple of hours on this...</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular-reactive-forms", "angular-forms"], "comments": [{"owner": {"reputation": 141, "user_id": 8388906, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214328408672772/picture?type=large", "display_name": "Jusmpty", "link": "https://stackoverflow.com/users/8388906/jusmpty"}, "edited": false, "score": 0, "creation_date": 1526715269, "post_id": 50378891, "comment_id": 87860605, "body": "You want to add an array for every item in an array, so you should have an array of an array of items in your form structure"}], "answers": [{"comments": [{"owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "edited": false, "score": 0, "creation_date": 1526508117, "post_id": 50379517, "comment_id": 87777244, "body": "This only provides one set of controls for each grouping where there should be multiple formarrays in each formgroup"}], "tags": [], "owner": {"reputation": 24588, "user_id": 1527544, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6665878d41d42307eb53e9fae311a471?s=128&d=identicon&r=PG", "display_name": "Antoniossss", "link": "https://stackoverflow.com/users/1527544/antoniossss"}, "is_accepted": false, "score": 0, "last_activity_date": 1526503000, "creation_date": 1526503000, "answer_id": 50379517, "question_id": 50378891, "link": "https://stackoverflow.com/questions/50378891/multiple-instances-of-formarray-with-angular-5-reactive-forms/50379517#50379517", "title": "Multiple Instances of FormArray with Angular 5 Reactive Forms", "body": "<p>You must have the same number of groups in form as in markup. For example</p>\n\n<pre><code>this.productionForm = this.fb.group({\n  products: this.fb.array([\n    this.initProducts(),\n    this.initProducts(),\n    this.initProducts()\n  ])\n})\n</code></pre>\n\n<p>will fix the issue, which means you have to interate the same collection that <code>*ngFor</code> iterates, and create the same ammount of <code>FormControls</code></p>\n"}, {"comments": [{"owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "edited": false, "score": 0, "creation_date": 1526852690, "post_id": 50430376, "comment_id": 87893444, "body": "Thanks this is what I was looking for, I&#39;ve awarded you the bounty.  How would I structure the form so that the group name was included in the JSON form value so that the form value looked similar to the original JSON data that is being pulled in?"}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "reply_to_user": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "edited": false, "score": 0, "creation_date": 1526853288, "post_id": 50430376, "comment_id": 87893584, "body": "Glad it helped. Well if the group name is not supposed to be editable, I&#39;d just advise you to stick with that solution. It&#39;s fine :) It&#39;s just a bit different than what you can find in tutorials or doc where they are using data from the form only. If you really want to put that into the form, you&#39;d have to create an intermediate form group as the name is common to multiple products. It&#39;d just had more complexity for nothing."}], "tags": [], "owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "is_accepted": true, "score": 2, "last_activity_date": 1526772661, "creation_date": 1526772661, "answer_id": 50430376, "question_id": 50378891, "link": "https://stackoverflow.com/questions/50378891/multiple-instances-of-formarray-with-angular-5-reactive-forms/50430376#50430376", "title": "Multiple Instances of FormArray with Angular 5 Reactive Forms", "body": "<p>Within your Stackblitz example you were not that far!</p>\n\n<p>Here's my proposal:</p>\n\n<pre><code>this.productionForm = this.fb.group({\n  production: this.fb.array(\n    this.prodData\n      // for each...\n      .groups\n      .reduce((acc, group) =&gt; [\n        ...acc,\n        // ...product of each group\n        ...group.products.map(product =&gt;\n          // create a form group\n          this.fb.group({\n            begTally: [product.begTally, Validators.required],\n            endTally: [product.endTally, Validators.required],\n          })\n        )\n      ], [])\n  )\n})\n</code></pre>\n\n<ul>\n<li>to create a form array, you need to wrap it into a form group (here called <code>production</code>)</li>\n<li>then loop on the groups using <code>reduce</code>, which allows you to then loop on every products from every groups</li>\n<li>build a form group for each of them</li>\n</ul>\n\n<p>In the view, it's a little bit more tricky as you want to access data that are not stored into the form. So we have to mix between original data and the ones within our form:</p>\n\n<pre><code>&lt;form [formGroup]=\"productionForm\"&gt;\n  &lt;table *ngFor=\"let group of prodData.groups; let i = index\"&gt;\n    &lt;thead&gt;\n      &lt;th class=\"group-name\"&gt;\n        &lt;span&gt;{{group.name}}&lt;/span&gt;\n      &lt;/th&gt;\n      &lt;th&gt;Beginning Tally&lt;/th&gt;\n      &lt;th&gt;Ending Tally&lt;/th&gt;\n      &lt;th&gt;Total&lt;/th&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody formArrayName=\"production\"&gt;\n      &lt;tr *ngFor=\"let product of group.products; let j=index\" [formGroupName]=\"i + j\"&gt;\n        &lt;td&gt;{{product.name}}&lt;/td&gt;\n\n        &lt;td&gt;\n          &lt;input type=\"number\" formControlName=\"begTally\"&gt;\n        &lt;/td&gt;\n\n        &lt;td&gt;\n          &lt;input type=\"number\" formControlName=\"endTally\"&gt;\n        &lt;/td&gt;\n\n        &lt;td&gt;\n          {{ product.begTally + product.endTally }}\n        &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Here's my fork of your Stackblitz with a working example:<br>\n<a href=\"https://stackblitz.com/edit/angular-kvlxnp?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-kvlxnp?file=src%2Fapp%2Fapp.component.ts</a></p>\n"}], "owner": {"reputation": 1709, "user_id": 3633970, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/j18ab.png?s=128&g=1", "display_name": "JordanBarber", "link": "https://stackoverflow.com/users/3633970/jordanbarber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5526, "favorite_count": 1, "accepted_answer_id": 50430376, "answer_count": 2, "score": 1, "last_activity_date": 1526772661, "creation_date": 1526500235, "question_id": 50378891, "link": "https://stackoverflow.com/questions/50378891/multiple-instances-of-formarray-with-angular-5-reactive-forms", "title": "Multiple Instances of FormArray with Angular 5 Reactive Forms", "body": "<p>I have a Form Array that I would like to duplicate for each iteration of an <code>*ngFor</code> loop.  My form is setup in the model as follows:</p>\n\n<pre><code>initProducts() {\n    return this.fb.group({\n      begTally: ['', Validators.required],\n      endTally: ['', Validators.required],\n    }) \n  }\n\n  ngOnInit() {\n    this.productionForm = this.fb.group({\n      products: this.fb.array([\n        this.initProducts()\n      ])\n    })\n  }\n</code></pre>\n\n<p>When I print out the form in the view with <code>{{ myform.value | json }}</code> I am only seeing one iteration of the form array.  Here's a <a href=\"https://stackblitz.com/edit/angular-lp3gpu\" rel=\"nofollow noreferrer\">StackBlitz</a> with the full setup.  I would also like to patch in the values to the form controls from my prodData json.  Not sure what I'm doing wrong.</p>\n"}, {"tags": ["node.js", "typescript", "asynchronous", "import"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1526505779, "post_id": 50378889, "comment_id": 87776397, "body": "What should happen with obj exactly?"}, {"owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1526506226, "post_id": 50378889, "comment_id": 87776570, "body": "@estus In the particular <code>loadPlugins</code> method I will be storing all <code>obj</code> in a map which I will access in another function to call those <code>IPlugin.compile</code> methods dynamically."}], "answers": [{"comments": [{"owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1526507302, "post_id": 50380343, "comment_id": 87776951, "body": "I am curious after you just mentioned I might as well just use <code>require</code> synchronously (which would simplify a lot for me as async methods can be a pain) what would you suggest, how should I require and instantiate the classes in the plugin files with using <code>require</code> instead of <code>import</code>?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1526507476, "post_id": 50380343, "comment_id": 87777007, "body": "Added the example. As you can see, once async/await is heavily used to provide sync-like control flow, it&#39;s fairly similar. I&#39;d just go with it."}, {"owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1526508180, "post_id": 50380343, "comment_id": 87777265, "body": "You have a minor typo as it need to be <code>{ new(): IPlugin }</code> but it finally works and even synchronized."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1526508270, "last_edit_date": 1526508270, "creation_date": 1526507003, "answer_id": 50380343, "question_id": 50378889, "link": "https://stackoverflow.com/questions/50378889/instantiate-object-after-promisified-import/50380343#50380343", "title": "Instantiate object after promisified import", "body": "<p><code>import()</code> promises aren't chained, this is a mistake similar to <a href=\"https://stackoverflow.com/a/50358563/3731501\">this case</a> that may result in problems with error handling and race conditions.</p>\n\n<p><code>map</code> shares a common potential problem with <a href=\"https://stackoverflow.com/a/50378002/3731501\">this case</a>. It's used only to provide promises to wait for them, but not actual values. Since the purpose of <code>async</code> function call is to get class instance, it's reasonable to map <code>pluginFile</code> input to <code>obj</code> output value if it's supposed to be stored then - or <code>compile</code> result if it isn't:</p>\n\n<pre><code>public async loadPlugins(): Promise&lt;...&gt; {\n  const plugins = await Promise.all(pluginFiles.map(async (pluginFile: string): Promise&lt;IPlugin&gt; =&gt; {\n    const pluginFilePath: string = path.join(pluginsFolder, pluginFile);\n    const pluginExports = await import(pluginFilePath);\n\n    // preferably pluginExports.default export to not rely on keys order\n    const Plugin: { new(): IPlugin } = Object.values(pluginExports)[0];\n    return new Plugin();\n  }));\n  ...\n}\n</code></pre>\n\n<p>The only real benefit that <code>import</code> provides here is that it's future-proof, it can seamlessly be used <em>natively</em> in Node.js with <em>third-party</em> ES modules (.mjs) files. Since TypeScript is used any way and uses <code>require</code> for ES module imports under the hood, it may be reasonable to discard asynchronous routine and use <code>require</code> synchronously instead of <code>import</code> for dynamic imports:</p>\n\n<pre><code>public loadPlugins(): &lt;...&gt; {\n  const plugins = pluginFiles.map((pluginFile: string): IPlugin =&gt; {\n    const pluginFilePath: string = path.join(pluginsFolder, pluginFile);\n    const pluginExports = require(pluginFilePath);\n\n     // preferably pluginExports.default export to not rely on keys order\n    const Plugin: { new(): IPlugin } = Object.values(pluginExports)[0];\n    return new Plugin();\n  }));\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 50380343, "answer_count": 1, "score": 2, "last_activity_date": 1526508270, "creation_date": 1526500232, "last_edit_date": 1526506461, "question_id": 50378889, "link": "https://stackoverflow.com/questions/50378889/instantiate-object-after-promisified-import", "title": "Instantiate object after promisified import", "body": "<p>I am struggling to instantiate object from dynamically imported classes. Basically I have some plugins which kinda look like this:</p>\n\n\n\n<pre><code>export interface IPlugin {\n    compile(logEvent: LogEventInfo): string;\n}\n\nexport class DatePlugin implements IPlugin {\n    public compile(logEvent: LogEventInfo): string {\n        const date: Date = new Date();\n        return `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`;\n    }\n}\n</code></pre>\n\n<p>In another file I want to dynamically crawl a folder, load all source files and instantiate them. I saw that <code>import(...).then()</code> can return a loaded object however in my case it returns the class and my object creation starts looking very ugly:</p>\n\n\n\n<pre><code>public async loadPlugins(): Promise&lt;void&gt; {\n    // ...\n    await Promise.all(pluginFiles.map(async (pluginFile: string): Promise&lt;void&gt; =&gt; {\n        const pluginFilePath: string = path.join(pluginsFolder, pluginFile);\n        import(pluginFilePath).then((plugin: any): void =&gt; {\n            const obj: IPlugin = (new plugin[Object.keys(plugin)[0]]() as IPlugin;\n            // ...\n        });\n    }));\n}\n</code></pre>\n\n<p>Isn't there any better way to instantiate all those classes when loading them?</p>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 2957761, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/41d6a2d8025efe66374adcd281406c29?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Etscheit", "link": "https://stackoverflow.com/users/2957761/paul-etscheit"}, "is_accepted": true, "score": 1, "last_activity_date": 1526507755, "creation_date": 1526507755, "answer_id": 50380474, "question_id": 50378655, "link": "https://stackoverflow.com/questions/50378655/angular-5-subject-in-material-2-dialog/50380474#50380474", "title": "Angular 5 subject in Material 2 Dialog", "body": "<p>So it turns our when using a BehaviorSubject in the authService everything works as expected. Reading the docs again, it sure makes a lot more sense to use BehaviorSubject. Im still not sure, why it worked for the other nav though.</p>\n\n<p>Updated Service:</p>\n\n<pre><code> userSignedIn$ = new BehaviorSubject&lt;boolean&gt;(false);\n\n  constructor(public authService: Angular2TokenService, private http: Http) {\n\n    this.authService.validateToken().subscribe(\n      res =&gt; res.status == 200 ? this.userSignedIn$.next(res.json().success) : this.userSignedIn$.next(false)\n    )\n  }\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 2957761, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/41d6a2d8025efe66374adcd281406c29?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Etscheit", "link": "https://stackoverflow.com/users/2957761/paul-etscheit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "accepted_answer_id": 50380474, "answer_count": 1, "score": 1, "last_activity_date": 1526507755, "creation_date": 1526499143, "question_id": 50378655, "link": "https://stackoverflow.com/questions/50378655/angular-5-subject-in-material-2-dialog", "title": "Angular 5 subject in Material 2 Dialog", "body": "<p>Im running into this strange error while implementing authentication for the mobile version of the navigation in a material 2 dialog.</p>\n\n<p>I wrote an auth service, that takes care of validating a users token and storing the result in a subject: </p>\n\n<pre><code>  userSignedIn$: Subject&lt;boolean&gt; = new Subject();\n\n  constructor(public authService: Angular2TokenService) {\n\n    this.authService.validateToken().subscribe(\n      res =&gt; res.status == 200 ? this.userSignedIn$.next(res.json().success) : this.userSignedIn$.next(false)\n    )\n  }\n</code></pre>\n\n<p>next, I have a function for launching the mobile navigation as a material 2 dialog (its a totally separate component for the mobile nav):</p>\n\n<pre><code> //the event listener is used to trigger the login/signup dialog and shouldn't be the problem here\n presentMobileMenuDialog(): void {\n    let dialogRef = this.dialog.open(MobileMenuComponent, {\n      height: '100%',\n      width: '100%',\n      maxWidth: '100vw',\n      panelClass: 'deine-mutter'\n    });\n\n    const sub = dialogRef.componentInstance.onClick.subscribe(action =&gt; {\n      this.presentAuthDialog(action)\n    });\n  }\n</code></pre>\n\n<p>next thing is my mobile-menu component, nothing special here:</p>\n\n<pre><code>export class MobileMenuComponent implements OnInit {\n  onClick = new EventEmitter&lt;string&gt;();\n  constructor(\n    public dialogRef: MatDialogRef&lt;MobileMenuComponent&gt;,\n    //initializing the authService which will be used in the html template\n    public authService: AuthService,\n    private router: Router,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  closeMenu(){\n    this.dialogRef.close()\n  }\n\n  //for triggering login and signup dialog (not part of the problem, but I left it just in case im missing something)\n  presentAuthDialog(mode) {\n    this.closeMenu()\n    this.onClick.emit(mode)\n  }\n\n  //basic routing and closing the dialog\n  forward(link){\n    this.closeMenu();\n    this.router.navigate([link]);\n  }\n\n\n  logout() {\n    this.closeMenu()\n    this.authService.logOutUser().subscribe(() =&gt; this.router.navigate(['/']));\n  }\n</code></pre>\n\n<p>on we go to the html template, which is where the problem is: </p>\n\n<pre><code>&lt;div class=\"mobile-menu fluid-container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-12 close\"&gt;\n      &lt;mat-icon (click)=\"closeMenu()\"&gt;close&lt;/mat-icon&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-12 search\"&gt;\n      &lt;app-search&gt;&lt;/app-search&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-12 menu-items\"&gt;\n      &lt;ul class=\"navbar-nav mr-auto\"&gt;\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" id=\"coins\" (click)=\"forward('/coins')\"&gt;Coins&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\"(click)=\"forward('/global')\"&gt;Global Stats&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li *ngIf=\"(authService.userSignedIn$ | async)\" class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" id=\"profile\" (click)=\"forward('/profile')\"&gt;Profile&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li *ngIf=\"(authService.userSignedIn$ | async)\" class=\"nav-item\"&gt;\n          &lt;a (click)=\"logout()\" class=\"nav-link\"&gt;Logout&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li *ngIf=\"!(authService.userSignedIn$ | async)\" class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" (click)=\"presentAuthDialog('login')\" &gt;Login&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li *ngIf=\"!(authService.userSignedIn$ | async)\" class=\"nav-item\"&gt;\n          &lt;a class=\"nav-link\" (click)=\"presentAuthDialog('register')\"&gt;Register&lt;/a&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>So the problem I'm having is, that no matter if I'm logged in or not, the menu will always show login and register. What puzzles me, is that I use the same authService and ngIf argument in the desktop version of the navigation and it works as expected, the only difference being, that its not implemented inside of a material 2 dialog. I played around with this for quite a while now and tried the following and always printed the expected boolean, how ever the frontend template (changed to *ngIf=\"userLogedIn\") wouldn't make the expected changes.</p>\n\n<pre><code>//shortend the class because this is getting way to long already\nuserLogedin: boolean = false;\n  ngOnInit() {\n    this.checkAuthStatus();\n  }\n\n  presentAuthDialog(mode) {\n    this.dialogRef.close()\n    this.onClick.emit(mode)\n    this.checkAuthStatus()\n  }\n\n  logout() {\n    this.dialogRef.close()\n    this.authService.logOutUser().subscribe(() =&gt; this.router.navigate(['/']));\n    this.checkAuthStatus();\n  }\n\n  checkAuthStatus(){\n    this.authService.userSignedIn$.subscribe(data =&gt; {\n      this.userLogedin = data;\n      console.log(data)\n    })\n  } \n</code></pre>\n\n<p>So I'm pretty confused why this is happening and sorry that this has became so long. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1526499014, "post_id": 50378612, "comment_id": 87773424, "body": "TypeScript doesn&#39;t do <i>any</i> casting or conversion. Also it&#39;s structurally typed, so <i>&quot;this thing isn&#39;t X because it has extra fields&quot;</i> doesn&#39;t really make sense."}], "answers": [{"tags": [], "owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "is_accepted": true, "score": 3, "last_activity_date": 1526499974, "creation_date": 1526499974, "answer_id": 50378837, "question_id": 50378612, "link": "https://stackoverflow.com/questions/50378612/how-to-cast-object-to-another-type-and-remove-unneeded-fields-in-typescript/50378837#50378837", "title": "How to cast object to another type and remove unneeded fields in TypeScript?", "body": "<p>There is no casting in TypeScript because that's not how TypeScript works. TS is a type layer on top of JS. When you assign a type in TS you don't set a type, you <em>annotate</em> that the given expression is of a certain type. When the TS code is transpiled to JS, all type information is stripped.</p>\n\n<p>Or in other words: the type system is JS, with TS you just announce that a variable is of a certain type. More often than never it happens that you assign the wrong type at design time and get suprised during debug that the variable has a completely different type than expected.</p>\n\n<p>If you want to be sure that a property is removed from an object, you need to go the JS way (and - if necessary - annotate the result with TS). Check <a href=\"https://stackoverflow.com/questions/208105/how-do-i-remove-a-property-from-a-javascript-object\">this Q&amp;A</a> to see how to remove properties from an object.</p>\n"}], "owner": {"reputation": 559, "user_id": 3126750, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63305039efd8a9ac89069646acc373ee?s=128&d=identicon&r=PG&f=1", "display_name": "SalysBruoga", "link": "https://stackoverflow.com/users/3126750/salysbruoga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7266, "favorite_count": 1, "accepted_answer_id": 50378837, "answer_count": 1, "score": 16, "last_activity_date": 1526499974, "creation_date": 1526498916, "question_id": 50378612, "link": "https://stackoverflow.com/questions/50378612/how-to-cast-object-to-another-type-and-remove-unneeded-fields-in-typescript", "title": "How to cast object to another type and remove unneeded fields in TypeScript?", "body": "<p>Suppose I have the following code:</p>\n\n<pre><code>interface A {\n    a: number;\n}\n\ninterface B extends A {\n    b: number;\n}\n\nconst b: B = {a: 1, b: 5};\nconst a: A = b as A;\n</code></pre>\n\n<p>Now the variable <code>a</code> has type <code>A</code>, but it still contains <code>b</code> inside of it. Sometimes it is undesirable - I'd like to be sure that, if I have a variable of type <code>A</code>, it has the exact fields of type <code>A</code>. I was wondering, whether TypeScript has some kind of a \"hard cast\" which would remove any unneeded fields when converting between types.</p>\n"}, {"tags": ["angular", "typescript", "flatbuffers"], "answers": [{"comments": [{"owner": {"reputation": 3246, "user_id": 385343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a5e2a428761bdd31e9314b7adafa288?s=128&d=identicon&r=PG", "display_name": "Nishant Shah", "link": "https://stackoverflow.com/users/385343/nishant-shah"}, "edited": false, "score": 0, "creation_date": 1526536293, "post_id": 50378808, "comment_id": 87783949, "body": "Tried but not working.. Got this error: &quot;Http failure during parsing for <a href=\"http://localhost:4201/assets/test.bin\" rel=\"nofollow noreferrer\">localhost:4201/assets/test.bin</a>&quot;."}, {"owner": {"reputation": 947, "user_id": 991144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-pxClVFjgrJ0/AAAAAAAAAAI/AAAAAAAAAFw/F-Jv8y-XbTU/photo.jpg?sz=128", "display_name": "David Findlay", "link": "https://stackoverflow.com/users/991144/david-findlay"}, "edited": false, "score": 0, "creation_date": 1565221077, "post_id": 50378808, "comment_id": 101288367, "body": "Agreed same problem here. This is trying to parse it as JSON."}], "tags": [], "owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "is_accepted": false, "score": 0, "last_activity_date": 1526499776, "creation_date": 1526499776, "answer_id": 50378808, "question_id": 50378190, "link": "https://stackoverflow.com/questions/50378190/load-binary-file-in-angular-5/50378808#50378808", "title": "Load Binary file in Angular 5", "body": "<p>Try something like:</p>\n\n<pre><code>let apiUrl = \"./assets/test.bin\";\nconst headers = {responseType: \"blob\"};\n\nlet data : Observable&lt;Blob&gt; = this.http.get&lt;Blob&gt;(apiUrl, headers);\ndata.subscribe( (response: Blob) =&gt; {\n  const data = response;\n  console.log(data); \n}, (error : HttpErrorResponse)=&gt; {\n  console.log(error.error.text);      \n});\n</code></pre>\n"}], "owner": {"reputation": 3246, "user_id": 385343, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9a5e2a428761bdd31e9314b7adafa288?s=128&d=identicon&r=PG", "display_name": "Nishant Shah", "link": "https://stackoverflow.com/users/385343/nishant-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2262, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1526499776, "creation_date": 1526497118, "question_id": 50378190, "link": "https://stackoverflow.com/questions/50378190/load-binary-file-in-angular-5", "title": "Load Binary file in Angular 5", "body": "<p>I am working in Angular 5 to integrate flatbuffers response with my API call.\nI am trying to load binary file using HttpClient in Angular 5.</p>\n\n<p>I have tried below code to get byte data in Uint8Array. Also tried with Blob but its not working.</p>\n\n<pre><code>let apiUrl = \"./assets/test.bin\";\nconst headers = {\n  headers: new HttpHeaders({responseType: \"application/octet-stream\"})\n};\n\nlet data : Observable&lt;Uint8Array&gt; = this.http.get&lt;Uint8Array&gt;(apiUrl, headers);\ndata.subscribe( (response: Uint8Array) =&gt; {\n  const data = response;\n  // console.log(data); \n  console.log(\"successful\");\n\n  return data;\n}, (error : HttpErrorResponse)=&gt; {\n  console.log(error.error.text);      \n});\n</code></pre>\n\n<p><a href=\"https://drive.google.com/file/d/1N2QpJ5RNPNAVb_r869GG29JhqrZXqJWA/view\" rel=\"nofollow noreferrer\">Binary file</a></p>\n\n<p><a href=\"https://drive.google.com/file/d/1Krr37QoFIJgmoKkfJxDA9AoODYwH8Jra/view?usp=sharing\" rel=\"nofollow noreferrer\">FBS Generated TS file</a></p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1526497096, "post_id": 50378162, "comment_id": 87772488, "body": "If you already know the properties you want why do you have to use the rest operator?"}, {"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "edited": false, "score": 2, "creation_date": 1526497312, "post_id": 50378162, "comment_id": 87772595, "body": "Short answer, no. You don&#39;t have information about the types at runtime, therefore you can&#39;t create a new object based on its properties."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 6, "last_activity_date": 1527145942, "last_edit_date": 1527145942, "creation_date": 1526499537, "answer_id": 50378742, "question_id": 50378162, "link": "https://stackoverflow.com/questions/50378162/auto-skip-properties-not-belonging-to-the-type-in-typescript/50378742#50378742", "title": "Auto-skip properties not belonging to the type in TypeScript", "body": "<p>Types aren't available at runtime.</p>\n\n<p>In order to make things DRY, helper definition object can be used:</p>\n\n<pre><code>const Point2DDefinition = { x: 1, y: 1 };\ntype Point2D = typeof Point2DDefinition;\n\nconst point: Point2D = Object.entries(response)\n.filter(([k]) =&gt; Object.keys(Point2DDefinition).includes(k))\n.reduce((obj, [k, v]) =&gt; Object.assign(obj, { [k]: v }), {} as Point2D);\n</code></pre>\n\n<p>Because definition object relies on inferred type, it has certain limitations, e.g. intersection or union types cannot be used (a value cannot be a number and a string at the same time).</p>\n\n<p>Notice that this code doesn't contain checks that <code>point</code> has all properties from <code>Point2D</code>, so technically it's more like <code>point: Partial&lt;Point2D&gt;</code>. It also doesn't check that values have same types as in definition.</p>\n\n<p>Both checks can be additionally provided for type safety at runtime.</p>\n\n<p>Alternatively, <code>Point2D</code> can be converted to a class that takes care of omitting unnecessary properties on construction.</p>\n\n<p>Properties should be listed explicitly:</p>\n\n<pre><code>class Point2D {\n    x: number;\n    y: number;\n\n    constructor({ x, y }: Point2D) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n\n<p>Validation can be optionally added to class constructor for type safety at runtime.</p>\n\n<p>A workaround for not listing properties explicitly would to combine a class with helper definition object to iterate over object properties. <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html\" rel=\"nofollow noreferrer\">Declaration merging</a> can be used to assert that <code>Point2D</code> class has all properties that are listed in <code>Point2DDefinition</code>:</p>\n\n<pre><code>type TPoint2D = typeof Point2DDefinition;\n\ninterface Point2D extends TPoint2D {};\nclass Point2D {\n    constructor(point: Point2D) {\n        for (const k of Object.keys(Point2DDefinition)) {\n            // runtime check for value types can also be added\n            if (k in point) {\n                this[k] = point[k];\n            } else {\n                throw new TypeError();\n            }\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>The important thing is that the reponse can have any number of foreign properties, so I cannot use object destructuring with the rest operator.</p>\n</blockquote>\n\n<p>Object destructuring results in WET but type-safe (at compilation time) code and certainly can be used for this purpose, for example:</p>\n\n<pre><code>const point: Point2D = (({ x, y }) =&gt; ({ x, y }))(response as Point2D);\n</code></pre>\n\n<p>It doesn't need the <code>...rest</code> of the properties because they are supposed to be discarded.</p>\n"}], "owner": {"reputation": 109, "user_id": 1554930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa6cad8b5f21e20197b296bc834c9d6?s=128&d=identicon&r=PG", "display_name": "QooBooS", "link": "https://stackoverflow.com/users/1554930/qooboos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 50378742, "answer_count": 1, "score": 4, "last_activity_date": 1527145942, "creation_date": 1526496995, "question_id": 50378162, "link": "https://stackoverflow.com/questions/50378162/auto-skip-properties-not-belonging-to-the-type-in-typescript", "title": "Auto-skip properties not belonging to the type in TypeScript", "body": "<p>Let's say I have the following type declaration:</p>\n\n<pre><code>declare type Point2D = { x: number, y: number }\n</code></pre>\n\n<p>I fetch some data from the server and get the following:</p>\n\n<pre><code>const response = { x: 1.2, y: 3.4, foreign1: 'value', foreign2: 'value' }\n</code></pre>\n\n<p>Is it possible to automatically ignore all properties that do not belong to my type? Like this:</p>\n\n<pre><code>const point: Point2D = response // Should skip all props except for 'x' and 'y'\n</code></pre>\n\n<p>The important thing is that the reponse can have any number of foreign properties, so I cannot use object destructuring with the rest operator.</p>\n"}, {"tags": ["javascript", "regex", "typescript", "markdown"], "comments": [{"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 1, "creation_date": 1526496621, "post_id": 50378039, "comment_id": 87772261, "body": "Please leave me a comment, why you have downvoted. I described my issue. I also added an example of how my <code>RegExp</code> looks like."}, {"owner": {"reputation": 4288, "user_id": 1519836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2852ae66cfd8671011c61239be84e25?s=128&d=identicon&r=PG", "display_name": "GottZ", "link": "https://stackoverflow.com/users/1519836/gottz"}, "edited": false, "score": 1, "creation_date": 1526497745, "post_id": 50378039, "comment_id": 87772812, "body": "someone probably agreed to the fact that markdown should never be parsed with regex. similar to html or xml but with a token scanner instead."}, {"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "reply_to_user": {"reputation": 4288, "user_id": 1519836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2852ae66cfd8671011c61239be84e25?s=128&d=identicon&r=PG", "display_name": "GottZ", "link": "https://stackoverflow.com/users/1519836/gottz"}, "edited": false, "score": 0, "creation_date": 1526497883, "post_id": 50378039, "comment_id": 87772879, "body": "@GottZ I am not trying to build a parser really. I am just trying to build an editor that can remove designators when found inside a selection. I&#39;ve got pretty far with it and this currently is a hard thing to come by."}, {"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1526498367, "post_id": 50378039, "comment_id": 87773094, "body": "While I agree that regular expressions aren&#39;t the place for as complex languages as markdown, looking at the problem in the simple context you provided, I believe this regex would work: <code>\\*\\s*?(.*?)\\s*?\\*</code>.  However, looking at the problem as a whole, you should <i>really</i> consider something a little more <a href=\"https://github.com/showdownjs/showdown\" rel=\"nofollow noreferrer\">suited for markdown</a>."}, {"owner": {"reputation": 1623, "user_id": 3263719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a3aff3452a5b060165118cd3a18f5e54?s=128&d=identicon&r=PG&f=1", "display_name": "c1moore", "link": "https://stackoverflow.com/users/3263719/c1moore"}, "edited": false, "score": 0, "creation_date": 1526498476, "post_id": 50378039, "comment_id": 87773147, "body": "If you want to include the spaces, just wrap them in parentheses, too.  Let me know if this helps and I&#39;ll write an actual answer.  I&#39;m not sure if this is what you&#39;re looking for, though."}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 0, "creation_date": 1526498828, "post_id": 50378039, "comment_id": 87773337, "body": "Named capturing groups are not available in JS. What are you trying to do? What are the requirements?"}, {"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526499186, "post_id": 50378039, "comment_id": 87773505, "body": "I will post a new question soon which will be simpler. I&#39;ve gone overboard here obviously."}, {"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526500680, "post_id": 50378039, "comment_id": 87774176, "body": "New simpler question: <a href=\"https://stackoverflow.com/q/50378996/1171404\">stackoverflow.com/q/50378996/1171404</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526498766, "post_id": 50378500, "comment_id": 87773306, "body": "This looks promising. The second match still contains <code>***</code> as prefix and <code>***</code> as suffix instead of just one <code>*</code> each."}, {"owner": {"reputation": 41522, "user_id": 1359668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xtsl4.jpg?s=128&g=1", "display_name": "Steven Doggart", "link": "https://stackoverflow.com/users/1359668/steven-doggart"}, "reply_to_user": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526498869, "post_id": 50378500, "comment_id": 87773358, "body": "I updated it a bit.  It&#39;s still not perfect, but closer"}, {"owner": {"reputation": 43580, "user_id": 1020526, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Scjj8.jpg?s=128&g=1", "display_name": "revo", "link": "https://stackoverflow.com/users/1020526/revo"}, "edited": false, "score": 1, "creation_date": 1526498920, "post_id": 50378500, "comment_id": 87773379, "body": "You should warn that named capturing groups are not available in JS. Chrome is the only one browser with its support."}, {"owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526499075, "post_id": 50378500, "comment_id": 87773455, "body": "I will post a new question soon which will be simpler. I&#39;ve gone overboard here obviously."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "edited": false, "score": 0, "creation_date": 1526541862, "post_id": 50378500, "comment_id": 87786820, "body": "@SebastianKrogull You have not gone overboard, you did not actually describe the <i>rules</i>, and your two examples are not quite enough to visualize your requirements. Those examples are mutually exclusive."}], "tags": [], "owner": {"reputation": 41522, "user_id": 1359668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xtsl4.jpg?s=128&g=1", "display_name": "Steven Doggart", "link": "https://stackoverflow.com/users/1359668/steven-doggart"}, "is_accepted": false, "score": 1, "last_activity_date": 1526498852, "last_edit_date": 1526498852, "creation_date": 1526498359, "answer_id": 50378500, "question_id": 50378039, "link": "https://stackoverflow.com/questions/50378039/regex-for-detecting-italic-markdown-designators/50378500#50378500", "title": "Regex for detecting italic markdown designators", "body": "<p>I don't know if this is exactly what you're looking for, but maybe it will give you a boost:</p>\n\n<pre><code>(?:^|(?&lt;=\\s))(?:\\*\\s*(?&lt;content1&gt;[^*]+)\\s*?\\*|\\*{3}\\s*(?&lt;content3&gt;[^*]*)\\s*\\*{3})(?:$|(?=\\s))\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/eJiE7S/2\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 1361, "user_id": 1171404, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/d4lJR.jpg?s=128&g=1", "display_name": "Sebastian Krogull", "link": "https://stackoverflow.com/users/1171404/sebastian-krogull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1526498852, "creation_date": 1526496388, "last_edit_date": 1526497620, "question_id": 50378039, "link": "https://stackoverflow.com/questions/50378039/regex-for-detecting-italic-markdown-designators", "title": "Regex for detecting italic markdown designators", "body": "<p>I have the following test string:</p>\n\n<pre><code>const string = '*Foo* **Foo** ***Foo*** ** ****';\n</code></pre>\n\n<p>And I want to use <code>RegExp</code> to extract the following matches with a <code>named capturing group</code> called <code>content</code>:</p>\n\n<pre><code>STRING:   *Foo* **Foo** ***Foo*** ** ****\nMATCH:    ^^^^^           ^^^^^   ^^\nCONTENT:   ^^^             ^^^\n</code></pre>\n\n<hr>\n\n<p>It would be also great to match whitespaces as well.</p>\n\n<pre><code>const string = '* Foo * ** Foo ** *** Foo *** * * ** **';\n</code></pre>\n\n<p>This shall result in the following matches:</p>\n\n<pre><code>STRING:   * Foo * ** Foo ** *** Foo *** * * ** **\nMATCH:    ^^^^^^^             ^^^^^^^   ^^^\nCONTENT:    ^^^                 ^^^      ^\n</code></pre>\n\n<hr>\n\n<p>I've tried several regex patterns, but I don't seem to get the correct pattern for <code>\\*</code> but not <code>\\*{2}</code>.</p>\n\n<p>Here is one of them:</p>\n\n<pre><code>/(?!\\*\\*\\s*?.+?\\s*?\\*\\*)\\*\\s*?(?&lt;content&gt;.+?)\\s*?\\*/g\n</code></pre>\n\n<p>This is the result: <a href=\"https://regex101.com/r/OqSMuO/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/OqSMuO/3</a></p>\n\n<p>How can I get it to work? Thanks!</p>\n"}, {"tags": ["node.js", "angular", "typescript", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 813, "user_id": 7026936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f5b85c107db57ab29646f5672913f752?s=128&d=identicon&r=PG&f=1", "display_name": "J.Kirk.", "link": "https://stackoverflow.com/users/7026936/j-kirk"}, "is_accepted": true, "score": 0, "last_activity_date": 1526505645, "creation_date": 1526505645, "answer_id": 50380050, "question_id": 50377742, "link": "https://stackoverflow.com/questions/50377742/angular-5-socket-io-not-recieving-update-in-other-component/50380050#50380050", "title": "Angular 5 socket.io not recieving update in other component", "body": "<p>The issue was I was emitting to the <strong>socket</strong> instead of the <strong>server</strong> which means only the current connection could see it.</p>\n\n<p>New server:</p>\n\n<pre><code> io.on('connect', (socket) =&gt; {\nconsole.log('Connected client on port %s.', port);\nsocket.on('action', (data) =&gt; {\n    io.emit('refresh_odds', 'UPDATE FEED! (FROM SERVER)') &lt;-- changed socket to io\n});\n}\n</code></pre>\n"}], "owner": {"reputation": 813, "user_id": 7026936, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/f5b85c107db57ab29646f5672913f752?s=128&d=identicon&r=PG&f=1", "display_name": "J.Kirk.", "link": "https://stackoverflow.com/users/7026936/j-kirk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 50380050, "answer_count": 1, "score": 1, "last_activity_date": 1526505645, "creation_date": 1526495170, "question_id": 50377742, "link": "https://stackoverflow.com/questions/50377742/angular-5-socket-io-not-recieving-update-in-other-component", "title": "Angular 5 socket.io not recieving update in other component", "body": "<p><strong>Context</strong>: I have an angular application with a backend in nodejs. I have a feed that will update when I recieve a message from the server. When new data is inserted the server is notified, but my other component does not recieve anything. I have implemented the socket in a service that is injected into both components. </p>\n\n<p>My server is build like this:</p>\n\n<pre><code>const port = 3000;\nconst server = require('http').Server(app);\nconst io = require('socket.io')(server);\n\nio.on('connection', (socket) =&gt; {\nconsole.log('New Connection..')\nsocket.on('action', (data) =&gt; {\n\nswitch(data) {\n  case 'new_odds':\n  socket.emit('refresh_odds', 'UPDATE FEED! (FROM SERVER)')\n  break;\n  case 'new_results':\n  break; \n}\n});\n});\n//listen on port omitted\n</code></pre>\n\n<p>My service in angular:</p>\n\n<pre><code>const SERVER_URL = 'http://localhost:3000';\n\n@Injectable()\nexport class SocketService {\n\nconstructor() {\n\n}\n\n\nprivate socket;\n\npublic initSocket(): void {\n    this.socket = socketIo(SERVER_URL);\n}\n\npublic disconnectSocket(): void {\n  this.socket.disconnect();\n}\n\npublic send(action: Action): void {\n    this.socket.emit('action', action);\n}\n\npublic onOddsMessage(): Observable&lt;string&gt; {\n    return new Observable&lt;string&gt;(observer =&gt; {\n        this.socket.on('refresh_odds', (data:string) =&gt; {\n          observer.next(data)\n        });\n    });\n}\n\npublic onEvent(event: Event): Observable&lt;any&gt; {\n    return new Observable&lt;Event&gt;(observer =&gt; {\n        this.socket.on(event, () =&gt; observer.next());\n    });\n}\n}\n</code></pre>\n\n<p>My feed component uses the socket service to listen for emits:</p>\n\n<pre><code>constructor(private _socket : SocketService) {\n}\n\nngOnInit() {\n\nthis.initIoConnection();\n}\n\nprivate initIoConnection(): void {\n  this._socket.initSocket();\n\n\nthis.ioConnection = this._socket.onOddsMessage()\n  .subscribe((data: string) =&gt; {\n    console.log('Recieved data from oddsMessage')\n    //this.loadBetFeed();\n  });\n}\n</code></pre>\n\n<p>In a different component also using the service I'm trying to emit to the socket on the server. It does recieve the message on the server and emit a new message but my feed component does NOT pick up on this</p>\n\n<pre><code>testSocket() {\n  //NOTIFY SERVER THAT IT SHOULD TELL CLIENTS TO REFRESH\n  console.log('Test Socket Clicked')\n  this._socket.initSocket();\n  this._socket.send(Action.ODDS);\n}\n</code></pre>\n\n<p>I don't understand what I'm doing wrong - I am using a shared service. Even if the components use different socket connections it shouldn't matter since they're listening for the same emits? I've tested in 2 browser tabs and also in incognito. Any help is appreciated!</p>\n"}, {"tags": ["typescript", "promise", "async-await"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1526495057, "post_id": 50377665, "comment_id": 87771551, "body": "No. Why do you think it is not simple enough?"}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1526495065, "post_id": 50377665, "comment_id": 87771557, "body": "If you want to do all of the promises concurrently you have to use <code>Promise.all</code>"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526495105, "post_id": 50377665, "comment_id": 87771575, "body": "i thought it was just a lot of ceremony and overhead to remember to use <code>.map</code>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1526495143, "post_id": 50377665, "comment_id": 87771590, "body": "@DanielA.White I don&#39;t think typescript has any kind of array comprehensions"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1526495193, "post_id": 50377665, "comment_id": 87771620, "body": "@DanielA.White What would you have used but <code>map</code> to create the array of promises?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1526495251, "post_id": 50377665, "comment_id": 87771650, "body": "@Bergi i just didn&#39;t want to think about it - i just wish i could say <code>await items.forEach(async)</code>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1526495374, "post_id": 50377665, "comment_id": 87771704, "body": "@DanielA.White You can always write your own helper function that combines the <code>map</code> and <code>Promise.all</code> call. No, you won&#39;t get around it when you want to do things concurrently. (Oh, and stop using <code>forEach</code>. <code>for \u2026 of</code> is more idiomatic)"}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 4, "last_activity_date": 1526496552, "last_edit_date": 1526496552, "creation_date": 1526496225, "answer_id": 50378002, "question_id": 50377665, "link": "https://stackoverflow.com/questions/50377665/simplify-async-await-with-array-iteration-in-typescript/50378002#50378002", "title": "Simplify async-await with array iteration in Typescript", "body": "<p>ES5 array methods don't fully support <code>async</code> and generator functions, that's one of the reasons why <code>for</code> and other loop statements should be preferred to <code>forEach</code> in ES6.</p>\n\n<p>In this case <code>map</code> is partially misused, because it doesn't manage array values. If promises should be resolved in parallel, it likely should be:</p>\n\n<pre><code>items = await Promise.all(items.map(async item =&gt; {\n    doSomething(item);\n    const result = await doSomethingAsync(item);\n    doSomethingMore(result, item);\n    return item;\n});\n</code></pre>\n\n<p>Not much simpler but possibly semantically correct. If <code>do..</code> functions modify <code>item</code> to the point its type changes, <code>const newItems = await Promise.all(...)</code> also makes it easier to manage item types.</p>\n\n<p>If they should be resolved in series and no <code>Promise.all</code> has to be involved, this can be <code>for..of</code>:</p>\n\n<pre><code>for (const item of items) {\n    doSomething(item);\n    const result = await doSomethingAsync(item);\n    doSomethingMore(result, item);\n});\n</code></pre>\n"}], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 50378002, "answer_count": 1, "score": 3, "last_activity_date": 1526496552, "creation_date": 1526494876, "question_id": 50377665, "link": "https://stackoverflow.com/questions/50377665/simplify-async-await-with-array-iteration-in-typescript", "title": "Simplify async-await with array iteration in Typescript", "body": "<p>Is there a simpler way to express this syntax in Typescript, without <code>Promise.all</code> and <code>Array.prototype.map</code>? </p>\n\n<pre><code>const items = [...];\nawait Promise.all(items.map(async item =&gt; {\n    doSomething(item);\n    const result = await doSomethingAsync(item);\n    doSomethingMore(result, item);\n});\n</code></pre>\n"}, {"tags": ["typescript", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "is_accepted": true, "score": 0, "last_activity_date": 1526588754, "creation_date": 1526588754, "answer_id": 50399988, "question_id": 50377182, "link": "https://stackoverflow.com/questions/50377182/sequelize-import-having-an-issue-with-typescript/50399988#50399988", "title": "Sequelize import having an issue with TypeScript", "body": "<p>Resolved by adding an interface:</p>\n\n<pre><code>interface DbModel {\n  [key: string]: any\n}\n</code></pre>\n\n<p>and changing my code to:</p>\n\n<pre><code>  let db: DbModel = {}\n\n  const modelPath = `${process.cwd()}/models`\n  fs.readdirSync(modelPath).forEach((file: String) =&gt; {\n    if (file !== 'index.js' &amp;&amp; path.extname(file) === '.js') {\n      let model: ImportedModel = sequelize.import(path.join(modelPath, file))\n      db[model.name] = model\n    }\n  })\n\n  Object.keys(db).forEach((modelName: string) =&gt; {\n    if ('associate' in db[modelName]) {\n      db[modelName].associate(db)\n    }\n  })\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 50399988, "answer_count": 1, "score": 2, "last_activity_date": 1526588754, "creation_date": 1526492989, "question_id": 50377182, "link": "https://stackoverflow.com/questions/50377182/sequelize-import-having-an-issue-with-typescript", "title": "Sequelize import having an issue with TypeScript", "body": "<pre><code>const _ = require('lodash');\nconst fs = require('fs');\nconst path = require('path');\nconst pg = require('pg');\nrequire('pg-parse-float')(pg);\n\nconst Sequelize = require('sequelize');\n\ninterface ImportedModel {\n  name: string\n}\n\nexport function models () {\n  const dbOptions = {\n    dialect: 'postgres',\n    protocol: 'postgres',\n    logging: false,\n    // logging: console.log,\n    dialectOptions: {\n      ssl: false // TODO: Need to set ssl to true\n    }\n  };\n\n  const dbUrl = process.env.DB_URL;\n  const sequelize = new Sequelize(dbUrl, dbOptions);\n\n  let db: Object = {};\n\n  const modelPath = `${process.cwd()}/models`;\n  fs.readdirSync(modelPath).forEach((file: String) =&gt; {\n    if (file !== 'index.js' &amp;&amp; path.extname(file) === '.js') {\n      let model: ImportedModel = sequelize.import(path.join(modelPath, file));\n      db[model.name] = model;\n    }\n  });\n\n  Object.keys(db).forEach((modelName: String) =&gt; {\n    if ('associate' in db[modelName]) {\n      db[modelName].associate(db);\n    }\n  });\n\n  return _.assign(db, {\n    sequelize: sequelize,\n    Sequelize: Sequelize\n  });\n}\n</code></pre>\n\n<p>Specifically, the <code>db[model.name] = model;</code> has a Typescript error:</p>\n\n<pre><code>[ts] Element implicitly has an 'any' type because type 'Object' has no index signature.\n</code></pre>\n\n<p>How can I resolve this?</p>\n"}, {"tags": ["typescript", "generics", "enums"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1526493846, "post_id": 50376977, "comment_id": 87770935, "body": "You&#39;re running into the type/value name space issue that everyone seems to hit at some point, and it&#39;s obnoxious to explain.  The short answer to your question will be something like &quot;no, the consumer will need to use <code>typeof MyEnum</code> if they want to refer to the thing with keys <code>A</code>, <code>B</code>, and <code>C</code>.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "edited": false, "score": 3, "creation_date": 1526666881, "post_id": 50396312, "comment_id": 87849615, "body": "This is brilliant, thank  you.  Double thumbs up for the additional nuanced education.  This makes me think that typescript might benefit from some kind of preprocessor which could (at least in this case) allow the code to look simpler.  But that wouldn&#39;t be typescript itself.  Thanks.  For now, I think I will choose to just force the consumer to understand and use the &quot;keyof typeof&quot; construction.  And I&#39;m glad to have this page to reference for why!"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1590247892, "post_id": 50396312, "comment_id": 109611859, "body": "I have found the answer! See my answer below! I would suggest removing <code>THIS IS NOT POSSIBLE</code> now :D"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1590252111, "post_id": 50396312, "comment_id": 109613518, "body": "@Akxe I don\u2019t see how your answer addresses the question, which is specifically about the keys of the enum and not the values"}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1590253578, "post_id": 50396312, "comment_id": 109614085, "body": "@jcalz Well you should now, you granted me an idea and that idea actually works! :D"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1590263718, "post_id": 50396312, "comment_id": 109618113, "body": "The specific question is \u201chow can I write a type function that takes in the name of an enum and outputs the union of its keys, without requiring the user to write <code>typeof</code> before the name of the enum\u201d.  The answer is \u201cyou cannot; the name of the enum as a type describes its values and not its keys\u201d.  Your answer does not even seem to attempt to address this question.  <code>keyof typeof MyEnum</code> is the type you want, but there\u2019s no way to turn this into something like  <code>type KeyofTypeof&lt;E&gt; = keyof typeof E</code> because <code>E</code> must be a type while <code>typeof</code> expects a value, not a type."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 82, "last_activity_date": 1526574979, "last_edit_date": 1526574979, "creation_date": 1526574321, "answer_id": 50396312, "question_id": 50376977, "link": "https://stackoverflow.com/questions/50376977/generic-type-to-get-enum-keys-as-union-string-in-typescript/50396312#50396312", "title": "Generic type to get enum keys as union string in typescript?", "body": "<p>No, the consumer will need to use <code>typeof MyEnum</code> to refer to the object whose keys are <code>A</code>, <code>B</code>, and <code>C</code>.</p>\n\n<hr>\n\n<p><strong>LONG EXPLANATION AHEAD, SOME OF WHICH YOU PROBABLY ALREADY KNOW</strong></p>\n\n<p>As you are likely aware, TypeScript adds a static type system to JavaScript, and that type system gets erased when the code is transpiled.  The syntax of TypeScript is such that some expressions and statements refer to <em>values</em> that exist at runtime, while other expressions and statements refer to <em>types</em> that exist only at design/compile time.  Values <em>have</em> types, but they are not types themselves.  Importantly, there are some places in the code where the compiler will expect a value and interpret the expression it finds as a value if possible, and other places where the compiler will expect a type and interpret the expression it finds as a type if possible.  </p>\n\n<p><strong>The compiler does not care or get confused if it is possible for an expression to be interpreted as both a value and a type.</strong>  It is perfectly happy, for instance, with the two flavors of <code>null</code> in the following code: </p>\n\n<pre><code>let maybeString: string | null = null;\n</code></pre>\n\n<p>The first instance of <code>null</code> is a type and the second is a value.  It also has no problem with </p>\n\n<pre><code>let Foo = {a: 0};\ntype Foo = {b: string};   \n</code></pre>\n\n<p>where the first <code>Foo</code> is a named value and the second <code>Foo</code> is a named type.  Note that the type of the value <code>Foo</code> is <code>{a: number}</code>, while the type <code>Foo</code> is <code>{b: string}</code>.  They are not the same.  </p>\n\n<p>Even the <code>typeof</code> operator leads a double life.  <em>The expression <code>typeof x</code> always expects <code>x</code> to be a value</em>, but <code>typeof x</code> itself could be a value or type depending on the context:</p>\n\n<pre><code>let bar = {a: 0};\nlet TypeofBar = typeof bar; // the value \"object\"\ntype TypeofBar = typeof bar; // the type {a: number}\n</code></pre>\n\n<p>The line <code>let TypeofBar = typeof bar;</code> will make it through to the JavaScript, and it will use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof\" rel=\"noreferrer\">JavaScript typeof operator</a> at runtime and produce a string.  But <code>type TypeofBar = typeof bar</code>; is erased, and it is using the <a href=\"https://github.com/Microsoft/TypeScript/blob/v2.8.3/doc/spec.md#3.8.10\" rel=\"noreferrer\">TypeScript type query operator</a> to examine the static type that TypeScript has assigned to the value named <code>bar</code>.  </p>\n\n<hr>\n\n<p>Now, most language constructs in TypeScript that introduce names create either a named value or a named type.  Here are some introductions of named values:</p>\n\n<pre><code>const value1 = 1;\nlet value2 = 2;\nvar value3 = 3;\nfunction value4() {}\n</code></pre>\n\n<p>And here are some introductions of named types:</p>\n\n<pre><code>interface Type1 {}\ntype Type2 = string;\n</code></pre>\n\n<p>But there are a few declarations which create <strong>both</strong> a named value <strong>and</strong> a named type, and, like <code>Foo</code> above, <strong>the type of the named value is not the named type</strong>.  The big ones are <code>class</code> and <code>enum</code>:</p>\n\n<pre><code>class Class { public prop = 0; }\nenum Enum { A, B }\n</code></pre>\n\n<p>Here, the <em>type</em> <code>Class</code> is the type of an <em>instance</em> of <code>Class</code>, while the <em>value</em> <code>Class</code> is the <em>constructor</em> object.  And <code>typeof Class</code> is not <code>Class</code>:</p>\n\n<pre><code>const instance = new Class();  // value instance has type (Class)\n// type (Class) is essentially the same as {prop: number};\n\nconst ctor = Class; // value ctor has type (typeof Class)\n// type (typeof Class) is essentially the same as new() =&gt; Class;\n</code></pre>\n\n<p>And, the <em>type</em> <code>Enum</code> is the type of an <em>element</em> of the enumeration; a union of the types of each element.  While the <em>value</em> <code>Enum</code> is an <em>object</em> whose keys are <code>A</code> and <code>B</code>, and whose properties are the elements of the enumeration.  And <code>typeof Enum</code> is not <code>Enum</code>:</p>\n\n<pre><code>const element = Math.random() &lt; 0.5 ? Enum.A : Enum.B; \n// value element has type (Enum)\n// type (Enum) is essentially the same as Enum.A | Enum.B\n//  which is a subtype of (0 | 1)\n\nconst enumObject = Enum;\n// value enumObject has type (typeof Enum)\n// type (typeof Enum) is essentially the same as {A: Enum.A; B: Enum.B}\n//  which is a subtype of {A:0, B:1}\n</code></pre>\n\n<hr>\n\n<p>Backing way way up to your question now.  You want to invent a type operator that works like this:</p>\n\n<pre><code>type KeysOfEnum = EnumKeysAsStrings&lt;Enum&gt;;  // \"A\" | \"B\"\n</code></pre>\n\n<p>where you put the <em>type</em> <code>Enum</code> in, and get the keys of the <em>object</em> <code>Enum</code> out.  But as you see above, <strong>the type <code>Enum</code> is not the same as the object <code>Enum</code></strong>.  And unfortunately the type doesn't know anything about the value.  It is sort of like saying this:</p>\n\n<pre><code>type KeysOfEnum = EnumKeysAsString&lt;0 | 1&gt;; // \"A\" | \"B\"\n</code></pre>\n\n<p>Clearly if you write it like that, you'd see that there's nothing you could do to the type <code>0 | 1</code> which would produce the type <code>\"A\" | \"B\"</code>.  To make it work, you'd need to pass it a type that knows about the mapping.  And that type is <code>typeof Enum</code>...</p>\n\n<pre><code>type KeysOfEnum = EnumKeysAsStrings&lt;typeof Enum&gt;; \n</code></pre>\n\n<p>which is like</p>\n\n<pre><code>type KeysOfEnum = EnumKeysAsString&lt;{A:0, B:1}&gt;; // \"A\" | \"B\"\n</code></pre>\n\n<p>which <em>is</em> possible... if <code>type EnumKeysAsString&lt;T&gt; = keyof T</code>.  </p>\n\n<hr>\n\n<p>So you are stuck making the consumer specify <code>typeof Enum</code>.  Are there workarounds?  Well, you could maybe use something that does that a value, such as a function?</p>\n\n<pre><code> function enumKeysAsString&lt;TEnum&gt;(theEnum: TEnum): keyof TEnum {\n   // eliminate numeric keys\n   const keys = Object.keys(theEnum).filter(x =&gt; \n     (+x)+\"\" !== x) as (keyof TEnum)[];\n   // return some random key\n   return keys[Math.floor(Math.random()*keys.length)]; \n }\n</code></pre>\n\n<p>Then you can call</p>\n\n<pre><code> const someKey = enumKeysAsString(Enum);\n</code></pre>\n\n<p>and the type of <code>someKey</code> will be <code>\"A\" | \"B\"</code>.  Yeah but then to use it as <em>type</em> you'd have to query it:</p>\n\n<pre><code> type KeysOfEnum = typeof someKey;\n</code></pre>\n\n<p>which forces you to use <code>typeof</code> again and is even more verbose than your solution, especially since you can't do this:</p>\n\n<pre><code> type KeysOfEnum = typeof enumKeysAsString(Enum); // error\n</code></pre>\n\n<p>Blegh. Sorry.</p>\n\n<hr>\n\n<p>TO RECAP:</p>\n\n<ul>\n<li>THIS IS NOT POSSIBLE;  </li>\n<li>TYPES AND VALUES BLAH BLAH; </li>\n<li>STILL NOT POSSIBLE; </li>\n<li>SORRY.</li>\n</ul>\n\n<p>Hope that makes some sense.  Good luck.</p>\n"}, {"comments": [{"owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "edited": false, "score": 1, "creation_date": 1590696558, "post_id": 61974409, "comment_id": 109786485, "body": "This is useful, thanks.  But not a full answer to the question.  Lots of good stuff in this thread though."}, {"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "reply_to_user": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "edited": false, "score": 0, "creation_date": 1590702889, "post_id": 61974409, "comment_id": 109789212, "body": "@StephanG Oh I see now, you want a type to transform enum to list of values or keys to be used in key indexes. This is not possible... The reason is that there is no <code>enum</code> type nor can an enum extend other enum. Thus you can not create <code>type&lt;T extends enum&gt; = { [key in T]: any}</code>."}, {"owner": {"reputation": 393, "user_id": 7891702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7396b62461d4517887ac4d8bf8d3630?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Grigorenko", "link": "https://stackoverflow.com/users/7891702/alex-grigorenko"}, "edited": false, "score": 0, "creation_date": 1617989412, "post_id": 61974409, "comment_id": 118475271, "body": "It works perfect, ty!"}], "tags": [], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "is_accepted": false, "score": 8, "last_activity_date": 1590253535, "last_edit_date": 1590253535, "creation_date": 1590247829, "answer_id": 61974409, "question_id": 50376977, "link": "https://stackoverflow.com/questions/50376977/generic-type-to-get-enum-keys-as-union-string-in-typescript/61974409#61974409", "title": "Generic type to get enum keys as union string in typescript?", "body": "<p>It actually is possible.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>enum MyEnum { A, B, C };\n\ntype ObjectWithValuesOfEnumAsKeys = { [key in MyEnum]: string };\n\nconst a: ObjectWithValuesOfEnumAsKeys = {\n    \"0\": \"Hello\",\n    \"1\": \"world\",\n    \"2\": \"!\",\n};\n\nconst b: ObjectWithValuesOfEnumAsKeys = {\n    [MyEnum.A]: \"Hello\",\n    [MyEnum.B]: \"world\",\n    [MyEnum.C]: \"!\",\n};\n\n// Property '2' is missing in type '{ 0: string; 1: string; }' but required in type 'ObjectWithValuesOfEnumAsKeys'.\nconst c: ObjectWithValuesOfEnumAsKeys = {  //  Invalid! - Error here!\n    [MyEnum.A]: \"Hello\",\n    [MyEnum.B]: \"world\",\n};\n\n// Object literal may only specify known properties, and '6' does not exist in type 'ObjectWithValuesOfEnumAsKeys'.\nconst d: ObjectWithValuesOfEnumAsKeys = {\n    [MyEnum.A]: \"Hello\",\n    [MyEnum.B]: \"world\",\n    [MyEnum.C]: \"!\",\n    6: \"!\",  //  Invalid! - Error here!\n};\n</code></pre>\n\n<p><a href=\"http://www.staging-typescript.org/play?#code/KYOwrgtgBAsgngUXNA3lAggGigIWwYSgF8BuAKDIBc4AHYKAeQCMArYAY0oHUBLSgCwBqAQwA2YYAGcGAMySR0kgNLA4kqAF4oaANoBrVVB4hYiZAF0AXFEmUATsYDmxcmXYB7ELajDrzNpy8AiLiUrLyEIoqapraZFAJUABEAAxJ1kkAEsCiou5JmPGJSQCM6ckA7u52ogAmBUUJSQBM5UkAhA2kFB5elFBMfqwc3HxCYhLScshRqupaKI1QOvARAHToVsnZufmFicuryGs4W0lVNfX7iStmkGv4Z52F3W6e3uxDAaPBE2HTCmUc1iaCgAHowQkAJIgABuYh4tXaS1u602GR2eQaB1Rx1OGQudS6rl63lqXxGQXGoSmEVmMQWCQh0LhCKRKKO93R2xyWOuCVx93xlWqRP5hzuEAeT2xiQAbBlnmRukA\" rel=\"noreferrer\">Playground Link</a></p>\n\n<hr>\n\n<p>EDIT: Lifted limitation!</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>enum MyEnum { A, B, C };\n\ntype enumValues = keyof typeof MyEnum;\ntype ObjectWithKeysOfEnumAsKeys = { [key in enumValues]: string };\n\nconst a: ObjectWithKeysOfEnumAsKeys = {\n    A: \"Hello\",\n    B: \"world\",\n    C: \"!\",\n};\n\n// Property 'C' is missing in type '{ 0: string; 1: string; }' but required in type 'ObjectWithValuesOfEnumAsKeys'.\nconst c: ObjectWithKeysOfEnumAsKeys = {  //  Invalid! - Error here!\n    A: \"Hello\",\n    B: \"world\",\n};\n\n// Object literal may only specify known properties, and '6' does not exist in type 'ObjectWithValuesOfEnumAsKeys'.\nconst d: ObjectWithKeysOfEnumAsKeys = {\n    A: \"Hello\",\n    B: \"world\",\n    C: \"!\",\n    D: \"!\",  //  Invalid! - Error here!\n};\n</code></pre>\n\n<p><a href=\"http://www.staging-typescript.org/play?#code/KYOwrgtgBAsgngUXNA3lAggGigIWwYSgF8BuAKDIBc4AHYKUSANQEMAbMYAZygF4oA1sDgB7AGZRqdcbETJyU+gHkARgCtgAY0oB1AJaUAFgGlhXJWKSR0XU3B780AbSFwoekA2SsO3ALoAXFBclABOHgDmxORkmiIgIVAsQaoa2vpGduaWyDZZfFAoZFAlGEEARAASwGxsIuWYxaU4FQDuIqFsACYNTSX4FQCEvaQUcQmUUJop6lq6BiZmFlYQeWYFaFAA9FslAJIgAG7sel2DfWVQVTV1vaW4bR3dIzHjiV0zafOZSznWtutHCUdvsjiczhd0BVqrV6o17i0ru1Oj14aUBldhmiSgARIYvMhAA\" rel=\"noreferrer\">Playground Link</a></p>\n\n<hr>\n\n<ul>\n<li>This work with <code>const enum</code> too!</li>\n</ul>\n"}], "owner": {"reputation": 2091, "user_id": 2092621, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/895a73fa1eeab98198ffdcaae9c9fa4f?s=128&d=identicon&r=PG", "display_name": "Stephan G", "link": "https://stackoverflow.com/users/2092621/stephan-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25071, "favorite_count": 16, "accepted_answer_id": 50396312, "answer_count": 2, "score": 45, "last_activity_date": 1590253535, "creation_date": 1526492175, "question_id": 50376977, "link": "https://stackoverflow.com/questions/50376977/generic-type-to-get-enum-keys-as-union-string-in-typescript", "title": "Generic type to get enum keys as union string in typescript?", "body": "<p>Consider the following typescript enum:</p>\n\n<pre><code>enum MyEnum { A, B, C };\n</code></pre>\n\n<p>If I want another type that is the unioned strings of the keys of that enum, I can do the following:</p>\n\n<pre><code>type MyEnumKeysAsStrings = keyof typeof MyEnum;  // \"A\" | \"B\" | \"C\"\n</code></pre>\n\n<p>This is very useful.</p>\n\n<p>Now I want to create a generic type that operates universally on enums in this way, so that I can instead say:</p>\n\n<pre><code>type MyEnumKeysAsStrings = AnyEnumKeysAsStrings&lt;MyEnum&gt;;\n</code></pre>\n\n<p>I imagine the correct syntax for that would be:</p>\n\n<pre><code>type AnyEnumKeysAsStrings&lt;TEnum&gt; = keyof typeof TEnum; // TS Error: 'TEnum' only refers to a type, but is being used as a value here.\n</code></pre>\n\n<p>But that generates a compile error: \"'TEnum' only refers to a type, but is being used as a value here.\"</p>\n\n<p>This is unexpected and sad.  I can incompletely work around it the following way by dropping the typeof from the right side of the declaration of the generic, and adding it to the type parameter in the declaration of the specific type:</p>\n\n<pre><code>type AnyEnumAsUntypedKeys&lt;TEnum&gt; = keyof TEnum;\ntype MyEnumKeysAsStrings = AnyEnumAsUntypedKeys&lt;typeof MyEnum&gt;; // works, but not kind to consumer.  Ick.\n</code></pre>\n\n<p>I don't like this workaround though, because it means the consumer has to remember to do this icky specifying of typeof on the generic.</p>\n\n<p>Is there any syntax that will allow me to specify the generic type as I initially want, to be kind to the consumer?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1526490375, "post_id": 50376419, "comment_id": 87769124, "body": "It&#39;s complaining about the argument you&#39;re passing to <code>parseInt</code>, which may be undefined but must be a string. I think you want <code>parseInt(process.env.PORT || &#39;3000&#39;, 10)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6020, "user_id": 200985, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/0a07a11efd94fa8a87043f7ef91cd08d?s=128&d=identicon&r=PG", "display_name": "lmat - Reinstate Monica", "link": "https://stackoverflow.com/users/200985/lmat-reinstate-monica"}, "edited": false, "score": 5, "creation_date": 1559919427, "post_id": 50399999, "comment_id": 99582326, "body": "I think that&#39;s not correct? <code>process.env.PORT</code> could be string, or it could be undefined. You&#39;re asserting that it can&#39;t be undefined here which is false. As the comment-answer above says, you should  <code>parseInt(process.env.PORT || &#39;3000&#39;)</code> to cover the case when <code>process.env.PORT</code> is undefined."}, {"owner": {"reputation": 519, "user_id": 266300, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/05d7b6c8aaeaa9999f19939896b83201?s=128&d=identicon&r=PG", "display_name": "Stanley", "link": "https://stackoverflow.com/users/266300/stanley"}, "edited": false, "score": 9, "creation_date": 1564584210, "post_id": 50399999, "comment_id": 101081178, "body": "You can also do: <code>const port: Number = parseInt(`${process.env.PORT}`, 10) || 3000</code> which will ensure a string is passed to parseInt."}], "tags": [], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "is_accepted": true, "score": 22, "last_activity_date": 1526588818, "creation_date": 1526588818, "answer_id": 50399999, "question_id": 50376419, "link": "https://stackoverflow.com/questions/50376419/environment-variable-is-not-assigning-with-typescript/50399999#50399999", "title": "Environment variable is not assigning with Typescript", "body": "<pre><code>const port: Number = parseInt(&lt;string&gt;process.env.PORT, 10) || 3000\n</code></pre>\n\n<p>This solved it. I think it's called <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"noreferrer\">Type Assertion</a></p>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8180, "favorite_count": 0, "accepted_answer_id": 50399999, "answer_count": 1, "score": 13, "last_activity_date": 1526588818, "creation_date": 1526490091, "question_id": 50376419, "link": "https://stackoverflow.com/questions/50376419/environment-variable-is-not-assigning-with-typescript", "title": "Environment variable is not assigning with Typescript", "body": "<p>My code is: </p>\n\n<pre><code>const port: Number = process.env.PORT || 3000;\n\n[ts]\nType 'string | 3000' is not assignable to type 'Number'.\n  Type 'string' is not assignable to type 'Number'.\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>const port: Number = parseInt(process.env.PORT, 10) || 3000;\n</code></pre>\n\n<p>But it gives me another error:</p>\n\n<pre><code>Argument of type 'string | undefined' is not assignable to parameter of type 'string'.\n  Type 'undefined' is not assignable to type 'string'.\n(property) NodeJS.Process.env: NodeJS.ProcessEnv\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["node.js", "typescript", "mongoose", "jwt", "express-jwt"], "answers": [{"tags": [], "owner": {"reputation": 244, "user_id": 5304723, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0GVU.jpg?s=128&g=1", "display_name": "Bence Uszkai", "link": "https://stackoverflow.com/users/5304723/bence-uszkai"}, "is_accepted": true, "score": 1, "last_activity_date": 1526553564, "creation_date": 1526553564, "answer_id": 50389399, "question_id": 50375803, "link": "https://stackoverflow.com/questions/50375803/jwt-admin-role-checking-in-nodejs/50389399#50389399", "title": "JWT admin role checking in nodeJS", "body": "<p>You can use Implemented code as Middleware.</p>\n\n<p>Instead of:</p>\n\n<p>in your user class:</p>\n\n<pre><code>public IsAdmin(req: any, res: any, next: any) {\n  //CODE GOES HERE \n}\n</code></pre>\n\n<p><strong>in your route file:</strong></p>\n\n<p>instead of this:</p>\n\n<pre><code>app.get(\"/alluser\", getall);\n</code></pre>\n\n<p>write this:</p>\n\n<pre><code>app.use(User.IsAdmin);\napp.get(\"/alluser\", User.IsAdmin, User.getall);\n</code></pre>\n\n<p>app.use() provide the middleware will be called.</p>\n"}], "owner": {"reputation": 83, "user_id": 9787781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "user user", "link": "https://stackoverflow.com/users/9787781/user-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 517, "favorite_count": 0, "accepted_answer_id": 50389399, "answer_count": 1, "score": 0, "last_activity_date": 1526999030, "creation_date": 1526487963, "last_edit_date": 1526999030, "question_id": 50375803, "link": "https://stackoverflow.com/questions/50375803/jwt-admin-role-checking-in-nodejs", "title": "JWT admin role checking in nodeJS", "body": "<p>How can I check whether the data modification (on the site) was created by user Or by admin?</p>\n\n<p>I'm using JWT, nodeJS, typescript (and postman for testing)</p>\n\n<p>This is my \"get all user\" method:</p>\n\n<p>UserSchema:</p>\n\n<pre><code>export const userSchema = new Schema({\n username: { type: String, required: true, unique: true },\n firstName: { type: String, required: true },\n lastName: { type: String, required: true },\n email: { type: String, required: true, unique: true },\n password: { type: String, required: true },\n isAdmin: { type: Boolean }\n}\n</code></pre>\n\n<p>UserRoute:</p>\n\n<pre><code>    public getAll = async (req: any, res: any) =&gt; {\n    try {\n        const users = await User.find({}).exec();\n        res.status(200).json(users);\n    } catch (err) {\n        res.status(400).json(err);\n    }\n}\n</code></pre>\n\n<p>Should I just extend it with a condition?</p>\n\n<pre><code>let user = await User.findById(req.params.id).exec();\nif(user.isAdmin)\n{\n     //CODE\n}\nelse\n{\n    res.status(400).json(err);\n}\n</code></pre>\n\n<p>Or there is any better implementation for this? Thanks</p>\n"}, {"tags": ["arrays", "angular", "typescript", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8156541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abf660c5da031643b795bf14cc62a68?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8156541/john"}, "is_accepted": true, "score": 0, "last_activity_date": 1526487431, "creation_date": 1526487431, "answer_id": 50375658, "question_id": 50375506, "link": "https://stackoverflow.com/questions/50375506/get-row-from-array-by-id/50375658#50375658", "title": "Get row from array by ID", "body": "<p>geeze ...\nThe problem was that the OfficeID was a string, and it has to be a number.</p>\n"}], "owner": {"reputation": 21, "user_id": 8156541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abf660c5da031643b795bf14cc62a68?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/8156541/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 50375658, "answer_count": 1, "score": 1, "last_activity_date": 1526487431, "creation_date": 1526486864, "last_edit_date": 1526486956, "question_id": 50375506, "link": "https://stackoverflow.com/questions/50375506/get-row-from-array-by-id", "title": "Get row from array by ID", "body": "<p>I have a custom array called IOfficeInfo like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>export class IOfficeInfo {\r\n        OfficeID: number;\r\n        TypeOfOffice: string;\r\n        DateSubmitted: string;\r\n        OfficeName: string;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to create a blank array of that same type, then insert one office into that blank array where the OfficeID equals an existing number.  My problem is that I can't seem to figure out how to select that one one office from the data array and push it into the blank array.</p>\n\n<p>Once I get this working I will then insert the remaining offices from the data array sorted chronologically.  I know it is a weird requirement, but I wasn't the one making them.  I just have to do as I am told.</p>\n\n<p>Here is how I am handling the sortOfficeInfo function.  While debugging, I can see the data passed into the method.  The data.sort works fine.  Again, my problem is getting the one office and pushing it into the blank array (returnarray).  Specifically, topOffice is undefined.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  sortOfficeInfo(data: IOfficeInfo[]): IOfficeInfo[] {\r\n    // The first item has to be the enrollment that the user clicked.\r\n    // The remaining enrollments are dupes that are required to be ordered by date submitted\r\n    let returnarray: IOfficeInfo[] = [];\r\n    let topoffice: IOfficeInfo = data.find(x =&gt; x.OfficeID === this.OfficeID);\r\n\r\n    data.sort((a: any, b: any) =&gt; {\r\n      if (a.DateSubmitted &lt; b.DateSubmitted) {\r\n        return -1;\r\n      } else if (a.DateSubmitted &gt; b.DateSubmitted) {\r\n        return 1;\r\n      } else {\r\n        return 0;\r\n      }\r\n    });\r\n    debugger;\r\n    returnarray.push(topoffice);\r\n    return returnarray;\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My Question:\nHow do I select the row by OfficeID and how to I push it into the returnarray?</p>\n"}, {"tags": ["html", "angular", "typescript", "checkbox"], "answers": [{"comments": [{"owner": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526541455, "post_id": 50376023, "comment_id": 87786588, "body": "Thanks @Gobli , Its working for me till  the now, Can we extend this function by adding a uncheck function also. Ex: (1) If I clicked the 5th checkbox by mistake and I want to uncheck it , what we can do here.(2) If all checkboxes are selected and I want to uncheck all check box along with 2nd check box on click on of it."}, {"owner": {"reputation": 307, "user_id": 3567573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1170120899/picture?type=large", "display_name": "Gobli", "link": "https://stackoverflow.com/users/3567573/gobli"}, "reply_to_user": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526551347, "post_id": 50376023, "comment_id": 87792822, "body": "No problem @SiluK. I don&#39;t quite understand the uncheck function, can you explain it a little further? I thought that it was obligatory to at least select one, so if you by mistake select the 4th checkbox, you can select any inferior checkbox to deselect that.  PS: If the answer solved your question, can you mark it as accepted? Thanks!"}, {"owner": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526552582, "post_id": 50376023, "comment_id": 87793570, "body": "Thanks for response @Gobli, Anyways I got the solution as your answer  is updated by Jomy Joseph"}], "tags": [], "owner": {"reputation": 307, "user_id": 3567573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1170120899/picture?type=large", "display_name": "Gobli", "link": "https://stackoverflow.com/users/3567573/gobli"}, "is_accepted": false, "score": 1, "last_activity_date": 1526488775, "creation_date": 1526488775, "answer_id": 50376023, "question_id": 50375401, "link": "https://stackoverflow.com/questions/50375401/on-click-of-a-checkbox-how-to-set-all-previous-checkbox-as-checked-in-angular-4/50376023#50376023", "title": "On click of a checkbox, how to set all previous checkbox as checked in angular 4", "body": "<p>You can store the index of the selected checkbox and select all the previous ones. Like this:</p>\n\n<pre><code>&lt;div class=\"cb-cont\" *ngFor = \"let circle of [1,2,3,4], let i = index;\"   &gt;\n    &lt;input type=\"checkbox\" class=\"cb\" [attr.id]=\"'vacancy' + i\" (change)=\"changeCheckbox(i)\" [checked]=\" (i&lt;=selectedCheckbox) ? true : false\"  &gt;\n        &lt;label [attr.for]=\"'vacancy' + i\" &gt;&lt;i class=\"xico-completed\"&gt;&lt;/i&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And in the controller:</p>\n\n<pre><code>  selectedCheckbox = 0;\n  public changeCheckbox(i) {\n    this.selectedCheckbox = i;\n    var elem = &lt;HTMLInputElement&gt;event.target;\n    elem.checked = true;  \n  } \n</code></pre>\n\n<p>Here you have a working stackblitz with the code:\n<a href=\"https://stackblitz.com/edit/angular-a29qko\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-a29qko</a></p>\n"}, {"comments": [{"owner": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526541684, "post_id": 50376101, "comment_id": 87786709, "body": "Thanks @Antonio de la mata , this is also working , but when we click the check boxes randomly to check and uncheck , something wrong is happening."}, {"owner": {"reputation": 384, "user_id": 9606376, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tU8dRHnBt-c/AAAAAAAAAAI/AAAAAAAAAc8/69R8SrUIFNE/photo.jpg?sz=128", "display_name": "Antonio de la mata", "link": "https://stackoverflow.com/users/9606376/antonio-de-la-mata"}, "reply_to_user": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526541990, "post_id": 50376101, "comment_id": 87786895, "body": "If you need more help I can"}, {"owner": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526542634, "post_id": 50376101, "comment_id": 87787266, "body": "Yes please, @Antonio de la mata, Below is the scenario which I want to cover , Its working for me till the now, Can we extend this function by adding a uncheck function also. Ex: (1) If I clicked the 5th checkbox by mistake and I want to uncheck it , what we can do here.(2) If all checkboxes are selected and I want to uncheck all check box along with 2nd check box on click on of it"}, {"owner": {"reputation": 384, "user_id": 9606376, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tU8dRHnBt-c/AAAAAAAAAAI/AAAAAAAAAc8/69R8SrUIFNE/photo.jpg?sz=128", "display_name": "Antonio de la mata", "link": "https://stackoverflow.com/users/9606376/antonio-de-la-mata"}, "reply_to_user": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526545493, "post_id": 50376101, "comment_id": 87788860, "body": "I have update the example, try it and say me If work as you want!"}, {"owner": {"reputation": 384, "user_id": 9606376, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tU8dRHnBt-c/AAAAAAAAAAI/AAAAAAAAAc8/69R8SrUIFNE/photo.jpg?sz=128", "display_name": "Antonio de la mata", "link": "https://stackoverflow.com/users/9606376/antonio-de-la-mata"}, "reply_to_user": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "edited": false, "score": 0, "creation_date": 1526549590, "post_id": 50376101, "comment_id": 87791621, "body": "Help you the changes?"}], "tags": [], "owner": {"reputation": 384, "user_id": 9606376, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tU8dRHnBt-c/AAAAAAAAAAI/AAAAAAAAAc8/69R8SrUIFNE/photo.jpg?sz=128", "display_name": "Antonio de la mata", "link": "https://stackoverflow.com/users/9606376/antonio-de-la-mata"}, "is_accepted": false, "score": 0, "last_activity_date": 1526545472, "last_edit_date": 1526545472, "creation_date": 1526489038, "answer_id": 50376101, "question_id": 50375401, "link": "https://stackoverflow.com/questions/50375401/on-click-of-a-checkbox-how-to-set-all-previous-checkbox-as-checked-in-angular-4/50376101#50376101", "title": "On click of a checkbox, how to set all previous checkbox as checked in angular 4", "body": "<p><strong>COMPONENT</strong></p>\n\n<pre><code>private checked: number = 0;\n\nchangeCheckbox(index, e) {\n    if (index === 0) {\n        e.target.checked = true;\n        this.checked = 0;\n        return;\n    }\n\n    if (e.target.checked) {\n        if ((this.checked+1) === index) {\n            this.checked = index;\n        }else {\n            e.target.checked = false;\n        }\n    } else {\n        e.target.checked = true;\n        this.checked = index;\n    }\n}\n\ngetChecked(i) {\n    return (i &lt;= this.checked);\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code> &lt;div class=\"cb-cont\" *ngFor = \"let circle of [1,2,3,4], let i = index;\"   &gt;\n        &lt;input type=\"checkbox\" class=\"cb\" [attr.id]=\"'vacancy' + i\" (change)=\"changeCheckbox(i, $event)\" [checked]=\"getChecked(i)\"  &gt;\n            &lt;label [attr.for]=\"'vacancy' + i\" &gt;&lt;i class=\"xico-completed\"&gt;&lt;/i&gt;&lt;/label&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 6381096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fg0zw.jpg?s=128&g=1", "display_name": "Jomy Joseph", "link": "https://stackoverflow.com/users/6381096/jomy-joseph"}, "is_accepted": true, "score": 1, "last_activity_date": 1526552170, "last_edit_date": 1526552170, "creation_date": 1526550461, "answer_id": 50388350, "question_id": 50375401, "link": "https://stackoverflow.com/questions/50375401/on-click-of-a-checkbox-how-to-set-all-previous-checkbox-as-checked-in-angular-4/50388350#50388350", "title": "On click of a checkbox, how to set all previous checkbox as checked in angular 4", "body": "<p>Updated Gobli's Answer</p>\n\n<p><strong>component</strong></p>\n\n<pre><code>selectedCheckbox = 0;\nk = 0;\n\npublic changeCheckbox(i) {\n debugger;\n this.selectedCheckbox = i;\n var elem = &lt;HTMLInputElement&gt;event.target;\n if(elem.checked){\n   this.k=1;\n   elem.checked = true;  \n }else{\n   this.k=0;\n   elem.checked = false; \n }\n} \n</code></pre>\n\n<p><strong>Html</strong></p>\n\n<pre><code>&lt;div class=\"cb-cont\" *ngFor = \"let circle of [1,2,3,4], let i = index;\"   &gt;\n  &lt;input type=\"checkbox\" class=\"cb\" [attr.id]=\"'vacancy' + i\" \n (change)=\"changeCheckbox(i)\" [checked]=\"(k==1) ?( (i&lt;=selectedCheckbox) ? true : false ) :( (i&gt;=selectedCheckbox) ? false : true ) \"  &gt;\n    &lt;label [attr.for]=\"'vacancy' + i\" &gt;&lt;i class=\"xico-completed\"&gt;&lt;/i&gt; \n</code></pre>\n\n<p>\n  \nhope this helps u.\n<a href=\"https://angular-2hh27h.stackblitz.io/\" rel=\"nofollow noreferrer\">https://angular-2hh27h.stackblitz.io/</a></p>\n"}], "owner": {"reputation": 238, "user_id": 5055719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea54a0f8b9febf1ad1605df41145b93?s=128&d=identicon&r=PG&f=1", "display_name": "Silu K", "link": "https://stackoverflow.com/users/5055719/silu-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 50388350, "answer_count": 3, "score": 1, "last_activity_date": 1526552170, "creation_date": 1526486505, "last_edit_date": 1526488141, "question_id": 50375401, "link": "https://stackoverflow.com/questions/50375401/on-click-of-a-checkbox-how-to-set-all-previous-checkbox-as-checked-in-angular-4", "title": "On click of a checkbox, how to set all previous checkbox as checked in angular 4", "body": "<p>I have few check boxes having label as (Beginner,Intermediate, Advanced, Expert etc..) </p>\n\n<p>Now I want on click of any checkbox , all previous checkbox should checked. </p>\n\n<p>Ex : If I click on Advanced, only all previous check boxes should get checked except the expert.</p>\n\n<p>Below is the code to get the list of check boxes. Please let me know if any solution is there. </p>\n\n<pre><code>&lt;div class=\"cb-cont\" *ngFor = \"let circle of [1,2,3,4], let i = index;\"   &gt;\n    &lt;input type=\"checkbox\" class=\"cb\" [attr.id]=\"'vacancy' + i\" (change)=\"changeCheckbox(i)\" [checked]=\" (i==0) ? true : false\"  &gt;\n        &lt;label [attr.for]=\"'vacancy' + i\" &gt;&lt;i class=\"xico-completed\"&gt;&lt;/i&gt;&lt;/label&gt;\n&lt;/div&gt;\n\n\nchangeCheckbox(i) {\n    var elem = &lt;HTMLInputElement&gt;event.target\n    elem.checked = true;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/r2pAb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r2pAb.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "enums", "filtering"], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 3848036, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d829b9619195206344744f1e4fe38d78?s=128&d=identicon&r=PG&f=1", "display_name": "user3848036", "link": "https://stackoverflow.com/users/3848036/user3848036"}, "edited": false, "score": 0, "creation_date": 1526536541, "post_id": 50375745, "comment_id": 87784055, "body": "its giving me an error that &quot;element&quot; can&#39;t use an index in below line   let valueInEnum = ProductType[element];"}, {"owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "reply_to_user": {"reputation": 169, "user_id": 3848036, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d829b9619195206344744f1e4fe38d78?s=128&d=identicon&r=PG&f=1", "display_name": "user3848036", "link": "https://stackoverflow.com/users/3848036/user3848036"}, "edited": false, "score": 0, "creation_date": 1526564656, "post_id": 50375745, "comment_id": 87801793, "body": "<b>note</b> remove the <b>const</b> from the enum. The idea is to get the value from the array products and and this value use it as index in the enum like this ProductType[\u201cC\u201d]"}, {"owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "reply_to_user": {"reputation": 169, "user_id": 3848036, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d829b9619195206344744f1e4fe38d78?s=128&d=identicon&r=PG&f=1", "display_name": "user3848036", "link": "https://stackoverflow.com/users/3848036/user3848036"}, "edited": false, "score": 0, "creation_date": 1527005936, "post_id": 50375745, "comment_id": 87958220, "body": "did you get it?"}], "tags": [], "owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "is_accepted": false, "score": 0, "last_activity_date": 1526487750, "creation_date": 1526487750, "answer_id": 50375745, "question_id": 50374922, "link": "https://stackoverflow.com/questions/50374922/how-to-filter-list-elements-from-enum-in-typescript/50375745#50375745", "title": "How to filter list elements from enum in typescript?", "body": "<p>Remove <code>conts</code> from <strong>Enum</strong> and access to the enum like this <code>ProductType['C']</code></p>\n\n<p><strong>Enum</strong></p>\n\n<pre><code>export enum ProductType {\n        A= 0,\n        B= 1,\n        C= 2       \n}\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<pre><code>products.forEach(element =&gt; {\n   let valueInEnum = ProductType[element]; \n   console.log(\"valueInEnum = \"+ valueInEnum);\n});\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 3848036, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d829b9619195206344744f1e4fe38d78?s=128&d=identicon&r=PG&f=1", "display_name": "user3848036", "link": "https://stackoverflow.com/users/3848036/user3848036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2775, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1526487750, "creation_date": 1526484885, "question_id": 50374922, "link": "https://stackoverflow.com/questions/50374922/how-to-filter-list-elements-from-enum-in-typescript", "title": "How to filter list elements from enum in typescript?", "body": "<p>I am working on Angular 2 with Typescript, and I have a scenario where I have to filter elements from a list after comparing with enum. Like -</p>\n\n<pre><code>let products: Array&lt;IProduct&gt; = [A, B, C, D, E, F];\n</code></pre>\n\n<p>below is my enum-</p>\n\n<pre><code>    export const enum ProductType {\n        A= 0,\n        B= 1,\n        C= 2       \n   }\n</code></pre>\n\n<p>Now I want to return a list with below elements after checking into enum-</p>\n\n<pre><code>let filteredProductList: Array&lt;IProduct&gt; = [A, B, C];\n</code></pre>\n\n<p>Currently I am doing it via switch case but I want some proper solution. Any suggestion would be appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 16, "creation_date": 1526487715, "post_id": 50375286, "comment_id": 87767738, "body": "10x. I always learn new an interesting things from you. I was very close on this question <a href=\"https://stackoverflow.com/questions/50369299/can-i-reuse-the-parameter-definition-of-a-function-in-typescript/50375712#50375712\" title=\"can i reuse the parameter definition of a function in typescript\">stackoverflow.com/questions/50369299/&hellip;</a> but really need a way to transform the union into an intersection"}, {"owner": {"reputation": 18280, "user_id": 350384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hyOvH.jpg?s=128&g=1", "display_name": "Mariusz Pawelski", "link": "https://stackoverflow.com/users/350384/mariusz-pawelski"}, "edited": false, "score": 2, "creation_date": 1532197607, "post_id": 50375286, "comment_id": 89887245, "body": "This answer is awesome but I really find it hard to understand how this part &quot;That distributes the union U and repackages it into a new union where all the consitutents are in <b>contravariant position</b>&quot; works :(  I can&#39;t fully grasp this <i>contravariant position</i> part. .I thought that this code: <code>type Param&lt;T&gt; = T extends (arg: infer U) =&gt; void ? U : never;</code> <code>type InferredParams = Param&lt;((a: string) =&gt; void) | ((a: number) =&gt; void)&gt;;</code> should give me <code>string &amp; number</code> but it gives me <code>string | number</code>. Can you explain why?"}, {"owner": {"reputation": 18280, "user_id": 350384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hyOvH.jpg?s=128&g=1", "display_name": "Mariusz Pawelski", "link": "https://stackoverflow.com/users/350384/mariusz-pawelski"}, "edited": false, "score": 0, "creation_date": 1532197778, "post_id": 50375286, "comment_id": 89887302, "body": "I thought I would understand this answer when I would &quot;split&quot; it up. Like that: <code>type UnionToIntersectionPart1&lt;U&gt; = U extends any ? (k: U) =&gt; void : never; type UnionToIntersectionPart2&lt;U&gt; = U extends ((k: infer I) =&gt; void) ? I : never; type IntersectionTest = UnionToIntersectionPart2&lt;   UnionToIntersectionPart1&lt;(() =&gt; void) | ((p: string) =&gt; void)&gt; &gt;;</code> But then it doesn&#39;t work! <code>IntersectionTest</code> is still union of function types, not intersection."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 11, "creation_date": 1532286121, "post_id": 50375286, "comment_id": 89905160, "body": "It&#39;s because bare type parameters before <code>extends</code> in a conditional type are <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#distributive-conditional-types\" rel=\"nofollow noreferrer\">distributed</a> across any union constituents.  If you want to disable distributed conditional types, you can use the trick of making the type parameter &quot;clothed&quot;, such as a single-element tuple like this: <code>type Param&lt;T&gt; = [T] extends [(arg: infer U) =&gt; void] ? U : never;</code>.  That should work the way you want."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "edited": false, "score": 0, "creation_date": 1545293338, "post_id": 50375286, "comment_id": 94576688, "body": "This answer deserves 1000s of upvotes, it almost saved my life!"}, {"owner": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 0, "creation_date": 1557346649, "post_id": 50375286, "comment_id": 98738319, "body": "Could you explain the beginning part with <code>U extends any ?</code> ? I tried just <code>((a: U) =&gt; void) extends (a: infer I) =&gt; void ? I : never;</code> but it doesn&#39;t work, even though the type U =&gt; void that&#39;s generated should be the same."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 416, "user_id": 6338059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16a70ade41a79bc77512ab3b8dc1a49?s=128&d=identicon&r=PG&f=1", "display_name": "Ran Lottem", "link": "https://stackoverflow.com/users/6338059/ran-lottem"}, "edited": false, "score": 3, "creation_date": 1557409879, "post_id": 50375286, "comment_id": 98762146, "body": "@RanLottem the key is <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#distributive-conditional-types\" rel=\"nofollow noreferrer\">distributive conditional types</a>.  The handbook explains it pretty well, in my opinion.  I&#39;ve <a href=\"https://stackoverflow.com/a/55383816/2887218\">expanded on it elsewhere</a> you need more info.  Good luck!"}, {"owner": {"reputation": 1914, "user_id": 43379, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e945fe6fd3a41c3757d89d9f3e12b79b?s=128&d=identicon&r=PG", "display_name": "SamBeran", "link": "https://stackoverflow.com/users/43379/samberan"}, "edited": false, "score": 0, "creation_date": 1557880133, "post_id": 50375286, "comment_id": 98911029, "body": "@jcalz is there a way to use this to get the intersection of union types?     <code>type X = (string | null) &amp; (string | number); &#47;* string *&#47; type Y = UnionToIntersection&lt;(string | null) | (string | number)&gt;; &#47;*null &amp; string &amp; number *&#47;</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1557882623, "post_id": 50375286, "comment_id": 98911441, "body": "Unions are associative, so <code>(string | null) | (string | number)</code> is just one big union <code>string | number | null</code>.  There&#39;s nothing for <code>UnionToIntersection&lt;&gt;</code> to act on; it&#39;s too late.  If you have the chance to alter the original elements before uniting them, you can do it (e.g., <code>UnionToIntersection&lt;[string | null] | [string | number]&gt;[0]</code>)"}, {"owner": {"reputation": 2078, "user_id": 1155168, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bb007ea9916e45856033ffe97f8843ac?s=128&d=identicon&r=PG", "display_name": "Iazel", "link": "https://stackoverflow.com/users/1155168/iazel"}, "edited": false, "score": 0, "creation_date": 1570057225, "post_id": 50375286, "comment_id": 102798162, "body": "Thank you very much for sharing this trick, it really made things much nicer to work with!"}, {"owner": {"reputation": 34263, "user_id": 454780, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8238ae773f9d75e510abe305209189f?s=128&d=identicon&r=PG", "display_name": "trusktr", "link": "https://stackoverflow.com/users/454780/trusktr"}, "edited": false, "score": 0, "creation_date": 1573940650, "post_id": 50375286, "comment_id": 104055669, "body": "@jcalz When properties of the union types have the same name but different types, can we make this somehow pick the type of the property from the first (or last) item in the union? Basically, here&#39;s an example: <a href=\"https://gitter.im/Microsoft/TypeScript?at=5dd06d64e75b2d5a19e5c911\" rel=\"nofollow noreferrer\">gitter.im/Microsoft/TypeScript?at=5dd06d64e75b2d5a19e5c911</a>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1573955065, "post_id": 50375286, "comment_id": 104058252, "body": "Unions in TypeScript are unordered in principle (... and although in practice the compiler does store the constituents in <i>some</i> order, the particular order is not guaranteed to make any sense or be stable from one compile to the next, so you can&#39;t rely on it).  So any type manipulation that relies on being able to inspect unions for order is a <a href=\"https://stackoverflow.com/questions/55127004/how-to-transform-union-type-to-tuple-type\">bad idea</a>."}, {"owner": {"reputation": 98, "user_id": 2373536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUwx.jpg?s=128&g=1", "display_name": "Natalie Cuthbert", "link": "https://stackoverflow.com/users/2373536/natalie-cuthbert"}, "edited": false, "score": 0, "creation_date": 1581412664, "post_id": 50375286, "comment_id": 106414939, "body": "I modified the answer answer above to handle the case of never, which resolves to unknown with the example above. Thanks to @jcalz for the tip: <code>type UnionToIntersection&lt;U&gt; =     ([U] extends [never] ? never :         (U extends any             ? ((k: U) =&gt; void)             : never         ) extends ((k: infer I) =&gt; void) ? I : never); </code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 98, "user_id": 2373536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUwx.jpg?s=128&g=1", "display_name": "Natalie Cuthbert", "link": "https://stackoverflow.com/users/2373536/natalie-cuthbert"}, "edited": false, "score": 1, "creation_date": 1581428853, "post_id": 50375286, "comment_id": 106423903, "body": "@NicholasCuthbert be careful; <code>unknown</code> is the &quot;correct&quot; result. For all <code>A</code> and <code>B</code>, <code>UTI&lt;A | B&gt;</code> should equal <code>UTI&lt;A&gt; &amp; UTI&lt;B&gt;</code>, right? Let <code>B</code> be <code>never</code> and note <code>A | never</code> is <code>A</code>. Now you have <code>UTI&lt;A&gt; = UTI&lt;A&gt; &amp; UTI&lt;never&gt;</code> for all <code>A</code>. The only reasonable way to satisfy that is <code>UTI&lt;never&gt;</code>=<code>unknown</code>, since <code>X &amp; unknown</code> is equal to <code>X</code>. If <code>UTI&lt;never&gt;</code> were <code>never</code>, then <code>UTI&lt;A&gt; = UTI&lt;A&gt; &amp; never</code>, but since <code>X &amp; never</code>=<code>never</code>, you&#39;re saying <code>UTI&lt;A&gt; = never</code> for all <code>A</code>... not great. There may be use cases for <code>UTI&lt;never&gt;</code> to be <code>never</code>, but it&#39;s not apparent to me, so be careful."}, {"owner": {"reputation": 98, "user_id": 2373536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JJUwx.jpg?s=128&g=1", "display_name": "Natalie Cuthbert", "link": "https://stackoverflow.com/users/2373536/natalie-cuthbert"}, "edited": false, "score": 0, "creation_date": 1581524161, "post_id": 50375286, "comment_id": 106465534, "body": "@jcalz thanks for the reply. What you say does make sense for the general case. Our use case should be fine since I&#39;m trying to get the intersection of all arguments to a set of functions, and if a single argument is never, that implies that the function should never be called."}, {"owner": {"reputation": 313, "user_id": 3650041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ce8673f0a57977b617e48af9e27fb250?s=128&d=identicon&r=PG&f=1", "display_name": "iCode101", "link": "https://stackoverflow.com/users/3650041/icode101"}, "edited": false, "score": 0, "creation_date": 1589912138, "post_id": 50375286, "comment_id": 109479878, "body": "@jcalz this appears to be broken for Typescript 3.6.3+. The type Weird is evaluating to never. Do you know how I fix it?  See <a href=\"https://www.typescriptlang.org/play/?ts=3.6.3#code/FAFwngDgpgBAqgOwJYHsEBUUEkEigJwGcoBjEVBAHjgD4YBeGYGFmACjhigA88EATQjACGCMDAD87ANYAueAEoGdAG4ok-GPIRQVBJTz6D2bOTCQIAZgRhYl9Vev5KpWLTB178wUJFgB1KCR8TUZECkwcPCJScjRKQhB8CwBzGAAfDwBXAFsAIxtMvJQUABsoURogA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/?ts=3.6.3#code/&hellip;</a>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1589914236, "post_id": 50375286, "comment_id": 109480866, "body": "<code>string &amp; number &amp; true &amp; false</code> really <i>is</i> <code>never</code>, but before TS3.6 the compiler didn&#39;t eagerly reduce it.  That changed in <a href=\"https://github.com/microsoft/TypeScript/pull/31838\" rel=\"nofollow noreferrer\">microsoft/TypeScript#31838</a>.  So it&#39;s not really something that needs &quot;fixing&quot;, I think"}, {"owner": {"reputation": 2630, "user_id": 436034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402d03b69b5fe3185b2e56f6d626446e?s=128&d=identicon&r=PG", "display_name": "Trinidad", "link": "https://stackoverflow.com/users/436034/trinidad"}, "edited": false, "score": 0, "creation_date": 1612687384, "post_id": 50375286, "comment_id": 116840115, "body": "Now this can be implemented just as <code>type UnionToIntersection&lt;U&gt; = [U] extends [infer I] ? I : never</code>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 228, "last_activity_date": 1589914297, "last_edit_date": 1589914297, "creation_date": 1526486099, "answer_id": 50375286, "question_id": 50374908, "link": "https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type/50375286#50375286", "title": "Transform union type to intersection type", "body": "<p>You want union to intersection?  <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#distributive-conditional-types\" rel=\"noreferrer\">Distributive conditional types</a> and <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#type-inference-in-conditional-types\" rel=\"noreferrer\">inference from conditional types</a> can do that.  (Don't think it's possible to do intersection-to-union though, sorry) Here's the evil magic:</p>\n\n<pre><code>type UnionToIntersection&lt;U&gt; = \n  (U extends any ? (k: U)=&gt;void : never) extends ((k: infer I)=&gt;void) ? I : never\n</code></pre>\n\n<p>That distributes the union <code>U</code> and repackages it into a new union where all the consitutents are in contravariant position.  That allows the type to be inferred as an intersection <code>I</code>, as mentioned in the handbook:</p>\n\n<blockquote>\n  <p>Likewise, multiple candidates for the same type variable in contra-variant positions causes an intersection type to be inferred.</p>\n</blockquote>\n\n<hr>\n\n<p>Let's see if it works.</p>\n\n<p>First let me parenthesize your <code>FunctionUnion</code> and <code>FunctionIntersection</code> because TypeScript seems to bind the union/intersection more tightly than function return:</p>\n\n<pre><code>type FunctionUnion = (() =&gt; void) | ((p: string) =&gt; void);\ntype FunctionIntersection = (() =&gt; void) &amp; ((p: string) =&gt; void);\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>type SynthesizedFunctionIntersection = UnionToIntersection&lt;FunctionUnion&gt;\n// inspects as \n// type SynthesizedFunctionIntersection = (() =&gt; void) &amp; ((p: string) =&gt; void)\n</code></pre>\n\n<p>Looks good!</p>\n\n<p>Be careful that in general <code>UnionToIntersection&lt;&gt;</code> exposes some details of what TypeScript thinks is an actual union.  For example, <code>boolean</code> is apparently internally represented as <code>true | false</code>, so</p>\n\n<pre><code>type Weird = UnionToIntersection&lt;string | number | boolean&gt;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>type Weird = string &amp; number &amp; true &amp; false\n</code></pre>\n\n<p>which in TS3.6+ gets eagerly reduced to</p>\n\n<pre><code>type Weird = never\n</code></pre>\n\n<p>because it's impossible to have a value which is <code>string</code> <em>and</em> <code>number</code> <em>and</em> <code>true</code> <em>and</em> <code>false</code>.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}, {"tags": [], "owner": {"reputation": 5164, "user_id": 1872046, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/2GC1B.jpg?s=128&g=1", "display_name": "polkovnikov.ph", "link": "https://stackoverflow.com/users/1872046/polkovnikov-ph"}, "is_accepted": false, "score": 7, "last_activity_date": 1593967069, "last_edit_date": 1593967069, "creation_date": 1577156740, "answer_id": 59463385, "question_id": 50374908, "link": "https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type/59463385#59463385", "title": "Transform union type to intersection type", "body": "<p>There is also a very related problem when you would like an intersection of several types, but not necessarily convert unions to intersections. There is just no way to get right to intersections without resorting to temporary unions!</p>\n<p>The problem is that types we would like to get an intersection of <strong>might have unions inside</strong>, which will be converted to intersections too. Guards to the rescue:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// union to intersection converter by @jcalz\n// Intersect&lt;{ a: 1 } | { b: 2 }&gt; = { a: 1 } &amp; { b: 2 }\ntype Intersect&lt;T&gt; = (T extends any ? ((x: T) =&gt; 0) : never) extends ((x: infer R) =&gt; 0) ? R : never\n\n// get keys of tuple\n// TupleKeys&lt;[string, string, string]&gt; = 0 | 1 | 2\ntype TupleKeys&lt;T extends any[]&gt; = Exclude&lt;keyof T, keyof []&gt;\n\n// apply { foo: ... } to every type in tuple\n// Foo&lt;[1, 2]&gt; = { 0: { foo: 1 }, 1: { foo: 2 } }\ntype Foo&lt;T extends any[]&gt; = {\n    [K in TupleKeys&lt;T&gt;]: {foo: T[K]}\n}\n\n// get union of field types of an object (another answer by @jcalz again, I guess)\n// Values&lt;{ a: string, b: number }&gt; = string | number\ntype Values&lt;T&gt; = T[keyof T]\n\n// TS won't believe the result will always have a field &quot;foo&quot;\n// so we have to check for it with a conditional first\ntype Unfoo&lt;T&gt; = T extends { foo: any } ? T[&quot;foo&quot;] : never\n\n// combine three helpers to get an intersection of all the item types\ntype IntersectItems&lt;T extends any[]&gt; = Unfoo&lt;Intersect&lt;Values&lt;Foo&lt;T&gt;&gt;&gt;&gt;\n\ntype Test = [\n    { a: 1 } | { b: 2 },\n    { c: 3 },\n]\n\n// this is what we wanted\ntype X = IntersectItems&lt;Test&gt; // { a: 1, c: 3 } | { b: 2, c: 3 }\n\n// this is not what we wanted\ntype Y = Intersect&lt;Test[number]&gt; // { a: 1, b: 2, c: 3 }\n</code></pre>\n<p>The execution in the given example goes like this</p>\n<pre class=\"lang-js prettyprint-override\"><code>IntersectItems&lt;[{ a: 1 } | { b: 2 }, { c: 3 }]&gt; =\nUnfoo&lt;Intersect&lt;Values&lt;Foo&lt;[{ a: 1 } | { b: 2 }, { c: 3 }]&gt;&gt;&gt;&gt; =\nUnfoo&lt;Intersect&lt;Values&lt;{0: { foo: { a: 1 } | { b: 2 } }, 1: { foo: { c: 3 } }}&gt;&gt;&gt; =\nUnfoo&lt;Intersect&lt;{ foo: { a: 1 } | { b: 2 } } | { foo: { c: 3 } }&gt;&gt; =\nUnfoo&lt;(({ foo: { a: 1 } | { b: 2 } } | { foo: { c: 3 } }) extends any ? ((x: T) =&gt; 0) : never) extends ((x: infer R) =&gt; 0) ? R : never&gt; =\nUnfoo&lt;(({ foo: { a: 1 } | { b: 2 } } extends any ? ((x: T) =&gt; 0) : never) | ({ foo: { c: 3 } } extends any ? ((x: T) =&gt; 0) : never)) extends ((x: infer R) =&gt; 0) ? R : never&gt; =\nUnfoo&lt;(((x: { foo: { a: 1 } | { b: 2 } }) =&gt; 0) | ((x: { foo: { c: 3 } }) =&gt; 0)) extends ((x: infer R) =&gt; 0) ? R : never&gt; =\nUnfoo&lt;{ foo: { a: 1 } | { b: 2 } } &amp; { foo: { c: 3 } }&gt; =\n({ foo: { a: 1 } | { b: 2 } } &amp; { foo: { c: 3 } })[&quot;foo&quot;] =\n({ a: 1 } | { b: 2 }) &amp; { c: 3 } =\n{ a: 1 } &amp; { c: 3 } | { b: 2 } &amp; { c: 3 }\n</code></pre>\n<p>Hopefully this also shows some other useful techniques.</p>\n"}], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16953, "favorite_count": 35, "accepted_answer_id": 50375286, "answer_count": 2, "score": 102, "last_activity_date": 1605978151, "creation_date": 1526484837, "question_id": 50374908, "link": "https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type", "title": "Transform union type to intersection type", "body": "<p>Is there a way to transform a union type into an intersection type :</p>\n\n<pre><code>type FunctionUnion = () =&gt; void | (p: string) =&gt; void\ntype FunctionIntersection = () =&gt; void &amp; (p: string) =&gt; void\n</code></pre>\n\n<p>I would like to apply a transformation to <code>FunctionUnion</code> to get <code>FunctionIntersection</code></p>\n"}, {"tags": ["reactjs", "typescript", "null", "undefined"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1526485478, "post_id": 50374869, "comment_id": 87766436, "body": "This is a bit confusing. Are you just trying to iterate over an object&#39;s properties? That&#39;s solved in <a href=\"//stackoverflow.com/q/2549320\">looping through an object (tree) recursively</a>. There are a number of questions about recursively going through objects and setting properties as well. E.g., <a href=\"//stackoverflow.com/q/2061325\">Javascript object key value coding.  Dynamically setting a nested value</a>"}, {"owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1526485606, "post_id": 50374869, "comment_id": 87766515, "body": "@MikeMcCaughan sorry i tried to provide enough information to make the problem understandable, but i think it had the opposite effect. I want to write a function that will  convert any instance of null to undefined in any object i pass to it. The objects can be complex, contain arrays of other objects, or have nested objects. I&#39;ll read through the links provided!"}], "answers": [{"comments": [{"owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "edited": false, "score": 0, "creation_date": 1526494283, "post_id": 50375116, "comment_id": 87771160, "body": "I&#39;m not quite sure i understand what this does? Is it just checking that the value isn&#39;t false, undefined, or null?"}, {"owner": {"reputation": 15, "user_id": 4085116, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0970db72d442bd5b73d977b93307d792?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/4085116/joshua"}, "reply_to_user": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "edited": false, "score": 0, "creation_date": 1526498698, "post_id": 50375116, "comment_id": 87773266, "body": "Exactly -- instead of having to check if an object is null or undefined, you can use truthy type values to capture all of the associated values in a single umbrella.   What you want is to check value X and if it is null, convert it to undefined and then do some sort of logic. What you CAN do is to check if a value is not truthy (aka falsey) and then do some sort of logic. It removes the need to change all nulls to undefined."}, {"owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "edited": false, "score": 0, "creation_date": 1526499191, "post_id": 50375116, "comment_id": 87773507, "body": "Is there any chance you could expand your code with a simple example? I&#39;m not quite sure i understand the method fully."}], "tags": [], "owner": {"reputation": 15, "user_id": 4085116, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0970db72d442bd5b73d977b93307d792?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/4085116/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1526485484, "creation_date": 1526485484, "answer_id": 50375116, "question_id": 50374869, "link": "https://stackoverflow.com/questions/50374869/generic-way-to-convert-all-instances-of-null-to-undefined-in-typescript/50375116#50375116", "title": "Generic way to convert all instances of null to undefined in Typescript", "body": "<p>You could use truthy-type values. Use the <code>!!</code> operator to convert a value into a truthy type value.</p>\n\n<pre><code>if(!!array[0]) { ... } //If array[0] contains a 'truthy' value, e.g. true, 1, not null, not undefined, etc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "is_accepted": false, "score": 0, "last_activity_date": 1526494237, "creation_date": 1526494237, "answer_id": 50377490, "question_id": 50374869, "link": "https://stackoverflow.com/questions/50374869/generic-way-to-convert-all-instances-of-null-to-undefined-in-typescript/50377490#50377490", "title": "Generic way to convert all instances of null to undefined in Typescript", "body": "<p>Well my answer is not pretty, but this is what i got to work for me:</p>\n\n<pre><code>function recurseObject(obj: any) {\n\n    if (obj === null) {\n        return undefined;\n\n    } else if (typeof obj !== 'object') {\n        return obj;\n\n    } else {\n\n    if (obj instanceof Array) {\n        for (let key of obj) {\n            recurseObject(key);\n    }\n\n    } else {\n            for (let key in obj) {\n\n                if (obj[key] === null) {\n                    obj[key] = undefined;\n\n                } else if (typeof obj[key] === 'object') {\n                    recurseObject(obj[key]);\n                }\n            }\n        }\n    }\n\n    return obj;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 795, "user_id": 2761695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4418f902f23db6cce543764a8958501?s=128&d=identicon&r=PG", "display_name": "the21st", "link": "https://stackoverflow.com/users/2761695/the21st"}, "edited": false, "score": 0, "creation_date": 1597062286, "post_id": 60085326, "comment_id": 112002229, "body": "The answer explicitly asks for a generic way, and this is not generic."}], "tags": [], "owner": {"reputation": 304, "user_id": 3338239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2448fe2d3b12957bdc634a24c9b154d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marten S", "link": "https://stackoverflow.com/users/3338239/marten-s"}, "is_accepted": true, "score": 4, "last_activity_date": 1580943465, "creation_date": 1580943465, "answer_id": 60085326, "question_id": 50374869, "link": "https://stackoverflow.com/questions/50374869/generic-way-to-convert-all-instances-of-null-to-undefined-in-typescript/60085326#60085326", "title": "Generic way to convert all instances of null to undefined in Typescript", "body": "<p>A bit late to the party, but I think Grant's answer can be simplified a bit. How about this one:</p>\n\n<pre><code>function removeNulls(obj: any): any {\n    if (obj === null) {\n        return undefined;\n    }\n    if (typeof obj === 'object') {\n        for (let key in obj) {\n            obj[key] = removeNulls(obj[key]);\n        }\n    }\n    return obj;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 987, "user_id": 2572988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21a7c7e4a1596979b60fe8a9a61d1e8b?s=128&d=identicon&r=PG", "display_name": "Cethy", "link": "https://stackoverflow.com/users/2572988/cethy"}, "is_accepted": false, "score": 2, "last_activity_date": 1602080673, "creation_date": 1602080673, "answer_id": 64246154, "question_id": 50374869, "link": "https://stackoverflow.com/questions/50374869/generic-way-to-convert-all-instances-of-null-to-undefined-in-typescript/64246154#64246154", "title": "Generic way to convert all instances of null to undefined in Typescript", "body": "<p>In order to recursively handle all types :</p>\n<pre class=\"lang-js prettyprint-override\"><code>function cleanNullToUndefined(obj: any): any {\n  if (obj === null) {\n      return undefined;\n\n  }\n  if (typeof obj !== 'object') {\n      return obj;\n\n  }\n  if (obj instanceof Array) {\n    return obj.map(cleanNullToUndefined);\n  }\n\n  return Object.keys(obj).reduce((result, key) =&gt; ({\n    ...result, \n    [key]: cleanNullToUndefined(obj[key])\n  }), {});\n}\n</code></pre>\n"}], "owner": {"reputation": 1369, "user_id": 4383396, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1279516226/picture?type=large", "display_name": "Grant Williams", "link": "https://stackoverflow.com/users/4383396/grant-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2726, "favorite_count": 1, "accepted_answer_id": 60085326, "answer_count": 4, "score": 5, "last_activity_date": 1602080673, "creation_date": 1526484721, "last_edit_date": 1526485393, "question_id": 50374869, "link": "https://stackoverflow.com/questions/50374869/generic-way-to-convert-all-instances-of-null-to-undefined-in-typescript", "title": "Generic way to convert all instances of null to undefined in Typescript", "body": "<p>I am wanting to write a function that converts all instances of a property of any object that is null to undefined. Many of my objects have nested objects as properties or arrays of values/objects.</p>\n\n<p>My first thought when approaching the problem is to use generics to attempt to catch the type of each of the properties with a generic type and then to convert the value of that property from null to undefined as needed.</p>\n\n<p>I am hoping to write a function that is generic enough to work across any of the different types and sized objects I have across my code code base.</p>\n\n<p>I haven't been able to find an easy way to have an unknown number of generic types, so my next thought is that I'll have to use the any type everywhere. Is there a way around this?</p>\n\n<p>I'd also love some advice on the approach/algorithm itself as well. My thought is that I'll probably need to recursively check each property to see if it itself is an object with sub properties, and I'll also need to iterate any arrays found that might have a null value as well, or have an object that will need to be recursively checked as well.</p>\n\n<p>The problems/questions I need to solve/answer:</p>\n\n<ol>\n<li>Should I use Generics or Any?</li>\n<li>If i use generics is there a way to dynamically assign new generic types as a new type  is found?</li>\n<li>Does typescript have an easier way to recursively parse objects?</li>\n</ol>\n\n<p>My current approach is something like:</p>\n\n<p><code>inputObjectKeys.map(key, index) =&gt;</code></p>\n\n<p>then have a function that converts null to undefined, ignores non object types, and recurses if its an object.</p>\n\n<p>I'm assuming I'd want to use a Breadth First Search or Depth First Search (I'm leaning towards Breadth First Search for this particular task). I'm assuming since i need to visit every node i might be better off with DFS simply because of the memory usage.</p>\n"}, {"tags": ["node.js", "typescript", "vue.js", "vuejs2", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 1487456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9ae29625e3bf4ffcfac5887ca3b1?s=128&d=identicon&r=PG", "display_name": "infl3x", "link": "https://stackoverflow.com/users/1487456/infl3x"}, "edited": false, "score": 0, "creation_date": 1526535107, "post_id": 50376846, "comment_id": 87783434, "body": "Awesome - that worked! It just went a little against my own intuition about how the mocking framework should behave. Great explanation!"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1302, "user_id": 1487456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9ae29625e3bf4ffcfac5887ca3b1?s=128&d=identicon&r=PG", "display_name": "infl3x", "link": "https://stackoverflow.com/users/1487456/infl3x"}, "edited": false, "score": 0, "creation_date": 1526548015, "post_id": 50376846, "comment_id": 87790497, "body": "Glad it helped."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 6, "last_activity_date": 1526491723, "creation_date": 1526491723, "answer_id": 50376846, "question_id": 50374726, "link": "https://stackoverflow.com/questions/50374726/mocking-custom-modules-in-vuejs-components-using-jest/50376846#50376846", "title": "Mocking custom modules in VueJS components using Jest", "body": "<p><code>jest.mock('./../../src/app', () =&gt; 'anything')</code> mocks module export with a value that factory function returns:</p>\n\n<pre><code>    const test = require('./../../src/app');\n    expect(test).toEqual('anything');\n</code></pre>\n\n<p>Although this will work for ES module imports because they use CommonJS modules internally, this is against specs, because <code>*</code> import should be an object.</p>\n\n<blockquote>\n  <p>The test called should mock in test gets the mocked value for eventBus and passes.</p>\n</blockquote>\n\n<p>It doesn't get mocked <code>eventBus</code>. It gets <code>*</code> export.</p>\n\n<blockquote>\n  <p>The test called should mock in component does not get the mocked value for eventBus</p>\n</blockquote>\n\n<p>There is no <code>eventBus</code> property on 'anything' string, that's why the test fails. </p>\n\n<p>Named export should be mocked with:</p>\n\n<pre><code>jest.mock('./../../src/app', () =&gt; ({\n  eventBus: { $emit: jest.fn() }\n}));\n</code></pre>\n"}], "owner": {"reputation": 1302, "user_id": 1487456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58ad9ae29625e3bf4ffcfac5887ca3b1?s=128&d=identicon&r=PG", "display_name": "infl3x", "link": "https://stackoverflow.com/users/1487456/infl3x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2778, "favorite_count": 1, "accepted_answer_id": 50376846, "answer_count": 1, "score": 4, "last_activity_date": 1526491723, "creation_date": 1526484189, "last_edit_date": 1526487084, "question_id": 50374726, "link": "https://stackoverflow.com/questions/50374726/mocking-custom-modules-in-vuejs-components-using-jest", "title": "Mocking custom modules in VueJS components using Jest", "body": "<p>I'm trying to write a simple Jest unit test on one of my Vue components.</p>\n\n<p>Tech stack: TypeScript, VueJS, Jest, Webpack,</p>\n\n<p><strong>Structure</strong>:</p>\n\n<pre><code> root\n   - src\n     - invite\n      - accept.ts\n      - accept.vue\n   - test\n     - invite\n       - accept.ts\n   - app.ts\n   - jest.config.json\n   - package.json\n</code></pre>\n\n<p>I've been observing some strange behaviour when attempting to mock out a dependency module using Jest.</p>\n\n<p><strong>src/invite/accept.ts</strong>:</p>\n\n<pre><code>import Vue from \"vue\";\nimport Component from 'vue-class-component';\nimport { eventBus } from './../app';\n\n@Component\nexport default class InviteAccept extends Vue {\n\n    created() {\n        console.log(eventBus);\n        eventBus.$emit('hideNavigation');\n    };\n}\n</code></pre>\n\n<p><strong>src/invite/accept.vue</strong></p>\n\n<pre><code>&lt;template&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col\"&gt;\n            &lt;h1&gt;Blah&lt;/h1&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n&lt;script src=\"./accept.ts\" lang=\"ts\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p><strong>src/app.ts</strong></p>\n\n<pre><code>import { polyfill } from 'es6-promise'\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Invite from './invite/accept.vue';\n\npolyfill();\n\nexport const eventBus = new Vue();\n\nconst router = new VueRouter({\n    routes: [\n        { path: '/invite/accept/:token', component: Invite, name: 'inviteAccept' },\n        { path: '/', component: undefined, name: 'index' },\n    ]\n});\n\nVue.use(VueRouter);\n\nconst app = new Vue({ router }).$mount('#app');\n</code></pre>\n\n<p><strong>/jest.config.json</strong></p>\n\n<pre><code>{\n  \"transform\": {\n    \"\\\\.(ts|tsx)$\": \"&lt;rootDir&gt;/node_modules/ts-jest/preprocessor.js\",\n    \"\\\\.(vue)$\": \"&lt;rootDir&gt;/node_modules/vue-jest\"\n  },\n  \"testRegex\": \"/test/.*\\\\.(ts|tsx)$\",\n  \"moduleFileExtensions\": [\n    \"vue\",\n    \"ts\",\n    \"tsx\",\n    \"js\"\n  ],\n  \"transformIgnorePatterns\": [\n    \"&lt;rootDir&gt;/node_modules/(?!lodash-es/.*)\"\n  ]\n}\n</code></pre>\n\n<p><strong>/package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"blah\",\n  \"version\": \"1.0.0\",\n  \"license\": \"UNLICENSED\",\n  \"scripts\": {\n    \"build\": \"webpack --config webpack.prod.js\",\n    \"watch\": \"webpack --watch --config webpack.dev.js\",\n    \"test\": \"jest -c jest.config.json\"\n  },\n  \"devDependencies\": {\n    \"@types/es6-promise\": \"^3.3.0\",\n    \"@types/jest\": \"^22.2.3\",\n    \"@vue/test-utils\": \"^1.0.0-beta.16\",\n    \"applicationinsights-js\": \"^1.0.15\",\n    \"bootstrap-vue\": \"^2.0.0-rc.9\",\n    \"clean-webpack-plugin\": \"^0.1.19\",\n    \"css-loader\": \"^0.28.10\",\n    \"es6-promise\": \"^4.2.4\",\n    \"extract-text-webpack-plugin\": \"3.0.2\",\n    \"html-webpack-plugin\": \"^3.0.6\",\n    \"jest\": \"^22.4.3\",\n    \"jest-teamcity-reporter\": \"^0.9.0\",\n    \"ts-jest\": \"^22.4.6\",\n    \"ts-loader\": \"3.4.0\",\n    \"typescript\": \"^2.7.2\",\n    \"vue\": \"^2.5.13\",\n    \"vue-class-component\": \"^6.2.0\",\n    \"vue-jest\": \"^2.5.0\",\n    \"vue-loader\": \"^14.1.1\",\n    \"vue-router\": \"^3.0.1\",\n    \"vue-style-loader\": \"^4.0.2\",\n    \"vue-template-compiler\": \"^2.5.13\",\n    \"vue-types\": \"^1.2.0\",\n    \"webpack\": \"3.10.0\",\n    \"webpack-merge\": \"^4.1.2\"\n  },\n  \"dependencies\": {}\n}\n</code></pre>\n\n<p>And finally, the test class</p>\n\n<p><strong>/test/invite/accept.ts</strong></p>\n\n<pre><code>import InviteAccept from './../../src/invite/accept';\nimport { eventBus } from './../../src/app';\nimport { shallowMount, createLocalVue } from '@vue/test-utils';\nimport VueRouter = require('vue-router'); // This needs to be 'require', rather than 'from'. Some weird thing or something.\nimport 'jest';\n\ndescribe('invites', () =&gt; {\n    jest.mock('./../../src/app', () =&gt; 'anything');\n\n    function createWrapper() {\n        const localVue = createLocalVue();\n        localVue.use(VueRouter);\n        const router = new VueRouter();\n\n        return shallowMount(InviteAccept, {\n            localVue,\n            router\n        });\n    };\n\n    test('should mock in test', () =&gt; {\n        // this works:\n        const test = require('./../../src/app');\n        expect(test).toEqual('anything');\n    });\n\n    test('should mock in component', () =&gt; {\n        const wrapper = createWrapper();\n    });\n\n});\n</code></pre>\n\n<p>The test called <code>should mock in test</code> gets the mocked value for <code>eventBus</code> and passes.</p>\n\n<p>The test called <code>should mock in component</code> does not get the mocked value for <code>eventBus</code> and it is <code>undefined</code>. The exact error is as follows:</p>\n\n<pre><code>TypeError: Cannot read property '$emit' of undefined\n\n      at VueComponent.Object.&lt;anonymous&gt;.InviteAccept.created (src/invite/accept.vue:49:23)\n      at callHook (node_modules/vue/dist/vue.runtime.common.js:2919:21)\n      at VueComponent.Vue._init (node_modules/vue/dist/vue.runtime.common.js:4628:5)\n      at new VueComponent (node_modules/vue/dist/vue.runtime.common.js:4796:12)\n      at createInstance (node_modules/@vue/test-utils/dist/vue-test-utils.js:4230:12)\n      at mount (node_modules/@vue/test-utils/dist/vue-test-utils.js:5376:12)\n      at Object.shallowMount (node_modules/@vue/test-utils/dist/vue-test-utils.js:5414:10)\n      at createWrapper (test/invite/accept.ts:13:29)\n      at Object.&lt;anonymous&gt; (test/invite/accept.ts:25:23)\n</code></pre>\n\n<p>The <code>console.log(eventBus);</code> inside the component's <code>created()</code> function also yields <code>undefined</code>.</p>\n\n<p>If I try and <code>console.log(eventBus);</code> inside the test, it is <code>undefined</code> too, which i just don't understand either.</p>\n\n<p>What I expect to happen is that the <code>eventBus</code> instance inside the component is replaced. I realise that the mock will never work whilst set to 'Anything' but I expect to see it set to the mocked value at least.</p>\n\n<p>According to the Jest documentation (<a href=\"https://facebook.github.io/jest/docs/en/es6-class-mocks.html\" rel=\"nofollow noreferrer\">https://facebook.github.io/jest/docs/en/es6-class-mocks.html</a>) on Automatic Mocking I think the above is correct.</p>\n\n<p>I'm sure I'm missing something obvious but I have no idea what it is. Any help would be greatly appreciated :-)</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 1, "creation_date": 1526484568, "post_id": 50374655, "comment_id": 87765858, "body": "This is one of the first items described at <a href=\"https://angular.io/tutorial\" rel=\"nofollow noreferrer\">angular.io/tutorial</a> - Angular&#39;s Tour of Heroes and even has example code that literally does this."}, {"owner": {"reputation": 144, "user_id": 8462307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a67dbe37a03e47fdba0a1a747c4e75?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/8462307/s-k"}, "reply_to_user": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1526485964, "post_id": 50374655, "comment_id": 87766739, "body": "Thre is a slight difference, I want to add textbox first and then want to add text to it. Angular&#39;s Tour of Heroes is having only one textbox to add chips."}, {"owner": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1526486332, "post_id": 50374655, "comment_id": 87766976, "body": "Go ahead and update your question to show relevant code that you&#39;ve attempted, and the difference between that and what you would like to achieve. As your question stands it does match exactly, so in order to provide you with help you will need to make these changes (or it will likely be automatically closed due to being too broad)."}, {"owner": {"reputation": 144, "user_id": 8462307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a67dbe37a03e47fdba0a1a747c4e75?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/8462307/s-k"}, "reply_to_user": {"reputation": 7649, "user_id": 7733570, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zwdV1.jpg?s=128&g=1", "display_name": "Z. Bagley", "link": "https://stackoverflow.com/users/7733570/z-bagley"}, "edited": false, "score": 0, "creation_date": 1527598122, "post_id": 50374655, "comment_id": 88178822, "body": "Thanks, @Z.Bagley for your time and comments."}], "answers": [{"comments": [{"owner": {"reputation": 920, "user_id": 1380241, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4a160deeface435fe53e06f066819ca6?s=128&d=identicon&r=PG", "display_name": "Eagle", "link": "https://stackoverflow.com/users/1380241/eagle"}, "edited": false, "score": 0, "creation_date": 1599238627, "post_id": 50584745, "comment_id": 112722985, "body": "Thanks, very helpful example"}], "tags": [], "owner": {"reputation": 144, "user_id": 8462307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a67dbe37a03e47fdba0a1a747c4e75?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/8462307/s-k"}, "is_accepted": true, "score": 7, "last_activity_date": 1527731136, "last_edit_date": 1527731136, "creation_date": 1527597869, "answer_id": 50584745, "question_id": 50374655, "link": "https://stackoverflow.com/questions/50374655/add-textbox-and-text-chip-dynamically-in-angular-5/50584745#50584745", "title": "Add textbox and text/chip dynamically in Angular 5", "body": "<p><strong>app.component.ts</strong></p>\n\n<pre><code>  fieldArray: Array&lt;any&gt; = [];\n  newAttribute: any = {};\n\n  firstField = true;\n  firstFieldName = 'First Item name';\n  isEditItems: boolean;\n\n  addFieldValue(index) {\n    if (this.fieldArray.length &lt;= 2) {\n      this.fieldArray.push(this.newAttribute);\n      this.newAttribute = {};\n    } else {\n\n    }\n  }\n\n  deleteFieldValue(index) {\n    this.fieldArray.splice(index, 1);\n  }\n\n  onEditCloseItems() {\n    this.isEditItems = !this.isEditItems;\n  }\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>    &lt;div class=\"container\"&gt;\n    &lt;br&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;table class=\"table table-striped table-bordered col-lg-4\"&gt;\n      &lt;caption&gt;&lt;i&gt;Add/remove textbox and chip dynamically in Angular 6&lt;/i&gt;&lt;/caption&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Item Name\n                        &lt;a (click)=\"onEditCloseItems()\" class=\"text-info float-right\"&gt;\n                            &lt;i class=\"mdi mdi-{{isEditItems ? 'close' : 'pencil'}} mdi-18px\"&gt;&lt;/i&gt;\n                        &lt;/a&gt;\n                    &lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n\n            &lt;tbody *ngIf=\"!isEditItems\"&gt;\n                &lt;tr *ngIf=\"firstField\"&gt;\n                    &lt;td&gt;\n                        &lt;i (click)=\"firstField = false\" class=\"mdi mdi-close mdi-18px\"&gt;&lt;/i&gt; {{firstFieldName}}\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr *ngFor=\"let field of fieldArray; let i = index\"&gt;\n                    &lt;td *ngIf=\"field?.name\"&gt;\n                        &lt;i (click)=\"deleteFieldValue(i)\" class=\"mdi mdi-close mdi-18px\"&gt;&lt;/i&gt; {{field.name}}&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n\n            &lt;tbody *ngIf=\"isEditItems\"&gt;\n                &lt;tr&gt;\n                    &lt;td *ngIf=\"firstField\"&gt;\n                        &lt;div class=\"input-group\"&gt;\n                            &lt;div class=\"input-group-prepend\"&gt;\n                                &lt;div (click)=\"firstField = false\" class=\"input-group-text\"&gt;&lt;i class=\"mdi mdi-close mdi-18px\"&gt;&lt;/i&gt;&lt;/div&gt;\n                            &lt;/div&gt;\n                            &lt;input [(ngModel)]=\"firstFieldName\" class=\"form-control py-2 \" type=\"text\" name=\"firstFieldName\" placeholder=\"Item Name\"&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n\n                &lt;tr *ngFor=\"let field of fieldArray; let i = index\"&gt;\n                    &lt;td&gt;\n                        &lt;div class=\"input-group\"&gt;\n                            &lt;div class=\"input-group-prepend\"&gt;\n                                &lt;div (click)=\"deleteFieldValue(i)\" class=\"input-group-text\"&gt;&lt;i class=\"mdi mdi-close mdi-18px\"&gt;&lt;/i&gt;&lt;/div&gt;\n                            &lt;/div&gt;\n                            &lt;input [(ngModel)]=\"field.name\" class=\"form-control\" type=\"text\" name=\"{{field.name}}\" placeholder=\"Item Name\"&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td align=\"right\"&gt;\n                        &lt;button *ngIf=\"fieldArray.length &lt;= 2\" class=\"btn btn-success btn-sm\" type=\"button\" (click)=\"addFieldValue()\" style=\"margin-right:10px\"&gt;Add More Item&lt;/button&gt;\n                        &lt;button (click)=\"onEditCloseItems()\" class=\"btn btn-primary btn-sm\" type=\"button\"&gt;Save Items&lt;/button&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"http://stackblitz.com/edit/angular-ka8zxg?file=src%2Fapp%2Fapp.component.html\" rel=\"noreferrer\">Stackblitz demo link 1</a></p>\n\n<p><strong>Edited</strong>\n<a href=\"https://stackblitz.com/edit/angular-iabn9x?embed=1&amp;file=src/main.ts\" rel=\"noreferrer\">Stackblitz demo link 2</a></p>\n"}], "owner": {"reputation": 144, "user_id": 8462307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2a67dbe37a03e47fdba0a1a747c4e75?s=128&d=identicon&r=PG&f=1", "display_name": "S. K.", "link": "https://stackoverflow.com/users/8462307/s-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18128, "favorite_count": 6, "accepted_answer_id": 50584745, "answer_count": 1, "score": 3, "last_activity_date": 1527731136, "creation_date": 1526484025, "question_id": 50374655, "link": "https://stackoverflow.com/questions/50374655/add-textbox-and-text-chip-dynamically-in-angular-5", "title": "Add textbox and text/chip dynamically in Angular 5", "body": "<p>I want to add textbox (max 10) dynamically with a close (X) button and then want to add some text to it. Text should show in different view after click Save button. Added textbox or text should be removable if click on the close button (X).</p>\n\n<p>The view can toggle with an edit\\close button.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AaZ2O.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AaZ2O.jpg\" alt=\"Add text box and text/chip dynamically in Angular 5\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2780, "user_id": 4892206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sagqm.jpg?s=128&g=1", "display_name": "Michael Czechowski", "link": "https://stackoverflow.com/users/4892206/michael-czechowski"}, "edited": false, "score": 0, "creation_date": 1526484457, "post_id": 50374600, "comment_id": 87765779, "body": "Have you added ApplicantSvc to your modules, for instance app.module.js?"}, {"owner": {"reputation": 71, "user_id": 2894836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e36a6a575470f00aea99683450a892?s=128&d=identicon&r=PG&f=1", "display_name": "user2894836", "link": "https://stackoverflow.com/users/2894836/user2894836"}, "reply_to_user": {"reputation": 2780, "user_id": 4892206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sagqm.jpg?s=128&g=1", "display_name": "Michael Czechowski", "link": "https://stackoverflow.com/users/4892206/michael-czechowski"}, "edited": false, "score": 0, "creation_date": 1526484858, "post_id": 50374600, "comment_id": 87766049, "body": "I already added that in app.module and it&#39;s working fine in other components which are AOT compiled. Only getting issue with JIT compiled component."}, {"owner": {"reputation": 71, "user_id": 2894836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e36a6a575470f00aea99683450a892?s=128&d=identicon&r=PG&f=1", "display_name": "user2894836", "link": "https://stackoverflow.com/users/2894836/user2894836"}, "reply_to_user": {"reputation": 2780, "user_id": 4892206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/sagqm.jpg?s=128&g=1", "display_name": "Michael Czechowski", "link": "https://stackoverflow.com/users/4892206/michael-czechowski"}, "edited": false, "score": 0, "creation_date": 1526487622, "post_id": 50374600, "comment_id": 87767685, "body": "Found the solution <a href=\"https://stackoverflow.com/questions/47789613/error-when-trying-to-use-a-service-in-dynamically-created-component-angular-5-1?rq=1\" title=\"error when trying to use a service in dynamically created component angular 5 1\">stackoverflow.com/questions/47789613/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 670, "user_id": 3670304, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/39a4d6b74e0f1916376a1b02d05fa9ba?s=128&d=identicon&r=PG", "display_name": "jgritten", "link": "https://stackoverflow.com/users/3670304/jgritten"}, "is_accepted": false, "score": 0, "last_activity_date": 1549641684, "creation_date": 1549641684, "answer_id": 54596151, "question_id": 50374600, "link": "https://stackoverflow.com/questions/50374600/angular-6-not-able-to-inject-a-service-in-dynamic-component-using-jit-compilati/54596151#54596151", "title": "Angular 6: Not able to inject a service in dynamic component using JIT compilation", "body": "<p>I've found that simply passing the service like a variable worked just fine</p>\n\n<pre><code>  this.compiler.compileModuleAndAllComponentsAsync(tmpModule)\n    .then((factories) =&gt; {\n      const f = factories.componentFactories[0];\n      this.cmpRef = f.create(this.injector, [], null, this.moduleRef);\n      this.cmpRef.instance.name = 'my-dynamic-component';\n      \u0336t\u0336h\u0336i\u0336s\u0336.\u0336v\u0336c\u0336.\u0336i\u0336n\u0336s\u0336e\u0336r\u0336t\u0336(\u0336t\u0336h\u0336i\u0336s\u0336.\u0336c\u0336m\u0336p\u0336R\u0336e\u0336f\u0336.\u0336h\u0336o\u0336s\u0336t\u0336V\u0336i\u0336e\u0336w\u0336)\u0336;\u0336\n      \ud835\ude01\ud835\uddf5\ud835\uddf6\ud835\ude00.\ud835\uddf0\ud835\uddfa\ud835\uddfd\ud835\udde5\ud835\uddf2\ud835\uddf3.\ud835\uddf6\ud835\uddfb\ud835\ude00\ud835\ude01\ud835\uddee\ud835\uddfb\ud835\uddf0\ud835\uddf2.\ud835\uddee\ud835\ude04\ud835\uddf2\ud835\ude00\ud835\uddfc\ud835\uddfa\ud835\uddf2\ud835\udde6\ud835\uddf2\ud835\uddff\ud835\ude03\ud835\uddf6\ud835\uddf0\ud835\uddf2 = \ud835\ude01\ud835\uddf5\ud835\uddf6\ud835\ude00.\ud835\uddfa\ud835\ude06\ud835\uddd4\ud835\ude04\ud835\uddf2\ud835\ude00\ud835\uddfc\ud835\uddfa\ud835\uddf2\ud835\udde6\ud835\uddf2\ud835\uddff\ud835\ude03\ud835\uddf6\ud835\uddf0\ud835\uddf2        \n});\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 2894836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3e36a6a575470f00aea99683450a892?s=128&d=identicon&r=PG&f=1", "display_name": "user2894836", "link": "https://stackoverflow.com/users/2894836/user2894836"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 635, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1549641684, "creation_date": 1526483870, "last_edit_date": 1526485620, "question_id": 50374600, "link": "https://stackoverflow.com/questions/50374600/angular-6-not-able-to-inject-a-service-in-dynamic-component-using-jit-compilati", "title": "Angular 6: Not able to inject a service in dynamic component using JIT compilation", "body": "<p>I am trying to inject a service in my dynamic component that I am creating but when I try to inject a service I get an error. I am able to inject the service in all the other components which used AOT but not when I am using JIT. Here is the code.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\n\n@Injectable\nexport class ApplicantSvc\n{\n name:string;  \n}\n\nprivate createComponentFromRaw(template: string){\n\n  const tmpCmp = Component({ template })(class {\n\n    constructor(private app :ApplicantSvc){}\n\n  });\n\n  // Now, also create a dynamic module.\n  const tmpModule = NgModule({\n    declarations: [tmpCmp],\n    imports: [CommonModule],\n    providers: [ApplicantSvc],\n\n  })(class {});\n\n\n  this.compiler.compileModuleAndAllComponentsAsync(tmpModule)\n    .then((factories) =&gt; {\n      const f = factories.componentFactories[0];\n      this.cmpRef = f.create(this.injector, [], null, this.moduleRef);\n      this.cmpRef.instance.name = 'my-dynamic-component';\n      this.vc.insert(this.cmpRef.hostView);\n    });\n}\n</code></pre>\n\n<p>In the above code I have added ApplicantSvc for providers in dynamic module and then injected in dynamic component constructor but whenever I try to do that I get an error</p>\n\n<blockquote>\n  <p>ERROR Error: Can't resolve all parameters for class_1: (?). .....\n  ..... at\n  JitCompiler.push../node_modules/@angular/compiler/fesm5/compiler.js.JitCompiler._loadModules\n  (compiler.js:22570)</p>\n</blockquote>\n"}, {"tags": ["typescript", "webpack", "karma-runner", "source-maps", "karma-webpack"], "answers": [{"comments": [{"owner": {"reputation": 1192, "user_id": 1501573, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/aba88df9a80e5ae2ba92c0a69e0eb6f4?s=128&d=identicon&r=PG", "display_name": "Victor Shelepen", "link": "https://stackoverflow.com/users/1501573/victor-shelepen"}, "edited": false, "score": 0, "creation_date": 1610505371, "post_id": 51365609, "comment_id": 116153033, "body": "I have the same problem. It looks-wise. But it does not work. IN my case Karma reports stack of an error I see that the source maps work but the stack is not formatted correctly. I do not need webpack stack of messages."}], "tags": [], "owner": {"reputation": 1070, "user_id": 4016579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe04f10d62c79d296854c4f494329b?s=128&d=identicon&r=PG&f=1", "display_name": "kremerd", "link": "https://stackoverflow.com/users/4016579/kremerd"}, "is_accepted": true, "score": 8, "last_activity_date": 1531755844, "creation_date": 1531755844, "answer_id": 51365609, "question_id": 50374324, "link": "https://stackoverflow.com/questions/50374324/sourcemapping-typescript-in-karma/51365609#51365609", "title": "Sourcemapping TypeScript in Karma", "body": "<p>Figuring this out was rather tedious. A couple of problems come together here:</p>\n\n<ol>\n<li><code>webpack-internal://</code> source maps were added as a workaround to an unnamed <a href=\"https://github.com/webpack/webpack/blob/master/lib/EvalSourceMapDevToolModuleTemplatePlugin.js#L95\" rel=\"noreferrer\">Chrome bug</a> with eval-type source maps.\nIt seems that other browsers like the Karma launcher (and also Firefox) are still unable to interpret the eval-type source maps and therefore fall back to <code>webpack-internal://</code>. In order to get proper source-map support in those browsers you need to use classic source maps like <code>devtool: inline-source-map</code>. This also eliminates the <code>webpack-internal://</code> source maps altogether.</li>\n<li>When transpiling <code>.ts</code> files with karma-webpack no source-maps are generated still. That's because karma-webpack by default outputs files with their original file name. And <code>devtool: inline-source-map</code> sets a filter to only build source-maps for <code>.css</code> and <code>.js</code> output files. This can be salvaged by configuring the <a href=\"https://webpack.js.org/plugins/source-map-dev-tool-plugin/\" rel=\"noreferrer\">SourceMapDevToolPlugin</a> explicitly and providing a <code>test</code> regex that includes <code>.ts</code> files.</li>\n<li>Once you replace the <code>devtool</code> setting by a <code>SourceMapDevtoolPlugin</code> only <code>webpack://</code> source-maps are generated, but these are still wrong in <code>development</code> mode. That's because in this mode <code>devtool: eval</code> <a href=\"https://github.com/webpack/webpack/blob/master/lib/WebpackOptionsDefaulter.js#L39\" rel=\"noreferrer\">is added automatically</a> to the config. To disable this behavior, you have to explicitly set <code>devtool: false</code>.</li>\n<li>In order for Karma to load inline source maps, you need to apply the <a href=\"https://github.com/demerzel3/karma-sourcemap-loader\" rel=\"noreferrer\">karma-sourcemap-loader</a>.</li>\n</ol>\n\n<p>Putting all this together, the configuration from the question can be fixed as follows:</p>\n\n<pre><code>module.exports = function(config) {\n    config.set({\n        frameworks: ['jasmine'],\n        browsers: ['Chrome'],\n        files: [\n            './test.spec.ts'\n        ],\n        mime: {\n            'text/x-typescript': ['ts']\n        },\n        preprocessors: {\n            '**/*.ts': ['webpack', 'sourcemap']\n        },\n        plugins: [\n            'karma-chrome-launcher',\n            'karma-jasmine',\n            'karma-sourcemap-loader',\n            'karma-webpack'\n        ],\n        webpack: {\n            devtool: false,\n            mode: 'development',\n            module: {\n                rules: [\n                    {\n                        test: /\\.ts$/,\n                        loader: 'ts-loader',\n                    }\n                ]\n            },\n            plugins: [\n                new webpack.SourceMapDevToolPlugin({\n                    test: /\\.(ts|js|css)($|\\?)/i\n                })\n            ],\n            resolve: {\n                extensions: [ '.ts' ]\n            }\n        },\n        webpackMiddleware: {\n            logLevel: 'error'\n        }\n    });\n};\n</code></pre>\n"}], "owner": {"reputation": 1070, "user_id": 4016579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe04f10d62c79d296854c4f494329b?s=128&d=identicon&r=PG&f=1", "display_name": "kremerd", "link": "https://stackoverflow.com/users/4016579/kremerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1938, "favorite_count": 0, "accepted_answer_id": 51365609, "answer_count": 1, "score": 1, "last_activity_date": 1531755844, "creation_date": 1526483044, "question_id": 50374324, "link": "https://stackoverflow.com/questions/50374324/sourcemapping-typescript-in-karma", "title": "Sourcemapping TypeScript in Karma", "body": "<p>I'm trying to set up a build process for TypeScript using Webpack. Everything's working fine for most parts. However I can't get source-maps to work properly in the Karma test runner.</p>\n\n<h1>Problem description</h1>\n\n<p>Let's say I have a typescript file <code>test.spec.ts</code> (1). This file is transpiled by TypeScript to some ES5 source with inline source-maps (2). Finally that ES5 source is bundled by Webpack 4 using <em>eval-source-maps</em> (3) and served to Chrome by the Karma test runner.</p>\n\n<p>By inspecting sources in the Karma Debug Runner in Chrome I can see that all three stages of transpilation are actually available to the browser:</p>\n\n<ul>\n<li>(1) is source-mapped as <code>webpack://test.spec.ts?c161</code></li>\n<li>(2) is source-mapped as <code>webpack-internal://test.spec.ts</code></li>\n<li>(3) is available as <code>localhost:9876/base/test.spec.ts</code></li>\n</ul>\n\n<p>In the Chrome console I also get proper stack traces for all errors thrown during test execution. These include line numbers source-mapped to (1) as I would expect. For example:</p>\n\n<pre><code>Error: Oh no!\n    at Function.MyClass.myBadMethod (test.spec.ts?c161:9)\n    at UserContext.eval (test.spec.ts?c161:21)\n    at &lt;Jasmine&gt;\n</code></pre>\n\n<p>However Karma itself logs errors with line numbers only source-mapped to (2). For example:</p>\n\n<pre><code>Error: Oh no!\n    at Function.MyClass.myBadMethod (webpack-internal:///./src/test.spec.ts:8:15)\n    at UserContext.eval (webpack-internal:///./src/test.spec.ts:17:17)\n    at &lt;Jasmine&gt;\n</code></pre>\n\n<p>This is totally unhelpful, since (2) is just some intermediary source and never even written to disk. In fact I don't need source-maps for (2) and don't understand why they are included in the first place. If possible I would like to try and disable them (while keeping proper source-maps for (1), of course).</p>\n\n<p>Anyways, the important thing is to get Karma to report stack traces with line numbers relative to the original files, just as it is done in the Chrome console. If necessary I'm also willing to trade execution speed for that</p>\n\n<p>If you can't think of a full-fledged solution, but have some insights into TypeScript / TS-Loader / Webpack / Karma-Webpack / Karma: I'm also interested in any arguments that help pinpoint the problem along that toolchain.</p>\n\n<h1>Minimal test configuration</h1>\n\n<h2>devDependencies from <code>package.json</code></h2>\n\n<pre><code>\"devDependencies\": {\n    \"@types/jasmine\": \"~2.8.7\",\n    \"jasmine\": \"~3.1.0\",\n    \"karma\": \"~2.0.2\",\n    \"karma-chrome-launcher\": \"~2.2.0\",\n    \"karma-jasmine\": \"~1.1.2\",\n    \"karma-webpack\": \"~3.0.0\",\n    \"ts-loader\": \"~4.3.0\",\n    \"typescript\": \"~2.8.3\",\n    \"webpack\": \"~4.8.3\"\n}\n</code></pre>\n\n<h2><code>karma.conf.js</code></h2>\n\n<pre><code>module.exports = function(config) {\n    config.set({\n        frameworks: ['jasmine'],\n        browsers: ['Chrome'],\n        files: [\n            './test.spec.ts'\n        ],\n        mime: {\n            'text/x-typescript': ['ts']\n        },\n        preprocessors: {\n            '**/*.ts': ['webpack']\n        },\n        plugins: [\n            'karma-chrome-launcher',\n            'karma-jasmine',\n            'karma-webpack'\n        ],\n        webpack: {\n            devtool: 'eval-source-map',\n            mode: 'development',\n            module: {\n                rules: [\n                    {\n                        test: /\\.ts$/,\n                        loader: 'ts-loader',\n                    }\n                ]\n            },\n            resolve: {\n                extensions: [ '.ts' ]\n            }\n        },\n        webpackMiddleware: {\n            logLevel: 'error'\n        }\n    });\n};\n</code></pre>\n\n<h2><code>tsconfig.json</code></h2>\n\n<pre><code>{\n    \"compileOnSave\": false,\n    \"compilerOptions\": {\n        \"module\": \"es2015\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true,\n        \"target\": \"es5\",\n        \"types\": [\n        \"jasmine\"\n        ]\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript", "asynchronous", "types"], "answers": [{"comments": [{"owner": {"reputation": 184, "user_id": 1720311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa165c018d8a9a256fb277c27571dd?s=128&d=identicon&r=PG", "display_name": "MaestroMaus", "link": "https://stackoverflow.com/users/1720311/maestromaus"}, "edited": false, "score": 0, "creation_date": 1526538189, "post_id": 50374394, "comment_id": 87784890, "body": "You are correct. I messed up the declaration. Thanks for pointing it out!"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 4, "last_activity_date": 1526483275, "creation_date": 1526483275, "answer_id": 50374394, "question_id": 50374252, "link": "https://stackoverflow.com/questions/50374252/ts2322-type-file-is-not-assignable-to-type-typeof-file/50374394#50374394", "title": "TS2322: Type&#160;&#39;File&#39;&#160;is&#160;not&#160;assignable&#160;to&#160;type&#160;&#39;typeof&#160;File&#39;", "body": "<blockquote>\n  <p>I have this public class property:</p>\n</blockquote>\n\n<pre><code>registry = File;\n</code></pre>\n\n<p>Is this a declaration of <code>registry</code> property which should have <code>File</code> type? Then it should be</p>\n\n<pre><code>registry: File;\n</code></pre>\n\n<p>Or is it an initialization of a property that holds <code>File</code> class constructor? Then it's type is really <code>typeof File</code>, and it can not be used as an instance of <code>File</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 184, "user_id": 1720311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa165c018d8a9a256fb277c27571dd?s=128&d=identicon&r=PG", "display_name": "MaestroMaus", "link": "https://stackoverflow.com/users/1720311/maestromaus"}, "edited": false, "score": 0, "creation_date": 1526538085, "post_id": 50379578, "comment_id": 87784835, "body": "I appreciate you pointing this out. But the next question I have now is: Why can&#39;t I return from a for each? That seems really arbitrary."}, {"owner": {"reputation": 184, "user_id": 1720311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa165c018d8a9a256fb277c27571dd?s=128&d=identicon&r=PG", "display_name": "MaestroMaus", "link": "https://stackoverflow.com/users/1720311/maestromaus"}, "edited": false, "score": 0, "creation_date": 1526538779, "post_id": 50379578, "comment_id": 87785188, "body": "I found this: <a href=\"https://stackoverflow.com/questions/43555904/foreach-for-in-not-returning-values\" title=\"foreach for in not returning values\">stackoverflow.com/questions/43555904/&hellip;</a>  Is there a special rule I can use to know when a function allows me to return values? Or do I need search each loop mechanism and remember?"}, {"owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "reply_to_user": {"reputation": 184, "user_id": 1720311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa165c018d8a9a256fb277c27571dd?s=128&d=identicon&r=PG", "display_name": "MaestroMaus", "link": "https://stackoverflow.com/users/1720311/maestromaus"}, "edited": false, "score": 1, "creation_date": 1526567873, "post_id": 50379578, "comment_id": 87804135, "body": "@MaestroMaus, you can look at the documentation of <code>Array.prototype.forEach</code> (look <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">here</a>). as you can see <code>.forEach</code> expects a callback function which does not return a value, hence, if it returns a value it ignores it. Think of the <code>.forEach</code> as: <code>for (let i = 0; i &lt; array.length; i++) callback(item, i, array)</code>. As you can see it does nothing with the result of <code>callback()</code>. In other words RTFM ;)"}], "tags": [], "owner": {"reputation": 1695, "user_id": 2355482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZzgtK.png?s=128&g=1", "display_name": "DoronG", "link": "https://stackoverflow.com/users/2355482/dorong"}, "is_accepted": false, "score": 2, "last_activity_date": 1526503340, "creation_date": 1526503340, "answer_id": 50379578, "question_id": 50374252, "link": "https://stackoverflow.com/questions/50374252/ts2322-type-file-is-not-assignable-to-type-typeof-file/50379578#50379578", "title": "TS2322: Type&#160;&#39;File&#39;&#160;is&#160;not&#160;assignable&#160;to&#160;type&#160;&#39;typeof&#160;File&#39;", "body": "<p>See commend from @artem: should be <code>registry: File</code> not <code>registry = File</code>\nAlso, you cannot return a value from <code>Array.forEach()</code> (you are trying to return a Promise) instead do it like this:</p>\n\n<pre><code>private async getRegistryFile(): Promise&lt;File&gt; {\n    if (this.files === undefined || this.files.length === 0) {\n        return Promise.reject('No files where returned from the server.');\n    }\n\n    const registryFileName = await this.createRegistryFileName();\n\n    for (let element of this.files) { // replaced Array.forEach with for-of loop\n        if (element === registryFileName) {\n            console.log('File registry found.');\n            return Promise.resolve(element);\n        }\n    };\n    return Promise.reject(new Error(\"File not found\"));\n}\n</code></pre>\n"}], "owner": {"reputation": 184, "user_id": 1720311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0aa165c018d8a9a256fb277c27571dd?s=128&d=identicon&r=PG", "display_name": "MaestroMaus", "link": "https://stackoverflow.com/users/1720311/maestromaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2262, "favorite_count": 1, "accepted_answer_id": 50374394, "answer_count": 2, "score": 1, "last_activity_date": 1526503340, "creation_date": 1526482885, "question_id": 50374252, "link": "https://stackoverflow.com/questions/50374252/ts2322-type-file-is-not-assignable-to-type-typeof-file", "title": "TS2322: Type&#160;&#39;File&#39;&#160;is&#160;not&#160;assignable&#160;to&#160;type&#160;&#39;typeof&#160;File&#39;", "body": "<blockquote>\n  <p>TS2322: Type\u00a0'File'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0'typeof\u00a0File'.\n  Property\u00a0'prototype'\u00a0is\u00a0missing\u00a0in\u00a0type\u00a0'File'.</p>\n</blockquote>\n\n<p>I get this error. I don't know why I get it and I don't know how to solve it. If anyone would be so kind to give me a hand I would really appreciate it!</p>\n\n<p>I have this public class property:</p>\n\n<pre><code>registry = File;\n</code></pre>\n\n<p>The getRegistryFile function:</p>\n\n<pre><code>private async getRegistryFile(): Promise&lt;File&gt; {\n        if (this.files === undefined || this.files.length === 0) {\n            return Promise.reject('No files where returned from the server.');\n        }\n\n        const registryFileName = await this.createRegistryFileName();\n\n        this.files.forEach((element) =&gt; {\n            if (element === registryFileName) {\n                console.log('File registry found.');\n                return Promise.resolve(element);\n            }\n        });\n    }\n</code></pre>\n\n<p>And the function I was constructing:</p>\n\n<pre><code>public WorkInProgress(file: File) {\n    this.getRegistryFile().then((file) =&gt; this.registry = file);\n}\n</code></pre>\n"}, {"tags": ["typescript", "ms-word", "office-js"], "comments": [{"owner": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526487841, "post_id": 50374193, "comment_id": 87767802, "body": "I don&#39;t get an exception from your code, but I do find that contentControls.items.length is 0, so I think that your &quot;Inner&quot; tagged control is just not being seen. I think you have to first get a reference to the &quot;Outer&quot; content control and then call myOuterContentContol.contentControls.getByTag(&#39;Inner&#39;) to get the inner one. Please try that and if it works I&#39;ll make it the answer."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526489002, "post_id": 50374193, "comment_id": 87768375, "body": "@RickKirkham what build are you on? Perhaps that\u2019s changed..."}, {"owner": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526490358, "post_id": 50374193, "comment_id": 87769114, "body": "I&#39;m on Click-to-Run 1806 10214.20000."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526493798, "post_id": 50374193, "comment_id": 87770904, "body": "@RickKirkham I&#39;m on 1708 and can&#39;t go higher ATM. can you verify with your contacts at Microsoft that i have to use the inner ranges or not? heres my scriptlab: <a href=\"https://gist.github.com/daniel-white/0bf1ecbbdc8331d5415ef9d57d32d119\" rel=\"nofollow noreferrer\">gist.github.com/daniel-white/0bf1ecbbdc8331d5415ef9d57d32d11&zwnj;&#8203;9</a>"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526494603, "post_id": 50374193, "comment_id": 87771327, "body": "@RickKirkham i reworked my sample and i had no problems doing the nested. strange how i do get back something in 1708, but i guess its &quot;fixed&quot; in newer builds."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "reply_to_user": {"reputation": 6984, "user_id": 6190031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDpYH.jpg?s=128&g=1", "display_name": "Rick Kirkham", "link": "https://stackoverflow.com/users/6190031/rick-kirkham"}, "edited": false, "score": 0, "creation_date": 1526497478, "post_id": 50374193, "comment_id": 87772677, "body": "@RickKirkham also how can i find out exactly what caused the GeneralException - is there logging i can turn on? deleting seems sporatic to me"}, {"owner": {"reputation": 4675, "user_id": 5904541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pyqW.jpg?s=128&g=1", "display_name": "Juan Balmori", "link": "https://stackoverflow.com/users/5904541/juan-balmori"}, "edited": false, "score": 0, "creation_date": 1526604430, "post_id": 50374193, "comment_id": 87820290, "body": "@DanielA.White, I am confused did you fixed the issue in 1708? we cannot repro. if so how did you fix it? or what was the state of the document when the call failed. A solid repro step will be helpful. thanks."}], "answers": [{"comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526553348, "post_id": 50388848, "comment_id": 87794056, "body": "I can\u2019t control what version I have not my customers"}, {"owner": {"reputation": 4675, "user_id": 5904541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pyqW.jpg?s=128&g=1", "display_name": "Juan Balmori", "link": "https://stackoverflow.com/users/5904541/juan-balmori"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526604714, "post_id": 50388848, "comment_id": 87820355, "body": "Are you in the monthly release channel?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526605568, "post_id": 50388848, "comment_id": 87820533, "body": "No. My IT department has me restricted"}, {"owner": {"reputation": 4675, "user_id": 5904541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pyqW.jpg?s=128&g=1", "display_name": "Juan Balmori", "link": "https://stackoverflow.com/users/5904541/juan-balmori"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526605829, "post_id": 50388848, "comment_id": 87820597, "body": "oh  I see... i am confused in your previews answer, did you fixed the issue in 1708?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1526605914, "post_id": 50388848, "comment_id": 87820615, "body": "I came up with a workaround that isn\u2019t ideal. The basic issue is that a parent content control is deleted by deleting its only child. That doesn\u2019t make sense"}], "tags": [], "owner": {"reputation": 4675, "user_id": 5904541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pyqW.jpg?s=128&g=1", "display_name": "Juan Balmori", "link": "https://stackoverflow.com/users/5904541/juan-balmori"}, "is_accepted": false, "score": -1, "last_activity_date": 1526551896, "creation_date": 1526551896, "answer_id": 50388848, "question_id": 50374193, "link": "https://stackoverflow.com/questions/50374193/unable-to-delete-nested-content-controls-in-word-with-office-js/50388848#50388848", "title": "Unable to delete nested content controls in Word with Office JS", "body": "<p>This does not repro in the latest builds. You can update to 16.0.10211.20004  in your insiders fast. </p>\n"}], "owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1526567987, "creation_date": 1526482713, "last_edit_date": 1526567987, "question_id": 50374193, "link": "https://stackoverflow.com/questions/50374193/unable-to-delete-nested-content-controls-in-word-with-office-js", "title": "Unable to delete nested content controls in Word with Office JS", "body": "<p>I'm writing a Word add-in using Office JS. I have created a Word document that has a structure like the following:</p>\n\n<pre><code>&lt;OuterContentControl tag=\"Outer\" cannotDelete&gt;\n    &lt;InnerContentControl tag=\"Inner\" cannotDelete /&gt;\n&lt;/OuterContentControl&gt;\n</code></pre>\n\n<p>I'm trying to delete the inner content control with code similar to this:</p>\n\n<pre><code>async function delete() {\n\n    await Word.run(async (context) =&gt; {\n        const contentControls = context.document.contentControls.getByTag('Inner').load();\n        await context.sync();\n\n        contentControls.items.forEach(contentControl =&gt; {\n            contentControl.cannotDelete = false;\n            contentControl.cannotEdit = false;\n            contentControl.delete(false);\n        });\n\n        await context.sync();\n    });\n}\n</code></pre>\n\n<p>When <code>.delete</code> is called against the inner content control i get a <code>GeneralException</code>, but for the outer content control, it works. Do I need to do something differently to allow the deletion? I've allowed the outer one to be deleted, but that doesn't change anything.</p>\n\n<p><em>Edit:</em> After attempting Rick's suggestions to go through the \"outer\" content control's <code>contentControls</code> property, I'm able to delete some. The ones that can and cannot be deleted are generated the same way. I still get the unhelpful <code>GeneralException</code> on the <code>ContentControl.delete</code> call. I've also tried calling <code>.getRange(Word.RangeLocation.whole).delete()</code> and get the same <code>GeneralException</code>. It seems to be the last content control that is nested is the one that fails.</p>\n\n<p><em>Root cause</em> I lock my outer one from deletion. So if I unlock it from deletion, calling delete on the inner works but deletes the outer content control as well. Seems like a bug in Word. Are there workarounds?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "import", "module"], "answers": [{"comments": [{"owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "edited": false, "score": 0, "creation_date": 1526481032, "post_id": 50373579, "comment_id": 87763297, "body": "Yeah, but that doesn&#39;t really answering my question. It&#39;s not about providers, pipes etc. It&#39;s specifically about the module in their example. It&#39;s being added to the root module of the application, also, so it&#39;s not meant to be imported into other stuff, neither. Please elaborate."}], "tags": [], "owner": {"reputation": 2809, "user_id": 4952551, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aa5c7131e413943783506a7e4f6be395?s=128&d=identicon&r=PG", "display_name": "J. Pichardo", "link": "https://stackoverflow.com/users/4952551/j-pichardo"}, "is_accepted": true, "score": 5, "last_activity_date": 1526481970, "last_edit_date": 1526481970, "creation_date": 1526480884, "answer_id": 50373579, "question_id": 50373545, "link": "https://stackoverflow.com/questions/50373545/why-do-angular-docs-suggest-importing-both-on-module-and-on-component-level/50373579#50373579", "title": "Why do Angular docs suggest importing both on module and on component level?", "body": "<p>Importing at module level allows you to declare that module as a dependency of your module hence being able to use its providers, directives, pipes and other stuff in your templates.</p>\n\n<p>Importing at component level allows you to use those classes in your typescript code.</p>\n\n<p><strong>Further explanation</strong></p>\n\n<p>In angular importing a module \"merges\" that module, so that when your template is compiled it recognizes template elements (components, directives and pipes) as angular elements. </p>\n\n<p>In typescript and javascript in order to use code (classes, functions, constants) that is declared in another file or module you need to import it, in node you use the <code>require()</code> function, in typescript the <code>import from</code> expression. </p>\n\n<p>So if you look at your code you will realize you are importing two different things, the module and the class, the first in order to merge that module and the second in order to use that class.\\</p>\n\n<p><strong>Update</strong></p>\n\n<p>In typescript it is possible to have <em>index</em> files which are usually used to export elements whithout having to go deep into the folder structure, the file for <em>'@angular/forms'</em> exports the following (among other things):</p>\n\n<pre><code>export {AbstractControl, AbstractControlOptions, FormArray, FormControl, FormGroup} from './model';\nexport * from './form_providers';\n</code></pre>\n\n<p>Where <code>form_providers</code> has the declaration of <code>FormsModule</code> and <code>ReactiveFormsModule</code>.</p>\n\n<p>Hence you are able to import both your module and your classes from one file.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1526481867, "creation_date": 1526481867, "answer_id": 50373921, "question_id": 50373545, "link": "https://stackoverflow.com/questions/50373545/why-do-angular-docs-suggest-importing-both-on-module-and-on-component-level/50373921#50373921", "title": "Why do Angular docs suggest importing both on module and on component level?", "body": "<p>In simple words : </p>\n\n<p>Importing the module allows you to use the features of the module. Reactive forms allow you to create <code>FormGroup</code>s with <code>FormBuilder</code>s, that contain <code>FormControl</code>s.</p>\n\n<p>Importing the features in the component allows you to use those features. If you don't do it, your IDE won't know what <code>FormGroup</code> or <code>FormControl</code> means. </p>\n\n<p>It may work without importing the features because they have been loaded in a bundle, but if you try to build your application without importing them, an error will be thrown. </p>\n\n<p>Also, you need to import modules where you want to use their features. In Angular, modules don't inherit from their parents, so if you import the module at a too high level, you won't have access to it. </p>\n"}], "owner": {"reputation": 2204, "user_id": 8744999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5a358087b8a9e7f9ace69d7af8b74700?s=128&d=identicon&r=PG", "display_name": "DonkeyBanana", "link": "https://stackoverflow.com/users/8744999/donkeybanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 50373579, "answer_count": 2, "score": 1, "last_activity_date": 1526481970, "creation_date": 1526480749, "question_id": 50373545, "link": "https://stackoverflow.com/questions/50373545/why-do-angular-docs-suggest-importing-both-on-module-and-on-component-level", "title": "Why do Angular docs suggest importing both on module and on component level?", "body": "<p>In the <a href=\"https://angular.io/guide/reactive-forms#import-the-reactiveformsmodule\" rel=\"nofollow noreferrer\">docs for reactive forms</a>, it's suggested that I should add the following lines to my <em>app.module.ts</em>.</p>\n\n<pre><code>import { ReactiveFormsModule } from '@angular/forms';\n...\n@NgModule({ imports: [ ReactiveFormsModule, ... ], ... })\nexport class AppModule { }\n</code></pre>\n\n<p>Then, in <a href=\"https://angular.io/guide/reactive-forms#add-a-formgroup\" rel=\"nofollow noreferrer\">a later section</a>, it's suggested to also add the following in my <em>actual.component.ts</em>.</p>\n\n<pre><code>import { FormControl, FormGroup } from '@angular/forms';\n</code></pre>\n\n<p>I've tried to skip the module part and only import stuff in the component, which seems to work, as far I can tell. It seems reasonable to me that if I'd do the opposite and added the module part, I wouldn't have to import in the components of that module. It's the combination of module part and component part that confuses me.</p>\n\n<p>I don't understand the purpose of the both operations together. Why do they do that?</p>\n"}, {"tags": ["typescript", "graphql", "apollo"], "answers": [{"comments": [{"owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526512030, "post_id": 50375178, "comment_id": 87778397, "body": "Thanks, Daniel this actually was an issue, and have just fixed, but the Multiple types problem still exists, unfortunately."}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "reply_to_user": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526512160, "post_id": 50375178, "comment_id": 87778438, "body": "@22Ryann Odd. Do you have a repo link you could share? It&#39;s tough to know what could be off without seeing more of the underlying code."}, {"owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526512677, "post_id": 50375178, "comment_id": 87778570, "body": "in src/server/src/helpers.ts"}, {"owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526525399, "post_id": 50375178, "comment_id": 87780995, "body": "Daniel, thanks for taking the time. I will look more into this evening and change my files. I am actually referring back to some other code I have where I have used types in a different situation and it seems to be working obviously wrongly. I&amp;#39;ll try and possibly post it to try and get your take on it if you don&amp;#39;t mind"}, {"owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526553680, "post_id": 50375178, "comment_id": 87794249, "body": "Getting this now Daniel, trying to create new lead,   &quot; The type of Lead.address must be Output Type but got: AddressInput.&quot;"}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "reply_to_user": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526556602, "post_id": 50375178, "comment_id": 87796127, "body": "Like the error suggests, you can&#39;t use inputs where a type is expected. You have to have both a <i>type</i> for address to use for fields and an <i>input</i> for address to use for arguments"}, {"owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526557894, "post_id": 50375178, "comment_id": 87796985, "body": "Thanks, Dan, finally understanding the context of how to define the schema properly. It seems a little odd to have an input and a type basically identical. I have it working finally. Thanks again for the time you have spent here."}, {"owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "reply_to_user": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "edited": false, "score": 0, "creation_date": 1526560005, "post_id": 50375178, "comment_id": 87798380, "body": "It&#39;s important to understand that while they can look the same in SDL, <code>makeExecutableSchema</code> turns types and inputs into <code>GraphQLObjectType</code>s and <code>GraphQLInputObjectType</code>s, respectively, which have different properties and are used differently. For example, only types can extend interfaces, or be part of unions, or have arguments on their fields. Only inputs can have default values."}], "tags": [], "owner": {"reputation": 57003, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "is_accepted": true, "score": 4, "last_activity_date": 1526516581, "last_edit_date": 1526516581, "creation_date": 1526485707, "answer_id": 50375178, "question_id": 50373038, "link": "https://stackoverflow.com/questions/50373038/graphql-schema-type-error-indicating-duplicate-types-which-it-does-not-have/50375178#50375178", "title": "Graphql Schema type error indicating duplicate types, which it does not have?", "body": "<p>I'm not sure what one of your resolver modules looks like, but I suspect you meant to do something like this:</p>\n\n<pre><code>const resolvers = _.merge(...allResolvers) // note the spread operator\n</code></pre>\n\n<p>Otherwise, calling <code>merge</code> is not actually doing anything and your <code>resolvers</code> property ends up being an array instead of an object.</p>\n\n<p>EDIT: Didn't notice it on first glace, but you're using types as inputs. If you want to use an object with the same shape as the <code>Address</code> type, you have to define a separate input type for it:</p>\n\n<pre><code>type Address {\n  lat: Int\n  lng: Int\n  formattedAddress: String\n}\n\ninput AddressInput {\n  lat: Int\n  lng: Int\n  formattedAddress: String\n}\n</code></pre>\n\n<p>Types cannot be used for inputs and inputs cannot be used for types. If we were defining the schema programatically, we'd normally see an error to that effect. Evidently generating the schema from SDL doesn't generate the same error. If you add the appropriate input types for Address and Step, your schema should generate correctly.</p>\n"}], "owner": {"reputation": 267, "user_id": 3620044, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/puJMt.jpg?s=128&g=1", "display_name": "Ryann Galea", "link": "https://stackoverflow.com/users/3620044/ryann-galea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3688, "favorite_count": 0, "accepted_answer_id": 50375178, "answer_count": 1, "score": 3, "last_activity_date": 1527847992, "creation_date": 1526479404, "last_edit_date": 1527847992, "question_id": 50373038, "link": "https://stackoverflow.com/questions/50373038/graphql-schema-type-error-indicating-duplicate-types-which-it-does-not-have", "title": "Graphql Schema type error indicating duplicate types, which it does not have?", "body": "<p>I have now completely wasted my evening trying to work this one out but am beyond an answer, even after multiple searches.</p>\n\n<p>I have my server which grabs my folders of '.graphql' files and merges them into one large one which I pass along with my resolvers into 'makeExecutableSchema()' as seen below</p>\n\n<pre><code>        const folders      = fs.readdirSync(path.join(__dirname, './api'));\n        const allResolvers = [];\n        let typeDefs       = '';\n\n        folders.forEach(folder =&gt; {\n          if (folder !== 'directive') {\n            typeDefs = typeDefs.concat(requireText(`./api/${folder}/${folder}.graphql`, require));\n            const { resolver } = require(`./api/${folder}/${folder}.resolvers`);\n            allResolvers.push(resolver);\n          }\n        });\n\n        const resolvers = _.merge(allResolvers);\n        return makeExecutableSchema({typeDefs, resolvers});\n</code></pre>\n\n<p>Now i am constantly getting an error </p>\n\n<pre><code>    Error: Schema must contain unique named types but contains multiple types named \"Address\".\n        at invariant (C:\\100hotwater\\src\\server\\node_modules\\graphql\\jsutils\\invariant.js:19:11)\n        at typeMapReducer (C:\\100hotwater\\src\\server\\node_modules\\graphql\\type\\schema.js:216:58)\n        at Array.reduce (&lt;anonymous&gt;)\n        at C:\\100hotwater\\src\\server\\node_modules\\graphql\\type\\schema.js:237:36\n        at Array.forEach (&lt;anonymous&gt;)\n        at typeMapReducer (C:\\100hotwater\\src\\server\\node_modules\\graphql\\type\\schema.js:232:51)\n        at Array.reduce (&lt;anonymous&gt;)\n        at new GraphQLSchema (C:\\100hotwater\\src\\server\\node_modules\\graphql\\type\\schema.js:122:28)\n        at Object.extendSchema (C:\\100hotwater\\src\\server\\node_modules\\graphql\\utilities\\extendSchema.js:161:10)\n        at buildSchemaFromTypeDefinitions (C:\\100hotwater\\src\\server\\node_modules\\graphql-tools\\dist\\schemaGenerator.js:186:28)\n        at _generateSchema (C:\\100hotwater\\src\\server\\node_modules\\graphql-tools\\dist\\schemaGenerator.js:97:18)\n        at Object.makeExecutableSchema (C:\\100hotwater\\src\\server\\node_modules\\graphql-tools\\dist\\schemaGenerator.js:110:20)\n        at Object.exports.allSchema (C:\\100hotwater\\src\\server\\helpers.js:22:28)\n        at Server.graphQl (C:\\100hotwater\\src\\server\\index.js:28:34)\n        at new Server (C:\\100hotwater\\src\\server\\index.js:17:14)\n        at Object.&lt;anonymous&gt; (C:\\100hotwater\\src\\server\\index.js:42:19)\n</code></pre>\n\n<p>This schema most definitely does not contain duplicates though as seen below of it printed out right before entering the \"makeExecutableSchema\"()\" function.</p>\n\n<pre><code>      type Lead {\n        _id: String\n        owner: User\n        address: Address\n        steps: [Step]\n      }\n\n      type Mutation {\n        createLead(\n          owner: String!\n          address: Address\n          steps: [Step]\n        ): Lead\n      }\n\n      type Address {\n        lat: Int\n        lng: Int\n        formattedAddress: String\n      }\n\n      type Step {\n        goto: String\n        key: String\n        str: String\n      }\n\n      type User {\n        _id: String\n        email: String\n        firstName: String\n        lastName: String\n        mobile: Int\n        phone: Int\n        billingAddress: String\n        password: String\n        leads: [Lead]\n      }\n\n      type Query {\n        signedInUser: User\n        userByEmail(email: String!): User # @isAuthenticated\n      }\n\n      extend type Mutation {\n        signIn(email: String!, password: String!): SignInResponse!\n        createUser(\n          email: String!\n          firstName: String!\n          lastName: String\n          mobile: Int\n          billingAddress: String\n          password: String\n        ): User\n      }\n\n      type SignInResponse {\n        token: String\n        refreshToken: String\n      }\n</code></pre>\n\n<p>I noticed in the file \"node_modules\\graphql\\type\\schema.js:216:58\" it seems to loop through the typings twice and obviously catching the Address twice in the check and posting the error but i'm still unsure where to go from here. Simple errors like this in Graphql is making it really hard to love.</p>\n\n<p>Any help is appreciated.</p>\n\n<h1>The Fix</h1>\n\n<p>In short thanks to Dan below, I was defining the Address type and using it for both my Input (Mutation) and my Output (Query - Lead). What I didn't realise at the time was that you needed to define types &amp; inputs differently. The working .graphql schema below.</p>\n\n<pre><code>      type Lead {\n        _id: String\n        owner: User\n        address: Address\n        steps: [Step]\n      }\n\n      type Address {\n        lat: Int\n        lng: Int\n        formattedAddress: String\n      }\n\n      type Mutation {\n        createLead(\n          owner: String!\n          address: AddressInput \n          steps: [Step]\n        ): Lead\n      }\n\n      input AddressInput {\n        lat: Int\n        lng: Int\n        formattedAddress: String\n      }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "azure-web-app-service", "angular5", "deep-linking"], "answers": [{"comments": [{"owner": {"reputation": 46996, "user_id": 1163423, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HmDO9.jpg?s=128&g=1", "display_name": "Martin Brandl", "link": "https://stackoverflow.com/users/1163423/martin-brandl"}, "reply_to_user": {"reputation": 1471, "user_id": 1641027, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/dUYKX.png?s=128&g=1", "display_name": "ilMattion", "link": "https://stackoverflow.com/users/1641027/ilmattion"}, "edited": false, "score": 0, "creation_date": 1526550243, "post_id": 50373873, "comment_id": 87792061, "body": "Ahh, sorry for the late response. Glad that you solved it!"}], "tags": [], "owner": {"reputation": 46996, "user_id": 1163423, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/HmDO9.jpg?s=128&g=1", "display_name": "Martin Brandl", "link": "https://stackoverflow.com/users/1163423/martin-brandl"}, "is_accepted": false, "score": 1, "last_activity_date": 1526481735, "creation_date": 1526481735, "answer_id": 50373873, "question_id": 50373000, "link": "https://stackoverflow.com/questions/50373000/why-my-angular-5-application-not-work-with-deep-linking/50373873#50373873", "title": "Why my Angular 5 application not work with deep linking?", "body": "<p>I think the issue is the action rewrites to /index.html where it should rewrite to just /.</p>\n\n<p>You can take a look at the web config here: <a href=\"https://about-azure.com/2018/02/06/web-config-for-hosting-an-angular-application-on-azure-web-app/\" rel=\"nofollow noreferrer\">Web.config for hosting an Angular application on Azure Web App</a></p>\n"}, {"tags": [], "owner": {"reputation": 1471, "user_id": 1641027, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/dUYKX.png?s=128&g=1", "display_name": "ilMattion", "link": "https://stackoverflow.com/users/1641027/ilmattion"}, "is_accepted": false, "score": 2, "last_activity_date": 1526548589, "creation_date": 1526548589, "answer_id": 50387696, "question_id": 50373000, "link": "https://stackoverflow.com/questions/50373000/why-my-angular-5-application-not-work-with-deep-linking/50387696#50387696", "title": "Why my Angular 5 application not work with deep linking?", "body": "<p>Ciao,</p>\n\n<p>I've found the problem. @Martin Brandl answer is correct and useful but in my case the problem was that inside my <strong>app.component</strong> there was inside the <em>onOnInit</em> one redirect to Home Page.</p>\n\n<pre><code>ngOnInit() {\n    this.router.navigate(['home']);\n}\n</code></pre>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 1471, "user_id": 1641027, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/dUYKX.png?s=128&g=1", "display_name": "ilMattion", "link": "https://stackoverflow.com/users/1641027/ilmattion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1785, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1526548589, "creation_date": 1526479328, "last_edit_date": 1526484845, "question_id": 50373000, "link": "https://stackoverflow.com/questions/50373000/why-my-angular-5-application-not-work-with-deep-linking", "title": "Why my Angular 5 application not work with deep linking?", "body": "<p>I'm developing one Angular 5 application deployed on <em>Azure App Service</em>. My problem is that when I try to access with a direct link my application redirect me to home page.</p>\n\n<p>These are my application routes:</p>\n\n<pre><code>// Imports\n@NgModule({\n  declarations: [\n    // declaratins\n  ],\n  imports: [\n    // modules\n    RouterModule.forRoot([\n    { path: 'login', component: LoginComponent },\n    { path: 'home', component: HomeComponent, canActivate: [AuthGuard] },\n    { path: 'search', component: SearchComponent, canActivate: [AuthGuard] },\n    { path: '', redirectTo: 'home', pathMatch: 'full', canActivate: [AuthGuard] }\n]),\n    // modues\n  ],\n  providers: [\n    // Imports\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>I've followed the <a href=\"https://angular.io/guide/deployment\" rel=\"nofollow noreferrer\">deployment angular's instruction</a> changing the <em>web.config</em> with following:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;system.webServer&gt;\n    &lt;rewrite&gt;\n      &lt;rules&gt;\n        &lt;rule name=\"Angular Routes\" stopProcessing=\"true\"&gt;\n          &lt;match url=\".*\" /&gt;\n          &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n          &lt;/conditions&gt;\n          &lt;action type=\"Rewrite\" url=\"/index.html\" /&gt;\n        &lt;/rule&gt;\n      &lt;/rules&gt;\n    &lt;/rewrite&gt;\n  &lt;/system.webServer&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>When I navigate inside application I can view the URL change correctly but if I try navigate directly a link like <a href=\"https://host/search\" rel=\"nofollow noreferrer\">https://host/search</a> I will redirect to <a href=\"https://host/home\" rel=\"nofollow noreferrer\">https://host/home</a>.</p>\n\n<p>How can I resolve this problem?\nThanks </p>\n"}, {"tags": ["node.js", "typescript", "rxjs", "rxjs5"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1526480085, "post_id": 50372973, "comment_id": 87762592, "body": "You call <code>onSpecificData</code> three times with three different arguments which returns <code>this.handler.listenToData</code> three times. So what you don&#39;t understand?"}, {"owner": {"reputation": 63, "user_id": 8592430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3febddbbf14240b9a5eb5369aaf6a0?s=128&d=identicon&r=PG&f=1", "display_name": "AnonAppDev", "link": "https://stackoverflow.com/users/8592430/anonappdev"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1526480761, "post_id": 50372973, "comment_id": 87763108, "body": "I call it three times but only <code>subscribe()</code> once, to the merged observable. I&#39;d expect the operator chain to be called once for the source observable which emitted the value, not three times."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1526483219, "post_id": 50372973, "comment_id": 87764929, "body": "No, because when you call <code>onSpecificData()</code> 3 times you create 3 different observables (you have three different chains)."}, {"owner": {"reputation": 63, "user_id": 8592430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3febddbbf14240b9a5eb5369aaf6a0?s=128&d=identicon&r=PG&f=1", "display_name": "AnonAppDev", "link": "https://stackoverflow.com/users/8592430/anonappdev"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1526485807, "post_id": 50372973, "comment_id": 87766648, "body": "True, but I&#39;m merging them, and only one of them emitted a value. It&#39;d make sense that the one which emitted a value would be the only observable whose chain is invoked."}, {"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1526521530, "post_id": 50372973, "comment_id": 87780283, "body": "zip, forjoin will give you one emission. but merge will fire whichever inner observable fires."}, {"owner": {"reputation": 63, "user_id": 8592430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3febddbbf14240b9a5eb5369aaf6a0?s=128&d=identicon&r=PG&f=1", "display_name": "AnonAppDev", "link": "https://stackoverflow.com/users/8592430/anonappdev"}, "edited": false, "score": 0, "creation_date": 1526540874, "post_id": 50372973, "comment_id": 87786240, "body": "<code>zip</code> and <code>forkJoin</code> only emit upon completion, which is not what I&#39;m looking for."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 8592430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3febddbbf14240b9a5eb5369aaf6a0?s=128&d=identicon&r=PG&f=1", "display_name": "AnonAppDev", "link": "https://stackoverflow.com/users/8592430/anonappdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1526541387, "creation_date": 1526541387, "answer_id": 50385530, "question_id": 50372973, "link": "https://stackoverflow.com/questions/50372973/operators-invoked-multiple-times-for-merged-observable-although-only-one-source/50385530#50385530", "title": "Operators invoked multiple times for merged Observable although only one source emits", "body": "<p>I solved this in a \"hacky\" way, in my opinion.  I replaced <code>data$</code> with a <code>Subject</code>, created an observable from <code>stream</code>'s <code>'data'</code> event, moving all the shared logic to that observable and emit a value from the subject, like so:</p>\n\n<pre><code>export class Handler {\n    private dataSrc = new Subject&lt;DecodedData&gt;();\n\n    constructor(private connection: Duplex, ...) {\n        Observable.fromEvent&lt;Buffer&gt;(connection as any, 'data')\n            .map((data) =&gt; {\n                 // decode and transform\n            })\n            .filter((decodedData) =&gt; !decodedData.error)\n            .do((decodedData) =&gt; {\n                 console.log(`Got ${decodedData.value.id}`);\n            })\n            .subscribe((decodedData) =&gt; {\n                this.dataSrc.next(decodedData);\n            });\n    }\n\n    listenToData&lt;T&gt;(dataId: number, filter?: (data: T) =&gt; boolean) {\n        return this.dataSrc\n            .filter((decodedData) =&gt; decodedData.value.id === dataId)\n            .map((decodedData) =&gt; decodedData.value.value as T)\n            .filter(filter || () =&gt; true);\n    }\n}\n</code></pre>\n\n<p>Not exactly the solution I was looking for, but it works. If anyone has a better solution, which better suits the \"Rx way\" to do stuff, I'd love to hear it.</p>\n"}], "owner": {"reputation": 63, "user_id": 8592430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d3febddbbf14240b9a5eb5369aaf6a0?s=128&d=identicon&r=PG&f=1", "display_name": "AnonAppDev", "link": "https://stackoverflow.com/users/8592430/anonappdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 263, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526541387, "creation_date": 1526479291, "last_edit_date": 1526481114, "question_id": 50372973, "link": "https://stackoverflow.com/questions/50372973/operators-invoked-multiple-times-for-merged-observable-although-only-one-source", "title": "Operators invoked multiple times for merged Observable although only one source emits", "body": "<p>I have a function in which I'm calling an instance of <code>Manager</code>'s <code>onSpecificData()</code> to which I'm subscribing in order to update my application's state (I'm managing a state on the server-side as well).</p>\n\n<p>The problem is that in the <code>SomeManager</code>'s implementation of <code>onSpecificData()</code> I'm merging 3 different <code>Observable</code>s using <code>merge()</code> operator, which for some reason triggers the invocation of all the underlying <code>Observable</code>'s operators even though only 1 of the sources is the one that's emitting a value</p>\n\n<p><strong>SomeManager.ts</strong></p>\n\n<pre><code>export class DerivedManager implements Manager {\n    private driver: SomeDriver;\n\n    constructor(...) {\n        this.driver = new SomeDriver(...);\n    }\n\n    public onSpecificData(): Observable&lt;DataType&gt; {\n        return merge(\n            this.driver.onSpecificData(Sources.Source1).map((value) =&gt; {\n                return {source1: value};\n            }),\n            this.driver.onSpecificData(Sources.Source2).map((value) =&gt; {\n                return {source2: value};\n            }),\n            this.driver.onSpecificData(Sources.Source3).map((value) =&gt; {\n                return {source3: value};\n            })\n        );\n    }\n</code></pre>\n\n<p><strong>Manager.ts</strong></p>\n\n<pre><code>export type DataType = Partial&lt;{value1: number, value2: number, value3: number}&gt;;\n\nexport interface Manager {\n    onSpecificData(): Observable&lt;DataType&gt;;\n}\n</code></pre>\n\n<p><strong>SomeDriver.ts</strong></p>\n\n<pre><code>export const enum Sources {\n    Source1,\n    Source2,\n    Source3,\n}\n\nexport class SomeDriver extends Driver {\n    private static specificDataId = 1337; // some number\n\n    private handler: Handler;\n\n    constructor(...) {\n        super(...);\n        this.handler = new Handler(this.connection, ...);\n        // ...\n    }\n\n    // ...\n\n   onSpecificData(source: Sources): Observable&lt;number&gt; {\n       return this.handler\n           .listenToData&lt;SpecificDataType&gt;(\n               SomeDriver.specificDataId,\n               (data) =&gt; data.source === source)\n           ).map((data) =&gt; data.value);\n   }\n}\n</code></pre>\n\n<p><strong>Driver.ts</strong></p>\n\n<pre><code>export abstract class Driver {\n     protected connection: Duplex;\n\n     constructor(...) {\n         // init connection, etc...\n     }\n\n     public abstract onSpecificData(source: number);\n\n     // some implementations and more abstract stuff...\n}\n</code></pre>\n\n<p><strong>Handler.ts</strong></p>\n\n<pre><code>export class Handler {\n    private data$: Observable&lt;Buffer&gt;;\n\n    constructor(private connection: Duplex, ...) {\n        this.data$ = Observable.fromEvent&lt;Buffer&gt;(connection as any, 'data');\n    }\n\n    listenToData&lt;T&gt;(dataId: number, filter?: (data: T) =&gt; boolean) {\n        return this.data$\n            .map((data) =&gt; {\n                 // decode and transform\n            })\n            .filter((decodedData) =&gt; !decodedData.error &amp;&amp; decodedData.value.id)\n            .do((decodedData) =&gt; {\n                 console.log(`Got ${decodedData.value.id}`);\n            })\n            .map((decodedData) =&gt; decodedData.value.value as T)\n            .filter(filter || () =&gt; true);\n    }\n}\n</code></pre>\n\n<p>And finally, <code>subscribe()</code>-ing:</p>\n\n<pre><code>export default function(store: Store&lt;State&gt;, manager: Manager) {\n    // ...\n\n    manager.onSpecificData()\n        .subscribe((data) =&gt; {\n            // update state according to returned data\n        });\n}\n</code></pre>\n\n<p>As you can see, there is only <strong>1</strong> underlying <code>Observable</code> (<code>data$</code>) but apparently the operator chain in <code>listenToData&lt;T&gt;()</code> is invoked <strong>3</strong> times <em>for each value</em> emitted by it. I already know this is because of <code>SomeManager#onSpecificData()</code>'s <code>merge</code> of those 3 <code>Observable</code>s, but I don't know why this happens. I want it to be invoked once for each value.</p>\n\n<p>Help will be much appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "windows", "typescript", "zeromq"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 8940150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9gdx.jpg?s=128&g=1", "display_name": "Eric Hallander", "link": "https://stackoverflow.com/users/8940150/eric-hallander"}, "edited": false, "score": 1, "creation_date": 1528404620, "post_id": 50375542, "comment_id": 88507603, "body": "Just want to follow up. Thank you for a very detailed explanation. I had submitted a longer monitor interval, and that helped, but then one day, while out riding my bike, the thought hit me. &quot;Why monitor at all?&quot; So, I treat my resources as always connected, and of course, the network traffic dropped to nearly 0, and my components operate the same as they always have. It seems like a win."}, {"owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "reply_to_user": {"reputation": 23, "user_id": 8940150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9gdx.jpg?s=128&g=1", "display_name": "Eric Hallander", "link": "https://stackoverflow.com/users/8940150/eric-hallander"}, "edited": false, "score": 0, "creation_date": 1528431374, "post_id": 50375542, "comment_id": 88514468, "body": "The more a reason to ride a bike more often <b>:o)</b>"}], "tags": [], "owner": {"reputation": 1, "user_id": 3666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79fc6c23061326c7e6a6f82a1663634b?s=128&d=identicon&r=PG", "display_name": "user3666197", "link": "https://stackoverflow.com/users/3666197/user3666197"}, "is_accepted": true, "score": 0, "last_activity_date": 1526634683, "last_edit_date": 1526634683, "creation_date": 1526486993, "answer_id": 50375542, "question_id": 50372950, "link": "https://stackoverflow.com/questions/50372950/how-may-the-monitor-interval-effect-the-network-traffic-1-gb-s-in-zeromq/50375542#50375542", "title": "How may the Monitor Interval effect the Network Traffic ~.1 [GB/s] in ZeroMQ?", "body": "<blockquote>\n  <p><em>When I deploy onto a Windows server, and startup the resource monitor, the amount of network traffic (bytes written) by this node process is upwards of 64-100 [MB/s]</em></p>\n</blockquote>\n\n<p>I guess you are already pretty aware of how the low-level ZeroMQ native API tools actually work down there, under the hood. If not, may read how the native API implementation under the calls to <strong><code>zmq_socekt_monitor()</code></strong> itself sets another layer of ZeroMQ pipes-and-plumbing, so as to become able to monitor its own activities ( events et al ) and review, how well do Windows ( native or virtualised platforms ) cope with using <strong><code>inproc://</code></strong>-channels setup amongst your <strong><code>Context()</code></strong>-instance(s)' pool-of-IOthread(s) and the said bunch of bees. Try to tweak the number of IO-threads and may be better map the <strong><code>ZMQ_AFFINITY</code></strong> in a different manner, so as to split the \" <strong><em>background</em></strong> \" workloads</p>\n\n<blockquote>\n  <p>...<br>Each call to this method creates a <strong><code>ZMQ_PAIR</code></strong> socket and binds that to the specified <strong><code>inproc://</code></strong> endpoint. To collect the socket events, you must create your own <strong><code>ZMQ_PAIR</code></strong> socket, and connect that to the endpoint.\n  <br><br>\n  The events argument is a bitmask of the socket events you wish to monitor, see Supported events below. To monitor all events, use the event value <strong><code>ZMQ_EVENT_ALL</code></strong>.\n  <br><br>\n  Each event is sent as two frames. The first frame contains an event number (16 bits), and an event value (32 bits) that provides additional data according to the event number. The second frame contains a string that specifies the affected <strong><code>TCP</code></strong> or <strong><code>IPC</code></strong> endpoint.</p>\n</blockquote>\n\n<p>This is my suspect <code>#1</code> for the root-cause of seeing <code>~ 100[MB/s]</code> of traffic @ <code>250 [ms]</code> cadence, as reported above <sub>( having no MCVE, as you have explained above ).</sub></p>\n\n<p>Turning on all possible events ( in the herd ) may generate indeed some volume of traffic, as each FSA-event reports a colourfull state since launched, irrespective of the intended <code>PUB/SUB + REQ/REP</code> Scalable Formal Communication Archetype patterns' state, covering all the intended ZeroMQ infrastructure's connectivity lifecycle, propagating each such configured monitored-event during either of  <code>{ setup | operations | termination | release}</code>-phase:</p>\n\n<pre><code>{ ZMQ_EVENT_CONNECTED,\n  ZMQ_EVENT_CONNECT_DELAYED,\n  ZMQ_EVENT_CONNECT_RETRIED,\n  ZMQ_EVENT_LISTENING,\n  ZMQ_EVENT_BIND_FAILED,\n  ZMQ_EVENT_ACCEPTED,\n  ZMQ_EVENT_ACCEPT_FAILED,\n  ZMQ_EVENT_CLOSED,\n  ZMQ_EVENT_CLOSE_FAILED,\n  ZMQ_EVENT_DISCONNECTED,\n  ZMQ_EVENT_MONITOR_STOPPED\n  }\n</code></pre>\n\n<p>so data flow even before the first intended ZeroMQ infrastructure's <code>.connect()</code> has appeared.</p>\n\n<hr>\n\n<p><strong>Epilogue:</strong></p>\n\n<p>In case there are also the said <strong><code>[GB/s]</code></strong> flows reported on the  L3+ network layers, the SIGINT experts may better request due dilligence and clarifications from the platform vendor(s), what has been behind such a platform's self-reporting ( if not even a back-door class ) practices, that may explain, sure - better stop, such remarkable network exgress data-flows.  <sub><em>Did someone dare to say the platform might have been hacked?</em></sub> Well, hope it was not.</p>\n"}], "owner": {"reputation": 23, "user_id": 8940150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a9gdx.jpg?s=128&g=1", "display_name": "Eric Hallander", "link": "https://stackoverflow.com/users/8940150/eric-hallander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 1, "accepted_answer_id": 50375542, "answer_count": 1, "score": 1, "last_activity_date": 1526634683, "creation_date": 1526479190, "last_edit_date": 1526487124, "question_id": 50372950, "link": "https://stackoverflow.com/questions/50372950/how-may-the-monitor-interval-effect-the-network-traffic-1-gb-s-in-zeromq", "title": "How may the Monitor Interval effect the Network Traffic ~.1 [GB/s] in ZeroMQ?", "body": "<p>So, I have a process that manages a bunch of workers that uses a <strong><code>REQ/REP</code></strong> and a <strong><code>PUB/SUB</code></strong> pattern for each worker bee. I set the monitor interval to <strong><code>250 [ms]</code></strong> and all has been working fine.</p>\n\n<p>When I deploy onto a Windows server, and startup the resource monitor, the amount of network traffic (bytes written) by this node process is upwards of <strong><code>64-100 [MB/s]</code></strong> and that doesn't include any real application transactions yet, because the traffic is there whether I start the children or not, and it doesn't abate when the children do come online.</p>\n\n<p>Suspecting the interval setting I played with increasing the value, and do notice that higher interval values (less often) does lead to a decrease in the traffic, but the cost of that is it takes that long to detect connect/disconnect events.</p>\n\n<p>Now I haven't tried to narrow it down yet to whether it is actually the <strong><code>REQ/REP</code></strong> pattern or the <strong><code>PUB/SUB</code></strong> pattern that is the issue, but I am curious what part of the documentation I overlooked that would explain this behavior.</p>\n\n<p>We are probably going to swap out the ZeroMQ in favor or GRPC next release, but I have questions to answer now.</p>\n\n<p>I believe I have tagged everything relevant to the operating environment.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5", "angular-material2"], "answers": [{"comments": [{"owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "edited": false, "score": 0, "creation_date": 1531772573, "post_id": 50377101, "comment_id": 89711367, "body": "Thanks for upvoting, maybe you can upvote the question as well also since it was useful for you, cheers"}], "tags": [], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "is_accepted": true, "score": 12, "last_activity_date": 1526492667, "creation_date": 1526492667, "answer_id": 50377101, "question_id": 50372915, "link": "https://stackoverflow.com/questions/50372915/angular-5-material-snackbar-is-not-showing-correctly-for-custom-errorhandling-on/50377101#50377101", "title": "Angular 5 material snackbar is not showing correctly for custom ErrorHandling only, otherwise it works fine", "body": "<p>It took me ages to find the answer, I am not very sure why it works like this but it does work, so I hope it helps someone else.</p>\n\n<p>We have to use something called NgZone when calling the material snackbar in the ErrorHandler (I think due to ErrorHandler being called in some special manner in Angular)</p>\n\n<p>So the code calling the snackbar should be:</p>\n\n<pre><code>constructor(private matSnackBar: MatSnackBar, private zone: NgZone, private dataService: DataService) { }\nnotify (message: string) {\n    this.zone.run(() =&gt; {\n      this.matSnackBar.open(message, '' , {\n        duration: 2000\n      });\n    });\n  }\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-9pycyh?file=app%2FMyErrorHandler.ts\" rel=\"noreferrer\">Updated Stackblitz that is now working</a></p>\n"}], "owner": {"reputation": 5696, "user_id": 7588447, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/8FNQo.jpg?s=128&g=1", "display_name": "Ahmed Elkoussy", "link": "https://stackoverflow.com/users/7588447/ahmed-elkoussy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2384, "favorite_count": 0, "accepted_answer_id": 50377101, "answer_count": 1, "score": 6, "last_activity_date": 1526492667, "creation_date": 1526479087, "question_id": 50372915, "link": "https://stackoverflow.com/questions/50372915/angular-5-material-snackbar-is-not-showing-correctly-for-custom-errorhandling-on", "title": "Angular 5 material snackbar is not showing correctly for custom ErrorHandling only, otherwise it works fine", "body": "<p>Angular 5 material, material snackbar is not showing correctly for custom ErrorHandling only, otherwise it works fine:</p>\n\n<p>I am trying to show my backend errors using material snackbar, the problem is that the 1st time it is fired, it appears in wrong place (not the bottom middle as it should, but up to the left) &amp; it stays there forever without disappearing (it should automatically disappear after 2 seconds as per my configuration)</p>\n\n<p>For the next times it appears, it will appear correctly &amp; disappear after the 2 seconds.</p>\n\n<p>Please try the issue here: \n<a href=\"https://angular-euz5ss.stackblitz.io/\" rel=\"noreferrer\">stackblitz example showing my issue.</a></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-euz5ss?file=app%2Fapp.component.html\" rel=\"noreferrer\">The stackblitz code is here</a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "visual-studio-code", "tslint"], "owner": {"reputation": 130, "user_id": 7311219, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Y5Mb39GUL-g/AAAAAAAAAAI/AAAAAAAAA90/Ii76-1_81kc/photo.jpg?sz=128", "display_name": "squashpat", "link": "https://stackoverflow.com/users/7311219/squashpat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1545856620, "creation_date": 1526478688, "last_edit_date": 1545856620, "question_id": 50372767, "link": "https://stackoverflow.com/questions/50372767/tslint-extension-can-not-be-installed-in-vscode", "title": "TSLint extension can not be installed in VSCode", "body": "<p>TSLint hangs during installation in an infinite loop.</p>\n\n<p><a href=\"https://i.stack.imgur.com/SzuSB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzuSB.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried already this methods.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/47689536/uninstall-visual-studio-code-in-windows\">Uninstall visual studio code in windows</a></p>\n\n<p>Deleted Extensions in Folder %USERPROFILE%.vscode\\extensions</p>\n\n<p><a href=\"https://i.stack.imgur.com/Sq8vx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sq8vx.png\" alt=\"Screenshot Explorer\"></a> </p>\n\n<p>Uninstalled and reinstalled via NPM TyperScript and TSLint</p>\n\n<p>$ npm install -g tslint typescript</p>\n\n<p>$ npm uninstall -g tslint typescript</p>\n\n<p><a href=\"https://i.stack.imgur.com/FJMKJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FJMKJ.png\" alt=\"Screenshot Terminal\"></a></p>\n\n<p>Also I uninstalled and reinstalled VSCode V1.23.1</p>\n\n<p>Someone knows a solution?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526479193, "post_id": 50372810, "comment_id": 87761849, "body": "Great. How can I do this in loop? When last item is completed, go to first element again."}, {"owner": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526480156, "post_id": 50372810, "comment_id": 87762652, "body": "So current item won&#39;t be long for example 1000ms, but it will be long how next item have duration set up."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526483249, "post_id": 50372810, "comment_id": 87764945, "body": "No the delay is set for the current item."}, {"owner": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526486145, "post_id": 50372810, "comment_id": 87766866, "body": "<a href=\"https://stackblitz.com/edit/rxjs6-demo-sl347u?file=index.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/rxjs6-demo-sl347u?file=index.ts</a> When I logged to the console, second item have delay of third element and it is shown only 1 second."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526487665, "post_id": 50372810, "comment_id": 87767707, "body": "So what do you want to do? First log the item and then make a delay or you want to first make delay and then log the item?"}, {"owner": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526487943, "post_id": 50372810, "comment_id": 87767847, "body": "I want to take the item and its duration and show it. For example if first item have duration 1000, then it must be visible for 1s. Then go to the second item which have duration 5000, show it for 5s."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "edited": false, "score": 0, "creation_date": 1526536533, "post_id": 50372810, "comment_id": 87784053, "body": "Ok so you want it exactly the other way around. See my update. I&#39;m using <code>startWith</code> to emit the item immediately and then <code>delay(item.duration)</code> and <code>ignoreElements()</code> to make the delay."}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 1, "last_activity_date": 1526536355, "last_edit_date": 1526536355, "creation_date": 1526478794, "answer_id": 50372810, "question_id": 50372724, "link": "https://stackoverflow.com/questions/50372724/change-timeout-duration/50372810#50372810", "title": "Change timeout duration", "body": "<p>With RxJS 6 you could do something like this</p>\n\n<pre><code>from(items)\n  .pipe(\n    concatMap(item =&gt; of(null) // Wait until the previous inner observable completes\n     .pipe(\n       delay(item.duration), // Delay emission after this value\n       ignoreElements(),\n       startWith(item),\n     )\n    ),\n    repeat(),\n  )\n  .subscribe(console.log);\n</code></pre>\n\n<p>See live demo: <a href=\"https://stackblitz.com/edit/rxjs6-demo?file=index.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs6-demo?file=index.ts</a></p>\n"}], "owner": {"reputation": 33, "user_id": 4320071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dXAyATSc7lI/AAAAAAAAAAI/AAAAAAAAEeM/bE5r7TzQUzY/photo.jpg?sz=128", "display_name": "Marko Kos", "link": "https://stackoverflow.com/users/4320071/marko-kos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1526536355, "creation_date": 1526478568, "question_id": 50372724, "link": "https://stackoverflow.com/questions/50372724/change-timeout-duration", "title": "Change timeout duration", "body": "<p>I am building Angular 6 app where I have multiple items and each item have some configuration. On each item I defined duration how long this item must be visible.</p>\n\n<p>I created this, but I am interested if this can be written in rxjs or maybe if there is simpler solution.</p>\n\n<pre><code>const timer = () =&gt; {\n    this.counter++;\n    this.currentItem = this.items[this.counter % this.items.length];\n    setTimeout(timer, this.currentItem.duration);\n};\nsetTimeout(timer, this.currentItem.duration);\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "edited": false, "score": 0, "creation_date": 1526478620, "post_id": 50372701, "comment_id": 87761338, "body": "The problem isn&#39;t about <code>notes</code>. It&#39;s about <code>field</code> and/or <code>manufacturer_field.manufacturer_guidelines[0]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4159, "user_id": 6052255, "user_type": "registered", "accept_rate": 42, "profile_image": "https://graph.facebook.com/10153876441400115/picture?type=large", "display_name": "David Anthony Acosta", "link": "https://stackoverflow.com/users/6052255/david-anthony-acosta"}, "is_accepted": true, "score": 2, "last_activity_date": 1526478969, "last_edit_date": 1526478969, "creation_date": 1526478637, "answer_id": 50372744, "question_id": 50372701, "link": "https://stackoverflow.com/questions/50372701/how-to-handle-undefined-object-property-in-angular-5/50372744#50372744", "title": "How to handle undefined object property in angular 5", "body": "<p>If notes array element 0 is undefined, then this will throw an error:</p>\n\n<pre><code>if (typeof manufacturer_field.manufacturer_guidelines[0].notes == undefined){\n</code></pre>\n\n<p>because you are checking if the property is undefined, when what is actually undefined is the .manufacturer_guidelines[0] item.</p>\n\n<p>instead, you can do:</p>\n\n<pre><code>if (!manufacturer_field.manufacturer_guidelines[0]){\n     manufacturer_field.manufacturer_guidelines[0] = (assign it whatever value belong to this sort of item, and then once you know it is valid, then add notes)\n}\n</code></pre>\n\n<p>Also, you are assigning the string to \"notes\" variable, not the actual array item.</p>\n\n<p>So lets say i had a cars array:</p>\n\n<pre><code>if (!cars[0]) {\n   cars[0] = &lt;Car&gt;{};\n   cars[0].color = \"blue\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3603, "user_id": 5449187, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/6Xxyc.png?s=128&g=1", "display_name": "Rahul Dagli", "link": "https://stackoverflow.com/users/5449187/rahul-dagli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3733, "favorite_count": 0, "accepted_answer_id": 50372744, "answer_count": 1, "score": 0, "last_activity_date": 1526478969, "creation_date": 1526478519, "question_id": 50372701, "link": "https://stackoverflow.com/questions/50372701/how-to-handle-undefined-object-property-in-angular-5", "title": "How to handle undefined object property in angular 5", "body": "<p>I tried to fix the undefined error by setting the object property value to an empty string but its still giving the error as mentioned below:</p>\n\n<blockquote>\n  <p>ERROR TypeError: Cannot read property 'notes' of undefined</p>\n</blockquote>\n\n<p><strong>TS</strong></p>\n\n<pre><code>let notes;\nif (typeof manufacturer_field.manufacturer_guidelines[0].notes == undefined){\n  notes = '';\n} else {\n  notes = manufacturer_field.manufacturer_guidelines[0].notes;\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;p *ngIf=\"field.notes?.length\"&gt;{{field.notes}}&lt;/p&gt;\n</code></pre>\n\n<p>I referred this answer but that didn't work: <a href=\"https://stackoverflow.com/questions/1984721/how-to-handle-undefined-in-javascript\">How to handle &#39;undefined&#39; in javascript</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "testing", "protractor"], "comments": [{"owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "edited": false, "score": 0, "creation_date": 1526478635, "post_id": 50372430, "comment_id": 87761349, "body": "Try <code>browser.waitForAngularEnabled(false)</code> before spanuser.click()"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 7180766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/86f8de9813f72cad084f0f29135f12cb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohr Facu", "link": "https://stackoverflow.com/users/7180766/rohr-facu"}, "edited": false, "score": 0, "creation_date": 1526478943, "post_id": 50372823, "comment_id": 87761612, "body": "Argument of type &#39;false&#39; is not assignable to parameter of type &#39;string&#39;"}, {"owner": {"reputation": 335, "user_id": 7180766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/86f8de9813f72cad084f0f29135f12cb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohr Facu", "link": "https://stackoverflow.com/users/7180766/rohr-facu"}, "edited": false, "score": 0, "creation_date": 1526479217, "post_id": 50372823, "comment_id": 87761863, "body": "Added that line, now it doesn&#39;t even pass the first expect. ERROR: Failed: No element found using locator: By(css selector, span#spanuser)"}, {"owner": {"reputation": 335, "user_id": 7180766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/86f8de9813f72cad084f0f29135f12cb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohr Facu", "link": "https://stackoverflow.com/users/7180766/rohr-facu"}, "edited": false, "score": 0, "creation_date": 1526479241, "post_id": 50372823, "comment_id": 87761883, "body": "Just in case, the element does exist, as it has been found before"}, {"owner": {"reputation": 335, "user_id": 7180766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/86f8de9813f72cad084f0f29135f12cb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohr Facu", "link": "https://stackoverflow.com/users/7180766/rohr-facu"}, "edited": false, "score": 0, "creation_date": 1526479623, "post_id": 50372823, "comment_id": 87762186, "body": "Fixed, i just had to wait manually, with browser.sleep(10000)"}], "tags": [], "owner": {"reputation": 11632, "user_id": 8582353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2e22a564c1d0e098316210a2ec4fb1?s=128&d=identicon&r=PG&f=1", "display_name": "yong", "link": "https://stackoverflow.com/users/8582353/yong"}, "is_accepted": true, "score": 1, "last_activity_date": 1526479227, "last_edit_date": 1526479227, "creation_date": 1526478823, "answer_id": 50372823, "question_id": 50372430, "link": "https://stackoverflow.com/questions/50372430/protractor-not-finding-the-same-element-after-a-promise/50372823#50372823", "title": "Protractor not finding the same element after a promise", "body": "<p>add <code>browser.waitForAngularEnabled('false')</code> in <code>onPrepare</code> of protractor conf.js</p>\n\n<pre><code>onPrepare: function() {\n   browser.waitForAngularEnabled('false')\n   // if you set this in onPrepare(), it will be a global setting, will\n   // effect all script, so you no need to set it in other place.\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 135, "user_id": 2262176, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/006b27afc5f50837b22de9e8185bb7da?s=128&d=identicon&r=PG", "display_name": "Vin", "link": "https://stackoverflow.com/users/2262176/vin"}, "is_accepted": false, "score": 0, "last_activity_date": 1526480258, "creation_date": 1526480258, "answer_id": 50373396, "question_id": 50372430, "link": "https://stackoverflow.com/questions/50372430/protractor-not-finding-the-same-element-after-a-promise/50373396#50373396", "title": "Protractor not finding the same element after a promise", "body": "<p>use the jasmin defaulttimeoutinterval in config instead of manual sleep </p>\n\n<pre><code>jasmineNodeOpts: {\n   defaultTimeoutInterval: 250000\n    },\n     allScriptsTimeout: 180000\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 7180766, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/86f8de9813f72cad084f0f29135f12cb?s=128&d=identicon&r=PG&f=1", "display_name": "Rohr Facu", "link": "https://stackoverflow.com/users/7180766/rohr-facu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 50372823, "answer_count": 2, "score": 0, "last_activity_date": 1526480258, "creation_date": 1526477772, "last_edit_date": 1526478496, "question_id": 50372430, "link": "https://stackoverflow.com/questions/50372430/protractor-not-finding-the-same-element-after-a-promise", "title": "Protractor not finding the same element after a promise", "body": "<p>I'm trying to obtain the text from a  element in protractor, and after doing something with the text, i want to click on the same  element. This is what i have</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;span class=\"span-user\" id=\"spanuser\"&gt; {{user?.login}}&lt;/span&gt;\n</code></pre>\n\n<p>Protractor test:</p>\n\n<pre><code>describe('Login OK with correct pass', () =&gt; {\n    it('should login successfully with admin account', () =&gt; {\n        // logging\n\n        username.clear();\n        username.sendKeys('admin');\n        password.clear();\n        password.sendKeys('admin');\n        element(by.css('button[type=submit]')).click();\n        // check if the username &lt;span&gt; has the current login username\n\n        const expect2 = /admin/;\n        const spanuser = element(by.css('span#spanuser'));\n        spanuser.getText().then((value) =&gt; {\n            console.log('inside');\n            console.log(value ? value : 'no value');\n            expect(value).toMatch(expect2);\n        });\n        // then i try to click on the same span, to do some stuff\n\n        spanuser.click().then(() =&gt;  {\n            console.log('It has been pressed!');\n        });\n    });\n});\n</code></pre>\n\n<p>The first part works just fine, it gets the test and it passes the expect, but when i try to do the click() function on the span, i get the following error:</p>\n\n<blockquote>\n  <p>Failed: Timed out waiting for asynchronous Angular tasks to finish after 5 seconds. This may be because the current page is not an Angular application. Please see the FAQ for moredetails: <a href=\"https://github.com/angular/protractor/blob/master/docs/timeouts.md#waiting-for-angular\" rel=\"nofollow noreferrer\">https://github.com/angular/protractor/blob/master/docs/timeouts.md#waiting-for-angular</a></p>\n  \n  <p>While waiting for element with locator - Locator: By(css selector,\n  span#spanuser)</p>\n</blockquote>\n\n<p>What have i tried:</p>\n\n<ul>\n<li><p>browser.waitForAngular() before spanuser.click()</p></li>\n<li><p>browser.wait(10000) before spanuser.click()</p></li>\n<li><p>also i have a waitForAngular() in the beforeAll function.</p></li>\n</ul>\n\n<p>Does anyone has a idea on this? It doesn't really make any sense to me, why wouldn't find the same element that has already found before?</p>\n\n<p>Thanks a lot!</p>\n"}, {"tags": ["typescript", "types"], "answers": [{"comments": [{"owner": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526549330, "post_id": 50372490, "comment_id": 87791468, "body": "@Titan Two questions about your solution. First, now I can for example add an event <code>publisher.publish(&quot;C&quot;, null);</code> although type X doesn&#39;t have <code>C</code> defined. I understand that this is due to the structural typing system of TS, but would be nice to restrict <code>E</code> to exactly keys of  <code>T</code>. Second, if I want have an <code>undefined</code> type, say <code>interface X { &quot;C&quot; : undefined }</code>, is there a way to make the <code>data</code> parameter optional so that I can call <code>publisher.publish(&quot;C&quot;)</code>? would appreciate it if you share your thoughts on these two issues."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526549541, "post_id": 50372490, "comment_id": 87791590, "body": "@Wickoo you can use <code>&lt;E extends keyof T&gt;</code> instead, should work as expected, but I did not test."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526549656, "post_id": 50372490, "comment_id": 87791672, "body": "@Wickoo if the handlers have a different number of parameters, it gets a bit more complicated. I have a similar answer, but with arbitrary parameter count  <a href=\"https://stackoverflow.com/questions/50369299/can-i-reuse-the-parameter-definition-of-a-function-in-typescript\" title=\"can i reuse the parameter definition of a function in typescript\">stackoverflow.com/questions/50369299/&hellip;</a>"}, {"owner": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526549937, "post_id": 50372490, "comment_id": 87791862, "body": "@Titan Thanks! the first one works. For the second one, need some thinking to figure out how it works :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526550041, "post_id": 50372490, "comment_id": 87791924, "body": "@Wickoo yeah.. the other versions is a bit of type system abuse, but it works ;-). I would stick with this one though if your needs are not that complex.."}, {"owner": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526559527, "post_id": 50372490, "comment_id": 87798009, "body": "@Titan There is another issue, let&#39;s say I add ` &quot;D&quot;: boolean` to X, but don&#39;t add <code>&quot;D&quot;</code> as an eventType. Now <code>publisher.publish(&quot;D&quot;, false);</code> is accepted, while <code>&quot;D&quot;</code> is not a known event type.  The problem is in <code>T extends { [ P in EventType]? : any }</code>. Can we somehow restrict <code>T</code> so that it doesn&#39;t have any properties not defined in <code>EventType</code>?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "edited": false, "score": 0, "creation_date": 1526559928, "post_id": 50372490, "comment_id": 87798320, "body": "Generally the type constrain represents the minimal interface the type has to implement so you could have a <code>T</code> with more properties. We can add a restriction that any extra properties have type <code>never</code> and this should trigger an weeeo if we have any extra properties: <code>interface EventPublisher&lt;T extends { [ P in EventType]? : any } &amp; { [ P in Exclude&lt;keyof T, EventType&gt;] : never }&gt;</code>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1526477948, "creation_date": 1526477948, "answer_id": 50372490, "question_id": 50372304, "link": "https://stackoverflow.com/questions/50372304/using-mapped-types-in-typescript-to-restrict-method-types/50372490#50372490", "title": "Using mapped types in TypeScript to restrict method types", "body": "<p>You need to add a generic type parameter for the key on the methods, and use a type query to relate the event type to the argument type. </p>\n\n<pre><code>type EventType = \"A\" | \"B\" | \"C\"\n\ninterface EventPublisher&lt;T extends { [ P in EventType]? : any }&gt; {  \n    subscribe&lt;E extends EventType&gt;(eventType: E, callback: (data: T[E]) =&gt; void): void;\n    publish&lt;E extends EventType&gt;(eventType: E, data: T[E]) : void;\n}\n\ninterface X {\n    \"A\": number;\n    \"B\": string;\n}\n\nconst publisher: EventPublisher&lt;X&gt; = ...;\npublisher.publish(\"A\", 1); // OK!\npublisher.publish(\"A\", \"blah\"); //error\n</code></pre>\n"}], "owner": {"reputation": 4976, "user_id": 204851, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fc2292d408e831e2d3ed77b8964e5ccf?s=128&d=identicon&r=PG", "display_name": "Wickoo", "link": "https://stackoverflow.com/users/204851/wickoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 1, "accepted_answer_id": 50372490, "answer_count": 1, "score": 2, "last_activity_date": 1526477948, "creation_date": 1526477437, "question_id": 50372304, "link": "https://stackoverflow.com/questions/50372304/using-mapped-types-in-typescript-to-restrict-method-types", "title": "Using mapped types in TypeScript to restrict method types", "body": "<p>I'd like to implement a subscribe/publish class in TypeScript. The problem is that each event type has a different type for the data and I cannot figure it out how to do it in a statically typed manner. This is what I currently have:</p>\n\n<pre><code>type EventType = \"A\" | \"B\" | \"C\"\n\ninterface EventPublisher {  \n    subscribe(eventType: EventType, callback: (data: any) =&gt; void);\n    publish(eventType: EventType, data: any);\n}\n</code></pre>\n\n<p>Is there a way to get rid of <code>any</code> and do it in a way so that when I instantiate an eventPublisher with a type, say <code>X</code>, the <code>subscribe</code> and <code>publish</code> methods behave as follows? </p>\n\n<pre><code>interface X {\n    \"A\": number;\n    \"B\": string;\n}\n\nconst publisher: EventPublisher&lt;X&gt; = ...;\npublisher.publish(\"A\", 1); // OK!\npublisher.publish(\"A\", \"blah\"); // Error, expected number by got string\n</code></pre>\n\n<p>I can define the interface signature like this:</p>\n\n<pre><code>interface EventPublisher&lt;U extends { [key in EventType]? : U[key] }&gt;\n</code></pre>\n\n<p>but cannot figure it out how to relate the <code>U[key]</code> to the <code>data</code> type in methods.</p>\n"}, {"tags": ["typescript", "generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1526478001, "post_id": 50371994, "comment_id": 87760848, "body": "Side note: your generic types don&#39;t seem to care about the types of the property values in <code>T</code> at all.  If that is true, you&#39;d be better served by making them generic in the keys (e.g., <code>type CustomType &lt;K extends keyof any&gt; = {  [P in K]: number };</code> or more succinctly <code>Record&lt;K, number&gt;</code>.  Your function would then be generic in <code>K</code>, where <code>T</code> if needed is replaced by <code>Record&lt;K, any&gt;</code>."}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1526484417, "post_id": 50371994, "comment_id": 87765759, "body": "It truly doesn&#39;t consider value types in <code>T</code>. But with your first example I get error message <code>Type &#39;T&#39; does not satisfy the constraint &#39;string&#39;.</code>"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1526485239, "post_id": 50371994, "comment_id": 87766284, "body": "Does <a href=\"https://gist.github.com/jcalz/32e730f310bca1c0b767036813ea6745\" rel=\"nofollow noreferrer\">this</a> make more sense?"}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1526487310, "post_id": 50371994, "comment_id": 87767500, "body": "This is almost exactly what I want to achieve! But now property names of &#39;values&#39; depend on property names of <code>config</code> - I&#39;d rather want it to be the opposite - <code>config</code> property names should be dependant on <code>values</code> property names."}], "answers": [{"comments": [{"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526483552, "post_id": 50372367, "comment_id": 87765158, "body": "Thanks for the answer, I didn&#39;t know about the difference between passing the variable and object literal directly."}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526483982, "post_id": 50372367, "comment_id": 87765451, "body": "Unfortunately I didn&#39;t thoroughly specified my current conditions:  - <code>config</code> is defined elsewhere and doesn&#39;t know about <code>values</code> variable (I import an interface though, that&#39;s why I used it in the bottom). So your first option can&#39;t work  - I use <code>customFunction</code> in several places across the application so passing the <code>config</code> as object literal is not viable. That&#39;s why I want to store it in the variable.  Regarding your third option - I don&#39;t understand how to apply it in my case."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526484431, "post_id": 50372367, "comment_id": 87765767, "body": "@crazko What is tripping you up with the third option ? The <code>config</code> parameter has to be of a generic type argument, and you need an extra parameter that is always be passed as the value true but whose type will change based on whether the types are an exact match or not. If the match is not exact the type will not be true and thus the call will cause an error"}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526485065, "post_id": 50372367, "comment_id": 87766171, "body": "Ah, I see now. With that specified it is needed to include all properties of <code>values</code> in <code>config</code> (while I want them to be optional). Additionally, <code>wrong</code> property is still allowed to be in <code>config</code>. ... Or it is also possible I use it incorrectly and need to play with it more."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526485294, "post_id": 50372367, "comment_id": 87766320, "body": "@crazko No the properties can stay optional, just that id <code>config</code> has extra properties, you will get an error. I added a playground link to demonstrate the behavior. The error will not be on the <code>config</code> parameter but rather on the <code>validation</code> parameter"}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526487703, "post_id": 50372367, "comment_id": 87767730, "body": "I tried to put <code>foo</code>, <code>bar</code>, <code>wrong</code> into <code>config</code> and don&#39;t see an error. Also when there is only <code>foo</code>, there is an error."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526488162, "post_id": 50372367, "comment_id": 87767969, "body": "@crazko sorry there was an error in the code, had <code>NoExtraProperties&lt;TConfig, T&gt;</code> switched up, could you check now?"}, {"owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "edited": false, "score": 0, "creation_date": 1526488395, "post_id": 50372367, "comment_id": 87768099, "body": "No problem, I really appreciate your help! Now it is working exactly as expected. I do need to go through it to understand correctly what&#39;s going on. Thank you again!"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1526488048, "last_edit_date": 1526488048, "creation_date": 1526477606, "answer_id": 50372367, "question_id": 50371994, "link": "https://stackoverflow.com/questions/50371994/typescript-type-guarding-of-argument-based-on-the-previous-one/50372367#50372367", "title": "TypeScript: type guarding of argument based on the previous one", "body": "<p>Typescript only check for excess properties if you assign an object literal directly to a variable/parameter of a given type, as documented <a href=\"https://github.com/Microsoft/TypeScript/pull/3823\" rel=\"nofollow noreferrer\">here</a>. In your case you could type <code>config</code> explicitly, or use an object literal directly as an argument:</p>\n\n<pre><code>const values = [\n    {\n        foo: 'foo',\n        bar: 'bar'\n    },\n    {\n        foo: 'foo',\n        bar: 'bar'\n    }\n];\n\n// We type relative to values, no need for the extra interface\nconst config: Config&lt;typeof values[number]&gt; = {\n    foo: {\n        highPriority: true,\n        callback: () =&gt; []\n    },\n    // will be an error\n    wrong: {\n        highPriority: true,\n        callback: () =&gt; []\n    }\n};\n\n//Or pass the object literal directly \nconst result2 = customFunction(values, {\n    foo: {\n        highPriority: true,\n        callback: () =&gt; []\n    },\n    // error\n    wrong: {\n        highPriority: true,\n        callback: () =&gt; []\n    }\n});\n</code></pre>\n\n<p>Another option is to use conditional types and an extra parameter to trigger an error if the passed type has extra properties:</p>\n\n<pre><code>type NoExtraProperties&lt;TSource, TTarget&gt; = Exclude&lt;keyof TSource, keyof TTarget&gt; extends never ? true : \"Extra properties detected\";\nconst customFunction = &lt;T, TConfig extends Config&lt;T&gt;&gt;(values: T[], config: TConfig, validate: NoExtraProperties&lt;TConfig, T&gt;): Array&lt;CustomType&lt;T&gt;&gt; =&gt; {\n    // logic...\n\n    return [];\n};\n\n// Argument of type 'true' is not assignable to parameter of type '\"Extra properties detected\"'.\nconst result = customFunction(values, config, true); \n</code></pre>\n\n<p>Playground <a href=\"http://www.typescriptlang.org/play/#src=type%20CustomType%20%3CT%3E%20%3D%20%7B%0D%0A%20%20%5BK%20in%20keyof%20T%5D%3A%20number%0D%0A%7D%3B%0D%0Atype%20Config%20%3CT%3E%20%3D%20%7B%0D%0A%20%20%5BK%20in%20keyof%20T%5D%3F%20%3A%20%7B%0D%0A%20%20%20%20highPriority%3A%20boolean%3B%0D%0A%20%20%20%20callback%3A%20(values%3A%20any%5B%5D)%20%3D%3E%20number%5B%5D%3B%0D%0A%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Aconst%20values%20%3D%20%5B%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20foo%3A%20&#39;foo&#39;%2C%0D%0A%20%20%20%20%20%20%20%20bar%3A%20&#39;bar&#39;%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20foo%3A%20&#39;foo&#39;%2C%0D%0A%20%20%20%20%20%20%20%20bar%3A%20&#39;bar&#39;%0D%0A%20%20%20%20%7D%0D%0A%5D%3B%0D%0A%0D%0A%2F%2F%20We%20type%20relative%20to%20values%2C%20no%20need%20for%20the%20extra%20interface%0D%0Aconst%20config%20%20%3D%20%7B%0D%0A%20%20%20%20foo%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20highPriority%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20callback%3A%20()%20%3D%3E%20%5B%5D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20bar%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20highPriority%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20callback%3A%20()%20%3D%3E%20%5B%5D%0D%0A%20%20%20%20%7D%2C%0D%0A%20%20%20%20%2F%2F%20will%20be%20an%20error%0D%0A%20%20%20%20wrong%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20highPriority%3A%20true%2C%0D%0A%20%20%20%20%20%20%20%20callback%3A%20()%20%3D%3E%20%5B%5D%0D%0A%20%20%20%20%7D%0D%0A%7D%3B%0D%0A%0D%0Atype%20NoExtraProperties%3CTSource%2C%20TTarget%3E%20%3D%20Exclude%3Ckeyof%20TSource%2C%20keyof%20TTarget%3E%20extends%20never%20%3F%20true%20%3A%20%22Extra%20properties%20detected%22%3B%0D%0Aconst%20customFunction%20%3D%20%3CT%2C%20TConfig%20extends%20Config%3CT%3E%3E(values%3A%20T%5B%5D%2C%20config%3A%20TConfig%2C%20validate%3A%20NoExtraProperties%3CTConfig%2C%20T%3E)%3A%20Array%3CCustomType%3CT%3E%3E%20%3D%3E%20%7B%0D%0A%20%20%20%20%2F%2F%20logic...%0D%0A%0D%0A%20%20%20%20return%20%5B%5D%3B%0D%0A%7D%3B%0D%0A%0D%0A%2F%2F%20Argument%20of%20type%20&#39;true&#39;%20is%20not%20assignable%20to%20parameter%20of%20type%20&#39;%22Extra%20properties%20detected%22&#39;.%0D%0Aconst%20result%20%3D%20customFunction(values%2C%20config%2C%20true)%3B%20\" rel=\"nofollow noreferrer\">link</a></p>\n"}], "owner": {"reputation": 637, "user_id": 5549874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b292ca2620bc32ea45352de5e266303b?s=128&d=identicon&r=PG", "display_name": "crazko", "link": "https://stackoverflow.com/users/5549874/crazko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 50372367, "answer_count": 1, "score": 1, "last_activity_date": 1526488048, "creation_date": 1526476546, "last_edit_date": 1526484094, "question_id": 50371994, "link": "https://stackoverflow.com/questions/50371994/typescript-type-guarding-of-argument-based-on-the-previous-one", "title": "TypeScript: type guarding of argument based on the previous one", "body": "<p>I want to implement type-checking of function arguments, where properties of second argument are based on properties of previous one.</p>\n\n<p>The <code>config</code> variable should contain only such properties that are present in objects in <code>values</code> array. Properties should be optional (it is not needed to have all of them in <code>config</code>, but it is not allowed to add different ones.</p>\n\n<p>Please, see the example code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>type CustomType &lt;T&gt; = {\r\n  [K in keyof T]: number\r\n};\r\ntype Config &lt;T&gt; = {\r\n  [K in keyof T]? : {\r\n    highPriority: boolean;\r\n    callback: (values: any[]) =&gt; number[];\r\n  }\r\n};\r\n\r\nconst customFunction = &lt;T&gt;(values: T[], config: Config &lt;T&gt; ): Array &lt;CustomType&lt;T&gt;&gt; =&gt; {\r\n  // logic...\r\n\r\n  return [];\r\n};\r\n\r\nconst values = [\r\n  {\r\n    foo: 'foo',\r\n    bar: 'bar'\r\n  },\r\n  {\r\n    foo: 'foo',\r\n    bar: 'bar'\r\n  }\r\n];\r\n\r\n// Should optionaly contain only \"foo\", \"bar\" properties in this example\r\nconst config = {\r\n  foo: {\r\n    highPriority: true,\r\n    callback: () =&gt; []\r\n  },\r\n  // not present in values objects\r\n  wrong: {\r\n    highPriority: true,\r\n    callback: () =&gt; []\r\n  }\r\n};\r\n\r\n// config should be marked with errors as \"wrong\" is not present in values objects\r\nconst result = customFunction(values, config);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In the last line, <code>config</code> should be marked as error, because it introduces <code>wrong</code> property, which is not present in original <code>values</code> object.</p>\n\n<hr>\n\n<p>I can force some checking with implementing an interface to the <code>config</code>, however I think it's unnecessary and that it could be done without it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface ISpecific {\r\n  foo: any,\r\n  bar: any\r\n}\r\n\r\nconst values: ISpecific[] = [\r\n  {\r\n    foo: 'foo',\r\n    bar: 'bar'\r\n  },\r\n  {\r\n    foo: 'foo',\r\n    bar: 'bar'\r\n  }\r\n];\r\n\r\nconst config: Config&lt;ISpecific&gt; = {\r\n  // ...\r\n  // wrong property is marked as error\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>UPDATED:</p>\n\n<ul>\n<li><code>config</code> is defined elsewhere and doesn't know about <code>values</code> variable </li>\n<li><code>customFunction</code> is used in several places across the application so passing the <code>config</code> as object literal is not viable.</li>\n</ul>\n\n<hr>\n\n<p>Any help?</p>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1526479459, "post_id": 50371582, "comment_id": 87762052, "body": "you can check my answer if you want to pass message using a service to another component."}], "answers": [{"tags": [], "owner": {"reputation": 27, "user_id": 7826833, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-acMnOdaXuYw/AAAAAAAAAAI/AAAAAAAACmk/a6HCt5P57O8/photo.jpg?sz=128", "display_name": "HARSHA BHAT", "link": "https://stackoverflow.com/users/7826833/harsha-bhat"}, "is_accepted": false, "score": 2, "last_activity_date": 1526477627, "creation_date": 1526477627, "answer_id": 50372376, "question_id": 50371582, "link": "https://stackoverflow.com/questions/50371582/angular-6-passing-messages-via-service-to-from-component-to-message-component/50372376#50372376", "title": "Angular 6 - Passing messages via service to from component to message component", "body": "<p>you can use input for the same</p>\n\n<p>&lt; app-messagecomponent [YourInputVariableName]=\n\"YourMessage\" >&lt; /app-messagecomponent></p>\n\n<p>in app.compnent write</p>\n\n<p><strong>YourMessage:any='my Message to be displayed in the messageComponent';</strong></p>\n\n<p>in app-message.component write</p>\n\n<p><strong>@Input YourInputVariableName:any;</strong></p>\n\n<p>you can print message in app-messagecomponent by <strong>this.YourInputVariableName</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1207, "user_id": 5440323, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wwLHY.gif?s=128&g=1", "display_name": "Deva", "link": "https://stackoverflow.com/users/5440323/deva"}, "edited": false, "score": 0, "creation_date": 1560156642, "post_id": 50373010, "comment_id": 99630447, "body": "Nice explaination."}, {"owner": {"reputation": 131, "user_id": 3669026, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005428482945/picture?type=large", "display_name": "user3669026", "link": "https://stackoverflow.com/users/3669026/user3669026"}, "edited": false, "score": 0, "creation_date": 1567146384, "post_id": 50373010, "comment_id": 101883790, "body": "please provide me the example for to communicate two unrelated components sharing there information. And I am confused in folder structure also.(It needs to be two components with their own name and we must share data between them by using services."}, {"owner": {"reputation": 131, "user_id": 3669026, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005428482945/picture?type=large", "display_name": "user3669026", "link": "https://stackoverflow.com/users/3669026/user3669026"}, "edited": false, "score": 0, "creation_date": 1567146495, "post_id": 50373010, "comment_id": 101883839, "body": "this is nice explanation i got it but I want the explanation for two unrelated component example : Homecomponent and ProductDetailComponent... And I need to send data from home to prdouct details component...Please get back to me with your answer. Thanks in advance."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 131, "user_id": 3669026, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005428482945/picture?type=large", "display_name": "user3669026", "link": "https://stackoverflow.com/users/3669026/user3669026"}, "edited": false, "score": 0, "creation_date": 1567156674, "post_id": 50373010, "comment_id": 101888323, "body": "@user3669026 this is applicable for any component. not only parent child"}, {"owner": {"reputation": 131, "user_id": 3669026, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005428482945/picture?type=large", "display_name": "user3669026", "link": "https://stackoverflow.com/users/3669026/user3669026"}, "edited": false, "score": 0, "creation_date": 1567160117, "post_id": 50373010, "comment_id": 101889984, "body": "Thanks niladri. It means that either it is parent child relationship or unrelated components for both the approaches it is applicable?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 0, "creation_date": 1567164831, "post_id": 50373010, "comment_id": 101892065, "body": "for both approaches"}, {"owner": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1592765287, "post_id": 50373010, "comment_id": 110535361, "body": "is not .subscribe deprecated now?"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1592849576, "post_id": 50373010, "comment_id": 110566730, "body": "@AlokRajasukumaran Sorry didn&#39;t get you .. do you mean unsubscribe()?"}, {"owner": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1592909388, "post_id": 50373010, "comment_id": 110587256, "body": "@Niladri the .subscribe method is deprecated now and I was going through all these examples. sometimes it works but sometimes it does not."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1593031874, "post_id": 50373010, "comment_id": 110641485, "body": "@AlokRajasukumaran which version are you using?Rxjs and Angular"}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1593032034, "post_id": 50373010, "comment_id": 110641538, "body": "@AlokRajasukumaran it&#39;s not obsolete only a particular signature is obsolete. Check this <a href=\"https://stackoverflow.com/questions/55472124/subscribe-is-deprecated-use-an-observer-instead-of-an-error-callback\" title=\"subscribe is deprecated use an observer instead of an error callback\">stackoverflow.com/questions/55472124/&hellip;</a>"}, {"owner": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1593064699, "post_id": 50373010, "comment_id": 110649362, "body": "as i have commented there, now it turns out all that functions are marked obselete."}, {"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "reply_to_user": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1593118697, "post_id": 50373010, "comment_id": 110676678, "body": "@AlokRajasukumaran works perfectly for Rxjs 6.5.4 <a href=\"https://stackblitz.com/edit/fromfetch-jxvurn?file=index.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/fromfetch-jxvurn?file=index.ts</a>"}, {"owner": {"reputation": 370, "user_id": 4268860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LT31A.jpg?s=128&g=1", "display_name": "Alok Rajasukumaran", "link": "https://stackoverflow.com/users/4268860/alok-rajasukumaran"}, "edited": false, "score": 0, "creation_date": 1593337618, "post_id": 50373010, "comment_id": 110739685, "body": "Let me try this code. I am having issues with same code in NGX-ADMIN dashboard"}], "tags": [], "owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "is_accepted": true, "score": 27, "last_activity_date": 1526479345, "creation_date": 1526479345, "answer_id": 50373010, "question_id": 50371582, "link": "https://stackoverflow.com/questions/50371582/angular-6-passing-messages-via-service-to-from-component-to-message-component/50373010#50373010", "title": "Angular 6 - Passing messages via service to from component to message component", "body": "<p>In this case to pass a message from one component to another component using a service , you can create a global message bus or event bus (<code>publish/subscribe pattern</code>). </p>\n\n<p>For this we need the <code>Subject</code> (to emit values using <code>.next()</code> method) and <code>Observable</code> (to listen to the messages using <code>.subscribe()</code> ) from <code>Rxjs</code> which is now an essential part of angular 6. (For this example I am using Rxjs 6 along with rxjs-compat package) </p>\n\n<p>Here we will be sending a message using <code>MessageService</code> class which is declared as <code>@Injectable</code> to inject as a dependency in component. The message will be emitted on a button click from <code>app.component.html</code> . The same message will be retrieved in <code>message.component.ts</code> to show it in the html template <code>message.component.html</code>. We will include the selector for <code>MessageComponent</code> which is <code>&lt;app-messagecomponent&gt;&lt;/app-messagecomponent&gt;</code>  in the <code>app.component.html</code>.</p>\n\n<p>Here is the complete code below   </p>\n\n<p><strong>message.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable,Subject} from 'rxjs';\n\n@Injectable()\nexport class MessageService {\n    private subject = new Subject&lt;any&gt;();\n\n    sendMessage(message: string) {\n        this.subject.next({ text: message });\n    }\n\n    clearMessage() {\n        this.subject.next();\n    }\n\n    getMessage(): Observable&lt;any&gt; {\n        return this.subject.asObservable();\n    }\n}\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { MessageService } from './message.service';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular 6';\n\n  constructor(private service:MessageService){}\n\n  sendMessage(): void {\n        // send message to subscribers via observable subject\n  this.service.sendMessage('Message from app Component to message Component!');   \n  }\n\n  clearMessage():void{\n    this.service.clearMessage();\n  }\n}\n</code></pre>\n\n<p><strong>app.component.html</strong></p>\n\n<pre><code>&lt;button (click)=\"sendMessage()\"&gt;Click here to test message&lt;/button&gt; &lt;br&gt;&lt;br&gt;\n&lt;app-messagecomponent&gt;&lt;/app-messagecomponent&gt;\n</code></pre>\n\n<p><strong>message.component.ts</strong></p>\n\n<pre><code>import { Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { MessageService } from './message.service';\n\n@Component({\n    selector: 'app-messagecomponent',\n    templateUrl: 'message.component.html'\n})\n\nexport class MessageComponent implements OnDestroy {\n    message: any = {};\n    subscription: Subscription;\n\n    constructor(private messageService: MessageService) {\n        // subscribe to app component messages\n        this.subscription = this.messageService.getMessage().subscribe(message =&gt; { this.message = message; });\n    }\n\n    ngOnDestroy() {\n        // unsubscribe to ensure no memory leaks\n        this.subscription.unsubscribe();\n    }\n}\n</code></pre>\n\n<p><strong>message.component.html</strong></p>\n\n<pre><code>&lt;p&gt;The incoming message :  &lt;/p&gt;  &lt;br&gt;\n{{message?.text }}\n</code></pre>\n\n<p>Here I have used Elvis operator in case the <code>message</code> is <code>undefined</code> .</p>\n\n<p>Here is a working demo : <a href=\"https://stackblitz.com/edit/rxjs-snaghl\" rel=\"noreferrer\">https://stackblitz.com/edit/rxjs-snaghl</a></p>\n\n<p>Let me know if you are looking for something like this.</p>\n"}, {"tags": [], "owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1596557615, "creation_date": 1596557615, "answer_id": 63250925, "question_id": 50371582, "link": "https://stackoverflow.com/questions/50371582/angular-6-passing-messages-via-service-to-from-component-to-message-component/63250925#63250925", "title": "Angular 6 - Passing messages via service to from component to message component", "body": "<p>Use <a href=\"https://www.npmjs.com/package/ng-interconnect\" rel=\"nofollow noreferrer\">ng-interconnect</a> library. This allows sending data form any angular entity to another.</p>\n<p>You can do broadcasting or receiving from multiple points.</p>\n<p>Broadcasting example -</p>\n<blockquote>\n<pre><code>let messageStream: IMessageStream = createBroadcaster('home/stateChanged');   //Create a broadcaster```\n \n ...\n ...\n /*Receive from it from another component somewhere in the hierarchy*/\n \n let userReceiver = receiveFrom('home/stateChanged', 'contacts/user', (data, error, complete) =&gt; {\n  console.log(data);\n  console.log(error);\n  console.log(complete);\n })\n \n \n '''\n '''\n /*Broadcast messages from the first component*/\n nessageStream.emit('logged-in');\n</code></pre>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9597092"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25373, "favorite_count": 8, "accepted_answer_id": 50373010, "answer_count": 3, "score": 15, "last_activity_date": 1596557615, "creation_date": 1526475395, "question_id": 50371582, "link": "https://stackoverflow.com/questions/50371582/angular-6-passing-messages-via-service-to-from-component-to-message-component", "title": "Angular 6 - Passing messages via service to from component to message component", "body": "<p>I am trying out how to pass a message from <code>app.component.ts</code> to be displayed in <code>messageComponent.ts</code></p>\n\n<p>on <code>app.component.html</code> I have added <code>&lt;app-messagecomponent&gt;&lt;/app-messagecomponent&gt;</code></p>\n\n<p>Add the moment it's just showing nothing.</p>\n\n<p>I also have a method in a service:</p>\n\n<p>message.service.ts</p>\n\n<pre><code>message(message) {\n    return message;\n}\n</code></pre>\n\n<p>So what I want to do to pass a message from other components via the message service so it's displaying in the app-messagecomponent.html</p>\n\n<p>For example from app.component.ts:</p>\n\n<pre><code>sendMessageToService() {\n    this.myservice.message('my Message to be displayed in the messageComponent');\n}\n</code></pre>\n\n<p>How can I do this?</p>\n"}, {"tags": ["c#", "typescript", "generics", "swagger"], "comments": [{"owner": {"reputation": 1063, "user_id": 618660, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/18c921297c43af079b69b62fac78b813?s=128&d=identicon&r=PG", "display_name": "statler", "link": "https://stackoverflow.com/users/618660/statler"}, "edited": false, "score": 2, "creation_date": 1530661904, "post_id": 50371470, "comment_id": 89311525, "body": "I too would be interested in an answer to this"}, {"owner": {"reputation": 570, "user_id": 1582837, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/1c4c74cb61e0451dbb16051967b4d5d1?s=128&d=identicon&r=PG", "display_name": "Pangamma", "link": "https://stackoverflow.com/users/1582837/pangamma"}, "edited": false, "score": 0, "creation_date": 1533328168, "post_id": 50371470, "comment_id": 90322662, "body": "I also would be interested in the answer to this."}], "answers": [{"tags": [], "owner": {"reputation": 886, "user_id": 2190907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2c91d4bece57bc85705d166cfe13a3df?s=128&d=identicon&r=PG", "display_name": "MelnikovI", "link": "https://stackoverflow.com/users/2190907/melnikovi"}, "is_accepted": true, "score": 3, "last_activity_date": 1533810801, "creation_date": 1533810801, "answer_id": 51764717, "question_id": 50371470, "link": "https://stackoverflow.com/questions/50371470/can-swagger-generate-custom-generic-types/51764717#51764717", "title": "Can Swagger generate custom generic types?", "body": "<p>I have created issue on <a href=\"https://github.com/swagger-api/swagger-codegen/issues/8194\" rel=\"nofollow noreferrer\">swagger-codegen</a> on GitHub . You can support this feature there. Looks like currently it is not possible.</p>\n"}], "owner": {"reputation": 886, "user_id": 2190907, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2c91d4bece57bc85705d166cfe13a3df?s=128&d=identicon&r=PG", "display_name": "MelnikovI", "link": "https://stackoverflow.com/users/2190907/melnikovi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2353, "favorite_count": 0, "accepted_answer_id": 51764717, "answer_count": 1, "score": 6, "last_activity_date": 1533810801, "creation_date": 1526475106, "last_edit_date": 1526475785, "question_id": 50371470, "link": "https://stackoverflow.com/questions/50371470/can-swagger-generate-custom-generic-types", "title": "Can Swagger generate custom generic types?", "body": "<p>Assume we have API return model in C#</p>\n\n<pre><code>public class ApiResult&lt;T&gt;\n{\n  public T Result;\n  public bool Success;\n}\n</code></pre>\n\n<p>and returning <code>ApiResult&lt;string&gt;</code> object instance to client</p>\n\n<p>so we have swagger generated model</p>\n\n<pre><code>ApiResult[String] {\n  result (string, optional),\n  success (boolean, optional)\n}\n</code></pre>\n\n<p>which is incorrectly converted to typescript class using <a href=\"https://swagger.io/swagger-codegen/\" rel=\"noreferrer\">https://swagger.io/swagger-codegen/</a></p>\n\n<pre><code>'use strict';\nimport * as models from './models';\nexport interface ApiResultString {\n    result?: string;\n    success?: boolean;\n}\n</code></pre>\n\n<p>Is it possible to generate output models with generics same as in input models?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 716, "user_id": 3041960, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1171797668/picture?type=large", "display_name": "Sytham", "link": "https://stackoverflow.com/users/3041960/sytham"}, "edited": false, "score": 0, "creation_date": 1526476837, "post_id": 50371959, "comment_id": 87759969, "body": "Thanks, that makes sense!"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1526476453, "creation_date": 1526476453, "answer_id": 50371959, "question_id": 50371468, "link": "https://stackoverflow.com/questions/50371468/using-a-typescript-getter-or-local-variable-for-a-service-variable-in-angular-co/50371959#50371959", "title": "Using a typescript getter or local variable for a service variable in Angular component", "body": "<pre><code>&lt;div *ngFor=\"let dataSource of dataSources\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>is negligibly more performant because <code>dataService</code> doesn't need to be checked on change detection, <code>dataSources</code> getter function doesn't need to be called every time.</p>\n\n<p>If <code>dataService.dataSources</code> is used more than once in the component or its children, <code>dataSources</code> component property allows to keep the code a bit DRYer and more readable.</p>\n\n<p>In other aspects there's no difference.</p>\n"}], "owner": {"reputation": 716, "user_id": 3041960, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1171797668/picture?type=large", "display_name": "Sytham", "link": "https://stackoverflow.com/users/3041960/sytham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 1, "accepted_answer_id": 50371959, "answer_count": 1, "score": 3, "last_activity_date": 1526476453, "creation_date": 1526475094, "last_edit_date": 1526475552, "question_id": 50371468, "link": "https://stackoverflow.com/questions/50371468/using-a-typescript-getter-or-local-variable-for-a-service-variable-in-angular-co", "title": "Using a typescript getter or local variable for a service variable in Angular component", "body": "<p>So let's say you have an array of objects in a service</p>\n\n<pre><code>export class DataService {\n\n  private _dataSources : Array&lt;DataSource&gt;\n\n  contructor(private callerService: CallerService){\n    this._dataSources = this.callerService.getDataSources(); // getting data from another service\n  }\n\n  // getter for _dataSources\n  get dataSources(): Array&lt;Datasource&gt; {\n    return this._dataSources;\n  }\n}\n</code></pre>\n\n<p>I want to use the array of dataSources in the for loop of an component that we shall call \"DataComponent\"</p>\n\n<pre><code>@Component({\n  selector: 'data-component',\n  template: `\n       &lt;div *ngFor=\"let dataSource of dataService.dataSources\"&gt;&lt;/div&gt; // one way\n       &lt;div *ngFor=\"let dataSource of dataSources\"&gt;&lt;/div&gt; // other way\n     `,\n  styleUrls: ['./data.component.css']\n})\nexport class DataComponent implements OnInit {\n\n  public dataSources: Array&lt;DataSource&gt;\n\n  constructor(public dataService: DataService) { }\n\n  ngOnInit() { \n   this.dataSources = this.dataService.dataSources(); \n  }\n</code></pre>\n\n<p>So the question here is, what is the best way of doing the for loop, considering: </p>\n\n<ul>\n<li>DataSources can be a very large object of multiple datasheets (like an excel workbook)</li>\n<li>Code must be easily understandable by others</li>\n</ul>\n\n<p>Are there any performance benefits, what is common practice in Angular? </p>\n\n<p>I know that <code>this.dataSources = this.dataService.dataSources();</code>  is actually just a pointer in memory so this will not cause any performance differences I guess?</p>\n"}, {"tags": ["typescript", "typechecking", "function-signature"], "comments": [{"owner": {"reputation": 13760, "user_id": 2438165, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/nBPzI.png?s=128&g=1", "display_name": "Mat\u011bj Pokorn&#253;", "link": "https://stackoverflow.com/users/2438165/mat%c4%9bj-pokorn%c3%bd"}, "edited": false, "score": 0, "creation_date": 1526475819, "post_id": 50371351, "comment_id": 87759219, "body": "Is <a href=\"https://www.typescriptlang.org/play/index.html#src=function%20getProperty%3CT%2C%20K%20extends%20keyof%20T%3E(obj%3A%20T%2C%20key%3A%20K)%3A%20T%5BK%5D%20%7B%0D%0A%20%20%20%20if%20(key%20in%20obj)%20%7B%20return%20obj%5Bkey%5D%3B%20%7D%0D%0A%20%20%20%20throw%20new%20Error(%60Invalid%20object%20member%20%22%24%7Bkey%7D%22%60)%3B%0D%0A%7D%0D%0A%0D%0Aconst%20test%20%3D%20%7B%0D%0A%20%20%20%20log%3A%20(message%3A%20string)%20%3D%3E%20console.log(message)%0D%0A%7D%0D%0A%0D%0Aconst%20property%20%3D%20getProperty(test%2C%20&#39;log&#39;)%3B%0D%0A%0D%0Aproperty(&#39;Hello%20world!&#39;)%3B\" rel=\"nofollow noreferrer\">this</a> what you want?"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 1, "last_activity_date": 1526475857, "creation_date": 1526475857, "answer_id": 50371749, "question_id": 50371351, "link": "https://stackoverflow.com/questions/50371351/typescript-check-if-objects-property-is-a-function-with-given-signature/50371749#50371749", "title": "TypeScript - check if object&#39;s property is a function with given signature", "body": "<p>In you function signature there is a mistake, the <code>key</code> parameter should be of type <code>K</code> and this will give you better inference when you use constants for parameters: </p>\n\n<pre><code>export function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: string): T[K] {\n    if (key in obj) { return obj[key as K]; }\n    throw new Error(`Invalid object member \"${key}\"`);\n}\n\nlet foo = {\n    fn (conf: {}): void {}\n}\nlet fn = getProperty(foo, \"fn\");\nfn({}); // callable \n</code></pre>\n\n<p>The problem when you use a key which is a string and is not validated at compile time is that the compiler can't really help you with anything. It will asume that since you index my an arbitrary string the return type can be any valid field type of the target. There is no way to validate function parameter types at runtime as they will be erased, you can validate parameter count though:</p>\n\n<pre><code>let property:  Function = getProperty(this, name) as any;\nif (typeof property === 'function' &amp;&amp; property.length == 1)  \n{ \n    property({}); \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1616182684, "last_edit_date": 1616182684, "creation_date": 1526476049, "answer_id": 50371820, "question_id": 50371351, "link": "https://stackoverflow.com/questions/50371351/typescript-check-if-objects-property-is-a-function-with-given-signature/50371820#50371820", "title": "TypeScript - check if object&#39;s property is a function with given signature", "body": "<p>It doesn't look like <a href=\"http://www.typescriptlang.org/docs/handbook/advanced-types.html#typeof-type-guards\" rel=\"nofollow noreferrer\"><code>typeof</code> type guards</a> exist for function types.  It seems to be by design; see <a href=\"https://github.com/Microsoft/TypeScript/issues/2072\" rel=\"nofollow noreferrer\">microsoft/TypeScript#2072</a> (that issue is about <code>instanceof</code> type guards but I'm guessing it's similar reasoning).</p>\n<p>However, TypeScript does have <a href=\"https://www.typescriptlang.org/docs/handbook/2/narrowing.html#using-type-predicates\" rel=\"nofollow noreferrer\">user-defined type guards</a>, meaning you can write a function that narrows the type of its argument any way you like.</p>\n<hr />\n<p>TypeScript's static type system is <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#what-is-type-erasure\" rel=\"nofollow noreferrer\">erased</a> when the code is compiled to JavaScript.  At runtime, there is no such thing as <code>(conf: {}) =&gt; void</code> that you can examine.  If you want to write a runtime test to distinguish values of type <code>(conf: {}) =&gt; void</code> from values of other types, you will only be able to go so far.</p>\n<p>You can test if <code>typeof x === &quot;function&quot;</code>.  But that just tells you it's a function.  It <em>doesn't</em> indicate how many parameters the function takes and what their types are.  You could also check if <code>x.length === 1</code> to see if the function expects one argument, although there are caveats around <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/length\" rel=\"nofollow noreferrer\"><code>Function.length</code></a> involving rest parameters and default parameters.  But now you're kind of stuck.</p>\n<p>At runtime, any information about function parameter <em>types</em> will have been erased, if those functions even came from TypeScript code in the first place.  At most you could &quot;probe&quot; the function by calling it with some test parameters and checking to see if things break.  But that's a destructive test with possible side effects, and defeats the purpose of checking a function is the right type before calling it.</p>\n<hr />\n<p>Maybe you are fine with this limitation and will just assume that a function whose <code>length</code> is <code>1</code> is a good enough test.  Or maybe you have some other test (e.g., maybe you can add a property named <code>isOfRightType</code> whose value is <code>true</code> to all such functions you care about, and then just test for that property.  This eliminates false positives by introducing the possibility of false negatives).  Once you know your runtime test, you can make a type guard:</p>\n<pre><code>function isFunctionOfRightType(x: any): x is (conf: {})=&gt;void {\n   return (typeof x === 'function') &amp;&amp; (x.length === 1); // or whatever test\n}\n\n// ... later\n\nlet property: this[keyof this] = utils.getProperty(this, name);\nif (isFunctionOfRightType(property)) { property(conf); } // no error now\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABDAzgMXNeYDywBKMA5gBZQAqAngA4CmAFAB4BciAhmJQJSuPIqJ6EBMFYBvAL5dEAXgB8iAG5wYAE0RiAUIkQAnWlBC6k9KDVpxgiPjNuIA5KEiwE96QDJ3gxgDoANrRgRFAksnYAjFwA3IgA9LGIcLqIAO4kbFC0irTJmShQmhKamsJg+YggsH4CMhqIRAYACrpwdLpmADzkADSIANKItIyZYKoCANa0lJaI5HKmrD2I46x90mJ6BkZIUADa4wC6iBLHmvGIPpeIfhk5JTcoAmhwcBraiABGbLpMrPm6MCC60QpRQcAC-jgRCYPigcAAqtQ2gBhNgoBhcaRFHRfABeskQ4Si7wAtgYSHBVPQwGwyaxJtMrM84L1SqINFI3jodAEoIhqC02mZWCFUPspjNRSgjrVKjBqj4GlBmq0cmZTCRUL0aWTou8dDArPRUBhnNg8IRSBRzPQBar2txgXahZQhCJosc4gkwK8ci1kj6Uu8ikVNGBaClEMz6FwfGSQpT6AAiL66JO9JMkWh+PxwJMe84ACQAogAZUs4MMRqMvGNx8mJlNsXHpxCZ7O5-Mxc4+xKVaiVKuR6Ox+MUqlJseU1vtnN5gve15wfuDoc1uB1qcT1Ot8IAJgAzAu9OBYGTBrp-b0YFB7AIfXzqHBHjAPgFEHDBmj5ZREKoDLQ0AfpqAhgu0iRWKKQRAA\" rel=\"nofollow noreferrer\">Playground link to code</a></p>\n"}], "owner": {"reputation": 1474, "user_id": 967091, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/uTHvc.png?s=128&g=1", "display_name": "Forseti", "link": "https://stackoverflow.com/users/967091/forseti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5213, "favorite_count": 0, "accepted_answer_id": 50371820, "answer_count": 2, "score": 3, "last_activity_date": 1616182684, "creation_date": 1526474752, "question_id": 50371351, "link": "https://stackoverflow.com/questions/50371351/typescript-check-if-objects-property-is-a-function-with-given-signature", "title": "TypeScript - check if object&#39;s property is a function with given signature", "body": "<p>I have a function that gets a property from an object. </p>\n\n<pre><code>// Utils.ts\nexport function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: string): T[K] {\n    if (key in obj) { return obj[key as K]; }\n    throw new Error(`Invalid object member \"${key}\"`);\n}\n</code></pre>\n\n<p>I'd like to check if returned property is a function with given signature and then call the property with provided parameter.</p>\n\n<p><code>getProperty()</code> is used to dynamically get one of object's method and call it. I tried:</p>\n\n<pre><code>let property: this[keyof this] = utils.getProperty(this, name);\nif (typeof property === 'function') ) { property(conf); }\n</code></pre>\n\n<p>But this gives \"Cannot invoke an expression whose type lacks a call signature. Type 'any' has no compatible call signatures.\" error. I understand that a property that comes from <code>getProperty()</code> can indeed be of any type but how to ascertain it is a function with <code>(conf: {}): void</code> signature?</p>\n"}, {"tags": ["angular", "typescript", "protractor", "rxjs"], "comments": [{"owner": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "edited": false, "score": 0, "creation_date": 1526475005, "post_id": 50371152, "comment_id": 87758597, "body": "What about <code>ignoreSynchronisation</code> or increasing the time out for the Protractor sync?"}, {"owner": {"reputation": 3582, "user_id": 3063273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/smG96.jpg?s=128&g=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/3063273/matt-thomas"}, "reply_to_user": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "edited": false, "score": 0, "creation_date": 1526475757, "post_id": 50371152, "comment_id": 87759178, "body": "@demouser123 <code>ignoreSynchronization</code> does the trick! Could you post that as an answer so I can accept it?"}, {"owner": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "edited": false, "score": 1, "creation_date": 1526476161, "post_id": 50371152, "comment_id": 87759488, "body": "I have added an answer . :)"}], "answers": [{"tags": [], "owner": {"reputation": 3098, "user_id": 1728790, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eENW3.jpg?s=128&g=1", "display_name": "demouser123", "link": "https://stackoverflow.com/users/1728790/demouser123"}, "is_accepted": true, "score": 2, "last_activity_date": 1526476140, "creation_date": 1526476140, "answer_id": 50371852, "question_id": 50371152, "link": "https://stackoverflow.com/questions/50371152/rxjs-delay-makes-protractor-e2e-time-out/50371852#50371852", "title": "rxjs `delay` makes Protractor E2E time out", "body": "<p>Protractor tries to sync with Angular, for example from the <code>$http</code> calls to consider the AUT stable enough to test. </p>\n\n<p>You can use <code>browser.ignoreSynchronisation = true</code> at the start of your tests (either in the <code>confg.js</code> file or in the <code>describe</code> block) to stop Protractor from doing that.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 9493539, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ralf Hannuschka", "link": "https://stackoverflow.com/users/9493539/ralf-hannuschka"}, "is_accepted": false, "score": 0, "last_activity_date": 1575130672, "creation_date": 1575130672, "answer_id": 59118012, "question_id": 50371152, "link": "https://stackoverflow.com/questions/50371152/rxjs-delay-makes-protractor-e2e-time-out/59118012#59118012", "title": "rxjs `delay` makes Protractor E2E time out", "body": "<p>Pretty much late for this but maybe other run into the same problem, i use currently rxjs 6 with angular 8.</p>\n\n<p>For me it helps to switch from delay into timer, for example:</p>\n\n<pre><code>of(true).pipe(delay(1000)); \n</code></pre>\n\n<p>runs into protractor timed out but if i change this to</p>\n\n<pre><code>of(true).pipe(switchMap(() =&gt; timer(1000))\n</code></pre>\n\n<p>it is working, dont know why but so i dont have to tell protractor he should not wait for angular for a simple reason he should do since i run multiple http requests. And it does pretty much the same, if we dont care the value which was passed right.</p>\n\n<pre><code>browser.waitForAngularEnabled(false)\n</code></pre>\n\n<p>is not required for that then. Well this is more a work arround i would prefer to use delay but not to rewrite all e2e tests for such behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 3295911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c316b45bf8eba14d536957861235128?s=128&d=identicon&r=PG&f=1", "display_name": "tanacsg", "link": "https://stackoverflow.com/users/3295911/tanacsg"}, "is_accepted": false, "score": 0, "last_activity_date": 1590947681, "creation_date": 1590947681, "answer_id": 62120339, "question_id": 50371152, "link": "https://stackoverflow.com/questions/50371152/rxjs-delay-makes-protractor-e2e-time-out/62120339#62120339", "title": "rxjs `delay` makes Protractor E2E time out", "body": "<p>I had a similar issue with the rxjs timer, my protractor tests throw \"ScriptTimeoutError: script timeout\" exceptions all the time. The solution that worked for me was that I used the native selenium webdriver API on the pages with the timer. For example:</p>\n\n<p>Instead of:</p>\n\n<pre><code>await element(by.id('question-12' )).click();\n</code></pre>\n\n<p>I used the selenium webdriver:</p>\n\n<pre><code>import {By} from \"selenium-webdriver\";\n//...\nawait browser.driver.findElement(By.id('question-12' )).click();\n</code></pre>\n"}], "owner": {"reputation": 3582, "user_id": 3063273, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/smG96.jpg?s=128&g=1", "display_name": "Matt Thomas", "link": "https://stackoverflow.com/users/3063273/matt-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "accepted_answer_id": 50371852, "answer_count": 3, "score": 0, "last_activity_date": 1590947681, "creation_date": 1526474180, "last_edit_date": 1526474988, "question_id": 50371152, "link": "https://stackoverflow.com/questions/50371152/rxjs-delay-makes-protractor-e2e-time-out", "title": "rxjs `delay` makes Protractor E2E time out", "body": "<p>When I <code>ng e2e</code> my app, I receive this error:</p>\n\n<blockquote>\n  <p>Failed: Timed out waiting for asynchronous Angular tasks to finish after 11 seconds.</p>\n</blockquote>\n\n<p>Below is the <code>app.component.ts</code>. Notice how it publishes 'app' 15 seconds after you subscribe to it.</p>\n\n<p>I realize that <a href=\"https://github.com/angular/protractor/blob/master/docs/timeouts.md#waiting-for-angular\" rel=\"nofollow noreferrer\">Protractor waits until there are no pending asynchronous tasks in your Angular application</a>. Please keep reading.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport * as Rxjs from 'rxjs';\nimport * as Operators from 'rxjs/operators';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title: Rxjs.Observable&lt;string&gt;;\n\n  constructor() {\n    this.title = Rxjs.of('app').pipe(\n      Operators.delay(15000)\n    );\n  }\n}\n</code></pre>\n\n<p>Here's the corresponding change in <code>app.component.html</code>:</p>\n\n<pre><code>Welcome to {{ title | async }}!\n</code></pre>\n\n<p>Everything else is bone stock (these are the only changes I made after <code>ng new</code>).</p>\n\n<p>This of course is a silly example. My real-life code does something useful. <strong>I need to be able to have Observables which do not publish anything for very long periods of time</strong> (months, in my case).</p>\n\n<h1>Is there a way to use rxjs's <code>delay</code> operator in my app such that my end-to-end tests don't time out?</h1>\n\n<p>Or is there something I can do to signal to Protractor that it need not wait on a particular Observable?</p>\n\n<h2>Things I have tried:</h2>\n\n<h3><code>browser.waitForAngularEnabled(false)</code></h3>\n\n<p>This does indeed cause Protractor to stop waiting, but is not a good solution because this is an Angular app and it makes everything harder.</p>\n\n<h3><code>ngZone.runOutsideAngular(() =&gt; {...})</code></h3>\n\n<p>This doesn't help because the long-running operation is happening through a view binding (the <code>{{ title | async }}</code>). That's not a place where I can stick a call to <code>ngZone.runOutsideAngular</code>.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1526473614, "post_id": 50370629, "comment_id": 87757696, "body": "Did you check for console errors?"}, {"owner": {"reputation": 626, "user_id": 2634294, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/265cc76dac5ca011ef271ec1789cd742?s=128&d=identicon&r=PG&f=1", "display_name": "barfoos", "link": "https://stackoverflow.com/users/2634294/barfoos"}, "reply_to_user": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1526474464, "post_id": 50370629, "comment_id": 87758239, "body": "Of course, there are no errors in the console."}], "owner": {"reputation": 626, "user_id": 2634294, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/265cc76dac5ca011ef271ec1789cd742?s=128&d=identicon&r=PG&f=1", "display_name": "barfoos", "link": "https://stackoverflow.com/users/2634294/barfoos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526472732, "creation_date": 1526472732, "question_id": 50370629, "link": "https://stackoverflow.com/questions/50370629/angular-2-shows-two-components-for-one-route", "title": "Angular 2 shows two components for one route", "body": "<p>For a little project I experience strange behaviour for <code>Angular CLI: 1.7.4</code> and <code>Node: 9.11.1</code>. The main Problem is that the app shows two different pages (Overview + Detail) upon double-click, but for contextmenu > click it works as expected (only showing Detail) although they use the same method for redirect.</p>\n\n<p>The image shows the expected DOM (=works for contextmenu > click) and the actual result for double-click:\n<a href=\"https://i.stack.imgur.com/4VCqH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4VCqH.jpg\" alt=\"expected result (above) and actual result (below)\"></a></p>\n\n<p><code>app-routing.module.ts</code>: (my main routing file)</p>\n\n<pre><code>const routes: Routes = [\n  { path: 'overview', component: OverviewComponent, canActivate: [AuthGuardService], data: { title: 'Produktionskette' } },\n  { path: 'options', component: OptionComponent, canActivate: [AuthGuardService], data: { title: 'Optionen' } },\n  { path: 'login', component: LoginComponent, data: { title: 'Anmelden' } },\n  { path: 'details/:id', component: DetailComponent, canActivate: [AuthGuardService], data: { title: 'Details' } },\n  { path: '', redirectTo: '/overview', pathMatch: 'full' },\n  { path: '**', redirectTo: '/overview' }\n];\n\n@NgModule({\n  exports: [ RouterModule ],\n  imports: [ RouterModule.forRoot(routes) ]\n})\nexport class AppRoutingModule { }\n</code></pre>\n\n<p>The components are very basic and interact with vanilla-JS together with jQuery. In the <strong>diagram</strong> the context menu is initialized as:</p>\n\n<pre><code>context.find(\".contextView\").click(event =&gt; {\n    event.preventDefault();\n    context.hide();\n    if (selectedDevice) {\n        showDeviceDetails(selectedDevice);\n    }\n});\n</code></pre>\n\n<p>The double-click is initialized inside every <strong>device</strong> (for each device):</p>\n\n<pre><code>object.dblclick(() =&gt; diagram.showDeviceDetails(_this));\n</code></pre>\n\n<p>The Angular 2 components are defined as follows:</p>\n\n<p><code>overview.component.ts</code>: (/overview)</p>\n\n<pre><code>@Component({\n  selector: 'app-overview',\n  templateUrl: './overview.component.html',\n  styleUrls: ['./overview.component.css']\n})\n\nexport class OverviewComponent implements OnInit {\n  // does not do very much, just loading etc\n}\n</code></pre>\n\n<p><code>detail.component.ts</code>: (details/:id)</p>\n\n<pre><code>Component({\n  selector: 'app-detail',\n  templateUrl: './detail.component.html',\n  styleUrls: ['./detail.component.css']\n})\nexport class DetailComponent implements OnInit {\n  // also works as intended\n}\n</code></pre>\n\n<p>Could this be a routing problem? As said both doubleclick and contextmenu>click use the same method and both execution types work inside the detail-component.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2163, "user_id": 1818637, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c4207dd6a6c79e2bb6e6de75f5679fe4?s=128&d=identicon&r=PG", "display_name": "Malcor", "link": "https://stackoverflow.com/users/1818637/malcor"}, "edited": false, "score": 0, "creation_date": 1526473776, "post_id": 50370592, "comment_id": 87757789, "body": "does <code>this[key as boolean] = true;</code> work?"}, {"owner": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "reply_to_user": {"reputation": 2163, "user_id": 1818637, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c4207dd6a6c79e2bb6e6de75f5679fe4?s=128&d=identicon&r=PG", "display_name": "Malcor", "link": "https://stackoverflow.com/users/1818637/malcor"}, "edited": false, "score": 0, "creation_date": 1526474318, "post_id": 50370592, "comment_id": 87758141, "body": "The key is a string value I think. It is the value of this[key] that needs to be casted."}], "answers": [{"comments": [{"owner": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "edited": false, "score": 0, "creation_date": 1526474665, "post_id": 50371172, "comment_id": 87758373, "body": "I forgot to mention that the code actually works, it is just Visual Studio that is complaining."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "edited": false, "score": 0, "creation_date": 1526474888, "post_id": 50371172, "comment_id": 87758517, "body": "@WillemdeJong: Hm, it works in the <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">TypeScript playground</a> - which version of TypeScript are you using? If it&#39;s not a relatively recent one, you might not be able to do this."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "reply_to_user": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "edited": false, "score": 0, "creation_date": 1526475308, "post_id": 50371172, "comment_id": 87758821, "body": "@WillemdeJong: I&#39;ve added some workarounds that should work if your TypeScript compiler doesn&#39;t support explicit <code>this</code> typing. Also, your code working even though VS is complaining isn&#39;t entirely unexpected - TypeScript almost always outputs code even when type errors are found, precisely because there&#39;s scenarios like this where you know your code is right but you just haven&#39;t figured out how to get the type system to accept it yet :)"}, {"owner": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 0, "creation_date": 1526477393, "post_id": 50371172, "comment_id": 87760408, "body": "Well, of course the code works. Even if it happened, Javascript wouldn&#39;t complain about a property changing type. In this special case all properties are of boolean type. However, Typescript does not use this information. The provided workaround works, because <code>this[key]</code> is treated as of <code>any</code> type. The whole idea in the question is just bad design. Either reassign all properties manually in reset or use a map (<code>{[key: string]: boolean}</code>) for your booleans. If you prefer keeping it, rather use <code>(&lt;any&gt; this[key]) = true</code> so it&#39;s more verbose that you cheat there."}, {"owner": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "edited": false, "score": 0, "creation_date": 1526563905, "post_id": 50371172, "comment_id": 87801250, "body": "I reassigned the properties individually now, which solves the issue. Thanks anyways."}], "tags": [], "owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "is_accepted": false, "score": 1, "last_activity_date": 1526476084, "last_edit_date": 1526476084, "creation_date": 1526474233, "answer_id": 50371172, "question_id": 50370592, "link": "https://stackoverflow.com/questions/50370592/type-casting-in-typescript/50371172#50371172", "title": "Type casting in Typescript", "body": "<p>The TypeScript compiler is inferring the type of <code>key</code> to be <code>keyof this</code>, and for whatever reason, it isn't able to statically verify that all the possible values of <code>this[keyof this]</code> can be set to a boolean value.</p>\n\n<p>You can get around this by providing an explicit type in the function signature:</p>\n\n<pre><code>public reset(this: AccountApprovedColumnFilter): void {\n   ...\n}\n</code></pre>\n\n<p>This will get erased in the final output (i.e. it doesn't add an extra parameter to your method).</p>\n\n<hr>\n\n<p>Note that this feature wasn't added until TypeScript 2.0 - if you're stuck on an older version for whatever reason, another workaround would be to cast <code>this</code> in your loop:</p>\n\n<pre><code>public reset(): void {\n    for (let key in this as AccountApprovedColumnFilter) {\n         if (this.hasOwnProperty(key)) {\n             this[key] = true;\n         }\n    }\n}\n</code></pre>\n\n<p>Worst case scenario, you can create a temporary variable and give that an explicit type:</p>\n\n<pre><code>public reset(): void {\n    const self: AccountApprovedColumnFilter = this;\n    for (let key in self) {\n         if (self.hasOwnProperty(key)) {\n             self[key] = true;\n         }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 735, "user_id": 1444019, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/2ae44afe42be0b75a177b147d105bddf?s=128&d=identicon&r=PG", "display_name": "Willem de Jong", "link": "https://stackoverflow.com/users/1444019/willem-de-jong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1526477023, "creation_date": 1526472660, "last_edit_date": 1526477023, "question_id": 50370592, "link": "https://stackoverflow.com/questions/50370592/type-casting-in-typescript", "title": "Type casting in Typescript", "body": "<p>I've got this class:</p>\n\n<pre><code>export class AccountApprovedColumnFilter {\n\n    public showRowNumber: boolean = true;\n    public showImage: boolean = true;\n    public showProduct: boolean = true;\n    public showCategory: boolean = true;\n    public showGender: boolean = true;\n    public showSupplyingAccount: boolean = true;\n    public showSalesOrder: boolean = true;\n    public showRequestedUnits: boolean = true;\n    public showApprovedUnits: boolean = true;\n    public showSizeDetails: boolean = true;\n    public showSubmit: boolean = true;\n\n    public reset(): void {\n        for (let key in this) {\n            if (this.hasOwnProperty(key)) {\n                this[key] = true;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But Visual Studio complains about this line:</p>\n\n<pre><code>this[key] = true;\n</code></pre>\n\n<blockquote>\n  <p>Type 'true' is not assignable to type 'this[keyof this]'.</p>\n</blockquote>\n\n<p>How do I cast this properly?</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1526473361, "post_id": 50370280, "comment_id": 87757522, "body": "Your attempt looks like C#. Have you even tried to write anything in typescript before asking the question?"}, {"owner": {"reputation": 85, "user_id": 3863557, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100001906181592/picture?type=large", "display_name": "Zabih Khaliqi", "link": "https://stackoverflow.com/users/3863557/zabih-khaliqi"}, "reply_to_user": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1526473914, "post_id": 50370280, "comment_id": 87757861, "body": "@YuryTarabanko what I have written is not an attempt rather a piece of code to give you a better picture of the problem."}, {"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1526474285, "post_id": 50370280, "comment_id": 87758121, "body": "So you basically haven&#39;t tried anything. This is not how SO works. You have to make some research on your own, try to implement it (this is basic stuff) and ask for a specific question if you run into a problem. <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 85, "user_id": 3863557, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100001906181592/picture?type=large", "display_name": "Zabih Khaliqi", "link": "https://stackoverflow.com/users/3863557/zabih-khaliqi"}, "reply_to_user": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1526475941, "post_id": 50370280, "comment_id": 87759326, "body": "I have tried. and done some research too. I tried array.map and array.indexOf. indexOf doesn&#39;t work in this context since I have an array of objects. and Using array.map I was unable to write a function to get the required target."}, {"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1526477838, "post_id": 50370280, "comment_id": 87760727, "body": "<a href=\"https://stackoverflow.com/questions/22844560/check-if-object-value-exists-within-a-javascript-array-of-objects-and-if-not-add/22844712\" title=\"check if object value exists within a javascript array of objects and if not add\">stackoverflow.com/questions/22844560/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 1, "last_activity_date": 1526477110, "last_edit_date": 1526477110, "creation_date": 1526471988, "answer_id": 50370367, "question_id": 50370280, "link": "https://stackoverflow.com/questions/50370280/add-to-array-if-not-already-available-typescript/50370367#50370367", "title": "add to array if not already available Typescript", "body": "<p>The problem is that there's no straightforward way to check object equality in JS, and of course:</p>\n\n<pre><code>{a: 1} === {a: 1} //false\n</code></pre>\n\n<p>A possible solution is to use <a href=\"https://lodash.com/docs/4.17.10#isEqual\" rel=\"nofollow noreferrer\">lodash</a>:</p>\n\n<pre><code>Users2Add.forEach(user =&gt; {\n  if (!Users.some(existingUser = &gt; _.isEqual(existingUser, user))) {\n    Users.push(user);\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3863557, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/100001906181592/picture?type=large", "display_name": "Zabih Khaliqi", "link": "https://stackoverflow.com/users/3863557/zabih-khaliqi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526477110, "creation_date": 1526471713, "question_id": 50370280, "link": "https://stackoverflow.com/questions/50370280/add-to-array-if-not-already-available-typescript", "title": "add to array if not already available Typescript", "body": "<p>I have a two arrays:</p>\n\n<pre><code>Users [\n  { \"id\": 0, \"name\": \"Scott\" },\n  { \"id\": 0, \"name\": \"Jan\" },\n  { \"id\": 0, \"name\": \"Jack\" },\n]\n\nUsers2Add [\n  { \"id\": 0, \"name\": \"Scott\" },\n  { \"id\": 0, \"name\": \"Andy\" },\n  { \"id\": 0, \"name\": \"John\" },\n]\n</code></pre>\n\n<p>I want to check if new users in Users2Add are already in Users array. If yes don't push(add to array) else add the new User(From User2Add) to Users array. Like:</p>\n\n<pre><code>forEach(var u in Users2Add ) {\n  if(!(Users.containts(x =&gt; x.id == User2Add.idx))) Users.push(u);\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "identityserver4", "angular-oauth2-oidc"], "answers": [{"comments": [{"owner": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "edited": false, "score": 0, "creation_date": 1526635528, "post_id": 50374687, "comment_id": 87831396, "body": "Thanks for your answer, it led me in the right direction!"}], "tags": [], "owner": {"reputation": 2563, "user_id": 6462951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KE4W2.jpg?s=128&g=1", "display_name": "m3n7alsnak3", "link": "https://stackoverflow.com/users/6462951/m3n7alsnak3"}, "is_accepted": false, "score": 1, "last_activity_date": 1526484109, "creation_date": 1526484109, "answer_id": 50374687, "question_id": 50370273, "link": "https://stackoverflow.com/questions/50370273/have-angular-oauth2-oidc-retrieve-access-token-from-other-tabs/50374687#50374687", "title": "Have angular-oauth2-oidc retrieve access token from other tabs", "body": "<p>There is an explanation, why it always goes to IdentityServer to clarify the current user, and it is the code that you've shown.</p>\n\n<p>Every time you open a tab, your app is started, and the code above is executed. Now - all these oidc libraries, that support SPA'a and the <code>Implicit</code> flow, are storing the user data (<code>access_token</code> ... ) in the browser session storage. By opening a new tab, you have a new session. </p>\n\n<p>My point here is - you need to do something, before trying to authenticate against Identity Server. I'm pointing to something like moving all the user info, from the <code>Session storage</code>, to the <code>Local storage</code>. Then the tabs, that are under the same application (respectively same origin), will have a shared <code>Local storage</code>.</p>\n\n<p>So your flow in the app start, should be something like:</p>\n\n<ol>\n<li>Check local storage for user info</li>\n<li>If existing, setup the authentication service (including the silent refresh), but don't try to login. And move the data to session storage (not sure that this is needed, but I guess that the library will look for it there)</li>\n<li>If not - login, and then move the data from the session storage to the local one</li>\n<li>And of course, on the silent renew callback, you will have to update the values in the local storage (they should be updated by the library in the session).</li>\n<li>And last, but not least - on logout, you will have to clean up.</li>\n</ol>\n\n<p>For me this, seems like a solution for you. Now - it is up to you, to decide is the overhead worth it.</p>\n\n<p>PS: Just to clarify - I have not tried it. I can't guarantee that it will work, but following the order of the events, it should.</p>\n"}, {"tags": [], "owner": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "is_accepted": true, "score": 6, "last_activity_date": 1560279412, "last_edit_date": 1560279412, "creation_date": 1526636867, "answer_id": 50408490, "question_id": 50370273, "link": "https://stackoverflow.com/questions/50370273/have-angular-oauth2-oidc-retrieve-access-token-from-other-tabs/50408490#50408490", "title": "Have angular-oauth2-oidc retrieve access token from other tabs", "body": "<p>First up: I somehow got the idea that <code>sessionStorage</code> was right for tokens and that <code>localStorage</code> should be avoided. But that was from another project where more powerful (refresh) tokens were involved, and with implicit flow I only have shortlived access tokens so <code>localStorage</code> is not that much (if at all) more unsafe than <code>sessionStorage</code>.</p>\n\n<p>I did not mention that I had that idea, and <a href=\"https://stackoverflow.com/a/50374687/419956\">the other answer</a> helpfully made me rethink things and consider using localStorage. This was in fact a good solution.</p>\n\n<p>Turns out, the library has built in support for using <code>localStorage</code> as the backing store for tokens and other data. At first though I was trying:</p>\n\n<pre><code>// This doesn't work properly though, read on...\nthis.oAuthService.setStorage(localStorage);\n</code></pre>\n\n<p>But that way of bootstrapping things didn't work for my case, see <a href=\"https://github.com/manfredsteyer/angular-oauth2-oidc/issues/321\" rel=\"nofollow noreferrer\">issue 321 on the libraries GitHub issues list</a> for my log on that. Repeating the solution (or workaround?) from that thread, I solved things by doing this in the app module's <code>providers</code>:</p>\n\n<pre><code>{ provide: OAuthStorage, useValue: localStorage },\n</code></pre>\n\n<p>Now the library will use localStorage properly and new tabs (and even new windows) will automatically pick it up.</p>\n\n<hr>\n\n<p>As a footnote, if you don't want to use <code>localStorage</code> for example for security reasons, you could also provide your own storage as long as it implements the <code>OAuthStorage</code> interface. Your own implementation could then use any of the available inter-tab communication techniques to \"ask\" the data from other tabs, falling back to sessionStorage if needed.</p>\n"}], "owner": {"reputation": 52804, "user_id": 419956, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ab00b6c461dcf852df10c077a0a2b4eb?s=128&d=identicon&r=PG", "display_name": "Jeroen", "link": "https://stackoverflow.com/users/419956/jeroen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6792, "favorite_count": 1, "accepted_answer_id": 50408490, "answer_count": 2, "score": 4, "last_activity_date": 1560279412, "creation_date": 1526471697, "question_id": 50370273, "link": "https://stackoverflow.com/questions/50370273/have-angular-oauth2-oidc-retrieve-access-token-from-other-tabs", "title": "Have angular-oauth2-oidc retrieve access token from other tabs", "body": "<p>I'm using the <a href=\"https://github.com/manfredsteyer/angular-oauth2-oidc\" rel=\"nofollow noreferrer\">angular-oauth2-oidc</a> library in combination with the Implicit Flow (with an IdentityServer4 server). I've successfully set up <a href=\"https://manfredsteyer.github.io/angular-oauth2-oidc/docs/additional-documentation/refreshing-a-token-(silent-refresh).html\" rel=\"nofollow noreferrer\">the Silent Refresh suggestion from the docs</a>.</p>\n\n<p>Here's how I bootstrap things in a wrapper service:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>private userSubject = new Subject&lt;User&gt;();\n\nconstructor(private config: ConfigService, private oAuthService: OAuthService)\n{ }\n\n// Called on app load:\nconfigure(): void {\n    const config: AuthConfig = {\n      issuer: this.config.getIdentityUrl(),\n      logoutUrl: this.config.getIdentityUrl() + '/connect/endsession',\n      redirectUri: window.location.origin + '/',\n      silentRefreshRedirectUri: window.location.origin + '/silent-refresh.html',\n      clientId: 'my_client_id',\n      scope: 'openid profile my_api',\n      sessionChecksEnabled: true,\n    };\n\n    this.oAuthService.configure(config);\n    this.oAuthService.tokenValidationHandler = new JwksValidationHandler();\n\n    this.oAuthService\n      .loadDiscoveryDocumentAndLogin()\n      .then((_) =&gt; this.loadUserProfile());\n\n    this.oAuthService.setupAutomaticSilentRefresh();\n}\n\nprivate loadUserProfile() {\n  this.oAuthService.loadUserProfile()\n    .then((userProfile) =&gt; {\n      const user = new User(userProfile['name']);\n      this.userSubject.next(user);\n    });\n}\n</code></pre>\n\n<p>However, if I open the application in a new tab, the user also gets redirected to the IdentityServer (and immediately back to my app).</p>\n\n<p>My question: <strong>can I get the library to retrieve existing access token (and optionally user info) from other tabs of the same origin, to prevent the redirects?</strong> (Preferred because it doesn't require Ajax calls.)</p>\n\n<p>Alternatively, is there an easy way to try and use the Silent Refresh mechanism before we'd send someone to the IdentityServer?</p>\n"}, {"tags": ["angular", "typescript", "hierarchy", "naming"], "comments": [{"owner": {"reputation": 475, "user_id": 2564406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1612127326/picture?type=large", "display_name": "Sebastien Servouze", "link": "https://stackoverflow.com/users/2564406/sebastien-servouze"}, "edited": false, "score": 0, "creation_date": 1526471706, "post_id": 50370208, "comment_id": 87756300, "body": "Hmm, good question, best way to find out would be to try different attributes names in each <code>FruitWorld</code> class and see the one which is defined I guess ?"}, {"owner": {"reputation": 805, "user_id": 6563591, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/sZUtG.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/6563591/roger"}, "reply_to_user": {"reputation": 475, "user_id": 2564406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1612127326/picture?type=large", "display_name": "Sebastien Servouze", "link": "https://stackoverflow.com/users/2564406/sebastien-servouze"}, "edited": false, "score": 1, "creation_date": 1526472333, "post_id": 50370208, "comment_id": 87756787, "body": "Hi @SebastienServouze I think the class inside the namespace <code>Endpoints</code> is not a problem here, because it is encapsulated by the namespace and it can only be used in the local file. My concern is the namespace and class share same name."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 4, "last_activity_date": 1526473035, "last_edit_date": 1526473035, "creation_date": 1526472721, "answer_id": 50370622, "question_id": 50370208, "link": "https://stackoverflow.com/questions/50370208/typescript-class-and-namescript-hierarchy-when-do-importing/50370622#50370622", "title": "typescript class and namescript hierarchy when do importing", "body": "<p>Class export <a href=\"https://www.typescriptlang.org/play/#src=export%20class%20Foo%20%7B%20%7D%0D%0A%0D%0Aexport%20namespace%20Foo%20%7B%0D%0A%20%20%20%20let%20bar%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">will be overridden by a namespace</a> if a namespace is non-empty:</p>\n\n<pre><code>export class Foo { }\n\nexport namespace Foo {\n    let bar;\n}\n</code></pre>\n\n<p>So it persists in compiler output:</p>\n\n<pre><code>var Foo = /** @class */ (function () {\n    function Foo() {\n    }\n    return Foo;\n}());\nexports.Foo = Foo;\n(function (Foo) {\n    var bar;\n})(Foo = exports.Foo || (exports.Foo = {}));\nexports.Foo = Foo;\n</code></pre>\n\n<p>And class export <a href=\"https://www.typescriptlang.org/play/#src=export%20class%20Foo%20%7B%20%7D%0D%0A%0D%0Aexport%20namespace%20Foo%20%7B%0D%0A%20%20%20%20let%20bar%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">won't be overridden by a namespace</a> if it's empty:</p>\n\n<pre><code>export class Foo { }\n\nexport namespace Foo {\n    // let bar;\n}\n</code></pre>\n\n<p>So it's removed from compiler output:</p>\n\n<pre><code>var Foo = /** @class */ (function () {\n    function Foo() {\n    }\n    return Foo;\n}());\nexports.Foo = Foo;\n</code></pre>\n"}], "owner": {"reputation": 805, "user_id": 6563591, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/sZUtG.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/6563591/roger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 50370622, "answer_count": 1, "score": 3, "last_activity_date": 1526473035, "creation_date": 1526471491, "question_id": 50370208, "link": "https://stackoverflow.com/questions/50370208/typescript-class-and-namescript-hierarchy-when-do-importing", "title": "typescript class and namescript hierarchy when do importing", "body": "<p>I have a question about name conflict but didn't cause any errors and seems to export pre usual to the outside scope. Best way to show is in this simplify code;</p>\n\n<p><strong>Endpoints.model.ts</strong></p>\n\n<pre><code>namespace Endpoints {\n export class FruitWorld {\n  apple: string;\n  banana: string;\n  seller: string;\n  sellerId: string;\n  get produceDate() {\n   ...\n  }\n }\n}\nexport class FruitWorld extended Endpoints.FruitWorld {\n Seller: string;\n SellerId: string;\n get ProduceDate() {\n  ...\n }\n constructor(...init: Partial&lt;Endpoints.FruitWorld&gt;[]) {\n  super();\n  init.map(data =&gt; {\n   delete data.Apple;\n   delete data.Banana;\n   Object.assign(this, data);\n  }\n }\n}\nexport namespace FruitWorld {\n // Some overwrite function \n // extended functionalities\n}\n</code></pre>\n\n<p><strong>app.ts</strong></p>\n\n<pre><code>import { FruitWorld } \"./Endpoints.model\";\n</code></pre>\n\n<p>Here is the confusing part, which one of the <code>FruitWorld</code> is being imported here? From what I can tell, it is the class get imported. </p>\n\n<p>I read this <a href=\"https://stackoverflow.com/questions/12764247/typescript-interface-vs-class-vs-modules-vs-program-vs-function\">stackover question</a> and <a href=\"https://stackoverflow.com/questions/38582352/module-vs-namespace-import-vs-require-typescript\">this stackover question</a>, but they are not really touching on what if we have a class and a namespace share same name, and exists in the same file. Which gets export?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular5", "contentful"], "answers": [{"tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": false, "score": 0, "last_activity_date": 1526471989, "creation_date": 1526471989, "answer_id": 50370368, "question_id": 50369723, "link": "https://stackoverflow.com/questions/50369723/changing-the-blog-url-from-id-to-title-contentful-angular5/50370368#50370368", "title": "Changing the blog URL from id to title (Contentful &amp; Angular5)", "body": "<p>You could <a href=\"https://angular.io/api/common/Location\" rel=\"nofollow noreferrer\">Location from @angular/common</a> to change the url with a style value.</p>\n\n<p>For example in your component, once the blog article is loaded, you could add the title after the id like this :</p>\n\n<pre><code>this._location.go(this.blogTitle);\n</code></pre>\n\n<p>You would have a url like <code>http://localhost:4200/blog/Q4YkPptlwAQ0wCIo4oAcI/someBlogTitle</code>.</p>\n\n<p><a href=\"https://stackblitz.com/edit/stackoverflow-50369723\" rel=\"nofollow noreferrer\">Here is an stackblitz example for location.</a></p>\n"}], "owner": {"reputation": 421, "user_id": 9626922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c049c7c3d3ffe5562f8194ca1673118?s=128&d=identicon&r=PG&f=1", "display_name": "Jm3s", "link": "https://stackoverflow.com/users/9626922/jm3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526471989, "creation_date": 1526470083, "question_id": 50369723, "link": "https://stackoverflow.com/questions/50369723/changing-the-blog-url-from-id-to-title-contentful-angular5", "title": "Changing the blog URL from id to title (Contentful &amp; Angular5)", "body": "<p>I am creating an app using Contentful and Angular 5. It is all working fine, however the url when clicking on a blog uses /blog/id where as I need it to say /blog/title or /blog/urlslug. here it what it looks like: </p>\n\n<pre><code>http://localhost:4200/blog/Q4YkPptlwAQ0wCIo4oAcI\n</code></pre>\n\n<p>The routing was done as follows: </p>\n\n<pre><code>  getOneBlog(blogID): Promise&lt;Entry&lt;any&gt;&gt;{\n    return this.client.getEntries(Object.assign({\n      content_type: 'blog'\n    }, {'sys.id': blogID}))\n    .then(res =&gt; res.items[0]);\n  }\n\n  goToBlogDetailsPage(blogId) {\n\n    this.router.navigate(['/blog', blogId]);\n  }\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>  {path: 'blog/:id', component: BlogDetailsPageComponent}\n</code></pre>\n\n<p>has anyone dealt with this before? I have added a url slug to my content model within contentful, however I do not know how to access the url slug within one of these functions. </p>\n"}, {"tags": ["typescript", "knockout.js", "knockout-3.0"], "answers": [{"tags": [], "owner": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "is_accepted": true, "score": 1, "last_activity_date": 1526548575, "creation_date": 1526548575, "answer_id": 50387690, "question_id": 50369544, "link": "https://stackoverflow.com/questions/50369544/knockoutjs-which-runs-first-extenders-or-subscriptions-manually-set-up-or-ot/50387690#50387690", "title": "KnockoutJS - which runs first, extenders or subscriptions (manually set up or otherwise) and what about if they&#39;re overwritten?", "body": "<blockquote>\n  <p>Pretty complicated question</p>\n</blockquote>\n\n<p>Agreed. Partly because your code example does some things it probably shouldn't.</p>\n\n<blockquote>\n  <p>Are subscriptions called in order they're set</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Are extenders always called before subscriptions</p>\n</blockquote>\n\n<p>An extender always has the first opportunity to \"do something\" with a newly created observable. E.g:</p>\n\n<pre><code>ko.extenders.logChange = function(obs, log) {\n    if (log) obs.subscribe(console.log); // 1\n    return obs;\n};\n\nconst myName = ko.observable(\"Jane\").extend({ logChange: true });\nmyName.subscribe(console.log); // 2\n</code></pre>\n\n<p>The subscription created by the extender is attached first, and will do the first log. Of course, you can do all kinds of weird things in the extender function, which means there's never a guarantee. This contrived example swaps the order of the logs:</p>\n\n<pre><code>ko.extenders.logChange = function(obs, log) {\n    if (log) setTimeout(() =&gt; obs.subscribe(console.log)); // 2\n    return obs;\n};\n\nconst myName = ko.observable(\"Jane\").extend({ logChange: true });\nmyName.subscribe(console.log); // 1\n</code></pre>\n\n<p>For your specific more complicated case, I'd advise you to put some breakpoints in the code and update the observable to study the order in which dependencies are evaluated.</p>\n\n<p>If this doesn't help you solve your real problem, you might want to provide a runnable example of the logic you're trying to implement.</p>\n\n<p>Note: when creating subcriptions <em>inside</em> another subscription, it's best to dispose the earlier created ones to prevent weird behavior.</p>\n"}], "owner": {"reputation": 1361, "user_id": 5073189, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/783103cd0c5602484616eb286aa4871b?s=128&d=identicon&r=PG&f=1", "display_name": "James Morrison", "link": "https://stackoverflow.com/users/5073189/james-morrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 50387690, "answer_count": 1, "score": 0, "last_activity_date": 1526548575, "creation_date": 1526469614, "last_edit_date": 1526483425, "question_id": 50369544, "link": "https://stackoverflow.com/questions/50369544/knockoutjs-which-runs-first-extenders-or-subscriptions-manually-set-up-or-ot", "title": "KnockoutJS - which runs first, extenders or subscriptions (manually set up or otherwise) and what about if they&#39;re overwritten?", "body": "<p>This seems like a fairly simple question but I can't find much of an answer or explanation anywhere without contradictions. See the class below;</p>\n\n<pre><code>export class Person {\n    FirstName: KnockoutObservable&lt;string&gt;;\n    Surname: KnockoutObservable&lt;string&gt;;\n    FullName: KnockoutComputed&lt;string&gt;;\n    SurnameExternalReference: KnockoutObservable&lt;string&gt;;\n\n    constructor(data) {\n        this.Name = ko.observable(data.Name).extend(someExtender: logChange);\n        this.Surname = ko.observable(data.SurnameName).extend(someExtender: logChange);\n        this.FullName = ko.copmuted(() =&gt; {\n            return this.FirstName() + \" \" + this.Surname();\n        }, this);\n        this.SurnameExternalReference = ko.observable();\n\n        this.Surname.subscribe(() =&gt; {\n             //function here tests an external ko array of people for that surname \n             //and assigns this.SurnameExternalReference to that observable.\n             //e.g.  - then sets sub back up as below only if found, otherwise this.SurnameExternalReference = null\n             this.SurnameExternalReference = external.Surname;\n             this.SurnameExternalReference.subscribe(() =&gt; {\n                 this.Surname(this.SurnameExternalReference());\n                 });\n\n            });\n\n        this.SurnameExternalReference.subscribe(() =&gt; {\n            this.Surname(this.SurnameExternalReference());\n        });\n    }\n}\n</code></pre>\n\n<p>I've written this for reference only, my actual viewModel is extremely complex and impossible to post, but it does (and needs to do) this. logChange is a function that tests the input and logs the change if it's valid otherwise doesn't write the new value (or log change).</p>\n\n<p>So my question is, if the external surname property is changed, in what order would the extenders and functions be called? Bearing in mind that in the surname subscription this.SurnameExternalReference inherits external.surname's extender.</p>\n\n<p>Are extenders always called before subscriptions? Are subscriptions called in order they're set (I've found many people agreeing on the order being fairly random AND in the order they're set up)?</p>\n\n<p>If the observable is externally overwritten does it inherit the order of the external sub/extender or get added to the end?</p>\n\n<p>Pretty complicated question, ask any questions/post scenarios if confused.</p>\n\n<p>EDIT: is it possible for extenders/subscriptions to be running asynchronously or can they only run synchronously? </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526471336, "post_id": 50369299, "comment_id": 87756054, "body": "Doesn&#39;t<code>emit</code> also need the event name?"}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526480369, "post_id": 50369299, "comment_id": 87762834, "body": "Yes, but that&#39;s not really relevant here (probably?).  I&#39;ll edit for clarity nonetheless."}], "answers": [{"comments": [{"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1526541148, "post_id": 50375712, "comment_id": 87786396, "body": "That&#39;s, uh, quite a bit of type math.  I&#39;m going to need a little while to digest, but it looks like it solves my problem.  One question, though.  If <code>TypedEventEmitter</code> extends a base class where <code>on</code> is declared as an <i>instance member function</i> (<code>on(event: string | symbol, listener: (...args: any[]) =&gt; void): this;</code>) rather than an <i>instance member variable</i> having function type as in your example, can I use your approach without changing the base class?  If so, how?  If not, is there another approach that would?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1526541400, "post_id": 50375712, "comment_id": 87786559, "body": "@Coderer It was a very interesting problem to solve :). It should work with a base class, you can add the base siognature to the <code>on</code> field: <code>on: OnAll&lt;T&gt; &amp; ((event: string | symbol, listener: (...args: any[]) =&gt; void) =&gt; this);</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 1, "creation_date": 1526541742, "post_id": 50375712, "comment_id": 87786741, "body": "@Coderer I was a bit too optimistic, The compiler will not allow you to redefine <code>on</code> as a member field, Looking for a workaround"}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1526542099, "post_id": 50375712, "comment_id": 87786954, "body": "I mean obviously in a perfect world, the base class emit / on functions would be generic -- there are a bunch of libraries out there for &quot;typed events&quot; -- but I&#39;m trying to describe how existing (non-TS) libraries work, and they don&#39;t use typed events, so I&#39;m stuck bending TS syntax to fit JS conventions."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1526542163, "post_id": 50375712, "comment_id": 87786996, "body": "@Coderer found a reasonable work around, edited the answer"}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 0, "creation_date": 1526542777, "post_id": 50375712, "comment_id": 87787350, "body": "Wow, thanks.  I&#39;m going to try it now.  I&#39;m a little worried that after all this trouble, it&#39;s going to run into <a href=\"https://github.com/Microsoft/TypeScript/issues/24166\" rel=\"nofollow noreferrer\">this bug I found</a> which would mean that supplying parameter information via the indexed-access operator doesn&#39;t actually result in strongly-typed callbacks, but hopefully that will sort itself out.  Yeesh."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "edited": false, "score": 1, "creation_date": 1526542877, "post_id": 50375712, "comment_id": 87787412, "body": "@Coderer actually that was the first version I tried and ran into the bug. That is why I actually don&#39;t use a type query to get the callback for <code>on</code> (tried it and parameter inference does not work). This version with <code>UnionToIntersection</code> works as expected"}, {"owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526543254, "post_id": 50375712, "comment_id": 87787614, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/171216/discussion-between-coderer-and-titian-cernicova-dragomir\">continue this discussion in chat</a>."}, {"owner": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 0, "creation_date": 1537189696, "post_id": 50375712, "comment_id": 91681223, "body": "In <code>AddParameters&lt;T, P&gt;</code> the last part of the ternary chain is <code>(event: P) =&gt; Promise&lt;R&gt;</code>. Is it intended that this returns a <code>Promise</code> instead of just <code>R</code> like the others?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 1, "creation_date": 1537190167, "post_id": 50375712, "comment_id": 91681571, "body": "@Neon wops, that was a copy paste mistake, fixed. Also that type can be better written today using tuples in spread arguments <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/pull/24897</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 1, "creation_date": 1537190466, "post_id": 50375712, "comment_id": 91681766, "body": "@Neon improved <code>AddParameters</code> to take advantage of 3.0"}, {"owner": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "edited": false, "score": 0, "creation_date": 1537195088, "post_id": 50375712, "comment_id": 91684871, "body": "@TitianCernicova-Dragomir thanks, the 3.0 version is a very nice improvement."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 6, "last_activity_date": 1537190440, "last_edit_date": 1537190440, "creation_date": 1526487640, "answer_id": 50375712, "question_id": 50369299, "link": "https://stackoverflow.com/questions/50369299/can-i-reuse-the-parameter-definition-of-a-function-in-typescript/50375712#50375712", "title": "Can I reuse the parameter definition of a function in Typescript?", "body": "<p>You can define an extra interface that will contain all the function definitions. And use mapped types to transform these functions into the signature for <code>on</code> and the signature for <code>emit</code>. The process is a bit different for the two so I will explain.</p>\n\n<p>Lets consider the following event signature interface:</p>\n\n<pre><code>interface Events {\n    scroll: (pos: Position, offset: Position) =&gt; void,\n    mouseMove: (pos: Position) =&gt; void,\n    mouseOther: (pos: string) =&gt; void,\n    done: () =&gt; void\n}\n</code></pre>\n\n<p>For <code>on</code> we want to create new functions that take as first argument the name of the property in the interface and the second argument the function itself. To do this we can use a mapped type </p>\n\n<pre><code>type OnSignatures&lt;T&gt; = { [P in keyof T] : (event: P, listener: T[P])=&gt; void }\n</code></pre>\n\n<p>For emit, we need to add a parameter to each function that is the event name,  and we can use the approach in this <a href=\"https://stackoverflow.com/questions/49478191/add-parameters-to-every-member-of-parent-interface-in-child-interface/49479117#49479117\">answer</a></p>\n\n<pre><code>type IsValidArg&lt;T&gt; = T extends object ? keyof T extends never ? false : true : true;\ntype AddParameters&lt;T, P&gt; =\n    T extends (a: infer A, b: infer B, c: infer C) =&gt; infer R ? (\n        IsValidArg&lt;C&gt; extends true ? (event: P, a: A, b: B, c: C) =&gt; R :\n        IsValidArg&lt;B&gt; extends true ? (event: P, a: A, b: B) =&gt; R :\n        IsValidArg&lt;A&gt; extends true ? (event: P, a: A) =&gt; R :\n        (event: P) =&gt; R\n    ) : never;\n\ntype EmitSignatures&lt;T&gt; = { [P in keyof T] : AddParameters&lt;T[P], P&gt;};\n</code></pre>\n\n<p>Now that we have the original interface transformed we need to smush all the functions into a single one. To get all the signatures we could use <code>T[keyof T]</code> (ie <code>EmitSignatures&lt;Events&gt;[keyof Events]</code>) but this would return a union of all the signatures and this would not be callable. This is where an interesting type comes in from <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type#50375286\">this</a> answer in the form of <code>UnionToIntersection</code> which will transform our union of signatures into an intersection of all signatures.</p>\n\n<p>Putting it all together we get: </p>\n\n<pre><code>interface Events {\n    scroll: (pos: Position, offset: Position) =&gt; void,\n    mouseMove: (pos: Position) =&gt; void,\n    mouseOther: (pos: string) =&gt; void,\n    done: () =&gt; void\n}\ntype UnionToIntersection&lt;U&gt; =\n    (U extends any ? (k: U) =&gt; void : never) extends ((k: infer I) =&gt; void) ? I : never;\n\ntype OnSignatures&lt;T&gt; = { [P in keyof T]: (event: P, listener: T[P]) =&gt; void }\ntype OnAll&lt;T&gt; = UnionToIntersection&lt;OnSignatures&lt;T&gt;[keyof T]&gt;\n\ntype IsValidArg&lt;T&gt; = T extends object ? keyof T extends never ? false : true : true;\n    // Works for up to 3 parameters, but you could add more as needed\ntype AddParameters&lt;T, P&gt; =\n    T extends (a: infer A, b: infer B, c: infer C) =&gt; infer R ? (\n        IsValidArg&lt;C&gt; extends true ? (event: P, a: A, b: B, c: C) =&gt; R :\n        IsValidArg&lt;B&gt; extends true ? (event: P, a: A, b: B) =&gt; R :\n        IsValidArg&lt;A&gt; extends true ? (event: P, a: A) =&gt; R :\n        (event: P) =&gt; R\n    ) : never;\n\ntype EmitSignatures&lt;T&gt; = { [P in keyof T]: AddParameters&lt;T[P], P&gt; };\n\ntype EmitAll&lt;T&gt; = UnionToIntersection&lt;EmitSignatures&lt;T&gt;[keyof T]&gt;\n\ninterface TypedEventEmitter&lt;T&gt; {\n    on: OnAll&lt;T&gt;\n    emit: EmitAll&lt;T&gt;\n}\n\ndeclare const myEventEmitter: TypedEventEmitter&lt;Events&gt;;\n\nmyEventEmitter.on('mouseMove', pos =&gt; { }); // pos is position \nmyEventEmitter.on('mouseOther', pos =&gt; { }); // pos is string\nmyEventEmitter.on('done', function () { });\n\nmyEventEmitter.emit('mouseMove', new Position());\n\nmyEventEmitter.emit('done');\n</code></pre>\n\n<p>Special thanks to @jcalz for a piece of the <a href=\"https://stackoverflow.com/questions/50374908/transform-union-type-to-intersection-type#50375286\">puzzle</a></p>\n\n<hr>\n\n<p><strong>Edit</strong>\nIf we already have a base class that has very general implementations of <code>on</code> and <code>emit</code> we need to do a bit of elbow twisting with the type system. </p>\n\n<pre><code>// Base class\nclass EventEmitter {\n    on(event: string | symbol, listener: (...args: any[]) =&gt; void): this { return this;}\n    emit(event: string | symbol, ...args: any[]): this { return this;}\n}\n\ninterface ITypedEventEmitter&lt;T&gt; {\n    on: OnAll&lt;T&gt;\n    emit: EmitAll&lt;T&gt;\n}\n// Optional derived class if we need it (if we have nothing to add we can just us EventEmitter directly \nclass TypedEventEmitterImpl extends EventEmitter  {\n}\n// Define the actual constructor, we need to use a type assertion to make the `EventEmitter` fit  in here \nconst TypedEventEmitter : { new &lt;T&gt;() : TypedEventEmitter&lt;T&gt; } =  TypedEventEmitterImpl as any;\n// Define the type for our emitter \ntype TypedEventEmitter&lt;T&gt; =  ITypedEventEmitter&lt;T&gt; &amp; EventEmitter // Order matters here, we want our overloads to be considered first\n\n// We can now build the class and use it as before\nconst myEventEmitter: TypedEventEmitter&lt;Events&gt; = new TypedEventEmitter&lt;Events&gt;();\n</code></pre>\n\n<p><strong>Edit for 3.0</strong></p>\n\n<p>Since the time of writing, typescript has improved it's ability to map functions. With <a href=\"https://github.com/Microsoft/TypeScript/pull/24897\" rel=\"nofollow noreferrer\">Tuples in rest parameters and spread expressions </a> we can replace the multiple overloads of <code>AddParameters</code> with a cleaner version (and IsValidArg is not required):</p>\n\n<pre><code>type AddParameters&lt;T, P&gt; =\n    T extends (...a: infer A) =&gt; infer R ? (event: P, ...a: A) =&gt; R : never;\n</code></pre>\n"}], "owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2173, "favorite_count": 1, "accepted_answer_id": 50375712, "answer_count": 1, "score": 4, "last_activity_date": 1537190440, "creation_date": 1526468938, "last_edit_date": 1526480396, "question_id": 50369299, "link": "https://stackoverflow.com/questions/50369299/can-i-reuse-the-parameter-definition-of-a-function-in-typescript", "title": "Can I reuse the parameter definition of a function in Typescript?", "body": "<p>I would like to capture the compile-time parameter structure of a function that I can reuse in multiple function definitions with similar signatures.  I think this might be along the lines of <a href=\"https://github.com/Microsoft/TypeScript/issues/4130\" rel=\"nofollow noreferrer\">this TS issue</a> or maybe more specifically <a href=\"https://github.com/Microsoft/TypeScript/issues/5331\" rel=\"nofollow noreferrer\">this one</a>, but I'm not sure my use case necessarily lines up with those proposals, so it <em>might</em> be possible to do this in current Typescript.  What I'm trying to do is this:</p>\n\n<pre><code>type FooArgs = ?{x: string, y: number}?; // syntax?\nclass MyEmitter extends EventEmitter {\n  on(event: \"foo\", (...args: ...FooArgs) =&gt; void): this;\n  emit(event: \"foo\", ...args: ...FooArgs): boolean;\n}\n</code></pre>\n\n<p>This might not be the smartest way to do it.  I would also be happy to learn about some other way to \"copy\" one method's argument list to another:</p>\n\n<pre><code>class MyEmitter extends EventEmitter {\n  emit(event: \"foo\", x: string, y: number): boolean;\n  on(event: \"foo\", (argumentsof(MyEmitter.emit)) =&gt; void): this;\n}\n</code></pre>\n\n<p>but I don't believe any such keyword / builtin exists.</p>\n\n<p>As an aside, I have tried an approach similar to the early examples in <a href=\"https://medium.com/@bterlson/strongly-typed-event-emitters-2c2345801de8\" rel=\"nofollow noreferrer\">this article</a> but even with all the complex type operations described later, that approach only allows for events that emit zero or one arguments.  I'm hoping that, for this limited use case, there might be a smarter way.</p>\n"}, {"tags": ["angular", "typescript", "ng-packagr"], "answers": [{"comments": [{"owner": {"reputation": 5505, "user_id": 4496505, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-zcyMm8egw6M/AAAAAAAAAAI/AAAAAAAAf1c/Y8Sqrj5Zaxo/photo.jpg?sz=128", "display_name": "Gaurav Mukherjee", "link": "https://stackoverflow.com/users/4496505/gaurav-mukherjee"}, "edited": false, "score": 0, "creation_date": 1532533969, "post_id": 51453450, "comment_id": 90015109, "body": "Can you add your script here? Would be helpful"}, {"owner": {"reputation": 509, "user_id": 6336963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c77009ce3c3ec8b621faa412936b0574?s=128&d=identicon&r=PG&f=1", "display_name": "K.Rice", "link": "https://stackoverflow.com/users/6336963/k-rice"}, "reply_to_user": {"reputation": 5505, "user_id": 4496505, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh6.googleusercontent.com/-zcyMm8egw6M/AAAAAAAAAAI/AAAAAAAAf1c/Y8Sqrj5Zaxo/photo.jpg?sz=128", "display_name": "Gaurav Mukherjee", "link": "https://stackoverflow.com/users/4496505/gaurav-mukherjee"}, "edited": false, "score": 1, "creation_date": 1533543299, "post_id": 51453450, "comment_id": 90367278, "body": "@GauravMukherjee sure, here it is"}], "tags": [], "owner": {"reputation": 509, "user_id": 6336963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c77009ce3c3ec8b621faa412936b0574?s=128&d=identicon&r=PG&f=1", "display_name": "K.Rice", "link": "https://stackoverflow.com/users/6336963/k-rice"}, "is_accepted": true, "score": 2, "last_activity_date": 1533543282, "last_edit_date": 1533543282, "creation_date": 1532154521, "answer_id": 51453450, "question_id": 50369248, "link": "https://stackoverflow.com/questions/50369248/include-json-file-in-ng-packagr-build/51453450#51453450", "title": "Include json file in ng-packagr build", "body": "<p>In the end I just wrote script to convert <code>json</code> file to <code>ts</code> file and added it to script command for packagr build in <code>package.json</code>.</p>\n\n<p><em>package.json</em></p>\n\n<pre><code>scripts: {\n \"packagr\": \"node ./scripts/update-component-lib-locale-json.js &amp;&amp; ng-packagr -p ng-package.json &amp;&amp; rm -rf lib/node_modules &amp;&amp; rm lib.tgz\"\n}\n</code></pre>\n\n<p><em>dcript file</em></p>\n\n<pre><code>#!/usr/bin/env node\n\nvar fs = require('fs');\nvar Mustache = require('mustache');\n\nvar locales = [\n  'en',\n];\n\n/**\n * Updates the component library's locale JSON with the shared locale JSON\n * of the parent project.\n * \n * NOTE: This has been implemented as a workaround for not being able to\n * dynamically load the shared locale JSON file in the component library's\n * `locale-&lt;locale&gt;.ts` file. This seems to be a limitation of `ng-packagr` and\n * could be resolved in future releases, or by someone smarter than me ;)\n * \n * @param {string} locale - A two-character locale string (e.g. 'en').\n */\nvar updateComponentLibLocaleJSON = function (locale) {\n  locale = locale.toLowerCase().trim();\n\n  // Location of the component locale definition file for this locale (required by `ng-packagr`).\n  var componentLibLocaleJSONPath = './src/components/locale-' + locale + '.ts';\n\n  // Location of the generic locale definition file Mustache template.\n  var componentLocaleJSONTemplatePath = './src/components/locale.ts.mustache';\n\n  // Location of the shared locale JSON file for this locale.\n  var sharedLocaleJSONPath = './src/assets/locale-' + locale + '.json';\n\n  // Read the shared JSON for this locale, render the Mustache template with\n  // that JSON and save the output to the component lib's locale JSON file for\n  // this locale.\n  var sharedLocaleJSON = fs.readFileSync(sharedLocaleJSONPath).toString();\n  var componentLocaleJSONTemplate = fs.readFileSync(componentLocaleJSONTemplatePath).toString();\n  var updatedComponentLocaleJSON =\n    Mustache.render(componentLocaleJSONTemplate, { localeJSON: sharedLocaleJSON });\n  fs.writeFileSync(componentLibLocaleJSONPath, updatedComponentLocaleJSON);\n};\n\nfor (var i = 0; i &lt; locales.length; i++) {\n  updateComponentLibLocaleJSON(locales[i]);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 5165691, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-25s8m_hilC0/AAAAAAAAAAI/AAAAAAAAKmA/sC7e4Hdt2V8/photo.jpg?sz=128", "display_name": "Thierry Bellevue", "link": "https://stackoverflow.com/users/5165691/thierry-bellevue"}, "is_accepted": false, "score": 0, "last_activity_date": 1535139501, "creation_date": 1535139501, "answer_id": 52010750, "question_id": 50369248, "link": "https://stackoverflow.com/questions/50369248/include-json-file-in-ng-packagr-build/52010750#52010750", "title": "Include json file in ng-packagr build", "body": "<p>Try replacing</p>\n\n<pre><code>import * as locale from '../../assets/locale-en.json';\n</code></pre>\n\n<p>with</p>\n\n<pre><code>const locale = require('../../assets/locale-en.json');\n</code></pre>\n\n<p>In your tsconfig.lib.json</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n   \"declaration\": false,\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 509, "user_id": 6336963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c77009ce3c3ec8b621faa412936b0574?s=128&d=identicon&r=PG&f=1", "display_name": "K.Rice", "link": "https://stackoverflow.com/users/6336963/k-rice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 2, "accepted_answer_id": 51453450, "answer_count": 2, "score": 2, "last_activity_date": 1535139501, "creation_date": 1526468752, "question_id": 50369248, "link": "https://stackoverflow.com/questions/50369248/include-json-file-in-ng-packagr-build", "title": "Include json file in ng-packagr build", "body": "<p>I want to import json file into my Angular 5 app and then build a lib. I can do the first part by including this code </p>\n\n<pre><code>declare module \"*.json\" {\n    const value: any;\n    export default value;\n}\n</code></pre>\n\n<p>to <code>typings.d.ts</code>, but when I try to build it it fails with error </p>\n\n<pre><code>Cannot find module '../../assets/locale-en.json'.\n</code></pre>\n\n<p>Any way to fix it?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4514, "user_id": 2640467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UJJQ.jpg?s=128&g=1", "display_name": "Luillyfe", "link": "https://stackoverflow.com/users/2640467/luillyfe"}, "edited": false, "score": 1, "creation_date": 1526469089, "post_id": 50369234, "comment_id": 87754577, "body": "the problem is that if you have &lt;img src=&quot;Front&quot;&gt; or &lt;img src]&quot;Back&quot;&gt;, both are not valid values for src property, they do not link to an img."}, {"owner": {"reputation": 475, "user_id": 2564406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1612127326/picture?type=large", "display_name": "Sebastien Servouze", "link": "https://stackoverflow.com/users/2564406/sebastien-servouze"}, "edited": false, "score": 0, "creation_date": 1526469097, "post_id": 50369234, "comment_id": 87754585, "body": "<code>&lt;img src=&quot;{{ imgPath }}&quot;&gt;</code> works perfectly fine for me. But Item in your case does not refer to your image path. It refers to the strings in your arrImages array. You should put imgs path in your array. Then you should make a custom pipe that allow you to extract only img name from image path and use <code>&lt;label&gt;{{Item | split:last}}</code>here is an example: <a href=\"https://stackoverflow.com/questions/36793717/angular2-split-string-pipe\" title=\"angular2 split string pipe\">stackoverflow.com/questions/36793717/angular2-split-string-p&zwnj;&#8203;ipe</a>. Another solution is to make a class with two attributes imgPath and imgName"}], "answers": [{"comments": [{"owner": {"reputation": 1482, "user_id": 9283107, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0f182f8610cbb706d041e00fc43a389b?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/9283107/frank"}, "edited": false, "score": 1, "creation_date": 1526471704, "post_id": 50370100, "comment_id": 87756296, "body": "Thank you for the extensive answer. It does solve the problem and your answer still taught me a lot. But yurzui&#39;s answer is definitely the easiest solution. Thanks though!"}, {"owner": {"reputation": 475, "user_id": 2564406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1612127326/picture?type=large", "display_name": "Sebastien Servouze", "link": "https://stackoverflow.com/users/2564406/sebastien-servouze"}, "reply_to_user": {"reputation": 1482, "user_id": 9283107, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0f182f8610cbb706d041e00fc43a389b?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/9283107/frank"}, "edited": false, "score": 1, "creation_date": 1526471790, "post_id": 50370100, "comment_id": 87756363, "body": "Ahah no problem, glad you solved it :). And I actually learned somthing too"}], "tags": [], "owner": {"reputation": 475, "user_id": 2564406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1612127326/picture?type=large", "display_name": "Sebastien Servouze", "link": "https://stackoverflow.com/users/2564406/sebastien-servouze"}, "is_accepted": false, "score": 2, "last_activity_date": 1526471154, "creation_date": 1526471154, "answer_id": 50370100, "question_id": 50369234, "link": "https://stackoverflow.com/questions/50369234/angular-understanding-property-binding/50370100#50370100", "title": "Angular Understanding Property Binding", "body": "<p>The problem is that <code>arrImages</code> contains only strings that are not correct images path.</p>\n\n<p>Two ways for dealing with this: </p>\n\n<hr>\n\n<p><strong>First way - Custom pipe</strong></p>\n\n<p>Change <code>arrImages</code> items to valid images path like:</p>\n\n<p><code>arrImages = ['Front.png', 'Back.png', etc...]</code>\n(you can remove your other variables)</p>\n\n<p>Then, make a custom pipe to extract image name from image path</p>\n\n<pre><code>@Pipe({\n  name: 'extractednamefromfilepath'\n})\n\nexport class ExtractNameFromFilePathPipe implements PipeTransform \n{\n  transform(val:string) : string \n  {\n    // Split full path into small chunks of path (img/image.png =&gt; ['img', 'image.png']\n    var splittedPath = value.split('/');\n\n    // Sub the 4 last char of the last splittedPath chunk ('image.png' =&gt; 'image')\n    return splittedPath[splittedPath.length - 1]\n          .substring(splittedPath[splittedPath.length - 1].length - 4);\n  }\n}\n</code></pre>\n\n<p>And use it this way</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let Item of arrImages\"&gt;\n    &lt;label&gt;{{Item | extractnamefromfilepath}}&lt;/label&gt;\n    &lt;img src=\"{{Item}}\"&gt;\n    &lt;button (click)=\"ChangeImage(Item)\"&gt;Change&lt;/button&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>In ChangeImage function, Item will now be the <strong>Path</strong> of the image, but you can extract the name from the path with a function similar to the pipe one.</p>\n\n<hr>\n\n<p><strong>Second way - Class</strong></p>\n\n<p>Make a class like</p>\n\n<pre><code>export class ImageHolder \n{\n    imgPath: string;\n    imgName: string;\n\n    constructor(imgPath: string)\n    {\n        this.imgPath = imgPath;\n        imgName = extractNameFromPath(imgPath);\n    }\n\n    extractNameFromPath(imgPath: string) : string\n    {\n        // Split full path into small chunks of path (img/image.png =&gt; ['img','image.png']\n        var splittedPath = value.split('/');\n\n        // Sub the 4 last char of the last splittedPath chunk ('image.png' =&gt; 'image')\n        return splittedPath[splittedPath.length - 1]\n              .substring(splittedPath[splittedPath.length - 1].length - 4);\n    }\n}\n</code></pre>\n\n<p>Then make your array like </p>\n\n<pre><code>arrImgs = [];\narrImgs.push(new ImageHolder('Front.png'), new ImageHolder('Back.png'), etc..);\n</code></pre>\n\n<p>And use it like</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let Item of arrImages\"&gt;\n    &lt;label&gt;{{Item.imgName}}&lt;/label&gt;\n    &lt;img src=\"{{Item.imgPath}}\"&gt;\n    &lt;button (click)=\"ChangeImage(Item.)\"&gt;Change&lt;/button&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>In ChangeImage function, item will now be an <strong>ImageHolder object</strong>.</p>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 1482, "user_id": 9283107, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0f182f8610cbb706d041e00fc43a389b?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/9283107/frank"}, "edited": false, "score": 0, "creation_date": 1526471738, "post_id": 50370277, "comment_id": 87756327, "body": "Super perfect solution!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 2, "last_activity_date": 1526471712, "creation_date": 1526471712, "answer_id": 50370277, "question_id": 50369234, "link": "https://stackoverflow.com/questions/50369234/angular-understanding-property-binding/50370277#50370277", "title": "Angular Understanding Property Binding", "body": "<p>You can use square brackets notation to pass correct binding:</p>\n\n<pre><code>&lt;img [src]=\"this[Item]\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 1482, "user_id": 9283107, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0f182f8610cbb706d041e00fc43a389b?s=128&d=identicon&r=PG&f=1", "display_name": "Frank", "link": "https://stackoverflow.com/users/9283107/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 50370277, "answer_count": 2, "score": 1, "last_activity_date": 1526471712, "creation_date": 1526468731, "question_id": 50369234, "link": "https://stackoverflow.com/questions/50369234/angular-understanding-property-binding", "title": "Angular Understanding Property Binding", "body": "<p>Say I have this in the ts file:</p>\n\n<pre><code>  arrImages = ['Front', 'Back', 'Left', 'Right'];\n  Front = \"...\";\n  Back = \"...\";\n  Left = \"...\";\n  Right = \"...\";\n  ChangeImage(pImageView) {\n      console.log(pImageView)\n  }\n</code></pre>\n\n<p>And this in the html file:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let Item of arrImages\"&gt;\n    &lt;label&gt;{{Item}}&lt;/label&gt;\n    &lt;img src=\"{{Item}}\"&gt;\n    &lt;button (click)=\"ChangeImage(Item)\"&gt;Change&lt;/button&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>The <strong>label</strong> comes out as <code>&lt;label&gt;Front&lt;/label&gt;</code> or <code>&lt;label&gt;Back&lt;/label&gt;</code> etc. Which is correct.</p>\n\n<p>The <strong>button</strong> comes out as <code>&lt;button (click)=\"ChangeImage('Front')\"&gt;Change&lt;/button&gt;</code> or <code>&lt;button (click)=\"ChangeImage('Back')\"&gt;Change&lt;/button&gt;</code> etc. Which is correct.</p>\n\n<p>But how do I get the <strong>img</strong> to come out as <code>&lt;img [src]=\"Front\"&gt;</code> or <code>&lt;img [src]=\"Back\"&gt;</code>?? Because I can't get the image src to link with the ts variables. I tried all of these:</p>\n\n<pre><code>&lt;img src=\"Item\"&gt;\n&lt;img src=\"{{Item}}\"&gt;\n&lt;img [src]=\"Item\"&gt;\n&lt;img [src]=\"'Item'\"&gt;\n&lt;img [src]=\"{{Item}}\"&gt;\n&lt;img [src]=\"'{{Item}}'\"&gt;\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular-material2"], "answers": [{"tags": [], "owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "is_accepted": false, "score": 0, "last_activity_date": 1526479562, "creation_date": 1526479562, "answer_id": 50373103, "question_id": 50368866, "link": "https://stackoverflow.com/questions/50368866/formcontrol-in-a-dynamic-forms-based-on-json-structure-error-cannot-create-p/50373103#50373103", "title": "FormControl in a dynamic forms based on JSON structure / Error : Cannot create property &#39;validator&#39; on string &#39;rubrique.formControl&#39;", "body": "<p>You are assigning the string <code>\"rubrique.formControl\"</code> to the property <code>formControl</code>:</p>\n\n<pre><code>&lt;mat-select [(ngModel)]=\"rubrique.valeur\" formControl=\"rubrique.formControl\"&gt;\n</code></pre>\n\n<p>You need to bind the <code>formControl</code> property to the FormControl object instead:</p>\n\n<pre><code>&lt;mat-select [(ngModel)]=\"rubrique.valeur\" [formControl]=\"rubrique.formControl\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3971436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e8ff1fbe9795fd239042730c32f533a?s=128&d=identicon&r=PG&f=1", "display_name": "Hicham Abdelkhalki", "link": "https://stackoverflow.com/users/3971436/hicham-abdelkhalki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526479562, "creation_date": 1526467633, "last_edit_date": 1526468495, "question_id": 50368866, "link": "https://stackoverflow.com/questions/50368866/formcontrol-in-a-dynamic-forms-based-on-json-structure-error-cannot-create-p", "title": "FormControl in a dynamic forms based on JSON structure / Error : Cannot create property &#39;validator&#39; on string &#39;rubrique.formControl&#39;", "body": "<p>I'm using a dynamic form based on a JSON structure. When I define <code>formControl</code> and try to call it from <code>mat-error</code>, I get an error. I use <code>formGroup</code> with <code>formControlName</code> but I didn't resolve it.</p>\n\n<p>JSON Structure: </p>\n\n<pre><code>{ \n  \"codeFormulaire\":\"DCR0\",\n  \"libelleFormulaire\":\"La demande de cr\u00e9dit\",\n  \"idDossier\": \"ID\",\n  \"sections\": [\n    {\n      \"codeSection\":\"ACT\",\n      \"libelleSection\": \"Activit\u00e9\",\n      \"sousSections\": [\n        {\n          \"codeSousSection\": \"AC1\",\n          \"libelleSousSection\": \"Activit\u00e9 par d\u00e9faut\",\n          \"lignes\": [\n            {\n              \"rubriques\": [\n                {\n                  \"codeRubrique\":\"OCTDCO06\",\n                  \"description\": \"CRR propos\u00e9\",\n                  \"typeRubrique\": \"liste\",\n                  \"valeur\": \"\",\n                  \"isRequired\": true,\n                  \"options\": [\n                       {\n                        \"valeur\":\"Volvo\",\n                        \"label\":\"voiture-volvo\",\n                        \"isSelected\": true\n                      }, \n                      {\n                        \"valeur\":\"A6\",\n                        \"label\":\"voiture-audi\",\n                        \"isSelected\": false\n                        }     \n                    ]\n                 },\n\n                {\n                  \"codeRubrique\":\"OCTDCO50\",\n                  \"description\": \"Date de cloture\",\n                  \"typeRubrique\": \"date\",\n                  \"valeur\": \"\",\n                  \"isRequired\": true\n                }\n\n              ]\n            }\n          ]\n        }\n</code></pre>\n\n<p>HTML CODE : </p>\n\n<pre><code>&lt;button mat-raised-button class=\"enregistrer-color\"&gt;Enregistrer&lt;/button&gt;\n&lt;button mat-raised-button class=\"valider-color\"&gt;Valider&lt;/button&gt;\n&lt;div *ngFor=\"let section of sections; let l = index\"&gt;\n  &lt;mat-toolbar color=\"accent\"&gt;\n    &lt;div color=\"primary\" class=\"section-title\"&gt;{{ section.libelleSection }}&lt;/div&gt;\n  &lt;/mat-toolbar&gt;\n  &lt;div *ngFor=\"let sousSection of section.sousSections; let k = index\"&gt;\n    &lt;mat-toolbar color=\"warn\" class=\"section-title\"&gt;{{ sousSection.libelleSousSection }}&lt;/mat-toolbar&gt;\n    &lt;div class=\"container\"&gt;\n      &lt;div *ngFor=\"let ligne of sousSection.lignes; let j = index\"&gt;\n        &lt;mat-grid-list cols=\"2\" rowHeight=\"75px\"&gt;\n          &lt;div *ngFor=\"let rubrique of ligne.rubriques; let i = index\"&gt;\n            &lt;div class=\"example-container\"&gt;\n              &lt;mat-grid-tile&gt;\n                &lt;div *ngIf=\"rubrique.typeRubrique === 'date'\"                    \n                &lt;/div&gt;\n                &lt;div *ngIf=\"rubrique.typeRubrique === 'liste'\"&gt;\n                  &lt;label&gt;{{ rubrique.description }} : &lt;/label&gt;\n                  &lt;mat-form-field&gt;\n                    &lt;mat-select [(ngModel)]=\"rubrique.valeur\"\n                                formControl=\"rubrique.formControl\"&gt;\n                      &lt;mat-option *ngFor=\"let option of rubrique.options\" [value]=\"option.label\"&gt;\n                        {{option.valeur}}\n                      &lt;/mat-option&gt;\n                    &lt;/mat-select&gt;\n                    &lt;mat-error *ngIf=\"rubrique.formControl.erros.required\"&gt;\n                      Ce champs est &lt;strong&gt;obligatoire !&lt;/strong&gt;\n                    &lt;/mat-error&gt;\n                  &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>TypeScript Code : this the function to get the Form ( JSON structure ) and after that i use this loops to initilize each formControl but i have this erros and when i debug i cannot acces to this loops / erros : Cannot create property 'validator' on string 'rubrique.formControl'</p>\n\n<pre><code>for (let i = 0; i &lt; this.sections.lenght; i++) {\n      this.controls[i] = new Array();\n      for (let j = 0; j &lt; this.sections.sousSections.lenght; j++) {\n        this.controls[i][j] = new Array();\n        for (let k = 0; k &lt; this.sections.sousSections.lignes.lenght; k++) {\n          this.controls[i][j][k] = new Array();\n          for (let l = 0; l &lt; this.sections.sousSections.lignes.rubriques.lenght; l++) {\n            if (this.sections.sousSections.lignes.rubriques[l].isRequired) {\n              rubrique.formControl = new FormControl('', Validators.required);\n              this.form.addControl(rubrique.formControl);\n            }\n          }\n        }\n</code></pre>\n\n<p>To create an array with 4 dimensions I define in each loop a new Array().</p>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "angularfire2"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9799507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60fd7569022095a60b1ed685990ca006?s=128&d=identicon&r=PG&f=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/9799507/zoe"}, "edited": false, "score": 0, "creation_date": 1526467844, "post_id": 50368832, "comment_id": 87753762, "body": "Hello. Thank you for helping. I made the changes but now get the following errors instead: (see answer below because of limited space)"}], "tags": [], "owner": {"reputation": 3535, "user_id": 3884264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eDJFA.jpg?s=128&g=1", "display_name": "CornelC", "link": "https://stackoverflow.com/users/3884264/cornelc"}, "is_accepted": false, "score": 1, "last_activity_date": 1526467541, "creation_date": 1526467541, "answer_id": 50368832, "question_id": 50368638, "link": "https://stackoverflow.com/questions/50368638/angularfire2-issues-with-observable/50368832#50368832", "title": "AngularFire2: Issues with Observable", "body": "<p>You are getting the error because you are using <code>Array.map</code> and not rxjs map. You have to use the new syntax with <code>pipe</code></p>\n\n<pre><code>canActivate(): Observable&lt;boolean&gt; {\n  return this.auth.user$.pipe(\n    switchMap(user =&gt; this.userService.get(user.uid))\n    .pipe(\n      map(appUser =&gt; appUser.isAdmin)\n    )\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4807496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef7c5ef3a264e23e9036abb0a557f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user4807496", "link": "https://stackoverflow.com/users/4807496/user4807496"}, "is_accepted": false, "score": 2, "last_activity_date": 1539024455, "creation_date": 1539024455, "answer_id": 52708387, "question_id": 50368638, "link": "https://stackoverflow.com/questions/50368638/angularfire2-issues-with-observable/52708387#52708387", "title": "AngularFire2: Issues with Observable", "body": "<p>I found answer here \n<a href=\"https://stackoverflow.com/questions/52473504/working-with-angularfireobject-and-switchmap/52483642#52483642\">Working with AngularFireObject and switchMap</a></p>\n\n<pre><code>canActivate(): Observable&lt;boolean&gt;{\n    return this.auth.user$\n    .pipe(switchMap(user =&gt; this.userService.get(user.uid).valueChanges()))\n    .pipe(map (appUser =&gt; appUser.isAdmin));    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9799507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60fd7569022095a60b1ed685990ca006?s=128&d=identicon&r=PG&f=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/9799507/zoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 682, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1539024455, "creation_date": 1526467056, "question_id": 50368638, "link": "https://stackoverflow.com/questions/50368638/angularfire2-issues-with-observable", "title": "AngularFire2: Issues with Observable", "body": "<p>I am trying to guard URLs based on whether the user has the status admin (isAdmin = true). The service AdminAuthGuard checks whether the user has such admin status by calling the get(uid) function in the service UserService. This get function calls the AppUser interface that outlines the relevant fields.</p>\n\n<p>The data are retrieved from a Firebase database using AngularFire 2. See below for version details.</p>\n\n<p>The errors that I'm getting are:</p>\n\n<pre><code>ERROR in src/app/admin-auth-guard.service.ts(21,17): error TS2345: Argument of type '(user: {}) =&gt; AngularFireObject&lt;AppUser&gt;' is not assignable to parameter of type '(value: {}, index: number) =&gt; ObservableInput&lt;{}&gt;'.\n  Type 'AngularFireObject&lt;AppUser&gt;' is not assignable to type 'ObservableInput&lt;{}&gt;'.\n    Type 'AngularFireObject&lt;AppUser&gt;' is not assignable to type 'Iterable&lt;{}&gt;'.\n      Property '[Symbol.iterator]' is missing in type 'AngularFireObject&lt;AppUser&gt;'.\nsrc/app/admin-auth-guard.service.ts(21,51): error TS2339: Property 'uid' does not exist on type '{}'.\n</code></pre>\n\n<p>The line that the errors seem the refer to is:</p>\n\n<pre><code>switchMap(user =&gt; this.userService.get(user.uid))\n</code></pre>\n\n<p>My system setup:</p>\n\n<pre><code>Angular CLI: 6.0.1\nNode: 10.1.0\nrxjs: 6.1.0\nFirebase: 5.0.2\nAngularFire2: 5.0.0-rc.8.0\n</code></pre>\n\n<p><strong>admin-auth-guard.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { CanActivate } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport { AuthService } from './auth.service';\nimport { UserService } from './user.service';\nimport { AppUser } from './models/app-user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminAuthGuard implements CanActivate {\n\n  constructor(private userService: UserService, private auth: AuthService) { }\n\n  canActivate(): Observable&lt;boolean&gt; {\n    return this.auth.user$.pipe(\n      switchMap(user =&gt; this.userService.get(user.uid))\n      .map(appUser =&gt; appUser.isAdmin)\n    );\n  }\n}\n</code></pre>\n\n<p><strong>user.service.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { AngularFireDatabase, AngularFireObject } from 'angularfire2/database';\nimport * as firebase from 'firebase';\nimport { AppUser } from './models/app-user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n\n  constructor(private db: AngularFireDatabase) { }\n\n  get(uid: string): AngularFireObject&lt;AppUser&gt; {\n    return this.db.object('/users/' + uid);\n  }\n}\n</code></pre>\n\n<p><strong>app-user.ts (model for users)</strong></p>\n\n<pre><code>export interface AppUser {\n  name: string;\n  email: string;\n  isActive: boolean;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "checkbox", "angular-material"], "comments": [{"owner": {"reputation": 900, "user_id": 4412336, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/38c00d9c7853f61b30d84a670b2b54f4?s=128&d=identicon&r=PG&f=1", "display_name": "pankaj", "link": "https://stackoverflow.com/users/4412336/pankaj"}, "edited": false, "score": 0, "creation_date": 1526468619, "post_id": 50368633, "comment_id": 87754268, "body": "ngrx which is redux philopshy"}], "answers": [{"tags": [], "owner": {"reputation": 11251, "user_id": 9558399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFQOg.jpg?s=128&g=1", "display_name": "bugs", "link": "https://stackoverflow.com/users/9558399/bugs"}, "is_accepted": false, "score": 0, "last_activity_date": 1526468372, "creation_date": 1526468372, "answer_id": 50369104, "question_id": 50368633, "link": "https://stackoverflow.com/questions/50368633/how-to-use-mat-checkbox-to-go-in-another-component/50369104#50369104", "title": "how to use mat-checkbox to go in another component", "body": "<p>When you navigate to the new component, the first one (which has the checkboxes) is destroyed, so the state is lost.</p>\n\n<p>A possible solution is to use a central state manager (I.e. <a href=\"https://github.com/angular-redux/store\" rel=\"nofollow noreferrer\">redux</a>) so that you can store the state of your checkbox even after you navigate away from the component.</p>\n\n<p>A more lightweight solution is to create a service that stores the state just for that component.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9699663"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526468372, "creation_date": 1526467036, "question_id": 50368633, "link": "https://stackoverflow.com/questions/50368633/how-to-use-mat-checkbox-to-go-in-another-component", "title": "how to use mat-checkbox to go in another component", "body": "<p>I want to use mat-checkbox in my project for to go in another component. Now the problem is, when I click mat-checkbox this not stay checked, only go in another page.</p>\n\n<p>I tried this code.</p>\n\n<p>Component 1.</p>\n\n<p>html code:</p>\n\n<pre><code>  &lt;div class=\"row col s12\"&gt;\n    &lt;div class=\"input-field col s1\"&gt;\n      &lt;p&gt;Sort:&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"input-field col s2\"&gt;\n      &lt;mat-checkbox class=\"example-margin\" (click)=\"getallevents()\"&gt;Get all events:&lt;/mat-checkbox&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;hr&gt;\n  &lt;div ngFor=\"let item of events\"&gt;\n     {{item.id}}\n     {{item.name}}\n  &lt;/div&gt;\n</code></pre>\n\n<p>Ts Code:</p>\n\n<pre><code> ngOnInit() {\n    this.events= this.service.getData();\n  }\n  public getallevents() {\n    this.router.navigate(['/main/all_events_acted0/']);\n  }\n</code></pre>\n\n<p>Component2:</p>\n\n<p>html code:</p>\n\n<pre><code>  &lt;div class=\"row col s12\"&gt;\n    &lt;div class=\"input-field col s1\"&gt;\n      &lt;p&gt;Sort:&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;div class=\"input-field col s2\"&gt;\n        &lt;mat-checkbox class=\"example-margin\" (click)=\"getallevents0()\"&gt;Get All events by 0:&lt;/mat-checkbox&gt;\n      &lt;/div&gt;\n\n  &lt;/div&gt;\n&lt;hr&gt;\n  &lt;div ngFor=\"let item of getalleventsby0\"&gt;\n     {{item.id_events}}\n     {{item.name_events}}\n     {{item.type_events}}\n  &lt;/div&gt;\n</code></pre>\n\n<p>Ts code:</p>\n\n<pre><code> ngOnInit() {\n    this.getalleventsby0= this.service.getData();\n  }\n  public getallevents0() {\n    this.router.navigate(['/main/getallevents0/']);\n  }\n</code></pre>\n\n<p>When I click checkbox I want to go in another component, also I want to stay checked this checkbox. Please any idea?</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1526464802, "post_id": 50367793, "comment_id": 87751771, "body": "The stream&#39;s value in the error case isn&#39;t a <code>Page[]</code>, so your function&#39;s return type is inaccurate. How to fix that depends on the behaviour you want: you need to change either the signature or the error handling."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1526465155, "post_id": 50367793, "comment_id": 87751996, "body": "Given that all you do when you catch the error is throw it again, why don&#39;t you just leave that part out entirely?"}, {"owner": {"reputation": 407, "user_id": 9663682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGvo.png?s=128&g=1", "display_name": "Santa Cloud", "link": "https://stackoverflow.com/users/9663682/santa-cloud"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1526465364, "post_id": 50367793, "comment_id": 87752148, "body": "@jonrsharpe first of all, thanks you very much for your explaination and for your fast answer! By now, I haven&#39;t a real behavior need for the error catching (to give you an example, a simple console.log could be also fine for this). What do you mean with &quot;leave that part out entirely&quot; exactly? Should I delete all of the catchError management code?"}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1526470794, "post_id": 50367793, "comment_id": 87755690, "body": "Related: <a href=\"https://stackoverflow.com/a/50246811/6680611\">stackoverflow.com/a/50246811/6680611</a>"}, {"owner": {"reputation": 407, "user_id": 9663682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGvo.png?s=128&g=1", "display_name": "Santa Cloud", "link": "https://stackoverflow.com/users/9663682/santa-cloud"}, "edited": false, "score": 0, "creation_date": 1526474381, "post_id": 50367793, "comment_id": 87758184, "body": "I gladly report that <b>both cartant&#39;s and jonrsharpe&#39;s solutions are working</b>, thank you guys! Also using a custom error Handling function that I&#39;ve made works. In this function, I log the error and then explicitly return an empty result. I found it on <a href=\"https://stackoverflow.com/questions/48041698/angular-ts-error-ts1109?rq=1\">mayorsanmayor&#39;s answer on this question</a> that I&#39;ve found in the past for a previous problem. I consider this problem solved and fixed as well now!"}], "owner": {"reputation": 407, "user_id": 9663682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNGvo.png?s=128&g=1", "display_name": "Santa Cloud", "link": "https://stackoverflow.com/users/9663682/santa-cloud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526464816, "creation_date": 1526464673, "last_edit_date": 1526464816, "question_id": 50367793, "link": "https://stackoverflow.com/questions/50367793/observableobject-is-not-assignable-to-type-observableobject-angula", "title": "&#39;Observable&lt;{}|Object[]&#39; is not assignable to type &#39;Observable&lt;Object[]&gt;&#39; Angular Typescript Error", "body": "<p>I'm facing the following syntax error: <code>'Observable&lt;{}|Page[]' is not assignable to type 'Observable&lt;Page[]&gt;' Angular Typescript Error</code> with the following service method:</p>\n\n<pre><code>  getAuthRoutes(): Observable&lt;Page[]&gt; {\n    let headers = new HttpHeaders().set('Authorization', 'Bearer ' + sessionStorage.getItem('token'));\n    return this.http.post&lt;Page[]&gt;(this.Url + '/AuthRoutes', null, { headers })\n      .pipe(\n      tap(objects =&gt; console.log(\"Authorizated routes, OK!\", objects)),\n        catchError(error =&gt; throwError(error))\n      );\n  }\n</code></pre>\n\n<p>The strange thing of all this is that the code above works fine if I launch debug of the app (I can launch it because the error appears a little bit after compiling).</p>\n\n<p>The error seems to be related to the <code>catchError(error =&gt; throwError(error))</code> part of the method, which uses rxjs's <code>throwError</code> function to throw an error observable in case of error.</p>\n\n<p>Does anyone know how to fix that? Is there any improvement that I can do on my code in order to fix this?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "gruntjs", "grunt-ts"], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "edited": false, "score": 0, "creation_date": 1526465212, "post_id": 50367841, "comment_id": 87752045, "body": "I tried this already but for some reason Grunt doesn&#39;t seem to respect my <code>tsconfig.json</code> file. If I use a <code>tsconfig.json</code> file and add it in my Grunt configuration it doesn&#39;t do anything. I used the following grunt config: <code>module.exports = function(grunt) {   grunt.config.set(&#39;ts&#39;, {     dev: {        default : {         tsconfig: &#39;.&#47;tsconfig.json&#39;       },       files: [         {           src: [&#39;**&#47;*.ts&#39;],           dest: &#39;build&#47;&#39;         }       ],     }   });    grunt.loadNpmTasks(&#39;grunt-ts&#39;); };</code>"}, {"owner": {"reputation": 26, "user_id": 9781016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t368V.jpg?s=128&g=1", "display_name": "Daanist", "link": "https://stackoverflow.com/users/9781016/daanist"}, "reply_to_user": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "edited": false, "score": 0, "creation_date": 1526465784, "post_id": 50367841, "comment_id": 87752399, "body": "Try adding <code>[&#39;**&#47;*.ts&#39; , &quot;!node_modules&#47;**&quot;]</code> to the src. It should exclude the node_modules directory. I am not sure why your Grunt setup is not respecting your tsconfig.json. Did you try the minimalist setup I mentioned? Just using a tsconfig.json is a best practice as pointed out on the grunt-ts github page."}, {"owner": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "edited": false, "score": 0, "creation_date": 1526466380, "post_id": 50367841, "comment_id": 87752798, "body": "I tried that, when I do this the node_modules wont get generated. But if I do this, the build folder structure gets all flattened out. So all my Javascript files are in the same folder. And I need the folder structure of the build directory to be the same as the src directory&#39;s"}, {"owner": {"reputation": 26, "user_id": 9781016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t368V.jpg?s=128&g=1", "display_name": "Daanist", "link": "https://stackoverflow.com/users/9781016/daanist"}, "reply_to_user": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "edited": false, "score": 0, "creation_date": 1526470255, "post_id": 50367841, "comment_id": 87755286, "body": "Not sure about your exact setup en config. What happens when you specify <code>src</code> as follows: <code>[&quot;src&#47;**&#47;*.ts&quot;]</code>? Will it keep the folder structure in the outDir? And maybe you need to set <code>rootDir: &quot;.&quot;</code> to your options?"}], "tags": [], "owner": {"reputation": 26, "user_id": 9781016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t368V.jpg?s=128&g=1", "display_name": "Daanist", "link": "https://stackoverflow.com/users/9781016/daanist"}, "is_accepted": false, "score": 0, "last_activity_date": 1526471932, "last_edit_date": 1526471932, "creation_date": 1526464795, "answer_id": 50367841, "question_id": 50367362, "link": "https://stackoverflow.com/questions/50367362/grunt-generates-new-node-modules/50367841#50367841", "title": "Grunt generates new node_modules", "body": "<p>Do you have a tsconfig.json setup in your project? </p>\n\n<p>Probably you need to exclude the <strong>node_modules</strong> directory there (see documentation: <a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a>).</p>\n\n<p>You can then use the tsconfig.json in your grunt config (see <em>getting started</em> section: <a href=\"https://github.com/TypeStrong/grunt-ts\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/grunt-ts</a>).</p>\n\n<pre><code>module.exports = function(grunt) { \n  grunt.initConfig({\n    ts: {\n      default : {\n        tsconfig: './tsconfig.json'\n      }\n  }}); \n  grunt.loadNpmTasks(\"grunt-ts\");\n  grunt.registerTask(\"default\", [\"ts\"]);\n};\n</code></pre>\n\n<p>With a corresponding tsconfig.json file like: </p>\n\n<pre><code>{\n\"include\": [\n    \"src/**/*.ts*\"\n],\n\"exclude\": [\n    \"node_modules\"\n],\n\"compilerOptions\": {\n    \"target\": \"ES5\",\n    \"fast\": \"watch,\n    \"sourceMap\": false,\n    \"module\": \"system\",\n    \"removeComments\": true,\n    \"outDir\": \"build/\",\n    \"rootDir\" \".\",\n...\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Note:</strong> Using a tsconfig.json is the best way to use TypeScript. </p>\n\n<p>Hope this helps?</p>\n"}, {"comments": [{"owner": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "edited": false, "score": 0, "creation_date": 1526480276, "post_id": 50371794, "comment_id": 87762757, "body": "This is exactly what I needed! Thank you! 1 thing I did notice is that Grunt only restructures the folder structure in the build directory when there are multiple Typescript file. And because I was only testing with 1 file it didn&#39;t create the maps in the build directory. Thanks for your help :)"}], "tags": [], "owner": {"reputation": 16566, "user_id": 1611459, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/906a127a2ba621cc3a537acca3c1037d?s=128&d=identicon&r=PG", "display_name": "RobC", "link": "https://stackoverflow.com/users/1611459/robc"}, "is_accepted": true, "score": 1, "last_activity_date": 1526475979, "creation_date": 1526475979, "answer_id": 50371794, "question_id": 50367362, "link": "https://stackoverflow.com/questions/50367362/grunt-generates-new-node-modules/50371794#50371794", "title": "Grunt generates new node_modules", "body": "<p>The following configuration should meet your requirement. It will ignore the <code>node_modules</code> directory and reproduce the same source directory structure, (as found in <code>src/</code>), in the resultant <code>build</code> directory:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = function(grunt) {\n\n  grunt.config.set('ts', {\n    dev: {\n      options: {\n        rootDir: 'src/',\n        target: 'es5',\n        fast: 'watch',\n        comments: false,\n        sourceMap: false,\n        failOnTypeErrors: true,\n        module: 'system',\n        moduleResolution: 'classic'\n      },\n      src: 'src/**/*.ts',\n      dest: 'build/'\n    }\n  });\n\n  grunt.loadNpmTasks('grunt-ts');\n};\n</code></pre>\n\n<p><strong>Notes:</strong></p>\n\n<ul>\n<li><p>The <code>rootDir</code> property was added to the <code>options</code> object and it's value set to <code>'src/'</code>.</p></li>\n<li><p>Both <code>flatten: false</code> and <code>expand: true</code> have been removed from the <code>options</code> object.</p></li>\n<li><p>The <code>files</code> property has been replaced with <code>src</code> and <code>dest</code> properties with their values set to <code>src/**/*.ts</code> and <code>build/</code> respectively.</p></li>\n</ul>\n\n<p><strong>Example of resultant directory structure:</strong></p>\n\n<p>The following directory structure:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 another-folder\n\u2502   \u2502   \u2514\u2500\u2500 quux.ts\n\u2502   \u251c\u2500\u2500 controllers\n\u2502   \u2502   \u2514\u2500\u2500 myController.ts\n\u2502   \u2514\u2500\u2500 foo.ts\n\u251c\u2500\u2500 Gruntfile.js\n\u251c\u2500\u2500 node_modules\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n</code></pre>\n\n<p>Will result as follows after running <code>$ grunt ts</code>:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>.\n\u251c\u2500\u2500 build\n\u2502   \u251c\u2500\u2500 another-folder\n\u2502   \u2502   \u2514\u2500\u2500 quux.js\n\u2502   \u251c\u2500\u2500 controllers\n\u2502   \u2502   \u2514\u2500\u2500 myController.js\n\u2502   \u2514\u2500\u2500 foo.js\n\u251c\u2500\u2500 src\n\u2502   \u251c\u2500\u2500 another-folder\n\u2502   \u2502   \u2514\u2500\u2500 quux.ts\n\u2502   \u251c\u2500\u2500 controllers\n\u2502   \u2502   \u2514\u2500\u2500 myController.ts\n\u2502   \u2514\u2500\u2500 foo.ts\n\u251c\u2500\u2500 Gruntfile.js\n\u251c\u2500\u2500 node_modules\n\u2502   \u2514\u2500\u2500 ...\n\u2514\u2500\u2500 ...\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 9529781, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bob van &#39;t Padje", "link": "https://stackoverflow.com/users/9529781/bob-van-t-padje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 50371794, "answer_count": 2, "score": 0, "last_activity_date": 1526475979, "creation_date": 1526463581, "last_edit_date": 1526464103, "question_id": 50367362, "link": "https://stackoverflow.com/questions/50367362/grunt-generates-new-node-modules", "title": "Grunt generates new node_modules", "body": "<p>I'm creating a grunt config to compile all my Typescript files to Javascript. I want to save all my generated Javascript files in a build folder but also keep the same folder structure. </p>\n\n<p>Example:\n<code>src/controllers/myController.ts</code> will compile to: <code>build/controllers/myController.js</code></p>\n\n<p>I created a grunt config which does this exact thing but for some reasons it also generates a node_modules folder in the build directory and this takes a lot of time. My grunt config looks as followed: </p>\n\n<pre><code>    module.exports = function(grunt) {\n      grunt.config.set('ts', {\n        dev: {\n          files: [\n           {\n            src: ['**/*.ts'],\n            dest: 'build/'\n            }\n          ],\n          options: {\n            target: 'es5',\n            fast: 'watch',\n            comments: false,\n            sourceMap: false,\n            failOnTypeErrors: true,\n            flatten: false,\n            expand: true,\n            module: 'system',\n            moduleResolution: 'classic'\n          }\n        }\n      });\n\n      grunt.loadNpmTasks('grunt-ts');\n    };\n</code></pre>\n\n<p>Is there any way to disable the node_modules generation process? Because I don't think i need them and it makes the compiling process incredibly slow. </p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526463712, "post_id": 50366989, "comment_id": 87750959, "body": "I think the key is in the comment, &quot;add a tuple-like constraint &quot;. If the compiler sees the tuple constraint it will go into inferring tuples for array literals. Now obviously the tuples will not satisfy <code>[void]</code>, but since <code>T</code> can be <code>[void] | {}</code>  the tuples will satisfy <code>{}</code> but the <code>[void]</code> part put the compiler in the &#39;mood&#39; to infer tuples. An interesting note is that this function will allow ANY object as an argument not just a tuple ! <code>tuple3({ test : &#39;ss&#39;});</code> works just fine. I would use a more conventional solution with multiple overloads.."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1526463966, "post_id": 50366989, "comment_id": 87751107, "body": "While not pretty this would be the overload solution: <a href=\"https://stackoverflow.com/questions/49729550/implicitly-create-a-tuple-in-typescript/49730427#49730427\" title=\"implicitly create a tuple in typescript\">stackoverflow.com/questions/49729550/&hellip;</a>"}], "owner": {"reputation": 520, "user_id": 2477364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NheEk.png?s=128&g=1", "display_name": "Neonit", "link": "https://stackoverflow.com/users/2477364/neonit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526462612, "creation_date": 1526462612, "question_id": 50366989, "link": "https://stackoverflow.com/questions/50366989/why-does-typescript-tuple-type-inference-work-like-this", "title": "Why does Typescript Tuple Type Inference work like this?", "body": "<p>I was in need of proper tuple type inference in Typescript and stumbled upon <a href=\"https://github.com/Microsoft/TypeScript/issues/6310#issuecomment-168365222\" rel=\"nofollow noreferrer\">a magic solution for my problem in the official Typescript GitHub</a>.</p>\n\n<p>In the following snippet, <code>tuple3</code> is obviously the proposed solution. I have added some variations not leading to the expected result.</p>\n\n<p>My question is: <strong>Why</strong> does <code>tuple3</code> work like it does? I imagine union types working like an exclusive selection. Check, if the first type in the union fits, if so, use it, otherwise proceed to the next one. Following this rule, I would expect the compiler to find that (for <code>tuple3</code>) <code>[void]</code> doesn't fit the given argument for inference, so it uses <code>{}</code> as type, leading to the same result as <code>tuple4</code>. But apparently the types in the union (<code>[void] | {}</code>) are connected somehow? Is this a feature or a bug? Is it documented somewhere?</p>\n\n<pre class=\"lang-typescript prettyprint-override\"><code>function tuple1&lt;TupleT&gt;(tuple: TupleT): TupleT\n{ return tuple; }\n\ntuple1([42, 'foo', true]); // type: (string | number | boolean)[]\n\n\nfunction tuple2&lt;TupleT extends [void]&gt;(tuple: TupleT): TupleT\n{ return tuple; }\n\ntuple2([42, 'foo', true]); // error: [number, string, boolean] not assignable to [void]\n\n\nfunction tuple3&lt;TupleT extends [void] | {}&gt;(tuple: TupleT): TupleT\n{ return tuple; }\n\ntuple3([42, 'foo', true]); // type: [number, string, boolean]\n\n\nfunction tuple4&lt;TupleT extends {}&gt;(tuple: TupleT): TupleT\n{ return tuple; }\n\ntuple4([42, 'foo', true]); // type: (string | number | boolean)[]\n\n\nfunction tuple5&lt;TupleT extends [any]&gt;(tuple: TupleT): TupleT\n{ return tuple; }\n\ntuple5([42, 'foo', true]); // error: [number, string, boolean] not assignable to [any]\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 3, "creation_date": 1526462570, "post_id": 50366939, "comment_id": 87750142, "body": "can you do so in a &quot;normal&quot; function?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1526462573, "post_id": 50366939, "comment_id": 87750143, "body": "please add an example of what you like to do and what you like to get."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1526462645, "post_id": 50366939, "comment_id": 87750191, "body": "@NinaScholz - I think it wants some notation where a function is conditionally executed without an <code>if</code> or similar statement"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1526462734, "post_id": 50366939, "comment_id": 87750260, "body": "why &quot;not null&quot; ... because <code>data</code> will be falsey if it is <code>undefined</code> or <code>0</code> or <code>&#39;&#39;</code> or <code>false</code> ...  your requirement of <code>not null</code> is quite specific - anyway, what&#39;s wrong with <code>if (data === null) return;</code> as the very first statement in the function?"}, {"owner": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1526462799, "post_id": 50366939, "comment_id": 87750315, "body": "<a href=\"https://stackoverflow.com/questions/9906009/call-a-function-only-if-a-value-is-neither-null-nor-undefined\">There is no way, use a normal function</a>."}, {"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 1, "creation_date": 1526462834, "post_id": 50366939, "comment_id": 87750349, "body": "So <code>functionName</code> is a function that takes another function as an argument. In that case, the function <code>functionName</code> could just implement logic to not call the argument function if <code>data</code> is null or undefined. It would be a lot easier to answer this question if you&#39;d include a decent example though."}, {"owner": {"reputation": 589, "user_id": 9784141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f92c9c80dcba291d57225acd7d4189?s=128&d=identicon&r=PG&f=1", "display_name": "arkade", "link": "https://stackoverflow.com/users/9784141/arkade"}, "edited": false, "score": 1, "creation_date": 1526462848, "post_id": 50366939, "comment_id": 87750361, "body": "No there is nothing wrong with the if statement , am just curious if there is a short hand , but yeah basically like you say <code>falsey</code> not <code>not null</code> specific"}, {"owner": {"reputation": 589, "user_id": 9784141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f92c9c80dcba291d57225acd7d4189?s=128&d=identicon&r=PG&f=1", "display_name": "arkade", "link": "https://stackoverflow.com/users/9784141/arkade"}, "reply_to_user": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 0, "creation_date": 1526463282, "post_id": 50366939, "comment_id": 87750686, "body": "@RobbyCornelissen Yeah that makes sense, the component i am working with is an alert box , i am hitting the onDidDismiss of the alert which is triggered is the user clicks outside of the alert but also if the user clicks an option in the alert, so i just need to handle for both cases"}, {"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1526463389, "post_id": 50366939, "comment_id": 87750765, "body": "Please share your implementation of <code>functionName</code>. That&#39;s probably the best place for any <code>null</code> or <b>falsey</b> checks."}, {"owner": {"reputation": 589, "user_id": 9784141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f92c9c80dcba291d57225acd7d4189?s=128&d=identicon&r=PG&f=1", "display_name": "arkade", "link": "https://stackoverflow.com/users/9784141/arkade"}, "reply_to_user": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1526463709, "post_id": 50366939, "comment_id": 87750956, "body": "@JeffreyWesterkamp well it is <code>handler: data =&gt; { alert.dismiss(data); }</code> but it is also triggered in the component itself, I guess im taking a shortcut because the correct implementation is to use buttons in the alert. Its not a huge issue, i just keep stumbling on typescript shortcuts, so was just wondering if something like this existed"}, {"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1526463929, "post_id": 50366939, "comment_id": 87751079, "body": "Okay, the shortest way would be to <i>short circuit</i> the <code>alert.dismiss</code> expression: <code>handler: (data) =&gt; { data &amp;&amp; alert.dismiss(data) }</code>. This will not call <code>alert.dismiss</code> if <code>data</code> is falsey. Any call to <code>handler</code> would still execute though."}], "answers": [{"tags": [], "owner": {"reputation": 2964, "user_id": 7134134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fzCCW.jpg?s=128&g=1", "display_name": "snnsnn", "link": "https://stackoverflow.com/users/7134134/snnsnn"}, "is_accepted": true, "score": 0, "last_activity_date": 1526463922, "creation_date": 1526463922, "answer_id": 50367495, "question_id": 50366939, "link": "https://stackoverflow.com/questions/50366939/fat-arrow-conditional-in-mapping/50367495#50367495", "title": "Fat arrow conditional in mapping", "body": "<p>Basically what you are doing with is calling functionName() with an anonymous arrow function as a parameter. Also the arrow function takes one parameter named data. </p>\n\n<p>So when you check data?, it means you are already called functionName with an anonymous arrow function as a parameter. So basically, I don't think you can do what you asked for.</p>\n"}, {"comments": [{"owner": {"reputation": 589, "user_id": 9784141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f92c9c80dcba291d57225acd7d4189?s=128&d=identicon&r=PG&f=1", "display_name": "arkade", "link": "https://stackoverflow.com/users/9784141/arkade"}, "edited": false, "score": 0, "creation_date": 1526479322, "post_id": 50367750, "comment_id": 87761936, "body": "Its because the function can be triggered outside my code ( in the component ) I mean i can do a check before but it would only work with the actions on specific user actions ... I would miss one action from the user if they click outside the alert. Its not a issue really was just wondering if typescript or es had a shortcut for this, there seems to be a lot of helpful shortcuts ... so was wondering"}], "tags": [], "owner": {"reputation": 1691, "user_id": 1852300, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QBGyQ.jpg?s=128&g=1", "display_name": "Sakata Gintoki", "link": "https://stackoverflow.com/users/1852300/sakata-gintoki"}, "is_accepted": false, "score": 1, "last_activity_date": 1526464960, "last_edit_date": 1526464960, "creation_date": 1526464583, "answer_id": 50367750, "question_id": 50366939, "link": "https://stackoverflow.com/questions/50366939/fat-arrow-conditional-in-mapping/50367750#50367750", "title": "Fat arrow conditional in mapping", "body": "<p>Why don't you check the <code>data</code> before you run the function?</p>\n\n<pre><code>functionName(data =&gt; {\n  if(data){\n  }\n});\n</code></pre>\n\n<p>Instead of that, we use:</p>\n\n<pre><code>functionName(data =&gt; {\n  // do something with data\n});\n\ndata &amp;&amp; functionName(data); // call the function when data is valued \n</code></pre>\n\n<p>Basically, there have no ways to check in the function as your expectation because the function is fired and use <code>data</code> you provided as a param immediately. <code>data</code> is just used as param in your function, no more roles of outside. So While you can access the <code>data</code>, it means you are inside of the function already.</p>\n"}], "owner": {"reputation": 589, "user_id": 9784141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f92c9c80dcba291d57225acd7d4189?s=128&d=identicon&r=PG&f=1", "display_name": "arkade", "link": "https://stackoverflow.com/users/9784141/arkade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 50367495, "answer_count": 2, "score": 1, "last_activity_date": 1526464960, "creation_date": 1526462482, "last_edit_date": 1526463789, "question_id": 50366939, "link": "https://stackoverflow.com/questions/50366939/fat-arrow-conditional-in-mapping", "title": "Fat arrow conditional in mapping", "body": "<p>Was just wondering if in javascript or typescript there is a way to write the conditional of a fat arrow function in the element mapping itself?</p>\n\n<p>Current code</p>\n\n<pre><code>functionName(data =&gt; {\n  if(data){\n  }\n});\n</code></pre>\n\n<p>Is there syntax that checks <code>data</code> before it even gets to the <code>if</code> statement?</p>\n\n<p>Something like</p>\n\n<pre><code>functionName(data? =&gt; {\n   if(data){ // This code is then not needed\n   }\n});\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>functionName(!data =&gt; {\n   if(data){ // This code is then not needed\n   }\n});\n</code></pre>\n\n<p>So that it only passes into the function if <code>data</code> is falsey.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "autocomplete"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 9770578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a29735cfa8ed0cc4f3d5194f9ad11be?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9770578/balance"}, "is_accepted": false, "score": 0, "last_activity_date": 1526462958, "creation_date": 1526462958, "answer_id": 50367116, "question_id": 50366873, "link": "https://stackoverflow.com/questions/50366873/show-hotels-in-autocomplete-response/50367116#50367116", "title": "Show hotels in autocomplete response", "body": "<p>I can get values for Hotel just add this line</p>\n\n<pre><code>$.map(data.hotels, (value,key)=&gt; results.push(value));\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 9770578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a29735cfa8ed0cc4f3d5194f9ad11be?s=128&d=identicon&r=PG&f=1", "display_name": "Balance", "link": "https://stackoverflow.com/users/9770578/balance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526462958, "creation_date": 1526462280, "last_edit_date": 1526462424, "question_id": 50366873, "link": "https://stackoverflow.com/questions/50366873/show-hotels-in-autocomplete-response", "title": "Show hotels in autocomplete response", "body": "<p>I have <code>autocomplete</code> input in my View.</p>\n\n<p>Here is script, how I handle it</p>\n\n<pre><code>    $(targetSelector).each(function() {\n      $(this)\n        .autocomplete({ delay: 10, minLength: 0, source(request, response) {\n              $(this.element[0]).attr(\"data-req-term\", request.term);\n              $.ajax({\n                url: $(this.element[0]).attr(\"data-source\"),\n                dataType: \"json\",\n                data: {\n                  term: request.term\n                },\n                success(data) {\n                  console.dir(data);\n                  const results = [];\n                  $.map(data.cities, function(value, key) {\n                    results.push(value);\n                    return $.map(value.airports, (value2, key2) =&gt;\n                      results.push(value2)\n                    );\n\n                  });\n                  $.map(data.airports, (value, key) =&gt; results.push(value));\n                  return response(results);\n                },\n                error() {\n                  return response([]);\n                }\n              });\n              return null;\n            }, focus(event, ui) {\n              return false;\n            }, select(event, ui) {\n              const qel = $(event.currentTarget);\n              qel.val(ui.item.fullname);\n              $(qel.attr(\"data-id-element\")).val(ui.item.id);\n              return false;\n            }\n      })\n      .data(\"ui-autocomplete\")._renderItem = function(ul, item) {\n        return create_autocomplete_item($(this.element[0]), ul, item);\n      };\n\n      if (enableAutocompleteSelect) {\n        $(targetSelector).on(\"autocompleteselect\",\n          function() {\n            if ($(this)[0].id.indexOf(\"origin\") !== -1) {\n              const id = $(this)[0].id.split(\"_\")[2];\n              $(`#search_legs_${id}_destination_text`).focus();\n            }\n          });\n      }\n\n      $(targetSelector).focus(function() {\n        $(this).keydown();\n      });\n\n      $(targetSelector).on(\"blur\", function() {\n        const value = $(this).val() as string;\n        if (value.trim() == \"\") {\n          $(this).val(\"\");\n        }\n      });\n    });\n  }\n</code></pre>\n\n<p>This function is using to get data for autocomplete. A\u0442\u0432 show airports and cities.</p>\n\n<p>And here is answer from server, that I get.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zqnuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zqnuj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to populate also hotels to autocomplete results.</p>\n\n<p>How I can do this?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable", "combinelatest"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526464005, "post_id": 50366958, "comment_id": 87751145, "body": "Thanks martin! Quick question- if array2 is a result of another combineLatest this would still work right"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526464846, "post_id": 50366958, "comment_id": 87751801, "body": "It doesn&#39;t matter. It just needs to emit at least one item in order to let emit <code>combineLatest</code> anything. In practise this is usually guaranteed by appending <code>startWith()</code>"}, {"owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526465825, "post_id": 50366958, "comment_id": 87752418, "body": "Did not understand startWith() implementation"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "edited": false, "score": 0, "creation_date": 1526479773, "post_id": 50366958, "comment_id": 87762316, "body": "For example <code>array1.startWith(null)</code>"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1526462538, "creation_date": 1526462538, "answer_id": 50366958, "question_id": 50366741, "link": "https://stackoverflow.com/questions/50366741/matching-two-observable-data-objects-with-combinelatest/50366958#50366958", "title": "Matching two Observable Data Objects with combineLatest", "body": "<p>It looks like you're using RxJS 5.4 so you could do it like this for example:</p>\n\n<pre><code>Observable.combineLatest(array1, array2)\n  .map(([users, name]) =&gt; {\n    const user = users.find(u =&gt; u.name === name);\n    return user ? user.lastname : null;\n  })\n  .subscribe(console.log);\n</code></pre>\n\n<p>See live demo: <a href=\"https://stackblitz.com/edit/rxjs5-4nyq3s?file=index.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs5-4nyq3s?file=index.ts</a></p>\n"}], "owner": {"reputation": 51, "user_id": 7714409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6054733471ee52fff8209c2208d8544?s=128&d=identicon&r=PG&f=1", "display_name": "FrontEndDeveloper", "link": "https://stackoverflow.com/users/7714409/frontenddeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1526462538, "creation_date": 1526461858, "question_id": 50366741, "link": "https://stackoverflow.com/questions/50366741/matching-two-observable-data-objects-with-combinelatest", "title": "Matching two Observable Data Objects with combineLatest", "body": "<p>I have two observable arrays: First array object observable</p>\n\n<pre><code> array1= Observable.of({\n      data: [\n      {\n          name: 'test',\n          lastname: 'last'\n        },\n         {\n          name: 'test1',\n          lastname: 'last1'\n        }\n      ]\n    }).map(res =&gt; {\n      return res.data;\n    });\n\n\n\n// Second Observable:\n    array2 = Observable.of('test1');\n</code></pre>\n\n<p>Expected Result from the above two array is that wherever firstname is matching with array2 value, get the lastname from that object.</p>\n\n<pre><code>//Expected Result: \nobject3=Observable.of('last')\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "conditional-statements"], "comments": [{"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1526461237, "post_id": 50366410, "comment_id": 87749209, "body": "<code>check_delivery_charge</code> is the same variable binding in every sequence of your <code>*ngFor</code> loop... so of cause it shows the same value for every entry. You would need to hold an array of the result for each entry to be displayed in the <code>{{check_delivery_charge}}</code> binding. Or compute the result while looping."}, {"owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "edited": false, "score": 0, "creation_date": 1526461348, "post_id": 50366410, "comment_id": 87749275, "body": "Here you are using the same variable for every results you have, so it will obviously get your last value processed which is &quot;false&quot;.  If you want to have independent value for each row, you must consider using an array of objects, a map, or even a function."}, {"owner": {"reputation": 505, "user_id": 8403927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-woVpJrZFGcw/AAAAAAAAAAI/AAAAAAAAARs/mkUjHBGDJW4/photo.jpg?sz=128", "display_name": "Aashiq Rathnadas", "link": "https://stackoverflow.com/users/8403927/aashiq-rathnadas"}, "reply_to_user": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1526461603, "post_id": 50366410, "comment_id": 87749449, "body": "@Fussel and andrea06590 : Thanks for the info, let me try it using an array."}], "owner": {"reputation": 505, "user_id": 8403927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-woVpJrZFGcw/AAAAAAAAAAI/AAAAAAAAARs/mkUjHBGDJW4/photo.jpg?sz=128", "display_name": "Aashiq Rathnadas", "link": "https://stackoverflow.com/users/8403927/aashiq-rathnadas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526460890, "creation_date": 1526460890, "question_id": 50366410, "link": "https://stackoverflow.com/questions/50366410/angular-2-getting-different-value-in-html-and-type-script", "title": "Angular - 2 :Getting Different Value in html and type Script", "body": "<p>I am getting two different values to same variable in html and ts(when i console)</p>\n\n<p>Code</p>\n\n<pre><code> hideAmountModal() {\n    var self = this;\n    self.home_delivery_charge = self.storeService.fetchHomedeliveryData(self.shopId);\n    self.home_delivery_charge.subscribe((res: any) =&gt; {\n      for (var i = 0; i &lt; res.length; i++) {\n        if (parseInt(self.deliveryData.delivery_charge) &gt; parseInt(res[i].amount)) {\n          self.check_delivery_charge = true;\n          console.log('Deliverycharge',self.deliveryData.delivery_charge,'result',res[i].amount);\n          console.log('deliver charge is greater',self.check_delivery_charge);\n        }\n        else if (parseInt(self.deliveryData.delivery_charge) &lt; parseInt(res[i].amount)){\n            self.check_delivery_charge = false;\n            console.log('Deliverycharge',self.deliveryData.delivery_charge,'result',res[i].amount);\n            console.log('deliver charge is greater',self.check_delivery_charge);\n        }\n      }\n    })\n    self.DeliveryChargeValue = true\n    self.selectAmountModal.hide();\n  }\n</code></pre>\n\n<p>the corresponding Html</p>\n\n<pre><code> &lt;li *ngFor =\"let home_charges of home_charge;let in= index;trackBy:trackByIndex;\"&gt;\n                &lt;div [class.dull]=\"check_delivery_charge\"&gt;\n                     &lt;div *ngIf=\"home_charges.edited == 0\"&gt;&lt;input type=\"text\" class=\"d-charge\" value=\"\"&gt;&lt;/div&gt;\n                     &lt;div *ngIf=\"home_charges.edited == 1\"&gt;&lt;input type=\"text\" class=\"d-charge\" [(ngModel)]=\"home_charge[in]['delivery_charge']\" [ngModelOptions]=\"{standalone: true}\"  &gt;&lt;/div&gt;\n                     &lt;span *ngIf=\"home_charges.range == 0\"&gt;&amp;euro; order less than {{home_charges.amount}}&amp;euro;&lt;/span&gt;\n                     &lt;span *ngIf=\"home_charges.range == 1\"&gt;&amp;euro; order above  {{home_charges.amount}}&amp;euro;&lt;/span&gt;\n                     &lt;!-- &lt;span class=\"rem\" *ngIf=\"home_charges.edited == 0\"&gt;(Recommend {{home_charges.delivery_charge | number : '1.1-3'}}&amp;euro;)&lt;/span&gt; --&gt;\n                     &lt;span class=\"rem\" *ngIf=\"home_charges.edited == 0\"&gt;(Recommend {{home_charges.delivery_charge}}&amp;euro;)&lt;/span&gt;\n                          \"Check Delivery Charge : {{check_delivery_charge}}\n                &lt;/div&gt;\n              &lt;/li&gt;\n</code></pre>\n\n<p>i have the console and result of html below, What could be the reason,</p>\n\n<p><a href=\"https://i.stack.imgur.com/WkIej.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkIej.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/eLjmP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eLjmP.png\" alt=\"enter image description here\"></a></p>\n\n<p>as you can see, in the console its true,true,true,false but in result its all false\n(if any information more needed can be provided)</p>\n"}, {"tags": ["angular", "typescript", "angular-cli", "frontend", "angular-cli-v6"], "answers": [{"tags": [], "owner": {"reputation": 400, "user_id": 2444433, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/adfe494030353b11f32c0093a5e114ef?s=128&d=identicon&r=PG", "display_name": "bibek shrestha", "link": "https://stackoverflow.com/users/2444433/bibek-shrestha"}, "is_accepted": true, "score": 3, "last_activity_date": 1526461188, "creation_date": 1526461188, "answer_id": 50366520, "question_id": 50366261, "link": "https://stackoverflow.com/questions/50366261/lazy-load-multiple-projects-in-cli-workspaces-to-one-single-big-app/50366520#50366520", "title": "Lazy load multiple projects (in CLI workspaces) to one single big app", "body": "<p>I really don't think that its possible lazy loading between the separate angular projects. But yeah there it is possible of doing so using the angular-cli with multiple app (each app representing different project) inside same cli project.</p>\n\n<p>Please refer this link for having multiple app inside same cli project.</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/angular/angular-cli/wiki/stories-multiple-apps\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-multiple-apps</a></p>\n  \n  <p><a href=\"https://yakovfain.com/2017/04/06/angular-cli-multiple-apps-in-the-same-project/\" rel=\"nofollow noreferrer\">https://yakovfain.com/2017/04/06/angular-cli-multiple-apps-in-the-same-project/</a></p>\n</blockquote>\n\n<p>Now its is possible to have lazy routes between those app(s). These links should help you get started.</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/gatimus/multiple-apps-lazy-loading\" rel=\"nofollow noreferrer\">https://github.com/gatimus/multiple-apps-lazy-loading</a></p>\n  \n  <p><a href=\"https://github.com/angular/angular-cli/issues/8321\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/issues/8321</a></p>\n</blockquote>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 503, "user_id": 3098902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EQSV3.jpg?s=128&g=1", "display_name": "she7ata", "link": "https://stackoverflow.com/users/3098902/she7ata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 3, "accepted_answer_id": 50366520, "answer_count": 1, "score": 2, "last_activity_date": 1558774536, "creation_date": 1526460457, "question_id": 50366261, "link": "https://stackoverflow.com/questions/50366261/lazy-load-multiple-projects-in-cli-workspaces-to-one-single-big-app", "title": "Lazy load multiple projects (in CLI workspaces) to one single big app", "body": "<p>Is it possible to lazy load multiple projects (created trough the new CLI generate application feature) into one big application ?</p>\n\n<p>Where i work we have multiple projects, different teams work on them, and then each application is served separately but they are all small apps of a bigger app. So, each time you navigate between apps, you will have to wait for the loading time. What i wanted to do is to create an application that acts as a shell for the big, and that shell just loads those apps as modules or something, to be lazyloaded or pre-loaded, and that would make the big app work smoothly.</p>\n\n<p>I want to do that with keeping the development process work correctly though.</p>\n\n<p>I imagine we will be having structure like this</p>\n\n<pre><code>projects/\n   app1\n   app2\n   app3\n   app4\napp/\n   app.module.ts\n   app.component.ts\n   ...\n</code></pre>\n\n<p>and so on, so that those apps, cloned using git.</p>\n\n<p>what i currently have is</p>\n\n<pre><code>app/\n  app.module.ts\n  app.component.ts\n  modules/\n    app1\n    app2\n    app3\n    app4\n</code></pre>\n\n<p>where they are one project, but this won't work because it would be hellish if people were working on about 7 apps in one project.</p>\n\n<p>the question is, is it possible to lazy load a module from another project ?</p>\n\n<pre><code>{path: 'app1', loadChildren: '../projects/app1/src/app.module#AppModule'}\n</code></pre>\n\n<p>If it's possible how would the above code be ?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "ionic-framework"], "answers": [{"tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 1, "last_activity_date": 1526461827, "creation_date": 1526461827, "answer_id": 50366732, "question_id": 50366172, "link": "https://stackoverflow.com/questions/50366172/store-input-value-in-array-with-ionic-angular-5/50366732#50366732", "title": "Store input value in array with ionic angular 5", "body": "<p>I suggest the following:</p>\n\n<p>Class:</p>\n\n<pre><code>data = {\n    \"title\": \"testing title\",\n    \"paragraphs\": [\n      { \"paragraph\": \"testing paragraph 1\" },\n      { \"paragraph\": \"testing paragraph 2\" },\n      { \"paragraph\": \"testing paragraph 3\" }\n    ]\n  }\n\n...\n\naddParagraph(){\n    this.data.paragraphs.push( { \"paragraph\": \"\" });\n }\n\ndelParagraph(paragraphID){\n    this.data.paragraphs.splice(paragraphID,1);\n}\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;ion-row padding *ngFor=\"let paragraph of data.paragraphs; let i=index\"&gt;\n    &lt;ion-col col-11 class=\"pharagraph margin-bottom\"&gt;\n        &lt;ion-textarea rows=\"10\" class=\"bordered\" placeholder=\"Enter Content Paragraph\" [(ngModel)]=\"paragraph.paragraph\"&gt;&lt;/ion-textarea&gt;\n    &lt;/ion-col&gt;\n    &lt;ion-col col-1&gt;\n        &lt;button ion-button clear icon-start icon-right (click)=\"delParagraph(i)\"&gt;&lt;ion-icon name=\"trash\" color=\"danger\"&gt;&lt;/ion-icon&gt;&lt;/button&gt;\n    &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n\n&lt;ion-row padding&gt;\n    &lt;ion-col col-11&gt;\n        &lt;button ion-button block color=\"danger\" id=\"addPharagraph\" (click)=\"addParagraph()\"&gt;&lt;ion-icon name=\"add-circle\"&gt;&lt;/ion-icon&gt; &amp;nbsp; add pharagraph&lt;/button&gt;\n    &lt;/ion-col&gt;\n&lt;/ion-row&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-dq1vs1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 1063, "user_id": 8675131, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0RKkDPUyBSE/AAAAAAAAAAI/AAAAAAAAAHM/VVqa_CK77hs/photo.jpg?sz=128", "display_name": "andrea06590", "link": "https://stackoverflow.com/users/8675131/andrea06590"}, "is_accepted": false, "score": 0, "last_activity_date": 1526462321, "creation_date": 1526462321, "answer_id": 50366885, "question_id": 50366172, "link": "https://stackoverflow.com/questions/50366172/store-input-value-in-array-with-ionic-angular-5/50366885#50366885", "title": "Store input value in array with ionic angular 5", "body": "<p>Hello I think you wanted to define an array of paragraph instead of string</p>\n\n<pre><code>this.data.title = '';\nthis.data.paragraph = [{}] instead of '';\n</code></pre>\n\n<p>And push your paragraphs in this.data.paragraph ;)</p>\n\n<pre><code>this.data.paragraph.push({paragraph: 'My text content'});\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 8186294, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/164508bad7e2c478f4c92f219522cecd?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald", "link": "https://stackoverflow.com/users/8186294/emerald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1872, "favorite_count": 0, "accepted_answer_id": 50366732, "answer_count": 2, "score": 1, "last_activity_date": 1526464915, "creation_date": 1526460192, "last_edit_date": 1526464915, "question_id": 50366172, "link": "https://stackoverflow.com/questions/50366172/store-input-value-in-array-with-ionic-angular-5", "title": "Store input value in array with ionic angular 5", "body": "<p>I have this in my <strong>html</strong> side :</p>\n\n<pre><code>&lt;ion-grid style=\"margin-bottom: 25px;\"&gt;\n  &lt;ion-row padding&gt;\n    &lt;ion-col col-11&gt;\n      &lt;label class=\"bold\"&gt;Title&lt;/label&gt;\n      &lt;ion-input type=\"text\" class=\"bordered\" placeholder=\"Enter Title\" [(ngModel)]=\"data.title\"&gt;&lt;/ion-input&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n\n  &lt;ion-row padding&gt;\n    &lt;ion-col col-11 class=\"pharagraph margin-bottom\"&gt;\n      &lt;label class=\"bold\"&gt;Pharagraph&lt;/label&gt;\n      &lt;ion-textarea rows=\"10\" class=\"bordered\" placeholder=\"Enter Content Paragraph\" [(ngModel)]=\"data.paragraph\"&gt;&lt;/ion-textarea&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n\n  &lt;ion-row padding *ngFor=\"let input of inputs; let i=index\"&gt;\n    &lt;ion-col col-11 class=\"pharagraph margin-bottom\"&gt;\n      &lt;ion-textarea rows=\"10\" class=\"bordered\" placeholder=\"Enter Content Paragraph\" [(ngModel)]=\"data.paragraph[i]\"&gt;&lt;/ion-textarea&gt;\n    &lt;/ion-col&gt;\n\n    &lt;ion-col col-1&gt;\n      &lt;button ion-button clear icon-start icon-right (click)=\"delParagraph(i)\"&gt;&lt;ion-icon name=\"trash\" color=\"danger\"&gt;&lt;/ion-icon&gt;&lt;/button&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n\n  &lt;ion-row padding&gt;\n    &lt;ion-col col-11&gt;\n      &lt;button ion-button block color=\"danger\" id=\"addPharagraph\" (click)=\"addParagraph()\"&gt;&lt;ion-icon name=\"add-circle\"&gt;&lt;/ion-icon&gt; &amp;nbsp; add pharagraph&lt;/button&gt;\n    &lt;/ion-col&gt;\n  &lt;/ion-row&gt;\n\n&lt;/ion-grid&gt;\n\n&lt;div class=\"tab\" style=\"position: fixed; bottom: 0;\"&gt;\n  &lt;a class=\"tab-item\" (click)=\"save()\"&gt;Save Draft&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>As you can see here, there is an input for a paragraph by default and user can choose to add another paragraph as many as they want.</p>\n\n<p>Here is my <strong>TypeScript</strong> :</p>\n\n<pre><code>data:any = {};\n\nconstructor(public navCtrl: NavController, public navParams: NavParams, public http: Http) {\n    this.data.title = '';\n    this.data.paragraph = '';\n}\n\naddParagraph(){\n    this.inputs.splice(0,0,this.inputs.length+1);\n }\n\ndelParagraph(paragraphID){\n    this.inputs.splice(this.inputs.indexOf(paragraphID), 1);\n}\n\nsave(){\n    var testData = JSON.stringify(this.data);\n    console.log(testData);\n}\n</code></pre>\n\n<p>With those code, I can only display the data in 1 dimension like this :</p>\n\n<pre><code>{\n    \"title\":\"testing title\",\n    \"paragraph\":\"testing paragraph 1\"\n}\n</code></pre>\n\n<p>But I wanted it to be displayed in this form :</p>\n\n<pre><code>{\n    \"title\":\"testing title\",\n    \"paragraph\":[\n        {\"paragraph\": \"testing paragraph 1\"},\n        {\"paragraph\": \"testing paragraph 2\"},\n        {\"paragraph\": \"testing paragraph 3\"}\n    ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6", "angular-cli-v6"], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 3108246, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5f58465ff698f20901e118fecece57b?s=128&d=identicon&r=PG", "display_name": "Stuart Updegrave", "link": "https://stackoverflow.com/users/3108246/stuart-updegrave"}, "edited": false, "score": 0, "creation_date": 1527780001, "post_id": 50627356, "comment_id": 88265328, "body": "Did you mean <code>FooBaseService</code>? If so, yes. As I wrote, &quot;In most cases, services provided in library are used as-is, but can be extended in main-app&quot;."}, {"owner": {"reputation": 618, "user_id": 5892830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mklua.png?s=128&g=1", "display_name": "Dan R.", "link": "https://stackoverflow.com/users/5892830/dan-r"}, "reply_to_user": {"reputation": 647, "user_id": 3108246, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5f58465ff698f20901e118fecece57b?s=128&d=identicon&r=PG", "display_name": "Stuart Updegrave", "link": "https://stackoverflow.com/users/3108246/stuart-updegrave"}, "edited": false, "score": 0, "creation_date": 1527780547, "post_id": 50627356, "comment_id": 88265668, "body": "Yes, FooBaseService*. You can extend them - you need to export them in the public_api.ts as this exports the class rather then the template - you can read more about this as well in the link I provided."}, {"owner": {"reputation": 647, "user_id": 3108246, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5f58465ff698f20901e118fecece57b?s=128&d=identicon&r=PG", "display_name": "Stuart Updegrave", "link": "https://stackoverflow.com/users/3108246/stuart-updegrave"}, "edited": false, "score": 2, "creation_date": 1527877212, "post_id": 50627356, "comment_id": 88308823, "body": "This doesn&#39;t 100% answer my question, but it got me in the right direction enough to run into other issues."}, {"owner": {"reputation": 4617, "user_id": 6600549, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/CeZTt.png?s=128&g=1", "display_name": "George C.", "link": "https://stackoverflow.com/users/6600549/george-c"}, "edited": false, "score": 0, "creation_date": 1573064866, "post_id": 50627356, "comment_id": 103762971, "body": "<code>--prod</code> is not needed anymore by default the build is in prod mode, for more info <a href=\"https://github.com/angular/angular-cli/issues/12290#issuecomment-422271954\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/issues/&hellip;</a>"}], "tags": [], "owner": {"reputation": 618, "user_id": 5892830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mklua.png?s=128&g=1", "display_name": "Dan R.", "link": "https://stackoverflow.com/users/5892830/dan-r"}, "is_accepted": true, "score": 2, "last_activity_date": 1527779005, "creation_date": 1527779005, "answer_id": 50627356, "question_id": 50365921, "link": "https://stackoverflow.com/questions/50365921/ng6-library-provided-service-is-undefined/50627356#50627356", "title": "NG6: library-provided service is undefined", "body": "<p>I guess your FooBarService is located is located inside the library.<br>\nWith the new workspace structure ng6 provides, the libraries are need to be built before using them. You should 'ng build --prod' (prod because AOT) the library and then import it directly as a library, <strong>not</strong> from its sources. e.g.: <code>import FooBarService from 'foobar-service-library'</code>;</p>\n\n<p>You can read more about it here: <a href=\"https://blog.angularindepth.com/creating-a-library-in-angular-6-87799552e7e5\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/creating-a-library-in-angular-6-87799552e7e5</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1848416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1a3600d318824ba15a1b563b10a5224?s=128&d=identicon&r=PG", "display_name": "Karl Noelle", "link": "https://stackoverflow.com/users/1848416/karl-noelle"}, "is_accepted": false, "score": -2, "last_activity_date": 1537368529, "creation_date": 1537368529, "answer_id": 52408633, "question_id": 50365921, "link": "https://stackoverflow.com/questions/50365921/ng6-library-provided-service-is-undefined/52408633#52408633", "title": "NG6: library-provided service is undefined", "body": "<p>Along the same lines as this question, is it possible to use an ng6 Library in an ng5 App? I'm running into this error:</p>\n\n<p><code>19:66-82 \"export 'defineInjectable' was not found in '@angular/core'</code> as part of the new <code>providedIn</code> feature that ng6 uses.</p>\n"}], "owner": {"reputation": 647, "user_id": 3108246, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d5f58465ff698f20901e118fecece57b?s=128&d=identicon&r=PG", "display_name": "Stuart Updegrave", "link": "https://stackoverflow.com/users/3108246/stuart-updegrave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 2, "accepted_answer_id": 50627356, "answer_count": 2, "score": 12, "last_activity_date": 1537368529, "creation_date": 1526459422, "last_edit_date": 1526481479, "question_id": 50365921, "link": "https://stackoverflow.com/questions/50365921/ng6-library-provided-service-is-undefined", "title": "NG6: library-provided service is undefined", "body": "<p>I am seeking assistance / pointers / guidance in debugging / understanding a problem with a derived class which extends a library-provided service in an Angular 6 project.</p>\n\n<p>I am attempting to move an existing Angular 5.x project into the new workspace format for <code>angular.json</code> in Angular 6 projects. </p>\n\n<p>My existing project consists of an Angular application and a separate shared <code>NgModule</code> which provides services and other functionality. The shared module will be used in multiple applications, in a structure like this: </p>\n\n<pre><code>project-root/\n    library/\n    main-app/\n    other-app/\n</code></pre>\n\n<p>In my existing NG5 code, the shared library is <code>npm link</code>'ed into main-app as TS source files (which works well for my team's workflow, despite being explicitly not recommended by the CLI team).</p>\n\n<p>In the NG6 app, <code>library</code> is a library project inside <code>angular.json</code>, built as such, and pulled into the project via path definition in <code>tsconfig.json</code>. The workspace is standard NG6 layout: </p>\n\n<pre><code>workspace-root/\n    dist/...\n    node_modules/...\n    projects/\n        library/\n            src/lib/...\n        main-app/\n            src/app/...\n        other-app/\n    ...\n</code></pre>\n\n<p>In most cases, services provided in library are used as-is, but can be extended in main-app (or other-app) to provide app-specific functionality. This works fine in Angular 5, but in Angular 6, I get the following error in the console when trying to load the page (with <code>ng serve</code> running): </p>\n\n<p><code>Object prototype may only be an Object or null</code></p>\n\n<p>The warning happens here: </p>\n\n<pre><code>export class FooService extends FooBaseService { // ...\n--------------------------------^\n</code></pre>\n\n<p>FooBaseService is coming in as 'undefined' when the bootstrap process instantiates FooService. </p>\n\n<p>Based on research, this error is commonly related to circular dependency issues, but I don't think that's what's happening. I'm not getting any circ-dep warnings when I build the library, or any issues building main-app. In addition, running <code>madge -c</code> <a href=\"https://www.npmjs.com/package/madge\" rel=\"noreferrer\">(link)</a> doesn't find any circ-deps in either  <code>dist/library</code> or <code>dist/main-app</code>.</p>\n\n<p>I'm sort of stumped on how to proceed in debugging this issue. Anyone out there with a deeper understanding of how Angular 6 handles module-provided services who might be able to point me in the right direction?</p>\n"}, {"tags": ["angular", "typescript", "events", "angular2-directives", "stoppropagation"], "comments": [{"owner": {"reputation": 2391, "user_id": 3331861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UsMV.jpg?s=128&g=1", "display_name": "Nilay Vishwakarma", "link": "https://stackoverflow.com/users/3331861/nilay-vishwakarma"}, "edited": false, "score": 1, "creation_date": 1526459270, "post_id": 50365746, "comment_id": 87747920, "body": "<a href=\"https://angular-2-training-book.rangle.io/handout/advanced-angular/directives/creating_an_attribute_directive.html\" rel=\"nofollow noreferrer\">This</a> should help."}, {"owner": {"reputation": 449, "user_id": 2087054, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Wavxl.jpg?s=128&g=1", "display_name": "ebruszl", "link": "https://stackoverflow.com/users/2087054/ebruszl"}, "reply_to_user": {"reputation": 2391, "user_id": 3331861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UsMV.jpg?s=128&g=1", "display_name": "Nilay Vishwakarma", "link": "https://stackoverflow.com/users/3331861/nilay-vishwakarma"}, "edited": false, "score": 0, "creation_date": 1526466264, "post_id": 50365746, "comment_id": 87752722, "body": "Yes, it works thank you so much. But now, i have a problem like this, button click event use this keyword;                                      createForm() {     this.router.navigate([&#39;/ayarlar/fatura-gorsel/olustur&#39;]);   }   but still this key value as directive page."}], "answers": [{"tags": [], "owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "is_accepted": false, "score": 5, "last_activity_date": 1594726727, "last_edit_date": 1594726727, "creation_date": 1526460886, "answer_id": 50366409, "question_id": 50365746, "link": "https://stackoverflow.com/questions/50365746/stop-button-click-event-on-directive-angular-2/50366409#50366409", "title": "Stop Button Click Event On Directive Angular 2", "body": "<p>Binding event by <code>(click)</code> and <code>HostBinding</code> just means binding two standalone events to your target elements, they will be called at the same time and <strong>won't give effects to each other</strong> which means stop any of them won't stop the other one.</p>\n<p>You need to call click event(<em>currently binding via <code>(click)</code></em>) manually in your directive's click event binding via <code>HostBinding</code>.</p>\n<pre><code>// transfer click event into directive\n@Input('clickEvent') clickEvent;\n\n\n@HostListener('click', ['$event, $event.target'])\nonClick(event, targetElement) {  \n    if (!this.checkAuth()) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.cancelBubble = true;\n        event.stopImmediatePropagation();\n\n        this.stop.emit(event);\n    } else {\n        this.clickEvent();\n    }\n}    \n</code></pre>\n<p>See <strong><a href=\"https://stackblitz.com/edit/angular-iqjqyn?file=src/app/checkAuth.directive.ts\" rel=\"nofollow noreferrer\">sample demo</a></strong>.</p>\n"}], "owner": {"reputation": 449, "user_id": 2087054, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Wavxl.jpg?s=128&g=1", "display_name": "ebruszl", "link": "https://stackoverflow.com/users/2087054/ebruszl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2688, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1594726727, "creation_date": 1526458924, "last_edit_date": 1526459541, "question_id": 50365746, "link": "https://stackoverflow.com/questions/50365746/stop-button-click-event-on-directive-angular-2", "title": "Stop Button Click Event On Directive Angular 2", "body": "<p>I built my app with angular 2 and PrimeNG. I try to use directives on button click for checking user authority. Problem is; \nif there is no authority, do not continue button click action. But stopPropagation doesn't stop click event. How to stop process if checkAuth() returns false?</p>\n\n<blockquote>\n  <p>Blockquote</p>\n</blockquote>\n\n<pre><code>@Directive({\n    selector: '[checkAuthOnClick]'\n})\n\nexport class CheckAuthorizationOnClickDirective {\n\n    user: Observable&lt;User&gt;;\n    @Input() allowedClaim: any;\n    observer: MutationObserver;\n\n    constructor(private element: ElementRef, private store: Store&lt;fromRoot.State&gt;) {\n        this.element = element.nativeElement;\n    }\n\n    @Output()\n    stop: EventEmitter&lt;Event&gt; = new EventEmitter;\n\n    @HostListener('click', ['$event, $event.target'])\n    onClick(event, targetElement) {  \n        if (!this.checkAuth()) {\n            event.stopPropagation();\n            event.preventDefault();\n            event.cancelBuble = true;\n            event.stopImmediatePropagation();\n\n            this.stop.emit(event);\n        }\n    }   \n\n    private checkAuth(): boolean {\n        this.user = this.store.select(fromRoot.currentUser);\n        if (this.user != undefined &amp;&amp; this.allowedClaim != undefined) {\n            var hasClaim = false;\n            var description;\n            this.user.subscribe(x =&gt; {\n                if (Array.isArray(this.allowedClaim)) { //Gelen/Giden Faturalar\u0131 g\u00f6r\u00fcnt\u00fcleme yetkileri t\u00fcm\u00fc ve kendisine ait o.\u015f birden \u00e7ok oldu\u011fu i\u00e7in app.routes'ta array olarak tan\u0131mland\u0131. \n                    for (let i = 0; i &lt; this.allowedClaim.length; i++) {\n                        hasClaim = x.hasClaim(this.allowedClaim[i])\n                        if (hasClaim)\n                            break;\n                    }\n\n                    description = this.allowedClaim[0].Description;\n                }\n                else {\n                    hasClaim = x.hasClaim(this.allowedClaim);\n                    description = this.allowedClaim.Description;\n                }\n            });\n\n            if (hasClaim == false) {\n                var message = \"Bu i\u015flem i\u00e7in yetkiniz yoktur.\";\n                if (description != undefined) {\n                    message = description + ' yetkiniz yoktur.'\n                }\n\n                this.store.dispatch(new ui.ToastMessagePushAction({ severity: 'warning', summary: message, detail: '' }));\n            }\n        }\n\n        return hasClaim;\n    }\n\n}\n</code></pre>\n\n<p>Directive usage on html like this;</p>\n\n<pre><code>&lt;button\u00a0type=\"button\" pButton\u00a0icon=\"fa fa-file-code-o\" (click)=\"createForm()\" checkAuthOnClick [allowedClaim]=\"systemDefinedClaims?.CreateInvoiceDesign\"&gt;&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["typescript", "enums", "undefined"], "comments": [{"owner": {"reputation": 2173, "user_id": 1306720, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9da3cfcb487185e3be4bebf9cfbd546f?s=128&d=identicon&r=PG", "display_name": "VahidNaderi", "link": "https://stackoverflow.com/users/1306720/vahidnaderi"}, "edited": false, "score": 0, "creation_date": 1537043025, "post_id": 50365598, "comment_id": 91642506, "body": "Did find the answer?"}, {"owner": {"reputation": 157, "user_id": 7634575, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcf4ce0e3f2722e330c0aed4302a8edc?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/7634575/john-dow"}, "edited": false, "score": 1, "creation_date": 1537359744, "post_id": 50365598, "comment_id": 91755235, "body": "make the enum not constant - remove &#39;const&#39; term"}], "answers": [{"comments": [{"owner": {"reputation": 1226, "user_id": 49564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tNESY.jpg?s=128&g=1", "display_name": "Micha\u0142 Tatarynowicz", "link": "https://stackoverflow.com/users/49564/micha%c5%82-tatarynowicz"}, "edited": false, "score": 7, "creation_date": 1580118032, "post_id": 53232849, "comment_id": 105979009, "body": "Also happens when you <code>export declare enum</code>."}], "tags": [], "owner": {"reputation": 11537, "user_id": 4069646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EGskSHkUtqs/AAAAAAAAAAI/AAAAAAAAA6I/lA3Vccb54iQ/photo.jpg?sz=128", "display_name": "Ga&#235;tan Maisse", "link": "https://stackoverflow.com/users/4069646/ga%c3%abtan-maisse"}, "is_accepted": true, "score": 23, "last_activity_date": 1541795255, "creation_date": 1541795255, "answer_id": 53232849, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/53232849#53232849", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>In Typescript there are 2 kinds of enums:</p>\n\n<ul>\n<li><em>Classic</em> <code>enum</code>: </li>\n</ul>\n\n<p>During TS to JS transpilation they are converted to real objects, so they exist at runtime.</p>\n\n<pre><code>enum Response {\n    No = 0,\n    Yes = 1,\n}\n\nconst yes = Response.Yes; // Works at runtime\n\nconst nameOfYes = Response[yes]; // Also works at runtime because a reverse mapping is also generated during transpilation\n</code></pre>\n\n<ul>\n<li><code>const enum</code> (the one you are using):</li>\n</ul>\n\n<p>Const enums are removed during transpilation in JS so you can not use them at runtime. As per <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html\" rel=\"noreferrer\">TS doc</a> const enums exists to <em>avoid paying the cost of extra generated code and additional indirection when accessing enum values</em>.</p>\n\n<pre><code>const enum Response {\n    No = 0,\n    Yes = 1,\n}\n\nconst yes = Response.Yes; // At runtime: ReferenceError: Response is not defined\n\nconst nameOfYes = Response[yes]; // During transpilation: TS2476: A const enum member can only be accessed using a string literal.\n</code></pre>\n\n<hr>\n\n<p>So just change your <code>const enum</code> to <code>enum</code> and your runtime error will be gone.  </p>\n"}, {"tags": [], "owner": {"reputation": 1346, "user_id": 8833279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35cf75db67510d2e6c0120270a962f?s=128&d=identicon&r=PG&f=1", "display_name": "ihorbond", "link": "https://stackoverflow.com/users/8833279/ihorbond"}, "is_accepted": false, "score": 0, "last_activity_date": 1576777641, "creation_date": 1576777641, "answer_id": 59414598, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/59414598#59414598", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>Try this</p>\n\n<pre><code>export enum RESTMethod {\n   POST = \"POST\",\n   GET = \"GET\"\n}\n\nimport { RESTConfig, RESTMethod } from './RESTConfig';\n\nclass Pipelines {\n   ...\n   private someMethod() {\n      let restMethodEnum = RESTMethod;\n      let rest: RESTConfig = {\n         url: \"\",\n         method: restMethodEnum.POST,\n         data: {}\n      }\n      ...\n\n   }\n   ...\n}\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2284, "user_id": 685109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8644f2f9a593344059da4b58fb3c6222?s=128&d=identicon&r=PG", "display_name": "Esteban", "link": "https://stackoverflow.com/users/685109/esteban"}, "edited": false, "score": 3, "creation_date": 1581616344, "post_id": 59665223, "comment_id": 106505466, "body": "This is what bit me"}, {"owner": {"reputation": 4668, "user_id": 1919959, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/lnLyT.png?s=128&g=1", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1919959/ahmad"}, "edited": false, "score": 0, "creation_date": 1587575191, "post_id": 59665223, "comment_id": 108567692, "body": "Seems that is not so hard to happen!"}, {"owner": {"reputation": 469, "user_id": 5763764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d09070e8b614bde0531c31cc2f99d36b?s=128&d=identicon&r=PG", "display_name": "Radek Mat\u011bj", "link": "https://stackoverflow.com/users/5763764/radek-mat%c4%9bj"}, "edited": false, "score": 0, "creation_date": 1602833295, "post_id": 59665223, "comment_id": 113850166, "body": "You&#39;ve saved my day. Thanks."}, {"owner": {"reputation": 3483, "user_id": 11792577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jMC4J.png?s=128&g=1", "display_name": "glinda93", "link": "https://stackoverflow.com/users/11792577/glinda93"}, "edited": false, "score": 0, "creation_date": 1608755264, "post_id": 59665223, "comment_id": 115678341, "body": "This should go upward further"}, {"owner": {"reputation": 14629, "user_id": 21115, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d5e190845525aa75c8da275c072c23be?s=128&d=identicon&r=PG", "display_name": "davetapley", "link": "https://stackoverflow.com/users/21115/davetapley"}, "edited": false, "score": 0, "creation_date": 1610595223, "post_id": 59665223, "comment_id": 116185238, "body": "I believe this is <a href=\"https://github.com/microsoft/TypeScript/issues/3200\" rel=\"nofollow noreferrer\">TypeScript/issues/3200</a>"}], "tags": [], "owner": {"reputation": 2173, "user_id": 3710120, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/RnaL7.png?s=128&g=1", "display_name": "Christiaan Maks", "link": "https://stackoverflow.com/users/3710120/christiaan-maks"}, "is_accepted": false, "score": 48, "last_activity_date": 1578577065, "creation_date": 1578577065, "answer_id": 59665223, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/59665223#59665223", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>I just found out the hard way that this can also happen if you have circular imports.</p>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 7156330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd8b3cbf0f2db529f1764d3ec2d5a449?s=128&d=identicon&r=PG&f=1", "display_name": "Wojtek Jureczka", "link": "https://stackoverflow.com/users/7156330/wojtek-jureczka"}, "edited": false, "score": 0, "creation_date": 1607957346, "post_id": 62564232, "comment_id": 115427561, "body": "Probably you had a circular dependency"}], "tags": [], "owner": {"reputation": 1503, "user_id": 1815612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FjgRF.jpg?s=128&g=1", "display_name": "Yao Li", "link": "https://stackoverflow.com/users/1815612/yao-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1593033513, "creation_date": 1593033513, "answer_id": 62564232, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/62564232#62564232", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>It works for me when put enum into an independent file</p>\n"}, {"tags": [], "owner": {"reputation": 1799, "user_id": 606104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Ngej.jpg?s=128&g=1", "display_name": "jahller", "link": "https://stackoverflow.com/users/606104/jahller"}, "is_accepted": false, "score": 0, "last_activity_date": 1602516345, "creation_date": 1602516345, "answer_id": 64320736, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/64320736#64320736", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>If you have this issue while running tests make sure that the file with the <code>enum</code> is included in the <code>tsconfig.spec.json</code> file.</p>\n<p>e.g. when the enum is in a <code>types.ts</code> file</p>\n<pre><code>{\n  [...]\n  &quot;include&quot;: [&quot;types.ts&quot;]\n  [...]\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8806, "user_id": 257418, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/97Mb4.png?s=128&g=1", "display_name": "Lynn", "link": "https://stackoverflow.com/users/257418/lynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1610046435, "creation_date": 1610046435, "answer_id": 65618492, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum/65618492#65618492", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>If you have <code>--isolatedModules</code> in tsconfig.json or <code>transpileOnly</code> in ts-loader, you may be hitting <a href=\"https://github.com/microsoft/TypeScript/issues/16671\" rel=\"nofollow noreferrer\">this issue</a>. Basically, you cannot use these things in combination with <code>export const enum</code>.</p>\n<p>In the words of a commenter there:</p>\n<blockquote>\n<p><code>transpileOnly</code> means transpile every file one at a time.. when the compiler is looking at one file, it has no way to know if the reference it is looking at is a const enum or not, since the declaration is in another file that it does not have access to..</p>\n<p>so I do not think you can mix these two concepts, <code>const enum</code>s (require whole program information), and <code>transpileOnly</code> (one file at a time).</p>\n</blockquote>\n"}], "owner": {"reputation": 493, "user_id": 1764970, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4Jeu7.png?s=128&g=1", "display_name": "Yuri van Geffen", "link": "https://stackoverflow.com/users/1764970/yuri-van-geffen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9157, "favorite_count": 3, "accepted_answer_id": 53232849, "answer_count": 6, "score": 28, "last_activity_date": 1610046435, "creation_date": 1526458421, "question_id": 50365598, "link": "https://stackoverflow.com/questions/50365598/typescript-runtime-error-cannot-read-property-of-undefined-enum", "title": "Typescript runtime error: cannot read property of undefined (enum)", "body": "<p>I have the following interface and enum in a file <em>RESTConfig.ts</em>:</p>\n\n<pre><code>export const enum RESTMethod {\n   POST = \"POST\",\n   GET = \"GET\"\n}\n\nexport interface RESTConfig {\n   url: string;\n   method: RESTMethod;\n   data: any;\n}\n</code></pre>\n\n<p>I want to import and use the enum in another class as such:</p>\n\n<pre><code>import { RESTConfig, RESTMethod } from './RESTConfig';\n\nclass Pipelines {\n   ...\n   private someMethod() {\n      let rest: RESTConfig = {\n         url: \"\",\n         method: RESTMethod.POST,\n         data: {}\n      }\n      ...\n\n   }\n   ...\n}\n</code></pre>\n\n<p>Linting and transpiling works fine, but at runtime I get the following error:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'POST' of undefined</p>\n</blockquote>\n\n<p>on the line \"method: RESTMethod.POST\".</p>\n\n<p>Can someone tell me what I'm doing wrong?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 260, "user_id": 1849956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e9139086a816f7b5279c42edb1c91d7?s=128&d=identicon&r=PG", "display_name": "Memetican", "link": "https://stackoverflow.com/users/1849956/memetican"}, "edited": false, "score": 0, "creation_date": 1555754874, "post_id": 50365529, "comment_id": 98217599, "body": "did you solve this? I&#39;m facing the same problem and from what I&#39;m reading the issue is specific to <code>iframe</code> use."}, {"owner": {"reputation": 13, "user_id": 7598650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rSPQfoRIk0/AAAAAAAAAAI/AAAAAAAAFoM/v5pUicSbQFA/photo.jpg?sz=128", "display_name": "Riju Pramanik", "link": "https://stackoverflow.com/users/7598650/riju-pramanik"}, "reply_to_user": {"reputation": 260, "user_id": 1849956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e9139086a816f7b5279c42edb1c91d7?s=128&d=identicon&r=PG", "display_name": "Memetican", "link": "https://stackoverflow.com/users/1849956/memetican"}, "edited": false, "score": 1, "creation_date": 1555856572, "post_id": 50365529, "comment_id": 98237861, "body": "I fixed it.  Just declare the url variable as a &quot;TrustResourceUrl&quot; type"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7598650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rSPQfoRIk0/AAAAAAAAAAI/AAAAAAAAFoM/v5pUicSbQFA/photo.jpg?sz=128", "display_name": "Riju Pramanik", "link": "https://stackoverflow.com/users/7598650/riju-pramanik"}, "edited": false, "score": 1, "creation_date": 1526460159, "post_id": 50365723, "comment_id": 87748466, "body": "The data is passed to the view perfectly too. I printed the url as plaintext and it appeared without any issues"}], "tags": [], "owner": {"reputation": 96, "user_id": 5852992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399748745671a26c7f0678fad3eed752?s=128&d=identicon&r=PG&f=1", "display_name": "antoine2vey", "link": "https://stackoverflow.com/users/5852992/antoine2vey"}, "is_accepted": false, "score": 0, "last_activity_date": 1526458863, "creation_date": 1526458863, "answer_id": 50365723, "question_id": 50365529, "link": "https://stackoverflow.com/questions/50365529/ionic-domsanitizer-doesnt-work-for-bypasssecuritytrustresourceurl/50365723#50365723", "title": "Ionic DomSanitizer doesn&#39;t work for bypassSecurityTrustResourceUrl", "body": "<p>Have you tried to change your lifecycle? Maybe your view is getting a <code>null</code> or <code>undefined</code> for <code>url1</code>. It works for me when I initialize in my constructor or even in the <code>ionViewDidLoad()</code> method</p>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 7320955, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154954732492022/picture?type=large", "display_name": "Sem", "link": "https://stackoverflow.com/users/7320955/sem"}, "is_accepted": false, "score": 0, "last_activity_date": 1567866773, "creation_date": 1567866773, "answer_id": 57834649, "question_id": 50365529, "link": "https://stackoverflow.com/questions/50365529/ionic-domsanitizer-doesnt-work-for-bypasssecuritytrustresourceurl/57834649#57834649", "title": "Ionic DomSanitizer doesn&#39;t work for bypassSecurityTrustResourceUrl", "body": "<p>Your \"url1\" is not a declared as <strong>public</strong>. In that case, the html template won't be able to pick it up.</p>\n\n<p>Try this way.</p>\n\n<pre><code>public url1: any;\n...\nconstructor(...)\n...\nionViewWillEnter(){\n...\n    this.url1=this.sanitizer.bypassSecurityTrustResourceUrl(link);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 7598650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rSPQfoRIk0/AAAAAAAAAAI/AAAAAAAAFoM/v5pUicSbQFA/photo.jpg?sz=128", "display_name": "Riju Pramanik", "link": "https://stackoverflow.com/users/7598650/riju-pramanik"}, "is_accepted": false, "score": 0, "last_activity_date": 1608207191, "creation_date": 1608207191, "answer_id": 65340548, "question_id": 50365529, "link": "https://stackoverflow.com/questions/50365529/ionic-domsanitizer-doesnt-work-for-bypasssecuritytrustresourceurl/65340548#65340548", "title": "Ionic DomSanitizer doesn&#39;t work for bypassSecurityTrustResourceUrl", "body": "<p>Declare the url variable as a &quot;TrustResourceUrl&quot; type</p>\n"}], "owner": {"reputation": 13, "user_id": 7598650, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_rSPQfoRIk0/AAAAAAAAAAI/AAAAAAAAFoM/v5pUicSbQFA/photo.jpg?sz=128", "display_name": "Riju Pramanik", "link": "https://stackoverflow.com/users/7598650/riju-pramanik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2427, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1608207191, "creation_date": 1526458156, "question_id": 50365529, "link": "https://stackoverflow.com/questions/50365529/ionic-domsanitizer-doesnt-work-for-bypasssecuritytrustresourceurl", "title": "Ionic DomSanitizer doesn&#39;t work for bypassSecurityTrustResourceUrl", "body": "<p>It gives me the error  <code>GET http://localhost:8100/null 404 (Not Found)</code>\nI have tried multiple DomSanitizer methods, but none of them work for some reason .</p>\n\n<p>My controller function is </p>\n\n<pre><code>import { DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\n\n\nconstructor(public navCtrl: NavController, public navParams: NavParams,  public loadingCtrl: LoadingController,\nprivate sanitizer: DomSanitizer) {}\n\n ionViewWillEnter() {\n  let link = this.navParams.get('link'); // gets the link to be sanitized\n  console.log(link); //works\n  let url1 = this.sanitizer.bypassSecurityTrustResourceUrl(link);\n  console.log(url1); //works\n}\n</code></pre>\n\n<p>My iframe code is </p>\n\n<pre><code>&lt;iframe [src]=\"url1\" height=\"100%\" width=\"100%\"\n  frameborder=\"0\"&gt;\n  &lt;/iframe&gt; \n</code></pre>\n\n<p>My Setup -\nIonic 3.20.0\nnpm 5.5.0</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4949, "user_id": 5928381, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/3MFrQ.jpg?s=128&g=1", "display_name": "Anuradha Gunasekara", "link": "https://stackoverflow.com/users/5928381/anuradha-gunasekara"}, "edited": false, "score": 0, "creation_date": 1526456628, "post_id": 50364990, "comment_id": 87746253, "body": "what is the variable that you are using to store the value of the json response?"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1526456948, "post_id": 50364990, "comment_id": 87746440, "body": "Please show us what the JSON looks like. I have no idea what that snippet at the beginning of your question is, but it sure doesn&#39;t look like an array."}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 1, "creation_date": 1526457205, "post_id": 50364990, "comment_id": 87746601, "body": "It also doesn&#39;t look like you&#39;re using the <code>data</code> variable anywhere. Please show us a code example that clearly illustrates what you are trying to do. You&#39;ve failed to explain what any of these variables are or what you&#39;re trying to do."}, {"owner": {"reputation": 489, "user_id": 1885795, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/50f6082063457adf6046e0912c23664e?s=128&d=identicon&r=PG", "display_name": "Vinoth Kumar", "link": "https://stackoverflow.com/users/1885795/vinoth-kumar"}, "edited": false, "score": 0, "creation_date": 1526457447, "post_id": 50364990, "comment_id": 87746751, "body": "I have updated data structure again, Could you please check it again."}, {"owner": {"reputation": 8500, "user_id": 5349542, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/B4LnC.jpg?s=128&g=1", "display_name": "BlackBeard", "link": "https://stackoverflow.com/users/5349542/blackbeard"}, "edited": false, "score": 1, "creation_date": 1526457941, "post_id": 50364990, "comment_id": 87747079, "body": "What is your expected output?"}, {"owner": {"reputation": 89878, "user_id": 1945651, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9J4D8.png?s=128&g=1", "display_name": "JLRishe", "link": "https://stackoverflow.com/users/1945651/jlrishe"}, "edited": false, "score": 0, "creation_date": 1526458408, "post_id": 50364990, "comment_id": 87747365, "body": "It looks like you have an array with property names. Is that what&#39;s being sent from the API you&#39;re calling? It&#39;s not even possible to represent that in JSON and it&#39;s not normal to have such a thing in JavaScript."}, {"owner": {"reputation": 3272, "user_id": 4269187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yhb5z.jpg?s=128&g=1", "display_name": "Carsten", "link": "https://stackoverflow.com/users/4269187/carsten"}, "edited": false, "score": 0, "creation_date": 1526458431, "post_id": 50364990, "comment_id": 87747382, "body": "How do you even get that key-value pair array...?"}, {"owner": {"reputation": 691, "user_id": 6550273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LSsKB.jpg?s=128&g=1", "display_name": "P. Moloney", "link": "https://stackoverflow.com/users/6550273/p-moloney"}, "edited": false, "score": 0, "creation_date": 1526458795, "post_id": 50364990, "comment_id": 87747620, "body": "Take a look at <a href=\"https://stackoverflow.com/questions/15877362/declare-and-initialize-a-dictionary-in-typescript/15884066#15884066\">this Answer</a>. You are trying to create a Dictionary"}, {"owner": {"reputation": 489, "user_id": 1885795, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/50f6082063457adf6046e0912c23664e?s=128&d=identicon&r=PG", "display_name": "Vinoth Kumar", "link": "https://stackoverflow.com/users/1885795/vinoth-kumar"}, "edited": false, "score": 0, "creation_date": 1526477186, "post_id": 50364990, "comment_id": 87760255, "body": "I need to deep clone my object to compare last and current values of the bid and ask rates to update color code. Can any one help how to do in this data structure."}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1529895428, "creation_date": 1529895428, "answer_id": 51015754, "question_id": 50364990, "link": "https://stackoverflow.com/questions/50364990/angular-2-foreach-for-array-of-array/51015754#51015754", "title": "Angular 2 forEach for array of array", "body": "<p>You can flatten an array of arrays with</p>\n\n<pre><code>const flatten = (array: any[][]) =&gt; (array ? array.reduce((output, array) =&gt; [...output, ...array], []) : array);\n\nconst flatArray = flatten(data);\n</code></pre>\n\n<p>Now the flatArray is just a single array.</p>\n\n<p>You can see a demo of it here</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-wdtvs9\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-wdtvs9</a></p>\n"}], "owner": {"reputation": 489, "user_id": 1885795, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/50f6082063457adf6046e0912c23664e?s=128&d=identicon&r=PG", "display_name": "Vinoth Kumar", "link": "https://stackoverflow.com/users/1885795/vinoth-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 866, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529895428, "creation_date": 1526456454, "last_edit_date": 1526457413, "question_id": 50364990, "link": "https://stackoverflow.com/questions/50364990/angular-2-foreach-for-array-of-array", "title": "Angular 2 forEach for array of array", "body": "<p>I have a json object response from serve as like below structure, I have to parse the data from this result.</p>\n\n<pre><code>[CGOLD-1: Array(6), CGOLD-2: Array(6), MGOLD-1: Array(6), MGOLD-2: Array(6), MGOLD-3: Array(6),\u00a0\u2026]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/W6Cbl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W6Cbl.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GtN9e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GtN9e.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried as like this to check,\nMy type script code,</p>\n\n<pre><code>baserates: Object = {};\noldbaserates: Object = {};\nthis.liverateservice.setcallback((data)=&gt;{\nthis.baserates = data;\nthis.baserates.forEach((item) =&gt; {\n        console.log(item);\n        //newArray.push(Object.assign({}, item));\n    });\n});\n</code></pre>\n\n<p>but my console not working this, I have to do clone object as like this </p>\n\n<pre><code>deepClone(oldArray: Object[]) {\n    let newArray: any = [];\n    oldArray.forEach((item) =&gt; {\n      newArray.push(Object.assign({}, item));\n    });\n    return newArray;\n  }\n</code></pre>\n\n<p>Could you please help anyone to process this type of data structure in angular 2. </p>\n"}, {"tags": ["angular", "typescript", "browser", "components", "angular5"], "comments": [{"owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "edited": false, "score": 0, "creation_date": 1526455853, "post_id": 50364642, "comment_id": 87745794, "body": "Are you able to reach inside the functions beforeUnloadHander and unloadHandler? What you want your API to receive?"}, {"owner": {"reputation": 350, "user_id": 7237629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b508cd687cf08bed09fb8b5f67489178?s=128&d=identicon&r=PG&f=1", "display_name": "neboduus", "link": "https://stackoverflow.com/users/7237629/neboduus"}, "reply_to_user": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "edited": false, "score": 0, "creation_date": 1526461870, "post_id": 50364642, "comment_id": 87749625, "body": "I can reach <code>beforeUnloadHandler()</code> only if I make it <code>return false</code>. When I do that the browser asks me If I am sure to exit the page. But at that time the user could respond NO and the browser keeps the window open. So it is not the right moment to contact the API. My API has to recieve a JSON object when the user leaves the page."}, {"owner": {"reputation": 225, "user_id": 634014, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/662befd60a6b60fee92aceaca21d20df?s=128&d=identicon&r=PG", "display_name": "Francesco", "link": "https://stackoverflow.com/users/634014/francesco"}, "edited": false, "score": 0, "creation_date": 1526623481, "post_id": 50364642, "comment_id": 87824771, "body": "read this <a href=\"https://stackoverflow.com/questions/276660/how-can-i-override-the-onbeforeunload-dialog-and-replace-it-with-my-own\" title=\"how can i override the onbeforeunload dialog and replace it with my own\">stackoverflow.com/questions/276660/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 7237629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b508cd687cf08bed09fb8b5f67489178?s=128&d=identicon&r=PG&f=1", "display_name": "neboduus", "link": "https://stackoverflow.com/users/7237629/neboduus"}, "edited": false, "score": 0, "creation_date": 1526622893, "post_id": 50398142, "comment_id": 87824542, "body": "Hi @Giovanni, O don&#39;t think there is a difference between your syntax and mine. But I will try it anyway and let you know. Thanks anyway"}], "tags": [], "owner": {"reputation": 477, "user_id": 7387126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noNnP.jpg?s=128&g=1", "display_name": "bertonc96", "link": "https://stackoverflow.com/users/7387126/bertonc96"}, "is_accepted": false, "score": 0, "last_activity_date": 1526581302, "creation_date": 1526581302, "answer_id": 50398142, "question_id": 50364642, "link": "https://stackoverflow.com/questions/50364642/angular-5-how-to-make-an-api-call-when-user-closes-the-browser-window/50398142#50398142", "title": "Angular 5 - How to make an API call when user closes the browser window?", "body": "<p>You can try with this in your app.component.ts:</p>\n\n<pre><code>window.addEventListener('beforeunload', (e) =&gt; {\n  yourApiCall();\n});\n</code></pre>\n\n<p>I used that to display a message before unloading the page..</p>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 7237629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b508cd687cf08bed09fb8b5f67489178?s=128&d=identicon&r=PG&f=1", "display_name": "neboduus", "link": "https://stackoverflow.com/users/7237629/neboduus"}, "is_accepted": true, "score": 1, "last_activity_date": 1526625653, "creation_date": 1526625653, "answer_id": 50405241, "question_id": 50364642, "link": "https://stackoverflow.com/questions/50364642/angular-5-how-to-make-an-api-call-when-user-closes-the-browser-window/50405241#50405241", "title": "Angular 5 - How to make an API call when user closes the browser window?", "body": "<p>Thanks to @Francesco I arrived at the following conclusion:</p>\n\n<p>It is not possible to ensure that every time an user exits a browser page a specific function will be triggered. The reason is that the browser could close the window for many reasons. Yes it could be a user action but this is not the only case. For example The browser could crash. </p>\n\n<p>In my case I will have to find another strategy to track the time the user stays on the page. For example I am planning to send a lot of API calls before the user exits with all the informations I need to understand his stay on the page. I will update the answer when I will reach a good solution. Anyway I will still wait for better answers.</p>\n"}], "owner": {"reputation": 350, "user_id": 7237629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b508cd687cf08bed09fb8b5f67489178?s=128&d=identicon&r=PG&f=1", "display_name": "neboduus", "link": "https://stackoverflow.com/users/7237629/neboduus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2485, "favorite_count": 0, "accepted_answer_id": 50405241, "answer_count": 2, "score": 1, "last_activity_date": 1551285928, "creation_date": 1526455245, "last_edit_date": 1526540408, "question_id": 50364642, "link": "https://stackoverflow.com/questions/50364642/angular-5-how-to-make-an-api-call-when-user-closes-the-browser-window", "title": "Angular 5 - How to make an API call when user closes the browser window?", "body": "<p>I have a tracking mechanism through which I send JSON objects to an API endpoint during the stay of an user on a web page. So I am sending API calls on some particular events. The API has to receive a call when the user leaves the page.</p>\n\n<p>The problem is that I am using the functions below to trigger when the user closes the broser, but the functions are triggered only in browser debug mode.</p>\n\n<p><code>\n    // page-wrapper.component.ts\n    ...\n    // triggers on DOM unload\n    @HostListener('window:unload', ['$event'])\n    unloadHandler(event) {\n       this.service.apiCall();     // this is nevertriggered\n       console.log('unloaded DOM') // triggered only in browser debug mode\n    }\n    // triggers just before unloadHandler()\n    @HostListener('window:beforeunload', ['$event'])\n    beforeUnloadHander(event) {\n       this.service.apiCall();    // same as above\n    }\n</code></p>\n\n<p>So I tried both the methods. If I debug them The methods seems to be triggered but the APIs do not receive anything. </p>\n\n<p>I can ensure that the function that contacts the APIs was tested and it has no problems.</p>\n\n<p>I think the problem is related to <code>unloadHandler()</code> or <code>beforeUnloadHandler()</code>.</p>\n\n<p>Does someone know how to call an api when the user closes the broser window or the browser tab? </p>\n\n<p>Note: that the application could live in a standalone browser tab or an iframe.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7744, "user_id": 1257728, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/91035ce6185f13ca4ff48d43f4dd9236?s=128&d=identicon&r=PG", "display_name": "mortb", "link": "https://stackoverflow.com/users/1257728/mortb"}, "edited": false, "score": 0, "creation_date": 1526455083, "post_id": 50364409, "comment_id": 87745342, "body": "Take a look at <code>keyof</code>: <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/release-notes/&hellip;</a>. It looks like it could fit your use case"}], "answers": [{"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": false, "score": 3, "last_activity_date": 1526455452, "last_edit_date": 1526455452, "creation_date": 1526455182, "answer_id": 50364623, "question_id": 50364409, "link": "https://stackoverflow.com/questions/50364409/function-argument-should-be-type-of-one-of-the-objects-key-type/50364623#50364623", "title": "function argument should be type of one of the object&#39;s key type", "body": "<p>if you want to set type of settingValue and your interface dynamicaly you can try:</p>\n\n<pre><code>settingValue: Setting[keyof Setting]; // string[]| number | null\n</code></pre>\n\n<p>or if you want keys of setting it without their types:</p>\n\n<pre><code>settingValue = keyof Setting ; // names| city | age\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 2, "last_activity_date": 1526455589, "last_edit_date": 1526455589, "creation_date": 1526455258, "answer_id": 50364645, "question_id": 50364409, "link": "https://stackoverflow.com/questions/50364409/function-argument-should-be-type-of-one-of-the-objects-key-type/50364645#50364645", "title": "function argument should be type of one of the object&#39;s key type", "body": "<p>You can improve your function more then just the type of <code>settingValue</code> you can also ensure the <code>settingName</code> and <code>settingValue</code> are consistent:</p>\n\n<pre><code>function updateSetting&lt;TKey extends keyof Setting&gt;(settingName: TKey, settingValue: Setting[TKey]) {\n    //...\n}\n\ninterface Setting {\n    names: string[]\n    city: string | null\n    age: number\n}\n\nupdateSetting(\"names\", [\"\"])\nupdateSetting(\"age\", [\"\"]) //error\n</code></pre>\n\n<p>We use the <code>keyof</code> operator to specify that the generic parameter <code>Tkey</code> must be a string literal type that is one of te keys of <code>Setting</code> then we specify that <code>settingValue</code> must have whatever type the field of <code>Setting</code> has for the given key using a type query <code>Setting[TKey]</code></p>\n\n<p>This approach ensures more type safety if you use it with constant keys usually. If you want to pass an arbitrary string you will need to use a type assertion, and the type of <code>settingValue</code> will be the same as <code>Setting[keyof Setting]</code>:</p>\n\n<pre><code>let str;\nupdateSetting(str as keyof Setting, 0) //ok\nupdateSetting(str as keyof Setting, new Date()) //error\n</code></pre>\n"}], "owner": {"reputation": 1951, "user_id": 1076982, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/05d73268de26975da18f755753c9e60f?s=128&d=identicon&r=PG", "display_name": "prashantsahni", "link": "https://stackoverflow.com/users/1076982/prashantsahni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1526455589, "creation_date": 1526454371, "question_id": 50364409, "link": "https://stackoverflow.com/questions/50364409/function-argument-should-be-type-of-one-of-the-objects-key-type", "title": "function argument should be type of one of the object&#39;s key type", "body": "<p>In Typescript,\nI have a function:-</p>\n\n<pre><code>   function updateSetting(settingName, settingValue: string[]| number | null) { \n      this.props.updateSetting({[settingName]}: settingValue)\n  }\n</code></pre>\n\n<p>and i also have a object, so i have an interface for it</p>\n\n<pre><code>   interface Setting {\n      names: string[]\n      city: string | null\n      age: number\n   }\n</code></pre>\n\n<p>So, i want to use object as an argument, and i also want that one of the property of the object is passed as an argument which is decided at the run time. So in my function settingName can be either 'name' or 'city' or 'age', so i want to assign the type from the interface itself.</p>\n\n<p>I don't want to write (<code>settingValue: string[]| number | null)</code> i want to write something like </p>\n\n<pre><code>settingValue: valueof Setting\n</code></pre>\n\n<p>because setting value can be any of the type <code>names, city, age</code>.</p>\n\n<p>How can i achieve this in typescript ?</p>\n"}, {"tags": ["javascript", "typescript", "npm", "webpack", "ajv"], "comments": [{"owner": {"reputation": 1189, "user_id": 8218847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0292199cbfe68042880703730c58f353?s=128&d=identicon&r=PG", "display_name": "Ash Belmokadem", "link": "https://stackoverflow.com/users/8218847/ash-belmokadem"}, "edited": false, "score": 0, "creation_date": 1528462558, "post_id": 50364263, "comment_id": 88529699, "body": "Have you looked at <a href=\"https://github.com/garycourt/uri-js/issues/32\" rel=\"nofollow noreferrer\">github.com/garycourt/uri-js/issues/32</a> And also from a debugging perspective have you tried to include this package as part of your Typescript compilation?"}, {"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 0, "creation_date": 1528676503, "post_id": 50364263, "comment_id": 88584604, "body": "Why do you think that using babel is a overkill?? It does perfect sense. Especially at situations like this. You dont need to look behind (ES5) anymore. Debuging vendor dependencies for specs? Really?"}, {"owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "reply_to_user": {"reputation": 1189, "user_id": 8218847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0292199cbfe68042880703730c58f353?s=128&d=identicon&r=PG", "display_name": "Ash Belmokadem", "link": "https://stackoverflow.com/users/8218847/ash-belmokadem"}, "edited": false, "score": 0, "creation_date": 1528714206, "post_id": 50364263, "comment_id": 88597846, "body": "@AshBelmokadem and @bigless I need fast compiliation turnaround time. If I compile / transpile all the <code>node_modues</code> (&gt;1200) when not needed I will loose a lot of time for this. This will not really work for TDD development where speedy turnaround times are key. In this case the library even ships a already compiled ES5 version. Why this if one can not pick this version? At least not with webpack. Just wonder if there is a mechanism to pick up specific dist-versions of libraries if the libs are shipping them. Make no sense to ship them if not. Right?"}, {"owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "reply_to_user": {"reputation": 1189, "user_id": 8218847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0292199cbfe68042880703730c58f353?s=128&d=identicon&r=PG", "display_name": "Ash Belmokadem", "link": "https://stackoverflow.com/users/8218847/ash-belmokadem"}, "edited": false, "score": 0, "creation_date": 1528714339, "post_id": 50364263, "comment_id": 88597923, "body": "@AshBelmokadem The linked issue sounds like they recommend sticking with an old version (and old version of all the dependencies). Correct?"}, {"owner": {"reputation": 1189, "user_id": 8218847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0292199cbfe68042880703730c58f353?s=128&d=identicon&r=PG", "display_name": "Ash Belmokadem", "link": "https://stackoverflow.com/users/8218847/ash-belmokadem"}, "edited": false, "score": 1, "creation_date": 1528722242, "post_id": 50364263, "comment_id": 88602704, "body": "@Marc correct, and I was suggesting to only transpile a single module by including it. You do not need to transpile the entire node_modules folder."}, {"owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "reply_to_user": {"reputation": 1189, "user_id": 8218847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0292199cbfe68042880703730c58f353?s=128&d=identicon&r=PG", "display_name": "Ash Belmokadem", "link": "https://stackoverflow.com/users/8218847/ash-belmokadem"}, "edited": false, "score": 0, "creation_date": 1528781370, "post_id": 50364263, "comment_id": 88625177, "body": "@AshBelmokadem That may be an option. The problem is that it gets kind of tricky as node_modules is not within my TS root directory. I have to change all my config quite a bit or feature bable which don&#39;t yet use at all. But yes, maybe I have to do this."}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 4869857, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/10ec81703b68253b05bbdf552b639838?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio ha", "link": "https://stackoverflow.com/users/4869857/fabio-ha"}, "edited": false, "score": 0, "creation_date": 1542898341, "post_id": 50813562, "comment_id": 93740695, "body": "I have the exact same problem in my code. Have you been able to solve this?"}, {"owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "reply_to_user": {"reputation": 503, "user_id": 4869857, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/10ec81703b68253b05bbdf552b639838?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio ha", "link": "https://stackoverflow.com/users/4869857/fabio-ha"}, "edited": false, "score": 0, "creation_date": 1542965409, "post_id": 50813562, "comment_id": 93760805, "body": "For Ajv I got a pull-request merged to do the minor update so the working version of the Url packages get pulled. You can also add a dependency in your apps package.json to force a newer version of the Url NPM. Speaking more generally there seems to be no concept in NPM to force a specific platform / flavor. Its all up the each packages authors."}, {"owner": {"reputation": 503, "user_id": 4869857, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/10ec81703b68253b05bbdf552b639838?s=128&d=identicon&r=PG&f=1", "display_name": "Fabio ha", "link": "https://stackoverflow.com/users/4869857/fabio-ha"}, "edited": false, "score": 0, "creation_date": 1542966441, "post_id": 50813562, "comment_id": 93761317, "body": "I just saw, that I am already on uri-js@4.2.2. However I am still getting the Syntax Error in IE. I also read that uri-js uses a newer version of punycode(2.1.1), which doesn&#39;t support IE. Do you have an idea, why I still face the issue with the 4.2.2 version?"}], "tags": [], "owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "is_accepted": true, "score": 2, "last_activity_date": 1531204857, "last_edit_date": 1531204857, "creation_date": 1528795233, "answer_id": 50813562, "question_id": 50364263, "link": "https://stackoverflow.com/questions/50364263/how-to-select-node-modules-dist-flavor-to-bundled-with-webpack/50813562#50813562", "title": "How to select node_modules dist flavor to bundled with webpack", "body": "<blockquote>\n  <ol>\n  <li>Can I specify that I prefere ES5 version of the dist folder for my node_modules? Maybe in my webpack.config or in package.json?</li>\n  </ol>\n</blockquote>\n\n<p>As I understand there is no common way for handling different flavor (eg. ES5, ESNEXT, etc.) of the same NPM package. Each package has its own way of doing things. So there is no general way of choosing things. Instead one have to incorporate stuff into your task-runner (Gulp, Webpack, Grunt, etc) to address problems arise.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>How does the selection of the right node_modules/.../dist/ folders work?</li>\n  </ol>\n</blockquote>\n\n<p>A NPM package contains a <code>package.json</code>. Within this file there is a <code>main</code> field which specifies what to include/use in your app or what gets picked by the bundler etc. If no <code>main</code> value exists <code>index.js</code> will be used as the default. </p>\n\n<p>The rest of the selection process is package-specific. This applies also to the folder structure of a package. Some use <code>/dist/..</code> for different flavors others ship debug and production version in other folders. Highly depends on each package itself what files/versions of files are used.</p>\n\n<p>There is no standardized system like in .net Nuget packages the structure of the <code>lib/...</code> folder.</p>\n\n<p>What I am still not sure about is why ESNEXT version of URL-JS gets picked as the URL-JS points to its ES5 version. Working on this one ;-)</p>\n"}], "owner": {"reputation": 4085, "user_id": 105443, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/decd0658139a3ad7bcbc352017894246?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/105443/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1123, "favorite_count": 2, "accepted_answer_id": 50813562, "answer_count": 1, "score": 8, "last_activity_date": 1531204857, "creation_date": 1526453851, "question_id": 50364263, "link": "https://stackoverflow.com/questions/50364263/how-to-select-node-modules-dist-flavor-to-bundled-with-webpack", "title": "How to select node_modules dist flavor to bundled with webpack", "body": "<p><strong>Problem:</strong></p>\n\n<p>After I upgraded AJV.js to Version 6.4 my vendor bundle includes the \"uri-js\" ESNEXT version instead the ES5 version what breaks IE11 compatibillity.</p>\n\n<p><strong>Analysis:</strong></p>\n\n<p>I figured that that AJV referes to uri-js with a <code>require('uri-js')</code> call and that <em>uri-js</em> comes in two flavors:</p>\n\n<p><code>/node_modules/uri-js/dist/:</code></p>\n\n<ul>\n<li>es5</li>\n<li>esnext</li>\n</ul>\n\n<p>For some reason Webpack (V 4.8) bundles the 'esnext' flavor of uri-js into my vendor-bundle instead using the 'es5'. I couldn't find how/where I have to specify that my preferred build target is.</p>\n\n<p>Here is my webpack.config.js:</p>\n\n<pre><code>const path = require(\"path\");\nconst webpack = require(\"webpack\");\nconst ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\nconst HtmlWebpackPlugin = require(\"html-webpack-plugin\");\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\n\nmodule.exports = {\n    entry: {\n        app: './src/index.tsx'\n    },\n    output: {\n        filename: \"js/[name].bundle.js\",\n        path: __dirname + \"/dist\"\n    },\n    devtool: \"source-map\",\n    resolve: {\n        extensions: [\".ts\", \".tsx\", \".js\", \".jsx\", \".json\"]\n    },\n    module: {\n        rules: [\n            {\n                test: /\\.tsx?$/,\n                loader: \"ts-loader\"\n            },\n            {\n                test: /\\.less$/,\n                use: ExtractTextPlugin.extract({\n                    use: [{\n                        loader: \"css-loader\",\n                        options: {\n                            localIdentName: '[local]--[hash:5]',\n                            sourceMap: true\n                        }\n\n                    }, {\n                        loader: \"less-loader\",\n                        options: {\n                            sourceMap: true\n                        }\n                    }],\n                    fallback: \"style-loader\",\n                    publicPath: \"../\"\n                }),\n                exclude: \"/node_modules/\"\n            },\n            {\n                test: /\\.html$/,\n                use: 'raw-loader'\n            },\n            {\n                test: /\\.jpe?g$|\\.gif$|\\.png$/i,\n                loader: \"file-loader?name=assets/img/[name].[ext]\"\n            },\n            {\n                test: /\\.woff2?$|\\.ttf$|\\.eot$|\\.svg$/,\n                use: \"file-loader?name=assets/[name].[ext]\"\n            }\n        ]\n    },\n    plugins: [\n        new ExtractTextPlugin({\n            filename: \"quino/style/style.css\",\n            allChunks: true\n        }),\n        new HtmlWebpackPlugin({\n            template: \"src/index.html\",\n            filename: \"index.html\"\n        }),\n        new CopyWebpackPlugin([])\n    ],\n    optimization: {\n        splitChunks: {\n            cacheGroups: {\n                commons: { test: /[\\\\/]node_modules[\\\\/]/, name: \"vendors\", chunks: \"all\" }\n            }\n        }\n    }\n};\n</code></pre>\n\n<p>package.json:</p>\n\n<pre><code>{\n  \"name\": \"MyApp\",\n  \"version\": \"1.0.0\",\n  \"sideEffects\": false,\n  \"description\": \"-\",\n  \"private\": false,\n  \"scripts\": {\n    \"build\": \"webpack --config webpack.config.js --mode production\",\n    \"dev\": \"webpack-dev-server --config webpack.config.js --host 0.0.0.0 --progress --colors --history-api-fallback --mode development\"\n  },\n  \"author\": \"Me\",\n  \"license\": \"some\",\n  \"devDependencies\": {\n   .... stuff ....\n  },\n  \"dependencies\": {\n    .... stuff ....\n    \"ajv\": \"^6.4.0\",\n    .... more stuff ....\n  }\n}\n</code></pre>\n\n<p>I do understand that my own code gets transpiled to ES5 using the TypeScript (V 2.8) compiler. But what about the node_modules? Especially the one that already ship a ES5 version within their dist-folder?</p>\n\n<p>In case it matters here my tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"outDir\": \"build/dist\",\n    \"module\": \"esnext\",\n    \"target\": \"es5\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"sourceMap\": true,\n    \"allowJs\": true,\n    \"jsx\": \"react\",\n    \"moduleResolution\": \"node\",\n    \"rootDir\": \"src\",\n    \"forceConsistentCasingInFileNames\": true,\n    \"noImplicitReturns\": true,\n    \"noImplicitThis\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"noUnusedLocals\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true\n  },\n  \"exclude\": [\n    \"dist/**\",\n    \"./*.js\",\n    \"node_modules\",\n    \"build\",\n    \"scripts\",\n    \"acceptance-tests\",\n    \"webpack\",\n    \"jest\",\n    \"src/setupTests.ts\"\n  ]\n}\n</code></pre>\n\n<p>I also thought about including Babel to downgrade all node_modules to ES5 but that sounds like an overkill to me especially as the modules have included ES5 flavors already.</p>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>Can I specify that I prefere ES5 version of the <code>dist</code> folder for my <code>node_modules</code>? Maybe in my webpack.config or in <code>package.json</code>?</p></li>\n<li><p>How does the selection of the right <code>node_modules/.../dist/</code> folders work?</p></li>\n</ol>\n"}, {"tags": ["angular", "cordova", "typescript", "observable"], "comments": [{"owner": {"reputation": 4775, "user_id": 5243272, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ZMyzR.jpg?s=128&g=1", "display_name": "sandrooco", "link": "https://stackoverflow.com/users/5243272/sandrooco"}, "edited": false, "score": 0, "creation_date": 1526453540, "post_id": 50364114, "comment_id": 87744476, "body": "At the time the console.log is executed, the <code>.subscribe</code> function isn&#39;t called. So I would use a log (and a proper callback function to make it work) instead of <code>return results</code>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1526453681, "creation_date": 1526453681, "answer_id": 50364219, "question_id": 50364114, "link": "https://stackoverflow.com/questions/50364114/make-return-execute-first-before-returning-undefined/50364219#50364219", "title": "make return execute first before returning undefined", "body": "<pre><code>this.speechRecognition.startListening(options) \n  .subscribe(\n    (results: Array&lt;string&gt;) =&gt; {return results},\n    (onerror: string) =&gt; (console.log(\"Error: \"+onerror))\n  );\n</code></pre>\n\n<p>This won't produce anything. </p>\n\n<p>Try this instead. </p>\n\n<pre><code>this.speechRecognition.startListening(options) \n  .subscribe(\n    (results: Array&lt;string&gt;) =&gt; {\n      console.log(results);\n    },\n    (onerror: string) =&gt; (console.log(\"Error: \"+onerror))\n  );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "is_accepted": true, "score": 0, "last_activity_date": 1526453904, "creation_date": 1526453904, "answer_id": 50364275, "question_id": 50364114, "link": "https://stackoverflow.com/questions/50364114/make-return-execute-first-before-returning-undefined/50364275#50364275", "title": "make return execute first before returning undefined", "body": "<p>Because Angular calls the subscribe method asynchronously, the function within console.log(startSpeechRecognition()) will return undefined even before the observable has been subscribed. </p>\n\n<p>You can apply console.log() inside the subscribe:</p>\n\n<pre><code>this.speechRecognition.startListening(options) \n.subscribe(\n(results: Array&lt;string&gt;) =&gt; {\n console.log(results);\n return results;\n },\n(onerror: string) =&gt; (console.log(\"Error: \"+onerror))\n);\n</code></pre>\n\n<p>or add a add() method after subscription:</p>\n\n<pre><code>let obj = [];\nthis.speechRecognition.startListening(options) \n.subscribe(\n(results: Array&lt;string&gt;) =&gt; {\n obj = results;\n },\n(onerror: string) =&gt; (console.log(\"Error: \"+onerror))\n).add(()=&gt;\n{ \n//Use your object here\n console.log(obj);\n });\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9798258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99eb542347fc2bb5f7ed348bfca5fd0c?s=128&d=identicon&r=PG&f=1", "display_name": "Index", "link": "https://stackoverflow.com/users/9798258/index"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 50364275, "answer_count": 2, "score": 1, "last_activity_date": 1526453904, "creation_date": 1526453290, "question_id": 50364114, "link": "https://stackoverflow.com/questions/50364114/make-return-execute-first-before-returning-undefined", "title": "make return execute first before returning undefined", "body": "<p>I'm using a cordova speech recognition plugin (<a href=\"https://github.com/pbakondy/cordova-plugin-speechrecognition\" rel=\"nofollow noreferrer\">https://github.com/pbakondy/cordova-plugin-speechrecognition</a>) which the method will return what the user has spoken. However if I console.log(startSpeechRecognition()), the <strong>return results</strong> will not be executed and it will return as 'undefined'</p>\n\n<pre><code>startSpeechRecognition() {\nvar options = {\n  language:'en-US',\n  showPopup:false\n};\n\nthis.speechRecognition.startListening(options) \n  .subscribe(\n    (results: Array&lt;string&gt;) =&gt; {return results},\n    (onerror: string) =&gt; (console.log(\"Error: \"+onerror))\n  );\n}\n</code></pre>\n\n<p>I've tried another solution (<a href=\"https://stackoverflow.com/questions/36777284/angular-2-convert-observable-to-promise\">Angular 2: Convert Observable to Promise</a>) by using toPromise() but I still get the same result. Any help is greatly appreciated.</p>\n"}, {"tags": ["reactjs", "typescript", "react-google-maps", "recompose"], "answers": [{"comments": [{"owner": {"reputation": 2602, "user_id": 3565829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/88236592cc604cf1becc585717ca8c6b?s=128&d=identicon&r=PG&f=1", "display_name": "yerassyl", "link": "https://stackoverflow.com/users/3565829/yerassyl"}, "edited": false, "score": 0, "creation_date": 1526533531, "post_id": 50364865, "comment_id": 87782855, "body": "Nope, props types (same error) do not match in this case. One way I could do is to pass it via props.children."}], "tags": [], "owner": {"reputation": 4481, "user_id": 71332, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8f548df209d8be9263bb5ff73655852d?s=128&d=identicon&r=PG", "display_name": "WayneC", "link": "https://stackoverflow.com/users/71332/waynec"}, "is_accepted": false, "score": 0, "last_activity_date": 1526456052, "creation_date": 1526456052, "answer_id": 50364865, "question_id": 50364022, "link": "https://stackoverflow.com/questions/50364022/typescript-react-dealing-with-props-types/50364865#50364865", "title": "Typescript react dealing with props types", "body": "<p>Does it work if you type the props in the functional component you pass to compose eg: </p>\n\n<pre><code>const GoogleMapComponent = compose(\n  withProps({\n    googleMapURL: \"url\",\n    loadingElement: &lt;div style={{ height: `100%` }} /&gt;,\n    containerElement: &lt;div style={{ height: `400px` }} /&gt;,\n    mapElement: &lt;div style={{ height: `100%` }} /&gt;,\n  }),\n  withScriptjs,\n  withGoogleMap\n)((props: IProps) =&gt; {\n  const {data} = props;\n  return(\n    &lt;GoogleMap\n      defaultZoom={9}\n      defaultCenter={{ lat: -34.397, lng: 150.643 }}\n    &gt;\n      &lt;HeatmapLayer /&gt;\n    &lt;/GoogleMap&gt;\n  );\n});\n</code></pre>\n"}], "owner": {"reputation": 2602, "user_id": 3565829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/88236592cc604cf1becc585717ca8c6b?s=128&d=identicon&r=PG&f=1", "display_name": "yerassyl", "link": "https://stackoverflow.com/users/3565829/yerassyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 415, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1526456052, "creation_date": 1526452967, "last_edit_date": 1526455404, "question_id": 50364022, "link": "https://stackoverflow.com/questions/50364022/typescript-react-dealing-with-props-types", "title": "Typescript react dealing with props types", "body": "<p>I am using react-google-maps library for Google maps api. According to documentation this is how I use maps:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const GoogleMapComponent: React.ComponentClass&lt;{}&gt; = compose(\r\n  withProps({\r\n    googleMapURL: \"url\",\r\n    loadingElement: &lt;div style={{ height: `100%` }} /&gt;,\r\n    containerElement: &lt;div style={{ height: `400px` }} /&gt;,\r\n    mapElement: &lt;div style={{ height: `100%` }} /&gt;,\r\n  }),\r\n  withScriptjs,\r\n  withGoogleMap\r\n)((props) =&gt; {\r\n  const {data} = props;\r\n  return(\r\n      &lt;GoogleMap\r\n        defaultZoom={9}\r\n        defaultCenter={{ lat: -34.397, lng: 150.643 }}\r\n      &gt;\r\n        &lt;HeatmapLayer /&gt;\r\n      &lt;/GoogleMap&gt;\r\n    )\r\n  }\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The problem here is that when I use this component I need to pass prop \"data\", if console.log(props) I can see that my data prop is passed normally, but since I am using typescript, typescript does not now about this prop, it gives me error like that: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Property 'data' does not exist on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;{}, ComponentState, any&gt;&gt; &amp; Readonly&lt;{</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Basically I create Interface for this and declare my data prop, and create react component like that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const GoogleMapComponent: React.ComponentClass&lt;IProps&gt; </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then I am able to access necessary props. The problem here, If I try to pass interface IProps, I get this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Type '{ children?: ReactNode; }' has no property 'data' and no string index signature.</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I believe this is because of compose method.</p>\n\n<p>I think, here the question is more to react-google-maps library and its usage with Typescript, as I believe it should work in any other case. But may be not, maybe there is a trick in declaring my component in other way.</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular5", "angular4-router"], "answers": [{"tags": [], "owner": {"reputation": 3002, "user_id": 9766215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHh26.jpg?s=128&g=1", "display_name": "Prachi", "link": "https://stackoverflow.com/users/9766215/prachi"}, "is_accepted": false, "score": 1, "last_activity_date": 1526451904, "creation_date": 1526451904, "answer_id": 50363758, "question_id": 50363598, "link": "https://stackoverflow.com/questions/50363598/angular-2-routerlink-params-query-params/50363758#50363758", "title": "Angular 2 routerLink params &amp; query params", "body": "<p>Try using:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/market', currency]\" [queryParams]=\"{sidebar: home}\"&gt;&lt;/a&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1526452823, "post_id": 50363811, "comment_id": 87744073, "body": "Out of topic, but where could I find documentation for that <code>queryParams</code> input ? I don&#39;t recall seeing it in the routing guide"}, {"owner": {"reputation": 2267, "user_id": 6949235, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a537a7eccc642b99f1ec3bac062e6586?s=128&d=identicon&r=PG", "display_name": "CruelEngine", "link": "https://stackoverflow.com/users/6949235/cruelengine"}, "edited": false, "score": 1, "creation_date": 1526453234, "post_id": 50363811, "comment_id": 87744307, "body": "@trichetriche it is a part of NavigationExtras : <a href=\"https://angular.io/guide/router#query-parameters-and-fragments\" rel=\"nofollow noreferrer\">angular.io/guide/router#query-parameters-and-fragments</a>"}, {"owner": {"reputation": 2267, "user_id": 6949235, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a537a7eccc642b99f1ec3bac062e6586?s=128&d=identicon&r=PG", "display_name": "CruelEngine", "link": "https://stackoverflow.com/users/6949235/cruelengine"}, "edited": false, "score": 0, "creation_date": 1526453359, "post_id": 50363811, "comment_id": 87744380, "body": "mention not @trichetriche :)"}], "tags": [], "owner": {"reputation": 2267, "user_id": 6949235, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a537a7eccc642b99f1ec3bac062e6586?s=128&d=identicon&r=PG", "display_name": "CruelEngine", "link": "https://stackoverflow.com/users/6949235/cruelengine"}, "is_accepted": true, "score": 8, "last_activity_date": 1526452088, "creation_date": 1526452088, "answer_id": 50363811, "question_id": 50363598, "link": "https://stackoverflow.com/questions/50363598/angular-2-routerlink-params-query-params/50363811#50363811", "title": "Angular 2 routerLink params &amp; query params", "body": "<p>you just need to preserve your queryParams :</p>\n\n<p><code>queryParamsHandling=\"preserve\"</code></p>\n\n<p>Add the above attribute/directive to your route : </p>\n\n<pre><code>&lt;a [routerLink]=\"['/market', currency]\" [queryParams]=\"{sidebar: 'home'}\" queryParamsHandling=\"preserve\"&gt;&lt;/a&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5988, "user_id": 5765795, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Zy5lF.png?s=128&g=1", "display_name": "Sangwin Gawande", "link": "https://stackoverflow.com/users/5765795/sangwin-gawande"}, "is_accepted": false, "score": 4, "last_activity_date": 1526452738, "creation_date": 1526452738, "answer_id": 50363969, "question_id": 50363598, "link": "https://stackoverflow.com/questions/50363598/angular-2-routerlink-params-query-params/50363969#50363969", "title": "Angular 2 routerLink params &amp; query params", "body": "<p>There is no issue in your code. I tried following and its working nicely.</p>\n\n<p>I have even added an extra parameter.</p>\n\n<pre><code>&lt;a [routerLink]=\"['/market', currency]\" [queryParams]=\"{sidebar:'home',tab:'5'}\"&gt;Go to market&lt;/a&gt;\n</code></pre>\n\n<p>TS :</p>\n\n<pre><code>const routes: Routes = [\n    { path: \"market/:currency\", component: AppComponent}\n];\n</code></pre>\n\n<p>I am getting following result :</p>\n\n<blockquote>\n  <p><a href=\"http://localhost:49152/market/currency?sidebar=home&amp;tab=5\" rel=\"nofollow noreferrer\">http://localhost:49152/market/currency?sidebar=home&amp;tab=5</a></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "is_accepted": false, "score": 6, "last_activity_date": 1526453458, "creation_date": 1526453458, "answer_id": 50364159, "question_id": 50363598, "link": "https://stackoverflow.com/questions/50363598/angular-2-routerlink-params-query-params/50364159#50364159", "title": "Angular 2 routerLink params &amp; query params", "body": "<p>you can try:</p>\n\n<pre><code>&lt;a [routerLink]=\"'/market/'+ currency\" [queryParams]=\"{sidebar: 'home'}\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>&lt;a routerLink = \"/market/{{currency}}\" [queryParams]=\"{sidebar: 'home'}\"&gt;&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 114, "user_id": 7075331, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210851914439469/picture?type=large", "display_name": "Bahri Can Karakoyun", "link": "https://stackoverflow.com/users/7075331/bahri-can-karakoyun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9310, "favorite_count": 0, "accepted_answer_id": 50363811, "answer_count": 4, "score": 3, "last_activity_date": 1572509935, "creation_date": 1526451218, "last_edit_date": 1527489154, "question_id": 50363598, "link": "https://stackoverflow.com/questions/50363598/angular-2-routerlink-params-query-params", "title": "Angular 2 routerLink params &amp; query params", "body": "<p>Here is my route:</p>\n\n<pre><code>{ path: 'market/:currency', component: MainlayoutComponent, canActivate: [AuthGuard]}\n</code></pre>\n\n<p>I want redirect to with query params like this:</p>\n\n<p><strong>market/btc?sidebar=home</strong></p>\n\n<pre><code>&lt;a [routerLink]=\"['/market', currency]\" [queryParams]=\"{sidebar: 'home'}\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>But when i click its redirect <strong>market/btc</strong></p>\n\n<p>What's the problem.</p>\n\n<p>Editing</p>\n\n<p>This code works i have another bug but i solved.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1526451406, "post_id": 50363591, "comment_id": 87743443, "body": "You are not setting the <code>showDiv</code> back to true when clicking on another div. Bind a function to your click which turns all <code>showDiv</code> to true and only the one clicked to false."}], "answers": [{"comments": [{"owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "edited": false, "score": 0, "creation_date": 1526456283, "post_id": 50363711, "comment_id": 87746047, "body": "can i do it without using *ngIf, i have to iterate over and hide the same &lt;div&gt; and I cannot use *ngIf and *ngFor on same &lt;div&gt;"}, {"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "reply_to_user": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "edited": false, "score": 0, "creation_date": 1526458164, "post_id": 50363711, "comment_id": 87747207, "body": "While you can apply <code>*ngFor</code> and <code>*ngIf</code> to the same element, that won&#39;t  work in your case, because if the <code>*ngIf</code> is false the element is not displayed and therfor the <code>*ngFor</code> will not be in your dom aswell. If you dont want to have a <code>&lt;div&gt;</code> for <code>*ngFor</code> than you could use the <code>&lt;ng-container&gt;</code> element which is not rendered to the dom."}, {"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "reply_to_user": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "edited": false, "score": 0, "creation_date": 1526471328, "post_id": 50363711, "comment_id": 87756047, "body": "@Anna would be great if you accept the awnser if it was helpful"}], "tags": [], "owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "is_accepted": true, "score": 1, "last_activity_date": 1526462761, "last_edit_date": 1526462761, "creation_date": 1526451737, "answer_id": 50363711, "question_id": 50363591, "link": "https://stackoverflow.com/questions/50363591/show-one-div-on-click-of-the-other-without-using-ngif/50363711#50363711", "title": "Show one div on click of the other without using *ngIf", "body": "<p>No to pretty, but something like this in your component</p>\n\n<pre><code>onClick(event: any) {\n     for(let i = 0; i &lt; this.episodes.length; i++) {\n         if(this.episodes[i] == event) {\n              this.episodes[i].showDiv = false;\n         } else {\n              this.episodes[i].showDiv = true;\n         }\n     }\n}\n</code></pre>\n\n<p>And in your html</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let episode of episodes; let i = index\"&gt;\n    &lt;div class=\"tiles\" *ngIf=\"episode.showDiv\" (click)=\"onClick(episode)\" style=\"width:100px;height:100px;border:2px solid black\"&gt;\n        tile{{i}}\n    &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-zjmjdq\" rel=\"nofollow noreferrer\">Here</a> is a working stackblitz btw.</p>\n"}], "owner": {"reputation": 1497, "user_id": 982402, "user_type": "registered", "accept_rate": 6, "profile_image": "https://www.gravatar.com/avatar/334abafdce6130d035a9487e9f379e61?s=128&d=identicon&r=PG", "display_name": "Anna", "link": "https://stackoverflow.com/users/982402/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 50363711, "answer_count": 1, "score": 0, "last_activity_date": 1526462761, "creation_date": 1526451200, "last_edit_date": 1526456517, "question_id": 50363591, "link": "https://stackoverflow.com/questions/50363591/show-one-div-on-click-of-the-other-without-using-ngif", "title": "Show one div on click of the other without using *ngIf", "body": "<p>When I click on 1st <code>&lt;div&gt;</code> it should hide, when I click on 2nd <code>&lt;div&gt;</code> the second <code>&lt;div&gt;</code> should hide but 1st should appear. Similarly when I click on any <code>&lt;div&gt;</code> it should hide but other hidden <code>&lt;div&gt;</code> should appear. What I achieved is, onclick on <code>&lt;div&gt;</code> it is hidding but onclick of another <code>&lt;div&gt;</code> the hidden <code>&lt;div&gt;</code> is not appearing back. Please suggest what to do.</p>\n\n<p>NOTE: I have to iterate over and hide the same  and I cannot use *ngIf and *ngFor on same </p>\n\n<pre><code>    &lt;hello name=\"{{ name }}\"&gt;&lt;/hello&gt;\n&lt;p&gt;\n  Start editing to see some magic happen :)\n&lt;/p&gt;\n&lt;div *ngFor=\"let episode of episodes; let i = index\" (click)=\"episode.showDiv = false\" style=\"width:100px;height:100px;border:2px solid black\"&gt;\n  tile{{i}}  \n&lt;/div&gt;\n\n\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular 6';\n  hide = null;\n  episodes = [\n    { title: 'Winter Is Coming', director: 'Tim Van Patten', 'showDiv': true },\n    { title: 'The Kingsroad', director: 'Tim Van Patten', 'showDiv': true },\n    { title: 'Lord Snow', director: 'Brian Kirk', 'showDiv': true },\n    { title: 'Cripples, Bastards, and Broken Things', director: 'Brian Kirk', 'showDiv': true },\n    { title: 'The Wolf and the Lion', director: 'Brian Kirk', 'showDiv': true },\n    { title: 'A Golden Crown', director: 'Daniel Minahan', 'showDiv': true },\n    { title: 'You Win or You Die', director: 'Daniel Minahan', 'showDiv': true },\n    { title: 'The Pointy End', director: 'Daniel Minahan', 'showDiv': true }\n  ];\n\n\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 0, "creation_date": 1571417397, "post_id": 50363449, "comment_id": 103247499, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42088007/is-there-source-map-support-for-typescript-in-node-nodemon\">Is there source map support for typescript in node / nodemon?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 443, "user_id": 4477520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb63c0d12c09b482bd259836d878f3?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Poojari", "link": "https://stackoverflow.com/users/4477520/deepak-poojari"}, "edited": false, "score": 0, "creation_date": 1526461798, "post_id": 50363684, "comment_id": 87749575, "body": "I don&#39;t see any source map file. my config file is { &quot;compilerOptions&quot;: { &quot;sourceMap&quot;: true, } }, &quot;include&quot;: [ &quot;src/**/*&quot; ] }"}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "reply_to_user": {"reputation": 443, "user_id": 4477520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb63c0d12c09b482bd259836d878f3?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Poojari", "link": "https://stackoverflow.com/users/4477520/deepak-poojari"}, "edited": false, "score": 0, "creation_date": 1526491812, "post_id": 50363684, "comment_id": 87769876, "body": "Can you please paste complete tsconfig.json file?"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1583591348, "post_id": 50363684, "comment_id": 107172450, "body": "What&#39;s the &quot;it&quot; in the &quot;it will automatically give you line number from TS file&quot;? The point of the question is that the OP wants <code>node</code> to show the line number of the error in the <code>.ts</code> file, not in the generated <code>.js</code> file."}, {"owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "edited": false, "score": 0, "creation_date": 1583907941, "post_id": 50363684, "comment_id": 107265989, "body": "Here &quot;it&quot; means node. If you generate a map file for a ts file, then you will have ability to directly debug ts file. Which means you can get the exact place of error."}], "tags": [], "owner": {"reputation": 1256, "user_id": 4510224, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4da794ae69a42e52276edc3f39c2882e?s=128&d=identicon&r=PG&f=1", "display_name": "Manish Kumawat", "link": "https://stackoverflow.com/users/4510224/manish-kumawat"}, "is_accepted": false, "score": -2, "last_activity_date": 1526451615, "creation_date": 1526451615, "answer_id": 50363684, "question_id": 50363449, "link": "https://stackoverflow.com/questions/50363449/how-to-get-error-information-relating-to-typescript-file-lines-number-in-node-js/50363684#50363684", "title": "How to get error information relating to TypeScript file lines number in node.js?", "body": "<p>You can achieve taht by having map files. When you have map files and map files are associated with js files then it will automatically give you line number from TS file.</p>\n\n<p>You can generate map files using some configuration in tsconfig.json file</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    }\n}\n</code></pre>\n\n<p>You need to keep <strong>sourceMap</strong> setting as true</p>\n"}, {"comments": [{"owner": {"reputation": 443, "user_id": 4477520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb63c0d12c09b482bd259836d878f3?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Poojari", "link": "https://stackoverflow.com/users/4477520/deepak-poojari"}, "edited": false, "score": 0, "creation_date": 1526461738, "post_id": 50363693, "comment_id": 87749536, "body": "I don&#39;t see any source map file. my config file is { &quot;compilerOptions&quot;: { &quot;sourceMap&quot;: true, } }, &quot;include&quot;: [ &quot;src/**/*&quot; ] }"}, {"owner": {"reputation": 14730, "user_id": 6120338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0865ba5a8a6f29ef80937137f7869026?s=128&d=identicon&r=PG", "display_name": "Ritwick Dey", "link": "https://stackoverflow.com/users/6120338/ritwick-dey"}, "reply_to_user": {"reputation": 443, "user_id": 4477520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb63c0d12c09b482bd259836d878f3?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Poojari", "link": "https://stackoverflow.com/users/4477520/deepak-poojari"}, "edited": false, "score": 0, "creation_date": 1526461978, "post_id": 50363693, "comment_id": 87749700, "body": "How you&#39;re compiling ? It is <code>tsc -p tsconfig.json</code>"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 1, "creation_date": 1571416021, "post_id": 50363693, "comment_id": 103246944, "body": "Is it possible to register source map support without calling <code>require(&#39;source-map-support&#39;).install()</code>?"}, {"owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "edited": false, "score": 1, "creation_date": 1571416976, "post_id": 50363693, "comment_id": 103247325, "body": "I figured that out: <a href=\"https://stackoverflow.com/a/58454944/457268\">stackoverflow.com/a/58454944/457268</a>"}], "tags": [], "owner": {"reputation": 14730, "user_id": 6120338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0865ba5a8a6f29ef80937137f7869026?s=128&d=identicon&r=PG", "display_name": "Ritwick Dey", "link": "https://stackoverflow.com/users/6120338/ritwick-dey"}, "is_accepted": false, "score": 16, "last_activity_date": 1526452000, "last_edit_date": 1526452000, "creation_date": 1526451659, "answer_id": 50363693, "question_id": 50363449, "link": "https://stackoverflow.com/questions/50363449/how-to-get-error-information-relating-to-typescript-file-lines-number-in-node-js/50363693#50363693", "title": "How to get error information relating to TypeScript file lines number in node.js?", "body": "<p>Install <code>source-map-support</code> package.</p>\n\n<pre><code>$ npm install --save-dev source-map-support\n</code></pre>\n\n<p>Add this line in the entry point of node.js </p>\n\n<pre><code>require('source-map-support').install();\n</code></pre>\n\n<p>In your <code>tsconfig.json</code>,  </p>\n\n<pre><code>{\n   \"compilerOptions\": {\n      \"sourceMap\": true\n   }\n}\n</code></pre>\n\n<p>Ref: <a href=\"https://github.com/evanw/node-source-map-support#typescript-demo\" rel=\"noreferrer\">https://github.com/evanw/node-source-map-support#typescript-demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 40169, "user_id": 457268, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/404bbb83c4aecfce65c2c882dc0cd94e?s=128&d=identicon&r=PG", "display_name": "k0pernikus", "link": "https://stackoverflow.com/users/457268/k0pernikus"}, "is_accepted": false, "score": 3, "last_activity_date": 1571417130, "last_edit_date": 1571417130, "creation_date": 1571416556, "answer_id": 58454944, "question_id": 50363449, "link": "https://stackoverflow.com/questions/50363449/how-to-get-error-information-relating-to-typescript-file-lines-number-in-node-js/58454944#58454944", "title": "How to get error information relating to TypeScript file lines number in node.js?", "body": "<p>It's also possible to register source-map via node's require option <code>require</code> within the <a href=\"https://github.com/evanw/node-source-map-support#cli-usage\" rel=\"nofollow noreferrer\">cli</a>:</p>\n\n<pre><code>node -r source-map-support/register compiled.js\n</code></pre>\n\n<p>The docs also point out that babel-register already includes source-map-support and that one can use it with mocha this way:</p>\n\n<pre><code>mocha --require source-map-support/register tests/\n</code></pre>\n\n<p>I did not want to call</p>\n\n<pre><code>require('source-map-support').install();\n</code></pre>\n\n<p>on each entry file. (It may be sufficient if you have only one entrypoint. Yet I have many.)</p>\n\n<p>The basic setup still is the same as outlined by the <a href=\"https://stackoverflow.com/a/50363693/457268\">existing solution</a>.</p>\n"}], "owner": {"reputation": 443, "user_id": 4477520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31cb63c0d12c09b482bd259836d878f3?s=128&d=identicon&r=PG&f=1", "display_name": "Deepak Poojari", "link": "https://stackoverflow.com/users/4477520/deepak-poojari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4580, "favorite_count": 2, "answer_count": 3, "score": 12, "last_activity_date": 1571417130, "creation_date": 1526450559, "last_edit_date": 1571416919, "question_id": 50363449, "link": "https://stackoverflow.com/questions/50363449/how-to-get-error-information-relating-to-typescript-file-lines-number-in-node-js", "title": "How to get error information relating to TypeScript file lines number in node.js?", "body": "<p>I am using TypeScript for my node.js backend development. Whenever I get an error in node.js it shows me the line number relating to the transpiled JavaScript (.js) files, not the TypeScript (.ts) files.</p>\n\n<p>If you have used ionic, we get the error corresponding to the typescript file there.</p>\n\n<p>Is there any way I get error line number relating to my typescript file? If yes please explain how and what changes I need to do to the config file.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 26836, "user_id": 1132354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7BaAv.png?s=128&g=1", "display_name": "Nikhil Aggarwal", "link": "https://stackoverflow.com/users/1132354/nikhil-aggarwal"}, "is_accepted": false, "score": 1, "last_activity_date": 1526450785, "last_edit_date": 1526450785, "creation_date": 1526450391, "answer_id": 50363408, "question_id": 50363332, "link": "https://stackoverflow.com/questions/50363332/get-duplicated-values-from-an-array-by-checking-with-two-element/50363408#50363408", "title": "Get duplicated values from an array by checking with two element", "body": "<p>You can update your code to following </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\r\n    { name: \"Suresh\", SalseVersion: 12, MarketingCode: 14},\r\n    { name: \"Siva\", SalseVersion: 12, MarketingCode: 14 },\r\n    { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 },\r\n    { name: \"OP\", SalseVersion: 10, MarketingCode: 11 }]\r\n\r\n// You need to write the custom sort function\r\nvar sorted_arr = arr.slice().sort((a,b) =&gt; {\r\n     if(a.SalseVersion === b.SalseVersion) {\r\n          return a.MarketingCode- b.MarketingCode;\r\n      }\r\n      return a.SalseVersion - b.SalseVersion;\r\n});\r\nvar results = [];\r\nfor (var i = 0; i &lt; sorted_arr.length - 1; i++) {\r\n    if (sorted_arr[i + 1].SalesVersion == sorted_arr[i].SalesVersion &amp;&amp; sorted_arr[i + 1].MarketingCode == sorted_arr[i].MarketingCode) {\r\n        /* push both the elements in case of match with only exception \r\n         * being if it has been pushed previously where there are more than 2 matches */\r\n       if (i &gt;= 1 &amp;&amp; sorted_arr[i - 1].SalesVersion == sorted_arr[i].SalesVersion &amp;&amp; sorted_arr[i - 1].MarketingCode == sorted_arr[i].MarketingCode) {\r\n         results.push(sorted_arr[i+1]);\r\n       } else {\r\n         results.push(sorted_arr[i], sorted_arr[i+1]);\r\n       }            \r\n    }\r\n}\r\n\r\nconsole.log(results);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1526450780, "post_id": 50363425, "comment_id": 87743186, "body": "I am getting an error in <code>filteredArr.sort((a, b) =&gt; b.SalesVersion - a.SalesVersion || b.MarketingCode - a.MarketingCode);</code>  <i>the left-hand side of an assignment must be variable any int or enum</i> because the <code>SalesVersion</code> property type is string."}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1526451091, "post_id": 50363425, "comment_id": 87743295, "body": "yes I have copied it correctly. But typescript does not allow that"}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1526451356, "post_id": 50363425, "comment_id": 87743417, "body": "Your editor is telling you that MarketingCode properties are <code>string</code>, but the code you posted shows that they&#39;re integers. Something doesn&#39;t add up here."}, {"owner": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "reply_to_user": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 1, "creation_date": 1526451596, "post_id": 50363425, "comment_id": 87743520, "body": "@RameshRajendran, you can force result using <code>+</code> operator. Something like this: <code>return filteredArr.sort((a, b) =&gt; +a.SalseVersion - (+b.SalseVersion) || +a.MarketingCode - (+b.MarketingCode));</code>"}, {"owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "reply_to_user": {"reputation": 40591, "user_id": 6583140, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/eA8qK.jpg?s=128&g=1", "display_name": "Mihai Alexandru-Ionut", "link": "https://stackoverflow.com/users/6583140/mihai-alexandru-ionut"}, "edited": false, "score": 0, "creation_date": 1526451716, "post_id": 50363425, "comment_id": 87743551, "body": "@Mihai If <code>MarketingCode</code> were a <code>string</code>, then <code>+Marketing</code> would be <code>NaN</code>."}, {"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1526451811, "post_id": 50363425, "comment_id": 87743594, "body": "@RameshRajendran Edited to show a solution that converts the items to strings and uses <code>localeCompare</code>"}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1526451914, "post_id": 50363425, "comment_id": 87743633, "body": "<code>.1</code> That make sense :)"}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1526451765, "last_edit_date": 1526451765, "creation_date": 1526450477, "answer_id": 50363425, "question_id": 50363332, "link": "https://stackoverflow.com/questions/50363332/get-duplicated-values-from-an-array-by-checking-with-two-element/50363425#50363425", "title": "Get duplicated values from an array by checking with two element", "body": "<p>It looks like you're trying to find elements for which there exists at least one other element in the array with similar properties. You can use <code>.filter</code> for this, followed by <code>sort</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dupesFromArr = array =&gt; {\r\n  const filteredArr = array.filter(({ name, SalseVersion, MarketingCode }, i, arr) =&gt; (\r\n    arr.find((item, findI) =&gt; (\r\n      findI !== i &amp;&amp;\r\n      SalseVersion === item.SalseVersion &amp;&amp;\r\n      MarketingCode === item.MarketingCode\r\n    ))\r\n  ));\r\n  return filteredArr.sort((a, b) =&gt;\r\n    String(a.SalseVersion).localeCompare(String(b.SalseVersion), 'kn') ||\r\n    String(a.MarketingCode).localeCompare(String(b.MarketingCode), 'kn')\r\n  );\r\n};\r\n\r\nconsole.log(dupesFromArr([{name:\"Ramesh\",SalseVersion:10,MarketingCode:11},{name:\"Suresh\",SalseVersion:12,MarketingCode:13},{name:\"Siva\",SalseVersion:10,MarketingCode:14},{name:\"Sakthi\",SalseVersion:10,MarketingCode:11}]))\r\nconsole.log(dupesFromArr([{name:\"Ramesh\",SalseVersion:10,MarketingCode:11},{name:\"Suresh\",SalseVersion:12,MarketingCode:14},{name:\"Siva\",SalseVersion:12,MarketingCode:14},{name:\"Sakthi\",SalseVersion:10,MarketingCode:11}]))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 25159, "user_id": 2930661, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/zbiMW.jpg?s=128&g=1", "display_name": "Eddie", "link": "https://stackoverflow.com/users/2930661/eddie"}, "is_accepted": false, "score": 5, "last_activity_date": 1526452120, "last_edit_date": 1526452120, "creation_date": 1526450820, "answer_id": 50363507, "question_id": 50363332, "link": "https://stackoverflow.com/questions/50363332/get-duplicated-values-from-an-array-by-checking-with-two-element/50363507#50363507", "title": "Get duplicated values from an array by checking with two element", "body": "<p>You can use <code>reduce</code> </p>\n\n<p>The first <code>reduce</code> will group the values using the concatenated values of <code>SalseVersion</code> and <code>MarketingCode</code>.</p>\n\n<p>The second <code>reduce</code> will check if the group has more than 1 element. If there is <code>concat</code> the values into 1 array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },{ name: \"Suresh\", SalseVersion: 12, MarketingCode: 14},{ name: \"Siva\", SalseVersion: 12, MarketingCode: 14 },{ name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }];\r\n\r\nlet result = Object.values(array.reduce((c, v) =&gt; {\r\n  let k = v.SalseVersion + '-' + v.MarketingCode;\r\n  c[k] = c[k] || [];\r\n  c[k].push(v);\r\n  return c;\r\n}, {})).reduce((c, v) =&gt; v.length &gt; 1 ? c.concat(v) : c, []);\r\n\r\nconsole.log( result );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1526456926, "last_edit_date": 1526456926, "creation_date": 1526452471, "answer_id": 50363897, "question_id": 50363332, "link": "https://stackoverflow.com/questions/50363332/get-duplicated-values-from-an-array-by-checking-with-two-element/50363897#50363897", "title": "Get duplicated values from an array by checking with two element", "body": "<p>Basically cou could keep sorting, but with the wanted key, this returns a kind of grouped array, where all wanted keys and their values ar in direct neighbourhood.</p>\n\n<p>Then you could filter the array by checking all keys with the actual value and the predecessor or the successor.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 }, { name: \"Suresh\", SalseVersion: 12, MarketingCode: 13 }, { name: \"Siva\", SalseVersion: 10, MarketingCode: 14 }, { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }],\r\n    keys = ['SalseVersion', 'MarketingCode'],\r\n    result = array\r\n        .sort((a, b) =&gt; {\r\n            var d;\r\n            keys.some(k =&gt; d = a[k] - b[k]);\r\n            return d;\r\n        })\r\n        .filter((o, i, a) =&gt; \r\n            keys.every(k =&gt; a[i - 1] &amp;&amp; a[i - 1][k] === o[k]) ||\r\n            keys.every(k =&gt; a[i + 1] &amp;&amp; o[k] === a[i + 1][k])\r\n        );\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>A single loop approach for unsorted data by using a hash table for temporary collecting the first object of a group or just to indicate duplicates of the group.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 }, { name: \"Suresh\", SalseVersion: 12, MarketingCode: 13 }, { name: \"Siva\", SalseVersion: 10, MarketingCode: 14 }, { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }],\r\n    keys = ['SalseVersion', 'MarketingCode'],\r\n    result = array.reduce((hash =&gt; (r, o) =&gt; {\r\n        var key = keys.map(k =&gt; o[k]).join('|');\r\n        if (key in hash) {\r\n            if (hash[key]) {\r\n                r.push(hash[key]);\r\n                hash[key] = false;\r\n            }\r\n            r.push(o);\r\n        } else {\r\n             hash[key] = o;\r\n        }\r\n        return r;\r\n    })(Object.create(null)), []);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "accepted_answer_id": 50363425, "answer_count": 4, "score": 4, "last_activity_date": 1526456926, "creation_date": 1526450050, "last_edit_date": 1526451038, "question_id": 50363332, "link": "https://stackoverflow.com/questions/50363332/get-duplicated-values-from-an-array-by-checking-with-two-element", "title": "Get duplicated values from an array by checking with two element", "body": "<p>If My array have this below data </p>\n\n<pre><code>let array = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\n        { name: \"Suresh\", SalseVersion: 12, MarketingCode: 13 },\n        { name: \"Siva\", SalseVersion: 10, MarketingCode: 14 },\n        { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 },...]\n</code></pre>\n\n<p>Then I am expecting this below result</p>\n\n<pre><code>[{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\n { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }]\n</code></pre>\n\n<hr>\n\n<p>If My array have this below data </p>\n\n<pre><code>let array = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\n        { name: \"Suresh\", SalseVersion: 12, MarketingCode: 14},\n        { name: \"Siva\", SalseVersion: 12, MarketingCode: 14 },\n        { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 },...]\n</code></pre>\n\n<p>Then I am expecting this below result.</p>\n\n<pre><code>        [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\n        { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }\n        { name: \"Suresh\", SalseVersion: 12, MarketingCode: 14},\n        { name: \"Siva\", SalseVersion: 12, MarketingCode: 14 }]\n</code></pre>\n\n<p>I have tried this  way  : <a href=\"https://stackoverflow.com/questions/840781/get-all-non-unique-values-i-e-duplicate-more-than-one-occurrence-in-an-array\">Get all non-unique values (i.e.: duplicate/more than one occurrence) in an array</a> </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [{ name: \"Ramesh\", SalseVersion: 10, MarketingCode: 11 },\r\n        { name: \"Suresh\", SalseVersion: 12, MarketingCode: 13 },\r\n        { name: \"Siva\", SalseVersion: 10, MarketingCode: 14 },\r\n        { name: \"Sakthi\", SalseVersion: 10, MarketingCode: 11 }]\r\n\r\n\r\nvar sorted_arr = arr.slice().sort();\r\nvar results = [];\r\nfor (var i = 0; i &lt; sorted_arr.length - 1; i++) {\r\n    if (sorted_arr[i + 1].SalesVersion == sorted_arr[i].SalesVersion &amp;&amp; sorted_arr[i + 1].MarketingCode == sorted_arr[i].MarketingCode) {\r\n        results.push(sorted_arr[i]);\r\n    }\r\n}\r\n\r\nconsole.log(results);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But unable to get the duplicated values. Could you please resolve this? </p>\n\n<blockquote>\n  <p><strong>Note:</strong> Please mind it should be work as well if the <code>SalseVersion</code> and  <code>MarketingCode</code> value is <code>string/number/Boolean</code>.</p>\n</blockquote>\n\n<p>because I have tried some of the below answers and i am getting this below error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ylOzt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylOzt.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["css", "typescript", "chart.js", "angular5", "angular6"], "comments": [{"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1526449862, "post_id": 50363103, "comment_id": 87742831, "body": "You didn&#39;t include any source, so the only answer you can possibly get is yes, it&#39;s possible."}, {"owner": {"reputation": 479, "user_id": 7036355, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FhMllWMONtY/AAAAAAAAAAI/AAAAAAAAKS4/gSgCAzWB5QY/photo.jpg?sz=128", "display_name": "Manhar Sapra", "link": "https://stackoverflow.com/users/7036355/manhar-sapra"}, "reply_to_user": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1526480127, "post_id": 50363103, "comment_id": 87762628, "body": "Please refer to the demo <a href=\"https://stackblitz.com/edit/zoom-div-chart\" rel=\"nofollow noreferrer\">link</a> at I want to hide all the other sections of the page and zoom only particular div/chart which is being clicked.Tried fullscreen API but it is not working as expected"}, {"owner": {"reputation": 479, "user_id": 7036355, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FhMllWMONtY/AAAAAAAAAAI/AAAAAAAAKS4/gSgCAzWB5QY/photo.jpg?sz=128", "display_name": "Manhar Sapra", "link": "https://stackoverflow.com/users/7036355/manhar-sapra"}, "reply_to_user": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1526480202, "post_id": 50363103, "comment_id": 87762687, "body": "@MrLister Please check this.."}], "owner": {"reputation": 479, "user_id": 7036355, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FhMllWMONtY/AAAAAAAAAAI/AAAAAAAAKS4/gSgCAzWB5QY/photo.jpg?sz=128", "display_name": "Manhar Sapra", "link": "https://stackoverflow.com/users/7036355/manhar-sapra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526480059, "creation_date": 1526448863, "last_edit_date": 1526480059, "question_id": 50363103, "link": "https://stackoverflow.com/questions/50363103/hide-other-section-of-page-when-focus-zoom-on-particular-div-element-in-angular5", "title": "Hide other section of page when focus/zoom on particular div/element in angular5", "body": "<p>Trying to zoom/focus on one element/div and hide other </p>\n\n<p>Please refer to the <a href=\"https://stackblitz.com/edit/zoom-div-chart\" rel=\"nofollow noreferrer\">demo</a> at  I want to hide all the other sections of the page and zoom only particular div/chart which is being clicked.Tried fullscreen API but it is not working as expected.</p>\n\n<p>Trying to achieve zoomooz plugin like functionality in Angular . Since npm does not support zoomooz. Is it possible to have same functionality i.e. animated zoom on click. I am using Angular 6 with ng2 charts and want to zoom the div/canvas section on click and back to normal</p>\n"}, {"tags": ["google-maps", "typescript", "angular5", "markerclusterer", "angular-google-maps"], "owner": {"reputation": 403, "user_id": 9001412, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uMzlaD5T7nE/AAAAAAAAAAI/AAAAAAAACjk/C6w8I-9f3SU/photo.jpg?sz=128", "display_name": "hondvryer", "link": "https://stackoverflow.com/users/9001412/hondvryer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 454, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1526447241, "creation_date": 1526447241, "question_id": 50362798, "link": "https://stackoverflow.com/questions/50362798/cluster-image-not-appearing-only-number-appearing-agm-cluster-marker-angul", "title": "Cluster Image not Appearing (only number appearing) - agm-cluster-marker - Angular 5", "body": "<p>I wanted a cluster image to appear as a background to the cluster marker count but only the number is being displayed</p>\n\n<p><a href=\"https://i.stack.imgur.com/4dTse.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4dTse.png\" alt=\"enter image description here\"></a></p>\n\n<p>Following is the code to get the above Output:</p>\n\n<pre><code>&lt;agm-map \n                                    [latitude]=\"lat\" \n                                    [longitude]=\"lng\" \n                                    [fullscreenControl]='true'\n                                    [zoom]=\"zoom\"\n                                    [disableDefaultUI]='false'\n                                    [zoomControl]='false'\n                                    [mapTypeControl]='true'\n                                    (mapClick)=\"mapClicked($event)\"\n                                    [mapTypeId]=\"'terrain'\"\n                                    &gt;\n                                    &lt;agm-marker-cluster imagePath=\"'cluster.png'\"&gt;\n                                        &lt;agm-marker \n                                            *ngFor=\"let m of markers;let i = index\"\n                                            (markerClick)=\"clickedMarker(m, i)\"\n                                            [latitude]=\"m.lat\" \n                                            [longitude]=\"m.lng\"\n                                            [markerDraggable]=\"m.draggable\"\n                                            [iconUrl]=\"icon\"&gt;\n                                        &lt;/agm-marker&gt;\n                                    &lt;/agm-marker-cluster&gt;\n&lt;/agm-map&gt;\n</code></pre>\n\n<p>What am I missing here? Help me out.\nThanks in advance.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1526445740, "post_id": 50362548, "comment_id": 87741509, "body": "Aside: Always use <code>number</code>, not <code>Number</code>"}], "answers": [{"comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 1, "creation_date": 1526445831, "post_id": 50362588, "comment_id": 87741530, "body": "basarat better at finding github issues than I am :("}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 3, "last_activity_date": 1526445789, "creation_date": 1526445789, "answer_id": 50362588, "question_id": 50362548, "link": "https://stackoverflow.com/questions/50362548/why-do-i-need-to-explicitly-type-my-method-arguments-when-implementing-an-interf/50362588#50362588", "title": "Why do I need to explicitly type my method arguments when implementing an interface?", "body": "<blockquote>\n  <p>What am I doing wrong?</p>\n</blockquote>\n\n<p>Nothing. Its not supported in TypeScript <a href=\"https://github.com/Microsoft/TypeScript/issues/1373\" rel=\"nofollow noreferrer\">as mentioned here</a>. </p>\n\n<h1>Fix</h1>\n\n<p>Provide an explicit annotation in the class. </p>\n"}, {"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 2, "last_activity_date": 1526445803, "creation_date": 1526445803, "answer_id": 50362591, "question_id": 50362548, "link": "https://stackoverflow.com/questions/50362548/why-do-i-need-to-explicitly-type-my-method-arguments-when-implementing-an-interf/50362591#50362591", "title": "Why do I need to explicitly type my method arguments when implementing an interface?", "body": "<blockquote>\n  <p>The str parameter to someMethod() is obviously a string</p>\n</blockquote>\n\n<p>Not necessarily. You could have written a number of different signatures that satisfied the interface; for example</p>\n\n<pre><code>    someMethod (s: string | number) {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>    someMethod (s: any) {\n</code></pre>\n\n<p>The <code>implements</code> clause is only a <em>post hoc</em> check on your class that makes sure your class successfully implemented the interface. It does <em>not</em> directly change the types of any declared properties or methods in your class.</p>\n\n<p>Because you'd have an implicit <code>any</code> if you <em>didn't</em> have the <code>implements</code> clause, you have an implicit <code>any</code> <em>with</em> it, because <code>implements</code> clauses don't affect the types of the class members.</p>\n"}, {"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1526446554, "creation_date": 1526446554, "answer_id": 50362691, "question_id": 50362548, "link": "https://stackoverflow.com/questions/50362548/why-do-i-need-to-explicitly-type-my-method-arguments-when-implementing-an-interf/50362691#50362691", "title": "Why do I need to explicitly type my method arguments when implementing an interface?", "body": "<p>Classes are not the only way to implement interfaces. You don't have to type method arguments explicitly if you use a function that creates and returns an object (sometimes called factory function) instead of a class:</p>\n\n<pre><code>interface Foo {\n  someProperty: number\n  someMethod?: (str: string) =&gt; void\n}\n\nfunction createBar(): Foo {\n    return {\n        someProperty: 42,\n        someMethod: (str) =&gt; {\n            const n = str.length; // ok because parameter inferred as  str: string\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 28455, "user_id": 102704, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f5d4e58ba97f712ca99b4a1dc570345b?s=128&d=identicon&r=PG", "display_name": "a paid nerd", "link": "https://stackoverflow.com/users/102704/a-paid-nerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 50362588, "answer_count": 3, "score": 0, "last_activity_date": 1526446554, "creation_date": 1526445479, "question_id": 50362548, "link": "https://stackoverflow.com/questions/50362548/why-do-i-need-to-explicitly-type-my-method-arguments-when-implementing-an-interf", "title": "Why do I need to explicitly type my method arguments when implementing an interface?", "body": "<p>For example:</p>\n\n<pre><code>interface Foo {\n  someProperty: Number\n  someMethod?: (str: string) =&gt; void\n}\n\nclass Bar implements Foo {\n  someProperty = 42\n  someMethod (str) {\n    console.log(this.someProperty)\n  }\n}\n</code></pre>\n\n<p>The <code>str</code> parameter to <code>someMethod()</code> is obviously a string. But the compiler complains:</p>\n\n<pre><code>test.tsx(8,15): error TS7006: Parameter 'str' implicitly has an 'any' type.\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Edit: <code>tsc --version</code> reports version 2.8.3.</p>\n"}, {"tags": ["typescript", "typeorm"], "answers": [{"comments": [{"owner": {"reputation": 1027, "user_id": 478578, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/96ec50dba9f18995a8359ce61bab6ad0?s=128&d=identicon&r=PG", "display_name": "Shiva Wu", "link": "https://stackoverflow.com/users/478578/shiva-wu"}, "edited": false, "score": 7, "creation_date": 1545345609, "post_id": 50375317, "comment_id": 94601344, "body": "Thank you! This saves me. It&#39;s pretty hard to find out"}, {"owner": {"reputation": 216, "user_id": 9612021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b57918cf61fd3ec641033326a990306e?s=128&d=identicon&r=PG&f=1", "display_name": "yigitusta", "link": "https://stackoverflow.com/users/9612021/yigitusta"}, "edited": false, "score": 4, "creation_date": 1551738536, "post_id": 50375317, "comment_id": 96742434, "body": "Thank you, I was going crazy over this."}, {"owner": {"reputation": 199, "user_id": 5056973, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11fd9aaac5aa14921c9e4815dd4eb45c?s=128&d=identicon&r=PG&f=1", "display_name": "user5056973", "link": "https://stackoverflow.com/users/5056973/user5056973"}, "edited": false, "score": 2, "creation_date": 1552191324, "post_id": 50375317, "comment_id": 96914239, "body": "Awesome, you just saved me an hour of headaches."}, {"owner": {"reputation": 1905, "user_id": 3896945, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c70b7d672c05338539848316bcf9184?s=128&d=identicon&r=PG", "display_name": "edencorbin", "link": "https://stackoverflow.com/users/3896945/edencorbin"}, "edited": false, "score": 0, "creation_date": 1568225946, "post_id": 50375317, "comment_id": 102210799, "body": "Wow, interesting.... agreed this should perhaps be default? Or at least this error could be more descriptive."}, {"owner": {"reputation": 717, "user_id": 1461847, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/HIkCY.jpg?s=128&g=1", "display_name": "Fayyaz Ali", "link": "https://stackoverflow.com/users/1461847/fayyaz-ali"}, "edited": false, "score": 0, "creation_date": 1569500739, "post_id": 50375317, "comment_id": 102622590, "body": "can you please share your tsconfig, i did the same but still getting the same error"}, {"owner": {"reputation": 299, "user_id": 6602638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JaJlL.jpg?s=128&g=1", "display_name": "jet_choong", "link": "https://stackoverflow.com/users/6602638/jet-choong"}, "edited": false, "score": 0, "creation_date": 1573486247, "post_id": 50375317, "comment_id": 103888382, "body": "The answer is what I expected but I couldn&#39;t find a proper documentation about this in the TypeORM official site or I simply missed out?"}, {"owner": {"reputation": 175, "user_id": 7869692, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b6b4591cf5bc1a3b08a19d06911351?s=128&d=identicon&r=PG&f=1", "display_name": "HanifC", "link": "https://stackoverflow.com/users/7869692/hanifc"}, "edited": false, "score": 0, "creation_date": 1578184050, "post_id": 50375317, "comment_id": 105356995, "body": "It&#39;s rather absurd that it took so long to find this answer.  Thank you so much for posting this."}], "tags": [], "owner": {"reputation": 1226, "user_id": 6486353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab794ec2a1a94f1be93637b3775e63a2?s=128&d=identicon&r=PG&f=1", "display_name": "tootall414", "link": "https://stackoverflow.com/users/6486353/tootall414"}, "is_accepted": true, "score": 82, "last_activity_date": 1526491655, "last_edit_date": 1526491655, "creation_date": 1526486211, "answer_id": 50375317, "question_id": 50361948, "link": "https://stackoverflow.com/questions/50361948/syntaxerror-unexpected-token-import-typeorm-entity/50375317#50375317", "title": "SyntaxError: Unexpected token import typeORM entity", "body": "<p>Alright, I am simply dumb.</p>\n\n<p>So, the ormconfig.json points your entities to your ts files in your /src folder. When you build your project, it should point to where your entities are. I did think it was odd that it was trying to reference a TS file after building.</p>\n\n<p>ormconfig.json</p>\n\n<pre><code>{\n   \"type\": \"postgres\",\n   \"host\": \"**********************\",\n   \"port\": 5432,\n   \"username\": \"**************\",\n   \"password\": \"*************\",\n   \"database\": \"*************\",\n   \"synchronize\": true,\n   \"logging\": false,\n   \"entities\": [\n      // changed this\n\n      \"dist/entity/*.js\"\n   ],\n   \"migrations\": [\n      \"src/migration/**/*.ts\"\n   ],\n   \"subscribers\": [\n      \"src/subscriber/**/*.ts\"\n   ],\n   \"cli\": {\n      \"entitiesDir\": \"src/entity\",\n      \"migrationsDir\": \"src/migration\",\n      \"subscribersDir\": \"src/subscriber\"\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3717, "user_id": 1794451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Yyicn.png?s=128&g=1", "display_name": "Mike Barnes", "link": "https://stackoverflow.com/users/1794451/mike-barnes"}, "edited": false, "score": 0, "creation_date": 1585603155, "post_id": 52800088, "comment_id": 107814458, "body": "what would be the advantages of not compiling the files to run <code>js</code> files?"}, {"owner": {"reputation": 700, "user_id": 1454320, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23b44010eac84ae1f264e1f30efe3ecd?s=128&d=identicon&r=PG", "display_name": "oskar132", "link": "https://stackoverflow.com/users/1454320/oskar132"}, "reply_to_user": {"reputation": 3717, "user_id": 1794451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Yyicn.png?s=128&g=1", "display_name": "Mike Barnes", "link": "https://stackoverflow.com/users/1794451/mike-barnes"}, "edited": false, "score": 0, "creation_date": 1590004956, "post_id": 52800088, "comment_id": 109521137, "body": "@MikeBarnes none that I can think of. Beware of running in production with ts-node, there&#39;s a flag that you need to pass so it doesnt do a type analysis on your files, otherwise it will hog a whole lot of memory in your server. I am not 100% sure that ts-node is production ready, but I may be wrong."}, {"owner": {"reputation": 3717, "user_id": 1794451, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Yyicn.png?s=128&g=1", "display_name": "Mike Barnes", "link": "https://stackoverflow.com/users/1794451/mike-barnes"}, "reply_to_user": {"reputation": 700, "user_id": 1454320, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23b44010eac84ae1f264e1f30efe3ecd?s=128&d=identicon&r=PG", "display_name": "oskar132", "link": "https://stackoverflow.com/users/1454320/oskar132"}, "edited": false, "score": 0, "creation_date": 1590135888, "post_id": 52800088, "comment_id": 109570884, "body": "@oskar132 yeah, I thought this might be an issue. thanks!"}], "tags": [], "owner": {"reputation": 448, "user_id": 4696029, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-YmVH4elHU7k/AAAAAAAAAAI/AAAAAAAAB2g/dE4_fnbR0C8/photo.jpg?sz=128", "display_name": "Nicholas Barry", "link": "https://stackoverflow.com/users/4696029/nicholas-barry"}, "is_accepted": false, "score": 8, "last_activity_date": 1539498679, "creation_date": 1539498679, "answer_id": 52800088, "question_id": 50361948, "link": "https://stackoverflow.com/questions/50361948/syntaxerror-unexpected-token-import-typeorm-entity/52800088#52800088", "title": "SyntaxError: Unexpected token import typeORM entity", "body": "<p>You can also use <code>ts-node</code> to run typeorm, which will allow you to run <code>ts</code> files, and which will allow you to avoid compiling and running separate <code>js</code> files.</p>\n\n<p>Per <a href=\"https://github.com/typeorm/typeorm/issues/1561#issuecomment-363562251\" rel=\"noreferrer\">this github comment</a>, you can do the following:</p>\n\n<blockquote>\n  <p>1.- Install ts-node and typescript globally:</p>\n  \n  <p><code>\n  $ npm install -g ts-node typescript\n  </code></p>\n  \n  <p>2.- Execute the typeorm command with ts-node:</p>\n  \n  <p><code>\n  $ ts-node ./node_modules/.bin/typeorm migrations:generate -n\n  </code></p>\n</blockquote>\n\n<p>If you're on windows, you'll have problems with that. Per <a href=\"https://github.com/typeorm/typeorm/issues/371#issuecomment-368902327\" rel=\"noreferrer\">this comment</a>, you'll want to directly reference <code>cli.js</code>:</p>\n\n<blockquote>\n  <p><code>\n  ts-node node_modules\\typeorm\\cli.js\n  </code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2023, "user_id": 882638, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe622c7b73b2f4a13b1492f81d060dbf?s=128&d=identicon&r=PG&f=1", "display_name": "ericgio", "link": "https://stackoverflow.com/users/882638/ericgio"}, "is_accepted": false, "score": 2, "last_activity_date": 1549783722, "creation_date": 1549783722, "answer_id": 54614308, "question_id": 50361948, "link": "https://stackoverflow.com/questions/50361948/syntaxerror-unexpected-token-import-typeorm-entity/54614308#54614308", "title": "SyntaxError: Unexpected token import typeORM entity", "body": "<p>I had a similar issue and was also being dumb. I had accidentally used the <code>.js</code> extension to name the file instead of <code>.ts</code></p>\n"}, {"tags": [], "owner": {"reputation": 79, "user_id": 4393369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e3dfe02dfae4668144c558a79f0c7a5?s=128&d=identicon&r=PG&f=1", "display_name": "oded", "link": "https://stackoverflow.com/users/4393369/oded"}, "is_accepted": false, "score": 2, "last_activity_date": 1552819848, "creation_date": 1552819848, "answer_id": 55206229, "question_id": 50361948, "link": "https://stackoverflow.com/questions/50361948/syntaxerror-unexpected-token-import-typeorm-entity/55206229#55206229", "title": "SyntaxError: Unexpected token import typeORM entity", "body": "<p>it happened to me too, the problem occurred because i've accidently imported 'BaseEntity' from 'typeorm/browser' instead of 'typeorm'.</p>\n\n<p>the first one is js file, and the second is ts file.</p>\n"}], "owner": {"reputation": 1226, "user_id": 6486353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab794ec2a1a94f1be93637b3775e63a2?s=128&d=identicon&r=PG&f=1", "display_name": "tootall414", "link": "https://stackoverflow.com/users/6486353/tootall414"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17111, "favorite_count": 5, "accepted_answer_id": 50375317, "answer_count": 4, "score": 24, "last_activity_date": 1572205182, "creation_date": 1526440368, "question_id": 50361948, "link": "https://stackoverflow.com/questions/50361948/syntaxerror-unexpected-token-import-typeorm-entity", "title": "SyntaxError: Unexpected token import typeORM entity", "body": "<p>So, I am working with typeORM and am getting an odd error when I transpile my TypeScript to JavaScript. I am receiving the following error:</p>\n\n<pre><code>(function (exports, require, module, __filename, __dirname) { import { Entity, PrimaryGeneratedColumn, ManyToOne, OneToMany, TreeChildren, TreeParent, JoinColumn, Column, Tree, TreeLevelColumn } from \"typeorm\";\n                                                              ^^^^^^\n\nSyntaxError: Unexpected token import\nat createScript (vm.js:80:10)\nat Object.runInThisContext (vm.js:139:10)\nat Module._compile (module.js:616:28)\nat Object.Module._extensions..js (module.js:663:10)\nat Module.load (module.js:565:32)\nat tryModuleLoad (module.js:505:12)\nat Function.Module._load (module.js:497:3)\nat Module.require (module.js:596:17)\nat require (internal/module.js:11:18)\nat Function.PlatformTools.load (C:\\Users\\*redacted*\\Workspace\\experimental\\*redacted*\\node_modules\\typeorm\\platform\\PlatformTools.js:126:28)\n</code></pre>\n\n<p>My tsconfig.json: </p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"lib\": [\n           \"es5\",\n           \"es6\"\n        ],\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"outDir\": \"./build\",\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"sourceMap\": true\n     },\n    \"exclude\": [\n        \"client\"\n    ]\n}\n</code></pre>\n\n<p>My package.json:</p>\n\n<pre><code>{\n   \"name\": \"*redacted*\",\n   \"version\": \"1.0.0\",\n   \"description\": \"\",\n   \"main\": \"index.js\",\n   \"scripts\": {\n      \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n      \"dev\": \"nodemon --watch 'src/**/*.ts' --ignore 'src/**/*.spec.ts' --exec ts-node src/index.ts\",\n      \"start\": \"tsc &amp;&amp; node ./build/index.js\",\n      \"migrate\": \"ts-node ./node_modules/typeorm/cli.js migration:generate\"\n   },\n   \"author\": \"*redacted*\",\n   \"license\": \"ISC\",\n   \"dependencies\": {\n      \"bcryptjs\": \"^2.4.3\",\n      \"body-parser\": \"^1.18.3\",\n      \"class-validator\": \"^0.8.5\",\n      \"express\": \"^4.16.3\",\n      \"jwt-simple\": \"^0.5.1\",\n      \"morgan\": \"^1.9.0\",\n      \"pg\": \"^7.4.3\",\n      \"reflect-metadata\": \"^0.1.10\",\n      \"typeorm\": \"0.2.5\"\n   },\n   \"devDependencies\": {\n      \"@types/bcryptjs\": \"^2.4.1\",\n      \"@types/body-parser\": \"^1.17.0\",\n      \"@types/express\": \"^4.11.1\",\n      \"@types/jwt-simple\": \"^0.5.33\",\n      \"@types/node\": \"^8.10.15\",\n      \"ts-node\": \"3.3.0\",\n      \"typescript\": \"2.5.2\"\n   }\n}\n</code></pre>\n\n<p>The file throwing the error:</p>\n\n<pre><code>import { Entity, PrimaryGeneratedColumn, ManyToOne, OneToMany, TreeChildren, TreeParent, JoinColumn, Column, Tree, TreeLevelColumn } from \"typeorm\";\nimport { User } from \"./User\";\nimport { Debate } from \"./Debate\";\n\n\n@Entity()\n@Tree(\"closure-table\")\nexport class Comment {\n\n    @PrimaryGeneratedColumn(\"uuid\")\n    id: string;\n\n    @Column()\n    text: string;\n\n    @ManyToOne(type =&gt; User)\n    user: User;\n\n    @ManyToOne(type =&gt; Debate, debate =&gt; debate.comments)\n    debate: Debate;\n\n    @TreeChildren()\n    children: Comment[];\n\n    @TreeParent()\n    parent: Comment;\n}\n</code></pre>\n\n<p>What I have tried:</p>\n\n<ul>\n<li>I have tried updating my node.js to the latest (version 8.11.2)</li>\n<li>I have tried changing the \"lib\" settings in my tsconfig.json in various combinations of \"es5\", \"es6\", and \"es7\"</li>\n<li>I have tried changing the \"target\" for my tsconfig.json for the targets listed in the above bullet point.</li>\n<li>I have tried changing the import statements in my entity files from \"import (lib) from (module)\" to \"const (lib) require (module)\"; However, this causes more issues and doesn't work well.</li>\n</ul>\n\n<p>I have been googling for this issue extensively and it has left me scratching my head. Any and all help would be greatly appreciated.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 0, "creation_date": 1526439225, "post_id": 50361791, "comment_id": 87739986, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3646036/javascript-preloading-images\">JavaScript Preloading Images</a>"}, {"owner": {"reputation": 6417, "user_id": 3234163, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d3413ce2f05119b9133f6afb00e25dea?s=128&d=identicon&r=PG", "display_name": "ahmelsayed", "link": "https://stackoverflow.com/users/3234163/ahmelsayed"}, "edited": false, "score": 1, "creation_date": 1526440682, "post_id": 50361791, "comment_id": 87740294, "body": "It&#39;s not a duplicate. This is about Typescript compilation, not javascript browser loading"}], "answers": [{"tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": true, "score": 2, "last_activity_date": 1526449042, "creation_date": 1526449042, "answer_id": 50363140, "question_id": 50361791, "link": "https://stackoverflow.com/questions/50361791/typescript-name-image-not-found/50363140#50363140", "title": "TypeScript - Name &quot;Image&quot; Not Found", "body": "<p>Result of <code>new Image()</code> is <code>HTMLImageElement</code>, so correct typing for the array is<br>\n<code>images: Array&lt;HTMLImageElement&gt;</code> or <code>images: HTMLImageElement[]</code>:</p>\n\n<pre><code>class ImageLoader {\n    static toLoadCount: number = 0;\n\n    private static images: HTMLImageElement[] = [];\n\n    static onAllLoaded() { };\n\n    static onImageLoad() {\n        --ImageLoader.toLoadCount;\n\n        if (ImageLoader.toLoadCount == 0)\n            ImageLoader.onAllLoaded();\n    }\n\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1526453062, "post_id": 50363457, "comment_id": 87744215, "body": "Got upvote, so now you can comment I believe :). Also you can see types in <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">typescript playground</a>"}, {"owner": {"reputation": 62, "user_id": 4266698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec5d8479e52e6ee0581b28c4eb6f09d?s=128&d=identicon&r=PG", "display_name": "Bast", "link": "https://stackoverflow.com/users/4266698/bast"}, "edited": false, "score": 0, "creation_date": 1526468900, "post_id": 50363457, "comment_id": 87754440, "body": "Yeah, I figured out that I can hover over Image, I just still have C++ in my head so I thought that Image was a sort of wrapper. Thanks for the clarification!"}], "tags": [], "owner": {"reputation": 66, "user_id": 7410529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/21yqU.jpg?s=128&g=1", "display_name": "Burgi0101", "link": "https://stackoverflow.com/users/7410529/burgi0101"}, "is_accepted": false, "score": 4, "last_activity_date": 1526451647, "last_edit_date": 1526451647, "creation_date": 1526450596, "answer_id": 50363457, "question_id": 50361791, "link": "https://stackoverflow.com/questions/50361791/typescript-name-image-not-found/50363457#50363457", "title": "TypeScript - Name &quot;Image&quot; Not Found", "body": "<p>I unfortunately can't comment because I don't have enough rep but I just wanted to add one more thing to Aleksey L's solution.</p>\n\n<p>Usually if you are using VS-Code or Webstorm or any editor that has intellisense you can hover over the \"<code>new Image()</code>\" and it will tell you the type of it.</p>\n\n<p>So in this case you would have known that img is actually a HTMLImageElement:</p>\n\n<pre><code>let img: HTMLImageElement = new Image();\n</code></pre>\n\n<p>Then you would have immediately recognized that your array is incorrect as image is not of <code>type Image</code> but rather of type <code>HTMLImageElement</code> and you could have adjusted your array immediately to <code>HTMLImageElement[]</code>.</p>\n\n<p>kr,\nGeorg</p>\n\n<p>P.S.: I would love if you upvote this I hate to do this long posts instead of short comments.</p>\n"}], "owner": {"reputation": 62, "user_id": 4266698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ec5d8479e52e6ee0581b28c4eb6f09d?s=128&d=identicon&r=PG", "display_name": "Bast", "link": "https://stackoverflow.com/users/4266698/bast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 50363140, "answer_count": 2, "score": 2, "last_activity_date": 1526451647, "creation_date": 1526439036, "last_edit_date": 1526440112, "question_id": 50361791, "link": "https://stackoverflow.com/questions/50361791/typescript-name-image-not-found", "title": "TypeScript - Name &quot;Image&quot; Not Found", "body": "<p>I'm trying to create an image loading class but in the array definition it throws an error saying <code>name \"Image\" not found</code>, despite creating an image object later in the code.</p>\n\n<pre><code>class ImageLoader {\nstatic toLoadCount:number = 0;\n\nprivate static images = Array&lt;Image&gt;();\n\nstatic onAllLoaded() {};\n\nstatic onImageLoad() {\n    --Images.toLoadCount;\n\n    if(Images.toLoadCount == 0)\n        Images.onAllLoaded();\n}\n\nstatic load(path: string) {\n    ++Images.toLoadCount;\n    let img = new Image();\n    img.src = \"Images/\" + path;\n    img.onload = Images.onImageLoad;\n    Images.images[path.substring(0, path.length - 4)] = img;\n    return img;\n}\n\nstatic allImagesLoaded() {\n    return (Images.toLoadCount == 0);\n}\n\n[key: string]: any;\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 5115462, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/70b8ecefece7dd6acc79534768ea0ae8?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5115462/james"}, "edited": false, "score": 0, "creation_date": 1526476458, "post_id": 50362184, "comment_id": 87759691, "body": "The file i want to read is a text file , not a csv file. so in that case I believe fs module is more than enough."}], "tags": [], "owner": {"reputation": 16627, "user_id": 491845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/201b2504912a754150cedcbd2c21c4bc?s=128&d=identicon&r=PG", "display_name": "generalhenry", "link": "https://stackoverflow.com/users/491845/generalhenry"}, "is_accepted": false, "score": 1, "last_activity_date": 1569937204, "last_edit_date": 1569937204, "creation_date": 1526442321, "answer_id": 50362184, "question_id": 50361679, "link": "https://stackoverflow.com/questions/50361679/how-to-read-a-text-file-if-the-file-has-multiple-datas-in-a-row-those-are-separa/50362184#50362184", "title": "How to read a text file if the file has multiple datas in a row those are separated using pipe(|) fs module?", "body": "<p>The <code>fs</code> module doesn't understand file formats, it just reads buffers.  Optionally it can convert the buffers into strings.  As for that file, it's a csv just with <code>|</code> instead of <code>,</code>.</p>\n\n<p>Parsing it is somethings like:</p>\n\n<pre><code>// split the lines into rows\nconst rows = raw.split('\\n');\n// split into columns\nconst data = rows.map(row =&gt; row.split('|'));\n</code></pre>\n\n<p>The empties will just be empty strings in the row arrays. You can filter them out. <code>rows.map(row =&gt; row.split('|').filter(el =&gt; el !== ''))</code> but most likely you'll want to leave them in for easy access my index.</p>\n\n<p>But that assumes there are no escapes or other irregularities.  I recommend finding a csv module from npm.</p>\n"}], "owner": {"reputation": 99, "user_id": 5115462, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/70b8ecefece7dd6acc79534768ea0ae8?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/5115462/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569937204, "creation_date": 1526438182, "last_edit_date": 1526438947, "question_id": 50361679, "link": "https://stackoverflow.com/questions/50361679/how-to-read-a-text-file-if-the-file-has-multiple-datas-in-a-row-those-are-separa", "title": "How to read a text file if the file has multiple datas in a row those are separated using pipe(|) fs module?", "body": "<p>I am trying to read a text file using node js fs module. \nMy first question is , Does fs module support to read only text file or other file formats too ?</p>\n\n<p>Now My main question is if the text file have the data like below, How do i read each data separately in the file ?..Please note some cell in the row could be empty as well.</p>\n\n<pre><code>James|Allister|12345|28|Sunderland|14\n\nAndy|Cook|88888|33|New Jersey|16\n\nMaria|Konsick|44||34 \n</code></pre>\n"}, {"tags": ["json", "angular", "laravel", "api", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "edited": false, "score": 0, "creation_date": 1526472901, "post_id": 50362024, "comment_id": 87757203, "body": "I tried it but it says : ` FavoriteComponent.html:1 ERROR TypeError: Cannot read property &#39;content&#39; of null` when I click the Add favorite button @DfKimera"}, {"owner": {"reputation": 1766, "user_id": 93568, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9KMAS.jpg?s=128&g=1", "display_name": "DfKimera", "link": "https://stackoverflow.com/users/93568/dfkimera"}, "reply_to_user": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "edited": false, "score": 0, "creation_date": 1526473471, "post_id": 50362024, "comment_id": 87757597, "body": "It seems it cannot find the <code>&lt;meta&gt;</code> element on your page; can you confirm it&#39;s been added and is present in the page <code>&lt;head&gt;</code>?"}, {"owner": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "edited": false, "score": 0, "creation_date": 1526479510, "post_id": 50362024, "comment_id": 87762097, "body": "Is this in the file header.blade.php? This is what I wrote                                               &lt;head&gt;          &lt;meta property=&quot;csrf-token&quot; name=&quot;csrf-token&quot; content=&quot;{{            csrf_token() }}&quot;&gt;      &lt;/head&gt;"}, {"owner": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "edited": false, "score": 0, "creation_date": 1526481362, "post_id": 50362024, "comment_id": 87763548, "body": "I put it in every blade.php I found and still the same error @DfKimera"}, {"owner": {"reputation": 1766, "user_id": 93568, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9KMAS.jpg?s=128&g=1", "display_name": "DfKimera", "link": "https://stackoverflow.com/users/93568/dfkimera"}, "reply_to_user": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "edited": false, "score": 0, "creation_date": 1526569444, "post_id": 50362024, "comment_id": 87805234, "body": "Try placing this tag instead: <code>&lt;script&gt;window.CSRF_TOKEN = &#39;{{csrf_token()}}&#39;;&lt;&#47;script&gt;</code>  Then replace the third line of the function with: <code>let token = window[&#39;CSRF_TOKEN&#39;];</code>"}], "tags": [], "owner": {"reputation": 1766, "user_id": 93568, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9KMAS.jpg?s=128&g=1", "display_name": "DfKimera", "link": "https://stackoverflow.com/users/93568/dfkimera"}, "is_accepted": true, "score": 0, "last_activity_date": 1526440925, "creation_date": 1526440925, "answer_id": 50362024, "question_id": 50361103, "link": "https://stackoverflow.com/questions/50361103/cant-post-send-post-to-api-route-using-angular-http/50362024#50362024", "title": "C&#39;ant post send post to api route using Angular http", "body": "<p>Make sure you are passing the <strong>CSRF token</strong> on your request.</p>\n\n<p>Ideally, you would write an <strong>interceptor</strong> to inject the CSRF token automatically, but for that specific request, you can do the following:</p>\n\n<ul>\n<li><p>In the <code>&lt;head&gt;</code> section of your Blade layout:</p>\n\n<pre><code>&lt;meta property=\"csrf-token\" name=\"csrf-token\" content=\"{{ csrf_token() }}\"&gt;\n</code></pre></li>\n</ul>\n\n<p>This will place the corresponding CSRF token for you request in an accessible place for your script. I recommend you pass the value instead by adding a parameter to your root component.</p>\n\n<ul>\n<li>In your Favorite service:</li>\n</ul>\n\n<blockquote>\n<pre><code>postFavorite(stationId: number): Observable&lt;number&gt; {\n   const url = `${this.apiUrl}/user/${this.user_id}/favorites/${stationId}`;\n   console.log(url);\n\n   let token = document.querySelector('meta[property=\"csrf-token\"]')['content'];\n\n   return this.http.post&lt;number&gt;(url, {station_id: stationId}, {\n        headers: new HttpHeaders({\n            'X-CSRF-TOKEN':  'application/json',\n        })\n   });\n}\n</code></pre>\n</blockquote>\n\n<p>This will add the CSRF token from the <code>&lt;head&gt;</code> tag to the adequate header and send it with your request.</p>\n\n<p>You can find more information about CSRF tokens in Laravel here: <a href=\"https://laravel.com/docs/5.6/csrf\" rel=\"nofollow noreferrer\">Laravel - CSRF Protection</a></p>\n"}], "owner": {"reputation": 39, "user_id": 7822900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jGnGb.jpg?s=128&g=1", "display_name": "emiclo007", "link": "https://stackoverflow.com/users/7822900/emiclo007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 50362024, "answer_count": 1, "score": 1, "last_activity_date": 1526449556, "creation_date": 1526432743, "last_edit_date": 1526449556, "question_id": 50361103, "link": "https://stackoverflow.com/questions/50361103/cant-post-send-post-to-api-route-using-angular-http", "title": "C&#39;ant post send post to api route using Angular http", "body": "<p>I'm trying to send values on a POST in the URL of a Laravel API route using Angular5. However, when I send the request, I get no errors in my browser console, but no network activity has been recorded. It's weird because I can print my route in the console and it is exactly the same as the one in my API. My route is 100% functional because it works using Postman. Please help...</p>\n\n<p>Here is my favorite.html</p>\n\n<pre><code>&lt;button (click)=\"addFavorite(stationId)\"&gt;Add to favorite&lt;/button&gt;\n</code></pre>\n\n<p>Here is my favorite.component.ts</p>\n\n<pre><code>@Component({\n  selector: 'add-favorite',\n  templateUrl: './favorite.component.html',\n  styleUrls: ['./favorite.component.css']\n})\n   export class FavoriteComponent implements OnInit {\n      @Input() stationId: number;\n      constructor(\n    private favoritesService: FavoritesService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {\nthis.route.params.subscribe( params =&gt; this.params = params);\n  }\n\n  observable: Observable&lt;number&gt;;\n  params: Params;\n\n  /*this.params['id']*/\n  ngOnInit() {\n  }\n\n  addFavorite() {\n    this.favoritesService.postFavorite(this.stationId);\n  }\n}\n</code></pre>\n\n<p>Here is my favorite service</p>\n\n<pre><code>@Injectable()\nexport class FavoritesService {\nprivate apiUrl = environment.apiUrl;\nprivate user_id = 2;\n  constructor(private http: HttpClient) { }\n\n  postFavorite(stationId: number): Observable&lt;number&gt; {\n    const url = `${this.apiUrl}/user/${this.user_id}/favorites/${stationId}`;\n    console.log(url);\n    return this.http.post&lt;number&gt;(url, {station_id: stationId});\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/q4GXV.jpg\" rel=\"nofollow noreferrer\">Take a look at my console output</a></p>\n\n<p>Here is my Laravel API route:</p>\n\n<pre><code>Route::post('user/{user_id}/favorites/{station_id}', 'FavoriteController@store');\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 37399, "user_id": 441387, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bf2c39b5cc1cb9db06cecb16dc8e665c?s=128&d=identicon&r=PG", "display_name": "Henrik Andersson", "link": "https://stackoverflow.com/users/441387/henrik-andersson"}, "edited": false, "score": 0, "creation_date": 1526430228, "post_id": 50360750, "comment_id": 87738193, "body": "Can you show us your compiled JS?"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 5, "last_activity_date": 1526430649, "creation_date": 1526430649, "answer_id": 50360871, "question_id": 50360750, "link": "https://stackoverflow.com/questions/50360750/exported-typescript-class-function-logs-this-as-undefined/50360871#50360871", "title": "Exported typescript class function logs &quot;this&quot; as undefined", "body": "<p>This code actually <em>does not error</em>:</p>\n\n<pre><code>const x = new MyClass(5);\nx.logValue();\n</code></pre>\n\n<p>However this <em>will</em> error: </p>\n\n<pre><code>const x = new MyClass(5);\nconst logValue = x.logValue;\nlogValue(); // Error\n</code></pre>\n\n<p>It is simply because of how <code>this</code> works. </p>\n\n<h1>Fix</h1>\n\n<p>You can use an <a href=\"https://basarat.gitbooks.io/typescript/docs/arrow-functions.html\" rel=\"noreferrer\">arrow function</a>. Change: </p>\n\n<pre><code>logValue() {\n  console.log(this);\n  console.log(this.myValue);\n}\n</code></pre>\n\n<p>To : </p>\n\n<pre><code>logValue = () =&gt; {\n  console.log(this);\n  console.log(this.myValue);\n}\n</code></pre>\n"}], "owner": {"reputation": 4657, "user_id": 4086590, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/yngmk.png?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/4086590/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 50360871, "answer_count": 1, "score": 1, "last_activity_date": 1526430649, "creation_date": 1526429318, "question_id": 50360750, "link": "https://stackoverflow.com/questions/50360750/exported-typescript-class-function-logs-this-as-undefined", "title": "Exported typescript class function logs &quot;this&quot; as undefined", "body": "<p>I currently have a typescript class that sets class values in a constructor. I then reference these values using \"this\" in a class method. The .ts file compiles fine without warnings. However, when I import the compiled .js file in another project, if I call the class method I get an error that this is undefined.</p>\n\n<p>I have a few tests written for the file in typescript, and they all work fine.</p>\n\n<p>Here's a simplified example.</p>\n\n<pre><code># class .ts file\n\nexport class MyClass {\n  public myValue: number;\n\n  constructor(val: number) {\n     this.myValue = val;\n  }\n\n  logValue() {\n     console.log(this);\n\n     console.log(this.myValue);\n  }\n}\n\n\n# regular js project importing built .js file\n\nimport { MyClass } from 'myProject'\n\nconst x = new MyClass(5);\n\nx.logValue(); // error, cannot read property myValue of undefined, first console.log logs 'undefined';\n</code></pre>\n\n<p>here's my tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n\n        // useTypeInferenceAsMuchAsPossible\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"sourceMap\": true,\n        \"outDir\": \"./lib\",\n        \"allowJs\": true,\n        \"target\": \"es5\",\n\n        \"lib\": [\n            \"es7\",\n            \"es2015.symbol\",\n            \"es2015.symbol.wellknown\"\n        ]\n    },\n    \"include\": [\n        \"./src/**/*\"\n    ],\n    \"exclude\": [\n        \"node_modules\",\n        \"**/*.spec.ts\"\n    ]\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript", "generics"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5782092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1CSy.jpg?s=128&g=1", "display_name": "Yuri Melo", "link": "https://stackoverflow.com/users/5782092/yuri-melo"}, "edited": false, "score": 0, "creation_date": 1526484315, "post_id": 50360858, "comment_id": 87765686, "body": "When I do this: console.log(typeof foo); it returns for me, number. 1. tsc example_generic.ts 2. node example_generic.js"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 2, "last_activity_date": 1526430457, "creation_date": 1526430457, "answer_id": 50360858, "question_id": 50360689, "link": "https://stackoverflow.com/questions/50360689/why-am-i-losing-information-when-i-dont-use-generic-in-typescript/50360858#50360858", "title": "Why am I losing information when I don&#39;t use generic in typescript?", "body": "<blockquote>\n  <p>The documentation says that we actually are losing the information about what that type was when the function returns, but how so? </p>\n</blockquote>\n\n<p>This function loses information about the argument: </p>\n\n<pre><code>function identity(arg: any): any {\n    return arg; \n}\n\nconst foo = identity(123); // typeof foo == `any`\n</code></pre>\n\n<p>The following function (using a generic) <a href=\"https://basarat.gitbooks.io/typescript/docs/types/generics.html\" rel=\"nofollow noreferrer\"><em>constrains</em></a> the return type of the function to <em>match</em> the input type. This perserves (and flows) the type of the argument to the return type: </p>\n\n<pre><code>function identity&lt;T&gt;(arg: T): T {\n    return arg; \n}\n\nconst foo = identity(123); // typeof foo == `number`\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5782092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r1CSy.jpg?s=128&g=1", "display_name": "Yuri Melo", "link": "https://stackoverflow.com/users/5782092/yuri-melo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 50360858, "answer_count": 1, "score": 0, "last_activity_date": 1526430457, "creation_date": 1526428761, "question_id": 50360689, "link": "https://stackoverflow.com/questions/50360689/why-am-i-losing-information-when-i-dont-use-generic-in-typescript", "title": "Why am I losing information when I don&#39;t use generic in typescript?", "body": "<p>I have some questions about <code>TypeScript's Generics</code>. </p>\n\n<ul>\n<li>How does generics works in TypeScript?</li>\n<li><p>The documentation says that we actually are losing the information about what that type was when the function returns, but how so? It uses this code below:</p>\n\n<pre><code>function identity(arg: any): any {\n    return arg; \n}\n</code></pre></li>\n<li><p>What can I do with <code>generic</code> can I still with <code>any</code>?</p></li>\n</ul>\n"}, {"tags": ["reactjs", "typescript", "redux"], "answers": [{"tags": [], "owner": {"reputation": 320, "user_id": 8155256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sa15t.jpg?s=128&g=1", "display_name": "butchyyyy", "link": "https://stackoverflow.com/users/8155256/butchyyyy"}, "is_accepted": true, "score": 1, "last_activity_date": 1526428010, "creation_date": 1526428010, "answer_id": 50360608, "question_id": 50360531, "link": "https://stackoverflow.com/questions/50360531/better-syntax-to-update-nested-objects-on-redux/50360608#50360608", "title": "Better syntax to update nested objects on redux", "body": "<p>There are lots of immutable update utilities out there, check out some options at <a href=\"https://github.com/markerikson/redux-ecosystem-links/blob/master/immutable-data.md#immutable-update-utilities\" rel=\"nofollow noreferrer\">https://github.com/markerikson/redux-ecosystem-links/blob/master/immutable-data.md#immutable-update-utilities</a> and see what would be the best fit for you.\nFor starters check out Immutability-helper or immer.</p>\n"}, {"tags": [], "owner": {"reputation": 2188, "user_id": 1489914, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/7PReX.jpg?s=128&g=1", "display_name": "Tall Paul", "link": "https://stackoverflow.com/users/1489914/tall-paul"}, "is_accepted": false, "score": 1, "last_activity_date": 1526428221, "creation_date": 1526428221, "answer_id": 50360634, "question_id": 50360531, "link": "https://stackoverflow.com/questions/50360531/better-syntax-to-update-nested-objects-on-redux/50360634#50360634", "title": "Better syntax to update nested objects on redux", "body": "<p>So there are two things you could do to help simplify this. The first thing I like to do is move the logic out of the reducer and instead just pass in a value and say set <code>expandAbilities</code> to <code>action. expandAbilities</code>.</p>\n\n<p>The second is actually something we do at work. We use immutableJS and wrote a single reducer that handles all of our state calls because you can give it a path of the parts of state that need to be updated and the value to update it with so we extracted that out and now it is easy to say <code>dispatch(actions.update({path: ['report', 'content', 'interaction', 'expandAbilities'], value: '123' }))</code> </p>\n\n<p>You can even expand this so you can pass in a list of values that need to be updated and even preform validations around the data.</p>\n"}], "owner": {"reputation": 911, "user_id": 1624260, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/81b9879f518d0ea97088cdb64068773f?s=128&d=identicon&r=PG", "display_name": "wkrueger", "link": "https://stackoverflow.com/users/1624260/wkrueger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 50360608, "answer_count": 2, "score": 2, "last_activity_date": 1526428221, "creation_date": 1526427294, "last_edit_date": 1526427672, "question_id": 50360531, "link": "https://stackoverflow.com/questions/50360531/better-syntax-to-update-nested-objects-on-redux", "title": "Better syntax to update nested objects on redux", "body": "<p>Given a reducer example like the following</p>\n\n<pre><code>_({\n  expandAbility: (state, a: { which: string }) =&gt; ({\n    ...state,\n    report: state.report &amp;&amp; {\n      waitingForIt: false,\n      content: state.report.content &amp;&amp; {\n        ...state.report.content,\n        interaction: {\n          expandAbilities: !state.report.content.interaction.expandAbilities.contains(a.which)\n            ? state.report.content.interaction.expandAbilities.add(a.which)\n            : state.report.content.interaction.expandAbilities.remove(a.which)\n        }\n      }\n    }\n  }),\n})\n</code></pre>\n\n<p>(state type given below just for question context purposes)</p>\n\n<pre><code>const initialState = {\n  report: undefined as\n    | {\n        waitingForIt?: boolean\n        content?: {\n          supportedFightIds: number[]\n          deathCut: number\n          reportInfo: any\n          deathsFull: any\n          deathsByPlayer: any\n          deathsByAbility: any\n          interaction: {\n            expandAbilities: Set&lt;string&gt;\n          }\n        }\n      }\n    | undefined,\n  error: undefined as Error | undefined\n}\n</code></pre>\n\n<p>Is there any kind of trick or \"flavor-of-the-moment\" library which would allow me to write a reducer update operation like <code>expandAbility</code> in a shorter way? (besides maybe creating some <code>vars</code> to reference inner paths)</p>\n"}]