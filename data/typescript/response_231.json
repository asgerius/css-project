[{"tags": ["javascript", "typescript", "spread-syntax"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 8869589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8daf30a15ce5e9a83c0b348bad3d2f?s=128&d=identicon&r=PG&f=1", "display_name": "shn", "link": "https://stackoverflow.com/users/8869589/shn"}, "edited": false, "score": 1, "creation_date": 1560384453, "post_id": 56571772, "comment_id": 99722233, "body": "I&#39;m interested in the hack, because with each extra depth of an object another line of code is needed to put it back together."}], "tags": [], "owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1600301080, "last_edit_date": 1600301080, "creation_date": 1560384148, "answer_id": 56571772, "question_id": 56571741, "link": "https://stackoverflow.com/questions/56571741/removing-targeted-parameter-from-object-in-es6-using-spread-operator/56571772#56571772", "title": "Removing targeted parameter from Object in ES6 using spread operator", "body": "<p>Do it in two steps - first destructure the <code>prop3</code> out, then create a new object, combining the rest of the outer object with the prop2 with the prop3 removed from it:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst { prop2: { prop3, ...restProp2 }, ...restOrig} = original_object;\nconst newObj = { ...restOrig, prop2: restProp2 };\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>While you <em>could</em> do this in just one statement with a hack, I wouldn't recommend it.</p>\n<p>If you find yourself doing this often with deeply nested properties, and don't like the extra line, maybe consider a helper function along the lines of:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getNestedFrom = (obj, propStr) =&gt; {\n  // make a copy, don't mutate the original object\n  const newObj = JSON.parse(JSON.stringify(obj));\n  const props = propStr.split('.');\n  const lastProp = props.pop();\n  const lastObj = props.reduce((a, prop) =&gt; a[prop], newObj);\n  const val = lastObj[lastProp];\n  delete lastObj[lastProp];\n  return [newObj, val];\n};\n\n\nconst original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst [newObj, prop3] = getNestedFrom(original_object, 'prop2.prop3');\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Just for curiosity's sake (please don't do this), the hack would be to use a default property which definitely won't exist:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst [\n  { prop2: { prop3, ...restProp2 }, ...restOrig},\n  newObj = { ...restOrig, prop2: restProp2 }\n] = [original_object]\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But that would be significantly (and needlessly) confusing.</p>\n"}], "owner": {"reputation": 759, "user_id": 8869589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8daf30a15ce5e9a83c0b348bad3d2f?s=128&d=identicon&r=PG&f=1", "display_name": "shn", "link": "https://stackoverflow.com/users/8869589/shn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 56571772, "answer_count": 1, "score": 5, "last_activity_date": 1600301080, "creation_date": 1560383881, "question_id": 56571741, "link": "https://stackoverflow.com/questions/56571741/removing-targeted-parameter-from-object-in-es6-using-spread-operator", "title": "Removing targeted parameter from Object in ES6 using spread operator", "body": "<p>I am trying to remove a property from an object <strong>using the spread operator</strong>. Traditionally I have done this: </p>\n\n<pre><code>const original_object = { prop1 : 'string1', prop2: 'string2' };\nconst { prop1, ...rest } = original_object;\n</code></pre>\n\n<p>In the above situation, the removed property(prop1) will no longer exist within the rest object.</p>\n\n<p>Suppose there is a more <strong>intricate</strong> property that I would like to remove, such as an object within the object.</p>\n\n<pre><code>const original_object = {\n    prop1: 'string1'\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n}\nconst { *remove prop3 of prop2 only here*, ...rest} = original_object;\nconsole.log(prop3); // =&gt; 'string3';\n</code></pre>\n\n<p>What is the most elegant/easiest solution to do this? I want everything but the one <code>prop3</code> of <code>prop2</code> to be included in the object, in the exact same structure. </p>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "edited": false, "score": 0, "creation_date": 1560382537, "post_id": 56571504, "comment_id": 99721912, "body": "Is the import path in your <code>stripe.component.ts</code> successfully resolving the path for the type definition? (Index.d.ts for stripe-checkout)? Other than that just double check the documentation and make sure you don\u2019t need to import a StripeCheckout module or something within the application\u2019s app.module. I hope this helps!"}, {"owner": {"reputation": 2154, "user_id": 5471063, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10207988347131565/picture?type=large", "display_name": "Jesper", "link": "https://stackoverflow.com/users/5471063/jesper"}, "reply_to_user": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "edited": false, "score": 1, "creation_date": 1560382824, "post_id": 56571504, "comment_id": 99721967, "body": "@TonyM I don&#39;t have any import statement in <code>stripe.component.ts</code> for the type definition. I was following this tutorial: <a href=\"https://fireship.io/lessons/stripe-elements-angular/\" rel=\"nofollow noreferrer\">fireship.io/lessons/stripe-elements-angular</a> and he does not import it. Also, he doesn&#39;t show any imports in the app.module. :/"}, {"owner": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "edited": false, "score": 0, "creation_date": 1560383079, "post_id": 56571504, "comment_id": 99722010, "body": "Actually I was wrong before, I was really curious why it wouldn\u2019t work so I installed <code>@types&#47;stripe-checkout</code> and did a quick test. In your file <code>src&#47;tsconfig.app.json</code> in the \u201ctypes\u201d section you need to add \u201c@types/stripe-checkout\u201d to that array. That should fix any reference issues."}, {"owner": {"reputation": 2154, "user_id": 5471063, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10207988347131565/picture?type=large", "display_name": "Jesper", "link": "https://stackoverflow.com/users/5471063/jesper"}, "reply_to_user": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "edited": false, "score": 0, "creation_date": 1560383630, "post_id": 56571504, "comment_id": 99722082, "body": "@TonyM Thought it didn&#39;t fix it at first, but I had to rerun &quot;ng serve&quot; and then it was all good, thanks! I had previously tried to add <code>stripe-checkout</code> to the <code>types</code> array in <code>tsconfig.app.json</code>, as I had seen examples of that from google, but I guess the <code>@types&#47;</code> prefix was required in this case?"}, {"owner": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "edited": false, "score": 0, "creation_date": 1560384808, "post_id": 56571504, "comment_id": 99722294, "body": "I&#39;m glad it helped! Yeah I&#39;ve had mixed experiences with <code>@types</code> and with importing non typescript libraries. It always ends up being a trial and error, but a learning experience :)"}, {"owner": {"reputation": 205, "user_id": 5606717, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/affb55f0b81dcc3730ea8a3bccc680be?s=128&d=identicon&r=PG&f=1", "display_name": "Darrell", "link": "https://stackoverflow.com/users/5606717/darrell"}, "edited": false, "score": 0, "creation_date": 1578008862, "post_id": 56571504, "comment_id": 105310546, "body": "why did modifying the tsconfig.app.json resolve the issue?"}], "owner": {"reputation": 2154, "user_id": 5471063, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10207988347131565/picture?type=large", "display_name": "Jesper", "link": "https://stackoverflow.com/users/5471063/jesper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1571, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1560381610, "creation_date": 1560381610, "question_id": 56571504, "link": "https://stackoverflow.com/questions/56571504/angular-cannot-find-name-of-type", "title": "Angular cannot find name of type", "body": "<p>I have installed a type definition like so:</p>\n\n<pre><code>npm install --D @types/stripe-checkout\n</code></pre>\n\n<p>Now in <code>node_modules/@types/stripe-checkout</code> there is an <code>index.d.ts</code> file which, among other stuff, contains the following:</p>\n\n<pre><code>&lt;reference types=\"stripe-v3\"/&gt;\n\ninterface StripeCheckoutStatic {\n    configure(options: StripeCheckoutOptions): StripeCheckoutHandler;\n}\n</code></pre>\n\n<p>In one of my components, I am trying to use the type like so:</p>\n\n<pre><code>declare var StripeCheckout: StripeCheckoutStatic;\n</code></pre>\n\n<p>The following error gets printed in my terminal:</p>\n\n<pre><code>ERROR in src/app/stripe/stripe.component.ts(9,29): error TS2304: Cannot find name 'StripeCheckoutStatic'.\n</code></pre>\n\n<p>So it seems like it cannot find the type for some reason - even though when I ctrl+click on the type in Visual Studio code, it takes me to the correct file. </p>\n\n<p>What is the problem here?</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 8, "creation_date": 1560383700, "post_id": 56571406, "comment_id": 99722093, "body": "No. <a href=\"https://github.com/ReactiveX/rxjs/issues/4772\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/issues/4772</a>"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1560384365, "post_id": 56571406, "comment_id": 99722211, "body": "@cartant ah. I see now. That should be answer if you want."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1560387018, "post_id": 56571406, "comment_id": 99722625, "body": "Pressed for time. If you could self answer your question, I&#39;d appreciate it. I&#39;ve added a note to my TODO list to improve the deprecation messages. And there&#39;s this issue, too: <a href=\"https://github.com/ReactiveX/rxjs/issues/4776\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/issues/4776</a>"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1560431299, "post_id": 56571406, "comment_id": 99740227, "body": "@cartant no problem. thanks for all the great work on rxjs."}], "answers": [{"comments": [{"owner": {"reputation": 9889, "user_id": 268742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95020479b1970d66e0d5ce522545802b?s=128&d=identicon&r=PG", "display_name": "ntziolis", "link": "https://stackoverflow.com/users/268742/ntziolis"}, "edited": false, "score": 7, "creation_date": 1596519101, "post_id": 61834849, "comment_id": 111828684, "body": "For others finding this when using <code>null</code> as start value the typescript compiler thinks you might be using the overload <code>startWith&lt;T&gt;(scheduler: SchedulerLike)</code> which is why there is a warning."}, {"owner": {"reputation": 539, "user_id": 1102049, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6c65526723007d05d54138ad41f0ada?s=128&d=identicon&r=PG", "display_name": "BruneX", "link": "https://stackoverflow.com/users/1102049/brunex"}, "edited": false, "score": 2, "creation_date": 1600798371, "post_id": 61834849, "comment_id": 113200008, "body": "I&#39;ve found that error using startWith(null) should I remove startWith in that case?"}, {"owner": {"reputation": 8174, "user_id": 13112018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11b1f10ce685d50cfb06a45c0905738?s=128&d=identicon&r=PG", "display_name": "satanTime", "link": "https://stackoverflow.com/users/13112018/satantime"}, "edited": false, "score": 1, "creation_date": 1600802818, "post_id": 61834849, "comment_id": 113201886, "body": "No. That\u2019s totally fine."}], "tags": [], "owner": {"reputation": 8174, "user_id": 13112018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11b1f10ce685d50cfb06a45c0905738?s=128&d=identicon&r=PG", "display_name": "satanTime", "link": "https://stackoverflow.com/users/13112018/satantime"}, "is_accepted": true, "score": 27, "last_activity_date": 1613298151, "last_edit_date": 1613298151, "creation_date": 1589622451, "answer_id": 61834849, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/61834849#61834849", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>No, it is not.</p>\n<p>Currently there is only one active signature: <a href=\"https://github.com/ReactiveX/rxjs/blob/dfa239d/src/internal/operators/startWith.ts#L22\" rel=\"noreferrer\">startWith(...values)</a></p>\n<p>Apart from this signature, it has several overloads which accept <code>scheduler: SchedulerLike</code> as the latest parameter: <a href=\"https://github.com/ReactiveX/rxjs/blob/dfa239d/src/internal/operators/startWith.ts#L6-L20\" rel=\"noreferrer\">startWith(...values, scheduler)</a> and this functionality has been deprecated.</p>\n<p><strong>If you don't use <code>scheduler</code> with <code>startWith</code> you are fine.</strong></p>\n<p>If you do, then you need rewrite your code using <code>scheduled</code> function like they suggest in the comment beside depreciation annotation: <code>scheduled([[a, b, c], source], scheduler).pipe(concatAll())</code>.</p>\n<hr />\n<p>Highly likely, you are using <code>startWith(null)</code> or <code>startWith(undefined)</code>, they are not deprecated despite the notice, but IDE detects a wrong function signature, which is deprecated, and shows the warning.</p>\n<p>Or, you are using <code>formControl.valueChanges</code> which emits <code>any</code> type, or any other observable stream with <code>any</code>. Because <code>any</code> matches the <code>SchedulerLike</code>, you see the notice.</p>\n<p>Therefore, try to avoid <code>any</code> via adding <code>filter((v): v is number =&gt; typeof === 'number')</code> or any other possible way.</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 1385425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be160cf4015c144d4deb3ff7a691c51?s=128&d=identicon&r=PG", "display_name": "Natan Braslavski", "link": "https://stackoverflow.com/users/1385425/natan-braslavski"}, "is_accepted": false, "score": 0, "last_activity_date": 1606954585, "creation_date": 1606954585, "answer_id": 65118062, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/65118062#65118062", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>I also got a deprecated message when I was trying to <code>startWith(undefined)</code>\nThe reason is it's defaulting to\n<code>export declare function startWith&lt;T&gt;(scheduler: SchedulerLike): MonoTypeOperatorFunction&lt;T&gt;;</code> the deprecated API</p>\n<p>The fix is specifying the return type <code>D</code>(of the undefined):\n<code>export declare function startWith&lt;T, D&gt;(v1: D): OperatorFunction&lt;T, T | D&gt;;</code></p>\n<p>For example let's say I have Interface <code>MyType1</code> and my observable maps it to <code>myType2</code>:\n<code>startWith&lt;MyType1, MyType1&gt;(undefined)</code></p>\n"}, {"tags": [], "owner": {"reputation": 6570, "user_id": 740813, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3281d2498cd3abc86f9f10a83daac593?s=128&d=identicon&r=PG", "display_name": "Sygmoral", "link": "https://stackoverflow.com/users/740813/sygmoral"}, "is_accepted": false, "score": 2, "last_activity_date": 1610022723, "last_edit_date": 1610022723, "creation_date": 1608220244, "answer_id": 65343986, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/65343986#65343986", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>One way to avoid the deprecation notice is by typecasting whatever you're passing into <code>startWith</code>. For example <code>startwith(x as boolean)</code> in the OP's example.</p>\n<p>This way, you're reassuring your IDE that you're not using a deprecated signature.</p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 1323473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myXAl.png?s=128&g=1", "display_name": "Anh-Thi DINH", "link": "https://stackoverflow.com/users/1323473/anh-thi-dinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1617722445, "creation_date": 1617722445, "answer_id": 66971544, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/66971544#66971544", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>For ones who see the deprecated warning in VSCode when you are using <code>startWith(null)</code>, just replace it with <code>startWith(&lt;string&gt;null)</code> in order to resolve the warning message.</p>\n<p>More information is <a href=\"https://github.com/ReactiveX/rxjs/issues/4772\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12091, "favorite_count": 1, "accepted_answer_id": 61834849, "answer_count": 4, "score": 28, "last_activity_date": 1617722445, "creation_date": 1560380762, "last_edit_date": 1560380984, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>Since updating to RXJS version 6 my WebStorm editor has been complaining on <em>some</em> usages of <a href=\"https://www.learnrxjs.io/operators/combination/startwith.html\" rel=\"noreferrer\">startWith()</a> that the operator is marked as <em>deprecated</em>.</p>\n\n<p>You can see in the source code that the methods are marked deprecated:</p>\n\n<ul>\n<li><a href=\"https://github.com/ReactiveX/rxjs/blame/master/src/internal/operators/startWith.ts#L7\" rel=\"noreferrer\">Link to master</a> (<a href=\"https://github.com/ReactiveX/rxjs/blame/b24d3ea85d33b893e4c020fb4fa9f6fa4d05dc0b/src/internal/operators/startWith.ts#L7\" rel=\"noreferrer\">Harder link for future</a>)</li>\n</ul>\n\n<p>The problem for me is that the deprecated warning is not consistent. Sometimes it reports the method deprecated and other times it does not. While I can reproduce the warning in the below code examples. It seems to happen in my own source code randomly.</p>\n\n<p>Not deprecated:</p>\n\n<pre><code>  of(false).pipe(startWith(true));\n</code></pre>\n\n<p>Is marked deprecated:</p>\n\n<pre><code>  const x: any = true;\n  of(false).pipe(startWith(x));\n</code></pre>\n\n<p>So I am worried about these deprecated warnings. The deprecation message says to use <code>scheduled()</code> and <code>concat()</code> operators instead, but that feels like a more complicate alternative to an already handy operator like <code>startWith()</code>.</p>\n\n<p>So I'm kind of confused as to why it's deprecated, but also why it's only deprecated sometimes.</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "edited": false, "score": 0, "creation_date": 1560379001, "post_id": 56571182, "comment_id": 99721217, "body": "Hmmm _ is only to represent that they are different. I should have specified that."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "edited": false, "score": 2, "creation_date": 1560379222, "post_id": 56571182, "comment_id": 99721259, "body": "@LuisPinto yes, you should have. This answer was correct before you edited your question."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1560379423, "post_id": 56571182, "comment_id": 99721299, "body": "By the way, thanks for bringing my attention to <code>Object.fromEntries()</code>. That will be very handy for lots of common object manipulations"}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 4, "last_activity_date": 1560379686, "last_edit_date": 1560379686, "creation_date": 1560378808, "answer_id": 56571182, "question_id": 56571133, "link": "https://stackoverflow.com/questions/56571133/how-can-i-map-an-object-into-another-one/56571182#56571182", "title": "How can I map an Object into another one?", "body": "<pre><code> const result = Object.fromEntries(\n   Object.entries(foo).map(([k, v]) =&gt; ([\"_\" + k, v]))\n );\n</code></pre>\n\n<p>Objects can be iterated as key value pairs. </p>\n\n<p>Or if you want to replace property by property, use Object.assign:</p>\n\n<pre><code> const result = Object.assign({},\n   foo.original &amp;&amp; { renamed: foo.original },\n   foo.original2 &amp;&amp; { renamed2: foo.original2 }\n });\n</code></pre>\n\n<p>For sure that can be moved into a helper function:</p>\n\n<pre><code> const rename = mapper =&gt; obj =&gt; Object.assign(...Object.entries(mapper).map(([o, n]) =&gt; obj[o] &amp;&amp; { [n]: obj[o] }));\n\n/* Or more pragmatic:\nconst rename = mapper =&gt; obj =&gt; {\n  const result = {};\n  for(const [o, n] of Object.entries(mapper)) if(o in obj) result[n] = obj[o];\n  return result;\n};\n*/\n\n const result = rename({original: \"renamed\", original2: \"renamed2\" })(foo);\n</code></pre>\n"}], "owner": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 56571182, "answer_count": 1, "score": 1, "last_activity_date": 1560399178, "creation_date": 1560378392, "last_edit_date": 1560399178, "question_id": 56571133, "link": "https://stackoverflow.com/questions/56571133/how-can-i-map-an-object-into-another-one", "title": "How can I map an Object into another one?", "body": "<p>So let's imagine I have an Object like </p>\n\n<pre><code>const foo = {\n name: 'Name',\n age: 23\n}\n</code></pre>\n\n<p>So I want to map those values in the following structure. </p>\n\n<pre><code>const var = {\n _name?\n _age?\n _location?\n}\n</code></pre>\n\n<p>_ only reflect that they can have a different name they are not only _+ foo key name</p>\n\n<p>Is there a way I can do that instead of doing: </p>\n\n<pre><code>var._name = foo.name\nvar._age = foo.age\n</code></pre>\n\n<p>Is there another way I could do this? As I'll have some keys in the var structure which won't be present in the foo structure. So If I do as I proposed, then I'll end up with some undefined values in the new structure.</p>\n"}, {"tags": ["angular", "typescript", "oauth-2.0", "spring-security-oauth2", "spring-webflux"], "comments": [{"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560712579, "post_id": 56571127, "comment_id": 99816684, "body": "does vk offer an oauth api? accomplishing the oauth flow requires some backend work, or configuration of a third party system, like fire base, to make requests to the vk authentication service you are using."}, {"owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "reply_to_user": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560713248, "post_id": 56571127, "comment_id": 99816803, "body": "@Maus it does and it works perfectly if I try to access my back end endpoint directly from browser. It redirects me to VK, I grant permissions and Spring successfully authorizes me"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560713468, "post_id": 56571127, "comment_id": 99816860, "body": "can you do that same flow and then redirect back to your app with your session cookie set?"}, {"owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "reply_to_user": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560713737, "post_id": 56571127, "comment_id": 99816935, "body": "@Maus so you mean have a redirect uri set to back end resource and force users to access back end application first, which then will redirect them to front end with a cookie?"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560714994, "post_id": 56571127, "comment_id": 99817266, "body": "that seems like it would work. Is that acceptable given your site requirements?"}, {"owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "reply_to_user": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560715624, "post_id": 56571127, "comment_id": 99817426, "body": "@Maus i don&#39;t have particular requirements, so i will try that, thanks"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1560724476, "post_id": 56571127, "comment_id": 99819038, "body": "I hope it&#39;s alright that I&#39;ve summarized this conversation as an answer. If it ends up working for you, I think you could accept it?"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "reply_to_user": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560798396, "post_id": 56571127, "comment_id": 99845862, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/195081/discussion-between-maus-and-leonid-bor\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "edited": false, "score": 0, "creation_date": 1561069525, "post_id": 56571127, "comment_id": 99954401, "body": "If my answer has prompted you to look into different problems in your implementation of the security flow, would you mind accepting it? Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560773477, "post_id": 56623100, "comment_id": 99833873, "body": "One last question: do you know if there&#39;s a standard way to do that in Spring or do I need to invent a wheel here?"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "reply_to_user": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560798384, "post_id": 56623100, "comment_id": 99845849, "body": "in your question, what are you referring to with &quot;that&quot;?"}, {"owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560941808, "post_id": 56623100, "comment_id": 99899939, "body": "To automatically redirect request to a particular address with a Set-Cookie header once authentication is done with OAuth2. Or will I need a custom controller and implement this logic manually?"}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "reply_to_user": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560956287, "post_id": 56623100, "comment_id": 99908762, "body": "seems pretty straightforward to me\u2014 whatever is view is routing people to the auth system, check there if the user has a valid session and then respond with a 302 sending them into your app."}, {"owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "reply_to_user": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "edited": false, "score": 0, "creation_date": 1560956385, "post_id": 56623100, "comment_id": 99908828, "body": "i\u2019m assuming whatever is currently happening with spring and your auth system causes that cookie to get set. I would not implement that yourself, but look for session utilities in spring, since you also need to be able to invalidate be cookie, and it involves crypto."}], "tags": [], "owner": {"reputation": 1681, "user_id": 870178, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e0a902b9b106cfc9a991d2d05a5fe298?s=128&d=identicon&r=PG", "display_name": "Maus", "link": "https://stackoverflow.com/users/870178/maus"}, "is_accepted": true, "score": 3, "last_activity_date": 1560724757, "creation_date": 1560724757, "answer_id": 56623100, "question_id": 56571127, "link": "https://stackoverflow.com/questions/56571127/oauth2-with-angular-and-reactive-spring-security/56623100#56623100", "title": "OAuth2 with Angular and reactive Spring Security", "body": "<p>It's not going to be possible without either configuring some third party software (that will enable cross origin requests from your website) or adding server side API code to your app that will accomplish the login process.</p>\n\n<p>As we worked out in the comments, you already have successful login flow working in a couple of request cycles. You can use that same flow to get a valid session and then redirect onto your single page app. The cookie should be set as an HTTP only cookie (to prevent other JavaScript from hijacking it), but that will let you make requests against your server without adding additional authentication parameters successfully. You will have to check for that cookie when you service API requests, and write handling code that prompts the user to log in if the cookie is absent or no longer valid.</p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 1588, "user_id": 2693851, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/100001410896824/picture?type=large", "display_name": "Leonid Bor", "link": "https://stackoverflow.com/users/2693851/leonid-bor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 56623100, "answer_count": 1, "score": 0, "last_activity_date": 1560724757, "creation_date": 1560378332, "last_edit_date": 1560627053, "question_id": 56571127, "link": "https://stackoverflow.com/questions/56571127/oauth2-with-angular-and-reactive-spring-security", "title": "OAuth2 with Angular and reactive Spring Security", "body": "<p>I am trying to implement a social login with <a href=\"https://vk.com\" rel=\"nofollow noreferrer\">VK</a> for my Angular app and Spring Webflux back end. At the moment I have an endpoint on back end to serve user info: <code>localhost:8080/people/me</code>. I tried to authenticate user on front end the following way:</p>\n\n<pre><code>ngOnInit(): void {\n    this.http.get(USER_INFO_URL)\n      .subscribe((resp: Response) =&gt; {\n        if (resp.status &lt; 300) {\n          this.authenticated = true;\n          resp.json()\n            .then(vkUser =&gt; {\n              let fields: [string, string] = ['firstName', vkUser.firstName];\n              fields['lastName'] = vkUser.lastName;\n              this.user = new User(vkUser.id, fields);\n            });\n        } else {\n          window.location.href = AUTH_URL;\n        }\n      });\n  }\n</code></pre>\n\n<p>However, when my Spring app redirects the client to <code>VK</code> for authentication, <code>VK</code> does not provide any <code>CORS</code> headers, causing the mechanism to fail.</p>\n\n<p>Could someone please recommend a way of using <code>OAuth2</code> for Angular/Spring pair? I am using a <code>code</code> flow, so I guess first I need to get the code on front end and then send it to the Spring back end, so that it changes it for access token.</p>\n\n<p>At the same time, I feel like my approach may be wrong and the entire auth process should take place at the back end, while front end should only get a cookie, but then I can't figure how to redirect AJAX request from front end to VK login page, handle that on back end and then return to Angular app.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "styled-components"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560377375, "post_id": 56570937, "comment_id": 99720821, "body": "What <code>styled</code> library are you using? Could you please provide a link to its docs or NPM package."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560377505, "post_id": 56570937, "comment_id": 99720856, "body": "Oops sorry. Added now."}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560377635, "post_id": 56570937, "comment_id": 99720884, "body": "And again some ts types are not accurate ..."}, {"owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1560379267, "post_id": 56570937, "comment_id": 99721268, "body": "Why you are using a template string if there is no variable inside? Why not just normal string? Or that was just an example?"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 1, "creation_date": 1560379456, "post_id": 56570937, "comment_id": 99721306, "body": "If you mean in the <code>Container</code>, it shouldn&#39;t make a difference. I prefer backticks to single quotes. Also it&#39;s just an example :)"}], "answers": [{"comments": [{"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560377529, "post_id": 56570994, "comment_id": 99720862, "body": "Thanks for the suggestion but I&#39;m not a fan of that syntax since I can&#39;t just merge style objects in, which is annoying."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560377692, "post_id": 56570994, "comment_id": 99720896, "body": "@JonasWilms Thanks. I&#39;ll see if I can work that into my answer."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560379425, "post_id": 56570994, "comment_id": 99721300, "body": "Very cool, thanks for the comprehensive answer. And thanks to @Vincent too!"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 5, "last_activity_date": 1560379477, "last_edit_date": 1560379477, "creation_date": 1560377388, "answer_id": 56570994, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/56570994#56570994", "title": "Styled Components TypeScript", "body": "<p><strong>Update:</strong> On further investigation, it appears that @Vincent was on the right track before I figured out what was actually going on.</p>\n\n<pre><code>import styled, { CSSObject } from \"styled-components\";\n\nconst Container = styled.div({\n  userSelect: \"none !important\"\n} as CSSObject);\n</code></pre>\n\n<p>Will generate the following error:</p>\n\n<pre><code>Conversion of type '{ userSelect: \"none !important\"; }' to type 'CSSObject' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  Type '{ userSelect: \"none !important\"; }' is not comparable to type 'Properties&lt;string | number&gt;'.\n    Types of property 'userSelect' are incompatible.\n      Type '\"none !important\"' is not comparable to type '\"contain\" | \"all\" | \"-moz-initial\" | \"inherit\" | \"initial\" | \"revert\" | \"unset\" | \"auto\" | \"none\" | \"text\" | \"-moz-none\" | \"element\" | undefined'.ts(2352)\n</code></pre>\n\n<p>So yes, styled components does indeed support this syntax even in TypeScript, it just doesn't understand the <code>!important</code> suffix. Here's a slightly modified solution you might prefer:</p>\n\n<pre><code>const important = &lt;T extends string&gt;(s: T): T =&gt; `${s} !important` as T;\n\nconst Container = styled.div({\n  userSelect: important(\"none\"),\n});\n</code></pre>\n\n<p>It's a little hacky (casting <code>\"none !important\"</code> as <code>\"none\"</code> when it clearly isn't), but it keeps your styled CSS props clean and passes the type-checks.</p>\n\n<hr>\n\n<p><strong>Original Answer:</strong> I'm not familiar with that syntax for styled components (it looks a bit like JSS, but not exactly).</p>\n\n<p>I'd recommend using the standard syntax. Styled components are usually written like this:</p>\n\n<pre><code>const Container = styled.div`\n  user-select: none !important;\n`;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1560378075, "post_id": 56571051, "comment_id": 99720987, "body": "Probably Typescript will need some string literal type compose syntax ... :)"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560379388, "post_id": 56571051, "comment_id": 99721296, "body": "Huh, this actually fixes the error. Can you explain what&#39;s going on here please?"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1560379865, "post_id": 56571051, "comment_id": 99721391, "body": "@Vencovsky the same error happens with &quot;normal&quot; strings."}], "tags": [], "owner": {"reputation": 1323, "user_id": 7929314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43913876923af1b1ed1161c775860bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/7929314/vincent"}, "is_accepted": false, "score": 4, "last_activity_date": 1560379828, "last_edit_date": 1560379828, "creation_date": 1560377745, "answer_id": 56571051, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/56571051#56571051", "title": "Styled Components TypeScript", "body": "<p>it doesn't recognize the <code>!important</code> so just cast it to any to quiet typescript.</p>\n\n<pre><code>styled.div({\n  userSelect: 'none !important'  as any\n});\n</code></pre>\n\n<h3>EDIT - explanation of why this works</h3>\n\n<p>its very simple. if you use an ide like atom you can \"go to\" the type for the userSelect property. The type is <code>UserSelectProperty</code> and its value must be one of these exactly. </p>\n\n<pre><code>export type Globals = \"-moz-initial\" | \"inherit\" | \"initial\" | \"revert\" | \"unset\";\nexport type UserSelectProperty = Globals | \"-moz-none\" | \"all\" | \"auto\" | \"contain\" | \"element\" | \"none\" | \"text\";\n</code></pre>\n\n<p>Since <code>none !important</code> is not an option, you have to cast it to any.</p>\n"}, {"comments": [{"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1581768836, "post_id": 60217761, "comment_id": 106551315, "body": "Thanks for the comment -- I know, I prefer the object notation for two reasons. 1.) I find it much easier to create mix-ins for commonly-used combinations, and 2.) Because you can merge style objects together."}], "tags": [], "owner": {"reputation": 1796, "user_id": 2553600, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9069d697c8919a40fd2fd075ec6bd01f?s=128&d=identicon&r=PG", "display_name": "Brad Adams", "link": "https://stackoverflow.com/users/2553600/brad-adams"}, "is_accepted": false, "score": 0, "last_activity_date": 1581634959, "creation_date": 1581634959, "answer_id": 60217761, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/60217761#60217761", "title": "Styled Components TypeScript", "body": "<p>I've just come across this question while looking for something slightly related. I know it's resolved but I've used styled-components for quite a while and never have happened to see the object syntax you refer to, I presume this is included to allow adoption from other css-in-js options.</p>\n\n<p>However, the reason for me commenting is your flex example, you could achieve a very similar effect with tagged template literals:</p>\n\n<pre><code>const flex = {\n  flex: 'display: flex',\n  col: 'flex-direction: column'\n}\n\nconst FlexRow = styled.div`\n  ${flex.flex};\n`\n\nconst FlexCol = styled.div`\n  ${flex.flex};\n  ${flex.col};\n`\n</code></pre>\n\n<p>Happy styled-componenting \ud83d\ude42</p>\n"}], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "accepted_answer_id": 56570994, "answer_count": 3, "score": 4, "last_activity_date": 1581634959, "creation_date": 1560376982, "last_edit_date": 1560380076, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript", "title": "Styled Components TypeScript", "body": "<p>Using <code>styled-components</code>, with normal React.js I can do like: </p>\n\n<pre><code>const Container = styled.div({\n  userSelect: `none !important`,\n})\n</code></pre>\n\n<p>however with TypeScript I get the error: </p>\n\n<pre><code>Argument of type '{ userSelect: string; }' is not assignable to parameter of type 'TemplateStringsArray'.\n  Object literal may only specify known properties, and 'userSelect' does not exist in type 'TemplateStringsArray'.ts(2345)\n\n</code></pre>\n\n<p>What's the best way to fix this? </p>\n\n<p>I don't want to use the <code>styled.div</code> template strings approach as I find it a lot less flexible. </p>\n\n<p>For example with template strings we can't do things like: </p>\n\n<pre><code>const flex = {\n  flex: display: flex,\n  col: flexDirection: `column`\n}\n\nconst FlexRow = styled.div({\n  ...flex.flex,\n})\n\nconst FlexCol = styled.div({\n   ...flex.flex,\n   ...flex.col,\n})\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6", "single-page-application"], "comments": [{"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1560377526, "post_id": 56570864, "comment_id": 99720860, "body": "Try this [routerLink]=&quot;[ &#39;/about-me&#39; ]&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560396553, "creation_date": 1560396553, "answer_id": 56572984, "question_id": 56570864, "link": "https://stackoverflow.com/questions/56570864/cannot-navigate-to-route-when-default-route-has-a-parameter-in-angular/56572984#56572984", "title": "Cannot navigate to route when default route has a parameter in Angular", "body": "<p>You must change your route like this</p>\n\n<pre><code>&lt;li&gt;&lt;a [routerLink]=\"['/about-me']\"&gt;ABOUT ME&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Then add some route before the pageNumber params. I'm not sure your route defenition for HomeComponent is correct</p>\n\n<pre><code>{\n   path: 'something/:pageNumber',\n   component: HomeComponent\n},\n</code></pre>\n"}], "owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 56572984, "answer_count": 1, "score": 0, "last_activity_date": 1576223399, "creation_date": 1560376415, "last_edit_date": 1576223399, "question_id": 56570864, "link": "https://stackoverflow.com/questions/56570864/cannot-navigate-to-route-when-default-route-has-a-parameter-in-angular", "title": "Cannot navigate to route when default route has a parameter in Angular", "body": "<p>I have the following routes:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: BlogLayoutComponent,\n    children: [\n      {\n        path: ':pageNumber',\n        component: HomeComponent\n      },\n      {\n        path: '',\n        component: HomeComponent\n      },\n      {\n        path: 'article/:id',\n        component: ArticleComponent\n      },\n      {\n        path: 'articles-by-hashtag/:id',\n        component: ArticlesByHashComponent\n      },\n      {\n        path: 'articles-by-category/:id',\n        component: ArticlesByCatComponent\n      },\n      {\n        path: 'about-me',\n        component: AboutMeComponent\n      }\n    ]\n  }\n];\n</code></pre>\n\n<p>All the routes work fine, but I cannot navigate to the <code>about-me</code> page using <code>routerLink</code> like so:</p>\n\n<pre><code>&lt;li&gt;&lt;a [routerLink]=\"[ 'about-me' ]\"&gt;ABOUT ME&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>If I remove the default parameter <code>:pageNumber</code> then the navigation works, else the <code>about-me</code> link take me to the default route.</p>\n\n<p>How can I make the <code>about-me</code> route work? I'd rather not use <code>router.navigate(...</code> to be honest.</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "edited": false, "score": 2, "creation_date": 1560429729, "post_id": 56578910, "comment_id": 99739206, "body": "Hmm...actually wait. I did some digging, and found this: <code>interface ParentProps { children: React.ReactElement&lt;ChildProps&gt;[] }</code>. That appears to work, actually. It requires that the children are React elements, all with the prop shape of <code>ChildProps</code>. That&#39;s pretty close to what I want, if not exactly what I want."}, {"owner": {"reputation": 4013, "user_id": 325081, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/ueqS6.jpg?s=128&g=1", "display_name": "Aymon Fournier", "link": "https://stackoverflow.com/users/325081/aymon-fournier"}, "reply_to_user": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "edited": false, "score": 0, "creation_date": 1595960675, "post_id": 56578910, "comment_id": 111653478, "body": "@hairbo maybe you should answer the question with that, get some internet points"}], "tags": [], "owner": {"reputation": 5654, "user_id": 69313, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1QJF6.jpg?s=128&g=1", "display_name": "Wim Haanstra", "link": "https://stackoverflow.com/users/69313/wim-haanstra"}, "is_accepted": false, "score": 3, "last_activity_date": 1560423292, "creation_date": 1560423292, "answer_id": 56578910, "question_id": 56570843, "link": "https://stackoverflow.com/questions/56570843/in-typescript-how-to-ensure-react-child-components-are-of-a-certain-type/56578910#56578910", "title": "in Typescript, How to ensure React child components are of a certain type", "body": "<p>You can't put a contraint on the type of children, but you can do selective rendering of the children (or throw an exception while running).</p>\n\n<p>Take a look at this code:</p>\n\n<pre><code>private getCorrectChildren(): JSX.Element[] {\n    const result: JSX.Element[] = [];\n    React.Children.forEach(this.props.children, child =&gt; {\n        if (React.isValidElement(child)) {\n            if (child.type === MyTypeOfChildHere) {\n                result.push(child);\n            }\n        }\n    });\n    return result;\n}\n</code></pre>\n\n<p>This method can be called in the <code>render()</code> method and will only return children of the right type. You can, of course, throw an error if the <code>child.type</code> is different than the one you are expecting.</p>\n\n<p>PS. This is quite verbose and can optimized to be a smaller method, but this is easier to understand.</p>\n"}], "owner": {"reputation": 2921, "user_id": 474887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4250627bdad5eac8fc6ba8144c2a0e73?s=128&d=identicon&r=PG", "display_name": "hairbo", "link": "https://stackoverflow.com/users/474887/hairbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1560424731, "creation_date": 1560376340, "last_edit_date": 1560424731, "question_id": 56570843, "link": "https://stackoverflow.com/questions/56570843/in-typescript-how-to-ensure-react-child-components-are-of-a-certain-type", "title": "in Typescript, How to ensure React child components are of a certain type", "body": "<p>I can't figure out how to make this work in Typescript. I've got a custom React component which should accept only a certain type of React components as children. I thought I could do something like this, but it doesn't work:</p>\n\n<pre><code>interface ChildProps {\n  firstName?: string;\n  lastName?: string;\n}\n\ninterface ParentProps {\n  children: Child[]\n}\n\nconst Child = ({firstName, lastName}: ChildProps) =&gt; {return &lt;div&gt;child&lt;/div&gt;}\n\nconst Parent = ({children}:ParentProps) =&gt; {\n  return &lt;div&gt;{children}&lt;div&gt;\n}\n\n&lt;Parent&gt;\n &lt;Child&gt; {/* should work */}\n &lt;Child&gt; {/* should work */}\n &lt;Child&gt; {/* should work */}\n &lt;div&gt;this should throw error. Right?&lt;/div&gt;\n&lt;/Parent&gt;\n</code></pre>\n\n<p>What I was hoping was that I could enforce that only <code>Child</code> components are handed to the parent, and I thought it was easy to do, but I'm a bit stumped. I've tried <code>children: Child[]</code>, and <code>children: JSX.Element&lt;Child&gt;[]</code>, and a few other things. </p>\n\n<p>I found this SO question, but I can't quite make sense out of it:\n<a href=\"https://stackoverflow.com/questions/36085104/typescript-how-to-set-type-of-children-in-react-component\">Typescript: how to set type of children in React Component?</a></p>\n\n<p>I'm sure it's something dumb I'm doing. Any advice is appreciated. Thanks!!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 8716337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042ea23a06f9c68b9b0aa7726df6e93a?s=128&d=identicon&r=PG&f=1", "display_name": "remitnotpaucity", "link": "https://stackoverflow.com/users/8716337/remitnotpaucity"}, "edited": false, "score": 0, "creation_date": 1560447630, "post_id": 56570899, "comment_id": 99749751, "body": "Thanks for the response. Do you know why this doesn&#39;t work without discriminating? <code>(view: View) =&gt; updateView(view, { mutableProp: &quot;Should be allowed but isn&#39;t&quot; })</code> I would think it should work as <code>mutableProp</code> exists in both types, but the linter is complaining, saying the return type is <code>StandardView &amp; CustomView</code>"}, {"owner": {"reputation": 120, "user_id": 8716337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042ea23a06f9c68b9b0aa7726df6e93a?s=128&d=identicon&r=PG&f=1", "display_name": "remitnotpaucity", "link": "https://stackoverflow.com/users/8716337/remitnotpaucity"}, "edited": false, "score": 0, "creation_date": 1560475175, "post_id": 56570899, "comment_id": 99758077, "body": "Figured it out, I just another overload for <code>View</code> with a common changes type"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1560376656, "creation_date": 1560376656, "answer_id": 56570899, "question_id": 56570749, "link": "https://stackoverflow.com/questions/56570749/conditional-type-isnt-properly-restrictive/56570899#56570899", "title": "Conditional type isn&#39;t properly restrictive", "body": "<p>I think the simplest solution here (at least from what I see in the question) is to drop the conditional types and the generic function and just use overloads.</p>\n\n<p>Overloads intrinsically can't be called with a union of possible parameter types, so the call be with a <code>CustomView</code> or with a <code>StandardView</code> but not a union of the two, naturally forcing you to discriminate between the two before you perform the call:</p>\n\n<pre><code>interface UpdateView {\n    (viewToChange: CustomView, changes: CustomMutableFields): CustomView\n    (viewToChange: StandardView, changes: StandardMutableFields): StandardView\n}\n\nconst updateView: UpdateView = (viewToChange: CustomView | StandardView, changes : CustomMutableFields | StandardMutableFields) =&gt; {\n    const updatedView = { ...viewToChange, changes };\n    // SAVE TO SERVER\n    return updatedView as any;\n}\n\nconst changeName = (view: View, name: string) =&gt; {\n    updateView(view, { name: \"this is allowed but shouldn't be\" }) // err\n    if (view.isCustom) {\n        updateView(view, { name: \"this is allowed but shouldn't be\" }) // ok\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 8716337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042ea23a06f9c68b9b0aa7726df6e93a?s=128&d=identicon&r=PG&f=1", "display_name": "remitnotpaucity", "link": "https://stackoverflow.com/users/8716337/remitnotpaucity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56570899, "answer_count": 1, "score": 0, "last_activity_date": 1560376656, "creation_date": 1560375780, "question_id": 56570749, "link": "https://stackoverflow.com/questions/56570749/conditional-type-isnt-properly-restrictive", "title": "Conditional type isn&#39;t properly restrictive", "body": "<p>I have different types of views, and the views vary in what properties they have and what properties can be changed. I've tried to create an updateView function where a view and some changes are passed in, merged, and then the view is updated on the backend. The function should restrict what changes are passed in based on what type of view is passed in, but this isn't working correctly. I've posted an example below.</p>\n\n<p>How can I change the UpdateView interface to properly restrict the changes that can be passed in?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface BaseView {\n    immutableProp?: string;\n    mutableProp?: string;\n    name: string;\n    isCustom: boolean;\n}\n\ninterface StandardView extends BaseView {\n    isCustom: false;\n}\n\ninterface CustomView extends BaseView {\n    isCustom: true;\n}\n\ntype View = StandardView | CustomView\n\ntype StandardMutableFields = Partial&lt;Pick&lt;StandardView, \"mutableProp\"&gt;&gt;\ntype CustomMutableFields = Partial&lt;Pick&lt;CustomView, \"mutableProp\" | \"name\"&gt;&gt;\n\n\ninterface UpdateView {\n    &lt;T extends View&gt;(viewToChange: T, changes: T extends CustomView ? CustomMutableFields : StandardMutableFields): T\n}\n\nconst updateView: UpdateView = (viewToChange, changes) =&gt; {\n    const updatedView = { ...viewToChange, changes };\n    // SAVE TO SERVER\n    return updatedView;\n}\n\nconst changeName = (view: View, name: string) =&gt; {\n    updateView(view, { name: \"this is allowed but shouldn't be\" }) // should require a check to ensure the view is custom\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "mime-types"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560375269, "post_id": 56570646, "comment_id": 99720224, "body": "How are you currently de-serializing it?"}, {"owner": {"reputation": 201, "user_id": 8931895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b6fa781496b4f9eaab6a6e904aad62?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/8931895/jacob"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560375421, "post_id": 56570646, "comment_id": 99720281, "body": "Using HttpClient&#39;s get&lt;T&gt;"}], "owner": {"reputation": 201, "user_id": 8931895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37b6fa781496b4f9eaab6a6e904aad62?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/8931895/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560375199, "creation_date": 1560375116, "last_edit_date": 1560375199, "question_id": 56570646, "link": "https://stackoverflow.com/questions/56570646/how-to-change-blobs-default-mime-type-in-model-so-it-deserializes-as-image-png", "title": "How to change Blob&#39;s default mime-type in model, so it deserializes as image/png?", "body": "<p>I have a TypeScript model:</p>\n\n<pre><code>export class Picture{\n    public id : number;\n    public name : string;\n    public data: Blob;\n}\n</code></pre>\n\n<p>I get it from my Spring WebService in this form:</p>\n\n<pre><code>{\n    \"id\": 6,\n    \"name\": \"first_image.png\",\n    \"data\": \"iVBORw0KGgoAAAANSUhEUgAAAPoAAAD6BAMAAAB6wkcOAAAAG1BMVEXMzMyWlpacnJyqqqrFxcWxsbGjo6O3t7e+vr6He3KoAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADgUlEQVR4nO2bzW/bRhDFHyl+HbmSLPpI2k6jo5TWaI5kbSRXSoecycKAfaTUwupRcorUf3Znl7RJxwbiCBQCBO8HaJfkk/ZxdmeHOkgAIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgj5OQje/VIBmVJqDLjJmxdlR2SVAsth3q/7SqkjYFe7l0oVL8lB7e4pNenV3FHvP8u4q983m7/hqn9WRy/J/miz2aRYRP+pXoN3JZj5DItKn2QRfD3Bz2Q3qm+lwmrcp7t3LNMeY7HVJ6tCJl/fx06ulkUru8da9uVWvKhPd1tisULMU30yl2ldzLTpRJY6beWBiXggq+KO+nT3YjN8Ce1VbiXSAjrLKm/Ukb3QQT0RQb9pJ6xinKzVDZDILWSxvjSPd+OObL9NJlszEc6wZ3MnyaF3VN5xz6Iy78iW0hvvIO53E8nmm6AcQ8HMs+CqYUdGNtl+UamRVL/mvjqDcy6rOurE7iRRR8aFTEQ5O0Ts8yaLJZ9ad5Tjr2RJxwO4e6qqDxzV5rwk/egrGVl4gJyfT5sDiepxv8uGb2reoyyT0v9+d4baRVcwqWSPtU4Kqil1jWwuror+a11dwfW49lGnzif57riVzW0l+QHqfHR/f7+VHfcxidtnnNyDN2ll2XH/riXden/G2brOhPoxrrbt813mITDp1si+tMfo//lu1cMHfw5/Q/vdZjHWxbaV8SU5TXGA7zaEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCnmI1r5/XXZkfsL/CPZQz/bN2DAE7hPlzDS6Sa+CDuoIVA8n3u4fOr693N+1ki9vG3XmTfpbmcplaN/DLPdzxB96dwk59OXBPZrCWoe4GJwvtvjyFV4nScY8KXDfug7xu3Jl1C2+1l7t79SEfVBn+wqfLc1hXpvt0qUOxRApinHfdw2kQN+52WjdObNnbuz2SRGbeTp04mC2r9ziTKK3UdGfItLtIuJYXzN+5avdbr2rcrYcmtPzieg93yToTUjwtYu2gB9Nd+LDuIe4G1ZPY7TWex4638T6x64/rAIubQgI2FrrrxG4v8cTdPcLzdcci389drzuW1TrHbXqhLXTXrjv86Km7OTFtJ+exV3HQo0jOY5dmKfxkqsfQXZvz8OMX3OvVuVAP+30/91fgVd9+z+FY/0hza/rt9xBCfhT/A2Hwit6kVCNWAAAAAElFTkSuQmCC\"\n},\n</code></pre>\n\n<p>When it gets deserialized, it becomes:</p>\n\n<pre><code>data:application/octet-stream;base64,iVBORw0KGgoAAAANSU...\n</code></pre>\n\n<p>How do I change that so it becomes <code>image/png</code>? I suppose I have to specify it somewhere, because you can't change the mime-type of an existing blob.</p>\n"}, {"tags": ["javascript", "typescript", "functional-programming", "ramda.js"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1560375030, "post_id": 56570555, "comment_id": 99720147, "body": "Why does this have the &quot;haskel&quot; tag?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1560376554, "post_id": 56570555, "comment_id": 99720603, "body": "Your example implementation throws an error: <code>Uncaught TypeError: Cannot read property &#39;z&#39; of undefined</code> when iterating over <code>{ i: 2, x: &#39;A&#39; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 3, "last_activity_date": 1560378259, "creation_date": 1560378259, "answer_id": 56571117, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties/56571117#56571117", "title": "Point-free group by multiple properties", "body": "<p>I'll get you started -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const reduce = (f, init, xs) =&gt;\r\n  xs .reduce (f, init)\r\n\r\nconst upsert = (m, k, v) =&gt;\r\n  m .has (k)\r\n    ? m .get (k) .push (v)\r\n    : m .set (k, [ v ])\r\n\r\nconst groupByMany = (f, xs) =&gt;\r\n  reduce\r\n    ( (m, x) =&gt;\r\n        ( f (x) .forEach (k =&gt; k &amp;&amp; upsert (m, k, x))\r\n        , m\r\n        )\r\n    , new Map\r\n    , xs\r\n    )\r\n    \r\nconst items =\r\n  [ { i: 1, x: 'A', y: { z: 'B' } }\r\n  , { i: 2, x: 'A' }\r\n  , { i: 3, x: 'B', y: { z: 'B' } }\r\n  ]\r\n\r\nconst result =\r\n  groupByMany\r\n    ( item =&gt; [ item.x, item.y &amp;&amp; item.y.z ]\r\n    , items\r\n    )\r\n    \r\nconsole.log(Object.fromEntries(result.entries()))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Notice how the last item has a <code>B</code> for <code>.x</code> <em>and</em> <code>.y.z</code> so it get's inserted into the <code>B</code> group <em>twice</em>. We change <code>upsert</code> so it will not insert a duplicate value -</p>\n\n<pre><code>const upsert = (m, k, v) =&gt;\n  m .has (k)\n    ? m .get (k) .includes (v)\n      ? m\n      : m .get (k) .push (v)\n    : m .set (k, [ v ])\n</code></pre>\n\n<p>Expand the snippet below to see the final result in your own browser -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const reduce = (f, init, xs) =&gt;\r\n  xs .reduce (f, init)\r\n\r\nconst upsert = (m, k, v) =&gt;\r\n  m .has (k)\r\n    ? m .get (k) .includes (v)\r\n      ? m\r\n      : m .get (k) .push (v)\r\n    : m .set (k, [ v ])\r\n\r\nconst groupByMany = (f, xs) =&gt;\r\n  reduce\r\n    ( (m, x) =&gt;\r\n        ( f (x) .forEach (k =&gt; k &amp;&amp; upsert (m, k, x))\r\n        , m\r\n        )\r\n    , new Map\r\n    , xs\r\n    )\r\n    \r\nconst items =\r\n  [ { i: 1, x: 'A', y: { z: 'B' } }\r\n  , { i: 2, x: 'A' }\r\n  , { i: 3, x: 'B', y: { z: 'B' } }\r\n  ]\r\n\r\nconst result =\r\n  groupByMany\r\n    ( item =&gt; [ item.x, item.y &amp;&amp; item.y.z ]\r\n    , items\r\n    )\r\n    \r\nconsole.log(Object.fromEntries(result.entries()))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>A note on SO's peculiar output: SO will not display the same object twice, instead it will give an object a reference, and print that reference where the duplicate object would appear. For example <code>/**id:3**/</code> in the program's output -</p>\n\n<pre><code>{\n  \"A\": [\n    {\n      /**id:3**/\n      \"i\": 1,\n      \"x\": \"A\",\n      \"y\": {\n        \"z\": \"B\"\n      }\n    },\n    {\n      \"i\": 2,\n      \"x\": \"A\"\n    }\n  ],\n  \"B\": [\n    /**ref:3**/,\n    {\n      \"i\": 3,\n      \"x\": \"B\",\n      \"y\": {\n        \"z\": \"B\"\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>Which matches your expected output -</p>\n\n<pre><code>const expectedOutput = {\n  A: [ { i: 1, ... }, { i: 2, ... }],\n  B: [ { i: 1, ... }, { i: 3, ... }],\n};\n</code></pre>\n\n<p>It's not point-free like you asked for, but I only said I'd get you started ...</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1560394223, "creation_date": 1560394223, "answer_id": 56572740, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties/56572740#56572740", "title": "Point-free group by multiple properties", "body": "<p>I couldn't tell from the question whether you wanted something that made it easy for you to code point-free or if for some reason you were looking for an actual point-free implementation.  If it's the latter, then I'm afraid this will be no help.  But it's a fairly simple</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const groupByMany = (fn) =&gt; (xs) =&gt; \r\n  xs .reduce \r\n    ( (a, x) =&gt; [...new Set ( fn(x) )] . reduce \r\n      ( (a, k) =&gt; k ? {...a, [k]: [... (a [k] || []), x ] } : a \r\n      , a\r\n      )\r\n    , {}\r\n    )\r\n\r\n// const getProperties = (item) =&gt; [path(['x'], item), path(['y', 'z'], item)]\r\nconst getProperties = juxt ( [path (['x']), path (['y', 'z']) ] )\r\n\r\nconst items = [{ i: 1, x: 'A', y: { z: 'B' } }, { i: 2, x: 'A'}, { i: 3, x: 'B', y: { z: 'B' } }]\r\n\r\nconsole .log \r\n  ( groupByMany (getProperties) (items)\r\n  )</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://bundle.run/ramda@0.26.1\"&gt;&lt;/script&gt;&lt;/script&gt;\r\n&lt;script&gt;const { juxt, path } = ramda                   &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Running the keys through <code>[... new Set ( fn(x) ) ]</code> is just a quick way to eliminate duplicates from the array returned by <code>fn (x)</code>.  The rest of the function should be pretty clear.</p>\n"}], "owner": {"reputation": 301, "user_id": 1509976, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1f42d1232cc96c53491640c53a0c0c98?s=128&d=identicon&r=PG", "display_name": "TeoTN", "link": "https://stackoverflow.com/users/1509976/teotn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1560394223, "creation_date": 1560374664, "last_edit_date": 1560375723, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties", "title": "Point-free group by multiple properties", "body": "<p>I'm struggling a bit with implementing a variant <code>groupBy</code> that would allow grouping by multiple properties in a <strong>point-free</strong> style. (I'm using typescript &amp; ramda).</p>\n\n<p>I want to group some elements say of type <code>A</code> by properties returned from function <code>getProperties :: A a -&gt; [b]</code>. In imperative paradigm the implementation could look like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const getProperties = (item: Item): Array&lt;keyof Item&gt; =&gt; [item.x, item.y.z];\n\nconst groupByMany = (items: Item[]): Dictionary&lt;Item[]&gt; =&gt; {\n  let groupped: Dictionary&lt;Item[]&gt; = {};\n  for (let item of items) {\n    for (let key of getProperties(item)) {\n      if (groupped[key]) {\n        groupped[key].push(item);\n      } else {\n        groupped[key] = [item];\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>const items = [\n  { i: 1, x: 'A', y: { z: 'B' } },\n  { i: 2, x: 'A' },\n  { i: 3, x: 'B', y: { z: 'B' } },\n];\nconst expectedOutput = {\n  A: [ { i: 1, ... }, { i: 2, ... }],\n  B: [ { i: 1, ... }, { i: 3, ... }],\n};\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 4275, "user_id": 589774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ddaae8511fd4e2b2c76a422703a762e2?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/589774/jordan"}, "edited": false, "score": 0, "creation_date": 1560387571, "post_id": 56570306, "comment_id": 99722728, "body": "The typescript king returns! I was wondering if there was a way to use <code>infer</code> here! Didn&#39;t realize you could do that <code>extends 1</code> on the length! Is it possible to do something like this on individual methods via an attribute?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4275, "user_id": 589774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ddaae8511fd4e2b2c76a422703a762e2?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/589774/jordan"}, "edited": false, "score": 1, "creation_date": 1560388370, "post_id": 56570306, "comment_id": 99722853, "body": "@Jordan I never left ;-). I am not sure about the weather it is possible from a decorator, I&#39;ll check tomorrow."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 4275, "user_id": 589774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ddaae8511fd4e2b2c76a422703a762e2?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/589774/jordan"}, "edited": false, "score": 1, "creation_date": 1560424240, "post_id": 56570306, "comment_id": 99736075, "body": "@Jordan added decorator version"}, {"owner": {"reputation": 4275, "user_id": 589774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ddaae8511fd4e2b2c76a422703a762e2?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/589774/jordan"}, "edited": false, "score": 1, "creation_date": 1560436576, "post_id": 56570306, "comment_id": 99743787, "body": "\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25\ud83d\udd25"}, {"owner": {"reputation": 79, "user_id": 2242402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0QbN.jpg?s=128&g=1", "display_name": "regevbr", "link": "https://stackoverflow.com/users/2242402/regevbr"}, "edited": false, "score": 0, "creation_date": 1586716207, "post_id": 56570306, "comment_id": 108225017, "body": "@TitianCernicova-Dragomir this is an awsome ansear! The thing is it doesnt work for private methods (in the decorator example) as they are not part of the target type and as such the check fails. any suggestions?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 79, "user_id": 2242402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m0QbN.jpg?s=128&g=1", "display_name": "regevbr", "link": "https://stackoverflow.com/users/2242402/regevbr"}, "edited": false, "score": 1, "creation_date": 1586717727, "post_id": 56570306, "comment_id": 108225582, "body": "@regevbr no sorry, private members do not show up in <code>keyof</code> so there is nothing we can really do to constrain privates in this way."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1560424226, "last_edit_date": 1560424226, "creation_date": 1560373260, "answer_id": 56570306, "question_id": 56570202, "link": "https://stackoverflow.com/questions/56570202/force-typescript-class-method-to-be-unary-method-with-an-argument-of-a-specific/56570306#56570306", "title": "force typescript class method to be unary method with an argument of a specific type", "body": "<p>You just need to add another condition for the length of the parameters. You can extract the type of the parameters as a tuple using <code>Parameters</code>. The tuple will have a length property that is of a number literal type, so you can check that the <code>length</code> extends <code>1</code>:</p>\n\n<pre><code>type ContextService&lt;T, U extends BaseContext&gt; = {\n    [K in keyof T]: T[K] extends AnyFunction ?\n        T[K] extends ContextFn&lt;U, ReturnType&lt;T[K]&gt;&gt; ?\n            Parameters&lt;T[K]&gt;[\"length\"] extends 1 ? T[K]\n        : never : never\n    : T[K]\n};\n\nclass BarService implements ContextService&lt;BarService, SomeContext&gt; {\n    test: string = 'test';\n    // error: not assignable to type never\n    updateBar(): string {\n        return '';\n    }\n    updateBar2(p: ContextObj&lt;SomeContext&gt;): string { // ok\n        return '';\n    }\n}\n</code></pre>\n\n<p>Might be useful to give a hint to the user as to the problem, athough custom errors are not supported, this will be pretty close:</p>\n\n<pre><code>type ContextService&lt;T, U extends BaseContext&gt; = {\n    [K in keyof T]: T[K] extends AnyFunction ?\n        T[K] extends ContextFn&lt;U, ReturnType&lt;T[K]&gt;&gt; ?\n            Parameters&lt;T[K]&gt;[\"length\"] extends 1 ? T[K]\n        : [\"Method must have exactly one parameter of type \", ContextObj&lt;U&gt;, \"Found Parameters:\", Parameters&lt;T[K]&gt;] \n        : [\"Parameters types not macthed, expected  [\", ContextObj&lt;U&gt;, \"] Found Parameters:\", Parameters&lt;T[K]&gt;]\n    : T[K]\n};\n\nclass BarService implements ContextService&lt;BarService, SomeContext&gt; {\n    test: string = 'test';\n    // error: not assignable to type never\n    updateBar(): string {// Type '() =&gt; string' is missing the following properties from type '[\"Method must have exactly one parameter of type \", ContextObj&lt;SomeContext&gt;, \"Found Parameters:\", []]'\n        return '';\n    }\n    updateBar2(p: ContextObj&lt;SomeContext&gt;): string {\n        return '';\n    }\n\n    updateBar3(p: SomeContext): string { // Type '(p: SomeContext) =&gt; string' is missing the following properties from type '[\"Parameters types not macthed, expected  [\", ContextObj&lt;SomeContext&gt;, \"] Found Parameters:\", [SomeContext]]'\n        return '';\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Answering comment question: Can this be done with decorators ? </p>\n\n<p>Answer is yes, we can capture as type parameters the class the decorator is being applied to as well as the key it is applied to and use the same logic as we did for a property key previously. Just that this time we attach the error to the key passed into the decorator:</p>\n\n<pre><code>type Check&lt;TSig extends (...a: any[]) =&gt; any, T, K extends keyof T&gt; = \n    T[K] extends (...a: any[]) =&gt; any ?\n    T[K] extends TSig ?\n            Parameters&lt;T[K]&gt;[\"length\"] extends 1 ? unknown\n        : [\"Method must have exactly one parameter of type \", Parameters&lt;TSig&gt;, \"Found Parameters:\", Parameters&lt;T[K]&gt;] \n        : [\"Parameters types not macthed, expected  [\", Parameters&lt;TSig&gt;, \"] Found Parameters:\", Parameters&lt;T[K]&gt;]\n    : unknown\nfunction ensureSignatire&lt;TSig extends (...a: any[]) =&gt; any&gt;() {\n    return function &lt;TTarget, TKey extends keyof TTarget&gt;(target: TTarget, key: TKey &amp; Check&lt;TSig, TTarget, TKey&gt;) {\n\n    }\n}\n\nclass BarService {\n    test: string = 'test';\n\n    @ensureSignatire&lt;ContextFn&lt;SomeContext, any&gt;&gt;() // Type '\"updateBar\"' is not assignable to type '[\"Method must have exactly one parameter of type \", [ContextObj&lt;SomeContext&gt;], \"Found Parameters:\", []]'.\n    updateBar(): string {\n        return '';\n    }\n\n    @ensureSignatire&lt;ContextFn&lt;SomeContext, any&gt;&gt;() //ok\n    updateBar2(p: ContextObj&lt;SomeContext&gt;): string {\n        return '';\n    }\n    @ensureSignatire&lt;ContextFn&lt;SomeContext, any&gt;&gt;() //  Type '\"updateBar3\"' is not assignable to type '[\"Parameters types not macthed, expected  [\", [ContextObj&lt;SomeContext&gt;], \"] Found Parameters:\", [SomeContext]]'\n    updateBar3(p: SomeContext): string { \n        return '';\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 4275, "user_id": 589774, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ddaae8511fd4e2b2c76a422703a762e2?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/589774/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 56570306, "answer_count": 1, "score": 1, "last_activity_date": 1560424226, "creation_date": 1560372740, "question_id": 56570202, "link": "https://stackoverflow.com/questions/56570202/force-typescript-class-method-to-be-unary-method-with-an-argument-of-a-specific", "title": "force typescript class method to be unary method with an argument of a specific type", "body": "<p>For fun I wanted to see if I could come up with a way, using just types, that would force all functions in a class to be a unary function that takes any object so long as that object conforms to a specified interface (in this case I wanted to make sure a <code>ContextObj</code> was provided as the argument)</p>\n\n<p>I took a stab at it like this:</p>\n\n<pre><code>interface BaseContext {}\ninterface SomeContext { foo: 'lish'; };\ninterface ContextObj&lt;T&gt; { context: T }\n\n// a unary function that takes an argument that conforms to the ContextObj interface\n// and returns a value of type U\ntype ContextFn&lt;T, U&gt; = (x: ContextObj&lt;T&gt;)  =&gt; U;\n\n// a type to represent any function\ntype AnyFunction = (...args: any[]) =&gt; any;\n\n// we use mapped types and conditional types here to determine if\n// T[K], the value of the property K on type T, is a function\n// if it's not a function we return the T[K] unaltered\n// if it is a function we make sure it conforms to our ContextFn type\n// otherwise we return never which I was hoping would result in an error\ntype ContextService&lt;T, U extends BaseContext&gt; = {\n  [K in keyof T]: T[K] extends AnyFunction\n  ? T[K] extends ContextFn&lt;U, ReturnType&lt;T[K]&gt;&gt;\n    ? T[K]\n    : never\n  : T[K]\n};\n\nclass BarService implements ContextService&lt;BarService, SomeContext&gt; {\n  test:string = 'test';\n  // expected error: not assignable to type never\n  updateBar(): string {\n    return '';\n  }\n}\n</code></pre>\n\n<p>It turns out this did not work as expected as it is a limit (or feature?) of TypeScript: <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-with-fewer-parameters-assignable-to-functions-that-take-more-parameters\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-with-fewer-parameters-assignable-to-functions-that-take-more-parameters</a></p>\n\n<p>I'm curious if there's a way to do something like this (force method arguments to match to specific type signatures) at the class or interface level? Can it be done at the individual method level via a decorator (granted at that point you might as well just use a proper type signature).</p>\n\n<p>Just testing out the limits :)</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 647, "user_id": 11477814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wscH1.jpg?s=128&g=1", "display_name": "Squanchy", "link": "https://stackoverflow.com/users/11477814/squanchy"}, "is_accepted": false, "score": 0, "last_activity_date": 1560458010, "creation_date": 1560458010, "answer_id": 56588211, "question_id": 56570189, "link": "https://stackoverflow.com/questions/56570189/react-hook-usememo-has-an-unnecessary-dependency-match/56588211#56588211", "title": "React Hook useMemo has an unnecessary dependency: &#39;match&#39;", "body": "<p>You should use useEffect instead of useMemo.If you use the react router, then the match object changes when history is updated, even when passing the same parameters and correctly transmit the parameters themselves.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11614165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560458010, "creation_date": 1560372682, "question_id": 56570189, "link": "https://stackoverflow.com/questions/56570189/react-hook-usememo-has-an-unnecessary-dependency-match", "title": "React Hook useMemo has an unnecessary dependency: &#39;match&#39;", "body": "<p>this my code</p>\n\n<pre><code>const Head: FC&lt;{ match: faceMatch&lt;{}&gt; }&gt; = ({ match }) =&gt; {\n  const [arrProd, setArrProd] = useState&lt;JSX.Element[]&gt;([]);\n  const [ImgCatIndx, setImgCatIndx] = useState&lt;number&gt;(0);\n  const [resError, setResError] = useState&lt;string&gt;(\"\");\n  useMemo(() =&gt; {\n    setImgCatIndx(0);\n</code></pre>\n\n<blockquote>\n<pre><code> }, [match]);//warning React Hook useMemo has an unnecessary dependency\n</code></pre>\n</blockquote>\n\n<pre><code>  useEffect(() =&gt; {\n    const abortController = new AbortController();\n    const signal = abortController.signal;\n    document.title = `Hat Jacket Pants Shoes Suit | Amasia`;\n    (async () =&gt; {\n      setArrProd([]);\n      setResError(\"\");\n      try {\n        const Res = await fetch(\n          `https://foo0022.firebaseio.com/New/${headcateg[ImgCatIndx]}.json`,\n          {\n            signal: signal\n          }\n        );\n        if (!Res.ok) {\n          throw new Error(\"Page Not Found 404\");\n        }\n        const ResObj = await Res.json();\n        const ResArr = await Object.values(ResObj).flat();\n        await setArrProd(\n          ResArr.map(\n            ({\n              to,\n              id,\n              price,\n              src,\n              title,\n              sold,\n              shipping\n            }: faceProductList) =&gt; (\n              &lt;Fragment key={id}&gt;\n                &lt;NavLink to={to}&gt;\n                  &lt;img\n                    src={`/${src[0]}`}\n                    alt={title}\n                    height={\"220px\"}\n                    width={\"220px\"}\n                  /&gt;\n                  &lt;span&gt;{price}&lt;/span&gt;\n                  &lt;span&gt;{shipping}&lt;/span&gt;\n                  &lt;span&gt;{sold}&lt;/span&gt;\n                &lt;/NavLink&gt;\n              &lt;/Fragment&gt;\n            )\n          )\n        );\n      } catch (error) {\n        if (error.name !== \"AbortError\") {\n          setResError(error.message);\n        }\n      }\n    })();\n    return () =&gt; {\n      abortController.abort();\n    };\n  }, [ImgCatIndx]);\n\n  if (resError !== \"\") {\n    return &lt;HandlerErr error={resError} /&gt;;\n  } else if (!arrProd.length) {\n    return &lt;Loding /&gt;;\n  }\nreturn(....)\n</code></pre>\n\n<p>I get in the console. </p>\n\n<blockquote>\n  <p>React Hook useMemo has an unnecessary dependency: 'match'. Either exclude it >or remove the dependency array.</p>\n</blockquote>\n\n<p>I want When changing the match has changed and ImgCatIndx = 0.it's not clear why I'm getting a warning here..How can this be related..How to fix the warning?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560372728, "post_id": 56570084, "comment_id": 99719443, "body": "Use an arrow function instead."}, {"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 1, "creation_date": 1560372796, "post_id": 56570084, "comment_id": 99719472, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9644044/javascript-this-pointer-within-nested-function\">Javascript &quot;this&quot; pointer within nested function</a>"}, {"owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "reply_to_user": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560375884, "post_id": 56570084, "comment_id": 99720427, "body": "@str - is it because of this answer (in the code that was commented): // In an arrow function, the &#39;this&#39; pointer is interpreted lexically,  If so, what does &quot;lexically&quot; mean?"}, {"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560409067, "post_id": 56570084, "comment_id": 99727870, "body": "<a href=\"https://stackoverflow.com/questions/1047454/what-is-lexical-scope\" title=\"what is lexical scope\">stackoverflow.com/questions/1047454/what-is-lexical-scope</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "edited": false, "score": 0, "creation_date": 1560373224, "post_id": 56570225, "comment_id": 99719631, "body": "That worked.  Can you tell me why?  What was I doing incorrectly?  Or if you could point me to a reference to read up on, that would be great!"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "edited": false, "score": 0, "creation_date": 1560391580, "post_id": 56570225, "comment_id": 99723374, "body": "@webdad3 it&#39;s about interpreting <code>this</code> , when using function style <code>this</code> refers to scope of function"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1560372876, "creation_date": 1560372876, "answer_id": 56570225, "question_id": 56570084, "link": "https://stackoverflow.com/questions/56570084/properties-are-undefined-inside-of-promises/56570225#56570225", "title": "properties are undefined inside of promises", "body": "<p>change </p>\n\n<pre><code>let originalEditSubmit = function(result: any) {\n</code></pre>\n\n<p>to </p>\n\n<pre><code>let originalEditSubmit = (result: any) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 56570225, "answer_count": 1, "score": 0, "last_activity_date": 1560372876, "creation_date": 1560372168, "last_edit_date": 1560372550, "question_id": 56570084, "link": "https://stackoverflow.com/questions/56570084/properties-are-undefined-inside-of-promises", "title": "properties are undefined inside of promises", "body": "<p>This is my typescript function where I'm trying to use a promise:</p>\n\n<pre><code>public onEditSubmit() {\n    const model = this._sharedService.createUpdateModel(\n        null,\n        this.editForm\n    ) as LOG;\n\n    model.fileId = this.fileId;\n    model.startEffectiveDate = Shared.toISODate(model.startEffectiveDate);\n    model.endEffectiveDate = Shared.toISODate(model.endEffectiveDate);\n\n\n\n    let deferredExecutionCheck = new Promise((resolve, reject) =&gt; {\n        this._updateService\n            .getAllById(this.selectedItem.LogId)\n            .subscribe(\n                r =&gt; {\n                    this.records = r;\n\n                    this.records.forEach(element =&gt; {\n                        if (\n                            element.StatusId === 1 ||\n                            element.StatusId === 2 ||\n                            element.StatusId === 4 ||\n                            element.StatusId === 5\n                        ) {\n                            this._notificationService.showErrorMessage(\n                                `MESSAGE GOES HERE`,\n                                \"IN PROGRESS\"\n                            );\n\n                            reject(\"In Progress\");\n                        }\n                    });\n                    resolve(\"Not In Progress\");\n                },\n                e =&gt; {\n                    throw e;\n                }\n            );\n        console.log(\"finished\");\n    });\n\n    let originalEditSubmit = function(result: any) {\n        if (this.editMode === \"Add\") {\n            this.add(model);\n        } else {\n            if (\n                (model.wfStatusId === Status.Review ||\n                    model.wfStatusId === Status.LoadFailed ||\n                    model.wfStatusId === Status.Completed) &amp;&amp;\n                model.eventStatusId === eStatus.Cancelled\n            ) {\n                this._confirmDlg.closable = false;\n                this._confSvc.confirm({\n                    accept: () =&gt; {\n                        model.cancelRcdb = true;\n                        this.update(model);\n                    },\n                    message: \"Cancel RCdB Dataset?\",\n                    reject: () =&gt; {\n                        model.cancelRcdb = false;\n                        this.update(model);\n                    }\n                });\n            } else {\n                this.update(model);\n            }\n        }\n    };\n\n    deferredExecutionCheck.then(\n        result =&gt; originalEditSubmit(result),\n        error =&gt; console.log(\"error\", error)\n    );\n}\n</code></pre>\n\n<blockquote>\n  <p>Error: Uncaught (in promise): TypeError: Cannot read property\n  'editMode' of undefined TypeError: Cannot read property 'editMode' of\n  undefined at originalEditSubmit</p>\n</blockquote>\n\n<p>I moved the <code>this.fileId</code> property outside of the originalEditSumbmit method and it now is being read.  But now it seems like <code>this.editMode</code> is now having the same issue.</p>\n\n<p>Can I not have these properties inside of my promises like this?</p>\n"}, {"tags": ["typescript", "rxjs6"], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 1706578, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1wYfl.jpg?s=128&g=1", "display_name": "pmeyer", "link": "https://stackoverflow.com/users/1706578/pmeyer"}, "edited": false, "score": 0, "creation_date": 1560376683, "post_id": 56570854, "comment_id": 99720639, "body": "Thanks, but you are combining my two methods into one, this is not what I want....  I know how to do it that way! What do you mean by &quot;checkIfTrue has no return statement&quot;"}, {"owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "reply_to_user": {"reputation": 810, "user_id": 1706578, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1wYfl.jpg?s=128&g=1", "display_name": "pmeyer", "link": "https://stackoverflow.com/users/1706578/pmeyer"}, "edited": false, "score": 0, "creation_date": 1560414680, "post_id": 56570854, "comment_id": 99730803, "body": "y =&gt; { return y == 1; } is a separate function, it&#39;s what I tried to demo with my &quot;a&quot; function. Only this function has a return statement, your checkIfTrue function has no return statement and without a return statement it will not return a value and that&#39;s what the compiler error tells you."}], "tags": [], "owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "is_accepted": false, "score": 1, "last_activity_date": 1560376377, "creation_date": 1560376377, "answer_id": 56570854, "question_id": 56569946, "link": "https://stackoverflow.com/questions/56569946/typescript-nested-observables/56570854#56570854", "title": "Typescript Nested Observables", "body": "<pre><code>checIfTrue (): Observable&lt;boolean&gt; =&gt; {\n     this.service2.getInt().subscribe(y =&gt; { return y == 1;});\n};\n</code></pre>\n\n<p>You have two functions here:</p>\n\n<ul>\n<li>checkIfTrue()</li>\n<li>y => { return y == 1; }</li>\n</ul>\n\n<p>Your second function has a return statement, your checkIfTrue() has no return statement. That's why it does not return a value. Just as an example, that should make clear why that cannot work:</p>\n\n<pre><code>// y =&gt; y == 1 function dummy\nfunction a() {\n  return true;\n}\n\n// subscribe() dummy\nfunction b(callback: Function) {\n  callback();\n}\n\nfunction checkIfTrue() {\n  // your subscribe(y =&gt; y == 1) line\n  b(a);\n}\n</code></pre>\n\n<p>What you're looking for is something like this</p>\n\n<pre><code>checIfTrue (): Observable&lt;boolean&gt; =&gt; {\n   return this.service2.getInt()\n    .pipe(map(y =&gt; y == 1));\n};\n</code></pre>\n\n<p>You can shorten this as:</p>\n\n<pre><code>checIfTrue (): Observable&lt;boolean&gt; =&gt; this.service2\n    .getInt()\n    .pipe(map(y =&gt; y == 1));\n</code></pre>\n"}], "owner": {"reputation": 810, "user_id": 1706578, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1wYfl.jpg?s=128&g=1", "display_name": "pmeyer", "link": "https://stackoverflow.com/users/1706578/pmeyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560402336, "creation_date": 1560371385, "last_edit_date": 1560377464, "question_id": 56569946, "link": "https://stackoverflow.com/questions/56569946/typescript-nested-observables", "title": "Typescript Nested Observables", "body": "<p>Background:\nUsing rxjs Observables</p>\n\n<p>I'm trying to call a method (with an observable) that calls another method.  This current setup isn't working for me  with the following compilation error in checkIfTrue function in service 1...</p>\n\n<blockquote>\n  <p>A function whose declared type is neither 'void' nor 'any' must return\n  a value.ts(2355)</p>\n</blockquote>\n\n<pre><code>//component\n//makes call to service\nprocess = () =&gt; {\n     this.service1.checkIfTrue().subscribe(x =&gt; {console.log(x)});\n};\n\n//service 1\n//makes call to service 2\ncheckIfTrue = (): Observable&lt;boolean&gt; =&gt; {\n     this.service2.getInt().subscribe(y =&gt; { return y == 1;});\n};\n\n\n//service 2\n//makes call to service 2\ngetInt = (): Observable&lt;number&gt; =&gt; {\n     return Observable.of(1);\n};\n</code></pre>\n\n<p>It seems like I can't return the response from the second method...How can I achieve this?</p>\n"}, {"tags": ["typescript", "three.js"], "comments": [{"owner": {"reputation": 1598, "user_id": 2620080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/seJJg.jpg?s=128&g=1", "display_name": "ScieCode", "link": "https://stackoverflow.com/users/2620080/sciecode"}, "edited": false, "score": 0, "creation_date": 1560375131, "post_id": 56569862, "comment_id": 99720177, "body": "What do you plan on interleave on the <code>indices</code> attribute? It has an item size of <code>1</code>, so you can&#39;t even pack 3 indices together. Check this <a href=\"https://github.com/mrdoob/three.js/blob/master/examples/webgl_buffergeometry_instancing_interleaved_dynamic.html\" rel=\"nofollow noreferrer\">example</a> to see how you can pack different types of data on the same buffer."}, {"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1560394643, "post_id": 56569862, "comment_id": 99723948, "body": "No, you can not interleave indices in general. Interleaving indices makes no sense."}], "answers": [{"tags": [], "owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "is_accepted": true, "score": 4, "last_activity_date": 1560395179, "creation_date": 1560395179, "answer_id": 56572849, "question_id": 56569862, "link": "https://stackoverflow.com/questions/56569862/can-i-use-an-interleavedbufferattribute-for-indices/56572849#56572849", "title": "Can I use an InterleavedBufferAttribute for indices?", "body": "<p>No, you can not interleave indices in general. Interleaving indices makes no sense.</p>\n\n<p>What would you interleave them with?</p>\n\n<p>In general you interleave things like positions, normals, texture coordinates, colors. Instead of having 4 attributes with parallel arrays</p>\n\n<pre><code>position, position, position, position\nnormal, normal, normal, normal\nuv, uv, uv, uv,\ncolor, color, color, color\n</code></pre>\n\n<p>You have an interleaved array</p>\n\n<pre><code>pos,nrm,uv,clr,pos,nrm,uv,clr,pos,nrm,uv,clr,pos,nrm,uv,clr\n</code></pre>\n\n<p>Now come indices. Let't say we're making quad so there are 4 vertices\nand 6 indices. How do you interleave 6 indices with 4 vertices? You can't</p>\n\n<p>indices reference the stuff in the attributes, they aren't attributes themselves.</p>\n"}], "owner": {"reputation": 1069, "user_id": 5909613, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ed74c29cc1502b7f39ede71993587291?s=128&d=identicon&r=PG&f=1", "display_name": "Jerome Reinl&#228;nder", "link": "https://stackoverflow.com/users/5909613/jerome-reinl%c3%a4nder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 56572849, "answer_count": 1, "score": 1, "last_activity_date": 1560395179, "creation_date": 1560371022, "question_id": 56569862, "link": "https://stackoverflow.com/questions/56569862/can-i-use-an-interleavedbufferattribute-for-indices", "title": "Can I use an InterleavedBufferAttribute for indices?", "body": "<p>I have this code snippet:</p>\n\n<pre><code>const geometry = new THREE.BufferGeometry();\nconst indices = new THREE.InterleavedBufferAttribute(...);\ngeometry.setIndex(indices); // this is invalid\n</code></pre>\n\n<p>The last line results in a compiler error:</p>\n\n<blockquote>\n  <p>Type 'InterleavedBufferAttribute' is missing the following properties from type 'Bufferattribute': dynamic, updateRange, version, needsUpdate and 12 more.</p>\n</blockquote>\n\n<p>Can I even use an <code>InterleavedBufferAttribute</code> to set my indices somehow?</p>\n\n<p>On a sidenote: Can you use interleaved arrays for indices in general? I mean language independent. I have never seen one. This is obviously not the main question, but I am interested.</p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 1, "creation_date": 1560371068, "post_id": 56569799, "comment_id": 99718812, "body": "<a href=\"https://palantir.github.io/tslint/rules/semicolon/\" rel=\"nofollow noreferrer\">palantir.github.io/tslint/rules/semicolon</a> it can be ignored only for interfaces and classes based on other argument"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 11638983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zOVqdcdSMhQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXjSFHh5CfyTborrGknMqpHDcJ9Q/mo/photo.jpg?sz=128", "display_name": "&#193;lvaro Corral Soil&#225;n", "link": "https://stackoverflow.com/users/11638983/%c3%81lvaro-corral-soil%c3%a1n"}, "edited": false, "score": 1, "creation_date": 1560375516, "post_id": 56570425, "comment_id": 99720312, "body": "Thanks. This links seems interesting!"}], "tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": false, "score": 3, "last_activity_date": 1560374225, "last_edit_date": 1560374225, "creation_date": 1560373908, "answer_id": 56570425, "question_id": 56569799, "link": "https://stackoverflow.com/questions/56569799/how-to-ignore-semicolons-with-tslintrecomended/56570425#56570425", "title": "How to ignore semicolons with &quot;tslint:recomended&quot;", "body": "<p>You can suppress <code>tslint</code> rules for your file or the next line in your code by generating disable comments.</p>\n\n<p>If you want to disable a rule for the entire file, then at the top of your file, add</p>\n\n<pre><code>/* tslint:disable:&lt;rule name&gt;\n</code></pre>\n\n<p>If you want to disable a rule for the next line, then above the line for which you want to disable the rule, add</p>\n\n<pre><code>// tslint:disable-next-line:&lt;rule name&gt;\n</code></pre>\n\n<p>where <code>&lt;rule name&gt;</code> is the name of your rule. In your case, <code>semicolon</code>.</p>\n\n<p>You can get more information on how to generate disable comments <a href=\"https://www.jetbrains.com/help/rider/Using_TSLint_Code_Quality_Tool.html#ws_tslint_quick_fixes\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1560374661, "post_id": 56570503, "comment_id": 99720059, "body": "It should be noted that the keyboard commands work in Visual Studio Code (only?)."}, {"owner": {"reputation": 1044, "user_id": 1361335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kgvr.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1361335/alvaro"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1560374925, "post_id": 56570503, "comment_id": 99720118, "body": "@HereticMonkey Yes, VSCode for sure, I don&#39;t know if it would work in others. Thank you! Nice add to the solution."}, {"owner": {"reputation": 93, "user_id": 11638983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zOVqdcdSMhQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXjSFHh5CfyTborrGknMqpHDcJ9Q/mo/photo.jpg?sz=128", "display_name": "&#193;lvaro Corral Soil&#225;n", "link": "https://stackoverflow.com/users/11638983/%c3%81lvaro-corral-soil%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1560375433, "post_id": 56570503, "comment_id": 99720284, "body": "This is what I wanted, and it works, perfectly. Thanks!!!  Now it doesn&#39;t matter if I write a semicolon or not.  Very good explanation and I like very much when the response contains context, even if it is not required.  I appreciate this answer!!!!"}], "tags": [], "owner": {"reputation": 1044, "user_id": 1361335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kgvr.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1361335/alvaro"}, "is_accepted": true, "score": 17, "last_activity_date": 1582664436, "last_edit_date": 1582664436, "creation_date": 1560374366, "answer_id": 56570503, "question_id": 56569799, "link": "https://stackoverflow.com/questions/56569799/how-to-ignore-semicolons-with-tslintrecomended/56570503#56570503", "title": "How to ignore semicolons with &quot;tslint:recomended&quot;", "body": "<p>As in the previous response, you can suppress <code>tslint</code> for a file or the next line. But if you want to edit the rules for your entire directory, check the <code>tslint.json</code> file, this is your global configuration for the project you're on.</p>\n\n<p>You could probably find this file in the root folder of your app. If not, try pressing <code>cmd + P</code> (mac) or <code>ctrl + P</code> (windows) and enter <code>tslint.json</code>.</p>\n\n<p>Once you're there, add this entry to the rules list:</p>\n\n<pre><code>{\n  ...\n  \"rules\": {\n    ...\n    \"semicolon\":false\n  }\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 93, "user_id": 11638983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zOVqdcdSMhQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdXjSFHh5CfyTborrGknMqpHDcJ9Q/mo/photo.jpg?sz=128", "display_name": "&#193;lvaro Corral Soil&#225;n", "link": "https://stackoverflow.com/users/11638983/%c3%81lvaro-corral-soil%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7424, "favorite_count": 0, "accepted_answer_id": 56570503, "answer_count": 2, "score": 9, "last_activity_date": 1582664436, "creation_date": 1560370780, "last_edit_date": 1560374591, "question_id": 56569799, "link": "https://stackoverflow.com/questions/56569799/how-to-ignore-semicolons-with-tslintrecomended", "title": "How to ignore semicolons with &quot;tslint:recomended&quot;", "body": "<p>I want my tslint to ignore semicolons.</p>\n\n<p>I would like to keep the rule <code>\"extends\": \"tslint:recommended\"</code>. Right now, I just can\u00b4t follow this rule, which forces me to use semicolon always, or use this other one <code>\"semicolon\": [true, \"never\"]</code>, which forces me to delete all semicolons.\nI just want to ignore them. I can do it by deleting the <code>\"extends\": \"tslint:recommended\"</code> but I would like to keep this rule and just ignore semicolons.</p>\n\n<p>tslint documentation just gives the option to keep them always or delete always, but not ignore them.</p>\n\n<p>Can someone help me?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371041, "post_id": 56569858, "comment_id": 99718803, "body": "that isn&#39;t exactly the same thing though."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371150, "post_id": 56569858, "comment_id": 99718849, "body": "@robertotom&#225;s Depends what you want to achieve. If you want the result to be a type with extra properties on each member of the union, this will achieve that result"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371183, "post_id": 56569858, "comment_id": 99718862, "body": "note that the extra properties are mutually exclusive"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371254, "post_id": 56569858, "comment_id": 99718898, "body": "@robertotom&#225;s that was not mentioned in the question, could you maybe include the type you expect as a result of this extension ?"}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371299, "post_id": 56569858, "comment_id": 99718919, "body": "in fact, <i>it is</i> in the source code in the original question -- I don&#39;t want a type.. at the end of the day, I want an interface. :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371559, "post_id": 56569858, "comment_id": 99719032, "body": "@robertotom&#225;s I see the original <code>ValueDropdownOption</code> and <code>TemplateDropdownOption</code> that are mutually exclusive .. it is not clear to me how the extra props are mutually exclusive. The intersection keeps the exclusiveness of the original union and adds the extra elements to each member of the original union. Added the resulting type to the answer."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 1, "creation_date": 1560371634, "post_id": 56569858, "comment_id": 99719058, "body": "@robertotom&#225;s in this case the difference between a type and an interface is not that important, and unions can&#39;t be interfaces."}, {"owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371695, "post_id": 56569858, "comment_id": 99719076, "body": "this last comment is probably the actual answer ... why can not type unions be interfaces ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 1, "creation_date": 1560371842, "post_id": 56569858, "comment_id": 99719121, "body": "@robertotom&#225;s Design limitation. Interface properties must known when extending, unions don&#39;t qualify. But the answer above is good alternative, let me knowif it does not work for you for some reason, I am curios why.,"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "edited": false, "score": 0, "creation_date": 1560371951, "post_id": 56569858, "comment_id": 99719147, "body": "@robertotom&#225;s Official comment to a similar issue: <a href=\"https://github.com/microsoft/TypeScript/issues/30121\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/30121</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1560371321, "last_edit_date": 1560371321, "creation_date": 1560371012, "answer_id": 56569858, "question_id": 56569752, "link": "https://stackoverflow.com/questions/56569752/an-interface-may-only-extend-a-class-or-another-interface/56569858#56569858", "title": "An interface may only extend a class or another interface", "body": "<p>You can't extent a union, you could however use an intersection to add properties:</p>\n\n<pre><code>export type DropdownOptionExt = DropdownOption &amp; {\n  payload: any\n  name: string\n}\n</code></pre>\n\n<p>This is equivalent to:</p>\n\n<pre><code>export type DropdownOptionExt = \n     | (ValueDropdownOption &amp; { payload: any; name: string; }) \n     | (TemplateDropdownOption &amp; { payload: any; name: string; })\n</code></pre>\n"}], "owner": {"reputation": 3589, "user_id": 732570, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/30afcc018d25e3b4b6bd7b89f97fba90?s=128&d=identicon&r=PG", "display_name": "roberto tom&#225;s", "link": "https://stackoverflow.com/users/732570/roberto-tom%c3%a1s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 1, "accepted_answer_id": 56569858, "answer_count": 1, "score": 2, "last_activity_date": 1560371321, "creation_date": 1560370518, "last_edit_date": 1560371008, "question_id": 56569752, "link": "https://stackoverflow.com/questions/56569752/an-interface-may-only-extend-a-class-or-another-interface", "title": "An interface may only extend a class or another interface", "body": "<p>We are on typescript 2.9.2</p>\n\n<p>I am not able to extend this interface <em>DropDownOption</em>. Getting an error \"error TS2312: An interface may only extend a class or another interface.\"</p>\n\n<p>Is there a different way to write this that avoids the use of types perhaps so that it is a pure interface and can be extended? </p>\n\n<pre><code>export interface BaseDropdownOption {\n  id: string;\n}\nexport interface ValueDropdownOption extends BaseDropdownOption {\n  value: string;\n  template?: never;\n}\nexport interface TemplateDropdownOption extends BaseDropdownOption {\n  template: TemplateRef&lt;any&gt;;\n  value?: never;\n}\nexport type DropdownOption = ValueDropdownOption | TemplateDropdownOption;\n\n</code></pre>\n\n<p>So for example, this code produces the error above:</p>\n\n<pre><code>export interface DropdownOptionWithPayload extends DropdownOption {\n  payload: any\n  name: string\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ace-editor"], "answers": [{"tags": [], "owner": {"reputation": 20883, "user_id": 1743328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2b8bf608d92a99998648b0215e5f260?s=128&d=identicon&r=PG", "display_name": "a user", "link": "https://stackoverflow.com/users/1743328/a-user"}, "is_accepted": true, "score": 1, "last_activity_date": 1560421314, "creation_date": 1560421314, "answer_id": 56578409, "question_id": 56569595, "link": "https://stackoverflow.com/questions/56569595/how-to-add-ace-editor-highlighter-rules-in-angular-app/56578409#56578409", "title": "How to add ACE Editor highlighter rules in angular app?", "body": "<p>You need to create both Mode and HighlightRules like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var oop = ace.require(\"ace/lib/oop\");\r\nvar TextMode = ace.require(\"ace/mode/text\").Mode;\r\nvar TextHighlightRules = ace.require(\"ace/mode/text_highlight_rules\").TextHighlightRules;\r\n\r\nvar CustomHighlightRules = function(){\r\n    this.$rules = {\r\n        'start': [\r\n            {\r\n              regex: /\\b(sometext|othertext)\\b/,\r\n              token: \"keyword\"\r\n            }\r\n        ]\r\n    };\r\n};\r\n\r\noop.inherits(CustomHighlightRules, TextHighlightRules);\r\n\r\nvar Mode = function() {\r\n    this.HighlightRules = CustomHighlightRules;\r\n};\r\noop.inherits(Mode,TextMode);\r\n\r\n(function() {\r\n    this.$id = \"ace/mode/custom\";\r\n}).call(Mode.prototype);\r\n\r\n\r\nelement = document.body\r\nthis.codeEditor = ace.edit(element, {\r\n    value: \"sometext not othertext\",\r\n    minLines: 14,\r\n    maxLines: Infinity,\r\n    highlightSelectedWord: true,\r\n    enableBasicAutocompletion: true,\r\n    enableSnippets: true,\r\n    enableLiveAutocompletion: true,\r\n    theme: 'ace/theme/github',\r\n    showFoldWidgets: true,\r\n    mode: new Mode\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 477, "user_id": 5428197, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/882f5a69add5e21cbb616ff6642a40fd?s=128&d=identicon&r=PG&f=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/5428197/hopeless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1463, "favorite_count": 1, "accepted_answer_id": 56578409, "answer_count": 1, "score": 2, "last_activity_date": 1560421314, "creation_date": 1560369687, "question_id": 56569595, "link": "https://stackoverflow.com/questions/56569595/how-to-add-ace-editor-highlighter-rules-in-angular-app", "title": "How to add ACE Editor highlighter rules in angular app?", "body": "<p>I try to add custom highlighter rules. My example based on <a href=\"https://medium.com/@ofir3322/create-an-online-ide-with-angular-6-nodejs-part-1-163a939a7929\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://medium.com/@jackub/writing-custom-ace-editor-mode-5a7aa83dbe50\" rel=\"nofollow noreferrer\">this</a>. </p>\n\n<pre><code>import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\n\nimport * as ace from 'ace-builds';\n\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'ace-builds/src-noconflict/theme-github';\nimport 'ace-builds/src-noconflict/ext-language_tools';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  @ViewChild('codeEditor') codeEditorElmRef: ElementRef;\n  private codeEditor: any;\n\n  constructor() { }\n\n  ngOnInit() {\n    var oop = ace.require('ace/lib/oop');\n    var textHighlightRules = ace.require('ace/mode/text_highlight_rules').TextHighlightRules;\n\n    const $rules = {\n      start: [\n        {\n          regex: /sometext/,\n          token: \"keyword\"\n        },\n        {\n          regex: /othertext/,\n          token: \"keyword\"\n        }\n      ]\n    };\n\n    const customHighlightRules = function CustomHighlightRules() {\n      this.$rules = $rules;\n    };\n\n    oop.inherits(customHighlightRules, textHighlightRules);\n\n    //exports.MyNewHighlightRules = customHighlightRules; //??\n    const element = this.codeEditorElmRef.nativeElement;\n\n    const options = {\n      minLines: 14,\n      maxLines: Infinity,\n      highlightSelectedWord: true,\n      enableBasicAutocompletion: true,\n      enableSnippets: true,\n      enableLiveAutocompletion: true\n    };\n\n    this.codeEditor = ace.edit(element, options);\n    this.codeEditor.setTheme('ace/theme/github');\n    this.codeEditor.getSession().setMode('ace/mode/text');\n    this.codeEditor.setShowFoldWidgets(true);\n  }\n}\n</code></pre>\n\n<p>I need \"sometext\" to be highlighted. How to adapt this example for an angular and typescript? I could not find any working examples where integration with angular is used.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 8097, "user_id": 8618350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f100e1a27815164cb9a9bf00487858?s=128&d=identicon&r=PG&f=1", "display_name": "Fan Cheung", "link": "https://stackoverflow.com/users/8618350/fan-cheung"}, "edited": false, "score": 0, "creation_date": 1560390124, "post_id": 56569110, "comment_id": 99723127, "body": "hard to guess how you want to convert to observable. let say if you have an array do you want to emit by items or as a whole array"}, {"owner": {"reputation": 9729, "user_id": 4554116, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/cu8de.png?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/4554116/julius"}, "edited": false, "score": 0, "creation_date": 1560401295, "post_id": 56569110, "comment_id": 99725151, "body": "Its not so hard to implement by yourself and  f.e. <code>from(&#39;The String)</code> will emit by character, so you might want <code>of</code> instead. I have some doubts if RxJs has it by default. <code>iif(() =&gt; isObservable(source), value, from(value))</code>"}], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560367508, "creation_date": 1560367508, "question_id": 56569110, "link": "https://stackoverflow.com/questions/56569110/convenience-method-to-convert-literal-value-into-observable", "title": "Convenience method to convert literal value into observable", "body": "<p>I have many functions that can return either a literal value or an observable.</p>\n\n<pre><code>function example(): Observable&lt;string&gt; | string {\n    // ...\n}\n</code></pre>\n\n<p>Everywhere that I use these functions has to check if it's an observable, and if not then convert it to an observable.</p>\n\n<pre><code>   let value = example();\n   value = isObservable(value) ? value : of(value);\n   // do work with value.subscribe(..)\n</code></pre>\n\n<p>While I can <em>easily</em> create a function to do the above. It seems <em>highly</em> likely that the RXJS library would already have such a function.</p>\n\n<p>Is there a function like <code>toObservable()</code> in RXJS?</p>\n"}, {"tags": ["reactjs", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560375765, "post_id": 56568958, "comment_id": 99720394, "body": "Please post your <code>tsconfig.json</code> file, if you have one."}, {"owner": {"reputation": 53, "user_id": 10768820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lku7ADoBVI/AAAAAAAAAAI/AAAAAAAAAAA/UxvfCwVZNdo/photo.jpg?sz=128", "display_name": "david", "link": "https://stackoverflow.com/users/10768820/david"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560436721, "post_id": 56568958, "comment_id": 99743884, "body": "@ShaunLuttin tsconfig added above."}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560441542, "post_id": 56568958, "comment_id": 99746880, "body": "When you build with <code>tsc</code> is there any build output at all? What is that build output?"}, {"owner": {"reputation": 53, "user_id": 10768820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lku7ADoBVI/AAAAAAAAAAI/AAAAAAAAAAA/UxvfCwVZNdo/photo.jpg?sz=128", "display_name": "david", "link": "https://stackoverflow.com/users/10768820/david"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560525904, "post_id": 56568958, "comment_id": 99778185, "body": "Okay. So it is generating type files but it&#39;s generating one per class. I want it to be combined. @ShaunLuttin"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560537596, "post_id": 56568958, "comment_id": 99783251, "body": "In a situation like this, when your original question has received a working answer, it is appropriate to ask a new question. That helps to limit questions to a specific problem with enough detail to identify an adequate answer  I appreciate that you are new to StackOverflow and would not be aware of this."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10768820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lku7ADoBVI/AAAAAAAAAAI/AAAAAAAAAAA/UxvfCwVZNdo/photo.jpg?sz=128", "display_name": "david", "link": "https://stackoverflow.com/users/10768820/david"}, "edited": false, "score": 1, "creation_date": 1560436762, "post_id": 56570777, "comment_id": 99743914, "body": "I added the <code>tsconfig</code> above to show more about my setup. Making the changes suggested above did not result in declaration generation."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 1, "last_activity_date": 1560377007, "last_edit_date": 1560377007, "creation_date": 1560375915, "answer_id": 56570777, "question_id": 56568958, "link": "https://stackoverflow.com/questions/56568958/custom-typescript-npm-package-wont-generate-types/56570777#56570777", "title": "Custom Typescript NPM Package Won&#39;t Generate Types", "body": "<h3>Short Answer</h3>\n\n<p>Add <code>declaration</code> to the <code>compilerOptions</code> section of your <code>tsconfig.json</code> file.</p>\n\n<pre><code>\"declaration\": true, /* Generates corresponding .d.ts file. */\n</code></pre>\n\n<p>Alternatively, change your <code>build</code> script to include <code>--declaration</code>.</p>\n\n<pre><code>\"build\": \"tsc --declaration\"\n</code></pre>\n\n<p>Both options will cause <code>npm run build</code> to generate declaration files.</p>\n\n<p>Then update your <code>package.json</code> file by adding a <code>types</code> property that points to the main declaration file. In the following example, I have assumed that your main declaration file is at <code>./index.d.ts</code>. </p>\n\n<pre><code>\"main\": \"index.js\",\n\"types\": \"index.d.ts\",\n</code></pre>\n\n<h3>Additional Details</h3>\n\n<p>The opening section of <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html\" rel=\"nofollow noreferrer\">the Publishing docs</a> have more detail about the answer.</p>\n\n<p>There are also additional <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">compiler options here</a>. Here are three that might be useful in your situation:</p>\n\n<ul>\n<li><code>declarationDir</code> Output directory for generated declaration files.</li>\n<li><code>declarationMap</code> Generates a sourcemap for each corresponding <code>.d.ts</code> file.</li>\n<li><code>emitDeclarationOnly</code> Only emit <code>.d.ts</code> declaration files.</li>\n</ul>\n\n<p>The last option in the list is handy when you are already using <code>babel</code> to transform files from TypeScript to JavaScript and only want to use TypeScript to generate declaration files and to perform type checking.</p>\n"}], "owner": {"reputation": 53, "user_id": 10768820, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9lku7ADoBVI/AAAAAAAAAAI/AAAAAAAAAAA/UxvfCwVZNdo/photo.jpg?sz=128", "display_name": "david", "link": "https://stackoverflow.com/users/10768820/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1560436699, "creation_date": 1560366902, "last_edit_date": 1560436699, "question_id": 56568958, "link": "https://stackoverflow.com/questions/56568958/custom-typescript-npm-package-wont-generate-types", "title": "Custom Typescript NPM Package Won&#39;t Generate Types", "body": "<p>I've got an npm package that I've built that's Typescript and for some reason when building, it's not generating type definition files and when I try to run it I get the classic <code>Could not find a declaration file for module...</code></p>\n\n<p>I've tried adding <code>types</code> and <code>typings</code> to package.json with no luck.</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"@org/mypackage\",\n  \"version\": \"0.0.7\",\n  \"description\": \"\",\n  \"main\": \"index.js\",\n  \"transform\": {\n    \"^.+\\\\.(ts|tsx)?$\": \"&lt;rootDir&gt;/node_modules/babel-jest\"\n  },\n  \"scripts\": {\n    \"build\": \"tsc\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git+https://github.com/sample/sample.git\"\n  },\n  \"author\": \"Ken M\",\n  \"license\": \"ISC\",\n  \"bugs\": {\n    \"url\": \"https://github.com/sample/sample/issues\"\n  },\n  \"homepage\": \"https://github.com/sample/sample#readme\",\n  \"dependencies\": {\n    \"@types/jest\": \"^24.0.13\",\n    \"@types/node\": \"12.0.2\",\n    \"@types/react\": \"16.8.17\",\n    \"@types/react-dom\": \"16.8.4\",\n    \"react\": \"^16.8.6\",\n    \"react-dom\": \"^16.8.6\",\n    \"react-scripts\": \"3.0.1\",\n    \"tachyons\": \"^4.11.1\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.4.4\",\n    \"@babel/preset-react\": \"^7.0.0\",\n    \"@typescript-eslint/eslint-plugin\": \"^1.9.0\",\n    \"@typescript-eslint/parser\": \"^1.9.0\",\n    \"awesome-typescript-loader\": \"^5.2.1\",\n    \"babel-jest\": \"^24.8.0\",\n    \"babel-preset-react\": \"^6.24.1\",\n    \"eslint\": \"^5.16.0\",\n    \"eslint-config-prettier\": \"^4.3.0\",\n    \"eslint-plugin-prettier\": \"^3.1.0\",\n    \"prettier\": \"^1.17.1\",\n    \"typescript\": \"^3.4.5\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<p>See tsconfig.json below. Adding <code>declaration: true</code> to it did not result in a file getting generated. For what it's worth, the <code>main: index.js</code> isn't getting generated either.</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"lib\": [\"dom\", \"dom.iterable\", \"esnext\"],\n    \"allowJs\": false,\n    \"skipLibCheck\": true,\n    \"esModuleInterop\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"strict\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"resolveJsonModule\": true,\n    \"outDir\": \"./dist\",\n    \"jsx\": \"react\",\n    \"declaration\": true\n  },\n  \"include\": [\"src/**/*\"]\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular7"], "comments": [{"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 1, "creation_date": 1560367201, "post_id": 56568952, "comment_id": 99717147, "body": "Please provide more code, so we have a better understanding of your problem."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1560367289, "post_id": 56568952, "comment_id": 99717188, "body": "1. Where are you seeing it that it is an object? 2. Where does it get assigned a value?"}, {"owner": {"reputation": 59, "user_id": 10265372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-waoWkcvuG94/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN8imrYsX49POYdtA3Ctb9p2wnqMw/mo/photo.jpg?sz=128", "display_name": "Shakir Zaman", "link": "https://stackoverflow.com/users/10265372/shakir-zaman"}, "edited": false, "score": 0, "creation_date": 1560367356, "post_id": 56568952, "comment_id": 99717208, "body": "export class FilterComponent implements OnInit, OnDestroy {     fruits: string[] = [&#39;Apple&#39;, &#39;Orange&#39;, &#39;Banana&#39;];  }   if i use this.fruits.length i get errors like length is not a property of {} because it is not considering my array as array rather takes it as object. thats really strange."}, {"owner": {"reputation": 59, "user_id": 10265372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-waoWkcvuG94/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN8imrYsX49POYdtA3Ctb9p2wnqMw/mo/photo.jpg?sz=128", "display_name": "Shakir Zaman", "link": "https://stackoverflow.com/users/10265372/shakir-zaman"}, "edited": false, "score": 0, "creation_date": 1560367529, "post_id": 56568952, "comment_id": 99717279, "body": "i am using it within a component"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560367711, "post_id": 56568952, "comment_id": 99717363, "body": "did you defined any reference to <code>fruits</code> in your html code something like <code>#fruits</code>?"}, {"owner": {"reputation": 3465, "user_id": 4661771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/772656d123cd3d69c5a70cf2d95d5b4f?s=128&d=identicon&r=PG", "display_name": "Batajus", "link": "https://stackoverflow.com/users/4661771/batajus"}, "edited": false, "score": 0, "creation_date": 1560367737, "post_id": 56568952, "comment_id": 99717378, "body": "Please post the code formatted in your question and not in a comment"}, {"owner": {"reputation": 59, "user_id": 10265372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-waoWkcvuG94/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN8imrYsX49POYdtA3Ctb9p2wnqMw/mo/photo.jpg?sz=128", "display_name": "Shakir Zaman", "link": "https://stackoverflow.com/users/10265372/shakir-zaman"}, "edited": false, "score": 0, "creation_date": 1560367839, "post_id": 56568952, "comment_id": 99717424, "body": "i got it, it was just compile time error, it works fine now. thanks anyways."}], "answers": [{"tags": [], "owner": {"reputation": 1044, "user_id": 1361335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5kgvr.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1361335/alvaro"}, "is_accepted": true, "score": 1, "last_activity_date": 1560368714, "creation_date": 1560368714, "answer_id": 56569390, "question_id": 56568952, "link": "https://stackoverflow.com/questions/56568952/declaring-array-but-it-shows-an-obj/56569390#56569390", "title": "Declaring array but it shows an obj", "body": "<p>If you're using it in a component, it's a good practice to give an initial value to the properties of your model, for example:</p>\n\n<pre><code>searchFilters: number[] = [];\n</code></pre>\n\n<p>But anyway, where are you accessing the property?\nPlease, provide more context and code to find a proper solution :)</p>\n"}], "owner": {"reputation": 59, "user_id": 10265372, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-waoWkcvuG94/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaN8imrYsX49POYdtA3Ctb9p2wnqMw/mo/photo.jpg?sz=128", "display_name": "Shakir Zaman", "link": "https://stackoverflow.com/users/10265372/shakir-zaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56569390, "answer_count": 1, "score": 0, "last_activity_date": 1564674069, "creation_date": 1560366884, "last_edit_date": 1564674069, "question_id": 56568952, "link": "https://stackoverflow.com/questions/56568952/declaring-array-but-it-shows-an-obj", "title": "Declaring array but it shows an obj", "body": "<p>I am declaring array in a component but the property is considered as object.\nFor Example   </p>\n\n<pre><code>public searchFiters: number[];\n</code></pre>\n\n<p>the <code>searchfilter</code> is considered as <code>{}</code></p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 1788, "user_id": 4505244, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/34201820/picture?type=large", "display_name": "P Ackerman", "link": "https://stackoverflow.com/users/4505244/p-ackerman"}, "edited": false, "score": 0, "creation_date": 1560366845, "post_id": 56568889, "comment_id": 99716990, "body": "Do you have type declarations for that specific library?"}, {"owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "edited": false, "score": 1, "creation_date": 1560366959, "post_id": 56568889, "comment_id": 99717050, "body": "Make sure you import from <code>Foo</code> and not from the complete path to <code>Foo</code>. i.e. <code>import {something} from &#39;Foo&#39;;</code>"}, {"owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "edited": false, "score": 0, "creation_date": 1560411000, "post_id": 56568889, "comment_id": 99728882, "body": "@dustin see my answer below"}, {"owner": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "reply_to_user": {"reputation": 1788, "user_id": 4505244, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/34201820/picture?type=large", "display_name": "P Ackerman", "link": "https://stackoverflow.com/users/4505244/p-ackerman"}, "edited": false, "score": 0, "creation_date": 1560428942, "post_id": 56568889, "comment_id": 99738718, "body": "@PAckerman I don&#39;t have a type declarations for that library.  It&#39;s mainly just a ts file that&#39;s exporting a class like export class Foo {}"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "edited": false, "score": 0, "creation_date": 1560432991, "post_id": 56569027, "comment_id": 99741356, "body": "Revised code in original question.  Does that change your answer at all?"}, {"owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "reply_to_user": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "edited": false, "score": 1, "creation_date": 1560433181, "post_id": 56569027, "comment_id": 99741489, "body": "Not really (only in casing...). You are importing using a relative path, instead of using the <code>foo</code> alias. That&#39;s why it isn&#39;t working for you."}, {"owner": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "edited": false, "score": 1, "creation_date": 1560440893, "post_id": 56569027, "comment_id": 99746528, "body": "Thanks!  I didn&#39;t know that I could just use an alias in stead of relative path after configuring webpack."}, {"owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "reply_to_user": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "edited": false, "score": 0, "creation_date": 1560443458, "post_id": 56569027, "comment_id": 99747797, "body": "@Dustin glad I could help!"}, {"owner": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "edited": false, "score": 0, "creation_date": 1560873600, "post_id": 56569027, "comment_id": 99875958, "body": "So I originally thought that this was working for me, but it was actually excluding the file since there was an error in the bundle.   ERROR in bundle.js from Terser Unexpected token: punc (:)  When I loaded it up in the browser, I was seeing that the external was referencing my local file system (e.g., &quot;C:\\path\\to\\foo&quot;). I&#39;m not sure whether or not that this error caused the file to not be included in the bundle, or that is another error not related to this question."}, {"owner": {"reputation": 3291, "user_id": 917224, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f8bca4aee61e37795e5dc1a798aff5de?s=128&d=identicon&r=PG", "display_name": "Stretch", "link": "https://stackoverflow.com/users/917224/stretch"}, "edited": false, "score": 0, "creation_date": 1600084392, "post_id": 56569027, "comment_id": 112967078, "body": "If this is correct, and I cannot use the relative path when doing my import statement, then I cannot do unit testing.. as jest will work on the js files, not the webpack&#39;ed version. I am stuck as to how to exclude a local file from the bundle..."}], "tags": [], "owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "is_accepted": true, "score": 3, "last_activity_date": 1560443493, "last_edit_date": 1560443493, "creation_date": 1560367190, "answer_id": 56569027, "question_id": 56568889, "link": "https://stackoverflow.com/questions/56568889/webpack-externals-configuration-for-a-local-library/56569027#56569027", "title": "Webpack Externals Configuration for a Local Library", "body": "<p>In order for WebPack to treat your import as <em>external</em>, your import declaration must be using the same alias you defined in the WebPack <code>extenals</code> configuration, and NOT a relative path:</p>\n\n<pre><code>import Foo from 'foo';\n</code></pre>\n\n<p>WebPack:</p>\n\n<pre><code>module.exports = {\n  externals: {\n    \"foo\": path.resolve(__dirname, \"./path/to/foo\")\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 3596980, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/54b54bb464ab234e91260b573bb398c4?s=128&d=identicon&r=PG", "display_name": "Dustin", "link": "https://stackoverflow.com/users/3596980/dustin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2782, "favorite_count": 0, "accepted_answer_id": 56569027, "answer_count": 1, "score": 2, "last_activity_date": 1560443493, "creation_date": 1560366496, "last_edit_date": 1560432884, "question_id": 56568889, "link": "https://stackoverflow.com/questions/56568889/webpack-externals-configuration-for-a-local-library", "title": "Webpack Externals Configuration for a Local Library", "body": "<p>I want to setup my Webpack config (v4+) to exclude an import that is referencing a local library.  In my app, I import this library like so:</p>\n\n<p><strong>/src/index.js</strong></p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>import foo from '../foo/foo'\n\nconsole.log(foo);\n</code></pre>\n\n<p><strong>/foo/foo.js</strong></p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>export default foo = \"bar\";\n</code></pre>\n\n<p><strong>webpack.config.js</strong></p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>const path = require('path')\nmodule.exports = {\n    entry: './src/index.js',\n    output: {\n      filename: 'main.js',\n      path: path.resolve(__dirname, 'dist')\n    },\n    externals: {\n      \"foo\": path.resolve(__dirname, \"./foo/foo\"),\n    }\n  };\n</code></pre>\n\n<p>However, this library is actually already referenced globally in the site where I'm deploying my application. So I do not want this library bundled with my application (I still need to import it so that I can transpile my typescript without errors and use intellisense).</p>\n\n<p>I found out that I can easily exclude a library from being bundled by utilizing the externals property like so:</p>\n\n<pre class=\"lang-javascript prettyprint-override\"><code>module.exports = {\n  externals: {\n    \"jquery\": \"jQuery\"\n  }\n}\n</code></pre>\n\n<p>I've been unsuccessful at doing the same with the library that I'm importing.  How would I go about doing this? I've tried the following and the library is still included in my bundle:</p>\n\n<p>I have been researching documentation and can only seem to find examples related to node modules and nothing specific to my requirements. </p>\n\n<p>Please let me know if you need any additional details. Thanks in advance! </p>\n"}, {"tags": ["javascript", "arrays", "typescript", "object"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1560366540, "post_id": 56568875, "comment_id": 99716867, "body": "Please <a href=\"https://stackoverflow.com/posts/56568875/edit\">edit</a> your question to include your attempt here on Stack Overflow. You can use <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippets</a> to do so."}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1560366725, "post_id": 56568875, "comment_id": 99716938, "body": "<code>b.map(x =&gt; ({item: a.includes(x.item)}))</code> - this?"}, {"owner": {"reputation": 3593, "user_id": 1096470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a58aaee15796562de839ec5635c33057?s=128&d=identicon&r=PG", "display_name": "Yoav Kadosh", "link": "https://stackoverflow.com/users/1096470/yoav-kadosh"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1560366795, "post_id": 56568875, "comment_id": 99716967, "body": "@georg beat me too it! ;)"}, {"owner": {"reputation": 468, "user_id": 2767451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IqyPc.jpg?s=128&g=1", "display_name": "kva", "link": "https://stackoverflow.com/users/2767451/kva"}, "edited": false, "score": 0, "creation_date": 1560366871, "post_id": 56568875, "comment_id": 99717002, "body": "Will IE supports &quot;includes&quot; method?"}, {"owner": {"reputation": 391, "user_id": 4752863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62650350ba0d45d54080f345b2e34a75?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4752863/steven"}, "edited": false, "score": 0, "creation_date": 1560369288, "post_id": 56568875, "comment_id": 99718082, "body": "no, it does not support <code>includes</code>, <code>find</code> or <code>findIndex</code>"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 4752863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62650350ba0d45d54080f345b2e34a75?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/4752863/steven"}, "is_accepted": true, "score": 2, "last_activity_date": 1560369178, "last_edit_date": 1560369178, "creation_date": 1560367049, "answer_id": 56568996, "question_id": 56568875, "link": "https://stackoverflow.com/questions/56568875/which-better-way-to-change-array-of-objects-value-by-another-array-in-javascrip/56568996#56568996", "title": "Which better way to change array of object&#39;s value by another array in javascript", "body": "<pre><code>let a = [\"4\", \"2\"];\nlet b = [{\"item\": \"1\"}, {\"item\": \"4\"}, {\"item\": \"2\"}, {\"item\": \"3\"}];\nconst trueValues = new Set(a);\nlet c = b.map(obj =&gt; ({\"item\": trueValues.has(obj[\"item\"])}));\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>[{\"item\": false}, {\"item\": true}, {\"item\": true}, {\"item\": false}]\n</code></pre>\n\n<p>IE11 won't support <code>new Set(item1)</code>, you will need:</p>\n\n<pre><code>const trueValues = new Set()\na.forEach(item =&gt; trueValues.add(item))\n</code></pre>\n\n<p>Your code results in </p>\n\n<pre><code>[{\"item\": true}, {\"item\": true}, {\"item\": false}, {\"item\": false}]\n</code></pre>\n\n<p>because you take all the trues and then add all the falses:</p>\n\n<pre><code>[...newItem, ...addOtherItems]\n</code></pre>\n\n<p>If you want to map an array into a different array, you should just use map as is</p>\n\n<p>For IE9, you can use some like so:</p>\n\n<pre><code>b.map(b_i =&gt; ({item: a.some(a_i =&gt; a_i === b_i.item)}));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1560367648, "creation_date": 1560367648, "answer_id": 56569152, "question_id": 56568875, "link": "https://stackoverflow.com/questions/56568875/which-better-way-to-change-array-of-objects-value-by-another-array-in-javascrip/56569152#56569152", "title": "Which better way to change array of object&#39;s value by another array in javascript", "body": "<p>Very simple code for this is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const a = [\"4\", \"2\"]\r\nconst b = [{\"item\": \"1\"}, {\"item\": \"4\"}, {\"item\": \"2\"}, {\"item\": \"3\"}]\r\n\r\nconsole .log (\r\n  b .map ( ({item}) =&gt; ({ item: a . includes (item) }) )\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you have a lot of data, this might not perform well, and you might look at a version using a <code>Set</code> instead.  But I would only bother if testing demonstrates a performance problem, as this code is straightforward.</p>\n"}], "owner": {"reputation": 468, "user_id": 2767451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IqyPc.jpg?s=128&g=1", "display_name": "kva", "link": "https://stackoverflow.com/users/2767451/kva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56568996, "answer_count": 2, "score": 0, "last_activity_date": 1560369178, "creation_date": 1560366423, "last_edit_date": 1560366732, "question_id": 56568875, "link": "https://stackoverflow.com/questions/56568875/which-better-way-to-change-array-of-objects-value-by-another-array-in-javascrip", "title": "Which better way to change array of object&#39;s value by another array in javascript", "body": "<p>I have </p>\n\n<pre><code>var a = [\"4\", \"2\"],\nb = [{\"item\": \"1\"}, {\"item\": \"4\"}, {\"item\": \"2\"}, {\"item\": \"3\"}];\n</code></pre>\n\n<p>now i need to find each a's value with b's value when if i found matched value then need to create</p>\n\n<pre><code>c=[{\"item\": false}, {\"item\": true}, {\"item\": true}, {\"item\": false}]\n</code></pre>\n\n<p>I have jsfiddle with above \n<a href=\"https://jsfiddle.net/kvijayanand/28qck4av/5/\" rel=\"nofollow noreferrer\">example</a> here but array order is changed. the out come should be like above \"c\" array and also need to reduce number of filter method and map.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560364753, "post_id": 56568423, "comment_id": 99716103, "body": "it&#39;s not the answer, but you forgot to return the value from <code>toRna</code>"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365118, "post_id": 56568423, "comment_id": 99716269, "body": "What is your typescript version? I don&#39;t get any error <a href=\"https://stackblitz.com/edit/angular-kupcve\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-kupcve</a>`"}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365273, "post_id": 56568423, "comment_id": 99716330, "body": "It&#39;s version &quot;2.5.3&quot;"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365386, "post_id": 56568423, "comment_id": 99716370, "body": "I tried with &quot;3.1.1&quot;, may be it&#39;s time to upgrade ;)"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365481, "post_id": 56568423, "comment_id": 99716418, "body": "I downgrade my stackblitz to 2.5.3 and still no error"}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365511, "post_id": 56568423, "comment_id": 99716437, "body": "I&#39;m actually doing this as part of a training on <a href=\"https://exercism.io\" rel=\"nofollow noreferrer\">exercism.io</a>. I&#39;m not sure it&#39;s possible to update the typescript version."}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560365974, "post_id": 56568423, "comment_id": 99716604, "body": "Weird. I have no idea why this isn&#39;t working then."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560366145, "post_id": 56568423, "comment_id": 99716685, "body": "Also there was a weird issue, in es5 if you spread a string like [...string] it will return the char array. in my stackblitz it wasn&#39;t doing that, so I had to use Array.from(string) to make it work. May be try that as well (copy paste the code from my stackblitz)"}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1560366252, "post_id": 56568423, "comment_id": 99716728, "body": "I tried that. Still getting the same issue."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1560366541, "post_id": 56568423, "comment_id": 99716868, "body": "What do you expect to happen when you call <code>toRNA(&quot;OBVIOUS NONSENSE&quot;)</code>?"}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "edited": false, "score": 0, "creation_date": 1560366553, "post_id": 56568423, "comment_id": 99716875, "body": "I fixed it. I&#39;ll add an update."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 72, "creation_date": 1560366775, "post_id": 56568423, "comment_id": 99716957, "body": "Sure, type something as <code>any</code> and it&#39;ll fix it, the same way that taking the battery out of a smoke detector fixes a potential fire."}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "edited": false, "score": 0, "creation_date": 1560366919, "post_id": 56568423, "comment_id": 99717028, "body": "Your metaphor is a little clumsy but I still think you make a very valid point. I&#39;ll think on this and try to come up with a better solution."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1560366960, "post_id": 56568423, "comment_id": 99717052, "body": "Ouch, you hit me right in the metaphor.  Anyway, <a href=\"https://typescript-play.js.org/#code/MYewdgzgLgBAIgOQIIBUBOBDSw0EsBGApmjALwwDeAUDDAOIBcMARAMLMA0NMrTzdnbij5JBtJHwCqzKgF8A3FSoAzAK5hgUXOBhQQAJTAYAFBEIBHVYQ2Em0PGADmASkrdQkWLggA1DABtcABMEVWB-QhB8DDMyGGMADzsoBxcmBJhvGABrQgBPEGVdPIAHSKLEVExsPCISUgA+bloM3DB4ZHQsCBwCYkVaD2gYM0trYEIkNEw8uIBtADol0asbAF0BmCHYFO7ekq1wKZm4lfHJ6Yw85pgF5Vx-KGJjbz9AkLCIqJjCZxuFgC2GBKxmAAAsMJhNMQyA03LQETA0IQoKo0O1Kl0an00HNwZCMNC0BsbrJnIpuMjUejdNUengDtowMcrgsAFYgNrGZjMclyJRDEARBb+ECOYx6QwmZhIVh0FB0eWsFAoJCiZzkmAAei1+hRaMgMEkdFYstNdDVkkkVCAA\" rel=\"nofollow noreferrer\">this</a> is how I&#39;d do it"}, {"owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1560367048, "post_id": 56568423, "comment_id": 99717092, "body": "Thank you @jcalz. I was thinking about how I could incorporate checks for invalid input. I really appreciate your time."}], "answers": [{"comments": [{"owner": {"reputation": 1524, "user_id": 7023816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W2xiGxhxLvo/AAAAAAAAAAI/AAAAAAAAUuk/dndzuuQ-i1o/photo.jpg?sz=128", "display_name": "Cameron Hudson", "link": "https://stackoverflow.com/users/7023816/cameron-hudson"}, "edited": false, "score": 1, "creation_date": 1575955535, "post_id": 56569217, "comment_id": 104730103, "body": "As an alternative, is it possible to add an index signature to <code>DNATranscriber</code>? Since the error says <code>&quot;Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ \u201cA\u201d: string; }&quot;</code>, it implies that there is a way to add an index signature of type &#39;string&#39;. Can this be done?"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 1524, "user_id": 7023816, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W2xiGxhxLvo/AAAAAAAAAAI/AAAAAAAAUuk/dndzuuQ-i1o/photo.jpg?sz=128", "display_name": "Cameron Hudson", "link": "https://stackoverflow.com/users/7023816/cameron-hudson"}, "edited": false, "score": 0, "creation_date": 1576010398, "post_id": 56569217, "comment_id": 104757103, "body": "Yes you could do that, but then the code wouldn&#39;t be type safe or expressive in the way that the question intended. There is a reason he didn&#39;t write it that way,  a good reason."}, {"owner": {"reputation": 891, "user_id": 4376643, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WTx23.jpg?s=128&g=1", "display_name": "Craig  Hicks", "link": "https://stackoverflow.com/users/4376643/craig-hicks"}, "edited": false, "score": 0, "creation_date": 1608964309, "post_id": 56569217, "comment_id": 115719727, "body": "On the r.h.s of <code>validateSequence ...:</code> you write <code>codons</code> but the parameter name is <code>values</code>.  Normally not a problem there&#39;s already enough levels of indirection ..."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 891, "user_id": 4376643, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WTx23.jpg?s=128&g=1", "display_name": "Craig  Hicks", "link": "https://stackoverflow.com/users/4376643/craig-hicks"}, "edited": false, "score": 0, "creation_date": 1612370060, "post_id": 56569217, "comment_id": 116747378, "body": "@CraigHicks fixed. Thank you!"}], "tags": [], "owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "is_accepted": true, "score": 61, "last_activity_date": 1615902033, "last_edit_date": 1615902033, "creation_date": 1560367994, "answer_id": 56569217, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/56569217#56569217", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>You can fix the errors by validating your input, which is something you should do regardless of course.</p>\n<p>The following typechecks correctly, via type guarding validations</p>\n<pre><code>const DNATranscriber = {\n    G: 'C',\n    C: 'G',\n    T: 'A',\n    A: 'U'\n};\n\nexport default class Transcriptor {\n    toRna(dna: string) {\n        const codons = [...dna];\n        if (!isValidSequence(codons)) {\n            throw Error('invalid sequence');\n        }\n        const transcribedRNA = codons.map(codon =&gt; DNATranscriber[codon]);\n        return transcribedRNA;\n    }\n}\n\nfunction isValidSequence(values: string[]): values is Array&lt;keyof typeof DNATranscriber&gt; {\n    return values.every(isValidCodon);\n}\nfunction isValidCodon(value: string): value is keyof typeof DNATranscriber {\n    return value in DNATranscriber;\n}\n</code></pre>\n<p>It is worth mentioning that you seem to be under the misapprehention that converting JavaScript to TypeScript involves using classes.</p>\n<p>In the following, more idiomatic version, we leverage TypeScript to improve clarity and gain stronger typing of base pair mappings without changing the implementation. We use a <code>function</code>, just like the original, because it makes sense. This is important! Converting JavaScript to TypeScript has nothing to do with classes, it has to do with static types.</p>\n<pre><code>const DNATranscriber = {\n    G: 'C',\n    C: 'G',\n    T: 'A',\n    A: 'U'\n};\n\nexport default function toRna(dna: string) {\n    const codons = [...dna];\n    if (!isValidSequence(codons)) {\n        throw Error('invalid sequence');\n    }\n    const transcribedRNA = codons.map(codon =&gt; DNATranscriber[codon]);\n    return transcribedRNA;\n}\n\nfunction isValidSequence(values: string[]): values is Array&lt;keyof typeof DNATranscriber&gt; {\n    return values.every(isValidCodon);\n}\nfunction isValidCodon(value: string): value is keyof typeof DNATranscriber {\n    return value in DNATranscriber;\n}\n</code></pre>\n<p><strong>Update</strong>:</p>\n<p>Since TypeScript 3.7, we can write this more expressively, formalizing the correspondence between input validation and its type implication using <em>assertion signatures</em>.</p>\n<pre><code>const DNATranscriber = {\n    G: 'C',\n    C: 'G',\n    T: 'A',\n    A: 'U'\n} as const;\n\ntype DNACodon = keyof typeof DNATranscriber;\ntype RNACodon = typeof DNATranscriber[DNACodon];\n\nexport default function toRna(dna: string): RNACodon[] {\n    const codons = [...dna];\n    validateSequence(codons);\n    const transcribedRNA = codons.map(codon =&gt; DNATranscriber[codon]);\n    return transcribedRNA;\n}\n\nfunction validateSequence(values: string[]): asserts values is DNACodon[] {\n    if (!values.every(isValidCodon)) {\n        throw Error('invalid sequence');    \n    }\n}\nfunction isValidCodon(value: string): value is DNACodon {\n    return value in DNATranscriber;\n}\n</code></pre>\n<p>You can read more about <em>assertion signatures</em> in the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html\" rel=\"nofollow noreferrer\">TypeScript 3.7 release notes</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 358, "user_id": 7063104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4ca0c763582527504e421994f0f02bd?s=128&d=identicon&r=PG&f=1", "display_name": "Archsx", "link": "https://stackoverflow.com/users/7063104/archsx"}, "edited": false, "score": 1, "creation_date": 1593158249, "post_id": 57192972, "comment_id": 110687171, "body": "Hey I just did what you said in your edit version. but still got error"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1600912868, "post_id": 57192972, "comment_id": 113241277, "body": "An explicit <code>DNA</code> type isn&#39;t a bad idea but wouldn&#39;t <code>this.DNATranscriber</code> then be declared like <code>DNATranscriber: DNA</code> making the &quot;cast&quot; redundant?"}, {"owner": {"reputation": 1355, "user_id": 9263418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IOML3.jpg?s=128&g=1", "display_name": "Anonymous Creator", "link": "https://stackoverflow.com/users/9263418/anonymous-creator"}, "edited": false, "score": 0, "creation_date": 1617351976, "post_id": 57192972, "comment_id": 118285000, "body": "Edit part is not working."}], "tags": [], "owner": {"reputation": 2140, "user_id": 2662054, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1175735844/picture?type=large", "display_name": "Leonardo Emilio Dominguez", "link": "https://stackoverflow.com/users/2662054/leonardo-emilio-dominguez"}, "is_accepted": false, "score": 93, "last_activity_date": 1611083668, "last_edit_date": 1611083668, "creation_date": 1564016543, "answer_id": 57192972, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/57192972#57192972", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>Also, you can do this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>(this.DNATranscriber as any)[character];\n</code></pre>\n<p><strong>Edit.</strong></p>\n<p>It's <strong>HIGHLY</strong> recommended that you cast the object with the proper type instead of <code>any</code>. Casting an object as <code>any</code> only help you to avoid type errors when compiling typescript but it doesn't help you to keep your code type-safe.</p>\n<p><strong>E.g.</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>interface DNA {\n    G: &quot;C&quot;,\n    C: &quot;G&quot;,\n    T: &quot;A&quot;,\n    A: &quot;U&quot;\n}\n</code></pre>\n<p>And then you cast it like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>(this.DNATranscriber as DNA)[character];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3023, "user_id": 806094, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/4963be5810dd3b13f756d99112cd059a?s=128&d=identicon&r=PG", "display_name": "Mattijs", "link": "https://stackoverflow.com/users/806094/mattijs"}, "is_accepted": false, "score": 9, "last_activity_date": 1578793435, "creation_date": 1578793435, "answer_id": 59700289, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/59700289#59700289", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>I resolved a similar issue in my <code>getClass</code> function like this:</p>\n\n<pre><code>import { ApiGateway } from './api-gateway.class';\nimport { AppSync } from './app-sync.class';\nimport { Cognito } from './cognito.class';\n\nexport type stackInstances = typeof ApiGateway | typeof  AppSync | typeof Cognito\n\nexport const classes = {\n  ApiGateway,\n  AppSync,\n  Cognito\n} as {\n  [key: string]: stackInstances\n};\n\nexport function getClass(name: string) {\n  return classes[name];\n}\n</code></pre>\n\n<p>Typing my <code>classes</code> const with my union type made typescript happy and it makes sense to me.</p>\n"}, {"tags": [], "owner": {"reputation": 934, "user_id": 2152417, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SisW2.jpg?s=128&g=1", "display_name": "John Galt", "link": "https://stackoverflow.com/users/2152417/john-galt"}, "is_accepted": false, "score": 1, "last_activity_date": 1584630460, "last_edit_date": 1584630460, "creation_date": 1584629877, "answer_id": 60759739, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/60759739#60759739", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>I messed around with this for awhile. Here was my scenario:</p>\n\n<p>I have two types, metrics1 and metrics2, each with different properties:</p>\n\n<pre><code>type metrics1 = {\n    a: number;\n    b: number;\n    c: number;\n}\n\ntype metrics2 = {\n    d: number;\n    e: number;\n    f: number;\n}\n</code></pre>\n\n<p>At a point in my code, I created an object that is the intersection of these two types because this object will hold all of their properties:</p>\n\n<pre><code>const myMetrics: metrics1 &amp; metrics2 = {\n    a: 10,\n    b: 20,\n    c: 30,\n    d: 40,\n    e: 50,\n    f: 60\n};\n</code></pre>\n\n<p>Now, I need to dynamically reference the properties of that object. This is where we run into index signature errors. Part of the issue can be broken down based on <strong>compile-time</strong> checking and <strong>runtime</strong> checking. If I reference the object using a <strong>const</strong>, I will not see that error because TypeScript can check if the property exists during compile time:</p>\n\n<pre><code>const myKey = 'a';\nconsole.log(myMetrics[myKey]); // No issues, TypeScript has validated it exists\n</code></pre>\n\n<p>If, however, I am using a dynamic variable (e.g. <strong>let</strong>), then TypeScript will not be able to check if the property exists during compile time, and will require additional help during runtime. That is where the following typeguard comes in:</p>\n\n<pre><code>function isValidMetric(prop: string, obj: metrics1 &amp; metrics2): prop is keyof (metrics1 &amp; metrics2) {\n    return prop in obj;\n}\n</code></pre>\n\n<p>This reads as,\"If the <strong>obj</strong> has the property <strong>prop</strong> then let TypeScript know that <strong>prop</strong> exists in the intersection of metrics1 &amp; metrics2.\" <strong>Note</strong>: make sure you surround metrics1 &amp; metrics2 in parentheses after <strong>keyof</strong> as shown above, or else you will end up with an intersection between the keys of metrics1 and the type of metrics2 (not its keys).</p>\n\n<p>Now, I can use the typeguard and safely access my object during runtime:</p>\n\n<pre><code>let myKey:string = '';\nmyKey = 'a';\nif (isValidMetric(myKey, myMetrics)) {\n    console.log(myMetrics[myKey]);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 119, "user_id": 1795856, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/8582282497f1d4ff326b49d54cd36a64?s=128&d=identicon&r=PG", "display_name": "lockykeaney", "link": "https://stackoverflow.com/users/1795856/lockykeaney"}, "edited": false, "score": 0, "creation_date": 1591244186, "post_id": 61400965, "comment_id": 109983287, "body": "How would this work if User had another key with an interface as is type? I get an error that they cannot be assigned to &#39;string&#39;."}, {"owner": {"reputation": 1769, "user_id": 9221698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dunRK.jpg?s=128&g=1", "display_name": "Alex Mckay", "link": "https://stackoverflow.com/users/9221698/alex-mckay"}, "reply_to_user": {"reputation": 119, "user_id": 1795856, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/8582282497f1d4ff326b49d54cd36a64?s=128&d=identicon&r=PG", "display_name": "lockykeaney", "link": "https://stackoverflow.com/users/1795856/lockykeaney"}, "edited": false, "score": 0, "creation_date": 1591305154, "post_id": 61400965, "comment_id": 110014250, "body": "There you go: <a href=\"https://codesandbox.io/s/recursing-sun-cundn?file=/src/index.ts\" rel=\"nofollow noreferrer\">codesandbox.io/s/recursing-sun-cundn?file=/src/index.ts</a>"}, {"owner": {"reputation": 1197, "user_id": 3330871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/068f9d779ffcb8f9d549cf25afcc5437?s=128&d=identicon&r=PG", "display_name": "Avinash", "link": "https://stackoverflow.com/users/3330871/avinash"}, "edited": false, "score": 0, "creation_date": 1595169106, "post_id": 61400965, "comment_id": 111375079, "body": "@AlexMckay You&#39;re a Genius ! Thanks for the answer,"}, {"owner": {"reputation": 1769, "user_id": 9221698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dunRK.jpg?s=128&g=1", "display_name": "Alex Mckay", "link": "https://stackoverflow.com/users/9221698/alex-mckay"}, "edited": false, "score": 0, "creation_date": 1595208796, "post_id": 61400965, "comment_id": 111385558, "body": "I wrote a tiny <a href=\"https://www.npmjs.com/package/get-key-value\" rel=\"nofollow noreferrer\">npm package</a> with this function to make this task easier for those that are new to Typescript. It is 38 bytes once minified and contains a jsdoc comment so if you hover over the function it provides the answer above."}, {"owner": {"reputation": 56, "user_id": 3271319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca1bf8db683af7e2e7f8c32b1318e694?s=128&d=identicon&r=PG&f=1", "display_name": "bammmmmmmmm", "link": "https://stackoverflow.com/users/3271319/bammmmmmmmm"}, "edited": false, "score": 0, "creation_date": 1616076118, "post_id": 61400965, "comment_id": 117894146, "body": "When using the suggested <b>Alternate syntax</b> for getKeyValue  I needed to modify the getUserName line to something like this: <code>const getUserName = getKeyValue&lt;User, keyof User&gt;(user, &quot;name&quot;);</code>"}], "tags": [], "owner": {"reputation": 1769, "user_id": 9221698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dunRK.jpg?s=128&g=1", "display_name": "Alex Mckay", "link": "https://stackoverflow.com/users/9221698/alex-mckay"}, "is_accepted": false, "score": 15, "last_activity_date": 1595376947, "last_edit_date": 1595376947, "creation_date": 1587701170, "answer_id": 61400965, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/61400965#61400965", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p><strong>Don't Use Any, Use Generics</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>// bad\nconst _getKeyValue = (key: string) =&gt; (obj: object) =&gt; obj[key];\n    \n// better\nconst _getKeyValue_ = (key: string) =&gt; (obj: Record&lt;string, any&gt;) =&gt; obj[key];\n    \n// best\nconst getKeyValue = &lt;T extends object, U extends keyof T&gt;(key: U) =&gt; (obj: T) =&gt;\n      obj[key];\n</code></pre>\n<p>Bad - the reason for the error is the <code>object</code> type is just an empty object by default. Therefore it isn't possible to use a <code>string</code> type to index <code>{}</code>.</p>\n<p>Better - the reason the error disappears is because now we are telling the compiler the <code>obj</code> argument will be a collection of string/value (<code>string/any</code>) pairs. However, we are using the <code>any</code> type, so we can do better.</p>\n<p>Best - <code>T</code> extends empty object. <code>U</code> extends the keys of <code>T</code>. Therefore <code>U</code> will always exist on <code>T</code>, therefore it can be used as a look up value.</p>\n<p><strong>Here is a full example:</strong></p>\n<p>I have switched the order of the generics (<code>U extends keyof T</code> now comes before <code>T extends object</code>) to highlight that order of generics is not important and you should select an order that makes the most sense for your function.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const getKeyValue = &lt;U extends keyof T, T extends object&gt;(key: U) =&gt; (obj: T) =&gt;\n  obj[key];\n\ninterface User {\n  name: string;\n  age: number;\n}\n\nconst user: User = {\n  name: &quot;John Smith&quot;,\n  age: 20\n};\n\nconst getUserName = getKeyValue&lt;keyof User, User&gt;(&quot;name&quot;)(user);\n\n// =&gt; 'John Smith'\n</code></pre>\n<h2>Alternative syntax</h2>\n<pre class=\"lang-js prettyprint-override\"><code>const getKeyValue = &lt;T, K extends keyof T&gt;(obj: T, key: K): T[K] =&gt; obj[key];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481, "user_id": 5416579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P3xkS.jpg?s=128&g=1", "display_name": "drlingyi", "link": "https://stackoverflow.com/users/5416579/drlingyi"}, "edited": false, "score": 0, "creation_date": 1607985158, "post_id": 61486795, "comment_id": 115439172, "body": "The first option is easier than defining an interface. I like it"}, {"owner": {"reputation": 1994, "user_id": 262868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/2e857d60097997cda28096944e2cd565?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/262868/mark"}, "edited": false, "score": 0, "creation_date": 1617165185, "post_id": 61486795, "comment_id": 118224507, "body": "After hours of searching and bending my brain, I found this solution to be the simplest.  The whole <code>keyof</code> or Index Type Query concept is really confusing.  I wish someone could explain it in plain English without the use of cryptic letters like <code>T</code> or <code>K</code>.  Use a real example."}], "tags": [], "owner": {"reputation": 101, "user_id": 9162039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3edd45958bfabf31c968574ebc5e9d65?s=128&d=identicon&r=PG&f=1", "display_name": "Fl&#225;vio Teixeira Sales", "link": "https://stackoverflow.com/users/9162039/fl%c3%a1vio-teixeira-sales"}, "is_accepted": false, "score": 10, "last_activity_date": 1589830673, "last_edit_date": 1589830673, "creation_date": 1588096542, "answer_id": 61486795, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/61486795#61486795", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>You have two options with simple and idiomatic Typescript:</p>\n\n<ol>\n<li>Use index type</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>DNATranscriber: { [char: string]: string } = {\n  G: \"C\",\n  C: \"G\",\n  T: \"A\",\n  A: \"U\",\n};\n</code></pre>\n\n<p>This is the index signature the error message is talking about. <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#index-types-and-index-signatures\" rel=\"noreferrer\">Reference</a></p>\n\n<ol start=\"2\">\n<li>Type each property:</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>DNATranscriber: { G: string; C: string; T: string; A: string } = {\n  G: \"C\",\n  C: \"G\",\n  T: \"A\",\n  A: \"U\",\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 560, "user_id": 5271299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ySIdS.jpg?s=128&g=1", "display_name": "Igneel64", "link": "https://stackoverflow.com/users/5271299/igneel64"}, "is_accepted": false, "score": 0, "last_activity_date": 1595178623, "last_edit_date": 1595178623, "creation_date": 1595178270, "answer_id": 62983274, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/62983274#62983274", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>For anyone struggling with similar cases</p>\n<pre><code>No index signature with a parameter of type 'string' was found on type X\n</code></pre>\n<p>trying to use it with simple objects (<em>used as dicts</em>) like:</p>\n<pre><code>DNATranscriber = {\n   G:&quot;C&quot;,\n   C: &quot;G&quot;,\n   T: &quot;A&quot;,\n   A: &quot;U&quot;\n}\n</code></pre>\n<p>and trying to dynamically access the value from a calculated key like:</p>\n<pre><code>const key = getFirstType(dnaChain);\nconst result = DNATranscriber[key];\n</code></pre>\n<p>and you faced the error as shown above, you can use the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">keyof operator</a> and try something like</p>\n<pre><code>const key = getFirstType(dnaChain) as keyof typeof DNATranscriber;\n</code></pre>\n<p>certainly you will need a guard at the <code>result</code> but if it seems more intuitive than some custom types magic, it is ok.</p>\n"}, {"comments": [{"owner": {"reputation": 370, "user_id": 10210358, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fXJCqDYO-DE/AAAAAAAAAAI/AAAAAAAABpM/GQX7WA7qb2k/photo.jpg?sz=128", "display_name": "Rahul Purohit", "link": "https://stackoverflow.com/users/10210358/rahul-purohit"}, "edited": false, "score": 0, "creation_date": 1608345288, "post_id": 63342052, "comment_id": 115563210, "body": "Just perfect! Very elegant"}], "tags": [], "owner": {"reputation": 281, "user_id": 4145625, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000187169555/picture?type=large", "display_name": "Manoel Quirino Neto", "link": "https://stackoverflow.com/users/4145625/manoel-quirino-neto"}, "is_accepted": false, "score": 26, "last_activity_date": 1597069197, "creation_date": 1597069197, "answer_id": 63342052, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/63342052#63342052", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>This was what I did to solve my related problem</p>\n<pre><code>interface Map {\n  [key: string]: string | undefined\n}\n\nconst HUMAN_MAP: Map = {\n  draft: &quot;Draft&quot;,\n}\n\nexport const human = (str: string) =&gt; HUMAN_MAP[str] || str\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10694, "user_id": 2069295, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/008127e8f10293f43e62de3b7b3520e1?s=128&d=identicon&r=PG", "display_name": "Jeremy Moritz", "link": "https://stackoverflow.com/users/2069295/jeremy-moritz"}, "edited": false, "score": 0, "creation_date": 1615902305, "post_id": 64606816, "comment_id": 117831393, "body": "This is the best answer.  Deserves more upvotes!"}], "tags": [], "owner": {"reputation": 61, "user_id": 12931446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCN7FTVSDJwgjHQIEYFQAUXiGPkMpckkIuvJLB4WA=k-s128", "display_name": "Almeno Soares", "link": "https://stackoverflow.com/users/12931446/almeno-soares"}, "is_accepted": false, "score": 6, "last_activity_date": 1604063029, "last_edit_date": 1604063029, "creation_date": 1604054600, "answer_id": 64606816, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/64606816#64606816", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>This will eliminate the error and is type safe:</p>\n<pre><code>this.DNATranscriber[character as keyof typeof DNATranscriber]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 655381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d595d0d654adfe0d032b5d1f9c4a1cfc?s=128&d=identicon&r=PG", "display_name": "Pavot", "link": "https://stackoverflow.com/users/655381/pavot"}, "is_accepted": false, "score": 1, "last_activity_date": 1604149948, "creation_date": 1604149948, "answer_id": 64622051, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/64622051#64622051", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>For those who Google:</p>\n<blockquote>\n<p><strong>No index signature with a parameter of type 'string' was found on type...</strong></p>\n</blockquote>\n<p>most likely your error should read like:</p>\n<blockquote>\n<p>Did you mean to use a more specific type such as <code>keyof Number</code>\ninstead of <code>string</code>?</p>\n</blockquote>\n<p>I solved a similar typing issue with code like this:</p>\n<pre><code>const stringBasedKey = `SomeCustomString${someVar}` as keyof typeof YourTypeHere;\n</code></pre>\n<p><a href=\"https://github.com/microsoft/TypeScript/issues/36962\" rel=\"nofollow noreferrer\">This issue</a> helped me to learn the real meaning of the error.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14708778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16f33b83b0d8b0431d72abfa940573f0?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Yeh", "link": "https://stackoverflow.com/users/14708778/thomas-yeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1606333231, "creation_date": 1606333231, "answer_id": 65011662, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/65011662#65011662", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>Here is the function example trim generic type of array object</p>\n<pre class=\"lang-js prettyprint-override\"><code>const trimArrayObject = &lt;T&gt;(items: T[]) =&gt; {\n\n  items.forEach(function (o) {\n\n    for (let [key, value] of Object.entries(o)) {\n\n      const keyName = &lt;keyof typeof o&gt;key;\n\n      if (Array.isArray(value)) {\n\n        trimArrayObject(value);\n\n      } else if (typeof o[keyName] === &quot;string&quot;) {\n\n        o[keyName] = value.trim();\n\n      }\n\n    }\n\n  });\n\n};\n</code></pre>\n\n"}, {"comments": [{"owner": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 1, "creation_date": 1607463585, "post_id": 65205996, "comment_id": 115279925, "body": "Can you add an explanation as to what this block of code does?"}, {"owner": {"reputation": 21, "user_id": 14789504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zYspO.jpg?s=128&g=1", "display_name": "Eugene Kriulin", "link": "https://stackoverflow.com/users/14789504/eugene-kriulin"}, "reply_to_user": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1611877966, "post_id": 65205996, "comment_id": 116599359, "body": "Sure! By extending <code>IItem</code> with the <code>Record&lt;string, any&gt;</code> you allow an object to contain other <code>string</code> keys with <code>any</code> values along with those defined in the interface. The nice part is that you still have the autocompletion for the defined properties."}], "tags": [], "owner": {"reputation": 21, "user_id": 14789504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zYspO.jpg?s=128&g=1", "display_name": "Eugene Kriulin", "link": "https://stackoverflow.com/users/14789504/eugene-kriulin"}, "is_accepted": false, "score": 2, "last_activity_date": 1607457326, "creation_date": 1607457326, "answer_id": 65205996, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/65205996#65205996", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>Solved similar issue by doing this:</p>\n<pre><code>export interface IItem extends Record&lt;string, any&gt; {\n    itemId: string;\n    price: number;\n}\n\nconst item: IItem = { itemId: 'someId', price: 200 };\nconst fieldId = 'someid';\n\n// gives you no errors and proper typing\nitem[fieldId]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1086, "user_id": 1109316, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jrlbc.jpg?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1109316/matthias"}, "is_accepted": false, "score": 0, "last_activity_date": 1616304122, "creation_date": 1616304122, "answer_id": 66729113, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty/66729113#66729113", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>Here is a solution to this problem without using object keys:</p>\n<pre><code>function toRna(value: string): string {\n  return value.split('').map(ch =&gt; 'CGAU'['GCTA'.indexOf(ch)]).join('');\n}\n\nconsole.log(toRna('ACGTGGTCTTAA')); \n\\\\UGCACCAGAAUU\n</code></pre>\n"}], "owner": {"reputation": 3201, "user_id": 2070478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ktYp.jpg?s=128&g=1", "display_name": "onTheInternet", "link": "https://stackoverflow.com/users/2070478/ontheinternet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114834, "favorite_count": 12, "accepted_answer_id": 56569217, "answer_count": 13, "score": 102, "last_activity_date": 1616304122, "creation_date": 1560364438, "last_edit_date": 1560366598, "question_id": 56568423, "link": "https://stackoverflow.com/questions/56568423/typescript-no-index-signature-with-a-parameter-of-type-string-was-found-on-ty", "title": "Typescript: No index signature with a parameter of type &#39;string&#39; was found on type &#39;{ &quot;A&quot;: string; }", "body": "<p>I have some vanilla javascript code that takes a string input, splits the string into characters, and then matches those characters to a key on an object.</p>\n\n<pre><code>DNATranscriber = {\n    \"G\":\"C\",\n    \"C\": \"G\",\n    \"T\": \"A\",\n    \"A\": \"U\"\n}\nfunction toRna(sequence){\n    const sequenceArray = [...sequence];\n    const transcriptionArray = sequenceArray.map(character =&gt;{\n        return this.DNATranscriber[character];\n    });\n\n    return transcriptionArray.join(\"\");\n}\n\nconsole.log(toRna(\"ACGTGGTCTTAA\")); //Returns UGCACCAGAAUU\n</code></pre>\n\n<p>This works as expected. I'd now like to convert this to typescript. </p>\n\n<pre><code>class Transcriptor {\n    DNATranscriber = {\n       G:\"C\",\n       C: \"G\",\n       T: \"A\",\n       A: \"U\"\n    }\n    toRna(sequence: string) {\n        const sequenceArray = [...sequence];\n        const transcriptionArray = sequenceArray.map(character =&gt;{\n            return this.DNATranscriber[character];\n        });\n    }\n}\n\nexport default Transcriptor\n</code></pre>\n\n<p>But I'm getting the following error. </p>\n\n<blockquote>\n  <p>Element implicitly has an 'any' type because expression of type 'string' >can't be used to index type '{ \"A\": string; }'.\n  No index signature with a parameter of type 'string' was found on type >'{ \"A\": string; }'.ts(7053)</p>\n</blockquote>\n\n<p>I thought that the issue was that I needed my object key to be a string. But converting them to strings didn't work. </p>\n\n<pre><code>DNATranscriber = {\n       \"G\":\"C\",\n       \"C\": \"G\",\n       \"T\": \"A\",\n       \"A\": \"U\"\n    }\n</code></pre>\n\n<p>I'm quite confused by this. It says that no index signature with a type of string exists on my object. But I'm sure that it does. What am I doing wrong?</p>\n\n<p>Edit - I solved this by giving the DNATranscriber object a type of any.</p>\n\n<pre><code>DNATranscriber: any = {\n    \"G\":\"C\",\n    \"C\":\"G\",\n    \"T\":\"A\",\n    \"A\":\"U\"\n}\n</code></pre>\n"}, {"tags": ["typescript", "azure-storage"], "answers": [{"tags": [], "owner": {"reputation": 1104, "user_id": 8189867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dftbs.jpg?s=128&g=1", "display_name": "SumanthMarigowda-MSFT", "link": "https://stackoverflow.com/users/8189867/sumanthmarigowda-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1562153368, "creation_date": 1562153368, "answer_id": 56869126, "question_id": 56568417, "link": "https://stackoverflow.com/questions/56568417/how-to-retrieve-all-data-from-azure-database-with-tyescript/56869126#56869126", "title": "How to retrieve all data from azure database with tyescript?", "body": "<p>Your JavaScript is TypeScript : Every JavaScript program is also a TypeScript program.\nTypeScript provides compile time type safety for your JavaScript code. This is no surprise given its name. The great thing is that the types are completely optional. Your JavaScript code .js file can be renamed to a .ts file and TypeScript will still give you back valid .js equivalent to the original JavaScript file. TypeScript is intentionally and strictly a superset of JavaScript with optional Type checking\n<a href=\"https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-table.html\" rel=\"nofollow noreferrer\">https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-table.html</a> </p>\n\n<p>Kindly let us know if the above helps or you need further assistance on this issue.\nIf you are getting any error message or error code, please share the screen shot</p>\n"}], "owner": {"reputation": 91, "user_id": 7616093, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f4084996ecd39f6c5b2872d1c7c7a673?s=128&d=identicon&r=PG&f=1", "display_name": "M.Maria", "link": "https://stackoverflow.com/users/7616093/m-maria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 56869126, "answer_count": 1, "score": 0, "last_activity_date": 1562153368, "creation_date": 1560364427, "question_id": 56568417, "link": "https://stackoverflow.com/questions/56568417/how-to-retrieve-all-data-from-azure-database-with-tyescript", "title": "How to retrieve all data from azure database with tyescript?", "body": "<p>I created a CRUD application with typescript querying azure storage table. I can get a single record from the database , but haven't figured out how to retrieve all data. any help ? here's my code for getting a single record and an attempt to get all records : </p>\n\n<pre><code>async getSystem(partitionKey: string, rowKey: string): \nPromise&lt;Array&lt;System&gt;&gt; {\n    return new Promise&lt;Array&lt;System&gt;&gt;((resolve, reject) =&gt; {\n      try {\n        this.tableService.retrieveEntity&lt;Array&lt;System&gt;&gt;(\n          this.tableName,\n          partitionKey,\n          rowKey,\n          (err, entity) =&gt; {\n            if (err){ reject(err) };\n            resolve(this.tableRecordToJavacript(entity));\n          }\n        );\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n      async getAllSystem(): Promise&lt;Array&lt;System&gt;&gt; {\n    return new Promise&lt;Array&lt;System&gt;&gt;((resolve, reject) =&gt; {\n      try {\n        const query = new azure.TableQuery().top(100);\n        this.tableService.queryEntities&lt;Array&lt;System&gt;&gt;(\n          this.tableName,\n          query,\n          null,\n          (err, entitites) =&gt; {\n            if (err){ reject(err) };\n            resolve(this.tableRecordToJavacript(entitites));\n          }\n        );\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n\n  private tableRecordToJavacript(entity: Array&lt;System&gt;): Array&lt;System&gt; {\n    let result: any = {};\n    Object.keys(entity).forEach(k =&gt; {\n      // we do not want to decode metadata\n      if (k !== \".metadata\") {\n        let prop = Object.getOwnPropertyDescriptor(entity, k);\n        if (prop) {\n          result[k] = prop.value[\"_\"];\n        }\n      }\n    });\n    return result;\n  }\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "is_accepted": false, "score": 0, "last_activity_date": 1560365047, "last_edit_date": 1560365047, "creation_date": 1560363901, "answer_id": 56568295, "question_id": 56568209, "link": "https://stackoverflow.com/questions/56568209/defining-interface-in-a-function/56568295#56568295", "title": "Defining interface in a function", "body": "<p>You can create an anonymous type declaration like this:</p>\n\n<pre><code>function Bar(): { x: string; y: number; } {\n  return { x: 'bar', y: 2 };\n}\n</code></pre>\n\n<p>This is useful if you know what you want to return <em>before</em> you write the code to do that, but also do not need to declare anything of \"being\" that type explicitly. By doing this, any <code>return</code> that does not match the type will trigger a compiler error. This is especially helpful when you need to have multiple <code>return</code> statements.</p>\n\n<p>If somewhere else you want to refer to that as a \"type\" you do need to declare it at a top level scope.</p>\n"}], "owner": {"reputation": 1465, "user_id": 4403257, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh4.googleusercontent.com/-XSHOss9luI4/AAAAAAAAAAI/AAAAAAAAADY/iPL641wt7TQ/photo.jpg?sz=128", "display_name": "Jimmy Gong", "link": "https://stackoverflow.com/users/4403257/jimmy-gong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560365047, "creation_date": 1560363572, "question_id": 56568209, "link": "https://stackoverflow.com/questions/56568209/defining-interface-in-a-function", "title": "Defining interface in a function", "body": "<p>Setting aside how forced this example is, is there a reason to ever define an interface in a function? And are there reasons other than consistency to not allow people to define interfaces in functions (as opposed to at the file-level or as exports in a shared interface/type file)?</p>\n\n<pre><code>function Bar() {\n  interface Foo {\n    x: string;\n    y: number;\n  }\n\n  return { x: 'bar', y: 2 } as Foo;\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular7", "primeng-turbotable"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "edited": false, "score": 0, "creation_date": 1560373464, "post_id": 56568724, "comment_id": 99719709, "body": "Thank you Reza. I just tried with the following and it&#39;s working. I am unable to load the data into the specific columns. ```` if (res.data.length &gt; 0) {                             this.columnName = Object.keys(res.data[0]);                                               } ````"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "edited": false, "score": 0, "creation_date": 1560391698, "post_id": 56568724, "comment_id": 99723401, "body": "<code>this.columns = Object.keys(res.data[0]);</code> then bind your grid to the data and your columns are in this.columns collection, you need to use ngFor on <code>p-column</code>"}, {"owner": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "edited": false, "score": 0, "creation_date": 1560431041, "post_id": 56568724, "comment_id": 99740089, "body": "Thank you so much Reza!"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "edited": false, "score": 0, "creation_date": 1560432080, "post_id": 56568724, "comment_id": 99740744, "body": "@jfranko if it&#39;s the answer to your question, please mark my post as Answer, and you will get 2 scores"}, {"owner": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "edited": false, "score": 0, "creation_date": 1560451916, "post_id": 56568724, "comment_id": 99751701, "body": "I have given my answer as well. It worked for me.If you approve of it, then please rate it. I am new to stack and it will help me. Thank you!"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1560432034, "last_edit_date": 1560432034, "creation_date": 1560365858, "answer_id": 56568724, "question_id": 56567881, "link": "https://stackoverflow.com/questions/56567881/how-to-convert-incoming-json-data-into-table-format-with-rows-and-columns-where/56568724#56568724", "title": "How to convert incoming JSON data into table format with rows and columns where the data is dynamic?", "body": "<p>If for all records the columns are same then use the below code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n        {\r\n            \"SerialNumber\" : 1,\r\n            \"EmployeeName\": \"James\"\r\n        },\r\n        {\r\n            \"SerialNumber\" : 2,\r\n            \"EmployeeName\": \"James2\"\r\n        },\r\n        {\r\n            \"SerialNumber\" : 3,\r\n            \"EmployeeName\": \"James3\"\r\n        }\r\n    ];\r\n    \r\n    const columns = data &amp;&amp; data.length ? Object.keys(data[0]) : [];\r\n    console.log(columns);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If the columns can be different on each row and you want the aggregation of columns use this code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>data = [\r\n        {\r\n            \"SerialNumber\" : 1,\r\n            \"EmployeeName\": \"James\"\r\n        },\r\n        {\r\n            \"SerialNumber\" : 2,\r\n            \"EmployeeLastName\": \"James2\"\r\n        },\r\n        {\r\n            \"PhoneNumber\": 7647,\r\n            \"EmployeeName\": \"James3\"\r\n        }\r\n    ];\r\n   \r\n      const columns = data &amp;&amp; data.length ? \r\n          data.reduce((cols, item) =&gt; { \r\n                Object.keys(item).forEach(key =&gt; {\r\n                    if (!cols.includes(key)) { cols.push(key);}\r\n                });\r\n    \r\n                return cols;\r\n           }, []) : [];\r\n      console.log(columns);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "is_accepted": false, "score": 0, "last_activity_date": 1560451852, "creation_date": 1560451852, "answer_id": 56586901, "question_id": 56567881, "link": "https://stackoverflow.com/questions/56567881/how-to-convert-incoming-json-data-into-table-format-with-rows-and-columns-where/56586901#56586901", "title": "How to convert incoming JSON data into table format with rows and columns where the data is dynamic?", "body": "<p>Here is what I did. First the TS file and then the HTML code.</p>\n\n<pre><code> getFileData() {\n        this.columnName = [];\n        this.columnData = [];\n\n        this.someService.getFile(this.clientFile).subscribe(\n            (res: any) =&gt; {\n                if (res.data) {\n                    this.fileData = res.data;\n                    this.columnName = this.fileData[0];\n\n                    if (res.data.length &gt; 0) {\n                        this.columnName = Object.keys(res.data[0]);\n                    }\n\n                    let colData: any[] = [];\n                    if (res.data.length &gt; 0) {\n                        for (let i = 0; i &lt; this.fileData.length - 1; i++) {\n                            colData = Object.values(res.data[i]);\n                            this.columnData.push(colData);\n                        }\n                    }\n                }\n            },\n            err =&gt; {\n                let someMsg = 'Error processing file';\n                if (err.status === 409) {\n                    someMsg=\n                        err.error.error.errorMessage.length &gt; 0\n                            ? err.error.error.errorMessage\n                            : someMsg;\n                }\n                this.toastService.error(someMsg);\n            }\n        );\n    }\n</code></pre>\n\n<p>Inside HTML --></p>\n\n<pre><code>&lt;p-table\n                #uploadedFileData\n                [value]=\"columnData\"\n                [style]=\"{\n                    'overflow-y': 'scroll',\n                    'overflow-wrap': 'break-word',\n                    'padding-bottom': '15px'\n                }\"\n                overflow=\"auto\"\n                selectionMode=\"multiple\"\n                [loadingIcon]=\"'fa-spinner'\"\n                [loading]=\"loadingResults\"\n                [paginator]=\"false\"\n                [columns]=\"columnName\"\n                [(selection)]=\"columnData\"\n            &gt;\n                &lt;ng-template pTemplate=\"header\"&gt;\n                    &lt;tr&gt;\n                        &lt;th *ngFor=\"let col of columnName\"&gt;\n                            {{ col }}\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/ng-template&gt;\n                &lt;ng-template pTemplate=\"body\" let-row&gt;\n                    &lt;tr&gt;\n                        &lt;td *ngFor=\"let col of row\"&gt;\n                            {{ col }}\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/ng-template&gt;\n            &lt;/p-table&gt;\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 11353315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84841816ce7c0df33398a6edc5332d43?s=128&d=identicon&r=PG&f=1", "display_name": "jfranko", "link": "https://stackoverflow.com/users/11353315/jfranko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1002, "favorite_count": 0, "accepted_answer_id": 56568724, "answer_count": 2, "score": 0, "last_activity_date": 1560451852, "creation_date": 1560362060, "last_edit_date": 1560363680, "question_id": 56567881, "link": "https://stackoverflow.com/questions/56567881/how-to-convert-incoming-json-data-into-table-format-with-rows-and-columns-where", "title": "How to convert incoming JSON data into table format with rows and columns where the data is dynamic?", "body": "<pre><code>[\n    {\n        \"SerialNumber\" : 1,\n        \"EmployeeName:\" James\n    },\n    {\n        \"SerialNumber\" : 2,\n        \"EmployeeName:\" James2\n    },\n    {\n        \"SerialNumber\" : 3,\n        \"EmployeeName:\" James3\n    }\n]\n</code></pre>\n\n<p>I have this incoming JSON data. I want to display it into a table and in order to do that I will need to arrange this in columns and rows.\nThe column names here will be 'SerialNumber' and 'EmployeeName'. So the corresponding values should get inserted in the respective columns when i show this data in the table.\nHow do I do this? I am going to get dynamic data. So the next time i get json data for some different file, it may have 10 columns in it with respective data.\nHow to split the data to show the column names and then feed the correct data into the columns?</p>\n\n<p>Tried PrimeNg turbo table dynamic column solution but that didn't work. In this case I am not going to know the column headings in advance. In other words, the column headings cannot be static since it completely depends on what data I get back from the API. The string on the left of the colon is always going to be the column name and the string to the right of the colon will be the data.</p>\n\n<p>The expectation is that whenever I get dynamic JSON data, the string to the left of colon should be treated as column heading and the string to the right should be treated as the data for the specific column. So while iterating over this json data, i should populate the column headings just once and then for every other iteration i should keep populating the data into the correct columns.</p>\n\n<p>Also, given that the column headings will change based on the data, how do I set the styling of this table?</p>\n\n<p><a href=\"https://i.stack.imgur.com/NYb3n.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 1, "creation_date": 1560361750, "post_id": 56567785, "comment_id": 99714801, "body": "try using <code>defaultValue</code> instead of <code>value</code>: <a href=\"https://reactjs.org/docs/uncontrolled-components.html#default-values\" rel=\"nofollow noreferrer\">reactjs.org/docs/uncontrolled-components.html#default-values</a>"}, {"owner": {"reputation": 57, "user_id": 10405131, "user_type": "registered", "profile_image": "https://graph.facebook.com/1918722055096447/picture?type=large", "display_name": "Daniel Isaac Chavez", "link": "https://stackoverflow.com/users/10405131/daniel-isaac-chavez"}, "reply_to_user": {"reputation": 52334, "user_id": 702638, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/892f65bc0a8a0949ab88598de7d83cab?s=128&d=identicon&r=PG", "display_name": "Hunter McMillen", "link": "https://stackoverflow.com/users/702638/hunter-mcmillen"}, "edited": false, "score": 0, "creation_date": 1560362428, "post_id": 56567785, "comment_id": 99715114, "body": "that worked, but for some reason when I do console.log to check values, I am not getting customer. I do get picklePrice and breadPrice but not customer :/"}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 11610862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e034Gi4w8K0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reN5ri-7OVIk7bcyyJJ-idEUUuQrw/mo/photo.jpg?sz=128", "display_name": "aquz", "link": "https://stackoverflow.com/users/11610862/aquz"}, "is_accepted": false, "score": 0, "last_activity_date": 1560368183, "creation_date": 1560368183, "answer_id": 56569249, "question_id": 56567785, "link": "https://stackoverflow.com/questions/56567785/input-problems-with-typescript-and-reactjs/56569249#56569249", "title": "Input problems with typescript and reactJS", "body": "<blockquote>\n  <p>that worked, but for some reason when I do console.log to check\n  values, I am not getting customer. I do get picklePrice and breadPrice\n  but not customer :/ \u2013</p>\n</blockquote>\n\n<p>It's becouse input name and property in state are differ:</p>\n\n<p>input: <code>name=\"Customer\"</code> </p>\n\n<p>state: <code>customer: 0,</code></p>\n"}], "owner": {"reputation": 57, "user_id": 10405131, "user_type": "registered", "profile_image": "https://graph.facebook.com/1918722055096447/picture?type=large", "display_name": "Daniel Isaac Chavez", "link": "https://stackoverflow.com/users/10405131/daniel-isaac-chavez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560368183, "creation_date": 1560361662, "question_id": 56567785, "link": "https://stackoverflow.com/questions/56567785/input-problems-with-typescript-and-reactjs", "title": "Input problems with typescript and reactJS", "body": "<pre><code>import React, { Component } from 'react'\n\ninterface orderInformation {\n    customer: number;\n    picklePrice: number;\n    breadPrice: number;\n}\n\ninterface ComponentState\n{\n    customer: number;\n    picklePrice: number;\n    breadPrice: number;\n    error: string;\n    finalPickleCost: number;\n    finalBreadCost: number;\n}\n\nexport default class pickleSandwich extends Component&lt;orderInformation,ComponentState&gt; {\n\n\n    constructor(props: orderInformation) {\n        super(props);\n\n        //initializing variables to undefined\n        this.state = {\n          customer: 0,\n          picklePrice: 0,\n          breadPrice: 0,\n          finalBreadCost:0,\n          finalPickleCost:0,\n          error: \"\"\n        };\n        this.handleChange = this.handleChange.bind(this);\n      }\n\n\n//Get information for the user\n    getInfo = orderInformation =&gt; {\n        orderInformation.preventDefault();\n\n        const { customer, picklePrice, breadPrice } = this.state;\n\n        let pickleCounter = 0;\n        let breadCounter = 0;\n        if (customer &gt; 0) {\n            for(let i = 0; i &lt; customer; i++)\n            {\n                if( i%3 === 0)\n                {\n                    pickleCounter = pickleCounter + 2;\n                    breadCounter = breadCounter + 3;\n                }\n                else\n                {\n                    pickleCounter = pickleCounter + 1;\n                    breadCounter = breadCounter + 2;\n                }\n                this.setState({\n                    finalPickleCost: pickleCounter * picklePrice,\n                    finalBreadCost: breadCounter * breadPrice,\n                    error: \"\"\n                });\n            }\n\n          } else {\n            this.setState({\n              error: \"Please enter the values correctly.\"\n            });\n        };\n    };\n\n    handleChange = e =&gt; {\n        this.setState({ [e.target.name]: e.target.value } as any\n            );\n        };\n\n\nrender() {\n\n   // const { customer, finalPickleCost, finalBreadCost } = this.state;\n\n        return (\n        &lt;form onSubmit={this.getInfo}&gt;\n      &lt;p&gt;Get the information of the order!&lt;/p&gt;\n      &lt;input\n        type=\"text\"\n        id=\"Customers\"\n        value = \"Customers\"\n        placeholder=\"Amount of Customers\"\n        name=\"Customer\"\n        onChange={this.handleChange}\n        required\n      /&gt;\n      &lt;input\n        type=\"text\"\n        id=\"picklePrice\"\n        placeholder=\"Price of Pickle\"\n        value = \"picklePrice\"\n        name=\"picklePrice\"\n        onChange={this.handleChange}\n        required\n      /&gt;\n\n      &lt;input\n        type=\"text\"\n        id=\"breadBrice\"\n        placeholder=\"Price of Bread\"\n        value = \"breadPrice\"\n        name=\"breadPrice\"\n        onChange={this.handleChange}\n        required\n      /&gt;\n      &lt;button type=\"submit\"&gt;Get Information &lt;/button&gt;\n\n    &lt;/form&gt;\n        );\n}\n}\n</code></pre>\n\n<p>Whenever I run this, I am not allowed to change the value in the input fields, the input fields actually show the value it and cannot be changed. For some reasons I am not able to input any value or even erase what is shown in the input field. However, I would also like that whenever the Button is clicked the fields get empty.</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 742, "user_id": 3288671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UXAot.jpg?s=128&g=1", "display_name": "Nick Thakkar", "link": "https://stackoverflow.com/users/3288671/nick-thakkar"}, "edited": false, "score": 0, "creation_date": 1560366721, "post_id": 56567332, "comment_id": 99716936, "body": "I think this question title is ambiguous and question can be simplified. Provided .css code doesn&#39;t help understand question."}], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 11148705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40d3e9b3f3c5e3ca81c9784cde99c8da?s=128&d=identicon&r=PG&f=1", "display_name": "srjkaa", "link": "https://stackoverflow.com/users/11148705/srjkaa"}, "is_accepted": true, "score": 0, "last_activity_date": 1560360515, "creation_date": 1560360515, "answer_id": 56567538, "question_id": 56567332, "link": "https://stackoverflow.com/questions/56567332/angular-6-how-to-disable-a-div-based-on-condition/56567538#56567538", "title": "Angular 6 - How to disable a div based on condition", "body": "<p>Change your files like a write below:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  styleUrls: ['./app.component.scss'],\n  templateUrl: './app.component.html',\n})\nexport class AppComponent implements OnInit {\n\n  public toggle: boolean = true;\n\n  ngOnInit(): void {\n\n  }\n\n  public change(): void {\n    this.toggle = !this.toggle;\n  }\n\n  public expand(): void {\n    if (this.toggle) {\n      alert('hi');\n    }\n  }\n\n}\n</code></pre>\n\n<p>And your html file:</p>\n\n<pre><code>&lt;button (click)=\"change()\"&gt;change&lt;/button&gt;\n&lt;div (click)=\"expand()\" [class.new]=\"!toggle\" class=\"old\"&gt;\n    Hello\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "is_accepted": false, "score": 2, "last_activity_date": 1560360759, "creation_date": 1560360759, "answer_id": 56567588, "question_id": 56567332, "link": "https://stackoverflow.com/questions/56567332/angular-6-how-to-disable-a-div-based-on-condition/56567588#56567588", "title": "Angular 6 - How to disable a div based on condition", "body": "<p>Try this:</p>\n\n<pre><code>&lt;button (click)=\"change()\"&gt;change&lt;/button&gt;\n&lt;div  [class.disabled]=\"!toggle\"  (click)=\"toggle &amp;&amp; expand()\" [ngClass]=\"{'old': toggle, 'new': !toggle}\"class=\"old\"&gt;\n  Hello\n&lt;/div&gt;\n</code></pre>\n\n<p>in CSS:</p>\n\n<pre><code>.disabled {\n  cursor: not-allowed;\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-j9vk64\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n"}], "owner": {"reputation": 405, "user_id": 11600083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eff0b397059b66df8544e64ff8ef0da2?s=128&d=identicon&r=PG&f=1", "display_name": "UIAPPDEVELOPER", "link": "https://stackoverflow.com/users/11600083/uiappdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7637, "favorite_count": 0, "accepted_answer_id": 56567538, "answer_count": 2, "score": 0, "last_activity_date": 1560360759, "creation_date": 1560359610, "question_id": 56567332, "link": "https://stackoverflow.com/questions/56567332/angular-6-how-to-disable-a-div-based-on-condition", "title": "Angular 6 - How to disable a div based on condition", "body": "<p>I have a div which will expand onclick a button,again when I click on the div, it will be clickable or alert will come,but when I click on expanded(100%) view it should not be clickable,it should be like disable.Again when I returned to previous(25%) view the div should be clickable.Can any one please help me.\nHere is the code below</p>\n\n<h2>app.component.html</h2>\n\n<pre><code>&lt;button (click)=\"change()\"&gt;change&lt;/button&gt;\n&lt;div (click)=\"expand()\" [ngClass]=\"{'old': toggle, 'new': !toggle}\"class=\"old\"&gt;\n  Hello\n&lt;/div&gt;\n</code></pre>\n\n<h2>app.component.ts</h2>\n\n<pre><code>declare var require: any;\nimport { Component,OnInit, Output, EventEmitter } from '@angular/core';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit{\n    toggle:boolean = true;\n  ngOnInit(){\n\n  }\nchange(){\n    this.toggle = !this.toggle;\n  }\nexpand(){\n    alert('hi');\n  }\n}\n</code></pre>\n\n<h2>style.css</h2>\n\n<pre><code>.old{\n    width:25%;\n    border:1px solid;\n    height:200px;\n    cursor:pointer;\n    background:yellow;\n}\n.new{\n    width:100%;\n    border:1px solid;\n    height:200px;\n    cursor:pointer;\n    background:green;\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "scope"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 11610862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e034Gi4w8K0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reN5ri-7OVIk7bcyyJJ-idEUUuQrw/mo/photo.jpg?sz=128", "display_name": "aquz", "link": "https://stackoverflow.com/users/11610862/aquz"}, "is_accepted": true, "score": 1, "last_activity_date": 1560369408, "creation_date": 1560369408, "answer_id": 56569549, "question_id": 56566942, "link": "https://stackoverflow.com/questions/56566942/how-to-config-typescript-to-hide-all-global-variables-from-window-but-access-wi/56569549#56569549", "title": "How to config TypeScript to hide all global variables from window, but access window itself?", "body": "<p>Check <a href=\"https://palantir.github.io/tslint/rules/no-restricted-globals/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/no-restricted-globals/</a> tslint version >= 5.13.0</p>\n"}], "owner": {"reputation": 2051, "user_id": 9251185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y7t1s.jpg?s=128&g=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/9251185/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 56569549, "answer_count": 1, "score": 1, "last_activity_date": 1560369408, "creation_date": 1560358016, "question_id": 56566942, "link": "https://stackoverflow.com/questions/56566942/how-to-config-typescript-to-hide-all-global-variables-from-window-but-access-wi", "title": "How to config TypeScript to hide all global variables from window, but access window itself?", "body": "<p>How to config TypeScript to hide all global variables from window, only access window itself? </p>\n\n<p>Example:</p>\n\n<p>This code works without any problems:</p>\n\n<pre><code>function foo(length: number): void {\n  // Console result: A number from this scope.\n  console.log(length);\n}\n</code></pre>\n\n<p>but when I remove the parameter <code>length</code>. The linter is still satisfied. \nBecause <code>length</code> is a global variable from <code>window</code>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/length\" rel=\"nofollow noreferrer\">See docs</a></p>\n\n<pre><code>function foo(): void {\n  // Console result: A number from window. (not expected in this case)\n  console.log(length);\n}\n</code></pre>\n\n<p>Expected: </p>\n\n<pre><code>function foo(): void {\n  // Console result: undefined (or my global variable if exist)\n  // And in case the variable does not exist, the linter will cry as expected.\n  console.log(length);\n}\n</code></pre>\n\n<p>I want to hide the window scope in global access. But I still want access the window object itself if I call it explizit like: </p>\n\n<pre><code>function foo(): void {\n  // This already works. But length itself without window as context should fail.\n  console.log(window.length);\n}\n</code></pre>\n\n<p>Is there a tsconfig or tslint option?</p>\n"}, {"tags": ["javascript", "typescript", "pm2"], "comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1560356635, "post_id": 56566580, "comment_id": 99712536, "body": "<a href=\"https://github.com/Unitech/pm2/issues/3503\" rel=\"nofollow noreferrer\">github.com/Unitech/pm2/issues/3503</a>"}, {"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1560356755, "post_id": 56566580, "comment_id": 99712599, "body": "@bambam thanks, I did check that link before I posted the question but was just looking for some clarity."}, {"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1560356800, "post_id": 56566580, "comment_id": 99712625, "body": "Yeah, doesn&#39;t answer the question about fast-mode, but how to run it using ts-node... Thought it might help"}, {"owner": {"reputation": 1583, "user_id": 9016196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp1Ir.jpg?s=128&g=1", "display_name": "Sabee", "link": "https://stackoverflow.com/users/9016196/sabee"}, "edited": false, "score": 1, "creation_date": 1560359808, "post_id": 56566580, "comment_id": 99713950, "body": "I am using <code>pm2 start ts-node -- -P tsconfig.server.json .&#47;server&#47;index.ts</code>"}, {"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "reply_to_user": {"reputation": 1583, "user_id": 9016196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp1Ir.jpg?s=128&g=1", "display_name": "Sabee", "link": "https://stackoverflow.com/users/9016196/sabee"}, "edited": false, "score": 0, "creation_date": 1560500857, "post_id": 56566580, "comment_id": 99765209, "body": "@Sabee Thanks, and that work as expected for you? Do you notice any performance issues compared to running compiled node code?"}, {"owner": {"reputation": 1583, "user_id": 9016196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rp1Ir.jpg?s=128&g=1", "display_name": "Sabee", "link": "https://stackoverflow.com/users/9016196/sabee"}, "edited": false, "score": 0, "creation_date": 1560538442, "post_id": 56566580, "comment_id": 99783586, "body": "I&#39;m sorry, but I can&#39;t answer this question because I only use it for my hobby project, not for the real world application,  but i think it doesn&#39;t cause performance issues"}], "answers": [{"comments": [{"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 2, "creation_date": 1592936332, "post_id": 62475720, "comment_id": 110602114, "body": "One of the first things it says on that page: <code>We highly don\u2019t recommend to use this in production as it slows down your app</code>"}, {"owner": {"reputation": 1392, "user_id": 2235085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1T98e.jpg?s=128&g=1", "display_name": "Ivan Proskuryakov", "link": "https://stackoverflow.com/users/2235085/ivan-proskuryakov"}, "reply_to_user": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1593075294, "post_id": 62475720, "comment_id": 110654140, "body": "Agree, I also seen it, but its questionable a. It could be just downtime that takes transpiling and no benchmarks. b. Also, it may be needed to run &quot;production&quot; environment on a staging server, where speed issue is not crucial."}, {"owner": {"reputation": 4537, "user_id": 371122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a41b37d11143560c2d30518284f53e9a?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/371122/tim"}, "reply_to_user": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1611528698, "post_id": 62475720, "comment_id": 116474607, "body": "@CaribouCode That&#39;s good to note but for some applications, it just doesn&#39;t matter. I&#39;m working on a private chat bot. For that situation, it&#39;s not worth the overhead of dealing with the dev overhead of compiling."}], "tags": [], "owner": {"reputation": 1392, "user_id": 2235085, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1T98e.jpg?s=128&g=1", "display_name": "Ivan Proskuryakov", "link": "https://stackoverflow.com/users/2235085/ivan-proskuryakov"}, "is_accepted": false, "score": 3, "last_activity_date": 1611569254, "last_edit_date": 1611569254, "creation_date": 1592588268, "answer_id": 62475720, "question_id": 56566580, "link": "https://stackoverflow.com/questions/56566580/run-typescript-application-with-pm2/62475720#62475720", "title": "Run Typescript application with PM2", "body": "<h3>Dev environment</h3>\n<p>Runtime which leads to extremely high memory consumption and server overload, in the end, so it cannot be used on production, link <a href=\"https://pm2.io/docs/runtime/integration/transpilers/\" rel=\"nofollow noreferrer\">https://pm2.io/docs/runtime/integration/transpilers/</a></p>\n<pre><code>  &quot;scripts&quot;: {\n    &quot;pm2&quot;: &quot;NODE_ENV=production pm2 start server.ts --watch&quot;\n  }\n</code></pre>\n<h3>Production use</h3>\n<p>Transpile typescript to javascript with a separate command and run it using <code>npm run pm2</code> and <code>npm run pm2:staging</code> if you have a staging environment.</p>\n<p>The commands <code>npm run prod</code> and <code>npm run staging</code> used only locally when I need to work locally with production and staging environments.</p>\n<pre><code>  &quot;scripts&quot;: {\n    &quot;pm2&quot;: &quot;NODE_ENV=production pm2 start build/server.js --watch -i max&quot;,\n    &quot;pm2:staging&quot;: &quot;NODE_ENV=staging pm2 start build/server.js --watch -i max&quot;,\n    &quot;prod&quot;: &quot;NODE_ENV=production node build/server.js&quot;,\n    &quot;staging&quot;: &quot;NODE_ENV=staging node build/server.js&quot;,\n    &quot;dev&quot;: &quot;HTTPS=true NODE_ENV=development ts-node-dev --inspect --respawn src/server.ts&quot;,\n    &quot;test&quot;: &quot;NODE_ENV=test nyc ./node_modules/.bin/mocha --require ts-node/register ./src/test/**/**/**/**/*.test.ts&quot;,\n    &quot;build&quot;: &quot;rimraf build &amp;&amp; tsc -p tsconfig.json&quot;\n   }\n</code></pre>\n<p>tsconfig.json</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    /* Basic Options */\n    &quot;target&quot;: &quot;es5&quot; /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017','ES2018' or 'ESNEXT'. */,\n    &quot;module&quot;: &quot;commonjs&quot; /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */,\n    &quot;lib&quot;: [\n      &quot;es2015&quot;, &quot;dom&quot;\n    ] /* Specify library files to be included in the compilation. */,\n    // &quot;allowJs&quot;: true,                       /* Allow javascript files to be compiled. */\n    // &quot;checkJs&quot;: true,                       /* Report errors in .js files. */\n    // &quot;jsx&quot;: &quot;preserve&quot;,                     /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */\n    // &quot;declaration&quot;: true,                   /* Generates corresponding '.d.ts' file. */\n    // &quot;declarationMap&quot;: true,                /* Generates a sourcemap for each corresponding '.d.ts' file. */\n    &quot;sourceMap&quot;: true /* Generates corresponding '.map' file. */,\n    // &quot;outFile&quot;: &quot;./&quot;,                       /* Concatenate and emit output to single file. */\n    &quot;outDir&quot;: &quot;./build&quot; /* Redirect output structure to the directory. */,\n    // &quot;rootDir&quot;: &quot;./&quot;,                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */\n    // &quot;composite&quot;: true,                     /* Enable project compilation */\n    // &quot;removeComments&quot;: true,                /* Do not emit comments to output. */\n    // &quot;noEmit&quot;: true,                        /* Do not emit outputs. */\n    // &quot;importHelpers&quot;: true,                 /* Import emit helpers from 'tslib'. */\n    // &quot;downlevelIteration&quot;: true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */\n    // &quot;isolatedModules&quot;: true,               /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */\n\n    /* Strict Type-Checking Options */\n    &quot;strict&quot;: true /* Enable all strict type-checking options. */,\n    // &quot;noImplicitAny&quot;: true,                 /* Raise error on expressions and declarations with an implied 'any' type. */\n    // &quot;strictNullChecks&quot;: true,              /* Enable strict null checks. */\n    // &quot;strictFunctionTypes&quot;: true,           /* Enable strict checking of function types. */\n    &quot;strictPropertyInitialization&quot;: false,  /* Enable strict checking of property initialization in classes. */\n    // &quot;noImplicitThis&quot;: true,                /* Raise error on 'this' expressions with an implied 'any' type. */\n    // &quot;alwaysStrict&quot;: true,                  /* Parse in strict mode and emit &quot;use strict&quot; for each source file. */\n\n    /* Additional Checks */\n    &quot;noUnusedLocals&quot;: true /* Report errors on unused locals. */,\n    &quot;noUnusedParameters&quot;: true /* Report errors on unused parameters. */,\n    &quot;noImplicitReturns&quot;: true /* Report error when not all code paths in function return a value. */,\n    &quot;noFallthroughCasesInSwitch&quot;: true /* Report errors for fallthrough cases in switch statement. */,\n\n    /* Module Resolution Options */\n    &quot;moduleResolution&quot;: &quot;node&quot;,            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */\n    // &quot;baseUrl&quot;: &quot;./&quot;,                       /* Base directory to resolve non-absolute module names. */\n    // &quot;paths&quot;: {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */\n    // &quot;rootDirs&quot;: [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */\n    // &quot;typeRoots&quot;: [],                       /* List of folders to include type definitions from. */\n    &quot;types&quot;: [&quot;reflect-metadata&quot;],\n    // &quot;allowSyntheticDefaultImports&quot;: true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */\n    &quot;esModuleInterop&quot;: true /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */,\n    // &quot;preserveSymlinks&quot;: true,              /* Do not resolve the real path of symlinks. */\n\n    /* Source Map Options */\n    // &quot;sourceRoot&quot;: &quot;&quot;,                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */\n    // &quot;mapRoot&quot;: &quot;&quot;,                         /* Specify the location where debugger should locate map files instead of generated locations. */\n    // &quot;inlineSourceMap&quot;: true,               /* Emit a single file with source maps instead of having a separate file. */\n    &quot;inlineSources&quot;: true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */\n\n    /* Experimental Options */\n    &quot;experimentalDecorators&quot;: true,           /* Enables experimental support for ES7 decorators. */\n    &quot;emitDecoratorMetadata&quot;: true,             /* Enables experimental support for emitting type metadata for decorators. */\n    &quot;skipLibCheck&quot;: true\n  }\n}\n\n</code></pre>\n<p>PM2 can generate startup scripts and configure them in order to keep your process list intact across expected or unexpected machine restarts, which is important to keep automated, link <a href=\"https://pm2.keymetrics.io/docs/usage/startup/\" rel=\"nofollow noreferrer\">https://pm2.keymetrics.io/docs/usage/startup/</a></p>\n<pre><code>pm2 unstartup\npm2 startup\npm2 save\n</code></pre>\n"}], "owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12304, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1611569254, "creation_date": 1560356467, "question_id": 56566580, "link": "https://stackoverflow.com/questions/56566580/run-typescript-application-with-pm2", "title": "Run Typescript application with PM2", "body": "<p>I have an application written in Typescript that runs with PM2. Currently I compile to JavaScript, then use PM2 to start the app. My <code>ecosystem.config.js</code> file looks like this:</p>\n\n<pre><code>module.exports = {\n  apps: [\n    {\n      name: 'My Application',\n      script: './dist/server/index.js',\n      env_qa: {\n        PORT: 3001,\n        NODE_ENV: 'production',\n      },\n      env_production: {\n        PORT: 3000,\n        NODE_ENV: 'production',\n      },\n    },\n  ],\n};\n</code></pre>\n\n<p>I run this with the command:</p>\n\n<p><code>pm2 stop ecosystem.config.js --env qa</code></p>\n\n<p>When developing, I just run <code>ts-node server</code> instead of compiling and using PM2. I recently read that ts-node has a 'transpileOnly' or 'fast' mode meaning it can be used in production. Firstly, I'd like to know if it's true that this can be used in production environments. Secondly, how would I still use PM2 to launch my app but using ts-node?</p>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "mui"], "answers": [{"tags": [], "owner": {"reputation": 39553, "user_id": 20846, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eab2ea9dca703228fddc36442c259da1?s=128&d=identicon&r=PG", "display_name": "flatline", "link": "https://stackoverflow.com/users/20846/flatline"}, "is_accepted": true, "score": 0, "last_activity_date": 1560458176, "creation_date": 1560458176, "answer_id": 56588242, "question_id": 56566434, "link": "https://stackoverflow.com/questions/56566434/muiv4-upgrade-w-typescript-cannot-spread-props-to-textfield-properly/56588242#56588242", "title": "MUIv4 Upgrade w/ TypeScript - Cannot spread props to TextField Properly", "body": "<p>I ran into this exact error yesterday. I'm doing the same type union in other places, such as with <code>SelectProps</code>, without an issue, but <code>TextFieldProps</code> is problematic on multiple properties and <code>StandardTextFieldProps</code> on just <code>ref</code>. Therefore, as a temporary measure you could declare:</p>\n\n<pre><code>export type MyTextFieldProps = Omit&lt; StandardTextFieldProps, 'ref' &gt; &amp; { ... }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 7455960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef8aed9b0101835bcce162e56a5580a?s=128&d=identicon&r=PG", "display_name": "Marty", "link": "https://stackoverflow.com/users/7455960/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1560482080, "creation_date": 1560482080, "answer_id": 56590934, "question_id": 56566434, "link": "https://stackoverflow.com/questions/56566434/muiv4-upgrade-w-typescript-cannot-spread-props-to-textfield-properly/56590934#56590934", "title": "MUIv4 Upgrade w/ TypeScript - Cannot spread props to TextField Properly", "body": "<p>@flatline. Thanks for the suggestion. I also had a working solution in changing how exporting was typed. To be honest, I'm not exactly sure why this works but it does. Take note of the last lines in each file:</p>\n\n<pre><code>TextField.tsx\n</code></pre>\n\n<pre><code>import TextField, {\n  StandardTextFieldProps as TextFieldProps\n} from '@material-ui/core/TextField';\n\ntype ClassNames =\n  | 'root'\n\nconst styles = (theme: Theme) =&gt;\n  createStyles({\n    root: {},\n  });\n\ninterface BaseProps {\n  tooltipText?: string;\n  dataAttrs?: Record&lt;string, any&gt;\n}\n\nexport type Props = BaseProps &amp; TextFieldProps\n\ntype CombinedProps = Props &amp;\n  WithStyles&lt;ClassNames&gt;;\n\nclass MyTextField extends React.Component&lt;CombinedProps&gt; {\n  render() {\n    const {\n      children,\n      tooltipText,\n      dataAttrs,\n      /** everything else that goes on the root */\n      ...textFieldProps\n    } = this.props;\n\n    return (\n      &lt;div\n      &gt;\n        &lt;TextField\n          {...textFieldProps}\n          {...dataAttrs}\n        &gt;\n          {this.props.children}\n        &lt;/TextField&gt;\n        {tooltipText &amp;&amp; &lt;HelpIcon text={tooltipText} /&gt;}\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst styled = withStyles(styles);\n\nexport default compose&lt;CombinedProps, Props&gt;(\n  styled\n)(MyTextField) as s React.ComponentType&lt;Props&gt;;;\n</code></pre>\n\n<pre><code>PasswordInput.tsx\n</code></pre>\n\n<pre><code>import * as React from 'react'\nimport TextField, { Props as TextFieldProps } from 'src/TextField'\n\ntype Props = TextFieldProps &amp; {\n  hideHelperText?: boolean;\n};\n\nclass PasswordInput extends React.Component&lt;Props&gt; {\n  onChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {\n    /** do stuff */\n  };\n\n  render() {\n    const {\n      hideHelperText,\n      classes,\n      ...rest\n    } = this.props;\n\n    return (\n      &lt;React.Fragment&gt;\n        &lt;TextField\n          /** errors out here */\n          /*\n            Type 'HideShowText | null' is not assignable to type 'HTMLDivElement | null'.\n            Type 'HideShowText' is missing the following properties from type 'HTMLDivElement':\n            align, addEventListener, removeEventListener, accessKey, and 238 more\n          */\n          {...rest}\n          onChange={this.onChange}\n        /&gt;\n        {!hideHelperText &amp;&amp; 'hello world'}\n      &lt;/React.Fragment&gt;\n    );\n  }\n}\n\nexport default PasswordInput as React.ComponentType&lt;Props&gt;;;\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 7455960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ef8aed9b0101835bcce162e56a5580a?s=128&d=identicon&r=PG", "display_name": "Marty", "link": "https://stackoverflow.com/users/7455960/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "accepted_answer_id": 56588242, "answer_count": 2, "score": 1, "last_activity_date": 1560482080, "creation_date": 1560355883, "last_edit_date": 1560358503, "question_id": 56566434, "link": "https://stackoverflow.com/questions/56566434/muiv4-upgrade-w-typescript-cannot-spread-props-to-textfield-properly", "title": "MUIv4 Upgrade w/ TypeScript - Cannot spread props to TextField Properly", "body": "<p>Current Material-UI Version: <code>4.1.0</code></p>\n\n<p>I am having issues spreading props to an abstracted <code>&lt;TextField /&gt;</code> component I've created.</p>\n\n<p>Here is the code:</p>\n\n<p><code>PasswordInput.tsx</code></p>\n\n<pre><code>import * as React from 'react'\nimport TextField, { Props as TextFieldProps } from 'src/TextField'\n\ntype Props = TextFieldProps &amp; {\n  hideHelperText?: boolean;\n};\n\nclass PasswordInput extends React.Component&lt;Props&gt; {\n  onChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {\n    /** do stuff */\n  };\n\n  render() {\n    const {\n      hideHelperText,\n      classes,\n      ...rest\n    } = this.props;\n\n    return (\n      &lt;React.Fragment&gt;\n        &lt;TextField\n          /** errors out here */\n          /*\n            Type 'HideShowText | null' is not assignable to type 'HTMLDivElement | null'.\n            Type 'HideShowText' is missing the following properties from type 'HTMLDivElement':\n            align, addEventListener, removeEventListener, accessKey, and 238 more\n          */\n          {...rest}\n          onChange={this.onChange}\n        /&gt;\n        {!hideHelperText &amp;&amp; 'hello world'}\n      &lt;/React.Fragment&gt;\n    );\n  }\n}\n\nexport default PasswordInput;\n</code></pre>\n\n<p><code>TextField.tsx</code></p>\n\n<pre><code>import TextField, {\n  StandardTextFieldProps as TextFieldProps\n} from '@material-ui/core/TextField';\n\ntype ClassNames =\n  | 'root'\n\nconst styles = (theme: Theme) =&gt;\n  createStyles({\n    root: {},\n  });\n\ninterface BaseProps {\n  tooltipText?: string;\n  dataAttrs?: Record&lt;string, any&gt;\n}\n\nexport type Props = BaseProps &amp; TextFieldProps\n\ntype CombinedProps = Props &amp;\n  WithStyles&lt;ClassNames&gt;;\n\nclass MyTextField extends React.Component&lt;CombinedProps&gt; {\n  render() {\n    const {\n      children,\n      tooltipText,\n      dataAttrs,\n      /** everything else that goes on the root */\n      ...textFieldProps\n    } = this.props;\n\n    return (\n      &lt;div\n      &gt;\n        &lt;TextField\n          {...textFieldProps}\n          {...dataAttrs}\n        &gt;\n          {this.props.children}\n        &lt;/TextField&gt;\n        {tooltipText &amp;&amp; &lt;HelpIcon text={tooltipText} /&gt;}\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst styled = withStyles(styles);\n\nexport default compose&lt;CombinedProps, Props&gt;(\n  styled\n)(MyTextField);\n</code></pre>\n\n<p>It's bombing with the following error:</p>\n\n<pre><code>TS2322: Type '{ tooltipText: string | undefined; value: string | undefined; onChange: (e: ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void; fullWidth: true; required: boolean | undefined; errorText?: string | undefined; ... 282 more ...; innerRef?: ((instance: any) =&gt; void) | ... 2 more ... | undefined; }' is not assignable to type 'IntrinsicClassAttributes&lt;HideShowText&gt;'.\n  Types of property 'ref' are incompatible.\n    Type '((instance: HTMLDivElement | null) =&gt; void) | RefObject&lt;HTMLDivElement&gt; | null | undefined' is not assignable to type 'string | ((instance: HideShowText | null) =&gt; void) | RefObject&lt;HideShowText&gt; | null | undefined'.\n      Type '(instance: HTMLDivElement | null) =&gt; void' is not assignable to type 'string | ((instance: HideShowText | null) =&gt; void) | RefObject&lt;HideShowText&gt; | null | undefined'.\n        Type '(instance: HTMLDivElement | null) =&gt; void' is not assignable to type '(instance: HideShowText | null) =&gt; void'.\n          Types of parameters 'instance' and 'instance' are incompatible.\n            Type 'PasswordInput | null' is not assignable to type 'HTMLDivElement | null'.\n              Type 'PasswordInput' is missing the following properties from type 'HTMLDivElement': align, addEventListener, removeEventListener, accessKey, and 238 more.\n</code></pre>\n\n<p>It appears that the <code>...rest</code> in the PasswordInput should be equal to the <code>StandardTextFieldProps</code> but for some reason I'm getting errors for my component not being an <code>HTMLDivElement</code>?</p>\n\n<p>Let me know if I can provide more detail. As far as I can tell, this is a bug.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560356299, "post_id": 56566414, "comment_id": 99712377, "body": "I was composing an answer for you but Jota marked it as dup."}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1560357154, "post_id": 56566447, "comment_id": 99712757, "body": "but I got a subscribe: ` this.allIngridients.subscribe(current =&gt; {         current.push(tag);       })<code>, its different ? When I use </code>| async` i get no error, but nothing to display ..."}, {"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1560357363, "post_id": 56566447, "comment_id": 99712852, "body": "@StartingAgain Did you try using async pipe?"}, {"owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "reply_to_user": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1560357688, "post_id": 56566447, "comment_id": 99713000, "body": "@StartingAgain You did subscribe but instead of pulling you are pushing. You need to use async pipe or assign your subscription result to <code>array</code> and iterate over that array."}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1560359355, "post_id": 56566447, "comment_id": 99713769, "body": "I was trying <a href=\"https://stackblitz.com/edit/angular-l6yvgd?file=src/app/app.module.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-l6yvgd?file=src/app/app.module.t&zwnj;&#8203;s</a> , may be this helps ?"}, {"owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "edited": false, "score": 0, "creation_date": 1560360343, "post_id": 56566447, "comment_id": 99714164, "body": "&quot;ou did subscribe but instead of pulling you are pushing.&quot;, yes , because I want to fill it with some data ..."}], "tags": [], "owner": {"reputation": 7665, "user_id": 894532, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/epFXH.jpg?s=128&g=1", "display_name": "Maihan Nijat", "link": "https://stackoverflow.com/users/894532/maihan-nijat"}, "is_accepted": false, "score": 0, "last_activity_date": 1560356341, "last_edit_date": 1560356341, "creation_date": 1560355941, "answer_id": 56566447, "question_id": 56566414, "link": "https://stackoverflow.com/questions/56566414/cannot-find-a-differ-supporting-object-object-object-of-type-object/56566447#56566447", "title": "&quot;Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. ...&quot;", "body": "<p>The below line is not array that's why you cannot iterate over it. It's observable to hold array. You need to subscribe and assign result to an array and then iterate over it.</p>\n\n<p><code>allIngridients: Observable&lt;Ingridient[]&gt;;</code></p>\n\n<p>Or use <code>| async</code> pipe:</p>\n\n<pre><code>&lt;mat-option *ngFor=\"let ingridient of allIngridients | async\" [value]=\"ingridient._id\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 11494004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4c0dd06b18890be5b1a5a99d756c006?s=128&d=identicon&r=PG&f=1", "display_name": "StartingAgain", "link": "https://stackoverflow.com/users/11494004/startingagain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 848, "favorite_count": 0, "closed_date": 1560356142, "answer_count": 1, "score": 0, "last_activity_date": 1560360062, "creation_date": 1560355784, "last_edit_date": 1560360062, "question_id": 56566414, "link": "https://stackoverflow.com/questions/56566414/cannot-find-a-differ-supporting-object-object-object-of-type-object", "closed_reason": "Duplicate", "title": "&quot;Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. ...&quot;", "body": "<p>I would like to show <code>name</code>, but save as it's value of <code>_id</code> for <code>mat-select</code>.\nAnd save it's value in <code>selectedIngridient</code>, for selecting an option.</p>\n\n<p>I get:</p>\n\n<blockquote>\n  <p>\"Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\"</p>\n</blockquote>\n\n<p>But I was looking at different post(e.g.: <a href=\"https://stackoverflow.com/questions/39819392/cannot-find-a-differ-supporting-object-object-object-of-type-object-ngfor\">Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays</a>), couldn't figure out the error.</p>\n\n<p>What did I do wrong ?</p>\n\n<p>Stacklitz:</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-l6yvgd?file=src/app/app.module.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-l6yvgd?file=src/app/app.module.ts</a> </p>\n\n<p>Init:</p>\n\n<pre><code>  import { Observable } from 'rxjs/internal/Observable';\n  allIngridients: Observable&lt;Ingridient[]&gt;;\n  selectedIngridient: Ingridient;\n</code></pre>\n\n<p>DataLayer:</p>\n\n<pre><code>    export class Ingridient {\n    _id: string;\n\n    name: string;// todo: \u00dcbersetzungen\n    barCode?: Barcode;\n\n    constructor() {\n        this._id = UUID.UUID();\n    }\n}\n</code></pre>\n\n<p>Markup:</p>\n\n<pre><code>      &lt;mat-form-field&gt;\n            &lt;mat-select placeholder=\"Select an ingridient\" [(value)]=\"selectedIngridient\"&gt;\n              &lt;mat-option *ngFor=\"let ingridient of allIngridients\" [value]=\"ingridient._id\"&gt;\n                {{ingridient.name}}\n              &lt;/mat-option&gt;\n            &lt;/mat-select&gt;\n          &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>Fill <code>allIngridients</code>(calling in <code>constructor</code>):</p>\n\n<pre><code>  inlineFunction_IngridientsNumberAndUnits_Ingridient(recipeId: string, anzahl: number): Ingridient[] {\n    let result: Ingridient[] = [];\n\n    for (let i_result = 0; i_result &lt; anzahl; i_result++) {\n\n      // todo: sp\u00e4ter mit recipe\n      const tag: Ingridient = new Ingridient(recipeId);\n\n      // Code\n      tag.name = \"Unit_\" + (i_result + 1);\n      tag.name = \"BarCodes_\" + (i_result + 1);\n\n      // todo: changed\n      this.allIngridients.subscribe(current =&gt; {\n        current.push(tag);\n      })\n\n      result.push(tag);\n    }\n\n    return result;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "create-react-app", "ava"], "answers": [{"tags": [], "owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "is_accepted": true, "score": 2, "last_activity_date": 1560361020, "creation_date": 1560361020, "answer_id": 56567647, "question_id": 56566167, "link": "https://stackoverflow.com/questions/56566167/ava-unit-tests-failing-with-typescript-syntaxerror-unexpected-identifier/56567647#56567647", "title": "Ava unit tests failing with TypeScript (&quot;SyntaxError: Unexpected identifier&quot;)", "body": "<p>AVA (with TypeScript setup) compiles the TypeScript code back to JavaScript before execution.</p>\n\n<p>And NodeJS does not support esm syntax unless you are doing <code>*.mjs</code>.</p>\n\n<p>So you have to set your \"module\" to \"commonjs\" in your <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 3451, "user_id": 2014843, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DCwiC.jpg?s=128&g=1", "display_name": "Cerulean", "link": "https://stackoverflow.com/users/2014843/cerulean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 56567647, "answer_count": 1, "score": 0, "last_activity_date": 1560361020, "creation_date": 1560354888, "last_edit_date": 1560357603, "question_id": 56566167, "link": "https://stackoverflow.com/questions/56566167/ava-unit-tests-failing-with-typescript-syntaxerror-unexpected-identifier", "title": "Ava unit tests failing with TypeScript (&quot;SyntaxError: Unexpected identifier&quot;)", "body": "<p>I'm learning TypeScript and I created a TypeScript React app with <code>create-react-app</code>.  It uses a separate TypeScript file, <code>logic.ts</code>, which in turn imports a JSON file</p>\n\n<pre><code>import pastaData from './data/users-pasta.json'\n\n const ParsedUserData  = pastaData.map(data =&gt; ({name: data.name, gender:data.gender,favorites: data.favorites}));\n\nexport const getPastaData = () =&gt; ParsedUserData;\n</code></pre>\n\n<p>It works fine.  But when I run my Ava test (which for the moment does nothing)</p>\n\n<pre><code>const {getPastaData} = require( '../src/logic.ts')\n\ndescribe(\"A suite\", function() {\n  it(\"contains spec with an expectation\", function() {\n    expect(true).toBe(true);\n  });\n}); \n</code></pre>\n\n<p>I get the following error </p>\n\n<blockquote>\n<pre><code>/src/logic.ts:1\n(function (exports, require, module, __filename, __dirname) { import pastaData from './data/users-pasta.json';\nSyntaxError: Unexpected identifier\n</code></pre>\n</blockquote>\n\n<p>It's complaining about the 'pastaData' import here.</p>\n\n<p>I set up Ava to work with Typescript (from package.json)</p>\n\n<pre><code>{\n\n  \"ava\": {\n    \"compileEnhancements\": false,\n    \"extensions\": [\n      \"ts\"\n    ],\n    \"require\": [\n      \"ts-node/register\"\n    ]\n  }\n}\n</code></pre>\n\n<p>And have now been trying to get <code>Ava-ts</code> to work.  Same problem.</p>\n\n<p>I think it's an issue with <code>ts-node</code> but changing all the linked files to 'require' is proving problematic (and TypeScript starts complaining).  Is there a way to get this to work with 'ES-6' 'imports'?  Or is there something else I'm missing entirely?</p>\n\n<p>Any help much appreciated!</p>\n"}, {"tags": ["typescript", "builder"], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 1, "last_activity_date": 1560366270, "last_edit_date": 1560366270, "creation_date": 1560365900, "answer_id": 56568740, "question_id": 56566149, "link": "https://stackoverflow.com/questions/56566149/how-can-i-type-this-object-builder-in-typescript-strict-mode-without-bloating-it/56568740#56568740", "title": "How can I type this object builder in TypeScript strict mode without bloating it?", "body": "<p>TypeScript is complaining because in strict mode, <code>undefined</code> is not assignable to types <code>number</code>, <code>boolean</code>, or <code>DoughType</code>, and in strict mode, each class property must be initialized with a value of its type.</p>\n\n<p>Since you're meaning for these properties to be potentially undefined, you can explicitly type them with a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union type</a> that includes <code>undefined</code> as a valid value: </p>\n\n<pre><code>private numberOfSlices: number | undefined;\nprivate isThin: boolean | undefined;\nprivate doughType: DoughType | undefined;\nprivate toppings: Topping[] = [];\n</code></pre>\n\n<p>There is more about Strict Class Initialization <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#strict-class-initialization\" rel=\"nofollow noreferrer\">here in the TypeScript 2.7 relase notes</a>.</p>\n"}], "owner": {"reputation": 513, "user_id": 8555599, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/k5MNa.jpg?s=128&g=1", "display_name": "Sumomo", "link": "https://stackoverflow.com/users/8555599/sumomo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 56568740, "answer_count": 1, "score": 1, "last_activity_date": 1560366270, "creation_date": 1560354806, "question_id": 56566149, "link": "https://stackoverflow.com/questions/56566149/how-can-i-type-this-object-builder-in-typescript-strict-mode-without-bloating-it", "title": "How can I type this object builder in TypeScript strict mode without bloating it?", "body": "<p>I like this builder pattern I found online, but in strict mode it won't work because I get for the first 3 properties the same error as the first:</p>\n\n<pre><code>(property) PizzaBuilder.numberOfSlices: number\nProperty 'numberOfSlices' has no initializer and is not definitely assigned in the constructor.ts(2564)\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>export enum DoughType {\n  HEALTHY,\n}\nexport enum Topping {\n  CHEESE,\n}\nexport interface Pizza {\n  numberOfSlices: number;\n  isThin: boolean;\n  doughType: DoughType;\n  toppings: Topping[];\n}\n\nexport class PizzaBuilder {\n  private numberOfSlices: number;\n  private isThin: boolean;\n  private doughType: DoughType;\n  private toppings: Topping[] = [];\n\n  public setNumberOfSlices(numberOfSlices: number): PizzaBuilder {\n    this.numberOfSlices = numberOfSlices;\n    return this;\n  }\n  public setIsThin(isThin: boolean): PizzaBuilder {\n    this.isThin = isThin;\n    return this;\n  }\n  public setDoughType(doughType: DoughType): PizzaBuilder {\n    this.doughType = doughType;\n    return this;\n  }\n  public addTopping(topping: Topping): PizzaBuilder {\n    this.toppings.push(topping);\n    return this;\n  }\n  public build(): Pizza {\n    if (this.isThin === undefined) this.isThin = false;\n    if (this.numberOfSlices === undefined) this.numberOfSlices = 8;\n    if (this.doughType === undefined) throw new Error('Dough type must be set');\n    if (this.toppings.length &lt; 1) this.toppings.push(Topping.CHEESE);\n\n    return {\n      numberOfSlices: this.numberOfSlices,\n      isThin: this.isThin,\n      toppings: this.toppings,\n      doughType: this.doughType,\n    };\n  }\n}\n\nconst pizza = new PizzaBuilder()\n  .setIsThin(true)\n  .setNumberOfSlices(6)\n  .setDoughType(DoughType.HEALTHY)\n  .addTopping(Topping.CHEESE)\n  .build();\n</code></pre>\n\n<p>I want to avoid giving <code>numberOfSlices</code>, <code>isThin</code> and <code>doughType</code> default values as it seems to defeat the idea behind the builder. I can't set them to <code>undefined</code> as that won't work.</p>\n\n<p>Is there a solution that avoids excessive bloat? Adding booleans to detect if something has been set seems like a cruft nightmare.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1560354693, "post_id": 56566023, "comment_id": 99711531, "body": "If you&#39;re at TS3.4+ you can use <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertions</a> as in <code>kind: Kind.CASH as const</code>"}, {"owner": {"reputation": 644, "user_id": 1652019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fde4b02f060ccac53318a6127d0d085?s=128&d=identicon&r=PG", "display_name": "Mahakala", "link": "https://stackoverflow.com/users/1652019/mahakala"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1560355985, "post_id": 56566023, "comment_id": 99712214, "body": "@jcalz - that&#39;s an acceptable answer, make it one and I will accept it if you care for some karma."}], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1560356905, "creation_date": 1560356905, "answer_id": 56566705, "question_id": 56566023, "link": "https://stackoverflow.com/questions/56566023/typescript-return-type-is-being-widened-to-whole-enum/56566705#56566705", "title": "typescript return type is being widened to whole enum", "body": "<p>Assuming you're using TypeScript 3.4 or higher, you can use <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#const-assertions\" rel=\"nofollow noreferrer\"><code>const</code> assertions</a> as in</p>\n\n<pre><code>const Cash = () =&gt; ({\n  kind: Kind.CASH as const\n});\n\nconst PayPal = (email: string) =&gt; ({\n  kind: Kind.PAYPAL as const,\n  email\n});\n\nconst CreditCard = (payload: { cardNumber: string; cvv: string }) =&gt; ({\n  kind: Kind.CREDIT as const,\n  payload\n});\n</code></pre>\n\n<p>to have the type of the <code>kind</code> property interpreted as narrowly as possible:</p>\n\n<p><a href=\"https://typescript-play.js.org/#code/KYOwrgtgBA0gliAJlA3gKClAwgQQMoASUAvFAES6FkA0GUACjgJqMAyJ5jLOrNdWAJQCiAEQCSAFQ4Vh4iWTQBfNGgDGAexABnAC7YAhloAWHABQBKEgD4op9JgDWCRAC5YzgHSUihqBu06SuYA3Cr+ugz6AJ70+gA2ZsAQ+nBxbroATggA5pbENnZ0Tkhu8EgeXGxQvuE6tJhJKXFBoWqaEVgZwIhwOlj6GcikpgAO0XHq+q6ofgOIAHKQAEbAGek6WSDZwX4Abrvrm9lQinkF9lDF02WIXrKS1Vp+7XV0Y1ETUy0qOlEjwJEohBQDoALLAHRGdRDKACCFgDIgCR-YAAHjov3+6gAZgZjFAAD5QTHAHGA2IJIkksmdbq9fqDNBWVrYsAgVQ6OCaKCIYBaVRZFaxIEg8GQ6GmYHi6bC4EgMEQqGIcyHHKoOhaADuvVUJkliuhHiulgumFUhgBNy8+AILjomEwAHpHVACKtgNQoFKlVAjL4SXijPaHV0dAiQOR+sYyK0HbMtJbPJUeHa406XW6up7vdDff6UeT4sHMKHw1AAAbCim2AAkKBzt0aqVO5djDvNCfc5UEokkqbTztd7uzBuQfqeAdpPT6c2LUFLiIrU96s0Gtfro4870+t3Ng0WEBWGRboUwymUQA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<p>Prior to TS3.4, or in cases where you don't want to use a <code>const</code> assertion, you have to rely on TypeScript's <a href=\"https://github.com/Microsoft/TypeScript/pull/10676\" rel=\"nofollow noreferrer\">heuristics for determining when and when not to widen literals</a>, such as the following helper function:</p>\n\n<pre><code>const lit = &lt;T extends string | number | boolean | void | null | {}&gt;(x: T) =&gt; x;\n</code></pre>\n\n<p>which returns <code>x</code> as a string/numeric/boolean literal if possible, since the type <code>T</code> is constrained by a union including <code>string</code>, <code>number</code>, and <code>boolean</code>.  And then you'd use it like this:</p>\n\n<pre><code>const Cash = () =&gt; ({\n  kind: lit(Kind.CASH)\n});\n\nconst PayPal = (email: string) =&gt; ({\n  kind: lit(Kind.PAYPAL),\n  email\n});\n\nconst CreditCard = (payload: { cardNumber: string; cvv: string }) =&gt; ({\n  kind: lit(Kind.CREDIT),\n  payload\n});\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/KYOwrgtgBA0gliAJlA3gKClAwgQQMoASUAvFAES6FkA0GUACjgJqMAyJ5jLOrNdWAJQCiAEQCSAFQ4Vh4iWTQBfNGgDGAexABnAC5QANnD2kAPFOAAPHaERaougE4IA5lAA+UcBABGwB+6hvdXV9YABDEACAN3U4ZA9wfX0AlEUAPgAKCwAuKAkAShI0qAsAbhUNbT0sMK0ACw4MwuJijPRMAGsERFzDHQz4JAA6SgJ8pXzytU1dBjCAT3ow5NIM4AgwuH1cxxdm1vaoLqReowHuoa42fNpMdc39CanK2awHYEQjGodkVYAHBb6dRhHqoKCqMI-ABykF8Dh2OicIGcpXBUSiCKRrkU+ygbTox1BfXOw0EokkNzoAPmQJBTxUOnmf2Ac3mEFAOgAssAdHV1L8oAIeWAHCAJEzgCY6IzmeoAGbYWoNDwy4Dy1lLZIqiXqt4fL6QxBoNJTOVgECqHRwTRQRDALSqJy+JZsjnc3n8jLsj2gl3skBcnl8xD5TEuVB0LQAdyMqgaXqD-KGhMKh0wEK0LMGiBG+AI2TomEwAHpi1ACH5gNQoN7g1A6rUoKrFfVC0X3joRZEKEqyFMi+DalmLlceAWByWyxX3tXa-z643my7NW3MB2u1AAAbL5Z4gAkKDnOfuWxxm-7RYzw9Jskk44npfLldnieQDbszb1nx03yNE6g66iluX5GIOPz7oer5DNStI5hC0Kwn4Z7lJgyjKEAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n\n<p>Either way should work for you.  Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 644, "user_id": 1652019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fde4b02f060ccac53318a6127d0d085?s=128&d=identicon&r=PG", "display_name": "Mahakala", "link": "https://stackoverflow.com/users/1652019/mahakala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56566705, "answer_count": 1, "score": 0, "last_activity_date": 1560356905, "creation_date": 1560354384, "question_id": 56566023, "link": "https://stackoverflow.com/questions/56566023/typescript-return-type-is-being-widened-to-whole-enum", "title": "typescript return type is being widened to whole enum", "body": "<p>In the code below if I don't specify kind in each action with the 'as' keyword the inferred type for method widens it to any of the Kind types. Is there a way to avoid repeating 'Kind.PAYPAL as Kind.PAYPAL'?</p>\n\n<pre><code>enum Kind {\n    CASH = 'CASH',\n    PAYPAL = 'PAYPAL',\n    CREDIT = 'CREDIT'\n}\n\nconst Cash = () =&gt; ({\n    kind: Kind.CASH as Kind.CASH,\n});\n\nconst PayPal = (email: string) =&gt; ({\n    kind: Kind.PAYPAL as Kind.PAYPAL,\n    email\n});\n\nconst CreditCard = (payload: { cardNumber: string, cvv: string }) =&gt; ({\n    kind: Kind.CREDIT as Kind.CREDIT,\n    payload\n});\n\ntype PaymentMethod = ReturnType&lt;\n    typeof Cash\n    | typeof PayPal\n    | typeof CreditCard\n&gt;;\n\nfunction describePaymentMethod(method: PaymentMethod): string {\n  switch (method.kind) {\n    case Kind.CASH:\n      // Here, method has type Cash\n      return \"Cash\";\n\n    case Kind.PAYPAL:\n      // Here, method has type PayPal\n      return `PayPal (${method.email})`;\n\n    case Kind.CREDIT:\n      // Here, method has type CreditCard\n      return `Credit card (${method.payload.cardNumber})`;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 275545, "user_id": 40342, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a648ccb47bbbe9497c073315aac4d33e?s=128&d=identicon&r=PG", "display_name": "Joachim Sauer", "link": "https://stackoverflow.com/users/40342/joachim-sauer"}, "edited": false, "score": 0, "creation_date": 1560354286, "post_id": 56565938, "comment_id": 99711290, "body": "<a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Operators/typeof\" rel=\"nofollow noreferrer\"><code>typeof</code> will never return <code>Book</code></a>, it can only ever return <code>object</code> in cases like this"}, {"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 1, "creation_date": 1560354853, "post_id": 56565938, "comment_id": 99711621, "body": "There are no types at run time. typescript does not exist at runtime, only javascript does and JavaScript has no concept of user defined types, everything that starts <code>{}</code> is an object."}, {"owner": {"reputation": 5052, "user_id": 2950032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45bfee4307a21e38ef04af6c963dc564?s=128&d=identicon&r=PG&f=1", "display_name": "maazadeeb", "link": "https://stackoverflow.com/users/2950032/maazadeeb"}, "edited": false, "score": 1, "creation_date": 1560355070, "post_id": 56565938, "comment_id": 99711746, "body": "Typescript is compiled to JavaScript. Its benefits are almost mostly at compile-time. Turn off sourcemaps and see the JavaScript that is actually running. You&#39;ll realise why the output is the way it is."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 1, "creation_date": 1560355099, "post_id": 56565938, "comment_id": 99711763, "body": "You need the constructor, yes.  What you&#39;re calling a &quot;cast&quot; is actually a <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">type assertion</a> which has no runtime effect."}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "edited": false, "score": 0, "creation_date": 1560360770, "post_id": 56565938, "comment_id": 99714358, "body": "If one of you wants to summarize these comments, I&#39;ll accept it as the answer."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1560366765, "post_id": 56565938, "comment_id": 99716954, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/13613524/get-an-objects-class-name-at-runtime\">Get an object&#39;s class name at runtime</a>"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560366815, "post_id": 56565938, "comment_id": 99716974, "body": "There are types at runtime, it&#39;s the prototype of your object. Not all types in TypeScript map to what JavaScript considers a type. If you had an actual <code>class Book</code> and called <code>new Book()</code> your console.log would say that it&#39;s a Book. However, you are just creating a raw object that matches the interface because TS is duck typed"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560366914, "post_id": 56565938, "comment_id": 99717026, "body": "Side note and pet peeve: A map function without a <code>return</code> means you&#39;re doing it wrong. The map iterator should not have side effects. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map#Description\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a> <code>Since map builds a new array, using it when you aren&#39;t using the returned array is an anti-pattern; use forEach or for-of instead. Signs you shouldn&#39;t be using map: A) You&#39;re not using the array it returns, and&#47;or B) You&#39;re not returning a value from the callback.</code>"}, {"owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "reply_to_user": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560369813, "post_id": 56565938, "comment_id": 99718312, "body": "@JuanMendes, thanks for the catch.  I had caught that in my test code after posting this thread but forgot to update my code here on SO."}], "answers": [{"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560367123, "post_id": 56568888, "comment_id": 99717117, "body": "This is actually almost a good solution, but it&#39;s not complete, you are not ignoring the new book being created; without an explanation, it&#39;s not very useful to those who don&#39;t already know the answer"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 0, "last_activity_date": 1560367365, "last_edit_date": 1560367365, "creation_date": 1560366490, "answer_id": 56568888, "question_id": 56565938, "link": "https://stackoverflow.com/questions/56565938/why-cant-i-cast-the-results-of-an-object-spread-with-typescript/56568888#56568888", "title": "Why can&#39;t I cast the results of an object spread with TypeScript?", "body": "<p>What about this code, you can pass an object to the <code>constructor</code> and create an instance of the same by below technique</p>\n\n<pre><code> class Book implements IBook {\n   id: number;\n   name: string;\n   authorName: string;\n   steps : Step[] ;\n   constructor(params: IBook) {\n     Object.assign(this, params);\n   }\n }\n\n class Step implements IStep {\n    id: number;\n    name: string;\n    status: string = \"unknown\";\n    processing: boolean = false;\n    constructor(params: IStep) {\n      Object.assign(this, params);\n    }\n }\n\n\nvar list : Book[] = data.map((bitem:any)=&gt; {\n      var book = new Book(bitem);\n      console.log(book) //Shows 'object' not 'Book'\n      var steps = bitem.steps.map(sitem =&gt; (new Step(sitem)));\n      book.steps = steps;\n      retrun book;\n });\n</code></pre>\n\n<p>working sample <a href=\"https://stackblitz.com/edit/typescript-cfhl9b\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 8691, "user_id": 372296, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3a0300d506022a067fed1599cd48f91?s=128&d=identicon&r=PG", "display_name": "RHarris", "link": "https://stackoverflow.com/users/372296/rharris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 0, "accepted_answer_id": 56568888, "answer_count": 1, "score": 0, "last_activity_date": 1560370263, "creation_date": 1560354099, "last_edit_date": 1560370263, "question_id": 56565938, "link": "https://stackoverflow.com/questions/56565938/why-cant-i-cast-the-results-of-an-object-spread-with-typescript", "title": "Why can&#39;t I cast the results of an object spread with TypeScript?", "body": "<p><strong>Not A Duplicate</strong></p>\n\n<p>My question had nothing to do with trying to find the type nor the class name of an object.  My question was about \"casting\" an object to a type -- which stemmed from a misunderstanding of TypeScript and how it worked.  It also related to the use of Object spread while casting.</p>\n\n<p><strong>Original Question</strong></p>\n\n<p>I want to use object spread to map data from the server into a class defined on my client.  I was trying to get away from having to pass data to a constructor and map each property with a loop <a href=\"https://stackoverflow.com/questions/45474245/typescript-how-do-i-pass-an-object-to-a-constructor-of-class-for-instantiation\">as illustrated here</a>.  I tried the following:</p>\n\n<pre><code>//Data from server\nvar data = [\n   {id: 1, name: \"Book 1\", authorName: \"Author 1\", \n     steps: [\n       {id: 1, name: \"Step 1\"},\n       {id: 2, name: \"Step 2\"}\n     ]},\n   {id: 2, name: \"Book 2\", authorName: \"Author 2\",\n     steps: [\n       {id: 1, name: \"Step 1\"},\n       {id: 3, name: \"Step 3\"}\n     ]}\n ];\n\n interface IBook {\n    id: number;\n    name: string;\n    authorName: string;\n    steps:IStep[];\n }\n\n interface IStep {\n    id: number;\n    name: string;\n    status: string;\n    processing: boolean;\n }\n\n class Book implements IBook {\n   id: number;\n   name: string;\n   authorName: string;\n   steps : Step[] ;\n }\n\n class Step implements IStep {\n    id: number;\n    name: string;\n    status: string = \"unknown\";\n    processed: boolean = false;\n }\n\n var list : Book[] = data.map(bitem=&gt; {\n      var book = &lt;Book&gt;{ ...bitem, ...new Book() } as Book;\n      console.log(book) //Shows 'object' not 'Book'\n      var steps = bitem.steps.map(sitem =&gt; &lt;Step&gt;{ ...sitem, ...new Step() } as Step;);]\n      book.steps = steps;\n      return book;\n }\n\n console.log(typeof list[0]); //Expect 'Book' but get 'object'\n</code></pre>\n\n<p>I'm curious why the cast to type <code>Book</code> yields an <code>object</code> instead?  Is there an easy way to accomplish this or do I need to use the constructor method to accomplish this kind of mapping?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 56338, "user_id": 4265352, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lzAUc5pYb24/AAAAAAAAAAI/AAAAAAAAAGQ/q3h7bZUnqrs/photo.jpg?sz=128", "display_name": "axiac", "link": "https://stackoverflow.com/users/4265352/axiac"}, "edited": false, "score": 0, "creation_date": 1560353968, "post_id": 56565862, "comment_id": 99711124, "body": "Run <code>tsc</code> using your package manager (Npm, Yarn or whatever you use to manage the packages of your projects). It launches the instance of <code>tsc</code> installed in the current project and ignores the globally installed one (i.e. you don&#39;t even need to uninstall it)."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1560354216, "post_id": 56565862, "comment_id": 99711248, "body": "@apokryfos - I&#39;d post that as an answer, not a comment."}, {"owner": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "edited": false, "score": 0, "creation_date": 1560354296, "post_id": 56565862, "comment_id": 99711292, "body": "unfortunately I have to run tsc and not npx as I am also using WebStorm, so I need everything in Windows to pickup the local tsc.exe"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1560354331, "post_id": 56565862, "comment_id": 99711312, "body": "@born2net - WebStorm can&#39;t either use <code>npx</code> or handle this for you? That seems surprising."}, {"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 1, "creation_date": 1560354411, "post_id": 56565862, "comment_id": 99711350, "body": "There should be an option to specify where typescript is in webstorm. There is one in PhpStorm and I think those two share a core. Just try searching through the options"}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 2, "last_activity_date": 1560354090, "creation_date": 1560354090, "answer_id": 56565934, "question_id": 56565862, "link": "https://stackoverflow.com/questions/56565862/how-to-run-typescript-from-local-directory-instead-of-global/56565934#56565934", "title": "How to run TypeScript from local directory instead of global", "body": "<p>You can add an entry to <code>scripts</code> in <code>package.json</code> to not only run <code>tsc</code> but fill in the standard arguments you want, e.g.:</p>\n\n<pre><code>\"scripts\": {\n  \"tsc\": \"tsc your args here\"\n},\n</code></pre>\n\n<p>and then use</p>\n\n<pre>\nnpm run tsc\n</pre>\n\n<p>That will run the one from <code>node_modules</code>, not the global one.</p>\n\n<p>For ad-hoc commands, see <a href=\"https://stackoverflow.com/a/56566007/157247\">apokryfos's <code>npx</code> answer</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "edited": false, "score": 0, "creation_date": 1560354398, "post_id": 56566007, "comment_id": 99711343, "body": "thanks for the answer, that may work for command line, but I also need WebStorm to pickup the ./node_modules tsc as well.. is there a way to tell everything in the env to pickup tsc from specific path?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "edited": false, "score": 2, "creation_date": 1560354443, "post_id": 56566007, "comment_id": 99711376, "body": "@born2net - I think you may want to ask that as a separate, WebStorm-specific question. The question you asked doesn&#39;t mention WebStorm (and <i>does</i> show a command line example) and so has attracted generic command-line answers. It wouldn&#39;t be appropriate to change the question once it has answers."}], "tags": [], "owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "is_accepted": false, "score": 1, "last_activity_date": 1560354318, "creation_date": 1560354318, "answer_id": 56566007, "question_id": 56565862, "link": "https://stackoverflow.com/questions/56565862/how-to-run-typescript-from-local-directory-instead-of-global/56566007#56566007", "title": "How to run TypeScript from local directory instead of global", "body": "<p>You can use <a href=\"https://www.npmjs.com/package/npx\" rel=\"nofollow noreferrer\"><code>npx</code></a> to run locally installed executables </p>\n\n<p>Example:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>npx tsc --version\n</code></pre>\n\n<p>If your package manager of choice is <code>yarn</code> then doing <code>yarn tsc --version</code> should also work but that is assuming there is no script named <code>tsc</code> in your package.json.</p>\n"}], "owner": {"reputation": 19975, "user_id": 2040670, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/65f723dfb968ffe9d50bb524953aac44?s=128&d=identicon&r=PG", "display_name": "born2net", "link": "https://stackoverflow.com/users/2040670/born2net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560354542, "creation_date": 1560353800, "last_edit_date": 1560354542, "question_id": 56565862, "link": "https://stackoverflow.com/questions/56565862/how-to-run-typescript-from-local-directory-instead-of-global", "title": "How to run TypeScript from local directory instead of global", "body": "<p>So I have multiple projects each using diff type of TypeScript, so I uninstalled from global and have it local to my project but when I run tsc I get an error of:</p>\n\n<pre>\n$ tsc --version\ninternal/modules/cjs/loader.js:583\n    throw err;\n    ^\n\nError: Cannot find module 'C:\\Program Files\\nodejs\\node_modules\\typescript\\bin\\tsc'\n    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:581:15)\n    at Function.Module._load (internal/modules/cjs/loader.js:507:25)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:742:12)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:743:3)\n\nroot@DESKTOP-N8OLDFM /cygdrive/c/msweb/studiolite\n$\n</pre>\n\n<p>and I did add the following to my PATH:</p>\n\n<pre>\n/cygdrive/C/msweb/studiolite/node_modules/typescript/bin\n</pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "forms", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 1, "creation_date": 1560362704, "post_id": 56565813, "comment_id": 99715237, "body": "I don&#39;t think I can write code but you&#39;d approach this using FormArray and nest new Client-based FormGroups within them. You could use JSON to output the form controls if you feel the need to &quot;model&quot; each form type. Am I on the right path?"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "edited": false, "score": 0, "creation_date": 1560378584, "post_id": 56565813, "comment_id": 99721118, "body": "ask to google for &quot;angular dynamic forms&quot; is a good sugestion?"}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1560366465, "post_id": 56568214, "comment_id": 99716826, "body": "That&#39;s cool but I don&#39;t understand how could I could build the form."}, {"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "reply_to_user": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1560390237, "post_id": 56568214, "comment_id": 99723143, "body": "Your form has to be dynamic as the user adds new group types right? Each group type should be a FormGroup added to the main FormArray."}, {"owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "edited": false, "score": 0, "creation_date": 1560402721, "post_id": 56568214, "comment_id": 99725546, "body": "It doesn&#39;t need to be dynamic, I just want it to hold the same fields as the class without me having to define them (my 2nd code block in the question)."}], "tags": [], "owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "is_accepted": false, "score": 1, "last_activity_date": 1560363592, "creation_date": 1560363592, "answer_id": 56568214, "question_id": 56565813, "link": "https://stackoverflow.com/questions/56565813/angular-reactive-forms-generate-form-controls-from-type/56568214#56568214", "title": "Angular Reactive Forms Generate Form Controls from Type", "body": "<p>I kind of wrote pseudo code here and I hope it helps.</p>\n\n<p><strong>Component</strong></p>\n\n<pre><code>//public form: FormGroup;\n//private fb: FormBuilder\n\nform = &lt;FormGroup&gt;this.fb.group({\n    forms: this.fb.array(null),\n});\n\naddFormByType(formType){\n    newForm: FormGroup = new FormGroup();\n    // build up the form \n    // possibly by looping through the formType JSON model\n    // or call a method to offload form creation by formType \n    (&lt;FormArray&gt;this.form.get('forms')).push(newForm);\n}\n</code></pre>\n\n<p><strong>Template (view)</strong>\nFrom <a href=\"https://angular.io/api/forms/FormArrayName#example\" rel=\"nofollow noreferrer\">Angular docs</a></p>\n\n<pre><code>  &lt;div formArrayName=\"forms\"&gt;\n    &lt;div *ngFor=\"let city of form.controls['forms'].controls; index as i\"&gt;\n      &lt;input formControlName=\"{{i}}\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Higher level: I would create a ControlValueAccessor (CVA) component for each form type. Then your code will be easier to work with and maintain.</p>\n"}], "owner": {"reputation": 377, "user_id": 9665681, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x17Yl__N30Y/AAAAAAAAAAI/AAAAAAAAM9c/WcPRD4zlV7Y/photo.jpg?sz=128", "display_name": "Kaloyan Manev", "link": "https://stackoverflow.com/users/9665681/kaloyan-manev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1560366727, "creation_date": 1560353635, "last_edit_date": 1560366727, "question_id": 56565813, "link": "https://stackoverflow.com/questions/56565813/angular-reactive-forms-generate-form-controls-from-type", "title": "Angular Reactive Forms Generate Form Controls from Type", "body": "<p>So, I have my Client class in TypeScript, let's say I have:</p>\n\n<pre><code>export class Client {\n   id: string = '';\n   name: string = '';\n   email: string = '';\n}\n</code></pre>\n\n<p>Now every time I want to create a new Client I need a form, that's how I build it:</p>\n\n<pre><code>this.currentClient = new FormGroup({\n  id: new FormControl(null, Validators.required),\n  name: new FormControl(null, Validators.required),\n  email: new FormControl(false)\n}\n</code></pre>\n\n<p>Then I add the form to the html:</p>\n\n<pre><code>    &lt;form [formGroup]=\"currentClient\" (submit)=\"submit($event)\"&gt;\n        &lt;div class=\"form-group\"&gt;\n            &lt;input type=\"text\" formControlName=\"id\" class=\"form-control\" placeholder=\"Id\"&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            &lt;input type=\"text\" formControlName=\"name\" class=\"form-control\" placeholder=\"Name\"&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"form-group\"&gt;\n            &lt;input type=\"text\" formControlName=\"email\" class=\"form-control\" placeholder=\"Email\"&gt;\n        &lt;/div&gt;\n\n        &lt;button  [disabled]=\"currentContragent.invalid\" class=\"btn btn-primary\" type=\"submit\"&gt;Submit&lt;/button&gt;\n\n    &lt;/form&gt;\n</code></pre>\n\n<p>That's fine but I have some really big classes with more than 30 fields inside. For each, I have to create a TS class, a form group and I have to add it to the html. Is there anything like:</p>\n\n<pre><code>this.currentClient = formGroupFromType(typeof(Client));\n</code></pre>\n\n<p>And then something that could automatically generate my html using ng-for or something?</p>\n\n<p>I was thinking of building my own class that could hold property name, type, default value, isRequired and some other information like what editor (textbox, numeric textbox, etc). Having a list of properties defined like this could be used to generate the form group and the html, but it won't be strongly typed as I don't see how it could be connected to the Client class.</p>\n\n<p>Any ideas or suggestions?</p>\n"}, {"tags": ["javascript", "typescript", "reduce"], "comments": [{"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1560355365, "post_id": 56565739, "comment_id": 99711889, "body": "You cannot assign props to an object under these conditions. Try to replace <code>object</code> in <code>map: object</code> with this: <code>[propName: string]: any</code> like this: <code>map: {[propName: string]: any}</code>"}, {"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "edited": false, "score": 0, "creation_date": 1560355460, "post_id": 56565739, "comment_id": 99711951, "body": "Oh yeah that&#39;s bit of a problem too"}], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1560355486, "post_id": 56566304, "comment_id": 99711963, "body": "Declaring <code>map: Record&lt;myInterface[&#39;id&#39;], myInterface&gt;</code> might be better, in case <code>id</code> is constrained more than <code>string | number | symbol</code>"}, {"owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1560355595, "post_id": 56566304, "comment_id": 99712012, "body": "yeah, that&#39;s type safe"}], "tags": [], "owner": {"reputation": 5744, "user_id": 9680534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Avin Kavish", "link": "https://stackoverflow.com/users/9680534/avin-kavish"}, "is_accepted": false, "score": 0, "last_activity_date": 1560355817, "last_edit_date": 1560355817, "creation_date": 1560355392, "answer_id": 56566304, "question_id": 56565739, "link": "https://stackoverflow.com/questions/56565739/how-can-i-rewrite-this-reduce-function-in-typescript/56566304#56566304", "title": "How can I rewrite this reduce function in typescript?", "body": "<p>Your map is of type object. You have to provide an object as the initial value for the reduce function.</p>\n\n<pre><code>myArray: data.items.reduce(\n   (map: Record&lt;myInterface['id'], myInterface&gt;, obj: myInterface): Record&lt;myInterface['id'], myInterface&gt;  =&gt; \n         { map[obj.id] = obj; return map; }, \n    {})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 510, "user_id": 7331107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb38005afef63402c5202085735b99b4?s=128&d=identicon&r=PG&f=1", "display_name": "avenmia", "link": "https://stackoverflow.com/users/7331107/avenmia"}, "is_accepted": true, "score": 1, "last_activity_date": 1560356422, "creation_date": 1560356422, "answer_id": 56566566, "question_id": 56565739, "link": "https://stackoverflow.com/questions/56565739/how-can-i-rewrite-this-reduce-function-in-typescript/56566566#56566566", "title": "How can I rewrite this reduce function in typescript?", "body": "<p>Patrick Robert's answer fixed it. Thank you! </p>\n\n<pre><code> myArray: data.items.reduce( (map: Record&lt;myInterface['id'], myInterface&gt;, obj: myInterface) : object  =&gt; { map[obj.id] = obj; return map; }, {})\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 7331107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb38005afef63402c5202085735b99b4?s=128&d=identicon&r=PG&f=1", "display_name": "avenmia", "link": "https://stackoverflow.com/users/7331107/avenmia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1313, "favorite_count": 0, "accepted_answer_id": 56566566, "answer_count": 2, "score": -1, "last_activity_date": 1560356422, "creation_date": 1560353407, "last_edit_date": 1560355579, "question_id": 56565739, "link": "https://stackoverflow.com/questions/56565739/how-can-i-rewrite-this-reduce-function-in-typescript", "title": "How can I rewrite this reduce function in typescript?", "body": "<p>I'm currently trying to convert some react native code to typescript, and there's a few reduce functions that are throwing errors. How can I rewrite this so that I do not have type issues when I run?</p>\n\n<p>I've tried different ways of trying to type the function as well as the expected output, but no luck so far.</p>\n\n<pre><code>myArray: data.items.reduce( (map: object, obj: myInterface) : object  =&gt; { map[obj.id] = obj; return map; }, [])\n</code></pre>\n\n<p>the myArray item of my object should be populated with an array of items defined in myInterface. When I run I'm currently getting the following error. </p>\n\n<pre><code>TypeScript error in MyPath/:\n\nElement implicitly has an 'any' type because expression of type 'number' can't be used to index type '{}'.\n  No index signature with a parameter of type 'number' was found on type '{}'.  TS7053\n\n    128 |                 appVersion: data.version || \"\",\n    129 |                 offline: false,\n    130 |                 myArray: data.items.reduce( (map: object, obj: myInterface) : object  =&gt; { map[obj.id] = obj; return map; }, [])\n        |                                                                                           ^\n    131 |             });\n</code></pre>\n"}, {"tags": ["typescript", "material-ui"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560353618, "post_id": 56565533, "comment_id": 99710953, "body": "Could you please add a link to the documentation for the new styled API."}, {"owner": {"reputation": 176, "user_id": 3512854, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4295821accfcfd768cde4e78f5b39d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Morphex", "link": "https://stackoverflow.com/users/3512854/morphex"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560417955, "post_id": 56565533, "comment_id": 99732584, "body": "@ShaunLuttin here it is :  <a href=\"https://material-ui.com/styles/api/#styled-component-styles-options-component\" rel=\"nofollow noreferrer\">material-ui.com/styles/api/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 9878347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b75ccc0d6bded11dfd70ee72364ad93b?s=128&d=identicon&r=PG&f=1", "display_name": "Micha", "link": "https://stackoverflow.com/users/9878347/micha"}, "is_accepted": true, "score": 0, "last_activity_date": 1561368531, "creation_date": 1561368531, "answer_id": 56733613, "question_id": 56565533, "link": "https://stackoverflow.com/questions/56565533/how-to-use-styled-api-with-typescript-and-props/56733613#56733613", "title": "How to use Styled API with typescript and props", "body": "<p>I use props like this:</p>\n\n<pre><code>const MyCard = styled(({backgroundColor, color, ...other}) =&gt; &lt;Card {...other}/&gt;)({\n  height: '100%',\n  backgroundColor: props =&gt; props.backgroundColor,\n  color: props =&gt; props.color,\n});\n</code></pre>\n\n<p>so for your example this should work:</p>\n\n<pre><code>const FixedWidthCell = styled(({width, ...other}) =&gt; &lt;TableCell{...other}/&gt;)({\n  width: props =&gt; props.width ? props.width : 20,\n  textAlign: \"center\",\n})) \n</code></pre>\n"}], "owner": {"reputation": 176, "user_id": 3512854, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4295821accfcfd768cde4e78f5b39d8c?s=128&d=identicon&r=PG&f=1", "display_name": "Morphex", "link": "https://stackoverflow.com/users/3512854/morphex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56733613, "answer_count": 1, "score": 0, "last_activity_date": 1561368531, "creation_date": 1560352656, "question_id": 56565533, "link": "https://stackoverflow.com/questions/56565533/how-to-use-styled-api-with-typescript-and-props", "title": "How to use Styled API with typescript and props", "body": "<p>I am trying to styled a component (using the new styled api, not to be confused with StyleComponents).</p>\n\n<pre><code>const FixedWidthCell = styled(TableCell)((props: { width: number }) =&gt; ({\n  width: props.width || 20,\n  textAlign: \"center\",\n\n})) \n</code></pre>\n\n<p>the issue is that TS complains that width is not part of the components props when using. My work around is this:</p>\n\n<pre><code>const FixedWidthCell = styled(TableCell)((props: { width: number }) =&gt; ({\n  width: props.width || 20,\n  textAlign: \"center\",\n})) as React.ComponentType&lt;TableCellProps &amp; { width?: number }&gt;;\n</code></pre>\n\n<p>But that makes me lose the typings inside the \"css properties\", not a big thing, but I am pretty sure I am doing something wrong, is there a better way of doing this?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jsx"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1560352061, "post_id": 56565264, "comment_id": 99710013, "body": "It depends on your setup. Both typescript and babel (usually what is used for the react transform) support source maps. If you create the application with the react command line tool it should have builtin support for source maps and it should allow step by step debugging."}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1560352425, "post_id": 56565264, "comment_id": 99710215, "body": "@TitianCernicova-Dragomir  if you write your comment as answer, then I can up-vote and accept it. Maybe some details how to set this up would be nice. Links to docs are enough for me. Thank you."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1560352839, "post_id": 56565264, "comment_id": 99710461, "body": "I put it as a comment because I don&#39;t know the ins and outs of how this works in react .. all I can say is create your aplication with <a href=\"https://github.com/facebook/create-react-app\" rel=\"nofollow noreferrer\">github.com/facebook/create-react-app</a> and it should &quot;just work&quot; If it does not, I don&#39;t really have a clue. Or if you have an app already setup I would not venture an answer on how to enable source maps with tsx in babel"}], "owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560352465, "creation_date": 1560351839, "last_edit_date": 1560352465, "question_id": 56565264, "link": "https://stackoverflow.com/questions/56565264/tsx-files-typescript-jsx-debugging", "title": "tsx-Files (TypeScript JSX): Debugging?", "body": "<p>If I use tsx files (TypeScript JSX) in React, there are two transformations:</p>\n\n<ol>\n<li>TypeScript</li>\n<li>JSX</li>\n</ol>\n\n<p>I guess it is not possible to debug this step by step since the JS interpreter does not know which lines in my tsx files get executed. But that's just a guess. Up to now, I am just reading about tsx.</p>\n\n<p>Is it possible to debug this JavaScript code and see this debugging process in my (tsx) code?</p>\n\n<p>Background: I want to learn react. Up to now, I developed Python for 20 years. I know some JavaScript and jquery.</p>\n\n<p>(if you have hints on how to develop and debug tsx, please leave a comment)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560363123, "post_id": 56565226, "comment_id": 99715429, "body": "Where is <code>.&#47;src</code> in your directory structure?"}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1560407479, "post_id": 56568153, "comment_id": 99727142, "body": "I&#39;ve updated my <code>tsconfig.json</code> files - I&#39;m now able to compile, but as soon as I try to run the compiled code via <code>node dist&#47;foo&#47;main.js</code> I get the same error (<code>Cannot find module @bar&#47;shared</code>)"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1560441192, "post_id": 56568153, "comment_id": 99746704, "body": "@nehalist You need to configure the path mappings for your runtime too. I added some details to the answer."}], "tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 0, "last_activity_date": 1560441168, "last_edit_date": 1560441168, "creation_date": 1560363355, "answer_id": 56568153, "question_id": 56565226, "link": "https://stackoverflow.com/questions/56565226/cannot-find-module-when-using-custom-import-paths-with-multiple-tsconfigs/56568153#56568153", "title": "Cannot find module when using custom import paths with multiple tsconfigs", "body": "<h3>Short Answer</h3>\n\n<p>In your <code>foo/tsconfig.json</code> file, delete the <code>baseUrl</code> entry, because it is incorrectly overriding the <code>baseUrl</code> entry in the root <code>tsconfig.json</code> file.</p>\n\n<h3>Details</h3>\n\n<p>The <code>baseUrl</code> value is the base directory from which to resolve both non-relative module names and <code>paths</code> mapping entries. As a result, when resolving the <code>@bar/shared</code> mapping entry, the module resolution strategy searched relative to the <code>baseUrl</code> of <code>./src</code>. Further, since <code>./src</code> is a relative path, its full path is based on the location of its <code>/foo/tsconfig.json</code> file. Thus, the path mapping entry resolved to <code>./foo/src/projects/bar/</code>.</p>\n\n<p>All these details and more are available in <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">the module resolution docs</a>.</p>\n\n<h3><code>--traceResolution</code></h3>\n\n<p>A great tool for troubleshooting these errors is to build with the <code>--traceResolution</code> option. For your project set up, building with it from the <code>foo/</code> directory includes this output: </p>\n\n<blockquote>\n  <p>Loading module as file / folder, candidate module location <code>'C:/dev/temp/foo/src/projects/bar'</code>, target file type 'TypeScript'.</p>\n</blockquote>\n\n<h3>Runtime</h3>\n\n<p>TypeScript path mapping allows path mappings but does not re-write those paths. The runtime (in your case <code>node</code>) must know how to find <code>@bar/shared</code>. You will need to configure your runtime with the path mappings too. Here is a <code>node</code> package that lets you do that: <a href=\"https://www.npmjs.com/package/module-alias\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/module-alias</a></p>\n"}], "owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560441168, "creation_date": 1560351695, "last_edit_date": 1560407420, "question_id": 56565226, "link": "https://stackoverflow.com/questions/56565226/cannot-find-module-when-using-custom-import-paths-with-multiple-tsconfigs", "title": "Cannot find module when using custom import paths with multiple tsconfigs", "body": "<p>I've got a project with multiple <code>tsconfig.json</code> files. I'd like to shorten all imports, but for some reason shortened imports doesn't work in a specific scenario.</p>\n\n<p>The project structure:</p>\n\n<pre><code>foo/\n|  main.ts\n|  tsconfig.json\nprojects/\n|  bar/\n|    index.ts\ntsconfig.json\n</code></pre>\n\n<p>Whenever I want to compile <code>foo/main.ts</code> I get the following error: <code>Cannot find module @bar/shared</code>.</p>\n\n<p>Some details:</p>\n\n<p>The <code>projects/bar/index.ts</code> file simply exports a plain class: <code>export class Foo {}</code></p>\n\n<p>The <code>foo/main.ts</code> tries to import the <code>Foo</code> class:</p>\n\n<pre><code>import {Foo} from '@bar/shared';\n</code></pre>\n\n<p>Last but not least the <code>tsconfig.json</code> within <code>foo</code>:</p>\n\n<pre><code>{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"target\": \"es2015\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"resolveJsonModule\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"types\": [\n      \"node\"\n    ],\n    \"outDir\": \"../dist/foo\"\n  }\n}\n</code></pre>\n\n<p>And the root <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"importHelpers\": true,\n    \"target\": \"es5\",\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2018\",\n      \"dom\"\n    ],\n    \"paths\": {\n      \"@bar/shared\": [\"projects/bar\"]\n    }\n  }\n}\n</code></pre>\n\n<p>My IDE is completely satisfied - but I'm unable to compile.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 1, "creation_date": 1560351765, "post_id": 56565208, "comment_id": 99709833, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42405038/call-a-function-in-a-component-from-another-component\">call a function in a component from another component</a>"}, {"owner": {"reputation": 1537, "user_id": 7083390, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIVdu7xUozo/AAAAAAAAAAI/AAAAAAAAB6I/1bUIYnGZzEs/photo.jpg?sz=128", "display_name": "Ragulan", "link": "https://stackoverflow.com/users/7083390/ragulan"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1560352154, "post_id": 56565208, "comment_id": 99710064, "body": "in there it has a parent-child relation. but here there are no relation. and i need to get a instant of component 1 in component 2"}, {"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 2, "creation_date": 1560352534, "post_id": 56565208, "comment_id": 99710277, "body": "No, there is not. It is even mentioned in the question: <i>these two components are not related to each other (sibling, parent and child, ...)</i>. Notice the word &#39;not&#39;. Also, the answer is providing you with a possible solution; using a shared service."}], "answers": [{"comments": [{"owner": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 1, "creation_date": 1560352660, "post_id": 56565520, "comment_id": 99710348, "body": "He needs a reference to an instantiated component, not a new one."}, {"owner": {"reputation": 171, "user_id": 6411248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9oH4.jpg?s=128&g=1", "display_name": "Ben Brown", "link": "https://stackoverflow.com/users/6411248/ben-brown"}, "reply_to_user": {"reputation": 5261, "user_id": 858757, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mMQgQ.png?s=128&g=1", "display_name": "Silvermind", "link": "https://stackoverflow.com/users/858757/silvermind"}, "edited": false, "score": 0, "creation_date": 1560352701, "post_id": 56565520, "comment_id": 99710372, "body": "If that&#39;s the case, he could use redux and a service to call the existing component."}, {"owner": {"reputation": 1537, "user_id": 7083390, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIVdu7xUozo/AAAAAAAAAAI/AAAAAAAAB6I/1bUIYnGZzEs/photo.jpg?sz=128", "display_name": "Ragulan", "link": "https://stackoverflow.com/users/7083390/ragulan"}, "edited": false, "score": 0, "creation_date": 1560353030, "post_id": 56565520, "comment_id": 99710578, "body": "here there are no relation between these components"}], "tags": [], "owner": {"reputation": 171, "user_id": 6411248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j9oH4.jpg?s=128&g=1", "display_name": "Ben Brown", "link": "https://stackoverflow.com/users/6411248/ben-brown"}, "is_accepted": false, "score": -2, "last_activity_date": 1560352881, "last_edit_date": 1560352881, "creation_date": 1560352628, "answer_id": 56565520, "question_id": 56565208, "link": "https://stackoverflow.com/questions/56565208/call-already-existing-components-method-in-another-component/56565520#56565520", "title": "call already existing component&#39;s method in another component", "body": "<p>I would just create a service that has a handle on the other component to where you can pass the reference point of that component into:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { ComponentService } from 'filepathofyourcomponentservice';\n@Component({\n    selector: 'app-component2',\n    template:\n    `\n    &lt;p&gt;text&lt;/p&gt;\n    `\n})\nexport class Component2 {\n    ViewChild('component) component: Component;\n\n    constructor(private componentService: ComponentService) { \n        this.componentService.tapIntoComponent(this.component);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 2, "last_activity_date": 1560352937, "creation_date": 1560352937, "answer_id": 56565613, "question_id": 56565208, "link": "https://stackoverflow.com/questions/56565208/call-already-existing-components-method-in-another-component/56565613#56565613", "title": "call already existing component&#39;s method in another component", "body": "<p>You can forward component <strong>A</strong> to the other component <strong>B</strong> via the parent template that contains them. There is no repository of component instances that you can query. If you do not want to use the template to connect between the two, then you have to use a shared service instead.</p>\n\n<p>app.component.html:</p>\n\n<pre><code>  &lt;component-a #refA&gt;&lt;/component-a&gt;\n  &lt;component-b [refA]=\"refA\"&gt;&lt;/component-b&gt;\n\n  @Component({...})\n  export class ComponentA {\n      public someMethod() { }\n  }\n\n  @Component({...})\n  export class ComponentB implement OnInit {\n      @Input() refA: ComponentA;\n\n      public ngOnInit() {\n          if(this.refA) {\n             this.refA.someMethod();\n          }\n      }\n  }\n</code></pre>\n\n<p>The above has disadvantages.</p>\n\n<ul>\n<li>you can trigger a <em>this expression has changed after being checked</em> error.</li>\n<li>you need to mark the view in <code>ComponentA</code> as dirty if you mutate the component state form outside.</li>\n</ul>\n\n<p>I don't recommend the above, because mutating the internal state of another component from outside the view is an anti-pattern. It is better to use a shared service and observables.</p>\n"}], "owner": {"reputation": 1537, "user_id": 7083390, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIVdu7xUozo/AAAAAAAAAAI/AAAAAAAAB6I/1bUIYnGZzEs/photo.jpg?sz=128", "display_name": "Ragulan", "link": "https://stackoverflow.com/users/7083390/ragulan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560352937, "creation_date": 1560351632, "last_edit_date": 1560352319, "question_id": 56565208, "link": "https://stackoverflow.com/questions/56565208/call-already-existing-components-method-in-another-component", "title": "call already existing component&#39;s method in another component", "body": "<p><strong>component 1</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n@Component({\n    selector: 'app-component1',\n    template:\n    `\n    &lt;button (click)=\"submit()\"&gt;&lt;/button&gt;\n    `\n})\nexport class Component {\n\n    constructor() { \n    }\n    someMethod(): void {\n    }\n}\n</code></pre>\n\n<p><strong>component 2</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\n    @Component({\n        selector: 'app-component2',\n        template:\n        `\n        &lt;p&gt;text&lt;/p&gt;\n        `\n    })\n    export class Component2 {\n\n        constructor() { \n        }\n    }\n</code></pre>\n\n<p>i want to  call the <strong>component 1</strong>  someMethod() from <strong>component 2</strong></p>\n\n<blockquote>\n  <p><strong>component 1</strong> and <strong>component 2</strong> haven't any parent/child relation.</p>\n</blockquote>\n\n<p>is there any way to get the instant of <strong>component 1</strong> in <strong>component 2</strong></p>\n\n<p>in java something like this</p>\n\n<pre><code>MyClass myClass = applicationContext.getBean(\"myClass\");\n</code></pre>\n\n<p>is there any possible way like this in angular without <code>BehaviorSubject</code> and <code>EventEmitter</code>?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "angular-httpclient"], "answers": [{"comments": [{"owner": {"reputation": 1405, "user_id": 1052870, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7b16d666cca4f44fd432ddc96908d090?s=128&d=identicon&r=PG", "display_name": "wwarby", "link": "https://stackoverflow.com/users/1052870/wwarby"}, "edited": false, "score": 0, "creation_date": 1560367961, "post_id": 56565343, "comment_id": 99717480, "body": "Ah thanks so much - that was exactly what I needed. I tweaked the solution a little from this (will post it in the question in a moment) but this got me where I needed to go. I didn&#39;t end up needing the first map() operator because filters$ itself returns the result of getHttpParams() and I had to add a take(1) operator after share replay to get it to play ball (I don&#39;t fully understand why) but it works perfectly."}, {"owner": {"reputation": 1405, "user_id": 1052870, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7b16d666cca4f44fd432ddc96908d090?s=128&d=identicon&r=PG", "display_name": "wwarby", "link": "https://stackoverflow.com/users/1052870/wwarby"}, "edited": false, "score": 0, "creation_date": 1560854295, "post_id": 56565343, "comment_id": 99864110, "body": "Update: so now I want to update my dashboard when either of two other observables emit new values. Not got a clue how to extend this solution to cope with that. Any suggestions would be appreciated."}], "tags": [], "owner": {"reputation": 21940, "user_id": 5394220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U2VGk.jpg?s=128&g=1", "display_name": "Jota.Toledo", "link": "https://stackoverflow.com/users/5394220/jota-toledo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560352061, "creation_date": 1560352061, "answer_id": 56565343, "question_id": 56565170, "link": "https://stackoverflow.com/questions/56565170/how-can-i-re-call-an-angular-httpclient-observable-when-another-observable-chang/56565343#56565343", "title": "How can I re-call an Angular HttpClient observable when another observable changes?", "body": "<p>Try with the following:</p>\n\n<pre><code>import {map, switchMap, shareReplay } from 'rxjs/operators';\n\nexport class FooComponent {\n  readonly dashboard$: Observable&lt;DashboardDto&gt;;\n\n  ctor(...){\n    this.dashboard$ = this.globalFiltersService.filters$.pipe(\n      // map filter event to the result of invoking `GlobalFiltersService#getParams`\n      map(_ =&gt; this.globalFiltersService.getHttpParams()),\n      // maps the params to a new \"inner observable\" and flatten the result.\n      // `switchMap` will cancel the \"inner observable\" whenever a new event is\n      // emitted by the \"source observable\"\n      switchMap(params =&gt; this.http.get&lt;DashboardDto&gt;(`${environment.apiBase}network/dashboard`, { params })),\n      // avoid retrigering the HTTP request whenever a new subscriber is registered \n      // by sharing the last value of this stream\n      shareReplay(1)\n    );\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1405, "user_id": 1052870, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7b16d666cca4f44fd432ddc96908d090?s=128&d=identicon&r=PG", "display_name": "wwarby", "link": "https://stackoverflow.com/users/1052870/wwarby"}, "edited": false, "score": 1, "creation_date": 1560368149, "post_id": 56565623, "comment_id": 99717570, "body": "Thanks Ben - that was actually pretty close to what I had already implemented in the GlobalFiltersService I had created. I really wanted to avoid getting into redux - this is a fairly small requirement within a larger application and I get the impression redux has tended to be used in a lot of angular applications lately that don&#39;t really need it (at least that&#39;s what I&#39;ve read). Simple observables provide some pretty cool state management capabilities - I just find the library difficult to wrap my head around for some reason."}], "tags": [], "owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "is_accepted": false, "score": 0, "last_activity_date": 1560353850, "last_edit_date": 1560353850, "creation_date": 1560352983, "answer_id": 56565623, "question_id": 56565170, "link": "https://stackoverflow.com/questions/56565170/how-can-i-re-call-an-angular-httpclient-observable-when-another-observable-chang/56565623#56565623", "title": "How can I re-call an Angular HttpClient observable when another observable changes?", "body": "<p>Good question! I had to sync URL params, forms and query results. It led me down the architecture rabbit hole all the way to state management. </p>\n\n<p>TL;DR When there are many elements reliant on most recent data you need to have highly accessible state on that data. The solution is more about architecture than which RXJS method to use.</p>\n\n<p>Here is the service I built as an example <a href=\"https://stackblitz.com/edit/state-with-simple-service?embed=1&amp;file=src/app/state.service.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/state-with-simple-service</a>.</p>\n\n<p>Here were my requirements. (directly applicable to the question's)</p>\n\n<ol>\n<li>share the state of all options (received from form components/URL) </li>\n<li>sync options with URL params </li>\n<li>sync all forms with options</li>\n<li>query for results</li>\n<li>share results</li>\n</ol>\n\n<p>Here's the gist:</p>\n\n<pre><code>export class SearchService {\n    // 1. results object from the endpoint called with the current options\n    private _currentResults = new BehaviorSubject&lt;any[]&gt;([]);\n\n    // 2. current state of URL parameters and Form values\n    private _currentOptions = new BehaviorSubject&lt;Params&gt;({});\n\n    // 3. private options object to manipulate\n    private _options: Params = {};\n</code></pre>\n\n<p>Then access these with getters:</p>\n\n<pre><code>// Any component can subscribe to the current results from options query\npublic get results(): Observable&lt;any[]&gt; {\n    return this._currentResults.asObservable();\n}\n// Any component can subscribe to the current options\npublic get options(): Observable&lt;Params&gt; {\n    return this._currentOptions.asObservable();\n}\n</code></pre>\n\n<p>Update the private Subjects anytime with <code>next()</code></p>\n\n<pre><code>this._currentOptions.next(this._options);\n</code></pre>\n\n<p>Now you have state management without introducing a huge framework like redux.</p>\n"}], "owner": {"reputation": 1405, "user_id": 1052870, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7b16d666cca4f44fd432ddc96908d090?s=128&d=identicon&r=PG", "display_name": "wwarby", "link": "https://stackoverflow.com/users/1052870/wwarby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 1, "accepted_answer_id": 56565343, "answer_count": 2, "score": 4, "last_activity_date": 1576024563, "creation_date": 1560351538, "last_edit_date": 1576024563, "question_id": 56565170, "link": "https://stackoverflow.com/questions/56565170/how-can-i-re-call-an-angular-httpclient-observable-when-another-observable-chang", "title": "How can I re-call an Angular HttpClient observable when another observable changes?", "body": "<p>Big picture, what I'm trying to achieve is a set filters my page header that control the input parameters to several analytics pages in my app. I've encapsulated the functionality of the filters into an Angular service that exposes an observable that emits when changes to the filters occur.</p>\n\n<p>What I want is for services that use those filter values in HttpClient requests to subscribe to changes in the filters and re-run their HttpClient requests when the filters change (so if a date range changes for example, any elements on my page that are driven by that date range get updated automatically).</p>\n\n<p>A typical data service in my app would look like below. It seems what I'm trying to do should be simple enough but I'm struggling to get my head around the RxJS library enough to combine observables in the way I'm aiming for.</p>\n\n<pre><code>export class DashboardDataService {\n\n  constructor(\n    private readonly http: HttpClient,\n    private readonly globalFiltersService: GlobalFiltersService\n  ) { }\n\n  public getDashboard(): Observable&lt;DashboardDto&gt; {\n\n    const filtersSubscription = globalFiltersService.filters$.subscribe(...);\n\n    const observable = this.http.get&lt;DashboardDto&gt;(`${environment.apiBase}network/dashboard`, {\n      params: this.globalFiltersService.getHttpParams()\n    });\n\n    // TODO: when filtersSubscription receives new data, make observable re-run it's HTTP request and emit a new response\n\n    return observable; // Make this observable emit new data \n  }\n\n}\n</code></pre>\n\n<p>I'm using Angular 8 and RxJS 6, so the most modern way possible would be preferable.</p>\n\n<p>UPDATE: Working implementation</p>\n\n<pre><code>export class GlobalFiltersService {\n\n  private readonly _httpParams$: BehaviorSubject&lt;{ [param: string]: string | string[]; }&gt;;\n  private start: Moment;\n  private end: Moment;\n\n  constructor() {\n    this._httpParams$ = new BehaviorSubject(this.getHttpParams());\n  }\n\n  public setDateFilter(start: Moment, end: Moment) {\n    this.start = start;\n    this.end = end;\n    this._httpParams$.next(this.getHttpParams());\n  }\n\n  public get httpParams$() {\n    return this._httpParams$.asObservable();\n  }\n\n  public getHttpParams() {\n    return {\n      start: this.start.toISOString(),\n      end: this.end.toISOString()\n    };\n  }\n\n}\n\nexport class DashboardDataService {\n\n  private _dashboard$: Observable&lt;DashboardDto&gt;;\n\n  constructor(\n    private readonly http: HttpClient,\n    private readonly globalFiltersService: GlobalFiltersService\n  ) { }\n\n  public getDashboard(): Observable&lt;DashboardDto&gt; {\n    if (!this._dashboard$) {\n      // Update the dashboard observable whenever global filters are changed\n      this._dashboard$ = this.globalFiltersService.httpParams$.pipe(\n        distinctUntilChanged(isEqual), // Lodash deep comparison. Only replay when filters actually change.\n        switchMap(params =&gt; this.http.get&lt;DashboardDto&gt;(`${environment.apiBase}network/dashboard`, { params })),\n        shareReplay(1),\n        take(1)\n      );\n    }\n    return this._dashboard$;\n  }\n\n}\n\nexport class DashboardResolver implements Resolve&lt;DashboardDto&gt; {\n\n  constructor(private readonly dashboardDataService: DashboardDataService, private readonly router: Router) {}\n\n  public resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable&lt;DashboardDto&gt; {\n    return this.dashboardDataService.getDashboard();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "edited": false, "score": 0, "creation_date": 1560351185, "post_id": 56565002, "comment_id": 99709470, "body": "try <code>import all from &#39;.&#47;contracts&#39;;</code> and see what inside <code>console.log(all)</code>"}, {"owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "reply_to_user": {"reputation": 1599, "user_id": 10761855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f922c17d0f874828a961bff1490bf451?s=128&d=identicon&r=PG&f=1", "display_name": "Vadim Hulevich", "link": "https://stackoverflow.com/users/10761855/vadim-hulevich"}, "edited": false, "score": 0, "creation_date": 1560351422, "post_id": 56565002, "comment_id": 99709618, "body": "I&#39;ve modified my question, this is a compile time error."}], "answers": [{"comments": [{"owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "edited": false, "score": 0, "creation_date": 1560352373, "post_id": 56565145, "comment_id": 99710188, "body": "&#39;./contracts&#39; is not seen as a module. I still have the can&#39;t find module error"}, {"owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "edited": false, "score": 0, "creation_date": 1560352505, "post_id": 56565145, "comment_id": 99710256, "body": "Woops, VS 2017 let me include the file as a link to the project which explains why he can&#39;t resolve it."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "edited": false, "score": 0, "creation_date": 1560353026, "post_id": 56565145, "comment_id": 99710574, "body": "@OlivierMATROT glad you figured the &quot;add as link&quot; issue, that would have been hard to guess."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1560351451, "creation_date": 1560351451, "answer_id": 56565145, "question_id": 56565002, "link": "https://stackoverflow.com/questions/56565002/how-to-import-a-class-exported-from-a-module/56565145#56565145", "title": "How to import a class exported from a module?", "body": "<p>You are using an old typescript feature called internal modules or namespaces (<code>export module A.B.C.Models</code> is the same as <code>export namespace A.B.C.Models</code>). You could import and use the class like this:</p>\n\n<pre><code>import * as c from './contracts'\n\nc.A.B.C.Models.Activity\n</code></pre>\n\n<p>I recommend against it though. It is not recommend to mix JS modules and namespaces. See <a href=\"https://github.com/microsoft/TypeScript/issues/30994\" rel=\"nofollow noreferrer\">this discussion</a> on the topic:</p>\n\n<blockquote>\n  <p>Namespaces are probably never going away and, simultaneously, you probably shouldn't use them, since better, more standard and modern patterns exist through the use of modules. If you have code that you feel needs to use a namespace, more power to you and go for it, but most of the time you don't need one, as we now have a different conceptual organizational model recommended for large-scale JS (modules).</p>\n</blockquote>\n\n<p>Export the class directly and you will be able to use it with the <code>import</code> syntax:</p>\n\n<pre><code>//contacts.ts\nexport class Activity {\n  prop1: number;\n   ...\n}\n//usage.ts\nimport { Activity } from './contracts';\n</code></pre>\n"}], "owner": {"reputation": 3741, "user_id": 15186, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y5hs4.jpg?s=128&g=1", "display_name": "Olivier MATROT", "link": "https://stackoverflow.com/users/15186/olivier-matrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 56565145, "answer_count": 1, "score": 0, "last_activity_date": 1560351451, "creation_date": 1560350984, "last_edit_date": 1560351397, "question_id": 56565002, "link": "https://stackoverflow.com/questions/56565002/how-to-import-a-class-exported-from-a-module", "title": "How to import a class exported from a module?", "body": "<p>I have typescript file (generated) that I'm using in my angular project.</p>\n\n<p>The content of this file <strong>contracts.ts</strong> is as following:</p>\n\n<pre><code>export module A.B.C.Models {\n  export class Activity {\n    prop1: number;\n    ...\n  }\n}\n</code></pre>\n\n<p>I'm trying to use these classes in another file in the same folder but I can't figure out how to properly import the classes and I'd also like to alias the module name that is way too long.</p>\n\n<pre><code>import { Activity } from './contracts';\n</code></pre>\n\n<p>The code doesn't compile with the folowing error:</p>\n\n<blockquote>\n  <p>Can't find module 'contracts'</p>\n</blockquote>\n\n<p>I can't modify the generated file as it is generated each time our database model changes.</p>\n\n<p>Any help appreciated.\nThanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 2, "creation_date": 1560350579, "post_id": 56564806, "comment_id": 99709112, "body": "I can provide an answer for the first part but as far as saving updated JSON goes I&#39;m not sure that&#39;s a good way to approach. You should make that type of updating an API endpoint/DB store. Or local storage if it&#39;s user specific but not saving a JSON file."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1560381099, "post_id": 56564806, "comment_id": 99721649, "body": "You can always use <code>fetch()</code> to load the JSON any time you want..."}], "answers": [{"tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 0, "last_activity_date": 1560351572, "creation_date": 1560351572, "answer_id": 56565183, "question_id": 56564806, "link": "https://stackoverflow.com/questions/56564806/how-do-you-refresh-a-json-file-without-re-compling-the-angular-app/56565183#56565183", "title": "How do you refresh a JSON file without re-compling the angular app?", "body": "<p>You can use <code>setInterval</code> to check json file changed.</p>\n\n<pre><code>setInterval(function(){ \n   MYDATA = require ('src/assets/data/MyJSON.JSON');\n}, 5000); //check 5 seconds\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7876140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e01eaf7f4eb46b295251b6340f98b499?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Doe", "link": "https://stackoverflow.com/users/7876140/jon-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 451, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1560351572, "creation_date": 1560350393, "question_id": 56564806, "link": "https://stackoverflow.com/questions/56564806/how-do-you-refresh-a-json-file-without-re-compling-the-angular-app", "title": "How do you refresh a JSON file without re-compling the angular app?", "body": "<p>I am currently displaying information from a JSON file I am saving in my assets folder. It is then being displayed as a table. As of now the JSON file is only loaded when the angular application is built. I would like to dynamically load this file so it can be loaded, or deleted even when the app is built.</p>\n\n<p>The file I would like to dynamically pull from is located in 'src/assets/data/'</p>\n\n<p>This is how I'm pulling the JSON file:</p>\n\n<p>export let MyData: MYDATA[] = require ('src/assets/data/MyJSON.JSON');</p>\n\n<p>In the end I would like to be able to update or delete that JSON file in the assets folder, which would then update that MyData variable and the table, so I wont have to keep on running ng build anytime that JSON file changes.</p>\n"}, {"tags": ["html", "angular", "typescript", "service"], "answers": [{"comments": [{"owner": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560351006, "post_id": 56564721, "comment_id": 99709352, "body": "It works, only one problem if doesn&#39;t exist it still returns &quot;ticket Valid&quot; and the console.log shows the following error: <code>Cannot read property &#39;Espectaculo&#39; of null</code> and returns the <code>reads</code> as null. Also it shows the ticket information empty."}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "reply_to_user": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560351172, "post_id": 56564721, "comment_id": 99709458, "body": "I update answer for check string type"}, {"owner": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560351618, "post_id": 56564721, "comment_id": 99709746, "body": "The same occurred, the <code>reads</code> is null in the console log and also it returns the error <code>ERROR TypeError: Cannot read property &#39;Espectaculo&#39; of null</code> and this: <code>ERROR CONTEXT DebugContext_\u00a0{view: {\u2026}, nodeIndex: 4, nodeDef: {\u2026}, elDef: {\u2026}, elView: {\u2026}}</code>."}, {"owner": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560352271, "post_id": 56564721, "comment_id": 99710144, "body": "Just a small thing if you don&#39;t mind, how can I hide the html <code>&lt;ul&gt;</code> element in case the <code>reads</code> returns <code>null</code> or just show when the <code>reads</code> is different from <code>null</code>?"}, {"owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "reply_to_user": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560353824, "post_id": 56564721, "comment_id": 99711060, "body": "You can use *ngIf condition on ul tag"}, {"owner": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "edited": false, "score": 0, "creation_date": 1560355667, "post_id": 56564721, "comment_id": 99712042, "body": "So I tried in the <code>&lt;ul&gt;</code> element like this <code>*ngIf=&quot;reads&quot;</code> but always shows the html. I also tried <code>*ngIf=&quot;reads != null&quot;</code>"}], "tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1560351791, "last_edit_date": 1560351791, "creation_date": 1560350137, "answer_id": 56564721, "question_id": 56564552, "link": "https://stackoverflow.com/questions/56564552/error-cannot-find-a-differ-supporting-object-object-object-of-type-object/56564721#56564721", "title": "Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object - Angular 7", "body": "<p>You can check type of reads is array or not before assign    </p>\n\n<pre><code> this.ticketlineservice.CheckTicket(this.barcode, this.codEspec, this.DiaHoraEspecs).subscribe(reads =&gt; {\n          if(Array.isArray(reads)){\n              this.reads = reads;\n          }\n          else if(typeof reads === 'string' ){\n              this.reads = null;\n          }\n          else{\n               this.reads = [reads];\n          }\n\n          console.log(reads);\n        });\n</code></pre>\n\n<p>Change html to</p>\n\n<pre><code> &lt;ul class=\"list-unstyled my-2\"&gt;\n        &lt;li class=\"btn w-100 bg-success text-center mx-0 my-2 display-block\" *ngFor=\"let read of reads\"&gt;\n          &lt;h3&gt;Bilhete:&lt;/h3&gt;\n          &lt;p class=\"h5\"&gt; Espetaculo: {{ read?.Espectaculo }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Lugar: {{ read?.Lugar }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Data: {{ read?.DiaHoraEspec }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; C\u00f3digo Espetaculo: {{ read?.CodEspec }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Barcode: {{ read?.Barcode }} &lt;/p&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 9659969, "user_type": "registered", "profile_image": "https://graph.facebook.com/1733564026719486/picture?type=large", "display_name": "Luis Luis Maia Maia", "link": "https://stackoverflow.com/users/9659969/luis-luis-maia-maia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "closed_date": 1560351597, "accepted_answer_id": 56564721, "answer_count": 1, "score": 1, "last_activity_date": 1560351791, "creation_date": 1560349648, "question_id": 56564552, "link": "https://stackoverflow.com/questions/56564552/error-cannot-find-a-differ-supporting-object-object-object-of-type-object", "closed_reason": "Duplicate", "title": "Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object - Angular 7", "body": "<p>The service created in angular is the following:</p>\n\n<pre><code>CheckTicket(barcode, codEspec, diaHoraEspec):Observable&lt;Ticket[]&gt;{\n      //read ticket\n      return this.http.get&lt;Ticket[]&gt;(`${this.checkticket_url}${barcode}?token=${this.token}&amp;codEspec=${codEspec}&amp;diaHoraEspec=${diaHoraEspec}`, httpOptions);\n    }\n</code></pre>\n\n<p>This service consumes an API that returns the following response in the console log:</p>\n\n<pre><code>{Contador: 11111111, Barcode: \"1111111111111\", CodEspec: 11111, Espectaculo: \"10\u00ba ANIVERS\u00c1RIO\", DiaHoraEspec: \"2019-06-12T21:00:00\", \u2026}\nBarcode: \"1111111111111\"\nCodEspec: 11111\nCodZona: 1111\nContador: 11111111\nDesconto: 0\nDiaHoraEspec: \"2019-06-12T21:00:00\"\nEspectaculo: \"10\u00ba ANIVERS\u00c1RIO\"\nLugar: \"F-2\"\nPreco: 0\nZona: \"Plateia\"\n__proto__: Object\n</code></pre>\n\n<p>I also have a model component. \n<strong>Ticket.ts</strong></p>\n\n<pre><code>export class Ticket{\n    Contador:number;\n    Barcode:string;\n    CodEspec:string;\n    Espectaculo:string;\n    DiaHoraEspec:Date;\n    Zona:string;\n    Lugar: string;\n  }\n</code></pre>\n\n<p>The component \"read\" that is responsible for using this service.</p>\n\n<p><strong>read.component.ts</strong>\nThis component works correctly returns the correct information.</p>\n\n<pre><code>barcode:string;\ncodEspec:Number;\nDiaHoraEspecs:string;\n\nreads: Ticket[];\n\n  constructor(private ticketlineservice: TicketlineService, \n    private activatedRoute: ActivatedRoute, private snackBar: MatSnackBar) {\n      this.activatedRoute.queryParams.subscribe(params =&gt; {\n        this.codEspec = params['CodEspec'];\n        this.DiaHoraEspecs = params['DiaHoraEspecs'];\n    });\n     }\n\n  ngOnInit() { }\n\nonSubmit(){      \n    this.ticketlineservice.CheckTicket(this.barcode, this.codEspec, this.DiaHoraEspecs).subscribe(reads =&gt; {\n      this.reads = reads;\n      console.log(reads);\n    });\n\n      if(this.reads != [] ){\n        this.snackBar.open(\"Ticket valid!\",'', {\n          duration: 2000,\n          verticalPosition: 'top',\n          horizontalPosition: 'end',\n          panelClass: ['snack-sucess'],\n          });\n        }else{\n          this.snackBar.open(\"Ticket not found!\",'', {\n            duration: 2000,\n            verticalPosition: 'top',\n            horizontalPosition: 'end',\n            panelClass: ['snack-error'],\n            });\n        }\n}\n</code></pre>\n\n<p><strong>read.component.html</strong></p>\n\n<p>This is a list element where I want to display the response that is returned by the API and the form where is submitted the barcode to then execute the service.</p>\n\n<pre><code>&lt;div class=\"text-center\"&gt;\n      &lt;form class=\"mt-3 text-center\" (ngSubmit)=\"onSubmit()\"&gt;\n          &lt;div class=\"text-center\"&gt;\n            &lt;input type=\"text\" maxlength=\"13\" name=\"barcode\" class=\"form-control text-center mt-2\" [(ngModel)]=\"barcode\" placeholder=\"Barcode\"&gt; \n          &lt;/div&gt;\n        &lt;/form&gt;\n\n  &lt;div class=\"text-center\"&gt;\n    &lt;ul class=\"list-unstyled my-2\"&gt;\n        &lt;li class=\"btn w-100 bg-success text-center mx-0 my-2 display-block\" *ngFor=\"let read of reads\"&gt;\n          &lt;h3&gt;Bilhete:&lt;/h3&gt;\n          &lt;p class=\"h5\"&gt; Espetaculo: {{ read.Espectaculo }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Lugar: {{ read.Lugar }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Data: {{ read.DiaHoraEspec }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; C\u00f3digo Espetaculo: {{ read.CodEspec }} &lt;/p&gt;\n          &lt;p class=\"h5\"&gt; Barcode: {{ read.Barcode }} &lt;/p&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p><strong>PROBLEM:</strong>\nSo whenever I submit the form I receive the following error: </p>\n\n<pre><code>Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\n</code></pre>\n\n<p>I understand that the answer I get from the API is an object, but I want to know if I can turn it into an array. Or should I treat it as an object.\nI already tried to remove the <code>*ngFor=\"let read of reads\"</code> and in the list elements change to <code>&lt;p class=\"h5\"&gt; Espetaculo: {{ reads.Espectaculo }} &lt;/p&gt;</code> but the problem is that before I submit the form returns an error <code>TypeError: Cannot read property 'Espectaculo' of undefined</code> and shows the list element empty, I only want to show the list if anything was found.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs6"], "answers": [{"tags": [], "owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "is_accepted": false, "score": 0, "last_activity_date": 1560350112, "creation_date": 1560350112, "answer_id": 56564708, "question_id": 56564281, "link": "https://stackoverflow.com/questions/56564281/rxjs-angular-prevent-multiple-http-on-multiple-subscribers/56564708#56564708", "title": "RXJS/Angular Prevent multiple HTTP on multiple subscribers", "body": "<p><code>this.folders</code> and <code>this.files</code> are not being called here in this service. What's going on with the components?</p>\n\n<p>Perhaps a refactor is in order? Forgive me if I'm off.</p>\n\n<p>I setup my services with getters:</p>\n\n<pre><code>private _currentUser = new BehaviorSubject&lt;User&gt;({} as User);\n</code></pre>\n\n<p>Then you can only get it from a component by accessing the getter:</p>\n\n<pre><code>public getCurrentUser(): Observable&lt;User&gt; {\n    return this._currentUser.asObservable();\n}\n</code></pre>\n\n<p>This way it's more clear to call it.</p>\n"}, {"comments": [{"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1560393231, "post_id": 56565926, "comment_id": 99723686, "body": "It is intentional, as any next update to <code>currentPage</code> happens via <code>Subject.next</code> method, inside the paginator component. Also, could you explain what changed? I don&#39;t see why moving <code>publishReply</code> &amp; <code>refCount</code> against the stream would help the situation."}, {"owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "reply_to_user": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1560395140, "post_id": 56565926, "comment_id": 99724028, "body": "@Akxe basically you want to share the result of the API whenever combinedLatest is subscribed. Now combinedLatest evaluates it\u2019s all observables whenever any one of the observables emits the new value. By applying the publishreplay/refcount on api observable I think the same subscription will be used among all combinedLatest observable. This is my theory. As I could not setup my code like your scenarios so am not sure if it will work. I would appreciate if you could tell if this solution worked for you."}], "tags": [], "owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "is_accepted": false, "score": 0, "last_activity_date": 1560404037, "last_edit_date": 1560404037, "creation_date": 1560354040, "answer_id": 56565926, "question_id": 56564281, "link": "https://stackoverflow.com/questions/56564281/rxjs-angular-prevent-multiple-http-on-multiple-subscribers/56565926#56565926", "title": "RXJS/Angular Prevent multiple HTTP on multiple subscribers", "body": "<p>Can you please make the following change in your code and try - </p>\n\n<pre><code>const getFoldersFromSegments$ = activatedRoute.url.pipe(\n  switchMap(segments =&gt; folderService.getFoldersFromSegments(segments)),\n  distinctUntilChanged(),\n  publishReplay(1),\n  refCount(),\n);\n\n/** This observable is internal, only to be used by `folders` and `files` */\nconst folderIDAndPage: Observable&lt;[string, number]&gt; = combineLatest(\n  getFoldersFromSegments$,\n  this.currentPage.pipe(\n    distinctUntilChanged(),\n  ),\n).pipe(\n  // Prevent repeating HTTP somehow...\n  publishReplay(1),\n  refCount(),\n);\n</code></pre>\n\n<p>BTW - You have used <code>take(1)</code> on <code>activatedRoute.queryParams</code> observable; It will make your <code>this.currentPage</code> to be changed only once. But you said, </p>\n\n<blockquote>\n  <p>Can be updated at any point</p>\n</blockquote>\n\n<p>, so is it not a contradiction? Or it is intentional?</p>\n"}], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560404037, "creation_date": 1560348831, "last_edit_date": 1560362606, "question_id": 56564281, "link": "https://stackoverflow.com/questions/56564281/rxjs-angular-prevent-multiple-http-on-multiple-subscribers", "title": "RXJS/Angular Prevent multiple HTTP on multiple subscribers", "body": "<p>I have \"mainData\" service, it consists of 3 parts:</p>\n\n<ul>\n<li><code>currentPage</code> used by paginator component to switch page. Can be updated at any point.</li>\n<li><code>folders</code> contains all folders in the current folder. There are <strong>2</strong> components that use this observable (Types of listing of folder content)</li>\n<li><code>files</code> contains all files in the current folder. There are <strong>3</strong> components that use this observable (Types of listing of folder content)</li>\n</ul>\n\n<p>The default view is the one without folders, thus I would like not to make unnecessary HTTP calls.</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>public currentPage = new ReplaySubject(1);\npublic folders: Observable&lt;FLFolder[]&gt;;\npublic files: Observable&lt;FLFile[]&gt;;\n\nconstructor(\n  activatedRoute: ActivatedRoute,\n  folderService: FolderService,\n  fileService: FileService,\n) {\n  // Populate `this.currentPage`\n  activatedRoute.queryParams.pipe(\n    take(1),\n    //  Wait until end of this sync tick. If no emission is made, it will use default in the next tick.\n    takeUntil(timer(1, queueScheduler)),\n    defaultIfEmpty&lt;Params&gt;({}),\n  ).subscribe(query =&gt; {\n    if (query.page) {\n      this.currentPage = +query.page;\n    } else {\n      this.currentPage = 1;\n    }\n  });\n\n  /** This observable is internal, only to be used by `folders` and `files` */\n  const folderIDAndPage: Observable&lt;[string, number]&gt; = combineLatest(\n    activatedRoute.url.pipe(\n      switchMap(segments =&gt; folderService.getFoldersFromSegments(segments)),\n      distinctUntilChanged(),\n    ),\n    this.currentPage.pipe(\n      distinctUntilChanged(),\n    ),\n  ).pipe(\n    // Prevent repeating HTTP somehow...\n    publishReplay(1),\n    refCount(),\n  );\n\n  this.folders = folderIDAndPage.pipe(\n    switchMap(([folderID, page]) =&gt; folderService.getFfolders(folderID, page)),\n    // Prevent repeating HTTP somehow...\n    publishReplay(1),\n    refCount(),\n  );\n\n  this.files = folderIDAndPage.pipe(\n    switchMap(([folderID, page]) =&gt; fileService.getFiles(folderID, page)),\n    // Prevent repeating HTTP somehow...\n    publishReplay(1),\n    refCount(),\n  );\n}\n</code></pre>\n\n<p>When there is no subscribe to either <code>folders</code>, or <code>files</code>, no HTTP are made. But even if one subscribes to only one of them, both <code>folders</code> and <code>files</code> get populated (while making the HTTP call) and updated at the same time.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "frontend", "material-ui"], "comments": [{"owner": {"reputation": 496, "user_id": 9259454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174dd932fc1e90239ba5d248a55f78ce?s=128&d=identicon&r=PG&f=1", "display_name": "Garry", "link": "https://stackoverflow.com/users/9259454/garry"}, "edited": false, "score": 0, "creation_date": 1560354423, "post_id": 56564065, "comment_id": 99711362, "body": "Hopefully it helps. <a href=\"https://www.toptal.com/react/react-context-api\" rel=\"nofollow noreferrer\">toptal.com/react/react-context-api</a>"}, {"owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "reply_to_user": {"reputation": 496, "user_id": 9259454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174dd932fc1e90239ba5d248a55f78ce?s=128&d=identicon&r=PG&f=1", "display_name": "Garry", "link": "https://stackoverflow.com/users/9259454/garry"}, "edited": false, "score": 0, "creation_date": 1560365853, "post_id": 56564065, "comment_id": 99716557, "body": "@Garry I am following the documentation but no help yet. I cannot retrieve the value in Consumer."}, {"owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "reply_to_user": {"reputation": 496, "user_id": 9259454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/174dd932fc1e90239ba5d248a55f78ce?s=128&d=identicon&r=PG&f=1", "display_name": "Garry", "link": "https://stackoverflow.com/users/9259454/garry"}, "edited": false, "score": 0, "creation_date": 1560368398, "post_id": 56564065, "comment_id": 99717684, "body": "Posting a sandboxcode mimicking what I am presently doing in the code. <a href=\"https://codesandbox.io/s/material-demo-ttz6x\" rel=\"nofollow noreferrer\">codesandbox.io/s/material-demo-ttz6x</a>"}], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "edited": false, "score": 0, "creation_date": 1560376452, "post_id": 56569700, "comment_id": 99720581, "body": "I should have mentioned. The provider and consumer are in different component structure not connected via a parent. So importing App will not work."}, {"owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "edited": false, "score": 0, "creation_date": 1560377784, "post_id": 56569700, "comment_id": 99720921, "body": "I might have to update context using Nested Component <a href=\"https://reactjs.org/docs/context.html#updating-context-from-a-nested-component\" rel=\"nofollow noreferrer\">reactjs.org/docs/&hellip;</a>"}], "tags": [], "owner": {"reputation": 944, "user_id": 567554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMheW.jpg?s=128&g=1", "display_name": "Meera Datey", "link": "https://stackoverflow.com/users/567554/meera-datey"}, "is_accepted": true, "score": 0, "last_activity_date": 1560370267, "creation_date": 1560370267, "answer_id": 56569700, "question_id": 56564065, "link": "https://stackoverflow.com/questions/56564065/how-to-implement-context-api-in-material-ui/56569700#56569700", "title": "How to Implement Context Api in material UI", "body": "<p>You could use the useContext hook to retrieve the value.</p>\n\n<p>Here is your code modified </p>\n\n<p><a href=\"https://codesandbox.io/s/material-demo-sb27x?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/material-demo-sb27x?fontsize=14</a></p>\n\n<pre><code>export const TimeZoneContext = createContext(\"timeZone\"); \n\nReactDOM.render( &lt;TimeZoneContext.Provider value=\"PST\"&gt;&lt;App/&gt; &lt;/TimeZoneContext.Provider&gt;, \n                 document.querySelector('#root'));\n\n//In your App.js you should see value 'PST'\nconst context = useContext(TimeZoneContext);\n\n// You can use value in the context in className\n&lt;Table className={classes[context]}&gt; \n// Use value in TableCell\n&lt;TableCell&gt;{context}&lt;/TableCell&gt;\n\n\n</code></pre>\n"}], "owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 0, "accepted_answer_id": 56569700, "answer_count": 1, "score": 1, "last_activity_date": 1560443782, "creation_date": 1560348097, "last_edit_date": 1560443782, "question_id": 56564065, "link": "https://stackoverflow.com/questions/56564065/how-to-implement-context-api-in-material-ui", "title": "How to Implement Context Api in material UI", "body": "<p>I am trying to pass a property using context API in my components. I am getting the following typescript error. </p>\n\n<p>Property 'value' does not exist on type 'String'</p>\n\n<p>I am creating the context using </p>\n\n<pre><code>export const TimeZoneContext = createContext(\"timeZone\");\n</code></pre>\n\n<p>Then providing the value in my return for the component as </p>\n\n<pre><code>&lt;TimeZoneContext.Provider value=\"timeZone\" /&gt;\n</code></pre>\n\n<p>I am consuming the value in another component's return statement using the following statement</p>\n\n<pre><code> &lt;TimeZoneContext.Consumer&gt;\n        {({ value }) =&gt; (\n          &lt;TableCell className={classes.tableCell}&gt;{value}&lt;/TableCell&gt;\n        )}\n      &lt;/TimeZoneContext.Consumer&gt;\n</code></pre>\n\n<p>Please feel to ask for any more information needed. Thanks. How is implementing nested context api different than the simple one. I think the problem is that the components in provider and consumer do not share a relation. Thanks</p>\n"}, {"tags": ["angular", "typescript", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 396, "user_id": 1584725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3b4af23cd0ebfb961c3ab01ffd884073?s=128&d=identicon&r=PG", "display_name": "Brett JB", "link": "https://stackoverflow.com/users/1584725/brett-jb"}, "is_accepted": true, "score": 0, "last_activity_date": 1560353180, "creation_date": 1560353180, "answer_id": 56565686, "question_id": 56564060, "link": "https://stackoverflow.com/questions/56564060/async-await-in-typescript/56565686#56565686", "title": "Async Await in Typescript", "body": "<p>I have solved the problem but will confess to still not fully understanding the issue. However I have done it as an answer in case anyone else gets into a similar mess.</p>\n\n<p>It being down to the difference between using async ... await or ...then( () => {}) to handle promises.\nI come from a c# background so am pretty ok with async / await as it pretty much does what is says.\nI have however found situations in TypeScript where I have had to use await AND combine it with .then( etc.).</p>\n\n<p>Anyway, I did solve it by converting it to await all the way through and even adding it to the calling function.\nDoing this:</p>\n\n<pre><code>const picker = await this.pickerCtrl.create(opts);\nawait picker.present();\nawait picker.onDidDismiss();\nconst colh = await picker.getColumn('Hours');\nthis.pickedTime.hours = colh.options[colh.selectedIndex].value;\nconst colm = await picker.getColumn('Mins');\nthis.pickedTime.minutes = colm.options[colm.selectedIndex].value;\nreturn this.pickedTime.ToString();\n</code></pre>\n\n<p>solved the ordering issue, but was returning undefined.. or rather the calling function:</p>\n\n<pre><code>  getTypTime() { // Gets the typical time\n    const currentTime = this.service.TimeToDoTypicalOrBestCase;\n    this.getTime(currentTime).then( res =&gt; {\n    console.log('GetTypTime result :');\n    console.log(res);\n    });\n  }\n</code></pre>\n\n<p>showed undefined.\nIt was only when I modified it to this:</p>\n\n<pre><code>  async getTypTime() { // Gets the typical time\n  const currentTime = this.service.TimeToDoTypicalOrBestCase;\n  const res = await this.getTime(currentTime);\n  console.log('GetTypTime result :');\n  console.log(res);\n</code></pre>\n\n<p>}</p>\n\n<p>that it all worked properly.</p>\n\n<p>So thank you for those that did answer anyway.</p>\n"}], "owner": {"reputation": 396, "user_id": 1584725, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3b4af23cd0ebfb961c3ab01ffd884073?s=128&d=identicon&r=PG", "display_name": "Brett JB", "link": "https://stackoverflow.com/users/1584725/brett-jb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 1, "accepted_answer_id": 56565686, "answer_count": 1, "score": 0, "last_activity_date": 1560353180, "creation_date": 1560348088, "question_id": 56564060, "link": "https://stackoverflow.com/questions/56564060/async-await-in-typescript", "title": "Async Await in Typescript", "body": "<p>I have looked for similar issues here but cannot find one similar enough.\nUsing Ionic 4 with Angular 7 Typescript 3.16\nI have several 'TimeSpan' values I need to get so have a function from the html like this:</p>\n\n<pre><code>&lt;ion-input type=\"text\" (click) =\" getTypTime()\" ....&gt;\n</code></pre>\n\n<p>This click handler is like this:</p>\n\n<pre><code>getTypTime() { // Gets the typical time\n  const currentTime = this.service.TimeToDoTypicalOrBestCase;\n  this.getTime(currentTime).then( res =&gt; {\n  console.log('GetTypTime result :');        // **3**\n  console.log(res);\n  });\n}\n</code></pre>\n\n<p>The function to present the picker and get the result is like this:</p>\n\n<pre><code>async getTime(inputTime: TimeSpan) {\nconsole.log(inputTime);             // **1**\nconst opts: PickerOptions = {\n  buttons: [\n        ...more stuff...\n  ],\n  columns: [\n    {\n      name: 'Hours',\n        ...more stuff...\n      ]\n    },\n    {\n      name: 'Mins',\n           ...more stuff...\n    }\n  ]\n};\nconst picker = await this.pickerCtrl.create(opts);\nconsole.log('Presenting picker');             // **2**\npicker.present();\npicker.onDidDismiss().then(() =&gt; {\n  picker.getColumn('Hours').then( colh =&gt; {\n    this.pickedTime.hours = colh.options[colh.selectedIndex].value;\n    picker.getColumn('Mins').then( colm =&gt; {\n    this.pickedTime.minutes = colm.options[colm.selectedIndex].value;\n    console.log(this.pickedTime);             // **4**\n    return this.pickedTime.ToString();\n    });\n  });\n });\n}\n</code></pre>\n\n<p>The log outputs:</p>\n\n<pre><code>00:30:00                       (This is a the top of the function **1** see code)\nPresenting picker              (This is towards the end of the function **2**)\nGetTypTime result : undefined  (This is in the CALLING function **3**)  \n(The following line displayed after the dismiss **4**) \nTimeSpan\u00a0{_seconds: 0, _minutes: 0, _hours: 0, _ days: 0, _milliseconds: 0,\u00a0\u2026}\n</code></pre>\n\n<p>The function is obviously returning before it has actually come back from the ondismiss of the picker, but I feel this should work. Can anyone point out where I am going wrong with it..?</p>\n\n<p>I have changed this to move away from using await... before, it was like this:</p>\n\n<pre><code>  picker.onDidDismiss().then(async () =&gt; {\n  let col = await picker.getColumn('Hours');\n  this.pickedTime.hours = col.options[col.selectedIndex].value;\n  col = await picker.getColumn('Mins');\n  this.pickedTime.minutes = col.options[col.selectedIndex].value;\n  console.log(this.pickedTime);\n  return this.pickedTime.ToString();\n});\n</code></pre>\n\n<p>}</p>\n\n<p>But that didnt work so I modified it to remove the awaits..\nThoughts?</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560348186, "post_id": 56564033, "comment_id": 99707624, "body": "Are you sure <code>typeof user.user_id === &#39;string&#39;</code> is the condition you want at that time?"}, {"owner": {"reputation": 115, "user_id": 8220660, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/bae9880fd74014fb57752b951a12e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "BrianM", "link": "https://stackoverflow.com/users/8220660/brianm"}, "reply_to_user": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560348288, "post_id": 56564033, "comment_id": 99707688, "body": "It should just work with - &#39;disabled: user.user_id&#39;, but using typeof user.user_id === &#39;string&#39; should also work. And the condition seems to be true whenever i set a breakpoint at the start of the method and hit Edit (its false whenever i hit Add)"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 8220660, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/bae9880fd74014fb57752b951a12e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "BrianM", "link": "https://stackoverflow.com/users/8220660/brianm"}, "edited": false, "score": 0, "creation_date": 1560350969, "post_id": 56564278, "comment_id": 99709334, "body": "Thanks guys, i got it working, i removed it from the reactive form and put it in the html - [attr.disabled]=&quot;user.user_id&quot;. Weird but as it used to work when i had it in the reactive form"}], "tags": [], "owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "is_accepted": false, "score": 0, "last_activity_date": 1560348824, "creation_date": 1560348824, "answer_id": 56564278, "question_id": 56564033, "link": "https://stackoverflow.com/questions/56564033/disabled-attribute-not-working-in-angular-reactive-form/56564278#56564278", "title": "Disabled attribute not working in angular reactive form", "body": "<p>I think I've got it! Setting disabled on form init is static? You'd need to manually change it when your condition changes?</p>\n\n<pre><code>control.disable()\ncontrol.enable()\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 8220660, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/bae9880fd74014fb57752b951a12e7d8?s=128&d=identicon&r=PG&f=1", "display_name": "BrianM", "link": "https://stackoverflow.com/users/8220660/brianm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1560350984, "answer_count": 1, "score": 0, "last_activity_date": 1560351384, "creation_date": 1560348016, "last_edit_date": 1560351384, "question_id": 56564033, "link": "https://stackoverflow.com/questions/56564033/disabled-attribute-not-working-in-angular-reactive-form", "closed_reason": "Duplicate", "title": "Disabled attribute not working in angular reactive form", "body": "<p>I have an email field in an angular reactive form, that i want to be disabled if the form is in edit mode (as oppose to add mode). I am using </p>\n\n<pre><code>disabled: typeof user.user_id === 'string'\n</code></pre>\n\n<p>If i set a breakpoint at the beginning of the <code>modelToForm</code> method below and paste <code>typeof user.user_id === 'string'</code> into the console, it returns true, so it looks like it should be working but the field in the form is not disabled. If i change it to be 'disabled: true', the field IS disabled. Has anyone come across this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public modelToForm(user: UserModel): FormGroup {\r\n        return this.fb.group({\r\n            firstName: [user.first_name, [\r\n                Validators.required,\r\n                Validators.maxLength(UserFormHelper.maxLengthName),\r\n                UserFormHelper.validateWhitespace\r\n            ]],\r\n            email: [{value: user.email, disabled: typeof user.user_id === 'string'}, [\r\n                Validators.required,\r\n                Validators.maxLength(UserFormHelper.maxLengthEmail),\r\n                Validators.pattern(UserFormHelper.emailPattern)\r\n            ]],\r\n        });\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560346903, "post_id": 56563566, "comment_id": 99706779, "body": "We need to see the code and data structure you&#39;re working with to help with the best output concepts."}, {"owner": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "reply_to_user": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 1, "creation_date": 1560347916, "post_id": 56563566, "comment_id": 99707430, "body": "@BenRacicot, I have just updated"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "edited": false, "score": 0, "creation_date": 1560348152, "post_id": 56563778, "comment_id": 99707607, "body": "Why do I need toLowerCase()?"}, {"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "reply_to_user": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "edited": false, "score": 0, "creation_date": 1560348564, "post_id": 56563778, "comment_id": 99707880, "body": "@KelvinCayman,  this is a generic filter pipe, you can use for example with textfield (search input), so text field&#39;s value can be  &#39;open&#39;,  &#39;Open&#39;,  &#39;OPEN&#39; ...etc"}, {"owner": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "edited": false, "score": 0, "creation_date": 1560349034, "post_id": 56563778, "comment_id": 99708191, "body": "Thanks @Ghoul Ahmed. But I want to display only status 1...not to search."}], "tags": [], "owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "is_accepted": true, "score": 0, "last_activity_date": 1560349144, "last_edit_date": 1560349144, "creation_date": 1560347231, "answer_id": 56563778, "question_id": 56563566, "link": "https://stackoverflow.com/questions/56563566/display-specific-data-in-a-table/56563778#56563778", "title": "Display specific data in a table", "body": "<p>Try this (SearchPipe.pipe.ts)</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'searchFilter'\n})\n\n// Pipe to implement a search filter basd on input\n\nexport class SearchPipe implements PipeTransform {\n    transform(items: any[], searchTerm: string): any[] {\n        if (!items) { return []; }\n        return items.filter((val) =&gt; {\n            return val.status === searchTerm;\n        });\n    }\n}\n</code></pre>\n\n<p>in HTML:</p>\n\n<pre><code>&lt;table class=\"table\"&gt;\n    &lt;thead&gt;\n        &lt;th&gt;Mitarbeiter&lt;/th&gt;\n        &lt;th&gt;Einsatz&lt;/th&gt;\n        &lt;th&gt;Eingangsdatum&lt;/th&gt;\n        &lt;th&gt;Zeitraum&lt;/th&gt;\n        &lt;th&gt;Status&lt;/th&gt;\n    &lt;/thead&gt;\n    &lt;tr *ngFor=\"let working_period of customers | searchFilter:'open'\"&gt; ......\n        &lt;td&gt;{{working_period.status}}&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4663504, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CGiO0_YNvDc/AAAAAAAAAAI/AAAAAAAAAFo/iH48w4v6PB4/photo.jpg?sz=128", "display_name": "Kailas Kokate", "link": "https://stackoverflow.com/users/4663504/kailas-kokate"}, "is_accepted": false, "score": 0, "last_activity_date": 1560347289, "creation_date": 1560347289, "answer_id": 56563799, "question_id": 56563566, "link": "https://stackoverflow.com/questions/56563566/display-specific-data-in-a-table/56563799#56563799", "title": "Display specific data in a table", "body": "<p>Please create 1 function like FilterStatusData(filterstatus) which called after api get response.</p>\n\n<p>In FilterStatusData modify data using loop.</p>\n"}, {"tags": [], "owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1560349527, "last_edit_date": 1560349527, "creation_date": 1560349069, "answer_id": 56564358, "question_id": 56563566, "link": "https://stackoverflow.com/questions/56563566/display-specific-data-in-a-table/56564358#56564358", "title": "Display specific data in a table", "body": "<p>You can fix it without using a pipe (Dashboard1Component)</p>\n\n<pre><code>this.customers = customers.working_periods.filter(res=&gt;res.status==='open');\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 6561825, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH0Hr.jpg?s=128&g=1", "display_name": "Kelvin Cayman", "link": "https://stackoverflow.com/users/6561825/kelvin-cayman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 56563778, "answer_count": 3, "score": 0, "last_activity_date": 1560349527, "creation_date": 1560346577, "last_edit_date": 1560347892, "question_id": 56563566, "link": "https://stackoverflow.com/questions/56563566/display-specific-data-in-a-table", "title": "Display specific data in a table", "body": "<p>I have an angular project where I have a table I am populating from an api.\nIn the table there is a column status with three values: 1- Open, 2- Released, 3- Rejected.\ndisplayed with,\n<code>&lt;td&gt;{{working_period.status}}&lt;/td&gt;</code>\nHere's pic of the table\nImage\nWhat I want is a pipe to display only one status. E.g Only 1- open</p>\n\n<p>How can I go about creating such a pipe, and is it the best solution?</p>\n\n<p>I am newbie in ng7. In case of clarification let me know...please forgive my grammar.</p>\n\n<p><strong>Edit</strong>\nmy dashboard.component.html</p>\n\n<pre><code> &lt;table class=\"table\"&gt;\n             &lt;thead&gt;&lt;th&gt;Mitarbeiter&lt;/th&gt;&lt;th&gt;Einsatz&lt;/th&gt;&lt;th&gt;Eingangsdatum&lt;/th&gt;&lt;th&gt;Zeitraum&lt;/th&gt;&lt;th&gt;Status&lt;/th&gt;&lt;/thead&gt;\n             &lt;tr *ngFor=\"let working_period of customers\"&gt; ...... &lt;td&gt;{{working_period.status}}&lt;/td&gt;&lt;/tr&gt;\n           &lt;/table&gt;\n</code></pre>\n\n<p>My dashboard.component.ts</p>\n\n<pre><code>import {Component, AfterViewInit, OnInit, OnDestroy, ViewChild} from '@angular/core';\nimport { NgbProgressbarConfig } from '@ng-bootstrap/ng-bootstrap';\nimport {pipe, of, Subscription} from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { ActivityReportsService } from '../../services/activity-reports.service';\nimport { CustomerLoginService } from '../../services/customer-login.service';\nimport {Customer, CustomerResponce} from '../../_models/customer';\n\n@Component({\n  templateUrl: './dashboard1.component.html',\n  styleUrls: ['./dashboard1.component.css']\n})\n\nexport class Dashboard1Component implements OnInit, OnDestroy {\n  currentUser: Customer;\n  currentUserSubscription: Subscription;\n  customers: Customer[] = [];\n  constructor(\n    private customerloginservice: CustomerLoginService,\n    private activityreportservice: ActivityReportsService\n  ) {\n    this.currentUserSubscription = this.customerloginservice.currentUser.subscribe(customer =&gt; {\n      this.currentUser = customer;\n    });\n  }\n  ngOnInit() {\n    this.loadAllReports();\n  }\n  ngOnDestroy() {\n    this.currentUserSubscription.unsubscribe();\n  }\n  private  loadAllReports() {\n    this.activityreportservice.getAll().subscribe((customers: CustomerResponce) =&gt; {\n      console.log(customers);\n      this.customers = customers.working_periods;\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "node-modules", "auth0"], "answers": [{"tags": [], "owner": {"reputation": 1324, "user_id": 10623752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882b2e83da82c948ea0d0236ad3cf2d0?s=128&d=identicon&r=PG&f=1", "display_name": "abd995", "link": "https://stackoverflow.com/users/10623752/abd995"}, "is_accepted": false, "score": 2, "last_activity_date": 1560346026, "creation_date": 1560346026, "answer_id": 56563396, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt/56563396#56563396", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<ol>\n<li>Delete your <code>node_modules</code> folder </li>\n<li>Run <code>npm i</code></li>\n</ol>\n\n<p>Try running it again</p>\n"}, {"tags": [], "owner": {"reputation": 5684, "user_id": 10172408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BcxZ9.png?s=128&g=1", "display_name": "Nathan", "link": "https://stackoverflow.com/users/10172408/nathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560347562, "creation_date": 1560347562, "answer_id": 56563875, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt/56563875#56563875", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<p>The error messages of the following format:</p>\n\n<blockquote>\n  <p>Cannot find module <code>&lt;module&gt;</code> </p>\n</blockquote>\n\n<p>indicates that a <strong><em>necessary dependency for your project is unmet</em></strong> and needs to be installed or re-installed if the prior installation had an issue downloading the necessary library.</p>\n\n<p>Perhaps you can try the following and seeing if it helps:</p>\n\n<ol>\n<li><p>Remove your <code>package-lock.json</code> file to ensure there are no locking issues for dependencies. <strong>Note</strong>: this file will be auto-generated</p>\n\n<p><code>rm package-lock.json</code></p></li>\n<li><p>Delete your previous <code>node_modules</code> directory</p>\n\n<p><code>rm -rf node_modules</code></p></li>\n<li><p>Re-install your dependencies listed in your <code>package.json</code> file</p>\n\n<p><code>npm i</code> or <code>yarn install</code></p></li>\n<li><p>If you still get complaints about missing modules try <strong>installing and saving</strong> the necessary dependency into your <code>package.json</code> file</p></li>\n</ol>\n\n<p>for example,</p>\n\n<blockquote>\n  <p>Cannot find module @auth0/angular-jwt\".</p>\n</blockquote>\n\n<pre><code>npm i @auth0/angular-jwt\n</code></pre>\n\n<ol start=\"5\">\n<li><strong>Double check dependencies for version compatibility</strong>. For example, <code>@auth0/angular-jwt</code> <strong>v2</strong> is to be used with <strong>Angular v6+ and RxJS v6+</strong>. For Angular v4.3 to <strong>v5+, use <code>@auth0/angular-jwt</code> v1</strong>. I see you mentioned you're using <code>Angular 5.2.10.</code> so make sure your're using <strong>version 1</strong> of the <code>@auth0/angular-jwt</code> library. </li>\n</ol>\n\n<p>Hopefully that helps!</p>\n"}, {"tags": [], "owner": {"reputation": 403, "user_id": 9441263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sa7vc.jpg?s=128&g=1", "display_name": "Carherpi", "link": "https://stackoverflow.com/users/9441263/carherpi"}, "is_accepted": false, "score": 0, "last_activity_date": 1567323748, "creation_date": 1567323748, "answer_id": 57744094, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt/57744094#57744094", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<p>Be sure that you have installed @auth0/angular-jwt on the correct node_modules. That solved my problem. It is a typical dependency error.</p>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 4584374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4J9mdtHWwUg/AAAAAAAAAAI/AAAAAAAAAIA/GrPJQOc8t80/photo.jpg?sz=128", "display_name": "Joginder Malik", "link": "https://stackoverflow.com/users/4584374/joginder-malik"}, "is_accepted": false, "score": 0, "last_activity_date": 1570541788, "last_edit_date": 1592644375, "creation_date": 1570541788, "answer_id": 58287500, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt/58287500#58287500", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<p>Answering for your first query i.e <strong>Cannot find module @auth0/angular-jwt&quot;</strong></p>\n<p>Make sure inside <strong>node_modules</strong> folder you have specified path :- <strong>@auth0/angular-jwt/src/</strong></p>\n<h1>If yes then use</h1>\n<p><code>import { JwtHelperService } from '@auth0/angular-jwt/src/jwthelper.service';</code></p>\n<h1>if no then first run installation with npm or yarn</h1>\n<pre><code>npm install @auth0/angular-jwt\n \n# installation with yarn \nyarn add @auth0/angular-jwt\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 12730384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a760d0a0150b78330556b1c396b5994?s=128&d=identicon&r=PG&f=1", "display_name": "Iulian Preda", "link": "https://stackoverflow.com/users/12730384/iulian-preda"}, "is_accepted": false, "score": 0, "last_activity_date": 1603650200, "creation_date": 1603650200, "answer_id": 64527231, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt/64527231#64527231", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<p>Perhaps late but for anyone encountering the same issue, make sure you imported the <code>JwtModule</code> in your app.module or feature module, and then in your authentication service you can just use:</p>\n<p><code>import { JwtHelperService } from '@auth0/angular-jwt';</code></p>\n<p>Code example:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport { JwtHelperService } from '@auth0/angular-jwt';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthService {\n  constructor(public jwtHelper: JwtHelperService) {}\n  public isAuthenticated(): boolean {\n    const token = localStorage.getItem('token');\n    // Check whether the token is expired and return\n    // true or false\n    return !this.jwtHelper.isTokenExpired(token);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11636846, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UM2dzQ4oi0k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfa85WULk-RZuHoicNHocHXJ5PytQ/mo/photo.jpg?sz=128", "display_name": "Hugo31", "link": "https://stackoverflow.com/users/11636846/hugo31"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4767, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1603650200, "creation_date": 1560345834, "last_edit_date": 1560347893, "question_id": 56563335, "link": "https://stackoverflow.com/questions/56563335/cannot-find-module-auth0-angular-jwt", "title": "Cannot find module &quot;@auth0/angular-jwt/&quot;", "body": "<p>I'm currently developing a Web Application using ADFS authentication.</p>\n\n<p>I have the following runtime error:</p>\n\n<blockquote>\n  <p>\"Cannot find module @auth0/angular-jwt\".</p>\n</blockquote>\n\n<p>I'm using <strong>Angular 5.2.10</strong>. I've tried to reinstalled my dependencies, however I still have errors:</p>\n\n<p>I've errors in <code>index.d.ts</code>: </p>\n\n<blockquote>\n  <p>Cannot find name 'Provider'and 'ModuleWithProviders'</p>\n</blockquote>\n\n<p>And in <code>jwt.interceptor.d.ts</code>: </p>\n\n<blockquote>\n  <p>Cannot find modules \"@angular/common/http\" and \"rxjs/internal/Observable\"</p>\n</blockquote>\n\n<p>And in <code>jwtoptions.token.d.ts</code>: </p>\n\n<blockquote>\n  <p>Cannot find module \"@angular/core\"</p>\n</blockquote>\n\n<p>I haven't modified any of those files.</p>\n\n<p>Is this an angular version problem? Am I using wrong versions of those libraries?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1560347471, "post_id": 56563306, "comment_id": 99707143, "body": "not sure if there is reason why you want to create d.ts and then implement it in typescript. you create d.td for javascript files. you dont need it for ts... and if you wnat to have d.ts you can still set &quot;declaration&quot;: true. in tsconfig so compiler will create custom d.ts files for you"}], "answers": [{"comments": [{"owner": {"reputation": 5412, "user_id": 885872, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4db937448b530f9d7a89bfdead72a0ff?s=128&d=identicon&r=PG", "display_name": "Puggan Se", "link": "https://stackoverflow.com/users/885872/puggan-se"}, "edited": false, "score": 0, "creation_date": 1560352231, "post_id": 56563395, "comment_id": 99710113, "body": "As i have a global script that is loaded on all pages, and page-specific scripts that are loaded on specific pages, I want to be able to run the global function from both files."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1560346022, "creation_date": 1560346022, "answer_id": 56563395, "question_id": 56563306, "link": "https://stackoverflow.com/questions/56563306/why-arent-i-allowed-to-declare-a-function-thats-being-implemented-in-typescript/56563395#56563395", "title": "why aren&#39;t I allowed to declare a function thats being implemented in typescript?", "body": "<p>This is just the way it is. You either create a definition file for a legacy JavaScript file or you implement the it in typescript. You can't create a definition file for something that is implemented in Typescript. </p>\n\n<p>The solution seems simple, just move the signatures of the function to the implementation and it should be fine. </p>\n"}], "owner": {"reputation": 5412, "user_id": 885872, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/4db937448b530f9d7a89bfdead72a0ff?s=128&d=identicon&r=PG", "display_name": "Puggan Se", "link": "https://stackoverflow.com/users/885872/puggan-se"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560346022, "creation_date": 1560345732, "question_id": 56563306, "link": "https://stackoverflow.com/questions/56563306/why-arent-i-allowed-to-declare-a-function-thats-being-implemented-in-typescript", "title": "why aren&#39;t I allowed to declare a function thats being implemented in typescript?", "body": "<p>I made a .d.ts file with my parameter types, and the global declration of the function.\nThis worked fine as long as the global function was written in javascript.</p>\n\n<p>When converted to typescript, i referenced the .d.ts file, to import the types.\nBut when compiling it complains about the function being both declared and implemented, aka <code>error TS2384: Overload signatures must all be ambient or non-ambient.</code></p>\n\n<ol>\n<li>Why can't I refer my d.ts file with the declaration? / Why aren't I allowed to declare a function thats being implemented in typescript?</li>\n</ol>\n\n<p>In old C, it was ok to include the h-file with the declarations for the current file, and often very useful.</p>\n\n<ol start=\"2\">\n<li>Where should i put implementation, interfaces and function delcarations, and how should i refer between them to avoid errors? (as my currentwhy to split them up in a .ts and a .d.ts file isn't correct)</li>\n</ol>\n\n<p>Made a minifed exemple:</p>\n\n<pre><code>// test.d.ts\ninterface test_option {\n    a: boolean;\n}\n\ndeclare function test(options: test_option): boolean;\n</code></pre>\n\n<pre><code>// test.ts\n/// &lt;reference path=\"test.d.ts\" /&gt;\n\nfunction test(options: test_option): boolean {\n    return !options.a;\n}\n</code></pre>\n\n<pre><code>// test2.ts\n/// &lt;reference path=\"test.d.ts\" /&gt;\n\nwindow.console.log(test({a: true}));\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "inversifyjs"], "answers": [{"tags": [], "owner": {"reputation": 1576, "user_id": 5758348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55cc33cdaa4847876a93af89e88422e5?s=128&d=identicon&r=PG", "display_name": "Federico Jousset", "link": "https://stackoverflow.com/users/5758348/federico-jousset"}, "is_accepted": true, "score": 0, "last_activity_date": 1561727780, "creation_date": 1561727780, "answer_id": 56807664, "question_id": 56563254, "link": "https://stackoverflow.com/questions/56563254/inversifyjs-inject-a-specif-instance-of-an-object/56807664#56807664", "title": "InversifyJS - Inject a specif instance of an object", "body": "<p>Just in case someone else faces this scenario, I've implemeted this wrapping the container in a class with a private variable where I can store my <code>ExternalContext</code> and bind it using <code>toDynamicValue()</code> (I couldn't find a way of using the container context for this).</p>\n\n<pre><code>    this.container.bind&lt;ExternalContext&gt;(ExternalContext).toDynamicValue(() =&gt; {\n        return this._externalContext;\n    });\n</code></pre>\n\n<p>The bit I don't like about this approach is that requires to manually set the context before using the container, but I guess it's not that bad considering the alternatives:</p>\n\n<pre><code>namespace Example {\n    export function onLoad(context: ExternalContext) {\n    externalContainer.setContext(context);  // &lt;----- :(       \n    set bl = externalContainer.container.resolve&lt;BusinessLogic&gt;(BusinessLogic);\n            bl.doSomething();\n        }\n    }\n</code></pre>\n\n<p>There's probably a better way of doing this so please shout if you can figure it out.</p>\n"}], "owner": {"reputation": 1576, "user_id": 5758348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55cc33cdaa4847876a93af89e88422e5?s=128&d=identicon&r=PG", "display_name": "Federico Jousset", "link": "https://stackoverflow.com/users/5758348/federico-jousset"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 1, "accepted_answer_id": 56807664, "answer_count": 1, "score": 2, "last_activity_date": 1561727780, "creation_date": 1560345567, "question_id": 56563254, "link": "https://stackoverflow.com/questions/56563254/inversifyjs-inject-a-specif-instance-of-an-object", "title": "InversifyJS - Inject a specif instance of an object", "body": "<p>I started to use InversifyJS in Dynamics 365 development. To give you some context, Dynamics allows you to extend the platform writing custom business logic (using JS) and attach it to defined form events. In this example, I want to instantiate my bussiness logic class and execute my custom code on the form onload event. The code should look like this:</p>\n\n<pre><code>namespace Example {\n    export function onLoad(context: ExternalContext) {\n        set bl = container.resolve&lt;BusinessLogic&gt;(BusinessLogic);\n        bl.doSomething();\n    }\n}\n</code></pre>\n\n<p>As you can imagine, the <code>onLoad</code> function will be called by Dynamics 365 when the event takes place. The form context (<code>ExternalContext</code> in this example) will be passed as a parameter to the function. This object is really important because it allows to our code to interact with the controls that exist in the form, and <strong>it's this precisely object the one I want to inject to the <code>BusinessLogic</code> class</strong>.</p>\n\n<p>BusinessLogic class:  </p>\n\n<pre><code>@injectable()\nexport class BusinessLogic {\n    protected readonly _context: ExternalContext;\n    protected readonly _otherDependency: OtherDependency;\n\n constructor(\n    @inject(ExternalContext) formContext: ExternalContext, \n    @inject(OtherDependency) otherDependency: OtherDependency) {\n    this._formContext = formContext;\n    this._otherDependency = otherDependency;\n}\n\ndoSomething() {\n    this._otherDependency.foo(this._context.value1);\n}\n}\n</code></pre>\n\n<p>Just another example dependency:</p>\n\n<pre><code>@injectable()\nexport class OtherDependency {\n    foo(propertyValue: string) {\n        // do stuff...\n    }\n}\n</code></pre>\n\n<p>How do I register/inject the <code>ExternalContext</code> object that the platform passed to my <code>onLoad</code> method into my business class? I think about storing it in the container context but I'm sure there's a better way of doing it.</p>\n\n<pre><code>container.bind&lt;ExternalContext&gt;().toDynamicValue((context) =&gt; {\n   //context??\n});\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "sass"], "comments": [{"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1560346585, "post_id": 56563243, "comment_id": 99706574, "body": "Generally the framework finds the SCSS file that matches the name of your TS file found in the same folder. You don&#39;t need to import this yourself."}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1560346642, "post_id": 56563243, "comment_id": 99706606, "body": "What framework?"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 2, "creation_date": 1560346677, "post_id": 56563243, "comment_id": 99706630, "body": "If i have many .scss files i need to import them into react to use them. Sorry im misunderstanding your point?"}, {"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1560346746, "post_id": 56563243, "comment_id": 99706673, "body": "You had &quot;reactjs&quot; as one of your tags. That would be your framework, React."}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1560346760, "post_id": 56563243, "comment_id": 99706684, "body": "Yep, but im not using create-react-app."}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 1, "creation_date": 1560346819, "post_id": 56563243, "comment_id": 99706718, "body": "Are you saying i don&#39;t need to import any scss files into my tsx files? What if the scss file is located in a sub directory and i wanted to use it in a tsx file located in another directory... or they were named differently?"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1560346895, "post_id": 56563243, "comment_id": 99706772, "body": "and just fyi, i removed the import statement so it built but the styles were not applied. So it doesen&#39;t look like its finding the scss file that matches the name o the ts file."}, {"owner": {"reputation": 453, "user_id": 4792461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ube4h.jpg?s=128&g=1", "display_name": "John Harding", "link": "https://stackoverflow.com/users/4792461/john-harding"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1563993840, "post_id": 56563243, "comment_id": 100888749, "body": "I&#39;m also having this issue Kay. Make any progress?  And @Diodeus, it is fairly common practice to import SCSS files directly into the TS."}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "edited": false, "score": 2, "creation_date": 1564052414, "post_id": 56563243, "comment_id": 100908682, "body": "ye i did in the src of your react app add a <code>global.d.ts</code> file inside add <code>declare module &quot;*.scss&quot;;</code>"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "edited": false, "score": 0, "creation_date": 1564052496, "post_id": 56563243, "comment_id": 100908730, "body": "then your webpack should have something like this <a href=\"https://pastebin.com/QWQgMCVh\" rel=\"nofollow noreferrer\">pastebin.com/QWQgMCVh</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 2515275, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d4459ef3a4b5b412f0aaa199bf0798d9?s=128&d=identicon&r=PG", "display_name": "Benny Powers", "link": "https://stackoverflow.com/users/2515275/benny-powers"}, "is_accepted": false, "score": 15, "last_activity_date": 1580740415, "last_edit_date": 1580740415, "creation_date": 1580668158, "answer_id": 60029264, "question_id": 56563243, "link": "https://stackoverflow.com/questions/56563243/how-to-import-a-scss-file-into-a-typescript-file/60029264#60029264", "title": "How to import a scss file into a typescript file", "body": "<p>As <a href=\"https://stackoverflow.com/questions/56563243/how-to-import-a-scss-file-into-a-typescript-file#comment100908682_56563243\">OP mentioned</a>, the current solution is to add a file called <code>global.d.ts</code> to your <code>src</code> dir with the following contents</p>\n\n<pre><code>declare module '*.scss';\n</code></pre>\n\n<p>In my case, I'm using <code>rollup-plugin-lit-css</code> to import CSS as js objects. I had to create a <code>/typings/declarations.d.ts</code> file,</p>\n\n<pre><code>declare module '*.css' {\n  import { CSSResult } from 'lit-element';\n  const css: CSSResult;\n  export default css;\n}\n</code></pre>\n\n<p>and reference it in tsconfig like so:</p>\n\n<pre><code>{\n  \"include\": [ \"typings\", \"src\" ],\n  \"compilerOptions\": {\n    \"target\": \"ESNext\",\n    \"module\": \"CommonJS\",\n    \"esModuleInterop\": true,\n    \"noEmit\": true,\n    \"allowJs\": true,\n    \"checkJs\": true\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8176, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1605167842, "creation_date": 1560345545, "last_edit_date": 1560346746, "question_id": 56563243, "link": "https://stackoverflow.com/questions/56563243/how-to-import-a-scss-file-into-a-typescript-file", "title": "How to import a scss file into a typescript file", "body": "<p>I am trying to import a .scss file into a .tsx typescript file.</p>\n\n<p>However i get the following error. When i run <code>npm run tsc</code></p>\n\n<blockquote>\n  <p>src/public/app1/index.tsx:5:20 - error TS2307: Cannot find module\n  './index.scss'.</p>\n  \n  <p>5 import styles from \"./index.scss\";\n                       ~~~~~~~~~~~~~~</p>\n  \n  <p>Found 1 error.</p>\n</blockquote>\n\n<p><strong>index.tsx</strong></p>\n\n<pre><code>import React from \"react\";\nimport { render } from \"react-dom\";\nimport App from \"./App\";\nimport styles from \"./index.scss\";\n\nrender(\n    &lt;App/&gt;,\n    document.getElementById(\"root\"),\n);\n</code></pre>\n\n<p><strong>index.scss</strong></p>\n\n<pre><code>body {\n    background:red;\n    color: #005CC5;\n    text-align: center;\n}\n</code></pre>\n\n<p>I saw one solution was to create a decleration.d.ts file in the root of my project. But this has not worked for me. <a href=\"https://stackoverflow.com/questions/40382842/cant-import-css-scss-modules-typescript-says-cannot-find-module\">Can&#39;t import CSS/SCSS modules. TypeScript says &quot;Cannot Find Module&quot;</a></p>\n\n<p><strong>decleration.d.ts</strong></p>\n\n<pre><code>declare module '*.scss';\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    /* Basic Options */\n    // \"incremental\": true,                   /* Enable incremental compilation */\n    \"target\": \"es6\",                          /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */\n    \"module\": \"commonjs\",                     /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */\n    // \"lib\": [],                             /* Specify library files to be included in the compilation. */\n    // \"allowJs\": true,                       /* Allow javascript files to be compiled. */\n    // \"checkJs\": true,                       /* Report errors in .js files. */\n    \"jsx\": \"react\",                     /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */\n    // \"declaration\": true,                   /* Generates corresponding '.d.ts' file. */\n    // \"declarationMap\": true,                /* Generates a sourcemap for each corresponding '.d.ts' file. */\n    // \"sourceMap\": true,                     /* Generates corresponding '.map' file. */\n    // \"outFile\": \"./\",                       /* Concatenate and emit output to single file. */\n    \"outDir\": \"./build\",                        /* Redirect output structure to the directory. */\n    \"rootDir\": \"./src\",                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */\n    // \"composite\": true,                     /* Enable project compilation */\n    // \"tsBuildInfoFile\": \"./\",               /* Specify file to store incremental compilation information */\n    // \"removeComments\": true,                /* Do not emit comments to output. */\n    // \"noEmit\": true,                        /* Do not emit outputs. */\n    // \"importHelpers\": true,                 /* Import emit helpers from 'tslib'. */\n    // \"downlevelIteration\": true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */\n    // \"isolatedModules\": true,               /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */\n\n    /* Strict Type-Checking Options */\n    \"strict\": true,                           /* Enable all strict type-checking options. */\n    // \"noImplicitAny\": true,                 /* Raise error on expressions and declarations with an implied 'any' type. */\n    // \"strictNullChecks\": true,              /* Enable strict null checks. */\n    // \"strictFunctionTypes\": true,           /* Enable strict checking of function types. */\n    // \"strictBindCallApply\": true,           /* Enable strict 'bind', 'call', and 'apply' methods on functions. */\n    // \"strictPropertyInitialization\": true,  /* Enable strict checking of property initialization in classes. */\n    // \"noImplicitThis\": true,                /* Raise error on 'this' expressions with an implied 'any' type. */\n    // \"alwaysStrict\": true,                  /* Parse in strict mode and emit \"use strict\" for each source file. */\n\n    /* Additional Checks */\n    // \"noUnusedLocals\": true,                /* Report errors on unused locals. */\n    // \"noUnusedParameters\": true,            /* Report errors on unused parameters. */\n    // \"noImplicitReturns\": true,             /* Report error when not all code paths in function return a value. */\n    // \"noFallthroughCasesInSwitch\": true,    /* Report errors for fallthrough cases in switch statement. */\n\n    /* Module Resolution Options */\n    \"moduleResolution\": \"node\",            /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */\n    \"baseUrl\": \"./src\",                       /* Base directory to resolve non-absolute module names. */\n    // \"paths\": {},                           /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */\n    // \"rootDirs\": [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */\n    // \"typeRoots\": [],                       /* List of folders to include type definitions from. */\n    // \"types\": [],                           /* Type declaration files to be included in compilation. */\n    // \"allowSyntheticDefaultImports\": true,  /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */\n    \"esModuleInterop\": true                   /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */\n    // \"preserveSymlinks\": true,              /* Do not resolve the real path of symlinks. */\n    // \"allowUmdGlobalAccess\": true,          /* Allow accessing UMD globals from modules. */\n\n    /* Source Map Options */\n    // \"sourceRoot\": \"\",                      /* Specify the location where debugger should locate TypeScript files instead of source locations. */\n    // \"mapRoot\": \"\",                         /* Specify the location where debugger should locate map files instead of generated locations. */\n    // \"inlineSourceMap\": true,               /* Emit a single file with source maps instead of having a separate file. */\n    // \"inlineSources\": true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */\n\n    /* Experimental Options */\n    // \"experimentalDecorators\": true,        /* Enables experimental support for ES7 decorators. */\n    // \"emitDecoratorMetadata\": true,         /* Enables experimental support for emitting type metadata for decorators. */\n  },\n  \"include\": [\n    \"src\",\n  ],\n  \"exclude\": [\n    \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1162, "user_id": 6057338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/278e03e5c5fd9b562cb53bf4251be22e?s=128&d=identicon&r=PG&f=1", "display_name": "Benjamin Sch&#228;ublin", "link": "https://stackoverflow.com/users/6057338/benjamin-sch%c3%a4ublin"}, "edited": false, "score": 0, "creation_date": 1560345572, "post_id": 56562992, "comment_id": 99705910, "body": "Seems to me localize-router does not work with RouterTestingModule. I can&#39;t find a sample on their github-repo either providing a full module sample. They test the service instead, maybe you could take a look at it: <a href=\"https://github.com/Greentube/localize-router/blob/master/tests/localize-router.service.spec.ts\" rel=\"nofollow noreferrer\">localize-router/tests</a>"}], "owner": {"reputation": 1690, "user_id": 2623021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80c26fd595e31bd076e3fdff6c5d187a?s=128&d=identicon&r=PG", "display_name": "briarheart", "link": "https://stackoverflow.com/users/2623021/briarheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 739, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560344833, "creation_date": 1560344833, "question_id": 56562992, "link": "https://stackoverflow.com/questions/56562992/angular-7-localize-router-test-language-switching", "title": "Angular 7 + localize-router: test language switching", "body": "<p>I'm quite new to Angular and now stuck with the following issue.</p>\n\n<p>I use <a href=\"https://github.com/Greentube/localize-router\" rel=\"nofollow noreferrer\">localize-router</a> along with <code>ngx-translate</code> to have paths like <code>http://myapp/en/home</code> and <code>http://myapp/fr/home</code>. Language switching is done via router links:</p>\n\n<pre><code>&lt;a mat-button [routerLink]=\"'/en'\" class=\"en-link\"&gt;en&lt;/a&gt;\n&lt;a mat-button [routerLink]=\"'/fr'\" class=\"fr-link\"&gt;fr&lt;/a&gt;\n</code></pre>\n\n<p>Also I subscribed to <code>LangChangeEvent</code> in <code>AppComponent</code>:</p>\n\n<pre><code>export class AppComponent implements OnInit {\n  constructor(private translate: TranslateService) {\n  }\n\n  ngOnInit() {\n    this.translate.onLangChange.subscribe((event: LangChangeEvent) =&gt; {\n      ...\n    });\n  }\n}\n</code></pre>\n\n<p>Everything works as expected and now I'd like to test language switching:</p>\n\n<pre><code>const routes: Routes = [{path: '', component: AppComponent}];\n\ndescribe('AppComponent', () =&gt; {\n  let fixture: ComponentFixture&lt;AppComponent&gt;;\n  let translate: TranslateService;\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [\n        LocalizeRouterModule.forRoot(routes, {\n          parser: {\n            provide: LocalizeParser,\n            useFactory: LocalizeHttpLoaderFactory,\n            deps: [TranslateService, Location, LocalizeRouterSettings]\n          }\n        }),\n        RouterTestingModule.withRoutes(routes),\n        HttpClientTestingModule,\n        TranslateModule.forRoot({\n          loader: {\n            provide: TranslateLoader,\n            useFactory: TranslateHttpLoaderFactory,\n            deps: [HttpClient]\n          }\n        })\n      ],\n      declarations: [AppComponent]\n    }).compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(AppComponent);\n  });\n\n  it('should switch language', () =&gt; {\n    fixture.detectChanges();\n    const selector = By.css('.fr-link');\n    const frLink = fixture.debugElement.query(selector);\n    fixture.whenStable().then(() =&gt; {\n      frLink.nativeElement.click();\n      const injector = getTestBed();\n      const translate = injector.get(TranslateService);\n      expect(translate.currentLang).toBe('fr');\n    });\n  });\n});\n</code></pre>\n\n<p>After link click I get the error from other component test:</p>\n\n<pre><code>DashboardComponent should create\nUncaught Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'fr'\nError: Cannot match any routes. URL Segment: 'fr'\n  at ApplyRedirects.push../node_modules/@angular/router/fesm5/router.js.ApplyRedirects.noMatchError (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/router/fesm5/router.js:2469:1)\n  at CatchSubscriber.selector (http://localhost:9876/_karma_webpack_/webpack:/node_modules/@angular/router/fesm5/router.js:2450:1)\n  at CatchSubscriber.push../node_modules/rxjs/_esm5/internal/operators/catchError.js.CatchSubscriber.error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/operators/catchError.js:34:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber._error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:80:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:60:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber._error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:80:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:60:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber._error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:80:1)\n  at MapSubscriber.push../node_modules/rxjs/_esm5/internal/Subscriber.js.Subscriber.error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/Subscriber.js:60:1)\n  at TapSubscriber.push../node_modules/rxjs/_esm5/internal/operators/tap.js.TapSubscriber._error (http://localhost:9876/_karma_webpack_/webpack:/node_modules/rxjs/_esm5/internal/operators/tap.js:61:1) thrown\n</code></pre>\n\n<p><code>DashboardComponent</code> is a container component that is normally bound to empty path in <code>AppRoutingModule</code>:</p>\n\n<pre><code>export const routes: Routes = [{path: '', component: DashboardComponent}]\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560344298, "post_id": 56562648, "comment_id": 99705024, "body": "Does it need to be a new browser window object? Or could you put it in a named <code>router-outlet</code> and style it as a popup?"}, {"owner": {"reputation": 23, "user_id": 11636037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nXxerkIERdc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7eEeYcw2PAd9hsiZklAqHMlUsOA/mo/photo.jpg?sz=128", "display_name": "Sako Kalid", "link": "https://stackoverflow.com/users/11636037/sako-kalid"}, "reply_to_user": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560348899, "post_id": 56562648, "comment_id": 99708103, "body": "I only need to be able to move the window and resize as i want, doesn&#39;t need to be a new browser window object if this is possible without?"}, {"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560349435, "post_id": 56562648, "comment_id": 99708423, "body": "I&#39;ve never been able to successfully use the CDK. It&#39;s <b>extremely</b> complicated IME. Have you looked at WindowComponent? If you need a true new window object then I would learn the CDK deeply or get help with it. Or build your own modal popup in a named router-outlet with handles and draggability. Sorry I can&#39;t help more."}, {"owner": {"reputation": 23, "user_id": 11636037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nXxerkIERdc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7eEeYcw2PAd9hsiZklAqHMlUsOA/mo/photo.jpg?sz=128", "display_name": "Sako Kalid", "link": "https://stackoverflow.com/users/11636037/sako-kalid"}, "reply_to_user": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1560408634, "post_id": 56562648, "comment_id": 99727657, "body": "Thank you anyways, i will return with the solution unless anyone beats me to it."}], "owner": {"reputation": 23, "user_id": 11636037, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nXxerkIERdc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd7eEeYcw2PAd9hsiZklAqHMlUsOA/mo/photo.jpg?sz=128", "display_name": "Sako Kalid", "link": "https://stackoverflow.com/users/11636037/sako-kalid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560343767, "creation_date": 1560343767, "question_id": 56562648, "link": "https://stackoverflow.com/questions/56562648/how-do-you-create-a-new-window-with-a-component-in-angular-and-be-able-to-call", "title": "How do you create a new window with a component in angular, and be able to call functions from parent?", "body": "<p>In my project i have some tabs where one of them is a Here Map element, i've put in it own component and use in my main view. I want to be able to use this component in a new window instead, but be able to call functions from the parent component. How do i achieve this?</p>\n\n<p>I've tried a couple of solutions, and so far this stackblitz <a href=\"https://stackblitz.com/edit/angular-open-window-etturt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-open-window-etturt</a> is the closest to my solution, but i can't reference functions in the component and it becomes undefined. The component has a Promise Function im using to init the map.</p>\n\n<pre><code>this.hereMaps\n        .loadScript()\n        .then(() =&gt; {\n          `//do something when ready\n        })\n        .catch((err: any) =&gt; {\n          throw err;\n        });```\n\nI want to be able to use this function, and other functions like the geocoder.\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1560343217, "creation_date": 1560343217, "answer_id": 56562473, "question_id": 56562211, "link": "https://stackoverflow.com/questions/56562211/how-do-i-create-internal-generic-type/56562473#56562473", "title": "How do I create &quot;internal-generic&quot; type?", "body": "<p>There is no way to do this directly. You need an extra generic type to <code>DnsRecords</code> to contain the type for each property:</p>\n\n<pre><code>type DnsRecords&lt;T&gt; = {\n    [P in keyof T]: {\n        component: FC&lt;T[P]&gt;\n        toInlineValue: (data: T[P]) =&gt; string\n        fromInlineValue: (record: string) =&gt; T[P]\n}\n}\ntype V = DnsRecords&lt;{\n    a: { foo: string },\n    b: { bar: string }\n}&gt;\n</code></pre>\n\n<p>You can create a function that will help inferring <code>T</code> but if you use different values the compiler will infer a union of the properties:</p>\n\n<pre><code>function createDns&lt;T&gt;(dns: DnsRecords&lt;T&gt;) {\n    return dns;\n}\n\ntype A = { x: string }\ntype B = { x2: string }\n\nlet o = createDns({ // T is { a: A | B; }\n    a: {\n        component: (p: A) =&gt; { },\n        toInlineValue: (data: B) =&gt; \"\",\n        fromInlineValue: (r) =&gt; ({ x: r })\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15, "favorite_count": 0, "accepted_answer_id": 56562473, "answer_count": 1, "score": 0, "last_activity_date": 1560343217, "creation_date": 1560342379, "question_id": 56562211, "link": "https://stackoverflow.com/questions/56562211/how-do-i-create-internal-generic-type", "title": "How do I create &quot;internal-generic&quot; type?", "body": "<pre><code>type DnsRecords = {\n  [key: string]: {\n    component: FC&lt;A&gt;\n    toInlineValue: (data: A) =&gt; string\n    fromInlineValue: (record: string) =&gt; A\n  }\n}\n</code></pre>\n\n<p>But for every sub-object, <code>A</code> can be different.</p>\n\n<p>For example:</p>\n\n<pre><code>type DnsRecords = {\n  a: {\n    component: FC&lt;{ a: number }&gt;\n    toInlineValue: (data: { a: number }) =&gt; string\n    fromInlineValue: (record: string) =&gt; { a: number }\n  }\n  b: {\n    component: FC&lt;string | number&gt;\n    toInlineValue: (data: string | number) =&gt; string\n    fromInlineValue: (record: string) =&gt; string | number\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "forms", "typescript", "form-submit"], "comments": [{"owner": {"reputation": 1199, "user_id": 2539616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eP6z3.jpg?s=128&g=1", "display_name": "Dammeul", "link": "https://stackoverflow.com/users/2539616/dammeul"}, "edited": false, "score": 0, "creation_date": 1560342311, "post_id": 56562153, "comment_id": 99703794, "body": "This should help you out: <a href=\"https://medium.com/@ericclemmons/react-event-preventdefault-78c28c950e46\" rel=\"nofollow noreferrer\">medium.com/@ericclemmons/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "is_accepted": true, "score": 8, "last_activity_date": 1560342777, "last_edit_date": 1560342777, "creation_date": 1560342435, "answer_id": 56562229, "question_id": 56562153, "link": "https://stackoverflow.com/questions/56562153/react-typescript-onsubmit-e-preventdefault-not-working/56562229#56562229", "title": "React TypeScript onSubmit e.preventDefault() not working", "body": "<p>You are adding <code>onSubmit</code>in the wrong place.</p>\n\n<p>You should add in the <code>form</code> not in the button.</p>\n\n<pre><code>  public render() {\n    return (\n      &lt;div&gt;                    // \\/ added here\n        &lt;form className=\"form\" onSubmit={this.handleSubmit}&gt;\n          &lt;input \n            type=\"text\" \n            name=\"text\" \n            value={this.state.text} \n            placeholder=\"Search Users...\"\n            onChange={this.handleChange}\n          /&gt;\n          &lt;input                 // removed from the button\n            type=\"submit\"\n            value=\"search\"\n            className=\"btn btn-dark btn-block\" \n          /&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n\n<p>If you look at <a href=\"https://reactjs.org/docs/forms.html#controlled-components\" rel=\"noreferrer\">the example on the docs</a> you will see that they add it in the <code>form</code>.</p>\n\n<p>*Remember that to trigger the <code>form</code>'s <code>onSubmit</code>, your <code>input</code>/<code>button</code> needs to have <code>type=\"submit\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 1767, "user_id": 193717, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6446a74c47a3050a34a84b2de38a1bb6?s=128&d=identicon&r=PG", "display_name": "Calum", "link": "https://stackoverflow.com/users/193717/calum"}, "edited": false, "score": 1, "creation_date": 1589644059, "post_id": 59650475, "comment_id": 109377628, "body": "The form submit handler should have an event type of: e: React.FormEvent&lt;HTMLFormElement&gt;"}], "tags": [], "owner": {"reputation": 385, "user_id": 10987126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7efd09b15475a1f3748ba4cc807a013c?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_b194", "link": "https://stackoverflow.com/users/10987126/mr-b194"}, "is_accepted": false, "score": 0, "last_activity_date": 1578502410, "creation_date": 1578502410, "answer_id": 59650475, "question_id": 56562153, "link": "https://stackoverflow.com/questions/56562153/react-typescript-onsubmit-e-preventdefault-not-working/59650475#59650475", "title": "React TypeScript onSubmit e.preventDefault() not working", "body": "<p>I fixed the similar issue by removing <code>e.preventDefault</code> from handleSubmit function and adding <code>**onClick={e =&gt; {e.preventDefault(); this.handleSubmit()}}**</code> on button.\nand you have to put onSubmit on Form.</p>\n\n<pre><code>  private handleSubmit = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    this.props.searchUsers(this.state.text);\n    this.setState({text: ''});\n  }\n  public render() {\n    return (\n      &lt;div&gt;\n        &lt;form onSubmit={this.handleSubmit} className=\"form\"&gt;\n          &lt;input \n            type=\"text\" \n            name=\"text\" \n            value={this.state.text} \n            placeholder=\"Search Users...\"\n            onChange={this.handleChange}\n          /&gt;\n          &lt;input \n            type=\"submit\"\n            value=\"search\"\n            className=\"btn btn-dark btn-block\" \n            onClick={e =&gt; {e.preventDefault(); this.handleSubmit()}}\n          /&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n\n<p>This is tested and should work.</p>\n"}], "owner": {"reputation": 131, "user_id": 8008104, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102080690092539/picture?type=large", "display_name": "Seth Wilson", "link": "https://stackoverflow.com/users/8008104/seth-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11546, "favorite_count": 0, "accepted_answer_id": 56562229, "answer_count": 2, "score": 3, "last_activity_date": 1578502410, "creation_date": 1560342175, "last_edit_date": 1560342258, "question_id": 56562153, "link": "https://stackoverflow.com/questions/56562153/react-typescript-onsubmit-e-preventdefault-not-working", "title": "React TypeScript onSubmit e.preventDefault() not working", "body": "<p>I'm building a simple user search app using React and TypeScript. I have a basic form with an input text box to search users and an input button that submits the search. But the <code>e.preventDefault()</code> method in my <code>onSubmit</code> method doesn't seem to be working. When I submit, the whole app refreshes. Actually, it may be that <code>onSubmit</code> isn't even being called at all.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  private handleSubmit = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    e.preventDefault();\n    this.props.searchUsers(this.state.text);\n    this.setState({text: ''});\n  }\n\n  private handleChange = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    this.setState({text: e.currentTarget.value});\n  }\n\n  public render() {\n    return (\n      &lt;div&gt;\n        &lt;form className=\"form\"&gt;\n          &lt;input \n            type=\"text\" \n            name=\"text\" \n            value={this.state.text} \n            placeholder=\"Search Users...\"\n            onChange={this.handleChange}\n          /&gt;\n          &lt;input \n            type=\"submit\"\n            value=\"search\"\n            className=\"btn btn-dark btn-block\" \n            onSubmit={this.handleSubmit}\n          /&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n\n<p>Any suggestions? Thanks!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "editor"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 2, "creation_date": 1560342307, "post_id": 56562116, "comment_id": 99703790, "body": "I think this library can be useful here <a href=\"https://github.com/formql/formql\" rel=\"nofollow noreferrer\">github.com/formql/formql</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11147409, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9V2j6SP6pfI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVwt0gaZFW5rXg7HSClQrzwHcyMA/mo/photo.jpg?sz=128", "display_name": "Michael Ashenafi", "link": "https://stackoverflow.com/users/11147409/michael-ashenafi"}, "is_accepted": false, "score": 5, "last_activity_date": 1560349073, "creation_date": 1560349073, "answer_id": 56564361, "question_id": 56562116, "link": "https://stackoverflow.com/questions/56562116/angular-drag-and-drop-form-builder/56564361#56564361", "title": "Angular drag and drop form builder", "body": "<p>You can try using</p>\n\n<ol>\n<li><p><a href=\"https://github.com/shakalya195/angular-5-formbuilder\" rel=\"noreferrer\">https://github.com/shakalya195/angular-5-formbuilder</a> \nThis one has a built in custom validators (<a href=\"http://formbuilder.shakalya.com\" rel=\"noreferrer\">http://formbuilder.shakalya.com</a>),</p></li>\n<li><p><a href=\"https://stackblitz.com/edit/angular-drag-drop-form\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-drag-drop-form</a> which has features for features drop scopes, custom styling, disable drag/drop &amp; drag handles</p></li>\n<li><p>You can also try using the formbuilder npm package (A jQuery plugin ) <a href=\"https://www.npmjs.com/package/formBuilder\" rel=\"noreferrer\">https://www.npmjs.com/package/formBuilder</a></p></li>\n<li><p>Angular Drag-Drop FormBuilder\nA PEN BY Lam Phuoc Thinh - you can find a form builder made using jquery </p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 4726, "user_id": 4157958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95fcfb7a117a72389aa8149ad8617ad?s=128&d=identicon&r=PG", "display_name": "Travis Tidwell", "link": "https://stackoverflow.com/users/4157958/travis-tidwell"}, "edited": false, "score": 3, "creation_date": 1573702677, "post_id": 56649068, "comment_id": 103971211, "body": "You should be using the updated version for Angular 8 at <a href=\"https://github.com/formio/angular-formio\" rel=\"nofollow noreferrer\">github.com/formio/angular-formio</a>. Demo found at <a href=\"https://formio.github.io/angular-demo/#/forms/builder\" rel=\"nofollow noreferrer\">formio.github.io/angular-demo/#/forms/builder</a>. Disclaimer: I created this library."}], "tags": [], "owner": {"reputation": 1558, "user_id": 6516777, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJjvL.png?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/6516777/developer"}, "is_accepted": true, "score": 7, "last_activity_date": 1560860542, "creation_date": 1560860542, "answer_id": 56649068, "question_id": 56562116, "link": "https://stackoverflow.com/questions/56562116/angular-drag-and-drop-form-builder/56649068#56649068", "title": "Angular drag and drop form builder", "body": "<p>Nice, after some research I found a better plugin \"formio\" \nthis helpful plugin that had a lot of options and easy to integration hope this will help you as well.</p>\n\n<p>Refer : <a href=\"https://formio.github.io/ngFormBuilder\" rel=\"noreferrer\">https://formio.github.io/ngFormBuilder</a></p>\n"}, {"comments": [{"owner": {"reputation": 387, "user_id": 5371215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1lCP6EQau-4/AAAAAAAAAAI/AAAAAAAAASo/QAyjYbMMDeI/photo.jpg?sz=128", "display_name": "Praveen Vishnu", "link": "https://stackoverflow.com/users/5371215/praveen-vishnu"}, "edited": false, "score": 0, "creation_date": 1611060771, "post_id": 58849000, "comment_id": 116323485, "body": "Hey Travis, Thanks for developing the library. I have one question,  can we add custom HTML for drag-drop in formio. for example.. I want a drag-drop star rating system.  any response will be helpful"}], "tags": [], "owner": {"reputation": 4726, "user_id": 4157958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d95fcfb7a117a72389aa8149ad8617ad?s=128&d=identicon&r=PG", "display_name": "Travis Tidwell", "link": "https://stackoverflow.com/users/4157958/travis-tidwell"}, "is_accepted": false, "score": 6, "last_activity_date": 1573702618, "creation_date": 1573702618, "answer_id": 58849000, "question_id": 56562116, "link": "https://stackoverflow.com/questions/56562116/angular-drag-and-drop-form-builder/58849000#58849000", "title": "Angular drag and drop form builder", "body": "<p>You should give <a href=\"https://github.com/formio/angular-formio\" rel=\"noreferrer\">https://github.com/formio/angular-formio</a> a try. You can see a demo at <a href=\"https://formio.github.io/angular-demo/#/forms/builder\" rel=\"noreferrer\">https://formio.github.io/angular-demo/#/forms/builder</a></p>\n\n<p>Disclaimer: I created this library.</p>\n"}], "owner": {"reputation": 1558, "user_id": 6516777, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJjvL.png?s=128&g=1", "display_name": "Developer", "link": "https://stackoverflow.com/users/6516777/developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10188, "favorite_count": 2, "closed_date": 1613562282, "accepted_answer_id": 56649068, "answer_count": 3, "score": 2, "last_activity_date": 1613557760, "creation_date": 1560342056, "last_edit_date": 1560860427, "question_id": 56562116, "link": "https://stackoverflow.com/questions/56562116/angular-drag-and-drop-form-builder", "closed_reason": "Not suitable for this site", "title": "Angular drag and drop form builder", "body": "<p>I am trying to create a certificate generation application using Angular</p>\n\n<p>for that, I need to place input fields on the certificate. (something like drag and drop).</p>\n\n<p>I am planning to build from scratch using div and using dynamic forms in type script, is there any plugin for creating a form with drag and drop/add field elements inside the form.</p>\n\n<p>can anyone provide useful links,</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 1, "creation_date": 1560341782, "post_id": 56561895, "comment_id": 99703454, "body": "which line are you getting error. I also see that the <code>name</code> in second line is not a <code>var</code> or <code>let</code>"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "edited": false, "score": 0, "creation_date": 1560341918, "post_id": 56561895, "comment_id": 99703540, "body": "can you first delete the key <code>name</code> and try to initialize it again like this  <code>formData.delete(&#39;name&#39;);  formData.append(&#39;name&#39;, name); </code>"}, {"owner": {"reputation": 893, "user_id": 8825698, "user_type": "registered", "profile_image": "https://graph.facebook.com/1596242750435604/picture?type=large", "display_name": "Umaiz Khan", "link": "https://stackoverflow.com/users/8825698/umaiz-khan"}, "reply_to_user": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1560346735, "post_id": 56561895, "comment_id": 99706666, "body": "Thanks @sachin Gupta adding let with name solve the error thanks again"}, {"owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "edited": false, "score": 0, "creation_date": 1560558354, "post_id": 56561895, "comment_id": 99788796, "body": "Posted as answer, accept if it helped"}], "answers": [{"tags": [], "owner": {"reputation": 3645, "user_id": 6019563, "user_type": "registered", "profile_image": "https://graph.facebook.com/1072513362799030/picture?type=large", "display_name": "Sachin Gupta", "link": "https://stackoverflow.com/users/6019563/sachin-gupta"}, "is_accepted": true, "score": 1, "last_activity_date": 1560376945, "creation_date": 1560376945, "answer_id": 56570935, "question_id": 56561895, "link": "https://stackoverflow.com/questions/56561895/angular-cannot-assign-to-name-because-it-is-a-constant-or-a-read-only-property/56570935#56570935", "title": "Angular Cannot assign to &#39;name&#39; because it is a constant or a read-only property", "body": "<p>You need to declare <code>name</code> as a <code>let</code> or <code>var</code> to assign values to it.</p>\n"}], "owner": {"reputation": 893, "user_id": 8825698, "user_type": "registered", "profile_image": "https://graph.facebook.com/1596242750435604/picture?type=large", "display_name": "Umaiz Khan", "link": "https://stackoverflow.com/users/8825698/umaiz-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1816, "favorite_count": 1, "accepted_answer_id": 56570935, "answer_count": 1, "score": 1, "last_activity_date": 1560376945, "creation_date": 1560341350, "last_edit_date": 1560343739, "question_id": 56561895, "link": "https://stackoverflow.com/questions/56561895/angular-cannot-assign-to-name-because-it-is-a-constant-or-a-read-only-property", "title": "Angular Cannot assign to &#39;name&#39; because it is a constant or a read-only property", "body": "<p>Im getting error Cannot assign to 'name' because it is a constant or a read-only property. When send data to api. Any one know how can i solve this ? Thanks </p>\n\n<pre><code>  onSubmit() {\n  name = this.backUrl || 'admin';\n  console.log(name);\n    const formData = new FormData();\n\n    formData.append('avatar', this.form.get('avatar').value);\n    formData.append('name', name);\n\n\n    this.uploadService.uploadFile(formData).subscribe(\n      (res) =&gt; {\n        this.uploadResponse = res;\n          console.log(res);\n      },\n      (err) =&gt; {  \n        console.log(err);\n      }\n    );\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 500, "user_id": 4169946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gyg4.jpg?s=128&g=1", "display_name": "Rafael Lucini", "link": "https://stackoverflow.com/users/4169946/rafael-lucini"}, "edited": false, "score": 1, "creation_date": 1560340380, "post_id": 56561536, "comment_id": 99702560, "body": "I recommend use this library <a href=\"https://www.npmjs.com/package/ngx-page-scroll\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-page-scroll</a>"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560340884, "post_id": 56561536, "comment_id": 99702874, "body": "You should first just do a normal scroll as suggested by chestas. ngx-page-scroll is for fancy scrolling and you may not need/want it"}, {"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560341039, "post_id": 56561536, "comment_id": 99702962, "body": "yeah I think is better but I am trying to understand"}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560341099, "post_id": 56561680, "comment_id": 99702994, "body": "thanks, I will try it out! , please can you clarified me abut fragment, what is usually the id"}, {"owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "reply_to_user": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 1, "creation_date": 1560341178, "post_id": 56561680, "comment_id": 99703053, "body": "id - attribute of the element <a href=\"https://www.w3schools.com/html/html_id.asp\" rel=\"nofollow noreferrer\">w3schools.com/html/html_id.asp</a> edit: added code to answer"}, {"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560341735, "post_id": 56561680, "comment_id": 99703431, "body": "the same no, it takes me there but not at the end of the page where this is located but, at the page"}, {"owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "reply_to_user": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 1, "creation_date": 1560342567, "post_id": 56561680, "comment_id": 99703935, "body": "looks like need to enable acnhor scrolling in routerModule config. look at this questions - <a href=\"https://stackoverflow.com/questions/39941656/scroll-to-anchor-not-working\" title=\"scroll to anchor not working\">stackoverflow.com/questions/39941656/&hellip;</a>"}, {"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560343852, "post_id": 56561680, "comment_id": 99704725, "body": "this had some problem i try some of there solutions there but none of them work , is there anywany just to go to botton when i click the button"}, {"owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "reply_to_user": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 1, "creation_date": 1560344191, "post_id": 56561680, "comment_id": 99704952, "body": "<a href=\"https://stackoverflow.com/questions/11715646/scroll-automatically-to-the-bottom-of-the-page\" title=\"scroll automatically to the bottom of the page\">stackoverflow.com/questions/11715646/&hellip;</a> just <code>window.scrollTo(0,document.body.scrollHeight);</code> inside your function which you call when you click the button"}, {"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560344539, "post_id": 56561680, "comment_id": 99705204, "body": "i tried this one too and worked, thank you"}], "tags": [], "owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "is_accepted": true, "score": 2, "last_activity_date": 1560342699, "last_edit_date": 1560342699, "creation_date": 1560340556, "answer_id": 56561680, "question_id": 56561536, "link": "https://stackoverflow.com/questions/56561536/how-to-access-go-to-a-specific-part-of-a-page/56561680#56561680", "title": "How to (access / go to) a specific part of a page?", "body": "<p>you can use fragment with routerLink. <a href=\"https://angular.io/api/router/RouterLink\" rel=\"nofollow noreferrer\">routerLink doc</a></p>\n\n<pre><code>    &lt;button\n        routerLink=\"/popular-categories\"\n        fragment=\"ELEMENT_ID_TO_NAVIGATE\"\n    &gt;\n      Popular categories\n      &lt;/button&gt;\n\n\n&lt;div id=\"ELEMENT_ID_TO_NAVIGATE\"&gt;this is the element i want to navigate&lt;div&gt;\n</code></pre>\n\n<p>edit:\nto make it work need to enable anchor scrolling in router module config</p>\n\n<pre><code>RouterModule.forRoot(routes, {anchorScrolling: 'enabled'})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "edited": false, "score": 0, "creation_date": 1560341723, "post_id": 56561837, "comment_id": 99703423, "body": "no, it takes me there but not at the end of the page where this is located but, at the page, what I archive is the same as routerLink=&quot;/popular-categories&quot;"}], "tags": [], "owner": {"reputation": 62, "user_id": 5618705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d47027326a84a5a49c0d20c3d06f37e5?s=128&d=identicon&r=PG&f=1", "display_name": "P.Dederer", "link": "https://stackoverflow.com/users/5618705/p-dederer"}, "is_accepted": false, "score": 1, "last_activity_date": 1560341128, "creation_date": 1560341128, "answer_id": 56561837, "question_id": 56561536, "link": "https://stackoverflow.com/questions/56561536/how-to-access-go-to-a-specific-part-of-a-page/56561837#56561837", "title": "How to (access / go to) a specific part of a page?", "body": "<p>Another approach would be to add <code>(click)=\"yourFunction()\"</code>and the function could look like </p>\n\n<pre><code>yourFunction(){\n    this.router.navigateByUrl('/popular-categories');\n}\n</code></pre>\n\n<p>you need to inilialize it in the constructor like this constructor(private router: Router) and be sure that you import the router like this:</p>\n\n<pre><code>import { Router } from '@angular/router';\n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 7964871, "user_type": "registered", "profile_image": "https://graph.facebook.com/240282476453477/picture?type=large", "display_name": "Ilia Tapia", "link": "https://stackoverflow.com/users/7964871/ilia-tapia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "closed_date": 1568186945, "accepted_answer_id": 56561680, "answer_count": 2, "score": 0, "last_activity_date": 1568107353, "creation_date": 1560340078, "last_edit_date": 1568107353, "question_id": 56561536, "link": "https://stackoverflow.com/questions/56561536/how-to-access-go-to-a-specific-part-of-a-page", "closed_reason": "Duplicate", "title": "How to (access / go to) a specific part of a page?", "body": "<p>I need to access a share component that I have included in my home page.\nI have included this before my footer , but at the top, I have a button and when that button is clicked I want to direct the user at this part of the home page.</p>\n\n<pre><code>      &lt;button\n        class=\"popular__button\"\n        routerLink=\"/popular-categories\"\n        id=\"home__middle-box-button\"\n        style=\"cursor: pointer;\"&gt;\n        Popular categories\n      &lt;/button&gt;\n.........\n......\n&lt;app-listing&gt;\n&lt;/app-listing&gt;\n&lt;app-footer&gt;\n&lt;/app-footer&gt;\n</code></pre>\n\n<p>I tried with the traditional way, but when I try to access this it takes me in a kind of new page and I don't want that.\nCan anyone help me with any trick how to access this part of the page.</p>\n\n<p>the component i want ot access look like this :</p>\n\n<pre><code>&lt;app-browse-grid [categories]=\"categories$\" class=\"popular\"&gt;\n  &lt;h2&gt;{{ 'category.popular-categories' | translate }}&lt;/h2&gt;\n&lt;/app-browse-grid&gt;\n&lt;div fxLayout=\"column wrap\" fxLayout.lt-sm=\"column\" fxLayoutGap=\"32px\" fxLayoutAlign=\"space-evenly center\"&gt;\n  &lt;div class=\"button\" fxFlex.sm=\"calc(100%)\"&gt;\n    &lt;button class=\"catalog__button\"  routerLink=\"/browse\"&gt;\n      All categories\n    &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["jquery", "html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 244, "user_id": 7895377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6f8d119169540d52a2fe2fcfbf9640?s=128&d=identicon&r=PG&f=1", "display_name": "Noman Fareed", "link": "https://stackoverflow.com/users/7895377/noman-fareed"}, "edited": false, "score": 0, "creation_date": 1560340469, "post_id": 56561400, "comment_id": 99702609, "body": "Look at this hopefully it will help <a href=\"https://stackoverflow.com/questions/35232731/angular2-scroll-to-bottom-chat-style\" title=\"angular2 scroll to bottom chat style\">stackoverflow.com/questions/35232731/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3153, "user_id": 5790498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11d1fdb99c7618199fa861fb2016192?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet", "link": "https://stackoverflow.com/users/5790498/abhijeet"}, "edited": false, "score": 0, "creation_date": 1560344175, "post_id": 56561500, "comment_id": 99704941, "body": "You should provide detailed answer not one-liner solution. check <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}], "tags": [], "owner": {"reputation": 104, "user_id": 9358873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "chestas", "link": "https://stackoverflow.com/users/9358873/chestas"}, "is_accepted": false, "score": -1, "last_activity_date": 1560347399, "last_edit_date": 1560347399, "creation_date": 1560339978, "answer_id": 56561500, "question_id": 56561400, "link": "https://stackoverflow.com/questions/56561400/is-there-a-way-to-scroll-to-the-bottom-of-the-page-in-angular-when-clicking-a-bu/56561500#56561500", "title": "Is there a way to scroll to the bottom of the page in angular when clicking a button?", "body": "<p>look at the answer here <a href=\"https://stackoverflow.com/questions/11715646/scroll-automatically-to-the-bottom-of-the-page\">Scroll Automatically to the Bottom of the Page</a> \nhere is the code, just add it inside your function scrollToBottom</p>\n\n<pre><code>window.scrollTo(0,document.body.scrollHeight);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 1, "last_activity_date": 1560340266, "creation_date": 1560340266, "answer_id": 56561597, "question_id": 56561400, "link": "https://stackoverflow.com/questions/56561400/is-there-a-way-to-scroll-to-the-bottom-of-the-page-in-angular-when-clicking-a-bu/56561597#56561597", "title": "Is there a way to scroll to the bottom of the page in angular when clicking a button?", "body": "<p>create a button which executes this normal JavaScript as written by @chestas and also <a href=\"https://stackoverflow.com/questions/11715646/scroll-automatically-to-the-bottom-of-the-page\">available here</a></p>\n\n<p>relevant <strong>TS</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n  goToBottom(){\n    window.scrollTo(0,document.body.scrollHeight);\n  }\n}\n</code></pre>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;button type=\"button\" (click)=\"goToBottom()\"&gt;go to bottom &lt;/button&gt;\n</code></pre>\n\n<p>complete <a href=\"https://stackblitz.com/edit/angular-mpqhkp\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 13, "user_id": 11415955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64e5909a23a4aecde45c3517d3017f9?s=128&d=identicon&r=PG&f=1", "display_name": "w.braham", "link": "https://stackoverflow.com/users/11415955/w-braham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2421, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560347914, "creation_date": 1560339696, "last_edit_date": 1560347914, "question_id": 56561400, "link": "https://stackoverflow.com/questions/56561400/is-there-a-way-to-scroll-to-the-bottom-of-the-page-in-angular-when-clicking-a-bu", "title": "Is there a way to scroll to the bottom of the page in angular when clicking a button?", "body": "<p>I am working on an angular project and I need to figure out a way to automatically scroll to the bottom of the page when the user clicks a button.</p>\n\n<p>I tried doing this with the jQuery function animate() which didn't work for me. I have also tried the below function:  </p>\n\n<pre><code>scrollToBottom() {\n  let myElement = document.getElementById(\"myPageId\");\n  myElement.scrollTop = myElement.scrollHeight;\n}\n</code></pre>\n\n<p>This function only works when I call it from my html page, while I need to use it in my ts file when the user clicks a button.</p>\n"}, {"tags": ["mongodb", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 11208132, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e2R4ab2Mrwo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdSCQmOtce_roRjH2Hp9x2pjZgiHg/mo/photo.jpg?sz=128", "display_name": "Yassine EL baza", "link": "https://stackoverflow.com/users/11208132/yassine-el-baza"}, "is_accepted": false, "score": 0, "last_activity_date": 1560345543, "creation_date": 1560345543, "answer_id": 56563241, "question_id": 56561176, "link": "https://stackoverflow.com/questions/56561176/typescript-mongodb-type-erasing-when-adding-methods-to-the-schema/56563241#56563241", "title": "Typescript &amp; MongoDB type erasing when adding methods to the schema", "body": "<p>Try to instanciate albums like so :</p>\n\n<pre><code>albums:new Array&lt;AlbumDocument&gt;();\n</code></pre>\n"}], "owner": {"reputation": 1284, "user_id": 1582047, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/6aa17b5f2a2de155954a5b075e1e795e?s=128&d=identicon&r=PG", "display_name": "Janosch H&#252;bner", "link": "https://stackoverflow.com/users/1582047/janosch-h%c3%bcbner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560345543, "creation_date": 1560339018, "question_id": 56561176, "link": "https://stackoverflow.com/questions/56561176/typescript-mongodb-type-erasing-when-adding-methods-to-the-schema", "title": "Typescript &amp; MongoDB type erasing when adding methods to the schema", "body": "<p>I've been playing around with typescript and mongodb for the past few days and I wanted to add a custom method which I can execute on <code>Document</code> instances. Here is my setup:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Document, Schema, model, Model } from \"mongoose\";\nimport { AlbumSchema, AlbumDocument } from './album';\n</code></pre>\n\n<p>And here is my Document interface:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ArtistDocument extends Document {\n    name: string;\n    identifier: string;\n    albums: [AlbumDocument];\n\n    testFunction(): string\n}\n</code></pre>\n\n<p>And my Schema:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const ArtistSchema = new Schema({\n    name: {type: String, required: true},\n    identifier: {type: String, required: true},\n    albums: {type: [AlbumSchema], required: true, default: []}\n});\n\nArtistSchema.methods.testFunction = function(): string {\n    return \"Hello World\";\n}\n</code></pre>\n\n<p>Note that I can just call <code>testFunction();</code> on an instance of <code>Artist</code> just fine. So I know that methods are working.</p>\n\n<p>Here is the issue though:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>ArtistSchema.methods.testFunction = function(): string {\n    return \"Albums:\" + this.albums.length;\n}\n</code></pre>\n\n<p><code>this.albums</code> (which should be of type <code>AlbumDocument[]</code>) is somehow type <code>any</code> and therefore I can not use any array builtin functions nor can I filter and have <code>AlbumDocument</code> available to use its properties.</p>\n\n<p>Is there anything that I am doing wrong? Is there a fix for it?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "eslint"], "answers": [{"comments": [{"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1560339762, "post_id": 56561170, "comment_id": 99702182, "body": "Feel like I&#39;m 95% there with this but struggling a little because the example you give is a bit different. Would you be able to provide an example where the props are unknown like my component?"}, {"owner": {"reputation": 1284, "user_id": 6780833, "user_type": "registered", "profile_image": "https://graph.facebook.com/160755614347493/picture?type=large", "display_name": "Lidor Avitan", "link": "https://stackoverflow.com/users/6780833/lidor-avitan"}, "reply_to_user": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1560340135, "post_id": 56561170, "comment_id": 99702403, "body": "Let me know if it&#39;s ok, if no I will check it out again."}, {"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1560340438, "post_id": 56561170, "comment_id": 99702587, "body": "OK I think we&#39;re there! My example doesn&#39;t have any props for withCookies so I removed that from your example but the rest seems to get rid of existing errors."}], "tags": [], "owner": {"reputation": 1284, "user_id": 6780833, "user_type": "registered", "profile_image": "https://graph.facebook.com/160755614347493/picture?type=large", "display_name": "Lidor Avitan", "link": "https://stackoverflow.com/users/6780833/lidor-avitan"}, "is_accepted": true, "score": 7, "last_activity_date": 1560340533, "last_edit_date": 1560340533, "creation_date": 1560338993, "answer_id": 56561170, "question_id": 56561137, "link": "https://stackoverflow.com/questions/56561137/typescript-on-react-hoc/56561170#56561170", "title": "Typescript on React HOC", "body": "<pre><code>import React from 'react';\nimport { CookiesConsumer } from './index';\n\ninterface withCookiesProps {\n    someProp: boolean;\n  }\n\n\nconst withCookies = &lt;P extends object&gt;(WrappedComponent: React.ComponentType&lt;P&gt;) =&gt; (props: P &amp; withCookiesProps) =&gt; (\n  &lt;CookiesConsumer&gt;\n    {cookies =&gt; (\n      &lt;WrappedComponent\n        {...props}\n        cookiesContext={cookies}\n      /&gt;\n    )}\n  &lt;/CookiesConsumer&gt;\n);\n\nexport default withCookies;\n</code></pre>\n\n<p><a href=\"https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb\" rel=\"nofollow noreferrer\">Refernence</a></p>\n"}], "owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 56561170, "answer_count": 1, "score": 0, "last_activity_date": 1560340533, "creation_date": 1560338909, "question_id": 56561137, "link": "https://stackoverflow.com/questions/56561137/typescript-on-react-hoc", "title": "Typescript on React HOC", "body": "<p>I have a React HOC structured like this:</p>\n\n<pre><code>import React from 'react';\nimport { CookiesConsumer } from './index';\n\nconst withCookies = (WrappedComponent: any) =&gt; (props: any) =&gt; (\n  &lt;CookiesConsumer&gt;\n    {cookies =&gt; (\n      &lt;WrappedComponent\n        {...props}\n        cookiesContext={cookies}\n      /&gt;\n    )}\n  &lt;/CookiesConsumer&gt;\n);\n\nexport default withCookies;\n</code></pre>\n\n<p>I get 2 Typescript eslint warnings on this that I'd like to fix. Both on the <code>any</code> type declarations:</p>\n\n<p><code>Unexpected any. Specify a different type.eslint(@typescript-eslint/no-explicit-any)</code></p>\n\n<p>For the <code>props</code> type, I don't know what properties or value types might be in the props object, so how can I define it better than <code>any</code>?</p>\n\n<p>For the <code>WrappedComponent</code> type I've tried types like <code>ReactNode</code> or <code>ReactElement</code> but that throws a new error on the actual usage of : <code>JSX element type 'WrappedComponent' does not have any construct or call signatures.</code></p>\n"}, {"tags": ["angular", "typescript", "routes"], "answers": [{"comments": [{"owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "edited": false, "score": 0, "creation_date": 1560342169, "post_id": 56562046, "comment_id": 99703709, "body": "Thanks, but what decides when Routs <code>&#39;@angular&#47;router&#39;</code> are used like <code>imports: [RouterModule.forRoot(routes)</code>, what page is the start page?"}, {"owner": {"reputation": 1367, "user_id": 6928056, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMO9gjlzRck/AAAAAAAAAAI/AAAAAAAAAB8/60zXxAIXZCQ/photo.jpg?sz=128", "display_name": "Ashokan Sivapragasam", "link": "https://stackoverflow.com/users/6928056/ashokan-sivapragasam"}, "reply_to_user": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "edited": false, "score": 0, "creation_date": 1560342519, "post_id": 56562046, "comment_id": 99703908, "body": "app.component.html is acting like layout or master page which indeed a starting page of any Angular 2+ application. <code>@angular&#47;router</code> just tries to engage the target component (<i>here, HomeComponent</i>) to produce some html content which would be placed in &lt;router-outlet&gt;&lt;/router-outlet&gt; based on incoming-path-expression. Rest of HTML elements stay like master page do."}], "tags": [], "owner": {"reputation": 1367, "user_id": 6928056, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XMO9gjlzRck/AAAAAAAAAAI/AAAAAAAAAB8/60zXxAIXZCQ/photo.jpg?sz=128", "display_name": "Ashokan Sivapragasam", "link": "https://stackoverflow.com/users/6928056/ashokan-sivapragasam"}, "is_accepted": true, "score": 1, "last_activity_date": 1560341828, "creation_date": 1560341828, "answer_id": 56562046, "question_id": 56561013, "link": "https://stackoverflow.com/questions/56561013/learning-angular-and-what-decides-the-home-screen-html/56562046#56562046", "title": "Learning Angular and what decides the home screen html", "body": "<p>Exactly! On bootstrapping 'AppComponent', router module evaluates the incoming browser path expression and delegate control to respective Angular Component.</p>\n\n<pre><code>/*https://&lt;domain-name&gt;:&lt;optional-port&gt;/           - Will take you to HomeComponent\n\nhttps://&lt;domain-name&gt;:&lt;optional-port&gt;/contact      - Will take you to ContactComponent with route param id:undefined or null\nhttps://&lt;domain-name&gt;:&lt;optional-port&gt;/contact:100  - Will take you to ContactComponent with route param id:100*/\n\nRouterModule.forRoot([\n      { path: '', component: HomeComponent, pathMatch: 'full' },\n      ...])\n</code></pre>\n\n<p>Routing is all based on our configurations using, <code>RouterModule.forRoot()</code>.</p>\n"}], "owner": {"reputation": 4485, "user_id": 538837, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cg8lv.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/538837/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56562046, "answer_count": 1, "score": 1, "last_activity_date": 1560341828, "creation_date": 1560338505, "last_edit_date": 1560340787, "question_id": 56561013, "link": "https://stackoverflow.com/questions/56561013/learning-angular-and-what-decides-the-home-screen-html", "title": "Learning Angular and what decides the home screen html", "body": "<p>In Angular 8 the Routes app-routing.module.ts is straight forward and if the app.component.html have links and text the app can be used right.</p>\n\n<p>In my study I came across and app that had an app.component.html like this;</p>\n\n<pre><code>&lt;body&gt;\n  &lt;app-nav-menu&gt;&lt;/app-nav-menu&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;router-outlet&gt;&lt;/router-outlet&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I see here that the <code>HomeComponent</code> is loaded when app start and understand the declarations and setups for that here in the app.module.ts, </p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { RouterModule } from '@angular/router';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { MatCardModule } from '@angular/material/card';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\n\nimport { AppComponent } from './app.component';\nimport { NavMenuComponent } from './nav-menu/nav-menu.component';\nimport { HomeComponent } from './home/home.component';\nimport { ContactComponent } from './contact/contact.component';\nimport { AddContactComponent } from './add-contact/add-contact.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    NavMenuComponent,\n    HomeComponent,\n    ContactComponent,\n    AddContactComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({ appId: 'ng-cli-universal' }),\n    HttpClientModule,\n    FormsModule,\n    BrowserAnimationsModule,\n    MatCardModule,\n    MatListModule,\n    MatSelectModule,\n    MatInputModule,\n    MatButtonModule,\n    MatIconModule,\n    ReactiveFormsModule,\n    RouterModule.forRoot([\n      { path: '', component: HomeComponent, pathMatch: 'full' },\n      { path: 'contact/:id', component: ContactComponent },\n      { path: 'new-contact', component: AddContactComponent }\n    ])\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>but where does the <code>HomeComponent</code> set to be the router-outlet start page, is it at the </p>\n\n<pre><code>RouterModule.forRoot\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 2772605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f992b6cdb35a77861b581773ee1212c?s=128&d=identicon&r=PG", "display_name": "alexandercannon", "link": "https://stackoverflow.com/users/2772605/alexandercannon"}, "is_accepted": true, "score": 0, "last_activity_date": 1560438758, "last_edit_date": 1560438758, "creation_date": 1560338432, "answer_id": 56560976, "question_id": 56560975, "link": "https://stackoverflow.com/questions/56560975/typescript-react-hooks-upgrade-path/56560976#56560976", "title": "TypeScript React Hooks Upgrade Path", "body": "<p>Some small tips: </p>\n\n<p>Defaulting props is way easier, you can drop that <code>!</code></p>\n\n<pre><code>const Counter = ({ initialCount = 0 }: IProps) =&gt; //\n</code></pre>\n\n<p>We can add <code>useState</code> and <code>useEffect</code> to manage your state.</p>\n\n<pre><code>const Counter = () =&gt; {\n  const [count, setCount] = React.useState(0);\n  React.useEffect(() =&gt; {\n    document.title = `You clicked ${count} times`;\n  });\n}\n</code></pre>\n\n<p>Your function is privatised using closures, no need to mess with symbols!</p>\n\n<pre><code>const Counter () =&gt; {\n  const increment = () =&gt; setCount(count + 1); \n  return (&lt;div/&gt;)\n}\n</code></pre>\n\n<p>Put it all together and we get:</p>\n\n<pre><code>import Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport * as React from \"react\";\nimport \"./style.css\";\n\ninterface IProps {\n  initialCount?: number;\n}\n\nconst style: any = { backgroundColor: \"blue\" };\n\nconst Counter = ({ initialCount = 0 }: IProps) =&gt; {\n  const [count, setCount] = React.useState(initialCount);\n  React.useEffect(() =&gt; {\n    document.title = `You clicked ${count} times`;\n  });\n\n  const increment = () =&gt; setCount(count + 1);\n\n  return (\n    &lt;div className=\"byop-app__counter\" style={style}&gt;\n      &lt;Typography variant=\"h3\"&gt;\n        You clicked{\" \"}\n        &lt;span data-testid=\"byop-app__counter-count-value\"&gt;{count}&lt;/span&gt; times\n      &lt;/Typography&gt;\n\n      &lt;Button\n        className=\"byop-app__counter-button\"\n        data-testid=\"byop-app__counter-button\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={increment}&gt;\n        Click me\n      &lt;/Button&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Counter;\n</code></pre>\n"}], "owner": {"reputation": 422, "user_id": 2772605, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f992b6cdb35a77861b581773ee1212c?s=128&d=identicon&r=PG", "display_name": "alexandercannon", "link": "https://stackoverflow.com/users/2772605/alexandercannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 56560976, "answer_count": 1, "score": 0, "last_activity_date": 1560438758, "creation_date": 1560338432, "question_id": 56560975, "link": "https://stackoverflow.com/questions/56560975/typescript-react-hooks-upgrade-path", "title": "TypeScript React Hooks Upgrade Path", "body": "<p>I have a TypeScript component with a few quirks, I'd love to translate them to a functional component and make use of the new React hooks.</p>\n\n<p>I have private functions using Symbols,</p>\n\n<p>A constructor and default props,</p>\n\n<p>And a straightforward render function.</p>\n\n<pre><code>interface IProps {\n  initialCount?: number;\n}\n\ninterface IState {\n  count: number;\n}\n\nconst increment = Symbol();\n\nclass Counter extends React.Component {\n  constructor(props)\n    super(props);\n    this.state = {\n      count: props.initialCount!\n    };\n    this[increment] = this[increment].bind(this);\n  }\n\n  public static defaultProps = {\n    initialCount: 0\n  };\n\n  [increment] = () =&gt; {\n    const { count } = this.state;\n    this.setState({ count: count + 1 });\n  };\n  render() {\n    const { count } = this.state;\n    return( &lt;&gt;\n      &lt;p&gt;I've been clicked {count} times!&lt;/p&gt;\n      &lt;button\n        onClick={this[increment]}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/&gt;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 1, "creation_date": 1560338273, "post_id": 56560806, "comment_id": 99701303, "body": "for an explanation I can direct you to another answer: <a href=\"https://stackoverflow.com/questions/54478273/angular-trackby-returning-the-index/54484184#54484184\" title=\"angular trackby returning the index\">stackoverflow.com/questions/54478273/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 11154582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jYSu4u0RjSQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re27rPVEYxbm36tjbc4JzOuPzxsLw/mo/photo.jpg?sz=128", "display_name": "Taras Biletsky", "link": "https://stackoverflow.com/users/11154582/taras-biletsky"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1560338595, "post_id": 56560806, "comment_id": 99701503, "body": "thanks, that what i was searching for."}], "owner": {"reputation": 11, "user_id": 11154582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jYSu4u0RjSQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re27rPVEYxbm36tjbc4JzOuPzxsLw/mo/photo.jpg?sz=128", "display_name": "Taras Biletsky", "link": "https://stackoverflow.com/users/11154582/taras-biletsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560337899, "creation_date": 1560337899, "question_id": 56560806, "link": "https://stackoverflow.com/questions/56560806/does-angular-treat-data-as-different-from-http-api-request", "title": "Does angular treat data as different from (http) api request?", "body": "<p>So i am figuring out is there any benefit from using trackByFn\n for *ngFor if data is updating from API request on server. Does Angular see if just part of data updated or it see like absolutely new data, because it from another request ?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3562, "user_id": 2328891, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/HgZFa.jpg?s=128&g=1", "display_name": "Shohel", "link": "https://stackoverflow.com/users/2328891/shohel"}, "edited": false, "score": 0, "creation_date": 1560337874, "post_id": 56560687, "comment_id": 99701090, "body": "Set the counter and trace mouse move"}], "answers": [{"tags": [], "owner": {"reputation": 2289, "user_id": 6769119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cJOCPQ3_674/AAAAAAAAAAI/AAAAAAAABBw/WCyslIvdXbk/photo.jpg?sz=128", "display_name": "Mukundhan", "link": "https://stackoverflow.com/users/6769119/mukundhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560340255, "last_edit_date": 1560340255, "creation_date": 1560339717, "answer_id": 56561404, "question_id": 56560687, "link": "https://stackoverflow.com/questions/56560687/keep-track-of-user-activity-on-each-page/56561404#56561404", "title": "Keep track of user activity on each page", "body": "<p>There is an <a href=\"https://matomo.org/\" rel=\"nofollow noreferrer\">matamo</a>, for that where we can track user actions, but it is <strong>paid</strong>. In <strong>Angular</strong>, we can implement the same using <a href=\"https://www.npmjs.com/package/ngx-matomo\" rel=\"nofollow noreferrer\">ngx-matamo</a></p>\n\n<p>If you want a custom solution, we can implement logic in the <strong>main App component</strong>,\nto <strong>watch the router changes</strong> and implement the <strong>time we spent on each page.</strong></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-router-basic-example-bys6bq?file=app/app.component.ts\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 55, "user_id": 11146891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c0eadf698c8c124c3de9010a3cfccf?s=128&d=identicon&r=PG&f=1", "display_name": "Avdhut", "link": "https://stackoverflow.com/users/11146891/avdhut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 936, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560343470, "creation_date": 1560337553, "last_edit_date": 1560343470, "question_id": 56560687, "link": "https://stackoverflow.com/questions/56560687/keep-track-of-user-activity-on-each-page", "title": "Keep track of user activity on each page", "body": "<p>I am working on bank web application in angular 7. I want to track user activity on each page like how much time user spending on each page, click activity etc.. I have not found any solution.</p>\n"}, {"tags": ["angular", "typescript", "routing", "angular-ui-router"], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1561710831, "post_id": 56563965, "comment_id": 100161292, "body": "Could you please add as sample code..I didnt  get how to retrived the params and re rout"}], "tags": [], "owner": {"reputation": 184, "user_id": 7390508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7af18f3e03d13a5f61393e3306af13fb?s=128&d=identicon&r=PG&f=1", "display_name": "ilyas shabi", "link": "https://stackoverflow.com/users/7390508/ilyas-shabi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560347837, "creation_date": 1560347837, "answer_id": 56563965, "question_id": 56560647, "link": "https://stackoverflow.com/questions/56560647/angular-7-same-routing-with-different-parameters/56563965#56563965", "title": "Angular 7 same routing with different parameters", "body": "<p>You can use Router, subscribe to the observable inside constructor.</p>\n\n<pre><code>constructor(private router: Router) {\n   this.router.events.subscribe((data) =&gt; {\n     //code goes here\n   });\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1562227369, "post_id": 56882882, "comment_id": 100314104, "body": "Please share a Stackbiltz"}, {"owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1562239197, "post_id": 56882882, "comment_id": 100320660, "body": "I have update my question .. Please go through the question. If still the question is not clear, i will Stackbiltz"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "edited": false, "score": 0, "creation_date": 1562239437, "post_id": 56882882, "comment_id": 100320796, "body": "Went through it. this would be difficult to fix it without aw orking example"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1562225902, "creation_date": 1562225902, "answer_id": 56882882, "question_id": 56560647, "link": "https://stackoverflow.com/questions/56560647/angular-7-same-routing-with-different-parameters/56882882#56882882", "title": "Angular 7 same routing with different parameters", "body": "<p>Try like this:</p>\n\n<p><code>constructor(private _router: Router)</code></p>\n\n<pre><code>getSomeValue(value:String){\n\n  this._router.navigate(\n        [],\n        {\n          relativeTo: this._route,\n          queryParams: { value: value },\n          queryParamsHandling: 'merge'\n        });\n}\n</code></pre>\n\n<p>In case you need to fetch the value from params, do this:</p>\n\n<pre><code>  ngOnInit() {\n    this.getStates();\n    this._route.queryParams.subscribe(\n      (params: Params) =&gt; {\n        if (params.hasOwnProperty('value')) {\n           console.log(params['value'])\n        }\n      }\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 368, "user_id": 6550398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/240c7db1960eaf56a7e53a208c64617a?s=128&d=identicon&r=PG&f=1", "display_name": "Subham", "link": "https://stackoverflow.com/users/6550398/subham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562309362, "creation_date": 1560337449, "last_edit_date": 1562309362, "question_id": 56560647, "link": "https://stackoverflow.com/questions/56560647/angular-7-same-routing-with-different-parameters", "title": "Angular 7 same routing with different parameters", "body": "<p>I want to reload the component when the params of the routing changed. I have list on the sidebar and I also want to highlighting the list selected on the sidebar.</p>\n\n<p>Sidebar.html </p>\n\n<pre><code>  1)List1\n  2)List 2\n  3)List 3\n</code></pre>\n\n<p>On clicking on the 1st option(List1) for the first time.It is routing to the component(testapi) mentioned in Sidebar component ( this._router.navigate(['/example/testapi',value])). From the second click onwards it is not routing to (testapi component). The  getSomeValue(value:String) is also called for the second time but not routing to (testapi component).</p>\n\n<p>with the help of adding the below in Sidebar.ts</p>\n\n<pre><code>  ngOnInit() {\n   this._router.routeReuseStrategy.shouldReuseRoute = function() {\n     return false;\n    };\n   }\n</code></pre>\n\n<p>I am able to route with different parameters but the problem is the lists are getting refreshed. So every time I clicked a value from the lists the list value will be refreshed. I want to highlight the list value which I have clicked  and list values should be constant(No refresh should be there after clicking)</p>\n\n<p>Sidebar.ts Here How can I also highlight the selected route with color</p>\n\n<pre><code>     getSomeValue(value:String){\n\n      this._router.navigate(['/example/testapi',value]);\n     }\n</code></pre>\n\n<p>example-routings.ts</p>\n\n<pre><code>      {\n      path: 'testapi/:id',\n\n   }\n</code></pre>\n\n<p><a href=\"https://localhost:4200/example/testapi/123\" rel=\"nofollow noreferrer\">https://localhost:4200/example/testapi/123</a>  </p>\n\n<p><a href=\"https://localhost:4200/example/testapi/456\" rel=\"nofollow noreferrer\">https://localhost:4200/example/testapi/456</a>   //It is not routing and reloading the component</p>\n"}, {"tags": ["typescript", "mapped-types"], "answers": [{"tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 0, "last_activity_date": 1560337409, "creation_date": 1560337409, "answer_id": 56560635, "question_id": 56560321, "link": "https://stackoverflow.com/questions/56560321/should-typescripts-mapped-types-have-a-value-for-every-key/56560635#56560635", "title": "Should TypeScript&#39;s mapped types have a value for every key?", "body": "<p>Your code works with strict null checks off, because you can then assign <code>undefined</code> values to a <code>string</code>. We're talking about <em>values</em> here, the keys are indifferent!</p>\n\n<p>Your index type signature for <code>Mapped</code> promises no particular keys, so assigning a type with zero or more keys will work. What isn't allowed is the assignment of non-string values (like <code>undefined</code> and <code>null</code>) and this is what the error is highlighting.</p>\n\n<p>Here is a contrived example of what the error is guarding against:</p>\n\n<pre><code>var undef: undefined;\nconst partialMapped: Partial&lt;Mapped&gt; = {a: undef, b: undef}; // Works\n</code></pre>\n\n<p>The partial version can accept undefined values. The \"full\" version wouldn't allow this.</p>\n\n<pre><code>var undef: undefined;\nconst mapped: Mapped = {a: undef, b: undef}; // Warnings!\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 3051786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40daa860a57e1f3792fd0787e8e0dc7e?s=128&d=identicon&r=PG&f=1", "display_name": "ThomasdH", "link": "https://stackoverflow.com/users/3051786/thomasdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560337409, "creation_date": 1560336375, "question_id": 56560321, "link": "https://stackoverflow.com/questions/56560321/should-typescripts-mapped-types-have-a-value-for-every-key", "title": "Should TypeScript&#39;s mapped types have a value for every key?", "body": "<p>I am wondering whether every key in a mapped type should have a defined value.</p>\n\n<p>I would not expect this to be the case as it would require indefeasibly many values. However, then I'd expect <code>Partial&lt;T&gt;</code> to be assignable to a mapped type <code>T</code>, which it is not. Additionally, when reading a value from a mapped type, no <code>typeof value === 'undefined'</code> check is necessary.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype Mapped = { [key: string]: string };\n\n// This works, so not all keys have to be defined\nconst mapped: Mapped = { 'a': 'b' };\n\n// This is valid even with strict checks even though 's' is undefined\nconst s: string = mapped['c'];\n\nconst partialMapped: Partial&lt;Mapped&gt; = mapped;\n// This doesn't work because `Partial&lt;Mapped&gt;` is of type `{ [key: string]: string | undefined }`\nconst secondMapped: Mapped = partialMapped;\n</code></pre>\n\n<p>Since <code>{ 'a': 'b' }</code> is assignable to a <code>Mapped</code> variable, I would expect <code>Partial&lt;Mapped&gt;</code> to be assignable to <code>Mapped</code> as well, but is is not. Is this because the value <code>undefined</code> is not the same as the absence of a key? Is there a variant on <code>Partial</code> that makes keys optional instead?</p>\n"}, {"tags": ["angular", "typescript", "websocket", "observable", "ngfor"], "comments": [{"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560339142, "post_id": 56560003, "comment_id": 99701805, "body": "Would you like to try to bind <code>public values : Message</code> to your components template via <code>{{  values | json }}</code> and tell me how your values is being received by your component..  Would you also please remove the <code>| async</code> pipe in your template as <code>public values: Message</code> is not an <b>Observable</b> but a normal <i>Object</i>"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560342843, "post_id": 56560003, "comment_id": 99704090, "body": "When i remove async, console returns an error &quot;Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays.&quot;   Binding {{values | json }} just returned this one =  {}"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560343153, "post_id": 56560003, "comment_id": 99704295, "body": "well that is good, now we know that our <code>values: Message</code> needs to be an array. The next debugging part would be to check the spot where you set <code>values: Message</code>.. Because as it looks right now, your <code>values: Message</code> is not being populated in your component.. otherwise binding <code>{{ values | json }}</code> would not be <code>{}</code> (empty object <b>NOT</b> undefined).. add here a logging <code>this.msgService.messages.subscribe(data =&gt; { console.log(data); this.values = data});</code> then we can check if your component receives the data we are expecting"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560343647, "post_id": 56560003, "comment_id": 99704591, "body": "Okay when I get the log it returns as you said. {sym: undefined, lastp: undefined, prch: undefined, prchp: undefined}. Why are they undefined?"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560344333, "post_id": 56560003, "comment_id": 99705050, "body": "ok I am bit confused .. could you please output your <code>private create(url)</code> function by subscribing to it in the SocketService and not from outside.. And could you also please verify that your successfull connection to the socket is being outputted"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560346183, "post_id": 56560003, "comment_id": 99706311, "body": "I can successfully connect to the socket because i can see console writes &quot;Successfully connected: wss://stream.binance.com:9443/ws/!ticker@arr&quot;  . How should i subscribe to private create(url)  ?"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560346428, "post_id": 56560003, "comment_id": 99706459, "body": "I could not fully understand why you are returning an observable in the function if you want to set it for the <b>subject</b> property anyway.. therefore please try this one to subscribe to it: <code>this.subject = this.create(url);</code> change to <code>this.create(url);</code> - Then instead of <code>return Rx.Subject.create(observer, observable);</code> do <code>this.subject = Rx.Subject.create(observer, observable);</code>.. now subsribe to it in your constructor: <code>constructor() {this.subject.subscribe(log =&gt; console.log(`subscribed`,log))}</code>, hopefully we shall see something now :)"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560346805, "post_id": 56560003, "comment_id": 99706710, "body": "aah now I see what you were doing, you do not make your subject public.. therefore it will not works as I described it.. I am using the redux pattern therefore, my data fly is one-way and not like yours two-way.. I would suggest you to make your private subscribe property public and your connect() function to a void function.. you run the code to connect and subscribe to your public subscribe Property of the service.. you have more control and it is cleaner that way"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560347709, "post_id": 56560003, "comment_id": 99707295, "body": "Unfortunately app has crashed due to &quot;TypeError: Cannot read property &#39;subscribe&#39; of undefined&quot;"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560347769, "post_id": 56560003, "comment_id": 99707344, "body": "ok use it then as it was before but can you please make sure that <code>create(url)</code> actually returns the subscription which ouptuts the expected data?"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560348315, "post_id": 56560003, "comment_id": 99707708, "body": "Yes it returns some other data if change the url to get only one piece of data"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560348451, "post_id": 56560003, "comment_id": 99707808, "body": "can you show me which data you get in your MsgService constructor().. it could be that you need also to subscribe to your Subject there in order to get the data"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560348910, "post_id": 56560003, "comment_id": 99708113, "body": "It gets a data like this: {   &quot;e&quot;: &quot;24hrTicker&quot;,  // Event type   &quot;E&quot;: 123456789,     // Event time   &quot;s&quot;: &quot;BNBBTC&quot;,      // Symbol   &quot;p&quot;: &quot;0.0015&quot;,      // Price change   &quot;P&quot;: &quot;250.00&quot;,      // Price change percent   &quot;w&quot;: &quot;0.0018&quot;,      // Weighted average price"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560349024, "post_id": 56560003, "comment_id": 99708185, "body": "ok, can you show me your constructor of MsgService as you have it now? Because this is the only spot left where the data flow is interrupted. public messages does not emit the data to the component"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560349264, "post_id": 56560003, "comment_id": 99708330, "body": "Here&#39;s my constructor of MsgService <code>constructor(wsService: SocketService) {  this.messages = wsService.connect(CHAT_URL).map(   (response: MessageEvent): Message =&gt; {     const data = JSON.parse(response.data);     return {       sym: data.s,       lastp: data.c,       prch: data.p,       prchp: data.P     };     } ) as Subject&lt;Message&gt;;  }</code>"}, {"owner": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560350288, "post_id": 56560003, "comment_id": 99708924, "body": "ok, you are not updating your messages property in the whole process. Just replace your logging with <code>this.messages.next(data)</code>"}, {"owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "reply_to_user": {"reputation": 116, "user_id": 8881186, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0JhWUi3We6g/AAAAAAAAAAI/AAAAAAAAAxE/lHnIqGRAhWo/photo.jpg?sz=128", "display_name": "Enes Yal&#231;\u0131n", "link": "https://stackoverflow.com/users/8881186/enes-yal%c3%a7%c4%b1n"}, "edited": false, "score": 0, "creation_date": 1560350949, "post_id": 56560003, "comment_id": 99709323, "body": "sorry but i didn&#39;t get it where do i need to replace it ?"}], "owner": {"reputation": 1, "user_id": 3296374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c66f684fe06ce1c1530f17ca67c1f3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3296374", "link": "https://stackoverflow.com/users/3296374/user3296374"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560336036, "creation_date": 1560335381, "last_edit_date": 1560336036, "question_id": 56560003, "link": "https://stackoverflow.com/questions/56560003/how-to-get-websocket-data-into-an-observable-and-display-with-ngfor", "title": "How to get websocket data into an observable and display with ngfor", "body": "<p>I'm getting data from binance websocket and trying to display its properties on a table using ngfor but getting \"Cannot read property 'dispose of null' \" error on the console. What do i need to change?</p>\n\n<p>I've tried to get only one row of data without using ngfor and it was successful. But i need to get more than one value on the table.</p>\n\n<p>Here's my socket service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport * as socketIo from 'socket.io-client';\nimport * as Rx from 'rxjs/Rx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SocketService {\n  constructor(private http: HttpClient) { }\n\n  private subject: Rx.Subject&lt;MessageEvent&gt;;\n\n  public connect(url): Rx.Subject&lt;MessageEvent&gt; {\n    if (!this.subject) {\n      this.subject = this.create(url);\n      console.log('Successfully connected: ' + url);\n    }\n    return this.subject;\n  }\n\n  private create(url): Rx.Subject&lt;MessageEvent&gt; {\n    let ws = new WebSocket(url);\n\n    let observable = Rx.Observable.create((obs: Rx.Observer&lt;MessageEvent&gt;) =&gt; {\n      ws.onmessage = obs.next.bind(obs);\n      ws.onerror = obs.error.bind(obs);\n      ws.onclose = obs.complete.bind(obs);\n      return ws.close.bind(ws);\n    });\n    let observer = {\n      next: (data: Object) =&gt; {\n        if (ws.readyState === WebSocket.OPEN) {\n          ws.send(JSON.stringify(data));\n        }\n      }\n    };\n    return Rx.Subject.create(observer, observable);\n  }\n}\n</code></pre>\n\n<p>Here's my message service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { SocketService } from './socket.service';\n\nconst CHAT_URL = 'wss://stream.binance.com:9443/ws/ethbtc@ticker';\n\nexport interface Message {\n  sym: string;\n  prch: string;\n  prchp: string;\n  lastp: string;\n\n\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\n\nexport class MsgService {\n  public messages: Subject&lt;Message&gt;;\n\nconstructor(wsService: SocketService) {  this.messages = wsService.connect(CHAT_URL).map(\n  (response: MessageEvent): Message =&gt; {\n    const data = JSON.parse(response.data);\n    return {\n      sym: data.s,\n      lastp: data.c,\n      prch: data.p,\n      prchp: data.P\n    };\n    }\n) as Subject&lt;Message&gt;;\n\n}\nsendMsg(msg) {\n  this.messages.next(msg);\n}\n\n}\n\n</code></pre>\n\n<p>Here's my component</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport 'rxjs/add/operator/map';\nimport { Observable } from 'rxjs';\nimport { ApiService } from '../api.service';\nimport { Router } from '@angular/router';\nimport { MsgService, Message } from '../msg.service';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit {\n\n  public values: Message;\n\n  constructor(private apiservice: ApiService,private router: Router,private msgService: MsgService) { }\n\n  ngOnInit() {\n\n\n    this.msgService.messages.subscribe(data =&gt; this.values = data);\n\n  }\n\nonSelect(value){\nthis.router.navigate(['/detailed', value.symbol]);\n}\n\n}\n</code></pre>\n\n<p>And it's html</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n\n\n&lt;h1 style=\"margin-left: 40%\"&gt;\n  Currencies\n&lt;/h1&gt;\n\n&lt;table class=\"table table-bordered table-info \"&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt;Currency&lt;/th&gt;\n      &lt;th&gt;Last Price&lt;/th&gt;\n      &lt;th&gt;24h Volume&lt;/th&gt;\n      &lt;th&gt;24h Pct Change&lt;/th&gt;\n\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr (click)=\"onSelect(value)\" *ngFor=\"let value of values | async\"&gt;\n      &lt;td&gt;&lt;a [routerLink]=\"['/detailed']\"&gt; {{value.sym}} &lt;/a&gt;&lt;/td&gt;\n      &lt;td&gt;{{value.prch}}&lt;/td&gt;\n      &lt;td&gt;{{value.prchp}}&lt;/td&gt;\n      &lt;td&gt;{{value.lastp}}&lt;/td&gt;\n    &lt;/tr&gt;\n\n  &lt;/tbody&gt;\n&lt;/table&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I expect getting the html table filled with data coming from websocket. Instead I'm getting this on console:</p>\n\n<pre><code> ERROR TypeError: Cannot read property 'dispose' of null\n    at AsyncPipe.push../node_modules/@angular/common/fesm5/common.js.AsyncPipe._dispose (common.js:4937)\n    at AsyncPipe.push../node_modules/@angular/common/fesm5/common.js.AsyncPipe.transform (common.js:4912)\n    at Object.eval [as updateDirectives] (MainComponent.html:19)\n    at Object.debugUpdateDirectives [as updateDirectives] (core.js:23911)\n    at checkAndUpdateView (core.js:23307)\n    at callViewAction (core.js:23548)\n    at execComponentViewsAction (core.js:23490)\n    at checkAndUpdateView (core.js:23313)\n    at callViewAction (core.js:23548)\n    at execEmbeddedViewsAction (core.js:23511)\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-routing"], "comments": [{"owner": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1560335542, "post_id": 56559996, "comment_id": 99699813, "body": "I personally have used return false and it works like a charm. Can you create a plunkr?"}, {"owner": {"reputation": 6200, "user_id": 218640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b46c5c5c70b433012c437578243bf289?s=128&d=identicon&r=PG", "display_name": "char m", "link": "https://stackoverflow.com/users/218640/char-m"}, "reply_to_user": {"reputation": 1829, "user_id": 1504265, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/39b0bb80b79d4f9d0e4629ffe0f716f5?s=128&d=identicon&r=PG", "display_name": "Vinod Bhavnani", "link": "https://stackoverflow.com/users/1504265/vinod-bhavnani"}, "edited": false, "score": 0, "creation_date": 1560335776, "post_id": 56559996, "comment_id": 99699933, "body": "thanks for comment! (click)=&quot;return false&quot; throws syntaxError in compiler.js TemplateParser. I have tried that also."}, {"owner": {"reputation": 847, "user_id": 6917021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1MaL.jpg?s=128&g=1", "display_name": "Ayatullah Rahmani", "link": "https://stackoverflow.com/users/6917021/ayatullah-rahmani"}, "edited": false, "score": 0, "creation_date": 1560336814, "post_id": 56559996, "comment_id": 99700480, "body": "&lt;a href=&quot;javascript:void(0)&quot;&gt;&lt;/a&gt; .Use this."}, {"owner": {"reputation": 6200, "user_id": 218640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b46c5c5c70b433012c437578243bf289?s=128&d=identicon&r=PG", "display_name": "char m", "link": "https://stackoverflow.com/users/218640/char-m"}, "reply_to_user": {"reputation": 847, "user_id": 6917021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1MaL.jpg?s=128&g=1", "display_name": "Ayatullah Rahmani", "link": "https://stackoverflow.com/users/6917021/ayatullah-rahmani"}, "edited": false, "score": 0, "creation_date": 1560337815, "post_id": 56559996, "comment_id": 99701055, "body": "@AyatullahRahmani: why would that work?"}, {"owner": {"reputation": 1023, "user_id": 7265507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d2754c1d305bdc0e010b0b5a073676b?s=128&d=identicon&r=PG", "display_name": "Tim VN", "link": "https://stackoverflow.com/users/7265507/tim-vn"}, "edited": false, "score": 1, "creation_date": 1560338133, "post_id": 56559996, "comment_id": 99701223, "body": "What you are probably looking for is the <code>CanDeactivate</code> guard. <a href=\"https://angular.io/api/router/CanDeactivate\" rel=\"nofollow noreferrer\">angular.io/api/router/CanDeactivate</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6200, "user_id": 218640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b46c5c5c70b433012c437578243bf289?s=128&d=identicon&r=PG", "display_name": "char m", "link": "https://stackoverflow.com/users/218640/char-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1594885543, "last_edit_date": 1594885543, "creation_date": 1560418326, "answer_id": 56577486, "question_id": 56559996, "link": "https://stackoverflow.com/questions/56559996/how-to-prevent-default-click-behavior-of-a-routerlink-in-angular-app/56577486#56577486", "title": "How to prevent default click behavior of a routerlink in angular app?", "body": "<p>The reason routerLink does not respect <code>preventDefault</code> is described <a href=\"https://github.com/angular/angular/issues/21457\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The solution is to create inner element for anchor if there already isn't one (like icon). In the link above a span is created inside but I have icons inside anchors which I omitted from the question for clarity:</p>\n<pre><code>  &lt;a class=&quot;nav-link&quot; [routerLink]='[&quot;/map&quot;, sessionId]'&gt;\n    &lt;mat-icon class=&quot;tab-nav-item-icon&quot; (click)=&quot;$event.stopPropagation();$event.preventDefault()&quot;&gt;map&lt;/mat-icon&gt;\n  &lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 6200, "user_id": 218640, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b46c5c5c70b433012c437578243bf289?s=128&d=identicon&r=PG", "display_name": "char m", "link": "https://stackoverflow.com/users/218640/char-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1711, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1594885543, "creation_date": 1560335335, "last_edit_date": 1560337616, "question_id": 56559996, "link": "https://stackoverflow.com/questions/56559996/how-to-prevent-default-click-behavior-of-a-routerlink-in-angular-app", "title": "How to prevent default click behavior of a routerlink in angular app?", "body": "<p>Even though this is not angular specific in theory it needs to be solved in ng app and none of the examples work. I've seen all the answers in SO but none of those solutions seem to work in real life Angular7 app. For example none of the following work :</p>\n\n<pre><code>&lt;!-- option 1 --&gt;\n&lt;a class=\"nav-link\" [routerLink]='[\"/properties\", sessionId]'\n (click)=\"$event.stopPropagation()\"&gt;Properties\n&lt;/a&gt;\n&lt;!-- option 2 --&gt;\n&lt;a class=\"nav-link\" [routerLink]='[\"/properties\", sessionId]'\n (click)=\"$event.stopPropagation();false\"&gt;Properties\n&lt;/a&gt;\n&lt;!-- option 3 --&gt;\n&lt;a class=\"nav-link\" [routerLink]='[\"/properties\", sessionId]'\n (click)=\"$event.preventDefault()\"&gt;Properties\n&lt;/a&gt;\n&lt;!-- option 4 --&gt;\n&lt;a class=\"nav-link\" [routerLink]='[\"/properties\", sessionId]'\n (click)=\"$event.preventDefault();false\"&gt;Properties\n&lt;/a&gt;\n</code></pre>\n\n<p>Creating a method for handler in component.ts and calling either function with or without returning false does not work either.</p>\n\n<p>In addition, I don't want to disable link because it needs to be draggable / openable in other browser tab/window.</p>\n\n<p>EDIT: Here is <a href=\"https://github.com/angular/angular/issues/21457\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/21457</a> and I can make it to work by adding an element inside anchor and have the click for the inside element like this:</p>\n\n<pre><code>(click)=\"$event.stopPropagation();$event.preventDefault()\"\n</code></pre>\n\n<p>My real world example has mat-icon inside anchor so I use that but in link above a span inside is suggested.</p>\n"}, {"tags": ["typescript", "partial"], "comments": [{"owner": {"reputation": 166, "user_id": 11610862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e034Gi4w8K0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reN5ri-7OVIk7bcyyJJ-idEUUuQrw/mo/photo.jpg?sz=128", "display_name": "aquz", "link": "https://stackoverflow.com/users/11610862/aquz"}, "edited": false, "score": 0, "creation_date": 1560335761, "post_id": 56559542, "comment_id": 99699926, "body": "<a href=\"https://stackoverflow.com/questions/31816061/why-am-i-getting-an-error-object-literal-may-only-specify-known-properties\" title=\"why am i getting an error object literal may only specify known properties\">stackoverflow.com/questions/31816061/&hellip;</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 166, "user_id": 11610862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e034Gi4w8K0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reN5ri-7OVIk7bcyyJJ-idEUUuQrw/mo/photo.jpg?sz=128", "display_name": "aquz", "link": "https://stackoverflow.com/users/11610862/aquz"}, "edited": false, "score": 0, "creation_date": 1560336385, "post_id": 56559542, "comment_id": 99700256, "body": "@aquz excess property checks is part of it, but if the types did not have anythingn in common this would be an error"}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 2635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000832765683/picture?type=large", "display_name": "Douglas C Vasconcelos", "link": "https://stackoverflow.com/users/2635003/douglas-c-vasconcelos"}, "edited": false, "score": 1, "creation_date": 1560426781, "post_id": 56560299, "comment_id": 99737450, "body": "would there be an alternative to <code>Partial</code> to accept <b>only fields from another type and nothing else (not requiring all the fields though)?</b>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 329, "user_id": 2635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000832765683/picture?type=large", "display_name": "Douglas C Vasconcelos", "link": "https://stackoverflow.com/users/2635003/douglas-c-vasconcelos"}, "edited": false, "score": 0, "creation_date": 1560427098, "post_id": 56560299, "comment_id": 99737628, "body": "@DouglasCarvalhoVasconcelos on assignment I don&#39;t think so, not without something like negated types which we currently do not have. If you have function and you want to forbid extra properties, that can be done. Maybe post another question for that ? This question was about why, and the answer is already very long."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1560337516, "last_edit_date": 1560337516, "creation_date": 1560336329, "answer_id": 56560299, "question_id": 56559542, "link": "https://stackoverflow.com/questions/56559542/why-partial-accepts-extra-properties-from-another-type/56560299#56560299", "title": "Why Partial accepts extra properties from another type?", "body": "<p>This is going to be a bit of a journey so hang in there with me:</p>\n\n<p>Generally a sub-type should be assignable to a base-type. In Typescript a type with more properties should be assignable to a where a type with just a subset of the properties is expected. So this for example is legal:</p>\n\n<pre><code>let source = { a1: 0, a2: 0}\nlet target: { a1: number } = source\n</code></pre>\n\n<p>Now surprisingly, because of the way structural typing works <code>Partial&lt;A&gt;</code> is a subtype of <code>Partial&lt;B&gt;</code> and <code>Partial&lt;B&gt;</code> is a subtype of <code>Partial&lt;A&gt;</code>. Optional properties can be missing in a subtype, so optional properties missing from a type do not disqualify a type from being a subtype. An if we remove the optional properties we are just left with <code>{}</code> which can be a the base type of any other type. The compiler agrees with me on this point if we ask it to answer this subtyping question using conditional types:</p>\n\n<pre><code>type q1 = Partial&lt;A&gt; extends Partial&lt;B&gt; ? \"Y\" : \"N\" // Y\ntype q2  = Partial&lt;B&gt; extends Partial&lt;A&gt; ? \"Y\" : \"N\" // Y\n</code></pre>\n\n<p>There is one exception to this (ok maybe two), assignment of object literals directly to a reference of a particular type. This is called excess property checks as is the reason that if we were to perform the above assignment directly we would get an error:</p>\n\n<pre><code>let target: { a1: number } = { a1: 0, a2: 0} // err  \n</code></pre>\n\n<p>The reason this is an error is that it is a common error to mistakenly create an object literal with more properties or misspelled properties and this check (which is a violation of the principle a sub-type should be assignable to a base-type) is there to catch this mistake. This is also the reason you are getting an error on </p>\n\n<pre><code>let partialA: Partial&lt;A&gt; = {b1: 1, x1: 1};\n</code></pre>\n\n<p>But excess property checks only kick in on <strong>direct</strong> assignment of an object literal to variable of a specific type. So on the assignment <code>let partialA: Partial&lt;A&gt; = b;</code> it will not trigger an error on excess property checks.</p>\n\n<p>One further complication is that <code>Partial&lt;A&gt;</code> is what is called a weak type. From the <a href=\"https://github.com/microsoft/TypeScript/pull/3842\" rel=\"nofollow noreferrer\">PR</a> introducing checks for such type:</p>\n\n<blockquote>\n  <p>A weak type is one which has only optional properties and is not empty. Because these types are assignable from anything except types with matching non-assignable properties, they are very weakly typechecked. The simple fix here is to require that a type is only assignable to a weak type if they are not completely disjoint.</p>\n</blockquote>\n\n<p>Now since a weak type has no mandatory properties, following the principle a sub-type should be assignable to a base-type, any other object would be assignable to such a type:</p>\n\n<pre><code>let k = { foo: 0 }\nlet partialA: Partial&lt;A&gt; = k;\n</code></pre>\n\n<p>The type of <code>k</code> is a sub-type of <code>Partial&lt;A&gt;</code>, sure <code>k</code> has nothing in common with <code>Partial&lt;A&gt;</code> but that is not an issue. After all <code>Partial&lt;A&gt;</code> does not require any propertie, so <code>k</code> does not need any, and it has one extra property, which is generally what a sub-type does, become more specific by adding members.</p>\n\n<p>The reason the code code above is an error is because of the PR are reference above which postulates that assigning a completely unrelated type to a weak type is probably an error. So like excess property checks a rule was introduced (a rule which again breaks the idea a subtype is assignable to a base type) that disallows such assignments.</p>\n\n<p>In your case however <code>Partial&lt;A&gt;</code> and <code>Partial&lt;B&gt;</code> do have something in common <code>x1</code> so this rule does not catch the possibly mistaken assignment. Although surprising because both <code>Partial&lt;A&gt;</code> and <code>Partial&lt;B&gt;</code> have no mandatory properties, they are subtypes of one another and unless there is a specific reason (such as excess property checks or this extra weak type detection rule) the assignment is allowed.</p>\n"}], "owner": {"reputation": 329, "user_id": 2635003, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000832765683/picture?type=large", "display_name": "Douglas C Vasconcelos", "link": "https://stackoverflow.com/users/2635003/douglas-c-vasconcelos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 56560299, "answer_count": 1, "score": 5, "last_activity_date": 1560337516, "creation_date": 1560333932, "question_id": 56559542, "link": "https://stackoverflow.com/questions/56559542/why-partial-accepts-extra-properties-from-another-type", "title": "Why Partial accepts extra properties from another type?", "body": "<p>Given interfaces A and B, which contain a <code>x1</code> property in common</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n  a1: number;\n  a2: number;\n  x1: number;  // &lt;&lt;&lt;&lt;\n}\n\ninterface B{\n  b1: number;\n  x1: number;  // &lt;&lt;&lt;&lt;\n}\n</code></pre>\n\n<p>And given the implementations <code>a</code> and <code>b</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let a: A = {a1: 1, a2: 1, x1: 1};\nlet b: B = {b1: 1, x1: 1};\n</code></pre>\n\n<p>This simply passes, even though <code>b1</code> does not belong to <code>Partial&lt;A&gt;</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let partialA: Partial&lt;A&gt; = b;\n</code></pre>\n\n<p>but this fails because <code>b1</code> does not belong to <code>Partial&lt;A&gt;</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let partialA: Partial&lt;A&gt; = {b1: 1, x1: 1};\n</code></pre>\n\n<p>Could someone please tell me why?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1560337593, "post_id": 56559320, "comment_id": 99700922, "body": "Are you attempting to use the changed values too soon? With async code, it&#39;s common to depend on <code>res</code> changing before it has. The code that depends on the change should be part of / called from the callback function."}, {"owner": {"reputation": 17, "user_id": 4948457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd5e5a8192dae2ec4a397fb65c966e9e?s=128&d=identicon&r=PG", "display_name": "Shad", "link": "https://stackoverflow.com/users/4948457/shad"}, "reply_to_user": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "edited": false, "score": 0, "creation_date": 1560341926, "post_id": 56559320, "comment_id": 99703544, "body": "@Fenton Yeah, I know this, the problem is that my main function have to send back a user. So, I can&#39;t make a return from an other callback, it must be this function (framework constraint)"}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 4948457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd5e5a8192dae2ec4a397fb65c966e9e?s=128&d=identicon&r=PG", "display_name": "Shad", "link": "https://stackoverflow.com/users/4948457/shad"}, "is_accepted": true, "score": 0, "last_activity_date": 1560413556, "creation_date": 1560413556, "answer_id": 56576138, "question_id": 56559320, "link": "https://stackoverflow.com/questions/56559320/callback-doesnt-edit-value/56576138#56576138", "title": "Callback doesn&#39;t edit value", "body": "<p>We found out what was the way to do it. The problem was our misconception about the Promise principe in Typescript. The fact is that you can return a promise in the function, not only the User object.</p>\n\n<p>Main function : </p>\n\n<pre><code>async verifyCredentials(credentials: Credentials): Promise&lt;User&gt; {\n    let proms = new Promise&lt;User&gt;(function(resolve,reject){\n      ldap.authentication(credentials).then(val =&gt; {\n        let foundUser : User = new User();\n        foundUser.email = val.user.mail;\n        foundUser.firstName = val.user.givenName;\n        foundUser.lastName = val.user.sn;\n        foundUser.id = val.user.uid;\n        resolve(foundUser);\n      }) \n    })\n    return proms;\n  }\n</code></pre>\n\n<p>LDAP function :</p>\n\n<pre><code>public async authentication(\n    credentials: Credentials,\n  ){\n    return new Promise&lt;ldapRes&gt;(function(resolve, reject){\n\n      ldap.authenticate(credentials.username, credentials.password,function(err:string,user:any,info:string) {\n        resolve({err,user,info});\n      });\n\n    });\n\n  }\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4948457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd5e5a8192dae2ec4a397fb65c966e9e?s=128&d=identicon&r=PG", "display_name": "Shad", "link": "https://stackoverflow.com/users/4948457/shad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56576138, "answer_count": 1, "score": 0, "last_activity_date": 1560413556, "creation_date": 1560333266, "last_edit_date": 1560342394, "question_id": 56559320, "link": "https://stackoverflow.com/questions/56559320/callback-doesnt-edit-value", "title": "Callback doesn&#39;t edit value", "body": "<p>I try to get a result from a series of callback. The problem is that no result at all could be return.</p>\n\n<p>Here is the code I'm trying to get around :</p>\n\n<p>Main function :</p>\n\n<pre><code>let userldap:userLDAP = {controls:[],objectClass:[],dn:\"\",sn:\"\",givenName:\"\",mail:\"\",uid:\"\",cn:\"\",userPassword:\"\"};\nlet res:ldapRes = {err:\"\",info:\"\",user:userldap};\n\nthis.ldap.authentication(credentials,res);\n\n</code></pre>\n\n<p>So, basicly, I'm just trying to edit values in the res object.</p>\n\n<p>Service :</p>\n\n<pre><code>\n  public authentication(\n    credentials: Credentials,\n    res:ldapRes,\n  ):void {\n    this.ldap.authenticate(credentials.username, credentials.password,function(err:string,user:any,info:string) {\n          res.err = err;\n          res.info=info;\n          res.user=user;\n      });\n  }\n</code></pre>\n\n<p>It's really a pretty basic usage. Despite this, the callback in the authenticate function seems to not edit the res object.</p>\n\n<p>I tryed many things like global context or anything, but still the callback in authenticate function seems to just do his work, than vanish from the very universe. Even if the object is changed in, it just reset to its old value.</p>\n\n<p>So if anyone have a clue about what I'm messing up (because it's a basic of code, a problem of variable range of definition, I know it, but can't find solution), I'll be glad to hear it :) .</p>\n\n<p>Thanks.</p>\n\n<p>EDIT : As suggested, and as already tryed, an await on the callback inside the auth function doesn't solve the matter :</p>\n\n<pre><code>public async authentication(credentials : Credentials, res: ldapRes):Promise&lt;ldapRes&gt;{\n    //console.log(res);\n    await this.ldap.authenticate(credentials.username, credentials.password, function(err:string,user:any,info:string) {\n      res.err = err; res.info=info; res.user = user;\n      console.log(\"Callback from inside auth function :\");\n      console.log(res);\n    });\n    console.log(\"Callback from outside auth function :\");\n    console.log(res);\n    return res;\n  }\n</code></pre>\n\n<p>In this case, the log from inside work like a charm, and the one on the outside still display a reseted version of res (no value).</p>\n"}, {"tags": ["typescript", "multidimensional-array", "tuples", "type-inference"], "answers": [{"tags": [], "owner": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "is_accepted": false, "score": 1, "last_activity_date": 1560334111, "creation_date": 1560334111, "answer_id": 56559600, "question_id": 56559245, "link": "https://stackoverflow.com/questions/56559245/multidimensional-array-argument-type-inference/56559600#56559600", "title": "Multidimensional array argument type inference", "body": "<p>Why not give it a hint that you want it to be a union type?</p>\n\n<pre><code>abc&lt;string | number&gt;([[1], ['string'], [2], [3]])\n</code></pre>\n\n<p>In your case it gives you the error because TS assumes that you want <code>T</code> to be a single type, not a union type.</p>\n\n<p>Imagine if TS always went along with whatever types you put into the array and just expanded the type to match it. You'd lose the whole benefit of type checking and could possibly end up with a <code>string | number | boolean | etc</code> union type, which is essentially equivalent to <code>any</code> and is unlikely to be what you intended.</p>\n"}, {"tags": [], "owner": {"reputation": 120, "user_id": 1304988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479b4f3012204960b8b115896fe9e82?s=128&d=identicon&r=PG", "display_name": "user1304988", "link": "https://stackoverflow.com/users/1304988/user1304988"}, "is_accepted": true, "score": 0, "last_activity_date": 1560460989, "creation_date": 1560460989, "answer_id": 56588744, "question_id": 56559245, "link": "https://stackoverflow.com/questions/56559245/multidimensional-array-argument-type-inference/56588744#56588744", "title": "Multidimensional array argument type inference", "body": "<p>So finally I figured out how to make this work.</p>\n\n<p>If you specify the multidimensional array as a generic type it works as expected:</p>\n\n<pre><code>function abc&lt;T, TMultiArray extends T[][]&gt;(arr: TMultiArray): T[] {\n    // Pseudo logic that returns any of the values\n    return arr[Math.floor(Math.random() * arr.length)];\n}\n</code></pre>\n\n<p>This doesn't give an error anymore and by default infers the return type as unknown[]</p>\n\n<pre><code>abc([[1], ['string']])\n</code></pre>\n\n<p>And this gives an error as expected</p>\n\n<pre><code>const y: number[] = abc([[2], ['string']]) // Type 'string' is not assignable to type 'number'.\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 1304988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479b4f3012204960b8b115896fe9e82?s=128&d=identicon&r=PG", "display_name": "user1304988", "link": "https://stackoverflow.com/users/1304988/user1304988"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 56588744, "answer_count": 2, "score": 0, "last_activity_date": 1560460989, "creation_date": 1560333011, "last_edit_date": 1560333845, "question_id": 56559245, "link": "https://stackoverflow.com/questions/56559245/multidimensional-array-argument-type-inference", "title": "Multidimensional array argument type inference", "body": "<p>When passing a generic multidimensional array T[][] (or rest params of T[]), it looks like typescript expects the type of the arrays following the first array to be a superset of the first array types.</p>\n\n<pre><code>function abc&lt;T&gt;(values: T[][]): T[] {\n    return values[0];\n}\n\nabc([[1], ['string'], [2], [3]]) // Error: Type 'string' is not assignable to type 'number'.\n</code></pre>\n\n<p>Why is that? and can I get it to infer the type as (number | string)[][]?</p>\n"}, {"tags": ["html", "angular", "typescript", "ngfor"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9293540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c5d0e10760fb241e0360117a582f33?s=128&d=identicon&r=PG&f=1", "display_name": "S.Shezi", "link": "https://stackoverflow.com/users/9293540/s-shezi"}, "edited": false, "score": 0, "creation_date": 1560345966, "post_id": 56559327, "comment_id": 99706163, "body": "This actually read out what I needed, but the second level just printed out json :)"}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "reply_to_user": {"reputation": 13, "user_id": 9293540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c5d0e10760fb241e0360117a582f33?s=128&d=identicon&r=PG&f=1", "display_name": "S.Shezi", "link": "https://stackoverflow.com/users/9293540/s-shezi"}, "edited": false, "score": 0, "creation_date": 1560363946, "post_id": 56559327, "comment_id": 99715777, "body": "Yeah bcs for debugging purpose here we use pipe called \u2018json\u2019 so you know on which position our required key value is."}], "tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": false, "score": 1, "last_activity_date": 1560333305, "creation_date": 1560333305, "answer_id": 56559327, "question_id": 56559179, "link": "https://stackoverflow.com/questions/56559179/iterating-over-n-object-of-objects-using-ngfor-recursivley/56559327#56559327", "title": "Iterating over n object of objects using ngFor recursivley", "body": "<p>you can iterate loop by using a <code>keyvalue</code> pipe. so you can be able to iterate loop over the object.</p>\n\n<p>so the logic here we implement is the when you have object in json use <code>keyvalue</code> pipe when it is array use simple <code>*ngFor</code> with out <code>keyvalue</code> pipe.</p>\n\n<pre><code>&lt;mat-expansion-panel *ngIf=\"dirInfos !== undefined\"&gt;\n  &lt;mat-expansion-panel-header&gt;\n    &lt;mat-panel-title&gt;\n      {{dirInfos.folderName}}\n    &lt;/mat-panel-title&gt;\n    &lt;mat-panel-description&gt;\n      {{dirInfos.dirPath}}\n    &lt;/mat-panel-description&gt;\n  &lt;/mat-expansion-panel-header&gt;\n  &lt;mat-expansion-panel *ngFor=\"let dir of dirInfos.dirInfoList | keyvalue\"&gt;\n    &lt;mat-expansion-panel-header&gt;\n      &lt;mat-panel-title&gt;\n        {{dir | json}} \n&lt;!-- HERE YOU WILL GET THE DATA WHICH IS SEPARATED INTO IN TO KEY VALUE PAIR   --&gt;\n      &lt;/mat-panel-title&gt;\n      &lt;mat-panel-description&gt;\n        {{dir.dirPath}}\n      &lt;/mat-panel-description&gt;\n    &lt;/mat-expansion-panel-header&gt;\n  &lt;/mat-expansion-panel&gt;\n  &lt;p *ngFor=\"let file of dirInfos.fileNames\"&gt;{{file}}&lt;/p&gt;\n&lt;/mat-expansion-panel&gt;\n\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9293540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c5d0e10760fb241e0360117a582f33?s=128&d=identicon&r=PG&f=1", "display_name": "S.Shezi", "link": "https://stackoverflow.com/users/9293540/s-shezi"}, "edited": false, "score": 1, "creation_date": 1560346002, "post_id": 56560125, "comment_id": 99706186, "body": "This really helped! Didn&#39;t know this existed, but I added it and adapted it and it works, thanks!"}, {"owner": {"reputation": 2289, "user_id": 6769119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cJOCPQ3_674/AAAAAAAAAAI/AAAAAAAABBw/WCyslIvdXbk/photo.jpg?sz=128", "display_name": "Mukundhan", "link": "https://stackoverflow.com/users/6769119/mukundhan"}, "reply_to_user": {"reputation": 13, "user_id": 9293540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c5d0e10760fb241e0360117a582f33?s=128&d=identicon&r=PG&f=1", "display_name": "S.Shezi", "link": "https://stackoverflow.com/users/9293540/s-shezi"}, "edited": false, "score": 0, "creation_date": 1560346323, "post_id": 56560125, "comment_id": 99706406, "body": "Glad, I could :)"}], "tags": [], "owner": {"reputation": 2289, "user_id": 6769119, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cJOCPQ3_674/AAAAAAAAAAI/AAAAAAAABBw/WCyslIvdXbk/photo.jpg?sz=128", "display_name": "Mukundhan", "link": "https://stackoverflow.com/users/6769119/mukundhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1560335757, "creation_date": 1560335757, "answer_id": 56560125, "question_id": 56559179, "link": "https://stackoverflow.com/questions/56559179/iterating-over-n-object-of-objects-using-ngfor-recursivley/56560125#56560125", "title": "Iterating over n object of objects using ngFor recursivley", "body": "<p>You can use the <strong>recursive template design pattern</strong> for your use case. like in <a href=\"https://www.bennadel.com/blog/3512-playing-with-recursive-ng-template-references-in-angular-6-1-10.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-wmj9nn?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 13, "user_id": 9293540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5c5d0e10760fb241e0360117a582f33?s=128&d=identicon&r=PG&f=1", "display_name": "S.Shezi", "link": "https://stackoverflow.com/users/9293540/s-shezi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 430, "favorite_count": 0, "accepted_answer_id": 56560125, "answer_count": 2, "score": 1, "last_activity_date": 1560350018, "creation_date": 1560332769, "last_edit_date": 1592644375, "question_id": 56559179, "link": "https://stackoverflow.com/questions/56559179/iterating-over-n-object-of-objects-using-ngfor-recursivley", "title": "Iterating over n object of objects using ngFor recursivley", "body": "<p>I have an Angular Project where I need to show Folder structures of a Server.\nI have json data in this form(demo names):</p>\n<pre><code>{\n    &quot;dirPath&quot;: &quot;file:///C:/dev/gallery/filesFromApp/&quot;,\n    &quot;folderName&quot;: &quot;filesFromApp&quot;,\n    &quot;fileNames&quot;: [\n        &quot;firmwareUpdate101.txt&quot;,\n        &quot;keyboard_output.txt&quot;,\n        &quot;screen-locks.txt&quot;\n    ],\n    &quot;dirInfoList&quot;: [\n        {\n            &quot;dirPath&quot;: &quot;file:///C:/dev/gallery/filesFromApp/Beta1/&quot;,\n            &quot;folderName&quot;: &quot;Beta1&quot;,\n            &quot;fileNames&quot;: [\n                &quot;beta1Ubdate.txt&quot;\n            ],\n            &quot;dirInfoList&quot;: []\n        },\n        {\n            &quot;dirPath&quot;: &quot;file:///C:/dev/gallery/filesFromApp/Beta2/&quot;,\n            &quot;folderName&quot;: &quot;Beta2&quot;,\n            &quot;fileNames&quot;: [\n                &quot;Beta2UPDATE!.txt&quot;\n            ],\n            &quot;dirInfoList&quot;: [\n                {\n                    &quot;dirPath&quot;: &quot;file:///C:/dev/gallery/filesFromApp/Beta2/omaewa/&quot;,\n                    &quot;folderName&quot;: &quot;omaewa&quot;,\n                    &quot;fileNames&quot;: [\n                        &quot;nani.txt&quot;\n                    ],\n                    &quot;dirInfoList&quot;: []\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n<p>What I need to do is show every Folder in an Angular Material Expansion Panel:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;mat-expansion-panel *ngIf=&quot;dirInfos !== undefined&quot;&gt;\n  &lt;mat-expansion-panel-header&gt;\n    &lt;mat-panel-title&gt;\n      {{dirInfos.folderName}}\n    &lt;/mat-panel-title&gt;\n    &lt;mat-panel-description&gt;\n      {{dirInfos.dirPath}}\n    &lt;/mat-panel-description&gt;\n  &lt;/mat-expansion-panel-header&gt;\n  &lt;mat-expansion-panel *ngFor=&quot;let dir of dirInfos.dirInfoList&quot;&gt;\n    &lt;mat-expansion-panel-header&gt;\n      &lt;mat-panel-title&gt;\n        {{dir.folderName}}\n      &lt;/mat-panel-title&gt;\n      &lt;mat-panel-description&gt;\n        {{dir.dirPath}}\n      &lt;/mat-panel-description&gt;\n    &lt;/mat-expansion-panel-header&gt;\n  &lt;/mat-expansion-panel&gt;\n  &lt;p *ngFor=&quot;let file of dirInfos.fileNames&quot;&gt;{{file}}&lt;/p&gt;\n&lt;/mat-expansion-panel&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/cOZ2c.png\" rel=\"nofollow noreferrer\">Image to Visual example</a></p>\n<p>My Problem is that the File structure can go very deep, i.e 25 Folders in. I have no idea how to recursively check this, and then generate the needed HTML, any Ideas? ngFor might be helpful but I am not aware of a way to make this work, even if I use Object.Keys on the objects.</p>\n"}, {"tags": ["angular", "typescript", "angular-ui-router", "angular-routing"], "comments": [{"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560332813, "post_id": 56559158, "comment_id": 99698360, "body": "The component doesn&#39;t get re-built if you change the url, and <code>ngOnInit</code> doesn&#39;t get re-executed. Use an Observable in place of <code>snapshot</code>. This is well documented in the official docs"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560332956, "post_id": 56559158, "comment_id": 99698441, "body": "@CristianTra&#236;na I also tried it as <b>let id = this.route.snapshot.paramMap.get(&#39;id&#39;);</b> AND <b>this.route.paramMap.subscribe(params =&gt; { let id = +params.get(&#39;id&#39;); })</b> but nothing was changed. Could you pls post an example? Thanks in advance..."}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560333141, "post_id": 56559158, "comment_id": 99698526, "body": "@CristianTra&#236;na On the other hand if I refresh on the same page, does it men to change the url? Because I think it means to request the same url with the same id parameter. Is not it?"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560333173, "post_id": 56559158, "comment_id": 99698550, "body": "<code>let id</code>? You should change the component state, not just assign a variable. <code>Observable</code>s are asyncrhonous. So use <code>this.id</code>, but if you don&#39;t know how observables or async work, I advise you to deepen these arguments before diving in Anguar"}, {"owner": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560333208, "post_id": 56559158, "comment_id": 99698569, "body": "You should also understand the difference between client side navigation and server side navigation. No answer is so complete to explain all your doubts :)"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560333368, "post_id": 56559158, "comment_id": 99698645, "body": "@CristianTra&#236;na I used this.id, I just gave an example. On the other hand if you post an example to fix this issue I would understand many things and ask you if there is a point that I do not understand :)"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 6954, "user_id": 1850851, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/6784558f77f063472d44576d296a8a61?s=128&d=identicon&r=PG", "display_name": "Cristian Tra&#236;na", "link": "https://stackoverflow.com/users/1850851/cristian-tra%c3%acna"}, "edited": false, "score": 0, "creation_date": 1560333479, "post_id": 56559158, "comment_id": 99698710, "body": "@CristianTra&#236;na I simply perform 2 things: Getting the same details when refreshing details page and opening details of a record via link e.g. posting the url on address bar. Is it too difficult?"}, {"owner": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1560333977, "post_id": 56559158, "comment_id": 99698987, "body": "@Willys maybe this is about your server where app is hosted? <a href=\"https://angular.io/guide/deployment#routed-apps-must-fallback-to-indexhtml\" rel=\"nofollow noreferrer\">angular.io/guide/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "reply_to_user": {"reputation": 1721, "user_id": 9907293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae67c5374c6bad59016f9b13c58b8c4?s=128&d=identicon&r=PG&f=1", "display_name": "Buczkowski", "link": "https://stackoverflow.com/users/9907293/buczkowski"}, "edited": false, "score": 0, "creation_date": 1560334520, "post_id": 56559158, "comment_id": 99699280, "body": "@Buczkowski Actually I have test it on localhost (debug) and use the relative localhost in urls. But when details page is working, it does not work on refresh on the same environment. Any idea?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "edited": false, "score": 0, "creation_date": 1560336341, "post_id": 56559533, "comment_id": 99700238, "body": "Many thanks for your help. I just tested on local environment and have not fixed it yet.  Actually I use C# (ASP.NET MVC) rather than Java and it might be better to fix the issue on Angular side. Any idea?"}], "tags": [], "owner": {"reputation": 71, "user_id": 11351846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-x3NsDEob-0A/AAAAAAAAAAI/AAAAAAAABOI/yujn-v8_aAI/photo.jpg?sz=128", "display_name": "Geoffrey Fourmis", "link": "https://stackoverflow.com/users/11351846/geoffrey-fourmis"}, "is_accepted": false, "score": 1, "last_activity_date": 1560333914, "creation_date": 1560333914, "answer_id": 56559533, "question_id": 56559158, "link": "https://stackoverflow.com/questions/56559158/cannot-navigate-same-route-in-angular/56559533#56559533", "title": "Cannot navigate same route in Angular", "body": "<p>Do you have this behaviour in both local and production environment ?</p>\n\n<p>If you have a HTTP404 maybe it's not linked to angular. I had the same thing when packaging an angular app inside a WAR or JAR with spring boot for executing on an application server. If you do, (and if I remenber well) I had to add this configuration :</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/**/*\").addResourceLocations(\"classpath:/static/\").resourceChain(true).addResolver(new PathResourceResolver() {\n\n            @Override\n            protected Resource getResource(String resourcePath, Resource location) throws IOException {\n                Resource requestedResource = location.createRelative(resourcePath);\n                return requestedResource.exists() &amp;&amp; requestedResource.isReadable() ? requestedResource : new ClassPathResource(\"/static/index.html\");\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>I don't think it will change something, but you can also try this to get the ID :</p>\n\n<pre><code>ngOnInit() {\n    this.route.params.subscribe(params =&gt; {\n        console.log(\"this is my id:\"+params['id']);\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1560345875, "creation_date": 1560345875, "answer_id": 56563350, "question_id": 56559158, "link": "https://stackoverflow.com/questions/56559158/cannot-navigate-same-route-in-angular/56563350#56563350", "title": "Cannot navigate same route in Angular", "body": "<p>If the component is opened using a button, hyperlink (e.g. /user/issue/detail?id=100) or the same page should be loaded with the same route parameters, the following approach can be used:</p>\n\n<p>In this example record details is opened on the Details page by clicking on the List page or via an hyperlink of a button in an email message. On the other hand, the record is reloaded on refreshing page.</p>\n\n<p><strong><em>list-component.html:</em></strong></p>\n\n<pre><code>&lt;a [routerLink]=\"['/user/detail/']\" [queryParams]=\"{ id: row.Id }\"&gt;{{ row.Title }}&lt;/a&gt;\n</code></pre>\n\n<p><br/></p>\n\n<p><strong><em>details-component.ts:</em></strong></p>\n\n<pre><code>this.id = +this.route.snapshot.queryParamMap.get(\"id\"); \n//\"+\" sign converts string to number as the url parameter is string\n</code></pre>\n\n<p><br/>\n<strong><em>routing-module.ts:</em></strong></p>\n\n<pre><code>{ path: 'user/detail', component: DetailComponent },\n{ path: 'user/detail/:id', component: DetailComponent },\n</code></pre>\n\n<p>The page can be loaded via button and hyperlink also:</p>\n\n<pre><code>&lt;a href=\"http://../detail?id=216\" target=\"_blank\" &gt;Comment&lt;/a&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 836018, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JwOcN.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/836018/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1560345875, "creation_date": 1560332702, "last_edit_date": 1560335949, "question_id": 56559158, "link": "https://stackoverflow.com/questions/56559158/cannot-navigate-same-route-in-angular", "title": "Cannot navigate same route in Angular", "body": "<p>I have a List and Details component in my Angular 7 project and I can open the details of a record by clicking the link on the List page. However, if I refresh on the same Details page or open the same Details page via hyperlink (e.g. opening the same record on the List in a new tab), <strong>HTTP Error 404.0 - Not Found</strong> is encountered. My code is as shown below: </p>\n\n<p><strong><em>routing.module.ts:</em></strong></p>\n\n<pre><code>const routes: Routes = [\n    {\n        path: 'user',    \n        component: UserPanelComponent\n\n        children: [\n            {\n                path: 'dashboard',\n                component: UserDashboardComponent\n            },\n            {\n                path: 'issue/detail/:id',\n                component: IssueDetailComponent\n            }\n        ]\n    }\n];\n\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\n</code></pre>\n\n<p><br/></p>\n\n<p><strong><em>list.component.html:</em></strong></p>\n\n<pre><code>&lt;a [routerLink]=\"['/user/issue/detail/', row.Id]\"&gt;{{ row.Title }&lt;/a&gt;\n</code></pre>\n\n<p><br/></p>\n\n<p><strong><em>details.component.ts:</em></strong></p>\n\n<pre><code>export class DetailComponent {\n\n    constructor(private router: Router,\n        public route: ActivatedRoute) {\n        super();\n\n        this.id = this.router.getCurrentNavigation().extras.state.id; //get id\n    }\n\n    ngOnInit(): void {\n\n        /* I also try to use the following method in order to get id value. Both works, \n        but when refrehing page the code does not hit constructor or ngOninit blocks  */\n\n        this.id = +this.route.snapshot.paramMap.get('id'); //get id\n\n        this.loadDetails();\n    }\n\n    loadDetails() {\n        if (this.id) {\n            // load details\n        }\n    }\n}\n</code></pre>\n\n<p>The stange thing is that when I click a record on the List component, the id parameter is passed and corresponding record is opened on the Details page. But when I right click on the same record and open it in a new tab OR refresh the page on Details page, <strong>HTTP Error 404.0 - Not Found</strong> error is encountered. I have tried to apply many suggestions b\u0131t none of them worked. Any idea to fix this issue? </p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "ngx-charts"], "comments": [{"owner": {"reputation": 743, "user_id": 6663016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cd121220ab034a07324d1cf31304372?s=128&d=identicon&r=PG&f=1", "display_name": "KiraAG", "link": "https://stackoverflow.com/users/6663016/kiraag"}, "edited": false, "score": 0, "creation_date": 1560337404, "post_id": 56559130, "comment_id": 99700818, "body": "are you getting any error in console.log?"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 10106578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58af79885a1e94e6d5db7e380c27f8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kron", "link": "https://stackoverflow.com/users/10106578/kron"}, "is_accepted": true, "score": 0, "last_activity_date": 1560340333, "creation_date": 1560340333, "answer_id": 56561613, "question_id": 56559130, "link": "https://stackoverflow.com/questions/56559130/ngx-charts-bubble-chart-advice/56561613#56561613", "title": "Ngx charts bubble chart advice", "body": "<p>I was eventually able to get it worked out. I will post the same 3 code snippets from above here in their updated forms.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ngx-charts-bubble-chart\n        [results]=\"bubbleDemoTempData\"\n        [view]=\"view\"\n        [showGridLines]=\"showGridLines\"\n        [legend]=\"legend\"\n        [legendTitle]=\"legendTitle\"\n        [legendPosition]=\"legendPOsition\"\n        [xAxis]=\"XAxis\"\n        [yAxis]=\"YAxis\"\n        [showXAxisLabel]=\"showXAxisLabel\"\n        [showYAxisLabel]=\"showYAxisLabel\"\n        [xAxisLabel]=\"xAxisLabel\"\n        [yAxisLabel]=\"yAxisLabel\"\n        [trimXAxisTicks]=\"trimXAxisTicks\"\n        [trimYAxisTicks]=\"trimYAxisTicks\"\n        [maxXAxisTickLength]=\"maxXAxisTickLength\"\n        [maxYAxisTickLength]=\"maxYAxisTickLength\"\n        [roundDomains]=\"roundDomains\"\n        [minRadius]=\"minRadius\"\n        [maxRadius]=\"maxRadius\"\n        [autoScale]=\"autoScale\"\n        [schemeType]=\"schemeType\"\n        (select)=\"onSelectBubbleInteractivePoint($event)\"\n        *ngIf=\"dataTypeDisplay == 'GraphForm'\" \n        [@fade]&gt;\n    &lt;/ngx-charts-bubble-chart&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>view: any[] = [700, 400];\n\n// options\nshowGridLines = true;\nlegend = true;\nlegendTitle = \"Dots Mf'er\";\nlegendPosition = \"right\";\nxAxis = true;\nyAxis = true;\nshowXAxisLabel = true;\nshowYAxisLabel = true;\nxAxisLabel = \"LR\";\nyAxisLabel = \"Jobs\";\ntrimXAxisTicks = true;\ntrimYAxisTicks = true;\nrotateXAxisTicks = true;\nmaxXAxisTickLength = 16;\nmaxYAxisTickLength = 16;\n// xAxisTicks;\n// yAxisTicks;\nroundDomains = false;\nmaxRadius = 5;\nminRadius = 5;\nautoScale = true;\nschemeType = \"ordinal\";\ntooltipDisabled = false;\n</code></pre>\n\n<p>Data Points:   </p>\n\n<pre><code>public bubbleDemoTempData = [\n        {\n          \"name\": \"Example1\",\n          \"series\": [\n            {\n              \"name\": \"a\",\n              \"x\": 0,\n              \"y\": 0,\n              \"r\": 1\n            },\n            {\n                \"name\": \"b\",\n                \"x\":10,\n                \"y\":3,\n                \"r\":10\n            }\n          ]\n        },\n        {\n            \"name\":\"Example2\",\n            \"series\": [\n                {\n                    \"name\":\"1\",\n                    \"x\":20,\n                    \"y\":1,\n                    \"r\":30\n                },\n                {\n                    \"name\":\"2\",\n                    \"x\":3,\n                    \"y\":3,\n                    \"r\":500\n                }\n            ]\n        }\n      ];\n</code></pre>\n\n<p>This works and definitely answers my question from above. That being said the grid lines are still not appearing but that's an entirely different issue that I may have to post a new ticket for.</p>\n"}], "owner": {"reputation": 327, "user_id": 10106578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58af79885a1e94e6d5db7e380c27f8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kron", "link": "https://stackoverflow.com/users/10106578/kron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1156, "favorite_count": 0, "accepted_answer_id": 56561613, "answer_count": 1, "score": 1, "last_activity_date": 1560340333, "creation_date": 1560332623, "question_id": 56559130, "link": "https://stackoverflow.com/questions/56559130/ngx-charts-bubble-chart-advice", "title": "Ngx charts bubble chart advice", "body": "<p>I am trying to get a bubble chart to populate using ngx-charts. The problem is the swimlane documentation on it is almost non-existent and I haven't been able to find any good examples. </p>\n\n<p>I have read the open source code that swimlane provides and have created what I believe are the appropriate variables in Typescript and have constructed my data points using an example line graph I found using the same tools. However the chart still appears empty on the page.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ngx-charts-bubble-chart\n      [view]=\"view\"\n      [results]=\"bubbleDemoTempData\"\n      [showGridLines]=\"showGridLines\"\n      [legend]=\"showLegend\"\n      [legendTitle]=\"legendTitle\"\n      [xAxis]=\"showXAxis\"\n      [yAxis]=\"showYAxis\"\n      [showXAxisLabel]=\"showXAxisLabel\"\n      [showYAxisLabel]=\"showYAxisLabel\"\n      [xAxisLabel]=\"xAxisLabel\"\n      [yAxisLabel]=\"yAxisLabel\"\n      [autoScale]=\"autoScale\"\n      [scheme]=\"colorScheme\"\n      [minRadius]=\"minRadius\"\n      [maxRadius]=\"maxRadius\"\n      (select)=\"onSelectBubbleInteractivePoint($event)\"\n      *ngIf=\"dataTypeDisplay == 'GraphForm'\" \n      [@fade]&gt;\n&lt;/ngx-charts-bubble-chart&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>view: any[] = [700, 400];\n\n// options\nshowXAxis = true;\nshowXAxisLabel = true;\nshowYAxisLabel = true;\nshowYAxis = true;\ngradient = false;\nshowLegend = true;\nlegendTitle = \"Hi\";\nxAxisLabel = 'Number';\nyAxisLabel = 'Color Value';\nshowGridLines = true;\nautoScale=true;\nminRadius = 1;\nmaxRadius = 1;\n\ncolorScheme = {\n    domain: ['#5AA454', '#A10A28', '#C7B42C', '#AAAAAA']\n};\n</code></pre>\n\n<p>Data Points:</p>\n\n<pre><code>public multi = [\n    {\n      \"name\": \"Germany\",\n      \"series\": [\n        {\n          \"name\": \"2010\",\n          \"value\": 7300000\n        },\n        {\n          \"name\": \"2011\",\n          \"value\": 8940000\n        }\n      ]\n    },\n\n    {\n      \"name\": \"USA\",\n      \"series\": [\n        {\n          \"name\": \"2010\",\n          \"value\": 7870000\n        },\n        {\n          \"name\": \"2011\",\n          \"value\": 8270000\n        }\n      ]\n    },\n\n    {\n      \"name\": \"France\",\n      \"series\": [\n        {\n          \"name\": \"2010\",\n          \"value\": 5000002\n        },\n        {\n          \"name\": \"2011\",\n          \"value\": 5800000\n        }\n      ]\n    }\n  ];\n</code></pre>\n\n<p>I would appreciate if someone could give me some advice on correctly populating the chart.</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "mocking", "jasmine"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11099715, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TKl1AI4-i8U/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMYNdbv--_Wf8PfW1kjkLrfieWKig/mo/photo.jpg?sz=128", "display_name": "Soujanya J", "link": "https://stackoverflow.com/users/11099715/soujanya-j"}, "edited": false, "score": 0, "creation_date": 1560332684, "post_id": 56558792, "comment_id": 99698289, "body": "Replacing &quot;AppHttpService&quot; with &quot;HttpTestingController&quot; breaks all others test files as well, and returns this message.                                                                                                                                                                                                        Error: StaticInjectorError(DynamicTestModule)[EmployeeRecordFormSer&zwnj;&#8203;vice -&gt; AppHttpService]:    StaticInjectorError(Platform: core)[EmployeeRecordFormService -&gt; AppHttpService]:      NullInjectorError: No provider for AppHttpService!"}], "tags": [], "owner": {"reputation": 15822, "user_id": 4399281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkroG.jpg?s=128&g=1", "display_name": "Fateh Mohamed", "link": "https://stackoverflow.com/users/4399281/fateh-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1560334265, "last_edit_date": 1560334265, "creation_date": 1560331468, "answer_id": 56558792, "question_id": 56558452, "link": "https://stackoverflow.com/questions/56558452/mock-http-get-request-for-unit-testing-angular-service/56558792#56558792", "title": "Mock Http get request for unit testing angular service", "body": "<p>i think that this is wrong</p>\n\n<pre><code> httpMock = TestBed.get(AppHttpService);\n</code></pre>\n\n<p>it should be </p>\n\n<pre><code> httpMock = TestBed.get(HttpTestingController);\n</code></pre>\n\n<p>httpMock is an <strong>HttpTestingController</strong>, try this</p>\n\n<pre><code>import { HttpClientTestingModule, HttpTestingController} from '@angular/common/http/testing';\n\n\ndescribe('Service: UserSearchService', () =&gt; {\n  let httpMock: HttpTestingController;\n\n beforeEach(async(() =&gt; {\n TestBed.configureTestingModule({\n  imports: [\n    RouterTestingModule.withRoutes([]),\n    HttpClientTestingModule\n  ],\n  declarations: [Component],\n  providers: [\n\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n }).compileComponents();\n fixture = TestBed.createComponent(Component);\n component = fixture.componentInstance;\n httpMock = injector.get(HttpTestingController); // change it here\n}));\n</code></pre>\n\n<p>your test </p>\n\n<pre><code>it('should make expected calls to getUserSerachOptions', inject([HttpTestingController],\n  (httpTestMock: HttpTestingController) =&gt; {\n\n httpMock.expectOne(...)  // this should work now\n ...\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11099715, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TKl1AI4-i8U/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMYNdbv--_Wf8PfW1kjkLrfieWKig/mo/photo.jpg?sz=128", "display_name": "Soujanya J", "link": "https://stackoverflow.com/users/11099715/soujanya-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1612, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1608098415, "creation_date": 1560330380, "last_edit_date": 1608098415, "question_id": 56558452, "link": "https://stackoverflow.com/questions/56558452/mock-http-get-request-for-unit-testing-angular-service", "title": "Mock Http get request for unit testing angular service", "body": "<p>I want to know how I can test my service function that has a http get and post calls. I could configure the spec file where I could create an instance of the service, also followed few sites for creating a mockhttp service, It says \"httpMock.expectOne is not a function\"</p>\n\n<p>reference from here: <a href=\"https://alligator.io/angular/testing-http-interceptors/\" rel=\"nofollow noreferrer\">https://alligator.io/angular/testing-http-interceptors/</a></p>\n\n<pre><code>describe('Service: UserSearchService', () =&gt; {\n\nclass AppLookupServiceStub {\n    //some functions\n}\n\nUserSearchService = new UserSearchService(httpMock,\n    appLookUpService);\n\nbeforeEach(() =&gt; {\n    TestBed.configureTestingModule({\n        imports: [\n            HttpClientTestingModule\n          ],\n    providers: [\n        AppHttpService,\n        HttpClient,\n        AppCookieService,\n        CookieService,\n        { provide: AppLookupService, useClass: AppLookupServiceStub },\n        AppConstants\n    ]\n    });\n});\n\nbeforeEach(async() =&gt; {\n    service = TestBed.get(UserSearchService);\n    httpMock = TestBed.get(AppHttpService);\n\n    selectedCriteria = [\n        //some data\n    ]\n    UserSearchOptions = {\n        //some data\n    }\n});\n\nit('should have a service instance', () =&gt; {\n    expect(service).toBeDefined();\n});\nit('should make expected calls to getUserSerachOptions', inject(\n    [AppHttpService, UserSearchService],\n    (\n      httpMock: AppHttpService,\n      dataService: UserSearchService\n    ) =&gt; {\n    // let spy = spyOn(service, 'getUserSerachOptions');\n    // UserSearchService.getUserSerachOptions();\n    // expect(spy).toBeDefined();\n\n    dataService.getUserSerachOptions().subscribe(UserSearchOptions =&gt; {\n        expect(UserSearchOptions).toEqual(UserSearchOptions);\n    });\n\n    const req = httpMock.expectOne(`AppConstants.ADMIN_CENTRAL_SELECTION_CRITERIA_URL`);\n    expect(req.request.method).toBe(\"GET\");\n    req.flush(UserSearchOptions);\n}));\nit('should get the data successful', () =&gt; {\n    service.getUsersBySelectionCriteria(selectedCriteria[0]).subscribe((data: any) =&gt; {\n        console.log(data);\n      expect(data.country.name).toBe('Australia');\n    });\n});\n\n})\n</code></pre>\n\n<p>test spec for service:</p>\n\n<pre><code>getUserSerachOptions(): Observable&lt;UserSearchOptions&gt; {\nif (!this.userSearchCriteriaOptions) {\n\n    return this.appHttpService.get('{apiUrl}/xyzproject/{devKey}/userSelectionCriteria').pipe(map(\n      (data: UserSearchOptions) =&gt; {\n        this.userSearchCriteriaOptions = data;\n        return  this.userSearchCriteriaOptions;\n      }\n    ));\n}\n\nreturn of( this.userSearchCriteriaOptions);\n}\n</code></pre>\n\n<p>How do I mock the get call, I am unable to find any sources in this case.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 9401556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t9VqZdwsXog/AAAAAAAAAAI/AAAAAAAAC-Y/OTSnBoAVw6I/photo.jpg?sz=128", "display_name": "Mohamad Mousheimish", "link": "https://stackoverflow.com/users/9401556/mohamad-mousheimish"}, "edited": false, "score": 0, "creation_date": 1560337902, "post_id": 56559589, "comment_id": 99701103, "body": "What if I uploaded more than one image ?? In this case I will see the Width and Height of the Last Selected Image."}, {"owner": {"reputation": 1262, "user_id": 11241615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68685ca51efecacb3033314f39be8a47?s=128&d=identicon&r=PG&f=1", "display_name": "xavier", "link": "https://stackoverflow.com/users/11241615/xavier"}, "reply_to_user": {"reputation": 1361, "user_id": 9401556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t9VqZdwsXog/AAAAAAAAAAI/AAAAAAAAC-Y/OTSnBoAVw6I/photo.jpg?sz=128", "display_name": "Mohamad Mousheimish", "link": "https://stackoverflow.com/users/9401556/mohamad-mousheimish"}, "edited": false, "score": 0, "creation_date": 1560338045, "post_id": 56559589, "comment_id": 99701177, "body": "Since you used <code>img.src = event.target.files[0];</code> I thought you were uploading a single image. If you are uploading more than 1, you just need to play a bit with the code. I&#39;ll try now to modify it"}, {"owner": {"reputation": 1262, "user_id": 11241615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68685ca51efecacb3033314f39be8a47?s=128&d=identicon&r=PG&f=1", "display_name": "xavier", "link": "https://stackoverflow.com/users/11241615/xavier"}, "reply_to_user": {"reputation": 1361, "user_id": 9401556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t9VqZdwsXog/AAAAAAAAAAI/AAAAAAAAC-Y/OTSnBoAVw6I/photo.jpg?sz=128", "display_name": "Mohamad Mousheimish", "link": "https://stackoverflow.com/users/9401556/mohamad-mousheimish"}, "edited": false, "score": 1, "creation_date": 1560338376, "post_id": 56559589, "comment_id": 99701358, "body": "I added a <code>for</code> but I couldn&#39;t test it (the previous code was tested indeed for one single image). I guess it will work. If it does not, you just need to manipulate it a bit or let me know it and I&#39;ll fix it"}], "tags": [], "owner": {"reputation": 1262, "user_id": 11241615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68685ca51efecacb3033314f39be8a47?s=128&d=identicon&r=PG&f=1", "display_name": "xavier", "link": "https://stackoverflow.com/users/11241615/xavier"}, "is_accepted": true, "score": 6, "last_activity_date": 1560338299, "last_edit_date": 1560338299, "creation_date": 1560334068, "answer_id": 56559589, "question_id": 56558319, "link": "https://stackoverflow.com/questions/56558319/validating-image-dimensions-in-angular-7/56559589#56559589", "title": "Validating Image Dimensions in Angular 7", "body": "<p>Try something like this:</p>\n\n<pre><code>\nAddFilesToFormData(event: any, fileName: string) {\n  if (event.target.files &amp;&amp; event.target.files.length) {\n    for (const file of event.target.files) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () =&gt; {\n        const img = new Image();\n        img.src = reader.result as string;\n        img.onload = () =&gt; {\n          const height = img.naturalHeight;\n          const width = img.naturalWidth;\n          console.log('Width and Height', width, height);\n        };\n      };\n    }\n  }\n}\n\n</code></pre>\n\n<p>About the <code>for</code>: I recommend you to change it for something like that:</p>\n\n<pre><code>    for (const image of event.target.files) {\n      this.formData.append(fileName, image);\n      this.numberOfPhotos++;\n    }\n</code></pre>\n\n<p>It's clearer.</p>\n"}], "owner": {"reputation": 1361, "user_id": 9401556, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t9VqZdwsXog/AAAAAAAAAAI/AAAAAAAAC-Y/OTSnBoAVw6I/photo.jpg?sz=128", "display_name": "Mohamad Mousheimish", "link": "https://stackoverflow.com/users/9401556/mohamad-mousheimish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3178, "favorite_count": 1, "accepted_answer_id": 56559589, "answer_count": 1, "score": 1, "last_activity_date": 1584112975, "creation_date": 1560329988, "last_edit_date": 1584112975, "question_id": 56558319, "link": "https://stackoverflow.com/questions/56558319/validating-image-dimensions-in-angular-7", "title": "Validating Image Dimensions in Angular 7", "body": "<p>This question have lots of answers on <code>JQuery</code> and <code>JavaScript</code>. And also some versions of <code>Angular</code>. </p>\n\n<p>I tried lots of solutions but none of them work out.</p>\n\n<p>I'm using <code>Angular 7</code> and  trying to validate the <code>Width</code> and <code>Height</code> of the Image Uploaded by the user.</p>\n\n<p>Here's my <code>.html</code> code snippet:</p>\n\n<pre><code>&lt;input type=\"file\" name=\"upload\" id=\"androidPhoneFile\" class=\"upload-box\" placeholder=\"Upload File\" multiple=\"multiple\" (change)=\"onAndroidPhoneChange($event)\" formControlName=\"androidPhone\" #androidPhonePhoto&gt;\n</code></pre>\n\n<p>And here's my <code>.ts</code> component file:</p>\n\n<pre><code>AddFilesToFormData(event: any, fileName: string) {\nconst reader = new FileReader();\nconst img = new Image();\nimg.onload = function() {\n  const height = img.height;\n  const width = img.width;\n  console.log('Width and Height', width, height);\n};\n\nimg.src = event.target.files[0];\nif (event.target.files &amp;&amp; event.target.files.length) {\n  const [file] = event.target.files;\n  reader.readAsDataURL(file);\n  reader.onload = () =&gt; {\n    for (let i = 0; i &lt; event.target.files.length; i++) {\n      this.formData.append(fileName, event.target.files[i]);\n      this.numberOfPhotos++;\n    }\n  };\n}}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1560352591, "post_id": 56565361, "comment_id": 99710318, "body": "You&#39;re right, thanks. That would get back to the behaviour before the upgrade to TS 3.5. Ideally though I&#39;d like to restrict the function so that you can only call it passing in a <code>keyof T</code> whose return value is a string. I&#39;ll keep the question open for a bit to see if anyone else has any ideas."}, {"owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "reply_to_user": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1560353541, "post_id": 56565361, "comment_id": 99710898, "body": "@YoniGibbs I&#39;ve updated my answer with a type safe solution as well"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1560353906, "post_id": 56565361, "comment_id": 99711089, "body": "Ah, perfect, thanks very much. That extra constraint on <code>T</code> was indeed what was missing. With that in place, the cast is no longer required. Great!"}], "tags": [], "owner": {"reputation": 2034, "user_id": 515035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37ab5c5402023c0de6e27b37fce61dbe?s=128&d=identicon&r=PG", "display_name": "Dmitriy", "link": "https://stackoverflow.com/users/515035/dmitriy"}, "is_accepted": true, "score": 4, "last_activity_date": 1560353832, "last_edit_date": 1560353832, "creation_date": 1560352114, "answer_id": 56565361, "question_id": 56558289, "link": "https://stackoverflow.com/questions/56558289/typescript-generic-type-restriction-on-return-value-of-keyof/56565361#56565361", "title": "Typescript: generic type restriction on return value of keyof", "body": "<p>You can easily fix this by changing <code>keyObj.toString()</code> call to <code>String(keyObj)</code> which will internally call <code>.toString()</code> on whatever you pass it so behavior will stay the same except that it won't blow up on <code>undefined</code> and <code>null</code>. In fact you can replace the whole line:</p>\n\n<pre><code>const key = (typeof keyObj === \"string\") ? keyObj : keyObj.toString()\n</code></pre>\n\n<p>with</p>\n\n<pre><code>const key = String(keyObj)\n</code></pre>\n\n<p>because if it is a string it will just not do anything.</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>You almost had the correct type safe solution, you just need an extra constraint on <code>T</code>:</p>\n\n<pre><code>function convertArrayToObject&lt;\n  T extends { [Key in K]: string }, // This is required for the reduce to work\n  K extends PropertiesOfType&lt;T, string&gt;\n&gt;(array: Array&lt;T&gt;, indexKey: K): ItemsMap&lt;T&gt; {\n  return array.reduce((accumulator: ItemsMap&lt;T&gt;, current: T) =&gt; {\n    accumulator[current[indexKey]] = current\n    return accumulator\n  }, {})\n}\n</code></pre>\n"}], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3726, "favorite_count": 3, "accepted_answer_id": 56565361, "answer_count": 1, "score": 5, "last_activity_date": 1560353832, "creation_date": 1560329883, "last_edit_date": 1560333453, "question_id": 56558289, "link": "https://stackoverflow.com/questions/56558289/typescript-generic-type-restriction-on-return-value-of-keyof", "title": "Typescript: generic type restriction on return value of keyof", "body": "<p>Upgrading to TypeScript 3.5 has caused some code of mine to no longer compile. I think this is because of a breaking change: <a href=\"https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#generic-type-parameters-are-implicitly-constrained-to-unknown\" rel=\"nofollow noreferrer\">Generic type parameters are implicitly constrained to unknown</a>. I'm trying to find the best way to fix the code now.</p>\n\n<p><strong>TL;DR</strong>: how do I declare a generic function with types <code>T</code> and <code>K extends keyof T</code>, but where <code>T[K]</code> must be a string.</p>\n\n<p><strong>Longer version</strong>: I want to convert an array of objects to a single object which has all the values in the array, keyed on some property of the objects. For example:</p>\n\n<pre><code>type Person = { id: string, firstName: string, lastName: string, age: number}\n\nconst array: Person[] = [\n    {id: \"a\", firstName: \"John\", lastName: \"Smith\", age: 27},\n    {id: \"b\", firstName: \"Bill\", lastName: \"Brown\", age: 53}\n]\n\nconst obj = convertArrayToObject(array, \"id\")\n</code></pre>\n\n<p>The result of this would be that <code>obj</code> would have this structure:</p>\n\n<pre><code>{ \n    a: {id: \"a\", firstName: \"John\", lastName: \"Smith\", age: 27},\n    b: {id: \"b\", firstName: \"Bill\", lastName: \"Brown\", age: 53}\n}\n</code></pre>\n\n<p>I had this function to do this:</p>\n\n<pre><code>type ItemsMap&lt;T&gt; = { [key: string]: T }\n\nfunction convertArrayToObject&lt;T&gt;(array: Array&lt;T&gt;, indexKey: keyof T): ItemsMap&lt;T&gt; {\n    return array.reduce((accumulator: ItemsMap&lt;T&gt;, current: T) =&gt; {\n        const keyObj = current[indexKey]\n        const key = (typeof keyObj === \"string\") ? keyObj : keyObj.toString()\n        accumulator[key] = current\n        return accumulator\n    }, {})\n}\n</code></pre>\n\n<p>Since upgrading to TypeScript 3.5, the error is on the call to <code>toString</code>: <code>Property toString does not exist on type T[keyof T]</code>.</p>\n\n<p>I can understand the problem: since that breaking change in TypeScript 3.5 the return value of <code>current[indexKey]</code> is now <code>unknown</code> rather than an object, so <code>toString</code> can't be called on it. But how do I get round this?</p>\n\n<p>Ideally what I'd like to do is put a generic constraint on the type of the <code>indexKey</code> parameter such that you can only pass in a key whose return value is itself a string. Here's what I've managed to get so far (though I'm not sure if it's the best approach):</p>\n\n<p>First, I declare a type which is used to find all properties of a given type, <code>TObj</code>, which return a given type of result, <code>TResult</code>:</p>\n\n<pre><code>type PropertiesOfType&lt;TObj, TResult&gt; =\n    { [K in keyof TObj]: TObj[K] extends TResult ? K : never }[keyof TObj]\n</code></pre>\n\n<p>So for example I could now get all the string properties of <code>Person</code>:</p>\n\n<pre><code>type PersonStringProps = PropertiesOfType&lt;Person, string&gt; // \"firstName\" | \"lastName\" | \"id\"\n</code></pre>\n\n<p>And now I can declare the function as follows:</p>\n\n<pre><code>function convertArrayToObject&lt;T, K extends PropertiesOfType&lt;T, string&gt;&gt;(\n    array: Array&lt;T&gt;, indexKey: K): ItemsMap&lt;T&gt; { ...\n</code></pre>\n\n<p>I can now only call the function with properties that return string, for exampe:</p>\n\n<pre><code>convertArrayToObject(array, \"id\") // Compiles, which is correct\nconvertArrayToObject(array, \"age\") // Doesn't compile, which is correct\n</code></pre>\n\n<p>However, in the function body, I still can't seem to use the passed in <code>keyof T</code> and have the compiler know that the value is returned is a string:</p>\n\n<pre><code>return array.reduce((accumulator: ItemsMap&lt;T&gt;, current: T) =&gt; {\n    const key: string = current[indexKey]\n</code></pre>\n\n<p>This doesn't compile: <code>Type T[K] is not assignable to type string</code>. I can get round this by casting:</p>\n\n<pre><code>const key: string = current[indexKey] as unknown as string\n</code></pre>\n\n<p>And I guess that's safe as I know that <code>current[IndexKey]</code> is a string. But it still doesn't seem quite right.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2238, "user_id": 3527537, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008196182969/picture?type=large", "display_name": "MysterX", "link": "https://stackoverflow.com/users/3527537/mysterx"}, "edited": false, "score": 1, "creation_date": 1560329379, "post_id": 56558070, "comment_id": 99696359, "body": "Add to checkbox an attribute <code>[checked]=&quot;action.checked&quot;</code> or whatever field you choose to store checked state"}, {"owner": {"reputation": 89, "user_id": 7694172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef5348db640769b6cdac565a3e85630c?s=128&d=identicon&r=PG&f=1", "display_name": "kianoush", "link": "https://stackoverflow.com/users/7694172/kianoush"}, "reply_to_user": {"reputation": 2238, "user_id": 3527537, "user_type": "registered", "profile_image": "https://graph.facebook.com/100008196182969/picture?type=large", "display_name": "MysterX", "link": "https://stackoverflow.com/users/3527537/mysterx"}, "edited": false, "score": 0, "creation_date": 1560329667, "post_id": 56558070, "comment_id": 99696527, "body": "@MysterX i havent property <code>checked</code> in my model"}], "answers": [{"tags": [], "owner": {"reputation": 32, "user_id": 11510408, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f484a1d1cbd1b631bf36fd8bddd5afb?s=128&d=identicon&r=PG&f=1", "display_name": "tamar", "link": "https://stackoverflow.com/users/11510408/tamar"}, "is_accepted": true, "score": 1, "last_activity_date": 1560330589, "creation_date": 1560330589, "answer_id": 56558524, "question_id": 56558070, "link": "https://stackoverflow.com/questions/56558070/pre-selected-multiple-checkbox-list-in-angular/56558524#56558524", "title": "pre-selected multiple checkbox list in angular", "body": "<p>I came across this problem also, just added the cheched property\n[checked]=\"isChecked(item)\"</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7694172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef5348db640769b6cdac565a3e85630c?s=128&d=identicon&r=PG&f=1", "display_name": "kianoush", "link": "https://stackoverflow.com/users/7694172/kianoush"}, "edited": false, "score": 0, "creation_date": 1560332993, "post_id": 56558622, "comment_id": 99698464, "body": "it show me this error :<code>Property &#39;checked&#39; does not exist on type &#39;Actionmodel&#39;.</code> and i not need to add this property in my model"}, {"owner": {"reputation": 365, "user_id": 9962739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/797d9ef22a77aaa49eb3238878aabccd?s=128&d=identicon&r=PG&f=1", "display_name": "lorenago", "link": "https://stackoverflow.com/users/9962739/lorenago"}, "reply_to_user": {"reputation": 89, "user_id": 7694172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef5348db640769b6cdac565a3e85630c?s=128&d=identicon&r=PG&f=1", "display_name": "kianoush", "link": "https://stackoverflow.com/users/7694172/kianoush"}, "edited": false, "score": 0, "creation_date": 1560333309, "post_id": 56558622, "comment_id": 99698625, "body": "You need to add this property to have this functionality. You can set it as optional property in your model like this --&gt; checked?: boolean;"}], "tags": [], "owner": {"reputation": 365, "user_id": 9962739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/797d9ef22a77aaa49eb3238878aabccd?s=128&d=identicon&r=PG&f=1", "display_name": "lorenago", "link": "https://stackoverflow.com/users/9962739/lorenago"}, "is_accepted": false, "score": 1, "last_activity_date": 1560330909, "creation_date": 1560330909, "answer_id": 56558622, "question_id": 56558070, "link": "https://stackoverflow.com/questions/56558070/pre-selected-multiple-checkbox-list-in-angular/56558622#56558622", "title": "pre-selected multiple checkbox list in angular", "body": "<p>One solution is pass checked property and check for it in OnInit function:</p>\n\n<p>Put in your app.component.html:</p>\n\n<pre><code>&lt;input type=\"checkbox\" [checked]=\"action.checked\" (change)=\"onChange($event,controller.controllerName,action.name)\" class=\"custom-control-input\"&gt;\n</code></pre>\n\n<p>Your app.component.ts will be like this:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport{Controllermodel} from './controllermodel';\nimport {AccessModel} from './access-model';\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent implements OnInit {\n  name = 'Angular';\n  ControllerModel:Controllermodel[]=[];\n  SelectedModel:Controllermodel[]=[];\n  accessModel:AccessModel;\n  PushAccessModel:AccessModel[]=[];\n\nconstructor(){\n  this.ControllerModel=\n  [{\n    controllerName:\"c1\",\n    controllerDisplayName:\"c1\",\n    ControllerId:\"c1\",\n    actionsVM:[\n      { \n         displayName:\"a1\",\n         name:\"a1\",\n          metaData:\"a1\",},\n          { \n         displayName:\"a2\",\n         name:\"a2\",\n          metaData:\"a2\",},\n          { \n         displayName:\"a3\",\n         name:\"a3\",\n          metaData:\"a3\",}\n\n          ]\n      },\n      {\n    controllerName:\"c2\",\n    controllerDisplayName:\"c2\",\n    ControllerId:\"c2\",\n    actionsVM:[{ \n         displayName:\"ac1\",\n         name:\"ac1\",\n          metaData:\"ac1\",},\n          { \n         displayName:\"ac2\",\n         name:\"ac2\",\n          metaData:\"ac2\",},\n          { \n         displayName:\"ac3\",\n         name:\"ac3\",\n          metaData:\"ac3\",},\n          { \n         displayName:\"ad4\",\n         name:\"ad4\",\n          metaData:\"ad4\",},\n          ]\n      }];\n\nthis.SelectedModel=\n  [{\n    controllerName:\"c1\",\n    controllerDisplayName:\"c1\",\n    ControllerId:\"c1\",\n    actionsVM:[\n      { \n         displayName:\"a1\",\n         name:\"a1\",\n          metaData:\"a1\",}       \n          ]\n      },\n      {\n    controllerName:\"c2\",\n    controllerDisplayName:\"c2\",\n    ControllerId:\"c2\",\n    actionsVM:[{ \n         displayName:\"ac1\",\n         name:\"ac1\",\n          metaData:\"ac1\",},\n          { \n         displayName:\"ac2\",\n         name:\"ac2\",\n          metaData:\"ac2\",}\n          ]\n      }];\n\n}\n\nonChange(event,controllerName:string,actoinName:string)\n{\n  this.PushAccessModel.push({\n    controllerName,\n    actoinName\n  })\n  console.log(this.PushAccessModel)\n}\n\nngOnInit() {\n  this.ControllerModel.forEach((controller, index) =&gt; {\n    controller.actionsVM.forEach(item =&gt; {\n      item.checked = Boolean(this.SelectedModel[index].actionsVM.find((el) =&gt; el.name === item.name ));\n    })\n  });\n}\n}\n</code></pre>\n\n<p>This is your working <a href=\"https://stackblitz.com/edit/accessmodel-mkkm66?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<p>Hope it works as you want!</p>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 9962739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/797d9ef22a77aaa49eb3238878aabccd?s=128&d=identicon&r=PG&f=1", "display_name": "lorenago", "link": "https://stackoverflow.com/users/9962739/lorenago"}, "is_accepted": false, "score": 1, "last_activity_date": 1560334380, "creation_date": 1560334380, "answer_id": 56559696, "question_id": 56558070, "link": "https://stackoverflow.com/questions/56558070/pre-selected-multiple-checkbox-list-in-angular/56559696#56559696", "title": "pre-selected multiple checkbox list in angular", "body": "<p>You can also use [checked]=\"isChecked(action)\" into app.component.html and check it like this:</p>\n\n<pre><code>isChecked(item) {\n    let isChecked = false;\n    this.SelectedModel.forEach(function (controller, index) {\n      controller.actionsVM.forEach(function (el) {\n        if (el.name === item.name) {\n          isChecked = true\n        };\n      });\n    });\n    return isChecked;\n  }\n</code></pre>\n\n<p>Here is your new <a href=\"https://stackblitz.com/edit/accessmodel-mkkm66?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 89, "user_id": 7694172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ef5348db640769b6cdac565a3e85630c?s=128&d=identicon&r=PG&f=1", "display_name": "kianoush", "link": "https://stackoverflow.com/users/7694172/kianoush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 56558524, "answer_count": 3, "score": 0, "last_activity_date": 1560334380, "creation_date": 1560329175, "question_id": 56558070, "link": "https://stackoverflow.com/questions/56558070/pre-selected-multiple-checkbox-list-in-angular", "title": "pre-selected multiple checkbox list in angular", "body": "<p>i return list in and show them in a checkbox list . </p>\n\n<pre><code>&lt;div class=\"col-sm-12\" *ngIf=\"ControllerModel\"&gt;\n  &lt;div *ngFor=\"let controller of ControllerModel\" class=\"panel col-md-6 col-lg-6 col-xs-6\"&gt;\n    &lt;div class=\"panel-heading\"&gt;\n      &lt;span&gt;\n        {{controller.controllerDisplayName}}\n      &lt;/span&gt;\n\n    &lt;/div&gt;\n    &lt;div class=\"panel-body\"&gt;\n      &lt;div *ngFor=\"let action of controller.actionsVM\" class=\"col-auto my-1\"&gt;\n        &lt;div class=\"custom-control custom-checkbox mr-sm-2\"&gt;\n          &lt;input type=\"checkbox\" (change)=\"onChange($event,controller.controllerName,action.name)\" class=\"custom-control-input\"&gt;\n          &lt;label class=\"custom-control-label\" for=\"customControlAutosizing\"&gt;{{action.displayName}}&lt;/label&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The user chooses the checkbox and saves in the database.</p>\n\n<p>When the page is loaded, a list of user selections is taken from the database.</p>\n\n<p>I want to change the checkboxes that the user has selected and fetched from the database to their chosen state.</p>\n\n<p><a href=\"https://stackblitz.com/edit/accessmodel\" rel=\"nofollow noreferrer\">Sample Code</a></p>\n\n<p><strong>How should I do this?</strong></p>\n"}, {"tags": ["angular", "typescript", "http-get", "angular-components", "subscribe"], "comments": [{"owner": {"reputation": 5341, "user_id": 8597510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I3rOM.jpg?s=128&g=1", "display_name": "Tsvetan Ganev", "link": "https://stackoverflow.com/users/8597510/tsvetan-ganev"}, "edited": false, "score": 0, "creation_date": 1570174222, "post_id": 56558069, "comment_id": 102837462, "body": "Can you post the original server response (JSON)?"}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 6912448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/220223c8711f3582c48be7f7da6bbab2?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspar", "link": "https://stackoverflow.com/users/6912448/kaspar"}, "edited": false, "score": 0, "creation_date": 1570175780, "post_id": 58231832, "comment_id": 102838127, "body": "thanks, these what I miss, int these project the response was in lowercase but in other was in upper-case and I was thinking that it does the mapping and do type checking if not but it not do because it is runtime and it is not, once again thanks for quick explanation!"}], "tags": [], "owner": {"reputation": 1722, "user_id": 1445636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce613754fb9ecb706d600079297cdecc?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1445636/michael"}, "is_accepted": true, "score": 2, "last_activity_date": 1570174337, "creation_date": 1570174337, "answer_id": 58231832, "question_id": 56558069, "link": "https://stackoverflow.com/questions/56558069/angular-biding-array-of-custom-objects-uppercase-lowercase-issue-names-of-prop/58231832#58231832", "title": "Angular biding array of custom objects - uppercase/lowercase issue names of property from httpget", "body": "<p>Typescript is a build time construct - at runtime it's JavaScript and the types don't matter. It won't do any magical mapping for you, so if the server returns an array with name lowercased this is what you'll get.</p>\n\n<p>The best way to diagnose this would be to inspect the network request in the developer tools, and adjust your type accordingly, or map the incoming object to the format you desire</p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 10197568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yVB6f.png?s=128&g=1", "display_name": "pontusv", "link": "https://stackoverflow.com/users/10197568/pontusv"}, "is_accepted": false, "score": 2, "last_activity_date": 1570227732, "creation_date": 1570227732, "answer_id": 58243736, "question_id": 56558069, "link": "https://stackoverflow.com/questions/56558069/angular-biding-array-of-custom-objects-uppercase-lowercase-issue-names-of-prop/58243736#58243736", "title": "Angular biding array of custom objects - uppercase/lowercase issue names of property from httpget", "body": "<p>I would recommend going with the lowercase property names as it's the default behaviour of json responses.</p>\n\n<p>However, to answer your question. This can be solved by configuring the OutputFormatter (.net backend)</p>\n\n<pre><code>public void ConfigureServices(IServiceCollection services)\n{\n    // Add framework services.\n    services.AddMvc()\n        .AddMvcOptions(options =&gt;\n        {\n            options.OutputFormatters.Add(new PascalCaseJsonProfileFormatter());\n        });\n}\n</code></pre>\n"}], "owner": {"reputation": 345, "user_id": 6912448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/220223c8711f3582c48be7f7da6bbab2?s=128&d=identicon&r=PG&f=1", "display_name": "Kaspar", "link": "https://stackoverflow.com/users/6912448/kaspar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 0, "accepted_answer_id": 58231832, "answer_count": 2, "score": 1, "last_activity_date": 1570227732, "creation_date": 1560329173, "question_id": 56558069, "link": "https://stackoverflow.com/questions/56558069/angular-biding-array-of-custom-objects-uppercase-lowercase-issue-names-of-prop", "title": "Angular biding array of custom objects - uppercase/lowercase issue names of property from httpget", "body": "<p><strong>Description of what I am doing.</strong> </p>\n\n<p>I am trying to display the table of my custom object comes from the server.\nI am calling the httpclient.get and cast the json to an array of my custom object (using build in functionality in httpclient) and in subscribe function submitting to own property. Next I am trying to display the content to the table using binding and *ngFor. After code section showing the issue.\nI am using Angular-8. </p>\n\n<p><strong>Code</strong></p>\n\n<p>All code is simplified to show a problem. I move also service to component for simplicity.</p>\n\n<p>Simpliest class:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Person {\n    public Name: string;\n}\n</code></pre>\n\n<p>My component</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Person } from '../models/person';\n\n@Component({\n  selector: 'app-test',\n  templateUrl: './test.component.html',\n  styleUrls: ['./test.component.css']\n})\nexport class TestComponent implements OnInit {\n\n  public persones: Array&lt;Person&gt;;\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  ngOnInit() {\n    this.getPeople();\n  }\n\n  private getPeople(): void {\n    this.http.get&lt;Array&lt;Person&gt;&gt;('https://localhost:44368/api/person')\n    .subscribe(      \n      x =&gt; this.persones = x,\n      () =&gt; console.log('error getting people')    \n    );\n\n  }\n}\n</code></pre>\n\n<p>Html part</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div&gt;\n  &lt;table class=\"table\"&gt;\n    &lt;thead class=\"thead-dark\"&gt;\n      &lt;tr&gt;\n        &lt;th&gt;name lowercase&lt;/th&gt;\n        &lt;th&gt;Name Upercase&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      &lt;tr *ngFor='let item of this.persones'&gt;\n        &lt;td&gt;{{ item.name }}&lt;/td&gt;\n        &lt;td&gt;{{ item.Name }}&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Problem</strong></p>\n\n<p>Problem is that in html the table with <em>item.name</em> (lowercase) is displaying and <em>item.Name</em> (uppercase) is <strong>not</strong> displaying and my own property has upercase letter for property. I was excepting and it is my experience that when cast to angular objects I should use property of these custom objects. I know that these lower case comes from json from server, but it should cast to objects from angular. </p>\n\n<p>I was trying to do casting like using <em>as</em> or using Observable but was not help.</p>\n\n<p>Also when I changing type of <em>persnones</em> and change type of getting cast I got the same result for example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>public persones: string;\nthis.http.get&lt;string&gt; ...blabla...\n</code></pre>\n\n<p>I still got the same result so my persones property is treated like a typical json object.</p>\n"}, {"tags": ["html", "css", "angular", "typescript", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560336509, "post_id": 56558730, "comment_id": 99700323, "body": "is it possible to display the time with minus five minutes in &lt;angular2-date-picker&gt;  tag next to the date?"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560338276, "post_id": 56558730, "comment_id": 99701306, "body": "@T.S, yes, possible and updated the answer to get the original date pulled back by 5 minutes... attached screenshot for it also"}, {"owner": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560342206, "post_id": 56558730, "comment_id": 99703732, "body": "As I can see it works only when the date is selected, I wanted to display current datetime-five minutes in calendar box when in settings there is  timePicker:true, so when the user enters, he wills see current datetime - five minutes. Sorry If my explanation is not very clear"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560348023, "post_id": 56558730, "comment_id": 99707506, "body": "What is the reason for that need? A user wouldn&#39;t check inspect element... As soon as they make a selection, we will get 5 minute adjustment"}, {"owner": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560348665, "post_id": 56558730, "comment_id": 99707946, "body": "In my project I need to filter data by date. I have two calendars, the user should choose the start date from the first calendar, and the end date from the second calendar, In the end-date calendar I  want to show current date and time, whereas in the start-date calendar I want to display date and time - 5 minutes."}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560397855, "post_id": 56558730, "comment_id": 99724474, "body": "@T.S, the by-default date (on page load) is also pulled back by 5 minutes... stackblitz and answer both updated"}, {"owner": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560409625, "post_id": 56558730, "comment_id": 99728152, "body": "thank you, can you please add in settings : [timePicker: true] and show me if it will be displayed current datetime pulled back by 5 minutes?"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560411206, "post_id": 56558730, "comment_id": 99728998, "body": "@T.S you can check now"}, {"owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "reply_to_user": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "edited": false, "score": 0, "creation_date": 1560412768, "post_id": 56558730, "comment_id": 99729782, "body": "You can show me your appreciation by marking this answer as accepted and up voting it also :)"}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": true, "score": 0, "last_activity_date": 1560411187, "last_edit_date": 1560411187, "creation_date": 1560331251, "answer_id": 56558730, "question_id": 56558066, "link": "https://stackoverflow.com/questions/56558066/angular2-date-picker-only-current-date-time-is-displayed/56558730#56558730", "title": "angular2-date-picker - only current date-time is displayed", "body": "<p>Unable to replicate the issue that you're facing. Maybe there is something missing to make it work...</p>\n\n<p>relevant <strong>HTML</strong>:</p>\n\n<pre><code>&lt;angular2-date-picker [(ngModel)]=\"date\" [settings]=\"settings\" name=\"angular-calendar\" (onDateSelect)=\"onDateSelect($event)\"\n ngDefaultControl&gt;&lt;/angular2-date-picker&gt;\n&lt;br/&gt;\n    &lt;p&gt;\n        Time from selection: &lt;mark&gt; {{date | date:'EE, MMM d, y, H:mm:ss zzzz' }}&lt;/mark&gt;\n    &lt;/p&gt;\n    &lt;p&gt;\n        minus 5 minutes: &lt;mark&gt;{{newVar}}&lt;/mark&gt;\n    &lt;/p&gt;\n</code></pre>\n\n<p>relevant <strong>TS</strong>:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  name = 'Angular 6';\n  date = new Date();\n  newVar: string = '';\n  datePulled:boolean=false;\n  settings = {\n    bigBanner: true,\n    timePicker: true,\n    format: 'dd-MM-yyyy',\n    defaultOpen: true\n  }\n  constructor() {\n    /* Update #2 */\n    if(!this.datePulled){\n      let someVar = new Date(this.date);\n      someVar.setMinutes(someVar.getMinutes() - 5);\n      this.date = someVar;\n      this.datePulled = true;\n    }\n  }\n  onDateSelect(evt) {\n    if(!this.datePulled){\n      let someVar = new Date(this.date);\n      someVar.setMinutes(someVar.getMinutes() - 5);\n      /* Update #1 */\n      this.date = someVar;\n      this.newVar = someVar.toString();\n      console.log(evt, ' &amp; date:', this.newVar);\n    this.datePulled = true;\n    }\n  }\n}\n</code></pre>\n\n<p>complete <a href=\"https://stackblitz.com/edit/angular-lcgpy4\" rel=\"nofollow noreferrer\">working stackblitz here</a></p>\n\n<p><strong>update #1</strong>: as per requestor's comment, the original selected date is pulled back 5 minutes</p>\n\n<p><strong>update #2</strong>: as per requestor's comment, the date which is loaded on page load is also pulled back 5 minutes</p>\n\n<p><strong>update #3</strong>: as per requestor's comment, the timepicker is now set to true;</p>\n\n<p><a href=\"https://i.stack.imgur.com/BMPcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BMPcT.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 55, "user_id": 11166180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1c7c77bde31d489ef15dda4d0466ec?s=128&d=identicon&r=PG&f=1", "display_name": "T.S", "link": "https://stackoverflow.com/users/11166180/t-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1104, "favorite_count": 1, "accepted_answer_id": 56558730, "answer_count": 1, "score": 0, "last_activity_date": 1560411187, "creation_date": 1560329156, "last_edit_date": 1560331991, "question_id": 56558066, "link": "https://stackoverflow.com/questions/56558066/angular2-date-picker-only-current-date-time-is-displayed", "title": "angular2-date-picker - only current date-time is displayed", "body": "<p>I am using angular2-date-picker plugin in my angular project, I want to display current time - 5 minutes, so I've written modifyDate() in my component.ts file</p>\n\n<p><strong>component.ts</strong>: </p>\n\n<pre><code>      modifyDate() {\n      let modifiedDate=new Date();\n      modifiedDate.setMinutes(modifiedDate.getMinutes()-5);\n      console.log(\"modified: \"+modifiedDate);\n      return modifiedDate;\n     }\n\n\n     //datetime picker\n     startDate: Date =this.modifyDate();\n     settings = {\n     bigBanner: true,\n     timePicker: true,\n     format: 'dd-MM-yyyy hh:mm a',\n     defaultOpen: false,\n     closeOnSelect:false\n};\n</code></pre>\n\n<p>there is <strong>component.html</strong> file :</p>\n\n<pre><code>    &lt;angular2-date-picker class=\"form-control\" id=\"datetimepicker\" (onDateSelect)=\"onDateSelect($event)\"  name=\"datetime\" [(ngModel)]=\"startDate\" [settings]=\"settings\"&gt;&lt;/angular2-date-picker&gt;\n</code></pre>\n\n<p>After building above code, in my DOM I get the next lines: </p>\n\n<p><a href=\"https://i.stack.imgur.com/FEIrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FEIrB.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, in  tag,  ng-reflect-model has correct data assigned, but below, in  element, I get a current datetime anyway and therefore, in my application is displayed current time. can you suggest any solutions?</p>\n"}, {"tags": ["angular", "typescript", "prerender"], "comments": [{"owner": {"reputation": 1835, "user_id": 1309599, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aSbW0.jpg?s=128&g=1", "display_name": "samjhana joshi", "link": "https://stackoverflow.com/users/1309599/samjhana-joshi"}, "edited": false, "score": 0, "creation_date": 1615957652, "post_id": 56558042, "comment_id": 117850117, "body": "which angular version were you using here ?"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 5518736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798e4f14450c54cd5cb62b87b1258abd?s=128&d=identicon&r=PG&f=1", "display_name": "Milan Krushna", "link": "https://stackoverflow.com/users/5518736/milan-krushna"}, "is_accepted": false, "score": 0, "last_activity_date": 1560936955, "last_edit_date": 1560936955, "creation_date": 1560928887, "answer_id": 56662144, "question_id": 56558042, "link": "https://stackoverflow.com/questions/56558042/error-in-prerender-ts7-62-error-ts2307-cannot-find-module-dist-prerender/56662144#56662144", "title": "ERROR in prerender.ts(7,62): error TS2307: Cannot find module &#39;./dist-prerender/main.bundle&#39;", "body": "<p>While the command <code>ng build --project prerender --output-hashing=none</code> was executed, <code>webpack.server.config.js</code> and <code>prerender.ts</code> these files also got executed which was throwing an error for me. To get rid of this error I simply executed <code>ng build --project prerender --output-hashing=none</code> this command first and then added the <code>prerender.ts</code> file after the compilation of that command.</p>\n"}], "owner": {"reputation": 159, "user_id": 5518736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798e4f14450c54cd5cb62b87b1258abd?s=128&d=identicon&r=PG&f=1", "display_name": "Milan Krushna", "link": "https://stackoverflow.com/users/5518736/milan-krushna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560936955, "creation_date": 1560329056, "question_id": 56558042, "link": "https://stackoverflow.com/questions/56558042/error-in-prerender-ts7-62-error-ts2307-cannot-find-module-dist-prerender", "title": "ERROR in prerender.ts(7,62): error TS2307: Cannot find module &#39;./dist-prerender/main.bundle&#39;", "body": "<p>While I am compiling the angular code for prerendering below error is coming </p>\n\n<blockquote>\n  <p>ERROR in prerender.ts(7,62): error TS2307: Cannot find module './dist-prerender/main.bundle'</p>\n</blockquote>\n\n<pre><code>npm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! XXXX@2.0.0 build: `ng build &amp;&amp; ng build --project prerender --output-hashing=none`\nnpm ERR! Exit status 1\nnpm ERR! \nnpm ERR! Failed at the XXXXX@2.0.0 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     /root/.npm/_logs/2019-06-12T07_43_21_717Z-debug.log\n</code></pre>\n\n<p>Maybe my application not able to generate the main.bundle file</p>\n\n<p>For prerendering I have added some code in angular.json </p>\n\n<blockquote>\n  <p>angular.json</p>\n</blockquote>\n\n<pre><code>\"prerender\" : {\n\n        \"root\": \"\",\n        \"sourceRoot\": \"src\",\n        \"projectType\": \"application\",\n        \"prefix\": \"app\",\n        \"schematics\": {},\n        \"architect\": {\n                \"build\": {\n                        \"builder\": \"@angular-devkit/build-angular:server\",\n                \"options\": {\n                        \"outputPath\": \"dist-prerender\",\n                        \"main\": \"main.prerender.ts\",\n                        \"tsConfig\": \"tsconfig.prerender.json\"\n                },\n                        \"configurations\": {\n                        \"production\": {\n                                \"fileReplacements\": [\n                                        {\n                                         \"replace\": \"src/environments/environment.ts\",\n                                         \"with\": \"src/environments/environment.prod.ts\"\n                                        }\n                                ],\n                                \"optimization\": true,\n                                \"outputHashing\": \"all\",\n                                \"sourceMap\": false,\n                                \"extractCss\": true,\n                                \"namedChunks\": false,\n                                \"aot\": true,\n                                \"extractLicenses\": true,\n                                \"vendorChunk\": false,\n                                \"buildOptimizer\": true\n                        }\n                }}\n                }`\n</code></pre>\n\n<blockquote>\n  <p>tsconfig.prerender.json</p>\n</blockquote>\n\n<pre><code>  {\n  \"extends\": \"./tsconfig.app.json\",\n  \"compilerOptions\": {\n    \"outDir\": \"../out-tsc/prerender\",\n    /* node only understands commonjs for now*/\n    \"module\": \"commonjs\"\n  },\n  \"exclude\": [\n    \"test.ts\",\n    \"**/*.spec.ts\"\n  ],\n  \"angularCompilerOptions\": {\n    \"entryModule\": \"app/app.prerender.module#AppPrerenderModule\"\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "eslint"], "answers": [{"tags": [], "owner": {"reputation": 896, "user_id": 6468937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G4VPe.png?s=128&g=1", "display_name": "N.J.Dawson", "link": "https://stackoverflow.com/users/6468937/n-j-dawson"}, "is_accepted": true, "score": 18, "last_activity_date": 1560330562, "creation_date": 1560330562, "answer_id": 56558518, "question_id": 56557988, "link": "https://stackoverflow.com/questions/56557988/eslint-in-vsc-not-working-for-ts-and-tsx-files/56558518#56558518", "title": "ESLint in VSC not working for .ts and .tsx files", "body": "<p>Assuming you've got <code>eslint</code> extension installed on Visual Studio Code, you should add the following to your settings.</p>\n\n<pre><code>    \"eslint.validate\": [\n        \"javascript\",\n        \"javascriptreact\",\n        \"typescript\",\n        \"typescriptreact\",\n    ],\n</code></pre>\n\n<p>This will make eslint look at typescript files as well as javascript files.</p>\n"}], "owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3195, "favorite_count": 0, "accepted_answer_id": 56558518, "answer_count": 1, "score": 4, "last_activity_date": 1560330562, "creation_date": 1560328881, "question_id": 56557988, "link": "https://stackoverflow.com/questions/56557988/eslint-in-vsc-not-working-for-ts-and-tsx-files", "title": "ESLint in VSC not working for .ts and .tsx files", "body": "<p>I have ESLint extension installed in VSC and it works fine for .js files. Now I've introduced Typescript to my React project, ESLint is no longer working on the fly in VSC.</p>\n\n<p>I have a .eslintrc file in the root of my project like so:</p>\n\n<pre><code>{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"extends\": [\n    \"airbnb\",\n    \"plugin:@typescript-eslint/recommended\"\n  ],\n  \"env\": {\n    \"browser\": true,\n    \"node\": true,\n    \"serviceworker\": true\n  },\n  \"parserOptions\": {\n    \"sourceType\": \"module\",\n    \"ecmaFeatures\": {\n      \"jsx\": true\n    }\n  },\n  \"settings\": {\n    \"react\": {\n      \"version\": \"detect\"\n    },\n    \"import/resolver\": {\n      \"node\": {\n        \"extensions\": [\".js\", \".jsx\", \".ts\", \".tsx\"]\n      }\n    }\n  },\n  \"rules\": {\n    \"@typescript-eslint/indent\": [\"error\", 2],\n    \"indent\": \"off\",\n    \"jsx-a11y/anchor-is-valid\": [\"error\", {\n      \"aspects\": [\"invalidHref\", \"preferButton\"]\n    }],\n    \"no-console\": [\"error\", {\n      \"allow\": [\"error\", \"info\"]\n    }],\n    \"react/no-danger\": 0\n  }\n}\n</code></pre>\n\n<p>I have an npm script that looks like this:</p>\n\n<pre><code>\"scripts\": {\n  \"eslint\": \"eslint . --ext .js,.jsx,.ts,.tsx\",\n},\n</code></pre>\n\n<p>If I run <code>npm run eslint</code>, the whole project gets linted correctly. What do I need to do for the project to lint on the fly with red squiggly lines in VSC?</p>\n"}, {"tags": ["angular", "typescript", "webpack", "ecmascript-6", "single-page-application"], "answers": [{"comments": [{"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560329599, "post_id": 56558136, "comment_id": 99696484, "body": "So this is a Regex that will match the entire <code>node_modules</code> folder?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560329666, "post_id": 56558136, "comment_id": 99696525, "body": "@LppEdd I have similar config <a href=\"https://github.com/SaiGonSoftware/Awesome-CMS-Core/blob/master/src/AwesomeCMSCore/AwesomeCMSCore/webpack.config.js#L105\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560331145, "post_id": 56558136, "comment_id": 99697378, "body": "Tried but it still minifies and removes the wrong functions. I think it is because I&#39;m using an Angular Builder to modify the default TerserPlugin configuration."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560331215, "post_id": 56558136, "comment_id": 99697420, "body": "Infact files still have the build-optimizer extensions (e.g. <code>Viewer.js.pre-build-optimizer.js</code>)"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 1, "creation_date": 1560331369, "post_id": 56558136, "comment_id": 99697507, "body": "Try this <a href=\"https://stackoverflow.com/questions/33915826/exclude-module-from-webpack-minification\">one</a> I think it might help you"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560331813, "post_id": 56558136, "comment_id": 99697758, "body": "The problem is I&#39;m not using Webpack directly. I&#39;m passing by Angular CLI (Devkit Builder)"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560332886, "post_id": 56558136, "comment_id": 99698404, "body": "Okay, I think I&#39;ll have to <code>ng eject</code>. Thus I&#39;ll have the standard <code>webpack.config.json</code> file."}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560334431, "post_id": 56558136, "comment_id": 99699238, "body": "If I use <code>&#47;.js&#47;</code> it works fine. That means the <code>node_modules</code> isn&#39;t included in the file name?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560335311, "post_id": 56558136, "comment_id": 99699690, "body": "Where is .js thing you said ?"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560335701, "post_id": 56558136, "comment_id": 99699896, "body": "What I need to ignore are <code>node_modules&#47;bpmn-js&#47;lib&#47;Viewer.js</code> and <code>node_modules&#47;bpmn-js&#47;lib&#47;Modeler.js</code>"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1560367963, "post_id": 56558136, "comment_id": 99717482, "body": "In the end there is no solution to this problem for Angular. Thanks anyway"}, {"owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "edited": false, "score": 0, "creation_date": 1566492929, "post_id": 56558136, "comment_id": 101682986, "body": "I was able to override the <code>sideEffects</code> key, using <code>module.rules.sideEffects</code>. So now the Angular build optimizer will simply skip that module."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 2, "last_activity_date": 1560331240, "last_edit_date": 1560331240, "creation_date": 1560329368, "answer_id": 56558136, "question_id": 56557986, "link": "https://stackoverflow.com/questions/56557986/webpack-terserplugin-exclude-node-module/56558136#56558136", "title": "Webpack TerserPlugin - exclude node module", "body": "<p>Maybe you are looking for this</p>\n\n<pre><code>   module.exports = {\n      optimization: {\n        minimizer: [\n          new TerserPlugin({\n            exclude: /node_modules/,\n          }),\n        ],\n      },\n    };\n</code></pre>\n"}], "owner": {"reputation": 16481, "user_id": 1392277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yJUSK.jpg?s=128&g=1", "display_name": "LppEdd", "link": "https://stackoverflow.com/users/1392277/lppedd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2614, "favorite_count": 0, "accepted_answer_id": 56558136, "answer_count": 1, "score": 1, "last_activity_date": 1576223132, "creation_date": 1560328875, "last_edit_date": 1576223132, "question_id": 56557986, "link": "https://stackoverflow.com/questions/56557986/webpack-terserplugin-exclude-node-module", "title": "Webpack TerserPlugin - exclude node module", "body": "<p>Using a custom Angular Builder, I'm trying to exclude an entire module from minification/optimization.</p>\n\n<p>The Webpack <code>.md</code> file says</p>\n\n<blockquote>\n  <p><strong>exclude</strong><br>\n  Type: String|RegExp|Array Default: undefined</p>\n  \n  <p>Files to exclude.</p>\n</blockquote>\n\n<p>Can I use this setting to exclude an entire directory (which is the node module)?</p>\n\n<hr>\n\n<p>The current code is</p>\n\n<pre><code>export default class CustomizeTerserBrowserBuilder extends BrowserBuilder {\n  public buildWebpackConfig(root: any, projectRoot: any, host: any, options: any): any {\n    const webpackConfig = super.buildWebpackConfig(root, projectRoot, host, options);\n\n    if (\n      webpackConfig.optimization &amp;&amp;\n      webpackConfig.optimization.minimizer &amp;&amp;\n      Array.isArray(webpackConfig.optimization.minimizer)\n    ) {\n      const terserPlugin = (webpackConfig.optimization.minimizer as any[]).find(\n        minimizer =&gt; minimizer instanceof TerserPlugin\n      );\n\n      if (terserPlugin) {\n        terserPlugin.options.exclude = [/node_modules/];\n      }\n    }\n\n    return webpackConfig;\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "stenciljs"], "comments": [{"owner": {"reputation": 6485, "user_id": 1242317, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fHHUQ.jpg?s=128&g=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1242317/thomas"}, "edited": false, "score": 0, "creation_date": 1560439561, "post_id": 56557796, "comment_id": 99745743, "body": "I&#39;m pretty sure the first two result in the same compiled code. But I&#39;m also curious if the third could have any advantages or disadvantages."}, {"owner": {"reputation": 13080, "user_id": 9226213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b1e59fd7fb8bc106b44b337ce5d83?s=128&d=identicon&r=PG&f=1", "display_name": "G. Tranter", "link": "https://stackoverflow.com/users/9226213/g-tranter"}, "edited": false, "score": 2, "creation_date": 1560451674, "post_id": 56557796, "comment_id": 99751592, "body": "For code readability, I prefer initializing at declaration (#1), and generally I think initialization of default values should be done as &quot;early&quot; as possible. The various steps in the lifecycle will provide access to other things about the component, so that&#39;s the main consideration if you can&#39;t initialize at declaration. If something depends on a constructor declaration - use the constructor. If something depends on other things like property inputs, use componentWillLoad or wherever in the lifecycle as early as possible you can calculate the value."}], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 27557, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/911466eedb687b909f7e66816223ceb2?s=128&d=identicon&r=PG", "display_name": "matthewsteele", "link": "https://stackoverflow.com/users/27557/matthewsteele"}, "is_accepted": true, "score": 1, "last_activity_date": 1560713467, "creation_date": 1560713467, "answer_id": 56622002, "question_id": 56557796, "link": "https://stackoverflow.com/questions/56557796/where-to-initialize-variables-in-stencil/56622002#56622002", "title": "Where to initialize variables in Stencil", "body": "<p>According to the <a href=\"https://stenciljs.com/docs/style-guide#component-ts-class-\" rel=\"nofollow noreferrer\">Stencil Style Guide</a> you should initialize <code>@State</code> variables at declaration if you can:</p>\n\n<pre><code>  /**\n   * 3. State() variables\n   * Inlined decorator, alphabetical order.\n   */\n  @State() isValidated: boolean;\n  @State() status = 0;\n</code></pre>\n"}], "owner": {"reputation": 9107, "user_id": 1058398, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/0bdQq.jpg?s=128&g=1", "display_name": "Scipion", "link": "https://stackoverflow.com/users/1058398/scipion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 252, "favorite_count": 0, "accepted_answer_id": 56622002, "answer_count": 1, "score": 0, "last_activity_date": 1560713467, "creation_date": 1560328241, "question_id": 56557796, "link": "https://stackoverflow.com/questions/56557796/where-to-initialize-variables-in-stencil", "title": "Where to initialize variables in Stencil", "body": "<p>I have just started Stencil, and I was wondering what was a good practise for initizializing variables.\nAs I see it, I have 3 possibilities:</p>\n\n<p>1)    <code>@State() private page: Boolean = true;</code></p>\n\n<p>2)</p>\n\n<pre><code>constructor() {\n    this.page = true\n}\n</code></pre>\n\n<p>3)</p>\n\n<pre><code>componentWillLoad() {\n    this.page = true;\n}\n</code></pre>\n\n<p>What's the best way to do it ? </p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1560328076, "post_id": 56557724, "comment_id": 99695668, "body": "What does <code>declare const</code> do?"}, {"owner": {"reputation": 1092, "user_id": 7582534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-qqFSOSUGl9Q/AAAAAAAAAAI/AAAAAAAAGQ0/GMu28Hnm-lw/photo.jpg?sz=128", "display_name": "Abhijit Srivastava", "link": "https://stackoverflow.com/users/7582534/abhijit-srivastava"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1560328167, "post_id": 56557724, "comment_id": 99695716, "body": "@VLAZ, declares a value that can not be changed."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1560328196, "post_id": 56557724, "comment_id": 99695733, "body": "<code>const</code> does that, but what does the <code>declare</code> keyword do?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1560328260, "post_id": 56557724, "comment_id": 99695764, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35019987/what-does-declare-do-in-export-declare-class-actions\">What does &#39;declare&#39; do in &#39;export declare class Actions&#39;?</a>"}, {"owner": {"reputation": 1092, "user_id": 7582534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-qqFSOSUGl9Q/AAAAAAAAAAI/AAAAAAAAGQ0/GMu28Hnm-lw/photo.jpg?sz=128", "display_name": "Abhijit Srivastava", "link": "https://stackoverflow.com/users/7582534/abhijit-srivastava"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1560328269, "post_id": 56557724, "comment_id": 99695772, "body": "declare const is a typescript way to initialize a constant."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1560328273, "post_id": 56557724, "comment_id": 99695774, "body": "There you go - apparently, that&#39;s what <code>declare</code> does."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1560328300, "post_id": 56557724, "comment_id": 99695786, "body": "No, it isn&#39;t - see the dupe. It has different semantics."}, {"owner": {"reputation": 1092, "user_id": 7582534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-qqFSOSUGl9Q/AAAAAAAAAAI/AAAAAAAAGQ0/GMu28Hnm-lw/photo.jpg?sz=128", "display_name": "Abhijit Srivastava", "link": "https://stackoverflow.com/users/7582534/abhijit-srivastava"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1560328601, "post_id": 56557724, "comment_id": 99695952, "body": "@VLAZ you are right. I resolved my issue. Thanks a lot."}], "answers": [{"tags": [], "owner": {"reputation": 2192, "user_id": 6754222, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K8lzX.jpg?s=128&g=1", "display_name": "Patrick Hollweck", "link": "https://stackoverflow.com/users/6754222/patrick-hollweck"}, "is_accepted": true, "score": 2, "last_activity_date": 1560331605, "last_edit_date": 1560331605, "creation_date": 1560328304, "answer_id": 56557814, "question_id": 56557724, "link": "https://stackoverflow.com/questions/56557724/typescript-to-javascript-export/56557814#56557814", "title": "Typescript to Javascript export", "body": "<p>Using <code>declare</code> does not really \"declare\" something.</p>\n\n<p><code>declare</code> is only used to tell the <strong>type-system</strong> that something with the declared name and type exists.</p>\n\n<p>If you want to define a constant that should exist <strong>outside of the type-system</strong>, aka exist at runtime, you have to remove the declare keyword.</p>\n\n<blockquote>\n  <p><code>declare</code>'d things do not have any impact on the runtime</p>\n</blockquote>\n\n<h3>Why does <code>declare</code> exist?</h3>\n\n<p>If you think about how the web works, you have a html file. In that html you can include scripts. Those scripts may be completely independent from one another, but also use stuff from other scripts.</p>\n\n<p>So if you have one file that attaches something to the <code>window</code> for example in one file, and have another file that then uses this object, the typescript type-system has no way of knowing that that object exists, so you can tell the type-system of its existence by using <code>declare</code></p>\n\n<hr>\n\n<p>So it should be</p>\n\n<pre><code>const S3 = \"https://s3.amazonaws.com/xxx/icons\";\nconst SVG = \"svg-file-icons\";\n</code></pre>\n"}], "owner": {"reputation": 1092, "user_id": 7582534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-qqFSOSUGl9Q/AAAAAAAAAAI/AAAAAAAAGQ0/GMu28Hnm-lw/photo.jpg?sz=128", "display_name": "Abhijit Srivastava", "link": "https://stackoverflow.com/users/7582534/abhijit-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 56557814, "answer_count": 1, "score": 3, "last_activity_date": 1560331605, "creation_date": 1560327988, "question_id": 56557724, "link": "https://stackoverflow.com/questions/56557724/typescript-to-javascript-export", "title": "Typescript to Javascript export", "body": "<p>I have a sample typescript objects as</p>\n\n<pre><code>declare const S3 = \"https://s3.amazonaws.com/xxx/icons\";\ndeclare const SVG = \"svg-file-icons\";\n\ndeclare interface MyIcons {\n  \"image/jpeg\": string;\n  \"image/jpg\": string;\n}\n\nexport const FILE_ICONS_SVG: MyIcons = {\n  \"image/jpeg\": `${S3}/${SVG}/jpg.svg`,\n  \"image/jpg\": `${S3}/${SVG}/jpg.svg`\n};\n</code></pre>\n\n<p>I am declaring this object in a share NPM Package to maintain consistency in all my projects. But TSC compilation gives me something like this.</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE_ICONS_SVG = {\n    \"image/jpeg\": `${S3}/${SVG}/jpg.svg`,\n    \"image/jpg\": `${S3}/${SVG}/jpg.svg`\n};\n</code></pre>\n\n<p>As it is evident that <strong>S3</strong> and <strong>SVG</strong> are not defined in the compiled js file  and thus gives errors on usage. </p>\n\n<blockquote>\n  <p><strong>How can this be fixed??</strong></p>\n</blockquote>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 860, "user_id": 10121165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yWeIZz14M-k/AAAAAAAAAAI/AAAAAAAAFUs/QlhOo3CS4ko/photo.jpg?sz=128", "display_name": "Francisco Santorelli", "link": "https://stackoverflow.com/users/10121165/francisco-santorelli"}, "reply_to_user": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "edited": false, "score": 2, "creation_date": 1560327787, "post_id": 56557621, "comment_id": 99695513, "body": "no prob!... adding brackets will make the access substitute variables names. Just like object[&#39;hey&#39;] equals object.hey. Happy coding!"}], "tags": [], "owner": {"reputation": 860, "user_id": 10121165, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yWeIZz14M-k/AAAAAAAAAAI/AAAAAAAAFUs/QlhOo3CS4ko/photo.jpg?sz=128", "display_name": "Francisco Santorelli", "link": "https://stackoverflow.com/users/10121165/francisco-santorelli"}, "is_accepted": true, "score": 5, "last_activity_date": 1560327575, "creation_date": 1560327575, "answer_id": 56557621, "question_id": 56557595, "link": "https://stackoverflow.com/questions/56557595/angular-5-reactive-form-is-there-a-way-to-patch-value-using-a-variable/56557621#56557621", "title": "Angular 5 - reactive form- is there a way to patch value using a variable?", "body": "<p>try this</p>\n\n<pre><code>clearLine(line) {\n    this.addressForm.patchValue({[line]: ''}); // added []\n}\n</code></pre>\n"}], "owner": {"reputation": 433, "user_id": 10122561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69cbe7348985af9dc8c537e176e410da?s=128&d=identicon&r=PG&f=1", "display_name": "danda", "link": "https://stackoverflow.com/users/10122561/danda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1327, "favorite_count": 0, "accepted_answer_id": 56557621, "answer_count": 1, "score": 4, "last_activity_date": 1560327588, "creation_date": 1560327450, "last_edit_date": 1560327588, "question_id": 56557595, "link": "https://stackoverflow.com/questions/56557595/angular-5-reactive-form-is-there-a-way-to-patch-value-using-a-variable", "title": "Angular 5 - reactive form- is there a way to patch value using a variable?", "body": "<p>I have a form group with many fields :</p>\n\n<pre><code>    this.addressForm = this.formBuilder.group({\n        line1: ['', Validators.required],\n        line2: '',\n        line3: '',\n        line4: '',\n        line5: '',\n        line6: '',\n        line7: '',\n        line8: '',\n    });\n</code></pre>\n\n<p>In my html I have a form field to each formControl and a button near it that clears that form control.</p>\n\n<pre><code>                &lt;mat-form-field&gt;\n                    &lt;mat-label&gt;line 1&lt;/mat-label&gt;\n                    &lt;input matInput formControlName=\"line1\" type=\"text\"&gt;\n                    &lt;button type=\"button\" (click)=\"clearLine('line1')\"&gt;\n                    &lt;/button&gt;\n                &lt;/mat-form-field&gt;\n</code></pre>\n\n<p>How Can I write a <em>generic</em> methods that gets the name of the form control and clears it?</p>\n\n<p>I tries this-</p>\n\n<pre><code>clearLine(line) {\n    this.addressForm.patchValue({line: ''});\n}\n</code></pre>\n\n<p>but that did not work, because it searched for a formControl name \"line\".</p>\n\n<p>Is there any way to do this without execute many \"if\" conditions?</p>\n"}, {"tags": ["typescript", "refactoring", "ramda.js"], "answers": [{"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": true, "score": 4, "last_activity_date": 1560341875, "creation_date": 1560341875, "answer_id": 56562060, "question_id": 56557386, "link": "https://stackoverflow.com/questions/56557386/how-can-i-rewrite-my-code-without-hardcoding-the-names-of-the-attributes/56562060#56562060", "title": "How can I rewrite my code without hardcoding the names of the attributes?", "body": "<p>I don't think there is a wonderful solution for this.  It's one of the trade-offs for using a string-based API.  Many refactoring tools I've seen also offer to rename the property in strings and comments, and that may be enough, especially if it walks you through such strings one-by-one and offers you the decision.</p>\n\n<p>But one technique makes this much easier: centralizing the handling for your data model in a single module.  If you have to change this sort of code all over your code-base, it can get ugly:</p>\n\n<pre><code>const phone = view(lensPath(['contact', 'phones', 'primary'], user);\n</code></pre>\n\n<p>It's a lot easier if your user module exposes <code>phoneLens</code> and your code is just</p>\n\n<pre><code>const phone = view(phoneLens, user)\n</code></pre>\n\n<p>Then, when your model changes, in that one location you can switch</p>\n\n<pre><code>const phoneLens = lensPath(['contact', 'phone', 'primary'])\n</code></pre>\n\n<p>to </p>\n\n<pre><code>const phoneLens = lensPath(['contacts', 'telephone', 0])\n</code></pre>\n\n<p>with no change to the rest of your code.</p>\n\n<hr>\n\n<p>Do remember that in JavaScript, the <code>store.foo.bar</code> format is not actually the core.  It is just syntactic sugar over the more fundamental <code>store['foo']['bar']</code> version.  Refactoring tools may one day catch up with this understanding, if they haven't already done so.</p>\n"}], "owner": {"reputation": 53, "user_id": 2471050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e98a1d73e5468665d0940ce6f623b5c?s=128&d=identicon&r=PG", "display_name": "user2471050", "link": "https://stackoverflow.com/users/2471050/user2471050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56562060, "answer_count": 1, "score": 2, "last_activity_date": 1560341875, "creation_date": 1560326708, "last_edit_date": 1560327164, "question_id": 56557386, "link": "https://stackoverflow.com/questions/56557386/how-can-i-rewrite-my-code-without-hardcoding-the-names-of-the-attributes", "title": "How can I rewrite my code without hardcoding the names of the attributes?", "body": "<p>I'm working with Ramda.js and Typescript. For getting the some value from object I use <a href=\"https://ramdajs.com/docs/#lensPath\" rel=\"nofollow noreferrer\">lensPath</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>export interface Store {\n    foo: {\n       bar: string;\n    };\n}\n\nconst store: Store = {\n  foo: {\n    bar: 'baz'\n  }\n};\nconst fooBarLens = R.lensPath(['foo', 'bar']);\n</code></pre>\n\n<p>Unfortunately, if I will do some refactoring via my WebStorm and will rename the attribute <code>bar</code> to <code>baz</code> in class <code>Store</code>, then function <code>fooBarLens</code> will stop working.</p>\n\n<p>But if before refactoring  I will rewrite the function <code>fooBarLens</code> like: </p>\n\n<pre><code>const fooBarLens = (s) =&gt; s.foo.bar;\n</code></pre>\n\n<p>then the refactoring would work correctly.</p>\n\n<p>How can I rewrite using <code>lensPath</code> and other Ramda functions without hardcoding the names of the attributes and avoid the refactoring problems?</p>\n"}, {"tags": ["typescript", "karma-runner", "bazel"], "owner": {"reputation": 21, "user_id": 8206029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39794b6189883903cf92da42fd186860?s=128&d=identicon&r=PG&f=1", "display_name": "trin0491", "link": "https://stackoverflow.com/users/8206029/trin0491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560325149, "creation_date": 1560325149, "question_id": 56556944, "link": "https://stackoverflow.com/questions/56556944/how-to-measure-coverage-when-running-typescript-tests-using-karma-and-bazel", "title": "How to measure coverage when running typescript tests using karma and bazel?", "body": "<p>I'm converting a karma+webpack test runner for typescript to use Bazel. The current system reports code coverage using karma-coverage-istanbul-reporter.  How should I measure coverage when running typescript tests with karma using Bazel?</p>\n\n<p>I tried adding the karma-coverage-istanbul-reporter and karma-coverage-istanbul-instrumenter plugins to a karma config file and using that with karma_web_test_suite.</p>\n\n<pre><code>// karma.conf.js\nmodule.exports = function(config) {\n  config.set({\n    reporters: ['coverage-istanbul'],\n    preprocessors: {\n      \"**/!(*.spec).js\": [\"karma-coverage-istanbul-instrumenter\"]\n    },\n    coverageIstanbulInstrumenter: {\n      esModules: false,\n      produceSourceMap: true\n    },\n    coverageIstanbulReporter: {\n      reports: ['text-summary', 'html'],\n      dir: path.join(OUTPUT_DIR, \"coverage\")\n    }\n  })\n};\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code># BUILD.bazel\nkarma_web_test_suite(\n    name = \"test\",\n    config_file = \"//:karma.conf.js\",\n    data = [\":ts_src\"],\n    deps = [\n        \":test_lib\",\n    ],\n)\n</code></pre>\n\n<p>Superficially this works, the code is instrumented by istanbul and it reports coverage in the text summary to stdout.  However, there are a couple of issues with the html reporter, which tries to read the typescript source files from the js sourcemaps.  </p>\n\n<ol>\n<li><p>Is there a way to get the transitive closure of all the source files from the :test_lib ts_library?  In the example above, it works around this by providing a data attribute to the karma web test that references a filegroup (ts_src) but this becomes hard to manage if there is a nested dependency graph of ts_libraries.</p></li>\n<li><p>The paths to the source files in the sourcemaps are no longer correct when the source files are used from the karma TESTSRC_DIR.</p></li>\n</ol>\n\n<p>I could write a karma preprocessor to manipulate the sourcemaps paths but it feels like there should be a better way of doing this?</p>\n"}, {"tags": ["typescript", "chart.js", "angular8"], "comments": [{"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1560325238, "post_id": 56556822, "comment_id": 99694227, "body": "seems you have updated charts.js typings too"}, {"owner": {"reputation": 607, "user_id": 409585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9580592a7be5c7c78aa9e798c80a7498?s=128&d=identicon&r=PG", "display_name": "phphunger", "link": "https://stackoverflow.com/users/409585/phphunger"}, "reply_to_user": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1560327601, "post_id": 56556822, "comment_id": 99695439, "body": "yes i have updated the typings @typings/chartjs"}], "owner": {"reputation": 607, "user_id": 409585, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9580592a7be5c7c78aa9e798c80a7498?s=128&d=identicon&r=PG", "display_name": "phphunger", "link": "https://stackoverflow.com/users/409585/phphunger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 935, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560324724, "creation_date": 1560324724, "question_id": 56556822, "link": "https://stackoverflow.com/questions/56556822/is-chart-js-compatible-with-angular-8", "title": "Is chart.js compatible with Angular 8?", "body": "<p>I have migrated my angular 7 app to angular 8 since then the chartjs is not working as expected moreover throws so many errors. So my concern is \"is chartjs compatible with new Angular version 8?\"</p>\n\n<pre><code>ERROR in src/app/components/analytics/job-analytics/job-analytics.component.ts(544,13): error TS2322: Type '{ labels: any; datasets: { data: any; label: string; backgroundColor: string; borderColor: string; pointBorderColor: string; pointBackgroundColor: string; pointHoverBackgroundColor: string; ... 5 more ...; datalabels: { ...; }; }[]; }' is not assignable to type 'ChartData'.\n  Types of property 'datasets' are incompatible.\n    Type '{ data: any; label: string; backgroundColor: string; borderColor: string; pointBorderColor: string; pointBackgroundColor: string; pointHoverBackgroundColor: string; pointHoverBorderColor: string; ... 4 more ...; datalabels: { ...; }; }[]' is not assignable to type 'ChartDataSets[]'.\n      Type '{ data: any; label: string; backgroundColor: string; borderColor: string; pointBorderColor: string; pointBackgroundColor: string; pointHoverBackgroundColor: string; pointHoverBorderColor: string; ... 4 more ...; datalabels: { ...; }; }' is not assignable to type 'ChartDataSets'.\n        Types of property 'datalabels' are incompatible.\n          Type '{ align: string; anchor: string; }' is not assignable to type 'Options'.\n            Types of property 'align' are incompatible.\n              Type 'string' is not assignable to type 'number | \"left\" | \"right\" | \"start\" | \"center\" | \"end\" | \"top\" | \"bottom\" | Align[] | ((context: Context) =&gt; Align)'.\nsrc/app/components/analytics/job-analytics/job-analytics.component.ts(551,13): error TS2322: Type '{ labels: any; datasets: { data: any; label: string; borderColor: string; backgroundColor: string; pointBorderColor: string; pointBackgroundColor: string; pointHoverBackgroundColor: string; ... 5 more ...; datalabels: { ...; }; }[]; }' is not assignable to type 'ChartData'.\n  Types of property 'align' are incompatible.\n              Type 'string' is not assignable to type 'number | \"left\" | \"right\" | \"start\" | \"center\" | \"end\" | \"top\" | \"bottom\" | Align[] | ((context: Context) =&gt; Align)'.\n\nsrc/app/components/analytics/run-history/run-history.component.ts(44,3): error TS2322: Type 'undefined[]' is not assignable to type 'import(\"E:/ng72ng8/Fxt/Web/src/main/ui/material/node_modules/@types/chart.js/index.d.ts\")'.\nsrc/app/components/coverage/api-coverage/api-coverage.component.ts(152,15): error TS2322: Type '(context: Context) =&gt; string | string[] | CanvasGradient | CanvasPattern | ChartColor[]' is not assignable to type 'string | CanvasGradient | CanvasPattern | (string | CanvasGradient | CanvasPattern)[] | ((context: Context) =&gt; string | CanvasGradient | CanvasPattern)'.\n  Type '(context: Context) =&gt; string | string[] | CanvasGradient | CanvasPattern | ChartColor[]' is not assignable to type '(context: Context) =&gt; string | CanvasGradient | CanvasPattern'.\n    Type 'string | string[] | CanvasGradient | CanvasPattern | ChartColor[]' is not assignable to type 'string | CanvasGradient | CanvasPattern'.\n      Type 'string[]' is not assignable to type 'string | CanvasGradient | CanvasPattern'.\n        Type 'string[]' is not assignable to type 'string'.\n\nsrc/app/components/projects/project-recommendations/project-recommendations.component.ts(77,12): error TS2322: Type '{ responsive: true; }' is not assignable to type 'ChartOptions &amp; { annotation: any; }'.\n  Property 'annotation' is missing in type '{ responsive: true; }' but required in type '{ annotation: any; }'.\nsrc/app/components/projects/project-recommendations/project-recommendations.component.ts(81,12): error TS2322: Type '{ scales: { yAxes: { ticks: { beginAtZero: true; }; }[]; }; }' is not assignable to type 'ChartOptions &amp; { annotation: any; }'.\n  Property 'annotation' is missing in type '{ scales: { yAxes: { ticks: { beginAtZero: true; }; }[]; }; }' but required in type '{ annotation: any; }'.\nsrc/app/components/projects/projects-config/projects-config.component.ts(41,50): error TS2305: Module '\"E:/ng72ng8/Fxt/Web/src/main/ui/material/node_modules/@types/chart.js\"' has no exported member 'Label'.\nsrc/app/components/projects/projects-config/projects-config.component.ts(41,57): error TS2305: Module '\"E:/ng72ng8/Fxt/Web/src/main/ui/material/node_modules/@types/chart.js\"' has no exported member 'Color'.\nsrc/app/components/projects/projects-config/projects-config.component.ts(41,63): error TS2305: Module '\"E:/ng72ng8/Fxt/Web/src/main/ui/material/node_modules/@types/chart.js\"' has no exported member 'borderColor'.\nsrc/app/components/projects/projects-config/projects-config.component.ts(167,14): error TS2322: Type '{ responsive: true; }' is not assignable to type 'ChartOptions &amp; { annotation: any; }'.\n  Property 'annotation' is missing in type '{ responsive: true; }' but required in type '{ annotation: any; }'.\n</code></pre>\n\n<p>Please help in this regard.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "jsdoc"], "comments": [{"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 2, "creation_date": 1560325558, "post_id": 56556777, "comment_id": 99694393, "body": "You know, TypeScript core library has the type definitions for &quot;native functions&quot;, so VS Code shows hints for all functions with defined typings. You can try JSDoc for JavaScript"}, {"owner": {"reputation": 729, "user_id": 9971482, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8y0fFmTdWS8/AAAAAAAAAAI/AAAAAAAAAC8/cOI_9nCTs-w/photo.jpg?sz=128", "display_name": "Aayush Sharma", "link": "https://stackoverflow.com/users/9971482/aayush-sharma"}, "reply_to_user": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1560331189, "post_id": 56556777, "comment_id": 99697406, "body": "@NailAchmedzhanov thanks for that, I was able to figure out how to do this using JSDoc"}], "answers": [{"tags": [], "owner": {"reputation": 729, "user_id": 9971482, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8y0fFmTdWS8/AAAAAAAAAAI/AAAAAAAAAC8/cOI_9nCTs-w/photo.jpg?sz=128", "display_name": "Aayush Sharma", "link": "https://stackoverflow.com/users/9971482/aayush-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1560333412, "creation_date": 1560333412, "answer_id": 56559365, "question_id": 56556777, "link": "https://stackoverflow.com/questions/56556777/how-to-get-javascript-auto-completion-for-string-parameters-in-vscode/56559365#56559365", "title": "How to get Javascript auto completion for string parameters in vscode?", "body": "<p>Thanks to @NailAchmedzhanov I was able to figure it out using JSDoc for JavaScript.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YdDvC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YdDvC.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 729, "user_id": 9971482, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8y0fFmTdWS8/AAAAAAAAAAI/AAAAAAAAAC8/cOI_9nCTs-w/photo.jpg?sz=128", "display_name": "Aayush Sharma", "link": "https://stackoverflow.com/users/9971482/aayush-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 56559365, "answer_count": 1, "score": 1, "last_activity_date": 1560333412, "creation_date": 1560324559, "question_id": 56556777, "link": "https://stackoverflow.com/questions/56556777/how-to-get-javascript-auto-completion-for-string-parameters-in-vscode", "title": "How to get Javascript auto completion for string parameters in vscode?", "body": "<p>How can we get parameter autocompletion for string parameters in vscode for JavaScript?</p>\n\n<p>I know how to achieve this in TypeScript. We can do that by assigning the options as types</p>\n\n<p><a href=\"https://i.stack.imgur.com/HjSWq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HjSWq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think this should be possible because vscode supports this for native functions such as <code>addEventListener</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/osf6o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/osf6o.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript", "types", "monads", "type-inference", "maybe"], "comments": [{"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1560336418, "post_id": 56556170, "comment_id": 99700270, "body": "TypeScript doesn&#39;t have syntax for Monads, so you need to always wrpa your data to the Container. The merhod match should return Data&lt;...&gt;."}, {"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "edited": false, "score": 0, "creation_date": 1560336507, "post_id": 56556170, "comment_id": 99700321, "body": "Look at Promises and async/await sugar"}, {"owner": {"reputation": 327, "user_id": 4935221, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10204130414435783/picture?type=large", "display_name": "Alfred Young", "link": "https://stackoverflow.com/users/4935221/alfred-young"}, "edited": false, "score": 0, "creation_date": 1562645872, "post_id": 56556170, "comment_id": 100430120, "body": "are you sure that the behavior that your looking isn&#39;t already available from the future/task/async adt? (implemented in fluture, crocks and ramda-fantasy). If you need to know the percent loaded maybe the stream adt is appropriate. Is this the only way you have available to handle having your program handle a loading state?"}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1560328800, "post_id": 56557388, "comment_id": 99696042, "body": "The question is (at least for me) why the inferred return type for <code>match&lt;any[], string, number&gt;</code> is <code>number</code>."}, {"owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1560336030, "post_id": 56557388, "comment_id": 99700073, "body": "It looks like the compiler picks method signature from first type from union Failed&lt;A&gt; | Loaded&lt;A&gt; | Loading&lt;A&gt;"}], "tags": [], "owner": {"reputation": 706, "user_id": 353485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3f7e0e5a7d77f72c5ac050eb377d55?s=128&d=identicon&r=PG", "display_name": "Nail Achmedzhanov", "link": "https://stackoverflow.com/users/353485/nail-achmedzhanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560326715, "creation_date": 1560326715, "answer_id": 56557388, "question_id": 56556170, "link": "https://stackoverflow.com/questions/56556170/typescript-infers-the-wrong-return-of-a-method/56557388#56557388", "title": "Typescript infers the wrong return of a method?", "body": "<p>Look at inerred types for maybe, data, match</p>\n\n<pre><code>const maybe: &lt;A&gt;(value?: A) =&gt; Data&lt;A&gt;\nconst data: Data&lt;number&gt;\n(method) match&lt;any[], string, number&gt;({ loading, loaded, failed, }: { loading: (percent: number) =&gt; any[]; loaded: (value: number) =&gt; string; failed: (error: any) =&gt; number; }): number\n</code></pre>\n\n<p>You chould define veriable \"data\" as Loaded&lt;></p>\n\n<pre><code>const data2 = new Loaded(3);\n// const x2: string\nconst x2 = data2.match({\n  loaded: () =&gt; 'string',\n  loading: () =&gt; [],\n  failed: () =&gt; 3,\n})\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=type%20Data%3CA%3E%20%3D%20Failed%3CA%3E%20%7C%20Loaded%3CA%3E%20%7C%20Loading%3CA%3E%0A%0Aexport%20class%20Loaded%3CA%3E%20%7B%0A%20%20readonly%20kind%3A%20%22Loaded%22%20%3D%20%22Loaded%22%0A%0A%20%20constructor(public%20readonly%20value%3A%20A)%20%7B%7D%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20loaded(f(this.value))%0A%20%20%7D%0A%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20f(this.value)%0A%20%20%7D%0A%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0A%20%20%20%20const%20result%20%3D%20f(this.value)%0A%20%20%20%20switch(result.kind)%20%7B%0A%20%20%20%20%20%20case%20&#39;Failed&#39;%3A%0A%20%20%20%20%20%20%20%20return%20%5B%5D%0A%0A%20%20%20%20%20%20case%20&#39;Loading&#39;%3A%0A%20%20%20%20%20%20%20%20return%20%5B%5D%0A%0A%20%20%20%20%20%20case%20&#39;Loaded&#39;%3A%0A%20%20%20%20%20%20%20%20const%20elements%20%3D%20result.value%0A%20%20%20%20%20%20%20%20const%20loadedElements%20%3D%20elements.map(loaded)%0A%20%20%20%20%20%20%20%20return%20loadedElements%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0A%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0A%20%20%20%20loading%2C%0A%20%20%20%20loaded%2C%0A%20%20%20%20failed%2C%0A%20%20%7D%3A%20%7B%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0A%20%20%7D)%3AO2%20%7B%0A%20%20%20%20return%20loaded(this.value)%0A%20%20%7D%0A%7D%0A%0Aexport%20class%20Failed%3CA%3E%20%7B%0A%20%20readonly%20kind%3A%20%22Failed%22%20%3D%20%22Failed%22%0A%20%20constructor(public%20readonly%20error%3A%20any%20%3D%20undefined)%20%7B%7D%0A%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20failed(this.error)%0A%20%20%7D%0A%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20failed(this.error)%0A%20%20%7D%0A%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0A%20%20%20%20return%20%5B%5D%0A%20%20%7D%0A%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0A%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0A%20%20%20%20loading%2C%0A%20%20%20%20loaded%2C%0A%20%20%20%20failed%2C%0A%20%20%7D%3A%20%7B%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0A%20%20%7D)%3AO3%20%7B%0A%20%20%20%20return%20failed(this.error)%0A%20%20%7D%0A%7D%0A%0Aexport%20class%20Loading%3CA%3E%20%7B%0A%20%20readonly%20kind%3A%20%22Loading%22%20%3D%20%22Loading%22%0A%0A%20%20constructor(public%20readonly%20percent%3A%20number%20%3D%200)%20%7B%7D%0A%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20loading()%0A%20%20%7D%0A%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0A%20%20%20%20return%20loading()%0A%20%20%7D%0A%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0A%20%20%20%20return%20%5B%5D%0A%20%20%7D%0A%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0A%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0A%20%20%20%20loading%2C%0A%20%20%20%20loaded%2C%0A%20%20%20%20failed%2C%0A%20%20%7D%3A%20%7B%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0A%20%20%7D)%3AO1%20%7B%0A%20%20%20%20return%20loading(this.percent)%0A%20%20%7D%0A%7D%0A%0A%2F%2F%20helper%20functions%0Aconst%20failed%20%3D%20%3CA%3E(error%3F%3A%20any)%3AData%3CA%3E%20%3D%3E%20%20new%20Failed%3CA%3E(error)%0Aconst%20loaded%20%3D%20%3CA%3E(value%3A%20A)%3AData%3CA%3E%20%3D%3E%20new%20Loaded%3CA%3E(value)%0Aconst%20loading%20%3D%20%3CA%3E()%3AData%3CA%3E%20%3D%3E%20new%20Loading%3CA%3E()%0A%0Aconst%20maybe%20%3D%20%3CA%3E(value%3F%3A%20A)%3A%20Data%3CA%3E%20%3D%3E%20value%20%3D%3D%3D%20undefined%20%3F%20failed()%20%3A%20loaded(value)%0A%0Aconst%20data%20%3D%20maybe(3)%0A%0Aconst%20x%20%3D%20data.match(%7B%0A%20%20loaded%3A%20()%20%3D%3E%20&#39;string&#39;%2C%0A%20%20loading%3A%20()%20%3D%3E%20%5B%5D%2C%0A%20%20failed%3A%20()%20%3D%3E%203%2C%0A%7D)%0A%0A%0Aconst%20data2%20%3D%20new%20Loaded(3)%3B%0A%2F%2F%20const%20x2%3A%20string%0Aconst%20x2%20%3D%20data2.match(%7B%0A%20%20loaded%3A%20()%20%3D%3E%20&#39;string&#39;%2C%0A%20%20loading%3A%20()%20%3D%3E%20%5B%5D%2C%0A%20%20failed%3A%20()%20%3D%3E%203%2C%0A%7D)\" rel=\"nofollow noreferrer\">Playground</a> </p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560327890, "last_edit_date": 1560327890, "creation_date": 1560327541, "answer_id": 56557612, "question_id": 56556170, "link": "https://stackoverflow.com/questions/56556170/typescript-infers-the-wrong-return-of-a-method/56557612#56557612", "title": "Typescript infers the wrong return of a method?", "body": "<blockquote>\n  <p>\"when it should know that data is of the type Loaded.\" </p>\n</blockquote>\n\n<p>It shouldn't, because your return type for <code>maybe</code> is <code>Data&lt;A&gt;</code>, so the inferred type for <code>data</code> is <code>Data&lt;number&gt;</code>. However, I'd expect the inferred type to be the union of return types for the 3 cases: <code>number | string | any[]</code>, or maybe to report an error. Instead it seems to pick the return type from the first option (if you change to <code>type Data&lt;A&gt; = Loading&lt;A&gt; | Failed&lt;A&gt; | Loaded&lt;A&gt;</code> you'll see <code>x</code>'s type change). I don't see a good reason for this behavior, it might even be a bug.</p>\n\n<p>Using <code>kind</code> as described in discriminated unions documentation fixes the problem:</p>\n\n<pre><code>function match&lt;A, O1, O2, O3&gt;(data: Data&lt;A&gt;, matcher: {\n    loading: (percent: number) =&gt; O1,\n    loaded: (value: A) =&gt; O2,\n    failed: (error: any) =&gt; O3,\n  }) { \n    switch (data.kind) {\n        case \"Failed\": return data.match(matcher)\n        case \"Loaded\": return data.match(matcher)\n        case \"Loading\": return data.match(matcher)\n    }\n}\n\nconst y = match(data, {\n  loaded: () =&gt; 'string',\n  loading: () =&gt; [],\n  failed: () =&gt; 3,\n})\n</code></pre>\n\n<p><code>y</code>'s type is shown <a href=\"https://www.typescriptlang.org/play/#src=type%20Data%3CA%3E%20%3D%20Failed%3CA%3E%20%7C%20Loaded%3CA%3E%20%7C%20Loading%3CA%3E%0D%0A%0D%0Aexport%20class%20Loaded%3CA%3E%20%7B%0D%0A%20%20readonly%20kind%3A%20%22Loaded%22%20%3D%20%22Loaded%22%0D%0A%0D%0A%20%20constructor(public%20readonly%20value%3A%20A)%20%7B%7D%0D%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20loaded(f(this.value))%0D%0A%20%20%7D%0D%0A%0D%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20f(this.value)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0D%0A%20%20%20%20const%20result%20%3D%20f(this.value)%0D%0A%20%20%20%20switch(result.kind)%20%7B%0D%0A%20%20%20%20%20%20case%20&#39;Failed&#39;%3A%0D%0A%20%20%20%20%20%20%20%20return%20%5B%5D%0D%0A%0D%0A%20%20%20%20%20%20case%20&#39;Loading&#39;%3A%0D%0A%20%20%20%20%20%20%20%20return%20%5B%5D%0D%0A%0D%0A%20%20%20%20%20%20case%20&#39;Loaded&#39;%3A%0D%0A%20%20%20%20%20%20%20%20const%20elements%20%3D%20result.value%0D%0A%20%20%20%20%20%20%20%20const%20loadedElements%20%3D%20elements.map(loaded)%0D%0A%20%20%20%20%20%20%20%20return%20loadedElements%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0D%0A%0D%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0D%0A%20%20%20%20loading%2C%0D%0A%20%20%20%20loaded%2C%0D%0A%20%20%20%20failed%2C%0D%0A%20%20%7D%3A%20%7B%0D%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0D%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0D%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0D%0A%20%20%7D)%3AO2%20%7B%0D%0A%20%20%20%20return%20loaded(this.value)%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aexport%20class%20Failed%3CA%3E%20%7B%0D%0A%20%20readonly%20kind%3A%20%22Failed%22%20%3D%20%22Failed%22%0D%0A%20%20constructor(public%20readonly%20error%3A%20any%20%3D%20undefined)%20%7B%7D%0D%0A%0D%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20failed(this.error)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20failed(this.error)%0D%0A%20%20%7D%0D%0A%0D%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0D%0A%20%20%20%20return%20%5B%5D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0D%0A%0D%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0D%0A%20%20%20%20loading%2C%0D%0A%20%20%20%20loaded%2C%0D%0A%20%20%20%20failed%2C%0D%0A%20%20%7D%3A%20%7B%0D%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0D%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0D%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0D%0A%20%20%7D)%3AO3%20%7B%0D%0A%20%20%20%20return%20failed(this.error)%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aexport%20class%20Loading%3CA%3E%20%7B%0D%0A%20%20readonly%20kind%3A%20%22Loading%22%20%3D%20%22Loading%22%0D%0A%0D%0A%20%20constructor(public%20readonly%20percent%3A%20number%20%3D%200)%20%7B%7D%0D%0A%0D%0A%20%20map%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20B)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20loading()%0D%0A%20%20%7D%0D%0A%0D%0A%20%20chain%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%3E)%3A%20Data%3CB%3E%20%7B%0D%0A%20%20%20%20return%20loading()%0D%0A%20%20%7D%0D%0A%0D%0A%20%20flatMap%3CB%3E(f%3A%20(a%3A%20A)%20%3D%3E%20Data%3CB%5B%5D%3E)%3A%20Data%3CB%3E%5B%5D%20%7B%0D%0A%20%20%20%20return%20%5B%5D%0D%0A%20%20%7D%0D%0A%0D%0A%20%20%2F*%20...%20some%20type%20guards%20...%20*%2F%0D%0A%0D%0A%20%20public%20match%3CO1%2C%20O2%2C%20O3%3E(%7B%0D%0A%20%20%20%20loading%2C%0D%0A%20%20%20%20loaded%2C%0D%0A%20%20%20%20failed%2C%0D%0A%20%20%7D%3A%20%7B%0D%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0D%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0D%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0D%0A%20%20%7D)%3AO1%20%7B%0D%0A%20%20%20%20return%20loading(this.percent)%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20helper%20functions%0D%0Aconst%20failed%20%3D%20%3CA%3E(error%3F%3A%20any)%3AData%3CA%3E%20%3D%3E%20%20new%20Failed%3CA%3E(error)%0D%0Aconst%20loaded%20%3D%20%3CA%3E(value%3A%20A)%3AData%3CA%3E%20%3D%3E%20new%20Loaded%3CA%3E(value)%0D%0Aconst%20loading%20%3D%20%3CA%3E()%3AData%3CA%3E%20%3D%3E%20new%20Loading%3CA%3E()%0D%0A%0D%0Aconst%20maybe%20%3D%20%3CA%3E(value%3F%3A%20A)%3AData%3CA%3E%20%3D%3E%20value%20%3D%3D%3D%20undefined%20%3F%20failed()%20%3A%20loaded(value)%0D%0A%0D%0Aconst%20data%20%3D%20maybe(3)%0D%0Aconst%20x%20%3D%20data.match(%7B%0D%0A%20%20loaded%3A%20()%20%3D%3E%20&#39;string&#39;%2C%0D%0A%20%20loading%3A%20()%20%3D%3E%20%5B%5D%2C%0D%0A%20%20failed%3A%20()%20%3D%3E%203%2C%0D%0A%7D)%0D%0Ax%0D%0A%0D%0Afunction%20match%3CA%2C%20O1%2C%20O2%2C%20O3%3E(data%3A%20Data%3CA%3E%2C%20matcher%3A%20%7B%0D%0A%20%20%20%20loading%3A%20(percent%3A%20number)%20%3D%3E%20O1%2C%0D%0A%20%20%20%20loaded%3A%20(value%3A%20A)%20%3D%3E%20O2%2C%0D%0A%20%20%20%20failed%3A%20(error%3A%20any)%20%3D%3E%20O3%2C%0D%0A%20%20%7D)%20%7B%20%0D%0A%20%20%20%20switch%20(data.kind)%20%7B%0D%0A%20%20%20%20%20%20%20%20case%20%22Failed%22%3A%20return%20data.match(matcher)%0D%0A%20%20%20%20%20%20%20%20case%20%22Loaded%22%3A%20return%20data.match(matcher)%0D%0A%20%20%20%20%20%20%20%20case%20%22Loading%22%3A%20return%20data.match(matcher)%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20y%20%3D%20match(data%2C%20%7B%0D%0A%20%20loaded%3A%20()%20%3D%3E%20&#39;string&#39;%2C%0D%0A%20%20loading%3A%20()%20%3D%3E%20%5B%5D%2C%0D%0A%20%20failed%3A%20()%20%3D%3E%203%2C%0D%0A%7D)\" rel=\"nofollow noreferrer\">on the playground</a> as <code>string | number | any[]</code> as expected.</p>\n"}], "owner": {"reputation": 532, "user_id": 5031397, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh3.googleusercontent.com/-7o0CJBsl-8k/AAAAAAAAAAI/AAAAAAAARp0/VQwhXZ8i_Hg/photo.jpg?sz=128", "display_name": "Mehdi Saffar", "link": "https://stackoverflow.com/users/5031397/mehdi-saffar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560327890, "creation_date": 1560322207, "question_id": 56556170, "link": "https://stackoverflow.com/questions/56556170/typescript-infers-the-wrong-return-of-a-method", "title": "Typescript infers the wrong return of a method?", "body": "<p>I have been trying to make a sort of Monadic wrapper for Data fetched from an API. I want it to have 4 shapes: </p>\n\n<ul>\n<li>Initial (I haven't written this one yet)</li>\n<li>Loading</li>\n<li>Failed</li>\n<li>Loaded</li>\n</ul>\n\n<p>This is a snippet of my implementation.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\ntype Data&lt;A&gt; = Failed&lt;A&gt; | Loaded&lt;A&gt; | Loading&lt;A&gt;\n\nexport class Loaded&lt;A&gt; {\n  readonly kind: \"Loaded\" = \"Loaded\"\n\n  constructor(public readonly value: A) {}\n  map&lt;B&gt;(f: (a: A) =&gt; B): Data&lt;B&gt; {\n    return loaded(f(this.value))\n  }\n\n  chain&lt;B&gt;(f: (a: A) =&gt; Data&lt;B&gt;): Data&lt;B&gt; {\n    return f(this.value)\n  }\n\n  flatMap&lt;B&gt;(f: (a: A) =&gt; Data&lt;B[]&gt;): Data&lt;B&gt;[] {\n    const result = f(this.value)\n    switch(result.kind) {\n      case 'Failed':\n        return []\n\n      case 'Loading':\n        return []\n\n      case 'Loaded':\n        const elements = result.value\n        const loadedElements = elements.map(loaded)\n        return loadedElements\n    }\n  }\n\n  /* ... some type guards ... */\n\n  public match&lt;O1, O2, O3&gt;({\n    loading,\n    loaded,\n    failed,\n  }: {\n    loading: (percent: number) =&gt; O1,\n    loaded: (value: A) =&gt; O2,\n    failed: (error: any) =&gt; O3,\n  }):O2 {\n    return loaded(this.value)\n  }\n}\n\nexport class Failed&lt;A&gt; {\n  readonly kind: \"Failed\" = \"Failed\"\n  constructor(public readonly error: any = undefined) {}\n\n  map&lt;B&gt;(f: (a: A) =&gt; B): Data&lt;B&gt; {\n    return failed(this.error)\n  }\n\n  chain&lt;B&gt;(f: (a: A) =&gt; Data&lt;B&gt;): Data&lt;B&gt; {\n    return failed(this.error)\n  }\n\n  flatMap&lt;B&gt;(f: (a: A) =&gt; Data&lt;B[]&gt;): Data&lt;B&gt;[] {\n    return []\n  }\n\n  /* ... some type guards ... */\n\n  public match&lt;O1, O2, O3&gt;({\n    loading,\n    loaded,\n    failed,\n  }: {\n    loading: (percent: number) =&gt; O1,\n    loaded: (value: A) =&gt; O2,\n    failed: (error: any) =&gt; O3,\n  }):O3 {\n    return failed(this.error)\n  }\n}\n\nexport class Loading&lt;A&gt; {\n  readonly kind: \"Loading\" = \"Loading\"\n\n  constructor(public readonly percent: number = 0) {}\n\n  map&lt;B&gt;(f: (a: A) =&gt; B): Data&lt;B&gt; {\n    return loading()\n  }\n\n  chain&lt;B&gt;(f: (a: A) =&gt; Data&lt;B&gt;): Data&lt;B&gt; {\n    return loading()\n  }\n\n  flatMap&lt;B&gt;(f: (a: A) =&gt; Data&lt;B[]&gt;): Data&lt;B&gt;[] {\n    return []\n  }\n\n  /* ... some type guards ... */\n\n  public match&lt;O1, O2, O3&gt;({\n    loading,\n    loaded,\n    failed,\n  }: {\n    loading: (percent: number) =&gt; O1,\n    loaded: (value: A) =&gt; O2,\n    failed: (error: any) =&gt; O3,\n  }):O1 {\n    return loading(this.percent)\n  }\n}\n\n// helper functions\nconst failed = &lt;A&gt;(error?: any):Data&lt;A&gt; =&gt;  new Failed&lt;A&gt;(error)\nconst loaded = &lt;A&gt;(value: A):Data&lt;A&gt; =&gt; new Loaded&lt;A&gt;(value)\nconst loading = &lt;A&gt;():Data&lt;A&gt; =&gt; new Loading&lt;A&gt;()\n\nconst maybe = &lt;A&gt;(value?: A):Data&lt;A&gt; =&gt; value === undefined ? failed() : loaded(value)\n</code></pre>\n\n<p>I have test the map, flatMap and chain methods and they seem to work as intented (both in types and runtime behaviour)</p>\n\n<p>I want to have a <code>match</code> function that runs a function based on what variant of Data it is. So if the monad is in the <code>failed</code> state it would run the <code>failed</code> callback, if <code>loaded</code> then runs the <code>loaded</code> function etc...</p>\n\n<p>I have made sure to make the function have 4 generic outputs <code>O1, O2, O3, O4</code> and to explicitly annotate the return type (although typescript should be able to infer it rather easily.</p>\n\n<p>The problem appears here:</p>\n\n<pre><code>const data = maybe(3)\n\nconst x = data.match({\n  loaded: () =&gt; 'string',\n  loading: () =&gt; [],\n  failed: () =&gt; 3,\n})\nx // &lt;-- content is 'string' but when type says number\n</code></pre>\n\n<p>It is inferring x wrong saying it is of type number when it should know that data is of the type <code>Loaded</code>. Or am I wrong?</p>\n\n<p>How can I make this work?</p>\n\n<p>Also <em>please</em> let me know if there is a better way of building such a monad in Typescript without sacrificing type-safety (possibly even improving it, why not!)</p>\n"}, {"tags": ["angular", "typescript", "webpack", "memory-leaks", "less"], "comments": [{"owner": {"reputation": 1170, "user_id": 3635925, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1581427979/picture?type=large", "display_name": "Mykybo", "link": "https://stackoverflow.com/users/3635925/mykybo"}, "edited": false, "score": 0, "creation_date": 1560328210, "post_id": 56555945, "comment_id": 99695741, "body": "<code>After ~15 hours</code> do you mean after 15 hours of the app running in browser without any user interaction? can you share your webpack config - how you build it? How do you serve the page?"}, {"owner": {"reputation": 513, "user_id": 2148311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfc5930d1e4337a12a4ccb1d8ac00d7?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/2148311/mick"}, "reply_to_user": {"reputation": 1170, "user_id": 3635925, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1581427979/picture?type=large", "display_name": "Mykybo", "link": "https://stackoverflow.com/users/3635925/mykybo"}, "edited": false, "score": 0, "creation_date": 1560333004, "post_id": 56555945, "comment_id": 99698471, "body": "@Mykybo I initially clicked around a bit and then just left the window open with no interaction for 15 hours. I&#39;ll add the Webpack config to the question. It&#39;s launched through .net core which runs ng serve in the development environment."}, {"owner": {"reputation": 513, "user_id": 2148311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfc5930d1e4337a12a4ccb1d8ac00d7?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/2148311/mick"}, "reply_to_user": {"reputation": 1170, "user_id": 3635925, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1581427979/picture?type=large", "display_name": "Mykybo", "link": "https://stackoverflow.com/users/3635925/mykybo"}, "edited": false, "score": 0, "creation_date": 1566551294, "post_id": 56555945, "comment_id": 101700061, "body": "The problem seems to be due to a third party iframe. I solved it by simply removing the iframe from DOM after x minutes."}], "owner": {"reputation": 513, "user_id": 2148311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfc5930d1e4337a12a4ccb1d8ac00d7?s=128&d=identicon&r=PG", "display_name": "Mick", "link": "https://stackoverflow.com/users/2148311/mick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1560333156, "creation_date": 1560321270, "last_edit_date": 1560333156, "question_id": 56555945, "link": "https://stackoverflow.com/questions/56555945/multiple-copies-of-stylesheets-stored-in-memory-leak", "title": "Multiple copies of stylesheets stored in memory (leak)", "body": "<p>I noticed that there are memory leaks in our application. I have been using Firefox's about:memory page to try and troubleshoot the problem. I noticed that there are multiple copies of our stylesheets (.less) e.g.:</p>\n\n<pre><code>230.01 MB (18.89%) -- string(length=415887, copies=230, \"/**/n * Applies styles for users in high contrast mode. Note that this only applies/n * to Microsoft browsers. Chrome can be included by checking for the `html[hc]`/n * attribute, however Chrome handles high contrast differently./n * @param target Which kind of high contrast setting to target. Defaults to `active`, can be/n *    `white-on-black` or `black-on-white`./n *//n/* Theme for the ripple elements.*//n/* stylelint-disable material/no-prefixes *//n/* stylelint-enable *//n.mat-badge-content {/n  font-weight: 600;/n  font-size: 12px;/n  font-family: Roboto, \"Helvetica Neue\", sans-serif; }/n.mat-badge-small .mat-badge-content {/n  font-size: 6px; }/n.mat-badge-large .mat-badge-content {/n  font-size: 24px; }/n.mat-h1, .mat-headline, .mat-typography h1 {/n  font: 400 24px/32px Roboto, \"Helvetica Neue\", sans-serif;/n  margin: 0 0 16px; }/n.mat-h2, .mat-title, .mat-typography h2 {/n  font: 500 20px/32px Roboto, \"Helvetica Neue\", sans-serif;/n  margin: 0 0 16px; }/n.mat-h3, .mat-subheading-2, .mat-typography \" (truncated))\n\u2502  \u2502  \u2502  \u2502    \u251c\u2500\u2500230.00 MB (18.89%) \u2500\u2500 malloc-heap/two-byte\n\u2502  \u2502  \u2502  \u2502    \u2514\u2500\u2500\u2500\u25000.01 MB (00.00%) \u2500\u2500 gc-heap/two-byte\n</code></pre>\n\n<p>After ~15 hours the stylesheets take up 1GB of memory and the number of copies keep increasing! I just don't understand why this happens?</p>\n\n<p>The page component looks like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>\n    &lt;div *ngIf=\"!showSSNInput\"&gt;\n        &lt;div class=\"msg msg-error\" *ngIf=\"showNotFoundError\"&gt;text&lt;/div&gt;\n        &lt;iframe id=\"nemid_iframe\" name=\"nemid_iframe\" ontouchstart=\"\" scrolling=\"no\" frameborder=\"0\" style=\"width:300px;height:460px;border:0px;margin:0px;padding:0px;overflow:hidden;\"&gt;&lt;/iframe&gt;\n    &lt;/div&gt;\n    &lt;div *ngIf=\"showSSNInput\"&gt;\n        &lt;div class=\"col-xs-12\"&gt;\n            &lt;h4&gt;text&lt;/h4&gt;\n            &lt;div class=\"field-input\"&gt;\n                &lt;input class=\"cpr-input\" type=\"text\" required name=\"cpr\" [(ngModel)]=\"ssnInput\" (ngModelChange)=\"cleanSsnMask()\"\n                       (keyup.enter)=\"loginWithSsn()\" [class.missing-input]=\"ssnInput == null || ssnInput.length === 0\" [textMask]=\"{mask: CPRmask}\" /&gt;\n                &lt;span class=\"floating-label\"&gt;text&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div class=\"field-input\"&gt;\n                &lt;button class=\"btn btn-success btn-login\" (click)=\"loginWithSsn()\" [disabled]=\"cleanSsn == null || cleanSsn.length != 10 || loading\"\n                        [class.loading]=\"loading\" type=\"button\"&gt;\n                    &lt;span&gt;text&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"msg msg-error\" *ngIf=\"showSSNError\"&gt;text&lt;/div&gt;\n            &lt;div class=\"msg msg-error\" *ngIf=\"showNotFoundError\"&gt;text&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"msg msg-error\" *ngIf=\"showError\"&gt;\n        &lt;b&gt;text {{errorCode}}&lt;/b&gt;\n        text\n    &lt;/div&gt;\n\n</code></pre>\n\n<pre class=\"lang-less prettyprint-override\"><code>    @import \"../../../../../assets/styles/app/functions.less\";\n\n    .btn-login {\n        margin-top: 15px;\n        margin-left: 15px;\n        padding: 12px 20px 11px;\n    }\n\n    .cpr-input{\n        width: 200px; \n        .extraSmallDevice({\n            width: 100%;\n        })\n    }\n\n    .msg {\n        width: 100%;\n    }\n</code></pre>\n\n<p>webpack.config.js:</p>\n\n<pre class=\"lang-json prettyprint-override\"><code>const path = require('path');\nconst nodeExternals = require('webpack-node-externals');\nconst webpack = require('webpack');\nconst CopyWebpackPlugin = require('copy-webpack-plugin');\n\nmodule.exports = {\n  mode: 'none',\n  entry: {\n    server: './server.ts'\n  },\n  resolve: {\n    extensions: ['.ts', '.js']\n  },\n  target: 'node',\n  externals: [/(node_modules|main\\..*\\.js)/],\n  node: {\n    __dirname: true\n  },\n  output: {\n    path: path.join(__dirname, 'dist'),\n    filename: '[name].js'\n  },\n  module: {\n    rules: [\n        { test: /\\.ts$/, loader: 'awesome-typescript-loader', options: { useCache: true } },\n        { test: /.less$/, exclude: /node_modules/, loader: 'raw-loader!less-loader' }\n    ]\n  },\n  plugins: [\n    new webpack.ContextReplacementPlugin(\n      /(.+)?angular(\\\\|\\/)core(.+)?/,\n      path.join(__dirname, 'src'), // location of your src\n      {} // a map of your routes\n    ),\n    new webpack.ContextReplacementPlugin(\n      /(.+)?express(\\\\|\\/)(.+)?/,\n      path.join(__dirname, 'src'),\n      {}\n    ),\n    new CopyWebpackPlugin([\n        { from: 'src/iisnode.yml', to: 'iisnode.yml' },\n        { from: 'src/web.config', to: 'web.config' }\n    ])\n  ]\n}\n</code></pre>\n\n<p>Angular version: 7.0.1</p>\n\n<p>Let me know if there's more information needed to figure it out.</p>\n"}]