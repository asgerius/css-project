[{"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": true, "score": 1, "last_activity_date": 1565828459, "creation_date": 1565828459, "answer_id": 57503528, "question_id": 57503363, "link": "https://stackoverflow.com/questions/57503363/how-to-limit-keys-of-an-object-to-a-list-of-set-strings-in-typescript/57503528#57503528", "title": "how to limit keys of an object to a list of set strings in typescript", "body": "<p><code>{}</code> is valid because <code>StylesObject</code> has marked all of its properties as optional <code>?</code>. </p>\n\n<p>Here is one option that will work for you: </p>\n\n<pre><code>type StylesObject = {\n  [key in StyleKeyType]: Record&lt;key, string&gt;\n}[StyleKeyType];\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 446556, "user_type": "registered", "profile_image": "https://graph.facebook.com/4801115/picture?type=large", "display_name": "Chris Drackett", "link": "https://stackoverflow.com/users/446556/chris-drackett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57503528, "answer_count": 1, "score": 1, "last_activity_date": 1565828459, "creation_date": 1565826786, "question_id": 57503363, "link": "https://stackoverflow.com/questions/57503363/how-to-limit-keys-of-an-object-to-a-list-of-set-strings-in-typescript", "title": "how to limit keys of an object to a list of set strings in typescript", "body": "<p>I have an api that can return one of the following:</p>\n\n<p><code>{ fill: 'string'}</code> or <code>{stroke: 'string'}</code> or <code>{effect: 'string'}</code></p>\n\n<p>I have the following type for the key:</p>\n\n<pre><code>type StyleKeyType =\n  | 'fill'\n  | 'stroke'\n  | 'effect';\n</code></pre>\n\n<p>and I'd like to create a type for the object. I tried:</p>\n\n<pre><code>type StylesObject = { [K in StyleKeyType]?: string };\n</code></pre>\n\n<p>but this fails as it thinks that <code>{}</code> is valid where in my case it is not.</p>\n\n<p>Is there a way to generate this type without manually spelling out each of the possible object types?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "github-pages", "angular-cli-ghpages"], "answers": [{"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": false, "score": 3, "last_activity_date": 1565827537, "creation_date": 1565827537, "answer_id": 57503432, "question_id": 57502941, "link": "https://stackoverflow.com/questions/57502941/deploying-an-angular-8-project-to-github-pages-with-ngh/57503432#57503432", "title": "Deploying an Angular 8 Project to Github Pages with ngh", "body": "<p>I changed the <code>angular.json</code> outputPath to <code>dist</code> and now it works:</p>\n\n<pre><code>  \"architect\": {\n    \"build\": {\n      \"builder\": \"@angular-devkit/build-angular:browser\",\n      \"options\": {\n        \"outputPath\": \"dist/\",\n</code></pre>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 2, "answer_count": 1, "score": -1, "last_activity_date": 1572638209, "creation_date": 1565822573, "last_edit_date": 1565824383, "question_id": 57502941, "link": "https://stackoverflow.com/questions/57502941/deploying-an-angular-8-project-to-github-pages-with-ngh", "title": "Deploying an Angular 8 Project to Github Pages with ngh", "body": "<p>I'm running this on my angular 8 project:</p>\n\n<pre><code>    ole@mkt:~/test$ ngh\n    index.html could not be copied to 404.html. This does not look like an angular-cli project?!\n    (Hint: are you sure that you have setup the directory correctly?)\n    Diagnostic info [Error: ENOENT: no such file or directory, stat '/home/ole/test/dist/index.html'] {\n    errno: -2,\n    code: 'ENOENT',\n    syscall: 'stat',\n    path: '/home/ole/test/dist/index.html'\n    }\n    \ud83d\ude80 Successfully published via angular-cli-ghpages! Have a nice day!\n    ole@mkt:~/test$ ls dist/\n    test\n</code></pre>\n\n<p>I get the <code>index.html</code> could not be copied and it looks like it's because Angular generates the build files to <code>dist/PROJECT_NAME</code> and in this case the project name is <code>test</code>.  </p>\n\n<p>I looks like ngh is expecting to find <code>index.html</code> in <code>dist</code> instead of in <code>dist/test</code>.  </p>\n\n<p>Any ideas on how to work around this?</p>\n\n<p><a href=\"https://www.techiediaries.com/deploy-angular-github-pages/\" rel=\"nofollow noreferrer\">This is the reference I was going by.</a></p>\n"}, {"tags": ["arrays", "typescript", "generics", "typescript-generics"], "answers": [{"tags": [], "owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "is_accepted": false, "score": 1, "last_activity_date": 1565885387, "last_edit_date": 1565885387, "creation_date": 1565830767, "answer_id": 57503720, "question_id": 57502636, "link": "https://stackoverflow.com/questions/57502636/typescript-generics-get-type-of-array-contents/57503720#57503720", "title": "Typescript generics, get type of Array contents", "body": "<h3>Approach #1</h3>\n\n<pre><code>/**\n * Push into the existing array.\n */\nexport const mutateConcat1 = &lt;\n  TState extends Record&lt;TKey, unknown[]&gt;,\n  TKey extends string,\n  &gt;(\n    state: TState,\n    key: TKey,\n    newArray: TState[TKey]\n  ) =&gt; {\n  state[key].push(...newArray);\n};\n</code></pre>\n\n<h3>Approach #2</h3>\n\n<p>The cast with <code>as</code> here might be unavoidable. Without it we receive, <strong>Type 'unknown[]' is not assignable to type 'TState[TKey]'.</strong> That is because we told the compiler that the array is of type <code>unknown[]</code> in the <code>Record</code>. I tried to <code>infer</code> the array type but was not able to make it work. The cast seems very safe though, given that we know for sure that both <code>state[key]</code> and <code>newArray</code> are of the same type. If only I knew how to explain that to the compiler.</p>\n\n<pre><code>/**\n * Overwrite the original array with concat.\n */\nexport const mutateConcat2 = &lt;\n  TState extends Record&lt;TKey, unknown[]&gt;,\n  TKey extends string,\n  &gt;(\n    state: TState,\n    key: TKey,\n    newArray: TState[TKey]\n  ) =&gt; {\n  state[key] = state[key].concat(newArray) as TState[TKey];\n};\n</code></pre>\n\n<h3>Testing</h3>\n\n<pre><code>/**\n * Test Cases\n */\n\nconst goodState = { array1: [1, 2, 3] };\nconst badState = { array1: new Date() };\n\n// ok\nmutateConcat1(goodState, 'array1', [4, 5, 6]);\nmutateConcat2(goodState, 'array1', [4, 5, 6]);\n\n// errors\nmutateConcat1(goodState, 'array1', ['4', 5, 6]);\nmutateConcat1(goodState, 'array2', [4, 5, 6]);\nmutateConcat1(badState, 'array1', [4, 5, 6]);\n\nmutateConcat2(goodState, 'array1', ['4', 5, 6]);\nmutateConcat2(goodState, 'array2', [4, 5, 6]);\nmutateConcat2(badState, 'array1', [4, 5, 6]);\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/PQKhCgAIUgFBXAzgC0gSwHYBcD2kvICmkhAHmolpgOaQCGATg3QJ4B0UIw4ZADjgyyQAxjgyVIAW3hY6WQgGExwuQEZIAXkgAeKJAAqAZVnySpeRgAmiSACVCohpe36A0oRYAaSPAwBrDBwAdwwAbQBdAD5PPTcPMwtrSEoGGhjISEiACj0MyjlCAC4DYwL0jMg-D2K4r1zIDEIggEEmVhrS+VDa8L0ASk1IyABvPXyuqpZwtl4kZCy2RcaWtpY+gG5wAF9N8FAIaEgAeQA3QgYg1NMCYgE0akw6ABt6VcggtAIRZTkOaG4+AIhKJxEJpCZFD8sAAmTQ6WKdYhkRI2eyOZy1by+ALBMJRcq1BKEKw2FJpPTZerjIolCHlDKTGruOoVBpNVrMFgdCHdZm9DIDDRDUZ5HmTcJw6mhcVsEEqLBZZYc1gDOg2Iw8nqbHbgPZgTgGQgSBRqo2cbjgEESag4HCWRFw4avTmqYqhVTeaHeADMEp1VqEACM6PaIY7naxXWygpAACIFLIDHV7YCQHB+cDggpKDDy1RZG12xHeADkjBdJe8oQALN4AKzeABs4Q2mZk2ah0ILttDZUgZdWqkrkBr9abLd2wFT5wYAkQbYhObz3aLdP75cjw9CJerw4bkGbraz8iXahXvfkpY3LGhW9rkH3h82x8hubPwYvhCvg7vY4PE91F9Txhc9i3XH8qx3PdxyPdsT07UC1wHTlbyre9HwAoCEI-MDkM3NC-yfXUgA\" rel=\"nofollow noreferrer\">Link to code</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1565884856, "post_id": 57509553, "comment_id": 101493317, "body": "The <code>keyof any</code> is new to me. Neat. What is its advantage of simply doing <code>K extends string</code> in this situation?"}, {"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1565885136, "post_id": 57509553, "comment_id": 101493445, "body": "One limitation in this is that it does not pass this test: <code>const obj = { a: [1, 2, 3] }; mutateConcat(obj, &quot;a&quot;, [ 1, &#39;b&#39;, &#39;c&#39; ]);</code>, which I assumed should be an error, because I had assumed that the target type of the array comes from the state not from the new values."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": false, "score": 2, "last_activity_date": 1565871599, "creation_date": 1565871599, "answer_id": 57509553, "question_id": 57502636, "link": "https://stackoverflow.com/questions/57502636/typescript-generics-get-type-of-array-contents/57509553#57509553", "title": "Typescript generics, get type of Array contents", "body": "<p>The other answer is correct, but I wanted to add that you can get it to work if you make <code>state</code> a relatively concrete <code>Record&lt;K, U[]&gt;</code> type, instead of the more generic <code>T extends Record&lt;K, U[]&gt;</code> type.  This helps the compiler see the assignment as safe, since <code>T extends {a: string[]}</code> could be <code>{a: Array&lt;\"lit\"&gt;}</code>, and then <code>obj.a.push(\"oops\")</code> would be an error:</p>\n\n<pre><code>const mutateConcat = &lt;K extends keyof any, U&gt;(\n  state: Record&lt;K, U[]&gt;,\n  key: K,\n  val: U[]\n) =&gt; {\n  state[key] = state[key].concat(val); // okay\n};\n</code></pre>\n\n<p>The only problem I see there is if you pass object literals into the <code>state</code> parameter when you call <code>mutateConcat()</code>, you will get presumably undesirable <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"nofollow noreferrer\">excess property checking</a> on non-array properties:</p>\n\n<pre><code>mutateConcat({ a: [1, 2, 3], b: 1 }, \"a\", [4, 5, 6]); // excess property checking \ud83d\ude22\n</code></pre>\n\n<p>And anything I do to the signature of <code>mutateConcat()</code> to address this causes the compiler to be too confused inside the implementation and you're back to <strike>casting</strike> <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#type-assertions\" rel=\"nofollow noreferrer\">asserting</a>.  If you still want to go this way you can avoid excess property checking by not using fresh object literals, as in:</p>\n\n<pre><code>const obj = { a: [1, 2, 3], b: 1 };\nmutateConcat(obj, \"a\", [4, 5, 6]); // okay\n</code></pre>\n\n<p>Whether this satisfies your use case is up to you.  Okay, good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/MYewdgzgLgBAtgVygQygUwMLmKmBeGAHgGkY0APdMAEwhgGs0BPEAMxmTCYBoYBVAHwAKAFAwY0VGgBcMAEppQAJ2olefANoBdAdzENms4nvEA3ZABtZmrSICU+ATADe+yeg2MmW-BJQevLQA6UDAcKCFzCzsAbhEAXziRRH9MbFQhZw5ZDQBGXgAmXgBmLV4AI1lcmHjeACJkOt4NABZeAFZeADYtWJgAen6ycmA0CDoAByUQCbQlKCYYYAALRXoASzAAcxhAXg3AIj2REVDoGBBygCtfLOQc-JgimFKKqpq4lKksMIzzi-rG5ptGCdGA9PqDM70ZBMERAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}, {"tags": [], "owner": {"reputation": 7275, "user_id": 711674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7560ae5fac8aca6de538d5c28232b1c?s=128&d=identicon&r=PG", "display_name": "Will P.", "link": "https://stackoverflow.com/users/711674/will-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1565884696, "creation_date": 1565884696, "answer_id": 57512562, "question_id": 57502636, "link": "https://stackoverflow.com/questions/57502636/typescript-generics-get-type-of-array-contents/57512562#57512562", "title": "Typescript generics, get type of Array contents", "body": "<p>So, between this and a reddit thread I believe I have the best solution for my needs. Here is what I've come up with:</p>\n\n<pre><code>const mutateConcat = &lt;\n  TState extends Record&lt;TKey, any[]&gt;,  \n  TKey extends keyof TState,  \n  TElement extends TState[TKey] extends Array&lt;infer TEl&gt; ? TEl : never  \n&gt;(state: TState, key: TKey, val: T[K], elementProperty?: keyof TElement) =&gt; { \n  state[key].push(...val);\n  if (elementProperty) {\n    // filter state[key] to have distinct values off of element property\n  }\n}\n</code></pre>\n\n<p>I chose to use <code>any[]</code> in the <code>TState</code> because there were other issues when I tried <code>TElement[]</code> because the state could have any kinds of properties on them and it was not aligning with the way it was being called.  This method is actually being used as a vuex mutation method as a higher order function so I'm not concerned with extreme type safety on the state parameter.  The <code>keyof</code> parameters are the important ones as those will be passed by developers, and this solution enforces that both are valid for the objects being passed.</p>\n\n<p>Edit: Here's the full function for anyone interested:</p>\n\n<pre><code>const mutateConcat = &lt;\n  TState extends Record&lt;TKey, any[]&gt;,\n  TKey extends keyof TState,\n  TElement extends TState[TKey] extends Array&lt;infer TEl&gt; ? TEl : never\n&gt;(\n  key: TKey,\n  sessionKey?: string,\n  distinctProperty?: keyof TElement,\n) =&gt; (state: TState, val: TElement[]) =&gt; {\n  state[key].push(...val);\n\n  if (distinctProperty) {\n    removeDuplicates(state[key], distinctProperty);\n  }\n\n  if (sessionKey) {\n    setSessionItem(sessionKey, state);\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 7275, "user_id": 711674, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7560ae5fac8aca6de538d5c28232b1c?s=128&d=identicon&r=PG", "display_name": "Will P.", "link": "https://stackoverflow.com/users/711674/will-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 631, "favorite_count": 0, "accepted_answer_id": 57512562, "answer_count": 3, "score": 2, "last_activity_date": 1565885387, "creation_date": 1565820230, "last_edit_date": 1565821614, "question_id": 57502636, "link": "https://stackoverflow.com/questions/57502636/typescript-generics-get-type-of-array-contents", "title": "Typescript generics, get type of Array contents", "body": "<p>I've built a method that will concatentate an array with another array that's passed in.  The array lives on a parent object called <code>state</code> which is generically typed in my method.</p>\n\n<p>My method is along the lines of this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const mutateConcat = &lt;T, K extends keyof T&gt;(state: T, key: K, val: T[K]) =&gt; {\n  ((state[key] as unknown) as any[]) = ((state[key] as unknown) as any[]).concat(val);\n}\n</code></pre>\n\n<p>Obviously this is ugly, and I'd like to get rid of the casting to <code>unknown</code> and <code>any[]</code>.  I'd also like to be able to determine the type of the array contents.</p>\n\n<p>Basically, I need to ensure that T[K] is an Array, and ideally I'd like to assign the type of the contents of the array to another generic parameter, say <code>U</code>.</p>\n\n<p>I have tried <code>&lt;T, K extends keyof T, U extends Array&lt;T[K]&gt;&gt;</code> but that assigns <code>U</code> to the type of the array itself, not to the type of the contents of the array.</p>\n\n<p>Is what I'm asking possible?  Can <code>extends keyof</code> be filtered to only keys that are array types, and can the types of the contents of those arrays be assigned to another type parameter?</p>\n\n<p>Thanks in advance</p>\n\n<p>Edit: \nSo, I've managed to get the type of the array by keying off of the <code>val</code> variable.  So the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const mutateConcat = &lt;T, U, K extends keyof T&gt;(state: T, key: K, val: T[K] &amp; U[], arrayDistinctProperty?: keyof U) =&gt; {\n  // U now contains the array type, and `arrayDistinctProperty` is typed to a property on that array type object\n  ((state[key] as unknown) as any[]) = ((state[key] as unknown) as any[]).concat(val);\n}\n</code></pre>\n\n<p>However, this doesn't solve the ugliness of the casting, because typescript doesn't know for sure that <code>T[K]</code> is an array type.  Is it possible to tell it to only allow my <code>key</code> parameter to be an array type on <code>T</code>?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "express", "http"], "comments": [{"owner": {"reputation": 490, "user_id": 8834477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94fc949746f6f386dbb0923ba1149498?s=128&d=identicon&r=PG&f=1", "display_name": "Japsz", "link": "https://stackoverflow.com/users/8834477/japsz"}, "edited": false, "score": 2, "creation_date": 1565820043, "post_id": 57502476, "comment_id": 101474135, "body": "checkout <a href=\"https://github.com/axios/axios\" rel=\"nofollow noreferrer\">axios</a>, is a promise-based javascript http client."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565831487, "post_id": 57502476, "comment_id": 101476182, "body": "No node.js server should EVER do synchronous I/O in any real time request handler.  Never.  It would absolutely ruin the scalability of your server.  Instead, learn how to do asynchronous I/O properly.  For us to show you how to do this request to this other web service, you would have to show us the details of that request and then we could show you the specific detail for how to do it properly."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565831597, "post_id": 57502476, "comment_id": 101476193, "body": "As it stands now, you&#39;re asking for something that node.js isn&#39;t built to do and should never be done from any node.js request handler.  So, the question needs to be rephrased to express the problem you&#39;re trying to solve, not the specific solution (synchronous I/O) that you seem to want.  That&#39;s not the right direction for a solution.  What you have posted is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> where you&#39;ve asked a question about your proposed solution direction rather than asking us to help you solve the actual problem."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839209, "post_id": 57502476, "comment_id": 101477423, "body": "@jfriend00 Maybe synchronous was the wrong word. What I mean is that I <i>need</i> the response from the other web service before I formulate the response from my web service.  I don&#39;t think I need to provide any details of the other request other than it&#39;s a standard http request with a json response that my web service needs to work.  It&#39;s not really clear why synchronous I/O is so terrible (considering lots of other frameworks and languages use synchronous I/O in their  web frameworks).  Even if the evaluation is technically &quot;asynchronous&quot; it still needs to block my response until it completes."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839545, "post_id": 57502476, "comment_id": 101477460, "body": "Well, you said &quot;synchronous&quot;.  That was apparently the wrong word because that&#39;s what I reacted to. You don&#39;t need anything to block. You just finish your response in the asynchronous callback.  There&#39;s no blocking of anything. There&#39;s no synchronous networking.  You just need to learn how to program with asynchronous I/O in node.js where you handle the response in a callback.  You can either use regular async callbacks or you can use a promise interface.  In both you&#39;re handling the response and any code that wants to use it in a callback.  That&#39;s what you need to learn in node.js/Javascript."}, {"owner": {"reputation": 574461, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565839681, "post_id": 57502476, "comment_id": 101477476, "body": "Keep in mind that the word &quot;synchronous&quot; has a very specific meaning in node.js - something that blocks the entire intrepreter such as <code>fs.readFileSync()</code>.  So, please don&#39;t use it if that specific meaning is not what you meant. Even when using <code>await</code> to &quot;wait&quot; for a promise which may appear to block, it actually causes your function to return immediately and lots of other code can then run.  There is no actual blocking of the interpreter.  With <code>await</code> your function execution is suspended until the promise you are awaiting resolves or rejects."}], "answers": [{"comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1565839285, "post_id": 57502663, "comment_id": 101477433, "body": "Yes, this is what I needed.  I used axios, but the async/await syntax worked."}], "tags": [], "owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "is_accepted": true, "score": 2, "last_activity_date": 1565820392, "creation_date": 1565820392, "answer_id": 57502663, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server/57502663#57502663", "title": "How to make a synchronous http request on a node server?", "body": "<p>The reason why you are getting errors/warnings when trying to synchronously call an HTTP request is that from the get-go node.js was built with the core philosophy of callbacks &amp; the event loop. If you are trying to write asynchronous code in a synchronous way... May i point you in the direction of async/await. You could you use <code>npm install node-fetch</code> </p>\n\n<pre><code>const fetch = require('node-fetch');\n\napp.get('/my_api_endpoint', async function (req, res) {\n\n    // Need to get data from other webservice using data \n    // from this request.\n    data = await fetch(\"http://...\");\n\n    res.status(200);\n    res.send(\"This is the \" + data);\n    res.end();\n\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "is_accepted": false, "score": 1, "last_activity_date": 1565849359, "last_edit_date": 1565849359, "creation_date": 1565831484, "answer_id": 57503769, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server/57503769#57503769", "title": "How to make a synchronous http request on a node server?", "body": "<p>In general all javascript libraries/frameworks are friendly to non-synchronous operations. Those that are not will be ignored by the community. Express already allow you to perform asynchronous operations.</p>\n\n<p>Have you ever wondered why express requires you to \"return\" responses by calling methods on <code>res</code> instead of simply returning?:</p>\n\n<pre><code>// frameworks in some other languages:\n\n@Path(\"/my_api_endpoint\")\nResponse myEndpoint() {\n    data = request_to_other_web_service(some_value);\n    return data; // Javascript frameworks don't use returns!!\n}\n</code></pre>\n\n<p>It is because all javascript web frameworks are async friendly. The reason you use a callback (a function that you call back at some later time) to return from a route is because you can call functions inside other functions. In Express you call <code>res.send()</code> <strong>after</strong> you've performed async operations. How you do it depends on the API you're using:</p>\n\n<p>API that accepts a callback:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res, next) {\n    request(req.params.some_value, function (error, data) {\n        if (!error) {\n            res.status(200);\n            res.send(\"This is the \" + data);\n        }\n        else {\n            next(error);\n        }\n    }\n});\n</code></pre>\n\n<p>API that returns a promise:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res, next) {\n    request(req.params.some_value)\n        .then(function (data) {\n            res.status(200);\n            res.send(\"This is the \" + data);\n        })\n        .catch(function (error) {\n            next(error);\n        });\n});\n</code></pre>\n\n<p>Using async/await with API that returns a promise:</p>\n\n<pre><code>app.get('/my_api_endpoint', async function (req, res, next) {\n    try {\n        let data = await request(req.params.some_value)\n        res.status(200);\n        res.send(\"This is the \" + data);\n    }\n    catch (error) {\n        next(error);\n    }\n});\n</code></pre>\n\n<p>Stream based API:</p>\n\n<pre><code>app.get('/my_api_endpoint', async function (req, res, next) {\n    let dataStream = request(req.params.some_value);\n    let buffer = \"\";\n\n    dataStream.on('data', function (data) {\n        buffer += data.toString('utf8');\n    });\n\n    dataStream.on('end', function () {\n        res.status(200);\n        res.send(\"This is the \" + buffer);\n    });\n\n    dataStream.on('error', function () {\n        next(\"Stream error\");\n    });\n\n});\n</code></pre>\n\n<p>Express can handle any asynchronous program flow.</p>\n"}], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 57502663, "answer_count": 2, "score": -2, "last_activity_date": 1565849359, "creation_date": 1565819251, "question_id": 57502476, "link": "https://stackoverflow.com/questions/57502476/how-to-make-a-synchronous-http-request-on-a-node-server", "title": "How to make a synchronous http request on a node server?", "body": "<p>I have a node web server with several api endpoints. One of those endpoints needs to make a request to another server in order to assemble its own response. I've seen a few different answers with links to libraries that allow purely synchronous web requests, but they're all associated with warnings that say not to use them in production.  </p>\n\n<p>Here is an example of what my server request handler looks like:</p>\n\n<pre><code>app.get('/my_api_endpoint', function (req, res) {\n\n    // Need to get data from other webservice using data \n    // from this request.\n    data = request_to_other_web_service(req.params.some_value);\n\n    res.status(200);\n    res.send(\"This is the \" + data);\n    res.end();\n\n});\n</code></pre>\n\n<p>Is there a standard pattern for handling requests like this?</p>\n"}, {"tags": ["typescript", "types", "typescript-generics", "union-types"], "answers": [{"comments": [{"owner": {"reputation": 4157, "user_id": 489088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/feaeea6d2939022c49dc8b3a0510df43?s=128&d=identicon&r=PG", "display_name": "Edy Bourne", "link": "https://stackoverflow.com/users/489088/edy-bourne"}, "edited": false, "score": 0, "creation_date": 1565820174, "post_id": 57502562, "comment_id": 101474167, "body": "The result is correct, but the type of the result is not... if you assign the result of myFunc to a variable, it will be typed as <code>(string | number)[]</code>, so... its an array that can have string or number in any position. Instead, I want an array that can only have a number on the first position, and a string on the second (so I can deconstruct the items correctly). The type should be <code>[string, number]</code>. I can do this by hard coding the type, but since <code>calc()</code>&#39;s return type is very complex I would like to keep it inferred. I&#39;ll add more details to the question."}, {"owner": {"reputation": 4157, "user_id": 489088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/feaeea6d2939022c49dc8b3a0510df43?s=128&d=identicon&r=PG", "display_name": "Edy Bourne", "link": "https://stackoverflow.com/users/489088/edy-bourne"}, "edited": false, "score": 0, "creation_date": 1565820388, "post_id": 57502562, "comment_id": 101474228, "body": "I added more details to the question. The result works either way... It&#39;s a typing problem. Thank you for looking into it!"}], "tags": [], "owner": {"reputation": 21, "user_id": 3395529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3852ba4045a0893615bc7a949b7553?s=128&d=identicon&r=PG&f=1", "display_name": "SilverIO", "link": "https://stackoverflow.com/users/3395529/silverio"}, "is_accepted": false, "score": 0, "last_activity_date": 1565819833, "creation_date": 1565819833, "answer_id": 57502562, "question_id": 57502442, "link": "https://stackoverflow.com/questions/57502442/how-to-type-a-function-so-that-its-return-type-matches-that-of-an-array-that-is/57502562#57502562", "title": "How to type a function so that its return type matches that of an array that is being returned?", "body": "<p>I don't understand exactly what you want, but if I execute your code I get this</p>\n\n<pre><code>const calc = () =&gt; Math.random();\nconst myFunc = () =&gt; ([calc(), 'string']);\nmyFunc()\n\n-&gt; RESULT [0.2612262266408696, \"string\"]\n</code></pre>\n\n<p>That is what you expected?</p>\n"}, {"tags": [], "owner": {"reputation": 4157, "user_id": 489088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/feaeea6d2939022c49dc8b3a0510df43?s=128&d=identicon&r=PG", "display_name": "Edy Bourne", "link": "https://stackoverflow.com/users/489088/edy-bourne"}, "is_accepted": true, "score": 0, "last_activity_date": 1565847118, "last_edit_date": 1565847118, "creation_date": 1565821240, "answer_id": 57502767, "question_id": 57502442, "link": "https://stackoverflow.com/questions/57502442/how-to-type-a-function-so-that-its-return-type-matches-that-of-an-array-that-is/57502767#57502767", "title": "How to type a function so that its return type matches that of an array that is being returned?", "body": "<p>OK, found the answer... I needed the <code>typeof</code> keyword to refer to the inferred type. So, I can do:</p>\n\n<pre><code>const calc = () =&gt; Math.random();\n\nconst myFunc = () =&gt; {\n    const result = calc();\n\n    return [result, 'string'] as [typeof result, string];\n};\n</code></pre>\n\n<p>Which yields the correct type:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AMNu8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMNu8.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4157, "user_id": 489088, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/feaeea6d2939022c49dc8b3a0510df43?s=128&d=identicon&r=PG", "display_name": "Edy Bourne", "link": "https://stackoverflow.com/users/489088/edy-bourne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 57502767, "answer_count": 2, "score": 0, "last_activity_date": 1565847118, "creation_date": 1565818968, "last_edit_date": 1565820348, "question_id": 57502442, "link": "https://stackoverflow.com/questions/57502442/how-to-type-a-function-so-that-its-return-type-matches-that-of-an-array-that-is", "title": "How to type a function so that its return type matches that of an array that is being returned?", "body": "<p>This is very hard to describe property in the title, so here is an example: I have a function that should return an array with two items:</p>\n\n<pre><code>const calc = () =&gt; Math.random();\n\nconst myFunc = () =&gt; ([calc(), 'string']);\n</code></pre>\n\n<p>So that the first item in the array is always the return type of the <code>calc</code> function, and the second is always a string.</p>\n\n<p>When I run this, the type inferred for <code>myFunc</code> becomes <code>(number | string)[]</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/E92rt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E92rt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Instead, I want the type to be <code>[number, string]</code> so I can deconstruct like so:</p>\n\n<pre><code>const [calcResult, str] = myFunc();\n</code></pre>\n\n<p>...and both items will be typed correctly.</p>\n\n<p>Normally, I would just explicitly give <code>myFunc</code> a return type:</p>\n\n<pre><code>const myFunc = (): [number, string] =&gt; ([calc(), 'string']);\n</code></pre>\n\n<p>then I get what I want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HTIRR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTIRR.png\" alt=\"enter image description here\"></a></p>\n\n<p>The tricky part is that I can't just add the hard coded return type to <code>myFunc</code>  because the type returned by <code>calc()</code> in my real code is very complex (doesn't even show up completely when I use the IDE's inference display feature) and can easily change over time. So <strong>I want to let it continue to be inferred</strong>, while keeping the fixed structure of returned type match the exact array I'm returning so I can use deconstruction with it.</p>\n\n<p>How can I accomplish this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["node.js", "json", "typescript", "module.exports"], "comments": [{"owner": {"reputation": 10662, "user_id": 741850, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4a92d66111d2f71d36b14aec1741fb14?s=128&d=identicon&r=PG", "display_name": "Automatico", "link": "https://stackoverflow.com/users/741850/automatico"}, "edited": false, "score": 0, "creation_date": 1565864481, "post_id": 57502321, "comment_id": 101484177, "body": "That is not malformed JSON, it is not <code>prettified</code>, but it is legal."}, {"owner": {"reputation": 209, "user_id": 188625, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/14401032449b0365e59b7916b1d949b0?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/188625/bob"}, "reply_to_user": {"reputation": 10662, "user_id": 741850, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4a92d66111d2f71d36b14aec1741fb14?s=128&d=identicon&r=PG", "display_name": "Automatico", "link": "https://stackoverflow.com/users/741850/automatico"}, "edited": false, "score": 0, "creation_date": 1565890980, "post_id": 57502321, "comment_id": 101495828, "body": "Sorry for misspeaking. While that may be true that is legal JSON, my question still remains. How can I keep the JSON intact?"}, {"owner": {"reputation": 644, "user_id": 7817501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HoU4f.gif?s=128&g=1", "display_name": "Kevin Pastor", "link": "https://stackoverflow.com/users/7817501/kevin-pastor"}, "edited": false, "score": 0, "creation_date": 1565896702, "post_id": 57502321, "comment_id": 101498119, "body": "You could try exporting a <code>const</code> object <code>timestamp</code> from a file <code>timestamp.ts</code>"}, {"owner": {"reputation": 10662, "user_id": 741850, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4a92d66111d2f71d36b14aec1741fb14?s=128&d=identicon&r=PG", "display_name": "Automatico", "link": "https://stackoverflow.com/users/741850/automatico"}, "edited": false, "score": 0, "creation_date": 1565944637, "post_id": 57502321, "comment_id": 101509620, "body": "Maybe there is some information for you here? <a href=\"https://stackoverflow.com/a/53629381/741850\">stackoverflow.com/a/53629381/741850</a>"}], "owner": {"reputation": 209, "user_id": 188625, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/14401032449b0365e59b7916b1d949b0?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/188625/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565890886, "creation_date": 1565818180, "last_edit_date": 1565890886, "question_id": 57502321, "link": "https://stackoverflow.com/questions/57502321/typescript-unwanted-module-exports-in-json-file-on-compile", "title": "Typescript: Unwanted &quot;module.exports =&quot; in JSON file on compile", "body": "<p>In my Typescript app, I have a static JSON file I read-in named <code>timestamp.json</code> with this content:</p>\n\n<pre><code>{\n    \"timestamp\": \"08/14/2019 12:23\",\n}\n</code></pre>\n\n<p>When I compile the app, the file gets placed in a <code>/dist</code> folder with the same name <code>timestamp.json</code>, but the content is now different:</p>\n\n<pre><code>module.exports = {\"timestamp\":\"08/14/2019 12:23\"}\n</code></pre>\n\n<p>This is unexpected and I need the JSON to stay intact. I'm relatively new to Typescript and I haven't been able to find any answers for this online.</p>\n"}, {"tags": ["typescript", "azure", "docker", "azure-function-app"], "answers": [{"tags": [], "owner": {"reputation": 1696, "user_id": 1079602, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hi0uj.png?s=128&g=1", "display_name": "SSH This", "link": "https://stackoverflow.com/users/1079602/ssh-this"}, "is_accepted": true, "score": 0, "last_activity_date": 1566400771, "creation_date": 1566400771, "answer_id": 57594788, "question_id": 57502285, "link": "https://stackoverflow.com/questions/57502285/typescript-not-building-in-container-based-azure-function-app/57594788#57594788", "title": "Typescript not building in Container-based Azure Function App", "body": "<p>I added npm run build to the docker file and its working now. </p>\n\n<pre><code> FROM mcr.microsoft.com/azure-functions/node:2.0\n\n ENV AzureWebJobsScriptRoot=/home/site/wwwroot \\\n    AzureFunctionsJobHost__Logging__Console__IsEnabled=true\n\n COPY . /home/site/wwwroot\n\n RUN cd /home/site/wwwroot &amp;&amp; \\\n    npm install &amp;&amp; \\\n    npm run build \n</code></pre>\n\n<p>This builds the dist folder within the container.</p>\n"}], "owner": {"reputation": 1696, "user_id": 1079602, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hi0uj.png?s=128&g=1", "display_name": "SSH This", "link": "https://stackoverflow.com/users/1079602/ssh-this"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 57594788, "answer_count": 1, "score": 0, "last_activity_date": 1572946079, "creation_date": 1565818012, "last_edit_date": 1572946079, "question_id": 57502285, "link": "https://stackoverflow.com/questions/57502285/typescript-not-building-in-container-based-azure-function-app", "title": "Typescript not building in Container-based Azure Function App", "body": "<p>I am deploying to an Azure Function App from a container inside Azure Container Registry. </p>\n\n<p>I initially used the <code>func init</code> command (chose typescript option), and added some code using the service bus topic trigger template. When I run <code>npm start</code> locally, i can get it to work. There is a \"prestart\" command that builds the typescript, inside the package.json, it looks like</p>\n\n<pre><code>\"prestart\": \"npm run build &amp;&amp; func extensions install\",\n</code></pre>\n\n<p>The build creates a dist directory so when it starts, I can see this:</p>\n\n<pre><code>[8/14/19 8:45:43 PM] 1 functions loaded\n</code></pre>\n\n<p>All is good. The problems start when I deploy this function to my function app. I am deploying from the Azure Container Registry. </p>\n\n<p>Via Kudu, I can see the container error logs:</p>\n\n<pre><code>2019-08-14T20:51:05.870505061Z       The following 1 functions are in error:\n2019-08-14T20:51:05.870515162Z       ehmTopicTrigger: Invalid script file name configuration. The 'scriptFile' property is set to a file that does not exist.\n2019-08-14T20:51:05.870540263Z       \n</code></pre>\n\n<p>When I run <code>func start</code> locally and my dist directory doesn't exist, I get the exact same error. This leads me to believe that when the docker container starts in the Function App, it is not running <code>npm start</code> (or for whatever reason, its not building and creating <code>dist</code>).</p>\n\n<p>I don't think committing and deploying the <code>dist</code> directory is the answer, because the .gitignore provided by the template includes /dist.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["typescript", "ramda.js"], "comments": [{"owner": {"reputation": 1376, "user_id": 2616735, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003840053093/picture?type=large", "display_name": "Curtis Fenner", "link": "https://stackoverflow.com/users/2616735/curtis-fenner"}, "edited": false, "score": 0, "creation_date": 1565827547, "post_id": 57502274, "comment_id": 101475572, "body": "Are the versions of TypeScript and all the compilation flags the same between your machine and the build machine?"}, {"owner": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "reply_to_user": {"reputation": 1376, "user_id": 2616735, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003840053093/picture?type=large", "display_name": "Curtis Fenner", "link": "https://stackoverflow.com/users/2616735/curtis-fenner"}, "edited": false, "score": 0, "creation_date": 1565851625, "post_id": 57502274, "comment_id": 101479675, "body": "I run yarn build both on production and development. Tsconfig.json is same. Typescript version is read from package.json."}, {"owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "edited": false, "score": 0, "creation_date": 1565856828, "post_id": 57502274, "comment_id": 101481384, "body": "are you using a <i>lock file</i> for your deps? Try to delete your <i>node_modules</i> and your package manager cache... and then install everything again :)"}], "answers": [{"tags": [], "owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "is_accepted": false, "score": 0, "last_activity_date": 1565856579, "creation_date": 1565856579, "answer_id": 57506675, "question_id": 57502274, "link": "https://stackoverflow.com/questions/57502274/typescript-in-ramda-is-suddenly-giving-an-error/57506675#57506675", "title": "Typescript in ramda is suddenly giving an error", "body": "<p>this works just fine for me...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface Thing {\n  summarize: boolean;\n  dataField: string;\n}\n\nconst foo = R.pipe&lt;Thing[], Thing[], string[]&gt;(\n  R.filter(R.propEq('summarize', false)),\n  R.pluck('dataField'),\n);\n\nfoo([\n  { summarize: false, dataField: 'hello world' },\n  { summarize: true, dataField: 'hello galaxy' },\n  { summarize: true, dataField: 'hello universe' },\n]);\n</code></pre>\n\n\n\n<ul>\n<li>not that <code>R.map(R.prop('dataField'))</code> is equal to <code>R.pluck('dataField')</code></li>\n<li>if you don't explicitly pass types to <code>R.pipe</code>, your pipe will output <code>unknown[]</code>.</li>\n</ul>\n"}], "owner": {"reputation": 4613, "user_id": 1572526, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/425d70affe3cc8d12b2311ed9d7935ec?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/1572526/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565856579, "creation_date": 1565817954, "question_id": 57502274, "link": "https://stackoverflow.com/questions/57502274/typescript-in-ramda-is-suddenly-giving-an-error", "title": "Typescript in ramda is suddenly giving an error", "body": "<p>I got this typescript error on production when I build my project (reactjs starter + typescript)</p>\n\n<pre><code>TypeScript error: Argument of type '&lt;T&gt;(list: readonly Record&lt;\"dataField\", T&gt;[]) =&gt; T[]' is not assignable to parameter of type '(x: K extends readonly (infer U)[] ? U[] : K extends Dictionary&lt;infer U&gt; ? Dictionary&lt;U&gt; : never) =&gt; {}[]'.\n  Types of parameters 'list' and 'x' are incompatible.\n    Type 'K extends readonly (infer U)[] ? U[] : K extends Dictionary&lt;infer U&gt; ? Dictionary&lt;U&gt; : never' is not assignable to type 'readonly Record&lt;\"dataField\", {}&gt;[]'.\n      Type '(K extends Dictionary&lt;infer U&gt; ? Dictionary&lt;U&gt; : never) | {}[]' is not assignable to type 'readonly Record&lt;\"dataField\", {}&gt;[]'.\n        Type 'K extends Dictionary&lt;infer U&gt; ? Dictionary&lt;U&gt; : never' is not assignable to type 'readonly Record&lt;\"dataField\", {}&gt;[]'.\n          Type 'Dictionary&lt;{}&gt;' is missing the following properties from type 'readonly Record&lt;\"dataField\", {}&gt;[]': length, concat, join, slice, and 18 more.\n            Type 'Dictionary&lt;any&gt;' is not assignable to type 'readonly Record&lt;\"dataField\", {}&gt;[]'.\n              Type 'any[] | Dictionary&lt;any&gt;' is not assignable to type 'readonly Record&lt;\"dataField\", {}&gt;[]'.\n                Type 'Dictionary&lt;any&gt;' is missing the following properties from type 'readonly Record&lt;\"dataField\", {}&gt;[]': length, concat, join, slice, and 18 more.  TS2345\n\n    261 | export const getColumnsToGroup = R.pipe(\n    262 |   R.filter(R.propEq('summarize', false)),\n  &gt; 263 |   R.map(R.prop('dataField'))\n        |   ^\n    264 | );\n    265 |\n    266 | export const groupBimInstances = (columnsToGroup: IBootstrapTableColumnConfig[]) =&gt; R.pipe(\n</code></pre>\n\n<p>I don't get this error on my development machine. I deployed many times and this suddenly occured today.</p>\n\n<p>Don't really know what it's about.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "jhipster"], "comments": [{"owner": {"reputation": 2441, "user_id": 6816518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MpJyjagijP8/AAAAAAAAAAI/AAAAAAAAAgM/JNeyZ_dDCTQ/photo.jpg?sz=128", "display_name": "alt255", "link": "https://stackoverflow.com/users/6816518/alt255"}, "edited": false, "score": 0, "creation_date": 1565817992, "post_id": 57502244, "comment_id": 101473531, "body": "can you share the template code for <code>indergartenclass.component.html</code> ?"}, {"owner": {"reputation": 282, "user_id": 9301293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/476e1284f6710238a2ef02c523ddc027?s=128&d=identicon&r=PG&f=1", "display_name": "Y_Moshe", "link": "https://stackoverflow.com/users/9301293/y-moshe"}, "edited": false, "score": 0, "creation_date": 1565818336, "post_id": 57502244, "comment_id": 101473636, "body": "the error says Property &#39;subject&#39; does not exist on type &#39;NgForm&#39;, find where u trying to access that property and try to fix it :)"}, {"owner": {"reputation": 2270, "user_id": 1759063, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hJfRp.jpg?s=128&g=1", "display_name": "Ilya Yevlampiev", "link": "https://stackoverflow.com/users/1759063/ilya-yevlampiev"}, "edited": false, "score": 0, "creation_date": 1565818659, "post_id": 57502244, "comment_id": 101473738, "body": "guys, I have already found the problem itself, spending a lot of tyme parsing the template with my eyes... the question is how to find the wrong place in principle when the stacktrace point to some odd place in the template, not convertable to the real html template characters position"}, {"owner": {"reputation": 2270, "user_id": 1759063, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hJfRp.jpg?s=128&g=1", "display_name": "Ilya Yevlampiev", "link": "https://stackoverflow.com/users/1759063/ilya-yevlampiev"}, "edited": false, "score": 0, "creation_date": 1601985542, "post_id": 57502244, "comment_id": 113570531, "body": "@Ga&#235;l Marziou have you faced the above problem?"}], "owner": {"reputation": 2270, "user_id": 1759063, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/hJfRp.jpg?s=128&g=1", "display_name": "Ilya Yevlampiev", "link": "https://stackoverflow.com/users/1759063/ilya-yevlampiev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1601985552, "creation_date": 1565817785, "last_edit_date": 1601985552, "question_id": 57502244, "link": "https://stackoverflow.com/questions/57502244/how-to-define-the-exact-place-of-wrong-variable-in-html-component-from-the-types", "title": "How to define the exact place of wrong variable in html component from the TypeScript stacktrace?", "body": "<p>For my Angular app I have a stacktrace like:</p>\n\n<p><code>ERROR in src/main/webapp/app/businesslogic/kindergartenclass/create.kindergartenclass.component.html(1,2314): : Property 'subject' does not exist on type 'NgForm'.</code></p>\n\n<p>How can I identify the original problem point in the html markup of several lines. I tried to concatinate all rows to single and try to point 2314 there, put it definetely not pointing to any variable there. </p>\n\n<p>Guys, especially those who vote for 'close', I have already found the problem itself, spending a lot of time parsing the template with my eyes... the question is how to find the wrong place in principle when the stacktrace point to some odd place in the template, not convertible to the real html template characters position. The represented stacktrace was just put as the example here.</p>\n\n<p>The problem variable was fount at the template at 22:66 position and I still have NO IDEA how to use 1:SEVERALTHOUSANDSANDSOMELITTLETAIL format to identify the problem places if I still have the stacktrace and nothing else.  </p>\n\n<p>Hey, Angular guys, how do you find yourself patient enough to make debug ever possible under such conditions?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1565815665, "post_id": 57501741, "comment_id": 101472898, "body": "Are the variables of the same type ?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1565815771, "post_id": 57501741, "comment_id": 101472918, "body": "If they are of the same type you don&#39;t need to declare the variable, you can destructure into existing variables: <a href=\"https://www.typescriptlang.org/play/#code/DYUwLgBA9hC8EG8IBMCGZUC4IEYIF8AoUSJNDAuCaAbkIAoFzV8qoBKIA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1565816627, "post_id": 57501741, "comment_id": 101473140, "body": "No, the functions return <code>any</code> but I can type the <code>data</code>s differently ( <code>{data}:OverlayEventDetail</code> + <code>{data}:{data:CreateBlahMutation}</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1565817788, "post_id": 57502029, "comment_id": 101473484, "body": "This works except for adding a type: <code>({data}:{data:CreateShopMutation} = await API.graphql(graphqlOperation(mutations.createShop, {input})));</code> =&gt;  <code>&#39;CreateShopMutation&#39; only refers to a type, but is being used as a value here.</code>"}, {"owner": {"reputation": 3524, "user_id": 2962686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mzOZG.jpg?s=128&g=1", "display_name": "Borre Mosch", "link": "https://stackoverflow.com/users/2962686/borre-mosch"}, "reply_to_user": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1565856273, "post_id": 57502029, "comment_id": 101481170, "body": "If you really need to type your function, you can do it like so: <code>({data} = (await API.graphql(graphqlOperation(mutations.createShop, {input}))) as {data:CreateShopMutation});</code>"}, {"owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "edited": false, "score": 0, "creation_date": 1565936387, "post_id": 57502029, "comment_id": 101506772, "body": "Definitely need to type the function...GQL has some pretty epic typing!! Sadly this is now assigning <code>data:any</code> :("}], "tags": [], "owner": {"reputation": 3524, "user_id": 2962686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mzOZG.jpg?s=128&g=1", "display_name": "Borre Mosch", "link": "https://stackoverflow.com/users/2962686/borre-mosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1565816627, "creation_date": 1565816627, "answer_id": 57502029, "question_id": 57501741, "link": "https://stackoverflow.com/questions/57501741/redeclare-destructured-variables-in-typescript/57502029#57502029", "title": "Redeclare destructured variables in Typescript", "body": "<p>You can do the assignment without declaring the variable. You will need to add parentheses around the statement though:</p>\n\n<p><code>({data} = await API.graphql(graphqlOperation(mutations.createShop, {input})));</code></p>\n"}, {"tags": [], "owner": {"reputation": 2534, "user_id": 10609635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e433b22da80480e4d7d811ceec10430?s=128&d=identicon&r=PG&f=1", "display_name": "SpencerPark", "link": "https://stackoverflow.com/users/10609635/spencerpark"}, "is_accepted": true, "score": 1, "last_activity_date": 1565824624, "creation_date": 1565824624, "answer_id": 57503149, "question_id": 57501741, "link": "https://stackoverflow.com/questions/57501741/redeclare-destructured-variables-in-typescript/57503149#57503149", "title": "Redeclare destructured variables in Typescript", "body": "<p>Although you can't reuse the name, you can still destructure while assigning to a different variable:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let {data: apiData}: {data:CreateBlahMutation} = await API.graphql(graphqlOperation(mutations.createShop, {input}));\n</code></pre>\n\n<p>This will assign the <code>data</code> property of <code>await API.graphql(...)</code> to the variable <code>apiData</code>.</p>\n"}], "owner": {"reputation": 1098, "user_id": 5746996, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/35dc540cf54e399c576d518d1ef30310?s=128&d=identicon&r=PG&f=1", "display_name": "Tobin", "link": "https://stackoverflow.com/users/5746996/tobin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 57503149, "answer_count": 2, "score": 0, "last_activity_date": 1565824624, "creation_date": 1565815108, "last_edit_date": 1565816655, "question_id": 57501741, "link": "https://stackoverflow.com/questions/57501741/redeclare-destructured-variables-in-typescript", "title": "Redeclare destructured variables in Typescript", "body": "<p>I want to use destructuring in Typescript GraphQL. A lot of the API functions use <code>data</code> as the first level key. How can I do the below without a Typescript/TSLint error. Changing to <code>var</code> will result in it wanting to be <code>let</code>, which <code>Cannot redeclare block-scoped variable</code> &amp; <code>block-scoped used before its declaration</code>. <code>const</code> of course is an error. Removing the 2nd <code>let</code> will not allow me to destructure the 2nd <code>data</code>.</p>\n\n<pre><code>let {data}:OverlayEventDetail = await modal.onDidDismiss();\nif (data.save) {\n  if (shop) {\n    //update\n  } else {\n    const input: CreateShopInput = {\n      name: typeof data.name === 'string' &amp;&amp; data.name.length &gt; 0 ? data.name : null,\n      keywords: []\n    };\n    let {data}:{data:CreateBlahMutation} = await API.graphql(graphqlOperation(mutations.createShop, {input}));\n  }\n}\n</code></pre>\n\n<p>My current solution is with both <code>const {data}</code> and <code>// @ts-ignore</code> on the <code>name</code> line.</p>\n"}, {"tags": ["typescript", "protractor", "continuous-integration", "continuous-deployment", "cucumberjs"], "answers": [{"tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1566333420, "creation_date": 1566333420, "answer_id": 57581209, "question_id": 57501555, "link": "https://stackoverflow.com/questions/57501555/cucumberjs-protractor-typescript-dynamic-tags-variables-on-feature-file/57581209#57581209", "title": "CucumberJs - Protractor - TypeScript - Dynamic Tags/Variables on .feature file", "body": "<p>In a nutshell, create 2 json files with a set of variables. </p>\n\n<p>Then in your config file create an if/else block where you assign either one to browser.params depending on a parameter that you pass to protractor</p>\n\n<p>Start protractor passing the name of environment under test as an argument</p>\n\n<p>Let me know if you need a full answer</p>\n"}], "owner": {"reputation": 606, "user_id": 4651582, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0Irok.png?s=128&g=1", "display_name": "Bruno Soko", "link": "https://stackoverflow.com/users/4651582/bruno-soko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1566333420, "creation_date": 1565814249, "last_edit_date": 1565814626, "question_id": 57501555, "link": "https://stackoverflow.com/questions/57501555/cucumberjs-protractor-typescript-dynamic-tags-variables-on-feature-file", "title": "CucumberJs - Protractor - TypeScript - Dynamic Tags/Variables on .feature file", "body": "<p>I'm trying to resolve the problem in which I have different environments, and in all of them, or most, I have different features enabled.\nWhat I am trying to achieve, is to automate as much as possible in the CI/CD environment with the variables that it has, so I would like to read those variables and run the tests as they are set up, so, I would like to have only one job that I can reuse and read/use from, put them in the protractor config file, or somehow add them to the features files. Is that possible? Is there anyway I could set <code>@tags</code> in the feature file? so I do not have to create different jobs for the different combination of features/environments? </p>\n"}, {"tags": ["typescript", "typescript2.0"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1565871827, "post_id": 57501357, "comment_id": 101486825, "body": "If <code>type</code> is <code>&quot;audio&quot;</code>, what you you want <code>validator</code> to accept?"}], "answers": [{"comments": [{"owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565814383, "post_id": 57501499, "comment_id": 101472441, "body": "Thanks for reaching out. This way all the fields of theme are of type <code>string</code>. As i said before, <code>fields</code> can be of different types."}, {"owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "reply_to_user": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565814803, "post_id": 57501499, "comment_id": 101472581, "body": "No problem! Just trying to help. So is it assumed that the value being passed into the validator is of the same type as <code>type</code>? Or is the validator&#39;s parameter type completely independent of the <code>type</code> property of the Field"}, {"owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565815202, "post_id": 57501499, "comment_id": 101472741, "body": "<code>type</code> value is irrelevant to the type <code>validator</code> inputs. Actually <code>validator</code> parameter value could be <code>string</code>, <code>number</code> or <code>boolean</code>. That&#39;s why i&#39;m trying to pass the type as a generator."}, {"owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "reply_to_user": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565815403, "post_id": 57501499, "comment_id": 101472807, "body": "If that&#39;s the case, then you can forget about the generics all together and just declare the parameter <code>val</code> as type <code>FieldType</code>"}, {"owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "reply_to_user": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565815556, "post_id": 57501499, "comment_id": 101472864, "body": "The type <code>T</code> isn&#39;t used anywhere in your original example except as to declare the type of the parameter. Usually generics are used in more than one location to express that multiple values are of the same type."}, {"owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1565816659, "post_id": 57501499, "comment_id": 101473148, "body": "<code>&#39;string&#39; | &#39;number&#39; | &#39;boolean&#39;</code>  is not the same as <code>string | number | boolean</code> and in case i follow your suggested route then i have to do type checking inside <code>validator</code> which doesn&#39;t sound much typescriptish  to me."}], "tags": [], "owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "is_accepted": false, "score": 0, "last_activity_date": 1565813991, "creation_date": 1565813991, "answer_id": 57501499, "question_id": 57501357, "link": "https://stackoverflow.com/questions/57501357/object-literal-which-implements-an-interface-which-in-turn-uses-a-generic-method/57501499#57501499", "title": "Object literal which implements an interface which in turn uses a generic method", "body": "<p>Your last example will work, except you need to declare the type of <code>T</code> when you use the <code>Field</code> interface (both in the <code>Theme</code> interface declaration and in the constant <code>fields</code> declaration), not when <code>validator</code> is declared:</p>\n\n<pre><code>export type MultiMedia = 'image' | 'audio' | 'video';\nexport type FieldType = 'string' | 'number' | 'boolean' | MultiMedia;\n\nexport interface Field&lt;T&gt; {\n  name: string,\n  label: string,\n  type: FieldType,\n  validator: (val: T) =&gt; boolean,\n  bounds: { lower: number; upper: number }\n}\n\nexport interface Theme {\n  title: string,\n  logoPath: string,\n  tags: string[],\n  fields: Field&lt;string&gt;[]\n}\n\nconst fields: Field&lt;string&gt;[] = [\n  {\n    name: \"firstName\",\n    label: \"First Name\",\n    type: \"string\",\n    bounds: { lower: 1, upper: 1 },\n    validator: (val: string) =&gt; {\n     return val.length &gt; 20;\n    }\n  }\n]\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Also, if you want to constrain the type of <code>T</code> to just be one of <code>FieldType</code>, then you can do:</p>\n\n<pre><code>export interface Field&lt;T extends FieldType&gt; {\n  name: string,\n  label: string,\n  type: FieldType,\n  validator: (val: T) =&gt; boolean,\n  bounds: { lower: number; upper: number }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "edited": false, "score": 0, "creation_date": 1566036814, "post_id": 57509732, "comment_id": 101535509, "body": "This is exactly what i need. Thanks for taking time to provide such a detailed answer."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1565872385, "creation_date": 1565872385, "answer_id": 57509732, "question_id": 57501357, "link": "https://stackoverflow.com/questions/57501357/object-literal-which-implements-an-interface-which-in-turn-uses-a-generic-method/57509732#57509732", "title": "Object literal which implements an interface which in turn uses a generic method", "body": "<p>I think the issue here is that <code>Field</code> is fundamentally a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#union-types\" rel=\"nofollow noreferrer\">union</a>, since you want it to be <em>either</em> a <code>string</code> field, <em>or</em> a <code>number</code> field, etc etc.  The way I'd do this is make a generic <code>SpecificField&lt;F&gt;</code> interface that represents the constraint from each field type <code>F</code> to its validator, and then make <code>Field</code> a type alias to the union of all <code>SpecificField&lt;F&gt;</code> types:</p>\n\n<p>First let's define the field mapping so we know what the validator should accept</p>\n\n<pre><code>interface FieldMapping {\n  image: HTMLImageElement; // guessing\n  audio: HTMLAudioElement; // guessing\n  video: HTMLVideoElement; // guessing\n  string: string;\n  number: number;\n  boolean: boolean;\n}\n</code></pre>\n\n<p>And now the <code>SpecificField&lt;F&gt;</code> interface:</p>\n\n<pre><code>export interface SpecificField&lt;F extends FieldType&gt; {\n  name: string;\n  label: string;\n  type: F;\n  validator: (val: FieldMapping[F]) =&gt; boolean;\n  bounds: { lower: number; upper: number };\n}\n</code></pre>\n\n<p>You can see how <code>SpecificField&lt;string&gt;</code> will have <code>type</code> of <code>\"string\"</code> and a <code>validator</code> that accepts only <code>string</code> values.  Then we make <code>Field</code> be a union, which can happen like this:</p>\n\n<pre><code>type Field = { [F in FieldType]: SpecificField&lt;F&gt; }[FieldType];\n</code></pre>\n\n<p>This uses a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> to get each field as a property and then gets the union by <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">looking up</a> all the properties.  You can verify that it evaluates to:</p>\n\n<pre><code>type Field = SpecificField&lt;\"string\"&gt; | SpecificField&lt;\"number\"&gt; |\n  SpecificField&lt;\"boolean\"&gt; | SpecificField&lt;\"image\"&gt; | SpecificField&lt;\"audio\"&gt; | \n  SpecificField&lt;\"video\"&gt;\n</code></pre>\n\n<p>Then you can verify that the following works:</p>\n\n<pre><code>const fields: Field[] = [\n  {\n    name: \"firstName\",\n    label: \"First Name\",\n    type: \"string\",\n    bounds: { lower: 1, upper: 1 },\n    validator: (val: string) =&gt; {\n      return val.length &gt; 20;\n    }\n  }\n];\n</code></pre>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLgBDAnmYcCyBXANjAlm4AE1wEM4BeOAIlwFsSBzYKuAH2pI2IhfaoDdchYDwDcAKFCRYCZKgBiuYFkIAVORWoBnGFFwA7Br2r6MtAEbAoxquYgQswEvuOYc+IqQniDMKwDMSAGMFJRU0EjAwAwY4AG9xODg6RmAALjgACVU0ABkASXomAFFHWmB9GAkkzm4M7LyAQS5cCFLgcsrquEFhCHqc3IA1IRF2zqrEuB09QwyZmO7TCysM5csobrsHJ30M7cdnCQBfcUlwaHhfAODUAGUUINx-XCDFZUIAHnk4UD99QhaODvFTqFAAPniU30JHK810iymWBIliw8NmDG6SBQGXk3X4JCwQhIMGgGQAFAS0cCwoQIlEYgBteQAXQAlBRIQddlsIBgAVoMnE4FgIAB3VZwdZWURwDBRSXSqBwY4nM7Y0IfTTC5nJfQ0j5g4AsjIPYBPF5vWnfSHHZm0o0s7xSS56vxQQIhOCqAAWHVQCSSeBgjnRiKSooYEAACiSfWHDFjGILpgjDIynVMXh8UyDCBm1eIghB9Do4NmVLnaRnNIypoGklLYelqC8oDoAHLNqgAGimEZRygyVEU7fgXfKvf7shx2jTRj7jbgdn5gKFIvFkoAjD25QqoBktyrF42qcTSQe4JTCQmGBzyJCG0uoMAYBgoPqqQA6RyGGA+uBIQAJgABm6JJTgg8RMyAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57509732, "answer_count": 2, "score": 1, "last_activity_date": 1565872385, "creation_date": 1565813261, "question_id": 57501357, "link": "https://stackoverflow.com/questions/57501357/object-literal-which-implements-an-interface-which-in-turn-uses-a-generic-method", "title": "Object literal which implements an interface which in turn uses a generic method", "body": "<p>I have the following custom types and interfaces:</p>\n\n<pre><code>export type MultiMedia = 'image' | 'audio' | 'video';\nexport type FieldType = 'string' | 'number' | 'boolean' | MultiMedia;\n\nexport interface Field {\n  name: string,\n  label: string,\n  type: FieldType,\n  validator: &lt;T&gt;(val: T) =&gt; boolean,\n  bounds: { lower: number; upper: number }\n}\n\nexport interface Theme {\n  title: string,\n  logoPath: string,\n  tags: string[],\n  fields: Field[]\n}\n</code></pre>\n\n<p>Since field type is different from one to the other, i have defined <code>validator</code> as a generic method in <code>Field</code> interface. When i want to make an object literal which implements <code>Field</code> interface typescript complains</p>\n\n<blockquote>\n  <p>Type '(val: string) => boolean' is not assignable to type '(val: T) => boolean.</p>\n</blockquote>\n\n<pre><code>const fields: Field[] = [\n  {\n    name: \"firstName\",\n    label: \"First Name\",\n    type: \"string\",\n    bounds: { lower: 1, upper: 1 },\n    validator: (val: string) =&gt; {\n     return val.length &gt; 20;\n    }\n  }\n</code></pre>\n\n<p>I can change <code>Field</code> interface as follows to solve the problem.</p>\n\n<pre><code>export interface Field&lt;T&gt; {\n  name: string,\n  label: string,\n  type: FieldType,\n  validator: (val: T) =&gt; boolean,\n  bounds: { lower: number; upper: number }\n}\n</code></pre>\n\n<p>But then typescript complains about <code>fields</code> property in <code>Theme</code> interface.</p>\n\n<blockquote>\n  <p>Generic Type 'Field' requires 1 type argument(s).</p>\n</blockquote>\n"}, {"tags": ["typescript", "vue.js", "svg"], "answers": [{"tags": [], "owner": {"reputation": 60698, "user_id": 6277151, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IiQqGfyhC7o/AAAAAAAAAAI/AAAAAAAAAbc/VpCYOZzASQc/photo.jpg?sz=128", "display_name": "tony19", "link": "https://stackoverflow.com/users/6277151/tony19"}, "is_accepted": false, "score": 0, "last_activity_date": 1566107318, "creation_date": 1566107318, "answer_id": 57541997, "question_id": 57501240, "link": "https://stackoverflow.com/questions/57501240/cannot-find-module-logo-svginline-typescript/57541997#57541997", "title": "Cannot find module logo.svg?inline - Typescript", "body": "<p><code>vue-svg-loader</code> does not support an <code>inline</code> option, so that query string would be considered part of the module path, leading to the <code>Cannot find module</code> error.</p>\n\n<p>As you discovered, removing the option resolves the error. You've already properly declared the <code>svg</code> module type definition, so nothing else needs to be done.</p>\n"}], "owner": {"reputation": 12204, "user_id": 881894, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-PoAJXbkM7UQ/AAAAAAAAAAI/AAAAAAAAAAs/Xi6TKFY8WWw/photo.jpg?sz=128", "display_name": "Alexander Kim", "link": "https://stackoverflow.com/users/881894/alexander-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1566107318, "creation_date": 1565812688, "last_edit_date": 1565824359, "question_id": 57501240, "link": "https://stackoverflow.com/questions/57501240/cannot-find-module-logo-svginline-typescript", "title": "Cannot find module logo.svg?inline - Typescript", "body": "<p>Using package: <a href=\"https://www.npmjs.com/package/vue-svg-loader\" rel=\"nofollow noreferrer\">vue-svg-loader</a>.</p>\n\n<p>Created <code>svg.d.ts</code> file with the following contents:</p>\n\n<pre><code>declare module '*.svg' {\n  const content: any\n  export default content\n}\n</code></pre>\n\n<p>Then using in a component this way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import register from '@/assets/svg/register.svg?inline'\n</code></pre>\n\n<p>Causes an error: <code>Typescript Cannot find module '@/assets/svg/register.svg?inline'</code></p>\n\n<p>But if i remove <code>?inline</code> it stops complaining. How to correctly declare svg module in <code>.d.ts</code> file?</p>\n"}, {"tags": ["angular", "typescript", "sequence"], "comments": [{"owner": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565812582, "post_id": 57501173, "comment_id": 101471734, "body": "Just a hunch as i no longer work with Angular professionally, but have you tried wrapping a <code>setTimeout</code> around your <code>transition</code>?"}, {"owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565813193, "post_id": 57501173, "comment_id": 101471964, "body": "@r3wt - I did not as I thought there had to be a native &quot;Angular/Typescript&quot; way of accomplishing this."}, {"owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "reply_to_user": {"reputation": 4243, "user_id": 2401804, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/chtg9.jpg?s=128&g=1", "display_name": "r3wt", "link": "https://stackoverflow.com/users/2401804/r3wt"}, "edited": false, "score": 0, "creation_date": 1565814651, "post_id": 57501173, "comment_id": 101472536, "body": "@r3wt also, I need the animation to not have a delay on it when a user clicks a link to navigate to another page.  The setTimeout is unfortunately not an option."}], "answers": [{"tags": [], "owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": true, "score": 1, "last_activity_date": 1565819477, "creation_date": 1565819477, "answer_id": 57502514, "question_id": 57501173, "link": "https://stackoverflow.com/questions/57501173/why-isnt-my-angular-sequence-method-working/57502514#57502514", "title": "Why isn&#39;t my Angular Sequence Method working?", "body": "<p>There are two problems.</p>\n\n<ol>\n<li><p>You need to change your transition from <code>* =&gt; void</code> to <code>:enter</code> or <code>void =&gt; *</code>.  What you have right now is only for leaving the view.</p></li>\n<li><p>More importantly your sequence will never work because your elements are on different components.  In about the animation will fail because there are no <code>nav &gt; a</code> elements and in header the animation will fail because there are no <code>p</code> elements.</p></li>\n</ol>\n\n<p>The best you can do with number 2 is add <code>{optional: true }</code> as the third parameter to <code>query</code>, but the animations will begin at the same time.  Or, you could just create a second animation for the <code>p</code> elements and delay the ease-in longer to simulate the stagger effect.</p>\n"}], "owner": {"reputation": 547, "user_id": 10022456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/280ea42f72565038ee34a59abc5d3077?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/10022456/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 57502514, "answer_count": 1, "score": 0, "last_activity_date": 1565819477, "creation_date": 1565812333, "last_edit_date": 1565813880, "question_id": 57501173, "link": "https://stackoverflow.com/questions/57501173/why-isnt-my-angular-sequence-method-working", "title": "Why isn&#39;t my Angular Sequence Method working?", "body": "<p>Why isn't my Angular Sequence Method working (see entry-animation.ts code)?  The console is not throwing any errors and VS Code is compiling the typescript without any issues.</p>\n\n<p>I am trying to get the <code>h1, h2, nav a</code> to animate before the <code>&lt;p&gt;</code> tags. I cannot delay the animation too long because I have navigation links that animate the <code>&lt;p&gt;</code> tags when the page is navigated to.  Any help is much appreciated!</p>\n\n<p><strong>Stackblitz Example:</strong> <a href=\"https://stackblitz.com/edit/angular-4gthrs?file=null\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4gthrs?file=null</a></p>\n\n<p><strong>entry-animations.ts</strong></p>\n\n<pre><code>import {trigger, animate, style, transition, stagger, query, state, sequence} from '@angular/animations';\n\nexport const headingAnimation = trigger('headingAnimation', [\n  transition('* =&gt; void', sequence([ \n    query('nav a', [\n      style({ opacity: 0 }),\n      animate('.25s .4s ease-in', style({ opacity: 1 }))\n    ]),\n    query('p', [ \n      style({ opacity: 0, transform: 'translateY(-10px)' }),\n      stagger(400, [\n          animate('0.35s .4s ease-in', style({ opacity: 1, transform: 'translateY(0)' }))\n      ])\n    ])\n  ])) \n]);\n</code></pre>\n\n<p><strong>header.component.html</strong></p>\n\n<pre><code>&lt;header id=\"content-container\" @headingAnimation&gt;\n&lt;h1&gt;Title&lt;/h1&gt;\n&lt;h2&gt;Subtitle&lt;/h2&gt;\n\n&lt;nav&gt;\n    &lt;a routerLink=\"/\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact: true}\"&gt;Home&lt;/a&gt;\n    &lt;a routerLink=\"about\" routerLinkActive=\"active\" [routerLinkActiveOptions]=\"{exact: true}\"&gt;About&lt;/a&gt;\n&lt;/nav&gt;\n</code></pre>\n\n<p></p>\n\n<p><strong>about.component.html</strong></p>\n\n<pre><code>&lt;div @headingAnimation&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus lorem libero, volutpat et laoreet ut, placerat sed urna.&lt;/p&gt;\n\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus lorem libero, volutpat et laoreet ut, placerat sed urna.&lt;/p&gt;\n\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus lorem libero, volutpat et laoreet ut, placerat sed urna.&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "axios"], "comments": [{"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 3, "creation_date": 1565809216, "post_id": 57500541, "comment_id": 101470534, "body": "You have a typo <code>const sendRecording = () =&gt; async dispatch =&gt; {</code> should say <code>const sendRecording = async dispatch =&gt; {</code>. Otherwise, <code>sendRecord</code> will return but not invoke the function which contains <code>console.log(&#39;3&#39;)</code>"}, {"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 1, "creation_date": 1565809791, "post_id": 57500541, "comment_id": 101470753, "body": "To add a bit on what junvar said, your current setup of <code>() =&gt; async dispatch { ...</code> is literally assigning sendRecording to a function that returns an asynchronous function."}], "answers": [{"comments": [{"owner": {"reputation": 4010, "user_id": 2825551, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/vCq8n.jpg?s=128&g=1", "display_name": "Jhecht", "link": "https://stackoverflow.com/users/2825551/jhecht"}, "edited": false, "score": 1, "creation_date": 1565809692, "post_id": 57500651, "comment_id": 101470715, "body": "the <code>stopRecording</code> function would still need the <code>async</code> keyword."}], "tags": [], "owner": {"reputation": 361, "user_id": 9471313, "user_type": "registered", "profile_image": "https://graph.facebook.com/361221027694489/picture?type=large", "display_name": "Andy", "link": "https://stackoverflow.com/users/9471313/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1565809760, "last_edit_date": 1565809760, "creation_date": 1565809652, "answer_id": 57500651, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57500651#57500651", "title": "Why is the function never reached?", "body": "<p>why you sending in the dispatch params?\ntry removing it to :</p>\n\n<pre><code>const sendRecording = async () =&gt; {\n  console.log('3');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({});\n  try {\n    const res = await axios.post('/api/recording', body, config);\n  } catch (err) {\n    const errors = err.response.data.errors;\n  }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1005, "user_id": 1806642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/G6oSL.jpg?s=128&g=1", "display_name": "Sylens", "link": "https://stackoverflow.com/users/1806642/sylens"}, "is_accepted": true, "score": 1, "last_activity_date": 1565809788, "creation_date": 1565809788, "answer_id": 57500683, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57500683#57500683", "title": "Why is the function never reached?", "body": "<p>What you have done was a closure function, which is a function inside a function\nyou can find out more about that here: <a href=\"https://javascript.info/closure\" rel=\"nofollow noreferrer\">https://javascript.info/closure</a>.</p>\n\n<p>The way you have defined the function <code>sendRecording</code> is incorrect for this usage.</p>\n\n<p>It should be something like this:</p>\n\n<pre><code>const sendRecording = async (dispatch) =&gt; { \n...\n}\n</code></pre>\n\n<p>not sure why you have an argument called dispatch, especially since it's not used.\nyou can now execute this function by simply calling </p>\n\n<pre><code>sendRecording();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 11699611, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157042053931777/picture?type=large", "display_name": "Marc Monserrat", "link": "https://stackoverflow.com/users/11699611/marc-monserrat"}, "is_accepted": false, "score": 0, "last_activity_date": 1565869789, "creation_date": 1565869789, "answer_id": 57509205, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached/57509205#57509205", "title": "Why is the function never reached?", "body": "<p>Thank you very much to all of you!\nI don't know what I did there ^^\"</p>\n\n<p>The dispatch was there because I was using it but I removed some code before posting it here but forgot to remove the dispatch.</p>\n\n<p>It works perfectly anyway, thank you.</p>\n"}], "owner": {"reputation": 37, "user_id": 11699611, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157042053931777/picture?type=large", "display_name": "Marc Monserrat", "link": "https://stackoverflow.com/users/11699611/marc-monserrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 57500683, "answer_count": 3, "score": 1, "last_activity_date": 1565869789, "creation_date": 1565809103, "question_id": 57500541, "link": "https://stackoverflow.com/questions/57500541/why-is-the-function-never-reached", "title": "Why is the function never reached?", "body": "<p>So this is probably quite simple but I can't find the solution or what is happening. I am trying to call the sendRecording from the event handler inside the handleRecorder function. But the sendRecording  is never reached:</p>\n\n<pre><code>import React from 'react';\nimport axios from 'axios';\n\ndeclare var MediaRecorder: any;\n\nconst sendRecording = () =&gt; async dispatch =&gt; {\n  console.log('3');\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const body = JSON.stringify({});\n  try {\n    const res = await axios.post('/api/recording', body, config);\n  } catch (err) {\n    const errors = err.response.data.errors;\n  }\n};\n\nconst handleRecorder = () =&gt; {\n  console.log('1');\n  sendRecording();\n  navigator.mediaDevices.getUserMedia({ audio: true }).then(stream =&gt; {\n    const mediaRecorder = new MediaRecorder(stream);\n    mediaRecorder.start();\n\n    const audioChunks: any[] = [];\n    mediaRecorder.addEventListener('dataavailable', event =&gt; {\n      audioChunks.push(event.data);\n    });\n\n    mediaRecorder.addEventListener('stop', () =&gt; {\n      console.log('2');\n      sendRecording();\n    });\n\n    setTimeout(() =&gt; {\n      mediaRecorder.stop();\n    }, 3000);\n  });\n};\n\nconst Recorder = () =&gt; {\n  return (\n    &lt;div&gt;\n      &lt;button className='btn' onClick={handleRecorder}&gt;\n        &lt;i className='fa fa-microphone' title='Record' /&gt;\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Recorder;\n</code></pre>\n\n<p>When I click the button, the console prints:\n1\n2\nBut never the 3</p>\n\n<p>It actually happens the same when I call the sendRecording function from the beginning of the handleRecorder function. </p>\n\n<p>I'm still learning, it must be something simple that I have not understood, but it is taking me ages to solve this.</p>\n"}, {"tags": ["typescript", "types", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 6598366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QNomq.png?s=128&g=1", "display_name": "LouizFC", "link": "https://stackoverflow.com/users/6598366/louizfc"}, "edited": false, "score": 0, "creation_date": 1565815472, "post_id": 57501483, "comment_id": 101472839, "body": "I cant&#39;t thank you enough. I was almost there but you simplified everything. Thank you very much."}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 1, "last_activity_date": 1565814391, "last_edit_date": 1565814391, "creation_date": 1565813918, "answer_id": 57501483, "question_id": 57500253, "link": "https://stackoverflow.com/questions/57500253/how-to-set-a-type-literal-on-a-widened-type-parameter-or-prevent-type-widening/57501483#57501483", "title": "How to set a Type Literal on a widened type parameter (or prevent type widening)?", "body": "<p>There may be a more ideal solution than this, since I usually prefer to avoid type intersects (<code>&amp;</code>) in TypeScript. Not that they're necessarily bad practice but they tend to produce less readable type hints in the tooltips on editors than when using other approaches.</p>\n\n<pre><code>interface Tag&lt;T extends string&gt; {\n  tag: T;\n}\n\ninterface Factory {\n  (name: string): Tag&lt;string&gt;;\n}\n\ninterface FactoryMapper {\n  [key: string]: Factory;\n}\n\ntype Names&lt;TMapper extends FactoryMapper&gt; = {\n  [TKey in keyof TMapper]: string;\n}\n\ntype Result&lt;TMapper extends FactoryMapper, TNames extends Names&lt;TMapper&gt;&gt; = {\n  [TKey in keyof TMapper]: ReturnType&lt;TMapper[TKey]&gt; &amp; Tag&lt;TNames[TKey]&gt;;\n}\n\nfunction implementation&lt;TMapper extends FactoryMapper&gt; (mapper: TMapper) {\n  return &lt;TNames extends Names&lt;TMapper&gt;&gt; (names: TNames) =&gt; (\n    Object.keys(mapper).reduce&lt;Partial&lt;Result&lt;TMapper, TNames&gt;&gt;&gt;(\n      (result, key) =&gt; Object.assign(\n        result,\n        { [key]: mapper[key](names[key]) }\n      ),\n      {}\n    ) as Result&lt;TMapper, TNames&gt;\n  );\n}\n\nconst factory = implementation({\n  a: name =&gt; ({ tag: name, index: 2 }),\n  b: name =&gt; ({ tag: name, name: \"Bob\" }),\n});\n\nconst result = factory({ a: \"A\", b: \"B\" } as const);\n\nresult.a.index; // the index type got inferred as number\nresult.b.name; // the name type got inferred as string\n\nresult.a.tag; // the tag type got inferred as \"A\"\nresult.b.tag; // the tag type got inferred as \"B\"\n</code></pre>\n\n<p>The key part of this solution is the definition of the <code>Result</code> type:</p>\n\n<pre><code>type Result&lt;TMapper extends FactoryMapper, TNames extends Names&lt;TMapper&gt;&gt; = {\n  [TKey in keyof TMapper]: ReturnType&lt;TMapper[TKey]&gt; &amp; Tag&lt;TNames[TKey]&gt;;\n}\n</code></pre>\n\n<p>which narrows the definition of the resulting member using the intersect. The rest of the code above should also help exemplify how to better write your type parameters for generics.</p>\n"}], "owner": {"reputation": 115, "user_id": 6598366, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QNomq.png?s=128&g=1", "display_name": "LouizFC", "link": "https://stackoverflow.com/users/6598366/louizfc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 57501483, "answer_count": 1, "score": 0, "last_activity_date": 1565814391, "creation_date": 1565807636, "last_edit_date": 1565808279, "question_id": 57500253, "link": "https://stackoverflow.com/questions/57500253/how-to-set-a-type-literal-on-a-widened-type-parameter-or-prevent-type-widening", "title": "How to set a Type Literal on a widened type parameter (or prevent type widening)?", "body": "<p>I want to create a function that produces a \"Factory\" of strong typed objects. These objects have an attribute called \"tag\" which is a <code>string</code>, but I want to make this string a <code>string literal</code>.</p>\n\n<p>This is needed to implement a somewhat \"AbstractFactory\" pattern, in other words, a group of functions that creates a object that creates the desired object, like so: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//Over Simplified Version\n\ntype Factory = {\n  a: (name: string) =&gt; { tag: name };\n  b: (name: string) =&gt; { tag: name };\n};\n\ntype Names = {\n  a: \"A\";\n  b: \"B\";\n};\n\ntype Result = {\n  a: { tag: \"A\" };\n  b: { tag: \"B\" };\n};\n\nfunction(factory): (names) =&gt; result\n</code></pre>\n\n<p>The catch is that this \"tag\" objects have extra properties, and I need the this string literal to properly use them.</p>\n\n<p>I have made various experiments with this concept, what I got is this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Implementation\n\ntype Tag&lt;T extends string&gt; = { tag: T };\n\ntype Factory&lt;\n  TKey extends string,\n  TName extends string,\n  TTag extends Tag&lt;TName&gt;\n&gt; = {\n  [key in TKey]: (name: TName) =&gt; TTag;\n};\n\ntype Names&lt;TFactory extends Factory&lt;any, any, any&gt;, TName extends string&gt; = {\n  [key in keyof TFactory]: TName;\n};\n\ntype Result&lt;\n  TFactory extends Factory&lt;any, any, any&gt;,\n  TNames extends Names&lt;TFactory, any&gt;\n&gt; = {\n  /**\n   * I am almost sure that the problem lies here, maybe because I am\n   * not passing the required generic, I just can't figure it out.\n   */\n  [key in keyof TNames]: ReturnType&lt;TFactory[key]&gt;;\n};\n\nfunction implementation&lt;\n  TKey extends string,\n  TName extends string,\n  TTag extends Tag&lt;TName&gt;,\n  TFactory extends Factory&lt;TKey, TName, TTag&gt;,\n  TNames extends Names&lt;TFactory, TName&gt;,\n  TResult extends Result&lt;TFactory, TNames&gt;\n&gt;(factory: TFactory): (names: TNames) =&gt; TResult {\n  return (names) =&gt; {\n    const keys = Object.keys(factory) as Extract&lt;keyof TFactory, string&gt;[];\n    return keys.reduce((result, key) =&gt; {\n      const name: TName = names[key];\n      (result as Record&lt;string, TTag&gt;)[key] = factory[key](name);\n      return result;\n    }, {}) as TResult;\n  };\n}\n\nconst factory = implementation({\n  a: (name: string) =&gt; ({ tag: name, index: 2 }),\n  b: (name: string) =&gt; ({ tag: name, name: \"Bob\" }),\n});\n\nconst result = factory({ a: \"A\", b: \"B\" } as const/* names */);\n\nresult.a.index; // the index type got inferred properly\nresult.b.name; // the name type got inferred properly\n\nresult.a.tag; // the tag type got widened to string, I want to be string literal \"A\"\nresult.b.tag; // the tag type got widened to string, I want to be string literal \"B\"\n</code></pre>\n\n<p>I think I am kind of overusing generics. I am quite sure there is a simpler approach to this.</p>\n\n<p>TL;DR: I want to prevent a string literal to be widened to <code>string</code>, so my <code>tag</code> properties become the literals that I provide.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565808896, "post_id": 57500146, "comment_id": 101470421, "body": "you are trying to use <code>name</code> as a property and a property can only be a <code>string</code>. You are trying to use a <code>string</code> or a <code>boolean</code>, which is why you are getting a type <code>never</code>."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565809086, "post_id": 57500146, "comment_id": 101470494, "body": "This will mean that if you change <code>name: ISettings</code> to <code>name: string</code> the error will go away."}, {"owner": {"reputation": 16623, "user_id": 347857, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/BGA1x.jpg?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/347857/mad-scientist"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565809569, "post_id": 57500146, "comment_id": 101470667, "body": "@GetOffMyLawn <code>name</code> is of the type <code>keyof ISettings</code>, so it&#39;s a string restricted to the actual keys present on that interface. I tried setting <code>name</code> to type string, and that doesn&#39;t fix the error, I just get a different one at the same place."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565809671, "post_id": 57500146, "comment_id": 101470711, "body": "Sorry, I was misunderstanding what you were trying to do, I understand now I think. I&#39;m looking into it more."}], "answers": [{"comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565811371, "post_id": 57500903, "comment_id": 101471315, "body": "The only thing I was able to think of was creating overloads. +1"}, {"owner": {"reputation": 16623, "user_id": 347857, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/BGA1x.jpg?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/347857/mad-scientist"}, "edited": false, "score": 0, "creation_date": 1565811683, "post_id": 57500903, "comment_id": 101471418, "body": "interesting, this does solve the immediate error. It does lead to a different error upstream in my full code, which of course you&#39;d have no chance to know. So I think I still need to understand the <i>why</i> behind this to fix my non-simplified example. I don&#39;t understand why this change would fix the error, and I can&#39;t tell right now whether it&#39;s correct or just pushing the problem upstream."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565812046, "post_id": 57500903, "comment_id": 101471535, "body": "You are getting the error because <code>value</code> is a string or a boolean, but <code>newSetting[name]</code> is only one of those, it can&#39;t be either because your interface says so. For experimentation, make each item in your interface <code>string | boolean</code> the error goes away because now you say it can be both. I hope that makes sense"}, {"owner": {"reputation": 11, "user_id": 9934931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qkQ2hkh7x38/AAAAAAAAAAI/AAAAAAAAAAc/7p0fK4exv8Q/photo.jpg?sz=128", "display_name": "alex Lozan", "link": "https://stackoverflow.com/users/9934931/alex-lozan"}, "reply_to_user": {"reputation": 16623, "user_id": 347857, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/BGA1x.jpg?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/347857/mad-scientist"}, "edited": false, "score": 0, "creation_date": 1565813183, "post_id": 57500903, "comment_id": 101471957, "body": "@MadScientist I&#39;m not sure if it was the reason of problems that you have, but I added an new update, hope it will help you"}], "tags": [], "owner": {"reputation": 11, "user_id": 9934931, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qkQ2hkh7x38/AAAAAAAAAAI/AAAAAAAAAAc/7p0fK4exv8Q/photo.jpg?sz=128", "display_name": "alex Lozan", "link": "https://stackoverflow.com/users/9934931/alex-lozan"}, "is_accepted": false, "score": 1, "last_activity_date": 1565813070, "last_edit_date": 1565813070, "creation_date": 1565810935, "answer_id": 57500903, "question_id": 57500146, "link": "https://stackoverflow.com/questions/57500146/correct-type-for-a-function-that-sets-individual-properties-of-an-object/57500903#57500903", "title": "Correct type for a function that sets individual properties of an object?", "body": "<p>I'm not sure if it is best possible answer, but I found a solution what works, with generic types. I tested it in vs code and it don't have any problems and also is compiled by typescript without errors and warnings.</p>\n\n<pre><code>interface ISettings {\n  string_setting: string;\n  boolean_setting: boolean;\n}\n\nfunction updateSettings&lt;K extends keyof ISettings&gt;(\n  oldSettings: ISettings,\n  name: K,\n  value: ISettings[K]\n): ISettings {\n  let newSettings: ISettings = { ...oldSettings };\n  newSettings[name] = value;\n  return newSettings;\n}\n\nconst settings: ISettings = null;\nconst updatedSettings1 = updateSettings(settings, 'boolean_setting', false);\nconst updaatedSettings2 = updateSettings(settings, 'string_setting', 'string value');\n\n</code></pre>\n\n<p><strong>Update 1</strong>\nAlso if it is not evidently, this function can be write not only for this ISettings interface, but for only object. (<code>T extends {}</code> is not necessarily, but I don't think you will want to overwrite something from not an object value)</p>\n\n<pre><code>interface ISettings {\n  string_setting: string;\n  boolean_setting: boolean;\n}\n\nfunction updateObject&lt;T extends {}, K extends keyof T&gt;(\n  object: T,\n  key: K,\n  value: T[K]\n): T {\n  return { ...object, [key]: value };\n}\n\nconst initial: ISettings = null;\nconst updated0: ISettings = updateObject(initial, 'string_setting', 'string value'); // ok\nconst updated1: ISettings = updateObject(initial, 'string_setting', 123); // error\nconst updated2: ISettings = updateObject(initial, 'boolean_setting', true); // ok\nconst updated3: ISettings = updateObject(initial, 'boolean_setting', 'not a boolean value'); // error\n\n</code></pre>\n\n<p><strong>Update 2:</strong>\nAnd if your function have different type for input object and response you can write it in this form (but I'm not sure if it can be write without any, at least I don't know how)</p>\n\n<pre><code>interface ISettings {\n  string_setting: string;\n  number_settings: number;\n  boolean_setting: boolean;\n}\n\nfunction updateObject&lt;T extends {}, K extends keyof T, V&gt;(\n  object: T,\n  key: K,\n  value: V\n): V extends T[K] ? T : Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt; &amp; Record&lt;K, V&gt; {\n  return { ...object, [key]: value } as any;\n}\n\nconst initial: ISettings = null;\nconst updated0 = updateObject(initial, 'string_setting', 'string value'); // type is: ISettings\nconst updated1 = updateObject(initial, 'string_setting', 123); // type is: Pick&lt;ISettings, \"boolean_setting\" | \"number_settings\"&gt; &amp; Record&lt;\"string_setting\", number&gt;\nconst updated2 = updateObject(initial, 'boolean_setting', true); // type is: ISettings\nconst updated3 = updateObject(initial, 'boolean_setting', 'not a boolean value'); // type is: Pick&lt;ISettings, \"string_setting\" | \"number_settings\"&gt; &amp; Record&lt;\"boolean_setting\", string&gt;\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61591, "user_id": 183406, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/ca03242df77ec2d8f70f2cea0d6209be?s=128&d=identicon&r=PG", "display_name": "meriton", "link": "https://stackoverflow.com/users/183406/meriton"}, "is_accepted": true, "score": 1, "last_activity_date": 1565816916, "last_edit_date": 1565816916, "creation_date": 1565816587, "answer_id": 57502016, "question_id": 57500146, "link": "https://stackoverflow.com/questions/57500146/correct-type-for-a-function-that-sets-individual-properties-of-an-object/57502016#57502016", "title": "Correct type for a function that sets individual properties of an object?", "body": "<p>Translated to plain english, the signature</p>\n\n<pre><code>function updateSettings(\n  oldSettings: ISettings,\n  name: keyof ISettings,\n  value: ISettings[keyof ISettings]\n)\n</code></pre>\n\n<p>says:</p>\n\n<ul>\n<li><code>name</code> is the name of a property of <code>ISettings</code></li>\n<li><code>value</code> is a value of a property of <code>ISettings</code></li>\n</ul>\n\n<p>but doesn't say that it's the same property in both cases, leaving a caller at liberty to write:</p>\n\n<pre><code>updateSettings(isettings, \"string_property\", true);\n</code></pre>\n\n<p>... and that's why the property assignment in the function body is not known to be type correct, and rejected by the compiler. </p>\n\n<p>In contrast, the signature</p>\n\n<pre><code>updateSettings&lt;K extends keyof ISettings&gt;(\n  oldSettings: ISettings,\n  name: K,\n  value: ISettings[K]\n)\n</code></pre>\n\n<p>says that there is a <em>single</em> type <code>K</code> among the keys of <code>ISettings</code> such that both <code>name</code> is of type <code>K</code>, and <code>value</code> is of type <code>ISettings[K]</code>. </p>\n"}], "owner": {"reputation": 16623, "user_id": 347857, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/BGA1x.jpg?s=128&g=1", "display_name": "Mad Scientist", "link": "https://stackoverflow.com/users/347857/mad-scientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57502016, "answer_count": 2, "score": 1, "last_activity_date": 1565816916, "creation_date": 1565807072, "question_id": 57500146, "link": "https://stackoverflow.com/questions/57500146/correct-type-for-a-function-that-sets-individual-properties-of-an-object", "title": "Correct type for a function that sets individual properties of an object?", "body": "<p>I have a settings object that has several different properties with different types. And I'm trying to write a function like the following:</p>\n\n<pre><code>update(settings, name, value)\n</code></pre>\n\n<p>that updates the property <code>name</code> on <code>settings</code> and sets it to <code>value</code>. My actual use case is a bit differnt, but this is the simplest version of the problem.</p>\n\n<p>I'm having trouble getting Typescript to understand what I want to do here, and it's complaining about my code:</p>\n\n<pre><code>interface ISettings {\n  string_setting: string;\n  boolean_setting: boolean;\n}\n\nfunction updateSettings(\n  oldSettings: ISettings,\n  name: keyof ISettings,\n  value: ISettings[keyof ISettings]\n): ISettings {\n  let newSettings: ISettings = { ...oldSettings };\n  newSettings[name] = value;\n  return newSettings;\n}\n</code></pre>\n\n<p>on the line</p>\n\n<pre><code>  newSettings[name] = value;\n</code></pre>\n\n<p>I'm getting the error</p>\n\n<blockquote>\n  <p>Type 'string | boolean' is not assignable to type 'never'.\n    Type 'string' is not assignable to type 'never'.ts(2322)</p>\n</blockquote>\n\n<p>VSCode tells me that <code>newSettings</code> is of the type ISettings, and <code>name</code> is of the type \"string_setting\" | \"boolean_setting\". So this looks like it's supposed to, but still throws an error.</p>\n\n<p>The type for <code>value</code> is also not correct I think, as it is simply the union of all possible types for the properties on the settings object, it does not ensure that the value type matches the specific property selected by the name parameter.</p>\n\n<p>Why is Typescript complaining about 'never' in my code? And what is the correct way to type the function I describe, ideally so strict that trying to assign a string to a boolean setting would fail?</p>\n"}, {"tags": ["node.js", "postgresql", "typescript", "knex.js"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1565810910, "post_id": 57500089, "comment_id": 101471160, "body": "<code>NODE_ENV</code> needs to be a subtype of <code>&quot;local&quot; | &quot;development&quot; | &quot;production&quot;</code>"}, {"owner": {"reputation": 993, "user_id": 10583765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f9c542545ed0c80df4efa010364d38?s=128&d=identicon&r=PG&f=1", "display_name": "Rario", "link": "https://stackoverflow.com/users/10583765/rario"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1565850834, "post_id": 57500089, "comment_id": 101479445, "body": "@AluanHaddad How do I do that? I&#39;m sorry, I&#39;m still learning TypeScript. This is where I got <code>NODE_ENV</code>:  ` export const {   NODE_ENV = &#39;development&#39;,   HOST = &#39;0.0.0.0&#39;,   PORT = 8081 } = process.env; `"}], "answers": [{"comments": [{"owner": {"reputation": 1176, "user_id": 8943212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58616d3c05f16f3a95720e138548e352?s=128&d=identicon&r=PG&f=1", "display_name": "ionizer", "link": "https://stackoverflow.com/users/8943212/ionizer"}, "edited": false, "score": 0, "creation_date": 1614075630, "post_id": 57506435, "comment_id": 117267608, "body": "In case anyone reads this, <code>Knex</code> (at least on version <code>^0.21.17</code>) has a <code>Config</code> typing: <code>import { Config } from &#39;knex&#39;</code>"}], "tags": [], "owner": {"reputation": 5614, "user_id": 834114, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5a9420b4b37c4cc95ee09dcfcd6d1a9f?s=128&d=identicon&r=PG", "display_name": "madflow", "link": "https://stackoverflow.com/users/834114/madflow"}, "is_accepted": true, "score": 5, "last_activity_date": 1565855410, "creation_date": 1565855410, "answer_id": 57506435, "question_id": 57500089, "link": "https://stackoverflow.com/questions/57500089/how-to-configure-knex-ts-in-typescript-project/57506435#57506435", "title": "How to configure Knex.ts in TypeScript project?", "body": "<p>I believe you can either supress these errors by setting:</p>\n\n<pre><code>  \"suppressImplicitAnyIndexErrors\": true,\n</code></pre>\n\n<p>in your <code>tsconfig.json</code></p>\n\n<p>or you can create an index signature for the <code>knexConfig</code> object in some way:</p>\n\n<pre><code>interface KnexConfig {\n    [key: string]: object;\n};\n\nconst knexConfig: KnexConfig = {\n    local: {\n        client: 'sqlite3',\n        connection: {\n        filename: './dev.sqlite3'\n        }\n    },\n\n    development: {\n        ...defaults,\n        debug: true,\n        useNullAsDefault: true\n    },\n\n    production: {\n        ...defaults\n    }\n};\n</code></pre>\n\n<p>For more possibilities see the possible duplicate of this question: <a href=\"https://stackoverflow.com/questions/32968332/how-do-i-prevent-the-error-index-signature-of-object-type-implicitly-has-an-an\">How do I prevent the error &quot;Index signature of object type implicitly has an &#39;any&#39; type&quot; when compiling typescript with noImplicitAny flag enabled?</a></p>\n"}], "owner": {"reputation": 993, "user_id": 10583765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50f9c542545ed0c80df4efa010364d38?s=128&d=identicon&r=PG&f=1", "display_name": "Rario", "link": "https://stackoverflow.com/users/10583765/rario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8593, "favorite_count": 0, "accepted_answer_id": 57506435, "answer_count": 1, "score": 1, "last_activity_date": 1565855410, "creation_date": 1565806846, "question_id": 57500089, "link": "https://stackoverflow.com/questions/57500089/how-to-configure-knex-ts-in-typescript-project", "title": "How to configure Knex.ts in TypeScript project?", "body": "<p>I am trying to configure Knexfile in TypeScript. I created <code>knexfile.ts</code> with <code>knex init -x ts</code>:</p>\n\n<pre><code>const defaults = {\n  client: 'postgresql',\n  connection: {\n    host: DB_HOST,\n    user: DB_USER,\n    password: DB_PASSWORD,\n    database: DB_DATABASE\n  },\n  pool: {\n    min: 2,\n    max: 10\n  },\n  migrations: {\n    tableName: 'knex_migrations'\n  }\n};\n\nconst knexConfig = {\n  local: {\n    client: 'sqlite3',\n    connection: {\n      filename: './dev.sqlite3'\n    }\n  },\n\n  development: {\n    ...defaults,\n    debug: true,\n    useNullAsDefault: true\n  },\n\n  production: {\n    ...defaults\n  }\n};\n\nexport default knexConfig;\n</code></pre>\n\n<p>And then I create <code>knex.ts</code> file to make connection:</p>\n\n<pre><code>import Knex, { Config } from 'knex';\nimport knexConfig from '../utils/knexfile';\nimport { NODE_ENV } from '../utils/config';\n\n// Set environment from `.env`\nconst knex = Knex(knexConfig[NODE_ENV]);\n\nexport default knex;\n</code></pre>\n\n<p>But I got an error at <code>(knexConfig[NODE_ENV])</code>, saying that:</p>\n\n<pre><code>(alias) const NODE_ENV: string\nimport NODE_ENV\nElement implicitly has an 'any' type because expression of type 'string' can't be used to index type '{ local: { client: string; connection: { filename: string; }; }; development: { debug: boolean; useNullAsDefault: boolean; client: string; connection: { host: string; user: string; password: string; database: string; }; pool: { ...; }; migrations: { ...; }; }; production: { ...; }; }'.\n  No index signature with a parameter of type 'string' was found on type '{ local: { client: string; connection: { filename: string; }; }; development: { debug: boolean; useNullAsDefault: boolean; client: string; connection: { host: string; user: string; password: string; database: string; }; pool: { ...; }; migrations: { ...; }; }; production: { ...; }; }'.ts(7053)\n</code></pre>\n\n<p>========================================================</p>\n\n<p>What am I doing wrong?\nPlease help.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 0, "creation_date": 1565858626, "post_id": 57502086, "comment_id": 101482023, "body": "Thanks, I&#39;ll check it out. Do you have any suggestions about the other points (optional/required checking)?"}, {"owner": {"reputation": 3524, "user_id": 2962686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mzOZG.jpg?s=128&g=1", "display_name": "Borre Mosch", "link": "https://stackoverflow.com/users/2962686/borre-mosch"}, "reply_to_user": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "edited": false, "score": 1, "creation_date": 1565859126, "post_id": 57502086, "comment_id": 101482194, "body": "By default, all properties on the <code>params</code> object are set on the class, but you can change this behavior by using the <code>excludeExtraneousValues</code> option. If you want to get more advanced (skipping certain properties, etc.) it&#39;s all possible using different decorators described in their documentation."}], "tags": [], "owner": {"reputation": 3524, "user_id": 2962686, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mzOZG.jpg?s=128&g=1", "display_name": "Borre Mosch", "link": "https://stackoverflow.com/users/2962686/borre-mosch"}, "is_accepted": false, "score": 1, "last_activity_date": 1565816905, "creation_date": 1565816905, "answer_id": 57502086, "question_id": 57499795, "link": "https://stackoverflow.com/questions/57499795/instantiating-typescript-class-from-string-parameters/57502086#57502086", "title": "Instantiating Typescript class from string parameters", "body": "<p>You can use the <a href=\"https://github.com/typestack/class-transformer\" rel=\"nofollow noreferrer\">class-transformer</a> package, for example like so:</p>\n\n<pre><code>import { plainToClass } from 'class-transformer';\n\nconst someClassInstance = plainToClass(SomeClass, params);\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 5458298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18e73f8e98d0204bcf08281df0740?s=128&d=identicon&r=PG&f=1", "display_name": "Ardweaden", "link": "https://stackoverflow.com/users/5458298/ardweaden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565816905, "creation_date": 1565805293, "question_id": 57499795, "link": "https://stackoverflow.com/questions/57499795/instantiating-typescript-class-from-string-parameters", "title": "Instantiating Typescript class from string parameters", "body": "<h3>(Optional) setup</h3>\n\n<p>Suppose I have an object with parameter names and their values, which are strings.</p>\n\n<pre><code>params = {\n    \"param1\": \"value1\",\n    \"param2\": \"value2\",\n    \"param3\": \"value3\",\n    \"param4\": \"value4\"\n}\n</code></pre>\n\n<p>and a Typescript class:</p>\n\n<pre><code>class SomeClass (... maybe implements some interface)  {\n    param1: string;\n    param2: number;\n    param3: string;\n\n    constructor(params){\n        //Sets values appropriately\n    }\n}\n</code></pre>\n\n<h3>Desired behaviour</h3>\n\n<ul>\n<li><p>The class is constructed with the values from the object. They have to be changed to appropriate <em>types</em> within the class. Notice some params in <code>SomeClass</code> are <code>number</code>, but all the values in the object are strings. The class parameters can be of any class.</p></li>\n<li><p>If some parameter (in our case <code>param4</code>) is not declared in the class, it should either be ignored or raise some exception.</p></li>\n<li><p>Some parameters might be optional. Let's suppose <code>param1</code> and <code>param2</code> are optional in our case. Sometimes (this should perhaps be a separate question), if <em>one of</em> the optional parameters is not present, <em>some other one</em> has to be present. Is there an elegant way of implementing that?</p></li>\n</ul>\n\n<h3>Notes</h3>\n\n<ul>\n<li><p>The setup is not fixed, and if there is a way to achieve this functionality using a different approach (implementing interface, extending type etc.), I can adapt to it.</p></li>\n<li><p>Assume there is a large number of parameters.</p></li>\n</ul>\n"}, {"tags": ["typescript", "compiler-specific"], "answers": [{"comments": [{"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "edited": false, "score": 2, "creation_date": 1566644023, "post_id": 57499650, "comment_id": 101726926, "body": "The last links with this 2 sentences &quot;Suppose I need a List&lt;Animal&gt; and you pass me a List&lt;Dog&gt;. Since I think I have a List&lt;Animal&gt;, I might try to insert a Cat into it. Now your List&lt;Dog&gt; has a Cat in it! The type system should not allow this.&quot; describes it quite alright."}], "tags": [], "owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "is_accepted": true, "score": 5, "last_activity_date": 1565804704, "creation_date": 1565804704, "answer_id": 57499650, "question_id": 57499459, "link": "https://stackoverflow.com/questions/57499459/what-is-bivariant-parameter-typescript/57499650#57499650", "title": "What is bivariant parameter? ~ TypeScript", "body": "<p>A \"bivariant\" parameter is one that is both covariant and contravariant. </p>\n\n<p>The <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-6.html\" rel=\"noreferrer\">TypeScript 2.6 release notes</a> describe the <code>--strictFunctionTypes</code> compiler option well, since that's the first release that supported it. </p>\n\n<blockquote>\n  <p>Under --strictFunctionTypes function type parameter positions are checked contravariantly instead of bivariantly. For some background on what variance means for function types check out <a href=\"https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance\" rel=\"noreferrer\">What are covariance and contravariance</a>?.</p>\n</blockquote>\n\n<p>This article linked in that quote describes the difference between covariance and contravariance:\n<a href=\"https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance\" rel=\"noreferrer\">https://www.stephanboyer.com/post/132/what-are-covariance-and-contravariance</a></p>\n"}], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 1, "accepted_answer_id": 57499650, "answer_count": 1, "score": 7, "last_activity_date": 1565804704, "creation_date": 1565803878, "question_id": 57499459, "link": "https://stackoverflow.com/questions/57499459/what-is-bivariant-parameter-typescript", "title": "What is bivariant parameter? ~ TypeScript", "body": "<p>The TypeScript's docs comes with <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"noreferrer\">Compiler Options</a>, where the <code>--strictFunctionTypes</code> is defined with its description. Unfortunately, can't get what is <strong>bivariant parameter</strong>. I tried to understand <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-function-parameters-bivariant\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-function-parameters-bivariant</a> as well.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "sharepoint"], "comments": [{"owner": {"reputation": 105, "user_id": 10193786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4297adb18653c91a6327ce4a4c55f84?s=128&d=identicon&r=PG&f=1", "display_name": "tehila", "link": "https://stackoverflow.com/users/10193786/tehila"}, "edited": false, "score": 0, "creation_date": 1565889562, "post_id": 57499168, "comment_id": 101495295, "body": "can you show the code in server?"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 8772974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410a43f6837d8302f6430556a0bcc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Arte2", "link": "https://stackoverflow.com/users/8772974/arte2"}, "edited": false, "score": 0, "creation_date": 1565810855, "post_id": 57499418, "comment_id": 101471141, "body": "I did try that, but I get a full message and not a status code. Ie. not usable in a conditional."}], "tags": [], "owner": {"reputation": 9228, "user_id": 5521607, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/0vvlR.png?s=128&g=1", "display_name": "Olivier Boiss&#233;", "link": "https://stackoverflow.com/users/5521607/olivier-boiss%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1565803693, "creation_date": 1565803693, "answer_id": 57499418, "question_id": 57499168, "link": "https://stackoverflow.com/questions/57499168/get-catch-response-status-in-a-promise/57499418#57499418", "title": "Get/catch response status in a promise", "body": "<p>you just need to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\" rel=\"nofollow noreferrer\">catch</a> function</p>\n\n<pre><code>item.attachmentFiles.add(\"file2.txt\", \"Here is my content\")\n  .then(v =&gt; console.log(v))\n  .catch(err =&gt; console.log(err));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4884, "user_id": 8867311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211a7f414a3441006d1dd418596447a9?s=128&d=identicon&r=PG&f=1", "display_name": "Lee_MSFT", "link": "https://stackoverflow.com/users/8867311/lee-msft"}, "is_accepted": true, "score": 1, "last_activity_date": 1565833122, "creation_date": 1565833122, "answer_id": 57503913, "question_id": 57499168, "link": "https://stackoverflow.com/questions/57499168/get-catch-response-status-in-a-promise/57503913#57503913", "title": "Get/catch response status in a promise", "body": "<p>Sample demo:</p>\n\n<pre><code>item.attachmentFiles.add(\"file2.txt\", \"Here is my content\")\n   .then(v =&gt; console.log(v))\n   .catch((err) =&gt;{\n     if(err.status==400)\n      console.log(err.status);\n    else\n      console.log(err.status);\n   });\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 8772974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410a43f6837d8302f6430556a0bcc7c?s=128&d=identicon&r=PG&f=1", "display_name": "Arte2", "link": "https://stackoverflow.com/users/8772974/arte2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 57503913, "answer_count": 2, "score": 0, "last_activity_date": 1565833122, "creation_date": 1565802509, "last_edit_date": 1565803615, "question_id": 57499168, "link": "https://stackoverflow.com/questions/57499168/get-catch-response-status-in-a-promise", "title": "Get/catch response status in a promise", "body": "<p>I have a promise where it sometimes gives an error (400 and 403, depending on the user) response, depending on the user). I want to try to catch the response,do a conditional (if) so I can depending on the server response, do a different function.</p>\n\n<p>It looks like:</p>\n\n<pre><code>let item = pnp.sp.web.lists\n   .getById(Constants.eventCalendarGuid)\n   .items\n   .getById(this.props.item.ID);\n\nitem.attachmentFiles.add(\"file2.txt\", \"Here is my content\")\n   .then(v =&gt; console.log(v));\n</code></pre>\n\n<p>I have tried to do a then chain and  ==> catch => error but can't get the response code at all.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 1919, "user_id": 3549177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/420d0b0f13dc4ee4cc934811334944aa?s=128&d=identicon&r=PG&f=1", "display_name": "nick", "link": "https://stackoverflow.com/users/3549177/nick"}, "edited": false, "score": 1, "creation_date": 1565806455, "post_id": 57498936, "comment_id": 101469444, "body": "Thanks, I tried changing the first line for <code>object[]</code> instead of <code>[]</code> and it worked fine, however I&#39;ll make a class for the <code>BlockingFile</code> to make the code tidier."}], "tags": [], "owner": {"reputation": 2518, "user_id": 6080254, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/joqiB.jpg?s=128&g=1", "display_name": "Bruno Monteiro", "link": "https://stackoverflow.com/users/6080254/bruno-monteiro"}, "is_accepted": true, "score": 2, "last_activity_date": 1565801362, "creation_date": 1565801362, "answer_id": 57498936, "question_id": 57498644, "link": "https://stackoverflow.com/questions/57498644/typescript-not-assignable-to-parameter-of-type-never-error/57498936#57498936", "title": "Typescript: \u201cnot assignable to parameter of type never\u201d error", "body": "<p>When declaring your <code>blockingFiles</code> as an empty array, you don't really specify the type of the array elements, that why you get the error.</p>\n\n<p>One solution is to define the Interface of your object (the one that contains \"file\" and \"id\" keys) and then declare your <code>blockingFiles</code> variable as an array of that object.</p>\n\n<p>You could do something like this:</p>\n\n<pre><code>interface IBlockingFiles {\n    file: string; // Replace the type here if it make sense to your code\n    id: string; // Replace the type here if it make sense to your code\n}\n\nblockingFiles: IBlockingFiles[];\n</code></pre>\n"}], "owner": {"reputation": 1919, "user_id": 3549177, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/420d0b0f13dc4ee4cc934811334944aa?s=128&d=identicon&r=PG&f=1", "display_name": "nick", "link": "https://stackoverflow.com/users/3549177/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 57498936, "answer_count": 1, "score": 0, "last_activity_date": 1565801362, "creation_date": 1565800030, "last_edit_date": 1565800057, "question_id": 57498644, "link": "https://stackoverflow.com/questions/57498644/typescript-not-assignable-to-parameter-of-type-never-error", "title": "Typescript: \u201cnot assignable to parameter of type never\u201d error", "body": "<p>I got this code:</p>\n\n<pre><code>blockingFiles: []; //this is on the class\n\n\n//this is inside a function of the class\nthis.blockingFiles = [];\nthis.blockingFiles.push({file: blockingFile, id: fileId});\n</code></pre>\n\n<p>But I'm getting an error on <code>file</code> and <code>id</code> inside the object I push into the array.</p>\n"}, {"tags": ["typescript", "webpack", "vuejs2", "vue-cli-3", "vue-loader"], "owner": {"reputation": 6672, "user_id": 1659588, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/yG9r0.jpg?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/1659588/dodge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1120, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565797334, "creation_date": 1565797334, "question_id": 57497973, "link": "https://stackoverflow.com/questions/57497973/vue-cli-service-cant-resolve-import-with-custom-alias-in-vue", "title": "vue-cli-service can&#39;t resolve import with custom alias in *.vue", "body": "<p>first of all I know that there are a lot of similar questions to this one, but all of those I checked are either not my exact problem or outdated (e.g. ppl asking for how to add <code>@/</code> that now is there by default).</p>\n\n<p><strong>What is my Goal/Problem?</strong></p>\n\n<p>I have some <code>*.ts</code> files that are generated into <code>target/generated-typescript</code> instead of <code>src/</code> where my \"handwritten\" code is located.</p>\n\n<p>In my tsconfig.json i added <code>\"$/*\": [ \"target/generated-typescript/*\" ]</code> analog to the configuration of the <code>@/*</code> path alias. In regular <code>*.ts</code> files i can use <code>$/my_ts_file</code> for imports. now i wanted to use such a file to import stuff into a <code>*.vue</code> file.</p>\n\n<p>In IntelliJ everything is OK as in there is no error marked at the import. but when starting <code>vue-cli-service serve</code> (or build) i get the following error in the run console:</p>\n\n<pre><code>This dependency was not found:\n\n* $/my_ts_file in ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/ts-loader??ref--13-2!./node_modules/cache-loader/dist/cjs.js??ref--0\n-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/MyvueComponent.vue?vue&amp;type=script&amp;lang=ts&amp;\n\n</code></pre>\n\n<p>and a similar one in the browser:</p>\n\n<pre><code>Failed to compile.\n\n./src/views/MyvueComponent.vue?vue&amp;type=script&amp;lang=ts&amp; (./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/babel-loader/lib!./node_modules/ts-loader??ref--13-2!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/MyvueComponent.vue?vue&amp;type=script&amp;lang=ts&amp;)\nModule not found: Error: Can't resolve '$/my_ts_file' in 'C:\\path\\to\\my\\proj\\src\\views'\n</code></pre>\n\n<p><strong>My attempt to fix the problem</strong></p>\n\n<p>I added the following block to my <code>vue.config.js</code> as suggested by similar questions asking for <code>@/</code> imports to work.</p>\n\n<pre><code>chainWebpack: config =&gt; {\n    config.resolve\n        .alias\n        .set('$', config.store.get('context') + '\\\\target\\\\generated-typescript')\n},\n</code></pre>\n\n<p>this correctly adds the alias as the output of <code>console.log(config.resolve.alias.store)</code> shows. the lines of '@' and '$' are identical except for <code>src</code> vs my target directory. I also tried to use <code>configureWebpack</code> instead of <code>chainWebpack</code> but both are not working.</p>\n\n<p><strong>Environment</strong><br/>\nWindow Server 2012 Standard<br/>\nNode 12.6.0<br/>\nNPM 6.9.0<br/>\nvue-cli 3.10.0\nvue 2.6.10</p>\n"}, {"tags": ["javascript", "typescript", "express", "typescript-typings", "helmet.js"], "comments": [{"owner": {"reputation": 8815, "user_id": 4468021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NVYBZ.jpg?s=128&g=1", "display_name": "Clarity", "link": "https://stackoverflow.com/users/4468021/clarity"}, "edited": false, "score": 0, "creation_date": 1565796934, "post_id": 57497817, "comment_id": 101465434, "body": "What if you do const helmet = require(&#39;helmet&#39;)?"}, {"owner": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "edited": false, "score": 0, "creation_date": 1565796957, "post_id": 57497817, "comment_id": 101465455, "body": "Are your types and helmet up to date? Feature Policy is pretty new and maybe you have to update your dependencies?"}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "reply_to_user": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "edited": false, "score": 0, "creation_date": 1565798981, "post_id": 57497817, "comment_id": 101466429, "body": "@stefanjudis version of <code>helmet</code> is <code>3.20.0</code>, whilst <code>@types&#47;helmet</code> is <code>0.0.43</code> (fresh installation). I just checked the <code>index.d.ts</code> file inside <code>node_modules&#47;@types&#47;helmet</code>, and indeed, the <code>featurePolicy</code> is missing from the interface <code>IHelmetConfiguration</code>.  @Clarity indeed the <code>const helmet = require(&#39;helmet&#39;);</code> solves this problem, but then why is like that?"}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "reply_to_user": {"reputation": 8815, "user_id": 4468021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NVYBZ.jpg?s=128&g=1", "display_name": "Clarity", "link": "https://stackoverflow.com/users/4468021/clarity"}, "edited": false, "score": 0, "creation_date": 1565799264, "post_id": 57497817, "comment_id": 101466546, "body": "@Clarity PS. But if I&#39;ll define a type like so <code>const helmet: Helmet = require(&#39;helmet&#39;);</code> it throws the same error, i.e. <code>TS2339: Property &#39;featurePolicy&#39; does not exist on type &#39;Helmet&#39;.</code>."}, {"owner": {"reputation": 8815, "user_id": 4468021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NVYBZ.jpg?s=128&g=1", "display_name": "Clarity", "link": "https://stackoverflow.com/users/4468021/clarity"}, "edited": false, "score": 2, "creation_date": 1565799331, "post_id": 57497817, "comment_id": 101466575, "body": "@DanielDanielecki because if you use <code>require</code>, it doesn&#39;t go thru typescript compiler."}, {"owner": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "edited": false, "score": 1, "creation_date": 1565799456, "post_id": 57497817, "comment_id": 101466639, "body": "<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/helmet/index.d.ts#L13-L27\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types&zwnj;&#8203;/&hellip;</a> is not up to date. :)"}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "reply_to_user": {"reputation": 8815, "user_id": 4468021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NVYBZ.jpg?s=128&g=1", "display_name": "Clarity", "link": "https://stackoverflow.com/users/4468021/clarity"}, "edited": false, "score": 1, "creation_date": 1565799467, "post_id": 57497817, "comment_id": 101466644, "body": "@Clarity thanks for the answer! It looks like there&#39;s no typing for <code>featurePolicy</code> at the moment."}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "reply_to_user": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "edited": false, "score": 0, "creation_date": 1565799511, "post_id": 57497817, "comment_id": 101466673, "body": "@stefanjudis thanks for the link! Is anyone of you going to submit an issue about this?"}, {"owner": {"reputation": 2103, "user_id": 4253183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22725c2d3eb331146549bf0d5d3c050c?s=128&d=identicon&r=PG", "display_name": "stefan judis", "link": "https://stackoverflow.com/users/4253183/stefan-judis"}, "edited": false, "score": 2, "creation_date": 1565799567, "post_id": 57497817, "comment_id": 101466696, "body": "Nope, go for it. :) the typings are community-driven. I think it&#39;s a perfect moment for you to contribute back. :)"}, {"owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "edited": false, "score": 0, "creation_date": 1565799906, "post_id": 57497817, "comment_id": 101466859, "body": "Thank you guys, the issue has been submitted: <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/37627\" rel=\"nofollow noreferrer\">github.com/DefinitelyTyped/DefinitelyTyped/issues/37627</a>"}], "owner": {"reputation": 3397, "user_id": 11127383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FulXc.jpg?s=128&g=1", "display_name": "Daniel Danielecki", "link": "https://stackoverflow.com/users/11127383/daniel-danielecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565796751, "creation_date": 1565796751, "question_id": 57497817, "link": "https://stackoverflow.com/questions/57497817/ts2339-property-featurepolicy-does-not-exist-on-type-helmet", "title": "TS2339: Property &#39;featurePolicy&#39; does not exist on type &#39;Helmet&#39;", "body": "<p>I have application with security rules defined by <a href=\"https://github.com/helmetjs/helmet\" rel=\"nofollow noreferrer\">Helmet</a>. However, when installing <code>@types/helmet</code> I'm getting the following error <code>TS2339: Property 'featurePolicy' does not exist on type 'Helmet'.</code>. The code is as follows:</p>\n\n<pre><code>import * as express from 'express';\nimport * as helmet from 'helmet';\nimport { Express } from 'express';\n\nconst expressApp: Express = express(); // Create Express instance.\n\n// Limit website features by implementing Feature Policy.\nexpressApp.use(\n  helmet.featurePolicy({\n    features: {\n      fullscreen: [\"'self'\"],\n      payment: [\"'none'\"],\n      syncXhr: [\"'none'\"]\n    }\n  })\n);\n</code></pre>\n\n<p>Link to Feature Policy, which is part of the Helmet package: <a href=\"https://helmetjs.github.io/docs/feature-policy/\" rel=\"nofollow noreferrer\">https://helmetjs.github.io/docs/feature-policy/</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 5, "creation_date": 1565796823, "post_id": 57497797, "comment_id": 101465383, "body": "You can&#39;t sort a dictionary like you do in other languages. You will need to turn it into an array then sort it."}, {"owner": {"reputation": 262, "user_id": 3311765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tpnz6.jpg?s=128&g=1", "display_name": "Naylor", "link": "https://stackoverflow.com/users/3311765/naylor"}, "reply_to_user": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 0, "creation_date": 1565900500, "post_id": 57497797, "comment_id": 101499488, "body": "Some suggest that <a href=\"https://stackoverflow.com/questions/5467129/sort-javascript-object-by-key\" title=\"sort javascript object by key\">stackoverflow.com/questions/5467129/&hellip;</a> is a duplicate question, but in addition to that question not having an accepted answer it doesn&#39;t really meet the &#39;Simple&#39; or &#39;TypeScript&#39; aspect of my question. Also, that question is sorting making a copy, which doesn&#39;t address my hope of sorting in place. It is possible that the correct answer to this question is &#39;No&#39;."}], "owner": {"reputation": 262, "user_id": 3311765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tpnz6.jpg?s=128&g=1", "display_name": "Naylor", "link": "https://stackoverflow.com/users/3311765/naylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565921439, "creation_date": 1565796670, "last_edit_date": 1565900655, "question_id": 57497797, "link": "https://stackoverflow.com/questions/57497797/is-there-a-simple-way-to-sort-a-typescript-dictionary", "title": "Is there a simple way to sort a typescript dictionary?", "body": "<p>I have some code that has populated a typescript dictionary.</p>\n\n<pre><code>var dictionaryOfScores: {[id: string]: number } = {};\n</code></pre>\n\n<p>Now that I have it I would like to sort it by the value (the number).</p>\n\n<p>This dictionary could be quite large so I am hoping there is a solution to handle it in-place.</p>\n\n<p>I've seen that there is a typescript-collections package that could fit my needs but I'm hoping there is a simple solution that doesn't require me to include another library.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5467129/sort-javascript-object-by-key\">Sort JavaScript object by key</a> describes a plain javascript method that could be used to sort this TypeScript object, but it makes a copy, and it doesn't specifically address the TypeScript dictionary.</p>\n"}, {"tags": ["node.js", "reactjs", "typescript", "webpack", "sass"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 6489268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlH7M.jpg?s=128&g=1", "display_name": "a72f831a", "link": "https://stackoverflow.com/users/6489268/a72f831a"}, "edited": false, "score": 0, "creation_date": 1565801312, "post_id": 57497700, "comment_id": 101467419, "body": "Thanks. This config works. Also I was using the wrong webpack config in my project the whole time (I have mutliple)."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1596190599, "last_edit_date": 1596190599, "creation_date": 1565796266, "answer_id": 57497700, "question_id": 57497648, "link": "https://stackoverflow.com/questions/57497648/searching-for-webpack-config-for-react-components-library-with-typescript-sass/57497700#57497700", "title": "Searching for Webpack config for React Components Library with Typescript, SASS &amp; CSS Modules via SASS support", "body": "<p>Create tsconfig.json file</p>\n<pre><code>{\n  &quot;compilerOptions&quot;: {\n    &quot;module&quot;: &quot;commonjs&quot;,\n    &quot;target&quot;: &quot;es5&quot;,\n    &quot;sourceMap&quot;: true\n  },\n  &quot;exclude&quot;: [\n    &quot;node_modules&quot;\n  ]\n}\n</code></pre>\n<p>Install dev dependency</p>\n<pre><code>npm install webpack webpack-cli webpack-dev-server typescript ts-loader style-loader css-loader sass-loader --save-dev\n</code></pre>\n<p>Then create webpack.config.js</p>\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  entry: path.join(__dirname, '/app.ts'),\n  output: {\n    filename: 'app.js',\n    path: __dirname\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.scss$/,\n        use: [\n          'style-loader',\n          {\n            loader: &quot;css-loader&quot;,\n            options: {\n              minimize: true,\n              sourceMap: true\n            }\n          },\n          {\n            loader: &quot;sass-loader&quot;\n          }\n        ]\n      },\n      {\n        test: /\\.tsx?$/,\n        loader: 'ts-loader',\n        exclude: /node_modules/,\n      }\n    ]\n  },\n  resolve: {\n    extensions: [&quot;.tsx&quot;, &quot;.ts&quot;, &quot;.js&quot;]\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6489268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlH7M.jpg?s=128&g=1", "display_name": "a72f831a", "link": "https://stackoverflow.com/users/6489268/a72f831a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 57497700, "answer_count": 1, "score": 2, "last_activity_date": 1596190599, "creation_date": 1565796030, "last_edit_date": 1570718662, "question_id": 57497648, "link": "https://stackoverflow.com/questions/57497648/searching-for-webpack-config-for-react-components-library-with-typescript-sass", "title": "Searching for Webpack config for React Components Library with Typescript, SASS &amp; CSS Modules via SASS support", "body": "<p>Like the title says I'm searching for a working Webpack config for a React Components Library with support for Typescript, SASS and CSS Modules via SASS. I would really appreciate if somebody has one and would like to share it here.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1565804963, "post_id": 57497515, "comment_id": 101468853, "body": "Is it not the <code>skillItems</code> Observable which needs to emit a new value?"}, {"owner": {"reputation": 327, "user_id": 10106578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58af79885a1e94e6d5db7e380c27f8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kron", "link": "https://stackoverflow.com/users/10106578/kron"}, "reply_to_user": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1565867705, "post_id": 57497515, "comment_id": 101485291, "body": "To be honest I don&#39;t know how to make an observable pointing to an api emit a custom value, though yes it does seems as though the problem is that while the list can be made to include the new custom value the <code>skillItems</code> value would read that custom value as invalid."}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1565873785, "post_id": 57497515, "comment_id": 101487714, "body": "You can merge Observables together if you need data from different sources. You could use a Subject for the clickable area, and call its <code>next()</code> method with whichever skill gets clicked. You could merge that Subject with another one for the input field&#39;s submission."}, {"owner": {"reputation": 327, "user_id": 10106578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58af79885a1e94e6d5db7e380c27f8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kron", "link": "https://stackoverflow.com/users/10106578/kron"}, "reply_to_user": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1565874508, "post_id": 57497515, "comment_id": 101488079, "body": "Sorry @WillAlexander, but I am unsure what you mean by merging the observables together."}, {"owner": {"reputation": 1886, "user_id": 8493521, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155601478282179/picture?type=large", "display_name": "Will Alexander", "link": "https://stackoverflow.com/users/8493521/will-alexander"}, "edited": false, "score": 0, "creation_date": 1565875349, "post_id": 57497515, "comment_id": 101488491, "body": "Check this out: <a href=\"https://www.learnrxjs.io/operators/combination/merge.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/combination/merge.html</a>"}], "owner": {"reputation": 327, "user_id": 10106578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58af79885a1e94e6d5db7e380c27f8d9?s=128&d=identicon&r=PG&f=1", "display_name": "Kron", "link": "https://stackoverflow.com/users/10106578/kron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 649, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565795547, "creation_date": 1565795547, "question_id": 57497515, "link": "https://stackoverflow.com/questions/57497515/how-to-programmatically-add-an-item-to-an-ng-select-with-asynchronous-items", "title": "How to programmatically add an item to an ng-select with asynchronous items", "body": "<p>My Angular page has two items of import here. One is a list of skills that are added in by the user and the other is a chart of skills that are acquired based on a job title.\nWhen the user enters a skill into the <code>ng-select</code> list it works perfectly. The skill is entered, it goes to the array that is set as the <code>[(ngModel)]</code> and everything that requires it runs perfectly. However I want the user to be able to click on a skill in the chart that I mentioned and have it show up on the <code>ng-select</code> list as well.</p>\n\n<p>I have tried this before with <code>ng-select</code>s that were not populated asynchronously and at that point I was able to add an item to it by doing <code>.push(...)</code> on the <code>[(ngModel)]</code> item. However possibly because there are is no list of items unless someone is typing in the <code>ng-select</code> it will not appear on the page if I do that here. It will still get added to the array, but the next time I type in the <code>ng-select</code> the manually added item will be erased.</p>\n\n<p>ng-select:</p>\n\n<pre><code>&lt;ng-select \n  class=\"m-1 ml-2 bg-white d-inline-block\" \n  multiple=\"true\" \n  [(ngModel)]=\"selectedSkills\" \n  [items]=\"skillItems | async\" \n  [typeahead]=\"skillSubject\" \n  (change)=\"populateTitleList()\"\n  placeholder=\"Key Skill(s)\"\n  style=\"max-width:70%\"&gt;\n&lt;/ng-select&gt;\n</code></pre>\n\n<p>Chart:</p>\n\n<pre><code>&lt;ngx-charts-bar-horizontal\n  [view]=\"view\"\n  [scheme]=\"colorScheme\"\n  [results]=\"multi\"\n  [gradient]=\"gradient\"\n  [xAxis]=\"showXAxis\"\n  [yAxis]=\"showYAxis\"\n  [legend]=\"showLegend\"\n  [showXAxisLabel]=\"showXAxisLabel\"\n  [showYAxisLabel]=\"showYAxisLabel\"\n  [xAxisLabel]=\"xAxisLabel\"\n  [yAxisLabel]=\"yAxisLabel\"\n  (select)=\"onSkillBarSelect($event)\"&gt;\n&lt;/ngx-charts-bar-horizontal&gt;\n</code></pre>\n\n<p>Creating Items:</p>\n\n<pre><code> this.skillItems = concat(\n      observableOf([]),\n      this.skillSubject.pipe(\n          debounceTime(200),\n          distinctUntilChanged(),\n          switchMap(text =&gt; this.courseService.searchCourseSkills(text, 20).pipe(\n              catchError(() =&gt; observableOf([])), // empty list on error\n              map(skills =&gt; skills.map(s =&gt; s.name))\n          ))\n      )\n    ).pipe(share());\n</code></pre>\n\n<p>When an item on the chart is clicked:</p>\n\n<pre><code>  onSkillBarSelect(event){\n    this.courseService.searchCourseSkills(event['name'], 20).subscribe(val =&gt; {\n      var i:number = 0;\n      for(i = 0;i &lt; val.length; i++){\n        if(event['name'].toUpperCase() == val[i]['name'].toUpperCase()){\n          if(!this.selectedSkills.includes(val[i]['name'])) {\n            this.selectedSkills.push(val[i]['name']);\n            this.populateTitleList();\n          }\n        }\n      }\n    });\n  }\n</code></pre>\n\n<p>Populate List:</p>\n\n<pre><code>populateTitleList() {\n    this.searchParams.keySkills = this.selectedSkills;\n\n    this.suggestedTitleList = [];\n\n    this.skillsService.getJobCloud(this.searchParams).subscribe(data =&gt; {\n      var i:number = 0;\n      for(i=0;i&lt;5;i++){\n        if(data['job_names'][i] != undefined)\n          this.suggestedTitleList.push(data['job_names'][i], data['job_counts'][i]);\n      }\n    });\n  }\n</code></pre>\n\n<p>The 'Populate List' bit is likely unimportant to the issue but I figured people would ask for it if I didn't include it. The issues is in the <code>onSkillBarSelect()</code> function which uses the observable to find a match for the item on the chart that was just selected and if it finds one pushes that value to the <code>selectedSkills</code> array which should be controlling what is displayed on the <code>ng-select</code> on the page. Yet when an item is clicked and a match is found it is added to the array without showing up on the page.</p>\n\n<p>I'm kind of stumped here, any advice would be appreciated.</p>\n"}, {"tags": ["angular", "typescript", "service", "progressive-web-apps", "worker"], "comments": [{"owner": {"reputation": 275, "user_id": 9518388, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "DanGo", "link": "https://stackoverflow.com/users/9518388/dango"}, "edited": false, "score": 0, "creation_date": 1565795652, "post_id": 57497418, "comment_id": 101464721, "body": "The Angular Docs section on deployment: <a href=\"https://angular.io/guide/deployment\" rel=\"nofollow noreferrer\">angular.io/guide/deployment</a> may be helpful"}, {"owner": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 0, "creation_date": 1565802925, "post_id": 57497418, "comment_id": 101468052, "body": "What is the exact not found error in the console?"}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "edited": false, "score": 0, "creation_date": 1565823712, "post_id": 57497418, "comment_id": 101474916, "body": "&quot;Uncaught (in Promise) DOMException... ngsw-worker.js:1"}, {"owner": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 0, "creation_date": 1565870629, "post_id": 57497418, "comment_id": 101486334, "body": "That looks like a possible video error (google search) - do you have something in your app that plays video?"}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "edited": false, "score": 0, "creation_date": 1565883226, "post_id": 57497418, "comment_id": 101492580, "body": "No, but I did notice that the service worker works fine on other computers and on my friend&#39;s google chrome Android app, but not on the laptop that I&#39;m developing on... Does that sound familiar at all?"}, {"owner": {"reputation": 105, "user_id": 10193786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4297adb18653c91a6327ce4a4c55f84?s=128&d=identicon&r=PG&f=1", "display_name": "tehila", "link": "https://stackoverflow.com/users/10193786/tehila"}, "edited": false, "score": 0, "creation_date": 1565889708, "post_id": 57497418, "comment_id": 101495351, "body": "try go to developer options (F12) then Application, choose ClearStorage and press the Clear site data. don&#39;t forget refresh the page"}, {"owner": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 0, "creation_date": 1565894043, "post_id": 57497418, "comment_id": 101497059, "body": "Type this into the chrome  address bar (chrome://apps/) and if you see your app icon, right-click to remove/uninstall"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "is_accepted": false, "score": 0, "last_activity_date": 1565915596, "creation_date": 1565915596, "answer_id": 57517663, "question_id": 57497418, "link": "https://stackoverflow.com/questions/57497418/angular-app-pwa-runs-in-ng-serve-but-not-with-http-server/57517663#57517663", "title": "Angular App (PWA) runs in ng serve but not with http-server", "body": "<p>Figured it out!  I didn't have enough space on my computer.  Deleted a bunch of videos off my hard drive and fixed it immediately.</p>\n"}], "owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565915596, "creation_date": 1565795221, "question_id": 57497418, "link": "https://stackoverflow.com/questions/57497418/angular-app-pwa-runs-in-ng-serve-but-not-with-http-server", "title": "Angular App (PWA) runs in ng serve but not with http-server", "body": "<p>I'm building a PWA with Angular.  Everything was working great until suddenly, I keep getting 404 Error every time I navigate to a new component, while serving in dist/project with http-server.  I haven't changed any code since deploying to git</p>\n\n<p>I've tried reinstalling Visual Studio, Restarting my Computer, Updating my Service Worker in the Ctrl+Shift+i menu, Resetting in git.  No avail.</p>\n\n<p>Here's my angular routing module</p>\n\n<pre><code>const appRoutes: Routes=[\n  {path: '', component: HomeComponent},\n  {path: 'home', component: HomeComponent},\n  {path: 'whoconebioassayphase1', component: WhoConeBioassayPhase1Component},\n  {path: 'editwhoconebioassayphase1', component: Editwhoconebioassayphase1Component},\n  {path: 'exphutintro', component: ExpHutIntroComponent},\n  {path: 'exphut', component: ExpHutComponent},\n  {path: 'editexphutintro', component: EditexphutintroComponent}\n]\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WhoConeBioassayPhase1Component,\n    NavbarComponent,\n    HomeComponent,\n    Editwhoconebioassayphase1Component,\n    ExpHutIntroComponent,\n    ExpHutComponent,\n    EditexphutintroComponent,\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(appRoutes),\n    HttpClientModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n    FormsModule,\n    ReactiveFormsModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule\n\n  ],\n  providers: [DataService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Index.html</p>\n\n<pre><code>&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;FbIhi&lt;/title&gt;\n  &lt;base href=\"/\"&gt;\n\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n  &lt;link rel=\"manifest\" href=\"manifest.json\"&gt;\n  &lt;meta name=\"theme-color\" content=\"#1976d2\"&gt;\n  &lt;link href = \"https://fonts.googleapis.com/css?family=Monteserrat\" rel=\"stylesheet\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n</code></pre>\n\n<p>manifest.json</p>\n\n<pre><code>{\n  \"name\": \"fb-ihi\",\n  \"short_name\": \"fb-ihi\",\n  \"theme_color\": \"#1976d2\",\n  \"background_color\": \"#fafafa\",\n  \"display\": \"standalone\",\n  \"scope\": \"/\",\n  \"start_url\": \"/\",\n  \"icons\": [\n    {\n      \"src\": \"assets/icons/icon-72x72.png\",\n      \"sizes\": \"72x72\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-96x96.png\",\n      \"sizes\": \"96x96\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-128x128.png\",\n      \"sizes\": \"128x128\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-144x144.png\",\n      \"sizes\": \"144x144\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-152x152.png\",\n      \"sizes\": \"152x152\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-192x192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-384x384.png\",\n      \"sizes\": \"384x384\",\n      \"type\": \"image/png\"\n    },\n    {\n      \"src\": \"assets/icons/icon-512x512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\"\n    }\n  ]\n}\n</code></pre>\n\n<p>and ngsw-config.json</p>\n\n<pre><code>{\n  \"index\": \"/index.html\",\n  \"assetGroups\": [\n    {\n      \"name\": \"app\",\n      \"installMode\": \"prefetch\",\n      \"resources\": {\n        \"files\": [\n          \"/favicon.ico\",\n          \"/index.html\",\n          \"/*.css\",\n          \"/*.js\"\n        ],\n        \"urls\":[\n          \"htts://fonts.googleapis.com/**\"\n        ]\n      }\n    }, {\n      \"name\": \"assets\",\n      \"installMode\": \"lazy\",\n      \"updateMode\": \"prefetch\",\n      \"resources\": {\n        \"files\": [\n          \"/assets/**\",\n          \"/*.(eot|svg|cur|jpg|png|webp|gif|otf|ttf|woff|woff2|ani)\"\n        ]\n      }\n    }],\n    \"dataGroups\": [\n      {\n        \"name\":\"jokes-api\",\n        \"urls\": [\"https://api.chucknorris.io/jokes/random\"],\n        \"cacheConfig\":{\n          \"strategy\": \"freshness\",\n          \"maxSize\": 20,\n          \"maxAge\": \"90d\",\n          \"timeout\":\"5s\"\n\n        }\n      }\n\n    ]\n}\n\n</code></pre>\n\n<p>I expect to be able to click on a button in my app and be routed to the next component.  However, instead I'm getting a not found error.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1565842448, "last_edit_date": 1565842448, "creation_date": 1565799968, "answer_id": 57498628, "question_id": 57497299, "link": "https://stackoverflow.com/questions/57497299/typescript-prevent-assignment-of-object-with-more-properties-than-is-specified/57498628#57498628", "title": "Typescript: prevent assignment of object with more properties than is specified in target interface", "body": "<p>If <code>UserWithPassword</code> is a subtype of <code>UserWithoutPasword</code>, any OOP language allows the assignment. The only TypeScript difference - you shouldn't explicitly implement the interface. TS only checks that the shape of the object meets the interface type.</p>\n\n<p>Another case - the object literal initialization, excess properties are not allowed here. The compiler expects that the created object shape should exactly match the type of the variable, the object will be assigned to. It's rather a mistake to create an object and immediately lose a part of its type after the assignment.</p>\n"}, {"comments": [{"owner": {"reputation": 1180, "user_id": 8620332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c048b642b942ede5b385fdab3dfd7723?s=128&d=identicon&r=PG&f=1", "display_name": "Magnus", "link": "https://stackoverflow.com/users/8620332/magnus"}, "edited": false, "score": 2, "creation_date": 1565814072, "post_id": 57499679, "comment_id": 101472325, "body": "Great explanation and suggested solution. Thanks!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 13, "last_activity_date": 1565804820, "creation_date": 1565804820, "answer_id": 57499679, "question_id": 57497299, "link": "https://stackoverflow.com/questions/57497299/typescript-prevent-assignment-of-object-with-more-properties-than-is-specified/57499679#57499679", "title": "Typescript: prevent assignment of object with more properties than is specified in target interface", "body": "<p>The other answers here are essentially correct: types in TypeScript are generally open/extendable and can always have properties added; that is, they are not <a href=\"https://github.com/Microsoft/TypeScript/issues/12936\" rel=\"noreferrer\">exact types</a> in which only known properties are allowed to exist.  TypeScript doesn't really support exact types in general, although it does treat the types of freshly created object literals as exact types via <a href=\"https://www.typescriptlang.org/docs/handbook/interfaces.html#excess-property-checks\" rel=\"noreferrer\">excess property checks</a>, as you've noticed.</p>\n\n<p>If you really want to forbid a particular property key from a type in TypeScript, you can do this by making the property optional and have its type be <code>never</code> or <code>undefined</code>:</p>\n\n<pre><code>interface IUserSansPassword {\n  username: string;\n  email: string;\n  password?: never; // cannot have a password\n}\n\ndeclare class UserSansPassword implements IUserSansPassword {\n  username: string;\n  email: string;\n  password?: never; // need to declare this also\n}\n</code></pre>\n\n<p>Now <code>UserSansPassword</code> is known <em>not</em> to have a defined <code>password</code> property.  Of course now the following is an error:</p>\n\n<pre><code>interface IUser extends IUserSansPassword { // error! \n// Types of property \"password\" are incompatible\n  password: string;\n}\n</code></pre>\n\n<p>You can't extend <code>IUserSansPassword</code> by adding a password... if <code>A extends B</code> then you can always use an <code>A</code> instance where a <code>B</code> instance is expected.  What you can do is extend a related type, your original <code>IUserSansPassword</code>, which can be computed using the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#the-omit-helper-type\" rel=\"noreferrer\"><code>Omit</code> helper type</a>:</p>\n\n<pre><code>interface IUser extends Omit&lt;IUserSansPassword, \"password\"&gt; {\n  password: string;\n}\n\ndeclare class User implements IUser {\n  username: string;\n  email: string;\n  password: string;\n}\n</code></pre>\n\n<p>And then the following is an error like you expect:</p>\n\n<pre><code>const userSansPassword: UserSansPassword = new User();\n// error, mismatch on \"password\" prop\n</code></pre>\n\n<p>Okay, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgJIFUDO0DKcSYAKcmmA7gPZQAmyA3gFDLICu2UIcAthAFzKYwUUAHMA3E2QQucYABt+g4SHGSADiXJVqAfn4gIAN2hjkAejPIE+EBTDIAFnGPI4yDaUo0GAXwYNqCAQ5OCgUYM1kLFx8Ik0vWmAuNTlpCHBMNGioPAJiT216STZoTh5FIVEJZmlZBQFKlWr3eO09ZANjKFMLDogIWjAKZECIsOQwB2BMuDlMCl9-UEhYRBQMdikAD0gQakyAeS5gMAAeDZi81poAGmQAIg8tGnuAPiLmJ4SK5VU-AKCIXGEVIUU2SRSaQyWU2jGYJQ43D4DV+zVq8h+VXU12omKaiwYCAoBHsCNycQKNH42XJ+WetAAvH0yGDoAAKACUEl60CgVDux0wMjACAcyGJDy+2nu7j5agYQA\" rel=\"noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 1180, "user_id": 8620332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c048b642b942ede5b385fdab3dfd7723?s=128&d=identicon&r=PG&f=1", "display_name": "Magnus", "link": "https://stackoverflow.com/users/8620332/magnus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2472, "favorite_count": 1, "accepted_answer_id": 57499679, "answer_count": 2, "score": 13, "last_activity_date": 1565842448, "creation_date": 1565794864, "question_id": 57497299, "link": "https://stackoverflow.com/questions/57497299/typescript-prevent-assignment-of-object-with-more-properties-than-is-specified", "title": "Typescript: prevent assignment of object with more properties than is specified in target interface", "body": "<p>Say I have a typical 'user' object with the usual username, email, password, etc. properties. I want to create and manage an object that is a bona fide 'subset' of such a user with assurances that the password is NOT included. Here's a rough approach:</p>\n\n<pre><code>interface IUserSansPassword {\n    username: string;\n    email: string;\n}\n\nclass UserSansPassword implements IUserSansPassword { ... }\n\ninterface IUser extends IUserSansPassword {\n    password: string;\n}\n\nclass User implements IUser { ... }\n</code></pre>\n\n<p>In trying to create an object of type <code>IUserSansPassword</code>, I expected the following to error:</p>\n\n<pre><code>const userSansPassword: UserSansPassword = new User(); // No TS Error \u2020\u2020\u2020\n</code></pre>\n\n<p>However, I don't get a TS error because, to my surprise, TS doesn't prohibit assigning objects with already established 'extra' properties. This is surprising since I would get an error if I tried to define directly with the extra property like so:</p>\n\n<pre><code>const userSansPassword: IUserSansPassword = {\n    username: 'jake',\n    email: 'jake@snake.com',\n    password: '' // TS Error ***\n}\n</code></pre>\n\n<p>My questions in summary:</p>\n\n<ol>\n<li><p>Why does TS behave this way? Isn't it bad to allow assignment to a type with excess properties (hence why you get an error in *** above)?</p></li>\n<li><p>Is there a TS setting or technique I can employ to get TS to error in \u2020\u2020\u2020 above? </p></li>\n</ol>\n"}, {"tags": ["node.js", "typescript", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 0, "creation_date": 1565844220, "post_id": 57497280, "comment_id": 101478152, "body": "When are you planning on setting your env variables? Why are they not available from the get-go?"}, {"owner": {"reputation": 21, "user_id": 8161136, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C8gMEhDCLYc/AAAAAAAAAAI/AAAAAAAAAus/vLLzcILFbi0/photo.jpg?sz=128", "display_name": "David Echeli", "link": "https://stackoverflow.com/users/8161136/david-echeli"}, "reply_to_user": {"reputation": 17343, "user_id": 9576186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2beeea1d726e9c3fab3a91953895039b?s=128&d=identicon&r=PG", "display_name": "Jay McDoniel", "link": "https://stackoverflow.com/users/9576186/jay-mcdoniel"}, "edited": false, "score": 1, "creation_date": 1565856009, "post_id": 57497280, "comment_id": 101481081, "body": "@JayMcDoniel The idea is that the endpoint is who will create the .env file. This endpoint will work as a setup for the environment variables.  The same project will be used in different environments, so the idea is to simplify the configuration with a setup that will consume this endpoint."}, {"owner": {"reputation": 804, "user_id": 1069007, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069e1acdd5c173d3770a9b17080d87f1?s=128&d=identicon&r=PG", "display_name": "eenagy", "link": "https://stackoverflow.com/users/1069007/eenagy"}, "edited": false, "score": 0, "creation_date": 1565870106, "post_id": 57497280, "comment_id": 101486114, "body": "Why not just fetch the <code>.env</code> file with curl?  Save it to the normal location where it can be loaded by typeorm. And just start the  nest.js server as you would normally do according to documentation. <code>npm run-script fetch-config &amp;&amp;  npm start</code>"}], "owner": {"reputation": 21, "user_id": 8161136, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C8gMEhDCLYc/AAAAAAAAAAI/AAAAAAAAAus/vLLzcILFbi0/photo.jpg?sz=128", "display_name": "David Echeli", "link": "https://stackoverflow.com/users/8161136/david-echeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 743, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565795324, "creation_date": 1565794789, "last_edit_date": 1565795324, "question_id": 57497280, "link": "https://stackoverflow.com/questions/57497280/how-to-change-the-typeorm-config-dynamically-on-a-nestjs-server", "title": "How to change the TypeORM config dynamically on a NestJS server?", "body": "<p>I'm trying to create an endpoint to configure my NestJS server. Basically, the endpoint will create my environment file(.env).</p>\n\n<p>My problem is when I start my NestJS server for the first time I don't have the variables for the TypeORM, so when the TypeORM module is imported the server crash because it can find the configuration.</p>\n\n<p>So I'm trying to find a way to start my NestJS server without importing the TypeORM module or importing the TypeORM without the configuration and add it later when I have the environment variables set.</p>\n\n<p>mysql-database.module.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\n@Module({\n  imports: [TypeOrmModule.forRoot()],\n  providers: [MysqlDatabaseService],\n  exports: [MysqlDatabaseService],\n})\n...\n</code></pre>\n\n<p>.env (That are the variables that are not set when I start the NestJS for the first time)</p>\n\n<pre><code>...\nTYPEORM_CONNECTION = mysql\nTYPEORM_HOST = localhost\nTYPEORM_USERNAME = root\nTYPEORM_PASSWORD = root\nTYPEORM_DATABASE = mydb\nTYPEORM_PORT = 3306\nTYPEORM_SYNCHRONIZE = true\nTYPEORM_LOGGING = true\nTYPEORM_ENTITIES = src/**/*.entity.ts\n\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 0, "creation_date": 1565795283, "post_id": 57497126, "comment_id": 101464521, "body": "Your edit shows the solution. And in your playground you see the reason why i think they didn&#39;t implement it that way. because the code where you wrote <code>&#47;&#47; No type error, as expected</code> will lead to a type error (correctly so)."}, {"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "reply_to_user": {"reputation": 4783, "user_id": 278329, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/691cda48c764e569ef7886d4cbdb1133?s=128&d=identicon&r=PG", "display_name": "x4rf41", "link": "https://stackoverflow.com/users/278329/x4rf41"}, "edited": false, "score": 0, "creation_date": 1565795825, "post_id": 57497126, "comment_id": 101464822, "body": "You&#39;re right. I&#39;ve thought about it more and realised I was looking at it in the wrong way. I&#39;m effectively saying that I think TS is not being pedantic enough about correctness, but actually it is - it&#39;s behaving exactly correctly according to what I&#39;ve specified in the type and trusting me. If I want TS to make the <code>| undefined</code> assumption, I have to tell it to do that."}], "answers": [{"comments": [{"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1565796038, "post_id": 57497595, "comment_id": 101464954, "body": "Thanks, you&#39;re right - as in the comments above the mistaken assumption is that TS should infer something not explicitly stated in my type definition. It is actually doing exactly as I say. The solution is to explicitly tell it to expect values of Foo <b>or</b> undefined from the Dictionary, then it takes my assumption into account. Just making a strict type isn&#39;t quite the right solution here, as it&#39;s really about making a dictionary object I can use any keys with at runtime -- the one, two props thing in the example was just to illustrate the issue - probably didn&#39;t make that clear enough."}], "tags": [], "owner": {"reputation": 163, "user_id": 8601193, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WGwukD9fbHg/AAAAAAAAAAI/AAAAAAAAAnI/v2iGDyktieA/photo.jpg?sz=128", "display_name": "Austin Fahsl", "link": "https://stackoverflow.com/users/8601193/austin-fahsl"}, "is_accepted": false, "score": 0, "last_activity_date": 1565795845, "creation_date": 1565795845, "answer_id": 57497595, "question_id": 57497126, "link": "https://stackoverflow.com/questions/57497126/typescript-why-does-generic-dictionary-type-not-return-possibly-undefined-valu/57497595#57497595", "title": "Typescript - why does generic dictionary type not return possibly undefined value?", "body": "<p>By declaring <code>type Dictionary = { [id: string]: Foo }</code>, you are telling the compiler that any string is a valid key for this type. The compiler will then make no assumptions about which strings are valid keys and which are not, essentially saying that any property accessor is defined and will return a <code>Foo</code>.</p>\n\n<p>If you want to enforce that only the <code>one</code> and <code>two</code> keys are defined for your object, then you can strictly define the properties of your dictionary:</p>\n\n<pre><code>type Dictionary = {\n  one: Foo;\n  two: Foo;\n}\n</code></pre>\n"}], "owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 920, "favorite_count": 0, "closed_date": 1565805838, "answer_count": 1, "score": 3, "last_activity_date": 1565796672, "creation_date": 1565794300, "last_edit_date": 1565796672, "question_id": 57497126, "link": "https://stackoverflow.com/questions/57497126/typescript-why-does-generic-dictionary-type-not-return-possibly-undefined-valu", "closed_reason": "Duplicate", "title": "Typescript - why does generic dictionary type not return possibly undefined value?", "body": "<p>Came across something really unexpected with Typescript</p>\n\n<p>I've been using the following pattern to specify that an object is a dictionary of <code>string</code> keys to <code>Foo</code> values</p>\n\n<p><code>type Dictionary = { [id: string]: Foo }</code></p>\n\n<p>What's really strange is, when I try to retrieve a value from the Dictionary using <em>any</em> key, Typescript gives the return type as <code>Foo</code></p>\n\n<p>I would expect it to be <code>Foo | undefined</code>, as of course if the key does not map to any value, <code>undefined</code> is returned.</p>\n\n<p>Here's an example of why this behaves unexpectedly - <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAYg9nKBeKBvKAjAhgJwFxQB2ArgLYYQ5QC+AUKJFACICWAxsC3IbiMmlADaLACYEAzsBwtCAcwC6BeIjptukqFgKsOXHjj4p0tKKajcIBdNnxQAjDQA0UE2eAB3OFcy4CAJhoXOlo1Qg0sEREAeUIIABU4ACFcfgAKADMEJQQASmQAPihMuAA6GygAantaWgB6WqgAOUQGaEocOBxnLHEoCAAPSA4IEVosABtKYFSI6NiE5JwZkoscnLHJnGnZmPik3BnBAHILI-k1mqk+VFdTeqhE4mAodywWYGd3AAssYAB+KAACTg7igLF6wC+lGghBa4DaOA6VChOAgf1umk220iuwWBywJUhqIgFzMmKmMxx832SywxyJEAgZwu1CgbF+bC+UFS7TyNzJEwpRyi6TZcGIOHEEGckOhYN6WCIxHG4ygYDgMmAlD6iM6BCOlR1OHW1CAA\" rel=\"nofollow noreferrer\">see the playground here</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Foo = { bar: number }\ntype Dictionary = { [id: string]: Foo }\n\nconst a: Dictionary = { \n  one: { bar: 1 }, \n  two: { bar: 2 } \n}\n\nconst addOneToBar = (foo: Foo) =&gt; foo.bar + 1\n\n// No type error, maybe expected, because we 'know' from context that \n// the one property exists on the Dictionary instance a\nalert(addOneToBar(a.one))\nalert(addOneToBar(a['one']))\n\ntry {\n  // There is still no type error here, though. Why?\n  // Shouldn't a.three / a['three'] return Foo | undefined\n  // instead of Foo, because we're not certain there is any three property?\n  alert(addOneToBar(a.three))\n  alert(addOneToBar(a['three']))\n} catch (err) {\n  alert('Of course, there is a null pointer error: ' + err)\n}\n</code></pre>\n\n<p>This code seems to me to be obviously not typesafe, and indeed results in a runtime exception which is not flagged by Typescript. </p>\n\n<p>I'm really surprised by this - returning <code>undefined</code> for a key pointing to nothing is a fundamental behaviour of Javascript objects, and I guess any generic dictionary/map implementation in most languages. I can't understand why Typescript would miss this.</p>\n\n<p>Perhaps I've made a mistake in the code above, or I'm misinterpreting the purpose of the <code>{ [id: string]: Foo }</code> pattern, and/or there's another pattern for typing dictionaries in Typescript that does have this behaviour that I should use instead (I've already tried the <code>Record</code> type and found, again to my surprise, it also exhibits the same behaviour). </p>\n\n<p>What is going on here?</p>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>I've just realised writing the question that I can probably do <code>type Dictionary = { [id: string]: Foo | undefined }</code> to get this behaviour. But again, why would this not be the default out of the box? Perhaps if you had a narrow key type, like an enum, it would make sense, but if you have a <code>string</code> key it's absolutely wrong to guarantee that a value will always be returned from the Dictionary, isn't it?</p>\n\n<p><strong>Further Edit</strong></p>\n\n<p>As in the comments, I've now realised that Typescript behaving this way actually makes sense, and the solution above, to <strong>explicitly</strong> tell TS that the dictionary may return undefined values is the solution. In a sense, this is me assuming that TS should infer things from types rather than me having to explicitly state them - you could argue the convenience case either way - the way I proposed it should behave is good for when keys might be missing, but bad for when you're sure they won't be. The opposite is true for the way TS actually behaves here.</p>\n\n<hr>\n\n<p><strong>Mods</strong></p>\n\n<p>This isn't a question with an answer per-se (TypeScript is just working as designed), but I'm going to leave it around unless it gets close votes because I think it's an interesting summary of the behaviour and why is is implemented in the way it is.</p>\n"}, {"tags": ["reactjs", "typescript", "eslint", "react-component"], "comments": [{"owner": {"reputation": 586, "user_id": 9191773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2yiZw.png?s=128&g=1", "display_name": "josias", "link": "https://stackoverflow.com/users/9191773/josias"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1565805527, "post_id": 57496770, "comment_id": 101469088, "body": "Yes.. But as I wrote, shouldn&#39;t the return type already be known to Typescript because I extend the React.Component Class. I&#39;m calling the render method not creating it..."}, {"owner": {"reputation": 586, "user_id": 9191773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2yiZw.png?s=128&g=1", "display_name": "josias", "link": "https://stackoverflow.com/users/9191773/josias"}, "reply_to_user": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1565855221, "post_id": 57496770, "comment_id": 101480809, "body": "Ah okay, no it&#39;s in the code. It&#39;s a very large component so I only screenshotted the error part. I&#39;m returning a JSX Element."}], "owner": {"reputation": 586, "user_id": 9191773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2yiZw.png?s=128&g=1", "display_name": "josias", "link": "https://stackoverflow.com/users/9191773/josias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 988, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565793115, "creation_date": 1565793115, "question_id": 57496770, "link": "https://stackoverflow.com/questions/57496770/react-tsx-render-method-return-type", "title": "React TSX render method return type", "body": "<p>I'm rewriting a react class component with tsx. I'm using quite a strict eslintrc file with lots of recommended settings:</p>\n\n<pre><code>{\n  \"parser\": \"@typescript-eslint/parser\",\n  \"extends\": [\n    \"react-app\",\n    \"plugin:@typescript-eslint/recommended\",\n    \"prettier/@typescript-eslint\",\n    \"plugin:prettier/recommended\"\n  ],\n  \"rules\": {\n    \"no-var\": 1,\n    \"@typescript-eslint/explicit-function-return-type\": [\n      \"error\",\n      {\n        \"allowTypedFunctionExpressions\": true\n      }\n    ]\n  },\n  \"plugins\": [\"@typescript-eslint\"]\n}\n</code></pre>\n\n<p>With this configuration I get the following error \"Missing return type\" on my render method in typescript:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jxCpq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jxCpq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can add JSX.Element as the return type, but was wondering because shouldn't that already be known to typescript because the class extends <code>React.Components</code>?</p>\n\n<p>I made sure I have all the types installed.</p>\n\n<p>Also, do you think my eslintrc makes sense for production?</p>\n\n<p>I appreaciate all the help!</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 1603, "user_id": 4716488, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gfPgZ.jpg?s=128&g=1", "display_name": "ethane", "link": "https://stackoverflow.com/users/4716488/ethane"}, "is_accepted": true, "score": 2, "last_activity_date": 1565794235, "last_edit_date": 1565794235, "creation_date": 1565793058, "answer_id": 57496745, "question_id": 57496521, "link": "https://stackoverflow.com/questions/57496521/how-to-import-constants-from-another-file-on-typescript/57496745#57496745", "title": "How to import constants from another file on TypeScript?", "body": "<blockquote>\n  <p>import * as defaults from 'constants'</p>\n</blockquote>\n\n<p>The above tells node to look inside <code>/node_modules</code> for a <code>constants</code> module. </p>\n\n<p>Change that line to:</p>\n\n<p><code>import * as defaults from './path/to/constants'</code> </p>\n\n<p>As for what's being printed to the console, that's another matter since it's certainly putting something in your <code>defaults</code> import identifier. </p>\n"}], "owner": {"reputation": 379, "user_id": 1377288, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c49f62d90a3e50b237f67e2e1705111a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuma", "link": "https://stackoverflow.com/users/1377288/tuma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1617, "favorite_count": 0, "accepted_answer_id": 57496745, "answer_count": 1, "score": 2, "last_activity_date": 1565794235, "creation_date": 1565792256, "question_id": 57496521, "link": "https://stackoverflow.com/questions/57496521/how-to-import-constants-from-another-file-on-typescript", "title": "How to import constants from another file on TypeScript?", "body": "<p>This is embarrassing to ask, but I'm trying to separate all constants into a new file and just import it, to keep things clean. However, nothing I've tried works, and all other questions here on SO seem to revolve around importing classes and functions. </p>\n\n<p>I have a file called <code>constants.tsx</code>, where all the constants are declared:</p>\n\n<pre><code>export const default_bg               = \"#2456a5\"\nexport const default_light_font_color = \"white\"\nexport const default_lg_font_size     = 11\nexport const default_md_font_size     = 10\nexport const default_sm_font_size     = 9\nexport const default_dark_font_color  = \"#000028\"\nexport const default_font             = \"arial\"\n</code></pre>\n\n<p>And a main file with all the functionality so far, <code>App.tsx</code>:</p>\n\n<pre><code>import * as React from 'react';\nimport { Header } from './Header';\nimport { Body } from './Body';\n\nimport * as defaults from 'constants'\n\n...\n</code></pre>\n\n<p>However, <code>defaults</code> (or any other name I give the import) doesn't seem to contain the constants. Writing <code>defaults.default_bg</code> gives me this error:</p>\n\n<blockquote>\n  <p>TS2339: Property 'default_bg' does not exist on type 'typeof\n  import(\"constants\")'.</p>\n</blockquote>\n\n<p>And <code>console.log(defaults)</code> prints:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CP0u5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CP0u5.png\" alt=\"enter image description here\"></a></p>\n\n<p>I know this is probably extremely simple, but I can't figure out how to do this. I'm new to Typescript and Javascript in general.</p>\n"}, {"tags": ["angular", "typescript", "ngxs"], "answers": [{"tags": [], "owner": {"reputation": 1716, "user_id": 982517, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/4bhdJ.jpg?s=128&g=1", "display_name": "Scuba Kay", "link": "https://stackoverflow.com/users/982517/scuba-kay"}, "is_accepted": true, "score": 2, "last_activity_date": 1565794613, "creation_date": 1565794613, "answer_id": 57497226, "question_id": 57495911, "link": "https://stackoverflow.com/questions/57495911/how-to-create-parametrized-selector-in-ngxs/57497226#57497226", "title": "How to create parametrized selector in NGXS?", "body": "<p>In the documentation, under selectors, you can find <a href=\"https://ngxs.gitbook.io/ngxs/concepts/select#memoized-selectors-with-arguments\" rel=\"nofollow noreferrer\">memoized selectors with arguments</a>:</p>\n\n<pre><code>@State&lt;string[]&gt;({\n  name: 'animals',\n  defaults: []\n})\nexport class YourState{\n\n  static selectorName(yourArgument: string) {\n    return createSelector([YourState], (state: string[]) =&gt; {\n      return state.filter(s =&gt; s === yourArgument);\n    });\n  }\n}\n</code></pre>\n\n<p>You can then use your selector like this: </p>\n\n<pre><code>@Select(YourState.selectorName('yourArgument')) selectedStuf;\n</code></pre>\n\n<p>Next time, add some code examples from what you have already tried. </p>\n"}], "owner": {"reputation": 1563, "user_id": 1768378, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d04ff4fa7a08dc8de07a6a81d01dd28a?s=128&d=identicon&r=PG", "display_name": "vdshb", "link": "https://stackoverflow.com/users/1768378/vdshb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 57497226, "answer_count": 1, "score": -3, "last_activity_date": 1565934529, "creation_date": 1565789920, "last_edit_date": 1565934529, "question_id": 57495911, "link": "https://stackoverflow.com/questions/57495911/how-to-create-parametrized-selector-in-ngxs", "title": "How to create parametrized selector in NGXS?", "body": "<p>I would like to create a selector with arguments. Is there a clean way to do it?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I messed up with the question a bit. I should have been less hasty and more attentive with the documentation, which contained the answer. I've removed everything unnecessary to make it cleaner.</p>\n"}, {"tags": ["angular", "typescript", "sonarqube", "sonarqube-scan"], "answers": [{"tags": [], "owner": {"reputation": 2455, "user_id": 1183088, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaa57863cd499773656be513bb4e1b83?s=128&d=identicon&r=PG", "display_name": "Jack M", "link": "https://stackoverflow.com/users/1183088/jack-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1566373538, "creation_date": 1566373538, "answer_id": 57586796, "question_id": 57495797, "link": "https://stackoverflow.com/questions/57495797/jenkins-error-cannot-find-module-typescript/57586796#57586796", "title": "Jenkins-Error: Cannot find module &#39;typescript&#39;", "body": "<p>After a few hours pondering, I come to the solution, and before let me explain the cause. This project is downloaded from git(bitbucket), in the solution we never allow node_modules to be checked in. So in this instance node_modules doesn't exist. Secondly the problem(this is out of my control), There is no instance of bash command installed, rather someone decided to install powershell plugin and i have to deal with it.\nsolution was to add powershell in my script and the final result is</p>\n\n<pre><code>steps {\n    withSonarQubeEnv('Dev-build-01') {\n powershell '''\n        cd D:/SonarQube/abcd-webapp\n        rmdir /q/s node_modules \ndel package-lock.json\n        npm install\n'''\n        bat \"C:/Jenkins/tools/hudson.plugins.sonar.SonarRunnerInstallation/SonarQubeScanner/Net/bin/sonar-scanner.bat -D sonar.projectKey=abcd-webapp -D sonar.sources=src -D sonar.login=667723c08ecfe0fc0d5c0e91bdd5c4b219e851e7 -D sonar.projectBaseDir=D:/SonarQube/abcd-webapp\"\n    }\n        timeout(time: 60, unit: 'MINUTES') {\n          //   waitForQualityGate abortPipeline: true\n            }\n        }   \n     }\n</code></pre>\n\n<p>And finally my pipeline was fixed.</p>\n"}], "owner": {"reputation": 2455, "user_id": 1183088, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eaa57863cd499773656be513bb4e1b83?s=128&d=identicon&r=PG", "display_name": "Jack M", "link": "https://stackoverflow.com/users/1183088/jack-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2170, "favorite_count": 0, "accepted_answer_id": 57586796, "answer_count": 1, "score": 2, "last_activity_date": 1566373538, "creation_date": 1565789503, "question_id": 57495797, "link": "https://stackoverflow.com/questions/57495797/jenkins-error-cannot-find-module-typescript", "title": "Jenkins-Error: Cannot find module &#39;typescript&#39;", "body": "<p>I have a jenkins pipeline where I am trying to scan an angular website for sonarqube and I have encountered this error: </p>\n\n<pre><code>ERROR: internal/modules/cjs/loader.js:582\nERROR:     throw err;\nERROR:     ^\nERROR: \nERROR: Error: Cannot find module 'typescript'\nERROR:     at Function.Module._resolveFilename (internal/modules/cjs/loader.js:580:15)\nERROR:     at Function.Module._load (internal/modules/cjs/loader.js:506:25)\nERROR:     at Module.require (internal/modules/cjs/loader.js:636:17)\nERROR:     at require (internal/modules/cjs/helpers.js:20:18)\nERROR:     at Object.&lt;anonymous&gt; (D:\\SonarQube\\ajbic-client-app\\.scannerwork\\sonarts-bundle\\node_modules\\tslint\\lib\\language\\walker\\blockScopeAwareRuleWalker.js:20:10)\nERROR:     at Module._compile (internal/modules/cjs/loader.js:688:30)\nERROR:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:699:10)\nERROR:     at Module.load (internal/modules/cjs/loader.js:598:32)\nERROR:     at tryModuleLoad (internal/modules/cjs/loader.js:537:12)\nERROR:     at Function.Module._load (internal/modules/cjs/loader.js:529:3)\nERROR: Failed to find 'typescript' module. Please check, NODE_PATH contains location of global 'typescript' or install locally in your project\nINFO: ------------------------------------------------------------------------\nINFO: EXECUTION FAILURE\n</code></pre>\n\n<p>my setup in jenkins is like this:</p>\n\n<pre><code>steps {\n        withSonarQubeEnv('Dev-build-01') {\n            bat \"cd D:/SonarQube/abcd-webapp\"\n            bat \"rm -rf node_modules package-lock.json\"\n            bat \"npm install\"\n            bat \"C:/Jenkins/tools/hudson.plugins.sonar.SonarRunnerInstallation/SonarQubeScanner/Net/bin/sonar-scanner.bat -D sonar.projectKey=abcd-webapp -D sonar.sources=src -D sonar.login=667723c08ecfe0fc0d5c0e91bdd5c4b219e851e7 -D sonar.projectBaseDir=D:/SonarQube/abcd-webapp\"\n        }\n            timeout(time: 60, unit: 'MINUTES') {\n              //   waitForQualityGate abortPipeline: true\n                }\n            }   \n         }\n</code></pre>\n\n<p>I ahve done the usual stuff, installing typescript(download and via npm) but everytime I am getting the same error.\nAlso a strange thing that happens is when I remove the stage and save, the pipeline still goes through the analysis.</p>\n\n<p>Anyone have an idea of what to do?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1565789962, "post_id": 57495717, "comment_id": 101461503, "body": "But <code>Foo</code> <i>does</i> have possibly undefined fields - this isn&#39;t something I can just change, that&#39;s kind of the problem."}, {"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1565789973, "post_id": 57495717, "comment_id": 101461508, "body": "Also the <code>NonNullable</code> generic is not what I need, that just works on the top level - i.e. in that example any variable with type <code>Bar</code> would not be undefined, but its properties still could be"}], "tags": [], "owner": {"reputation": 644, "user_id": 1256169, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7ecdb1fe3ca322b368090eb18fa8b02?s=128&d=identicon&r=PG", "display_name": "Joshua Davison", "link": "https://stackoverflow.com/users/1256169/joshua-davison"}, "is_accepted": false, "score": 0, "last_activity_date": 1565789275, "creation_date": 1565789275, "answer_id": 57495717, "question_id": 57495590, "link": "https://stackoverflow.com/questions/57495590/typescript-generic-for-deriving-the-same-type-but-with-no-properties-undefined/57495717#57495717", "title": "Typescript - Generic for deriving the same type but with no properties undefined", "body": "<pre class=\"lang-js prettyprint-override\"><code>type Foo = { \n  a: string\n  b: string\n  c: string\n}\n</code></pre>\n\n<p>None of those properties can be undefined - if you've enabled strict null checks in your TSConfig.</p>\n\n<p>In strict <code>null</code> checking mode, the <code>null</code> and <code>undefined</code> values are not in the domain of every type and are only assignable to themselves and <code>any</code> (the one exception being that <code>undefined</code> is also assignable to <code>void</code>).</p>\n\n<p>Also, I think you're looking for this...</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type NonNullable&lt;T&gt; = T extends null ? never : T\n// Exclude null and undefined from T\n</code></pre>\n\n<p>Usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Bar = NonNullable&lt;Foo&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "edited": false, "score": 0, "creation_date": 1565792325, "post_id": 57496418, "comment_id": 101462847, "body": "This has been extremely helpful, thanks. I do need to have the possibly undefined properties on <code>Foo</code> for reasons I won&#39;t go into, but the implementation of <code>Required&lt;T&gt;</code> here has led me to the solution. Thanks!"}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1565791889, "creation_date": 1565791889, "answer_id": 57496418, "question_id": 57495590, "link": "https://stackoverflow.com/questions/57495590/typescript-generic-for-deriving-the-same-type-but-with-no-properties-undefined/57496418#57496418", "title": "Typescript - Generic for deriving the same type but with no properties undefined", "body": "<p>Do you need to declare your type as above, or could you slightly change it to this instead:</p>\n\n<pre><code>type Foo = { \n  a?: string\n  b: string\n  c?: string\n}\n</code></pre>\n\n<p>If you can do that then the built-in <code>Required</code> generic will do what you want, I think:</p>\n\n<pre><code>type NoUndefinedFoo = Required&lt;Foo&gt;\n</code></pre>\n\n<p>See <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#example-6\" rel=\"nofollow noreferrer\">here</a> for details.</p>\n\n<p>Here's how that generic type is defined:</p>\n\n<pre><code>type Required&lt;T&gt; = { [P in keyof T]-?: T[P] };\n</code></pre>\n\n<p>i.e. it removes the <code>?</code> from every property of the <code>T</code> you pass into <code>Required</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "is_accepted": true, "score": 1, "last_activity_date": 1565792658, "creation_date": 1565792658, "answer_id": 57496620, "question_id": 57495590, "link": "https://stackoverflow.com/questions/57495590/typescript-generic-for-deriving-the-same-type-but-with-no-properties-undefined/57496620#57496620", "title": "Typescript - Generic for deriving the same type but with no properties undefined", "body": "<p>The <code>NoPropertiesUndefined</code> generic from the question can be implemented like this</p>\n\n<pre><code>type NoPropertiesUndefined&lt;T&gt; = { [P in keyof T]: NonNullable&lt;T[P]&gt; }\n</code></pre>\n\n<p>You use it like:</p>\n\n<pre><code>type Bar = NoPropertiesUndefined&lt;Foo&gt;\n</code></pre>\n\n<p><code>Bar</code> then has all the same fields as <code>Foo</code>, just none of them can be undefined.</p>\n\n<p><br/></p>\n\n<hr>\n\n<p><sub>I'll accept my own answer as it directly solves the exact problem I had, but I came to this solution via the answer from Yoni Gibbs, which mentions the related <code>Required</code> built in generic from which I got the inspiration for the above implementation. Please upvote that answer if you find this one useful!</sub></p>\n"}], "owner": {"reputation": 19583, "user_id": 1082449, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IoIB6.png?s=128&g=1", "display_name": "davnicwil", "link": "https://stackoverflow.com/users/1082449/davnicwil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57496620, "answer_count": 3, "score": 0, "last_activity_date": 1565792658, "creation_date": 1565788803, "question_id": 57495590, "link": "https://stackoverflow.com/questions/57495590/typescript-generic-for-deriving-the-same-type-but-with-no-properties-undefined", "title": "Typescript - Generic for deriving the same type but with no properties undefined", "body": "<p>I have a type with some possibly undefined fields</p>\n\n<pre><code>type Foo = { \n  a: string | undefined\n  b: string\n  c: string | undefined\n}\n</code></pre>\n\n<p>I want the same type, but declaring that <strong>none</strong> of the fields are undefined</p>\n\n<pre><code>type Bar = { \n  a: string\n  b: string\n  c: string\n}\n</code></pre>\n\n<p>I'd like a way to derive <code>Bar</code> from <code>Foo</code>, so that I don't have to manually create <code>Bar</code> and update it when Foo changes. Something like this</p>\n\n<pre><code>type Bar = NoPropertiesUndefined&lt;Foo&gt;\n</code></pre>\n\n<p><strong>Is there any generic like this built into Typescript?</strong></p>\n\n<p>A note on usecase - I'm using this when I get the type <code>Foo</code> as an input, then validate it to check no fields are undefined, then pass to another function for further processing. I'd like that other function to take a <code>Bar</code> argument, and have the validator return a <code>Bar</code> or throw, to ensure I've validated the <code>Foo</code> in a typesafe way. The <code>Foo</code> types can even be dynamically created themselves using <code>ReturnType</code> - so even the cumbersome nature of manually defining <code>Bar</code> aside, in some cases it's not even possible.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "edited": false, "score": 0, "creation_date": 1565788408, "post_id": 57495385, "comment_id": 101460539, "body": "Did you try <code>this.entities$.pipe(filter(char =&gt; queryRegExp.test(char.name)), sort((a, b) =&gt; a.name.length - b.name.length))</code> ?"}, {"owner": {"reputation": 89, "user_id": 11896497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e75ed73e7e0f6bbd58f1ea6ad8d03b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Malone", "link": "https://stackoverflow.com/users/11896497/kevin-malone"}, "reply_to_user": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "edited": false, "score": 0, "creation_date": 1565788555, "post_id": 57495385, "comment_id": 101460623, "body": "@Shumail Yes, but I get the following error: <code>Type &#39;Observable&lt;unknown&gt;&#39; is missing the following properties from type &#39;Entity[]&#39;: length, pop, push, concat, and 25 more.ts(2740)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 11896497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e75ed73e7e0f6bbd58f1ea6ad8d03b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Malone", "link": "https://stackoverflow.com/users/11896497/kevin-malone"}, "edited": false, "score": 0, "creation_date": 1565788774, "post_id": 57495546, "comment_id": 101460769, "body": "I get no errors for this function, however <code>this.autocompleteEntities</code> returns the following error now <code>Type &#39;Observable&lt;Entity[]&gt;&#39; is missing the following properties from type &#39;Entity[]&#39;: length, pop, push, concat, and 25 more.ts(2740)</code>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 89, "user_id": 11896497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e75ed73e7e0f6bbd58f1ea6ad8d03b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Malone", "link": "https://stackoverflow.com/users/11896497/kevin-malone"}, "edited": false, "score": 0, "creation_date": 1565788829, "post_id": 57495546, "comment_id": 101460806, "body": "@KevinMalone - sounds like your server is not returning an array <b>or</b> your angular service method signature <code>entityProvider.getAll</code> is not defined as returning an array."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "reply_to_user": {"reputation": 89, "user_id": 11896497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e75ed73e7e0f6bbd58f1ea6ad8d03b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Malone", "link": "https://stackoverflow.com/users/11896497/kevin-malone"}, "edited": false, "score": 0, "creation_date": 1565789064, "post_id": 57495546, "comment_id": 101460959, "body": "@KevinMalone - glad to hear it and glad to help."}], "tags": [], "owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "is_accepted": true, "score": 1, "last_activity_date": 1565788650, "creation_date": 1565788650, "answer_id": 57495546, "question_id": 57495385, "link": "https://stackoverflow.com/questions/57495385/angular-autocomplete-searching-with-observables/57495546#57495546", "title": "Angular autocomplete searching with Observables", "body": "<p>You need to return an observable, see also <a href=\"https://stackoverflow.com/q/14220321/1260204\">How do I return the response from an asynchronous call?</a>.</p>\n\n<p>You could use <code>map</code> operator to filter and sort the response. There are other options as well.</p>\n\n<pre><code>import { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n</code></pre>\n\n\n\n<pre><code>searchEntity(query: string): Observable&lt;Entity[]&gt; {\n    if (query === '') return of([]);\n\n    const queryRegExp = new RegExp(query, 'i');\n\n    return this.entities$\n      .pipe(map((entities) =&gt; {\n        return entities\n            .filter(char =&gt; queryRegExp.test(char.name))\n            .sort((a, b) =&gt; a.name.length - b.name.length)\n      }));\n  }\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 11896497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7e75ed73e7e0f6bbd58f1ea6ad8d03b?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Malone", "link": "https://stackoverflow.com/users/11896497/kevin-malone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 57495546, "answer_count": 1, "score": 0, "last_activity_date": 1565788650, "creation_date": 1565788130, "question_id": 57495385, "link": "https://stackoverflow.com/questions/57495385/angular-autocomplete-searching-with-observables", "title": "Angular autocomplete searching with Observables", "body": "<p>I'm trying to make an autocomplete using Observables but I'm getting an error that says </p>\n\n<p><code>Property 'filter' does not exist on type 'Observable&lt;Entity[]&gt;'</code></p>\n\n<p>How can I make an autocomplete based on what I made? (I was thinking of using <code>.pipe()</code> but I don't really understand it</p>\n\n<p>Here is what I tried: </p>\n\n<p>.ts </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  entity$: Observable&lt;Entity&gt;;\n  entities$: Observable&lt;Entity[]&gt;;\n\n  inputEntity = new FormControl();\n  autocompleteEntities: Entity[] = [];\n  subEntityText: Subscription;\n\n  constructor(\n    private userProvider: UserProvider,\n    private entityProvider: EntityProvider,\n    private cd: ChangeDetectorRef\n  ) {}\n\n  ngOnInit() {\n    this.userProvider.user$.subscribe((user: User) =&gt; {\n      this.entities$ = this.entityProvider.getAll(user.uid); # GET ENTITIES BASED ON USER UID\n    });\n\n    this.subEntityText = this.inputEntity.valueChanges.subscribe((query: string) =&gt; {\n      if (query === '') {\n        this.entity$ = null;\n      } else {\n        this.autocompleteEntities = this.searchEntity(query);\n        this.cd.detectChanges();\n      }\n    });\n  }\n\n  searchEntity(query: string): Entity[] {\n    if (query === '') return [];\n\n    const queryRegExp = new RegExp(query, 'i');\n\n    return this.entities$\n      .filter(char =&gt; queryRegExp.test(char.name))\n      .sort((a, b) =&gt; a.name.length - b.name.length);\n  }\n</code></pre>\n\n<p>.html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input\n  type=\"text\"\n  [formControl]=\"inputEntity\"\n  [matAutocomplete]=\"auto\"\n/&gt;\n\n&lt;mat-autocomplete #auto=\"matAutocomplete\" class=\"option-autocomplete\" autoActiveFirstOption&gt;\n    &lt;mat-option class=\"option\" *ngFor=\"let entity of autocompleteEntities\" [value]=\"entity\"&gt;\n        &lt;div class=\"option-character\"&gt;\n          &lt;span class=\"option-character-name\"&gt;{{entity.name}}&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565788580, "post_id": 57495330, "comment_id": 101460635, "body": "See if you are missing something <a href=\"https://update.angular.io/#7.0:8.0\" rel=\"nofollow noreferrer\">update.angular.io/#7.0:8.0</a>"}, {"owner": {"reputation": 31, "user_id": 11927340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kcok1brc4w4/AAAAAAAAAAI/AAAAAAAAADc/aBGhN0-D2hk/photo.jpg?sz=128", "display_name": "Aakash Shah", "link": "https://stackoverflow.com/users/11927340/aakash-shah"}, "reply_to_user": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565793173, "post_id": 57495330, "comment_id": 101463323, "body": "@SGalea checked,nothing is missing."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 1, "creation_date": 1565793333, "post_id": 57495330, "comment_id": 101463398, "body": "Can you share your angular.json"}, {"owner": {"reputation": 31, "user_id": 11927340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kcok1brc4w4/AAAAAAAAAAI/AAAAAAAAADc/aBGhN0-D2hk/photo.jpg?sz=128", "display_name": "Aakash Shah", "link": "https://stackoverflow.com/users/11927340/aakash-shah"}, "reply_to_user": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "edited": false, "score": 0, "creation_date": 1565877949, "post_id": 57495330, "comment_id": 101489908, "body": "@TonyNgo please check"}, {"owner": {"reputation": 551, "user_id": 10207459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WJd1.jpg?s=128&g=1", "display_name": "mahalde", "link": "https://stackoverflow.com/users/10207459/mahalde"}, "edited": false, "score": 0, "creation_date": 1565878472, "post_id": 57495330, "comment_id": 101490186, "body": "Does your normal src/index.html exist?"}, {"owner": {"reputation": 31, "user_id": 11927340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kcok1brc4w4/AAAAAAAAAAI/AAAAAAAAADc/aBGhN0-D2hk/photo.jpg?sz=128", "display_name": "Aakash Shah", "link": "https://stackoverflow.com/users/11927340/aakash-shah"}, "reply_to_user": {"reputation": 551, "user_id": 10207459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WJd1.jpg?s=128&g=1", "display_name": "mahalde", "link": "https://stackoverflow.com/users/10207459/mahalde"}, "edited": false, "score": 0, "creation_date": 1565878626, "post_id": 57495330, "comment_id": 101490254, "body": "@Flix yes it exist when i only build the app using ng build its generates the index.html file"}], "owner": {"reputation": 31, "user_id": 11927340, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kcok1brc4w4/AAAAAAAAAAI/AAAAAAAAADc/aBGhN0-D2hk/photo.jpg?sz=128", "display_name": "Aakash Shah", "link": "https://stackoverflow.com/users/11927340/aakash-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1565878011, "creation_date": 1565787891, "last_edit_date": 1565878011, "question_id": 57495330, "link": "https://stackoverflow.com/questions/57495330/after-ng-build-prod-index-html-file-is-not-generating", "title": "After ng build --prod index.html file is not generating?", "body": "<p>I updated the angular 7 to  8.2.1 after i build my project on production mode the dist folder does not generate <code>index.html</code> file</p>\n\n<p><strong>tsconfig.json</strong> </p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"baseUrl\": \"./\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es5\",\n    \"paths\": {\n      \"exceljs\": [\n        \"node_modules/exceljs/dist/exceljs.min\"\n      ]\n    },\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    \"lib\": [\n      \"es2018\",\n      \"dom\"\n    ],\n\n  }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/e7tTx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e7tTx.png\" alt=\"Dist/AssetMang/\"></a>\n<strong>angular.json</strong></p>\n\n<pre><code>{\n  \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n  \"version\": 1,\n  \"newProjectRoot\": \"projects\",\n  \"projects\": {\n    \"AssetMang\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {},\n      \"architect\": {\n        \"build\": {\n          \"builder\": \"@angular-devkit/build-angular:browser\",\n          \"options\": {\n            \"outputPath\": \"dist/AssetMang\",\n            \"index\": \"src/index.html\",\n            \"main\": \"src/main.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.app.json\",\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ],\n            \"styles\": [],\n            \"scripts\": []\n          },\n          \"configurations\": {\n            \"production\": {\n              \"fileReplacements\": [\n                {\n                  \"replace\": \"src/environments/environment.ts\",\n                  \"with\": \"src/environments/environment.prod.ts\"\n                }\n              ],\n              \"optimization\": true,\n              \"outputHashing\": \"all\",\n              \"sourceMap\": false,\n              \"extractCss\": true,\n              \"namedChunks\": false,\n              \"aot\": true,\n              \"extractLicenses\": true,\n              \"vendorChunk\": false,\n              \"buildOptimizer\": true,\n              \"budgets\": [\n                {\n                  \"type\": \"initial\",\n                  \"maximumWarning\": \"5mb\",\n                  \"maximumError\": \"8mb\"\n                }\n              ]\n            }\n          }\n        },\n        \"serve\": {\n          \"builder\": \"@angular-devkit/build-angular:dev-server\",\n          \"options\": {\n            \"port\": 4204,\n            \"browserTarget\": \"AssetMang:build\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"browserTarget\": \"AssetMang:build:production\"\n            }\n          }\n        },\n        \"extract-i18n\": {\n          \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n          \"options\": {\n            \"browserTarget\": \"AssetMang:build\"\n          }\n        },\n        \"test\": {\n          \"builder\": \"@angular-devkit/build-angular:karma\",\n          \"options\": {\n            \"main\": \"src/test.ts\",\n            \"polyfills\": \"src/polyfills.ts\",\n            \"tsConfig\": \"src/tsconfig.spec.json\",\n            \"karmaConfig\": \"src/karma.conf.js\",\n            \"styles\": [\n              \"src/styles.css\"\n            ],\n            \"scripts\": [],\n            \"assets\": [\n              \"src/favicon.ico\",\n              \"src/assets\"\n            ]\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": [\n              \"src/tsconfig.app.json\",\n              \"src/tsconfig.spec.json\"\n            ],\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    },\n    \"AssetMang-e2e\": {\n      \"root\": \"e2e/\",\n      \"projectType\": \"application\",\n      \"prefix\": \"\",\n      \"architect\": {\n        \"e2e\": {\n          \"builder\": \"@angular-devkit/build-angular:protractor\",\n          \"options\": {\n            \"protractorConfig\": \"e2e/protractor.conf.js\",\n            \"devServerTarget\": \"AssetMang:serve\"\n          },\n          \"configurations\": {\n            \"production\": {\n              \"devServerTarget\": \"AssetMang:serve:production\"\n            }\n          }\n        },\n        \"lint\": {\n          \"builder\": \"@angular-devkit/build-angular:tslint\",\n          \"options\": {\n            \"tsConfig\": \"e2e/tsconfig.e2e.json\",\n            \"exclude\": [\n              \"**/node_modules/**\"\n            ]\n          }\n        }\n      }\n    }\n  },\n  \"defaultProject\": \"AssetMang\"\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 3, "creation_date": 1565787242, "post_id": 57495004, "comment_id": 101459872, "body": "a possible solution might be to generate a list of observables. Instead of directly subscribing for each client, generate a list of observables, the same way u would subscribe to them, but just add the observables to a list: <code>let clientObsList = []; clients.forEach(client =&gt; {         clientObsList.push(this.accountService.getClientAccts(client&zwnj;&#8203;.id));     })</code> after that use forkjoin, to execute all observables in parallel. <b>See RxJS for reference</b>: <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">learnrxjs.io/operators/combination/forkjoin.html</a>  regards"}, {"owner": {"reputation": 33, "user_id": 4922580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296eea8e96f0edb7c206c3c6c912fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Nguyen", "link": "https://stackoverflow.com/users/4922580/vincent-nguyen"}, "reply_to_user": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1565788186, "post_id": 57495004, "comment_id": 101460396, "body": "@sagat perfect thanks"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1565788194, "post_id": 57495004, "comment_id": 101460400, "body": "There are tons of similar questions, such as <a href=\"https://stackoverflow.com/questions/55686084/making-sure-observables-in-for-loop-are-all-finished-before-executing-other-code/55686179#55686179\">this</a>, and <a href=\"https://stackoverflow.com/questions/55447803/angular-subscribe-within-subscribe/55447947#55447947\">that</a>"}], "owner": {"reputation": 33, "user_id": 4922580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7296eea8e96f0edb7c206c3c6c912fb0?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Nguyen", "link": "https://stackoverflow.com/users/4922580/vincent-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "closed_date": 1565800817, "answer_count": 0, "score": 0, "last_activity_date": 1565786766, "creation_date": 1565786766, "question_id": 57495004, "link": "https://stackoverflow.com/questions/57495004/nested-http-calls-for-each-item-in-array", "closed_reason": "Duplicate", "title": "Nested HTTP calls for each item in array", "body": "<p>I have a service which returns an array of Clients:</p>\n\n<pre><code>public getAllClients(): Observable&lt;Client[]&gt; {\n    const url = 'url endpoint here';\n    return this.http.get&lt;Client[]&gt;(url);\n  }\n</code></pre>\n\n<p>And for each of those clients I would like to make another call to get their list of accounts which is this service:</p>\n\n<pre><code>public getClientAccts(id): Observable&lt;Account[]&gt; {\n    const url = `url endpoint`;\n    return this.http.get&lt;Account[]&gt;(url);\n  }\n</code></pre>\n\n<p>I can make the first call and subscribe then iterate through and make the account calls but this is messy and has nested subscribes/observables. I know there exists pipe and map operators but I'm not familiar how to use them in this situation. This is what I have below, how can I utilize the rxjs operators to clean it up?</p>\n\n<pre><code>this.clientService.getAllClients().subscribe(clients =&gt; {\n    clients.forEach(client =&gt; {\n        this.accountService.getClientAccts(client.id).subscribe(accounts =&gt; {\n            console.log(accounts);\n        });\n    })\n\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript", "object", "parameters", "angular-router"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1565787252, "post_id": 57494924, "comment_id": 101459875, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36994918/passing-objects-in-routing\">Passing objects in routing</a>"}, {"owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1565787355, "post_id": 57494924, "comment_id": 101459931, "body": "I&#39;ve already see that, but it doesn&#39;t help me. thanks anyway"}, {"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565788659, "post_id": 57494924, "comment_id": 101460682, "body": "Well you may not feel it helps you, but it is the correct way of doing it, by using a service."}, {"owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "edited": false, "score": 0, "creation_date": 1565788796, "post_id": 57494924, "comment_id": 101460783, "body": "can you please show me? I&#39;m stuck from hours"}], "owner": {"reputation": 183, "user_id": 11837343, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NQQlwLxJ7U0/AAAAAAAAAAI/AAAAAAAABDI/yA7zR_yqryo/photo.jpg?sz=128", "display_name": "Andrea Favero", "link": "https://stackoverflow.com/users/11837343/andrea-favero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565788233, "creation_date": 1565786468, "last_edit_date": 1565788233, "question_id": 57494924, "link": "https://stackoverflow.com/questions/57494924/pass-custom-type-as-parameter-in-routing-returnsobject-object", "title": "Pass custom type as parameter in routing -&gt; returns:[object Object]", "body": "<p>I need to pass a variable of custom type (to a non child/parent component) when i click a link.</p>\n\n<p><strong>Custom type</strong></p>\n\n<pre><code>export class Dati {\n  fileJson;\n  ricette: string[][];\n  n_Ricette: 0;\n  nPostazioni: number;\n  postazioniNome: string[];\n  defPostazione = \"FRIGGITRICI\";\n}\n</code></pre>\n\n<p>and its initialization in <strong>app.component.ts</strong>:</p>\n\n<pre><code>dati : Dati = {\n    fileJson: \"\",\n    ricette: [[],[]],\n    n_Ricette: 0,\n    nPostazioni: 0,\n    postazioniNome: [],\n    defPostazione: \"FRIGGITRICI\",\n  }\n</code></pre>\n\n<hr>\n\n<p><strong>app-routing.module</strong></p>\n\n<pre><code>....\nconst routes: Routes = [\n  { path: 'option.component/:dati', component: OptionComponent },\n]\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\n....\n\n</code></pre>\n\n<p><strong>html link with routing</strong> (app.component.html)</p>\n\n<pre><code>  &lt;a routerLink=\"/option.component/{{dati}}\" &gt;Opzioni&lt;/a&gt;\n</code></pre>\n\n<p><strong>option.component.ts</strong> (destination of routing)</p>\n\n<pre><code>  constructor(private route: ActivatedRoute) { \n    this.route.params\n      .subscribe(params =&gt; {\n        console.log(&lt;Dati&gt;(params[\"dati\"]))\n      });\n  }\n</code></pre>\n\n<p>The result in the <code>console.log()</code> is: <strong><code>[object Object]</code></strong>.</p>\n\n<p>How can I obtain my data?</p>\n\n<p><strong>ps.</strong> the links works fine and the data that are send are corect</p>\n"}, {"tags": ["node.js", "typescript", "handlebars.js", "nestjs"], "comments": [{"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1565793408, "post_id": 57494610, "comment_id": 101463435, "body": "So the return value of <code>example()</code> is not needed for the page rendering? It should just call the function an not care about its execution at all? Because if <code>example()</code> is asynchronous, that&#39;s exactly what your code is doing."}, {"owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1565814409, "post_id": 57494610, "comment_id": 101472451, "body": "I also thought it would have exactly this behavior, but the page only renders when the <code>exemple()</code> finishes executing .. which to me does not make much sense."}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1565815113, "post_id": 57494610, "comment_id": 101472706, "body": "What are you doing in <code>example()</code>? Is it really not a synchronous execution?"}, {"owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1565902751, "post_id": 57494610, "comment_id": 101500233, "body": "Its an shell commando call, i added in EDIT"}, {"owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 0, "creation_date": 1566224305, "post_id": 57494610, "comment_id": 101579094, "body": "Still having problems? :)"}, {"owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "reply_to_user": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "edited": false, "score": 1, "creation_date": 1566232838, "post_id": 57494610, "comment_id": 101583294, "body": "I did not forget to test your solution, but I have not had time to test, because I needed to change OS and I am having problems with this change. But I looked at the link you left and it looks pretty promising"}], "answers": [{"tags": [], "owner": {"reputation": 32017, "user_id": 4694994, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Fnpae.jpg?s=128&g=1", "display_name": "Kim Kern", "link": "https://stackoverflow.com/users/4694994/kim-kern"}, "is_accepted": true, "score": 1, "last_activity_date": 1565905999, "creation_date": 1565905999, "answer_id": 57516675, "question_id": 57494610, "link": "https://stackoverflow.com/questions/57494610/how-to-render-a-page-in-same-time-execute-a-function-call/57516675#57516675", "title": "How to render a page in same time execute a function call", "body": "<p>According to the <a href=\"https://github.com/shelljs/shelljs#execcommand--options--callback\" rel=\"nofollow noreferrer\">documentation of <code>exec()</code></a> it is not executed asynchronously unless a callback is provided or the <code>async</code> option is set to <code>true</code>.</p>\n\n<p>So to solve your problem set it to async:</p>\n\n<pre><code>shell.exec('some command here', {async: true})\n</code></pre>\n"}], "owner": {"reputation": 198, "user_id": 8560261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa66c931cf008050994b15fb4766c39e?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus", "link": "https://stackoverflow.com/users/8560261/matheus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57516675, "answer_count": 1, "score": 0, "last_activity_date": 1565905999, "creation_date": 1565785394, "last_edit_date": 1565902731, "question_id": 57494610, "link": "https://stackoverflow.com/questions/57494610/how-to-render-a-page-in-same-time-execute-a-function-call", "title": "How to render a page in same time execute a function call", "body": "<p>Using NestJs with handlebars, I have the code below</p>\n\n<pre><code>@Post('/foo')\n@Render('foo')\nasync foobar(){\n    exemple();\n    return {x: x, y: y};\n}\n</code></pre>\n\n<p>My problem is: I need to call <code>exemaple ()</code> and not wait for it, proceed to<code>return</code></p>\n\n<p>I tried to <a href=\"https://stackoverflow.com/questions/35612428/call-async-await-functions-in-parallel\">Call async/await functions in parallel</a> but the <code>await Promise.all([...])</code> works only functions calls, i need to call <code>exemple</code> and render the page (in return)</p>\n\n<p>EDIT--\nThe <code>exemple()</code> function is an shell command</p>\n\n<pre><code>var shell = require('shelljs')    \nshell.exec('some command here')\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-bootstrap"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1565785977, "post_id": 57494592, "comment_id": 101459138, "body": "We&#39;ve used both redux and react-bootstrap with react and typescript and it&#39;s all worked really well together. For redux I&#39;d especially recommend this: <a href=\"https://github.com/piotrwitek/typesafe-actions\" rel=\"nofollow noreferrer\">github.com/piotrwitek/typesafe-actions</a>. Using 3rd party components written in plain JS has been no issue for us, especially if you have type definitions for them (which most do), as explained in one of the answers below about DefinitelyTyped."}], "answers": [{"tags": [], "owner": {"reputation": 2137, "user_id": 2026720, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/txRXG.jpg?s=128&g=1", "display_name": "Alejandro Garcia Anglada", "link": "https://stackoverflow.com/users/2026720/alejandro-garcia-anglada"}, "is_accepted": false, "score": 1, "last_activity_date": 1565785906, "creation_date": 1565785906, "answer_id": 57494764, "question_id": 57494592, "link": "https://stackoverflow.com/questions/57494592/can-i-use-third-party-libraries-with-react-and-typescript/57494764#57494764", "title": "Can I use third-party libraries with React and TypeScript?", "body": "<p>There is an open source organisation called <code>DefinitelyTyped</code> which is in charge of adding types to all those libraries that are not TS by default.</p>\n\n<p>In your case if you are using <code>react-redux</code>, you might want to install <code>@types/react-redux</code> this way.</p>\n\n<pre><code>npm install @types/react-redux --dev\n</code></pre>\n\n<p>Check the organisation in Github:</p>\n\n<p><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-redux\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react-redux</a></p>\n\n<p>This is only an example they have hundreds of types packages for different libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 1852, "user_id": 2604041, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/1ez58.jpg?s=128&g=1", "display_name": "Ante Gulin", "link": "https://stackoverflow.com/users/2604041/ante-gulin"}, "is_accepted": false, "score": 6, "last_activity_date": 1565786044, "creation_date": 1565786044, "answer_id": 57494803, "question_id": 57494592, "link": "https://stackoverflow.com/questions/57494592/can-i-use-third-party-libraries-with-react-and-typescript/57494803#57494803", "title": "Can I use third-party libraries with React and TypeScript?", "body": "<p>You can import Javascript libraries in your Typescript project. I do that all the time, unfortunately. Some libraries have community-typed types which you can install by running <code>npm i @types/mypackage --dev</code>.</p>\n\n<p>Otherwise, you will have to create an empty TS module declaration for the package:</p>\n\n<p>Adhering to convention, create a file named <strong>mypackage.d.ts</strong> somewhere in your <code>src</code> directory. (I usually place it in <code>src/types/</code>)</p>\n\n<p><strong>mypackage.d.ts</strong> should contain <code>declare module \"mypackage\";</code></p>\n\n<p>Now, whatever you import from the <strong>mypackage</strong> will have type <strong>any</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 2888, "user_id": 11528064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d3bc1df95dc38b6cbbf9e8b75a9bbf?s=128&d=identicon&r=PG&f=1", "display_name": "adel", "link": "https://stackoverflow.com/users/11528064/adel"}, "is_accepted": false, "score": 2, "last_activity_date": 1565787001, "last_edit_date": 1565787001, "creation_date": 1565786115, "answer_id": 57494821, "question_id": 57494592, "link": "https://stackoverflow.com/questions/57494592/can-i-use-third-party-libraries-with-react-and-typescript/57494821#57494821", "title": "Can I use third-party libraries with React and TypeScript?", "body": "<p>well you can use react redux with typescript just you need to install react-redux types:</p>\n\n<pre><code>npm install @types/react-redux\n</code></pre>\n\n<p>and types for react-bootstrap :</p>\n\n<pre><code>npm install  @types/react-bootstrap\n</code></pre>\n\n<p>but still there is some problem with <code>FormControl</code> and <code>Button</code> events!</p>\n"}], "owner": {"reputation": 269, "user_id": 2471789, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2ad59a001485b345a1eb06bdf0eb0645?s=128&d=identicon&r=PG", "display_name": "Ricardo Daniel", "link": "https://stackoverflow.com/users/2471789/ricardo-daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1679, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1565804979, "creation_date": 1565785294, "last_edit_date": 1565804979, "question_id": 57494592, "link": "https://stackoverflow.com/questions/57494592/can-i-use-third-party-libraries-with-react-and-typescript", "title": "Can I use third-party libraries with React and TypeScript?", "body": "<p>I\u2019m trying to setup a new project with React, and I\u2019m thinking in replacing PropTypes with TypeScript.</p>\n\n<p>But I want to know if I\u2019m going to have integration issues.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>Using Redux (or <code>react-redux</code>) with TypeScript + React</li>\n<li>Issues integrating components that are not created with TypeScript</li>\n<li>Problems with libraries like <code>react-bootstrap</code></li>\n</ul>\n\n<p>My main concern is related to importing from TypeScript a non-TypeScript code.</p>\n\n<p>Any clues or experience with this?</p>\n"}, {"tags": ["python-3.x", "typescript", "aws-cdk"], "answers": [{"comments": [{"owner": {"reputation": 1887, "user_id": 5719952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-bPb-Z-9F_nY/AAAAAAAAAAI/AAAAAAAABJY/whuZKw5XnIo/photo.jpg?sz=128", "display_name": "Evgeny Minkevich", "link": "https://stackoverflow.com/users/5719952/evgeny-minkevich"}, "edited": false, "score": 0, "creation_date": 1565921569, "post_id": 57518075, "comment_id": 101504078, "body": "I understand what you are saying and I agree. Yet I was not able to find any indication of the intent to release the new features across all supported stacks at the same time. Have I missed it? Or, alternatively, have you seen an indication that the cross language bindings are auto generated? I suspect so, but again, would like to see it openly stated in writing. Thank you!"}, {"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "reply_to_user": {"reputation": 1887, "user_id": 5719952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-bPb-Z-9F_nY/AAAAAAAAAAI/AAAAAAAABJY/whuZKw5XnIo/photo.jpg?sz=128", "display_name": "Evgeny Minkevich", "link": "https://stackoverflow.com/users/5719952/evgeny-minkevich"}, "edited": false, "score": 0, "creation_date": 1565959305, "post_id": 57518075, "comment_id": 101516105, "body": "I attended a talk last week and the AWS presenter was asked if the CDK was based around the CLI. And he said it wasn&#39;t &#39;entirely&#39; but more importantly he talked about some spec, a DDD and how not even all CloudFormation is complete compared to the CLI. Judging from the CLI though, it doesn&#39;t matter what language you use. Sure there&#39;s ongoing check-ins but all major CLI releases have the same APIs to all languages. At the moment with CDK it&#39;s too hard to tell, only a month ago they said Java and C# was&#39;in preview&#39;. We&#39;ll soon see but AWS are big on Python."}], "tags": [], "owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "is_accepted": false, "score": 2, "last_activity_date": 1565920934, "last_edit_date": 1592644375, "creation_date": 1565920608, "answer_id": 57518075, "question_id": 57494383, "link": "https://stackoverflow.com/questions/57494383/aws-cdk-access-to-the-new-features/57518075#57518075", "title": "AWS CDK - access to the new features", "body": "<p><strong>My understanding is that AWS CDK is developed using Typescript.</strong></p>\n<p>That's correct, from <a href=\"https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cdk/latest/guide/getting_started.html</a></p>\n<blockquote>\n<p>Why do you need Node.js when you're a Python, C\u266f, or Java developer?</p>\n<p>The AWS CDK is developed in TypeScript and transpiled to JavaScript. Bindings for the other supported languages make use of the AWS CDK engine running on Node.js, as does the cdk command-line tool.</p>\n</blockquote>\n<p><strong>Would selecting Typescript as the IaC language give faster access (compared to python, other) to the newly available constructs?</strong></p>\n<p>There would have to be a very good reason why a new feature is not exposed at the same time to all languages. All we know is the bindings for the other languages use the CDK running on Node.js - so it looks like NodeJS would be first cab off the rank if any.</p>\n"}, {"comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1566613332, "post_id": 57632902, "comment_id": 101722264, "body": "Good answer, with the unit testing you might try <a href=\"https://localstack.cloud/\" rel=\"nofollow noreferrer\">LocalStack</a>."}], "tags": [], "owner": {"reputation": 589, "user_id": 10918007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qtD8g.png?s=128&g=1", "display_name": "0x32e0edfb", "link": "https://stackoverflow.com/users/10918007/0x32e0edfb"}, "is_accepted": true, "score": 1, "last_activity_date": 1566593666, "creation_date": 1566593666, "answer_id": 57632902, "question_id": 57494383, "link": "https://stackoverflow.com/questions/57494383/aws-cdk-access-to-the-new-features/57632902#57632902", "title": "AWS CDK - access to the new features", "body": "<p>CDK is released with all bindings at the same time. So choosing one particular language won't provide any benefit. There's one exception though: <a href=\"https://www.npmjs.com/package/@aws-cdk/assert\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/@aws-cdk/assert</a></p>\n\n<p>The <strong>assert</strong> package is only available for Typescript as far as I know. I personally use Python and miss this package <em>a lot</em>. Unit testing CDK infrastructure is very ugly without native support.</p>\n"}], "owner": {"reputation": 1887, "user_id": 5719952, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-bPb-Z-9F_nY/AAAAAAAAAAI/AAAAAAAABJY/whuZKw5XnIo/photo.jpg?sz=128", "display_name": "Evgeny Minkevich", "link": "https://stackoverflow.com/users/5719952/evgeny-minkevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 57632902, "answer_count": 2, "score": 2, "last_activity_date": 1566593666, "creation_date": 1565784435, "question_id": 57494383, "link": "https://stackoverflow.com/questions/57494383/aws-cdk-access-to-the-new-features", "title": "AWS CDK - access to the new features", "body": "<p>AWS CDK being a relatively new tool might have some missing high level constructs (such as NACL as the time of writing this question - <a href=\"https://github.com/aws/aws-cdk/issues/3621\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-cdk/issues/3621</a>).</p>\n\n<p>My understanding is that AWS CDK is developed using Typescript. </p>\n\n<p>Would selecting Typescript as the IaC language give faster access (compared to python, other) to the newly available constructs? </p>\n\n<p>Pre-release/Dev versions?</p>\n"}, {"tags": ["typescript", "msal", "msal.js"], "answers": [{"tags": [], "owner": {"reputation": 709, "user_id": 5596581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3825c1f9848e545eff6e290154ca10db?s=128&d=identicon&r=PG&f=1", "display_name": "Marc", "link": "https://stackoverflow.com/users/5596581/marc"}, "is_accepted": true, "score": 2, "last_activity_date": 1565817936, "creation_date": 1565817936, "answer_id": 57502269, "question_id": 57494059, "link": "https://stackoverflow.com/questions/57494059/how-to-test-refresh-and-expired-token-scenarios/57502269#57502269", "title": "How to test refresh and expired token scenarios?", "body": "<p>Withdraw user consent from the application - go to the <a href=\"https://myapps.microsoft.com\" rel=\"nofollow noreferrer\">app portal</a>, find the JS app and delete it. That will remove your consent from this app and make your refresh tokens invalid. There is a Powershell command for that as well.</p>\n"}], "owner": {"reputation": 584, "user_id": 563327, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5108acb0392a5063dac3f35b174b5eb0?s=128&d=identicon&r=PG", "display_name": "Andrew Craswell", "link": "https://stackoverflow.com/users/563327/andrew-craswell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 57502269, "answer_count": 1, "score": 2, "last_activity_date": 1565817936, "creation_date": 1565783173, "question_id": 57494059, "link": "https://stackoverflow.com/questions/57494059/how-to-test-refresh-and-expired-token-scenarios", "title": "How to test refresh and expired token scenarios?", "body": "<p>I'm using the <code>msal.js</code> library for authentication against my AAD account. I've got the logic to handle refreshing of tokens implemented, but I'm not sure how best to manually test this.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    try {\n      const response = await userAgentApplication.acquireTokenSilent(parameters);\n      jwtIdToken = response.idToken.rawIdToken;\n    } catch (error) {\n      if (error instanceof InteractionRequiredAuthError) {\n        if (type === LoginType.Redirect) {\n          userAgentApplication.acquireTokenRedirect(parameters);\n        }\n\n        const response = await userAgentApplication.acquireTokenPopup(parameters);\n        jwtIdToken = response.idToken.rawIdToken;\n      } else {\n        // Error was not related to needing interaction\n        throw error;\n      }\n    }\n</code></pre>\n\n<p>I'm able to verify that the token is being refreshed correctly using the <code>system</code> config and setting a token renewal offset to a value larger than the expiration limit.</p>\n\n<pre><code>  system: {\n    tokenRenewalOffsetSeconds: 60 * 60\n  }\n</code></pre>\n\n<p>The only scenario I don't know how to test is when the token can no longer be refreshed, and the user needs to login again after the <code>InteractionRequiredAuthError</code> error is thrown. I'm really hoping I don't have to keep a session active for 24 hours then try to refresh the token...</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565783429, "post_id": 57493878, "comment_id": 101457891, "body": "look at this: <a href=\"https://angular.io/guide/component-interaction\" rel=\"nofollow noreferrer\">angular.io/guide/component-interaction</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11782891"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565783647, "post_id": 57493878, "comment_id": 101458003, "body": "I know I can send the data from one component to another, but how to make that terminal display the data without erasing the previous data"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565783826, "post_id": 57493878, "comment_id": 101458093, "body": "use array as input"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11782891"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565784041, "post_id": 57493878, "comment_id": 101458213, "body": "So the problem is, the log gets build up overtime, If I append all the logs in an array and pass it up to the terminal, the terminal should loop through all the array and display. basically I don&#39;t want that, I just want to send the current log which the terminal just append below the previous log."}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565784438, "post_id": 57493878, "comment_id": 101458396, "body": "you can create a method which dinamically inserts the new line. You can access it in the parent and simply call it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11782891"}, "reply_to_user": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565784555, "post_id": 57493878, "comment_id": 101458458, "body": "This sounds good, but is this best practice to access one component&#39;s method from another component?"}, {"owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "edited": false, "score": 0, "creation_date": 1565784725, "post_id": 57493878, "comment_id": 101458545, "body": "some says it is, others says it is not. An other way if you use input with onpush and implement OnChanges in which you dinamically add the new lines."}], "answers": [{"tags": [], "owner": {"reputation": 4525, "user_id": 9423721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-58LFQeZ--9E/AAAAAAAAAAI/AAAAAAAAAHg/qzH7iR1C4zs/photo.jpg?sz=128", "display_name": "Markus Dresch", "link": "https://stackoverflow.com/users/9423721/markus-dresch"}, "is_accepted": false, "score": 0, "last_activity_date": 1565793962, "creation_date": 1565793962, "answer_id": 57497027, "question_id": 57493878, "link": "https://stackoverflow.com/questions/57493878/append-data-to-the-child-component/57497027#57497027", "title": "Append data to the child component", "body": "<p>Use a service with a Subject, inject it into both components, publish your logs from <code>spicinemas.component.ts</code> and subscribe in <code>app-terminal</code>.</p>\n\n<p>And if you don't want to databind an array in your <code>app-terminal</code>, you can manually append your elements there.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11782891"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565793962, "creation_date": 1565782401, "question_id": 57493878, "link": "https://stackoverflow.com/questions/57493878/append-data-to-the-child-component", "title": "Append data to the child component", "body": "<p>Scenario: I have a dropdown in which I select the movie title, and hit the start button. For every one minute, my app calls the api and checks whether the booking is opened for the selected movie. When the booking is not opened, it should be logged in the terminal like html container. For every call the right side terminal should show </p>\n\n<blockquote>\n  <ol>\n  <li>info about the api is calling (during the call)</li>\n  <li>info about movie status (after the call)</li>\n  <li>waiting (during the 1 minute gap)</li>\n  <li>starts again from 1 - 3</li>\n  </ol>\n</blockquote>\n\n<p>Here's the UI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Al430.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Al430.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's my code:</p>\n\n<p>spicinemas.component.html</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-4\"&gt;\n      &lt;form [formGroup]=\"movieForm\" (ngSubmit)=\"getStatus()\"&gt;\n        &lt;div class=\"form-group\"&gt;\n        &lt;select class=\"form-control\" id=\"movie\" name=\"movie\" formControlName=\"movie\"&gt;\n          &lt;option *ngFor=\"let movie of movies\" [value]=\"movie\"&gt;{{movie}}&lt;/option&gt;\n        &lt;/select&gt;\n        &lt;/div&gt;\n        &lt;button type=\"submit\" class=\"btn btn-danger btn-block\"&gt;Start&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-8\"&gt;\n      &lt;app-terminal&gt;&lt;/app-terminal&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>spicinemas.component.ts</p>\n\n<pre><code>  getStatus() {\n    interval(1 * 60 * 1000)\n      .pipe(\n        flatMap(() =&gt; this.service.checkStatus(this.movieForm.value.movie))\n      )\n      .subscribe(res =&gt; {\n        const response: any = res;\n        if (!response.status) { // false for booking not opened\n        // implementation\n        }\n      });\n  }\n</code></pre>\n\n<p>Currently the terminal is in separate component <code>&lt;app-terminal&gt;</code>. I need a suggestion on how to implement this?</p>\n"}, {"tags": ["angular", "typescript", "firebase", "token", "interceptor"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1565783345, "post_id": 57493862, "comment_id": 101457848, "body": "So what is the problem. you say <code>switchmap expects a token and an index</code>, I can&#39;t see use of <code>switchMap</code> anywhere?"}, {"owner": {"reputation": 151, "user_id": 7095614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vb0v4.jpg?s=128&g=1", "display_name": "G. Juwot", "link": "https://stackoverflow.com/users/7095614/g-juwot"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1565785580, "post_id": 57493862, "comment_id": 101458931, "body": "Sorry, I meant mergeMap. Updated question."}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 2, "creation_date": 1565785763, "post_id": 57493862, "comment_id": 101459018, "body": "I think you should <code>return next.handle(request);</code>, not the request itself."}, {"owner": {"reputation": 151, "user_id": 7095614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vb0v4.jpg?s=128&g=1", "display_name": "G. Juwot", "link": "https://stackoverflow.com/users/7095614/g-juwot"}, "edited": false, "score": 0, "creation_date": 1565788820, "post_id": 57493862, "comment_id": 101460799, "body": "Fixed the code, now going to see if it works. Thx."}], "owner": {"reputation": 151, "user_id": 7095614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vb0v4.jpg?s=128&g=1", "display_name": "G. Juwot", "link": "https://stackoverflow.com/users/7095614/g-juwot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565785545, "creation_date": 1565782331, "last_edit_date": 1565785545, "question_id": 57493862, "link": "https://stackoverflow.com/questions/57493862/token-from-firebase-user-in-tokeninterceptor", "title": "Token from firebase user in tokeninterceptor?", "body": "<p>Trying to get a firebase token from FirebaseAuth.user.getIdToken().\nThis is for a school project. The reason I post this question mainly is because I notice many solutions are out of date it seems to me.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39319279/convert-promise-to-observable\">Convert Promise to Observable</a></p>\n\n<p><a href=\"https://gist.github.com/danielcrisp/ced7d092b07efa609285ba5f0823ca60\" rel=\"nofollow noreferrer\">https://gist.github.com/danielcrisp/ced7d092b07efa609285ba5f0823ca60</a></p>\n\n<p><a href=\"https://github.com/codediodeio/angular-firebase-stripe/blob/master/src/app/core/token.interceptor.ts\" rel=\"nofollow noreferrer\">https://github.com/codediodeio/angular-firebase-stripe/blob/master/src/app/core/token.interceptor.ts</a></p>\n\n<p>I tried a few of the solutions provided in the links above and eventually came to this code. But it is still not working.\nmergeMap expects a token and an index.</p>\n\n<p>error I get on the line <code>mergeMap((token: any, index: number) =&gt; {</code></p>\n\n<p>Error:(27, 20) TS2345: Argument of type '(token: any, index: number) => HttpRequest' is not assignable to parameter of type '(value: any, index: number) => ObservableInput'.\n  Type 'HttpRequest' is not assignable to type 'ObservableInput'.\n    Property '[Symbol.iterator]' is missing in type 'HttpRequest' but required in type 'Iterable'.</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpClient} from '@angular/common/http';\nimport {from, Observable} from 'rxjs';\nimport {AuthService} from '../services/auth.service';\nimport {FirebaseAuth} from '@angular/fire';\nimport {User} from 'firebase';\nimport {mergeMap, switchMap} from 'rxjs/operators';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n  user: User;\n  subscribe_firebase_user;\n\n  constructor(private http: HttpClient, private fireAuth: FirebaseAuth) {\n    this.user = fireAuth.currentUser;\n    this.subscribe_firebase_user = this.fireAuth.onAuthStateChanged(a =&gt; {\n      this.user = a;\n\n    });\n  }\n\n  intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    // add authorization header with jwt token if available\n    const observable = from(this.user.getIdToken());\n    if (this.user !== null) {\n      return observable.pipe(\n          mergeMap((token: any, index: number) =&gt; {\n          request = request.clone({\n              setHeaders: {\n                Authorization: `Bearer ${token}`\n              }}\n            );\n            return request;\n          }\n\n      ));\n\n    }\n\n    return next.handle(request);\n  }\n}\n\n</code></pre>\n\n<p>From this I expect the token to be loaded in and then the request is send to the server.</p>\n\n<p>Thx for the help in advance.</p>\n"}, {"tags": ["typescript", "vue.js", "vuejs2"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1565784053, "post_id": 57493790, "comment_id": 101458217, "body": "Properties of the Vue component are reactive by default! No need to create an untyped Data object."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 11651776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0aBmAZt89F0/AAAAAAAAAAI/AAAAAAAAADI/Sjc8g_hNM54/photo.jpg?sz=128", "display_name": "4e4e4i", "link": "https://stackoverflow.com/users/11651776/4e4e4i"}, "edited": false, "score": 0, "creation_date": 1565786059, "post_id": 57494215, "comment_id": 101459186, "body": "But then tslint&#39;s warning tell on invoke this.getEmployees(); &#39;Cannt invoke an object which is possibly &#39;undefined&#39;, &#39;Cannot invoke an expression whose type lacks a call sygnature. Type Employee[] has no compatible call signature&#39;"}, {"owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "reply_to_user": {"reputation": 111, "user_id": 11651776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0aBmAZt89F0/AAAAAAAAAAI/AAAAAAAAADI/Sjc8g_hNM54/photo.jpg?sz=128", "display_name": "4e4e4i", "link": "https://stackoverflow.com/users/11651776/4e4e4i"}, "edited": false, "score": 0, "creation_date": 1565786428, "post_id": 57494215, "comment_id": 101459395, "body": "Yes it is true, because your tslint doesn&#39;t see you init it in the <code>created</code> hook. You can disable your tslint on this line or make a guard : <code>this.employees &amp;&amp; this.employees.getEmployees(new Date())</code> and on the next line <code>employees &amp;&amp; employees.employees</code>"}], "tags": [], "owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "is_accepted": true, "score": 5, "last_activity_date": 1565784229, "last_edit_date": 1565784229, "creation_date": 1565783726, "answer_id": 57494215, "question_id": 57493790, "link": "https://stackoverflow.com/questions/57493790/how-to-make-reactive-variables-like-the-data-in-vue-vuetypescript/57494215#57494215", "title": "How to make reactive variables, like the data() in Vue? Vue+Typescript", "body": "<p>If you use vue.js and typescript I strongly advise you to look at this <a href=\"https://github.com/vuejs/vue-class-component\" rel=\"noreferrer\">link</a>. You will find how to properly define data, computed, methods and so on. You will find the following example :</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;input v-model=\"msg\"&gt;\n    &lt;p&gt;prop: {{propMessage}}&lt;/p&gt;\n    &lt;p&gt;msg: {{msg}}&lt;/p&gt;\n    &lt;p&gt;helloMsg: {{helloMsg}}&lt;/p&gt;\n    &lt;p&gt;computed msg: {{computedMsg}}&lt;/p&gt;\n    &lt;button @click=\"greet\"&gt;Greet&lt;/button&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\n\n@Component({\n  props: {\n    propMessage: String\n  }\n})\nexport default class App extends Vue {\n  // initial data\n  msg = 123\n\n  // use prop values for initial data\n  helloMsg = 'Hello, ' + this.propMessage\n\n  // lifecycle hook\n  mounted () {\n    this.greet()\n  }\n\n  // computed\n  get computedMsg () {\n    return 'computed ' + this.msg\n  }\n\n  // method\n  greet () {\n    alert('greeting: ' + this.msg)\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>If you want reactive data, you can use property accessors (<code>get</code>) to declare computed properties.</p>\n\n<p>From what I understood about your code, you can just do this :</p>\n\n<pre><code>@Component({})\nexport default class Employees extends Vue {\n    @Inject(DependencyConstants.WORKSPACESERVICE)\n    private employees !: WorkspaceService;\n\n    get employees() {\n        const employees: EmployeesResponse = this.employees.getEmployees(new Date());\n        const empList: Employee[] | undefined = employees.employees;\n        return empList\n    }\n\n    public created(): void {\n        this.getEmployees();\n    }\n}\n</code></pre>\n\n<p>Yo can access directly to <code>employees</code> from your template. For istance : </p>\n\n<pre><code>&lt;template&gt;\n  &lt;ul&gt;\n    &lt;li v-for=\"employee in employees\" :key=\"employee.id\"&gt;\n      {{employee.name}} // I assume your employee have an id and a name\n    &lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/template&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2065, "user_id": 460103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/zDyER.png?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/460103/ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1585331435, "creation_date": 1585331435, "answer_id": 60891511, "question_id": 57493790, "link": "https://stackoverflow.com/questions/57493790/how-to-make-reactive-variables-like-the-data-in-vue-vuetypescript/60891511#60891511", "title": "How to make reactive variables, like the data() in Vue? Vue+Typescript", "body": "<p>Any class variables are reactive in vue+ts. similar to defining variables in data in vue+js, any getters are computed properties and methods are regular methods in vue js.</p>\n\n<pre><code> import {Component, Prop, Vue, Watch } from 'vue-property-decorator'      \n @Component\n export default class Employee extends Vue {\n        // Props\n        @Prop({required: true}) Name!: string \n\n       // data (reactive)\n       salary:number\n\n       // computed\n       get bonus(){\n         return this.salary * this.performanceMetric\n       }\n\n       // methods\n       addSalary(salary:number){\n       }\n\n       // watcher\n       @Watch('Name') \n       watchNameChange(newName:string, oldName:string){\n\n       }\n\n       // life cycle hook.\n       mounted(){\n\n       }\n  }\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 11651776, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0aBmAZt89F0/AAAAAAAAAAI/AAAAAAAAADI/Sjc8g_hNM54/photo.jpg?sz=128", "display_name": "4e4e4i", "link": "https://stackoverflow.com/users/11651776/4e4e4i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4677, "favorite_count": 0, "accepted_answer_id": 57494215, "answer_count": 2, "score": 3, "last_activity_date": 1585331435, "creation_date": 1565782025, "question_id": 57493790, "link": "https://stackoverflow.com/questions/57493790/how-to-make-reactive-variables-like-the-data-in-vue-vuetypescript", "title": "How to make reactive variables, like the data() in Vue? Vue+Typescript", "body": "<p>How to maintain the reactivity of variables, I\u2019ve only thought of creating a data object, to simulate a date in Vue, but maybe there are more normal ways?</p>\n\n<p>example of my code:</p>\n\n<pre><code>&lt;script lang=\"ts\"&gt;\n    import {Vue, Component, Inject} from 'vue-property-decorator';\n    import {DependencyConstants} from \"@/dependency/DependencyConstants\";\n    import {WorkspaceService, Employee, EmployeesResponse} from \"@/service/WorkspaceService\";\n\n\n    interface Data{\n        empList: Employee[];\n    }\n    @Component({})\n    export default class Employees extends Vue {\n        @Inject(DependencyConstants.WORKSPACESERVICE)\n        private employees !: WorkspaceService;\n        private data: Data = {\n            empList: [],\n        };\n        public getEmployees(): void {\n            const employees: EmployeesResponse = this.employees.getEmployees(new Date());\n            const empList: Employee[] | undefined = employees.employees;\n            this.data.empList = empList as Employee[]\n        }\n        public created(): void {\n            this.getEmployees();\n        }\n    }\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript", "koa"], "answers": [{"tags": [], "owner": {"reputation": 468, "user_id": 9524336, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Puwka", "link": "https://stackoverflow.com/users/9524336/puwka"}, "is_accepted": false, "score": 2, "last_activity_date": 1565782164, "last_edit_date": 1565782164, "creation_date": 1565781853, "answer_id": 57493748, "question_id": 57493635, "link": "https://stackoverflow.com/questions/57493635/how-to-change-koas-http-status-code-for-non-defined-routes/57493748#57493748", "title": "How to change Koa&#39;s http status code for non-defined routes", "body": "<p>You can add wildcard route to the end of your <code>koa-router</code>\nIt will looks like that: </p>\n\n<pre><code>router\n  .get('/', async ctx =&gt; ctx.body = 'existed route')\n  .all('/*', async ctx =&gt; ctx.status = 501)\n\napp.use(router.routes())\n\n</code></pre>\n\n<p><code>GET</code> request to <code>/</code> will return <code>'existed route'</code> string. All other routes will return <code>501</code> status</p>\n\n<p>Hope it will help</p>\n"}], "owner": {"reputation": 1810, "user_id": 520491, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/0NfcW.jpg?s=128&g=1", "display_name": "Matej Ukmar", "link": "https://stackoverflow.com/users/520491/matej-ukmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565782164, "creation_date": 1565781348, "question_id": 57493635, "link": "https://stackoverflow.com/questions/57493635/how-to-change-koas-http-status-code-for-non-defined-routes", "title": "How to change Koa&#39;s http status code for non-defined routes", "body": "<p>What would be best way to change default http status code and response body if somebody accesses undefined (not set) route on Koa server?</p>\n\n<p>Right now Koa returns 404 status and 'Not Found' text in the body. I would like to change it to <strong>501 (Not implemented)</strong> just to prevent collisions when actual existing API's response is 404.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": false, "score": 1, "last_activity_date": 1565782745, "creation_date": 1565782745, "answer_id": 57493955, "question_id": 57493634, "link": "https://stackoverflow.com/questions/57493634/cant-bind-to-charttype-since-it-isnt-a-known-property-of-canvas/57493955#57493955", "title": "Can&#39;t bind to &#39;chartType&#39; since it isn&#39;t a known property of &#39;canvas&#39;", "body": "<p>You are not using the right directive.</p>\n\n<p>Please consider this directive: <code>baseChart</code> according to the <a href=\"https://valor-software.com/ng2-charts/\" rel=\"nofollow noreferrer\">doc</a></p>\n"}], "owner": {"reputation": 351, "user_id": 4442980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0fc013b043fafefc8d0db04dba60a6?s=128&d=identicon&r=PG&f=1", "display_name": "freelancer86", "link": "https://stackoverflow.com/users/4442980/freelancer86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565782745, "creation_date": 1565781342, "last_edit_date": 1565782525, "question_id": 57493634, "link": "https://stackoverflow.com/questions/57493634/cant-bind-to-charttype-since-it-isnt-a-known-property-of-canvas", "title": "Can&#39;t bind to &#39;chartType&#39; since it isn&#39;t a known property of &#39;canvas&#39;", "body": "<p>I'm developing an Angular 6 application using ng2-charts.</p>\n\n<p>However I receive the following error when I debug the project with Visual Studio Code and I see a blank page when I type \"ng serve\" and hit Enter:</p>\n\n<p>Can't bind to 'chartType' since it isn't a known property of 'canvas'</p>\n\n<p>I have tried adding \"import {ChartsModule} from 'ng2-charts/ng2-charts';\" to the component.ts. However I still receive the same error.</p>\n\n<p>Here is the HTML code for chart from the my-bar-chart.component.html file:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div style=\"display: block\"&gt;\n  &lt;canvas mdbChart\n      [chartType]=\"chartType\"\n      [datasets]=\"chartDatasets\"\n      [labels]=\"chartLabels\"\n      [colors]=\"chartColors\"\n      [options]=\"chartOptions\"\n      [legend]=\"true\"\n      (chartHover)=\"chartHovered($event)\"\n      (chartClick)=\"chartClicked($event)\"&gt;\n  &lt;/canvas&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the my-bar-chart.commponent.ts file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\nimport {ChartsModule} from 'ng2-charts/ng2-charts';\n\n@Component({\n  selector: 'app-my-bar-chart',\n  templateUrl: './my-bar-chart.component.html',\n  styleUrls: ['./my-bar-chart.component.css']\n})\n\nexport class MyBarChartComponent implements OnInit {\n  public chartType: string = 'horizontalBar';\n\n  public chartDatasets: Array&lt;any&gt; = [\n    { data: [65, 59, 80, 81, 56, 55, 40], label: 'My First dataset' }\n  ];\n\n  public chartLabels: Array&lt;any&gt; = ['Red', 'Blue', 'Yellow', 'Green', 'Purple', 'Orange'];\n\n  public chartColors: Array&lt;any&gt; = [\n    {\n      backgroundColor: [\n        'rgba(255, 99, 132, 0.2)',\n        'rgba(54, 162, 235, 0.2)',\n        'rgba(255, 206, 86, 0.2)',\n        'rgba(75, 192, 192, 0.2)',\n        'rgba(153, 102, 255, 0.2)',\n        'rgba(255, 159, 64, 0.2)'\n      ],\n      borderColor: [\n        'rgba(255,99,132,1)',\n        'rgba(54, 162, 235, 1)',\n        'rgba(255, 206, 86, 1)',\n        'rgba(75, 192, 192, 1)',\n        'rgba(153, 102, 255, 1)',\n        'rgba(255, 159, 64, 1)'\n      ],\n      borderWidth: 2,\n    }\n  ];\n\n  public chartOptions: any = {\n    responsive: true\n  };\n  public chartClicked(e: any): void { }\n  public chartHovered(e: any): void { }\n\n  constructor() { }\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>Here is the app.module.ts file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ChartsModule } from 'ng2-charts/ng2-charts';\nimport { MyBarChartComponent } from './my-bar-chart/my-bar-chart.component';\nimport { MyDoughnutChartComponent } from './my-doughnut-chart/my-doughnut-chart.component';\nimport { MyRadarChartComponent } from './my-radar-chart/my-radar-chart.component';\nimport { MyPieChartComponent } from './my-pie-chart/my-pie-chart.component';\nimport { Routes, RouterModule } from '@angular/router';\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\n\n\nconst routes: Routes=[\n  {path:'bar-chart',component:MyBarChartComponent},\n  {path:'doughnut-chart',component: MyDoughnutChartComponent},\n  {path:'radar-chart',component:MyRadarChartComponent},\n  {path:'pie-chart',component:MyPieChartComponent},\n  {path:'**',component:MyBarChartComponent}\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    MyBarChartComponent,\n    MyDoughnutChartComponent,\n    MyRadarChartComponent,\n    MyPieChartComponent\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(routes),\n    NgbModule.forRoot(),\n    ChartsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>I expect to see the chart when I type \"ng serve\" and hit Enter</p>\n"}, {"tags": ["typescript", "firebase", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1565781729, "creation_date": 1565781729, "answer_id": 57493719, "question_id": 57493630, "link": "https://stackoverflow.com/questions/57493630/firebase-cloud-functions-returning-processed-data-using-oncall/57493719#57493719", "title": "Firebase Cloud Functions Returning Processed Data Using onCall", "body": "<p>What you're experiencing is typically called a \"cold start\".  It happens the first time a function is executed on a new server instance allocated by serverless backends such as Cloud Functions.  You're not doing anything wrong, you're just paying the cold start cost (plus any networking latency between your computer, Cloud Functions, and Cloud Firestore).</p>\n\n<p><a href=\"https://www.google.com/search?client=firefox-b-1-d&amp;q=cloud%20functions%20cold%20start\" rel=\"nofollow noreferrer\">Read about cold starts from Google search results.</a></p>\n"}], "owner": {"reputation": 474, "user_id": 5048314, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-D5dE9_7z4T4/AAAAAAAAAAI/AAAAAAAAAU8/BRGywPDjHmc/photo.jpg?sz=128", "display_name": "Eli", "link": "https://stackoverflow.com/users/5048314/eli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 57493719, "answer_count": 1, "score": 0, "last_activity_date": 1565781729, "creation_date": 1565781325, "question_id": 57493630, "link": "https://stackoverflow.com/questions/57493630/firebase-cloud-functions-returning-processed-data-using-oncall", "title": "Firebase Cloud Functions Returning Processed Data Using onCall", "body": "<p>I've been using firebase cloud functions and have run into the issue where my functions sometime hang for up to 10 seconds before returning data. I have looked at the docs and it says that I should return a promise with my data once it is done. My structure is currently this:</p>\n\n<pre><code>export const SomeFnName = functions.https.onCall(async (params: SomeTypedParams, context: functions.https.CallableContext) =&gt;\n{\n    // Bunch of validation that throw functions.https.HttpsError if there is one\n\n    // load some data from the server\n    const snapshot = await admin.firestore().collection(Collections.SOMEKEY).doc(params.SOMEID).get();\n\n    // The the snapshot data\n    const someData: FirebaseFirestore.DocumentData | undefined = snapshot.data();\n\n\n    // Do some processing of above then return\n    return {\n       data1: someData[\"key1\"],\n       data2: someData[\"key2\"]\n    };\n}\n</code></pre>\n\n<p>As you can see I am exporting the function from a separate file and then registering in like this</p>\n\n<pre><code>exports.SomeFnName = SomeFnName;\n</code></pre>\n\n<p>Is this the correct way to return processed data like this? If not what needs to be done for it to work? I can't see what else I would be doing wrong for the server calls to sometime take a long time to execute and sometimes fail outright.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "is_accepted": true, "score": 1, "last_activity_date": 1565781169, "creation_date": 1565781169, "answer_id": 57493590, "question_id": 57493204, "link": "https://stackoverflow.com/questions/57493204/for-an-interface-what-is-the-difference-between-these-two-way/57493590#57493590", "title": "For an interface, what is the difference between these two way?", "body": "<p>It's because in your first printlabel, your object is of type \"any\" so compiler do not check if the type is correct.</p>\n\n<p>Official documentation : <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#any\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/basic-types.html#any</a></p>\n\n<p>If you use the interface, compiler is able to check if the object match with the definition.</p>\n"}], "owner": {"reputation": 103, "user_id": 6294626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d91a1cae5882e78609fbbc1350ae8ee5?s=128&d=identicon&r=PG", "display_name": "fimars", "link": "https://stackoverflow.com/users/6294626/fimars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57493590, "answer_count": 1, "score": 0, "last_activity_date": 1565781169, "creation_date": 1565779678, "question_id": 57493204, "link": "https://stackoverflow.com/questions/57493204/for-an-interface-what-is-the-difference-between-these-two-way", "title": "For an interface, what is the difference between these two way?", "body": "<p>Why do these two writings have different results?</p>\n\n<p>PS: Without any tsconfig setting.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface LabelledValue {\n  label: string;\n}\ninterface LabelledValue1 {\n  size: number;\n  label: string;\n}\n\nfunction printLabel(labelledObj: LabelledValue) {\n  console.log(labelledObj.label);\n}\n\nprintLabel({ size: 10, label: \"Size 10 Object\" });\n\nlet myObj: LabelledValue1 = { size: 10, label: \"Size 10 Object\" };\nprintLabel(myObj);\n</code></pre>\n\n<p>On <code>parintLabel({})</code>, we got a TypeError:</p>\n\n<p>Argument of type '{ size: number; label: string; }' is not assignable to parameter of type 'LabelledValue'.</p>\n\n<p>Object literal may only specify known properties, and 'size' does not exist in type 'LabelledValue'.ts(2345)</p>\n"}, {"tags": ["jquery", "html", "ajax", "typescript", "powerbi"], "comments": [{"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1565779877, "post_id": 57493157, "comment_id": 101456209, "body": "When you say HTML code is held in a variable does that mean you don&#39;t add it to the page DOM?"}, {"owner": {"reputation": 178, "user_id": 7884793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870e1f9544f3175b86dc097bbcec535f?s=128&d=identicon&r=PG&f=1", "display_name": "NLeeT", "link": "https://stackoverflow.com/users/7884793/nleet"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1565835141, "post_id": 57493157, "comment_id": 101476801, "body": "@apokryfos I&#39;m not sure! Is this line mean have already added to page DOM: this.target.innerHTML = varContainHtmlCode"}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 7884793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870e1f9544f3175b86dc097bbcec535f?s=128&d=identicon&r=PG&f=1", "display_name": "NLeeT", "link": "https://stackoverflow.com/users/7884793/nleet"}, "edited": false, "score": 0, "creation_date": 1565836533, "post_id": 57493248, "comment_id": 101477031, "body": "Thanks for helping me! But it seems your code is not worked in my case! I combined Typescript with jQuery and the library of jQuery install by npm, the line: $(&quot;.test).html(HTML) - can you explain me what is this for? Also I have followed with your instruction too by adding this single line too (But in my case class name &quot;test&quot; is inside &lt;table class=&quot;test&quot;&gt; tag which cover outside all my &lt;div id=${count}&gt; and nothing happen then :( @Obito Uchiha"}], "tags": [], "owner": {"reputation": 1533, "user_id": 11208603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AU8HE.png?s=128&g=1", "display_name": "Deepak A", "link": "https://stackoverflow.com/users/11208603/deepak-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1565780153, "last_edit_date": 1565780153, "creation_date": 1565779861, "answer_id": 57493248, "question_id": 57493157, "link": "https://stackoverflow.com/questions/57493157/my-code-doesnt-recognize-jquery-selector/57493248#57493248", "title": "My code doesn&#39;t recognize jQuery selector?", "body": "<p>Hope this is what you are looking for . <code>kepress</code> event is intended for <code>input</code> . \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var count = 1;\r\n\r\nvar HTML = '&lt;input id=' + count + ' contenteditable=\"true\" placeholder=\"Press Enter\"&gt;';\r\n\r\n$(\".test\").html(HTML)\r\n\r\n$(\"#1\").keypress(function(e) {\r\n  if (e.which === 13) {\r\n    alert(1)\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div class=\"test\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 178, "user_id": 7884793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870e1f9544f3175b86dc097bbcec535f?s=128&d=identicon&r=PG&f=1", "display_name": "NLeeT", "link": "https://stackoverflow.com/users/7884793/nleet"}, "edited": false, "score": 0, "creation_date": 1565836724, "post_id": 57493264, "comment_id": 101477073, "body": "Thanks for your help, you save my day! But can you explain me about using delegate event handler which you mention above please! @Rory McCrossan"}, {"owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "reply_to_user": {"reputation": 178, "user_id": 7884793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870e1f9544f3175b86dc097bbcec535f?s=128&d=identicon&r=PG&f=1", "display_name": "NLeeT", "link": "https://stackoverflow.com/users/7884793/nleet"}, "edited": false, "score": 0, "creation_date": 1565853542, "post_id": 57493264, "comment_id": 101480273, "body": "No problem, glad to help. A standard event handler requires the element to exist in the DOM when the JS runs. A delegated event handler instead hooks to the selector you provide at any point it becomes available in the DOM, even in the future. For more detail see <a href=\"https://stackoverflow.com/questions/203198/event-binding-on-dynamically-created-elements\">this question</a>"}], "tags": [], "owner": {"reputation": 304305, "user_id": 519413, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7839089cd91dc5cc5eb1e0cdbf3312ed?s=128&d=identicon&r=PG", "display_name": "Rory McCrossan", "link": "https://stackoverflow.com/users/519413/rory-mccrossan"}, "is_accepted": true, "score": 1, "last_activity_date": 1565779905, "creation_date": 1565779905, "answer_id": 57493264, "question_id": 57493157, "link": "https://stackoverflow.com/questions/57493157/my-code-doesnt-recognize-jquery-selector/57493264#57493264", "title": "My code doesn&#39;t recognize jQuery selector?", "body": "<p>You can use the <code>this</code> keyword to reference the contenteditable <code>div</code> element which raised the event. From there you can use <code>html()</code> to get its contents.</p>\n\n<p>Also note that your logic implies that the <code>div</code> is dynamically appended to the DOM. As such you will need to use a delegated event handler, as the element doesn't exist when the page loads. Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).on('keypress', '#1', function(e) {\r\n  if (e.which === 13) {\r\n    var content = $(this).html();\r\n    console.log(content);\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;\r\n      &lt;div id=\"1\" contenteditable=\"true\"&gt;editable&lt;/div&gt;\r\n    &lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 178, "user_id": 7884793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870e1f9544f3175b86dc097bbcec535f?s=128&d=identicon&r=PG&f=1", "display_name": "NLeeT", "link": "https://stackoverflow.com/users/7884793/nleet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57493264, "answer_count": 2, "score": 0, "last_activity_date": 1565780153, "creation_date": 1565779463, "last_edit_date": 1565779763, "question_id": 57493157, "link": "https://stackoverflow.com/questions/57493157/my-code-doesnt-recognize-jquery-selector", "title": "My code doesn&#39;t recognize jQuery selector?", "body": "<p>I want to get the value inside a specific <code>&lt;div&gt;</code> that my code auto generate but when I use jQuery syntax it seems like that syntax does not recognize id tagged div. </p>\n\n<p>HTML code is hold inside Variable, below is one <code>&lt;div&gt;</code> cover by td tag that I want to get the data inside this <code>&lt;div&gt;</code>! The string interpolation (<code>${count}</code>) is correct - I have tested it by put it inside <code>&lt;div&gt;&lt;/div&gt;</code> and its output is correct which is increase from 1 to the n base on my for loop above to initialize <code>&lt;div&gt;</code>.</p>\n\n<pre><code>&lt;td&gt;&lt;div id='${count}' contenteditable='true'&gt;editable&lt;/div&gt;&lt;/td&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\"#1\").keypress(function (e) {\n  if (e.which === 13) {\n     // I don't know how get this text inside it too :( \n  }\n});\n</code></pre>\n\n<p>Can anyone help me please?!</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 4698, "user_id": 10270798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u5FUH.png?s=128&g=1", "display_name": "Dince12", "link": "https://stackoverflow.com/users/10270798/dince12"}, "is_accepted": true, "score": 0, "last_activity_date": 1565779771, "last_edit_date": 1565779771, "creation_date": 1565779454, "answer_id": 57493153, "question_id": 57493095, "link": "https://stackoverflow.com/questions/57493095/how-to-reduce-type-range/57493153#57493153", "title": "How to reduce type range", "body": "<p>You could use assertion to force the type after you are sure of what it is.</p>\n\n<pre><code>  if (typeof user.avatar === 'string') {\n    user.avatar = JSON.parse(user.avatar);\n  }\n\n  const avatar = JSON.parse(user.avatar) as object;\n</code></pre>\n\n<p>This should then allow you to use avatar as its typed as on object.</p>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">Type Assertion from the docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 973, "user_id": 7418775, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Dlnq-pKX5MM/AAAAAAAAAAI/AAAAAAAANEI/K2ynQWcX4YU/photo.jpg?sz=128", "display_name": "Lajos Gallay", "link": "https://stackoverflow.com/users/7418775/lajos-gallay"}, "is_accepted": false, "score": 1, "last_activity_date": 1565779491, "creation_date": 1565779491, "answer_id": 57493161, "question_id": 57493095, "link": "https://stackoverflow.com/questions/57493095/how-to-reduce-type-range/57493161#57493161", "title": "How to reduce type range", "body": "<p>Take a look at the type guards, they do type checking and casting in one-shot: <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html</a></p>\n"}], "owner": {"reputation": 399, "user_id": 8050208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/023872f53eb8b16e2c62149dc38c4ea0?s=128&d=identicon&r=PG&f=1", "display_name": "Farad", "link": "https://stackoverflow.com/users/8050208/farad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 57493153, "answer_count": 2, "score": 1, "last_activity_date": 1565779771, "creation_date": 1565779234, "question_id": 57493095, "link": "https://stackoverflow.com/questions/57493095/how-to-reduce-type-range", "title": "How to reduce type range", "body": "<p>I have UserModel: </p>\n\n<pre><code>id: number;\nemail: string;\navatar: string|object;\n</code></pre>\n\n<p>User.avatar store in DB as stringified json.Then, I have next function:</p>\n\n<pre><code>function (user: IUserModel) {\n\n  if (typeof user.avatar === 'string') {\n    user.avatar = JSON.parse(user.avatar);\n  }\n  // so, on this moment user.avatar always is object\n  // do sth else with user... but these operations require user.avatar to be OBJECT\n  // TypeScript doesn't allow to do these operations because in IUserModel avatar could be string|object\n}\n</code></pre>\n\n<p>Please, tell me how to say TypeScript that after <code>if</code> user.avatar is always object</p>\n"}, {"tags": ["javascript", "string", "algorithm", "typescript", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 11409776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26634917edeefa1aad920e80b5f2789b?s=128&d=identicon&r=PG&f=1", "display_name": "queue", "link": "https://stackoverflow.com/users/11409776/queue"}, "edited": false, "score": 0, "creation_date": 1565852485, "post_id": 57493366, "comment_id": 101479933, "body": "the datepassed should be below for descending"}, {"owner": {"reputation": 159, "user_id": 11409776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26634917edeefa1aad920e80b5f2789b?s=128&d=identicon&r=PG&f=1", "display_name": "queue", "link": "https://stackoverflow.com/users/11409776/queue"}, "edited": false, "score": 0, "creation_date": 1565855172, "post_id": 57493366, "comment_id": 101480785, "body": "what was changed"}, {"owner": {"reputation": 5684, "user_id": 5242739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1aea26eac2e5538025006c7623146a9?s=128&d=identicon&r=PG&f=1", "display_name": "Emil S. J&#248;rgensen", "link": "https://stackoverflow.com/users/5242739/emil-s-j%c3%b8rgensen"}, "reply_to_user": {"reputation": 159, "user_id": 11409776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26634917edeefa1aad920e80b5f2789b?s=128&d=identicon&r=PG&f=1", "display_name": "queue", "link": "https://stackoverflow.com/users/11409776/queue"}, "edited": false, "score": 0, "creation_date": 1565855807, "post_id": 57493366, "comment_id": 101481001, "body": "In the <code>else</code> part of <code>specialSortDsc</code> i switched the return order."}], "tags": [], "owner": {"reputation": 5684, "user_id": 5242739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1aea26eac2e5538025006c7623146a9?s=128&d=identicon&r=PG&f=1", "display_name": "Emil S. J&#248;rgensen", "link": "https://stackoverflow.com/users/5242739/emil-s-j%c3%b8rgensen"}, "is_accepted": true, "score": 1, "last_activity_date": 1565853511, "last_edit_date": 1565853511, "creation_date": 1565780301, "answer_id": 57493366, "question_id": 57493054, "link": "https://stackoverflow.com/questions/57493054/sorting-based-on-alphabets-and-then-by-numbers/57493366#57493366", "title": "Sorting based on alphabets and then by numbers", "body": "<p>Test if first character is a number.</p>\n\n<p>If both are of comparisons are the same, compare regularly, else move the non-numeric first:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\"2020-04-07\",\r\n    \"2021-06-30\",\r\n    \"2019-12-30\",\r\n    \"date passed\",\r\n    \"date passed\",\r\n    \"date passed\"];\r\nfunction specialSortAsc(a, b) {\r\n    var isNumberRegEx = /^\\d/;\r\n    if (isNumberRegEx.test(a[0]) == isNumberRegEx.test(b[0])) {\r\n        return a.localeCompare(b);\r\n    }\r\n    else {\r\n        return isNumberRegEx.test(a[0]) ? 1 : -1;\r\n    }\r\n}\r\nfunction specialSortDsc(a, b) {\r\n    var isNumberRegEx = /^\\d/;\r\n    if (isNumberRegEx.test(a[0]) == isNumberRegEx.test(b[0])) {\r\n        return b.localeCompare(a);\r\n    }\r\n    else {\r\n        return isNumberRegEx.test(a[0]) ? -1 : 1;\r\n    }\r\n}\r\nconsole.log(data.sort(specialSortAsc));\r\nconsole.log(data.sort(specialSortDsc));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 159, "user_id": 11409776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26634917edeefa1aad920e80b5f2789b?s=128&d=identicon&r=PG&f=1", "display_name": "queue", "link": "https://stackoverflow.com/users/11409776/queue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 57493366, "answer_count": 1, "score": 0, "last_activity_date": 1565870337, "creation_date": 1565779043, "last_edit_date": 1565870337, "question_id": 57493054, "link": "https://stackoverflow.com/questions/57493054/sorting-based-on-alphabets-and-then-by-numbers", "title": "Sorting based on alphabets and then by numbers", "body": "<p>I have to sort an array which contains dates and words. all the data is considered as string</p>\n\n<pre><code>INPUT\ndata[4,a,3,a,a,2]\n\nOUTPUT(ascending expected)\ndata[a,a,a,2,3,4]\n</code></pre>\n\n<p>but when ascending, it sorts number first and then dates and vice versa. which is the opposite of what i wanted to achieve. How do i make it sort alphabets first while ascending and numbers first while descending</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1565780400, "post_id": 57492960, "comment_id": 101456470, "body": "seems this might be some kind of async operation? If so, please post that code too, or do you really have just the console logs in <code>OnInit</code>?"}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1565781254, "post_id": 57492960, "comment_id": 101456860, "body": "@shawtky Show us your whole <code>forecast.component.ts</code> please."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 9184241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4753bbff2dbd349cb1967c77366b199e?s=128&d=identicon&r=PG&f=1", "display_name": "shawtky", "link": "https://stackoverflow.com/users/9184241/shawtky"}, "edited": false, "score": 0, "creation_date": 1565780187, "post_id": 57493092, "comment_id": 101456374, "body": "Property &#39;CurrentWeather&#39; does not exist on type &#39;CurrentWeather&#39;."}, {"owner": {"reputation": 1713, "user_id": 3755353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9a3bdf4e88381bb2eecaf937d748a37?s=128&d=identicon&r=PG&f=1", "display_name": "ranjeet8082", "link": "https://stackoverflow.com/users/3755353/ranjeet8082"}, "reply_to_user": {"reputation": 9, "user_id": 9184241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4753bbff2dbd349cb1967c77366b199e?s=128&d=identicon&r=PG&f=1", "display_name": "shawtky", "link": "https://stackoverflow.com/users/9184241/shawtky"}, "edited": false, "score": 0, "creation_date": 1565780397, "post_id": 57493092, "comment_id": 101456468, "body": "What is the output of console.log(WEATHER_ITEMS[0]); in ngOnInit()."}, {"owner": {"reputation": 9, "user_id": 9184241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4753bbff2dbd349cb1967c77366b199e?s=128&d=identicon&r=PG&f=1", "display_name": "shawtky", "link": "https://stackoverflow.com/users/9184241/shawtky"}, "edited": false, "score": 0, "creation_date": 1565780674, "post_id": 57493092, "comment_id": 101456600, "body": "output is: undefined"}, {"owner": {"reputation": 1713, "user_id": 3755353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9a3bdf4e88381bb2eecaf937d748a37?s=128&d=identicon&r=PG&f=1", "display_name": "ranjeet8082", "link": "https://stackoverflow.com/users/3755353/ranjeet8082"}, "edited": false, "score": 0, "creation_date": 1565781198, "post_id": 57493092, "comment_id": 101456832, "body": "As said by AJT_82 the array gets filled asynchronously. So data will be available  after service has added data. ngOnInit is invoked before service has added data."}], "tags": [], "owner": {"reputation": 1713, "user_id": 3755353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9a3bdf4e88381bb2eecaf937d748a37?s=128&d=identicon&r=PG&f=1", "display_name": "ranjeet8082", "link": "https://stackoverflow.com/users/3755353/ranjeet8082"}, "is_accepted": false, "score": -1, "last_activity_date": 1565779221, "creation_date": 1565779221, "answer_id": 57493092, "question_id": 57492960, "link": "https://stackoverflow.com/questions/57492960/access-object-property-in-array-angular/57493092#57493092", "title": "Access object property in array angular", "body": "<p>cityName is present is object CurrentWeather. So first access CurrentWeather then cityName</p>\n\n<pre><code>WEATHER_ITEMS[0].CurrentWeather.cityName\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9184241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4753bbff2dbd349cb1967c77366b199e?s=128&d=identicon&r=PG&f=1", "display_name": "shawtky", "link": "https://stackoverflow.com/users/9184241/shawtky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1565779907, "creation_date": 1565778684, "last_edit_date": 1565779907, "question_id": 57492960, "link": "https://stackoverflow.com/questions/57492960/access-object-property-in-array-angular", "title": "Access object property in array angular", "body": "<p>I have array of objects, each object contains weather info about some location. I have problem when I want to access speficif object proprety in array. Return undefined.</p>\n\n<pre><code> ngOnInit() {\n    console.log(WEATHER_ITEMS);\n    console.log(WEATHER_ITEMS[0].cityName);\n</code></pre>\n\n<p>CLASS</p>\n\n<pre><code> import { CurrentWeather } from './current-weather';\n\n    export const WEATHER_ITEMS: CurrentWeather[] = [\n\n    ];\n</code></pre>\n\n<p>SERVICE</p>\n\n<pre><code>  addWeatherItem(weatherItem: CurrentWeather){\n    WEATHER_ITEMS.push(weatherItem);\n  }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GUQRm.png\" rel=\"nofollow noreferrer\">error and array info</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1565778547, "post_id": 57492877, "comment_id": 101455542, "body": "<code>service.arr</code> will <b>never</b> be anything but <code>undefined</code> in your example, your subscription doesn&#39;t actually assign to it. Expose an <i>observable</i> if the value isn&#39;t going to be available at first."}, {"owner": {"reputation": 111, "user_id": 11510430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b99c4e480bc9e692fda8d750695b3a?s=128&d=identicon&r=PG&f=1", "display_name": "\u041e\u043b\u044c\u0433\u0430 \u0417\u0430\u043b\u0435\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f", "link": "https://stackoverflow.com/users/11510430/%d0%9e%d0%bb%d1%8c%d0%b3%d0%b0-%d0%97%d0%b0%d0%bb%d0%b5%d1%81%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b0%d1%8f"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1565781755, "post_id": 57492877, "comment_id": 101457109, "body": "o. of cause it is my mistake. It should be like this:                 res =&gt; res = arr as SomeObject[]. And it works in a proper way."}], "answers": [{"tags": [], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1565778815, "creation_date": 1565778815, "answer_id": 57493000, "question_id": 57492877, "link": "https://stackoverflow.com/questions/57492877/what-is-a-correct-way-to-insert-a-service-variable-into-component-of-angular/57493000#57493000", "title": "What is a correct way to insert a service variable into component of Angular", "body": "<p>You should return an Observable from the service and either subscribe in the component or use the <code>async</code> pipe in the template of the component.</p>\n\n<p>Example with the <code>async</code> pipe</p>\n\n<p>Service:</p>\n\n<pre><code>@Injectable()\nexport class SomeService {\n\n    constructor(private http: HttpClient) { }\n\n    getUsers(): Observable&lt;SomeObj[]&gt; {\n        return this.http.get('someUrl');\n    }\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>@Component({\n    selector: 'app-smth',\n    templateUrl: template: `\n    &lt;ul *ngFor = \"let item of data$ | async\"&gt;\n    &lt;li&gt;Name: {{item.name}}&lt;/li&gt;\n  &lt;/ul&gt;`\n})\nexport class CategoryComponent implements OnInit, OnChanges {\n    data$: Observable&lt;SomeObj[]&gt; = this.service.getUsers();\n\n    constructor(private service: SomeService) { }\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 11510430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b99c4e480bc9e692fda8d750695b3a?s=128&d=identicon&r=PG&f=1", "display_name": "\u041e\u043b\u044c\u0433\u0430 \u0417\u0430\u043b\u0435\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f", "link": "https://stackoverflow.com/users/11510430/%d0%9e%d0%bb%d1%8c%d0%b3%d0%b0-%d0%97%d0%b0%d0%bb%d0%b5%d1%81%d0%ba%d0%be%d0%b2%d1%81%d0%ba%d0%b0%d1%8f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1565779950, "creation_date": 1565778397, "last_edit_date": 1565779950, "question_id": 57492877, "link": "https://stackoverflow.com/questions/57492877/what-is-a-correct-way-to-insert-a-service-variable-into-component-of-angular", "title": "What is a correct way to insert a service variable into component of Angular", "body": "<p>Is it a good idea to use a service variable in a template of a component like  in a code below?\nThe problem is that when I try to define this variable in a component itself like this: <code>usersList = this.service.arr</code> and then use in a template like this: <code>ngFor = let item of usersList</code>.\n   It does not work without some additional steps - using Subject , for example.</p>\n\n<pre><code>@Injectable()\nexport class SomeService {\n    arr: SomeObject[];\n\n    constructor(private http: HttpClient) { }\n\n    getUsers() {\n        this.http.get('someUrl')\n            .subscribe(\n                res =&gt; arr as SomeObject[])\n    };\n}\n\n@Component({\n    selector: 'app-smth',\n    templateUrl: template: `\n    &lt;ul *ngFor = \"let item of service.arr\"&gt;\n    &lt;li&gt;Name: {{item.name}}&lt;/li&gt;\n  &lt;/ul&gt;  `\n})\n\nexport class CategoryComponent implements OnInit, OnChanges {\n    constructor(private service: SomeService) { }\n</code></pre>\n"}, {"tags": ["typescript", "feathersjs", "feathers-sequelize"], "answers": [{"comments": [{"owner": {"reputation": 2589, "user_id": 4716643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f74d4972ef93d9b95402cdf58e0bcc6?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/4716643/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1570051434, "post_id": 57492887, "comment_id": 102796810, "body": "did you also change in .sequellizerc?"}, {"owner": {"reputation": 163, "user_id": 3158815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef80e9f68cccc43a3e6aebc25b59bde9?s=128&d=identicon&r=PG&f=1", "display_name": "jiroch", "link": "https://stackoverflow.com/users/3158815/jiroch"}, "reply_to_user": {"reputation": 2589, "user_id": 4716643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f74d4972ef93d9b95402cdf58e0bcc6?s=128&d=identicon&r=PG", "display_name": "Vikas Kumar", "link": "https://stackoverflow.com/users/4716643/vikas-kumar"}, "edited": false, "score": 0, "creation_date": 1570105087, "post_id": 57492887, "comment_id": 102813727, "body": "Hm, interesting idea - but I didn&#39;t change anything there."}], "tags": [], "owner": {"reputation": 163, "user_id": 3158815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef80e9f68cccc43a3e6aebc25b59bde9?s=128&d=identicon&r=PG&f=1", "display_name": "jiroch", "link": "https://stackoverflow.com/users/3158815/jiroch"}, "is_accepted": true, "score": -1, "last_activity_date": 1573724900, "last_edit_date": 1573724900, "creation_date": 1565778431, "answer_id": 57492887, "question_id": 57492864, "link": "https://stackoverflow.com/questions/57492864/how-to-run-migrations-in-a-feathersjs-typescript-project/57492887#57492887", "title": "How to run migrations in a feathersjs typescript project?", "body": "<p>I found a very simple way to get it working. \nJust change the extensions on the migrations/config.js and migrations/models.js files to <strong>ts</strong>.</p>\n\n<p>So you now have migrations/config.ts and migrations/models.ts and you can run migrations in the usual way using <code>sequelize db:migrate</code></p>\n\n<p>Voil\u00e1!</p>\n"}], "owner": {"reputation": 163, "user_id": 3158815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef80e9f68cccc43a3e6aebc25b59bde9?s=128&d=identicon&r=PG&f=1", "display_name": "jiroch", "link": "https://stackoverflow.com/users/3158815/jiroch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 57492887, "answer_count": 1, "score": 1, "last_activity_date": 1573724900, "creation_date": 1565778334, "question_id": 57492864, "link": "https://stackoverflow.com/questions/57492864/how-to-run-migrations-in-a-feathersjs-typescript-project", "title": "How to run migrations in a feathersjs typescript project?", "body": "<p>I'm wondering how to run Sequelize migrations on a typescript feathersjs project generated by feathers-plus CLI.</p>\n\n<p>The guide at <a href=\"https://github.com/feathersjs-ecosystem/feathers-sequelize\" rel=\"nofollow noreferrer\">https://github.com/feathersjs-ecosystem/feathers-sequelize</a> is only concerned with JS project. TS project where sequelize migrations config created exactly according to the doc will fail with not being able to find the app module.</p>\n\n<pre><code>ERROR: Cannot find module '../src/app'\n</code></pre>\n\n<p>How to get it working? (I don't want to go all out Typescript on Sequelize with 3rd party typings as I smell it would bring a whole new league of issues)</p>\n"}, {"tags": ["mongodb", "typescript", "unit-testing", "mongoose", "nestjs"], "answers": [{"comments": [{"owner": {"reputation": 1135, "user_id": 3918612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVyBU.png?s=128&g=1", "display_name": "Matt Walterspieler", "link": "https://stackoverflow.com/users/3918612/matt-walterspieler"}, "edited": false, "score": 0, "creation_date": 1567206735, "post_id": 57731060, "comment_id": 101907930, "body": "I don&#39;t know how to contact you directly. But thank you very much for all your help :) do you have a Twitter or any other social media account I can contact you with? Not to ask you more but to thank you directly."}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "reply_to_user": {"reputation": 1135, "user_id": 3918612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVyBU.png?s=128&g=1", "display_name": "Matt Walterspieler", "link": "https://stackoverflow.com/users/3918612/matt-walterspieler"}, "edited": false, "score": 1, "creation_date": 1567212260, "post_id": 57731060, "comment_id": 101908609, "body": "@MattWalterspieler I have a GitHub :)"}], "tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": true, "score": 1, "last_activity_date": 1567186619, "creation_date": 1567186619, "answer_id": 57731060, "question_id": 57492604, "link": "https://stackoverflow.com/questions/57492604/mock-a-mongoose-document-in-nestjs/57731060#57731060", "title": "Mock a mongoose document in Nestjs", "body": "<p>You mocked the <code>getFund</code> method in the wrong way. Here is the correct way to mock <code>getFund</code> method, you need to use <code>jest.fn</code> method to mock the method.</p>\n\n<pre><code>interface Fund {\n  isin: string;\n  name: string;\n  fed: boolean;\n  currency: string;\n  fund_type: string;\n  company: string;\n}\n\nexport const FundMock: Fund = {\n  isin: 'FR0000000000',\n  name: 'Test',\n  currency: 'EUR',\n  fund_type: 'uc',\n  company: '5cf6697eecb759de13fc2c73',\n  fed: true\n};\n\nclass Service {\n  public async getFund() {\n    return 'real fund data';\n  }\n}\n\nexport { Service };\n\n</code></pre>\n\n<p>Unit test:</p>\n\n<pre><code>import { Service, FundMock } from './';\n\nconst service = new Service();\n\ndescribe('Service', () =&gt; {\n  describe('#getFund', () =&gt; {\n    it('t1', async () =&gt; {\n      service.getFund = jest.fn().mockResolvedValueOnce(FundMock);\n      const actualValue = await service.getFund();\n      expect(actualValue).toEqual(FundMock);\n    });\n  });\n});\n\n</code></pre>\n\n<p>Unit test result:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/mock-function/57492604/index.spec.ts\n  Service\n    #getFund\n      \u2713 t1 (15ms)\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        2.464s\n</code></pre>\n"}], "owner": {"reputation": 1135, "user_id": 3918612, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BVyBU.png?s=128&g=1", "display_name": "Matt Walterspieler", "link": "https://stackoverflow.com/users/3918612/matt-walterspieler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 57731060, "answer_count": 1, "score": 0, "last_activity_date": 1567186619, "creation_date": 1565777278, "last_edit_date": 1565789517, "question_id": 57492604, "link": "https://stackoverflow.com/questions/57492604/mock-a-mongoose-document-in-nestjs", "title": "Mock a mongoose document in Nestjs", "body": "<p>I'm trying to mock a mongoose document in my nestjs app to then use it in my unit test.</p>\n\n<p><strong>fund.mock.ts</strong></p>\n\n<pre><code>import { Fund } from '../interfaces/fund.interface';\n\nexport const FundMock: Fund = {\n  isin: 'FR0000000000',\n  name: 'Test',\n  currency: 'EUR',\n  fund_type: 'uc',\n  company: '5cf6697eecb759de13fc2c73',\n  fed: true,\n};\n</code></pre>\n\n<p><strong>fund.interface.ts</strong></p>\n\n<pre><code>import { Document } from 'mongoose';\n\nexport interface Fund extends Document {\n  isin: string;\n  name: string;\n  fed: boolean;\n  currency: string;\n  fund_type: string;\n  company: string;\n}\n</code></pre>\n\n<p>Logically it outputs an error that says that Document properties are missing.\n<code>is missing the following properties from type 'Fund': increment, model, $isDeleted, remove, and 53 more.</code></p>\n\n<p>In my test I mock the getFund() method like so: \n<code>service.getFund = async () =&gt; FundMock;</code> </p>\n\n<p><code>getFund</code> expects to return <code>Promise&lt;Fund&gt;</code></p>\n\n<p>So how can I mock these properties? </p>\n"}, {"tags": ["angular", "typescript", "angular-module"], "comments": [{"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 1, "creation_date": 1565776433, "post_id": 57492170, "comment_id": 101454454, "body": "can you show how you imported the <code>GtagModule</code> in your <code>AppModule</code>?"}, {"owner": {"reputation": 907, "user_id": 1738491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/21wW0.png?s=128&g=1", "display_name": "Simmetric", "link": "https://stackoverflow.com/users/1738491/simmetric"}, "reply_to_user": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1565776531, "post_id": 57492170, "comment_id": 101454500, "body": "As per the instructions in the readme, I&#39;ve added it as follows: <code>import { GtagModule} from &#39;angular-gtag&#39;;</code>  @NgModule({   declarations: [AppComponent],   imports: [     ...     GtagModule.forRoot({ trackingId: &#39;UA-something&#39;, trackPageviews: true })     ...   ],   ... })"}, {"owner": {"reputation": 57430, "user_id": 3106920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5sC.jpg?s=128&g=1", "display_name": "Poul Kruijt", "link": "https://stackoverflow.com/users/3106920/poul-kruijt"}, "edited": false, "score": 0, "creation_date": 1565776624, "post_id": 57492170, "comment_id": 101454545, "body": "the package you download from npm will not have the source code and/or a js file with <code>@Directive</code>. This is only used in typescript, and the npm module probably just ships the compiled es5 code"}, {"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565777779, "post_id": 57492170, "comment_id": 101455136, "body": "npm module is fine. I got it to work. We need to see how you are doing things to find your issue"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10169935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664f1525114d03868830451dfb9f8bc3?s=128&d=identicon&r=PG&f=1", "display_name": "Romain Verclytte", "link": "https://stackoverflow.com/users/10169935/romain-verclytte"}, "is_accepted": false, "score": 0, "last_activity_date": 1565776828, "creation_date": 1565776828, "answer_id": 57492478, "question_id": 57492170, "link": "https://stackoverflow.com/questions/57492170/angular-module-from-npm-missing-ngmodule-declaration/57492478#57492478", "title": "Angular module from npm missing @NgModule declaration", "body": "<p>If the source is correct but files are missing in the release, you can link directly your depedendency to github.</p>\n\n<p>try :</p>\n\n<pre><code>npm install --save https://github.com/codediodeio/angular-gtag#master\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "is_accepted": false, "score": 1, "last_activity_date": 1565778687, "last_edit_date": 1565778687, "creation_date": 1565778287, "answer_id": 57492846, "question_id": 57492170, "link": "https://stackoverflow.com/questions/57492170/angular-module-from-npm-missing-ngmodule-declaration/57492846#57492846", "title": "Angular module from npm missing @NgModule declaration", "body": "<p>The library on npm is not missing anything. But since we cant see your code. I'm going to post what I did.</p>\n\n<p>package.json</p>\n\n<pre><code>...\n  \"dependencies\": {\n    \"@angular/common\": \"^8.0.0\",\n    \"@angular/compiler\": \"^8.0.0\",\n    \"@angular/core\": \"^8.0.0\",\n    \"@angular/forms\": \"^8.0.0\",\n    \"@angular/platform-browser\": \"^8.0.0\",\n    \"@angular/platform-browser-dynamic\": \"^8.0.0\",\n    \"@angular/router\": \"^8.0.0\",\n    \"angular-gtag\":\"1.0.3\",\n    \"core-js\": \"2\",\n    \"rxjs\": \"^6.5.2\",\n    \"zone.js\": \"^0.9.1\"\n  },\n...\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;script async src=\"https://www.googletagmanager.com/gtag/js?id=GTM-5FJXX6\"&gt;\n    &lt;/script&gt;\n    &lt;script&gt;\n        window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n  gtag('config', 'GTM-5FJXX6', { 'send_page_view': false });\n\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;my-app&gt;loading&lt;/my-app&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>app.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\nimport { GtagModule } from 'angular-gtag';\nimport { AppComponent } from './app.component';\nimport { HelloComponent } from './hello.component';\nimport { RouterModule, Routes } from '@angular/router';\n@NgModule({\n  imports:\n    [\n      GtagModule.forRoot({ trackingId: 'GTM-5FJXX6', trackPageviews: true }),\n\n      BrowserModule,\n      FormsModule,\n      RouterModule.forRoot(\n        [\n          { path: \"\", component: HelloComponent }\n        ]\n      ),\n\n    ],\n  declarations: [AppComponent, HelloComponent],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Gtag } from 'angular-gtag';\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular';\n   constructor(gtag: Gtag) {}\n}\n</code></pre>\n\n<p>app.component.html</p>\n\n<pre><code>&lt;hello name=\"{{ name }}\"&gt;&lt;/hello&gt;\n&lt;div gtagEvent\n     trackOn=\"dragstart\"\n     action=\"product_dragged\"\n     category=\"ecommerce\"\n     [params]=\"{ event_label: 'Something cool just happened' }\"&gt;\n\n   Some Product...\n\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-n2ezcx\" rel=\"nofollow noreferrer\">demo</a> If you still don't find where. replicate your issue on <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<p>The only way I can replicate your error is by removing gtagEvent from the div</p>\n"}, {"comments": [{"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1566235013, "post_id": 57507247, "comment_id": 101584288, "body": "You are probably using it in a sub-module. because it works with a routing module <a href=\"https://stackblitz.com/edit/angular-n2ezcx\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-n2ezcx</a> If so, this is the same concept of why we use a SharedModule and importing in RoutingModule is not something I would recommend"}], "tags": [], "owner": {"reputation": 907, "user_id": 1738491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/21wW0.png?s=128&g=1", "display_name": "Simmetric", "link": "https://stackoverflow.com/users/1738491/simmetric"}, "is_accepted": true, "score": 0, "last_activity_date": 1565860166, "last_edit_date": 1565860166, "creation_date": 1565859568, "answer_id": 57507247, "question_id": 57492170, "link": "https://stackoverflow.com/questions/57492170/angular-module-from-npm-missing-ngmodule-declaration/57507247#57507247", "title": "Angular module from npm missing @NgModule declaration", "body": "<p>My application has a custom RouterModule. I had to import the GtagModule there and then it worked.</p>\n\n<pre><code>import { GtagModule } from 'angular-gtag';\n\n@NgModule({\n  imports: [GtagModule]\n})\nexport class CustomRoutingModule\n</code></pre>\n\n<p>In the error message, the source is given as ng://CustomRouterModule/MyComponent.html which indicates there is a custom router that's causing the problem.</p>\n"}], "owner": {"reputation": 907, "user_id": 1738491, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/21wW0.png?s=128&g=1", "display_name": "Simmetric", "link": "https://stackoverflow.com/users/1738491/simmetric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9337, "favorite_count": 0, "accepted_answer_id": 57507247, "answer_count": 3, "score": 0, "last_activity_date": 1565860166, "creation_date": 1565775769, "last_edit_date": 1565776443, "question_id": 57492170, "link": "https://stackoverflow.com/questions/57492170/angular-module-from-npm-missing-ngmodule-declaration", "title": "Angular module from npm missing @NgModule declaration", "body": "<p>A module from NPM is missing @NgModule, @Directive declarations, though it is in the source code on Github. This is preventing me from importing a directive to databind from an HTML attribute.</p>\n\n<hr>\n\n<p>I'm trying to use the angular-gtag package to log custom dimensions to Google Analytics using the [params] attribute as defined in the readme here: <a href=\"https://github.com/codediodeio/angular-gtag\" rel=\"nofollow noreferrer\">https://github.com/codediodeio/angular-gtag</a></p>\n\n<pre><code>&lt;div gtagEvent trackOn=\"click\" action=\"myAction\" [params]=\"{ myDimension: myDimensionValue}\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Where myDimensionValue is a variable of the containing component.</p>\n\n<p>This causes an error:</p>\n\n<pre><code>Template parse errors:\nCan't bind to 'params' since it isn't a known property of 'div'.\n</code></pre>\n\n<p>Reading up on this error (such as here: <a href=\"https://stackoverflow.com/questions/43131227/angular-4-cant-bind-to-property-since-it-isnt-a-known-property-of-component\">Angular 4 Can&#39;t bind to &lt;property&gt; since it isn&#39;t a known property of &lt;component&gt;</a> or here: <a href=\"https://stackoverflow.com/questions/43522877/cant-bind-to-x-since-it-isnt-a-known-property-of-y\">Can&#39;t bind to &#39;x&#39; since it isn&#39;t a known property of &#39;y&#39;</a>) leads to the suggestion that I need to add the GtagEventDirective class to the declarations in app.module.ts. </p>\n\n<p>However, doing that leads to the error</p>\n\n<pre><code>Unexpected module 'GtagModule' declared by the module 'AppModule'. Please add a @Pipe/@Directive/@Component annotation\n</code></pre>\n\n<p>Looking in the source of the package in node_modules, any @Component or @Directive annotations are absent. Strangely enough, they are present in the module's source code on Github: <a href=\"https://github.com/codediodeio/angular-gtag/blob/master/lib/src/gtag-event.directive.ts\" rel=\"nofollow noreferrer\">https://github.com/codediodeio/angular-gtag/blob/master/lib/src/gtag-event.directive.ts</a> and <a href=\"https://github.com/codediodeio/angular-gtag/blob/master/lib/src/gtag.module.ts\" rel=\"nofollow noreferrer\">https://github.com/codediodeio/angular-gtag/blob/master/lib/src/gtag.module.ts</a></p>\n\n<p>So what can I do here? Editing the code in node_modules doesn't seem like the best idea and changes here may not even be picked up as there are already transpiled files in the package.</p>\n\n<p>I tried reinstalling the package. I'm certain I have the latest version (1.0.3) and the source in Github also lists that version as the latest.</p>\n\n<p>Of course I could create an issue in the Github repo, but the source code there is correct. Any change I could ask for is already in there. My problem seems to be somewhere between NPM and my machine.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "components"], "comments": [{"owner": {"reputation": 16246, "user_id": 2875348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZYAH1.jpg?s=128&g=1", "display_name": "ravibagul91", "link": "https://stackoverflow.com/users/2875348/ravibagul91"}, "edited": false, "score": 0, "creation_date": 1567914960, "post_id": 57492049, "comment_id": 102106240, "body": "Hi Desmond, read this - <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>, and try to close the question."}], "answers": [{"tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 0, "last_activity_date": 1565775768, "creation_date": 1565775768, "answer_id": 57492169, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate/57492169#57492169", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<p>Changing the value of a local variable does not cause a re-render. And even if something else causes a render, that new render won't have access to local variables from the previous render.  You need to use useState for the active style, not a local variable. </p>\n"}, {"tags": [], "owner": {"reputation": 16246, "user_id": 2875348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZYAH1.jpg?s=128&g=1", "display_name": "ravibagul91", "link": "https://stackoverflow.com/users/2875348/ravibagul91"}, "is_accepted": false, "score": 2, "last_activity_date": 1565777416, "last_edit_date": 1565777416, "creation_date": 1565776018, "answer_id": 57492240, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate/57492240#57492240", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<p>Local variable doesn't affect re-render.</p>\n\n<pre><code>let activeStyle = hiddenStyle    //local variable\n</code></pre>\n\n<p>You need to keep this in state and change using setter method.</p>\n\n<pre><code>const [activeStyle, setActiveStyle] = useState(hiddenStyle)\n\nconst InputEvent = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    const inputValue = e.currentTarget.value;\n    setRawTextInput(inputValue)\n\n    if(inputValue == \"\"){\n        setActiveStyle(hiddenStyle)\n    } else {\n        setActiveStyle(visibleStyle)\n    }\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1684, "user_id": 9976967, "user_type": "registered", "profile_image": "https://graph.facebook.com/751331488408199/picture?type=large", "display_name": "Eslam Abu Hugair", "link": "https://stackoverflow.com/users/9976967/eslam-abu-hugair"}, "is_accepted": false, "score": 1, "last_activity_date": 1565776095, "creation_date": 1565776095, "answer_id": 57492266, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate/57492266#57492266", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<p>just use useState for activeStyle instead of declaring it on the scope of the component,this could cause unsync effect which could be a problem and indeterministic </p>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 4286669, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/96zjn.jpg?s=128&g=1", "display_name": "Desmond", "link": "https://stackoverflow.com/users/4286669/desmond"}, "is_accepted": false, "score": 0, "last_activity_date": 1565776118, "creation_date": 1565776118, "answer_id": 57492274, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate/57492274#57492274", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<pre><code>import React, {useState} from 'react';\nimport './TextInput.css';\nimport * as CSS from 'csstype';\n\ntype TextInputProps = {\n    title: string\n}\n\nconst TextInput: React.FC&lt;TextInputProps&gt; = ({title, children}) =&gt; {\n\n    const hiddenStyle: CSS.Properties = {\n        opacity: 0\n    };\n    const visibleStyle: CSS.Properties = {\n        opacity: 1\n    };\n\n    const [rawTextInput, setRawTextInput] = useState(\"\")\n\n    //------Put something you want to change dynamically inside useState()\n    const [titleStyle, setTitleStyle] = useState(hiddenStyle)\n    //------\n\n    const InputEvent = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n        const inputValue = e.currentTarget.value;\n        setRawTextInput(inputValue)\n\n        if(inputValue == \"\"){\n            setTitleStyle(hiddenStyle)\n        } else {\n            setTitleStyle(visibleStyle)\n        }\n\n    }\n\n    return (\n        &lt;div className=\"TextInput\"&gt;\n            &lt;p \n                className=\"TextInputTitle\"\n                style={titleStyle}\n            &gt;\n                {title}\n            &lt;/p&gt;\n            &lt;input \n                className=\"TextInputField\" \n                type=\"text\" \n                placeholder={title} \n                value={rawTextInput}\n                onChange={InputEvent}\n            /&gt;\n            {/*&lt;p className=\"TextInputHint\"&gt;&lt;/p&gt;*/}\n        &lt;/div&gt;\n    );\n}\n\nexport default TextInput\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 10185088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tX2oV.jpg?s=128&g=1", "display_name": "Mustafa Alfar", "link": "https://stackoverflow.com/users/10185088/mustafa-alfar"}, "is_accepted": false, "score": 2, "last_activity_date": 1565777492, "creation_date": 1565777492, "answer_id": 57492657, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate/57492657#57492657", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<p>I've tried a simpler approach </p>\n\n<pre><code>import React, { useState } from \"react\";\n\ntype TextInputProps = {\n  title: string;\n};\n\nconst TextInput: React.FC&lt;TextInputProps&gt; = ({ title, children }) =&gt; {\n\n  const [rawTextInput, setRawTextInput] = useState(\"\");\n\n  const InputEvent = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n    setRawTextInput(e.target.value)\n  };\n\n  return (\n    &lt;div className=\"TextInput\"&gt;\n      &lt;p className=\"TextInputTitle\" style={{opacity : rawTextInput == \"\"  ? 0 : 1}}&gt;\n        {title}\n      &lt;/p&gt;\n      &lt;input\n        className=\"TextInputField\"\n        type=\"text\"\n        placeholder={title}\n        value={rawTextInput}\n        onChange={InputEvent}\n      /&gt;\n      {/*&lt;p className=\"TextInputHint\"&gt;&lt;/p&gt;*/}\n    &lt;/div&gt;\n  );\n};\n\nexport default TextInput;\n\n</code></pre>\n\n<p>I hope it'll be useful </p>\n"}], "owner": {"reputation": 627, "user_id": 4286669, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/96zjn.jpg?s=128&g=1", "display_name": "Desmond", "link": "https://stackoverflow.com/users/4286669/desmond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1565777492, "creation_date": 1565775337, "question_id": 57492049, "link": "https://stackoverflow.com/questions/57492049/why-this-function-component-doesnt-re-render-after-setstate", "title": "Why this function component doesn&#39;t re-render after setState?", "body": "<p>As shown below, this <code>TextInput</code> component does a simple job: when input's value is empty, hides the title because placeholder shows the same words.</p>\n\n<p>But the code doesn't work as expected. <code>InputEvent</code> does run, but reassign <code>activeStyle</code> has no effect.</p>\n\n<pre><code>import React, {useState} from 'react';\nimport './TextInput.css';\nimport * as CSS from 'csstype';\n\ntype TextInputProps = {\n    title: string\n}\n\nconst TextInput: React.FC&lt;TextInputProps&gt; = ({title, children}) =&gt; {\n\n    const hiddenStyle: CSS.Properties = {\n        opacity: 0\n    };\n    const visibleStyle: CSS.Properties = {\n        opacity: 1\n    };\n    let activeStyle = hiddenStyle\n\n    const [rawTextInput, setRawTextInput] = useState(\"\")\n\n    const InputEvent = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n        const inputValue = e.currentTarget.value;\n        setRawTextInput(inputValue)\n\n        if(inputValue == \"\"){\n            activeStyle = hiddenStyle\n        } else {\n            activeStyle = visibleStyle\n        }\n\n    }\n\n    return (\n        &lt;div className=\"TextInput\"&gt;\n            &lt;p \n                className=\"TextInputTitle\"\n                style={activeStyle}\n            &gt;\n                {title}\n            &lt;/p&gt;\n            &lt;input \n                className=\"TextInputField\" \n                type=\"text\" \n                placeholder={title} \n                value={rawTextInput}\n                onChange={InputEvent}\n            /&gt;\n            {/*&lt;p className=\"TextInputHint\"&gt;&lt;/p&gt;*/}\n        &lt;/div&gt;\n    );\n}\n\nexport default TextInput\nimport React, {useState} from 'react';\nimport './TextInput.css';\nimport * as CSS from 'csstype';\n\ntype TextInputProps = {\n    title: string\n}\n\nconst TextInput: React.FC&lt;TextInputProps&gt; = ({title, children}) =&gt; {\n\n    const hiddenStyle: CSS.Properties = {\n        opacity: 0\n    };\n    const visibleStyle: CSS.Properties = {\n        opacity: 1\n    };\n    let activeStyle = hiddenStyle\n\n    const [rawTextInput, setRawTextInput] = useState(\"\")\n\n    const InputEvent = (e: React.FormEvent&lt;HTMLInputElement&gt;) =&gt; {\n        const inputValue = e.currentTarget.value;\n        setRawTextInput(inputValue)\n\n        if(inputValue == \"\"){\n            activeStyle = hiddenStyle\n        } else {\n            activeStyle = visibleStyle\n        }\n\n    }\n\n    return (\n        &lt;div className=\"TextInput\"&gt;\n            &lt;p \n                className=\"TextInputTitle\"\n                style={activeStyle}\n            &gt;\n                {title}\n            &lt;/p&gt;\n            &lt;input \n                className=\"TextInputField\" \n                type=\"text\" \n                placeholder={title} \n                value={rawTextInput}\n                onChange={InputEvent}\n            /&gt;\n            {/*&lt;p className=\"TextInputHint\"&gt;&lt;/p&gt;*/}\n        &lt;/div&gt;\n    );\n}\n\nexport default TextInput\n</code></pre>\n"}, {"tags": ["angular", "typescript", "asynchronous", "rxjs", "observable"], "comments": [{"owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 2, "creation_date": 1565775798, "post_id": 57492013, "comment_id": 101454108, "body": "Would you mind creating a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">demo</a> so that we can reproduce."}, {"owner": {"reputation": 17285, "user_id": 3738171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2JdKH.jpg?s=128&g=1", "display_name": "Guerric P", "link": "https://stackoverflow.com/users/3738171/guerric-p"}, "edited": false, "score": 0, "creation_date": 1565777296, "post_id": 57492013, "comment_id": 101454890, "body": "Strange pattern, why don&#39;t you simply store the <code>playDate</code> on the parent and pass it to the child as a <code>@Input()</code> property?"}, {"owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "edited": false, "score": 1, "creation_date": 1565777707, "post_id": 57492013, "comment_id": 101455095, "body": "stackblitz added"}], "answers": [{"comments": [{"owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "reply_to_user": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "edited": false, "score": 1, "creation_date": 1565779677, "post_id": 57493024, "comment_id": 101456103, "body": "@Friso Hoekstra You&#39;re welcome. Also check my edit with an advice."}, {"owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "edited": false, "score": 0, "creation_date": 1565780034, "post_id": 57493024, "comment_id": 101456289, "body": "It&#39;s funny that the direct reference would work with an Observable created from a BehaviorSubject, but not with one created with fromEvent. Why is that?"}], "tags": [], "owner": {"reputation": 6079, "user_id": 6694645, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/RWjiK.jpg?s=128&g=1", "display_name": "Dino", "link": "https://stackoverflow.com/users/6694645/dino"}, "is_accepted": true, "score": 3, "last_activity_date": 1565779643, "last_edit_date": 1565779643, "creation_date": 1565778916, "answer_id": 57493024, "question_id": 57492013, "link": "https://stackoverflow.com/questions/57492013/angular-async-pipe-not-working-with-fromevent/57493024#57493024", "title": "Angular async pipe not working with fromEvent", "body": "<p>I checked your Stackblitz. It's not a good practice that you are passing a service function as an @Input() by <strong><em>directly</em></strong> referencing the service from the template.</p>\n\n<p>Therefore, instead of referencing the service in a template like your currently do:</p>\n\n<pre><code>&lt;audio-container [currentTime]=\"audio.currentTime()\"&gt;\n</code></pre>\n\n<p>You should create a new Observable which will reference to the one from a service, and then use it in a template.</p>\n\n<pre><code>&lt;audio-container [currentTime]=\"$currentTime\"&gt;\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>$currTime: Observable&lt;any&gt;;\n\nconstructor(public audio: AudioPlayerService) {\n  this.$currentTime = this.audio.currentTime();\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-8npcbh\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n\n<p><strong>ADVICE</strong>: Don't reference the service variables / functions directly from a template.</p>\n\n<p><em>BAD:</em></p>\n\n<pre><code>&lt;button (click)=\"audio.play(version1)\"&gt;Play Song 1&lt;/button&gt;\n</code></pre>\n\n<p><em>GOOD:</em></p>\n\n<pre><code>&lt;button (click)=\"play(version1)\"&gt;Play Song 1&lt;/button&gt;\n\nplay(version) {\n   this.audio.play(version).subscribe(...);\n}\n</code></pre>\n"}], "owner": {"reputation": 635, "user_id": 9766768, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818059251579855/picture?type=large", "display_name": "Friso Hoekstra", "link": "https://stackoverflow.com/users/9766768/friso-hoekstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 57493024, "answer_count": 1, "score": 1, "last_activity_date": 1565779643, "creation_date": 1565775215, "last_edit_date": 1565777694, "question_id": 57492013, "link": "https://stackoverflow.com/questions/57492013/angular-async-pipe-not-working-with-fromevent", "title": "Angular async pipe not working with fromEvent", "body": "<p><strong>Stackblitz</strong>: <a href=\"https://stackblitz.com/edit/angular-w7vlnu\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-w7vlnu</a></p>\n\n<p>I am creating an <code>Observable</code> from an <code>HTMLAudioElement</code> using <code>fromEvent</code>: </p>\n\n<pre><code>playTime(): Observable&lt;any&gt; {\n    return fromEvent(myMediaElement, 'play').pipe(\n        map(e =&gt; e.type + Date.now())\n    );\n}\n</code></pre>\n\n<p><code>playTime()</code> gets passed to a child component via an <code>@Input()</code></p>\n\n<p>In the component, when I subscribe:</p>\n\n<pre><code>// component.ts\n\n@Input() currentTime: Observable&lt;any&gt;;\n\nplayDate = '';\n\nngOnInit {\n    this.currentTime.subscribe(v =&gt; this.playDate = v);\n}\n</code></pre>\n\n<pre><code>// component.html\n\n// will render\n{{ playDate }}  \n\n// will not render\n{{ currentTime | async }}\n</code></pre>\n\n<p>I tried ye olde <code>ChangeDetectorRef.detectChanges()</code> and <code>Application.tick()</code> to no avail.</p>\n\n<p>Something I need to know about <code>fromEvent</code> and the way the subscription works? Other Observables constructed from <code>BehaviorSubject</code> work fine in this component</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1565777545, "post_id": 57492001, "comment_id": 101455018, "body": "By saying <code>obj: ObjType</code>, you explicitly tell the compiler to treat <code>obj</code> as an <code>ObjType</code>, so the Intellisense for <code>obj.say.hi</code> is correct in your screenshot. What are you trying to achieve here? It sounds a bit like an XY problem."}, {"owner": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "reply_to_user": {"reputation": 13146, "user_id": 243192, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UmXVb.png?s=128&g=1", "display_name": "Rengers", "link": "https://stackoverflow.com/users/243192/rengers"}, "edited": false, "score": 0, "creation_date": 1565779041, "post_id": 57492001, "comment_id": 101455783, "body": "@Rengers I want to force all <code>obj</code> members to match a type, without overriding their actual types."}], "answers": [{"comments": [{"owner": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "edited": false, "score": 0, "creation_date": 1565778969, "post_id": 57492961, "comment_id": 101455746, "body": "Thanks. I think the issue here is that it still loses the original type, e.g. it suggests the <code>hi</code> method for <code>obj.write</code>, even though that method doesn&#39;t exist."}, {"owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "reply_to_user": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "edited": false, "score": 0, "creation_date": 1565779638, "post_id": 57492961, "comment_id": 101456077, "body": "EDIT: checked it. It will not compile when you are in <code>strict</code>.  It works well in VS Code"}, {"owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "reply_to_user": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "edited": false, "score": 0, "creation_date": 1565780188, "post_id": 57492961, "comment_id": 101456375, "body": "As it is IntelliJ issue I have reported it to Jetbrains! <a href=\"https://youtrack.jetbrains.com/issue/WEB-40691\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/WEB-40691</a>"}, {"owner": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "edited": false, "score": 0, "creation_date": 1565781577, "post_id": 57492961, "comment_id": 101457020, "body": "I&#39;ve been trying it in the TypeScript playground. The issue is that they&#39;re all optional now, even though obj.say.hello always exists. <a href=\"http://www.typescriptlang.org/play/#code/MYewdgzgLgBCBGArAXDA8kgKgTwA4FMYBeGAbwCgYYIBDbVCqqgC3wBs2RUAKCAmgNb4ATgEpiAPjIBfADSUmzAJY8++QSPFEppOQr1UA7sKVR8DBS3acex0yNkwCYLToMw90gNzlyUPIQAgsBQSuAQANL42BDEMADktNjxMAA+CXZm8T7+BDAA4sL4+KFgAOaR0bEk8cop6bXWINl+ATDBoeAAYgCuYCFhYHHcBMIQ4KjQJuWOUCAgbAD8qDRg2K4wAG4gSgAmOW0YiDh5JIwwANo0MEpDHYOVMQC6qAAKNMKhNGwAPJZk-yoF3gNyGhWKpQqUWeqHu3T6A3APiYHgUEh83l8QA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "reply_to_user": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "edited": false, "score": 0, "creation_date": 1565781713, "post_id": 57492961, "comment_id": 101457092, "body": "I can adjust it if you want to stick to this type however I thought you want to make it dynamic"}], "tags": [], "owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1565779874, "last_edit_date": 1565779874, "creation_date": 1565778685, "answer_id": 57492961, "question_id": 57492001, "link": "https://stackoverflow.com/questions/57492001/enforce-type-of-property-values-without-override-them-in-typescript/57492961#57492961", "title": "Enforce type of property values without override them in TypeScript", "body": "<p>Done that for you:</p>\n\n<pre><code>const obj: ObjType = {\n  say: {\n    hello: (speaker) =&gt; {},\n    hi: (speaker) =&gt; {},\n  },\n  write: {\n    hello: (writer, pen) =&gt; {},\n  },\n};\n\ntype ActionsKeys = 'say' | 'write';\ntype GreetingsKeys = 'hi' | 'hello';\ntype ActionFunction = (person: string, tool?: any) =&gt; void;\ntype ObjType = {\n  [a in ActionsKeys]: Partial&lt;\n    {\n      [b in GreetingsKeys]: ActionFunction;\n    }\n  &gt;;\n};\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/a4z0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a4z0u.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Dpz3j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dpz3j.png\" alt=\"enter image description here\"></a></p>\n\n<p>It requires <code>strict</code> enabled in TS config.\nIt works well in VS Code:\n<a href=\"https://i.stack.imgur.com/w50iN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w50iN.png\" alt=\"enter image description here\"></a></p>\n\n<p>however IntelliJ does not handle it well.</p>\n"}], "owner": {"reputation": 14641, "user_id": 1290545, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/1sd2a.jpg?s=128&g=1", "display_name": "Matt Zeunert", "link": "https://stackoverflow.com/users/1290545/matt-zeunert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565779874, "creation_date": 1565775168, "question_id": 57492001, "link": "https://stackoverflow.com/questions/57492001/enforce-type-of-property-values-without-override-them-in-typescript", "title": "Enforce type of property values without override them in TypeScript", "body": "<p>I have an object that looks something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const obj = {\n  say: {\n    hello: speaker =&gt; {},\n    hi: speaker =&gt; {}\n  },\n  write: {\n    hello: (writer, pen) =&gt; {}\n  }\n};\n</code></pre>\n\n<p>Now if I type <code>obj.say.</code> it'll show me the <code>hello</code> and <code>hi</code> methods in the autocomplete, and the parameter name shows as <code>speaker</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FMYOU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FMYOU.png\" alt=\"typescript autocomplete\"></a></p>\n\n<p>I want to enforce a structure on the object properties, so I'm setting this type on <code>obj</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ObjType =  {\n  [action in \"say\" | \"write\"]: {\n    [messageType: string]: (person: { name: string }, tool?: any) =&gt; void;\n  }\n}\n\nconst obj : ObjType = ...\n</code></pre>\n\n<p>But now, if I type <code>obj.say</code> it doesn't show the <code>hello</code> and <code>hi</code> options, and when I try to call the function it uses the definition from ObjType, rather than the more detailed type. </p>\n\n<p><a href=\"https://i.stack.imgur.com/f5JbK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5JbK.png\" alt=\"\"></a></p>\n\n<p>Can I somehow get the best of both worlds? For example, I want to enforce that the functions always have at least one argument, but it should use the argument name I specified in each function.</p>\n\n<p>The best I could think of was to not set <code>ObjType</code> on <code>obj</code> but instead add an extra variable <code>let enforcerObj : ObjType = obj</code> that isn't used for anything except to cause a type error.</p>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "answers": [{"tags": [], "owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "is_accepted": true, "score": 1, "last_activity_date": 1565776272, "creation_date": 1565776272, "answer_id": 57492316, "question_id": 57491999, "link": "https://stackoverflow.com/questions/57491999/is-there-a-way-to-select-set-a-theme-through-the-vs-code-extension-api/57492316#57492316", "title": "Is there a way to select/set a theme through the VS Code extension API?", "body": "<p>There is a <code>\"workbench.colorTheme\"</code> setting (note that it's only available for workspace-local <code>settings.json</code> files). Additionally, there's an <a href=\"https://code.visualstudio.com/api/references/vscode-api#WorkspaceConfiguration\" rel=\"nofollow noreferrer\">API to read and modify settings</a>. This means you can do something like this:</p>\n\n<pre><code>var folders = vscode.workspace.workspaceFolders;\nif (folders !== undefined) {\n  vscode.workspace.getConfiguration('workbench', folders[0].uri)\n      .update(\n          'colorTheme', 'themeName', vscode.ConfigurationTarget.Workspace);\n}\n</code></pre>\n\n<p>Note: this logic is simplified and assumes that the workspace only consists of a single folder / won't work for <a href=\"https://code.visualstudio.com/docs/editor/multi-root-workspaces\" rel=\"nofollow noreferrer\">multi-root workspaces</a>.</p>\n"}], "owner": {"reputation": 79, "user_id": 4329379, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9FldA.jpg?s=128&g=1", "display_name": "Juan Morais", "link": "https://stackoverflow.com/users/4329379/juan-morais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 57492316, "answer_count": 1, "score": 1, "last_activity_date": 1565776272, "creation_date": 1565775162, "last_edit_date": 1565775357, "question_id": 57491999, "link": "https://stackoverflow.com/questions/57491999/is-there-a-way-to-select-set-a-theme-through-the-vs-code-extension-api", "title": "Is there a way to select/set a theme through the VS Code extension API?", "body": "<p>I want to be able to set/select a theme at a given time through the extension API.</p>\n\n<p>Example:\n<code>6:00 PM \u2014 Set theme \"OneDark Pro\"</code></p>\n\n<p>So far, I've been reading the extension API docs and have not found information that could help me in this manner.</p>\n\n<p>This would be my first extension &amp; Typescript project, so I'm sure I might be missing an obvious point.</p>\n\n<pre><code>vscode.ThemeColor.set('themeName');\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "redux", "ngrx"], "comments": [{"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565774192, "post_id": 57491558, "comment_id": 101453301, "body": "I would stick to []"}], "answers": [{"comments": [{"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565811505, "post_id": 57497794, "comment_id": 101471365, "body": "Well in the example i have outlined above, <code>myState</code> includes an additional property, but by your example, I would assume i can do this: <code>return { ...state, myArray: myState.array }</code> correct? If so, would you mind updating your answer so that i can accept it?"}, {"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565844048, "post_id": 57497794, "comment_id": 101478121, "body": "I felt like i should edit the answer to clarify the question regarding memory leaks."}, {"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565844274, "post_id": 57497794, "comment_id": 101478160, "body": "Your response was that &quot;NgRx cleans up for you&quot; ... if you read the first part of my question regarding the memory leak example, theoretically the same could occur here, hence the additional question/note about memory leaks."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565844555, "post_id": 57497794, "comment_id": 101478219, "body": "Normally I dont have question with memory leak because I&#39;m using async pipe"}, {"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565952613, "post_id": 57497794, "comment_id": 101513078, "body": "I found what i was looking for and going to update the answer and mark it as such."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 1, "creation_date": 1565952847, "post_id": 57497794, "comment_id": 101513190, "body": "the problem you have as the memory leak is not related to your question"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1565955597, "post_id": 57497794, "comment_id": 101514392, "body": "@DevMike Then again my answer is correct in the first place"}, {"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1566169436, "post_id": 57497794, "comment_id": 101560831, "body": "You are correct, essentially, according to NgRx documentation, we should use an empty array in this case as you suggested, but there is no documentation related to the possibility for memory leaks as a result of doing so. Maybe i should delete the question."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1566186688, "post_id": 57497794, "comment_id": 101563066, "body": "As I said. That is not related to your question. If you want to ask another question related to memory leak make another question. This question is already answer and dont have accepted answer."}, {"owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "edited": false, "score": 0, "creation_date": 1566268767, "post_id": 57497794, "comment_id": 101593377, "body": "I revised both the q and a to focus on how to correctly reset the array"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1566268797, "last_edit_date": 1566268797, "creation_date": 1565796661, "answer_id": 57497794, "question_id": 57491558, "link": "https://stackoverflow.com/questions/57491558/with-ngrx-what-is-the-correct-way-to-reset-or-return-an-empty-array-inside-of/57497794#57497794", "title": "With NgRx, what is the correct way to reset, or return an empty array inside of the state object?", "body": "<p>Yes, to reset it, or empty it, we should just set it as a new, empty array:</p>\n\n<pre><code>return {\n  ...state,\n  myArray: []   &lt;---- RETURN AN EMPTY ARRAY\n};\n</code></pre>\n"}], "owner": {"reputation": 1218, "user_id": 2934896, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b096c2b67fec9accfece16dfe54b241?s=128&d=identicon&r=PG&f=1", "display_name": "DevMike", "link": "https://stackoverflow.com/users/2934896/devmike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 57497794, "answer_count": 1, "score": 1, "last_activity_date": 1570719702, "creation_date": 1565773673, "last_edit_date": 1570719702, "question_id": 57491558, "link": "https://stackoverflow.com/questions/57491558/with-ngrx-what-is-the-correct-way-to-reset-or-return-an-empty-array-inside-of", "title": "With NgRx, what is the correct way to reset, or return an empty array inside of the state object?", "body": "<p>What would be the correct way to return an empty array in an NgRx reducer?</p>\n\n<p>I use NgRx to write a basic reducer which includes an empty array, <code>myArray</code> in my initial state:</p>\n\n<pre><code>import * as MyActions from './my.actions';\nconst myState = {\n    myValue: 'foo',\n    myArray: []\n}\n</code></pre>\n\n<p>And, I have an action <code>ARRAY_RESET</code> which returns <code>myArray</code> as an empty array as follows:</p>\n\n<pre><code>export function myReducer(\n    state = myState,\n    action: MyActions.MyActionTypes\n) {\n    switch(action.type) {\n        case MyActions.ARRAY_RESET:\n            return {\n                ...state,\n                myArray: []   &lt;---- I RETURN AN EMPTY ARRAY\n            };\n        case MyActions.ARRAY_PUSH:\n            return {\n                ...state,\n                myArray: [...state.myArray, action.payload]\n            };\n        default:\n            return state;\n    }\n}\n</code></pre>\n\n<p>Is this the correct approach?</p>\n"}, {"tags": ["typescript", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 11735251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UE7HlWXPgpY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdG2ONwwnBPRibhCa2sD0UWQNmkrg/photo.jpg?sz=128", "display_name": "gausmohammad shaikh", "link": "https://stackoverflow.com/users/11735251/gausmohammad-shaikh"}, "edited": false, "score": 0, "creation_date": 1565781453, "post_id": 57493299, "comment_id": 101456960, "body": "we can retrieve modal selected values using ngModel."}], "tags": [], "owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "is_accepted": true, "score": 2, "last_activity_date": 1565780870, "last_edit_date": 1565780870, "creation_date": 1565780047, "answer_id": 57493299, "question_id": 57491148, "link": "https://stackoverflow.com/questions/57491148/open-modal-with-images-and-selection-on-images-in-ionic-4/57493299#57493299", "title": "Open modal with images and selection on images in ionic 4?", "body": "<p>You can pass data to a modal using <code>componentProps</code>, something like this:</p>\n\n<pre><code>  async presentModal() {\n    const modal = await this.modalController.create({\n      component: ModalPage,\n      componentProps: { \n        foo: 'hello',\n        bar: 'world'\n      }\n    });\n    return await modal.present();\n  }\n</code></pre>\n\n<p>The <code>foo</code> and <code>bar</code> in the example above could be anything you wanted, like the url to an image you want to load, for example.</p>\n\n<p>Inside the modal you can then use the passed data just by setting a public variable with the same name:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\n\n@Component()\nexport class ModalPage implements OnInit {\n  foo;\n  bar;\n\n  ngOnInit() {\n    console.log(`${foo} ${bar}`)\n  }\n}\n\n// hello world\n</code></pre>\n\n<p>So in your example if you passed a url into <code>foo</code> then you could set up an image with this markup inside the modal:</p>\n\n<pre><code>&lt;ion-img [src]=\"foo\"&gt;&lt;/ion-img&gt;\n</code></pre>\n\n<p>A full tutorial is available at:</p>\n\n<ul>\n<li><a href=\"https://angularfirebase.com/snippets/use-componentprops-to-pass-data-to-modals-in-ionic-4/\" rel=\"nofollow noreferrer\">How to Pass Data to Modals in Ionic 4 | AngularFirebase</a></li>\n</ul>\n"}], "owner": {"reputation": 123, "user_id": 11735251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UE7HlWXPgpY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdG2ONwwnBPRibhCa2sD0UWQNmkrg/photo.jpg?sz=128", "display_name": "gausmohammad shaikh", "link": "https://stackoverflow.com/users/11735251/gausmohammad-shaikh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 57493299, "answer_count": 1, "score": 1, "last_activity_date": 1565780870, "creation_date": 1565772187, "question_id": 57491148, "link": "https://stackoverflow.com/questions/57491148/open-modal-with-images-and-selection-on-images-in-ionic-4", "title": "Open modal with images and selection on images in ionic 4?", "body": "<p>I'm creating ionic 4 angular app, and use ionic modal. i want ionic modal with images and when click on images it will displayed.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565780850, "post_id": 57491827, "comment_id": 101456667, "body": "Its not the angular way of using document.querySelectorAll. Can you make it in angular way?"}, {"owner": {"reputation": 586, "user_id": 9744670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b82ecf640578ce82084f25a57faa68?s=128&d=identicon&r=PG&f=1", "display_name": "Kinjal", "link": "https://stackoverflow.com/users/9744670/kinjal"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565781593, "post_id": 57491827, "comment_id": 101457028, "body": "You can inject document in angular and then use that document element. I have updated code for injecting document on stackblitz"}, {"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565782436, "post_id": 57491827, "comment_id": 101457445, "body": "I want to get the UL without the document."}, {"owner": {"reputation": 586, "user_id": 9744670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b82ecf640578ce82084f25a57faa68?s=128&d=identicon&r=PG&f=1", "display_name": "Kinjal", "link": "https://stackoverflow.com/users/9744670/kinjal"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565782650, "post_id": 57491827, "comment_id": 101457550, "body": "you can get that by <code>this.el.nativeElement.parentElement</code> without document"}, {"owner": {"reputation": 586, "user_id": 9744670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b82ecf640578ce82084f25a57faa68?s=128&d=identicon&r=PG&f=1", "display_name": "Kinjal", "link": "https://stackoverflow.com/users/9744670/kinjal"}, "reply_to_user": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565786918, "post_id": 57491827, "comment_id": 101459675, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197930/discussion-between-kinjal-and-anonymous\">continue this discussion in chat</a>."}, {"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565846960, "post_id": 57491827, "comment_id": 101478618, "body": "Please let me know a way where we can use this without Document ."}, {"owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "edited": false, "score": 0, "creation_date": 1565847196, "post_id": 57491827, "comment_id": 101478647, "body": "I already upvoted your question but it should work without the document."}], "tags": [], "owner": {"reputation": 586, "user_id": 9744670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b82ecf640578ce82084f25a57faa68?s=128&d=identicon&r=PG&f=1", "display_name": "Kinjal", "link": "https://stackoverflow.com/users/9744670/kinjal"}, "is_accepted": true, "score": 1, "last_activity_date": 1565775795, "last_edit_date": 1565775795, "creation_date": 1565774591, "answer_id": 57491827, "question_id": 57491076, "link": "https://stackoverflow.com/questions/57491076/selected-list-element-color-change-with-angular-directive/57491827#57491827", "title": "Selected List element color change with angular directive", "body": "<p>You can create new method with below code</p>\n\n<pre><code>private removeColor() {\n      document.querySelectorAll('[appSelectedItem]').forEach((el) =&gt; {\n        this.removeBorder(el);\n      })\n    }\n</code></pre>\n\n<p>and call that instead of <code>this.removeBorder();</code> in <code>clickedInside</code> method like this</p>\n\n<pre><code>@HostListener('click', ['$event']) clickedInside(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.removeColor();\n      this.setElementStyleToBold();\n      if (this.el.nativeElement.contains(event.target)) {\n        this.clicked = event.target.id;\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 57491827, "answer_count": 1, "score": 1, "last_activity_date": 1565775795, "creation_date": 1565771921, "last_edit_date": 1565772863, "question_id": 57491076, "link": "https://stackoverflow.com/questions/57491076/selected-list-element-color-change-with-angular-directive", "title": "Selected List element color change with angular directive", "body": "<p>I have a directive that should make list element to be red color on click. It is working as expected but it should also\nTurn to black when other li is clicked so only the selected li should be in red color</p>\n\n<p>Here is my implementation,</p>\n\n<pre><code>@HostListener('click', ['$event']) clickedInside(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      this.removeBorder();\n      this.setElementStyleToBold();\n      if (this.el.nativeElement.contains(event.target)) {\n        this.clicked = event.target.id;\n      }\n}\n</code></pre>\n\n<p>Here is another host listener that watch the click outside and change the color to black when clicked on the document,</p>\n\n<pre><code>@HostListener('document:click', ['$event']) clickedOutside(event){\n      event.preventDefault();\n      event.stopPropagation();\n      this.removeBorder();\n}\n</code></pre>\n\n<p>In the clickedInside function I am calling remove border function before calling setElementStyleToBold function so it will remove the black color and red color is applied only on the selected item.</p>\n\n<p>This is not working as intended and I don\u2019t know where I was wrong\nHere is my <a href=\"https://stackblitz.com/edit/angular-jwsk33?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">code</a> on stackblitz</p>\n"}, {"tags": ["angular", "typescript", "ngfor", "algolia"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 10193786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4297adb18653c91a6327ce4a4c55f84?s=128&d=identicon&r=PG&f=1", "display_name": "tehila", "link": "https://stackoverflow.com/users/10193786/tehila"}, "is_accepted": false, "score": 0, "last_activity_date": 1565890142, "creation_date": 1565890142, "answer_id": 57513714, "question_id": 57491064, "link": "https://stackoverflow.com/questions/57491064/ngfor-linking-input-with-aloglia-places-function/57513714#57513714", "title": "ngFor, linking input with Aloglia Places function", "body": "<p>try keypress or keydown events instead of change</p>\n"}, {"tags": [], "owner": {"reputation": 117, "user_id": 6271092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/003067ba0f2992c460a758bd7fcf30e7?s=128&d=identicon&r=PG&f=1", "display_name": "phenric", "link": "https://stackoverflow.com/users/6271092/phenric"}, "is_accepted": true, "score": 0, "last_activity_date": 1567439514, "creation_date": 1567439514, "answer_id": 57759809, "question_id": 57491064, "link": "https://stackoverflow.com/questions/57491064/ngfor-linking-input-with-aloglia-places-function/57759809#57759809", "title": "ngFor, linking input with Aloglia Places function", "body": "<p>sorry for the late reply and thank you for the time you gave me.</p>\n\n<p>After a request to the Algolia Support (a BIG thank to them), they resolved my issue.\nSo here, how to resolve it :</p>\n\n<p>home.component.html :</p>\n\n<pre><code>&lt;app-places type=\"address\" (onChange)=\"onSuggestion($event)\" (onClear)=\"onClear($event)\"&gt;&lt;/app-places&gt;\n</code></pre>\n\n<p>place.component.ts :</p>\n\n<pre><code>import {\n  AfterViewInit,\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnChanges,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from \"@angular/core\";\nimport * as places from \"./places.min.js\";\n\n@Component({\n  selector: \"app-places\",\n  template: `\n   &lt;input #input class=\"form-control\" type=\"search\" /&gt;\n  `\n})\nexport class PlacesComponent implements AfterViewInit, OnDestroy, OnChanges {\n  private instance = null;\n\n  @ViewChild(\"input\", {static: false}) input;\n  @Output() onChange? = new EventEmitter();\n  @Output() onClear? = new EventEmitter();\n\n  @Input() type: string;\n\n  ngAfterViewInit() {\n    this.instance = places({\n      appId: &lt;ID&gt;,\n      apiKey: &lt;KEY&gt;,\n      container: this.input.nativeElement,\n      type: this.type\n    });\n    this.instance.on(\"change\", e =&gt; {\n      this.onChange.emit(e);\n    });\n\n    this.instance.on(\"clear\", e =&gt; {\n       this.onClear.emit(e);\n     });\n  }\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.type &amp;&amp; this.instance) {\n      this.instance.configure({\n        type: changes.type.currentValue\n      });\n    }\n  }\n  ngOnDestroy() {\n    this.instance.removeAllListeners(\"change\");\n    this.instance.removeAllListeners(\"clear\");\n    this.instance.destroy();\n  }\n}\n</code></pre>\n\n<p>Again, thx to the Algolia Support which is rapid and friendly.</p>\n"}], "owner": {"reputation": 117, "user_id": 6271092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/003067ba0f2992c460a758bd7fcf30e7?s=128&d=identicon&r=PG&f=1", "display_name": "phenric", "link": "https://stackoverflow.com/users/6271092/phenric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 57759809, "answer_count": 2, "score": 0, "last_activity_date": 1567439514, "creation_date": 1565771868, "question_id": 57491064, "link": "https://stackoverflow.com/questions/57491064/ngfor-linking-input-with-aloglia-places-function", "title": "ngFor, linking input with Aloglia Places function", "body": "<p>I'm setting up an Algolia Places input inside a ngFor with Angular8.\nWhen I use <i>(change)</i>, it works fine the second time I write inside the input. This is nice but not exactly what I want.</p>\n\n<p>I think the link between the function and the input is not automatically made at the creation of the input (logic). What I would like is successfully linking the input with the function. How should I do it ?</p>\n\n<p>HTML part:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let place of places; let i = index;\"&gt;\n&lt;input id=\"{{ 'inputaddress' + i}}\" (change)=\"addressSearchIndex(i)\" type=\"text\" class=\"form-control\" /&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Component.ts part:</p>\n\n<pre><code>addressSearchIndex(index) {\n        this.placesAutocompleteAddress = placesAlgolia({\n            appId: &lt;ID&gt;,\n            apiKey: &lt;Key&gt;,\n            container: document.querySelector('#inputaddress'+index),\n            templates: {\n                value: function(suggestion) {\n                    return suggestion.name;\n                }\n            }\n        }).configure({\n            type: 'address'\n        });\n        this.placesAutocompleteAddress.on('change', function resultSelected(e) {\n            this.lat = e.suggestion.latlng[\"lat\"];\n            this.lng = e.suggestion.latlng[\"lng\"];\n        });\n    }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "eslint"], "comments": [{"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "edited": false, "score": 0, "creation_date": 1565772136, "post_id": 57490998, "comment_id": 101452305, "body": "If you made it a functional component, keeping the defaultProps outside, does it work?"}, {"owner": {"reputation": 6152, "user_id": 821720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/63dd7aa72ef41e3f211cd81ab573b541?s=128&d=identicon&r=PG", "display_name": "Mukesh Soni", "link": "https://stackoverflow.com/users/821720/mukesh-soni"}, "edited": false, "score": 1, "creation_date": 1565772162, "post_id": 57490998, "comment_id": 101452317, "body": "There is no component call <code>Image</code> in your code above"}, {"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "reply_to_user": {"reputation": 6152, "user_id": 821720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/63dd7aa72ef41e3f211cd81ab573b541?s=128&d=identicon&r=PG", "display_name": "Mukesh Soni", "link": "https://stackoverflow.com/users/821720/mukesh-soni"}, "edited": false, "score": 0, "creation_date": 1565772641, "post_id": 57490998, "comment_id": 101452556, "body": "@MukeshSoni Sorry typo. Fixed in question now."}, {"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1565772773, "post_id": 57490998, "comment_id": 101452627, "body": "eslint is meant to be for ES (JS) isn&#39;t it? Typescript has its own linter. This being said most current recommendation is functional components and hooks so if it&#39;s a new component maybe that would be an ever better approach"}, {"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "reply_to_user": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1565773008, "post_id": 57490998, "comment_id": 101452747, "body": "@apokryfos Typescript are dropping support for TSLint and recommend using ESLint now because it&#39;s faster and better maintained."}, {"owner": {"reputation": 29839, "user_id": 487813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/lU5if.jpg?s=128&g=1", "display_name": "apokryfos", "link": "https://stackoverflow.com/users/487813/apokryfos"}, "edited": false, "score": 0, "creation_date": 1565773157, "post_id": 57490998, "comment_id": 101452805, "body": "Even so, I&#39;d be quite skeptical to use the airbnb set of rules because remember, that set is just what the people at AirBnB thought would be a reasonable default set of rules for their programmers. That will definitely not be appropriate to use if those rules were written having JavaScript in mind."}], "answers": [{"comments": [{"owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 1, "creation_date": 1565772975, "post_id": 57491144, "comment_id": 101452731, "body": "Typescript checks types whereas ESLint checks all sorts of formatting and other things (e.g. integration with Prettier). Typescript also seem to be dropping support for TSLint and recommend using ESLint now. Airbnb config is industry standard for React so I wouldn&#39;t want to drop industry standard rules because I&#39;m using Typescript instead of JavaScript. It works across my entire application except this 1 rule."}, {"owner": {"reputation": 219, "user_id": 11514522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e0e0fc9a6fe6ddbb592331cbb7b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "anonymousdotnetdeveloper666", "link": "https://stackoverflow.com/users/11514522/anonymousdotnetdeveloper666"}, "reply_to_user": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1565773265, "post_id": 57491144, "comment_id": 101452857, "body": "If eslint works with typescript, that&#39;s ok then. Maybe there is a rule for eslint that needs to be disabled? If the presets forbid the recommended use case from official ts docs, something is not clearly ok with the presets"}, {"owner": {"reputation": 219, "user_id": 11514522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e0e0fc9a6fe6ddbb592331cbb7b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "anonymousdotnetdeveloper666", "link": "https://stackoverflow.com/users/11514522/anonymousdotnetdeveloper666"}, "reply_to_user": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "edited": false, "score": 0, "creation_date": 1565778751, "post_id": 57491144, "comment_id": 101455648, "body": "Good to keep in mind that ecmascript and typescript are different languages. Not just a superset, but literally compiled down to JS. Linting config written for JS will not work in all cases for TS development."}], "tags": [], "owner": {"reputation": 219, "user_id": 11514522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e0e0fc9a6fe6ddbb592331cbb7b9d1?s=128&d=identicon&r=PG&f=1", "display_name": "anonymousdotnetdeveloper666", "link": "https://stackoverflow.com/users/11514522/anonymousdotnetdeveloper666"}, "is_accepted": false, "score": 4, "last_activity_date": 1565772182, "creation_date": 1565772182, "answer_id": 57491144, "question_id": 57490998, "link": "https://stackoverflow.com/questions/57490998/property-defaultprops-does-not-exist-on-type/57491144#57491144", "title": "Property &#39;defaultProps&#39; does not exist on type", "body": "<p>TS docs say static defaultProps is <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#support-for-defaultprops-in-jsx\" rel=\"nofollow noreferrer\">the way to go</a>.</p>\n\n<p>Seems weird to add eslint on top of TS, I believe airbnb config is for javascript, not TypeScript.</p>\n"}], "owner": {"reputation": 11969, "user_id": 3575029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe534cdba5ec2deabb69d801196c0029?s=128&d=identicon&r=PG&f=1", "display_name": "CaribouCode", "link": "https://stackoverflow.com/users/3575029/cariboucode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4353, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1565772628, "creation_date": 1565771582, "last_edit_date": 1565772628, "question_id": 57490998, "link": "https://stackoverflow.com/questions/57490998/property-defaultprops-does-not-exist-on-type", "title": "Property &#39;defaultProps&#39; does not exist on type", "body": "<p>I have a Typescript React class component like so:</p>\n\n<pre><code>import React, { Component } from 'react';\n\ninterface Props {\n  bar?: boolean;\n}\n\nconst defaultProps: Partial&lt;Props&gt; = {\n  bar: false,\n};\n\nclass Foo extends Component&lt;Props&gt; {\n  render() {\n    ...\n  }\n}\n\nFoo.defaultProps = defaultProps;\n\nexport default Foo;\n</code></pre>\n\n<p>Here I get the following type error:</p>\n\n<pre><code>Property 'defaultProps' does not exist on type 'typeof Foo'.\n</code></pre>\n\n<p>I see 2 solutions to solve this. One is to declare the type on the class like so:</p>\n\n<pre><code>class Foo extends Component&lt;Props&gt; {\n  static defaultProps: Partial&lt;Props&gt;;\n\n  render() {\n    ...\n  }\n}\n</code></pre>\n\n<p>The other is to declare the defaultProps inside the class entirely like so:</p>\n\n<pre><code>class Foo extends Component&lt;Props&gt; {\n  static defaultProps: Partial&lt;Props&gt; = {\n    bar: false,\n  };\n\n  render() {\n    ...\n  }\n}\n</code></pre>\n\n<p>I'm using eslint-config-airbnb 18.0.1 and eslint 6.1.0 so both of these solutions throw this eslint error:</p>\n\n<p><code>'defaultProps' should be declared outside the class body (react/static-property-placement)</code></p>\n\n<p>Is there a way to declare defaultProps outside the class without throwing a type error?</p>\n"}, {"tags": ["angular", "typescript", "fabricjs"], "owner": {"reputation": 65, "user_id": 9897370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddfdcb217c916bc54bc8c146f5e2d27e?s=128&d=identicon&r=PG&f=1", "display_name": "Dawid", "link": "https://stackoverflow.com/users/9897370/dawid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565771541, "creation_date": 1565771541, "question_id": 57490992, "link": "https://stackoverflow.com/questions/57490992/how-to-extend-fabric-object-with-additional-properties-in-typescript", "title": "How to extend fabric.Object with additional properties in TypeScript", "body": "<p>I am writing an application using angular and fabricjs. I want to add a property to fabric.Object class. </p>\n\n<p>I found a solution with monkey-patching <code>fabric.Object.prototype.toObject</code>\nlooking like this:</p>\n\n<pre><code>fabric.Object.prototype.toObject = (function(toObject){\n  return function(){\n    return fabric.util.object.extend(toObject.call(this),{\n      foobar: this.foobar\n    })\n  }\n})(fabric.Object.prototype.toObject);\n</code></pre>\n\n<p>The problem is, when I try to set the <code>foobar</code> property, I get an error that <code>Property 'foobar' does not exist on type 'Object'.</code></p>\n\n<p>Since it is TypeScript and not just Javascript, do I have to take some additional steps to make it work?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 1, "creation_date": 1565771252, "post_id": 57490860, "comment_id": 101451905, "body": "Is there something to prevent to use <code>*ngIf=&quot;_appstate_user&quot;</code> in the template where the child components are loaded ?"}, {"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565771372, "post_id": 57490860, "comment_id": 101451968, "body": "Or <a href=\"https://stackoverflow.com/questions/51191231/module-equivalent-of-app-initializer-in-angular\" title=\"module equivalent of app initializer in angular\">stackoverflow.com/questions/51191231/&hellip;</a>"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "reply_to_user": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565772070, "post_id": 57490860, "comment_id": 101452276, "body": "@SGalea Can this work with <code>forkJoin</code> ?"}, {"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "reply_to_user": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "edited": false, "score": 0, "creation_date": 1565772226, "post_id": 57490860, "comment_id": 101452347, "body": "I would use the technique @edkeveked suggested or resolvers."}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "reply_to_user": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565773707, "post_id": 57490860, "comment_id": 101453057, "body": "@SGalea Actually, this is what I am already doing but it is a problem when I refresh the page on that particular route. I added more details to my question."}, {"owner": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 1, "creation_date": 1565773976, "post_id": 57490860, "comment_id": 101453186, "body": "This application might need some refactoring however you can solve this issue quickly &lt;div *ngIf=&quot;business&quot;&gt; &lt;div *ngIf=&quot;!business?.servicePlan&quot;&gt;   Please Upgrade &lt;/div&gt; &lt;/div&gt;  Read about Smart/Dumb components and OnPush change detection it will make your code very elegant and easier to reason about."}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "reply_to_user": {"reputation": 627, "user_id": 1432624, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/949ba441395bb5800f13cc94023a04bd?s=128&d=identicon&r=PG", "display_name": "SGalea", "link": "https://stackoverflow.com/users/1432624/sgalea"}, "edited": false, "score": 0, "creation_date": 1565774136, "post_id": 57490860, "comment_id": 101453272, "body": "@SGalea Not a beautiful solution but a workaround. I agree. This requires some refactorization. The thing here is that one can manage multiple businesses and I messed up the shared state of the parent component a little bit right there."}], "answers": [{"comments": [{"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565772775, "post_id": 57490972, "comment_id": 101452628, "body": "I just tried this. It only works in the sense of &quot;the data gets loaded&quot; but the child is still rendered before the data has completely arrived."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4470482"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565773507, "post_id": 57490972, "comment_id": 101452972, "body": "@displayname can you show me your resolver? Usually Resolvers return with resolve() an Observable which is resolved before the component is rendered so the data is available"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565773999, "post_id": 57490972, "comment_id": 101453200, "body": "Since my question is already quite huge I pasted it here: <a href=\"https://pastecode.xyz/view/227132a3\" rel=\"nofollow noreferrer\">pastecode.xyz/view/227132a3</a> I am just returning the Observable from <code>forkJoin</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4470482"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 1, "creation_date": 1565774097, "post_id": 57490972, "comment_id": 101453241, "body": "@displayname do not return a Subscription. It has to be an Observable! Set the data in a pipe with tap or something. Like this: <a href=\"https://pastecode.xyz/view/ab506506\" rel=\"nofollow noreferrer\">pastecode.xyz/view/ab506506</a>"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565774336, "post_id": 57490972, "comment_id": 101453388, "body": "Ah, I guess I need to use <code>exhaustMap</code> like here: <a href=\"https://stackoverflow.com/a/50575875/826983\">stackoverflow.com/a/50575875/826983</a>"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565774510, "post_id": 57490972, "comment_id": 101453484, "body": "If you could expand your answer a little bit s.t. it contains the relevant code I&#39;d be happy to accept it."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4470482"}, "is_accepted": false, "score": 2, "last_activity_date": 1565771489, "creation_date": 1565771489, "answer_id": 57490972, "question_id": 57490860, "link": "https://stackoverflow.com/questions/57490860/wait-for-parent-component-module-to-load-data/57490972#57490972", "title": "Wait for parent component/module to load data", "body": "<p>Use Angular Resolvers on component level. Check <a href=\"https://alligator.io/angular/route-resolvers/\" rel=\"nofollow noreferrer\">this</a> for more information.</p>\n"}, {"comments": [{"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565773752, "post_id": 57491322, "comment_id": 101453084, "body": "I updated my quesiton. <code>*ngIf</code> is already my weapon of choice but it breaks as I refresh the page. In this case, the data is not loaded and my <code>condition</code> is <code>true</code>. (the condition asks for <i>not null</i>)"}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565776669, "post_id": 57491322, "comment_id": 101454574, "body": "Maybe you need to use this condition instead <code>&quot;business &amp;&amp; !business?.servicePlan&quot;</code>"}, {"owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565776781, "post_id": 57491322, "comment_id": 101454630, "body": "This was suggested in another comment. I tried it but this only works in 50% of the time."}, {"owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "reply_to_user": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "edited": false, "score": 0, "creation_date": 1565778029, "post_id": 57491322, "comment_id": 101455267, "body": "I think you need to tune that condition to satisfy your need."}], "tags": [], "owner": {"reputation": 14633, "user_id": 5069957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/597577c2765adaa190e4524d3a3860fe?s=128&d=identicon&r=PG&f=1", "display_name": "edkeveked", "link": "https://stackoverflow.com/users/5069957/edkeveked"}, "is_accepted": false, "score": 0, "last_activity_date": 1565772823, "creation_date": 1565772823, "answer_id": 57491322, "question_id": 57490860, "link": "https://stackoverflow.com/questions/57490860/wait-for-parent-component-module-to-load-data/57491322#57491322", "title": "Wait for parent component/module to load data", "body": "<p>If the child component are displayed by routing, then using resolvers might be a good option. Here is an example of doing so in the <a href=\"https://angular.io/api/router/Resolve\" rel=\"nofollow noreferrer\">doc</a></p>\n\n<p>If the parent component is simply calling the child component by using the child component tag, then <code>*ngIf</code> will be a good option - something like this</p>\n\n<pre><code>&lt;child-component *ngIf=\"condition\"&gt;&lt;/child-component&gt;\n</code></pre>\n\n<p>Last option, would be to use <code>ngOnInit</code> to initialize the data in the child component.</p>\n"}], "owner": {"reputation": 18433, "user_id": 826983, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/8fc679891e6c3cf3aec3b353f3fb9bd6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Falk", "link": "https://stackoverflow.com/users/826983/stefan-falk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1565773441, "creation_date": 1565770962, "last_edit_date": 1565773441, "question_id": 57490860, "link": "https://stackoverflow.com/questions/57490860/wait-for-parent-component-module-to-load-data", "title": "Wait for parent component/module to load data", "body": "<blockquote>\n  <p><strong>Please note:</strong> I know there is <code>APP_INITIALIZER</code> but this seems to work only on the top-level module (<strong>app.module.ts</strong>) of the application.</p>\n</blockquote>\n\n<p>I have as parent component which loads some data:</p>\n\n<p>In <strong>admin-area.component.ts</strong>:</p>\n\n<pre><code>ngOnInit(): void {\n\n  forkJoin([\n    this._userService.getMe(),\n    this._placeService.getAll()\n    ])\n    .pipe(finalize(() =&gt; this.afterInit()))\n    .subscribe(\n      ([user, businesses]) =&gt; {\n        this._appState.user = user;\n        this._appState.businesses = businesses;\n        this.afterInit();\n      }\n    );\n}\n</code></pre>\n\n<p>The problem is that there are child components which rely on <code>this._appState.user</code> and <code>this._appState.businesses</code>.</p>\n\n<p>I cannot load this with <code>APP_INITIALIZER</code> because the above data is only loaded, if the user is logged in. The \"logged-in\" area is a lazy-loaded module on it own.</p>\n\n<p>So, the question is rather simple: </p>\n\n<p>How can I make sure my data is loaded before child components try to display themselves?</p>\n\n<p>This:</p>\n\n<pre><code>providers: [\n  AdminAreaState,\n  { provide: APP_INITIALIZER, useFactory: adminAreaInit, deps: [AdminAreaState], multi: true}\n]\n</code></pre>\n\n<p>Does not work. <code>adminAreaInit()</code> is not getting called. This only works for my top-level module <strong>app.module.ts</strong>. So, <code>APP_INITIALIZER</code> does not seem to work on any other module, is that corrent?</p>\n\n<p>What are my options here?</p>\n\n<hr>\n\n<p>I think I need to provide some more details. </p>\n\n<p>Note, that I am already trying to use <code>*ngIf</code>:</p>\n\n<pre><code>&lt;div *ngIf=\"!business?.servicePlan\"&gt;\n  Please Upgrade\n&lt;/div&gt;\n</code></pre>\n\n<p>but the problem is that if I navigate to this particular page and <em>refresh</em> the page, <code>business</code> is always <code>undefined</code>. <code>business</code> is a result of finding the right <code>business</code> in the Array of <code>businesses</code> using the <code>businessId</code>. </p>\n\n<p>At the time the child component gets loaded, I load additional data. In this case some reviews (comments).</p>\n\n<p>Now, <code>loadPage()</code> loads <em>one</em> page of my requrested data for a business. <code>_appState</code> is a service which is supposed to be loaded first. If I do this:</p>\n\n<pre><code>  private loadPage() {\n    console.log(this._appState);\n    console.log(this._appState.businesses);\n    this._appState.businesses.forEach(\n      (b) =&gt; {\n        console.log(b);\n      });\n    setTimeout(() =&gt; this._appState.businesses.forEach(\n      (b) =&gt; {\n        console.log(b);\n      }\n    ), 100);\n\n    const businessId = this._appState.businessId;\n    this.business = this._appState.businesses.find(b =&gt; b.id === businessId);\n  }\n</code></pre>\n\n<p>This is what I get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P8t1t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P8t1t.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see <code>this._appState</code> <em>has</em> businesses but <code>this._appState.businesses</code> does print an empty array.</p>\n\n<p><code>_appState.businesses</code> is just an <code>Observable</code>:</p>\n\n<p><code>ApplicationState</code> service:</p>\n\n<pre><code>@Injectable()\nexport class ApplicationState {\n\n  public businessIdChange;\n\n  public businessesChange;\n\n  private _user = new BehaviorSubject&lt;UserModel&gt;(null);\n\n  private _businessId = new BehaviorSubject&lt;number&gt;(null);\n\n  private _businesses = new BehaviorSubject&lt;Array&lt;BusinessModel&gt;&gt;([]);\n\n  constructor() {\n    this.businessIdChange = this._businessId.asObservable();\n    this.businessesChange = this._businesses.asObservable();\n  }\n\n  set user(value: UserModel) {\n    this._user.next(value);\n  }\n\n  get user(): UserModel {\n    return this._user.getValue();\n  }\n\n  set businessId(businessId: number) {\n\n    if (businessId === this.businessId) {\n      return;\n    }\n\n    this._businessId.next(businessId);\n  }\n\n  get businessId() {\n    return this._businessId.getValue();\n  }\n\n  set businesses(value) {\n    this._businesses.next(value);\n  }\n\n  get businesses(): Array&lt;BusinessModel&gt; {\n    return this._businesses.getValue();\n  }\n\n}\n</code></pre>\n\n<p>I have no idea why I see this and I thought pre-loading the data would make sense anyway. But maybe I have a different issue here?</p>\n"}, {"tags": ["javascript", "typescript", "unit-testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 162, "user_id": 2061500, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/79dfd0f19cb1c2c6e38e558e0cee76bf?s=128&d=identicon&r=PG", "display_name": "Erwin van Hoof", "link": "https://stackoverflow.com/users/2061500/erwin-van-hoof"}, "edited": false, "score": 0, "creation_date": 1565772047, "post_id": 57490796, "comment_id": 101452266, "body": "But how do I use setup and restore for a single test?"}, {"owner": {"reputation": 140, "user_id": 6414768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MIqJ.jpg?s=128&g=1", "display_name": "Sharon", "link": "https://stackoverflow.com/users/6414768/sharon"}, "reply_to_user": {"reputation": 162, "user_id": 2061500, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/79dfd0f19cb1c2c6e38e558e0cee76bf?s=128&d=identicon&r=PG", "display_name": "Erwin van Hoof", "link": "https://stackoverflow.com/users/2061500/erwin-van-hoof"}, "edited": false, "score": 0, "creation_date": 1565775762, "post_id": 57490796, "comment_id": 101454092, "body": "If you want to mock only in a particular case then unfortunately you need to also restore in that test. It may be long and slow but you can mock for all and restore all before/after each test respectively (i.e. all your mocks in beforeEach()) Not the greatest solution but it&#39;s what I&#39;ve had to do in the past"}], "tags": [], "owner": {"reputation": 140, "user_id": 6414768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7MIqJ.jpg?s=128&g=1", "display_name": "Sharon", "link": "https://stackoverflow.com/users/6414768/sharon"}, "is_accepted": false, "score": 0, "last_activity_date": 1565770621, "creation_date": 1565770621, "answer_id": 57490796, "question_id": 57490718, "link": "https://stackoverflow.com/questions/57490718/how-to-clear-jest-mock-implementation-for-next-tests/57490796#57490796", "title": "How to clear Jest mock implementation for next tests?", "body": "<p>Jest has setup/teardown functions:</p>\n\n<p><a href=\"https://flaviocopes.com/jest/#setup\" rel=\"nofollow noreferrer\">https://flaviocopes.com/jest/#setup</a>\nTo do something once before all the tests run, use the beforeAll() function:</p>\n\n<pre><code>beforeAll(() =&gt; {\n //do something\n})\n</code></pre>\n\n<p>To perform something before each test runs, use beforeEach():</p>\n\n<pre><code>beforeEach(() =&gt; {\n //do something\n})\n</code></pre>\n\n<p>Teardown\nJust as you can do with setup, you can also perform something after each test runs:</p>\n\n<pre><code>afterEach(() =&gt; {\n //do something\n})\n</code></pre>\n\n<p>and after all tests end:</p>\n\n<pre><code>afterAll(() =&gt; {\n //do something\n})\n</code></pre>\n\n<p>Do the mocking in the setup functions and restore in the teardown</p>\n"}, {"tags": [], "owner": {"reputation": 3415, "user_id": 5118762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/592fec1adbef900dc0b0020dbdb63605?s=128&d=identicon&r=PG&f=1", "display_name": "brass monkey", "link": "https://stackoverflow.com/users/5118762/brass-monkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1565774961, "creation_date": 1565774961, "answer_id": 57491927, "question_id": 57490718, "link": "https://stackoverflow.com/questions/57490718/how-to-clear-jest-mock-implementation-for-next-tests/57491927#57491927", "title": "How to clear Jest mock implementation for next tests?", "body": "<p>I'm not sure if this is the <code>jest</code> way of achieving this but I think you could save the original method implementation in a variable and re-set the method after every test in case it was mocked in a test.</p>\n\n<p>E.g.</p>\n\n<pre><code>describe('App', () =&gt; {    \n  let dbService: DbService;\n  let app: App;\n  let originalGetAllUsersFn = DbService.prototype.getAllUsers;\n\n  //...\n\n  afterEach(() =&gt; {\n    // restore mocked method\n    DbService.prototype.getAllUsers = originalGetAllUsersFn;\n  });\n\n});\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 2061500, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/79dfd0f19cb1c2c6e38e558e0cee76bf?s=128&d=identicon&r=PG", "display_name": "Erwin van Hoof", "link": "https://stackoverflow.com/users/2061500/erwin-van-hoof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "accepted_answer_id": 57491927, "answer_count": 2, "score": 1, "last_activity_date": 1565774961, "creation_date": 1565770309, "last_edit_date": 1565771403, "question_id": 57490718, "link": "https://stackoverflow.com/questions/57490718/how-to-clear-jest-mock-implementation-for-next-tests", "title": "How to clear Jest mock implementation for next tests?", "body": "<p>I'm setting up Jest to test a typescript application. </p>\n\n<p><b>How do I clear a mocked function and restore the original implementation for other tests?</b></p>\n\n<p>To mock the function I've used: jest.fn().mockImplementationOnce()</p>\n\n<p>So far I've tried jest.clearAll() / resetModules() / resetAllMocks() in beforeEach as well as afterEach without any success.</p>\n\n<h1>app.test.ts</h1>\n\n<pre><code>import App from './app';\nimport { DbService } from './lib/dbService';\n\ndescribe('App', () =&gt; {    \n  let dbService: DbService;\n  let app: App;\n\n  beforeEach(() =&gt; {\n    jest.clearAllMocks();\n    dbService = new DbService();\n    app = new App();\n  });\n\n  describe('getUsers', () =&gt; {\n\n    it('Should get an array users #1', () =&gt; {\n      expect(app).toBeInstanceOf(App);\n      const allUsers = app.getAllUsers();\n      expect(allUsers[0].id).toBeDefined();\n    });\n\n    it('should return an error #2', () =&gt; {\n      DbService.prototype.getAllUsers =         \n        jest.fn().mockImplementationOnce(() =&gt; {\n            return new Error('No connection to DB');\n         });\n      expect(app.getAllUsers()).toEqual(new Error('No connection to DB'));\n    });\n\n    it('Should get an array users #3', () =&gt; {\n       expect(app).toBeInstanceOf(App);\n       const allUsers = app.getAllUsers();\n       expect(allUsers[0].id).toBeDefined();\n    }); \n  });\n});\n</code></pre>\n\n<h1>app.ts</h1>\n\n<pre><code>import { DbService } from './lib/dbService';\n\nexport default class App {\n  private dbService: DbService;\n\n  constructor() {\n    this.dbService = new DbService();\n  }\n\n  getAllUsers() {\n    return this.dbService.getAllUsers();\n  }\n}\n</code></pre>\n\n<h1>lib/dbService.ts</h1>\n\n<pre><code>let instance: DbService;\n\nexport class DbService {\n  constructor() {\n    if (!instance) {\n      instance = this;\n    }\n    return instance;\n  }\n\n  getAllUsers() {\n   return [\n     {id: 1, username: 'john'},\n     {id: 2, username: 'bill'}\n    ]\n  } \n}\n</code></pre>\n\n<p>I expect test #3 to pass like test #1, but it actually fails with the following error:</p>\n\n<pre><code>FAIL  src/app.test.ts\n  App\n   getUsers\n    \u221a Should get an array users #1 (3ms)\n    \u221a should return an error #2 (1ms)\n    \u00d7 Should get an array users #3 (1ms)\n\n\u25cf App \u203a getUsers \u203a Should get an array users #3\n\n  TypeError: Cannot read property '0' of undefined\n\n    31 |        expect(app).toBeInstanceOf(App);\n    32 |        const allUsers = app.getAllUsers();\n  &gt; 33 |        expect(allUsers[0].id).toBeDefined();\n       |                       ^\n    34 |     });\n    35 |   });\n    36 | });\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1438, "user_id": 7381844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472a02745987037a063febc591fbb937?s=128&d=identicon&r=PG&f=1", "display_name": "jBuchholz", "link": "https://stackoverflow.com/users/7381844/jbuchholz"}, "edited": false, "score": 0, "creation_date": 1565769447, "post_id": 57490382, "comment_id": 101451002, "body": "According to your service you are expecting an array. Why are you accessing your data with <code>[&quot;ResponseObject&quot;]</code>?"}, {"owner": {"reputation": 1438, "user_id": 7381844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472a02745987037a063febc591fbb937?s=128&d=identicon&r=PG&f=1", "display_name": "jBuchholz", "link": "https://stackoverflow.com/users/7381844/jbuchholz"}, "edited": false, "score": 0, "creation_date": 1565769512, "post_id": 57490382, "comment_id": 101451031, "body": "Also where do you define <code>this.data</code>?"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1565774439, "post_id": 57490382, "comment_id": 101453438, "body": "where do you confirm that <code>this.data</code> is <code>undefined</code>?"}, {"owner": {"reputation": 113, "user_id": 2280427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h1aDk.jpg?s=128&g=1", "display_name": "tmndungu", "link": "https://stackoverflow.com/users/2280427/tmndungu"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 1, "creation_date": 1565775670, "post_id": 57490382, "comment_id": 101454042, "body": "@AJT_82 My bad I was confirming checking data at the incorrect place this is giving me results without any change: data =&gt; {            this.data = data[&quot;ResponseObject&quot;];            console.log(this.data);         }"}], "answers": [{"tags": [], "owner": {"reputation": 5977, "user_id": 4287789, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hn0nzKxMhYQ/AAAAAAAAAAI/AAAAAAAAHds/3XX8JPHznVI/photo.jpg?sz=128", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/4287789/guillaume"}, "is_accepted": false, "score": 0, "last_activity_date": 1565771051, "creation_date": 1565771051, "answer_id": 57490876, "question_id": 57490382, "link": "https://stackoverflow.com/questions/57490382/object-undefined-when-binding-data-from-an-observable/57490876#57490876", "title": "Object Undefined when binding data from an Observable", "body": "<p>First <code>public data: Observable&lt;CompanyListViewModel[]&gt;;</code> has the wrong type. \n<code>this.companyService.getAllCompanyList()</code> returns an <code>Observable&lt;CompanyListViewModel[]&gt;</code>, but inside the subscription, the <code>data</code> you receive is not anymore an <code>Observable</code> it is just the data with the following type: <code>CompanyListViewModel[]</code>.</p>\n\n<p>Also, you may have a variable shadowing problem. The data you receive in your <code>subscribe</code> callback is called <code>data</code>, as well as your component's <code>data</code> property. Try to rename one of them to something else: </p>\n\n<pre><code>...subscribe(data =&gt; {\n  this.companyList = data['ResponseObject']\n});\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 2280427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h1aDk.jpg?s=128&g=1", "display_name": "tmndungu", "link": "https://stackoverflow.com/users/2280427/tmndungu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565771051, "creation_date": 1565769109, "last_edit_date": 1565769258, "question_id": 57490382, "link": "https://stackoverflow.com/questions/57490382/object-undefined-when-binding-data-from-an-observable", "title": "Object Undefined when binding data from an Observable", "body": "<p>This question might have been answered somewhere but solutions provided are not working for me or I'm not using them properly. I have a service that returns data from a call to .net core API. The data is returned but I cannot bind it to an object.</p>\n\n<p>The data is returned by the following Company.Service.ts</p>\n\n<pre><code>export class CompanyListRequest{\n    UserID: number\n}\n\n//Company.Service.ts\n\nimport { CompanyListRequest } from '@app/_models/Company/CompanyListRequest';\n import { CompanyListViewModel } from '@app/_models/Company/CompanyListViewModel';\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class CompanyService {\n  private companyListRequest : CompanyListRequest;\n\n  constructor(private http: HttpClient) { \n    this.companyListRequest = {\n      UserID:2, //For simplicity\n    }\n  }\n\n  getAllCompanyList(){\n      return this.http.post&lt;CompanyListViewModel[]&gt;(`${environment.apiUrl}/Company/GetCompanyDetails`,this.companyListRequest);\n  }\n}\n</code></pre>\n\n<p>I'm trying to get data here for binding to front end.</p>\n\n<pre><code>//Company-list.Component.ts\n\nimport { CompanyListViewModel } from '@app/_models/Company/CompanyListViewModel';\n\nexport class CompanyListComponent implements OnInit {\n  public data: Observable&lt;CompanyListViewModel[]&gt;;\n\nconstructor(\n      private companyService: CompanyService,\n      private alertService: AlertService\n      ) {\n\n      }\n\nngOnInit() {\n\n      this.companyService.getAllCompanyList()\n      .pipe(first())\n      .subscribe(\n        data =&gt; {\n           this.data = data[\"ResponseObject\"]; //this.data is Undefined\n           console.log(data[\"ResponseObject\"]);\n        },\n        error =&gt; {\n          this.alertService.error(error);\n        });\n  }\n\n}\n\nconsole.log(data[\"ResponseObject\"]) //Returns the following:\n{Id: 1, CompanyName: \"Kim Investments\", LegalName: \"Kim Investments\", HoldingCompany: \"Kim Investments\", RegistrationNumber: \"PJ/90390/998\"}\n</code></pre>\n\n<p>this.data is Undefined. I have checked the CompanyListViewModel and properties are matching with what is returned.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4929, "user_id": 2050629, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f60dbf1e0b2f02120551724a3d4bcae1?s=128&d=identicon&r=PG", "display_name": "wiesson", "link": "https://stackoverflow.com/users/2050629/wiesson"}, "edited": false, "score": 0, "creation_date": 1565769124, "post_id": 57490176, "comment_id": 101450860, "body": "Are your tuples randomly mixed, or is there a pattern?"}, {"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "reply_to_user": {"reputation": 4929, "user_id": 2050629, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f60dbf1e0b2f02120551724a3d4bcae1?s=128&d=identicon&r=PG", "display_name": "wiesson", "link": "https://stackoverflow.com/users/2050629/wiesson"}, "edited": false, "score": 0, "creation_date": 1565769248, "post_id": 57490176, "comment_id": 101450902, "body": "Not sure I understand. User needs to specify path into that object structure. The examples I&#39;ve shown reflect the interface above."}, {"owner": {"reputation": 4929, "user_id": 2050629, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f60dbf1e0b2f02120551724a3d4bcae1?s=128&d=identicon&r=PG", "display_name": "wiesson", "link": "https://stackoverflow.com/users/2050629/wiesson"}, "edited": false, "score": 1, "creation_date": 1565769318, "post_id": 57490176, "comment_id": 101450942, "body": "I think I don&#39;t understand the problem :D - I thought about tuples such as <code>[string, string, ...number]</code> - but that&#39;s something completely different topic I guess"}, {"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1565886003, "post_id": 57490176, "comment_id": 101493797, "body": "@jcalz Thanks for a duplicate, seems like that would be a viable solution. Do you want to make it as an actual answer so I can mark it?"}], "answers": [{"comments": [{"owner": {"reputation": 58, "user_id": 2771884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9febc8367a6d4b25b63cae67ecb8f3?s=128&d=identicon&r=PG", "display_name": "Dardino", "link": "https://stackoverflow.com/users/2771884/dardino"}, "edited": false, "score": 0, "creation_date": 1565770390, "post_id": 57490694, "comment_id": 101451460, "body": "you can also take a look to this feature: <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">Variadic Types</a>"}, {"owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "edited": false, "score": 0, "creation_date": 1565851080, "post_id": 57490694, "comment_id": 101479513, "body": "Thanks, looks interesting, but in theory, the object interface can be indefinitely nested. I suppose it&#39;s not possible to do it dynamically?"}, {"owner": {"reputation": 58, "user_id": 2771884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9febc8367a6d4b25b63cae67ecb8f3?s=128&d=identicon&r=PG", "display_name": "Dardino", "link": "https://stackoverflow.com/users/2771884/dardino"}, "reply_to_user": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "edited": false, "score": 0, "creation_date": 1569318152, "post_id": 57490694, "comment_id": 102549378, "body": "Yes, is not possible to do it dynamically until this: <a href=\"https://github.com/Microsoft/TypeScript/issues/5453\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/5453</a>"}], "tags": [], "owner": {"reputation": 58, "user_id": 2771884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9febc8367a6d4b25b63cae67ecb8f3?s=128&d=identicon&r=PG", "display_name": "Dardino", "link": "https://stackoverflow.com/users/2771884/dardino"}, "is_accepted": false, "score": 1, "last_activity_date": 1565770232, "creation_date": 1565770232, "answer_id": 57490694, "question_id": 57490176, "link": "https://stackoverflow.com/questions/57490176/typechecking-path-tuples-against-nested-interface/57490694#57490694", "title": "Typechecking path tuples against nested interface", "body": "<p>I am not sure but i think that example can help you:</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgJIDU4BsCuEDOyA3gLABQyyIcAthAFzL5hSgDm5lIBkAJo6QqVkcKFDgBPRs1Yg2AbQC6nYbwgQADlinEVw5ADdseRiBw0ARtD3IAvivtlH5MBI0oAClAD2Gj3DAACwAeABUAGmQPZAgAD0gQXkIAawgJbxhkUIA+ZABeZHkPSNCixUUAbnIsCDBkDQBGOEYvX38g4IxjAkiAImo6XtyC+X7aCF6+gClvQJBeyura+oaLFp8-AJCu3B7kfp4IXiH8woPmI8niETFJRiVItU1tAUNuxga7O0WyFzdPDbtQIAJjCkWicQSSWQqXSmQiUWBMXiEESKTSGSyZWGhWKiJKZSKwPKVTINTqGmBzSigK2oJ2eHwfW4F2OfVE4gkJxG5z4V16HMkVyUP3J9WBaxpbTpnUwuyZ+xZfL6Ty0XJxoyVlxV6jVVyIb12H2+pL+7ilmyCAGYwVFkVD0XCsuCkZDUdDYZjSh5FOCrfb3Y6vYSPMSNXjQ36CT6iYoilaSUsKVbJa1LYEbQy9rztftVdp+UZdtyzlq2XndQW+kW8FcGj9yDAcCAEGBgN4QExanK8LaISi0TCMfDsgAKbwWABWjARGg2+HuPsiNYYWJ9AEpGAZvMBeKSmy22x2u2AexA+wHB574S7Lx7h2vFGOJ9PnfV54uXb7DSZH7HN4YO57o2zatu2nb4N23QXm6V4PgioZ3kG8JlH6SFDk63pxqGT7jlOM6RHOvgLriLp+t+K4ziGxLxooAHbruppkAeYHHpBp7QQh6HXm+iGwfemGoVE-r8chf44c++FvtQBhERoJEyOwDw-qucAgBI9FAbovxOOQSbIN4pxELYIiEFm+BMexZ7jpEmqHOWAq3Fy35KOuFTIAA9B5yAAPIANLkFZ3Q2aW9kLLZdHuV5MRiN4UCBVBuwhXZrL8vmzmRAalHIJ8thuZ53n+QlHFJd4tk5g56WFt04U5fl0VFWQQA\" rel=\"nofollow noreferrer\">Typescript playground</a></p>\n"}], "owner": {"reputation": 3279, "user_id": 902813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/D4iPd.jpg?s=128&g=1", "display_name": "FredyC", "link": "https://stackoverflow.com/users/902813/fredyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "closed_date": 1565872548, "answer_count": 1, "score": 1, "last_activity_date": 1565770232, "creation_date": 1565768386, "question_id": 57490176, "link": "https://stackoverflow.com/questions/57490176/typechecking-path-tuples-against-nested-interface", "closed_reason": "Duplicate", "title": "Typechecking path tuples against nested interface", "body": "<p>I have an interface that represents form values. The interface will be passed as generic arg so it's not static. I guess I would just codegen it otherwise.</p>\n\n<pre><code>interface IValues {\n  name: string\n  nested: {\n    array: string[]\n    deeply: {\n      value: number\n    }\n  }\n}\n</code></pre>\n\n<p>I would like to type check tuples that specify path into such an object.</p>\n\n<p>For example, these would pass</p>\n\n<pre><code>['nested', 'array', 0]\n['nested', 'deeply', 'value']\n</code></pre>\n\n<p>It's definitely long shot and I don't even have an idea where to start. My guess is mapped types, but I am even confused about those :)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6707, "user_id": 1416438, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1e808e03059d6c0abb02aa8fa3f000b7?s=128&d=identicon&r=PG", "display_name": "Matt Hintzke", "link": "https://stackoverflow.com/users/1416438/matt-hintzke"}, "edited": false, "score": 0, "creation_date": 1565767564, "post_id": 57489921, "comment_id": 101450149, "body": "A tangent question I had as well is what is the conventional way to create a declaration file like this? I tried looking at the docs on the TypeScript website, but I seem to see all kinds of different ways libraries are doing it in practice that all seem to differ from each other as well as the documentation. Questions like &quot;Do I use <code>declare module &quot;module-name&quot; { ... }</code> in my <code>*.d.ts</code> files or do you keep the file completely flat? Does it really make a difference?"}], "owner": {"reputation": 6707, "user_id": 1416438, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1e808e03059d6c0abb02aa8fa3f000b7?s=128&d=identicon&r=PG", "display_name": "Matt Hintzke", "link": "https://stackoverflow.com/users/1416438/matt-hintzke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565767317, "creation_date": 1565767317, "question_id": 57489921, "link": "https://stackoverflow.com/questions/57489921/how-to-properly-use-module-augmentation-to-extend-an-existing-typescript-library", "title": "How to properly use module augmentation to extend an existing TypeScript library?", "body": "<p>I am wanting to write up my first TypeScript declaration file by hand in order to 1) add typings to a small library that currently has none and 2) Give myself a better understanding of how TS and declaration files work.</p>\n\n<p>In my application code I wanted to use <a href=\"https://github.com/jpoon/winston-azuretable\" rel=\"nofollow noreferrer\">this</a> <code>winston-transport</code> called <code>winston-azuretable</code>. I looked for a <code>@types</code> npm package to go with it but there was none so I decided it would be a great learning experience to create my own.  I added a <code>types</code> folder, set my <code>tsconfig.json</code> to look for types in that <code>types</code> folder and I was able to get it working like this:</p>\n\n<p><strong>types/index.d.ts</strong></p>\n\n<pre><code>declare module \"winston-azuretable\" {\n    import * as winston from \"winston\";\n    import * as Transport from \"winston-transport\";\n\n    export interface AzureTableOptions extends Transport.TransportStreamOptions {\n        useDevStorage?: boolean;\n        account?: string;\n        key?: string;\n        tableName?: string;\n        partitionKey?: string;\n        nestedMeta?: boolean;\n    }\n\n    export interface AzureLoggerInstance extends Transport {\n        log?(info: any, next: () =&gt; void): void;\n\n        log?(level: string | object, msg: string, meta: object, callback: (err: Error, inserted: boolean) =&gt; void): void;\n        log?(level: string | object, msg: string, callback: (err: Error, inserted: boolean) =&gt; void): void;\n\n        query(options: winston.QueryOptions, callback: (err: Error, results: any) =&gt; void): void;\n        query(callback: (err: Error, results: any) =&gt; void): void;\n\n        new(options?: AzureTableOptions): AzureLoggerInstance;\n    }\n\n    export const AzureLogger: AzureLoggerInstance;\n}\n</code></pre>\n\n<p>Then I could consume it like this</p>\n\n<pre><code>import winston from \"winston\";\nimport * as winstonAzureTable from \"winston-azuretable\";\n\nexport default winston.createLogger({\n  levels: winston.config.syslog.levels,\n  transports: [\n    new winston.transports.Console({\n      format: winston.format.combine(\n        winston.format.colorize(),\n        winston.format.label({ label: \"[sandbox]\" }),\n        winston.format.timestamp({ format: \"YYYY-MM-DDTHH:mm:ss\" }),\n        winston.format.printf((e) =&gt; `${e.level}: ${e.label} ${e.timestamp} ${e.message}`)\n      ),\n      level: \"debug\"\n    }),\n    new winstonAzureTable.AzureLogger({\n      account: \"test\",\n      key: \"test\",\n      level: \"info\",\n      partitionKey: \"foo\",\n      tableName: \"sandbox\",\n      useDevStorage: false\n    })\n  ]\n});\n</code></pre>\n\n<p>So far this was great, but I noticed that other <code>winston</code> transports were able to appear like an extension of the <code>winston</code> library which would mean I should be able to do something like <code>new winston.transports.AzureLogger(...)</code></p>\n\n<p>Any example of that would be this <code>winston-dynamodb</code> transport <a href=\"https://github.com/inspiredjw/winston-dynamodb/blob/master/lib/winston-dynamodb.d.ts\" rel=\"nofollow noreferrer\">here</a> so I updated my code to do exactly what this library does, but I still cannot get either my transport or the <code>winston-dynamodb</code> transport to show up under <code>winston.transports</code>.</p>\n\n<p>Can someone explain what the purpose of this code is if it doesn't allow me to use the custom transport in the <code>winston.transports</code> namespace?</p>\n\n<pre><code>declare module \"winston\" {\n    interface Transports {\n        DynamoDB: DynamoDB;\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "smartadmin"], "answers": [{"tags": [], "owner": {"reputation": 3032, "user_id": 8179245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jXkWh.jpg?s=128&g=1", "display_name": "Rohit.007", "link": "https://stackoverflow.com/users/8179245/rohit-007"}, "is_accepted": true, "score": 1, "last_activity_date": 1565766992, "creation_date": 1565766992, "answer_id": 57489840, "question_id": 57489653, "link": "https://stackoverflow.com/questions/57489653/how-handle-a-button-in-typescript-in-dynamic-code/57489840#57489840", "title": "How handle a button in typescript in dynamic code", "body": "<p>You can have multiple ways to achieve it.</p>\n\n<p>try <a href=\"https://stackoverflow.com/a/43065100/8179245\">https://stackoverflow.com/a/43065100/8179245</a> already answered solution.</p>\n\n<p>Or use this stackbliz created for you <a href=\"https://stackblitz.com/edit/angular-confirmation-dialog-1i8zgw?file=app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-confirmation-dialog-1i8zgw?file=app/app.component.ts</a></p>\n\n<h2>App Component Ts</h2>\n\n<pre><code>import { Component } from '@angular/core';\n\nimport { ConfirmationDialogService } from './confirmation-dialog/confirmation-dialog.service';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  constructor(private confirmationDialogService: ConfirmationDialogService) {}\n\n  public openConfirmationDialog() {\n    this.confirmationDialogService.confirm('Please confirm..', 'Do you really want to ... ?')\n    .then((confirmed) =&gt; console.log('User confirmed:', confirmed))\n    .catch(() =&gt; console.log('User dismissed the dialog (e.g., by using ESC, clicking the cross icon, or clicking outside the dialog)'));\n  }\n}\n</code></pre>\n\n<h2>App Component HTML</h2>\n\n<pre><code>&lt;button (click)=\"openConfirmationDialog()\" type=\"button\" class=\"btn btn-primary\"&gt;Open dialog&lt;/button&gt;\n\n&lt;p&gt;Open the console to see log statements.&lt;/p&gt;\n</code></pre>\n\n<h2>Confirm Box TS</h2>\n\n<pre><code>import { Component, Input, OnInit } from '@angular/core';\nimport { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-confirmation-dialog',\n  templateUrl: './confirmation-dialog.component.html',\n})\nexport class ConfirmationDialogComponent implements OnInit {\n\n  @Input() title: string;\n  @Input() message: string;\n  @Input() btnOkText: string;\n  @Input() btnCancelText: string;\n\n  constructor(private activeModal: NgbActiveModal) { }\n\n  ngOnInit() {\n  }\n\n  public decline() {\n    this.activeModal.close(false);\n  }\n\n  public accept() {\n    this.activeModal.close(true);\n  }\n\n  public dismiss() {\n    this.activeModal.dismiss();\n  }\n\n}\n</code></pre>\n\n<h2>Confirm Box HTML</h2>\n\n<pre><code>&lt;div class=\"modal-header\"&gt;\n  &lt;h4 class=\"modal-title\"&gt;{{ title }}&lt;/h4&gt;\n    &lt;button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"dismiss()\"&gt;\n      &lt;span aria-hidden=\"true\"&gt;&amp;times;&lt;/span&gt;\n    &lt;/button&gt;\n  &lt;/div&gt;\n  &lt;div class=\"modal-body\"&gt;\n    {{ message }}\n  &lt;/div&gt;\n  &lt;div class=\"modal-footer\"&gt;\n    &lt;button type=\"button\" class=\"btn btn-danger\" (click)=\"decline()\"&gt;{{ btnCancelText }}&lt;/button&gt;\n    &lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"accept()\"&gt;{{ btnOkText }}&lt;/button&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<h2>Confirm Box Service</h2>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\n\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\nimport { ConfirmationDialogComponent } from './confirmation-dialog.component';\n\n@Injectable()\nexport class ConfirmationDialogService {\n\n  constructor(private modalService: NgbModal) { }\n\n  public confirm(\n    title: string,\n    message: string,\n    btnOkText: string = 'OK',\n    btnCancelText: string = 'Cancel',\n    dialogSize: 'sm'|'lg' = 'sm'): Promise&lt;boolean&gt; {\n    const modalRef = this.modalService.open(ConfirmationDialogComponent, { size: dialogSize });\n    modalRef.componentInstance.title = title;\n    modalRef.componentInstance.message = message;\n    modalRef.componentInstance.btnOkText = btnOkText;\n    modalRef.componentInstance.btnCancelText = btnCancelText;\n\n    return modalRef.result;\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 580, "user_id": 1971380, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Crvx0.png?s=128&g=1", "display_name": "Saeid Mirzaei", "link": "https://stackoverflow.com/users/1971380/saeid-mirzaei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 57489840, "answer_count": 1, "score": 1, "last_activity_date": 1565766992, "creation_date": 1565766250, "question_id": 57489653, "link": "https://stackoverflow.com/questions/57489653/how-handle-a-button-in-typescript-in-dynamic-code", "title": "How handle a button in typescript in dynamic code", "body": "<p>I'm working with the <a href=\"https://bootstraphunter.com/theme/smartadmin-responsive-webapp-frontend-BSH01\" rel=\"nofollow noreferrer\">Smart Admin Angular Version</a>, When I want to use from notificationService I have a problem.</p>\n\n<p>I cant handle pressed button in notificationService.smallBox.</p>\n\n<p>My code in like bellow:</p>\n\n<pre><code>notificationExample5() {\n\n  this.notificationService.smallBox({\n    title: \"Ding Dong!\",\n    content: \"Someone's at the door...shall one get it sir? &lt;p class='text-align-right'&gt;&lt;a href-void class='btn btn-primary btn-sm'&gt;Yes&lt;/a&gt; &lt;a href-void class='btn btn-danger btn-sm'&gt;No&lt;/a&gt;&lt;/p&gt;\",\n    color: \"#296191\",\n    //timeout: 8000,\n    icon: \"fa fa-bell swing animated\"\n  });\n}\n</code></pre>\n\n<p>How I cant handle 'YES' or 'NO' button in Angular?</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "angular7"], "comments": [{"owner": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "edited": false, "score": 0, "creation_date": 1565766551, "post_id": 57489590, "comment_id": 101449735, "body": "Will you add file data? @tejas-ingle ?"}, {"owner": {"reputation": 1, "user_id": 11284450, "user_type": "registered", "profile_image": "https://graph.facebook.com/1122796681225699/picture?type=large", "display_name": "Tejas Ingle", "link": "https://stackoverflow.com/users/11284450/tejas-ingle"}, "reply_to_user": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "edited": false, "score": 0, "creation_date": 1565766682, "post_id": 57489590, "comment_id": 101449779, "body": "first i will take that base64 data and after compressing that i am converting into file and sending to the server  but from that file i want base64 string ."}, {"owner": {"reputation": 1, "user_id": 11284450, "user_type": "registered", "profile_image": "https://graph.facebook.com/1122796681225699/picture?type=large", "display_name": "Tejas Ingle", "link": "https://stackoverflow.com/users/11284450/tejas-ingle"}, "reply_to_user": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "edited": false, "score": 0, "creation_date": 1565767349, "post_id": 57489590, "comment_id": 101450069, "body": "@HardikMasalawala"}, {"owner": {"reputation": 761, "user_id": 6923146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PBi3.jpg?s=128&g=1", "display_name": "Hardik Masalawala", "link": "https://stackoverflow.com/users/6923146/hardik-masalawala"}, "edited": false, "score": 0, "creation_date": 1565767481, "post_id": 57489590, "comment_id": 101450117, "body": "Are you able to convert that file data into base64? if yes then you can convert file data into bas64 using JavaScript and you will get string of base64 like this : <a href=\"https://stackoverflow.com/a/57272491/6923146\">stackoverflow.com/a/57272491/6923146</a>"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1565768862, "post_id": 57489590, "comment_id": 101450729, "body": "What type of data you get after compression? String? if it&#39;s blob you can use <a href=\"https://stackoverflow.com/q/18650168/387194\">Convert blob to base64</a>. If you have string then there is function <code>btoa</code> that create base64 but it will not be data URI."}], "owner": {"reputation": 1, "user_id": 11284450, "user_type": "registered", "profile_image": "https://graph.facebook.com/1122796681225699/picture?type=large", "display_name": "Tejas Ingle", "link": "https://stackoverflow.com/users/11284450/tejas-ingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565766340, "creation_date": 1565765974, "last_edit_date": 1565766340, "question_id": 57489590, "link": "https://stackoverflow.com/questions/57489590/is-there-way-to-take-only-base64-data-from-array-file", "title": "Is there way to take only base64 data from array file?", "body": "<p>While I am selecting and compressing the image in angular7 the image gets compressing but the file shows the description but I want to get the base64 data only from that file? if is there way suggest me thanx in adv.</p>\n\n<p>angular</p>\n\n<pre><code>for (var i = 0; i &lt; newfiles.length; i++) {\n    let images: Array&lt;IImage&gt; = [];\n    const files = Array.from(element.target.files);\n    ImageCompressService.filesArrayToCompressedImageSource(Array.from(element.target.files)).then(observableImages =&gt; {\n        observableImages.subscribe((image) =&gt; {\n            images.push(image);\n        }, (error) =&gt; {\n            console.log(\"Error while converting\");\n        }, () =&gt; {\n            this.processedImages = images;\n            arrayOfImagesFile = images;\n            console.log(\"jvdff\");\n\n            this.showTitle = true;\n        })\n    })\n};\n</code></pre>\n\n<p>in images there is showing files description that are -->\nimage data URL which is base64 data and imageObjectUrl which is blob type Url but I want only imageDataUrl seperately</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1565766676, "post_id": 57489572, "comment_id": 101449778, "body": "Presumably, TS has the wrong type for the parameter of <code>isNaN</code> - it doesn&#39;t only accept numbers, it can take any value. Or maybe it was an intentional design - if you only pass numbers to <code>isNaN</code> you actually avoid the pitfalls of it. At any rate, it doesn&#39;t seem like you want <code>isNaN</code> - if you just want to check if it&#39;s a number or not, then try <code>typeof a  === &quot;number&quot;</code>"}, {"owner": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "edited": false, "score": 1, "creation_date": 1565766939, "post_id": 57489572, "comment_id": 101449899, "body": "Can you provide any example of what are you trying to achieve? This is really strange function so would be nice to get better understanding of what you are doing so then we can help you"}, {"owner": {"reputation": 1113, "user_id": 5603073, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/rzNKn.jpg?s=128&g=1", "display_name": "gauti", "link": "https://stackoverflow.com/users/5603073/gauti"}, "reply_to_user": {"reputation": 8859, "user_id": 1766444, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/BkIjo.png?s=128&g=1", "display_name": "Marek Urbanowicz", "link": "https://stackoverflow.com/users/1766444/marek-urbanowicz"}, "edited": false, "score": 0, "creation_date": 1565767282, "post_id": 57489572, "comment_id": 101450046, "body": "@MU. am invoking this function for sorting a list which has string (&quot;test&quot;)and number as string(&quot;1234.23&quot;). so I would like to sort accordingly. so before that I need to check isNaN or not"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1565767736, "post_id": 57489572, "comment_id": 101450208, "body": "@gauti but then you are better off converting to number yourself and passing to <code>isNaN</code>. It&#39;s what the function does anyway - <code>isNaN(+a)</code> EDIT: although the sorting is still odd - <code>a</code> and <code>b</code> are supposed to be <i>objects</i>, so checking them for <code>isNaN</code> is still odd."}, {"owner": {"reputation": 1113, "user_id": 5603073, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/rzNKn.jpg?s=128&g=1", "display_name": "gauti", "link": "https://stackoverflow.com/users/5603073/gauti"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1565767907, "post_id": 57489572, "comment_id": 101450265, "body": "@VLAZ. I Got your point, But am writing generic code. so i can&#39;t go and handle in each and every function."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1565768190, "post_id": 57489572, "comment_id": 101450407, "body": "@gauti well, <code>isNaN</code> literally just checks if the argument you pass in <i>when converted to a number</i> will produce <code>NaN</code>. So if you do the conversion step yourself, you don&#39;t subvert what <code>isNaN</code> would produce. If your expectation is to check if the argument is a number or not, then it can still produce a false negative <code>+true === 1</code>, so <code>isNaN(true) === false</code>. Similarly, <code>+&quot;&quot; = 0</code> (empty string), thus <code>isNaN(&quot;&quot;) === false</code>. Changing those to <code>isNaN(+true)</code> and <code>isNaN(+&quot;&quot;)</code>, etc., wouldn&#39;t change the behaviour at all."}], "answers": [{"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1565776629, "post_id": 57491434, "comment_id": 101454549, "body": "There is still a slight potential problem - <code>stringNumberCheck(&quot;&quot;)</code> will return <code>true</code>, when the value is actually <i>not</i> a number. Or not necessarily a number - perhaps it&#39;s fine to treat it as zero, perhaps not. It&#39;s still a potential pitfall that is worth mentioning. There is <a href=\"https://stackoverflow.com/questions/18082/validate-decimal-numbers-in-javascript-isnumeric\">also this old question on validating numbers</a>"}, {"owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1565957937, "post_id": 57491434, "comment_id": 101515474, "body": "@VLAZ that&#39;s true, an empty string would effectively be treated as zero."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1565774135, "last_edit_date": 1565774135, "creation_date": 1565773273, "answer_id": 57491434, "question_id": 57489572, "link": "https://stackoverflow.com/questions/57489572/typescript-error-argument-of-type-t-is-not-assignable-to-parameter-of-type-n/57491434#57491434", "title": "Typescript Error: Argument of type &#39;T&#39; is not assignable to parameter of type &#39;number&#39;?", "body": "<p>Using the juggly-version of <code>isNaN</code> is discouraged, though I can see that you're using it to check both type and <code>NaN</code> in your case. While this works with a bit of juggling, it is better to be a bit more belt-and-braces and use type checking to check types, and <code>NaN</code> checking to check <code>NaN</code>s.</p>\n\n<p>The first chunk of console logs (1 - 3) are showing you the behaviour you are using from <code>isNaN</code>. I use the (inverted) equivalents of type checks in the next section (4 - 6).</p>\n\n<p>The final bit (7 - 8) shows the use of type-and-NaN checking. At this stage, you aren't relying on the sketchy behaviour of <code>isNaN</code> and can use either the global version (as you are now certain you are using a number) or the <code>Number.isNaN</code> version, which is tighter.</p>\n\n<p>The belt-and-braces version has no compiler warnings.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const num = 1;\r\nconst str = 'string';\r\nconst obj = { key: 'value' };\r\n\r\n// Technically works, but compiler warnings\r\n\r\nconsole.log('1.', isNaN(num)); // false\r\nconsole.log('2.', isNaN(str)); // true\r\nconsole.log('3.', isNaN(obj)); // true\r\n\r\n// A bit more type-ish (note the results are inverted as I'm showing the \"positive\" test\r\n\r\nconsole.log('4.', typeof num === 'number'); // true\r\nconsole.log('5.', typeof str === 'number'); // false\r\nconsole.log('6.', typeof obj === 'number'); // false\r\n\r\nconst a = 1;\r\n\r\nif (typeof a === 'number') {\r\n    console.log('7a.', isNaN(a)); // false\r\n    console.log('7b.', Number.isNaN(a)); // false\r\n}\r\n\r\nconst b = NaN;\r\n\r\nif (typeof b === 'number') {\r\n    console.log('8a.', isNaN(b)); // true\r\n    console.log('8b.', Number.isNaN(b)); // true\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is a version that sorts out the strings from the numbers:</p>\n\n<pre><code>function stringNumberCheck(strNum: string | number) : boolean {\n    const numeric = +strNum;\n    return (typeof numeric === 'number' &amp;&amp; !Number.isNaN(numeric));\n}\n\nconsole.log('1:', stringNumberCheck(1)); // true\nconsole.log(\"'100':\", stringNumberCheck('100')); // true\nconsole.log(\"'Hello':\", stringNumberCheck('Hello')); // false\n</code></pre>\n\n<p>Demo</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"use strict\";\r\nfunction stringNumberCheck(strNum) {\r\n    const numeric = +strNum;\r\n    return (typeof numeric === 'number' &amp;&amp; !Number.isNaN(numeric));\r\n}\r\nconsole.log('1:', stringNumberCheck(1)); // true\r\nconsole.log(\"'100':\", stringNumberCheck('100')); // true\r\nconsole.log(\"'Hello':\", stringNumberCheck('Hello')); // false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1113, "user_id": 5603073, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/rzNKn.jpg?s=128&g=1", "display_name": "gauti", "link": "https://stackoverflow.com/users/5603073/gauti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565774135, "creation_date": 1565765882, "last_edit_date": 1565773345, "question_id": 57489572, "link": "https://stackoverflow.com/questions/57489572/typescript-error-argument-of-type-t-is-not-assignable-to-parameter-of-type-n", "title": "Typescript Error: Argument of type &#39;T&#39; is not assignable to parameter of type &#39;number&#39;?", "body": "<p>Can anyone tell me what typescript error here?  </p>\n\n<pre><code>public sortList&lt;T&gt;(data: T[], key: string, action: boolean): Observable&lt;T[]&gt; {\n\nconst outputData: T[] =  data.sort((a, b) =&gt; {\n  if (isNaN(a) &amp;&amp; isNaN(b)) {\n    return a[key].toUpperCase() &gt; b[key].toUpperCase() ? 1 : a[key].toUpperCase() &lt; b[key].toUpperCase() ? -1 : 0;\n  }\n});\n\nreturn of(outputData)\n  .pipe(\n    share()\n  );\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>isNaN(a)\n   and >isNaN(b) is throwing following error.</p>\n</blockquote>\n\n<pre><code>(parameter) b: T\nArgument of type 'T' is not assignable to parameter of type 'number'.ts(2345)\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1634, "user_id": 9380944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee6d96ba0c97cf891345b066dcbac7d?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Prajapati", "link": "https://stackoverflow.com/users/9380944/ankit-prajapati"}, "is_accepted": false, "score": 0, "last_activity_date": 1565762060, "creation_date": 1565762060, "answer_id": 57488838, "question_id": 57488749, "link": "https://stackoverflow.com/questions/57488749/angular6-result-from-httppost-subscribe/57488838#57488838", "title": "angular6 result from httppost subscribe", "body": "<p>Because post <code>this.client.post</code> method is asynchronous, and return isSuccess below that method is synchronous statement that executes first, so you can fix this by returning <code>this.client.post.subsribe(response =&gt; {... })</code></p>\n\n<pre><code> RegisterUser(dto: RegisterDto): boolean {\n    let isSuccess: boolean = false;\n    const endpoint = ApiQueryService.ApiEndpoint + this.registerEndpoint;\n    return this.client.post(endpoint, dto, {observe: 'response'}).subscribe(response =&gt; {\n      isSuccess = response.status === 200;\n      return isSuccess;\n    });\n\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1013, "user_id": 2137237, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/QIfio.jpg?s=128&g=1", "display_name": "Markus Deibel", "link": "https://stackoverflow.com/users/2137237/markus-deibel"}, "edited": false, "score": 0, "creation_date": 1565762502, "post_id": 57488862, "comment_id": 101448191, "body": "Please elaborate a little bit and add some contextual code."}], "tags": [], "owner": {"reputation": 999, "user_id": 4638273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cI1TQ.jpg?s=128&g=1", "display_name": "igor_c", "link": "https://stackoverflow.com/users/4638273/igor-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1565764962, "last_edit_date": 1565764962, "creation_date": 1565762235, "answer_id": 57488862, "question_id": 57488749, "link": "https://stackoverflow.com/questions/57488749/angular6-result-from-httppost-subscribe/57488862#57488862", "title": "angular6 result from httppost subscribe", "body": "<p>You can use pipe map() in the AuthService, return what you need, handle it in the UserService, return some boolean again and subscribe in the component. So the services will return <code>Observable&lt;boolean&gt;</code></p>\n\n<p>AuthService:</p>\n\n<pre><code>RegisterUser(dto: RegisterDto): Observable&lt;boolean&gt; {\n    const endpoint = ApiQueryService.ApiEndpoint + this.registerEndpoint;\n    return this.client.post(endpoint, dto, {observe: 'response'})\n    .pipe(\n        map(response =&gt; response.status === 200),\n    );\n}\n</code></pre>\n\n<p>UserService:</p>\n\n<pre><code>CreateUser(dto: UserCreateDto): Observable&lt;boolean&gt; {\n    const endpoint = ApiQueryService.ApiEndpoint + this.postUserEndpoint;\n    let result: any;\n    let d = new Date(dto.birthDate.year, dto.birthDate.month - 1, dto.birthDate.day);\n    dto.userDto.birthDate = d.toJSON();\n    const password = dto.password;\n    return this.client.post(endpoint, dto.userDto).pipe(\n        switchMap(result =&gt; {\n            const registerDto: RegisterDto = {Password: password, UserId: result};\n            return this.authService.RegisterUser(registerDto);\n        }),\n    );\n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>onSubmit(contactFormRef: NgForm) {\n    this.usersService.CreateUser(this.registerDto).pipe(take(1))\n        .subscribe(result =&gt; {\n            // do what you need and then reset the form\n            contactFormRef.reset();\n        });\n}\n</code></pre>\n\n<p>So it goes from the AuthService through the UserService and you subscribe only once at the end in the component.</p>\n"}], "owner": {"reputation": 310, "user_id": 7631789, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c9cb8d9ca117c24be5d6fc5b448a3173?s=128&d=identicon&r=PG&f=1", "display_name": "SharkyShark", "link": "https://stackoverflow.com/users/7631789/sharkyshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57488862, "answer_count": 2, "score": 0, "last_activity_date": 1565764962, "creation_date": 1565761517, "question_id": 57488749, "link": "https://stackoverflow.com/questions/57488749/angular6-result-from-httppost-subscribe", "title": "angular6 result from httppost subscribe", "body": "<p>i'm learning angular and i'm trying to do component which provides users registration to my web api.</p>\n\n<p>in my component i have following code on form submit:</p>\n\n<pre><code> onSubmit(contactFormRef: NgForm) {\n    const result = this.usersService.CreateUser(this.registerDto);\n    contactFormRef.reset();\n  }\n</code></pre>\n\n<p>UsersService: </p>\n\n<pre><code> CreateUser(dto: UserCreateDto): boolean {\n    const endpoint = ApiQueryService.ApiEndpoint + this.postUserEndpoint;\n    let result: any;\n\n    let d = new Date(dto.birthDate.year, dto.birthDate.month - 1, dto.birthDate.day);\n    dto.userDto.birthDate = d.toJSON();\n    const password = dto.password;\n    this.client.post(endpoint, dto.userDto).subscribe(x =&gt;\n    {\n      result = x;\n      const registerDto: RegisterDto = {Password: password, UserId: result};\n      const registerResult = this.authService.RegisterUser(registerDto);\n      return registerResult;\n    });\n\n    return false;\n  }\n</code></pre>\n\n<p>and the AuthService: </p>\n\n<pre><code> RegisterUser(dto: RegisterDto): boolean {\n    let isSuccess: boolean = false;\n    const endpoint = ApiQueryService.ApiEndpoint + this.registerEndpoint;\n    this.client.post(endpoint, dto, {observe: 'response'}).subscribe(response =&gt; {\n      isSuccess = response.status === 200;\n      return isSuccess;\n    });\n    return isSuccess;\n  }\n</code></pre>\n\n<p>my problem is that i would like to return isSuccess from this:</p>\n\n<pre><code>this.client.post(endpoint, dto, {observe: 'response'}).subscribe(response =&gt; {\n      isSuccess = response.status === 200;\n      return isSuccess;\n    });\n</code></pre>\n\n<p>to the compomonent \nand in the component i will do something if result is not success,\nbut it always returning the result from code after subscribing, so the component always gets false result</p>\n\n<p><a href=\"https://i.stack.imgur.com/KYo2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KYo2L.png\" alt=\"what i want to achieve\"></a></p>\n"}, {"tags": ["javascript", "typescript", "express", "prettier", "eslintrc"], "owner": {"reputation": 2240, "user_id": 269867, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2abd456b40bc06c9b82e500bff50516b?s=128&d=identicon&r=PG", "display_name": "user269867", "link": "https://stackoverflow.com/users/269867/user269867"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565761142, "creation_date": 1565756460, "last_edit_date": 1592644375, "question_id": 57488121, "link": "https://stackoverflow.com/questions/57488121/how-to-resolve-these-prettier-errors-in-express-typescript-code", "title": "How to resolve these prettier errors in express, typescript code", "body": "<p>I have setup a basic app Node/Express + Typescript project</p>\n<pre><code>app.listen(PORT, (): void =&gt; {\n  console.log(`app running in ${environment} listening on port ${PORT}!`);\n});\n</code></pre>\n<p>I am getting error and I am not sure why?</p>\n<blockquote>\n<p>Replace <code>PORT,</code> with <code>\u23ce\u00b7\u00b7PORT,\u23ce\u00b7</code> (prettier/prettier)</p>\n<p>Insert <code>\u00b7\u00b7</code> (prettier/prettier)</p>\n<p>Replace <code>}</code> with <code>\u00b7\u00b7},\u23ce</code> (prettier/prettier)</p>\n</blockquote>\n<p>If I try and fix these error which are displayed (in Codacy dashboard) Vscode shows eslint error. I am not sure how to mute as Codacy is probably reading it from eslintrc file.\neslintrc configs looks like as below</p>\n<pre><code>module.exports = {\n  parser: '@typescript-eslint/parser',\n  extends: [\n    'plugin:@typescript-eslint/recommended', \n    'prettier/@typescript-eslint', \n    'plugin:prettier/recommended', \n  ],\n  parserOptions: {\n    ecmaVersion: 2018, \n    sourceType: 'module', \n  },\n  rules: {\n    '@typescript-eslint/no-unused-vars': 'error',\n    'array-callback-return': 'error',\n    // &quot;no-console&quot;: &quot;error&quot;,\n\n    // these we probably do not care about\n    '@typescript-eslint/array-type': 'off',\n    '@typescript-eslint/explicit-member-accessibility': 'off',\n    '@typescript-eslint/explicit-function-return-type': 'off',\n    '@typescript-eslint/no-explicit-any': 'off',\n  },\n};\n\n</code></pre>\n<p>any clue?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 2, "creation_date": 1565770408, "post_id": 57488556, "comment_id": 101451473, "body": "This also works, simpler to understand IMO: <code>type MapToFieldValue&lt;T&gt; = { [K in keyof T]: { field: K, value: T[K] } }[keyof T]</code>"}], "tags": [], "owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1565787394, "last_edit_date": 1565787394, "creation_date": 1565760157, "answer_id": 57488556, "question_id": 57488068, "link": "https://stackoverflow.com/questions/57488068/typescript-object-with-keys-types-conditioned-by-other-keys-of-the-same-object/57488556#57488556", "title": "Typescript: Object with keys&#39; types conditioned by other keys of the same object", "body": "<p>You can leverage <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html#distributive-conditional-types\" rel=\"nofollow noreferrer\">distributive conditional types</a> to get type similar to <code>Approach1</code> autogenerated:</p>\n\n<pre><code>type MapToFieldValue&lt;T, K = keyof T&gt; = K extends keyof T ? { field: K, value: T[K] } : never;\n\nconst foo: MapToFieldValue&lt;ISessionSpecific&gt; = { field: 'address', value: 0 } // Expect error;\n</code></pre>\n\n<p>The result of <code>MapToFieldValue&lt;ISessionSpecific&gt;</code> will be union equivalent to:</p>\n\n<pre><code>type ManualMap = {\n    field: \"students\";\n    value: number[] | undefined;\n} | {\n    field: \"subject\";\n    value: number | undefined;\n} | {\n    field: \"address\";\n    value: string | undefined;\n} | {\n    field: \"duration\";\n    value: string[] | undefined;\n} | {\n    field: 'date';\n    value: Date | undefined;\n}\n</code></pre>\n\n<p>Another approach using mapped type, produces same result (thanks @Titian):</p>\n\n<pre><code>type MapToFieldValue&lt;T&gt; = { [K in keyof T]: { field: K, value: T[K] } }[keyof T]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 2771884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f9febc8367a6d4b25b63cae67ecb8f3?s=128&d=identicon&r=PG", "display_name": "Dardino", "link": "https://stackoverflow.com/users/2771884/dardino"}, "is_accepted": false, "score": 1, "last_activity_date": 1565768164, "last_edit_date": 1565768164, "creation_date": 1565767708, "answer_id": 57490001, "question_id": 57488068, "link": "https://stackoverflow.com/questions/57488068/typescript-object-with-keys-types-conditioned-by-other-keys-of-the-same-object/57490001#57490001", "title": "Typescript: Object with keys&#39; types conditioned by other keys of the same object", "body": "<pre><code>interface ISessionSpecific {\n    students?: number[];\n    subject?: number;\n    address?: string;\n    duration?: string[];\n    date?: Date;\n}\n\nfunction updateField&lt;T, P extends keyof T&gt;(obj: T, prop: P, value: T[P]) {\n    obj[prop] = value;\n}\n\nvar myObj: ISessionSpecific = {};\n\n\nupdateField(myObj, \"date\", new Date()); // OK!\nupdateField(myObj, \"nonExistingProp\", \"some Value\"); // Error \"nonExistingProp\" is not a valid prop.\n\nlet subject1 = 10; // inferred type : number\nlet subject2 = \"10\"; // inferred type : string\n\nupdateField(myObj, \"subject\", subject1); // OK!\nupdateField(myObj, \"subject\", subject2); // Error Argument of type 'string' is not assignable to parameter of type 'number | undefined'.\nupdateField(myObj, \"subject\", undefined); // OK because ISessionSpecific has subject as optional\n\n// if you want the 3rd paramater to be not null or undefined you need to do this:\nfunction updateFieldNotUndefined&lt;T, P extends keyof T&gt;(obj: T, prop: P, value:  Exclude&lt;T[P], null | undefined&gt;) {\n    obj[prop] = value;\n}\nupdateFieldNotUndefined(myObj, \"subject\", undefined); // ERROR!\n\n\n// If you want to pass an object of Key-Value pairs:\nfunction updateFieldKeyValuePair&lt;T, P extends keyof T&gt;(\n    obj: T, \n    kvp: { prop: P, value:  Exclude&lt;T[P], null | undefined&gt; }\n) {\n    obj[kvp.prop] = kvp.value;\n}\n\n\n// if you want to put it in a class:\nclass SessionSpecific implements ISessionSpecific {\n    students?: number[];\n    subject?: number;\n    address?: string;\n    duration?: string[];\n    date?: Date;\n\n    public updateField&lt;P extends keyof this&gt;(prop: P, value: this[P]) {\n        this[prop] = value;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgJIGUIGcvAPYjoAOECwMwCyA3gLABQyTyWYArgCYThYD8AXMhBsAtgCNoAbQC6AbgbMWbMQCtSYAUNESo8xszgcOUbH0GsooAOZ7FHNlDhh8ITReszbzDk4iaAIr56AL4MDDBsIAjOBMhsRD6QAGLAEAA2HAA8ACoANMgACsgQAB6QIBxYyADWEACeeDDI2QB8ABR4qoJ5yERQeESCBfkAbnBpbBDdkgXSAJQ0CsydKpJ9A9LIALzIYxMQIWH0Y1DIInUA8l1omDguxKTklNs0wXpH8YkQKekcbedXFT5ABEX2B+RAEAA7shApA2nM5rJkAB6FHIC4AaQAhAxPr4fhl-pdVCCQAQAKIlYCsawFfpEcHIYFYPAiFAANXGk2BSNR6IpUH6p2B5JAVJpzhAVnpA2ByBpQjwYGQcF242AHF6DIAdEc0hAVVhlGpogBGF5mgAMyLRCpAMGgJi1YDqJGQgmE4mgDANRpN6gATC9gdbgbb0aBHUKIC63ShzGBLNKPgkCakiQDSczjap1Ezc6awGa+Xasbj6Pjkhm-lmgTmA9EC42wIHSwKhXhTgBBKBWUTcFWNZCu90Acnc0rHCqq5JVcDuVhAcDEBpHeF6cEc7Mgp2Ho5QY69OmQAB84hUIBRIRwx3rK2nq79iYCQYX8-lIlxr7H2xjMcgEgIHAbBYCgGCmPcJBkBQVAABYLkoebRKqVQDDEy5pEcdrkMgDRsMgUJwOAI5wSgADMUBakQW5wCIvinGAG4SEqKrCGkaTIF2F7fqAsZ4XgBGQvxTHIBwG5gHBNL8OEkTRC4cSPt8NYAHLKgAqpeP5ZD0RSlOUlQ1PUw6tB01w9OsgyFKM3JTEwVIIBMXA5DM0gQmwHFnjxV58RwLQLHQ+hMCsawMpsOx7JMhwPl8hIcGpYCabxN4vtmLItkyX4+Tef4UgASnlFx5RWQA\" rel=\"nofollow noreferrer\">playground</a></p>\n"}], "owner": {"reputation": 116, "user_id": 7050326, "user_type": "registered", "profile_image": "https://graph.facebook.com/1280471058684311/picture?type=large", "display_name": "Alexandre Dias", "link": "https://stackoverflow.com/users/7050326/alexandre-dias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565787394, "creation_date": 1565755934, "question_id": 57488068, "link": "https://stackoverflow.com/questions/57488068/typescript-object-with-keys-types-conditioned-by-other-keys-of-the-same-object", "title": "Typescript: Object with keys&#39; types conditioned by other keys of the same object", "body": "<p>OK so I have this function that should receive a key and a value from an object. Different keys have different values types associated with them.</p>\n\n<p>I dont want to have a generic function like:</p>\n\n<pre><code>function updateField(key: string, value: any) {\n\n}\n</code></pre>\n\n<p>Take for example I have this object here:</p>\n\n<pre><code>interface ISessionSpecific {\n    students?: number[];\n    subject?: number;\n    address?: string;\n    duration?: string[];\n    date?: Date;\n}\n</code></pre>\n\n<p>I want to create a function that update a field in this object, but I want it properly types...</p>\n\n<p>so when I call:</p>\n\n<pre><code>const value = something;\nupdateField('address', value);\n</code></pre>\n\n<p>It would throw an error if <strong>value</strong> is not of type <strong>string</strong>;</p>\n\n<p>What I have tried:</p>\n\n<pre><code>\n// First Approach:\ntype ForField&lt;T extends keyof ISessionSpecific&gt; = {\n    field: T;\n    value: Required&lt;ISessionSpecific&gt;[T];\n};\n\ntype Approach1 =\n    | ForField&lt;'address'&gt;\n    | ForField&lt;'students'&gt;\n    | ForField&lt;'date'&gt;\n    | ForField&lt;'duration'&gt;\n    | ForField&lt;'subject'&gt;;\n\n// Second Approach\ntype Approach2&lt;T extends ISessionSpecific = ISessionSpecific&gt; = {\n    field: keyof T;\n    value: T[keyof T];\n};\n\n// Testing\nconst x: [Approach1, Approach2] = [\n    { field: 'address', value: 0 }, // Error\n    { field: 'address', value: 0 }, // No Error\n];\n\n</code></pre>\n\n<p>My first approach <strong>solves my problem</strong> but I think it is too verbose. Because this interface I created is just an example... the actual interface <em>might</em> be much larger.\nSo I was wondering if there is any way that is more elegant to do this</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4929, "user_id": 2050629, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f60dbf1e0b2f02120551724a3d4bcae1?s=128&d=identicon&r=PG", "display_name": "wiesson", "link": "https://stackoverflow.com/users/2050629/wiesson"}, "edited": false, "score": 0, "creation_date": 1565771443, "post_id": 57487708, "comment_id": 101452010, "body": "Why do you destructure an object as an array? <code>const { articles, loading } = data</code> should work as expected?"}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1565752602, "creation_date": 1565752602, "answer_id": 57487745, "question_id": 57487708, "link": "https://stackoverflow.com/questions/57487708/destructure-in-ts/57487745#57487745", "title": "Destructure in TS", "body": "<p>Using the standard <code>: type</code> notation. </p>\n\n<h1>Example without destructuring</h1>\n\n<pre><code>const foo:[number,string]  = data;\n</code></pre>\n\n<h1>Example <em>with</em> destructuring</h1>\n\n<pre><code>const [articles, loading]:[number,string] = data;\n</code></pre>\n"}], "owner": {"reputation": 823, "user_id": 9985440, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156493845685526/picture?type=large", "display_name": "lakerskill", "link": "https://stackoverflow.com/users/9985440/lakerskill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 57487745, "answer_count": 1, "score": 3, "last_activity_date": 1565752602, "creation_date": 1565752182, "question_id": 57487708, "link": "https://stackoverflow.com/questions/57487708/destructure-in-ts", "title": "Destructure in TS", "body": "<p>Working through trying to learn TypeScript and I have a quick question about destructing something.  Say I have an object. I need to destruct prior to using the variables.  For instance:</p>\n\n<pre><code>type artProps = {\n    articles: Article[],\n    loading: boolean\n}\ntype Article = {\n    title: string,\n    author: string,\n    body: string,\n    date: number,\n    category: string,\n    _id: string\n}\n\nconst [articles, loading] = data\n</code></pre>\n\n<p>How would I destructure data while declaring the type?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 544, "user_id": 1045650, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/omx2P.jpg?s=128&g=1", "display_name": "jmealy", "link": "https://stackoverflow.com/users/1045650/jmealy"}, "is_accepted": false, "score": 0, "last_activity_date": 1565807045, "creation_date": 1565807045, "answer_id": 57500137, "question_id": 57487669, "link": "https://stackoverflow.com/questions/57487669/typescript-module-dependency-not-exposing-source-code-to-dependent/57500137#57500137", "title": "TypeScript module dependency not exposing source code to dependent", "body": "<p>I found a solution that works, but is not the prettiest:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Payload } from 'my-library'\nimport { client } from 'my-library/lib/client'\nconst payload: Payload = { x: 'y' }\nclient.send(payload)\n</code></pre>\n\n<p>I've broken the <code>client</code>'s import into a different line, and explicitly dug into the module's directories to the <code>client</code>'s definition.  This builds, but I wish it wasn't necessary.</p>\n\n<p>If anyone has a better idea, I'm all ears.</p>\n"}], "owner": {"reputation": 544, "user_id": 1045650, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/omx2P.jpg?s=128&g=1", "display_name": "jmealy", "link": "https://stackoverflow.com/users/1045650/jmealy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565807045, "creation_date": 1565751810, "question_id": 57487669, "link": "https://stackoverflow.com/questions/57487669/typescript-module-dependency-not-exposing-source-code-to-dependent", "title": "TypeScript module dependency not exposing source code to dependent", "body": "<p>I feel like this has to be a solved issue, but for the life of me, I can't find the winning SO post.  Thanks in advance for your direction!</p>\n\n<p>I've got one TypeScript module (we'll call it <code>my-library</code>) that serves as a library to others. I'd like other modules to be able to execute the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { client, Payload } from 'my-library'\nconst payload: Payload = { x: 'y' }\nclient.send(payload)\n</code></pre>\n\n<p>In the <code>my-library</code> module, I've got a top-level file with the following: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export { Payload } from './types/'\nexport { client } from './client'\n</code></pre>\n\n<p>I'm using rollup.js to output code that can be consumed in various ways.  Here's the package.json configuration, pointing to the output files:</p>\n\n<pre><code>  \"browser\": \"dist/index.js\",\n  \"main\": \"lib/index.js\",\n  \"module\": \"lib/index.es6.js\",\n  \"types\": \"lib/types/index.d.ts\",\n</code></pre>\n\n<p>However, when I attempt to import in my dependent repo:</p>\n\n<pre><code>import { client, Payload } from 'my-library'\n</code></pre>\n\n<p>... I get an error like the following:</p>\n\n<pre><code>Module '\"../../../../../Users/my-user/dev/dependent-module/node_modules/my-library/lib/types\"' has no exported member 'client'. Did you mean 'Client'?ts(2724)\n</code></pre>\n\n<p>Note that the path ends in <code>/lib/types</code>, as if the dependent is only acknowledging the <code>types</code> parameter of the package.json.</p>\n\n<p>It looks as if my dependent is only importing types from <code>my-library</code>, but ignoring the actual source I'd like to import.  Can anyone tell me how I can get my dependents to import the source code, as well as the typings of <code>my-library</code>?</p>\n"}, {"tags": ["javascript", "typescript", "electron"], "answers": [{"tags": [], "owner": {"reputation": 1894, "user_id": 6786876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IE5o.png?s=128&g=1", "display_name": "Alexander Leithner", "link": "https://stackoverflow.com/users/6786876/alexander-leithner"}, "is_accepted": false, "score": 0, "last_activity_date": 1565767724, "creation_date": 1565767724, "answer_id": 57490004, "question_id": 57487400, "link": "https://stackoverflow.com/questions/57487400/electron-cant-load-external-svg-files-when-urls-are-prefixed-with/57490004#57490004", "title": "Electron can&#39;t load external SVG files when URLs are prefixed with &quot;//&quot;", "body": "<p>As already stated in <a href=\"https://discuss.atom.io/t/in-script-tag-is-interpreted-as-file/19232/4\" rel=\"nofollow noreferrer\">this comment over at the Atom.io thread you provided</a>, by using <code>//</code> instead of, say, <code>https://</code> you request the URL over the current protocol.</p>\n\n<p>It could possibly be that when you load a file into an Electron window in development directly, Electron (or, specifically, Chromium, since Electron only builds on top of that) will assume that the current protocol is HTTP and hence load the file. But if you load the file from a packaged app, your HTML source might be loaded via <code>file://</code>, which makes your URL invalid.</p>\n\n<p>I suggest to use HTTPs anyways (if the endpoint provides encryption). Even if it's \"only an image\", encrypted connections and traffic can basically do no harm.</p>\n\n<p>Also refer to <a href=\"https://www.paulirish.com/2010/the-protocol-relative-url/\" rel=\"nofollow noreferrer\">this explanation</a> on so-called \"protocol-relative URLs\", which yours is.</p>\n"}], "owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1033, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565771935, "creation_date": 1565749193, "last_edit_date": 1565771935, "question_id": 57487400, "link": "https://stackoverflow.com/questions/57487400/electron-cant-load-external-svg-files-when-urls-are-prefixed-with", "title": "Electron can&#39;t load external SVG files when URLs are prefixed with &quot;//&quot;", "body": "<p>I have a component which loads SVG files from a remote source using URLs like this:</p>\n\n<pre><code>&lt;img src=\"//cdn.image-hosting.com/sample.svg\" /&gt;\n</code></pre>\n\n<p>As you can see, the URL starts with <code>//</code>. In development, everything works as expected, however, when I build the application and run the production version, Electron tries to load those URLs from the disk (<code>file://</code>) instead of requesting them from the remote server.</p>\n\n<p>I'm using Webpack, but that does not change the URL; it is still the same in production as in development.</p>\n\n<p>This is my configuration for the production build:</p>\n\n<pre><code>// Webpack uses `publicPath` to determine where the app is being served from.\n// It requires a trailing slash, or the file assets will get an incorrect path.\n// const publicPath = paths.servedPath;\nconst publicPath = './';\n// Some apps do not use client-side routing with pushState.\n// For these, \"homepage\" can be set to \".\" to enable relative asset paths.\nconst shouldUseRelativeAssetPaths = true // publicPath === './';\n// Source maps are resource heavy and can cause out of memory issue for large source files.\nconst shouldUseSourceMap = process.env.GENERATE_SOURCEMAP !== 'false';\n// Some apps do not need the benefits of saving a web request, so not inlining the chunk\n// makes for a smoother build process.\nconst shouldInlineRuntimeChunk = process.env.INLINE_RUNTIME_CHUNK !== 'false';\n// `publicUrl` is just like `publicPath`, but we will provide it to our app\n// as %PUBLIC_URL% in `index.html` and `process.env.PUBLIC_URL` in JavaScript.\n// Omit trailing slash as %PUBLIC_URL%/xyz looks better than %PUBLIC_URL%xyz.\nconst publicUrl = publicPath.slice(0, -1); // or '/' works\n// Get environment variables to inject into our app.\nconst env = getClientEnvironment(publicUrl);\n\n// Assert this just to be safe.\n// Development builds of React are slow and not intended for production.\nif (env.stringified['process.env'].NODE_ENV !== '\"production\"') {\n  throw new Error('Production builds must have NODE_ENV=production.');\n}\n\n// Check if TypeScript is setup\nconst useTypeScript = fs.existsSync(paths.appTsConfig);\n\n// style files regexes\nconst cssRegex = /\\.css$/;\nconst cssModuleRegex = /\\.module\\.css$/;\nconst sassRegex = /\\.(scss|sass)$/;\nconst sassModuleRegex = /\\.module\\.(scss|sass)$/;\n\n// common function to get style loaders\nconst getStyleLoaders = (cssOptions, preProcessor) =&gt; {\n  const loaders = [\n    {\n      loader: MiniCssExtractPlugin.loader,\n      options: Object.assign(\n        {},\n        shouldUseRelativeAssetPaths ? { publicPath: '../../' } : undefined\n      ),\n    },\n    {\n      loader: require.resolve('css-loader'),\n      options: cssOptions,\n    },\n    {\n      // Options for PostCSS as we reference these options twice\n      // Adds vendor prefixing based on your specified browser support in\n      // package.json\n      loader: require.resolve('postcss-loader'),\n      options: {\n        // Necessary for external CSS imports to work\n        // https://github.com/facebook/create-react-app/issues/2677\n        ident: 'postcss',\n        plugins: () =&gt; [\n          require('postcss-flexbugs-fixes'),\n          require('postcss-preset-env')({\n            autoprefixer: {\n              browsers: [\n                '&gt;1%',\n                'last 4 versions',\n                'Firefox ESR',\n                'not ie &lt; 9', // React doesn't support IE8 anyway\n              ],\n              flexbox: 'no-2009',\n            },\n            stage: 3,\n          }),\n        ],\n        sourceMap: shouldUseSourceMap,\n      },\n    },\n  ];\n  if (preProcessor) {\n    loaders.push({\n      loader: require.resolve(preProcessor),\n      options: {\n        sourceMap: shouldUseSourceMap,\n      },\n    });\n  }\n  return loaders;\n};\n\n// This is the production configuration.\n// It compiles slowly and is focused on producing a fast and minimal bundle.\n// The development configuration is different and lives in a separate file.\nmodule.exports = {\n  mode: 'production',\n  // Don't attempt to continue if there are any errors.\n  bail: true,\n  // We generate sourcemaps in production. This is slow but gives good results.\n  // You can exclude the *.map files from the build during deployment.\n  devtool: shouldUseSourceMap ? 'source-map' : false,\n  // In production, we only want to load the app code.\n  entry: [paths.appIndexJs],\n  output: {\n    // The build folder.\n    path: paths.appBuild,\n    // Generated JS file names (with nested folders).\n    // There will be one main bundle, and one file per asynchronous chunk.\n    // We don't currently advertise code splitting but Webpack supports it.\n    filename: 'static/js/[name].[chunkhash:8].js',\n    chunkFilename: 'static/js/[name].[chunkhash:8].chunk.js',\n    // We inferred the \"public path\" (such as / or /my-project) from homepage.\n    publicPath: publicPath,\n    // Point sourcemap entries to original disk location (format as URL on Windows)\n    devtoolModuleFilenameTemplate: info =&gt;\n      path\n        .relative(paths.appSrc, info.absoluteResourcePath)\n        .replace(/\\\\/g, '/'),\n  },\n  optimization: {\n    minimizer: [\n      new TerserPlugin({\n        terserOptions: {\n          parse: {\n            // we want terser to parse ecma 8 code. However, we don't want it\n            // to apply any minfication steps that turns valid ecma 5 code\n            // into invalid ecma 5 code. This is why the 'compress' and 'output'\n            // sections only apply transformations that are ecma 5 safe\n            // https://github.com/facebook/create-react-app/pull/4234\n            ecma: 8,\n          },\n          compress: {\n            ecma: 5,\n            warnings: false,\n            // Disabled because of an issue with Uglify breaking seemingly valid code:\n            // https://github.com/facebook/create-react-app/issues/2376\n            // Pending further investigation:\n            // https://github.com/mishoo/UglifyJS2/issues/2011\n            comparisons: false,\n            // Disabled because of an issue with Terser breaking valid code:\n            // https://github.com/facebook/create-react-app/issues/5250\n            // Pending futher investigation:\n            // https://github.com/terser-js/terser/issues/120\n            inline: 2,\n          },\n          mangle: {\n            safari10: true,\n          },\n          output: {\n            ecma: 5,\n            comments: false,\n            // Turned on because emoji and regex is not minified properly using default\n            // https://github.com/facebook/create-react-app/issues/2488\n            ascii_only: true,\n          },\n        },\n        // Use multi-process parallel running to improve the build speed\n        // Default number of concurrent runs: os.cpus().length - 1\n        parallel: true,\n        // Enable file caching\n        cache: true,\n        sourceMap: shouldUseSourceMap,\n      }),\n      new OptimizeCSSAssetsPlugin({\n        cssProcessorOptions: {\n          parser: safePostCssParser,\n          map: shouldUseSourceMap\n            ? {\n              // `inline: false` forces the sourcemap to be output into a\n              // separate file\n              inline: false,\n              // `annotation: true` appends the sourceMappingURL to the end of\n              // the css file, helping the browser find the sourcemap\n              annotation: true,\n            }\n            : false,\n        },\n      }),\n    ],\n    // Automatically split vendor and commons\n    // https://twitter.com/wSokra/status/969633336732905474\n    // https://medium.com/webpack/webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization-be739a861366\n    splitChunks: {\n      chunks: 'all',\n      name: false,\n    },\n    // Keep the runtime chunk seperated to enable long term caching\n    // https://twitter.com/wSokra/status/969679223278505985\n    runtimeChunk: true,\n  },\n  resolve: {\n    // This allows you to set a fallback for where Webpack should look for modules.\n    // We placed these paths second because we want `node_modules` to \"win\"\n    // if there are any conflicts. This matches Node resolution mechanism.\n    // https://github.com/facebook/create-react-app/issues/253\n    modules: ['node_modules'].concat(\n      // It is guaranteed to exist because we tweak it in `env.js`\n      process.env.NODE_PATH.split(path.delimiter).filter(Boolean)\n    ),\n    // These are the reasonable defaults supported by the Node ecosystem.\n    // We also include JSX as a common component filename extension to support\n    // some tools, although we do not recommend using it, see:\n    // https://github.com/facebook/create-react-app/issues/290\n    // `web` extension prefixes have been added for better support\n    // for React Native Web.\n    // extensions: paths.moduleFileExtensions\n    //   .map(ext =&gt; `.${ext}`)\n    //   .filter(ext =&gt; useTypeScript || !ext.includes('ts')),\n    extensions: [\n      '.mjs',\n      '.web.ts',\n      '.ts',\n      '.web.tsx',\n      '.tsx',\n      '.web.js',\n      '.js',\n      '.json',\n      '.web.jsx',\n      '.jsx',\n      '.scss'\n    ],\n    alias: {\n      // Support React Native Web\n      // https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/\n      'react-native': 'react-native-web',\n    },\n    plugins: [\n      // Adds support for installing with Plug'n'Play, leading to faster installs and adding\n      // guards against forgotten dependencies and such.\n      PnpWebpackPlugin,\n      // Prevents users from importing files from outside of src/ (or node_modules/).\n      // This often causes confusion because we only process files within src/ with babel.\n      // To fix this, we prevent you from importing files out of src/ -- if you'd like to,\n      // please link the files into your node_modules/ and let module-resolution kick in.\n      // Make sure your source files are compiled, as they will not be processed in any way.\n      new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]),\n    ],\n  },\n  resolveLoader: {\n    plugins: [\n      // Also related to Plug'n'Play, but this time it tells Webpack to load its loaders\n      // from the current package.\n      PnpWebpackPlugin.moduleLoader(module),\n    ],\n  },\n  module: {\n    strictExportPresence: true,\n    rules: [\n      // Disable require.ensure as it's not a standard language feature.\n      { parser: { requireEnsure: false } },\n\n      // First, run the linter.\n      // It's important to do this before Babel processes the JS.\n      {\n        test: /\\.(js|mjs|jsx)$/,\n        enforce: 'pre',\n        use: [\n          {\n            options: {\n              formatter: require.resolve('react-dev-utils/eslintFormatter'),\n              eslintPath: require.resolve('eslint'),\n\n            },\n            loader: require.resolve('eslint-loader'),\n          },\n        ],\n        include: paths.appSrc,\n      },\n      {\n        // \"oneOf\" will traverse all following loaders until one will\n        // match the requirements. When no loader matches it will fall\n        // back to the \"file\" loader at the end of the loader list.\n        oneOf: [\n          // \"url\" loader works just like \"file\" loader but it also embeds\n          // assets smaller than specified size as data URLs to avoid requests.\n          {\n            test: [/\\.bmp$/, /\\.svg$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/],\n            loader: require.resolve('url-loader'),\n            options: {\n              limit: 10000,\n              name: 'static/media/[name].[hash:8].[ext]',\n            },\n          },\n          // Process application JS with Babel.\n          // The preset includes JSX, Flow, TypeScript and some ESnext features.\n          {\n            test: /\\.(js|mjs|jsx|ts|tsx)$/,\n            include: paths.appSrc,\n\n            loader: require.resolve('babel-loader'),\n            options: {\n              customize: require.resolve(\n                'babel-preset-react-app/webpack-overrides'\n              ),\n\n              plugins: [\n                [\n                  require.resolve('babel-plugin-named-asset-import'),\n                  {\n                    loaderMap: {\n                      svg: {\n                        ReactComponent: '@svgr/webpack?-prettier,-svgo![path]',\n                      },\n                    },\n                  },\n                ],\n              ],\n              cacheDirectory: true,\n              // Save disk space when time isn't as important\n              cacheCompression: true,\n              compact: true,\n            },\n          },\n          // Process any JS outside of the app with Babel.\n          // Unlike the application JS, we only compile the standard ES features.\n          {\n            test: /\\.(js|mjs)$/,\n            exclude: /@babel(?:\\/|\\\\{1,2})runtime/,\n            loader: require.resolve('babel-loader'),\n            options: {\n              babelrc: false,\n              configFile: false,\n              compact: false,\n              presets: [\n                [\n                  require.resolve('babel-preset-react-app/dependencies'),\n                  { helpers: true },\n                ],\n              ],\n              cacheDirectory: true,\n              // Save disk space when time isn't as important\n              cacheCompression: true,\n\n              // If an error happens in a package, it's possible to be\n              // because it was compiled. Thus, we don't want the browser\n              // debugger to show the original code. Instead, the code\n              // being evaluated would be much more helpful.\n              sourceMaps: false,\n            },\n          },\n          // \"postcss\" loader applies autoprefixer to our CSS.\n          // \"css\" loader resolves paths in CSS and adds assets as dependencies.\n          // `MiniCSSExtractPlugin` extracts styles into CSS\n          // files. If you use code splitting, async bundles will have their own separate CSS chunk file.\n          // By default we support CSS Modules with the extension .module.css\n          {\n            test: cssRegex,\n            // include: APP_DIR,\n            exclude: cssModuleRegex,\n            loader: getStyleLoaders({\n              importLoaders: 1,\n              sourceMap: shouldUseSourceMap,\n              camelCase: \"only\",\n              localIdentName: '[hash:base64:10]'\n            }),\n            // Don't consider CSS imports dead code even if the\n            // containing package claims to have no side effects.\n            // Remove this when webpack adds a warning or an error for this.\n            // See https://github.com/webpack/webpack/issues/6571\n            sideEffects: true,\n          },\n          {\n            test: cssRegex,\n            include: MONACO_DIR,\n            use: ['style-loader', 'css-loader']\n            // Note: this won't work without `new ExtractTextPlugin()` in `plugins`.\n          },\n          // Adds support for CSS Modules (https://github.com/css-modules/css-modules)\n          // using the extension .module.css\n          {\n            test: cssModuleRegex,\n            loader: getStyleLoaders({\n              importLoaders: 1,\n              sourceMap: shouldUseSourceMap,\n              modules: true,\n              camelCase: \"only\",\n              localIdentName: '[hash:base64:10]'\n            }),\n          },\n          // Opt-in support for SASS. The logic here is somewhat similar\n          // as in the CSS routine, except that \"sass-loader\" runs first\n          // to compile SASS files into CSS.\n          // By default we support SASS Modules with the\n          // extensions .module.scss or .module.sass\n          {\n            test: sassRegex,\n            exclude: sassModuleRegex,\n            loader: getStyleLoaders(\n              {\n                modules: true,\n                sourceMap: shouldUseSourceMap,\n                camelCase: \"only\",\n                localIdentName: '[hash:base64:10]'\n              },\n              'sass-loader'\n            ),\n            // Don't consider CSS imports dead code even if the\n            // containing package claims to have no side effects.\n            // Remove this when webpack adds a warning or an error for this.\n            // See https://github.com/webpack/webpack/issues/6571\n            sideEffects: true,\n          },\n          // Adds support for CSS Modules, but using SASS\n          // using the extension .module.scss or .module.sass\n          {\n            test: sassModuleRegex,\n            loader: getStyleLoaders(\n              {\n                importLoaders: 2,\n                sourceMap: shouldUseSourceMap,\n                modules: true,\n                camelCase: \"only\",\n                localIdentName: '[hash:base64:10]'\n              },\n              'sass-loader'\n            ),\n          },\n          // \"file\" loader makes sure assets end up in the `build` folder.\n          // When you `import` an asset, you get its filename.\n          // This loader doesn't use a \"test\" so it will catch all modules\n          // that fall through the other loaders.\n          {\n            loader: require.resolve('file-loader'),\n            // Exclude `js` files to keep \"css\" loader working as it injects\n            // it's runtime that would otherwise be processed through \"file\" loader.\n            // Also exclude `html` and `json` extensions so they get processed\n            // by webpacks internal loaders.\n            exclude: [/\\.(js|mjs|jsx|ts|tsx)$/, /\\.html$/, /\\.json$/],\n            options: {\n              name: 'static/media/[name].[hash:8].[ext]',\n            },\n          },\n          // ** STOP ** Are you adding a new loader?\n          // Make sure to add the new loader(s) before the \"file\" loader.\n        ],\n      },\n    ],\n  },\n  plugins: [\n    // Generates an `index.html` file with the &lt;script&gt; injected.\n    new HtmlWebpackPlugin({\n      inject: true,\n      template: paths.appHtml,\n      minify: {\n        removeComments: true,\n        collapseWhitespace: true,\n        removeRedundantAttributes: true,\n        useShortDoctype: true,\n        removeEmptyAttributes: true,\n        removeStyleLinkTypeAttributes: true,\n        keepClosingSlash: true,\n        minifyJS: true,\n        minifyCSS: true,\n        minifyURLs: true,\n      },\n    }),\n    // Inlines the webpack runtime script. This script is too small to warrant\n    // a network request.\n    shouldInlineRuntimeChunk &amp;&amp;\n    new InlineChunkHtmlPlugin(HtmlWebpackPlugin, [/runtime~.+[.]js/]),\n    // Makes some environment variables available in index.html.\n    // The public URL is available as %PUBLIC_URL% in index.html, e.g.:\n    // &lt;link rel=\"shortcut icon\" href=\"%PUBLIC_URL%/favicon.ico\"&gt;\n    // In production, it will be an empty string unless you specify \"homepage\"\n    // in `package.json`, in which case it will be the pathname of that URL.\n    new InterpolateHtmlPlugin(HtmlWebpackPlugin, env.raw),\n    // This gives some necessary context to module not found errors, such as\n    // the requesting resource.\n    new ModuleNotFoundPlugin(paths.appPath),\n    // Makes some environment variables available to the JS code, for example:\n    // if (process.env.NODE_ENV === 'production') { ... }. See `./env.js`.\n    // It is absolutely essential that NODE_ENV was set to production here.\n    // Otherwise React will be compiled in the very slow development mode.\n    new webpack.DefinePlugin(env.stringified),\n    new MiniCssExtractPlugin({\n      // Options similar to the same options in webpackOptions.output\n      // both options are optional\n      filename: 'static/css/[contenthash:24].css',\n      chunkFilename: 'static/css/[contenthash:24].chunk.css',\n    }),\n    // Generate a manifest file which contains a mapping of all asset filenames\n    // to their corresponding output file so that tools can pick it up without\n    // having to parse `index.html`.\n    new ManifestPlugin({\n      fileName: 'asset-manifest.json',\n      publicPath: publicPath,\n    }),\n    // Moment.js is an extremely popular library that bundles large locale files\n    // by default due to how Webpack interprets its code. This is a practical\n    // solution that requires the user to opt into importing specific locales.\n    // https://github.com/jmblog/how-to-optimize-momentjs-with-webpack\n    // You can remove this if you don't use Moment.js:\n    new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n    // Generate a service worker script that will precache, and keep up to date,\n    // the HTML &amp; assets that are part of the Webpack build.\n    new WorkboxWebpackPlugin.GenerateSW({\n      clientsClaim: true,\n      exclude: [/\\.map$/, /asset-manifest\\.json$/],\n      importWorkboxFrom: 'cdn',\n      navigateFallback: publicUrl + '/index.html',\n      navigateFallbackBlacklist: [\n        // Exclude URLs starting with /_, as they're likely an API call\n        new RegExp('^/_'),\n        // Exclude URLs containing a dot, as they're likely a resource in\n        // public/ and not a SPA route\n        new RegExp('/[^/]+\\\\.[^/]+$'),\n      ],\n    }),\n    new SWPrecacheWebpackPlugin({\n      // By default, a cache-busting query parameter is appended to requests\n      // used to populate the caches, to ensure the responses are fresh.\n      // If a URL is already hashed by Webpack, then there is no concern\n      // about it being stale, and the cache-busting can be skipped.\n      dontCacheBustUrlsMatching: /\\.\\w{8}\\./,\n      filename: 'service-worker.js',\n      logger(message) {\n        if (message.indexOf('Total precache size is') === 0) {\n          // This message occurs for every build and is a bit too noisy.\n          return;\n        }\n        if (message.indexOf('Skipping static resource') === 0) {\n          // This message obscures real errors so we ignore it.\n          // https://github.com/facebookincubator/create-react-app/issues/2612\n          return;\n        }\n        console.log(message);\n      },\n      minify: true,\n      // For unknown URLs, fallback to the index page\n      navigateFallback: publicUrl + '/index.html',\n      // Ignores URLs starting from /__ (useful for Firebase):\n      // https://github.com/facebookincubator/create-react-app/issues/2237#issuecomment-302693219\n      navigateFallbackWhitelist: [/^(?!\\/__).*/],\n      // Don't precache sourcemaps (they're large) and build asset manifest:\n      staticFileGlobsIgnorePatterns: [/\\.map$/, /asset-manifest\\.json$/],\n    }),\n    // TypeScript type checking\n    fs.existsSync(paths.appTsConfig) &amp;&amp;\n    new ForkTsCheckerWebpackPlugin({\n      typescript: resolve.sync('typescript', {\n        basedir: paths.appNodeModules,\n      }),\n      async: false,\n      checkSyntacticErrors: true,\n      tsconfig: paths.appTsConfig,\n      compilerOptions: {\n        module: 'es6',\n        moduleResolution: 'node',\n        resolveJsonModule: true,\n        // isolatedModules: true,\n        // noEmit: true,\n        jsx: 'react',\n      },\n      reportFiles: [\n        '**',\n        '!**/*.json',\n        '!**/__tests__/**',\n        '!**/?(*.)(spec|test).*',\n        '!src/setupProxy.js',\n        '!src/setupTests.*',\n      ],\n      watch: paths.appSrc,\n      silent: true,\n      formatter: typescriptFormatter,\n    }),\n  ].filter(Boolean),\n  // Some libraries import Node modules but don't use them in the browser.\n  // Tell Webpack to provide empty mocks for them so importing them works.\n  node: {\n    dgram: 'empty',\n    fs: 'empty',\n    net: 'empty',\n    tls: 'empty',\n    child_process: 'empty',\n  },\n  // Turn off performance processing because we utilize\n  // our own hints via the FileSizeReporter\n  // performance: false,\n  // Intructs webpack to target a specific environment.\n  // https://webpack.js.org/configuration/target/\n  target: 'electron-renderer',\n};\n</code></pre>\n\n<p>I have done some research and came across <a href=\"https://discuss.atom.io/t/in-script-tag-is-interpreted-as-file/19232\" rel=\"nofollow noreferrer\">this thread</a>, however, I don't think that there is any solution given which is applicable to my problem.</p>\n\n<p>How can I load those remote files from my production build?</p>\n"}, {"tags": ["angular", "typescript", "httpserver"], "comments": [{"owner": {"reputation": 1072, "user_id": 8698374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9213b19b9d9bbb95f60f5a1d277dcc52?s=128&d=identicon&r=PG&f=1", "display_name": "Nabel", "link": "https://stackoverflow.com/users/8698374/nabel"}, "edited": false, "score": 0, "creation_date": 1565744243, "post_id": 57486903, "comment_id": 101444689, "body": "Hard to tell from what you have here. What is in your environment files."}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "reply_to_user": {"reputation": 1072, "user_id": 8698374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9213b19b9d9bbb95f60f5a1d277dcc52?s=128&d=identicon&r=PG&f=1", "display_name": "Nabel", "link": "https://stackoverflow.com/users/8698374/nabel"}, "edited": false, "score": 0, "creation_date": 1565745743, "post_id": 57486903, "comment_id": 101444948, "body": "Just my Firebase Keys"}, {"owner": {"reputation": 1072, "user_id": 8698374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9213b19b9d9bbb95f60f5a1d277dcc52?s=128&d=identicon&r=PG&f=1", "display_name": "Nabel", "link": "https://stackoverflow.com/users/8698374/nabel"}, "edited": false, "score": 0, "creation_date": 1565747840, "post_id": 57486903, "comment_id": 101445330, "body": "My guess would be something with the service worker. I believe there was a bug with http-server and service workers. I used a different package npm serve. Then you can use npm build -prod, cd into dist, then serve"}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "reply_to_user": {"reputation": 1072, "user_id": 8698374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9213b19b9d9bbb95f60f5a1d277dcc52?s=128&d=identicon&r=PG&f=1", "display_name": "Nabel", "link": "https://stackoverflow.com/users/8698374/nabel"}, "edited": false, "score": 0, "creation_date": 1565750390, "post_id": 57486903, "comment_id": 101445759, "body": "what command did you use to serve?  Also, were you in dist/ or dist/&lt;project&gt; ?"}, {"owner": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1565757343, "post_id": 57486903, "comment_id": 101446933, "body": "Maybe your base route is wrong in index.html? Also do you navigate with the angular router from your root or typing the URL directly in the browser?"}, {"owner": {"reputation": 1072, "user_id": 8698374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9213b19b9d9bbb95f60f5a1d277dcc52?s=128&d=identicon&r=PG&f=1", "display_name": "Nabel", "link": "https://stackoverflow.com/users/8698374/nabel"}, "edited": false, "score": 0, "creation_date": 1565783691, "post_id": 57486903, "comment_id": 101458021, "body": "<a href=\"https://www.npmjs.com/package/serve\" rel=\"nofollow noreferrer\">npmjs.com/package/serve</a> was the package I use to  to locally serve a productive build with service workers. You install it globally so you use the serve command in the /dist folder"}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "reply_to_user": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1565793569, "post_id": 57486903, "comment_id": 101463509, "body": "@Fussel I navigate with the angular router"}, {"owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "reply_to_user": {"reputation": 1348, "user_id": 9521481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd8f45e4a84e6e384d56e2b7fac20916?s=128&d=identicon&r=PG&f=1", "display_name": "Fussel", "link": "https://stackoverflow.com/users/9521481/fussel"}, "edited": false, "score": 0, "creation_date": 1565794361, "post_id": 57486903, "comment_id": 101463972, "body": "@Fussel I used &quot;/&quot; as my base href"}], "answers": [{"tags": [], "owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1565916941, "creation_date": 1565916941, "answer_id": 57517771, "question_id": 57486903, "link": "https://stackoverflow.com/questions/57486903/navigating-to-angular-component-leads-to-127-0-0-1-error-not-found/57517771#57517771", "title": "Navigating to Angular Component leads to 127.0.0.1 error not found", "body": "<p>Try adding the <code>useHash</code> option to your router.</p>\n\n<p>So instead of:</p>\n\n<pre><code>RouterModule.forRoot(appRoutes),\n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>RouterModule.forRoot(appRoutes, {useHash: true})],\n</code></pre>\n\n<p>If that solves your problem, here are <a href=\"https://angular.io/guide/router#hashlocationstrategy\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 11625023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2580b1b0b7c204faf752c929c957bef?s=128&d=identicon&r=PG&f=1", "display_name": "colleen", "link": "https://stackoverflow.com/users/11625023/colleen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565916941, "creation_date": 1565743850, "question_id": 57486903, "link": "https://stackoverflow.com/questions/57486903/navigating-to-angular-component-leads-to-127-0-0-1-error-not-found", "title": "Navigating to Angular Component leads to 127.0.0.1 error not found", "body": "<p>My Angular Application was working perfectly when I built using ng build --prod and served with http-server -o.  However, something happened and now I get 404 error everytime my app should be loading a new component</p>\n\n<p>I've tried restarting my computer, rebuilding, reverting to git commits that have worked in the past, and updating my service worker.  Nothing has worked.</p>\n\n<pre><code>const appRoutes: Routes=[\n  {path: '', component: HomeComponent},\n  {path: 'home', component: HomeComponent},\n  {path: 'whoconebioassayphase1', component: WhoConeBioassayPhase1Component},\n  {path: 'editwhoconebioassayphase1', component: Editwhoconebioassayphase1Component},\n  {path: 'exphutintro', component: ExpHutIntroComponent},\n  {path: 'exphut', component: ExpHutComponent},\n  {path: 'editexphutintro', component: EditexphutintroComponent}\n]\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    WhoConeBioassayPhase1Component,\n    NavbarComponent,\n    HomeComponent,\n    Editwhoconebioassayphase1Component,\n    ExpHutIntroComponent,\n    ExpHutComponent,\n    EditexphutintroComponent,\n  ],\n  imports: [\n    BrowserModule,\n    RouterModule.forRoot(appRoutes),\n    HttpClientModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production }),\n    FormsModule,\n    ReactiveFormsModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFirestoreModule\n\n  ],\n  providers: [DataService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "validation"], "answers": [{"comments": [{"owner": {"reputation": 1318, "user_id": 3177186, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/374675543dcada464668ba2bd9539adf?s=128&d=identicon&r=PG&f=1", "display_name": "not_a_generic_user", "link": "https://stackoverflow.com/users/3177186/not-a-generic-user"}, "edited": false, "score": 0, "creation_date": 1565784202, "post_id": 57486860, "comment_id": 101458282, "body": "Thanks! Not sure why the guide said subscribe -- observable does make more sense."}, {"owner": {"reputation": 1318, "user_id": 3177186, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/374675543dcada464668ba2bd9539adf?s=128&d=identicon&r=PG&f=1", "display_name": "not_a_generic_user", "link": "https://stackoverflow.com/users/3177186/not-a-generic-user"}, "edited": false, "score": 0, "creation_date": 1565787762, "post_id": 57486860, "comment_id": 101460144, "body": "new problem: now that getUserDetails is an observable, it&#39;s returning an Observable and not the data returned from the getUserDetails function. How do I access that data?"}, {"owner": {"reputation": 1318, "user_id": 3177186, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/374675543dcada464668ba2bd9539adf?s=128&d=identicon&r=PG&f=1", "display_name": "not_a_generic_user", "link": "https://stackoverflow.com/users/3177186/not-a-generic-user"}, "edited": false, "score": 1, "creation_date": 1565824812, "post_id": 57486860, "comment_id": 101475108, "body": "Nevermind. I asked a second question and got the answer (observable in the service, subscribe in the calling component)"}, {"owner": {"reputation": 101, "user_id": 948667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de537ea5a41a8d36d1a39028c665da89?s=128&d=identicon&r=PG", "display_name": "L Johnson", "link": "https://stackoverflow.com/users/948667/l-johnson"}, "reply_to_user": {"reputation": 1318, "user_id": 3177186, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/374675543dcada464668ba2bd9539adf?s=128&d=identicon&r=PG&f=1", "display_name": "not_a_generic_user", "link": "https://stackoverflow.com/users/3177186/not-a-generic-user"}, "edited": false, "score": 0, "creation_date": 1565874448, "post_id": 57486860, "comment_id": 101488048, "body": "My apologies, I didn&#39;t see your comment until this morning.I&#39;m glad you figured it out."}], "tags": [], "owner": {"reputation": 101, "user_id": 948667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de537ea5a41a8d36d1a39028c665da89?s=128&d=identicon&r=PG", "display_name": "L Johnson", "link": "https://stackoverflow.com/users/948667/l-johnson"}, "is_accepted": true, "score": 2, "last_activity_date": 1565743224, "creation_date": 1565743224, "answer_id": 57486860, "question_id": 57486807, "link": "https://stackoverflow.com/questions/57486807/how-do-i-act-on-server-side-validation-errors-returned-from-an-http-call-in-angu/57486860#57486860", "title": "How do I act on server-side validation errors returned from an http call in Angular?", "body": "<p>I think that getUserDetail should be an Observable.</p>\n\n<pre><code>export class AuthService {\n\nconstructor(private http: HttpClient) { }\n\ngetUserDetails(email, password): Observable&lt;any&gt; {\n// post to API server - return user info if valid\n\n    return this.http.post('http://localhost/api/listee/task_login.php', {\n        email,\n        password\n        })\n       // .subscribe(data =&gt; {\n       //      console.log(data, 'returned from login attempt')\n       //      var theData: any;\n       //      theData = data;\n       //      if (theData.post_err || theData.email_err)\n       //      console.log('ak;dsfj');\n       //  })\n    }\n}\n</code></pre>\n\n<p>In your component, you could subscribe to this method and read the result.</p>\n\n<pre><code>someMethod(): void {\n    this.authService.getUserDetails(email,password).subscribe(result =&gt; { \n          //Do something with the result that you pass back in the component. \n\n    }\n}\n</code></pre>\n\n<p>Instead of subscribing in the service, just let the component handle the subscription and whatever other logic needs to run.  The service should do one thing, getUserDetails, it shouldn't handle passing and manipulating of errors.</p>\n"}], "owner": {"reputation": 1318, "user_id": 3177186, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/374675543dcada464668ba2bd9539adf?s=128&d=identicon&r=PG&f=1", "display_name": "not_a_generic_user", "link": "https://stackoverflow.com/users/3177186/not-a-generic-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 57486860, "answer_count": 1, "score": 0, "last_activity_date": 1565743224, "creation_date": 1565742642, "question_id": 57486807, "link": "https://stackoverflow.com/questions/57486807/how-do-i-act-on-server-side-validation-errors-returned-from-an-http-call-in-angu", "title": "How do I act on server-side validation errors returned from an http call in Angular?", "body": "<p>By following various guides, I've developed a service that I can call to send login details to the backend for validation and action. I'm able to return decent error codes based on the input, but then what? </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nexport class AuthService {\n\n    constructor(private http: HttpClient) { }\n\n    getUserDetails(email, password){\n        // post to API server - return user info if valid\n\n        return this.http.post('http://localhost/api/listee/task_login.php', {\n            email,\n            password\n        }).subscribe(data =&gt; {\n            console.log(data, 'returned from login attempt')\n            var theData: any;\n            theData = data;\n            if (theData.post_err || theData.email_err)\n                console.log('ak;dsfj');\n        })\n    }\n}\n</code></pre>\n\n<p>The data is returned to a function of a class... how can I act on the form elements from inside that scope? I need to somehow trigger error codes in Angular on the correct form elements. How can i access them? Do I need to just manually select document.getElementByID or is there a more sophisticated/correct way?</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code", "electron", "webstorm"], "comments": [{"owner": {"reputation": 99, "user_id": 9139929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eabc0fc0e4fa88337002e88f876aa7c?s=128&d=identicon&r=PG&f=1", "display_name": "L. Berger", "link": "https://stackoverflow.com/users/9139929/l-berger"}, "edited": false, "score": 0, "creation_date": 1585695154, "post_id": 57486610, "comment_id": 107852216, "body": "Running into the same issue, did you find a fix?"}], "owner": {"reputation": 21, "user_id": 6389669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c0bde91216838f8f42549419fea04aa?s=128&d=identicon&r=PG&f=1", "display_name": "City33", "link": "https://stackoverflow.com/users/6389669/city33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "closed_date": 1565848578, "answer_count": 0, "score": 1, "last_activity_date": 1565778911, "creation_date": 1565740536, "last_edit_date": 1565778911, "question_id": 57486610, "link": "https://stackoverflow.com/questions/57486610/how-can-i-debug-typescript-angular-2-from-electron-window-app", "closed_reason": "Duplicate", "title": "How can I debug TypeScript (Angular 2+) from Electron window app?", "body": "<p>I would like to debug TypeScript code (Angular 2+) from Electron js window inside VS code or WebStorm.</p>\n\n<p>In WebStorm I tried \"Attach to Node.js/Chrome\", I can see debug log inside WebStorm console but breakpoints placed into TypeScript don't work.</p>\n\n<p>I'm able to debug Electron js main process (Electron main.js is compiled from main.ts file, so the debug of TypeScript works) but I don't understand how to debug Angular's TypeScript code from Wlectron window.</p>\n\n<p>I know that I could run my Angular app into the browser and debug it from there but the project is based on Electron operations, so the app from browser cannot work correctly.</p>\n\n<p>Electron app loads url of Angular Live Development Server\n<code>win.loadURL('http://localhost:4200');</code></p>\n\n<hr>\n\n<p><strong>EDIT:</strong>\nI started Angular dev server on <code>localhost:4200</code>, then I set <code>--remote-debugging-port=9222</code> for Electron app and finally Chrome is attached to port <code>9222</code>.</p>\n\n<p>I can see the debug log of Chrome in VSCode and WebStorm but breakpoints placed in TypeScript not working. <code>\"sourceMap\": true</code> is placed in tsconfig.json.</p>\n\n<p>In WebStorm I can see the following error that VSCode doesn't show me:</p>\n\n<pre><code>inspector.htmlAccess to XMLHttpRequest at 'http://localhost:4200/scripts.js.map' from origin 'http://localhost:9222' has been blocked by CORS policy: Request header field x-ijt is not allowed by Access-Control-Allow-Headers in preflight response.\nhttp://\u2026devtools/shell.js:8GET http://localhost:4200/scripts.js.map net::ERR_FAILED\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 1, "creation_date": 1565736898, "post_id": 57486076, "comment_id": 101443403, "body": "Why do you want to remove this?"}, {"owner": {"reputation": 31, "user_id": 4495413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25b3e6d2b5dbe48f13e56a0602a4443?s=128&d=identicon&r=PG&f=1", "display_name": "Robson Oliveira", "link": "https://stackoverflow.com/users/4495413/robson-oliveira"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1565783574, "post_id": 57486076, "comment_id": 101457969, "body": "I need to embed the angular application in another ERP application. In previous version the angular CLI did not insert the &quot;defer&quot; in index.html and works fine."}, {"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1565821084, "post_id": 57486076, "comment_id": 101474397, "body": "What happens when you try to embed the application, do you get any errors? What makes you think <code>defer</code> is the issue?"}, {"owner": {"reputation": 31, "user_id": 4495413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25b3e6d2b5dbe48f13e56a0602a4443?s=128&d=identicon&r=PG&f=1", "display_name": "Robson Oliveira", "link": "https://stackoverflow.com/users/4495413/robson-oliveira"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 1, "creation_date": 1565841068, "post_id": 57486076, "comment_id": 101477671, "body": "Any error in console or network. Only not work."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 5466255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ABWK-kut9OM/AAAAAAAAAAI/AAAAAAAABs0/Ti_4EDUsyWk/photo.jpg?sz=128", "display_name": "Yasura Dissanayaka", "link": "https://stackoverflow.com/users/5466255/yasura-dissanayaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1572237316, "creation_date": 1572237316, "answer_id": 58585848, "question_id": 57486076, "link": "https://stackoverflow.com/questions/57486076/how-disable-defer-in-angular-build/58585848#58585848", "title": "How disable &quot;defer&quot; in angular build?", "body": "<p>i have same issue - angular 8 build also come with defer attribute with the script tag , issue is that is not compatible with html 5 integration on Theamleaf resolver </p>\n"}], "owner": {"reputation": 31, "user_id": 4495413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b25b3e6d2b5dbe48f13e56a0602a4443?s=128&d=identicon&r=PG&f=1", "display_name": "Robson Oliveira", "link": "https://stackoverflow.com/users/4495413/robson-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1578729502, "creation_date": 1565735565, "last_edit_date": 1565736820, "question_id": 57486076, "link": "https://stackoverflow.com/questions/57486076/how-disable-defer-in-angular-build", "title": "How disable &quot;defer&quot; in angular build?", "body": "<p>When i build my angular project, the compiler put the \"defer\" attribute in \"index.html\" but i need to disable this. Is it possible? </p>\n\n<p>Im using angular 8.0.0.</p>\n\n<pre><code>&lt;pre&gt;\n    &lt;script src=\"runtime.js\" defer&gt;\n&lt;/pre&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565731588, "post_id": 57485519, "comment_id": 101442119, "body": "change your <code>&quot;module&quot;: &quot;commonjs&quot;</code> to something different such as <code>&quot;module&quot;: &quot;es2016&quot;</code>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565731653, "post_id": 57485519, "comment_id": 101442139, "body": "Actually now that I think about it, you might have to actually have to use <a href=\"https://requirejs.org/\" rel=\"nofollow noreferrer\"><code>require.js</code></a> instead of changing the module"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565731946, "post_id": 57485519, "comment_id": 101442228, "body": "Another way is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules\" rel=\"nofollow noreferrer\"><code>es6 modules</code></a>"}, {"owner": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565731990, "post_id": 57485519, "comment_id": 101442240, "body": "Changing to es2015 broke the build. I don&#39;t want to use require.js. I would prefer to compile whole into single file."}, {"owner": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565732095, "post_id": 57485519, "comment_id": 101442280, "body": "I and need browser compatibility on IE11."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565732309, "post_id": 57485519, "comment_id": 101442341, "body": "Than it looks like you need to use a secondary compiler such as <a href=\"https://babeljs.io/\" rel=\"nofollow noreferrer\">Babel</a>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565732655, "post_id": 57485519, "comment_id": 101442437, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html#babel\" rel=\"nofollow noreferrer\">How to set it up</a>"}], "answers": [{"comments": [{"owner": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "edited": false, "score": 0, "creation_date": 1565780149, "post_id": 57485873, "comment_id": 101456343, "body": "Thanks very much, bundle.js contains apex inside. I have to investigate other bundler and compilers to have optimal choice for further development. Why did you choose browserify?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "edited": false, "score": 0, "creation_date": 1565783524, "post_id": 57485873, "comment_id": 101457940, "body": "I chose it because it is really easy to setup. There is less configure than say webpack."}], "tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": true, "score": 0, "last_activity_date": 1565734574, "last_edit_date": 1565734574, "creation_date": 1565734010, "answer_id": 57485873, "question_id": 57485519, "link": "https://stackoverflow.com/questions/57485519/typescript-project-how-to-incorporate-imported-modules-into-final-build/57485873#57485873", "title": "Typescript project - how to incorporate imported modules into final build?", "body": "<p>To use typescript and output a module for usage in the browser you need another compiler that knows how to do this. By following the instructions on the TypeScript website we can use <a href=\"https://www.typescriptlang.org/docs/handbook/integrating-with-build-tools.html#browserify\" rel=\"nofollow noreferrer\">Browserify</a> to transpile into browser code.</p>\n\n<p>First we install local versions of <code>tsify</code> and <code>typescript</code> (A global version doesn't work):</p>\n\n<pre><code>npm install tsify typescript --save-dev\n</code></pre>\n\n<p>Next we write our code:</p>\n\n<pre><code>import ApexCharts from 'apexcharts'\n\nvar chart = new ApexCharts(document.querySelector(\"#chart\"), {});\nchart.render();\n</code></pre>\n\n<p>Then finally we add the command to our scripts in the <strong>package.json</strong>:</p>\n\n<p><strong>Note:</strong> <code>tsify</code> will automatically read the <code>tsconfig.json</code> file. However, <a href=\"https://www.npmjs.com/package/tsify#does-this-work-with\" rel=\"nofollow noreferrer\">some options are ignored</a></p>\n\n<pre><code>{\n  \"scripts\": {\n    \"build\": \"browserify src/index.ts -p [ tsify ] &gt; bundle.js\"\n  }\n}\n</code></pre>\n\n<p>Lastly we build the file:</p>\n\n<pre><code>npm run build\n</code></pre>\n"}], "owner": {"reputation": 679, "user_id": 6670846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/295769cbefb1eedd3b032cabdf556ec5?s=128&d=identicon&r=PG&f=1", "display_name": "IT Man", "link": "https://stackoverflow.com/users/6670846/it-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 57485873, "answer_count": 1, "score": 0, "last_activity_date": 1565734574, "creation_date": 1565731505, "question_id": 57485519, "link": "https://stackoverflow.com/questions/57485519/typescript-project-how-to-incorporate-imported-modules-into-final-build", "title": "Typescript project - how to incorporate imported modules into final build?", "body": "<p>I have created Typescript project in Visual Studio Code. Added some basic configuration and have used npm to download some libs.</p>\n\n<p>I have simple main.ts file with code of below:</p>\n\n<pre><code>import ApexCharts from 'apexcharts'\n\n  var chart = new ApexCharts(document.querySelector(\"#chart\"), {...});\n  chart.render();\n</code></pre>\n\n<p>And tsconfig.json:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"noImplicitAny\": true,\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,        \n        \"sourceMap\": true,\n        \"target\": \"es5\",\n    }\n}\n</code></pre>\n\n<p>Project compiles fine but output contains require() calls. Is there any way to configure project build to incorporate imported libs into javascript output?</p>\n\n<p>I'm opened to any suggestions.</p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6", "ecmascript-5"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1565731144, "post_id": 57485428, "comment_id": 101441965, "body": "I don&#39;t know typescript, but what&#39;s wrong with <code>text = text.replace(&#47;mo&#47;ig, &#39;&lt;b&gt;$&amp;&lt;&#47;b&gt;&#39;)</code> (apart from the whole HTML injection issue)?"}, {"owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1565731310, "post_id": 57485428, "comment_id": 101442026, "body": "Yes, that worked. One line."}], "owner": {"reputation": 1315, "user_id": 7412183, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a73ddfb4eba2ce63e534ab68317210dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/7412183/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565730888, "creation_date": 1565730888, "question_id": 57485428, "link": "https://stackoverflow.com/questions/57485428/replace-all-matched-queries-search-params-with-bold-tag-in-js-ts-with-case-ins", "title": "Replace all matched queries (search params) with bold tag in JS/TS with case-insensitive mode", "body": "<p>I want to replace all matched queries with bold tag in TypeScript. (Using react here).</p>\n\n<p>I have a string like <code>\"morocco &amp; morocco\"</code>. In this string lets say our query is <code>\"mo\"</code>. Then output should be:</p>\n\n<pre><code>\"&lt;b&gt;mo&lt;/b&gt;rocco &amp; &lt;b&gt;mo&lt;/b&gt;rocco\".\n</code></pre>\n\n<p>And I want to do this case-insensitive way.</p>\n\n<pre><code>\"&lt;b&gt;mO&lt;/b&gt;roCCo&amp; &lt;b&gt;MO&lt;/b&gt;ROCCO\".\n</code></pre>\n\n<p>What I tried so far but it hangs to thread:</p>\n\n<pre><code>const query: string = 'mo';\nlet text: string = 'morocco &amp; morocco';\nconst re: RegExp = new RegExp(query, \"g\");\nlet m: any = null;\ndo {\n  m = re.exec(text);\n  if (m) {\n    const q: string = m[0];\n    text = text.replace(q, `&lt;b&gt;${q}&lt;/b&gt;`);\n  }\n} while (m)\n</code></pre>\n\n<p>See here: <a href=\"https://stackblitz.com/edit/typescript-8fep7s\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-8fep7s</a></p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1285, "user_id": 2477456, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gT0qn.jpg?s=128&g=1", "display_name": "Valdrinium", "link": "https://stackoverflow.com/users/2477456/valdrinium"}, "is_accepted": true, "score": 2, "last_activity_date": 1565732589, "last_edit_date": 1565732589, "creation_date": 1565730860, "answer_id": 57485418, "question_id": 57485378, "link": "https://stackoverflow.com/questions/57485378/how-can-i-combine-2-objects-and-merge-arrays-inside-of-them/57485418#57485418", "title": "How can I combine 2 objects and merge arrays inside of them", "body": "<p>You are looking for <a href=\"https://lodash.com/docs/4.17.15#mergeWith\" rel=\"nofollow noreferrer\">lodash.mergeWith</a>, which merges arrays and plain object properties recursively.</p>\n\n<pre><code>var\u00a0object\u00a0=\u00a0{\n\u00a0\u00a0'a':\u00a0[{\u00a0'b':\u00a02\u00a0},\u00a0{\u00a0'd':\u00a04\u00a0}]\n};\n\u00a0\nvar\u00a0other\u00a0=\u00a0{\n\u00a0\u00a0'a':\u00a0[{\u00a0'c':\u00a03\u00a0},\u00a0{\u00a0'e':\u00a05\u00a0}]\n};\n\nfunction\u00a0customizer(objValue,\u00a0srcValue)\u00a0{\n\u00a0\u00a0if\u00a0(_.isArray(objValue))\u00a0{\n\u00a0\u00a0\u00a0\u00a0return\u00a0objValue.concat(srcValue);\n\u00a0\u00a0}\n}\n\u00a0\n_.mergeWith(object,\u00a0other, customizer);\n//\u00a0=&gt;\u00a0{\u00a0'a':\u00a0[{\u00a0'b':\u00a02 },\u00a0{ 'c':\u00a03\u00a0},\u00a0{\u00a0'd':\u00a04 }, {\u00a0'e':\u00a05\u00a0}]\u00a0}\n</code></pre>\n\n<p>For your particular case when you know the ids of the objects, this customizer function will work <a href=\"https://runkit.com/valdrinium/5d532f26ba23700019ddcc27\" rel=\"nofollow noreferrer\">as requested</a>.</p>\n\n<pre><code>function\u00a0customizer(objValue,\u00a0srcValue)\u00a0{\n\u00a0\u00a0if\u00a0(_.isArray(objValue))\u00a0{\n    for (const srcItem of srcValue) {\n      const objItem = objValue.filter(item =&gt; item.id === srcItem.id);\n      if (objItem.length) {\n        objValue = objValue.map(item =&gt; {\n          if (item.id === objItem[0].id) {\n            return _.mergeWith(item,\u00a0srcItem, customizer);\n          }\n\n          return item;\n        });\n      } else {\n        objValue = [...objValue, srcItem];\n      }\n    }\n\n\u00a0\u00a0\u00a0\u00a0return objValue;\n\u00a0\u00a0}\n}\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 11412677, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xd5dTGH22C4/AAAAAAAAAAI/AAAAAAAAAcE/mOfIqsMfhYk/photo.jpg?sz=128", "display_name": "Mark Gagnon", "link": "https://stackoverflow.com/users/11412677/mark-gagnon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 3, "closed_date": 1565738790, "accepted_answer_id": 57485418, "answer_count": 1, "score": 1, "last_activity_date": 1565732589, "creation_date": 1565730605, "last_edit_date": 1565730835, "question_id": 57485378, "link": "https://stackoverflow.com/questions/57485378/how-can-i-combine-2-objects-and-merge-arrays-inside-of-them", "closed_reason": "Duplicate", "title": "How can I combine 2 objects and merge arrays inside of them", "body": "<p>I have a couple of Objects with the same properties.  I want to combine all of the object which has the same first level key-value.  I am aware of the spread operator</p>\n\n<pre><code>    const obj3 = {...obj1, ...obj2}\n</code></pre>\n\n<p>but the problem is, the arrays inside the object are getting overwritten and not merged.</p>\n\n<pre><code>{\n  \"id\": 1,\n  \"name\": \"firstLevel\",\n  \"visible\": true,\n  \"subCategories\": [\n    {\n      \"id\": 2,\n      \"name\": \"secondLevel\",\n      \"visible\": true,\n      \"skills\": [\n        {\n          \"name\": \"foo\",\n          \"id\": 5,\n          \"visible\": true\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<pre><code>{\n  \"id\": 1,\n  \"name\": \"firstLevel\",\n  \"visible\": true,\n  \"subCategories\": [\n    {\n      \"id\": 2,\n      \"name\": \"secondLevel\",\n      \"visible\": true,\n      \"skills\": [\n        {\n          \"name\": \"bar\",\n          \"id\": 1,\n          \"visible\": true\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>I expect the objects to combine like that :</p>\n\n<pre><code>{\n  \"id\": 1,\n  \"name\": \"firstLevel\",\n  \"visible\": true,\n  \"subCategories\": [\n    {\n      \"id\": 2,\n      \"name\": \"secondLevel\",\n      \"visible\": true,\n      \"skills\": [\n        {\n          \"name\": \"foo\",\n          \"id\": 5,\n          \"visible\": true\n        },\n        {\n          \"name\": \"bar\",\n          \"id\": 1,\n          \"visible\": true\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-decorator"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1565730611, "post_id": 57485179, "comment_id": 101441792, "body": "Nope not possible. Decorators do no change the type of the class in any way. You could use a function instead <code>const AnyClass = MyDecorator(class {})</code>, the return type of the function could add something to the class to mark it as decorated. I can provide a solution if you are intrested"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1565746743, "post_id": 57485179, "comment_id": 101445135, "body": "relevant <a href=\"https://github.com/microsoft/TypeScript/issues/4881\" rel=\"nofollow noreferrer\">GitHub issue</a> which is <a href=\"https://github.com/microsoft/TypeScript/issues/4881#issuecomment-450938639\" rel=\"nofollow noreferrer\">waiting for decorators in JS to be more finalized</a>"}, {"owner": {"reputation": 77, "user_id": 1330772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84e6999ccd3ab51bb98993b405eda590?s=128&d=identicon&r=PG", "display_name": "Bambou", "link": "https://stackoverflow.com/users/1330772/bambou"}, "edited": false, "score": 0, "creation_date": 1565763340, "post_id": 57485179, "comment_id": 101448487, "body": "Fair enough, that confirm what I thought, thank you both for your comment, that was helpful."}], "owner": {"reputation": 77, "user_id": 1330772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84e6999ccd3ab51bb98993b405eda590?s=128&d=identicon&r=PG", "display_name": "Bambou", "link": "https://stackoverflow.com/users/1330772/bambou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565729599, "creation_date": 1565729599, "question_id": 57485179, "link": "https://stackoverflow.com/questions/57485179/how-to-type-a-function-parameter-to-be-an-instance-of-a-decorated-class", "title": "How to type a function parameter to be an instance of a decorated class", "body": "<p>I got a decorator that can be applied to any classes (e.g. entities from the consumer of my lib). \nThe decorator just set some metadata using the reflect-metadata package.</p>\n\n<p>Those decorated entities can be passed to my lib through a function parameter.\nIs there a way to tell typescript that the parameter must be an instance of a class that uses the decorator?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@MyDecorator()\nclass AnyClass {\n\n}\n\nfunction use(anInstanceDecoratedByMyDecorator: ?){\n  // ...\n}\n</code></pre>\n\n<p>So far, my best guess is set the parameter to <code>any</code>, do a runtime check and throw if the metadata is not set:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function use(anInstanceDecoratedByMyDecorator: any){\n  if (\n    'object' !== typeof anInstance\n    &amp;&amp; \n    Reflect.hasMetdata(KEY, anInstanceDecoratedByMyDecorator)\n  ) {\n    throw new Error('Invalid');\n  }\n  // ...\n}\n</code></pre>\n"}, {"tags": ["typescript", "google-cloud-firestore", "angularfire2"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1565728240, "post_id": 57484872, "comment_id": 101440975, "body": "So, to be clear, are you saying that your document contains an object type field named <code>item</code> which has a string property called <code>data</code>?"}, {"owner": {"reputation": 655, "user_id": 10012900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZ_HwTMCNms/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ybq1AdnoTdGxVLXbxH2A35jX-cA/mo/photo.jpg?sz=128", "display_name": "user1222324562", "link": "https://stackoverflow.com/users/10012900/user1222324562"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1565728527, "post_id": 57484872, "comment_id": 101441076, "body": "The documents field <code>item</code> is a Firestore Map with a key <code>data</code>"}], "answers": [{"comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 1, "creation_date": 1565729082, "post_id": 57484963, "comment_id": 101441268, "body": "If you just want a straight cast (assuming that the document always exactly matches your interfaces), it&#39;s not going to get any simpler than this."}], "tags": [], "owner": {"reputation": 655, "user_id": 10012900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZ_HwTMCNms/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ybq1AdnoTdGxVLXbxH2A35jX-cA/mo/photo.jpg?sz=128", "display_name": "user1222324562", "link": "https://stackoverflow.com/users/10012900/user1222324562"}, "is_accepted": false, "score": 1, "last_activity_date": 1565810020, "last_edit_date": 1565810020, "creation_date": 1565728479, "answer_id": 57484963, "question_id": 57484872, "link": "https://stackoverflow.com/questions/57484872/convert-firestore-value-changes-to-typescript-object/57484963#57484963", "title": "Convert Firestore value changes to Typescript object", "body": "<p><strong>Updated</strong></p>\n\n<p>According to <a href=\"https://github.com/angular/angularfire2/blob/master/docs/firestore/collections.md\" rel=\"nofollow noreferrer\">this</a> the simplest way to achieve a typed result is by adding the type after <code>collection</code></p>\n\n<pre><code>this.db.collection&lt;Test&gt;('tests').valueChanges().subscribe(tests =&gt; {\n    // ....\n});\n</code></pre>\n\n<p><strong>Old Answer</strong></p>\n\n<p>This is the only solution I have come up with, but I am looking for something more readable</p>\n\n<pre><code>    this.db.collection('tests').valueChanges().pipe(\n        map(tests =&gt; {\n            return tests as Test[];\n        })\n    ).subscribe(fs_tests =&gt; {\n        // ....\n    });\n</code></pre>\n"}], "owner": {"reputation": 655, "user_id": 10012900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aZ_HwTMCNms/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0ybq1AdnoTdGxVLXbxH2A35jX-cA/mo/photo.jpg?sz=128", "display_name": "user1222324562", "link": "https://stackoverflow.com/users/10012900/user1222324562"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1565810020, "creation_date": 1565727975, "question_id": 57484872, "link": "https://stackoverflow.com/questions/57484872/convert-firestore-value-changes-to-typescript-object", "title": "Convert Firestore value changes to Typescript object", "body": "<p>I have the interfaces:</p>\n\n<pre><code>interface Item {\n    data: string\n}\n\ninterface Test {\n    item: Item\n    url: string\n}\n</code></pre>\n\n<p>My data in Firestore is stored as follows</p>\n\n<pre><code>Collection Tests\n    id: {\n        item: {\n            data: \"some data\"\n        },\n        url: \"abc.com\",\n    }\n}\n</code></pre>\n\n<p>How can I type the incoming objects on a collection read?</p>\n\n<pre><code>this.db.collection('tests').valueChanges().subscribe(tests =&gt; {\n    // Do some sort of type conversion\n});\n</code></pre>\n\n<p>Or better yet could I do something like this:</p>\n\n<pre><code>this.db.collection('tests').valueChanges().subscribe&lt;Test[]&gt;(tests =&gt; {\n    tests[0].url // valid typescript\n});\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 3544, "user_id": 1861779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5240df899ccf11b1771b8737afada026?s=128&d=identicon&r=PG", "display_name": "t.888", "link": "https://stackoverflow.com/users/1861779/t-888"}, "edited": false, "score": 0, "creation_date": 1565729942, "post_id": 57484748, "comment_id": 101441566, "body": "You can avoid the error by casting menu to a string (<code>&lt;string&gt;menu === &quot;Chat&quot;</code>). I can&#39;t say how <code>TItem</code> is defined, except that it&#39;s probably not a string type. This type of cast bypasses normal type checking mechanisms so it should only be used as a last resort."}, {"owner": {"reputation": 3544, "user_id": 1861779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5240df899ccf11b1771b8737afada026?s=128&d=identicon&r=PG", "display_name": "t.888", "link": "https://stackoverflow.com/users/1861779/t-888"}, "edited": false, "score": 0, "creation_date": 1565730153, "post_id": 57484748, "comment_id": 101441636, "body": "You could also try casting <code>state</code> to your <code>MyContextType</code> interface, e.g., <code>const { menu } = &lt;MyContextType&gt;state</code>. This might be preferable if there&#39;s no other way to get the types recognized based on your original <code>Context</code> definition."}], "answers": [{"tags": [], "owner": {"reputation": 3486, "user_id": 2304751, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qEKVc.jpg?s=128&g=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/2304751/diesel"}, "is_accepted": false, "score": 0, "last_activity_date": 1565731768, "last_edit_date": 1565731768, "creation_date": 1565730647, "answer_id": 57485388, "question_id": 57484748, "link": "https://stackoverflow.com/questions/57484748/typescript-ternary-expression-error-saying-the-condition-will-always-return-fal/57485388#57485388", "title": "Typescript ternary expression error saying the condition will always return &#39;false&#39;", "body": "<p><code>Menu</code> is a type <code>TItem</code> which is not a string. So a <code>TItem</code> has no overlap with string. I'm guessing there is a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> which isn't being passed.</p>\n\n<p>I found the library <code>react-spring</code> uses <code>TItem</code>. Are you using that?</p>\n\n<p>If you give more info on where <code>menu</code> get's its type, I'll add a more specific answer.</p>\n\n<p>By the way, it's challenging to read when you don't put in typings in Typescript and leave everything inferred except for <code>null</code> and <code>any</code>. For example, instead of <code>menu =&gt;</code> put <code>(menu: SomeType) =&gt;</code>. This will help a lot with avoiding these types of errors. As a rule of thumb I try to never use <code>any</code> or <code>null</code>. Instead I use union types (Often these can be avoided too) and <code>unknown</code> if I want to have a variable that can contain no value which allows the use of optionals.</p>\n"}], "owner": {"reputation": 2527, "user_id": 10116367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ixorG.jpg?s=128&g=1", "display_name": "Kevvv", "link": "https://stackoverflow.com/users/10116367/kevvv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565731768, "creation_date": 1565727339, "last_edit_date": 1565727415, "question_id": 57484748, "link": "https://stackoverflow.com/questions/57484748/typescript-ternary-expression-error-saying-the-condition-will-always-return-fal", "title": "Typescript ternary expression error saying the condition will always return &#39;false&#39;", "body": "<p>I'm getting the following Typescript error:</p>\n\n<blockquote>\n  <p>This condition will always return 'false' since the types 'TItem' and\n  '\"Chat\"' have no overlap.  TS2367</p>\n</blockquote>\n\n<p>for the code below:</p>\n\n<pre><code>const { menu } = state\nreturn (\n          &lt;Transition items={menu}&gt;\n                {menu =&gt; menu === \"Chat\" // this is where the error occurs\n                       ? (props =&gt; \n                            &lt;&gt;\n                                &lt;section style={props}&gt;\n                                    First Section\n                                &lt;/section&gt;\n                            &lt;/&gt;\n                        )\n                        :   \n                        (props =&gt; \n                            &lt;&gt;\n                                &lt;section style={props}&gt;\n                                    Second Section\n                                &lt;/section&gt;\n                            &lt;/&gt;\n                        ) \n                }\n            &lt;/Transition&gt;\n)\n</code></pre>\n\n<p>The state <code>menu</code> is from my reducer:</p>\n\n<pre><code>interface MyContextType {\n    menu?: any,\n}\n\nconst Context = createContext&lt;MyContextType&gt;({\n    menu: null\n})\n</code></pre>\n\n<p>where the <code>action.payload</code> is a string type like \"Chat\".  So <code>console.log(menu)</code> will show \"Chat\".  Eliminating the <code>=== \"Chat\"</code> portion from <code>menu === \"Chat\"</code> allows the code to work perfectly fine, but only when I add the condition, I get the error. </p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 939, "user_id": 6449592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb076a7006291c56553180c24da280f3?s=128&d=identicon&r=PG&f=1", "display_name": "sagat", "link": "https://stackoverflow.com/users/6449592/sagat"}, "edited": false, "score": 0, "creation_date": 1565725567, "post_id": 57484346, "comment_id": 101440040, "body": "have u imported formsmodule?"}], "answers": [{"comments": [{"owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "edited": false, "score": 0, "creation_date": 1565743354, "post_id": 57484471, "comment_id": 101444570, "body": "well that worked but the form is not stored when I leave the page and go back again. I always have an empty input field"}], "tags": [], "owner": {"reputation": 395, "user_id": 7061557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/202d8e456de564b67f897050b294eebe?s=128&d=identicon&r=PG&f=1", "display_name": "iams0nus", "link": "https://stackoverflow.com/users/7061557/iams0nus"}, "is_accepted": false, "score": 2, "last_activity_date": 1565725899, "creation_date": 1565725899, "answer_id": 57484471, "question_id": 57484346, "link": "https://stackoverflow.com/questions/57484346/how-to-change-an-input-text-and-store-it-afterwards/57484471#57484471", "title": "How to change an input text and store it afterwards?", "body": "<p>Import the <code>ReactiveFormsModule</code> to your feature module.</p>\n"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1565754232, "answer_count": 1, "score": 0, "last_activity_date": 1565725899, "creation_date": 1565725297, "question_id": 57484346, "link": "https://stackoverflow.com/questions/57484346/how-to-change-an-input-text-and-store-it-afterwards", "closed_reason": "Duplicate", "title": "How to change an input text and store it afterwards?", "body": "<p>I have an input field where a user should be able to change his name. So can manipulate the field, and when terminated the new string should be stored as a new username? I tried to achieve that with <code>form</code>but I get this error: <code>Error: Template parse errors: Can't bind to 'formGroup' since it isn't a known property of 'form'</code>. </p>\n\n<p>Here is my code</p>\n\n<h3>page.html</h3>\n\n<pre><code>&lt;form [formGroup]=\"form\" (ngSubmit)=\"changeName()\"&gt;\n    &lt;ion-list no-border&gt;\n\n        &lt;ion-list-header&gt;\n          My Account\n        &lt;/ion-list-header&gt;\n\n        &lt;ion-item &gt;\n          \ud83d\udc64 \n       &lt;ion-input&gt;{{username}}&lt;/ion-input&gt;\n        &lt;/ion-item&gt;\n  ...\n\n      &lt;/ion-list&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<h3>page.ts</h3>\n\n<pre><code>import { FormGroup, FormControl, Validators} from '@angular/forms';\n...\nform: FormGroup;\n\npublic usernameInput = '';\n...\n\nconstructor() {}\n\n...\n\nchangeName() {\n  this.usernameInput = '';\n}\n\n ngOnInit() {\n    this.form = new FormGroup({\n     username: new FormControl(null, {\n       updateOn: 'submit',\n       validators: [Validators.required, Validators.maxLength(20), Validators.minLength(1)]\n     })\n });\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1565724309, "post_id": 57484022, "comment_id": 101439577, "body": "In your example, Map isnt an array.  You wrote it as a dict."}], "answers": [{"tags": [], "owner": {"reputation": 12552, "user_id": 1208078, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7238a0285a2f92d218359b1c10af9a72?s=128&d=identicon&r=PG", "display_name": "Mike Corcoran", "link": "https://stackoverflow.com/users/1208078/mike-corcoran"}, "is_accepted": false, "score": 1, "last_activity_date": 1565724252, "creation_date": 1565724252, "answer_id": 57484147, "question_id": 57484022, "link": "https://stackoverflow.com/questions/57484022/typescript-how-to-move-child-nodes-in-array-to-parent-array/57484147#57484147", "title": "Typescript how to move child nodes in array to parent array?", "body": "<p>the easiest way in my opinion is to use the spread operator:</p>\n\n<pre><code>const responses = [{ \n  \"Name\": \"Ancil Abdul Rahuman\", \n  \"map\": { \n    \"Core Java\": null, \n    \"JSP\": null, \n    \"HTML\": \"Level 1: Proficient\", \n    \"JavaScript\": null, \n    \"Spring MVC\": null, \n    \"SOAP\": null, \n    \"REST Web Services\": null, \n    \"Oracle DB\": null, \n    \"Tomcat\": null } \n}, { \n  \"Name\": \"Neha Agrawal\", \n  \"map\": { \n    \"Core Java\": null, \n    \"JSP\": null, \n    \"HTML\": null, \n    \"JavaScript\": null, \n    \"Spring MVC\": null, \n    \"SOAP\": null, \n    \"REST Web Services\": null, \n    \"Oracle DB\": null, \n    \"Tomcat\": null } \n}];\nconst newResponses = responses.map(response =&gt; { return { Name: response.Name, ...response.map }; });\nconsole.log(newResponses);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "is_accepted": false, "score": 1, "last_activity_date": 1565724620, "creation_date": 1565724620, "answer_id": 57484217, "question_id": 57484022, "link": "https://stackoverflow.com/questions/57484022/typescript-how-to-move-child-nodes-in-array-to-parent-array/57484217#57484217", "title": "Typescript how to move child nodes in array to parent array?", "body": "<p>If you want to turn this object:</p>\n\n<pre><code>let input = { \n  \"Name\": \"Neha Agrawal\", \n  \"map\": { \n    \"Core Java\": null, \n    \"JSP\": null, \n    \"HTML\": null, \n    \"JavaScript\": null, \n    \"Spring MVC\": null, \n    \"SOAP\": null, \n    \"REST Web Services\": null, \n    \"Oracle DB\": null, \n    \"Tomcat\": null } \n}\n</code></pre>\n\n<p>into this one:</p>\n\n<pre><code>let result = { \n  \"Name\": \"Neha Agrawal\", \n  \"Core Java\": null, \n  \"JSP\": null, \n  \"HTML\": null, \n  \"JavaScript\": null, \n  \"Spring MVC\": null, \n  \"SOAP\": null, \n  \"REST Web Services\": null, \n  \"Oracle DB\": null, \n  \"Tomcat\": null\n}\n</code></pre>\n\n<p>Use the following:</p>\n\n<pre><code>let result = {Name: input.Name, ...input.map};\n</code></pre>\n"}], "owner": {"reputation": 106, "user_id": 5224564, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fadd7fa279dca6645a98e6e03c23dd6c?s=128&d=identicon&r=PG&f=1", "display_name": "Terrance Jackson", "link": "https://stackoverflow.com/users/5224564/terrance-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "closed_date": 1565761358, "answer_count": 2, "score": -2, "last_activity_date": 1565724620, "creation_date": 1565723545, "question_id": 57484022, "link": "https://stackoverflow.com/questions/57484022/typescript-how-to-move-child-nodes-in-array-to-parent-array", "closed_reason": "Needs details or clarity", "title": "Typescript how to move child nodes in array to parent array?", "body": "<p>Here is my json</p>\n\n<pre><code>[{\"Name\":\"Ancil Abdul Rahuman\",\"map\":{\"Core Java\":null,\"JSP\":null,\"HTML\":\"Level 1: Proficient\",\"JavaScript\":null,\"Spring MVC\":null,\"SOAP\":null,\"REST Web Services\":null,\"Oracle DB\":null,\"Tomcat\":null}},{\"Name\":\"Neha Agrawal\",\"map\":{\"Core Java\":null,\"JSP\":null,\"HTML\":null,\"JavaScript\":null,\"Spring MVC\":null,\"SOAP\":null,\"REST Web Services\":null,\"Oracle DB\":null,\"Tomcat\":null}}]\n</code></pre>\n\n<p>I need to move the items from the \"map\" array into the level where it says \"Name\"</p>\n\n<p>I tried \nto use map.map but it gives an error</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4707, "user_id": 3980115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0346113c8f43a8036d8989fa0ba3ae55?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad274", "link": "https://stackoverflow.com/users/3980115/vlad274"}, "edited": false, "score": 0, "creation_date": 1565723396, "post_id": 57483613, "comment_id": 101439224, "body": "Note: <code>ngHide</code> is not working properly, because that does not exist in Angular 2+"}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 5125608, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/McEgC.jpg?s=128&g=1", "display_name": "anlijudavid", "link": "https://stackoverflow.com/users/5125608/anlijudavid"}, "is_accepted": true, "score": 1, "last_activity_date": 1565721799, "creation_date": 1565721799, "answer_id": 57483685, "question_id": 57483613, "link": "https://stackoverflow.com/questions/57483613/how-to-show-icon-onclick-and-remove-after-3-seconds/57483685#57483685", "title": "How to show icon (onclick) and remove after 3 seconds?", "body": "<pre><code>&lt;i class=\"icon ion-md-checkmark listing-dropdown-icon\" [hidden]=\"reportIcon\"&gt;&lt;/i&gt;\n\n&lt;!----&gt;\n\nexport class CardComponent implements OnInit {\n  appname = '';\n  reportIcon = true;\n\n  onReportClick() {\n    this.reportIcon = false;\n    setTimeout(() =&gt; { this.reportIcon = true }, 3000)\n  }\n\n  ngOnInit() { }\n\n  constructor() { }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11081194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PXu-ldA9r2g/AAAAAAAAAAI/AAAAAAAAAD0/4IGHN3TuUCw/photo.jpg?sz=128", "display_name": "Isaac Medina", "link": "https://stackoverflow.com/users/11081194/isaac-medina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57483685, "answer_count": 1, "score": 1, "last_activity_date": 1565729995, "creation_date": 1565721405, "last_edit_date": 1565723760, "question_id": 57483613, "link": "https://stackoverflow.com/questions/57483613/how-to-show-icon-onclick-and-remove-after-3-seconds", "title": "How to show icon (onclick) and remove after 3 seconds?", "body": "<p>I have a dropdown item and onclick I want it to show an icon, then remove it after 3 seconds. ngHide seems not to be working.</p>\n\n<p>I have already tried setTimeout, but it doesn't work. </p>\n\n<pre><code>&lt;a class=\"dropdown-item\" (click)=\"onReportClick()\"&gt;Report\n    &lt;i class=\"icon ion-md-checkmark listing-dropdown-icon\" ngHide=\"reportIcon\"&gt;&lt;/i&gt;\n&lt;/a&gt;\n</code></pre>\n\n<pre><code>export class CardComponent implements OnInit {\n  appname = '';\n\n  onReportClick() {\n\n  }\n\n  ngOnInit() { }\n\n  constructor() { }\n}\n</code></pre>\n\n<p>I expect the icon to appear <code>(onclick)=\"onReportClick()\"</code> then disappear after 3 seconds.</p>\n"}, {"tags": ["asp.net-mvc", "typescript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565720559, "post_id": 57483373, "comment_id": 101438034, "body": "200 OK doesn&#39;t have a body by default, and you aren&#39;t setting one.  What are you expecting?"}, {"owner": {"reputation": 3914, "user_id": 108584, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BOdV7.jpg?s=128&g=1", "display_name": "Bill Sambrone", "link": "https://stackoverflow.com/users/108584/bill-sambrone"}, "edited": false, "score": 0, "creation_date": 1565720583, "post_id": 57483373, "comment_id": 101438046, "body": "You&#39;re not actually returning anything except an HTTP status code. Try returning Ok(&quot;test&quot;) and you should a string called test come back."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5843610"}, "edited": false, "score": 0, "creation_date": 1565720653, "post_id": 57483373, "comment_id": 101438083, "body": "I wanted to evaluate the code"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565720673, "post_id": 57483373, "comment_id": 101438094, "body": "@Jefferson That answer isn&#39;t informative."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5843610"}, "edited": false, "score": 0, "creation_date": 1565721083, "post_id": 57483373, "comment_id": 101438266, "body": "I am returning a NotFound IHttpActionResult, when something is not found. Then I wanted to have a condition around that."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565722319, "post_id": 57483373, "comment_id": 101438792, "body": "The <code>.then</code> method of JS promises accepts a second parameter to handle unsuccessful requests.  Look into that."}], "owner": {"user_type": "does_not_exist", "display_name": "user5843610"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1565720354, "creation_date": 1565720354, "question_id": 57483373, "link": "https://stackoverflow.com/questions/57483373/controller-not-returning-value", "title": "Controller Not returning value", "body": "<p>I am trying to return a status from the controller to my ts class that the data is found in the database or it is not found. I am getting response that is empty string</p>\n\n<blockquote>\n  <p>Can this be related to the response type?\n  ts </p>\n</blockquote>\n\n<pre><code>onChangeArchiveStatus(data) {\n            var message;\n            console.log(data.item.Id);\n            this.agentsService.inuseAgent(data.item.Id)\n                .then(response =&gt; { \n                    console.log(response);   \n\n                    }\n                });\n        }\n</code></pre>\n\n<p>controller</p>\n\n<pre><code>[HttpGet]\n[ApplicationApiAuthorize(\"Administrator, ContentManager\")]\npublic IHttpActionResult InUseAgent([FromBody]long id)\n{\n    var agentInUse = AgentsDataService.InUseAgent(id);\n\n    if (agentInUse == true)\n    {\n        return Ok();\n    }else\n    {\n        return NotFound();\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 808, "user_id": 3711733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CrC2H.jpg?s=128&g=1", "display_name": "mguida", "link": "https://stackoverflow.com/users/3711733/mguida"}, "edited": false, "score": 0, "creation_date": 1565716215, "post_id": 57482220, "comment_id": 101436202, "body": "Have you tried defining it as <code>src&#47;@types&#47;react-native-simple-radio-button.d.ts</code>? Also, what does your tsconfig look like? Is the <code>@types&#47;</code> directory properly included?"}], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 0, "last_activity_date": 1565719270, "last_edit_date": 1565719270, "creation_date": 1565718810, "answer_id": 57483008, "question_id": 57482220, "link": "https://stackoverflow.com/questions/57482220/could-not-find-declaration-file-for-module-but-it-exists/57483008#57483008", "title": "&quot;Could not find declaration file for module,&quot; but it exists", "body": "<p>The compiler complains about the non-existent module type <code>react-native-simple-radio-button</code>, because you create an <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#ambient-modules\" rel=\"nofollow noreferrer\">ambient module <em>augmentation</em></a> instead of an <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#122-ambient-module-declarations\" rel=\"nofollow noreferrer\">ambient module <em>declaration</em></a>.</p>\n\n<p>You need to define the latter, when no type of the module exists at all in the global namespace. That's the case for your button library, as the package itself does not contain types  and also does not provide a <code>@types</code> package. So how does an ambient declaration look like?</p>\n\n<blockquote>\n  <p>An AmbientModuleDeclaration declares a module. This type of declaration is permitted only at the top level in a source file that contributes to the global namespace. <a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#122-ambient-module-declarations\" rel=\"nofollow noreferrer\">Link</a></p>\n</blockquote>\n\n<p>So remove all <code>import</code>/<code>export</code> statements in <code>index.d.ts</code> so that <code>react-native-simple-radio-button</code> module type declaration is removed from module scope and added in global scope. Or put it in its own .d.ts file without <code>import</code>/<code>export</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 992, "user_id": 9431571, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9yG6sQVnAfE/AAAAAAAAAAI/AAAAAAAAZc0/WnkH9P9okP8/photo.jpg?sz=128", "display_name": "Paulo Boaventura", "link": "https://stackoverflow.com/users/9431571/paulo-boaventura"}, "edited": false, "score": 0, "creation_date": 1582500140, "post_id": 60367597, "comment_id": 106788688, "body": "Although this user is a new contributor ... but this answer seems to be very objective, which can result in the solution.  Be sure to send your feedback"}], "tags": [], "owner": {"reputation": 56, "user_id": 11675538, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZDJd1C4CniI/AAAAAAAAAAI/AAAAAAAABKk/MPLsP4Dv35g/photo.jpg?sz=128", "display_name": "hypercloud", "link": "https://stackoverflow.com/users/11675538/hypercloud"}, "is_accepted": false, "score": 1, "last_activity_date": 1582497952, "creation_date": 1582497952, "answer_id": 60367597, "question_id": 57482220, "link": "https://stackoverflow.com/questions/57482220/could-not-find-declaration-file-for-module-but-it-exists/60367597#60367597", "title": "&quot;Could not find declaration file for module,&quot; but it exists", "body": "<p>Step 1: Create folder in your /src folder.</p>\n\n<blockquote>\n  <p>@types</p>\n</blockquote>\n\n<p>Step 2: Create file inside it called:</p>\n\n<blockquote>\n  <p>react-native-simple-radio-button.d.ts</p>\n</blockquote>\n\n<p>Step 3: Add <code>declare module 'react-native-simple-radio-button;</code></p>\n\n<p>Error should now be gone. At least that worked for me. Coment from nguida and solution from ford04 did the trick, I just wrote it here step by step.</p>\n"}], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 600, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1582497952, "creation_date": 1565715283, "question_id": 57482220, "link": "https://stackoverflow.com/questions/57482220/could-not-find-declaration-file-for-module-but-it-exists", "title": "&quot;Could not find declaration file for module,&quot; but it exists", "body": "<p>I've created a very simple custom declaration for <code>react-native-simple-radio-button</code> that I've placed under <code>src/@types/react-native-simple-radio-button/index.d.ts</code></p>\n\n<pre><code>import { Component } from 'react';\n\ndeclare module 'react-native-simple-radio-button' {\n  export default class RadioForm extends Component {}\n}\n</code></pre>\n\n<p>In my code, I have <code>import RadioForm from 'react-native-simple-radio-button</code>. The module is installed in <code>node_modules</code>, but when I try to run the code with TypeScript I get:</p>\n\n<pre><code>error TS7016: Could not find a declaration file for module 'react-native-simple-radio-button'. 'project/node_modules/react-native-simple-radio-button/index.js' implicitly has an 'any' type.\n  Try `npm install @types/react-native-simple-radio-button` if it exists or add a new declaration (.d.ts) file containing `declare module 'react-native-simple-radio-button';`\n</code></pre>\n\n<p>However, I <em>do</em> have the <code>index.d.ts</code> file that I've declared. I've created other declaration modules in <code>src/@types</code> and those are working okay.</p>\n\n<p>Is there anything else I need to do to get TypeScript to recognize my declaration for this module?</p>\n"}, {"tags": ["angularjs", "typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 12180, "user_id": 7867822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bpZXl.gif?s=128&g=1", "display_name": "Anurag Srivastava", "link": "https://stackoverflow.com/users/7867822/anurag-srivastava"}, "edited": false, "score": 0, "creation_date": 1606411420, "post_id": 57926243, "comment_id": 114961799, "body": "Thank you very much!"}], "tags": [], "owner": {"reputation": 71, "user_id": 8394408, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1T1LaBQBcQU/AAAAAAAAAAI/AAAAAAAAHBE/gclXUVPFTxs/photo.jpg?sz=128", "display_name": "Alvaro Cruz", "link": "https://stackoverflow.com/users/8394408/alvaro-cruz"}, "is_accepted": false, "score": 7, "last_activity_date": 1568389632, "last_edit_date": 1568389632, "creation_date": 1568387669, "answer_id": 57926243, "question_id": 57482205, "link": "https://stackoverflow.com/questions/57482205/loading-angularjs-html-templates-in-webpack-4-renders-object-module/57926243#57926243", "title": "Loading AngularJS html templates in webpack 4 renders [object Module]", "body": "<p><code>raw-loader</code> now returns the module under default.</p>\n\n<p>I assume, if you change <code>require('./login.component.html')</code> to <code>require('./login.component.html').default</code>, your component will now render.</p>\n"}], "owner": {"reputation": 38, "user_id": 3057011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247122b4ae7519cd3560271157a24d87?s=128&d=identicon&r=PG&f=1", "display_name": "Gerben Ankone", "link": "https://stackoverflow.com/users/3057011/gerben-ankone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1568389632, "creation_date": 1565715224, "question_id": 57482205, "link": "https://stackoverflow.com/questions/57482205/loading-angularjs-html-templates-in-webpack-4-renders-object-module", "title": "Loading AngularJS html templates in webpack 4 renders [object Module]", "body": "<p>I'm trying to load HTML files as a template using require syntax. However, the string <code>[object Module]</code> is being rendered. This is the result of <code>module.exports.toString()</code>, the result of calling <code>require()</code>.</p>\n\n<p>The content of the HTML file is present in <code>module.exports.default</code>. \nHow can I fix the configuration to render templates from html files? Ideally, without changing the components.</p>\n\n<p>The project I'm working on is an AngularJS project with ng-metadata (<a href=\"https://github.com/ngParty/ng-metadata\" rel=\"nofollow noreferrer\">https://github.com/ngParty/ng-metadata</a>) included. I'm upgrading webpack (1 > 4) and typescript (2.1 > 3.5). The goal is to get to a point where the application can run Angular and AngularJS in hybrid, as a first step towards Angular.</p>\n\n<p>After upgrading webpack and typescript, and fixing the more obvious config errors, the rendering no longer works for templates in HTML files.</p>\n\n<p>I've been searching for similar issues, digging into both configs and trying various options, but without any luck so far.</p>\n\n<p>My current tsconfig:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"target\": \"es5\",\n    \"noImplicitAny\": false,\n    \"lib\": [\"dom\", \"es2015\"],\n    \"sourceMap\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"moduleResolution\": \"node\",\n    \"pretty\": true,\n    \"stripInternal\": true,\n    \"noEmitHelpers\": false,\n    \"outDir\": \"ts-out\"\n  },\n  \"exclude\": [\n    \"node_modules\",\"test\"\n  ],\n  \"compileOnSave\": false\n}\n</code></pre>\n\n<p>The loaders in webpack.config (styles etc. excluded for brevity)</p>\n\n<pre><code>{\n  test: /\\.ts$/,\n  use: ['awesome-typescript-loader'],\n  exclude: [/node_modules/]\n},\n{\n  test: /\\.html$/,\n  use: 'raw-loader',\n  exclude: '/index.html'\n}\n</code></pre>\n\n<p>A sample component.ts</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n  selector: 'app-login',\n  template: require('./login.component.html'),\n})\n</code></pre>\n\n<p>login.component.html can be any html</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;login component&lt;/p&gt;\n\n</code></pre>\n\n<p>I expect <code>&lt;p&gt;login component&lt;/p&gt;</code> to be rendered. What's actually being rendered is the text <code>[object Module]</code>.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "drag-and-drop", "antd"], "comments": [{"owner": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "edited": false, "score": 0, "creation_date": 1565796291, "post_id": 57482068, "comment_id": 101465093, "body": "I have already added the CSS style for the dragging effect (drop-over-downward &amp; drop-over-upward)."}, {"owner": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "edited": false, "score": 0, "creation_date": 1565797303, "post_id": 57482068, "comment_id": 101465625, "body": "Here is a gif of the actual behavior <a href=\"https://makeagif.com/i/TIw7Qx\" rel=\"nofollow noreferrer\">makeagif.com/i/TIw7Qx</a>"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "edited": false, "score": 0, "creation_date": 1565795453, "post_id": 57482434, "comment_id": 101464621, "body": "Yes, I have already added the CSS style, as you said. In previous tests, the dragging effect showed, however, in this version doesn&#180;t."}, {"owner": {"reputation": 713, "user_id": 7493005, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OrZSfTVhzrM/AAAAAAAAAAI/AAAAAAAAFng/diWCDW70mDQ/photo.jpg?sz=128", "display_name": "Vipin Yadav", "link": "https://stackoverflow.com/users/7493005/vipin-yadav"}, "reply_to_user": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "edited": false, "score": 0, "creation_date": 1565799478, "post_id": 57482434, "comment_id": 101466648, "body": "Which version of antd you are using can you update your antd version and then check"}, {"owner": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "edited": false, "score": 1, "creation_date": 1565891134, "post_id": 57482434, "comment_id": 101495882, "body": "I&#180;m not really sure about which AntD version I&#180;m using, however, here is the original source code I&#180;m trying to replicate: <a href=\"https://ant.design/components/table/#components-table-demo-drag-sorting\" rel=\"nofollow noreferrer\">ant.design/components/table/#components-table-demo-drag-sort&zwnj;&#8203;ing</a>"}], "tags": [], "owner": {"reputation": 713, "user_id": 7493005, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OrZSfTVhzrM/AAAAAAAAAAI/AAAAAAAAFng/diWCDW70mDQ/photo.jpg?sz=128", "display_name": "Vipin Yadav", "link": "https://stackoverflow.com/users/7493005/vipin-yadav"}, "is_accepted": false, "score": 0, "last_activity_date": 1565716318, "creation_date": 1565716318, "answer_id": 57482434, "question_id": 57482068, "link": "https://stackoverflow.com/questions/57482068/react-antdesign-how-to-make-rows-draggable-table-drag-sorting/57482434#57482434", "title": "React/AntDesign How to make rows draggable? (Table Drag Sorting)", "body": "<p>have you added CSS of antd sortable table to show the dragging effect?</p>\n\n<pre><code>#components-table-demo-drag-sorting tr.drop-over-downward td {\n  border-bottom: 2px dashed #1890ff;\n}\n\n#components-table-demo-drag-sorting tr.drop-over-upward td {\n  border-top: 2px dashed #1890ff;\n}\n</code></pre>\n\n<p>here is the <a href=\"https://codesandbox.io/s/interesting-pasteur-81odq\" rel=\"nofollow noreferrer\">sandbox link</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 12318597, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FFakTjCmaPY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdd7xikILi4Xa1nh6Ji2ymgwE8-9g/photo.jpg?sz=128", "display_name": "Matt Aertker", "link": "https://stackoverflow.com/users/12318597/matt-aertker"}, "is_accepted": false, "score": 2, "last_activity_date": 1572845498, "creation_date": 1572845498, "answer_id": 58687666, "question_id": 57482068, "link": "https://stackoverflow.com/questions/57482068/react-antdesign-how-to-make-rows-draggable-table-drag-sorting/58687666#58687666", "title": "React/AntDesign How to make rows draggable? (Table Drag Sorting)", "body": "<p>Here is a simple example I came up with based off of a lot of different things I found online and eventually formulated something that worked for my code:</p>\n\n<p>Basically this is the body of a react component table getting called and I am mapping a list of places via the indexes and each row is draggable to allow the user to modify the table. I have also included the function calls associated with the  attributes</p>\n\n<pre><code>return (\n        &lt;Tbody&gt;\n            {items.map((item, index) =&gt; (\n                    &lt;Tr key={index} className=\"item.name\"\n                        draggable={true}\n                        onDragStart={this.dragstart}\n                        onDragEnd={this.dragend}\n                        onDragLeave={this.dragend}\n                        onDragEnter={this.dragend}\n                        onDrop={this.drop}\n                        onDragOver={this.dragend}\n                        id={index} &gt;\n                        &lt;Td&gt;&lt;span&gt;{item.name}&lt;/span&gt;&lt;/Td&gt;\n                        &lt;Td&gt;&lt;span&gt;{item.latitude}&lt;/span&gt;&lt;/Td&gt;\n                        &lt;Td&gt;&lt;span&gt;{item.longitude}&lt;/span&gt;&lt;/Td&gt;\n                        &lt;Td type=\"data\"&gt;&lt;span&gt;{this.checkForZero(this.props.propDistances[index])}&lt;/span&gt;&lt;/Td&gt;\n                        &lt;Td type=\"data\"&gt;&lt;span&gt;{this.checkForZero(this.props.propCumulativeDist[index])}&lt;/span&gt;&lt;/Td&gt;\n                    &lt;/Tr&gt;\n            ))}\n            {this.finishItineraryTable()}\n        &lt;/Tbody&gt;\n    );\n\ndragstart(event) {\n    let dataTransfer = event.dataTransfer;\n    let node = event.target;\n    dataTransfer.setData('text/plain',node.innerHTML);\n    dataTransfer.setData('id',node.id);\n    event.stopPropagation();\n}\n\ndragend(event) {\n    event.preventDefault();\n}\n\ndrop(event) {\n    event.preventDefault();\n    let dragObjHtml = event.dataTransfer.getData(\"text/plain\");\n    let dragObjId = document.getElementById(event.dataTransfer.getData(\"id\"));\n    let dropTarget = event.target.closest(\"tr\");\n    let temp = dropTarget.innerHTML;\n    dropTarget.innerHTML = dragObjHtml;\n    dragObjId.innerHTML = temp;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6569, "user_id": 371530, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UJz1r.jpg?s=128&g=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/371530/robin"}, "is_accepted": false, "score": 0, "last_activity_date": 1579560831, "creation_date": 1579560831, "answer_id": 59831943, "question_id": 57482068, "link": "https://stackoverflow.com/questions/57482068/react-antdesign-how-to-make-rows-draggable-table-drag-sorting/59831943#59831943", "title": "React/AntDesign How to make rows draggable? (Table Drag Sorting)", "body": "<p>Before a paste my long blob of code, I want to mention a few things:</p>\n\n<ul>\n<li>It's heavily based on the <a href=\"https://ant.design/components/table/#components-table-demo-drag-sorting\" rel=\"nofollow noreferrer\">original drag sorting example</a>.</li>\n<li>Luckily <a href=\"https://react-dnd.github.io/react-dnd/\" rel=\"nofollow noreferrer\">React DnD</a> has perfect TypeScript support as it's written in TypeScript.</li>\n<li>The code below is a drop in replacement for Ant designs <code>&lt;table&gt;</code>.</li>\n<li>It's generic.</li>\n<li>It uses functional components and hooks.</li>\n<li>There is a <code>onDragSort</code>, which gets called back every time some drag sort happened. The parameter includes the sorted data.</li>\n</ul>\n\n<p>First install the packages <code>react-dnd</code> and <code>react-dnd-html5-backend</code>. Add this to your <code>DragSortingTable.tsx</code>:</p>\n\n<pre><code>import * as React from 'react';\nimport Table, { TableProps, TableComponents } from 'antd/lib/table';\nimport { DndProvider, DropTarget, DragSource, DragElementWrapper, DropTargetSpec } from 'react-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\n\nlet dragingIndex = -1;\n\ninterface BodyRowProps {\n  isOver: boolean;\n  connectDragSource: DragElementWrapper&lt;{}&gt;;\n  connectDropTarget: DragElementWrapper&lt;{}&gt;;\n  style?: React.CSSProperties;\n  index: number;\n  className?: string;\n}\n\nconst BodyRow: React.FC&lt;BodyRowProps&gt; = props =&gt; {\n  const style = { ...props.style, cursor: 'move' };\n\n  let { className } = props;\n  if (props.isOver) {\n    if (props.index &gt; dragingIndex) {\n      className += ' drop-over-downward';\n    }\n    if (props.index &lt; dragingIndex) {\n      className += ' drop-over-upward';\n    }\n  }\n\n  return props.connectDragSource(\n    props.connectDropTarget(\n      &lt;tr className={className} style={style}&gt;\n        {props.children}\n      &lt;/tr&gt;\n    )\n  );\n};\n\nconst rowSource = {\n  beginDrag(props) {\n    dragingIndex = props.index;\n    return {\n      index: props.index\n    };\n  }\n};\n\ninterface DropProps {\n  index: number;\n  moveRow: (dragIndex: number, hoverIndex: number) =&gt; void;\n}\n\nconst rowTarget: DropTargetSpec&lt;DropProps&gt; = {\n  drop(props, monitor) {\n    const dragIndex = monitor.getItem().index;\n    const hoverIndex = props.index;\n\n    // Don't replace items with themselves\n    if (dragIndex === hoverIndex) {\n      return;\n    }\n\n    // Time to actually perform the action\n    props.moveRow(dragIndex, hoverIndex);\n\n    // Note: we're mutating the monitor item here!\n    // Generally it's better to avoid mutations,\n    // but it's good here for the sake of performance\n    // to avoid expensive index searches.\n    monitor.getItem().index = hoverIndex;\n  }\n};\n\nconst DragableBodyRow = DropTarget&lt;DropProps&gt;('row', rowTarget, (connect, monitor) =&gt; ({\n  connectDropTarget: connect.dropTarget(),\n  isOver: monitor.isOver()\n}))(\n  DragSource('row', rowSource, connect =&gt; ({\n    connectDragSource: connect.dragSource()\n  }))(BodyRow)\n);\n\ninterface DragSortingTableProps&lt;T&gt; extends TableProps&lt;T&gt; {\n  onDragSort?: (sortedData: T[]) =&gt; void;\n}\n\ntype extractTableType&lt;T&gt; = T extends DragSortingTableProps&lt;infer T&gt; ? T : never;\n\nexport const DragSortingTable: &lt;T&gt;(\n  props: DragSortingTableProps&lt;T&gt;\n) =&gt; React.ReactElement&lt;DragSortingTableProps&lt;T&gt;&gt; = props =&gt; {\n  const [dataSource, setDataSource] = React.useState(props.dataSource);\n\n  React.useEffect(() =&gt; {\n    setDataSource(props.dataSource);\n  }, [props.dataSource]);\n\n  const components: TableComponents = {\n    body: {\n      row: DragableBodyRow\n    }\n  };\n\n  const moveRow: DropProps['moveRow'] = (dragIndex, hoverIndex) =&gt; {\n    const dragRow = dataSource[dragIndex];\n    const remaining = dataSource.filter(i =&gt; i !== dragRow);\n    const sorted = [...remaining.slice(0, hoverIndex), dragRow, ...remaining.slice(hoverIndex)];\n\n    setDataSource(sorted);\n\n    if (props.onDragSort) {\n      props.onDragSort(sorted);\n    }\n  };\n\n  const tableProps: TableProps&lt;extractTableType&lt;typeof props&gt;&gt; = {\n    ...props,\n    className: props.className ? props.className + ' drag-sorting-table' : 'drag-sorting-table',\n    components,\n    dataSource,\n    onRow: (_record, index) =&gt; ({ index, moveRow })\n  };\n\n  return (\n    &lt;DndProvider backend={HTML5Backend}&gt;\n      &lt;Table {...tableProps}&gt;{props.children}&lt;/Table&gt;\n    &lt;/DndProvider&gt;\n  );\n};\n</code></pre>\n\n<p>Add the following styles to your <code>antd.less</code> overwrites:</p>\n\n<pre><code>.drag-sorting-table tr.drop-over-downward td {\n  border-bottom: 2px dashed @primary-color;\n}\n\n.drag-sorting-table tr.drop-over-upward td {\n  border-top: 2px dashed @primary-color;\n}\n</code></pre>\n\n<p>Use your new drag sorting table as follows:</p>\n\n<pre><code>&lt;DragSortingTable&lt;Users&gt;\n      dataSource={props.users}\n      rowKey='id'\n    &gt;\n      &lt;Column\n        title='Title'\n        dataIndex='id'\n        key='id'\n      /&gt;\n&lt;/DragSortingTable&gt;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 11923491, "user_type": "registered", "profile_image": "https://graph.facebook.com/2387476414666349/picture?type=large", "display_name": "Adri&#225;n M&#233;ndez", "link": "https://stackoverflow.com/users/11923491/adri%c3%a1n-m%c3%a9ndez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7624, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1579560831, "creation_date": 1565714538, "last_edit_date": 1565718359, "question_id": 57482068, "link": "https://stackoverflow.com/questions/57482068/react-antdesign-how-to-make-rows-draggable-table-drag-sorting", "title": "React/AntDesign How to make rows draggable? (Table Drag Sorting)", "body": "<p>I have been coding this simple one-column drag and drop table, but the rows aren\u00b4t moving when I drag them. Where do I fix or check that?</p>\n\n<p>I'm using React, AntDesign and JavaScript (with TypeScript)</p>\n\n<pre><code>import * as React from 'react';\n\nimport ReactDOM from \"react-dom\";\n\nimport { Table } from \"antd\";\n\nimport { DndProvider, DragSource, DropTarget } from \"react-dnd\";\n\nimport HTML5Backend from \"react-dnd-html5-backend\";\n\nimport update from \"immutability-helper\";\n\nlet dragingIndex = -1;\n\ninterface propsDD {\n    isOver: any,\n    connectDragSource: any,\n    connectDropTarget: any,\n    moveRow: any,\n    restProps: {\n        readonly [x: string]: any;\n        children?: React.ReactNode;\n    }\n    className: any,\n    index: any,\n}\n\nclass BodyRow extends React.Component&lt;propsDD&gt;{\n    render() {\n        const { isOver, connectDragSource, connectDropTarget, moveRow, ...restProps } = this.props;\n        const style = { ...restProps, cursor: 'move' };\n        let { className } = restProps;\n        if (isOver) {\n            if (restProps.index &gt; dragingIndex) {\n                className += \" drop-over-downward\";\n            }\n            if (restProps.index &lt; dragingIndex) {\n                className += \" drop-over-upward\";\n            }\n        }\n        return connectDragSource(\n            connectDropTarget(\n                &lt;tr {...restProps} className={className} style={style} /&gt;\n            )\n        );\n    }\n}\n\nconst rowSource = {\n    beginDrag(props: any) {\n        dragingIndex = props.index;\n        return {\n            index: props.index,\n        };\n    },\n};\n\nconst rowTarget = {\n    drop(props: any, monitor: any) {\n        const dragIndex = monitor.getItem().index;\n        const hoverIndex = props.index;\n        if (dragIndex === hoverIndex) {\n            return;\n        }\n        props.moveRow(dragIndex, hoverIndex);\n        monitor.getItem().index = hoverIndex;\n    },\n};\n\nconst DragableBodyRow = DropTarget(\"row\", rowTarget, (connect, monitor) =&gt; ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver()\n}))(\n    DragSource(\"row\", rowSource, connect =&gt; ({\n        connectDragSource: connect.dragSource()\n    }))(BodyRow)\n);\n\nconst columns = [\n    {\n        title: 'Orden de Ejecuci\u00f3n',\n        dataIndex: 'attributes.name',\n        key: 'name',\n    },\n];\n\ntype propsFromList = {\n    receivedTasks: Task[],\n    onReceivedTasks: (tasks: Task[]) =&gt; void,\n}\n\nexport default class DDTasks extends React.Component&lt;propsFromList, State&gt;{\n    public state: State = {\n        data: [],\n    };\n\n    components = {\n        body: {\n            row: DragableBodyRow,\n        },\n    };\n\n    onReceivedTasks(tasks: Task[]): void {\n        this.setState({\n            data: this.props.receivedTasks,\n        } as State)\n    }\n\n    moveRow = (dragIndex: any, hoverIndex: any) =&gt; {\n        const { data } = this.state;\n        const dragRow = data[dragIndex];\n        this.setState(\n            update(this.state, {\n                data: {\n                    $splice: [[dragIndex, 1], [hoverIndex, 0, dragRow]]\n                }\n            })\n        );\n    };\n\n    render() {\n        return (\n            &lt; DndProvider backend={HTML5Backend} &gt;\n                &lt;Table\n                    rowKey=\"id\"\n                    bordered={true}\n                    pagination={false}\n                    columns={columns}\n                    dataSource={this.props.receivedTasks}\n                    components={this.components}\n                    onRow={(index) =&gt; ({\n                        index,\n                        moveRow: this.moveRow,\n                    })}\n                /&gt;\n            &lt;/DndProvider &gt;\n        );\n    }\n}\n</code></pre>\n\n<p>I expect to drag rows. The content of the rows are actually displayed.</p>\n"}]