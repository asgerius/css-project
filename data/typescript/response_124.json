[{"tags": ["angular", "typescript", "settimeout"], "answers": [{"comments": [{"owner": {"reputation": 505, "user_id": 7638553, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-ngIx5RORnlI/AAAAAAAAAAI/AAAAAAAAKOQ/mn1Db_vLkU0/photo.jpg?sz=128", "display_name": "Poonkodi Sivapragasam", "link": "https://stackoverflow.com/users/7638553/poonkodi-sivapragasam"}, "edited": false, "score": 0, "creation_date": 1495666531, "post_id": 44169540, "comment_id": 75355268, "body": "Thanks a lot! That worked. Cant believe that is the mistake."}, {"owner": {"reputation": 21050, "user_id": 3120193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1TvC.png?s=128&g=1", "display_name": "Michael P. Bazos", "link": "https://stackoverflow.com/users/3120193/michael-p-bazos"}, "reply_to_user": {"reputation": 505, "user_id": 7638553, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-ngIx5RORnlI/AAAAAAAAAAI/AAAAAAAAKOQ/mn1Db_vLkU0/photo.jpg?sz=128", "display_name": "Poonkodi Sivapragasam", "link": "https://stackoverflow.com/users/7638553/poonkodi-sivapragasam"}, "edited": false, "score": 0, "creation_date": 1495668090, "post_id": 44169540, "comment_id": 75355702, "body": "Welcome:) I added the explanation for reference."}, {"owner": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "reply_to_user": {"reputation": 505, "user_id": 7638553, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-ngIx5RORnlI/AAAAAAAAAAI/AAAAAAAAKOQ/mn1Db_vLkU0/photo.jpg?sz=128", "display_name": "Poonkodi Sivapragasam", "link": "https://stackoverflow.com/users/7638553/poonkodi-sivapragasam"}, "edited": false, "score": 1, "creation_date": 1495668733, "post_id": 44169540, "comment_id": 75355881, "body": "Also @PoonkodiSivapragasam you want to gain access to other functions within the class you need to either use the arrow syntax or <code>.bind(this)</code>"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "reply_to_user": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "edited": false, "score": 0, "creation_date": 1495669548, "post_id": 44169540, "comment_id": 75356064, "body": "@cgatian indeed or, since there is no instance state, why not make it a <code>function</code>?"}, {"owner": {"reputation": 505, "user_id": 7638553, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-ngIx5RORnlI/AAAAAAAAAAI/AAAAAAAAKOQ/mn1Db_vLkU0/photo.jpg?sz=128", "display_name": "Poonkodi Sivapragasam", "link": "https://stackoverflow.com/users/7638553/poonkodi-sivapragasam"}, "reply_to_user": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "edited": false, "score": 0, "creation_date": 1495845100, "post_id": 44169540, "comment_id": 75435709, "body": "@cgatian I have added .bind(this) in the showTimeout method to gain access to the local variables used within the class. However, the value is still undefined. Am i missing something? Please see the code below: bootbox.alert(&quot;You are being timed out due to inactivity!&quot;, function(){ window.location.assign(this.logoutUrl)}.bind(this));"}], "tags": [], "owner": {"reputation": 21050, "user_id": 3120193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w1TvC.png?s=128&g=1", "display_name": "Michael P. Bazos", "link": "https://stackoverflow.com/users/3120193/michael-p-bazos"}, "is_accepted": true, "score": 6, "last_activity_date": 1495667971, "last_edit_date": 1495667971, "creation_date": 1495665239, "answer_id": 44169540, "question_id": 44169490, "link": "https://stackoverflow.com/questions/44169490/settimeout-not-working-with-angular2-typescript/44169540#44169540", "title": "setTimeout not working with angular2 typescript", "body": "<p>It should be</p>\n\n<pre><code>this.timeoutTimer = setTimeout(this.showTimeout, &lt;arg2&gt;);  // correct\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>this.timeoutTimer = setTimeout(this.showTimeout(), &lt;arg2&gt;);  // wrong\n</code></pre>\n\n<p>because in the latter, you are immediately invoking the callback function instead of passing the reference.</p>\n"}], "owner": {"reputation": 505, "user_id": 7638553, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-ngIx5RORnlI/AAAAAAAAAAI/AAAAAAAAKOQ/mn1Db_vLkU0/photo.jpg?sz=128", "display_name": "Poonkodi Sivapragasam", "link": "https://stackoverflow.com/users/7638553/poonkodi-sivapragasam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6182, "favorite_count": 0, "accepted_answer_id": 44169540, "answer_count": 1, "score": 0, "last_activity_date": 1495667971, "creation_date": 1495664987, "question_id": 44169490, "link": "https://stackoverflow.com/questions/44169490/settimeout-not-working-with-angular2-typescript", "title": "setTimeout not working with angular2 typescript", "body": "<p>This is the html code from where i am checking for if the page is idle. And if its idle for a while I need to throw inactivity alert and logout the user. </p>\n\n<pre><code>&lt;div *ngIf=\"environmentData\" xmlns=\"http://java.sun.com/jsf/html\" (load)=\"startTimers()\" (mousemove)=\"resetTimers()\" (keypress)=\"resetTimers()\"&gt;\n</code></pre>\n\n<p>The functions are defined in typescript component like below: timoutNow variable is set for 10 minutes. But the screen pops the alert everytime the mouse moved or a key is pressed. Why is it not waiting for that time that i have set before showing the alert? </p>\n\n<pre><code>// Start timers.\n  startTimers() {\n    console.log(\"inside start timers method\");\n    console.log(\"time out number is \"+this.timoutNow);\n    this.timeoutTimer = setTimeout(this.showTimeout(), this.timoutNow);\n    // window.location.href = this.environmentData.logoutUrl;\n  }\n\n  showTimeout(){\n    console.log(\"inside show timeout\");\n    bootbox.alert(\"You are being timed out due to inactivity!\");\n  }\n\n  // Reset timers.\n  resetTimers() {\n    console.log(\"inside reset timers method\");\n    clearTimeout(this.timeoutTimer);\n    this.startTimers();\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1495661051, "post_id": 44168660, "comment_id": 75353408, "body": "Regarding question #2, how did you decide which typings to install?  Its the same answer."}], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 0, "creation_date": 1495746898, "post_id": 44170004, "comment_id": 75393809, "body": "I did that. So now after migrating to <code>@types</code>, I am getting the following error in my console when I try to run the application: <code>ERROR TypeError: directive.ngOnChanges is not a function</code>. Not sure if it related to <code>@types</code> but no other changes have been made"}, {"owner": {"reputation": 6531, "user_id": 3159399, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5KyZP.jpg?s=128&g=1", "display_name": "Daniel Kucal", "link": "https://stackoverflow.com/users/3159399/daniel-kucal"}, "reply_to_user": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 0, "creation_date": 1495747984, "post_id": 44170004, "comment_id": 75394278, "body": "Hmm, first time seeing this one. Do you have any stack trace to localize where in the code is the problem?"}, {"owner": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 0, "creation_date": 1495748287, "post_id": 44170004, "comment_id": 75394377, "body": "I will update the original question with what I see in the Console, since it is too long to post here"}, {"owner": {"reputation": 6531, "user_id": 3159399, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5KyZP.jpg?s=128&g=1", "display_name": "Daniel Kucal", "link": "https://stackoverflow.com/users/3159399/daniel-kucal"}, "reply_to_user": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 0, "creation_date": 1495750917, "post_id": 44170004, "comment_id": 75395281, "body": "Can you search your project for &quot;directive.ngOnChanges&quot;?"}, {"owner": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 0, "creation_date": 1495751365, "post_id": 44170004, "comment_id": 75395436, "body": "So I debugged the code and found out where this error is coming from. But no changes have been made to this function. It is a <code>@Directive</code> where I&#39;m looking for changes"}, {"owner": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "edited": false, "score": 1, "creation_date": 1495751436, "post_id": 44170004, "comment_id": 75395462, "body": "Solved it. I was extending <code>@angular&#47;core&#47;type</code> to declare the <code>componentRef</code>. I removed it and see no more errors"}], "tags": [], "owner": {"reputation": 6531, "user_id": 3159399, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5KyZP.jpg?s=128&g=1", "display_name": "Daniel Kucal", "link": "https://stackoverflow.com/users/3159399/daniel-kucal"}, "is_accepted": true, "score": 0, "last_activity_date": 1495668309, "creation_date": 1495668309, "answer_id": 44170004, "question_id": 44168660, "link": "https://stackoverflow.com/questions/44168660/migrate-from-typings-to-types-with-typescript2-0-3/44170004#44170004", "title": "Migrate from &quot;typings&quot; to &quot;@types&quot; with typescript@2.0.3", "body": "<ol>\n<li>Yes, you should remove typings from your configuration files, the <code>typings</code> directory and so do with 3. typings.json. However you should then configure <code>@types</code> in <code>tsconfig.json</code>:</li>\n</ol>\n\n<hr>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"typeRoots\": [ // it should do the job\n      \"node_modules/@types\"\n    ],\n    \"types\": [ // alternatively here you can list needed typings\n      \"node\",\n      \"jasmine\",\n      \"webpack\",\n      \"lodash\"\n      // ... etc.\n    ]\n  }\n}\n</code></pre>\n\n<p>2. Libraries that were using <code>typings</code> now will need corresponding <code>@types</code> packages. The easiest way to find them is <a href=\"https://www.npmjs.com/search?q=%40types\" rel=\"nofollow noreferrer\">npmjs.com search engine</a> and then install them like:</p>\n\n<pre><code>npm install @types/webpack --save\n</code></pre>\n\n<p>Hope it helps you.</p>\n"}], "owner": {"reputation": 594, "user_id": 3344978, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/65ddb6380f210b1ee34bc42eadcc1e99?s=128&d=identicon&r=PG&f=1", "display_name": "user3344978", "link": "https://stackoverflow.com/users/3344978/user3344978"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 0, "accepted_answer_id": 44170004, "answer_count": 1, "score": 2, "last_activity_date": 1495748571, "creation_date": 1495660921, "last_edit_date": 1495748571, "question_id": 44168660, "link": "https://stackoverflow.com/questions/44168660/migrate-from-typings-to-types-with-typescript2-0-3", "title": "Migrate from &quot;typings&quot; to &quot;@types&quot; with typescript@2.0.3", "body": "<p>My Angular application is currently at <code>4.1.3</code> with <code>Typescript@2.0.3</code>. I read that with <code>Typescript</code> greater than 2.0, <code>@types</code> should be used. </p>\n\n<p>Currently I have typings installed in the application. To migrate to using <code>@types</code>, I have 3 questions:</p>\n\n<p>1.Should I simply remove <code>typings</code> from <code>package.json</code> and <code>tsconfig.json</code>? and install <code>@types</code> packages?</p>\n\n<ol start=\"2\">\n<li>How do i decide what <code>@types</code> packages to install for my application?</li>\n<li>Also should I delete <code>typings.json</code> file?</li>\n</ol>\n\n<p>package.json:</p>\n\n<pre><code>{\n\"homepage\": \"https://github.com/angularclass/angular2-webpack-starter\",\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"rimraf\": \"rimraf\",\n    \"tslint\": \"tslint\",\n    \"typedoc\": \"typedoc\",\n    \"typings\": \"typings\",\n    \"webpack\": \"webpack\",\n    \"webpack-dev-server\": \"webpack-dev-server\",\n    \"webdriver-manager\": \"webdriver-manager\",\n    \"protractor\": \"protractor\",\n    \"clean\": \"npm cache clean &amp;&amp; npm run rimraf -- node_modules doc typings coverage dist\",\n    \"clean:dist\": \"npm run rimraf -- dist\",\n    \"preclean:install\": \"npm run clean\",\n    \"clean:install\": \"npm set progress=false &amp;&amp; npm install\",\n    \"preclean:start\": \"npm run clean\",\n    \"clean:start\": \"npm start\",\n    \"watch\": \"npm run watch:local\",\n    \"watch:dev\": \"npm run build:dev -- --watch\",\n    \"watch:local\": \"npm run build:local -- --watch\",\n    \"watch:dev:hmr\": \"npm run watch:dev -- --hot\",\n    \"watch:test\": \"npm run test -- --auto-watch --no-single-run\",\n    \"watch:uat\": \"npm run uat -- --auto-watch --no-single-run\",\n    \"watch:prod\": \"npm run build:prod -- --watch\",\n    \"build\": \"npm run build:local\",\n    \"prebuild:dev\": \"npm run clean:dist\",\n    \"build:dev\": \"webpack --config config/webpack.dev.js --progress --profile --colors --display-error-details --display-cached\",\n    \"build:local\": \"webpack --config config/webpack.local.js --progress --profile --colors --display-error-details --display-cached\",\n    \"build:devplus\": \"webpack --config config/webpack.devplus.js --progress --profile --colors --display-error-details --display-cached\",\n    \"build:test\": \"webpack --config config/webpack.test.js --progress --profile --colors --display-error-details --display-cached --bail\",\n    \"build:uat\": \"webpack --config config/webpack.uat.js --progress --profile --colors --display-error-details --display-cached --bail\",\n    \"prebuild:prod\": \"npm run clean:dist\",\n    \"build:prod\": \"webpack --config config/webpack.prod.js --progress --profile --colors --display-error-details --display-cached --bail\",\n    \"server\": \"npm run server:dev\",\n    \"server:dev\": \"webpack-dev-server --config config/webpack.dev.js --inline --progress --profile --colors --watch --display-error-details --display-cached --content-base src/\",\n    \"server:local\": \"webpack-dev-server --config config/webpack.local.js --inline --progress --profile --colors --watch --display-error-details --display-cached --content-base src/\",\n    \"server:dev:hmr\": \"npm run server:dev -- --hot\",\n    \"server:prod\": \"http-server dist --cors\",\n    \"webdriver:update\": \"npm run webdriver-manager update\",\n    \"webdriver:start\": \"npm run webdriver-manager start\",\n    \"lint\": \"npm run tslint 'src/**/*.ts'\",\n    \"pree2e\": \"npm run webdriver:update -- --standalone\",\n    \"e2e\": \"npm run protractor\",\n    \"e2e:live\": \"npm run e2e -- --elementExplorer\",\n    \"pretest\": \"npm run lint\",\n    \"test\": \"node --max-old-space-size=4096 node_modules/karma/bin/karma start\",\n    \"ci\": \"npm run e2e &amp;&amp; npm run test\",\n    \"docs\": \"npm run typedoc -- --options typedoc.json --exclude '**/*.spec.ts' ./src/\",\n    \"start\": \"npm run server:local\",\n    \"start:hmr\": \"npm run server:dev:hmr\",\n    \"postinstall\": \"npm run typings -- install\",\n    \"preversion\": \"npm test\",\n    \"version\": \"npm run build\",\n    \"postversion\": \"git push &amp;&amp; git push --tags\"\n  },\n  \"dependencies\": {\n    \"@angular/common\": \"~4.1.3\",\n    \"@angular/compiler\": \"~4.1.3\",\n    \"@angular/core\": \"~4.1.3\",\n    \"@angular/forms\": \"~4.1.3\",\n    \"@angular/http\": \"~4.1.3\",\n    \"@angular/platform-browser\": \"~4.1.3\",\n    \"@angular/platform-browser-dynamic\": \"~4.1.3\",\n    \"@angular/router\": \"~4.1.3\",\n    \"@angular/router-deprecated\": \"2.0.0-rc.2\",\n    \"@angular/upgrade\": \"~4.1.3\",\n    \"angular2-toaster\": \"1.0.1\",\n    \"core-js\": \"^2.4.1\",\n    \"css-loader\": \"0.23.1\",\n    \"fullcalendar\": \"^2.7.1\",\n    \"hammerjs\": \"^2.0.8\",\n    \"intl\": \"1.2.4\",\n    \"jquery\": \"2.2.2\",\n    \"jquery-ui\": \"1.10.5\",\n    \"lodash\": \"^4.17.4\",\n    \"ng2-auto-complete\": \"^0.7.0\",\n    \"ng2-cookies\": \"^0.1.5\",\n    \"ng2-file-upload\": \"^1.0.0-beta.1\",\n    \"node-sass\": \"^3.8.0\",\n    \"normalize.css\": \"^4.1.1\",\n    \"path-to-regexp\": \"^1.5.3\",\n    \"postcss\": \"^5.0.19\",\n    \"postcss-loader\": \"^0.8.2\",\n    \"primeng\": \"1.0.0-beta.15\",\n    \"primeui\": \"4.1.10\",\n    \"resolve-url-loader\": \"^1.6.0\",\n    \"rxjs\": \"^5.0.1\",\n    \"sass-loader\": \"^3.2.3\",\n    \"style-loader\": \"^0.13.1\",\n    \"tether\": \"^1.2.0\",\n    \"url-loader\": \"^0.5.7\",\n    \"zone.js\": \"^0.8.4\"\n  },\n  \"devDependencies\": {\n    \"angular2-hmr\": \"~0.5.5\",\n    \"awesome-typescript-loader\": \"~0.17.0\",\n    \"babel-core\": \"^6.18.2\",\n    \"babel-loader\": \"^6.2.8\",\n    \"babel-plugin-transform-es2015-modules-commonjs-simple\": \"^6.7.0\",\n    \"babel-preset-es2015\": \"^6.1.18\",\n    \"babel-preset-es2015-webpack\": \"^6.4.0\",\n    \"bootstrap\": \"4.0.0-alpha.2\",\n    \"bootstrap-loader\": \"1.0.10\",\n    \"codelyzer\": \"0.0.15\",\n    \"compression-webpack-plugin\": \"^0.3.1\",\n    \"copy-webpack-plugin\": \"^2.1.3\",\n    \"css-loader\": \"^0.23.1\",\n    \"es6-promise\": \"^3.1.2\",\n    \"es6-promise-loader\": \"^1.0.1\",\n    \"es6-shim\": \"^0.35.0\",\n    \"exports-loader\": \"^0.6.3\",\n    \"expose-loader\": \"^0.7.1\",\n    \"extract-text-webpack-plugin\": \"^1.0.1\",\n    \"file-loader\": \"^0.8.5\",\n    \"html-webpack-plugin\": \"^2.15.0\",\n    \"http-server\": \"^0.9.0\",\n    \"imports-loader\": \"^0.6.5\",\n    \"istanbul-instrumenter-loader\": \"^0.2.0\",\n    \"json-loader\": \"^0.5.4\",\n    \"karma\": \"^0.13.22\",\n    \"karma-chrome-launcher\": \"^0.2.3\",\n    \"karma-coverage\": \"^0.5.5\",\n    \"karma-jasmine\": \"^0.3.8\",\n    \"karma-mocha-reporter\": \"^2.0.0\",\n    \"karma-phantomjs-launcher\": \"^1.0.0\",\n    \"karma-sourcemap-loader\": \"^0.3.7\",\n    \"karma-webpack\": \"1.7.0\",\n    \"lodash\": \"^4.6.1\",\n    \"moment\": \"^2.11.2\",\n    \"node-sass\": \"3.7.0\",\n    \"npmconf\": \"2.1.2\",\n    \"parse5\": \"^2.1.5\",\n    \"phantomjs-polyfill\": \"0.0.2\",\n    \"phantomjs-prebuilt\": \"^2.1.7\",\n    \"protractor\": \"^3.2.2\",\n    \"raw-loader\": \"0.5.1\",\n    \"reflect-metadata\": \"^0.1.3\",\n    \"remap-istanbul\": \"^0.6.3\",\n    \"resolve-url-loader\": \"^1.4.3\",\n    \"rimraf\": \"^2.5.2\",\n    \"sass-loader\": \"^3.2.0\",\n    \"source-map-loader\": \"^0.1.5\",\n    \"style-loader\": \"^0.13.1\",\n    \"ts-helpers\": \"1.1.1\",\n    \"ts-node\": \"^0.7.1\",\n    \"tslint\": \"^3.7.1\",\n    \"tslint-loader\": \"^2.1.3\",\n    \"typedoc\": \"^0.3.12\",\n    \"typescript\": \"2.0.3\",\n    \"typings\": \"^1.5.0\",\n    \"url-loader\": \"^0.5.7\",\n    \"webpack\": \"^1.12.14\",\n    \"webpack-dev-server\": \"^1.14.1\",\n    \"webpack-load-plugins\": \"^0.1.2\",\n    \"webpack-md5-hash\": \"^0.0.5\",\n    \"webpack-merge\": \"^0.12.0\",\n    \"webpack-validator\": \"^1.0.0-beta.4\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/angularclass/angular2-webpack-starter.git\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/angularclass/angular2-webpack-starter/issues\"\n  },\n  \"engines\": {\n    \"node\": \"&gt;= 4.2.1\",\n    \"npm\": \"&gt;= 3\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>    {\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"lib\" : [\"es2015\", \"es6\", \"es7\", \"dom\", \"es2015.iterable\"],\n    \"noImplicitAny\": false,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"sourceMap\": true,\n    \"skipLibCheck\": true,\n    \"noEmitHelpers\": true,\n    \"allowJs\" : true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"typings/modules\",\n    \"typings\"\n  ],\n  \"filesGlob\": [\n    \"./src/**/*.ts\",\n    \"./test/**/*.ts\",\n    \"!./node_modules/**/*.ts\",\n    \"src/custom_typings.d.ts\",\n    \"typings/index.d.ts\"\n  ],\n  \"awesomeTypescriptLoaderOptions\": {\n    \"resolveGlobs\": true,\n    \"forkChecker\": true\n  },\n  \"compileOnSave\": false,\n  \"buildOnSave\": false,\n  \"atom\": { \"rewriteTsconfig\": false }\n}\n</code></pre>\n\n<p>Upon migrating from <code>typings</code> to <code>@types</code>, I am facing the following issue when I try to run my application:</p>\n\n<pre><code>errors.ts?f2f7:42 ERROR TypeError: directive.ngOnChanges is not a function\nat checkAndUpdateDirectiveInline (eval at 3 \n\n(http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:10819:19)\n    at checkAndUpdateNodeInline (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12245:17)\n    at checkAndUpdateNode (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12184:16)\n    at prodCheckAndUpdateNode (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12711:5)\n    at Object.eval [as updateDirectives] (ng:///AppModule/EventContainer.ngfactory.js:83:5)\n    at Object.updateDirectives (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12625:72)\n    at checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12151:14)\n    at callViewAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12514:21)\n    at execEmbeddedViewsAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12472:17)\n    at checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12152:5)\n    at callViewAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12514:21)\n    at execComponentViewsAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12446:13)\n    at checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12157:5)\n    at callViewAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12514:21)\n    at execComponentViewsAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12446:13)\n    at checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12157:5)\n    at callViewAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12514:21)\n    at execEmbeddedViewsAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12472:17)\n    at checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12152:5)\n    at callViewAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12514:21)\n    at execComponentViewsAction (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12446:13)\n    at Object.checkAndUpdateView (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:12157:5)\n    at ViewRef_.detectChanges (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:10225:63)\n    at eval (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:5082:63)\n    at Array.forEach (native)\n    at ApplicationRef_.tick (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:5082:25)\n    at eval (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4962:106)\n    at ZoneDelegate.invoke (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:391:26)\n    at Object.onInvoke (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4156:37)\n    at ZoneDelegate.invoke (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:390:32)\n    at Zone.run (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:141:43)\n    at NgZone.run (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4024:62)\n    at Object.next (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4962:82)\n    at SafeSubscriber.schedulerFn [as _next] (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:3858:52)\n    at SafeSubscriber.__tryOrUnsub (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:128:2), &lt;anonymous&gt;:238:16)\n    at SafeSubscriber.next (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:128:2), &lt;anonymous&gt;:185:22)\n    at Subscriber._next (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:128:2), &lt;anonymous&gt;:125:26)\n    at Subscriber.next (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:128:2), &lt;anonymous&gt;:89:18)\n    at EventEmitter.Subject.next (eval at 26 (http://localhost:8000/vendor.bundle.js:43:2), &lt;anonymous&gt;:55:25)\n    at EventEmitter.emit (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:3844:76)\n    at NgZone.checkStable (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4121:40)\n    at NgZone.onLeave (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4197:14)\n    at Object.onInvokeTask (eval at 3 (http://localhost:8000/vendor.bundle.js:15:2), &lt;anonymous&gt;:4150:27)\n    at ZoneDelegate.invokeTask (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:423:36)\n    at Zone.runTask (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:191:47)\n    at XMLHttpRequest.ZoneTask.invoke (eval at &lt;anonymous&gt; (http://localhost:8000/polyfills.bundle.js:1392:2), &lt;anonymous&gt;:486:38)\n</code></pre>\n"}, {"tags": ["generics", "typescript", "interface", "union", "intersection"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1495673026, "post_id": 44168636, "comment_id": 75356932, "body": "My solution for type safe form / field states : <a href=\"http://formstate.github.io/\" rel=\"nofollow noreferrer\">formstate.github.io</a> Works everywhere mobx works (react / angular / inferno / vue)."}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1495704897, "post_id": 44168636, "comment_id": 75368669, "body": "Thanks for your input. I will take a look at it. MobX is on my watch list because it is a good approach to state management. But for now, I prefer a TypeScript-only solution (which the question is about)."}], "answers": [{"comments": [{"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "edited": false, "score": 0, "creation_date": 1495837728, "post_id": 44191545, "comment_id": 75434169, "body": "The type <code>InputValues</code> itself should do this (without having to write the member names more than once)."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1495756869, "creation_date": 1495756869, "answer_id": 44191545, "question_id": 44168636, "link": "https://stackoverflow.com/questions/44168636/generic-typescript-interface-with-mixed-member-types/44191545#44191545", "title": "Generic TypeScript interface with mixed member types", "body": "<p>Whenever you have a union <code>Foo | Bar</code> and you want to use it as <code>Foo</code> you have two options: </p>\n\n<h1>Use a type guard</h1>\n\n<p>In your case you just want it to be a <code>string</code> change</p>\n\n<pre><code>const username: string = values.username // ERROR\n</code></pre>\n\n<p>to </p>\n\n<pre><code>const username: string = typeof values.username === 'string' ? values.username : ''; // OKAY\n</code></pre>\n\n<h1>Use a type assertion</h1>\n\n<pre><code>const username: string = values.username as string;\n</code></pre>\n\n<p>Note a <a href=\"https://basarat.gitbooks.io/typescript/docs/types/type-assertion.html\" rel=\"nofollow noreferrer\">type assertion is you telling the compiler \"I know better\"</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "edited": false, "score": 0, "creation_date": 1496090346, "post_id": 44222172, "comment_id": 75508478, "body": "Well I must say, I find that delightful. Really an elegant solution. Many thanks for your help and your excellent answer."}, {"owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "edited": false, "score": 0, "creation_date": 1496351446, "post_id": 44222172, "comment_id": 75640051, "body": "Even if I do not expect a better answer (as in this case), I usually wait until the bounty period ends."}], "tags": [], "owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "is_accepted": true, "score": 3, "last_activity_date": 1495975287, "last_edit_date": 1495975287, "creation_date": 1495924214, "answer_id": 44222172, "question_id": 44168636, "link": "https://stackoverflow.com/questions/44168636/generic-typescript-interface-with-mixed-member-types/44222172#44222172", "title": "Generic TypeScript interface with mixed member types", "body": "<p>First of all, let's explore the type error you're getting. If I ask TypeScript for the type of <code>values.username</code> (by hovering over it in an editor) I get</p>\n\n<pre><code>values.username : string\n                | (string &amp; InputConfig)\n                | (string[] &amp; InputConfig)\n                | (string[] &amp; string)\n</code></pre>\n\n<p>TypeScript has come up with this type by instantiating <code>Inputs</code>'s <code>T</code> parameter to <code>string | string[]</code> and putting <code>username</code>'s type into disjunctive normal form:</p>\n\n<pre><code>(T &amp; InputConfig) | (T &amp; string)\n// set T ~ (string | string[])\n((string | string[]) &amp; InputConfig) | ((string | string[]) &amp; string)\n// distribute &amp; over |\n((string &amp; InputConfig) | (string[] &amp; InputConfig)) | ((string &amp; string) | (string[] &amp; string))\n// reduce (string &amp; string) ~ string, permute union operands\nstring | (string &amp; InputConfig) | (string[] &amp; InputConfig) | (string[] &amp; string)\n</code></pre>\n\n<p>Is a value of this type assignable to <code>string</code>? No! <code>username</code> could be a <code>string[] &amp; InputConfig</code>, so <code>const x : string = values.username</code> is ill typed.</p>\n\n<p>Contrast this with your other type,</p>\n\n<pre><code>configs.username : InputConfig | (InputConfig &amp; string)\n</code></pre>\n\n<p>This type is assignable to <code>InputConfig</code>.</p>\n\n<p>This is a shortcoming of type systems in general: they have a tendency to reject programs which nonetheless would work at runtime. <em>You</em> may know that <code>values.username</code> will always be a <code>string</code>, but you haven't proved it to the satisfaction of the type system, which is just a dumb mechanical formal system. I'd generally argue that well typed programs tend to be easier to understand, and (crucially) easier to <em>keep working</em> as you change the code over time. Nonetheless, working within an advanced type system like TypeScript is an acquired skill, and it's easy to get trapped down a blind alley trying to make the type system do what you want.</p>\n\n<hr>\n\n<p>How can we fix this? I'm a little unclear on what you're trying to achieve, but I'm interpreting your question as \"how can I reuse the field names of a record with a variety of different types?\" This seems like a job for <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a>.</p>\n\n<p>Mapped types are an advanced feature of TypeScript's type system, but the idea is simple: you declare your field names up front as a union of literal types, and then describe a variety of types derived from those field names. Concretely:</p>\n\n<pre><code>type InputFields = \"username\"\n                 | \"password\"\n                 | \"passwordConfirmation\"\n                 | \"firstname\"\n                 | \"lastname\"\n                 | \"hobbies\"\n</code></pre>\n\n<p>Now, <code>InputConfigs</code> is a record with all of those <code>InputFields</code>, each typed as a (<code>readonly</code>) <code>InputConfig</code>. The TypeScript library provides some <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#partial-readonly-record-and-pick\" rel=\"nofollow noreferrer\">useful type combinators</a> for this:</p>\n\n<pre><code>type InputConfigs = Readonly&lt;Record&lt;InputFields, InputConfig&gt;&gt;\n</code></pre>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/blob/bcf84f49589eb00decd0567efcd6d9eb789d5452/lib/lib.d.ts#L1368\" rel=\"nofollow noreferrer\"><code>Readonly</code></a> and <a href=\"https://github.com/Microsoft/TypeScript/blob/bcf84f49589eb00decd0567efcd6d9eb789d5452/lib/lib.d.ts#L1382\" rel=\"nofollow noreferrer\"><code>Record</code></a> are defined respectively as:</p>\n\n<pre><code>type Readonly&lt;T&gt; = {\n    readonly [P in keyof T]: T[P];\n}\ntype Record&lt;K extends string, T&gt; = {\n    [P in K]: T;\n}\n</code></pre>\n\n<p>When applied to the types in question we get:</p>\n\n<pre><code>type InputConfigs = Readonly&lt;Record&lt;InputFields, InputConfig&gt;&gt;\n// expand definition of Record\ntype InputConfigs = Readonly&lt;{ [P in InputFields]: InputConfig; }&gt;\n// expand definition of Readonly\ntype InputConfigs = {\n    readonly [Q in keyof { [P in InputFields]: InputConfig }]: { [P in InputFields]: InputConfig }[Q];\n}\n// inline keyof and subscript operators\ntype InputConfigs = {\n    readonly [Q in InputFields]: InputConfig;\n}\n// expand InputFields indexer\ntype InputConfigs = {\n    readonly username: InputConfig;\n    readonly password: InputConfig;\n    readonly passwordConfirmation: InputConfig;\n    readonly firstname: InputConfig;\n    readonly lastname: InputConfig;\n    readonly hobbies: InputConfig;\n}\n</code></pre>\n\n<hr>\n\n<p><code>InputValues</code> is a bit trickier, because it doesn't map those field names to types in a uniform manner. <code>hobbies</code> is a <code>string[]</code> whereas all the other fields are <code>string</code>s. I don't wanna use <code>Record&lt;InputFields, string | string[]&gt;</code> because that throws away your knowledge of which fields are <code>string</code>s and which are <code>string[]</code>s. (Then you'd be stuck with the same type error as you had in the question.) Instead, let's flip this around and treat <code>InputValues</code> as the source of truth about the field names, and derive <code>InputFields</code> from it using <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-1.html#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">the <code>keyof</code> type operator</a>.</p>\n\n<pre><code>type InputValues = Readonly&lt;{\n    username: string\n    password: string\n    passwordConfirmation: string\n    firstname: string\n    lastname: string\n    hobbies: string[]\n}&gt;\ntype InputFields = keyof InputValues\ntype InputConfigs = Readonly&lt;Record&lt;InputFields, InputConfig&gt;&gt;\n</code></pre>\n\n<p>Now your code type checks without modification.</p>\n\n<pre><code>const configs: InputConfigs = {\n    username: {\n        inputType: \"text\"\n    },\n    password: {\n        inputType: \"password\"\n    },\n    passwordConfirmation: {\n        inputType: \"password\"\n    },\n    firstname: {\n        inputType: \"text\"\n    },\n    lastname: {\n        inputType: \"text\"\n    },\n    hobbies: {\n        inputType: \"list\"\n    }\n}\n\nconst values: InputValues = {\n    username: \"testuser1\",\n    password: \"test1\",\n    passwordConfirmation: \"test1\",\n    firstname: \"Tester\",\n    lastname: \"1\",\n    hobbies: [\"a\", \"b\", \"c\"]\n}\n\nlet usernameConfig: InputConfig = configs.username  // good!\nlet usernameValue: string = values.username  // great!\nlet hobbiesValue: string[] = values.hobbies  // even better! \ud83c\udf89\n</code></pre>\n\n<p>If you have a lot of these types and you want to map them all to config types, I'd even go so far as to define a generic type combinator for deriving types like <code>InputConfigs</code> from <code>InputValues</code>:</p>\n\n<pre><code>type Config&lt;T&gt; = Readonly&lt;Record&lt;keyof T, InputConfig&gt;&gt;\n\ntype InputConfigs = Config&lt;InputValues&gt;\n</code></pre>\n"}], "owner": {"reputation": 3023, "user_id": 580042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9de9c20ec2600c251befe649280678ae?s=128&d=identicon&r=PG", "display_name": "ideaboxer", "link": "https://stackoverflow.com/users/580042/ideaboxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 1, "accepted_answer_id": 44222172, "answer_count": 2, "score": 2, "last_activity_date": 1495975287, "creation_date": 1495660769, "last_edit_date": 1495661106, "question_id": 44168636, "link": "https://stackoverflow.com/questions/44168636/generic-typescript-interface-with-mixed-member-types", "title": "Generic TypeScript interface with mixed member types", "body": "<p>For several HTML forms, I want to configure inputs and deal with their values. My types have the following structure (you may copy it to TypeScript Playground <a href=\"http://www.typescriptlang.org/play\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/play</a> to see it in action):</p>\n\n<pre><code>interface InputConfig {\n    readonly inputType: \"text\" | \"password\" | \"list\"\n    readonly attributes?: ReadonlyArray&lt;string&gt;\n    readonly cssClasses?: ReadonlyArray&lt;string&gt;\n}\n\ninterface Inputs&lt;T extends InputConfig | string | string[]&gt; {\n    readonly username: (T &amp; InputConfig) | (T &amp; string)\n    readonly password: (T &amp; InputConfig) | (T &amp; string)\n    readonly passwordConfirmation: (T &amp; InputConfig) | (T &amp; string)\n    readonly firstname: (T &amp; InputConfig) | (T &amp; string)\n    readonly lastname: (T &amp; InputConfig) | (T &amp; string)\n    readonly hobbies: (T &amp; InputConfig) | (T &amp; string[])\n}\n\ntype InputConfigs = Inputs&lt;InputConfig&gt; // case 1 (see below)\ntype InputValues = Inputs&lt;string | string[]&gt; // case 2 (see below)\n\nconst configs: InputConfigs = {\n    username: {\n        inputType: \"text\"\n    },\n    password: {\n        inputType: \"password\"\n    },\n    passwordConfirmation: {\n        inputType: \"password\"\n    },\n    firstname: {\n        inputType: \"text\"\n    },\n    lastname: {\n        inputType: \"text\"\n    },\n    hobbies: {\n        inputType: \"list\"\n    }\n}\n\nconst values: InputValues = {\n    username: \"testuser1\",\n    password: \"test1\",\n    passwordConfirmation: \"test1\",\n    firstname: \"Tester\",\n    lastname: \"1\",\n    hobbies: [\"a\", \"b\", \"c\"]\n}\n\nconst username: string = values.username\n</code></pre>\n\n<p>The most important advantage of this generic approach is the single point of field naming in the <code>Inputs</code> interface: The names <code>username</code>, <code>password</code>, <code>passwordConfirmation</code>,... are used by <strong>both</strong> <code>InputConfigs</code> <strong>and</strong> <code>InputValues</code> which makes renaming as easy as possible.</p>\n\n<p><strong>Unfortunately, it does not work as expected since the last assignment <code>const username: string = values.username</code> is not accepted by the compiler:</strong></p>\n\n<pre><code>Type 'string | (string &amp; InputConfig) | (string[] &amp; InputConfig) | (string[] &amp; string)' is not assignable to type 'string'.\n  Type 'string[] &amp; InputConfig' is not assignable to type 'string'.\n</code></pre>\n\n<p>I expected it to work because my understanding was:</p>\n\n<ul>\n<li>case 1: <code>T</code> is <code>InputConfig</code> and thus <code>username</code> is of type <code>InputConfig</code> because:\n\n<ul>\n<li><code>T &amp; InputConfig</code> = <code>InputConfig &amp; InputConfig</code> = <code>InputConfig</code></li>\n<li><code>T &amp; string</code> = <code>InputConfig &amp; string</code> = nothing</li>\n</ul></li>\n<li>case 2: <code>T</code> is <code>string | string[]</code> and thus <code>username</code> is of type <code>string</code> because:\n\n<ul>\n<li><code>T &amp; InputConfig</code> = <code>(string | string[]) &amp; InputConfig</code> = nothing</li>\n<li><code>T &amp; string</code> = <code>(string | string[]) &amp; string</code> = <code>string</code></li>\n</ul></li>\n</ul>\n"}, {"tags": ["typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 6687, "user_id": 2072198, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RiWxd.jpg?s=128&g=1", "display_name": "Fals", "link": "https://stackoverflow.com/users/2072198/fals"}, "is_accepted": true, "score": 1, "last_activity_date": 1495662893, "creation_date": 1495662893, "answer_id": 44169094, "question_id": 44168412, "link": "https://stackoverflow.com/questions/44168412/if-statement-doesnt-run-though-conditions-are-met/44169094#44169094", "title": "If statement doesn&#39;t run though conditions are met", "body": "<p><strong>1)</strong> Don't use ==, always use === to perform logical and type checking. </p>\n\n<p><strong>2)</strong> You're not setting the value from the <code>currentLevel</code> after set the <code>sessionStorage</code></p>\n\n<pre><code>setLevel(){\n  this.currentLevel = JSON.parse(sessionStorage.getItem('level'));\n  if (!this.currentLevel) {\n    this.currentLevel = {lvl: null};\n  }\n\n  if (this.currentLevel.lvl === null) {\n    sessionStorage.setItem('level', JSON.stringify({lvl: '1'}));\n  }else if(this.currentLevel.lvl === '1'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '2'}));\n  }else if(this.currentLevel.lvl === '2'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '3'}));\n  }else if(this.currentLevel.lvl === '3'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '4'}));\n  }else if (this.currentLevel.lvl === '4') {\n     sessionStorage.setItem('level', JSON.stringify({lvl: 'complete'}));\n  }\n\n  this.currentLevel = JSON.parse(sessionStorage.getItem('level'));\n  //      \n  //should log {lvl: null} at the first time when It ran\n  //\n  console.log(this.currentLevel.lvl); \n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5684349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07eb2000c46fef095f4140a7fc8d65e?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Delfs", "link": "https://stackoverflow.com/users/5684349/martin-delfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 44169094, "answer_count": 1, "score": 0, "last_activity_date": 1495662893, "creation_date": 1495659780, "question_id": 44168412, "link": "https://stackoverflow.com/questions/44168412/if-statement-doesnt-run-though-conditions-are-met", "title": "If statement doesn&#39;t run though conditions are met", "body": "<p>I don't get why only the first if statement is running</p>\n\n<p>First I set the currentLevel property to what lies in the session</p>\n\n<pre><code>public currentLevel:any;\n\nthis.currentLevel = JSON.parse(sessionStorage.getItem('level'));\n</code></pre>\n\n<p>This if statement runs and the currentLevel.lvl is set to null</p>\n\n<pre><code>if (!this.currentLevel) {\nthis.currentLevel = {lvl: null};\n}\n</code></pre>\n\n<p>This if statement doesn't run the first time the method is executed\nIt does however run the second time it is executed and then the entire \nmethod works as intended</p>\n\n<pre><code>if (this.currentLevel.lvl == null) {\n  sessionStorage.setItem('level', JSON.stringify({lvl: '1'}));\n  }\n}\n</code></pre>\n\n<p>FULL CODE</p>\n\n<pre><code>setLevel(){\n  this.currentLevel = JSON.parse(sessionStorage.getItem('level'));\n  if (!this.currentLevel) {\n    this.currentLevel = {lvl: null};\n  }\n\n  if (this.currentLevel.lvl == null) {\n    sessionStorage.setItem('level', JSON.stringify({lvl: '1'}));\n  }else if(this.currentLevel.lvl == '1'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '2'}));\n  }else if(this.currentLevel.lvl == '2'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '3'}));\n  }else if(this.currentLevel.lvl == '3'){\n    sessionStorage.setItem('level', JSON.stringify({lvl: '4'}));\n  }else if (this.currentLevel.lvl == '4') {\n     sessionStorage.setItem('level', JSON.stringify({lvl: 'complete'}));\n  }\n  // console.log(this.currentLevel.lvl);\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "angular", "typescript", "three.js"], "comments": [{"owner": {"reputation": 17834, "user_id": 445303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2807e279ada3bb19bad41a54af66114d?s=128&d=identicon&r=PG", "display_name": "The Muffin Man", "link": "https://stackoverflow.com/users/445303/the-muffin-man"}, "edited": false, "score": 0, "creation_date": 1495659489, "post_id": 44168284, "comment_id": 75352689, "body": "Have you used the debugger to try to figure out which of the 4 instances of <code>this.scene</code> is not working?"}, {"owner": {"reputation": 4380, "user_id": 2548153, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Wc3vv.jpg?s=128&g=1", "display_name": "pailhead", "link": "https://stackoverflow.com/users/2548153/pailhead"}, "edited": false, "score": 0, "creation_date": 1495659677, "post_id": 44168284, "comment_id": 75352786, "body": "Btw the question isnt why isn&#39;t my graphics rendering but why isn&#39;t my async javascript working. This more or less has nothing to do with three.js"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 5604739, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c049a554cbf7c683047726f01d8d5e1e?s=128&d=identicon&r=PG&f=1", "display_name": "jinan", "link": "https://stackoverflow.com/users/5604739/jinan"}, "edited": false, "score": 1, "creation_date": 1495733806, "post_id": 44168360, "comment_id": 75386906, "body": "Thank the graphic is displayed now!"}, {"owner": {"reputation": 4380, "user_id": 2548153, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Wc3vv.jpg?s=128&g=1", "display_name": "pailhead", "link": "https://stackoverflow.com/users/2548153/pailhead"}, "reply_to_user": {"reputation": 173, "user_id": 5604739, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c049a554cbf7c683047726f01d8d5e1e?s=128&d=identicon&r=PG&f=1", "display_name": "jinan", "link": "https://stackoverflow.com/users/5604739/jinan"}, "edited": false, "score": 0, "creation_date": 1495851258, "post_id": 44168360, "comment_id": 75436704, "body": "To be more precise, your JavaScript works now :), you barely made it to the graphics part. You may have rendered frames and ran the loop before this callback fired but then js scope crashed your app."}], "tags": [], "owner": {"reputation": 4380, "user_id": 2548153, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Wc3vv.jpg?s=128&g=1", "display_name": "pailhead", "link": "https://stackoverflow.com/users/2548153/pailhead"}, "is_accepted": true, "score": 2, "last_activity_date": 1495659560, "creation_date": 1495659560, "answer_id": 44168360, "question_id": 44168284, "link": "https://stackoverflow.com/questions/44168284/unable-to-render-3d-graphic-using-three-js/44168360#44168360", "title": "Unable to Render 3D Graphic using Three.js", "body": "<p>You don't have the correct <code>this</code> inside the <code>loader.load()</code> callback, which is exactly what the browser is telling you. </p>\n\n<pre><code>var _this = this\nloader.load(..., function(obj){ _this.scene.add(obj })\n</code></pre>\n\n<p>or bind it. </p>\n"}, {"comments": [{"owner": {"reputation": 4380, "user_id": 2548153, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Wc3vv.jpg?s=128&g=1", "display_name": "pailhead", "link": "https://stackoverflow.com/users/2548153/pailhead"}, "edited": false, "score": 0, "creation_date": 1495669426, "post_id": 44168372, "comment_id": 75356045, "body": "You haven&#39;t really explained why. I&#39;ve no experience with typescript, so i&#39;m not sure if arrow functions are even available. Furthermore his error mentions <code>es5</code> in the file, which adds to my confusion. Is it just the fact that this code has imports, that an assumption can be made that arrow functions are available? We should probably mark this as a duplicate, i&#39;m sure there is an answer here about this topic with thousands of upvotes :)"}], "tags": [], "owner": {"reputation": 326, "user_id": 5409949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d913ecc57153f5b28b2588670b66239?s=128&d=identicon&r=PG", "display_name": "Leonid Lazaryev", "link": "https://stackoverflow.com/users/5409949/leonid-lazaryev"}, "is_accepted": false, "score": 0, "last_activity_date": 1495660149, "last_edit_date": 1495660149, "creation_date": 1495659619, "answer_id": 44168372, "question_id": 44168284, "link": "https://stackoverflow.com/questions/44168284/unable-to-render-3d-graphic-using-three-js/44168372#44168372", "title": "Unable to Render 3D Graphic using Three.js", "body": "<p>Thats why you need arrow functions:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as THREE from 'three'\ndeclare var require: any;\n\n@Component({\n  selector: 'app-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.css']\n})\nexport class LoadingComponent implements OnInit {\n  \"use strict\";\n\n  scene = new THREE.Scene();\n  renderer = new THREE.WebGLRenderer();\n  light = new THREE.AmbientLight(0xffffff);\n  camera;\n  box;\n  renderCallback;\n\n  constructor() { }\n\n  ngOnInit() {\n    // size of content \n    this.renderer.setSize( window.innerWidth, window.innerHeight);\n    // where to render content \n    document.getElementById(\"webgl-container\").appendChild(this.renderer.domElement);\n\n    this.scene.add(this.light);\n\n    this.camera = new THREE.PerspectiveCamera(\n      35, // Field of view (FOV) from top to bottom. \n      window.innerWidth / window.innerHeight, // boundries of image \n      1, \n      1000\n    );\n\n    this.camera.position.set(0, 0, 5);\n    this.scene.add(this.camera);\n\n    var loader = new THREE.ObjectLoader();\n\n    loader.load('assets/img/pac-man-threejs/pac-man.json', (obj) =&gt; {\n      this.scene.add(obj);\n    })\n\n    // this.render();\n    this.renderCallback = {\n      callRender: (this.render).bind(this)\n    };\n    this.renderCallback.callRender();\n  }\n\n  render() { \n    this.renderer.render(this.scene, this.camera);\n    // requestAnimationFrame(this.render);\n    requestAnimationFrame(this.renderCallback.callRender);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5604739, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c049a554cbf7c683047726f01d8d5e1e?s=128&d=identicon&r=PG&f=1", "display_name": "jinan", "link": "https://stackoverflow.com/users/5604739/jinan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 44168360, "answer_count": 2, "score": 0, "last_activity_date": 1495666831, "creation_date": 1495659287, "last_edit_date": 1495666831, "question_id": 44168284, "link": "https://stackoverflow.com/questions/44168284/unable-to-render-3d-graphic-using-three-js", "title": "Unable to Render 3D Graphic using Three.js", "body": "<p><strong>Question</strong>: </p>\n\n<p>Why isn't the 3D graphic rendering?</p>\n\n<p><strong>Details</strong>: </p>\n\n<p>I am trying to load the json format of <a href=\"https://clara.io/view/d2d5bf3a-a91d-4fcc-a157-6f37d66274ee/webgl\" rel=\"nofollow noreferrer\">this</a> graphic in the loading.component.ts file. I am using Angular 2 and Three.js. I've looked at several examples, but cannot find what I did wrong. This is my first time trying to load a 3D image. Any help appreciated. \nThe entire project can be found <a href=\"https://github.com/harurang/firstSite\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Console Error</strong>: </p>\n\n<pre><code>core.es5.js:1084 ERROR TypeError: Cannot read property 'scene' of undefined\n    at loading.component.ts:46\n    at ObjectLoader.parse (three.module.js:33413)\n    at three.module.js:33372\n    at XMLHttpRequest.&lt;anonymous&gt; (three.module.js:29460)\n    at ZoneDelegate.invokeTask (polyfills.bundle.js:3132)\n    at Object.onInvokeTask (core.es5.js:4119)\n    at ZoneDelegate.invokeTask (polyfills.bundle.js:3131)\n    at Zone.runTask (polyfills.bundle.js:2899)\n    at XMLHttpRequest.ZoneTask.invoke (polyfills.bundle.js:3194)\n</code></pre>\n\n<p><strong>loading.component.ts</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as THREE from 'three'\ndeclare var require: any;\n\n@Component({\n  selector: 'app-loading',\n  templateUrl: './loading.component.html',\n  styleUrls: ['./loading.component.css']\n})\nexport class LoadingComponent implements OnInit {\n  \"use strict\";\n\n  scene = new THREE.Scene();\n  renderer = new THREE.WebGLRenderer();\n  light = new THREE.AmbientLight(0xffffff);\n  camera;\n  box;\n  renderCallback;\n\n  constructor() { }\n\n  ngOnInit() {\n    // size of content \n    this.renderer.setSize( window.innerWidth, window.innerHeight);\n    // where to render content \n    document.getElementById(\"webgl-container\").appendChild(this.renderer.domElement);\n\n    this.scene.add(this.light);\n\n    this.camera = new THREE.PerspectiveCamera(\n      35, // Field of view (FOV) from top to bottom. \n      window.innerWidth / window.innerHeight, // boundries of image \n      1, \n      1000\n    );\n\n    this.camera.position.set(0, 0, 5);\n    this.scene.add(this.camera);\n\n    var loader = new THREE.ObjectLoader();\n\n    loader.load('assets/img/pac-man-threejs/pac-man.json', function (obj) {\n      this.scene.add(obj);\n    })\n\n    // this.render();\n    this.renderCallback = {\n      callRender: (this.render).bind(this)\n    };\n    this.renderCallback.callRender();\n  }\n\n  render() { \n    this.renderer.render(this.scene, this.camera);\n    // requestAnimationFrame(this.render);\n    requestAnimationFrame(this.renderCallback.callRender);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 5750, "user_id": 2602962, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/5THYr.jpg?s=128&g=1", "display_name": "Hamed Baatour", "link": "https://stackoverflow.com/users/2602962/hamed-baatour"}, "edited": false, "score": 0, "creation_date": 1495659060, "post_id": 44168149, "comment_id": 75352465, "body": "simply move the <code>showDelete</code> variable outside of your <code>ngOnInit()</code> function up to you component"}], "answers": [{"tags": [], "owner": {"reputation": 955936, "user_id": 29407, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG", "display_name": "Darin Dimitrov", "link": "https://stackoverflow.com/users/29407/darin-dimitrov"}, "is_accepted": true, "score": 1, "last_activity_date": 1495658915, "creation_date": 1495658915, "answer_id": 44168191, "question_id": 44168149, "link": "https://stackoverflow.com/questions/44168149/why-doesnt-ngoninit-varible-change-affect-the-html-in-angular-2-4/44168191#44168191", "title": "Why doesn&#39;t ngOnInit varible change affect the html in angular 2/4?", "body": "<p>You should declare the <code>showDelete</code> variable as part of your component so that it is accessible from the template:</p>\n\n<pre><code>public showDelete: boolean = true;\n\nngOnInit(): void {\n    this.authService.getProfile().subscribe(profile =&gt; {\n        this.username = profile.user.name;\n        if (this.username == \"admin\") {\n            this.showDelete = false;\n        }\n    });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 513, "user_id": 1706142, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78bf4ff26d9ace6b04d301d39d22f6bb?s=128&d=identicon&r=PG&f=1", "display_name": "Ratan", "link": "https://stackoverflow.com/users/1706142/ratan"}, "is_accepted": false, "score": 0, "last_activity_date": 1495659227, "creation_date": 1495659227, "answer_id": 44168263, "question_id": 44168149, "link": "https://stackoverflow.com/questions/44168149/why-doesnt-ngoninit-varible-change-affect-the-html-in-angular-2-4/44168263#44168263", "title": "Why doesn&#39;t ngOnInit varible change affect the html in angular 2/4?", "body": "<p>You have no access to showDelete from the template, because it is defined within ngOnInit()</p>\n\n<p>Try to define it like this:</p>\n\n<pre><code> class MyClass {\n   showDelete:boolean;\n\n   ngOnInit() {\n    this.authService.getProfile().subscribe(profile =&gt; {\n      this.username = profile.user.name\n      if (this.username==\"admin\"){\n        this.showDelete = false;\n      }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8061684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f81d2acc197436073c2a2169a53a41aa?s=128&d=identicon&r=PG&f=1", "display_name": "harryd", "link": "https://stackoverflow.com/users/8061684/harryd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 44168191, "answer_count": 2, "score": 0, "last_activity_date": 1495659227, "creation_date": 1495658718, "question_id": 44168149, "link": "https://stackoverflow.com/questions/44168149/why-doesnt-ngoninit-varible-change-affect-the-html-in-angular-2-4", "title": "Why doesn&#39;t ngOnInit varible change affect the html in angular 2/4?", "body": "<p>i have user object that i am subscribing to. If the user is equal to a certain name, than it shouldn't show a button. I don't know why it doesn't affect the ngIf in html. </p>\n\n<p>My Html</p>\n\n<pre><code> &lt;input *ngIf = \"showDelete\" type = \"button\" (click) = \n \"deleteCustomer(customer._id)\" value = \"Delete\" class = \"btn btn-danger\"&gt;\n</code></pre>\n\n<p>My ngOnInit in appcomponent.ts</p>\n\n<pre><code>    ngOnInit() {\n\nlet showDelete:boolean =true;\n\nthis.authService.getProfile().subscribe(profile =&gt; {\n  this.username = profile.user.name\n\n  if (this.username==\"admin\"){\n\n    showDelete=false;\n  }\n},\n</code></pre>\n\n<p>If i console.log the this.username and show delete i get the expected values, but it is not changing the logic in html</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1495657857, "post_id": 44167788, "comment_id": 75351930, "body": "Worth reading <a href=\"https://stackoverflow.com/questions/22077023/why-cant-i-indirectly-return-an-object-literal-to-satisfy-an-index-signature-re\" title=\"why cant i indirectly return an object literal to satisfy an index signature re\">stackoverflow.com/questions/22077023/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": false, "score": 1, "last_activity_date": 1495658029, "creation_date": 1495658029, "answer_id": 44168003, "question_id": 44167788, "link": "https://stackoverflow.com/questions/44167788/interface-does-not-match-generic-object-in-typescript/44168003#44168003", "title": "Interface does not match generic Object in TypeScript", "body": "<blockquote>\n  <p>Is there any way I can match the object with the interface to a generic object which only has values of type number?</p>\n</blockquote>\n\n<p>No. TypeScript doesn't know that you didn't write this:</p>\n\n<pre><code>// OK: This is legal code\nconst obj1 = { a: 1, b: 2, c: \"oops\" };\n// OK: Structural type matches\nconst obj: foobar = obj1;\n// Crash when baz sees c: \"oops\"\nbaz(obj); // error happens here\n</code></pre>\n\n<p>The best option in this case would be to just remove the type annotation from this line:</p>\n\n<pre><code>const obj = {\n    a: 1,\n    b: 2\n};\n</code></pre>\n\n<p>Because it's a <code>const</code> initialized with an object literal, TypeScript knows there aren't any other properties lingering around on the object so it's safe(r) to use where an index signature is desired. Adding a type annotation defeats that behavior.</p>\n"}], "owner": {"reputation": 65, "user_id": 3880270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/221738515600ab0e4bf5c51da990de61?s=128&d=identicon&r=PG&f=1", "display_name": "Christian D.", "link": "https://stackoverflow.com/users/3880270/christian-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495658029, "creation_date": 1495657264, "question_id": 44167788, "link": "https://stackoverflow.com/questions/44167788/interface-does-not-match-generic-object-in-typescript", "title": "Interface does not match generic Object in TypeScript", "body": "<p>I have an interface <code>foobar</code> with two attributes of type \"number\".\nNow I try to match an object of type <code>foobar</code> to a generic object definition, where each attributes is of type number.</p>\n\n<pre><code>interface foobar {\n    a: number,\n    b: number\n}\n\nfunction baz(param: {[key: string]: number}) {\n    // some math stuff here\n}\n\nconst obj: foobar = {\n    a: 1,\n    b: 2\n};\n\nbaz(obj); // error happens here\n</code></pre>\n\n<p>This results in the following TypeScript error.</p>\n\n<blockquote>\n  <p>TS2345:Argument of type 'foobar' is not assignable to parameter of type '{ [key: string]: number; }'. Index signature is missing in type 'foobar'.</p>\n</blockquote>\n\n<p>Is there any way I can match the object with the interface to a generic object which only has values of type number?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 501, "user_id": 5001014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcBtR.jpg?s=128&g=1", "display_name": "amiramw", "link": "https://stackoverflow.com/users/5001014/amiramw"}, "is_accepted": true, "score": 1, "last_activity_date": 1495657012, "creation_date": 1495657012, "answer_id": 44167716, "question_id": 44167479, "link": "https://stackoverflow.com/questions/44167479/how-to-access-exported-typescript-class-from-javascript-using-amd-and-requirejs/44167716#44167716", "title": "How to access exported TypeScript class from JavaScript using AMD and RequireJS", "body": "<p>You should be able to reference Bar from regular javascript. Try to do it from the requirejs data-main script.</p>\n\n<p>In the HTML:</p>\n\n<pre><code>&lt;script data-main=\"scripts/main\" src=\"scripts/require.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>In scripts/main:</p>\n\n<pre><code>requirejs([\"bar\"], function(bar) {});\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 6062496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dc5c000eadacb4db4e06e0ab18fd20f?s=128&d=identicon&r=PG&f=1", "display_name": "B Adams", "link": "https://stackoverflow.com/users/6062496/b-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 44167716, "answer_count": 1, "score": 2, "last_activity_date": 1495657012, "creation_date": 1495656057, "question_id": 44167479, "link": "https://stackoverflow.com/questions/44167479/how-to-access-exported-typescript-class-from-javascript-using-amd-and-requirejs", "title": "How to access exported TypeScript class from JavaScript using AMD and RequireJS", "body": "<p>I have the following TypeScript class in the file: bar.ts</p>\n\n<pre><code>export class Bar {\n   log(message:string):void {\n       console.log(message);\n   }\n}\n</code></pre>\n\n<p>In the file foo.ts I have:</p>\n\n<pre><code>import { Bar } from \"bar\";\n\nwindow.onload = () =&gt; {\n   var foo = new Bar();\n   foo.log(\"Hello World\");\n};\n</code></pre>\n\n<p>I am compiling with:</p>\n\n<pre><code>lib: [\"dom\", \"es2015.promise\", \"es2015\"]\nmodule: \"amd\"\ndeclarationFiles: true\ntarget: \"ES5\"\nnoImplicitAny: true\nout: \"test.js\n</code></pre>\n\n<p>How can I instantiate the Bar class?  The window.onload event is not called. The following is the generated code:</p>\n\n<pre><code>define(\"bar\", [\"require\", \"exports\"], function (require, exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    var Bar = (function () {\n        function Bar() {\n        }\n        Bar.prototype.log = function (message) {\n            console.log(message);\n        };\n        return Bar;\n    }());\n    exports.Bar = Bar;\n});\n\ndefine(\"foo\", [\"require\", \"exports\", \"bar\"], function (require, exports, bar_1) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    window.onload = function () {\n        var foo = new bar_1.Bar();\n        foo.log(\"Hello World\");\n    };\n});\n</code></pre>\n\n<p>Is there a way to reference Bar from standard JavaScript?  I have included require.js in the HTML page and there are no JavaScript errors when the page loads.</p>\n\n<p>This is a simplified version of the problem but I need to use export as the project has many classes each stored in separate files and I need to combine them into a single file.</p>\n"}, {"tags": ["arrays", "typescript", "interface", "concat"], "comments": [{"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1495655693, "post_id": 44167317, "comment_id": 75350867, "body": "Why are you writing <code>[].concat</code> ? <code>concat</code> does not mutate the original array; you can safely write <code>things1().concat(things2())</code>. Or just write <code>[...things1(), ...things2()]</code>."}, {"owner": {"reputation": 659, "user_id": 1379037, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a760317157c33e6b977df8e35ae857d?s=128&d=identicon&r=PG", "display_name": "iffy", "link": "https://stackoverflow.com/users/1379037/iffy"}, "reply_to_user": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "edited": false, "score": 0, "creation_date": 1495656066, "post_id": 44167317, "comment_id": 75351056, "body": "@RyanCavanaugh I don&#39;t like <code>things1().concat(things2())</code> for readability (it makes <code>things1</code> seem special.  That last one is much better, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 659, "user_id": 1379037, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a760317157c33e6b977df8e35ae857d?s=128&d=identicon&r=PG", "display_name": "iffy", "link": "https://stackoverflow.com/users/1379037/iffy"}, "edited": false, "score": 0, "creation_date": 1495656112, "post_id": 44167451, "comment_id": 75351083, "body": "Okay, I thought I was changing the type of <code>[]</code> but now I see that I was perhaps just casting the result of the concat?  Anyway, that last syntax is better.  Thank you!"}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 0, "last_activity_date": 1495655951, "creation_date": 1495655951, "answer_id": 44167451, "question_id": 44167317, "link": "https://stackoverflow.com/questions/44167317/why-doesnt-typescript-complain-about-an-arrays-type-when-built-from-concat/44167451#44167451", "title": "Why doesn&#39;t TypeScript complain about an array&#39;s type when built from concat?", "body": "<p>This will give you the error you expect, by changing the type of <code>[]</code> from <code>any[]</code> to <code>IThing[]</code>:</p>\n\n<pre><code>function getThings_concat():Array&lt;IThing&gt; {\n    return (&lt;IThing[]&gt;[]).concat(things1(), things2());\n}\n</code></pre>\n\n<p>However it'd be much better to simply write the function this way, which doesn't require any type assertions</p>\n\n<pre><code>function getThings_concat2():Array&lt;IThing&gt; {\n    return [...things1(), ...things2()];\n}\n</code></pre>\n"}], "owner": {"reputation": 659, "user_id": 1379037, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3a760317157c33e6b977df8e35ae857d?s=128&d=identicon&r=PG", "display_name": "iffy", "link": "https://stackoverflow.com/users/1379037/iffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 44167451, "answer_count": 1, "score": 1, "last_activity_date": 1495655951, "creation_date": 1495655403, "question_id": 44167317, "link": "https://stackoverflow.com/questions/44167317/why-doesnt-typescript-complain-about-an-arrays-type-when-built-from-concat", "title": "Why doesn&#39;t TypeScript complain about an array&#39;s type when built from concat?", "body": "<p>In the following code, I expect the TypeScript compiler to fail on both <code>getThings_concat</code> and <code>getThings_nocats</code> but it only complains about the latter:</p>\n\n<pre><code>interface IThing {\n    name: string;\n}\nfunction things1() {\n    return [\n        {name: 'bob'},\n        {name: 'sal'},\n    ]\n}\nfunction things2() {\n    return [\n        {garbage: 'man'},\n    ]\n}\nfunction getThings_concat():Array&lt;IThing&gt; {\n    return &lt;Array&lt;IThing&gt;&gt;([].concat(things1(), things2()));\n}\nfunction getThings_nocats():Array&lt;IThing&gt; {\n    let ret:Array&lt;IThing&gt; = [];\n    things1().forEach(thing =&gt; {\n        ret.push(thing);\n    });\n    things2().forEach(thing =&gt; {\n        ret.push(thing);\n    });\n    return ret;\n}\n</code></pre>\n\n<p>Here's the one compiler error, though I'd expect two errors (one for each <code>getThings_*</code> function):</p>\n\n<pre><code>test.ts(24,18): error TS2345: Argument of type '{ garbage: string; }' is not assignable to parameter of type 'IThing'.\n  Property 'name' is missing in type '{ garbage: string; }'.\n</code></pre>\n\n<p>What can I change in <code>getThings_concat</code> so that I can use <code>[].concat</code> but have it complain when <code>things2()</code> returns non <code>IThing</code>s?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 782, "user_id": 3326088, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b591771f0f340c7cbd113dab59619c7?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Roggeri Campos", "link": "https://stackoverflow.com/users/3326088/andr%c3%a9-roggeri-campos"}, "edited": false, "score": 0, "creation_date": 1495655066, "post_id": 44167167, "comment_id": 75350599, "body": "You didn&#39;t posted your template, but I&#39;m assuming that you&#39;re using a button. You must set the <code>type=button</code> otherwise it will submit the form."}, {"owner": {"reputation": 344, "user_id": 5666327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23be5dd459b1bc4d52008b6df8c25eaf?s=128&d=identicon&r=PG&f=1", "display_name": "dev53", "link": "https://stackoverflow.com/users/5666327/dev53"}, "reply_to_user": {"reputation": 782, "user_id": 3326088, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8b591771f0f340c7cbd113dab59619c7?s=128&d=identicon&r=PG", "display_name": "Andr&#233; Roggeri Campos", "link": "https://stackoverflow.com/users/3326088/andr%c3%a9-roggeri-campos"}, "edited": false, "score": 0, "creation_date": 1495655276, "post_id": 44167167, "comment_id": 75350687, "body": "It cannot easily post my template but I have found when I comment out the  <code>this.myjob.transactions.push(this.myTransaction);</code> it is not doing the page reload thing.  I believe its only doing that because the push is not working."}, {"owner": {"reputation": 2845, "user_id": 582226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94311a9ca288de61970720da44821d6e?s=128&d=identicon&r=PG", "display_name": "andreim", "link": "https://stackoverflow.com/users/582226/andreim"}, "edited": false, "score": 0, "creation_date": 1495655363, "post_id": 44167167, "comment_id": 75350732, "body": "From your code you have so far <code>this.myjob.transactions</code> is undefined. You should initialize the array in your class like so <code>transactions: Transaction[] = [];</code>. Also check the console for an error."}, {"owner": {"reputation": 344, "user_id": 5666327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23be5dd459b1bc4d52008b6df8c25eaf?s=128&d=identicon&r=PG&f=1", "display_name": "dev53", "link": "https://stackoverflow.com/users/5666327/dev53"}, "reply_to_user": {"reputation": 2845, "user_id": 582226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94311a9ca288de61970720da44821d6e?s=128&d=identicon&r=PG", "display_name": "andreim", "link": "https://stackoverflow.com/users/582226/andreim"}, "edited": false, "score": 0, "creation_date": 1495655824, "post_id": 44167167, "comment_id": 75350937, "body": "@andreim Thank you! The issue ended up me not initializing my array in my class when I changed it to <code>transactions: Transaction[] = [];</code> it worked."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6848348"}, "is_accepted": true, "score": 0, "last_activity_date": 1495663814, "creation_date": 1495663814, "answer_id": 44169288, "question_id": 44167167, "link": "https://stackoverflow.com/questions/44167167/angular-2-typescript-push-array-inside-object/44169288#44169288", "title": "Angular 2 Typescript Push Array Inside Object", "body": "<p>You need just to declare transactions just as an array like that :</p>\n\n<pre><code>transactions: Transaction[] = [];\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 5666327, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/23be5dd459b1bc4d52008b6df8c25eaf?s=128&d=identicon&r=PG&f=1", "display_name": "dev53", "link": "https://stackoverflow.com/users/5666327/dev53"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1659, "favorite_count": 0, "accepted_answer_id": 44169288, "answer_count": 1, "score": 0, "last_activity_date": 1495663814, "creation_date": 1495654831, "question_id": 44167167, "link": "https://stackoverflow.com/questions/44167167/angular-2-typescript-push-array-inside-object", "title": "Angular 2 Typescript Push Array Inside Object", "body": "<p>Hi I am trying to push an array into my object and Angular seems to just refuse to let it happen and I am wondering what I am doing wrong.</p>\n\n<p>Here is my \"Job\" that contains multiple transactions and my transaction class.</p>\n\n<pre><code>export class Job {\n  Id: number;\n  transactions: Transaction[];\n}\n\nexport class Transaction {\n  transactionId: number;\n  transactionTime: Date;\n}\n</code></pre>\n\n<p>In my component I declare a new empty Job like...  and then after the user enters some data and does a button onclick I wanted to just add myTransaction to myJob doing something like this...</p>\n\n<pre><code>myjob = new Job();\nmyTransaction = new Transaction();\n\nthis.myjob.transactions.push(this.myTransaction);\n</code></pre>\n\n<p>This doesnt give an error but when I do the onlick event the page acts like it is doing a post and then something happens.</p>\n\n<p>Am I messing up the syntax? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ag-grid"], "comments": [{"owner": {"reputation": 1757, "user_id": 2684204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/UtcAQ.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2684204/lucas"}, "edited": false, "score": 0, "creation_date": 1496865580, "post_id": 44166836, "comment_id": 75842027, "body": "Ended up using higher-order components to help get around this."}], "answers": [{"comments": [{"owner": {"reputation": 3249, "user_id": 3102993, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/nwAIr.jpg?s=128&g=1", "display_name": "blankface", "link": "https://stackoverflow.com/users/3102993/blankface"}, "edited": false, "score": 0, "creation_date": 1555472285, "post_id": 48530824, "comment_id": 98118960, "body": "Just to add on, you can still use the existing params defined in CellRendererParams like <code>value</code> and <code>data</code>. Just need to at them in the prop definition."}, {"owner": {"reputation": 2871, "user_id": 6157047, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBaFK.png?s=128&g=1", "display_name": "Galen Long", "link": "https://stackoverflow.com/users/6157047/galen-long"}, "edited": false, "score": 1, "creation_date": 1566221758, "post_id": 48530824, "comment_id": 101577637, "body": "Relevant docs <a href=\"https://www.ag-grid.com/javascript-grid-cell-rendering-components/#complementing-cell-renderer-params\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.ag-grid.com/javascript-grid-cell-rendering-components/#react-props\" rel=\"nofollow noreferrer\">here</a>. Note that for a headerComponentFramework renderer, you&#39;ll need to pass <a href=\"https://www.ag-grid.com/javascript-grid-header-rendering/#complementing-params\" rel=\"nofollow noreferrer\">headerComponentParams</a> instead."}, {"owner": {"reputation": 351, "user_id": 7498622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf09ab2e5403aaf16fac848d1d84405?s=128&d=identicon&r=PG&f=1", "display_name": "StangSpree", "link": "https://stackoverflow.com/users/7498622/stangspree"}, "edited": false, "score": 0, "creation_date": 1594151000, "post_id": 48530824, "comment_id": 111024657, "body": "Once <code>cellRendererParams</code> are added, how can they be accessed within <code>CustomCellComponent </code>? Pls help."}, {"owner": {"reputation": 854, "user_id": 6136729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--QBbGmwjIbI/AAAAAAAAAAI/AAAAAAAAAGU/mzBFz4z7Vf8/photo.jpg?sz=128", "display_name": "Ishwor Timilsina", "link": "https://stackoverflow.com/users/6136729/ishwor-timilsina"}, "reply_to_user": {"reputation": 351, "user_id": 7498622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daf09ab2e5403aaf16fac848d1d84405?s=128&d=identicon&r=PG&f=1", "display_name": "StangSpree", "link": "https://stackoverflow.com/users/7498622/stangspree"}, "edited": false, "score": 2, "creation_date": 1594414065, "post_id": 48530824, "comment_id": 111129009, "body": "@StangSpree it should be available in props (props.prop1) of CustomCellComponent."}, {"owner": {"reputation": 84, "user_id": 5281902, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/eKaMY.jpg?s=128&g=1", "display_name": "Vanderci Curvelo Junior", "link": "https://stackoverflow.com/users/5281902/vanderci-curvelo-junior"}, "edited": false, "score": 0, "creation_date": 1604843637, "post_id": 48530824, "comment_id": 114464556, "body": "@IshworTimilsina using this you exchange state changes for these props ?"}, {"owner": {"reputation": 109029, "user_id": 2767755, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/BkC8q.jpg?s=128&g=1", "display_name": "Arup Rakshit", "link": "https://stackoverflow.com/users/2767755/arup-rakshit"}, "edited": false, "score": 0, "creation_date": 1613070130, "post_id": 48530824, "comment_id": 116969834, "body": "Thanks for saving my time."}], "tags": [], "owner": {"reputation": 854, "user_id": 6136729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--QBbGmwjIbI/AAAAAAAAAAI/AAAAAAAAAGU/mzBFz4z7Vf8/photo.jpg?sz=128", "display_name": "Ishwor Timilsina", "link": "https://stackoverflow.com/users/6136729/ishwor-timilsina"}, "is_accepted": false, "score": 16, "last_activity_date": 1517356119, "last_edit_date": 1517356119, "creation_date": 1517347784, "answer_id": 48530824, "question_id": 44166836, "link": "https://stackoverflow.com/questions/44166836/ag-grid-cell-rendering-custom-props/48530824#48530824", "title": "ag-Grid Cell Rendering - Custom Props", "body": "<p>I know this is late. But have you tried <code>cellRendererParams</code> with <code>cellRenderer</code>?<br>\nYou can set custom props for the custom cell component using it. Eg:          </p>\n\n<pre><code>columnDef = [\n    .......\n    {\n        .......\n        cellRenderer: CustomCellComponent,\n        cellRendererParams: {\n            prop1: \"this is prop1\"\n        }\n    }\n]\n</code></pre>\n"}], "owner": {"reputation": 1757, "user_id": 2684204, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/UtcAQ.jpg?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2684204/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8392, "favorite_count": 2, "answer_count": 1, "score": 10, "last_activity_date": 1517356119, "creation_date": 1495653500, "question_id": 44166836, "link": "https://stackoverflow.com/questions/44166836/ag-grid-cell-rendering-custom-props", "title": "ag-Grid Cell Rendering - Custom Props", "body": "<p>After looking through the <a href=\"https://www.ag-grid.com/javascript-grid-cell-rendering/?framework=all#gsc.tab=0\" rel=\"noreferrer\">ag-Grid Cell Rendering documentation</a> I don't see a way to add custom properties to the cell renderer via the <code>cellRenderFramework</code> argument. For example, I'd like to pass in a callback to my custom renderer that is called when the button is clicked.</p>\n\n<pre><code>class AddCellRenderer extends React.Component&lt;ICellRendererParams, {}&gt; {\n\n  /**\n   * Callback handle to pass data to on a click.\n   */\n  public static callback = (data: MyData): void =&gt; { return; };\n\n  public constructor(params: ICellRendererParams) {\n    super(params);\n  }\n\n  public render() {\n    let className = 'pt-button pt-intent-success pt-icon-add';\n    let text = 'Click to add';\n    if (this.props.data.saved) {\n      className = 'pt-button pt-intent-danger pt-icon-remove';\n      text = 'Click to remove';\n    }\n    return (\n      &lt;button type=\"button\" onClick={this.onClick} className={className}&gt;{text}&lt;/button&gt;\n    );\n  }\n\n  private onClick = (event: React.FormEvent&lt;HTMLButtonElement&gt;): void =&gt; {\n    AddCellRenderer.callback(this.props.data);\n    this.setState({ ...this.state }); // Make React update the component.\n  }\n}\n</code></pre>\n\n<p>And I have another component that uses it like so</p>\n\n<pre><code>public render() {\n  let saveCellRenderer = AddCellRenderer;\n  saveCellRenderer.callback = this.onSelectData;\n  const columnDefs: ColDef[] = [\n    {\n      headerName: 'Add to Available Data',\n      cellRendererFramework: AddCellRenderer,\n    },\n    ...\n  ];\n  ...\n  }\n</code></pre>\n\n<p>There must be another way to pass this callback as props other than a static public method which is ugly and will not work when multiple components use the renderer, how do I go about doing this with ag-Grid?</p>\n"}, {"tags": ["angular", "typescript", "ngrx"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1495667313, "post_id": 44166704, "comment_id": 75355482, "body": "What sort of answer were you hoping to get? The GitHub issue to which you&#39;ve linked has a <a href=\"https://github.com/ngrx/store/issues/280#issuecomment-280651314\" rel=\"nofollow noreferrer\">comment from one of the authors</a> that says you &quot;should only provide store in your root AppModule&#39;s imports&quot;. Putting the store in a feature module is discussed in <a href=\"https://github.com/ngrx/store/issues/281\" rel=\"nofollow noreferrer\">this issue</a>, too. My understanding is that it is not yet supported."}], "answers": [{"tags": [], "owner": {"reputation": 3441, "user_id": 966698, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa98d9d3961a2190ef90533745100456?s=128&d=identicon&r=PG", "display_name": "Mavlarn", "link": "https://stackoverflow.com/users/966698/mavlarn"}, "is_accepted": false, "score": 2, "last_activity_date": 1501149969, "creation_date": 1501149969, "answer_id": 45347592, "question_id": 44166704, "link": "https://stackoverflow.com/questions/44166704/ngrx-initial-action-fired-twice-for-reducers/45347592#45347592", "title": "ngrx: initial action fired twice for reducers", "body": "<p>In store module, you init the store with <code>StoreModule.provideStore(reducers)</code>. Then you in main module imported the store module. It make it init twice. you should add <code>StoreModule.provideStore(reducers)</code> only in main module.</p>\n"}], "owner": {"reputation": 1307, "user_id": 5006880, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fb0bf399baa2aa2a9ba96fa05cecb74b?s=128&d=identicon&r=PG&f=1", "display_name": "Mergasov", "link": "https://stackoverflow.com/users/5006880/mergasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501149969, "creation_date": 1495652968, "question_id": 44166704, "link": "https://stackoverflow.com/questions/44166704/ngrx-initial-action-fired-twice-for-reducers", "title": "ngrx: initial action fired twice for reducers", "body": "<pre><code>//first.reducer.ts\nexport function firstReducer(state: number = 0, action: actions.actionsForFirst): number{\n    console.log(\"firstReducer\")\n    console.log(action)\n    switch(action.type) {\n        ...\n        return state;\n    }        \n}\n\n//second.reducer.ts\nexport function secondReducer(state: string = \"qwe\", action: actions.actionsForSecond): string {\n    console.log(\"secondReducer\")\n    console.log(action)\n    switch(action.type) {\n        ...\n        return state;\n    }        \n}\n\n //store.module.ts\n    const reducers = {  firstReducer, secondReducer };\n    @NgModule({\n        imports: [\n            StoreModule.provideStore(reducers), //import reducers\n        ],\n        ...\n    })\n    export class StoreModule { };\n\n//app.module.ts\nimport { StoreModule } from '@ngrx/store';\nimport { CoreStoreModule } from './core-store.module'; // module with reducers\n@NgModule({\n    bootstrap: [AppComponent],\n    imports: [\n        CoreStoreModule,\n        effects.map(effect =&gt; EffectsModule.run(effect)) //register some imported effects\n    ],\n    ...\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Log output:</p>\n\n<blockquote>\n  <p>firstReducer Object type: \"@ngrx/store/init\"<strong>proto</strong>: Object</p>\n  \n  <p>secondReducer Object type: \"@ngrx/store/init\"<strong>proto</strong>: Object</p>\n  \n  <p>firstReducer Object type: \"@ngrx/store/init\"<strong>proto</strong>: Object</p>\n  \n  <p>secondReducer Object type: \"@ngrx/store/init\"<strong>proto</strong>: Object</p>\n</blockquote>\n\n<p>i.e. @ngrx/store/init action was fired twice for both firstReducer and secondReducer.</p>\n\n<p>What can it be the reason of this behavior? There is <a href=\"https://github.com/ngrx/store/issues/280\" rel=\"nofollow noreferrer\">the open issue</a> for it</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 403, "user_id": 1844897, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e7847dd82c58645abc7d5c7e3c75e7cc?s=128&d=identicon&r=PG", "display_name": "KumailR", "link": "https://stackoverflow.com/users/1844897/kumailr"}, "edited": false, "score": 0, "creation_date": 1577699437, "post_id": 44165991, "comment_id": 105227333, "body": "what if I want to compose httpclient only in base class but not in subclass instead have some protected methods which base call? the composition will work?"}, {"owner": {"reputation": 2185, "user_id": 2661801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mp7cr.jpg?s=128&g=1", "display_name": "Carlos Rodriguez", "link": "https://stackoverflow.com/users/2661801/carlos-rodriguez"}, "reply_to_user": {"reputation": 403, "user_id": 1844897, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e7847dd82c58645abc7d5c7e3c75e7cc?s=128&d=identicon&r=PG", "display_name": "KumailR", "link": "https://stackoverflow.com/users/1844897/kumailr"}, "edited": false, "score": 0, "creation_date": 1578013352, "post_id": 44165991, "comment_id": 105311623, "body": "You can definitely have the protected methods that call the base class, but if you&#39;re creating a &quot;subclass&quot; type, you&#39;ll still need to pass in the HttpClient. By requiring the HttpClient in the Base Type, you&#39;re saying that <i>all</i> instances (including subclasses) of this type require an Http Client.   If you have a base &quot;Person&quot; class with a required &quot;Name&quot; parameter, then you&#39;re saying that all &quot;Persons&quot; have a name. If you later make a &quot;Student&quot; type that inherits from &quot;Person&quot;, I&#39;d expect that Student to also have a name, because a Student is a Person"}, {"owner": {"reputation": 2185, "user_id": 2661801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mp7cr.jpg?s=128&g=1", "display_name": "Carlos Rodriguez", "link": "https://stackoverflow.com/users/2661801/carlos-rodriguez"}, "reply_to_user": {"reputation": 403, "user_id": 1844897, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e7847dd82c58645abc7d5c7e3c75e7cc?s=128&d=identicon&r=PG", "display_name": "KumailR", "link": "https://stackoverflow.com/users/1844897/kumailr"}, "edited": false, "score": 0, "creation_date": 1578013413, "post_id": 44165991, "comment_id": 105311636, "body": "If a Person needs a &quot;Name&quot; to be constructed, then a Student would also need a &quot;Name&quot; to be constructed, because a Student is a Person"}], "tags": [], "owner": {"reputation": 2185, "user_id": 2661801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Mp7cr.jpg?s=128&g=1", "display_name": "Carlos Rodriguez", "link": "https://stackoverflow.com/users/2661801/carlos-rodriguez"}, "is_accepted": true, "score": 1, "last_activity_date": 1495650268, "creation_date": 1495650268, "answer_id": 44165991, "question_id": 44165887, "link": "https://stackoverflow.com/questions/44165887/class-inheritance-and-di/44165991#44165991", "title": "Class inheritance and DI", "body": "<p>I'm not sure what you mean by not wanting to pass it from bottom up. The AuthBaseService class is abstract, so an instance can't be created. All dependencies must be injected from the subclasses, because any DI framework can only have access to an instance of the subclass. This really isn't breaking the idea of dependency injection, and is supported by most DI frameworks I've seen. A FacebookProviderAuthService has a dependency on an Http instance, and so it expects it to be passed in. </p>\n\n<p>One workaround of course is to just instanciate the Http instance in the super class constructor, but that's definitely breaking the dependency inversion. I guess I'm not exactly sure what the problem is. In my eyes, this doesn't seem like a problem at all. </p>\n\n<p>Think of it like this. Suppose you want to unit test the FacebookProviderAuthService. If it doesn't take in an Http dependency as part of its constructor, how would you be able to mock it out? The FacebookProviderAuthService needs to be explicit about its dependencies, even if some of those dependencies come from the base abstract class.</p>\n"}, {"tags": [], "owner": {"reputation": 6712, "user_id": 2734713, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/wiHbW.jpg?s=128&g=1", "display_name": "Steveadoo", "link": "https://stackoverflow.com/users/2734713/steveadoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1495651011, "creation_date": 1495651011, "answer_id": 44166191, "question_id": 44165887, "link": "https://stackoverflow.com/questions/44165887/class-inheritance-and-di/44166191#44166191", "title": "Class inheritance and DI", "body": "<p>This is how you have to do it. Where would the base class get it's Http instance from if you didn't pass it in somewhere? That's just how inheritance works.</p>\n\n<p>You could create separate service called ApiService or something, and in there add the functionality to send post/get requests and attaching auth tokens to each one. Then inject that into the service classes that need it.</p>\n"}], "owner": {"reputation": 143, "user_id": 7421822, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e6778c9b2bf9cc69950484ee8dad8d1?s=128&d=identicon&r=PG&f=1", "display_name": "MasterOfPuppets", "link": "https://stackoverflow.com/users/7421822/masterofpuppets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 44165991, "answer_count": 2, "score": 1, "last_activity_date": 1495651011, "creation_date": 1495649934, "last_edit_date": 1495650678, "question_id": 44165887, "link": "https://stackoverflow.com/questions/44165887/class-inheritance-and-di", "title": "Class inheritance and DI", "body": "<p>I've multiple classes that inherit from a base class.</p>\n\n<p>The base class should contain the Http instance so that subclasses, could issue HTTP calls in addition to their logic. The problem is that the subclasses need to call the super method from their constructor function, but I don't want to pass along the HTTP instance from bottom up.</p>\n\n<p>Any ideas?</p>\n\n<pre><code>export abstract class AuthBaseService {\n\n  constructor(protected http: Http) {\n\n  }\n\n  public abstract login(credentials);\n\n  public abstract logout();\n}\n\n\n\nexport class FacebookProviderAuthService extends AuthBaseService {\n\n  constructor(private facebookAuth: Auth) {\n     // **PROBLEM : I MUST CALL SUPER HERE** \n  }\n\n  // Login &amp; Logout impl.\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript", "typescript2.2"], "comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1529536987, "post_id": 44165084, "comment_id": 88913962, "body": "Just noting that Parcel is probably a better choice than rollup now, since it also supports tree shaking commonjs modules."}], "answers": [{"tags": [], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "is_accepted": true, "score": 2, "last_activity_date": 1528133924, "last_edit_date": 1528133924, "creation_date": 1496335997, "answer_id": 44313172, "question_id": 44165084, "link": "https://stackoverflow.com/questions/44165084/publishing-typescript-2-3-modules-to-npm-for-angular-4-consumption/44313172#44313172", "title": "Publishing Typescript 2.3 Modules to NPM for Angular 4 Consumption", "body": "<p>I finished a prototype for testing this out.  I used code from <a href=\"https://medium.com/@nahush.farkande/creating-npm-modules-written-in-typescript-8d3cb4e65783\" rel=\"nofollow noreferrer\">this article - creating npm modules written in typescript</a> and the rollup suggestion from <a href=\"https://www.youtube.com/watch?v=unICbsPGFIA&amp;t=1136s\" rel=\"nofollow noreferrer\">Jason Aden's Packaging Angular Presentation</a>.</p>\n\n<p>Note that the <code>tsconfig-cjs.json</code> part of this is there so that in addition to supporting webpack and Angular, we also support commonjs + es5 workflows.</p>\n\n<h2>Github Repository</h2>\n\n<p><a href=\"https://github.com/oleersoy/tsmproducer\" rel=\"nofollow noreferrer\">TS Module Producer Project</a></p>\n\n<h2>Steps</h2>\n\n<h3>Project Setup</h3>\n\nInitialize the Project (The TS Module Producer)\n\n<pre><code>mkdir tsmproducer\ncd tsmproducer\n# Initialize the project's package.json\nnpm init -y\n</code></pre>\n\n<h3>Replace <code>package.json</code>:</h3>\n\n<pre><code>    {\n      \"name\": \"tsmproducer\",\n      \"version\": \"1.0.0\",\n      \"description\": \"Example typescript npm project supporting es6 modules via the module package.json attribute as well as commonjs\",\n      \"main\": \"target/main/cjs/index.js\",\n      \"types\": \"target/main/esm/index.d.ts\",\n      \"module\": \"target/main/esm/fesm.js\",\n      \"scripts\": {\n        \"build-cjs\": \"rm -rf target/main/cjs &amp;&amp; tsc -p tsconfig-cjs.json\",\n        \"build-esm\": \"rm -rf target/main/esm &amp;&amp; tsc -p tsconfig-esm.json &amp;&amp; rollup target/main/esm/index.js -o target/main/esm/fesm.js\",\n        \"build-all\": \"npm run build-cjs &amp;&amp; npm run build-esm\"\n      },\n      \"keywords\": [\n        \"typescript\",\n        \"commonjs\",\n        \"npm\",\n        \"modules\",\n        \"es6\",\n        \"es2015\",\n        \"publishing\",\n        \"rollup\",\n        \"treeshaking\"\n      ],\n      \"author\": \"Ole Ersoy\",\n      \"license\": \"MIT\",\n      \"devDependencies\": {\n        \"rollup\": \"^0.41.6\",\n        \"typescript\": \"^2.3.4\"\n      }\n    }\n</code></pre>\n\n<h3>Download dependencies</h3>\n\n<pre><code>npm i\nnpm i -g rollup\nnpm i -g typescript    \n\n\n# Make typescript source directory\nmkdir -p src/main/ts\n</code></pre>\n\n<h3>Create typescript compiler settings for es6 and commonjs</h3>\n\n<pre><code># tsconfig-esm.json\n\n    {\n        \"compilerOptions\": {\n            \"declaration\": true,\n            \"module\": \"es2015\",\n            \"target\": \"es5\",\n            \"rootDir\": \"src/main/ts\",\n            \"outDir\": \"target/main/esm\"\n        },\n        \"exclude\": [\n            \"node_modules\"\n        ]\n    }\n\n# tsconfig-cjs.json\n\n  {\n      \"compilerOptions\": {\n          \"module\": \"commonjs\",\n          \"target\": \"es5\",\n          \"rootDir\": \"src/main/ts\",\n          \"outDir\": \"target/main/cjs\"\n      },\n      \"exclude\": [\n          \"node_modules\"\n      ]\n  }\n</code></pre>\n\n<h3>Create typescript test exports:</h3>\n\n<pre><code># src/main/ts/printSubtract.ts\n\n    export function printSubtract(...numbers: number[]) {\n        console.log(`Subtracting the numbers: ${numbers.join(', ')}`);\n    }\n\n# src/main/ts/printAdd.ts\n\n    export function printAdd(...numbers: number[]) {\n        console.log(`Adding the numbers: ${numbers.join(', ')}`);\n    }\n\n# src/main/ts/index.ts\n\n    export * from './printAdd';\n    export * from './printSubtract';\n</code></pre>\n\n<h3>Compile</h3>\n\n<pre><code>npm run build-all\n</code></pre>\n\n<h2>Create a consumer project</h2>\n\n<pre><code>mkdir tsmconsumer (TS Module Consumer)\ncd tsmconsumer\nnpm init -y\nnpm i ../tsmproducer\n</code></pre>\n\n<h3>Create a module consumer</h3>\n\n<pre><code>touch index.ts\n</code></pre>\n\n<p>In <code>index.ts</code> try the following:</p>\n\n<pre><code>    import {printAdd, printSubtract} from 'tsmproducer';\n    printAdd(1, 2);\n    printSubtract(2, 1);\n</code></pre>\n\n<h2>Summary</h2>\n\n<ul>\n<li>The FESM (Flat EcmaScript module) produced by rollup is exposed via <code>package.json's module</code> attribute.</li>\n<li>Typescript declaration files are produced and placed in the <code>target/main/esm</code> directory and exposed via <code>package.json's types</code> attribute.</li>\n<li>CommonJS module support is enabled via <code>package.json's main</code> attribute. </li>\n</ul>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 1, "accepted_answer_id": 44313172, "answer_count": 1, "score": 3, "last_activity_date": 1528133924, "creation_date": 1495647002, "last_edit_date": 1528133879, "question_id": 44165084, "link": "https://stackoverflow.com/questions/44165084/publishing-typescript-2-3-modules-to-npm-for-angular-4-consumption", "title": "Publishing Typescript 2.3 Modules to NPM for Angular 4 Consumption", "body": "<p>There are related instructions in <a href=\"https://stackoverflow.com/questions/30928253/writing-npm-modules-in-typescript\">Writing NPM modules in Typescript\n</a>, however it's dated and there are now a lot of different answers which may or may not work for Angular.  There's also a very good presentation by Jason Aden on <a href=\"https://www.youtube.com/watch?v=unICbsPGFIA&amp;t=1284s\" rel=\"nofollow noreferrer\">youtube</a> on how to publish Angular Components, but in this case I'm only interested in publishing vanilla typescript classes.</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript", "lodash"], "comments": [{"owner": {"reputation": 11535, "user_id": 1267663, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cv7Po.jpg?s=128&g=1", "display_name": "Whymarrh", "link": "https://stackoverflow.com/users/1267663/whymarrh"}, "edited": false, "score": 5, "creation_date": 1495646929, "post_id": 44165031, "comment_id": 75346427, "body": "What do you expect the end result to look like?"}, {"owner": {"reputation": 395, "user_id": 3748899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f99b0ebaf3e415d30246eb40b4f5f4d?s=128&d=identicon&r=PG", "display_name": "Josh Knack", "link": "https://stackoverflow.com/users/3748899/josh-knack"}, "edited": false, "score": 0, "creation_date": 1495647269, "post_id": 44165031, "comment_id": 75346619, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15125920/how-to-get-distinct-values-from-an-array-of-objects-in-javascript\">How to get distinct values from an array of objects in JavaScript?</a>"}, {"owner": {"reputation": 542, "user_id": 1772742, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4f26d63afbc664bef34833909c294fde?s=128&d=identicon&r=PG", "display_name": "mspasiuk", "link": "https://stackoverflow.com/users/1772742/mspasiuk"}, "reply_to_user": {"reputation": 11535, "user_id": 1267663, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cv7Po.jpg?s=128&g=1", "display_name": "Whymarrh", "link": "https://stackoverflow.com/users/1267663/whymarrh"}, "edited": false, "score": 0, "creation_date": 1495649816, "post_id": 44165031, "comment_id": 75348044, "body": "@Whymarrh I edited the question. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": false, "score": 1, "last_activity_date": 1495648099, "last_edit_date": 1495648099, "creation_date": 1495647623, "answer_id": 44165252, "question_id": 44165031, "link": "https://stackoverflow.com/questions/44165031/lodash-get-an-array-of-element-grouped-by-a-key/44165252#44165252", "title": "lodash get an array of element grouped by a key", "body": "<p>You can do:</p>\n\n<pre><code>let zones = _.chain(_.groupBy(myData, 'zone')).map(function (val, key) {\n    return {\n        zone: key,\n        names: _.map(val, \"name\") // Assuming you only need names. You can have the whole object too if needed\n    };\n}).value();\n</code></pre>\n\n<p>This will produce:</p>\n\n<pre><code>[\n    {\n        \"zone\": \"1\",\n        \"names\": [\"aa\", \"bb\"]\n    },\n    {\n        \"zone\": \"2\",\n        \"names\": [\"cc\", \"dd\"]\n    }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 561, "user_id": 7024722, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-he6YhLoOV1k/AAAAAAAAAAI/AAAAAAAAD_0/-ybel4KUp_E/photo.jpg?sz=128", "display_name": "Robert Taussig", "link": "https://stackoverflow.com/users/7024722/robert-taussig"}, "is_accepted": false, "score": 0, "last_activity_date": 1495647633, "creation_date": 1495647633, "answer_id": 44165254, "question_id": 44165031, "link": "https://stackoverflow.com/questions/44165031/lodash-get-an-array-of-element-grouped-by-a-key/44165254#44165254", "title": "lodash get an array of element grouped by a key", "body": "<p>Below is my implementation of what you want, although without Lodash (at least what I think it is you want. The result is an array of arrays, each inner array containing each original object of a particular zone).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let originalArray = [{\r\n    \"id\": 1,\r\n    \"name\": \"aa\",\r\n    \"zone\": 1\r\n\r\n}, {\r\n    \"id\": 2,\r\n    \"name\": \"bb\",\r\n    \"zone\": 1\r\n\r\n}, {\r\n    \"id\": 3,\r\n    \"name\": \"cc\",\r\n    \"zone\": 2\r\n\r\n}, {\r\n    \"id\": 3,\r\n    \"name\": \"dd\",\r\n    \"zone\": 2\r\n}]\r\n\r\nlet transitionObject = {};\r\n\r\nfor (let i = 0; i &lt; originalArray.length; i++) {\r\n  let currentObject = originalArray[i];\r\n  transitionObject[currentObject.zone] = transitionObject[currentObject.zone] || { names: []};\r\n  transitionObject[currentObject.zone].names.push(currentObject.name);\r\n}\r\n\r\nconsole.log(transitionObject);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "is_accepted": true, "score": 7, "last_activity_date": 1495647950, "creation_date": 1495647950, "answer_id": 44165326, "question_id": 44165031, "link": "https://stackoverflow.com/questions/44165031/lodash-get-an-array-of-element-grouped-by-a-key/44165326#44165326", "title": "lodash get an array of element grouped by a key", "body": "<p>Assuming you did this :</p>\n\n<pre><code>result = _.groupBy(myData,'zone')\n</code></pre>\n\n<p>just add this <strong>after</strong> <strong>the</strong> <strong>lodash</strong> function:</p>\n\n<pre><code>result = Object.keys(result).map(key =&gt; ({ zone: key, items: result[key] }));\n</code></pre>\n\n<p>And you'll get this :</p>\n\n<pre><code> [\n   {\n      \"zone\": \"1\",\n      \"items\": [\n         {\n            \"id\": 1,\n            \"name\": \"aa\",\n            \"zone\": 1\n         },\n         {\n            \"id\": 2,\n            \"name\": \"bb\",\n            \"zone\": 1\n         }\n      ]\n   },\n   {\n      \"zone\": \"2\",\n      \"items\": [\n         {\n            \"id\": 3,\n            \"name\": \"cc\",\n            \"zone\": 2\n         },\n         {\n            \"id\": 3,\n            \"name\": \"dd\",\n            \"zone\": 2\n         }\n      ]\n   }\n]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1281, "user_id": 1875049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/af6b71f04f3a2529645dc83565f8e3b5?s=128&d=identicon&r=PG", "display_name": "Sina Masnadi", "link": "https://stackoverflow.com/users/1875049/sina-masnadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1495649380, "last_edit_date": 1495649380, "creation_date": 1495647958, "answer_id": 44165328, "question_id": 44165031, "link": "https://stackoverflow.com/questions/44165031/lodash-get-an-array-of-element-grouped-by-a-key/44165328#44165328", "title": "lodash get an array of element grouped by a key", "body": "<p>If you are looking to create a JSON object with some keys with <strong>zone</strong> values and the corresponding <strong>names</strong> as an array assigned to that key,\nyou can use <strong><code>reduce</code></strong> function of lodash. Simply do:</p>\n\n<pre><code>_.reduce(myData, function(result, value, key) {\n    (result[value.zone] || (result[value.zone] = [])).push(value.name);\n    return result;\n  }, {});\n</code></pre>\n\n<p>The code will produce:</p>\n\n<pre><code>{\"1\":[\"aa\",\"bb\"],\"2\":[\"cc\",\"dd\"]}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myData = [{\r\n  \"id\": 1,\r\n  \"name\": \"aa\",\r\n  \"zone\": 1\r\n\r\n}, {\r\n  \"id\": 2,\r\n  \"name\": \"bb\",\r\n  \"zone\": 1\r\n\r\n}, {\r\n  \"id\": 3,\r\n  \"name\": \"cc\",\r\n  \"zone\": 2\r\n\r\n}, {\r\n  \"id\": 3,\r\n  \"name\": \"dd\",\r\n  \"zone\": 2\r\n}];\r\n\r\nconsole.log(JSON.stringify(\r\n  _.reduce(myData, function(result, value, key) {\r\n    (result[value.zone] || (result[value.zone] = [])).push(value.name);\r\n    return result;\r\n  }, {})\r\n));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here you can find the lodash documentaion for <code>reduce</code>:\n<a href=\"https://lodash.com/docs/4.17.4#reduce\" rel=\"nofollow noreferrer\">https://lodash.com/docs/4.17.4#reduce</a></p>\n"}], "owner": {"reputation": 542, "user_id": 1772742, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4f26d63afbc664bef34833909c294fde?s=128&d=identicon&r=PG", "display_name": "mspasiuk", "link": "https://stackoverflow.com/users/1772742/mspasiuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1726, "favorite_count": 0, "accepted_answer_id": 44165326, "answer_count": 4, "score": 1, "last_activity_date": 1495649755, "creation_date": 1495646809, "last_edit_date": 1495649755, "question_id": 44165031, "link": "https://stackoverflow.com/questions/44165031/lodash-get-an-array-of-element-grouped-by-a-key", "title": "lodash get an array of element grouped by a key", "body": "<p>I have a JSON array returned by an API call</p>\n\n<pre><code>[{\n    \"id\": 1,\n    \"name\": \"aa\",\n    \"zone\": 1\n\n}, {\n    \"id\": 2,\n    \"name\": \"bb\",\n    \"zone\": 1\n\n}, {\n    \"id\": 3,\n    \"name\": \"cc\",\n    \"zone\": 2\n\n}, {\n    \"id\": 3,\n    \"name\": \"dd\",\n    \"zone\": 2\n}\n]\n</code></pre>\n\n<p>By using lodash I did <code>_.groupBy(myData,'zone')</code> and the result was an Object containing 2 arrays, each one for a different zone.\nBut what I need to achieve, in an object containing an array of zones and for each zone an array of associated names.</p>\n\n<p>Desired result:</p>\n\n<pre><code>[\n   {\n      \"zone\": \"1\",\n      \"items\": [\n         {\n            \"id\": 1,\n            \"name\": \"aa\",\n            \"zone\": 1\n         },\n         {\n            \"id\": 2,\n            \"name\": \"bb\",\n            \"zone\": 1\n         }\n      ]\n   },\n   {\n      \"zone\": \"2\",\n      \"items\": [\n         {\n            \"id\": 3,\n            \"name\": \"cc\",\n            \"zone\": 2\n         },\n         {\n            \"id\": 3,\n            \"name\": \"dd\",\n            \"zone\": 2\n         }\n      ]\n   }\n]\n</code></pre>\n\n<p>Is possible to transform the original array into the one I need using lodash?\nLater on my Angular template I want to do an <code>*ngFor='let zone of zones'</code> or something similar</p>\n"}, {"tags": ["arrays", "json", "angular", "typescript", "pipe"], "owner": {"reputation": 494, "user_id": 4537273, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/a075c44de2d726f297678259f22a164c?s=128&d=identicon&r=PG&f=1", "display_name": "Ferryzijl", "link": "https://stackoverflow.com/users/4537273/ferryzijl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1519, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1495649201, "creation_date": 1495644571, "question_id": 44164334, "link": "https://stackoverflow.com/questions/44164334/angular2-filter-object-array-based-on-value-inside-propertynested-filters", "title": "Angular2 filter object array based on value inside property(nested filters)", "body": "<p>I need to retrieve only the object that have the name ... as a participant using a filter(pipe).</p>\n\n<p>Every object has an array of participants objects. This is what it looks like(see my example Json at the end)</p>\n\n<pre><code>-object\n -- _id\n -- participants\n    -- participant1\n    -- participant2\n</code></pre>\n\n<p>So this is what I tried:(hardcoded Jack to get a match...)</p>\n\n<pre><code>import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({ name: 'filter' })\nexport class Gamefilter implements PipeTransform {\n  public transform(values: any[], filter: string): string {\n    if (!values || !values.length) \"\";\n    if (!filter) return JSON.parse(JSON.stringify(values));\n\n    return JSON.parse(JSON.stringify(\n        values.filter((element) =&gt; { \n            return element.participants.filter((item)=&gt; {\n                return item.name.indexOf(\"Jack\") &gt; 1;\n            }); \n        })\n        )); \n  }\n}\n</code></pre>\n\n<p>Altough this doesn't work, and I can't see the mistake I made.</p>\n\n<p>I tried this to (from <a href=\"https://stackoverflow.com/questions/38375646/filtering-array-of-objects-with-arrays-based-on-nested-value\">Filtering array of objects with arrays based on nested value</a> ):</p>\n\n<pre><code>    values.filter((element) =&gt; \nelement.participants.some((subElement) =&gt; subElement.name === \"Jack\"))\n    .map(element =&gt; {\n        let newElt = Object.assign({}, element); // copies element\n        return newElt.participants.filter(subElement =&gt; subElement.name === \"Jack\");\n    })\n</code></pre>\n\n<p>I also saw this post but could get the right answer for me: <a href=\"https://stackoverflow.com/questions/42167573/filtering-array-based-on-value-in-deeply-nested-object-in-javascript\">Filtering array based on value in deeply nested object in javascript</a> </p>\n\n<p>The example JSON:</p>\n\n<pre><code>[\n  {\n    \"_id\": \"5925ae95675e19001106e940\",\n    \"createdOn\": \"2017-05-24T16:02:29.229Z\",\n    \"participants\": [\n      {\n        \"_id\": \"jack19302\",\n        \"name\": \"Jack\",\n        \"__v\": 0\n      },\n      {\n        \"_id\": \"donald38902\",\n        \"name\": \"Donald\",\n        \"__v\": 0\n      }\n    ]\n  },\n  {\n    \"_id\": \"5925ae95675e19001106e990\",\n    \"createdOn\": \"2017-05-24T16:02:29.229Z\",\n    \"participants\": [\n      {\n        \"_id\": \"donald38902\",\n        \"name\": \"Donald\",\n        \"__v\": 0\n      }\n    ]\n  },\n    {\n    \"_id\": \"5925ae95675e19001106e996\",\n    \"createdOn\": \"2017-05-24T16:02:29.229Z\",\n    \"participants\": [\n      {\n        \"_id\": \"jack19302\",\n        \"name\": \"Jack\",\n        \"__v\": 0\n      }\n    ]\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 196, "user_id": 7288861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210409908938513/picture?type=large", "display_name": "Shane", "link": "https://stackoverflow.com/users/7288861/shane"}, "edited": false, "score": 0, "creation_date": 1495654856, "post_id": 44164316, "comment_id": 75350490, "body": "localhost can be used with dotenv. what does your project structure look like? Where is the .env file in relation to your app.ts?"}, {"owner": {"reputation": 113, "user_id": 6771956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/df97b55f3c0fdd2f1df5b36a5f18dca2?s=128&d=identicon&r=PG&f=1", "display_name": "bemon", "link": "https://stackoverflow.com/users/6771956/bemon"}, "reply_to_user": {"reputation": 196, "user_id": 7288861, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210409908938513/picture?type=large", "display_name": "Shane", "link": "https://stackoverflow.com/users/7288861/shane"}, "edited": false, "score": 0, "creation_date": 1495674073, "post_id": 44164316, "comment_id": 75357174, "body": "@Shane my .env is in my root directory, and my app.js is also in my root directory. the service is in root/ngApp/service/service.js"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 6836652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JnbIG.jpg?s=128&g=1", "display_name": "mandy1339", "link": "https://stackoverflow.com/users/6836652/mandy1339"}, "is_accepted": false, "score": 0, "last_activity_date": 1502946054, "creation_date": 1502946054, "answer_id": 45726901, "question_id": 44164316, "link": "https://stackoverflow.com/questions/44164316/dotenv-for-api-in-localhost/45726901#45726901", "title": "dotenv for api in localhost", "body": "<p>You should remove the {silent: true} option. They haven't documented it yet, but the silent option suppresses the warnings that you get when you have problems with your .env file. If your app is not ready for production, I suggest to get the warnings and not suppress them with silent. By default silent is false unless changed.</p>\n\n<p>source:\n<a href=\"https://github.com/motdotla/dotenv/pull/66/commits/533346d4c4aef152efcae74f7442e19de64e3b7e\" rel=\"nofollow noreferrer\">https://github.com/motdotla/dotenv/pull/66/commits/533346d4c4aef152efcae74f7442e19de64e3b7e</a></p>\n"}], "owner": {"reputation": 113, "user_id": 6771956, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/df97b55f3c0fdd2f1df5b36a5f18dca2?s=128&d=identicon&r=PG&f=1", "display_name": "bemon", "link": "https://stackoverflow.com/users/6771956/bemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502946054, "creation_date": 1495644526, "question_id": 44164316, "link": "https://stackoverflow.com/questions/44164316/dotenv-for-api-in-localhost", "title": "dotenv for api in localhost", "body": "<p>I am trying to place my connection string for an API in a .env file. My API is running off of localhost. My projects consist of microservices, so the frontend is running off of one port while the API is running off of a different port. I have installed dotenv. Below is the code, any and all help would be greatly appreciated!</p>\n\n<p>This code is running on port 3000</p>\n\n<p>Services</p>\n\n<pre><code>class TestService {\n private TEST_RESOURCE =  this.$resource(process.env.TEST_PORT);\n\n constructor(private $resource){}\n\n public getAll(){\n  return this.TEST_RESOURCE.query();\n }\n</code></pre>\n\n<p>.env</p>\n\n<pre><code>TEST_PORT=http://localhost:8080/api/v1/weightclasses\n</code></pre>\n\n<p>app.ts (node)</p>\n\n<pre><code>require('dotenv').config({silent: true})\n</code></pre>\n\n<p>I was thinking that maybe there is something with localhost not being able to be used in .env as I have been playing with this for sometime. Any help would be greatly appreciated! If any other code or info is needed please let me know. I am not getting any errors in the console and the network tab is not showing anything either.</p>\n\n<p>What works is the following code, but I would like to be able to use dotenv.</p>\n\n<pre><code>class TestService {\n private TEST_RESOURCE =  this.$resource(\"http://localhost:8080/api/v1/weightclasses\");\n\n constructor(private $resource){}\n\n public getAll(){\n  return this.TEST_RESOURCE.query();\n }\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["asp.net", "typescript", "npm", "gulp", "bower"], "answers": [{"comments": [{"owner": {"reputation": 12896, "user_id": 312317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6d8f96c61cb8fc30e8d2724a95399bcc?s=128&d=identicon&r=PG", "display_name": "Prisoner ZERO", "link": "https://stackoverflow.com/users/312317/prisoner-zero"}, "edited": false, "score": 0, "creation_date": 1495651650, "post_id": 44166181, "comment_id": 75348962, "body": "THANK YOU: Where should I put bower.bowerrc?  At root?"}, {"owner": {"reputation": 6902, "user_id": 678477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e50ed182939143af7fa26c9018f75615?s=128&d=identicon&r=PG", "display_name": "Alaa Masoud", "link": "https://stackoverflow.com/users/678477/alaa-masoud"}, "reply_to_user": {"reputation": 12896, "user_id": 312317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6d8f96c61cb8fc30e8d2724a95399bcc?s=128&d=identicon&r=PG", "display_name": "Prisoner ZERO", "link": "https://stackoverflow.com/users/312317/prisoner-zero"}, "edited": false, "score": 0, "creation_date": 1495651851, "post_id": 44166181, "comment_id": 75349052, "body": "You need 2 files. <code>bower.json</code> and <code>.bowerrc</code> both should be in root. <code>bower.json</code> should include the packages you want. Check here for how to use it: <a href=\"https://github.com/bower/spec\" rel=\"nofollow noreferrer\">github.com/bower/spec</a>"}, {"owner": {"reputation": 6902, "user_id": 678477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e50ed182939143af7fa26c9018f75615?s=128&d=identicon&r=PG", "display_name": "Alaa Masoud", "link": "https://stackoverflow.com/users/678477/alaa-masoud"}, "reply_to_user": {"reputation": 12896, "user_id": 312317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6d8f96c61cb8fc30e8d2724a95399bcc?s=128&d=identicon&r=PG", "display_name": "Prisoner ZERO", "link": "https://stackoverflow.com/users/312317/prisoner-zero"}, "edited": false, "score": 0, "creation_date": 1495652200, "post_id": 44166181, "comment_id": 75349203, "body": "But I think you should use npm anyway, there are many packages that you won&#39;t find in the bower registry. Many of the angular ones aren&#39;t there."}], "tags": [], "owner": {"reputation": 6902, "user_id": 678477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e50ed182939143af7fa26c9018f75615?s=128&d=identicon&r=PG", "display_name": "Alaa Masoud", "link": "https://stackoverflow.com/users/678477/alaa-masoud"}, "is_accepted": false, "score": 2, "last_activity_date": 1495650976, "creation_date": 1495650976, "answer_id": 44166181, "question_id": 44164249, "link": "https://stackoverflow.com/questions/44164249/migrating-files-from-bower-to-lib-folder-in-asp-net-core-web/44166181#44166181", "title": "Migrating Files from Bower to Lib folder in ASP.Net Core Web", "body": "<p>For bower, a configuration file named <code>.bowerrc</code> determines the destination of installed packages. Make sure this file contains:</p>\n\n<pre><code>{\n  \"directory\": \"wwwroot/lib\"\n}\n</code></pre>\n\n<p>Now once you call <code>bower install</code> in the command line, the packages should be restored in <code>./wwwroot/lib</code> relative to where your bower file is.</p>\n\n<p>Just to make sure, npm is different than bower. They are 2 different package managers so bower packages need to be specified in <code>bower.json</code> (which you don't have as your screenshot shows). For npm, packages are specified in <code>package.json</code></p>\n\n<p>In your steps, you are using npm. Your gulp task should work fine and move packages from <code>./node_modules/</code> to <code>./wwwroot/lib/</code>. However, recent versions of npm do not allow blank spaces in <code>description</code> and <code>name</code> fields in the <code>package.json</code> file. You should update those then try and run the following:</p>\n\n<pre><code>npm install\nnpm update\ngulp\n</code></pre>\n"}], "owner": {"reputation": 12896, "user_id": 312317, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6d8f96c61cb8fc30e8d2724a95399bcc?s=128&d=identicon&r=PG", "display_name": "Prisoner ZERO", "link": "https://stackoverflow.com/users/312317/prisoner-zero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495650976, "creation_date": 1495644326, "last_edit_date": 1495648057, "question_id": 44164249, "link": "https://stackoverflow.com/questions/44164249/migrating-files-from-bower-to-lib-folder-in-asp-net-core-web", "title": "Migrating Files from Bower to Lib folder in ASP.Net Core Web", "body": "<p>I am new to ASP.Net Core + NPM.  I have been following various online examples, and while their screen shots show it working, most don't actually work (in-full)...and <a href=\"https://adrientorris.github.io/aspnet-core/how-setup-angular-2-typescript-project-visual-studio-2017.html\" rel=\"nofollow noreferrer\"><strong>the one I am working with now</strong></a> isn't \"quite\" working as advertised either.</p>\n\n<p>For some reason, Bower Packages are NOT auto-migrating into the <code>wwwroot\\lib</code> folder. Normally, I would expect them to do so by-default...but that may be asking to much.</p>\n\n<p><strong>Q:</strong> How do I get the <strong>Bower Packages</strong> to auto-install into the <strong>'Lib'</strong> directory?</p>\n\n<ul>\n<li>Also, just in case, I checked and created an EMPTY VERSION of the Web Application &amp; it doesn't migrate the <strong>Bower Packages</strong> either.  So I guess the expectation is for us to do it by-hand. </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/hWgbV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hWgbV.png\" alt=\"\"></a></p>\n\n<p>HERE ARE THE STEPS I HAVE TAKEN:<br/>\nUsing: Visual Studio 2017 (Community Edition)</p>\n\n<p><strong>STEP 1:</strong> <br />\nCreated the following project, added MVC folders &amp; folders into WWWRoot (see image below)</p>\n\n<ul>\n<li>ASP.NET Core Web Application (.NET Core) project</li>\n<li>Added MVC Folders</li>\n<li>Added WWWRoot Folders</li>\n<li>Added folders for TypeScript files</li>\n</ul>\n\n<p><strong>STEP 2:</strong> <br />\nConfigure TypeScript</p>\n\n<ul>\n<li>tsconfig.json, the TypeScript compiler configuration file (see below)</li>\n<li>typings, the TypeScript type definition files file (see below)</li>\n</ul>\n\n<p>TSCONFIG.JSON</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"rootDir\": \"App\",\n    \"outDir\": \"wwwroot/app\"\n  },\n  \"compileOnSave\": true,\n  \"angularCompilerOptions\": {\n    \"genDir\": \".\",\n    \"debug\": true\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"wwwroot\"\n  ]\n}\n</code></pre>\n\n<p>TYPINGS.JSON</p>\n\n<pre><code>{\n  \"globalDependencies\": {\n    \"jquery\": \"registry:dt/jquery\",\n    \"jasmine\": \"registry:dt/jasmine\"\n  }\n}\n</code></pre>\n\n<p><strong>STEP 3:</strong> <br />\nConfigure NPM to bring-in Angular 2 and its dependencies</p>\n\n<p>PACKAGE.JSON</p>\n\n<pre><code>{\n  \"version\": \"1.0.0\",\n  \"description\": \"NO404 administration panel\",\n  \"name\": \"no404 backoffice\",\n  \"readme\": \"no404 backoffice\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    \"@angular/common\": \"~2.2.0\",\n    \"@angular/compiler\": \"~2.2.0\",\n    \"@angular/core\": \"~2.2.0\",\n    \"@angular/forms\": \"~2.2.0\",\n    \"@angular/http\": \"~2.2.0\",\n    \"@angular/platform-browser\": \"~2.2.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.2.0\",\n    \"@angular/router\": \"~3.2.0\",\n    \"@angular/upgrade\": \"~2.2.0\",\n\n    \"angular-in-memory-web-api\": \"~0.1.15\",\n    \"core-js\": \"^2.4.1\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"systemjs\": \"0.19.39\",\n    \"zone.js\": \"^0.6.25\",\n\n    \"bower\": \"1.7.9\",\n    \"jquery\": \"^3.1.0\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.34\",\n    \"@types/node\": \"^6.0.45\",\n    \"concurrently\": \"^2.2.0\",\n    \"gulp\": \"&gt;=3.9.1\",\n    \"gulp-concat\": \"&gt;=2.5.2\",\n    \"gulp-copy\": \"&gt;=0.0.2\",\n    \"gulp-cssmin\": \"&gt;=0.1.7\",\n    \"gulp-load-plugins\": \"^1.3.0\",\n    \"gulp-rename\": \"&gt;=1.2.2\",\n    \"gulp-rimraf\": \"&gt;=0.2.0\",\n    \"gulp-tsc\": \"&gt;=1.2.0\",\n    \"gulp-uglify\": \"&gt;=1.2.0\",\n    \"gulp-watch\": \"&gt;=4.3.9\",\n    \"gulp-clean-css\": \"^3.0.4\",\n    \"gulp-clean\": \"^0.3.2\",\n    \"jasmine-core\": \"2.4.1\",\n    \"tslint\": \"^3.15.1\",\n    \"typescript\": \"^2.0.0\",\n    \"typings\": \"^1.3.2\"\n  },\n  \"scripts\": {\n    \"start\": \"concurrently \\\"npm run gulp\\\" \\\"npm run watch\\\" \\\"npm run tsc:w\\\"\",\n    \"postinstall\": \"typings install\",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\",\n    \"typings\": \"typings\",\n    \"gulp\": \"gulp\",\n    \"watch\": \"gulp watch\",\n    \"ngc\": \"ngc\"\n  }\n}\n</code></pre>\n\n<p><strong>STEP 4:</strong> <br />\nConfigure Gulp</p>\n\n<p>GULP.CONFIG.JS</p>\n\n<pre><code>module.exports = function () {\n\n    var base = {\n        webroot: \"./wwwroot/\",\n        node_modules: \"./node_modules/\"\n    };\n\n    var config = {\n        /**\n         * Files paths\n         */\n        angular: base.node_modules + \"@angular/**/*.js\",\n        app: \"App/**/*.*\",\n        appDest: base.webroot + \"app\",\n        js: base.webroot + \"js/*.js\",\n        jsDest: base.webroot + 'js',\n        css: base.webroot + \"css/*.css\",\n        cssDest: base.webroot + 'css',\n        lib: base.webroot + \"lib/\",\n        node_modules: base.node_modules,\n        angularWebApi: base.node_modules + \"angular2-in-memory-web-api/*.js\",\n        corejs: base.node_modules + \"core-js/client/shim*.js\",\n        zonejs: base.node_modules + \"zone.js/dist/zone*.js\",\n        reflectjs: base.node_modules + \"reflect-metadata/Reflect*.js\",\n        systemjs: base.node_modules + \"systemjs/dist/*.js\",\n        rxjs: base.node_modules + \"rxjs/**/*.js\",\n        jasminejs: base.node_modules + \"jasmine-core/lib/jasmine-core/*.*\"\n    };\n\n    return config;\n};\n</code></pre>\n\n<p><strong>STEP 5:</strong> <br />\nCreate Gulp tasks</p>\n\n<p>GULPFILE.JS</p>\n\n<pre><code>\"use strict\";\n\nvar gulp = require('gulp');\nvar config = require('./gulp.config')();\nvar cleanCSS = require('gulp-clean-css');\nvar clean = require('gulp-clean');\nvar rename = require('gulp-rename');\nvar $ = require('gulp-load-plugins')({ lazy: true });\n\ngulp.task(\"clean:js\", function (cb) {\n    //return $.rimraf('wwwroot/js/*.min.js', cb);\n    return gulp.src('wwwroot/js/*.min.js', { read: false }).pipe(clean());\n});\n\ngulp.task(\"clean:css\", function (cb) {\n    //return $.rimraf('wwwroot/css/*.min.css', cb);\n    return gulp.src('wwwroot/css/*.min.css', { read: false }).pipe(clean());\n});\n\ngulp.task('minify:css', function () {\n    return gulp.src(config.css)\n        .pipe(cleanCSS())\n        .pipe(rename({\n            suffix: '.min'\n        }))\n        .pipe(gulp.dest(config.cssDest));\n});\n\ngulp.task(\"clean\", [\"clean:js\", \"clean:css\"]);\ngulp.task('minify', ['minify:css']);\n\ngulp.task(\"copy:angular\", function () {\n\n    return gulp.src(config.angular,\n        { base: config.node_modules + \"@angular/\" })\n        .pipe(gulp.dest(config.lib + \"@angular/\"));\n});\n\ngulp.task(\"copy:angularWebApi\", function () {\n    return gulp.src(config.angularWebApi,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:corejs\", function () {\n    return gulp.src(config.corejs,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:zonejs\", function () {\n    return gulp.src(config.zonejs,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:reflectjs\", function () {\n    return gulp.src(config.reflectjs,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:systemjs\", function () {\n    return gulp.src(config.systemjs,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:rxjs\", function () {\n    return gulp.src(config.rxjs,\n        { base: config.node_modules })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"copy:app\", function () {\n    return gulp.src(config.app)\n        .pipe(gulp.dest(config.appDest));\n});\n\ngulp.task(\"copy:jasmine\", function () {\n    return gulp.src(config.jasminejs,\n        { base: config.node_modules + \"jasmine-core/lib\" })\n        .pipe(gulp.dest(config.lib));\n});\n\ngulp.task(\"dependencies\", [\n    \"copy:angular\",\n    \"copy:angularWebApi\",\n    \"copy:corejs\",\n    \"copy:zonejs\",\n    \"copy:reflectjs\",\n    \"copy:systemjs\",\n    \"copy:rxjs\",\n    \"copy:jasmine\",\n    \"copy:app\"\n]);\n\ngulp.task(\"watch\", function () {\n    return $.watch(config.app)\n        .pipe(gulp.dest(config.appDest));\n});\n\ngulp.task(\"default\", [\"clean\", 'minify', \"dependencies\"]);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "heroku", "typechecking"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1495707149, "post_id": 44164158, "comment_id": 75369993, "body": "Can you share the html and the ts of the component?"}, {"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1495708603, "post_id": 44164158, "comment_id": 75370861, "body": "@echonax Its a huge amount of code, I&#39;d rather figure out how I can generate the factory files locally so I can then see which file it is referring to."}, {"owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1495708687, "post_id": 44164158, "comment_id": 75370913, "body": "@echonax Here is a link, I made the repo public for now: <a href=\"https://github.com/rmcsharry/floorbook/tree/master/src/app/products\" rel=\"nofollow noreferrer\">github.com/rmcsharry/floorbook/tree/master/src/app/products</a>  It is the last component in the list there, products-component.ts"}], "answers": [{"tags": [], "owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "is_accepted": true, "score": 0, "last_activity_date": 1495751431, "creation_date": 1495751431, "answer_id": 44190793, "question_id": 44164158, "link": "https://stackoverflow.com/questions/44164158/angular2-and-heroku-aot-build-supplied-parameters-do-not-match-signature-of-ca/44190793#44190793", "title": "Angular2 and Heroku AOT build - Supplied parameters do not match signature of call target", "body": "<p>So it is line 7 that has the problem, not line 8.</p>\n\n<p>I finally figured out that:</p>\n\n<pre><code>(pageChange)=\"goToPage($event)\"\n</code></pre>\n\n<p>has 2 parameters, not one. So</p>\n\n<pre><code>(pageChange)=\"goToPage($event, true)\"\n</code></pre>\n\n<p>fixes the error.</p>\n"}], "owner": {"reputation": 4257, "user_id": 1028679, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/fe67e29bbbb733dedab9bdf075a9ff38?s=128&d=identicon&r=PG", "display_name": "rmcsharry", "link": "https://stackoverflow.com/users/1028679/rmcsharry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 44190793, "answer_count": 1, "score": 0, "last_activity_date": 1495751431, "creation_date": 1495644064, "last_edit_date": 1495749877, "question_id": 44164158, "link": "https://stackoverflow.com/questions/44164158/angular2-and-heroku-aot-build-supplied-parameters-do-not-match-signature-of-ca", "title": "Angular2 and Heroku AOT build - Supplied parameters do not match signature of call target", "body": "<p>My Angular2 app has been building, compiling and running fine for months now. The package.json has not changed in months either.</p>\n\n<p>Suddenly today when I deploy to Heroku I get a whole host of errors I have never seen before.</p>\n\n<p>For example:</p>\n\n<pre><code>ERROR in /tmp/build_2370f712cb3c370be2ee07c793ee7c1e/src/$$_gendir/app/products\n/product-form/product-form.component.ngfactory.ts (93,9): \n Supplied parameters do not match any signature of call target.\n</code></pre>\n\n<p>I have no idea which line it is referring to in the actual component. This code worked and built a few days ago.</p>\n\n<p>I contacted Heroku support and they do not know why this suddenly started happening.</p>\n\n<p>Judging from <a href=\"https://stackoverflow.com/questions/39378643/angular-2-ahead-of-time-compiler-must-i-make-all-class-properties-public?noredirect=1&amp;lq=1\">this question</a>, it seems to be something to do with AOT compilation. But I thought Heroku always did that. Somewhat confused here.</p>\n\n<p>If I locally force AOT compile with <code>ng build --aot --prod</code> none of these errors occur.</p>\n\n<p>Notice that the error is referring to line 93 of an 'ngfactory.ts' file - so how can I find what the ACTUAL line no is in the component?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I created a brand new project, updated everything to Angular 4.1.3. Each time I added a new component I pushed to Heroku. Everything has been fine (about 30 components so far) until the latest component, which now gives the same error EXCEPT it is not referring to <code>ngFactory.ts</code> file, but to the html file!</p>\n\n<pre><code>ERROR in ng:///tmp/build_48fd9e2da47f9df65e24dab60d5fc080/src/app/\nproposal-list/proposal-list.component.html (8,7): \nSupplied parameters do not match any signature of call target.\n</code></pre>\n\n<p>Here is the file, line 8 is the closing <code>&lt;/pagination-controls&gt;</code>. This makes no sense - what supplied parameters is it referring to?!</p>\n\n<pre><code>&lt;div class=\"row fb-pager-row\"&gt;\n  &lt;div class=\"col-md-4 text-left fb-pager-records\"&gt;\n    {{total$ | async | i18nPlural:pluralizeMapQuote}}\n  &lt;/div&gt;\n  &lt;div class=\"col-md-8 text-right\"&gt;\n    &lt;pagination-controls class=\"fb-pager\" autoHide=\"true\"\n      (pageChange)=\"goToPage($event)\" id=\"server\" previousLabel=\"Prev\" maxSize=\"7\"&gt;\n    &lt;/pagination-controls&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"list-group\"&gt;\n  &lt;fb-proposal-list-item *ngFor=\"let proposal of items$ | async | \n     paginate: { id: 'server', itemsPerPage: 10, currentPage: currentPage, totalItems: total$ | async }\" \n    [proposal]=\"proposal\" (proposalDataChanged)=\"handleDataChanged($event)\"&gt;\n  &lt;/fb-proposal-list-item&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>If I remove the pagination controls entirely, it builds. So I am assuming there is something borked in this <a href=\"https://github.com/michaelbromley/ngx-pagination#module-format\" rel=\"nofollow noreferrer\">third party control</a>.</p>\n"}, {"tags": ["typescript", "rxjs5"], "answers": [{"comments": [{"owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "edited": false, "score": 0, "creation_date": 1495660912, "post_id": 44164125, "comment_id": 75353346, "body": "Thank you, help me find the documentation."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 7, "last_activity_date": 1495643965, "creation_date": 1495643965, "answer_id": 44164125, "question_id": 44164032, "link": "https://stackoverflow.com/questions/44164032/this-keyword-for-function-parameter/44164125#44164125", "title": "this keyword for function parameter", "body": "<p>You can (since version 2.0 of typescript) specify what is the <code>this</code> you're expecting when a function is invoked.</p>\n\n<p>As described in <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#specifying-the-type-of-this-for-functions\" rel=\"noreferrer\">Specifying the type of this for functions</a>:</p>\n\n<blockquote>\n  <p>Following up on specifying the type of this in a class or an\n  interface, functions and methods can now declare the type of this they\n  expect.</p>\n  \n  <p>By default the type of this inside a function is any. Starting with\n  TypeScript 2.0, you can provide an explicit this parameter. this\n  parameters are fake parameters that come first in the parameter list\n  of a function</p>\n</blockquote>\n\n<p>Notice that this won't get translated into js, so it's not a real argument in the function.</p>\n"}], "owner": {"reputation": 862, "user_id": 1126944, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/27be28fb1b065f493e7f748c9c58cb58?s=128&d=identicon&r=PG", "display_name": "IcyBrk", "link": "https://stackoverflow.com/users/1126944/icybrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2377, "favorite_count": 2, "accepted_answer_id": 44164125, "answer_count": 1, "score": 6, "last_activity_date": 1495643965, "creation_date": 1495643659, "question_id": 44164032, "link": "https://stackoverflow.com/questions/44164032/this-keyword-for-function-parameter", "title": "this keyword for function parameter", "body": "<p>Recently when I use Rxjs 5, I downloaded Rxjs by using npm install Rxjs@5.0.1, from downloaded code under node_modules, I found Observable.d.ts in Rxjs folder, I saw it declare its constructor like below:</p>\n\n<pre><code> *\n * @constructor\n * @param {Function} subscribe the function that is  called when the Observable is\n * initially subscribed to. This function is given a Subscriber, to which new values\n * can be `next`ed, or an `error` method can be called to raise an error, or\n * `complete` can be called to notify of a successful completion.\n */\nconstructor(subscribe?: &lt;R&gt;(this: Observable&lt;T&gt;, subscriber: Subscriber&lt;R&gt;) =&gt; TeardownLogic);\n</code></pre>\n\n<p>My question is: what is the usage of this keyword in function type declaration of subscribe?: (this: Observable, ...), Does TypeScript has some documentation for this keyword usage like here? Thank you.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 5635645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b896408796322b720ffc2508d35684c1?s=128&d=identicon&r=PG&f=1", "display_name": "berno", "link": "https://stackoverflow.com/users/5635645/berno"}, "edited": false, "score": 0, "creation_date": 1496131936, "post_id": 44164352, "comment_id": 75521892, "body": "I have a problem with the first implementation,  i cannot retrieve the url from the snapshot neither in the constructor or with ngOnInit(). I receive an empty array []"}, {"owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "reply_to_user": {"reputation": 119, "user_id": 5635645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b896408796322b720ffc2508d35684c1?s=128&d=identicon&r=PG&f=1", "display_name": "berno", "link": "https://stackoverflow.com/users/5635645/berno"}, "edited": false, "score": 0, "creation_date": 1496132108, "post_id": 44164352, "comment_id": 75522005, "body": "you should have everything there, but, also, try to have a look at <code>Router Events</code> <a href=\"https://angular.io/docs/ts/latest/api/router/index/Router-class.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/router/index/Router-class.html</a>"}, {"owner": {"reputation": 119, "user_id": 5635645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b896408796322b720ffc2508d35684c1?s=128&d=identicon&r=PG&f=1", "display_name": "berno", "link": "https://stackoverflow.com/users/5635645/berno"}, "edited": false, "score": 0, "creation_date": 1496137485, "post_id": 44164352, "comment_id": 75525627, "body": "if i wrap the route.snapshot in a setTimeout i receive all the values expected but in ngOnInit or in the constructor all the values (also the custom data) are undefined"}], "tags": [], "owner": {"reputation": 11144, "user_id": 4099454, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hjZGE.png?s=128&g=1", "display_name": "Hitmands", "link": "https://stackoverflow.com/users/4099454/hitmands"}, "is_accepted": false, "score": 0, "last_activity_date": 1495645162, "last_edit_date": 1495645162, "creation_date": 1495644624, "answer_id": 44164352, "question_id": 44163953, "link": "https://stackoverflow.com/questions/44163953/checking-an-event-only-in-one-page-of-the-app-in-angular2/44164352#44164352", "title": "Checking an event only in one page of the app in angular2", "body": "<p>well, I would do this using <a href=\"https://angular.io/docs/ts/latest/api/router/index/ActivatedRouteSnapshot-interface.html\" rel=\"nofollow noreferrer\"><code>ActivatedRouteSnapshot</code></a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({...})\nclass Header implements OnInit {\n  readonly snapshot: ActivatedRouteSnapshot = null;\n\n  constructor(private route: ActivatedRoute) {\n    this.snapshot = route.snapshot;\n  }\n\n  ngOnInit() {\n    // if this.snapshot is HOMEPAGE\n    // then\n    // subscribe to the scroll and switch class when you need.\n  }\n}\n</code></pre>\n\n\n\n<p>You could also set a property on your <code>route.data</code> which tells you to animate or not the header.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const routes: Routes = [\n  {\n    path: '',\n    component: HomeRouteComponent,\n    data: { ANIMATE_HEADER: true }\n  }\n];\n\n// header.ts\nngOnInit() {\n  if(this.snapshot.data.ANIMATE_HEADER) {\n    // do stuff here\n  }\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 119, "user_id": 5635645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b896408796322b720ffc2508d35684c1?s=128&d=identicon&r=PG&f=1", "display_name": "berno", "link": "https://stackoverflow.com/users/5635645/berno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495645162, "creation_date": 1495643435, "last_edit_date": 1495644095, "question_id": 44163953, "link": "https://stackoverflow.com/questions/44163953/checking-an-event-only-in-one-page-of-the-app-in-angular2", "title": "Checking an event only in one page of the app in angular2", "body": "<p>i'm developing my first app in angular 4.0. </p>\n\n<p>My problem is pretty simple but i would like to know if there is a best practice to solve my issue. </p>\n\n<p>I have an header with position: 'fixed' and when the user scrolls the page this element changes some of its properties (height, background-size..) by adding a 'small' class dynamically. </p>\n\n<p>This is my component </p>\n\n<pre><code>import {Component, OnInit, HostListener} from '@angular/core';\n\n\n@Component({\n  selector: 'my-header',\n  templateUrl: './my-header.component.html',\n  styleUrls: ['./my-header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  scrollState: boolean;\n\n  constructor() { }\n\n  ngOnInit() {\n    this.scrollState  = false;\n  }\n\n  @HostListener('window:scroll', [])\n  toggleScrollState() {\n    if(window.pageYOffset == 0){\n      this.scrollState  = false;\n    }\n    else{\n      this.scrollState  = true;\n    }\n  }\n\n}\n</code></pre>\n\n<p>and this the html</p>\n\n<pre><code>&lt;header class=\"bk-blue clearfix\" [ngClass]=\"{small: scrollState}\"&gt;\n  &lt;a class=\"sx\" href=\"#\"&gt;Login&lt;/a&gt;\n  &lt;a class=\"dx arrow-down\"&gt;&lt;/a&gt;\n  &lt;a class=\"dx\" href=\"#\"&gt;It&lt;/a&gt;\n&lt;/header&gt;\n</code></pre>\n\n<p>Everything works fine but <strong>this should happen only in the home page</strong>. In the other page the header element should already be in the 'small' state without any DOM manipulations based on the scroll event.</p>\n\n<p>I was thinking of checking the current route to set an additional variable (false if the current route matches the home page path, true otherwise) and put that in OR with scrollState. Something like this:</p>\n\n<pre><code> &lt;header class=\"bk-blue clearfix\" [ngClass]=\"{small: notHome || scrollState}\"&gt;\n</code></pre>\n\n<p>By doing so, however, i can't avoid calling the listener with its   implications in term of reduced performance.</p>\n\n<p>What is for you the best approach to avoid calling the listener even in internal pages where it is not necessary? </p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic-native"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1495652786, "post_id": 44163777, "comment_id": 75349457, "body": "Do you use an Android device?"}, {"owner": {"reputation": 207, "user_id": 8060662, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/46b04596a826f72dc3ecfa068bfc0acb?s=128&d=identicon&r=PG&f=1", "display_name": "John R", "link": "https://stackoverflow.com/users/8060662/john-r"}, "reply_to_user": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1495653073, "post_id": 44163777, "comment_id": 75349599, "body": "No, I use iOS, iPad."}], "owner": {"reputation": 207, "user_id": 8060662, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/46b04596a826f72dc3ecfa068bfc0acb?s=128&d=identicon&r=PG&f=1", "display_name": "John R", "link": "https://stackoverflow.com/users/8060662/john-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495653090, "creation_date": 1495642919, "last_edit_date": 1495653090, "question_id": 44163777, "link": "https://stackoverflow.com/questions/44163777/ionic-native-media-capture-videos-of-length-greater-than-60-secs", "title": "Ionic-Native Media Capture videos of length greater than 60 secs", "body": "<p>Using ionic-native media capture to open camera and record videos I'd like the length of the videos to be a max of 120 seconds. Below are the pieces of code I'm using, I put a <code>maxLength =120</code> but the camera will always record 60 seconds only and prompt and alert that max length was achieved, at 60 seconds. I don't receive any error and the camera records just fine, except I can't get the record length to be 120 secs. How could I achieve this? I'm using this on a iPad device</p>\n\n<pre><code>import { MediaCapture, MediaFile, CaptureError } from '@ionic-native/media-capture';\n\nexport class Recorder implements OnInit {\n  private maxLength = 120; // maximum video length (seconds)\n  constructor () {}\n}\n\nrecordVideo(): Promise&lt;any&gt; {\n    return this.mediaCapture.captureVideo({duration: this.maxLength, limit: 1})\n      .catch((err: CaptureError) =&gt; { console.error(err); return err; })\n      .then((data: MediaFile[]) =&gt; this.submitVideo(data[0]))\n  }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "widget"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1495642580, "post_id": 44163645, "comment_id": 75343898, "body": "If you have a fixed set of widget components, you can use <code>*ngIf</code> or <code>*ngSwitchCase</code>, if you don&#39;t know in advance what the widgets will be you can take the approach demonstrated in <a href=\"https://stackoverflow.com/questions/36325212/angular-2-dynamic-tabs-with-user-click-chosen-components/36325468#36325468\" title=\"angular 2 dynamic tabs with user click chosen components\">stackoverflow.com/questions/36325212/&hellip;</a>"}, {"owner": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 1, "creation_date": 1495642584, "post_id": 44163645, "comment_id": 75343901, "body": "You could have a dynamic component loader in place of <code>widget</code> that would take an input and render components under it! See here: <a href=\"https://angular.io/docs/ts/latest/cookbook/dynamic-component-loader.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/&hellip;</a>"}, {"owner": {"reputation": 94, "user_id": 4014008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18b56181736381a891dde3e2a63b732?s=128&d=identicon&r=PG&f=1", "display_name": "Xhulio Kondak&#231;iu", "link": "https://stackoverflow.com/users/4014008/xhulio-kondak%c3%a7iu"}, "reply_to_user": {"reputation": 5977, "user_id": 5683579, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8c263738dccc90304c0ac71ed8ed505b?s=128&d=identicon&r=PG", "display_name": "joh04667", "link": "https://stackoverflow.com/users/5683579/joh04667"}, "edited": false, "score": 0, "creation_date": 1495801296, "post_id": 44163645, "comment_id": 75415448, "body": "Thanks @joh04667. I end up using that technique to solve my problem."}], "owner": {"reputation": 94, "user_id": 4014008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e18b56181736381a891dde3e2a63b732?s=128&d=identicon&r=PG&f=1", "display_name": "Xhulio Kondak&#231;iu", "link": "https://stackoverflow.com/users/4014008/xhulio-kondak%c3%a7iu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1532, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518686459, "creation_date": 1495642446, "last_edit_date": 1518686459, "question_id": 44163645, "link": "https://stackoverflow.com/questions/44163645/dynamically-load-components", "title": "Dynamically load components", "body": "<p>I have a widget base <strong>Angular 4</strong> application. This application will have a different type of widgets and any of them will be a different component. At the moment I have just wanted one type of widget and the HTML looks like this</p>\n\n<pre><code>&lt;div [ngGrid]=\"gridConfig\"&gt;\n&lt;div *ngFor=\"let widget of widgets;\"&gt;\n    &lt;widget [id]=\"widget.id\" [widgetConfig]=\"widget.config\"&gt;&lt;/widget&gt;\n&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I have searched the web but every solution I have found doesn't seem to fit my case.</p>\n\n<p>Is there any way where I can add the selector dynamically like this<code>&lt;{{widget.selector}} [id]=\"widget.id\" [widgetConfig]=\"widget.config\"&gt;&lt;/{{widget.selector}}&gt;</code>, Where selector would be the selector of the specific widget component.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-routing"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5709173"}, "edited": false, "score": 0, "creation_date": 1495637598, "post_id": 44161729, "comment_id": 75340245, "body": "I can&#39;t understand what you want, do you want to run a function as soon as a route is changed ?"}, {"owner": {"reputation": 2727, "user_id": 4442312, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XArH4.png?s=128&g=1", "display_name": "Umar Younis", "link": "https://stackoverflow.com/users/4442312/umar-younis"}, "edited": false, "score": 0, "creation_date": 1495637879, "post_id": 44161729, "comment_id": 75340488, "body": "this thing is already mentioned in this thread mate <a href=\"https://stackoverflow.com/questions/43042965/change-component-content-on-route-changes-angular-2/43043413#43043413\" title=\"change component content on route changes angular 2\">stackoverflow.com/questions/43042965/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 3476801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RAkvz.jpg?s=128&g=1", "display_name": "Subtain Ishfaq", "link": "https://stackoverflow.com/users/3476801/subtain-ishfaq"}, "edited": false, "score": 0, "creation_date": 1495637607, "post_id": 44161929, "comment_id": 75340254, "body": "<a href=\"http://jasonwatmore.com/post/2016/08/16/angular-2-jwt-authentication-example-tutorial\" rel=\"nofollow noreferrer\">jasonwatmore.com/post/2016/08/16/&hellip;</a>"}, {"owner": {"reputation": 450, "user_id": 4290315, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-413TEs5QPuc/AAAAAAAAAAI/AAAAAAAAAE4/D-eGDWnKF5c/photo.jpg?sz=128", "display_name": "ketan pradhan", "link": "https://stackoverflow.com/users/4290315/ketan-pradhan"}, "edited": false, "score": 0, "creation_date": 1495638188, "post_id": 44161929, "comment_id": 75340740, "body": "since today i started it, i know i am asking silly thing, but can you tell me where update the code means in which file, since i need to check on every route change"}, {"owner": {"reputation": 657, "user_id": 3476801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RAkvz.jpg?s=128&g=1", "display_name": "Subtain Ishfaq", "link": "https://stackoverflow.com/users/3476801/subtain-ishfaq"}, "reply_to_user": {"reputation": 450, "user_id": 4290315, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-413TEs5QPuc/AAAAAAAAAAI/AAAAAAAAAE4/D-eGDWnKF5c/photo.jpg?sz=128", "display_name": "ketan pradhan", "link": "https://stackoverflow.com/users/4290315/ketan-pradhan"}, "edited": false, "score": 0, "creation_date": 1495638649, "post_id": 44161929, "comment_id": 75341090, "body": "Please review the updated answer , Most welcome to ask again . Accept the answer if you think it is right ."}], "tags": [], "owner": {"reputation": 657, "user_id": 3476801, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RAkvz.jpg?s=128&g=1", "display_name": "Subtain Ishfaq", "link": "https://stackoverflow.com/users/3476801/subtain-ishfaq"}, "is_accepted": false, "score": 0, "last_activity_date": 1495638604, "last_edit_date": 1495638604, "creation_date": 1495637574, "answer_id": 44161929, "question_id": 44161729, "link": "https://stackoverflow.com/questions/44161729/on-change-route-need-to-run-a-function-to-check-the-token/44161929#44161929", "title": "on change route need to run a function to check the token", "body": "<p>You can use <code>CanActivate</code> to guard routes or call a function during transition of routes , example is mentioned below</p>\n\n<pre><code>import { Router, CanActivate } from '@angular/router';\n\nexport class AuthGuard implements CanActivate {\n\nconstructor(private router: Router) { }\n\ncanActivate() {\n  return true //or false\n}\n}\n</code></pre>\n\n<p>For official <a href=\"https://angular.io/docs/ts/latest/api/router/index/CanActivate-interface.html\" rel=\"nofollow noreferrer\">doc</a></p>\n\n<p><strong>Updated Steps</strong>:</p>\n\n<ol>\n<li>write the AuthGuard Service as mentioned in the above code</li>\n<li>Add the AuthGaurd in providers (app.module.ts file) </li>\n<li>In this way whenever transition occurs canActivate is called.</li>\n</ol>\n\n<p><strong>Assumptions</strong></p>\n\n<ol>\n<li>You already have registered the routes with appModule</li>\n</ol>\n\n<p><strong>Tutorial</strong></p>\n\n<ol>\n<li><a href=\"http://jasonwatmore.com/post/2016/08/16/angular-2-jwt-authentication-example-tutorial\" rel=\"nofollow noreferrer\">http://jasonwatmore.com/post/2016/08/16/angular-2-jwt-authentication-example-tutorial</a></li>\n</ol>\n"}], "owner": {"reputation": 450, "user_id": 4290315, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh3.googleusercontent.com/-413TEs5QPuc/AAAAAAAAAAI/AAAAAAAAAE4/D-eGDWnKF5c/photo.jpg?sz=128", "display_name": "ketan pradhan", "link": "https://stackoverflow.com/users/4290315/ketan-pradhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518686991, "creation_date": 1495637019, "last_edit_date": 1518686991, "question_id": 44161729, "link": "https://stackoverflow.com/questions/44161729/on-change-route-need-to-run-a-function-to-check-the-token", "title": "on change route need to run a function to check the token", "body": "<p>In Angular, for every route that has been changed, I need to run the function if the valid token is set or not. </p>\n\n<p>Can anyone help me to do this?</p>\n\n<p>In Angular 1 I use to do using <code>$on</code>.</p>\n"}, {"tags": ["angular", "animation", "typescript", ".net-core", "angular-routing"], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "edited": false, "score": 1, "creation_date": 1500891695, "post_id": 45269716, "comment_id": 77518329, "body": "Thanks! is not exactly the animation that I want but your solution works very fine! :)"}], "tags": [], "owner": {"reputation": 219, "user_id": 2183864, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/H0bAF.png?s=128&g=1", "display_name": "Maj", "link": "https://stackoverflow.com/users/2183864/maj"}, "is_accepted": true, "score": 4, "last_activity_date": 1500842402, "creation_date": 1500842402, "answer_id": 45269716, "question_id": 44161475, "link": "https://stackoverflow.com/questions/44161475/animations-works-only-on-some-elements/45269716#45269716", "title": "Animations: works only on some elements", "body": "<p>I've tried that exact tutorial and failed to get fade-in-out working, but did get slide-in-out working. \nHowever I had a work around for the fade-in-out animation.</p>\n\n<pre><code>export const fadeInAnimation = \n     trigger('fadeInAnimation', [\n\n        state('void', style({ position: 'absolute', width: '100%', height: '100%', opacity: 0 })),\n        state('*', style({ position: 'absolute', width: '100%', height: '100%', opacity: 1 })),\n\n        transition(':enter', [\n            style({ transform: 'translateY(20%)', opacity: 0 }),\n            animate('0.8s ease-in-out', style({ transform: 'translateY(0%)', opacity: 1 }))\n        ]),\n\n        transition(':leave', [\n            style({ transform: 'translateY(0%)' }),\n            animate('0.8s ease-in-out', style({ transform: 'translateY(-20%)', opacity: 0 }))\n        ])\n\n    ]);\n</code></pre>\n\n<p>Hope this helps even though it's a late answer!</p>\n"}], "owner": {"reputation": 955, "user_id": 1058278, "user_type": "registered", "accept_rate": 34, "profile_image": "https://www.gravatar.com/avatar/ef04e33a6c612515629366083fbe512f?s=128&d=identicon&r=PG", "display_name": "Androidian", "link": "https://stackoverflow.com/users/1058278/androidian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "accepted_answer_id": 45269716, "answer_count": 1, "score": 1, "last_activity_date": 1518687014, "creation_date": 1495636406, "last_edit_date": 1518687014, "question_id": 44161475, "link": "https://stackoverflow.com/questions/44161475/animations-works-only-on-some-elements", "title": "Animations: works only on some elements", "body": "<p>I'm developing an .NET Core Angular 4 app generated with <a href=\"https://github.com/aspnet/JavaScriptServices\" rel=\"nofollow noreferrer\">this</a> framework.\nI want to add some router animations and to do than I followed <a href=\"http://jasonwatmore.com/post/2017/04/19/angular-2-4-router-animation-tutorial-example\" rel=\"nofollow noreferrer\">this</a> tutorial.</p>\n\n<p>In general it seems to work but the animation is triggered only for some elements. As an example, I have this view:</p>\n\n<pre><code>&lt;h1&gt;Courses&lt;/h1&gt;\n\n&lt;p&gt;This is a simple example of an Angular 2 component.&lt;/p&gt;\n\n&lt;p&gt;Current count: &lt;strong&gt;{{ currentCount }}&lt;/strong&gt;&lt;/p&gt;\n\n&lt;button (click)=\"incrementCounter()\"&gt;Increment&lt;/button&gt;\n</code></pre>\n\n<p>And its controller class is:</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { fadeInAnimation } from '../../animations';\n\n@Component({\n    selector: 'courses',\n    templateUrl: './courses.component.html',\n    animations: [fadeInAnimation],\n    host: { '[@fadeInAnimation]': '' }\n})\nexport class CoursesComponent {\n    public currentCount = 0;\n\n    public incrementCounter() {\n        this.currentCount++;\n    }\n}\n</code></pre>\n\n<p>In the same way as shown in the tutorial I've added a file containing the animation:</p>\n\n<pre><code>import { trigger, state, animate, transition, style } from '@angular/animations';\n\nexport const fadeInAnimation =\n    trigger('fadeInAnimation', [\n        // route 'enter' transition\n        transition(':enter', [\n\n            // styles at start of transition\n            style({ opacity: 0 }),\n\n            // animation and styles at end of transition\n            animate('.3s', style({ opacity: 1 }))\n        ]),\n    ]);\n</code></pre>\n\n<p>With these code, no errors are shown but the animation is triggered (and visibile) only on the \"increment\" button element of the view. h1 and p elements are shown istantly.</p>\n\n<p>The only thing that differs from the tutorial code is, maybe, the routing. My routing is:</p>\n\n<pre><code>const routes: Routes = [\n    {\n        path: \"\",\n        component: ContainerComponent,\n        canActivate: [AuthGuard],\n        children: [\n            {\n                path: \"\",\n                redirectTo: \"courses\",\n                pathMatch: \"full\"\n            },\n            {\n                path: \"courses\",\n                component: CoursesComponent\n                /*resolve: { home: HomeResolver }*/\n            },\n            {\n                path: 'subscriptions',\n                component: SubscriptionsComponent,\n                canActivate: [AdminGuard]\n            },\n            {\n                path: 'registry',\n                component: RegistryComponent,\n                canActivate: [AdminGuard]\n            },\n            {\n                path: 'settings',\n                component: SettingsComponent,\n                canActivate: [AdminGuard]\n            },\n            {\n                path: \"**\",\n                component: PageNotFoundComponent\n            }\n        ]\n    }\n];\n</code></pre>\n\n<p>The ContainerComponent has, for now, an empty controller with this template:</p>\n\n<pre><code>&lt;header&gt;\n    &lt;nav-menu&gt;&lt;/nav-menu&gt;\n&lt;/header&gt;\n&lt;main&gt;\n    &lt;div class=\"container body-content\"&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    &lt;/div&gt;\n&lt;/main&gt;\n&lt;footer&gt;\n    &lt;p&gt;&amp;copy; 2017 - CaliUP&lt;/p&gt;\n&lt;/footer&gt;\n</code></pre>\n\n<p>What am I missing?\nWhy the animation works only on button and not on other elements?</p>\n\n<p>Thank you all in advance :)</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "answers": [{"comments": [{"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495636789, "post_id": 44161431, "comment_id": 75339528, "body": "what exactly do you mean? I did not understand your answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495636901, "post_id": 44161431, "comment_id": 75339624, "body": "<code>return this.currentLanguage</code> should be inside the subscribe, just a couple of lines above"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "edited": false, "score": 0, "creation_date": 1495637015, "post_id": 44161431, "comment_id": 75339739, "body": "That won&#39;t work either so don&#39;t bother. You can&#39;t return something from a subscription."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495637155, "post_id": 44161431, "comment_id": 75339861, "body": "It can, if you directly return the subscribe statement"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1495636277, "creation_date": 1495636277, "answer_id": 44161431, "question_id": 44161307, "link": "https://stackoverflow.com/questions/44161307/routing-with-language-in-angular-typescript-vs-code/44161431#44161431", "title": "routing with language in Angular + Typescript VS Code", "body": "<p>It's because your return is outside of your subscribe. Try putting it inside. </p>\n"}, {"comments": [{"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495636772, "post_id": 44161457, "comment_id": 75339507, "body": "thank you, but still not working. I did your solution. still undefined.  can you please provide me with some explanation so I can understand"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495637111, "post_id": 44161457, "comment_id": 75339821, "body": "Basically you create an observable which your component subscribes to, and you emit a value inside the subscribe call. If that is all it&#39;s going to do you should just grab the parameter directly in the component tbh without the helper. As it just adds more code for no reason really."}, {"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495637235, "post_id": 44161457, "comment_id": 75339928, "body": "I tried to write the routing with the subscription directly in the component, but still undefined.  this.route.params.subscribe(params =&gt; {       this.lang = params.lang;     });"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495637556, "post_id": 44161457, "comment_id": 75340201, "body": "@SamySammour Then you&#39;re probably in the wrong route trying to fetch it. Try adding a <code>parent</code>, <code>this.route.parent.params...</code>"}, {"owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "reply_to_user": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495638244, "post_id": 44161457, "comment_id": 75340792, "body": "@SamySammour Can you make a plunkr? Then I can solve it."}, {"owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "edited": false, "score": 0, "creation_date": 1495639470, "post_id": 44161457, "comment_id": 75341714, "body": "I guess I added all the necessary files. it won&#39;t work on a plunkr but will in vs code if you download it and add it to an empty angular project: <a href=\"https://plnkr.co/edit/b9WEm1YbUg8GlhI9mUvw?p=linter\" rel=\"nofollow noreferrer\">plnkr.co/edit/b9WEm1YbUg8GlhI9mUvw?p=linter</a>"}], "tags": [], "owner": {"reputation": 22246, "user_id": 4054974, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bd06d5c072d50b8fa171521eb75d6925?s=128&d=identicon&r=PG&f=1", "display_name": "Chrillewoodz", "link": "https://stackoverflow.com/users/4054974/chrillewoodz"}, "is_accepted": false, "score": 0, "last_activity_date": 1495636351, "creation_date": 1495636351, "answer_id": 44161457, "question_id": 44161307, "link": "https://stackoverflow.com/questions/44161307/routing-with-language-in-angular-typescript-vs-code/44161457#44161457", "title": "routing with language in Angular + Typescript VS Code", "body": "<p>You're trying to return something from within a subscription, that won't really work. Either you can return the route params and subscribe to that in your component or you can do it like this:</p>\n\n<pre><code>export class TranslateHelper {\n   private currentLanguage: string;\n   private defaultLanguage = 'de-de';\n\n   private language: Subject&lt;any&gt; = new Subject&lt;any&gt;();\n\n   public language$ = language.asObservable();\n\n   constructor( private route: ActivatedRoute) {}\n\n   public getCurrentLanguage() {\n      this.route.params.subscribe(params =&gt; {\n        this.language.next(params.lang)\n      });\n   }\n}\n\n\nexport class FooterComponent implements OnInit {\n  public lang;\n\n  constructor(private translateHelper: TranslateHelper) { }\n\n  ngOnInit() {\n\n    this.translateHelper.language$.subscribe(language =&gt; {\n      this.lang = language;\n    }):\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1746, "user_id": 6827367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Q2PKr.jpg?s=128&g=1", "display_name": "Samy Sammour", "link": "https://stackoverflow.com/users/6827367/samy-sammour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 525, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1518687029, "creation_date": 1495636029, "last_edit_date": 1518687029, "question_id": 44161307, "link": "https://stackoverflow.com/questions/44161307/routing-with-language-in-angular-typescript-vs-code", "title": "routing with language in Angular + Typescript VS Code", "body": "<p>I am developing a multi-language Angular4 application with VS Code. </p>\n\n<p>The router has to be like this: </p>\n\n<blockquote>\n  <p>localhost/en-us/visions</p>\n</blockquote>\n\n<p>I have a class called TranslateHelper: </p>\n\n<pre><code>import { ActivatedRoute } from '@angular/router';\nexport class TranslateHelper {\n   private currentLanguage: string;\n   private defaultLanguage = 'de-de';\n\n   constructor( private route: ActivatedRoute) {}\n\n   public getCurrentLanguage() {\n      this.route.params.subscribe(params =&gt; {\n        this.currentLanguage = params.lang;\n   });\n\n   return this.currentLanguage;\n  }\n}\n</code></pre>\n\n<p>the app-routing.module is: </p>\n\n<pre><code>const routes: Routes = [\n  { path: ':lang/visions', component: VisionsComponent},\n];\n</code></pre>\n\n<p>and in the footer I am trying to add the language in the URL: </p>\n\n<pre><code>export class FooterComponent implements OnInit {\n  public lang;\n\n  constructor(private translateHelper: TranslateHelper) { }\n\n  ngOnInit() {\n    this.lang = this.translateHelper.getCurrentLanguage();\n  }\n\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>    &lt;li&gt;&lt;a [routerLink]=\"[lang, 'visions']\"&gt;Visions&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>I do not receive any failure, but the lang in the footer is always undefined, exactly as the params.lang is.</p>\n\n<p>can anybody tell me how can I fix it? thank you anyway.</p>\n"}, {"tags": ["angular", "http", "typescript", "rxjs", "observable"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495635723, "post_id": 44161007, "comment_id": 75338634, "body": "Why don&#39;t you use the framework as it is, and type it after your calls ? For instance, I type it in my services, with classes I created in the frontend"}, {"owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "edited": false, "score": 0, "creation_date": 1495635995, "post_id": 44161007, "comment_id": 75338847, "body": "@trichetriche not interested in subjective opinions. If you haven&#39;t used typed promises or typed observables before angular 2+ then you&#39;re not aware of what you&#39;re missing."}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 1, "creation_date": 1495636013, "post_id": 44161007, "comment_id": 75338861, "body": "Take a look here : <a href=\"https://github.com/maxime1992/angular-ngrx-starter/blob/master/src/app/shared/states/pizzas/pizzas.service.ts#L23\" rel=\"nofollow noreferrer\">github.com/maxime1992/angular-ngrx-starter/blob/master/src/a&zwnj;&#8203;pp/&hellip;</a> I think you want something like that"}, {"owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "reply_to_user": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "edited": false, "score": 0, "creation_date": 1495636386, "post_id": 44161007, "comment_id": 75339159, "body": "@Maxime exactly"}], "answers": [{"comments": [{"owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "edited": false, "score": 0, "creation_date": 1495636287, "post_id": 44161240, "comment_id": 75339074, "body": "seems like just a wrapper. But in order to be used as a DAO method, I&#39;d just remove <code>.catch</code> (client component can handle that). Makes sense, thanks"}, {"owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "reply_to_user": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "edited": false, "score": 0, "creation_date": 1495636542, "post_id": 44161240, "comment_id": 75339297, "body": "yes, it is basically a wrapper and you could genericize it. you could remove the catch, but it would provide a way to handle the errors consistently."}], "tags": [], "owner": {"reputation": 8732, "user_id": 1874522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/1BXUD.png?s=128&g=1", "display_name": "peinearydevelopment", "link": "https://stackoverflow.com/users/1874522/peinearydevelopment"}, "is_accepted": true, "score": 2, "last_activity_date": 1495635908, "creation_date": 1495635908, "answer_id": 44161240, "question_id": 44161007, "link": "https://stackoverflow.com/questions/44161007/typed-observables-with-angular-http/44161240#44161240", "title": "typed observables with Angular HTTP", "body": "<p>I assume you are looking for something like this: </p>\n\n<pre><code>import 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\n\nget(id: number): Observable&lt;User&gt; {\n    const url = `${this.baseUrl}/${id}`;\n\n    return this.http\n               .get(url)\n               .do((response: Response) =&gt; {\n                 if (!response) {\n                   return Observable.of(null);\n                 }\n               })\n               .map((response: Response) =&gt; {\n                   return &lt;User&gt;response.json();\n               })\n               .catch(error =&gt; {\n                 return Observable.of(null);\n               });\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "is_accepted": false, "score": 0, "last_activity_date": 1495636705, "creation_date": 1495636705, "answer_id": 44161582, "question_id": 44161007, "link": "https://stackoverflow.com/questions/44161007/typed-observables-with-angular-http/44161582#44161582", "title": "typed observables with Angular HTTP", "body": "<p>Maybe this will help someone...</p>\n\n<pre><code>@Injectable()\nexport class UsersModel {\n  getItem(id: number): Observable&lt;User&gt; {\n    return this.http.get(`${API_URL}/users/${id}`, {\n      headers: this.getHeaders()\n    });\n  }\n}\n</code></pre>\n\n<p>In above code the error thrown is that <code>Observable&lt;Response&gt;</code> is in conflict with <code>Observable&lt;User&gt;</code>, distinct data types. The solution is just to include the <code>observable.map((res) =&gt; res.json())</code> into the DAO method like here:</p>\n\n<pre><code>@Injectable()\nexport class UsersModel {\n  getItem(id: number): Observable&lt;User&gt; {\n    return this.http.get(`${API_URL}/users/${id}`, {\n      headers: this.getHeaders()\n    })\n    .map((res) =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>Now there's no conflict, since <code>res.json</code> (of class Response) returns <code>any</code>. And this open the possibility for us to make <code>getItem</code> method return certain type of ours: <code>getItem(id: number): Observable&lt;User&gt;</code>. And I've got what I need - outside the DAO - in a component, for instance, I do:</p>\n\n<pre><code>this.UsersModel.getItem().subscribe(u =&gt; {\n  u // u is of User already, yay!\n})\n</code></pre>\n"}], "owner": {"reputation": 22324, "user_id": 769384, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3fa57b5dc94ebba0dd8dc93878ccd922?s=128&d=identicon&r=PG", "display_name": "ducin", "link": "https://stackoverflow.com/users/769384/ducin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1191, "favorite_count": 1, "accepted_answer_id": 44161240, "answer_count": 2, "score": 0, "last_activity_date": 1495644590, "creation_date": 1495635298, "last_edit_date": 1495644590, "question_id": 44161007, "link": "https://stackoverflow.com/questions/44161007/typed-observables-with-angular-http", "title": "typed observables with Angular HTTP", "body": "<p>short: <em>Having a method that returns a http call (get, put, whatever), determine the type of the items returned, using typescript types?</em></p>\n\n<p>On TypeScrpt level, a promise is a generic type. It carries on the type of the message you expect, e.g. <code>IPromise&lt;T&gt;</code>. This way you can define that a method returns a promise of type <code>Promise&lt;number[]&gt;</code> which basically returns a promise that resolves with a list of numbers. Thanks to this, you make typescript even more powerful.</p>\n\n<p>You can do the same with Observables (RxJS). Simple, we've got <code>Observable&lt;T&gt;</code> (just take a look at <code>Observable.d.ts</code> in npm:<code>rxjs</code>). Each item you expect in this stream is of type T (this is the <code>subscribe</code> callback parameter - has to be - TypeScript checks this for you).</p>\n\n<h2>Angular</h2>\n\n<p>Going back to Angular, the HTTP module wraps Observables. It doesn't return values immediately, but emits http calls with HTTP-related stuff (status, status text, url, etc), not just the value. In http's .d.ts, http.get, put, post, etc return <code>Observable&lt;Response&gt;</code>, where <code>Response</code> is the Angular built-in wrapper for HTTP call. But I see <em>I lose the possibility to predefine the type of what a HTTP is supposed to return.</em></p>\n\n<p>question is: <em>is there a possibility in angular http calls to predefine what type is the http-call/observable return?</em> Something like <code>Observable&lt;User&gt;</code> where <code>User</code> is just my application interface.</p>\n"}, {"tags": ["typescript", "npm", "systemjs"], "answers": [{"comments": [{"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495641217, "post_id": 44161349, "comment_id": 75343056, "body": "I just tried jspm, it looks like there&#39;s a lot to learn in it and many issues to tackle (typescript doesn&#39;t recognize jspm path by default in imports, bundling typescript for production has issues...),  Doesn&#39;t npm have some command to bundle all dependencies into a single bundle.js or something similar?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495641704, "post_id": 44161349, "comment_id": 75343361, "body": "To keep typescript/ide happy - just use ordinary dependencies in package.json. Noone prohibit you from having both. Jspm will take care of module loading client side. Never had issues with deploys either. And i do not think there is a command in npm to bundle package - its not a webpack afterall."}, {"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495642704, "post_id": 44161349, "comment_id": 75343986, "body": "Okay I did that, ts is now able to find it. Will jspm load and bundle npm dependencies that were not installed via jspm? Deploy - <code>jspm bundle</code> expects a .js file, I guess I should point it to a file compiled by .ts? Even when I do that I have errors, but let&#39;s put them aside for a moment. I guess I also need to run this from a local server in order to avoid cross-origin errors as well. Is it possible to use import statements without depending on a module loader like systemjs? I don&#39;t even mind loading the libraries manually frankly, I just like the syntax."}, {"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495643565, "post_id": 44161349, "comment_id": 75344516, "body": "The jspm bundle error is: <code>err  TypeError: Cannot read property &#39;forEach&#39; of undefined          at Trace.getLoadDependencies (C:\\Users\\royib\\AppData\\Roaming\\npm\\node_modules\\jspm\\node_m&zwnj;&#8203;odules\\systemjs-buil&zwnj;&#8203;der\\lib\\trace.js:957&zwnj;&#8203;:12)</code>"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495650640, "post_id": 44161349, "comment_id": 75348442, "body": "I think you are trying to jump over too many things at once. Start with preparing simple test project with typescript and jspm. Do not think about bundling yet. There is a nice example to start with: <a href=\"https://github.com/Microsoft/TypeScriptSamples/tree/master/jspm\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScriptSamples/tree/master/jspm</a>. When this is done and you feel comfortable and understand what it does and how it works - proceed with bundling."}, {"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495672522, "post_id": 44161349, "comment_id": 75356820, "body": "I guess you are right. I used jspm-server. My index.html loads my build/app.js (compiled from src/app.ts). The contents of app are never executed. Only app.js is loaded, in network I don&#39;t see the node_modules related dist .js files loaded. In app.js I also don&#39;t see the import I made to a module in app.ts, so it&#39;s like SystemJS got no way to know it should load it. Any idea what I&#39;m missing?"}, {"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495672962, "post_id": 44161349, "comment_id": 75356912, "body": "This is my index.html <code>&lt;!doctype html&gt;   &lt;script src=&quot;jspm_packages&#47;system.js&quot;&gt;&lt;&#47;script&gt;   &lt;script src=&quot;config.js&quot;&gt;&lt;&#47;script&gt;   &lt;script&gt;     System.import(&#39;build&#47;app.js&#39;);   &lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1495815074, "post_id": 44161349, "comment_id": 75424410, "body": "What do you think?"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "edited": false, "score": 0, "creation_date": 1496045293, "post_id": 44161349, "comment_id": 75484617, "body": "Its hard to give you any advice taking into account that minimum amount of actual code you have provided. I can only repeat myself and recommend you to take minimum working project (from the link I gave above), strictly follow its readme and get working solution. Then step by step modify it to your needs."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 0, "last_activity_date": 1495636118, "creation_date": 1495636118, "answer_id": 44161349, "question_id": 44160933, "link": "https://stackoverflow.com/questions/44160933/typescript-project-systemjs/44161349#44161349", "title": "TypeScript Project - SystemJS", "body": "<p>I think both your problems can be solved by using <a href=\"http://jspm.io/\" rel=\"nofollow noreferrer\">jspm</a>. It is using systemjs as module loader and takes away from you the burden of configuring and maintaining all packages paths, extensions, etc that are required by systemjs configuration.</p>\n\n<p>Specifically answering your question:</p>\n\n<ol>\n<li>jspm will keep all your client dependencies in one separate folder (jspm_packages) therefore in order to prepare your dependencies for deploy all you need to do is copy this folder to the target location.</li>\n<li>jspm will produce config.js for you containing all configuration of all used (including nested) packages</li>\n</ol>\n\n<p>Start off with this <a href=\"http://jspm.io/docs/getting-started.html\" rel=\"nofollow noreferrer\">user guide</a> - it is very clear and will allow you to configure jspm in no time.</p>\n"}], "owner": {"reputation": 593, "user_id": 5882529, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/1768920451/picture?type=large", "display_name": "Royi Bernthal", "link": "https://stackoverflow.com/users/5882529/royi-bernthal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495636118, "creation_date": 1495635126, "question_id": 44160933, "link": "https://stackoverflow.com/questions/44160933/typescript-project-systemjs", "title": "TypeScript Project - SystemJS", "body": "<p>I'm trying to create a new TypeScript project.</p>\n\n<p>I'd like it to be as straightforward and lightweight as possible without any unnecessarily complex configurations, while meeting these requirements:</p>\n\n<p>-Using npm</p>\n\n<p>-Using TypeScript</p>\n\n<p>-Using import statements, e.g. </p>\n\n<pre><code>import { A, B } from 'module';\n</code></pre>\n\n<p>-Bundle all dependencies from node_modules that were imported using import statements into /build for production</p>\n\n<p>-Compile project source into a single outFile and put it in /build</p>\n\n<p>-Load dependencies at runtime according to imports made using import statements</p>\n\n<p>-Using SystemJS, since I understood it's in the process of becoming the standard module loader</p>\n\n<p><strong>So far I created a new project:</strong></p>\n\n<p>-Used npm - installed a framework and its typings for TypeScript</p>\n\n<p>-Compiling using tsc (tsconfig.json) via Visual Studio Code</p>\n\n<p>-tsconfig.json \"module\": \"system\" (SystemJS)</p>\n\n<p>-I can write import statements (since module is set to \"system\")</p>\n\n<p>-tsconfig.json \"outFile\": \"../build/app.js\" - compiles project source into a single outFile and puts it in \"build\" dir</p>\n\n<p><strong>What I'm missing is:</strong></p>\n\n<p>-Bundle all dependencies from node_modules that were imported using import statements into /build for production</p>\n\n<p>-Load dependencies at runtime according to imports made using import statements</p>\n\n<p>I don't have any experience with setting up and configuring module loaders.</p>\n\n<p><strong>Could you please help point me in the right direction?</strong></p>\n\n<p>Searching any of these subjects brings up results and npm modules I could use, but things can get too complex too fast and it'll take me too much time playing around to understand what I'm doing and what needs to be done, so any advice from someone who knows how to best approach this would be much appreciated.</p>\n"}, {"tags": ["angular", "typescript", "angular-cli", "bundling-and-minification"], "answers": [{"comments": [{"owner": {"reputation": 3516, "user_id": 446066, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/89707348dcd002f2bdf5472f8cf89312?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/446066/emmanuel"}, "edited": false, "score": 0, "creation_date": 1496129809, "post_id": 44168066, "comment_id": 75520634, "body": "After editing to build, use &#39;npm start&#39; , or &#39;npm run build&#39;."}, {"owner": {"reputation": 2531, "user_id": 547636, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/33f626d974a59c1e5454a3856b45a68c?s=128&d=identicon&r=PG", "display_name": "Amitesh", "link": "https://stackoverflow.com/users/547636/amitesh"}, "edited": false, "score": 1, "creation_date": 1506320887, "post_id": 44168066, "comment_id": 79754686, "body": "Just a point to remember, once we use <code>ng eject</code> then we not able to use angular-cli goodies with it."}, {"owner": {"reputation": 699, "user_id": 7759106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1l0O.png?s=128&g=1", "display_name": "Abhijeet", "link": "https://stackoverflow.com/users/7759106/abhijeet"}, "edited": false, "score": 0, "creation_date": 1583398537, "post_id": 44168066, "comment_id": 107104630, "body": "<i>ng eject</i> is not working in latest version of angular-cli, is there any other approach by which we can configure mangle in prod build ?"}], "tags": [], "owner": {"reputation": 280, "user_id": 6245519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056b579bcbfe7830923994e7961f623b?s=128&d=identicon&r=PG&f=1", "display_name": "Andres M", "link": "https://stackoverflow.com/users/6245519/andres-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1495658279, "creation_date": 1495658279, "answer_id": 44168066, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/44168066#44168066", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>Angular cli uses webpack and uglify internally. One solution would be changing the options in uglify by exporting the webpack configuration. You can see the webpack files by running ng eject, and ng eject --prod</p>\n\n<pre><code>new UglifyJsPlugin({\n      \"mangle\": false,\n      \"compress\": {\n        \"screw_ie8\": true,\n        \"warnings\": false\n      },\n      \"sourceMap\": false\n    }),\n</code></pre>\n\n<p>Mangle = false will preserve class names. The lack of options for webpack in angular cli is one big discussion atm.</p>\n\n<p>You can alse set exclusions like this:</p>\n\n<pre><code>mangle: {\n    except: ['foozah']\n  }\n</code></pre>\n\n<p>Note: after ejecting you can remove ejected true from angular-cli.json to do it again or serve/build normally.</p>\n\n<pre><code>\"project\": {\n    \"name\": \"test\",\n    \"ejected\": true //remove\n  },\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4610, "user_id": 344050, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c36d890499e8d8964857a705a4b80d6b?s=128&d=identicon&r=PG", "display_name": "Sydwell", "link": "https://stackoverflow.com/users/344050/sydwell"}, "edited": false, "score": 1, "creation_date": 1521183049, "post_id": 44256336, "comment_id": 85630839, "body": "Shoudn&#39;t that  be <b>keep_fnames: true,</b>"}], "tags": [], "owner": {"reputation": 3516, "user_id": 446066, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/89707348dcd002f2bdf5472f8cf89312?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/446066/emmanuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1496130086, "creation_date": 1496130086, "answer_id": 44256336, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/44256336#44256336", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>The option in mangle:</p>\n\n<pre><code>\"mangle\":{\n   \"keep_names\" : true\n}\n</code></pre>\n\n<p>Keeps the class names intact.</p>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 1850564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a9917687daae669b1b5ba4a0e3d259a?s=128&d=identicon&r=PG", "display_name": "Drew", "link": "https://stackoverflow.com/users/1850564/drew"}, "is_accepted": false, "score": 0, "last_activity_date": 1527463550, "creation_date": 1527463550, "answer_id": 50557403, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/50557403#50557403", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>Building off Andres M's answer, you can disable mangling without <code>ng eject</code> by directly modifying the Angular file that controls the settings for Webpack: <code>node_modules/@angular-devkit/build-angular/src/angular-cli-files/models/webpack-configs/common.js</code></p>\n\n<p>Note that this will be overwritten whenever <code>@angular-devkit/build-angular</code> is updated, and is not supported by Angular or NPM (and may kill your cat/cause a nuclear armageddon, don't say I didn't warn you!)</p>\n\n<p>I disabled mangling entirely by changing <code>uglifyOptions</code> to <code>uglifyOptions: Object.assign(uglifyOptions, {mangle: false})</code>.</p>\n\n<p>For reference, here's the relevant portion from my modified <code>common.js</code> file</p>\n\n<pre><code>...\nnew UglifyJSPlugin({\n  sourceMap: buildOptions.sourceMap,\n  parallel: true,\n  cache: true,\n  uglifyOptions: Object.assign(uglifyOptions, {\"mangle\": false})\n}),\n...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 699, "user_id": 7759106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1l0O.png?s=128&g=1", "display_name": "Abhijeet", "link": "https://stackoverflow.com/users/7759106/abhijeet"}, "edited": false, "score": 0, "creation_date": 1583746615, "post_id": 58679685, "comment_id": 107207010, "body": "Thanks for solution but I am facing one issue is that - after following all the steps which you mention but now I am facing one problem like a class name append before like -  consider a class is AbLogin then after production build class name became ab_login_AbLogin"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1589910419, "post_id": 58679685, "comment_id": 109479001, "body": "In my case, the terser plugin is not necessarily the right one"}, {"owner": {"reputation": 151, "user_id": 641995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D96YI.jpg?s=128&g=1", "display_name": "Ryan O", "link": "https://stackoverflow.com/users/641995/ryan-o"}, "edited": false, "score": 0, "creation_date": 1591909406, "post_id": 58679685, "comment_id": 110242752, "body": "this was working for us in angular 8 up to 8.1. it seems in angular 8.2 cli or greater (including angular 9+), the cli will ignore terserOptions if differential loading is enabled. it took me quite a while to figure that out. there is also a better way to set the terserOptions as the above code only modifies one minimizer when in reality there are multiple. see this issue for the solution: <a href=\"https://github.com/just-jeb/angular-builders/issues/144\" rel=\"nofollow noreferrer\">github.com/just-jeb/angular-builders/issues/144</a>"}], "tags": [], "owner": {"reputation": 1765, "user_id": 1434301, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d8de9f3bd3f0ca6d0d32e63696c52bf3?s=128&d=identicon&r=PG", "display_name": "yantrab", "link": "https://stackoverflow.com/users/1434301/yantrab"}, "is_accepted": false, "score": 2, "last_activity_date": 1572781742, "last_edit_date": 1572781742, "creation_date": 1572780297, "answer_id": 58679685, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/58679685#58679685", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>angular 8 using terser.</p>\n\n<p>this is my config for <a href=\"https://github.com/just-jeb/angular-builders/tree/master/packages/custom-webpack\" rel=\"nofollow noreferrer\">angular builder</a> :</p>\n\n<pre><code>module.exports = cfg =&gt; {\n    const options = cfg.optimization.minimizer[cfg.optimization.minimizer.length - 1].options.terserOptions;\n    options.keep_classnames = true;\n    return cfg;\n};\n</code></pre>\n\n<p>and change terget to es6</p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 4722003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb93da43d37955bf812d6895034aeb83?s=128&d=identicon&r=PG", "display_name": "ashish", "link": "https://stackoverflow.com/users/4722003/ashish"}, "edited": false, "score": 0, "creation_date": 1598853404, "post_id": 60054302, "comment_id": 112580832, "body": "How do i set this env can you explain in detail"}, {"owner": {"reputation": 982, "user_id": 12515963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7tg4D.jpg?s=128&g=1", "display_name": "Ahmad Habib", "link": "https://stackoverflow.com/users/12515963/ahmad-habib"}, "edited": false, "score": 1, "creation_date": 1608034214, "post_id": 60054302, "comment_id": 115452952, "body": "<code>NG_BUILD_MANGLE = false</code> is still renaming class name"}], "tags": [], "owner": {"reputation": 726, "user_id": 855621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mHPCu.jpg?s=128&g=1", "display_name": "Pavel Gurecki", "link": "https://stackoverflow.com/users/855621/pavel-gurecki"}, "is_accepted": false, "score": 8, "last_activity_date": 1580808557, "creation_date": 1580808557, "answer_id": 60054302, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/60054302#60054302", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>Angular cli builder supports <code>NG_BUILD_MANGLE</code>, <code>NG_BUILD_MINIFY</code>, <code>NG_BUILD_BEAUTIFY</code> node environment params (checked in version 8).</p>\n\n<p>You can set them when running npm script in following way:\n<code>env NG_BUILD_MANGLE=false NG_BUILD_MINIFY=false NG_BUILD_BEAUTIFY=true ng build --prod</code></p>\n\n<p>This will result in unminified output, yet tree shaking and other optimizations will still be applied (compared to just turning off optimization).</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 641995, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D96YI.jpg?s=128&g=1", "display_name": "Ryan O", "link": "https://stackoverflow.com/users/641995/ryan-o"}, "is_accepted": false, "score": 4, "last_activity_date": 1591910014, "creation_date": 1591910014, "answer_id": 62333654, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/62333654#62333654", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>adding to yantrab's answer for angular 8.2+ using <a href=\"https://github.com/just-jeb/angular-builders\" rel=\"nofollow noreferrer\">angular-builders</a></p>\n\n<p>in angular.json</p>\n\n<p>builder: <code>@angular-builders/custom-webpack:browser</code></p>\n\n<p>options:</p>\n\n<pre><code>    \"customWebpackConfig\": {\n      \"path\": \"./extra-webpack.config.js\",\n      \"mergeStrategies\": {\n        \"externals\": \"replace\"\n      }\n    },\n</code></pre>\n\n<p>in extra-webpack.config.js:</p>\n\n<pre><code>module.exports = config =&gt; {\n  config.optimization.minimizer.filter (({constructor: {name}}) =&gt; name === 'TerserPlugin')\n  .forEach (terser =&gt; {\n    terser.options.terserOptions.keep_classnames = true;\n  });\n\n  return config;\n};\n</code></pre>\n\n<p>then either target es5 or es2015 with differential loading disabled per the browserslist discussed here: <a href=\"https://github.com/just-jeb/angular-builders/issues/144#issuecomment-568890065\" rel=\"nofollow noreferrer\">https://github.com/just-jeb/angular-builders/issues/144#issuecomment-568890065</a></p>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 4722003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb93da43d37955bf812d6895034aeb83?s=128&d=identicon&r=PG", "display_name": "ashish", "link": "https://stackoverflow.com/users/4722003/ashish"}, "edited": false, "score": 0, "creation_date": 1598853362, "post_id": 63152647, "comment_id": 112580816, "body": "How do i set this NG_BUILD_MANGLE=false."}, {"owner": {"reputation": 7745, "user_id": 979328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cbbf101378e0c99b4d6d2b5ca300e00?s=128&d=identicon&r=PG", "display_name": "Marc J. Schmidt", "link": "https://stackoverflow.com/users/979328/marc-j-schmidt"}, "edited": false, "score": 0, "creation_date": 1613943181, "post_id": 63152647, "comment_id": 117225534, "body": "<code>NG_BUILD_MANGLE=false ng build --prod</code>"}], "tags": [], "owner": {"reputation": 31, "user_id": 13573839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/719a22d9c241300abfec28528c0724f1?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/13573839/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1596022315, "creation_date": 1596022315, "answer_id": 63152647, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified/63152647#63152647", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>It's possible to avoid mangling specific symbols by doing the following:</p>\n<ul>\n<li>Use the <code>NG_BUILD_MANGLE=false $NG build --prod ...</code> approach to tell angular to avoid doing any mangling of names.</li>\n<li>Use <a href=\"https://github.com/manfredsteyer/ngx-build-plus\" rel=\"nofollow noreferrer\">ngx-build-plus</a> which merges a partial webpack config with the one used by angular. Use the terser plugin to perform mangling, but make sure to pass it the reserved list of names you don't want to be mangled.</li>\n</ul>\n<pre><code>ng add ngx-build-plus\n</code></pre>\n<p>An example of the sort of webpack.partial.js you could use is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const terser = require('terser-webpack-plugin');\n\nmodule.exports = {\n  optimization: {\n    minimizer: [\n      new terser.TerserPlugin({\n        terserOptions: {\n          compress: false,\n          mangle: {\n            reserved: [\n              &quot;MyClassName1&quot;, ...\n            ]\n          }\n        }\n      })\n    ]\n  }\n}\n\n</code></pre>\n<p>(n.b. make sure you've run <code>npm install --save-dev webpack</code> as well!)</p>\n<p>And then amend your build command so it's of this form:</p>\n<pre><code>NG_BUILD_MANGLE=false ng build --prod ... --extra-webpack-config webpack.partial.js -o\n</code></pre>\n<p>These two things combined tell the angular build process to avoid mangling and lets your configured instance of TerserPlugin do the mangling at a later stage whilst respecting the classes you want to remain un-mangled.</p>\n"}], "owner": {"reputation": 3516, "user_id": 446066, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/89707348dcd002f2bdf5472f8cf89312?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/446066/emmanuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6605, "favorite_count": 3, "accepted_answer_id": 44168066, "answer_count": 7, "score": 10, "last_activity_date": 1596022315, "creation_date": 1495635049, "question_id": 44160894, "link": "https://stackoverflow.com/questions/44160894/angular-cli-how-to-ignore-class-names-from-being-minified", "title": "Angular-cli : How to ignore class names from being minified", "body": "<p>For an application we need to keep the classname not minified because we use</p>\n\n<pre><code>var className = myObject.constructor.name;\nexport class myObject{ ... }\n</code></pre>\n\n<p>when we run</p>\n\n<p>ng build -- pro</p>\n\n<p>the class name gets minified in a random name.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 0, "creation_date": 1495634681, "post_id": 44160614, "comment_id": 75337777, "body": "That error message does not seem to relate to the code, or it&#39;s not complete enough for us to understand that. Can you provide the prototype of <code>compose</code> and explain what it does? Also note that a type <code>[A, B]</code> is very different from <code>A | B</code>."}, {"owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "reply_to_user": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 0, "creation_date": 1495635179, "post_id": 44160614, "comment_id": 75338183, "body": "compose is standard function for composition of the functions, im using implementation from ramda library, i never got such error before, i will augment question with more details"}, {"owner": {"reputation": 20746, "user_id": 1233251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/cI9GF.png?s=128&g=1", "display_name": "E_net4 says don&#39;t copy that", "link": "https://stackoverflow.com/users/1233251/e-net4-says-dont-copy-that"}, "edited": false, "score": 0, "creation_date": 1495635999, "post_id": 44160614, "comment_id": 75338849, "body": "Can you expose the call to <code>compose</code> further? Also, what happens if you remove the semi-colon after <code>[list,construct_matrix(list)]</code>?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 2, "creation_date": 1495636479, "post_id": 44160614, "comment_id": 75339239, "body": "There&#39;s open issue for that <a href=\"https://github.com/Microsoft/TypeScript/issues/13883\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/13883</a>"}, {"owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "edited": false, "score": 0, "creation_date": 1495636977, "post_id": 44160614, "comment_id": 75339701, "body": "oh i see thank you artem"}], "owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495635467, "creation_date": 1495634339, "last_edit_date": 1495635467, "question_id": 44160614, "link": "https://stackoverflow.com/questions/44160614/typescript-return-value-type", "title": "Typescript return value type", "body": "<p>Just curious why am i getting such an error:</p>\n\n<blockquote>\n  <p>Type  '(Float64Array | [number, Friends][])[]' is not assignable to\n  type '[[number, Friends][], Float64Array]'.    Property '0' is missing\n  in type '(Float64Array | [number, Friends][])[]'.</p>\n</blockquote>\n\n<p>Related code:</p>\n\n<pre><code> export let process_data = ([connections,target]) : [[user_id, Friends][], Matrix_float64] =&gt;   \n         compose(         \n            (list : [user_id, Friends][]) =&gt; \n                 [list,construct_matrix(list)]; \n            , .....  \n\nlet construct_matrix = (list : [user_id, Friends][]) :  Matrix_float64 =&gt; {\n...\n</code></pre>\n\n<p>I can force it with typecast, but is this correct behavior? I'm using last version of typescript.</p>\n\n<p>Edit: \nHere is types:</p>\n\n<pre><code>export interface Friends {\n    count:number,   \n    overall:number,\n    items:number[]  \n};         \n\nexport type user_id = number;\n</code></pre>\n\n<p>Here is example of data contained in variable <code>list</code>:</p>\n\n<pre><code>[ [ 136444868, { count: 304, overall: 304, items: [Object] } ],\n  [ 5686439, { count: 4, overall: 510, items: [Object] } ],\n  [ 5501650, { count: 8, overall: 360, items: [Object] } ],\n  [ 5440602, { count: 5, overall: 344, items: [Object] } ],\n  [ 5366101, { count: 0, overall: 29, items: [] } ],....\n</code></pre>\n\n<p>When i'm doing this <code>return  [list,construct_matrix(list)] as [[user_id, Friends][],Matrix_float64];</code> (repeat same return type as in function definition) error is gone, everything is fine. So compiler not looking on my definition?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 4048, "user_id": 2173516, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/P3SKn.png?s=128&g=1", "display_name": "Noel Widmer", "link": "https://stackoverflow.com/users/2173516/noel-widmer"}, "edited": false, "score": 2, "creation_date": 1495633583, "post_id": 44159596, "comment_id": 75336825, "body": "Please make sure to follow the rules by only presenting a minimal, complete and verifiable example: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 654, "user_id": 3508122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1057c941dbec272576741ee1db60cdc2?s=128&d=identicon&r=PG&f=1", "display_name": "user3508122", "link": "https://stackoverflow.com/users/3508122/user3508122"}, "is_accepted": true, "score": 1, "last_activity_date": 1495632658, "creation_date": 1495632658, "answer_id": 44159870, "question_id": 44159596, "link": "https://stackoverflow.com/questions/44159596/argument-of-type-typeof-c-users-pfftd-projectcrystal-src-actions-crystalaction/44159870#44159870", "title": "Argument of type &#39;typeof C:/Users/pfftd/projectcrystal/src/actions/crystalActions&#39; is not assignable to parameter of type &#39;ActionCreatorsMapObject&#39;)", "body": "<p>Are you importing the right component? In App.tsx you have</p>\n\n<p><code>import Crystal from './components/Crystal';</code></p>\n\n<p>Should it not be</p>\n\n<p><code>import Crystal from './containers/Crystal';</code></p>\n\n<p>It looks like you aren't using the container component and are instead using the presentational one</p>\n"}], "owner": {"reputation": 793, "user_id": 6714331, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/66a7c54b8fa340e6a23112410504397d?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6714331/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 44159870, "answer_count": 1, "score": 0, "last_activity_date": 1495632658, "creation_date": 1495631984, "question_id": 44159596, "link": "https://stackoverflow.com/questions/44159596/argument-of-type-typeof-c-users-pfftd-projectcrystal-src-actions-crystalaction", "title": "Argument of type &#39;typeof C:/Users/pfftd/projectcrystal/src/actions/crystalActions&#39; is not assignable to parameter of type &#39;ActionCreatorsMapObject&#39;)", "body": "<p>Been trying to figure this out for the past 2-3 hours.\nThe app starts from running on the browser and displays the error that this.props.fetchAPOD is not a function (screenshots at the far bottom) but it clearly is in my action creator. Also in my container it says the error that \"Argument of type 'typeof \"C:/Users/pfftd/projectcrystal/src/actions/crystalActions\"' is not assignable to parameter of type 'ActionCreatorsMapObject' when I assign the actions to mapDisPatchToProps (which is the same EXACT code I see in Microsoft's react/typescript start-kit guide: <a href=\"https://github.com/Microsoft/TypeScript-React-Starter\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript-React-Starter</a></p>\n\n<p>Here is my code:</p>\n\n<p><strong>container Crystal.tsx</strong></p>\n\n<pre><code>import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Crystal from '../components/Crystal';\nimport * as actions from '../actions/crystalActions';\nimport {\n  ApodSTATE\n} from '../types';\n\nexport function mapStateToProps({ APOD }: ApodSTATE ) {\n  return {\n    APOD\n  };\n}\n\nexport function mapDispatchToProps( dispatch: any ) {\n  return bindActionCreators( actions, dispatch );\n}\n\nexport default connect( mapStateToProps, mapDispatchToProps )( Crystal );\n</code></pre>\n\n<p><strong>App.tsx</strong> (file that contains the store and the provider)</p>\n\n<pre><code>import * as React from 'react';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nimport allReducers from './reducers';\nimport Crystal from './components/Crystal';\n// import { ApodSTATE } from './types';\n\nconst logger = createLogger({\n  level: 'info',\n  collapsed: true\n});\n\nconst store: any = createStore(allReducers, applyMiddleware(thunk, logger));\n\n\nclass App extends React.Component&lt;any, any&gt; {\n  render() {\n    return (\n      &lt;Provider store={store}&gt;\n        &lt;Crystal /&gt;\n      &lt;/Provider&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p><strong>crystalActions.tsx</strong></p>\n\n<pre><code>export const FETCH_APOD = 'FETCH_APOD';\nexport type FETCH_APOD = typeof FETCH_APOD;\nexport interface FetchApod { type: FETCH_APOD };\n\nexport const fetchAPOD = () =&gt; {\n  return ( dispatch: any ) =&gt; {\n    dispatch({\n      type: FETCH_APOD\n    });\n  };\n};\n</code></pre>\n\n<p><strong>types (index.tsx)</strong></p>\n\n<pre><code>export interface TableName {\n  TableName: string;\n}\n\nexport interface ApodACTIONS {\n  type: string;\n  fetchAPOD?: () =&gt; {};\n};\n\nexport interface ApodSTATE {\n  APOD: {};\n}\n\nexport enum actionTypes {\n  FETCH_APOD\n}\n</code></pre>\n\n<p><strong>component Crystal.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\n// import { ApodSTATE } from '../types';\n\n\nclass Crystal extends React.Component&lt;any, any&gt; {\n  constructor(props: any) {\n    super(props);\n    this.printTest = this.printTest.bind(this);\n  }\n  componentDidMount() {\n    this.printTest();\n    this.props.fetchAPOD();\n  }\n  printTest() {\n    setTimeout(() =&gt; {\n      console.log(this.props);\n    }, 1500);\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;h2&gt;Project Crystal initiation&lt;/h2&gt;\n        &lt;h3&gt;Test&lt;/h3&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Crystal;\n</code></pre>\n\n<p>Screenshots of a closer look:\n<a href=\"https://i.stack.imgur.com/1VMKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VMKs.png\" alt=\"Image\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/RJN9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RJN9G.png\" alt=\"Image\"></a></p>\n"}, {"tags": ["typescript", "import", "definitelytyped"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1495632087, "post_id": 44159582, "comment_id": 75335573, "body": "You&#39;ll need to provide information regarding your environment such as your <code>tsconfig.json</code> to understand why the error may be occuring"}], "owner": {"reputation": 159, "user_id": 1774490, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/b6a60bef0bc668edb5594db83297e4ee?s=128&d=identicon&r=PG", "display_name": "Fer van Rijswijk", "link": "https://stackoverflow.com/users/1774490/fer-van-rijswijk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1495782373, "creation_date": 1495631933, "last_edit_date": 1495782373, "question_id": 44159582, "link": "https://stackoverflow.com/questions/44159582/custom-types-with-import-not-working-with-typescript", "title": "Custom types with import not working with typescript", "body": "<p>So I'm writing my own typings file for my application. I have a folder @types in the root. Everytinh works fine: I've updated the tsconfig to let webpack and my ide know where to find the typings. </p>\n\n<p>On of my vars defined in the interace should be fron a type of a external library. But when I import the specific type into the typings file, the typings file gets corrupted or something, because none of the defined interfaces can be found in my application anymore!</p>\n\n<pre><code>import {GraphQLError} from '../../node_modules/@types/graphql/error/GraphQLError';\n\ninterface IResponse{\n  data?: {\n    views: Array&lt;IViewScheme&gt;\n  };\n  errors?: Array&lt;GraphQLError&gt;;\n  loading: boolean;\n}\n</code></pre>\n\n<p>I've tried differentpaths as well, like @types/graphql etc. But all keeps failing. When i rmeove the import, everything is fine...</p>\n\n<p>What am I doing wrong here?</p>\n\n<p>EDIT:</p>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"sourceMap\": true,\n    \"noEmit\": true,\n    \"noEmitHelpers\": true,\n    \"importHelpers\": true,\n    \"strictNullChecks\": false,\n    \"lib\": [\n      \"dom\",\n      \"es6\"\n    ],\n    \"typeRoots\": [\n      \"node_modules/@types\",\n      \"@types\"\n    ],\n    \"types\": [\n      \"graphql\",\n      \"hammerjs\",\n      \"jasmine\",\n      \"node\",\n      \"source-map\",\n      \"uglify-js\",\n      \"webpack\",\n      \"vizceral\"\n    ]\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ],\n  \"awesomeTypescriptLoaderOptions\": {\n    \"forkChecker\": true,\n    \"useWebpackText\": true\n  },\n  \"compileOnSave\": false,\n  \"buildOnSave\": false,\n  \"atom\": {\n    \"rewriteTsconfig\": false\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "gulp", "tsconfig", "file-watcher"], "answers": [{"comments": [{"owner": {"reputation": 28927, "user_id": 175679, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CrJNW.png?s=128&g=1", "display_name": "SliverNinja - MSFT", "link": "https://stackoverflow.com/users/175679/sliverninja-msft"}, "edited": false, "score": 0, "creation_date": 1495684159, "post_id": 44170639, "comment_id": 75359330, "body": "this approach requires manual intervention, when refactoring current branch or switching branches for collaboration this could be automated to reduce the manual <code>gulp clean</code> step. Just curious if we can bring this change forward with the <code>tsc</code> tooling."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 28927, "user_id": 175679, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CrJNW.png?s=128&g=1", "display_name": "SliverNinja - MSFT", "link": "https://stackoverflow.com/users/175679/sliverninja-msft"}, "edited": false, "score": 0, "creation_date": 1495687865, "post_id": 44170639, "comment_id": 75360387, "body": "<code>tsc -w</code> was never intended to accomodate all use cases. You mostly use <code>webpack -w</code> or <code>watchify</code> or gulp or whatever else strikes your fancy and TSC will work with that seamlessly \ud83c\udf39"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1495673504, "creation_date": 1495673504, "answer_id": 44170639, "question_id": 44159501, "link": "https://stackoverflow.com/questions/44159501/typescript-watch-removing-deleted-target-js-files/44170639#44170639", "title": "TypeScript Watch - Removing Deleted Target JS Files", "body": "<blockquote>\n  <p>You could easily use a glob pattern to identify target outputs</p>\n</blockquote>\n\n<p>You can. But its easier to simply use <code>outDir</code> and blow away at the <code>outDir</code> to clear old files. </p>\n"}], "owner": {"reputation": 28927, "user_id": 175679, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CrJNW.png?s=128&g=1", "display_name": "SliverNinja - MSFT", "link": "https://stackoverflow.com/users/175679/sliverninja-msft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1563, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1495673504, "creation_date": 1495631715, "question_id": 44159501, "link": "https://stackoverflow.com/questions/44159501/typescript-watch-removing-deleted-target-js-files", "title": "TypeScript Watch - Removing Deleted Target JS Files", "body": "<p>Microsoft <a href=\"https://github.com/Microsoft/TypeScript/pull/3780/files\" rel=\"nofollow noreferrer\">fixed an issue with Typescript still generating JS compiled output in TS 2.0 even though the source file was deleted</a>. What the solution involved was using file watchers to trigger deletion callback event and removing the <code>tsc watch</code> file from the source file list. </p>\n\n<p>Is there a reason we can't also delete the target output files when a source file is deleted? This creates issues when you are refactoring as functions / JS types collide and create crashes. </p>\n\n<p>Wouldn't it seem trivial to <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">add a tsconfig compiler option</a> to also delete targets (<code>.js.map</code>, <code>.js</code>) so that <code>tsc -watch</code> will not require user to continuously stop/start or <a href=\"https://stackoverflow.com/a/34567043/175679\">use gulp to clean the output directory</a>? You could easily use a glob pattern to identify target outputs. </p>\n"}, {"tags": ["javascript", "typescript", "aurelia"], "comments": [{"owner": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495634659, "post_id": 44159383, "comment_id": 75337758, "body": "It really looks like you&#39;re on the right track - I&#39;m a bit confused about why <code>this</code> is out of scope in your <code>selecteddocumentChanged</code> method - it shouldn&#39;t be. However - <code>newValue</code> may not be in scope - can you switch to <code>this.document.forEach((d) =&gt; {</code> - so you&#39;re using an arrow function instead? This&#39;ll keep the scope of your parent method then."}, {"owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "reply_to_user": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495636638, "post_id": 44159383, "comment_id": 75339376, "body": "Yeah I don&#39;t know why it is out of scope either. The actual error is: Uncaught TypeError: Cannot read property &#39;documents&#39; of undefined (the &#39;this&#39; is undefined). I tried with the arrow function syntax but it made no difference. Because the &#39;this&#39; is undefined it doesn&#39;t get to that part of the statement anyway."}, {"owner": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495637292, "post_id": 44159383, "comment_id": 75339980, "body": "Instead of using <code>this.bindingEngine.propertyObserver</code> can you try the <code>@observable</code> decorator? That&#39;ll use the same <code>selectedDocumentChanged()</code> method without the need to use the Binding Engine. Might solve the scope problem."}, {"owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "reply_to_user": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495638980, "post_id": 44159383, "comment_id": 75341349, "body": "Yes that does solve the problem thanks! &#39;this&#39; is in scope when you use @observable and the isCurrent property is now getting set correctly. However the view doesn&#39;t update automatically as it doesn&#39;t recalculate class=&quot;${$document.isCurrent ? &#39;selected&#39; : &#39;notSelected&#39;}&quot;. Any ideas on how I do this?"}, {"owner": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495639495, "post_id": 44159383, "comment_id": 75341729, "body": "I&#39;ve quickly just tested that in my App and it works for me. Does it need to be <code>${document...</code> rather than <code>${$document...</code>?"}, {"owner": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495639956, "post_id": 44159383, "comment_id": 75342104, "body": "I&#39;ve posted the above as an answer, I can update if the <code>$</code> doesn&#39;t sort if for you."}, {"owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "reply_to_user": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "edited": false, "score": 0, "creation_date": 1495640958, "post_id": 44159383, "comment_id": 75342874, "body": "the single $ works - thanks for your help"}], "answers": [{"tags": [], "owner": {"reputation": 4028, "user_id": 297243, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/031d5e5335776da6b6fc8273828fc884?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/297243/tom"}, "is_accepted": true, "score": 1, "last_activity_date": 1495639934, "creation_date": 1495639934, "answer_id": 44162798, "question_id": 44159383, "link": "https://stackoverflow.com/questions/44159383/aurelia-change-the-color-of-the-selected-row-in-a-table/44162798#44162798", "title": "Aurelia - Change the color of the selected row in a table", "body": "<p>Firstly - the scope issue you're getting with the <code>selectedDocumentChanged()</code> method is because you're using the Binding Engine. If you use the observable decorator instead like below, <code>this</code> will no longer be out of scope;</p>\n\n<pre><code>import {observable} from \"aurelia-framework\";\n\nexport class DocumentData {\n\n    @observable selectedDocument;\n\n    // Your other code\n\n    selectedDocumentChanged(newVal, oldVal) {\n        this.documents.forEach(function (d) { // no longer out of scope\n            d.isCurrent = d === newValue;\n        })\n    }\n}\n</code></pre>\n\n<p>Secondly - in your template you don't need to prefix your properties with a <code>$</code>. This is only used when you want to use string interpolation within your templates. If you're looping through, or comparing properties then you can just use them as normal. For example;</p>\n\n<pre><code>class=\"${document.isCurrent ? 'selected' : 'notSelected'}\"\n</code></pre>\n\n<p>or;</p>\n\n<pre><code>class=\"${(document.title == selectedDocument.title) ? 'selected' : 'notSelected'}\"\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 3725233, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/8d91b22516acfd8f61d33654ae4e9859?s=128&d=identicon&r=PG&f=1", "display_name": "PRS", "link": "https://stackoverflow.com/users/3725233/prs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 0, "accepted_answer_id": 44162798, "answer_count": 1, "score": 0, "last_activity_date": 1495639934, "creation_date": 1495631412, "question_id": 44159383, "link": "https://stackoverflow.com/questions/44159383/aurelia-change-the-color-of-the-selected-row-in-a-table", "title": "Aurelia - Change the color of the selected row in a table", "body": "<p>I am using Aurelia v4.6.1 with Typescript in a.Net core project. I have a component that retrieves data from an external source and displays it in a table using a repeat.for attribute. </p>\n\n<p>Now I want to highlight the row that has been selected (clicked). On my view model I have a documents property of type Document[] that holds all the documents displayed in the grid, and I have a selectedDocument property of type Document that should hold the last selected document. This is set in a click event on the row setSelected.</p>\n\n<p>My view is as follows:</p>\n\n<pre><code>&lt;template&gt;\n&lt;require from=\"../../resources/valueconverters/itemIdFormat\"&gt;&lt;/require&gt;\n&lt;require from=\"./documentData.css\"&gt;&lt;/require&gt;\n&lt;h1&gt;Patient Documents&lt;/h1&gt;\n\n&lt;p&gt;This component demonstrates fetching data from DME.&lt;/p&gt;\n\n&lt;p if.bind=\"!documents\"&gt;&lt;em&gt;Loading...&lt;/em&gt;&lt;/p&gt;\n\n&lt;table if.bind=\"documents\" class=\"table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Id&lt;/th&gt;\n            &lt;th&gt;Title&lt;/th&gt;\n            &lt;th&gt;Patient&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr repeat.for=\"document of documents\" click.trigger=\"setSelected(document)\" class=\"${($document.title == $selectedDocument.title) ? 'selected' : 'notSelected'}\"&gt;\n            &lt;td&gt;${ document.itemId | itemIdFormat }&lt;/td&gt;\n            &lt;td&gt;${ document.title }&lt;/td&gt;\n            &lt;td&gt;${ document.patient.lastName}, ${ document.patient.firstName }&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p></p>\n\n<p>My ViewModel class is:</p>\n\n<pre><code>import { HttpClient } from 'aurelia-fetch-client';\nimport { BindingEngine, inject } from 'aurelia-framework';\n\n@inject(HttpClient, BindingEngine)\nexport class DocumentData {\npublic documents: Document[];\npublic selectedDocument: Document;\npublic bindingEngine\n\nconstructor(http: HttpClient, bindingEngine) {\n    this.bindingEngine = bindingEngine;\n    this.selectedDocument = null;\n    let subscription = this.bindingEngine\n        .propertyObserver(this, 'selectedDocument')\n        .subscribe(this.selectedDocumentChanged);\n\n\n    http.fetch('/api/Data/PatientDocuments')\n        .then(result =&gt; result.json() as Promise&lt;Document[]&gt;)\n        .then(data =&gt; {\n            this.documents = data;\n        });\n}\n\nsetSelected(selected: Document) {\n    this.selectedDocument = selected;\n}\n\nselectedDocumentChanged(newValue, oldValue) {\n   // this.documents.forEach(function (d) {\n   //     d.isCurrent = d === newValue;\n   // })\n}\n}\n</code></pre>\n\n<p>As you can see in the view html, I have set the class attribute on the table row element with:</p>\n\n<pre><code>class=\"${($document.title == $selectedDocument.title) ? 'selected' : 'notSelected'}\"\n</code></pre>\n\n<p>However for some reason this always returns true so all rows are highlighted.</p>\n\n<p>So I tried this instead:</p>\n\n<pre><code>class=\"${$document.isCurrent ? 'selected' : 'notSelected'}\"\n</code></pre>\n\n<p>Then I used the binding engine subscribe function on the <code>selectedDocument</code> property, setting it to run <code>selectedDocumentChanged</code> method, to set the isCurrent property on each document in the list manually whenever the <code>selectedDocument</code> property is changed. Notice however that this is commented out. This is because the <code>this</code> variable is not in scope in the subscriber changed method so I can't use it.</p>\n\n<p>So I am a bit stuck. What is the correct way to highlight the selected row? I guess it might be possible using a nested component repeated for each row, but I would prefer to be able to achieve this all in this component.</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1495630022, "post_id": 44158727, "comment_id": 75333902, "body": "It looks like <code>this.getAddress()</code> or <code>this.save()</code> return <code>void</code> (or you just forgot to return anything)"}, {"owner": {"reputation": 8679, "user_id": 1845893, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/xr3hP.jpg?s=128&g=1", "display_name": "gog", "link": "https://stackoverflow.com/users/1845893/gog"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1495630140, "post_id": 44158727, "comment_id": 75334015, "body": "this.getAddress() returns  and AddressListDto, and this.save() return void"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1495631107, "post_id": 44158727, "comment_id": 75334778, "body": "That&#39;s probably the problem. <code>.then()</code> supports chaining so when you return <code>void</code> than any other <code>then()</code> calls would not receive anything."}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1495631233, "post_id": 44158727, "comment_id": 75334883, "body": "Have a look at <code>lib.es6.d.ts</code> where <code>then()</code> is defined in <code>Promise</code> class as: <code>then(...): Promise&lt;T&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1495673727, "creation_date": 1495673727, "answer_id": 44170662, "question_id": 44158727, "link": "https://stackoverflow.com/questions/44158727/ts-the-type-argument-for-type-parameter-tresult1-cannot-be-inferred-from-the/44170662#44170662", "title": "Ts - The type argument for type parameter &#39;TResult1&#39; cannot be inferred from the usage", "body": "<p>From your code: </p>\n\n<pre><code>this.personService.getPerson(this.person.id).toPromise()\n            .then((person) =&gt; this.getAddress(person))\n            .then(() =&gt; this.save())\n            .catch(() =&gt; this.handle)\n</code></pre>\n\n<p>The return type <em>also</em> includes whatever <code>this.handle</code> is. One way to handle error</p>\n\n<pre><code>this.personService.getPerson(this.person.id).toPromise()\n            .then((person) =&gt; this.getAddress(person))\n            .then(() =&gt; this.save())\n            .catch((e) =&gt; {\n               console.log(\"Optional tracking\", e);\n               throw e;\n            })\n</code></pre>\n\n<h1>More</h1>\n\n<p>You probably wanted to <em>call</em> <code>handle</code> anyways.</p>\n"}], "owner": {"reputation": 8679, "user_id": 1845893, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/xr3hP.jpg?s=128&g=1", "display_name": "gog", "link": "https://stackoverflow.com/users/1845893/gog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1364, "favorite_count": 0, "accepted_answer_id": 44170662, "answer_count": 1, "score": 0, "last_activity_date": 1495673727, "creation_date": 1495629694, "last_edit_date": 1495630826, "question_id": 44158727, "link": "https://stackoverflow.com/questions/44158727/ts-the-type-argument-for-type-parameter-tresult1-cannot-be-inferred-from-the", "title": "Ts - The type argument for type parameter &#39;TResult1&#39; cannot be inferred from the usage", "body": "<p>I have these promises:</p>\n\n<pre><code> this.personService.getPerson(this.person.id).toPromise()\n            .then((person) =&gt; this.getAddress(person))\n            .then(() =&gt; this.save())\n            .catch(() =&gt; this.handle)\n</code></pre>\n\n<blockquote>\n  <p>this.getAddress(person) returns a AddressListDto</p>\n  \n  <p>this.save() return void</p>\n</blockquote>\n\n<p>and im getting this error:</p>\n\n<blockquote>\n  <p>The type argument for type parameter 'TResult1' cannot be inferred from the usage. Consider specifying the type arguments explicitly.\n    Type argument candidate 'void' is not a valid type argument because it is not a supertype of candidate 'AddressListDto'.</p>\n</blockquote>\n"}, {"tags": ["javascript", "typescript", "es6-promise"], "comments": [{"owner": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1495627958, "post_id": 44158044, "comment_id": 75332348, "body": "<code>=+</code> is an invalid operator"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1495627964, "post_id": 44158044, "comment_id": 75332354, "body": "note <code>instance.measureSyncFunc(bubbleSort(array))</code> you&#39;re passing the <b>result of calling</b> bubbleSort to your <code>measureSyncFunc</code>, but <code>measureSyncFunc</code> expects a function as an argument"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1495628065, "post_id": 44158044, "comment_id": 75332439, "body": "<code>setInterval</code> of 1ms - you can&#39;t actually get an interval that small - have you considered the profiling tools available in most browsers these days? <code>performance.now()</code> or <code>console.time(&#39;xxx&#39;) &#47; console.timeEnd(&#39;xxx&#39;)</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 162935, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 2, "creation_date": 1495628253, "post_id": 44158044, "comment_id": 75332615, "body": "@charlietfl <code>invalid operator</code> - actually, that would result in <code>elapsed == 1</code>, permanently :p"}], "answers": [{"comments": [{"owner": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1495630527, "post_id": 44158570, "comment_id": 75334316, "body": "And as @JaromandaX pointed out in a comment to the question, perhaps the most important change is not to pass the <i>result</i> of the long-running function into the timing function."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1495630616, "post_id": 44158570, "comment_id": 75334376, "body": "indeed, for sync functions at least that means the entire execution is already done. I&#39;ll add that as a remark in the answer if you don&#39;t mind. :)"}, {"owner": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1495633205, "post_id": 44158570, "comment_id": 75336504, "body": "By all means (but the credit goes to @JaromandaX).  However good/bad the rest of the OP&#39;s code was, it couldn&#39;t possibly have worked without the lambda construct (or equivalent)."}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "reply_to_user": {"reputation": 2149, "user_id": 2096401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uVjii.jpg?s=128&g=1", "display_name": "TripeHound", "link": "https://stackoverflow.com/users/2096401/tripehound"}, "edited": false, "score": 0, "creation_date": 1495633288, "post_id": 44158570, "comment_id": 75336573, "body": "normal function would do too, but arrow functions are more flexible in this case.."}], "tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 9, "last_activity_date": 1495630528, "last_edit_date": 1495630528, "creation_date": 1495629279, "answer_id": 44158570, "question_id": 44158044, "link": "https://stackoverflow.com/questions/44158044/how-to-measure-the-execution-time-of-a-promise/44158570#44158570", "title": "How to measure the execution time of a promise?", "body": "<p>If the functions you want to measure will always be synchronous there's really no need to involve promises. </p>\n\n<p>Since the function you want to test takes parameters you it's best to to wrap it in an arrow function in order to be able to call it with another context and not have to manage it's parameters yourself.</p>\n\n<p>Something simple like this will do just fine.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function measure(fn: () =&gt; void): number {\n    let start = performance.now();\n    fn();\n    return performance.now() - start;\n}\n\nfunction longRunningFunction(n: number) {\n    for (let i = 0; i &lt; n; i++) {\n        console.log(i);\n    }\n}\n\nlet duration = measure(() =&gt; {\n    longRunningFunction(100);\n});\n\nconsole.log(`took ${duration} ms`);\n</code></pre>\n\n\n\n<p>If you want to measure the time it takes an async function (if it returns a promise) to resolve you can easily change the code to something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function measurePromise(fn: () =&gt; Promise&lt;any&gt;): Promise&lt;number&gt; {\n    let onPromiseDone = () =&gt; performance.now() - start;\n\n    let start = performance.now();\n    return fn().then(onPromiseDone, onPromiseDone);\n}\n\nfunction longPromise(delay: number) {\n    return new Promise&lt;string&gt;((resolve) =&gt; {\n        setTimeout(() =&gt; {\n            resolve('Done');\n        }, delay);\n    });\n}\n\nmeasurePromise(() =&gt; longPromise(300))\n    .then((duration) =&gt; {\n        console.log(`promise took ${duration} ms`);\n    });\n</code></pre>\n\n\n\n<p>Note: This solution uses the ES6 <em>Promise</em>, if you are using something else you might have to adapt it but the logic should be the same. </p>\n\n<p>You can see both examples working in the playground <a href=\"https://www.typescriptlang.org/play/index.html#src=function%20measure(fn%3A%20()%20%3D%3E%20void)%3A%20number%20%7B%0D%0A%20%20%20%20let%20start%20%3D%20performance.now()%3B%0D%0A%20%20%20%20fn()%3B%0D%0A%20%20%20%20return%20performance.now()%20-%20start%3B%0D%0A%7D%0D%0A%0D%0Afunction%20longRunningFunction(n%3A%20number)%20%7B%0D%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20n%3B%20i%2B%2B)%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(i)%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0Alet%20duration%20%3D%20measure(()%20%3D%3E%20%7B%0D%0A%20%20%20%20longRunningFunction(100)%3B%0D%0A%7D)%3B%0D%0A%0D%0Aconsole.log(%60took%20%24%7Bduration%7D%20ms%60)%3B%0D%0A%0D%0A%0D%0Afunction%20measurePromise(fn%3A%20()%20%3D%3E%20Promise%3Cany%3E)%3A%20Promise%3Cnumber%3E%20%7B%0D%0A%20%20%20%20let%20onPromiseDone%20%3D%20()%20%3D%3E%20performance.now()%20-%20start%3B%0D%0A%0D%0A%20%20%20%20let%20start%20%3D%20performance.now()%3B%0D%0A%20%20%20%20return%20fn().then(onPromiseDone%2C%20onPromiseDone)%3B%0D%0A%7D%0D%0A%0D%0Afunction%20longPromise(delay%3A%20number)%20%7B%0D%0A%20%20%20%20return%20new%20Promise%3Cstring%3E((resolve)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20resolve(&#39;Done&#39;)%3B%0D%0A%20%20%20%20%20%20%20%20%7D%2C%20delay)%3B%0D%0A%20%20%20%20%7D)%3B%0D%0A%7D%0D%0A%0D%0AmeasurePromise(()%20%3D%3E%20longPromise(300))%0D%0A%20%20%20%20.then((duration)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20console.log(%60promise%20took%20%24%7Bduration%7D%20ms%60)%3B%0D%0A%20%20%20%20%7D)%3B\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 6, "last_activity_date": 1495629763, "creation_date": 1495629763, "answer_id": 44158747, "question_id": 44158044, "link": "https://stackoverflow.com/questions/44158044/how-to-measure-the-execution-time-of-a-promise/44158747#44158747", "title": "How to measure the execution time of a promise?", "body": "<p>Don't use <code>setInterval</code> to count milliseconds (It's <a href=\"https://stackoverflow.com/q/196027/1048572\">inaccurate</a>, <a href=\"https://stackoverflow.com/a/10740558/1048572\">lags</a>, <a href=\"https://stackoverflow.com/q/985670/1048572\">drifts</a> and has a minimum interval of about 4ms). Just get two timestamps before and after the execution.</p>\n\n<pre><code>function measureASyncFunc(fn: () =&gt; Promise&lt;any&gt;): Promise&lt;number&gt; {\n    const start = Date.now();\n    return fn.catch(() =&gt; {}).then(() =&gt; {\n        const end = Date.now();\n        const elapsed = end-start;\n        return elapsed;\n    });\n}\n</code></pre>\n\n<p>For higher accuracy, replace <code>Date.now</code> by <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Performance/now\" rel=\"noreferrer\"><code>performance.now</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 3403130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MwKm7.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/3403130/dan"}, "is_accepted": false, "score": 3, "last_activity_date": 1525012350, "creation_date": 1525012350, "answer_id": 50087689, "question_id": 44158044, "link": "https://stackoverflow.com/questions/44158044/how-to-measure-the-execution-time-of-a-promise/50087689#50087689", "title": "How to measure the execution time of a promise?", "body": "<p>Have a look at <a href=\"https://github.com/dan3721/js-tool-chest/blob/master/src/util/timeFnPromise.js\" rel=\"nofollow noreferrer\">timeFnPromise</a> and the related <a href=\"https://github.com/dan3721/js-tool-chest/blob/master/src/test/util/timeFnPromise.test.js\" rel=\"nofollow noreferrer\">test cases</a>.</p>\n\n<ul>\n<li>target function is wrapped and executed when the wrapped function is called</li>\n<li>appends fulfillment / rejection handler to the underlying Promise that returns the target functions return value as \"ret\" and the elapsed time as \"elapsedTime\"</li>\n<li>supports arguments by passing them through to the target function</li>\n</ul>\n\n<p><strong>Samples Usage:</strong></p>\n\n<pre><code>const wrappedFn = timeFnPromise(aFunctionThatReturnsAPromise)\n\nwrappedFn()\n.then((values)=&gt;{\n  const {ret, elapsedTime} = values\n  console.log(`ret:[${ret}] elapsedTime:[${elapsedTime}]`)\n})\n</code></pre>\n\n<p>Also available via NPM module <a href=\"https://www.npmjs.com/package/jschest\" rel=\"nofollow noreferrer\">jschest</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 4898, "user_id": 1375627, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e91c4fb02f4ac20be10f21cea9bb47e0?s=128&d=identicon&r=PG", "display_name": "MattC", "link": "https://stackoverflow.com/users/1375627/mattc"}, "is_accepted": false, "score": 0, "last_activity_date": 1602517849, "creation_date": 1602517849, "answer_id": 64321125, "question_id": 44158044, "link": "https://stackoverflow.com/questions/44158044/how-to-measure-the-execution-time-of-a-promise/64321125#64321125", "title": "How to measure the execution time of a promise?", "body": "<p>Here's a simple wrapper function I wrote. It returns a Promise (via the async keyword), and so you can just call it with your promise. I added the time value as a property to the response. If you cannot have that value in the response, then you would need to remove it afterwards.</p>\n<pre><code>const stopwatchWrapper = async (promise) =&gt; {\n  const startTime = Date.now()\n  const resp = await promise\n  resp.executionTime = Date.now() - startTime\n  return resp\n}\n\nconst axiosPromise = stopwatchWrapper(axios(reqSelected))\nconst response = await axiosPromise\nconsole.log(response.executionTime)\n</code></pre>\n"}], "owner": {"reputation": 945, "user_id": 846347, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/UTzlo.jpg?s=128&g=1", "display_name": "Vivien Adnot", "link": "https://stackoverflow.com/users/846347/vivien-adnot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9186, "favorite_count": 3, "accepted_answer_id": 44158570, "answer_count": 4, "score": 10, "last_activity_date": 1602517849, "creation_date": 1495627753, "last_edit_date": 1495628992, "question_id": 44158044, "link": "https://stackoverflow.com/questions/44158044/how-to-measure-the-execution-time-of-a-promise", "title": "How to measure the execution time of a promise?", "body": "<p>I'm trying to write a function that measures the execution time of another function:</p>\n\n<pre><code>export class Profiler {\n    public measureSyncFunc(fn: () =&gt; any): Promise&lt;number&gt; {\n        return new Promise&lt;number&gt;((resolve, reject) =&gt; {\n            let elapsed = 0;\n\n            let intervalId = window.setInterval(() =&gt; {\n                elapsed += 1; // this is never called\n            }, 1);\n\n            this.execFunc(fn)\n                .then((result: any) =&gt; {\n                    window.clearInterval(intervalId);\n                    resolve(elapsed);\n                });\n        });\n    }\n\n    private execFunc(fn: () =&gt; any): Promise&lt;any&gt; {\n        return new Promise&lt;any&gt;((resolve, reject) =&gt; {\n            resolve(fn());\n        });\n    }\n}\n</code></pre>\n\n<p>Then I use it like that:</p>\n\n<pre><code>let array = generateRandomArray(100000);\n\ninstance.measureSyncFunc(bubbleSort(array))\n    .then((elapsed: number) =&gt; {\n        console.log(`end session: ${elapsed} seconds`);\n        resolve();\n    });\n</code></pre>\n\n<p>The bubbleSort function is synchronous and it takes several seconds to complete.\nSee code <a href=\"https://gist.github.com/VivienAdnot/16c475f619ee3cf4bed63b15cc254f29\" rel=\"noreferrer\">here</a>: </p>\n\n<p>The result in the console is \"end session: 0 seconds\" because the interval callback is never called.</p>\n\n<p>Do you know how I can make it called ?\nThank you very much guys !</p>\n"}, {"tags": ["javascript", "angular", "typescript", "webpack"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495627606, "post_id": 44157935, "comment_id": 75332079, "body": "<a href=\"https://stackoverflow.com/questions/44136701/optimize-angular-vendor-output\" title=\"optimize angular vendor output\">stackoverflow.com/questions/44136701/&hellip;</a>"}, {"owner": {"reputation": 1269, "user_id": 144382, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bc07af107b713aa84789264ddb46944f?s=128&d=identicon&r=PG", "display_name": "Klinki", "link": "https://stackoverflow.com/users/144382/klinki"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1496054900, "post_id": 44157935, "comment_id": 75490274, "body": "Thanks for reference, unfortunately it didn&#39;t help :("}, {"owner": {"reputation": 604, "user_id": 2406518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkAxG.jpg?s=128&g=1", "display_name": "hex", "link": "https://stackoverflow.com/users/2406518/hex"}, "edited": false, "score": 0, "creation_date": 1498492665, "post_id": 44157935, "comment_id": 76508465, "body": "Same problem here. @angular/platform-browser-dynamic is only referenced from boot file that should be rewritten on the fly by ngtools."}, {"owner": {"reputation": 265, "user_id": 1847411, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbNfu.png?s=128&g=1", "display_name": "andrewpm", "link": "https://stackoverflow.com/users/1847411/andrewpm"}, "edited": false, "score": 0, "creation_date": 1502181997, "post_id": 44157935, "comment_id": 78086018, "body": "Try changing <code>skipCodeGeneration:true</code> to <code>false</code>"}], "owner": {"reputation": 1269, "user_id": 144382, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bc07af107b713aa84789264ddb46944f?s=128&d=identicon&r=PG", "display_name": "Klinki", "link": "https://stackoverflow.com/users/144382/klinki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 473, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1518685797, "creation_date": 1495627486, "last_edit_date": 1518685797, "question_id": 44157935, "link": "https://stackoverflow.com/questions/44157935/aot-compilation-with-ngtools-webpack-compiler-still-present-in-bundle", "title": "AOT compilation with ngtools/webpack, compiler still present in bundle", "body": "<p>I'm trying to use AOT compilation to produce production build. Everything seems to be working nicely, except I still have <code>compiler</code> in vendor bundle. AFAIK one of goals of AOT compilation is to remove it from resulting bundle and to reduce app size. </p>\n\n<p>How can I produce proper AOT build without <code>compiler</code> in resulting bundle?</p>\n\n<p>My webpack config:</p>\n\n<pre><code>var webpack = require('webpack');\nvar webpackMerge = require('webpack-merge');\nvar ExtractTextPlugin = require('extract-text-webpack-plugin');\nvar commonConfig = require('./webpack.common.js');\nvar helpers = require('./helpers');\nvar ngtools = require('@ngtools/webpack');\nvar AotPlugin = ngtools.AotPlugin;\n\nconst ENV = process.env.NODE_ENV = process.env.ENV = 'production';\n\nmodule.exports = webpackMerge(commonConfig, {\n    devtool: 'source-map',\n\n    output: {\n        path: helpers.root('../../../target/rhamt-web'),\n        filename: 'js/[name].js',\n        chunkFilename: 'js/[id].chunk.js'\n    },\n\n    module: {\n        loaders: [\n            {\n                test: /\\.ts$/,\n                exclude: /jquery*\\.js/,\n                loaders: '@ngtools/webpack'\n            }\n        ]\n    },\n\n    plugins: [\n        new webpack.NoEmitOnErrorsPlugin(),\n        new ExtractTextPlugin('css/[name].css'),\n        new AotPlugin({\n            tsConfigPath: './tsconfig-production.json',\n            basePath: '.',\n            mainPath: 'src/main.ts',\n            skipCodeGeneration: true\n        }),\n        new webpack.optimize.UglifyJsPlugin({ // https://github.com/angular/angular/issues/10618\n            mangle: {\n                keep_fnames: true\n            }\n        }),\n        new webpack.DefinePlugin({\n            'process.env': {\n                'ENV': JSON.stringify(ENV)\n            }\n        })\n    ]\n});\n</code></pre>\n\n<p>tsconfig:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"es2015\",\n    \"baseUrl\": \"\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"removeComments\": true,\n    \"noImplicitAny\": false,\n    \"inlineSources\": false,\n    \"rootDir\": \"./\",\n    \"outDir\": \"../../../target/tscoutput\"\n  },\n  \"compileOnSave\": false,\n  \"buildOnSave\": false,\n  \"awesomeTypescriptLoaderOptions\": {\n    \"forkChecker\": true,\n    \"useWebpackText\": true\n  }\n}\n</code></pre>\n\n<p>I have these version of tools:</p>\n\n<pre><code>angular: 4.1.2 \n@ngtools/webpack: 1.3.1 \nwebpack: 2.2.0\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1495626077, "post_id": 44157373, "comment_id": 75330940, "body": "Seems you could have created an infinite loop due to change detection. Do you call some function directly in the template?"}, {"owner": {"reputation": 137, "user_id": 4329121, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53760884adcc88cb2a7cdbfc9bf88c1c?s=128&d=identicon&r=PG&f=1", "display_name": "Rok Poto\u010dnik", "link": "https://stackoverflow.com/users/4329121/rok-poto%c4%8dnik"}, "reply_to_user": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1495627718, "post_id": 44157373, "comment_id": 75332156, "body": "In the template Im calling only auth-guard.  Double checked, didn&#39;t loop it.."}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1495627846, "post_id": 44157373, "comment_id": 75332252, "body": "well it&#39;s impossible to tell since you have not provided any code. But seems there is something that is looping because of the error message and unresponsive browser."}, {"owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "edited": false, "score": 0, "creation_date": 1495630673, "post_id": 44157373, "comment_id": 75334426, "body": "can you show some of your code, on lines where bug appears?"}, {"owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "edited": false, "score": 0, "creation_date": 1495630940, "post_id": 44157373, "comment_id": 75334642, "body": "if you allow me to guess i could assume you forget to put breaking condition for recursive call, you have some unbounded recursion some where, check your recursive functions"}, {"owner": {"reputation": 137, "user_id": 4329121, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53760884adcc88cb2a7cdbfc9bf88c1c?s=128&d=identicon&r=PG&f=1", "display_name": "Rok Poto\u010dnik", "link": "https://stackoverflow.com/users/4329121/rok-poto%c4%8dnik"}, "edited": false, "score": 0, "creation_date": 1495634313, "post_id": 44157373, "comment_id": 75337486, "body": "The thing is, this happens randomly and on all pages. Just asked a friend, to test it on his computer, there it works as it should. I will try to reinstall angular and node.."}], "owner": {"reputation": 137, "user_id": 4329121, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/53760884adcc88cb2a7cdbfc9bf88c1c?s=128&d=identicon&r=PG&f=1", "display_name": "Rok Poto\u010dnik", "link": "https://stackoverflow.com/users/4329121/rok-poto%c4%8dnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495626030, "creation_date": 1495626030, "question_id": 44157373, "link": "https://stackoverflow.com/questions/44157373/page-is-posting-maximum-call-stack-size-exceeded-error", "title": "Page is posting &quot;Maximum call stack size exceeded&quot; error", "body": "<p>I am making web page using Node.js and Angular. When i started everything went as it should, but now it suddenly spams the error below:</p>\n\n<pre><code>Uncaught RangeError: Maximum call stack size exceeded\nat Function.toString (polyfills.bundle.js:4420)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.toString (polyfills.bundle.js:4438)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.toString (polyfills.bundle.js:4438)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.toString (polyfills.bundle.js:4438)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.toString (polyfills.bundle.js:4438)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\nat Function.&lt;anonymous&gt; (affs?addonname=LONG&amp;clientuid=1495625557888&amp;subID=wifi&amp;affid=9614&amp;subaffid=1001&amp;href=http%3A%2F%2Fl\u2026:9)\n</code></pre>\n\n<p>When site is doing this, its not resposive at all. But as I checking node or angular everything should be fine. I fix this problem by refreshing  page until its  stops doing this. Any help to fix this would be appreciated.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": false, "score": 1, "last_activity_date": 1495626692, "creation_date": 1495626692, "answer_id": 44157625, "question_id": 44156844, "link": "https://stackoverflow.com/questions/44156844/create-type-that-has-all-properties-of-interface-a-and-interface-b/44157625#44157625", "title": "create type that has all properties of interface A and interface B", "body": "<p>You probably want to use <a href=\"https://github.com/basarat/typescript-book/blob/master/docs/types/typeGuard.md\" rel=\"nofollow noreferrer\">type guards</a>.</p>\n\n<pre><code>function isA(arg: any): arg is interfaceA\n{\n    return 'specificToA' in arg;\n}\n\nif (isA(myValue))\n{// Here typescript will know you are dealing with interfaceA\n    let v = myValue.specificToA;\n}\n</code></pre>\n"}], "owner": {"reputation": 6896, "user_id": 6797267, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/bba37c069bfb5b705b7a0c98bd9b4803?s=128&d=identicon&r=PG&f=1", "display_name": "Lev", "link": "https://stackoverflow.com/users/6797267/lev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1495626692, "creation_date": 1495624742, "question_id": 44156844, "link": "https://stackoverflow.com/questions/44156844/create-type-that-has-all-properties-of-interface-a-and-interface-b", "title": "create type that has all properties of interface A and interface B", "body": "<p>I want <code>myValue</code> to be of type <code>interface A</code> or <code>interface B</code></p>\n\n<pre><code>interface interfaceA {\n  commonProp: any;\n  specificToA: any;\n}\n\ninterface interfaceB {\n  commonProp: any;\n  specificToB: any;\n}\n\n\nlet myValue: interfaceA | interfaceB;\n\nmyValue.interfaceA // doesn't work, I only have access to commonProp\n</code></pre>\n\n<p>How can I have <code>myValue</code> have access to <code>specificToA</code> and <code>specificToB</code> ?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 0, "creation_date": 1495624076, "post_id": 44156545, "comment_id": 75329513, "body": "<code>if (typeof X !== &quot;undefined&quot;)  this.prepaidObject[&quot;key&quot;] = X;</code>"}, {"owner": {"reputation": 7490, "user_id": 687010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0267f2e204eef96e0e3c6b0aa585930?s=128&d=identicon&r=PG", "display_name": "Andrew D.", "link": "https://stackoverflow.com/users/687010/andrew-d"}, "edited": false, "score": 0, "creation_date": 1495626664, "post_id": 44156545, "comment_id": 75331386, "body": "Why You want to delete added property if You can simply check and add only <i>&quot;valid&quot;</i> properties?"}], "answers": [{"comments": [{"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1495624826, "post_id": 44156606, "comment_id": 75330015, "body": "that is a bit naughty , it should be kicked out automatically , not testing on a fixed key&#39;s value. ;)"}], "tags": [], "owner": {"reputation": 7841, "user_id": 1657932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wH59c.jpg?s=128&g=1", "display_name": "Milan Chheda", "link": "https://stackoverflow.com/users/1657932/milan-chheda"}, "is_accepted": false, "score": 0, "last_activity_date": 1495624075, "creation_date": 1495624075, "answer_id": 44156606, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156606#44156606", "title": "How to remove undefined property from object?", "body": "<p>You probably need to check the type.</p>\n\n<pre><code>(typeof(this.prepaidDetailForm.prepaidDetails.firsName) != \"undefined\") ? this.prepaidDetailForm.prepaidDetails.firsName : ''\n</code></pre>\n\n<p>Its basically:</p>\n\n<pre><code>var firstName = '';\nif(typeof(this.prepaidDetailForm.prepaidDetails.firsName) != \"undefined\")\n     firstName = this.prepaidDetailForm.prepaidDetails.firsName;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1495624944, "post_id": 44156613, "comment_id": 75330100, "body": "could we loop over objects ?"}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1495624992, "post_id": 44156613, "comment_id": 75330125, "body": "Yes, in the loop I post m becomes the member reference."}, {"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1495625099, "post_id": 44156613, "comment_id": 75330208, "body": "Honestly , that&#39;s brand new to me , X&#39;D, I thought you could do it using the forEach of ES6 (e.g), but in this way , I do not know it."}, {"owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "reply_to_user": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 3, "creation_date": 1495625144, "post_id": 44156613, "comment_id": 75330248, "body": "this syntax has been around in Javascript for years, trust me it works."}, {"owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "edited": false, "score": 0, "creation_date": 1495625196, "post_id": 44156613, "comment_id": 75330292, "body": "PS: am not the one who asked, just coming through and saw it , here is a +1 :D"}], "tags": [], "owner": {"reputation": 4398, "user_id": 3697264, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5adc5afbd7a1145fdd762d872b4b43bb?s=128&d=identicon&r=PG", "display_name": "SPlatten", "link": "https://stackoverflow.com/users/3697264/splatten"}, "is_accepted": true, "score": 5, "last_activity_date": 1495624097, "creation_date": 1495624097, "answer_id": 44156613, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156613#44156613", "title": "How to remove undefined property from object?", "body": "<p>Check your object:</p>\n\n<pre><code>    for( var m in this.prepaidObject ) {\n        if ( this.prepaidObject[m] == undefined ) {\n            delete this.prepaidObject[m];\n        }\n    } \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "is_accepted": false, "score": 1, "last_activity_date": 1495624718, "last_edit_date": 1495624718, "creation_date": 1495624271, "answer_id": 44156670, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156670#44156670", "title": "How to remove undefined property from object?", "body": "<p>One way is to go through the keys and only append the defined ones:</p>\n\n<pre><code>this.prepaidObject = { };\nObject.keys(this.prepaidDetailForm.prepaidDetails)\n     .forEach(function(key) {\n           var val = this.prepaidDetailForm.prepaidDetails[key];\n           if (val !== undefined) {\n                this.prepaidObject[key] = val;\n           }\n     });\n</code></pre>\n\n<p>This is assuming the keys in <code>prepaidObject</code> are the same as in <code>prepaidDetails</code> and all of them follow the same rule you mention.</p>\n\n<p>Especially if you're using ES6 you might make this more elegant using <code>map</code> and <code>reduce</code> like so:</p>\n\n<pre><code>this.prepaidObject = Object.keys(this.prepaidDetailForm.prepaidDetails)\n     .map(key =&gt; ({key, val: this.prepaidDetailForm.prepaidDetails[key]}))\n     .reduce((obj, {key, val}) =&gt; {\n          if (val !== undefined) {\n               obj[key] = val;\n          }\n          return obj;\n     }, {});\n</code></pre>\n\n<p>And an even more succinct approach using more ES6 features:</p>\n\n<pre><code>this.prepaidObject = Object.keys(this.prepaidDetailForm.prepaidDetails)\n     .map(key =&gt; ({key, val: this.prepaidDetailForm.prepaidDetails[key]}))\n     .filter(({_, val}) =&gt; val !== undefined)\n     .reduce((obj, {key, val}) =&gt; Object.assign(obj, { [key]: val }), {});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 197, "user_id": 5758030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18a1fde887d97db3917e9e43ee83c66a?s=128&d=identicon&r=PG&f=1", "display_name": "titech", "link": "https://stackoverflow.com/users/5758030/titech"}, "is_accepted": false, "score": 0, "last_activity_date": 1495636375, "last_edit_date": 1495636375, "creation_date": 1495624294, "answer_id": 44156681, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156681#44156681", "title": "How to remove undefined property from object?", "body": "<p>Please try following:</p>\n\n<pre><code> for (var propName in this.prepaidObject) { \n    if (this.prepaidObject[propName] === undefined) {\n      delete this.prepaidObject[propName];\n    }\n  }\n</code></pre>\n\n<p>And look at following answers: \n<a href=\"https://stackoverflow.com/questions/286141/remove-blank-attributes-from-an-object-in-javascript\">Remove blank attributes from an Object in Javascript</a></p>\n"}, {"tags": [], "owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1495624549, "creation_date": 1495624549, "answer_id": 44156765, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156765#44156765", "title": "How to remove undefined property from object?", "body": "<pre><code>this.prepaidObject = {};\nfor (var i in this.prepaidDetailForm.prepaidDetails) {\n  if (typeof(this.prepaidDetailForm.prepaidDetails[i]) !== 'undefined') {\n    this.prepaidObject[i] = this.prepaidDetailForm.prepaidDetails[i];\n  } \n} \n</code></pre>\n\n<p>If you want to exclude also null values and undefined, change the condition to:</p>\n\n<pre><code>if (this.prepaidDetailForm.prepaidDetails[i] != null)\n</code></pre>\n\n<p>Not the double ==. because <code>null == undefined</code> but <code>null !== undefined</code></p>\n"}, {"tags": [], "owner": {"reputation": 927, "user_id": 2617897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4iwmD.jpg?s=128&g=1", "display_name": "Manu Benjamin", "link": "https://stackoverflow.com/users/2617897/manu-benjamin"}, "is_accepted": false, "score": 0, "last_activity_date": 1495625001, "creation_date": 1495625001, "answer_id": 44156952, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44156952#44156952", "title": "How to remove undefined property from object?", "body": "<p>Assume you have an object like below one,</p>\n\n<pre><code>var prepaidObject = {\n    'customerType' : 'TestCustType',\n    'firstName' : \"sample FirstName\",\n    'lastName' : \"sample LastName\",\n    'note' : undefined\n };\n</code></pre>\n\n<p>You can remove undefined using JSON.parse and JSON.stringify method,</p>\n\n<pre><code>JSON.parse(JSON.stringify(prepaidObject));\nconsole.log(prepaidObject)\n</code></pre>\n\n<p>Output will be,</p>\n\n<pre><code>{\n    'customerType' : 'TestCustType',\n    'firstName' : \"sample FirstName\",\n    'lastName' : \"sample LastName\"\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8072, "user_id": 5980993, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/efcfJ.png?s=128&g=1", "display_name": "selem mn", "link": "https://stackoverflow.com/users/5980993/selem-mn"}, "is_accepted": false, "score": 1, "last_activity_date": 1495625666, "creation_date": 1495625666, "answer_id": 44157222, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/44157222#44157222", "title": "How to remove undefined property from object?", "body": "<p>Using <a href=\"https://lodash.com/\" rel=\"nofollow noreferrer\">Lodash</a> make it too easy in one line:</p>\n\n<pre><code>_.pickBy(this.prepaidObject, _.identity);\n</code></pre>\n\n<p>That would remove all <strong>falsey</strong> values</p>\n"}, {"tags": [], "owner": {"reputation": 6824, "user_id": 1067326, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/cBKrH.jpg?s=128&g=1", "display_name": "Mostafiz Rahman", "link": "https://stackoverflow.com/users/1067326/mostafiz-rahman"}, "is_accepted": false, "score": 0, "last_activity_date": 1587201375, "creation_date": 1587201375, "answer_id": 61286790, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object/61286790#61286790", "title": "How to remove undefined property from object?", "body": "<p>The shortest way to do this is to <code>parse</code> it after <code>stringify</code>. </p>\n\n<p>The exact syntax:</p>\n\n<pre><code>let prepaidObjectNew = JSON.parse(JSON.stringify(prepaidObject))\n</code></pre>\n\n<p><strong>Example</strong></p>\n\n<p>Before:</p>\n\n<pre><code>var prepaidObject = {\n    'customerType' : 'TestCustType',\n    'firstName' : \"sample FirstName\",\n    'lastName' : \"sample LastName\",\n    'note' : undefined\n };\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>{\n    'customerType' : 'TestCustType',\n    'firstName' : \"sample FirstName\",\n    'lastName' : \"sample LastName\"\n };\n</code></pre>\n"}], "owner": {"reputation": 6842, "user_id": 4511325, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2ff8b8f85f9df8dd4e3e6b8f6e580ece?s=128&d=identicon&r=PG&f=1", "display_name": "None", "link": "https://stackoverflow.com/users/4511325/none"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3009, "favorite_count": 0, "accepted_answer_id": 44156613, "answer_count": 8, "score": 0, "last_activity_date": 1587201375, "creation_date": 1495623921, "last_edit_date": 1495625771, "question_id": 44156545, "link": "https://stackoverflow.com/questions/44156545/how-to-remove-undefined-property-from-object", "title": "How to remove undefined property from object?", "body": "<p>I have this object:</p>\n\n<pre><code>  this.prepaidObject = {\n            'customerType' : this.prepaidDetailForm.prepaidDetails.customerType,\n            'firstName' : this.prepaidDetailForm.prepaidDetails.firstName,\n            'lastName' : this.prepaidDetailForm.prepaidDetails.lastName,\n            'note' : this.prepaidDetailForm.prepaidDetails.note,\n            'created': this.prepaidDetailForm.prepaidDetails.created\n        };\n</code></pre>\n\n<p>Now sometimes some of this property are undefined. What i want is if one of <code>this.prepaidDetailForm.prepaidDetails</code> properties are undefined not to display them.  So for example if <code>this.prepaidDetailForm.prepaidDetails.firsName</code> is undefined i dont need to  create <code>'firstName'</code> property isnide object. Any suggestion how can i do that?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1495624071, "creation_date": 1495624071, "answer_id": 44156603, "question_id": 44156473, "link": "https://stackoverflow.com/questions/44156473/how-do-i-create-an-array-of-strings-from-an-object-where-the-values-of-individua/44156603#44156603", "title": "How do I create an array of strings from an object where the values of individual keys are separate arrays of strings?", "body": "<p>You can use the map function coupled with a loop over the properties : </p>\n\n<pre><code>for (let prop in this.err) {\n    this.errors = this.errors.join(\n        this.err[prop].map(el =&gt; ({el}));\n    );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3156, "user_id": 2067108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8583dc35c6c67c6b5e0c0812603c8850?s=128&d=identicon&r=PG", "display_name": "anonym", "link": "https://stackoverflow.com/users/2067108/anonym"}, "edited": false, "score": 0, "creation_date": 1495625538, "post_id": 44156931, "comment_id": 75330530, "body": "That a single line solution and works like a charm. Can you please explain it in brief, if you have time? Many thanks, man."}, {"owner": {"reputation": 766, "user_id": 7917915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfb036706ac00dd7d35eb1f8d25d91e?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/7917915/diego"}, "reply_to_user": {"reputation": 3156, "user_id": 2067108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8583dc35c6c67c6b5e0c0812603c8850?s=128&d=identicon&r=PG", "display_name": "anonym", "link": "https://stackoverflow.com/users/2067108/anonym"}, "edited": false, "score": 0, "creation_date": 1495626213, "post_id": 44156931, "comment_id": 75331048, "body": "@anonym I&#39;m sorry if my explanation is not really clear. Ask what you want."}], "tags": [], "owner": {"reputation": 766, "user_id": 7917915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cfb036706ac00dd7d35eb1f8d25d91e?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/7917915/diego"}, "is_accepted": true, "score": 2, "last_activity_date": 1495626673, "last_edit_date": 1495626673, "creation_date": 1495624955, "answer_id": 44156931, "question_id": 44156473, "link": "https://stackoverflow.com/questions/44156473/how-do-i-create-an-array-of-strings-from-an-object-where-the-values-of-individua/44156931#44156931", "title": "How do I create an array of strings from an object where the values of individual keys are separate arrays of strings?", "body": "<p>You can use a <code>map</code> <code>reduce</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const err = {\r\n  \"name\": [\r\n    \"Item name is required.\",\r\n    \"Item name must be at least 4 chars\"\r\n  ],\r\n  \"rate\": [\r\n    \"Item Rate is should be a number.\",\r\n    \"Item rate should be between 10 and 1000\"\r\n  ],\r\n  \"category\": [\"Item Category is required\"]\r\n}\r\n\r\nconst arr = Object.keys(err)\r\n  .map(k =&gt; err[k])\r\n  .reduce((acumm, el) =&gt; acumm.concat(el), []);\r\n\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>We're combining <code>Object.keys</code> a native function that allow you to obtain the keys of an object with <code>map</code> and <code>reduce</code>. </p>\n\n<p><code>[\"name\", \"rate\", \"category\"].map(...</code></p>\n\n<p>The <code>map</code> method creates a new array with the results of calling a function for every array element. So, I am returning the value of the property itself.</p>\n\n<p><code>[[ \"Item name...\", \"Item name...\" ], [\"Item Rate...\", \"Item rate\"], [\"Item Category...\"]].reduce(...</code></p>\n\n<p>The <code>reduce</code> method reduces the array to a single value. So I am concatenating all the values in a single array.</p>\n"}], "owner": {"reputation": 3156, "user_id": 2067108, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8583dc35c6c67c6b5e0c0812603c8850?s=128&d=identicon&r=PG", "display_name": "anonym", "link": "https://stackoverflow.com/users/2067108/anonym"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 44156931, "answer_count": 2, "score": 0, "last_activity_date": 1495626673, "creation_date": 1495623732, "last_edit_date": 1495624813, "question_id": 44156473, "link": "https://stackoverflow.com/questions/44156473/how-do-i-create-an-array-of-strings-from-an-object-where-the-values-of-individua", "title": "How do I create an array of strings from an object where the values of individual keys are separate arrays of strings?", "body": "<p>I'm trying to gather all errors in an <code>err</code> object and populate them into <code>this.errors</code> in order to display them.</p>\n\n<p><strong><code>err</code> object</strong>:</p>\n\n<pre><code>err = {\n  \"name\": [\n    \"Item name is required.\",\n    \"Item name must be at least 4 chars\"\n  ],\n  \"rate\": [\n    \"Item Rate is should be a number.\",\n    \"Item rate should be between 10 and 1000\"\n  ],\n  \"category\": [\"Item Category is required\"]\n}\n</code></pre>\n\n<p>As you can see, err is an object where the values of individual keys are arrays of strings. To gather the error strings into a separate <code>this.errors</code> array, I could simply perform:</p>\n\n<pre><code> if (err &amp;&amp; err.number)  {\n   err.number.forEach(e =&gt; {\n     this.errors.push(e);\n   });\n }\n\nif (err &amp;&amp; err.number)  {\n   err.rate.forEach(e =&gt; {\n     this.errors.push(e);\n   });\n }\n\n if (err &amp;&amp; err.number)  {\n   err.category.forEach(e =&gt; {\n     this.errors.push(e);\n   });\n }\n</code></pre>\n\n<p>But I will need to repeat these lines of code in many places of my app.</p>\n\n<p>I want to place these code in a functionl as:</p>\n\n<pre><code>populateErrors(err) {\n    err.forEach(error =&gt; {\n          this.errors.push(error);\n    });\n}\n\n// and call it\nthis.populateErrors(err);\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>populateErrors(err, keys[]) {\n    err.forEach(error =&gt; {\n          this.errors.push(err.keys[1]);\n    });\n    //...\n}\n\n// and call it\npopulateErrors(err, ['name', 'rate', 'category'])\n</code></pre>\n\n<p>and display them in my template:</p>\n\n<pre><code>&lt;div class=\"row\" *ngIf=\"errors &amp;&amp; errors.length\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n        &lt;div class=\"alert alert-danger alert-dismissible\"&gt;\n                &lt;a href=\"#\" class=\"close\" data-dismiss=\"alert\" aria-label=\"close\"&gt;&amp;times;&lt;/a&gt;\n                &lt;ol *ngFor=\"let err of errMsg\"&gt;\n                    &lt;li&gt;{{ err }}&lt;/li&gt;\n                &lt;/ol&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What might the function look like?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 6956, "user_id": 3229773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa824ea09ebb16ba8922518d1dd5de1?s=128&d=identicon&r=PG&f=1", "display_name": "M\u03bc.", "link": "https://stackoverflow.com/users/3229773/m%ce%bc"}, "edited": false, "score": 0, "creation_date": 1495622292, "post_id": 44155836, "comment_id": 75328377, "body": "what&#39;s wrong with defining the component this way?"}, {"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "reply_to_user": {"reputation": 6956, "user_id": 3229773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa824ea09ebb16ba8922518d1dd5de1?s=128&d=identicon&r=PG&f=1", "display_name": "M\u03bc.", "link": "https://stackoverflow.com/users/3229773/m%ce%bc"}, "edited": false, "score": 0, "creation_date": 1495633094, "post_id": 44155836, "comment_id": 75336419, "body": "It&#39;s ok but I was looking for some kind of official way"}], "answers": [{"comments": [{"owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1495633219, "post_id": 44157298, "comment_id": 75336516, "body": "thanks for your answer! I have heard of the never type, I will try it. I don&#39;t know if conceptually is better than a void either"}, {"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "reply_to_user": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "edited": false, "score": 0, "creation_date": 1495633841, "post_id": 44157298, "comment_id": 75337067, "body": "My personal preference is to use <code>void</code> as it better &quot;describes&quot; your intent."}], "tags": [], "owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "is_accepted": true, "score": 1, "last_activity_date": 1495627021, "last_edit_date": 1495627021, "creation_date": 1495625865, "answer_id": 44157298, "question_id": 44155836, "link": "https://stackoverflow.com/questions/44155836/what-is-the-appropiate-way-to-define-a-react-component-class-without-state/44157298#44157298", "title": "What is the appropiate way to define a react component class without state?", "body": "<p>Its perfectly legal to use <code>void</code> as state type. I have not seen any \"official\" recommendations for stateless components based on classes, but (if this will make you feel safer) this approach is used by some not so small <a href=\"https://microsoft.github.io/reactxp/docs/react_concepts.html\" rel=\"nofollow noreferrer\">projects</a>.</p>\n\n<p>You can use <code>{}</code> instead of <code>void</code> but this will not protect you from assigning something to state. </p>\n\n<p>It is also possible to specify <code>never</code> and it seems to give the same results as <code>void</code>.</p>\n"}], "owner": {"reputation": 1647, "user_id": 1827242, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/be67316df5ef531cc3fc58a0c0394a98?s=128&d=identicon&r=PG", "display_name": "Daniel San", "link": "https://stackoverflow.com/users/1827242/daniel-san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 44157298, "answer_count": 1, "score": 0, "last_activity_date": 1495627904, "creation_date": 1495621944, "question_id": 44155836, "link": "https://stackoverflow.com/questions/44155836/what-is-the-appropiate-way-to-define-a-react-component-class-without-state", "title": "What is the appropiate way to define a react component class without state?", "body": "<p>I'm wondering if the recommended way to define a react class component with typescript is using a void as state type:</p>\n\n<pre><code>class MyComponent extends React.Component&lt;any, void&gt; {\n   constructor(props) {\n      super(props);\n      // The typescript compiler won't allow this using void type\n      // this.state = {...}\n   [...]\n}\n</code></pre>\n\n<p>Do you know a recommended or better way?</p>\n\n<p>Note: the component must be a class because I will need the lifecycle methods</p>\n"}, {"tags": ["generics", "typescript", "recursion", "types"], "comments": [{"owner": {"reputation": 37219, "user_id": 1523776, "user_type": "moderator", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3e0b5c8e42a8c38009ef2d969f8dabb?s=128&d=identicon&r=PG", "display_name": "Benjamin Hodgson", "link": "https://stackoverflow.com/users/1523776/benjamin-hodgson"}, "edited": false, "score": 0, "creation_date": 1550704829, "post_id": 44155458, "comment_id": 96371426, "body": "The only explanation for this that I can think of is it&#39;s a compiler bug. Open an issue in the TS GitHub repo, perhaps?"}], "answers": [{"tags": [], "owner": {"reputation": 630, "user_id": 3570903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Dicf.jpg?s=128&g=1", "display_name": "millsp", "link": "https://stackoverflow.com/users/3570903/millsp"}, "is_accepted": false, "score": 0, "last_activity_date": 1564828830, "creation_date": 1564828830, "answer_id": 57337551, "question_id": 44155458, "link": "https://stackoverflow.com/questions/44155458/recursive-generic-type-deep-type-check/57337551#57337551", "title": "Recursive, generic type - deep type check", "body": "<p>This is pretty common with TS. It stops at the first error before even continuing to look for the next ones.</p>\n\n<pre><code>const test: TRecursive&lt;IOne&gt; = {\n    pk  : true,\n    name: true,\n    two : {\n        pk   : true,\n        name : true,\n        // anything: true,\n        three: {\n            pk      : true,\n            name    : true,\n            anything: true, // error\n        },\n    },\n}\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 3008543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecdc96f7f3658f79c22927b07919e025?s=128&d=identicon&r=PG&f=1", "display_name": "user3008543", "link": "https://stackoverflow.com/users/3008543/user3008543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1564828830, "creation_date": 1495620898, "question_id": 44155458, "link": "https://stackoverflow.com/questions/44155458/recursive-generic-type-deep-type-check", "title": "Recursive, generic type - deep type check", "body": "<p>I would like to create recursive, generic type <code>TRecursive</code> based on my data interfaces <code>IOne</code>, <code>ITwo</code> and <code>IThree</code> that are related as shown below.</p>\n\n<p>The result type <code>TRecursive&lt;IOne&gt;</code> should have similar relations as <code>IOne</code> but different value types, e.g. <code>boolean</code> in example below.</p>\n\n<pre><code>interface IOne {\n    pk: number;\n    name: string;\n    two: ITwo;\n}\n\ninterface ITwo {\n    pk: number;\n    name: string;\n    three: IThree;\n}\n\ninterface IThree {\n    pk: number;\n    name: string;\n}\n\ntype TRecursive&lt;T&gt; = {\n    [P in keyof T]?: TRecursive&lt;T[P]&gt; | boolean;\n};\n\nconst test: TRecursive&lt;IOne&gt; = {\n    pk: true,\n    name: true,\n    two: {\n        pk: true,\n        name: true,\n        anything: true,        // type error as expected\n        three: {\n            pk: true,\n            name: true,\n            anything: true     // no error - why?\n        }\n    }\n};\n</code></pre>\n\n<p>The thing is I cannot make <code>typescript@2.3.3</code> to work properly when I need type-check down in related types.</p>\n\n<p>I added key <code>anything</code> that is not defined in my data types, so I would like typescript to show me the error here. As expected I see error in one level deep (inside key <code>two</code>), but the same key does not trigger error two levels deep (inside key <code>three</code>).</p>\n\n<p>Why is that? Is there anything that I can do to achieve this with typescript?</p>\n"}, {"tags": ["javascript", "angular", "unit-testing", "typescript", "jasmine"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495619455, "post_id": 44154813, "comment_id": 75326345, "body": "Is navigator declared like so <code>declare var navigator: any;</code> ?"}, {"owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 0, "creation_date": 1495619678, "post_id": 44154813, "comment_id": 75326516, "body": "@trichetriche where has this line of code to go? directly after the import statements?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495619742, "post_id": 44154813, "comment_id": 75326562, "body": "No, I mean, you don&#39;t declare your navigator variable by <code>let navigator = &#39;something&#39;;</code> so I&#39;m, asking, is that a global variable declared with <code>declare var</code> in your component ?"}, {"owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 0, "creation_date": 1495619918, "post_id": 44154813, "comment_id": 75326699, "body": "yes it is globally declared as <code>declare var navigator: Navigator;</code> in lib.es6.d.ts"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495620049, "post_id": 44154813, "comment_id": 75326795, "body": "then take a look at <a href=\"https://stackoverflow.com/questions/41099179/test-component-with-declare-var\">this topic</a> which explains how to handle those cases."}, {"owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 0, "creation_date": 1495628081, "post_id": 44154813, "comment_id": 75332447, "body": "@trichetriche I do not think that this is the problem because it has access to navigator and its functions"}], "answers": [{"comments": [{"owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 0, "creation_date": 1495628210, "post_id": 44155255, "comment_id": 75332578, "body": "this throws <code>Expected spy getCurrentPosition to have been called with [ Function, Function ] but actual calls were [ Function, Function ]</code>."}, {"owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 0, "creation_date": 1495628299, "post_id": 44155255, "comment_id": 75332641, "body": "and what is a proper way to test success and error then?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "edited": false, "score": 1, "creation_date": 1495629105, "post_id": 44155255, "comment_id": 75333208, "body": "I see. The proper place to bind callback methods is class constructor, <code>this.locationSuccess = this.locationSuccess.bind(this)</code>. Not the place where they are called. You should test them in a separate test by calling them and putting <code>expect</code>s on component properties that they are supposed to set."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1495620375, "creation_date": 1495620375, "answer_id": 44155255, "question_id": 44154813, "link": "https://stackoverflow.com/questions/44154813/why-is-my-jasmine-spy-not-called/44155255#44155255", "title": "Why is my jasmine spy not called?", "body": "<p>This happens because spying went wrong.</p>\n\n<p><code>locationSuccess</code> and <code>locationError</code> spies are local variables. They are never used. The fact that params in <code>callFake</code> have same names doesn't affect anything.</p>\n\n<p>The proper way to do this is to stub  <code>navigator.geolocation.getCurrentPosition</code>:</p>\n\n<pre><code>spyOn(navigator.geolocation, 'getCurrentPosition');\n\ncomp.enableNavigatorLocation();\n\nexpect(navigator.geolocation.getCurrentPosition).toHaveBeenCalledWith(\n  comp.locationSuccess,\n  comp.locationError\n);\n</code></pre>\n"}], "owner": {"reputation": 1302, "user_id": 5219277, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/15813d725758c9ecd8ffd3c0494b8f59?s=128&d=identicon&r=PG", "display_name": "Michael Andorfer", "link": "https://stackoverflow.com/users/5219277/michael-andorfer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1880, "favorite_count": 0, "accepted_answer_id": 44155255, "answer_count": 1, "score": 1, "last_activity_date": 1495620423, "creation_date": 1495619306, "last_edit_date": 1495620423, "question_id": 44154813, "link": "https://stackoverflow.com/questions/44154813/why-is-my-jasmine-spy-not-called", "title": "Why is my jasmine spy not called?", "body": "<p>I am currently writing a unit test for Geolocation API.</p>\n\n<p>My Angular component looks as follow:</p>\n\n<pre><code>export class HeaderComponent {\n  public lat: number = 56.713;\n  public lng: number = 21.1644;\n  public message: string;\n  public messageType: string;\n\n  public locationSuccess(data: any) {\n    console.log(data);\n    if (data) {\n      if (data.coords) {\n        this.lat = data.coords.latitude ? data.coords.latitude : this.lat;\n        this.lng = data.coords.longitude ? data.coords.longitude : this.lng;\n        this.messageType = 'success';\n        this.message = 'You successfully granted us retrieving your location to ' +\n                       'enhance your experience.';\n      }\n    }\n  }\n\n  public locationError() {\n    console.log('error');\n    this.message = 'Unfortunately we could not acquire your location which is recommended ' +\n                   'for best user experience with our service.';\n    this.messageType = 'danger';\n  }\n\n  public enableNavigatorLocation() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        this.locationSuccess.bind(this),\n        this.locationError.bind(this)\n      );\n    }\n  }\n}\n</code></pre>\n\n<p>And my unit test looks like this:</p>\n\n<pre><code>// synchronous beforeEach\nbeforeEach(() =&gt; {\n  fixture = TestBed.createComponent(HeaderComponent);\n  comp = fixture.componentInstance;\n});\n\nit('enableNavigatorLocation should call locationSuccess if successful', () =&gt; {\n  const locationSuccess = jasmine.createSpy('locationSuccess');\n  const locationError = jasmine.createSpy('locationError');\n\n  spyOn(navigator.geolocation,'getCurrentPosition').and.callFake(function(locationSuccess, locationError) {\n    const position = { coords: { latitude: 32, longitude: -96 } };\n    arguments[0](position);\n  });\n\n  comp.enableNavigatorLocation();\n\n  expect(locationSuccess).toHaveBeenCalled();\n});\n</code></pre>\n\n<p>My spy is not called and I have no idea what I am doing wrong. Could there be a problem with the function call via <code>bind()</code> in <code>enableNavigatorLocation</code> method?</p>\n\n<p>I used this <a href=\"https://stackoverflow.com/questions/11106008/how-to-fake-return-calls-from-the-geolocator-in-jasmine\">post</a> from 2012 as a guideline </p>\n"}, {"tags": ["api", "angular", "http", "typescript", "outlook"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495619298, "post_id": 44154726, "comment_id": 75326203, "body": "If you get this answer, can&#39;t you just take the <code>access_token</code> or the <code>refresh_token</code> out of it ?"}, {"owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "edited": false, "score": 0, "creation_date": 1495621833, "post_id": 44154726, "comment_id": 75328014, "body": "No, the subscribe doesn&#39;t go to the first part but to the second part which is the error part. as you can see, the log only logs the error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495622129, "post_id": 44154726, "comment_id": 75328261, "body": "I&#39;m sorry, corporate proxy, imgur is filed under &#39;Image board&#39; website and I don&#39;t see the error. But if this happens, it means that your app isn&#39;t registered on the server side. Can&#39;t you set it on a dashboard or something ?"}, {"owner": {"reputation": 1848, "user_id": 1225526, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/J0P9N.jpg?s=128&g=1", "display_name": "Karthigeyan Vellasamy", "link": "https://stackoverflow.com/users/1225526/karthigeyan-vellasamy"}, "edited": false, "score": 0, "creation_date": 1495626362, "post_id": 44154726, "comment_id": 75331151, "body": "In RequestOptions set header accept type to be json headers.append(&#39;Accept&#39;, &#39;application/json&#39;); and check the response header access control allow origin pattern.. something like Access-Control-Allow-Origin:*"}], "owner": {"reputation": 1375, "user_id": 1881719, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/f9d319fb5c2669d9bab860c9b2227505?s=128&d=identicon&r=PG", "display_name": "Wouter Vandenputte", "link": "https://stackoverflow.com/users/1881719/wouter-vandenputte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 448, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1518686206, "creation_date": 1495619083, "last_edit_date": 1518686206, "question_id": 44154726, "link": "https://stackoverflow.com/questions/44154726/cors-outlook-api-not-allowed-access", "title": "CORS outlook api : not allowed access", "body": "<p>I cannot count how many times I sweared on CORS.\nRight now we are trying to access the outlook API to send emails and stuff. We follow the tutorial, do everything on Postman and that works. Now we want to implement it in our Angular 2 application with the following code:</p>\n\n<pre><code>requestAccessToken(code: string) \n{\n  if (code) {\n  var headers = new Headers();\n  headers.append(\"Content-Type\", 'application/x-www-form-urlencoded');\n  var requestoptions = new RequestOptions({\n    headers: headers,\n    withCredentials: false // tried true too\n  })\n  let body = `grant_type=authorization_code&amp;\n            redirect_uri=http://localhost:4200&amp;\n            code=`+ code + `&amp;\n            client_id=4e...ab&amp;\n            client_secret=CE.....BC`\n\n  this.http.post(\"https://login.microsoftonline.com/common/oauth2/v2.0/token\", body, requestoptions).subscribe((data) =&gt;\n  {\n    console.log(\"data: \" + data);\n  },\n    error =&gt;\n    {\n      console.log(\"error: \" + error);\n    });\n  }\n}\n</code></pre>\n\n<p>Our response looks like this:</p>\n\n<pre><code>{\n\"token_type\":\"Bearer\",\n\"scope\":\"calendars.read calendars.read.shared calendars.readwrite calendars.readwrite.shared contacts.read \ncontacts.read.shared mail.read \nuser.read\",\n\"expires_in\":3599,\"ext_expires_in\":0,\n\"access_token\":\"ey...NjQ\",\n\"refresh_token\":\"OAQABAAA...Fd8JA\"\n}\n</code></pre>\n\n<p>Which is exactly but I want, but however I cannot extract the token out of it and my browser logs the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OCPpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OCPpZ.png\" alt=\"Google Chrome log\"></a></p>\n\n<p>As you can see, the error is logged and not the data and Chrome complains about CORS. I'm really stuck and the only thing the internet says is to change server settings, which is of course not possible with the URL login.microsoftonline.com</p>\n"}, {"tags": ["javascript", "angular", "typescript", "charts"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7832762"}, "is_accepted": false, "score": 1, "last_activity_date": 1495784686, "creation_date": 1495784686, "answer_id": 44196264, "question_id": 44154285, "link": "https://stackoverflow.com/questions/44154285/callbacks-on-two-level-doughnut-chart-in-chartjs/44196264#44196264", "title": "Callbacks on two-level doughnut chart in chartjs", "body": "<p>Ok it was pretty easy, just use .datasetIndex:</p>\n\n<pre><code>label: function (tooltipItems, data) {\n          return data.datasets[tooltipItems.datasetIndex].data[tooltipItems.index] + 'h';\n        }\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7832762"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495784686, "creation_date": 1495617886, "question_id": 44154285, "link": "https://stackoverflow.com/questions/44154285/callbacks-on-two-level-doughnut-chart-in-chartjs", "title": "Callbacks on two-level doughnut chart in chartjs", "body": "<p>How to implement a proper callback on double-doughnut chart in chartjs?</p>\n\n<p>I know only the way to do something like this:</p>\n\n<pre><code>options: {\n    tooltips: {\n      callbacks: {\n        label: function (tooltipItems, data) {\n          return data.datasets[0].data[tooltipItems.index] + 'h';\n        }\n      }\n    }\n  }\n</code></pre>\n\n<p>But obviously it isn't working correctly. Because it returns data from first doughnut chart(<code>data.datasets[0].data</code>) and returns it for both charts.\nHow to return data for both charts separately?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 242210, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/PV4wK.jpg?s=128&g=1", "display_name": "jschank", "link": "https://stackoverflow.com/users/242210/jschank"}, "edited": false, "score": 1, "creation_date": 1498492529, "post_id": 44154193, "comment_id": 76508380, "body": "When I try @KirillDmitrenko&#39;s suggestion. My array allows non literal values as well. For example <code>const YES_NO_VALUES: YesNo[] = [ &#39;yes&#39;, &#39;no&#39;, &#39;maybe&#39;];</code>"}, {"owner": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "edited": false, "score": 0, "creation_date": 1600950666, "post_id": 44154193, "comment_id": 113255112, "body": "Shouldn&#39;t the getEnumValues function be: <code>function getEnumValues(e: EnumObject): string[] {   return Object.keys(e).map((_, idx: number): string =&gt; e[idx]); }</code>"}], "tags": [], "owner": {"reputation": 2924, "user_id": 747768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyu91.jpg?s=128&g=1", "display_name": "Kirill Dmitrenko", "link": "https://stackoverflow.com/users/747768/kirill-dmitrenko"}, "is_accepted": false, "score": 13, "last_activity_date": 1495621681, "last_edit_date": 1495621681, "creation_date": 1495617689, "answer_id": 44154193, "question_id": 44154009, "link": "https://stackoverflow.com/questions/44154009/get-array-of-string-literal-type-values/44154193#44154193", "title": "Get array of string literal type values", "body": "<p>Enumeration may help you here:</p>\n\n<pre><code>enum YesNo {\n    YES,\n    NO\n}\n\ninterface EnumObject {\n    [enumValue: number]: string;\n}\n\nfunction getEnumValues(e: EnumObject): string[] {\n    return Object.keys(e).map((i) =&gt; e[i]);\n}\n\ngetEnumValues(YesNo); // ['YES', 'NO']\n</code></pre>\n\n<p><code>type</code> declaration doesn't create any symbol that you could use in runtime, it only creates an alias in type system. So there's no way you can use it as a function argument.</p>\n\n<p>If you need to have string values for <code>YesNo</code> type, you can use a trick (since string values of enums aren't part of TS <a href=\"https://github.com/Microsoft/TypeScript/pull/15486\" rel=\"noreferrer\">yet</a>):</p>\n\n<pre><code>const YesNoEnum = {\n   Yes: 'Yes',\n   No: 'No'\n};\n\nfunction thatAcceptsYesNoValue(vale: keyof typeof YesNoEnum): void {}\n</code></pre>\n\n<p>Then you can use <code>getEnumValues(YesNoEnum)</code> to get possible values for <code>YesNoEnum</code>, i.e. ['Yes', 'No']. It's a bit ugly, but that'd work.</p>\n\n<p>To be honest, I would've gone with just a static variable like this:</p>\n\n<pre><code>type YesNo = 'yes' | 'no';\nconst YES_NO_VALUES: YesNo[] = ['yes', 'no'];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1639, "user_id": 334121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9aa4285e611d5ec41f3f3ec5874ca939?s=128&d=identicon&r=PG", "display_name": "anxiety", "link": "https://stackoverflow.com/users/334121/anxiety"}, "edited": false, "score": 1, "creation_date": 1537477545, "post_id": 45298448, "comment_id": 91810281, "body": "There is no bidirectional mapping for string enums however"}], "tags": [], "owner": {"reputation": 561, "user_id": 7193333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0bda2bb0885e1507188e52c1b5c4bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Kali", "link": "https://stackoverflow.com/users/7193333/kali"}, "is_accepted": true, "score": 6, "last_activity_date": 1500972957, "creation_date": 1500972957, "answer_id": 45298448, "question_id": 44154009, "link": "https://stackoverflow.com/questions/44154009/get-array-of-string-literal-type-values/45298448#45298448", "title": "Get array of string literal type values", "body": "<p>Typescript 2.4 is <a href=\"https://blogs.msdn.microsoft.com/typescript/2017/06/27/announcing-typescript-2-4/\" rel=\"noreferrer\">finally released</a>. With the support of string enums I no longer have to use string literals and because typescript enums are compiled to javascript I can access them at runtime (same approach as for <a href=\"https://stackoverflow.com/questions/18150659/converting-enums-to-array-of-values-putting-all-json-values-in-an-array\">number enums</a>).</p>\n"}], "owner": {"reputation": 561, "user_id": 7193333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0bda2bb0885e1507188e52c1b5c4bfd?s=128&d=identicon&r=PG&f=1", "display_name": "Kali", "link": "https://stackoverflow.com/users/7193333/kali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13779, "favorite_count": 5, "accepted_answer_id": 45298448, "answer_count": 2, "score": 23, "last_activity_date": 1500972957, "creation_date": 1495617204, "question_id": 44154009, "link": "https://stackoverflow.com/questions/44154009/get-array-of-string-literal-type-values", "title": "Get array of string literal type values", "body": "<p>I need to get a full list of all possible values for a string literal.</p>\n\n<pre><code>type YesNo = \"Yes\" | \"No\";\nlet arrayOfYesNo : Array&lt;string&gt; = someMagicFunction(YesNo); //[\"Yes\", \"No\"]\n</code></pre>\n\n<p>Is there any way of achiving this?</p>\n"}, {"tags": ["angular", "typescript", "primeng"], "answers": [{"comments": [{"owner": {"reputation": 2544, "user_id": 1816781, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2c68768ff6fbc28274686b12cddb9584?s=128&d=identicon&r=PG", "display_name": "Korki Korkig", "link": "https://stackoverflow.com/users/1816781/korki-korkig"}, "edited": false, "score": 0, "creation_date": 1495617444, "post_id": 44153753, "comment_id": 75324825, "body": "So simple, changing <code>fileInput:ElementRef</code> to <code>fileInput:FileUpload</code> solved the issue. Thank you.."}, {"owner": {"reputation": 9207, "user_id": 631527, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/92e59.jpg?s=128&g=1", "display_name": "Toolkit", "link": "https://stackoverflow.com/users/631527/toolkit"}, "edited": false, "score": 0, "creation_date": 1547897882, "post_id": 44153753, "comment_id": 95356721, "body": "it works, however would be nice to submit it with some other parameters via POST"}, {"owner": {"reputation": 94, "user_id": 4194335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/991d5e343ea1ff50b17fbcff5cf659e6?s=128&d=identicon&r=PG&f=1", "display_name": "jmoran", "link": "https://stackoverflow.com/users/4194335/jmoran"}, "edited": false, "score": 0, "creation_date": 1579885136, "post_id": 44153753, "comment_id": 105928737, "body": "I can&#39;t make this work. I&#39;m getting this message in browser console: Module not found: Error: Can&#39;t resolve &#39;primeng/primeng&#39; in... Even changing the path to &#39;primeng/fileupload/fileupload&#39; doesn&#39;t work. Please, any help will be appreciated. I&#39;m declaring the viewchild this  way: @ViewChild(FileUpload, {static: false}) btnUpload: FileUpload;"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 18, "last_activity_date": 1495616576, "creation_date": 1495616576, "answer_id": 44153753, "question_id": 44153451, "link": "https://stackoverflow.com/questions/44153451/primeng-manually-invoke-fileupload/44153753#44153753", "title": "PrimeNG manually invoke FileUpload", "body": "<p>Example code which works for me</p>\n\n<pre><code>import {FileUpload} from 'primeng/primeng';\n\n@Component({\n  ...\n})\nexport class AppComponent {\n    @ViewChild('fileInput') fileInput: FileUpload;\n\n    startUpload(){\n        this.fileInput.upload();\n    }\n}\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/wNZGM1cNMB0bYhgvXwI0?p=preview\" rel=\"noreferrer\">Plunker Example</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 7558946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wl55B.gif?s=128&g=1", "display_name": "Mieszcza\u0144czyk S.", "link": "https://stackoverflow.com/users/7558946/mieszcza%c5%84czyk-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1528103198, "last_edit_date": 1528103198, "creation_date": 1528048053, "answer_id": 50669289, "question_id": 44153451, "link": "https://stackoverflow.com/questions/44153451/primeng-manually-invoke-fileupload/50669289#50669289", "title": "PrimeNG manually invoke FileUpload", "body": "<p>If you can, you should use build in buttons. To get access to class variables and methods, you can use ViewChild. You should:</p>\n\n<ol>\n<li>Set customUpload to true.</li>\n<li>Set your uploadHandler for custom upload </li>\n<li>Set local variable #variable_name in template.</li>\n<li>Add ViewChild with local variable as selector in component.ts</li>\n<li><p>Add new variable to your component.ts with FileUpload type (so now you have access to variables and methods - in VS Code you can click right and go to definition to see all things)</p>\n\n<p></p>\n\n<pre><code>@ViewChild('fileInput') fileInput:FileUpload;\n// remember to import FileUpload and of course FileUploadModule\n\nonSelect() {\n  // here custom validation for file (for example check image's dimension)\n}\ncustomUpload(event) {\n  // here you can set your custom upload\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 2544, "user_id": 1816781, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2c68768ff6fbc28274686b12cddb9584?s=128&d=identicon&r=PG", "display_name": "Korki Korkig", "link": "https://stackoverflow.com/users/1816781/korki-korkig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8596, "favorite_count": 0, "accepted_answer_id": 44153753, "answer_count": 2, "score": 7, "last_activity_date": 1528103198, "creation_date": 1495615808, "last_edit_date": 1495616136, "question_id": 44153451, "link": "https://stackoverflow.com/questions/44153451/primeng-manually-invoke-fileupload", "title": "PrimeNG manually invoke FileUpload", "body": "<p>I want to select the files first and then to start upload those files by an another button instead of component's own <code>Upload</code> button.</p>\n\n<p>How can I do this?</p>\n\n<p><strong>Example code what I've tried:</strong></p>\n\n<pre><code>&lt;button pButton type=\"button\" label=\"Start Upload\"\n        (click)=\"startUpload()\"&gt;&lt;/button&gt;\n\n&lt;p-fileUpload #fileInput name=\"fileIcon\"\n              url=\"rest/batch/file/multimedia/\"&gt;&lt;/p-fileUpload&gt;\n\n\n@ViewChild('fileInput') fileInput:ElementRef;\n\nconstructor( private renderer: Renderer ) { }\n\nstartUpload(){\n\n    // this.fileInput.upload(); -&gt; doesn't compile, undefined\n    // this.fileInput.nativeElement.upload(); -&gt; this.fileInput.nativeElement is undefined\n\n    ?????????????????\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "edited": false, "score": 1, "creation_date": 1495616555, "post_id": 44153378, "comment_id": 75324206, "body": "I don&#39;t think optional abstract methods are supported. See <a href=\"https://github.com/Microsoft/TypeScript/issues/6413\" rel=\"nofollow noreferrer\">this issue</a> and <a href=\"https://github.com/Microsoft/TypeScript/issues/2947#issuecomment-125914985\" rel=\"nofollow noreferrer\">this comment</a> for workarounds."}, {"owner": {"user_type": "does_not_exist", "display_name": "user12834955"}, "edited": false, "score": 0, "creation_date": 1582706562, "post_id": 44153378, "comment_id": 106865646, "body": "the correct answer is @idsbllp this is a unique feature of typescript and lesser known (merging the class and interface when they have the same name in the same file and both exported)"}], "answers": [{"comments": [{"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 3, "creation_date": 1495619510, "post_id": 44154690, "comment_id": 75326385, "body": "Thought I could weasel myself with the <code>?</code> operator in the abstract method name."}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1495619794, "post_id": 44154690, "comment_id": 75326604, "body": "Although this would work it requires to know implementation details of the abstract class for overriding certain methods which kinda defies the whole purpose of the abstract class."}, {"owner": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "reply_to_user": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "edited": false, "score": 0, "creation_date": 1495619965, "post_id": 44154690, "comment_id": 75326734, "body": "on this case you always can cheat using an empty definition: protected optionalMethod(): string | void {};"}], "tags": [], "owner": {"reputation": 1840, "user_id": 5015774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25c3e0a507bab396470237f8de314891?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Quinto Zamora", "link": "https://stackoverflow.com/users/5015774/jos%c3%a9-quinto-zamora"}, "is_accepted": false, "score": 11, "last_activity_date": 1495620003, "last_edit_date": 1495620003, "creation_date": 1495618950, "answer_id": 44154690, "question_id": 44153378, "link": "https://stackoverflow.com/questions/44153378/typescript-abstract-optional-method/44154690#44154690", "title": "Typescript abstract optional method", "body": "<p>The concept of <strong>abstract</strong> is something which is not defined but will be in the inherited classes. That is why <strong>we can't have abstract methods without implementation</strong>.</p>\n\n<p>I suggest you to create non-abstract method already implemented in your base class to achieve your goal:</p>\n\n<pre><code>abstract class A {\n    protected abstract requiredMethod(): string;\n    protected emptyDefinition(): string | void {};\n    protected optionalMethod(): string {\n        return \"something optional\";\n     };\n}\nclass B extends A {\n    protected requiredMethod(): string {\n        return \"something required\";\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5169, "user_id": 841832, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/icYx2.jpg?s=128&g=1", "display_name": "Mike Richards", "link": "https://stackoverflow.com/users/841832/mike-richards"}, "edited": false, "score": 0, "creation_date": 1588521049, "post_id": 58478028, "comment_id": 108923207, "body": "At least in TypeScript 3.8.3 (don&#39;t know when this first became available), you can now omit the optional method from the child class. It&#39;s treated as undefined by default."}], "tags": [], "owner": {"reputation": 193, "user_id": 2287586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1c61a5823ce5155c4b5b67e5c0e59d1?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/2287586/renato"}, "is_accepted": false, "score": 6, "last_activity_date": 1571613002, "creation_date": 1571613002, "answer_id": 58478028, "question_id": 44153378, "link": "https://stackoverflow.com/questions/44153378/typescript-abstract-optional-method/58478028#58478028", "title": "Typescript abstract optional method", "body": "<p>Typescript doesn't support the \"omission\" of optional abstract functions, but you can explicitly leave it undefined as below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class Test {\n    protected abstract optionalMethod?(): JSX.Element[];\n    protected abstract requiredMethod(): string;\n}\n\nclass MyTest extends Test {\n    protected optionalMethod: undefined;\n\n    protected requiredMethod(): string {\n        return 'requiredResult';\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user12834955"}, "edited": false, "score": 2, "creation_date": 1582706419, "post_id": 59488269, "comment_id": 106865575, "body": "upvoted - this is how React.Component is implemented when I checked thanks"}, {"owner": {"user_type": "does_not_exist", "display_name": "user12834955"}, "edited": false, "score": 2, "creation_date": 1582706479, "post_id": 59488269, "comment_id": 106865607, "body": "this should be the accepted answer - you should make it clear that the Foo names have to match - the interface the class names."}], "tags": [], "owner": {"reputation": 421, "user_id": 6898308, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-H_miXi_fcSc/AAAAAAAAAAI/AAAAAAAAABI/ixwiz4y0Xqs/photo.jpg?sz=128", "display_name": "idsbllp", "link": "https://stackoverflow.com/users/6898308/idsbllp"}, "is_accepted": false, "score": 14, "last_activity_date": 1614810732, "last_edit_date": 1614810732, "creation_date": 1577362110, "answer_id": 59488269, "question_id": 44153378, "link": "https://stackoverflow.com/questions/44153378/typescript-abstract-optional-method/59488269#59488269", "title": "Typescript abstract optional method", "body": "<p>You can do this with <code>class</code> and <code>interface</code> merging:</p>\n<pre class=\"lang-js prettyprint-override\"><code>interface Foo {\n   print?(l: string): void;\n}\n\nabstract class Foo {\n  abstract baz(): void;\n\n  foo() {\n    this.print &amp;&amp; this.print('foo');\n  }\n}\n\nclass Bar extends Foo {\n  baz(): void {\n    if (this.print) {\n      this.print('bar');\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://www.typescriptlang.org/play/?ssl=19&amp;ssc=2&amp;pln=1&amp;pc=1#code/JYOwLgpgTgZghgYwgAgGIHt3IN4FgBQyRADlKGAPwAUANgFzIDOYZIA5gJQMBu6wAJgG4CAXwIE4AI2ZREYZAhpxGjNJhwEiUmXOSS4ALypdkvAcPybkMTMY2EiyMAAtgjAHSlyyAGQ+nrh5e4FQA5DbooRwWRGL4cQSKyqoAQnBQyBAAHpAg-KoYWHgO+kYmZvz2jsjAMMhULm6erGAcVdUBTcFgYfpQUTGOcbGiBEA\" rel=\"noreferrer\">Link to the above code in the Typescript playground</a></p>\n"}], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10519, "favorite_count": 1, "answer_count": 3, "score": 14, "last_activity_date": 1614810732, "creation_date": 1495615593, "last_edit_date": 1495616572, "question_id": 44153378, "link": "https://stackoverflow.com/questions/44153378/typescript-abstract-optional-method", "title": "Typescript abstract optional method", "body": "<p>I have an abstract class with some abstract methods. Is there a way to mark some of these methods as optional?</p>\n\n<pre><code>abstract class Test {\n    protected abstract optionalMethod?(): JSX.Element[];\n    protected abstract requiredMethod(): string;\n}\n</code></pre>\n\n<p>For some reasons I can add the <code>?</code> as a suffix but it seems like it does nothing at all because I have to still implement the method in the derived class. For now I am using it like this to mark it that it can return <code>null</code> which is basically the poor mans optional.</p>\n\n<pre><code>protected abstract optionalMethod?(): JSX.Element[] | null;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "npm", "package", "webpack-2"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495620118, "post_id": 44152912, "comment_id": 75326840, "body": "Are you sure of the relative path <code>import { Header, IHeaderActions, IHeaderProps } from &#39;..&#47;blocks&#39;;</code> ?"}, {"owner": {"reputation": 837, "user_id": 3576752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9a02134c24d4e2df5a538ce37b8841c?s=128&d=identicon&r=PG", "display_name": "Lukas Kral", "link": "https://stackoverflow.com/users/3576752/lukas-kral"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495623429, "post_id": 44152912, "comment_id": 75329093, "body": "this is just a component that sits in the package and is used inside the layout. I didn&#39;t mention it because I wanted to keep the question as simple as possible"}], "answers": [{"tags": [], "owner": {"reputation": 837, "user_id": 3576752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9a02134c24d4e2df5a538ce37b8841c?s=128&d=identicon&r=PG", "display_name": "Lukas Kral", "link": "https://stackoverflow.com/users/3576752/lukas-kral"}, "is_accepted": true, "score": 0, "last_activity_date": 1495725881, "creation_date": 1495725881, "answer_id": 44184184, "question_id": 44152912, "link": "https://stackoverflow.com/questions/44152912/error-ts2339-property-props-does-not-exist-on-type-testpage/44184184#44184184", "title": "error TS2339: Property &#39;props&#39; does not exist on type &#39;TestPage&#39;", "body": "<p>In the end i reworked the way how package is published. I set up the build process according to the <a href=\"https://dominicstpierre.com/using-typescript-to-publish-a-testable-react-npm-package-f3811b3c64e3\" rel=\"nofollow noreferrer\">https://dominicstpierre.com/using-typescript-to-publish-a-testable-react-npm-package-f3811b3c64e3</a> article.</p>\n"}], "owner": {"reputation": 837, "user_id": 3576752, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9a02134c24d4e2df5a538ce37b8841c?s=128&d=identicon&r=PG", "display_name": "Lukas Kral", "link": "https://stackoverflow.com/users/3576752/lukas-kral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1662, "favorite_count": 0, "accepted_answer_id": 44184184, "answer_count": 1, "score": 0, "last_activity_date": 1495725881, "creation_date": 1495614260, "last_edit_date": 1495632348, "question_id": 44152912, "link": "https://stackoverflow.com/questions/44152912/error-ts2339-property-props-does-not-exist-on-type-testpage", "title": "error TS2339: Property &#39;props&#39; does not exist on type &#39;TestPage&#39;", "body": "<p>I'm using typescript abstract class as a base class of my layout component in React, the usage of that base class looks something like this:</p>\n\n<pre><code>import { IPageLayoutActions, IPageLayoutLocalState, IPageLayoutProps, PageLayoutNoSidebar } from 'pg-face/dist/layouts/PageLayoutNoSidebar';\n\nexport interface ITestPageProps extends IPageLayoutProps\n{\n    loremIpsum: string;\n}\nexport interface ITestPageActions extends IPageLayoutActions {}\ninterface ITestPageLocalState extends IPageLayoutLocalState {}\n\nexport\nclass TestPage\nextends PageLayoutNoSidebar&lt;ITestPageProps &amp;&amp; ITestPageActions, ITestPageLocalState&gt;\n{\n    renderPageContent() {\n        return &lt;span&gt;{ this.props.loremIpsum }&lt;/span&gt;;\n    }\n}\n</code></pre>\n\n<p>The PageLayoutNoSidebar component actually extends another class called PageLayout, which is a base class for all layouts in my application. It works when everything is inside one project.</p>\n\n<p>Now I wanted to move all these layout files into separate npm module to be reusable across all my applications (I'm just testing it so I'm loading the package from local directory). So I created a package, transpiled the typecscript code into js and definition files using \"tsc -d -p ./\". These files are stored in the dist dir of the package. Then I updated the package in my project dir.</p>\n\n<p>After that, when I try to use this class in my project, I got</p>\n\n<pre><code>error TS2339: Property 'props' does not exist on type 'TestPage'\n</code></pre>\n\n<p>I figured out that when PageLayoutNoSidebar doesn't extend PageLayout (I copied all the code from PageLayout directly into the PageLayoutNoSidebar), this problem disappears, so I guess there is some problem with exports.</p>\n\n<p>Do you have any idea what could be wrong with the code?</p>\n\n<p>This is how the code of these classes looks like:</p>\n\n<p>PageLayout.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport { Header, IHeaderActions, IHeaderProps } from '../blocks';\n\nexport interface IPageLayoutProps extends IHeaderProps {}\nexport interface IPageLayoutActions extends IHeaderActions {}\nexport interface IPageLayoutLocalState {\n    headerCollapsed: boolean;\n}\n\nexport\nabstract class PageLayout&lt;P extends IPageLayoutProps &amp; IPageLayoutActions, S extends IPageLayoutLocalState&gt;\nextends React.Component&lt;P, S&gt;\n{\n    abstract render(): JSX.Element\n\n    renderPageHeader() {\n        return (\n            &lt;Header\n                headerCollapsed={this.state.headerCollapsed}\n                mainMenuItems={this.props.mainMenuItems}\n                onHeaderToggle={this._toggleHeader}\n            /&gt;\n        );\n    }\n\n    renderPageContent(): JSX.Element | null {\n        return null;\n    }\n\n    _toggleHeader = (headerCollapsed: boolean) =&gt; {\n        this.setState({\n            headerCollapsed\n        });\n    }\n\n    //...\n}\n</code></pre>\n\n<p>PageLayoutNoSidebar.tsx</p>\n\n<pre><code>import * as React from 'react';\nimport { IPageLayoutActions, IPageLayoutLocalState, IPageLayoutProps, PageLayout } from './PageLayout';\n\nexport\nclass PageLayoutNoSidebar&lt;P extends IPageLayoutProps &amp; IPageLayoutActions, S extends IPageLayoutLocalState&gt;\nextends PageLayout&lt;P, S&gt;\n{\n    render() {\n        return (\n            &lt;div&gt;\n                {this.renderPageHeader()}\n                &lt;main className=\"container-narrow\"&gt;\n                    {this.renderPageContent()}\n                &lt;/main&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "rxjs5"], "comments": [{"owner": {"reputation": 19325, "user_id": 67505, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/094c0ec476b95ed7619d6a4cb918da78?s=128&d=identicon&r=PG", "display_name": "Chen Kinnrot", "link": "https://stackoverflow.com/users/67505/chen-kinnrot"}, "edited": false, "score": 0, "creation_date": 1495614340, "post_id": 44152835, "comment_id": 75322721, "body": "Who initialize the sample component"}], "answers": [{"tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 3, "last_activity_date": 1495614332, "creation_date": 1495614332, "answer_id": 44152942, "question_id": 44152835, "link": "https://stackoverflow.com/questions/44152835/observable-start-to-emit-conditionally/44152942#44152942", "title": "Observable - start to emit conditionally", "body": "<p>It looks like you could in your <code>asObservable()</code> method always return an Observable and just suppress emissions using the <code>skipUntil()</code> operator until <code>currentUserBehaviorSubject</code> emits (I guess that's how you know CurrentUser has been initialized):</p>\n\n<pre><code>public asObservable(): Observable&lt;CurrentUser&gt; {\n    return this.currentUser$\n        .skipUntil(this.currentUserBehaviorSubject);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1495615597, "creation_date": 1495615597, "answer_id": 44153379, "question_id": 44152835, "link": "https://stackoverflow.com/questions/44152835/observable-start-to-emit-conditionally/44153379#44153379", "title": "Observable - start to emit conditionally", "body": "<p>How I see that : </p>\n\n<pre><code>export class CurrentUser {\n    subject: Subject&lt;CurrentUser&gt; = new Subject&lt;CurrentUser&gt;();\n    observable: Observable&lt;CurrentUser = this.subject.asObservable();\n\n    constructor() {\n        // Do your business\n        this.subject.next(this);\n    }\n}\n</code></pre>\n\n<p>And in your components, just subscribe to the <code>observable</code> property.</p>\n\n<p>This way, when you initialize a new CurrentUser, your observers are notified. Is it what you want, or did I misunderstood ? </p>\n"}], "owner": {"reputation": 523, "user_id": 502999, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/4a8465f98bcd24202adf3af9f9791037?s=128&d=identicon&r=PG&f=1", "display_name": "marin", "link": "https://stackoverflow.com/users/502999/marin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 0, "accepted_answer_id": 44152942, "answer_count": 2, "score": 1, "last_activity_date": 1495615597, "creation_date": 1495614009, "last_edit_date": 1495614723, "question_id": 44152835, "link": "https://stackoverflow.com/questions/44152835/observable-start-to-emit-conditionally", "title": "Observable - start to emit conditionally", "body": "<p>Is there a way to start emitting values conditionally from an observable? In my case, subscribers of the <code>.asObservable()</code> function should only get a first value AFTER <code>CurrentUser</code> has been initialized.</p>\n\n<pre><code>export class CurrentUser {\n\n    private currentUser$: Observable&lt;CurrentUser&gt;;\n    private currentUserBehaviorSubject: BehaviorSubject&lt;CurrentUser&gt;;\n\n    public name: string = \"\";\n\n    constructor() {\n        this.currentUserBehaviorSubject = new BehaviorSubject(this);\n        this.currentUser$ = this.currentUserBehaviorSubject.asObservable();\n    }\n\n    public asObservable(): Observable&lt;CurrentUser&gt; {\n        // \n        if(user.name.length &gt; 0){\n            return this.currentUser$;\n        }\n        else {\n            // ?????\n        }\n    }\n\n    public initialize(string name){\n        this.name = name;\n        this.currentUserBehaviorSubject.next(this);\n    }\n}\n\nexport class SampleComponent {\n    constructor(\n        currentUser: CurrentUser\n    ) {\n        currentUser.asObservable().subscribe(\n            (u: CurrentUser) =&gt; {\n                // i only want an INITIALIZED user here\n            },\n            error =&gt; {},\n            () =&gt; { }\n        );\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 2760, "user_id": 5629013, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/Dc9RT.jpg?s=128&g=1", "display_name": "varun aaruru", "link": "https://stackoverflow.com/users/5629013/varun-aaruru"}, "is_accepted": false, "score": 28, "last_activity_date": 1495614526, "last_edit_date": 1495614526, "creation_date": 1495614147, "answer_id": 44152875, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/44152875#44152875", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p><strong><code>npm install -g ionic@version_number</code></strong>   </p>\n\n<p>ex: if you want to install ionic 2.5.0,</p>\n\n<p><strong><code>npm install -g ionic@2.5.0</code></strong></p>\n\n<p>edit: to list all versions of ionic, <strong><code>npm info ionic</code></strong></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 2291071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b2e0e0d7a8b99a1c4e2f888018e5571?s=128&d=identicon&r=PG", "display_name": "Peter Ye", "link": "https://stackoverflow.com/users/2291071/peter-ye"}, "is_accepted": false, "score": 4, "last_activity_date": 1505270193, "creation_date": 1505270193, "answer_id": 46187960, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/46187960#46187960", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>You may try uninstalling it first: <code>npm uninstall -g ionic</code>\nthen install it again with the version that you want to install <code>npm install -g ionic@x.x.x</code></p>\n\n<p>then check ionic version with <code>ionic --version</code> you may need to restart your terminal to get the latest version running</p>\n"}, {"tags": [], "owner": {"reputation": 1335, "user_id": 7697921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba706dc389d5f6f73fd35514eccd5c7d?s=128&d=identicon&r=PG&f=1", "display_name": "Diluk Angelo", "link": "https://stackoverflow.com/users/7697921/diluk-angelo"}, "is_accepted": false, "score": 13, "last_activity_date": 1537339882, "last_edit_date": 1537339882, "creation_date": 1505273585, "answer_id": 46188419, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/46188419#46188419", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>You can downgrade to your old version by running below command:</p>\n\n<pre><code>npm install -g ionic@3.9.2\n</code></pre>\n\n<p>Get your version here </p>\n\n<p><a href=\"https://github.com/ionic-team/ionic-cli/blob/master/CHANGELOG.md\" rel=\"noreferrer\">IONIC CLI VERSIONS</a></p>\n"}, {"tags": [], "owner": {"reputation": 50111, "user_id": 1077309, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/yghA4.jpg?s=128&g=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/1077309/sampath"}, "is_accepted": false, "score": 1, "last_activity_date": 1508986723, "creation_date": 1508986723, "answer_id": 46945165, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/46945165#46945165", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>You just need to do like this:</p>\n\n<pre><code>npm install -g ionic@3.1.0\n</code></pre>\n\n<p><a href=\"https://github.com/ionic-team/ionic-cli/blob/master/CHANGELOG.md\" rel=\"nofollow noreferrer\"><strong>Changelog</strong></a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11075880, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-am89FdwckqE/AAAAAAAAAAI/AAAAAAAAAdM/lOsQb_nKc3Q/photo.jpg=k-s128", "display_name": "RKAISSI Youssef", "link": "https://stackoverflow.com/users/11075880/rkaissi-youssef"}, "is_accepted": false, "score": 2, "last_activity_date": 1561488629, "creation_date": 1561488629, "answer_id": 56760342, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/56760342#56760342", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>First thing first, uninstall the current version:</p>\n\n<pre><code>    npm uninstall -g ionic\n</code></pre>\n\n<p>then, install the version you want :</p>\n\n<pre><code>   npm install -g ionic@\"the version for example @3.20.0\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5779050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4022e81881e41ca605ca739bdce187ee?s=128&d=identicon&r=PG&f=1", "display_name": "Aayushi Singh", "link": "https://stackoverflow.com/users/5779050/aayushi-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1601477995, "creation_date": 1601477995, "answer_id": 64140381, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had/64140381#64140381", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>Sometimes it throws error while overwriting the existing files , so add <code>--force</code></p>\n<p>Ex, If you want to downgrade to version 3.20, run:\n<code>npm i -g ionic@3.20 --force</code></p>\n"}], "owner": {"reputation": 149, "user_id": 8057814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c379395e4bdd73dc334facf1d9dea?s=128&d=identicon&r=PG&f=1", "display_name": "John Wihter", "link": "https://stackoverflow.com/users/8057814/john-wihter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44133, "favorite_count": 4, "answer_count": 6, "score": 13, "last_activity_date": 1608423474, "creation_date": 1495613747, "last_edit_date": 1608423474, "question_id": 44152737, "link": "https://stackoverflow.com/questions/44152737/how-can-i-downgrade-my-ionic-cli-to-the-previous-version-i-had", "title": "How can I downgrade my ionic cli to the previous version, I had?", "body": "<p>The recent version is <code>3.2.0</code> and I'm facing lot's of issues with it like the <code>ionic serve</code> command not working.</p>\n"}, {"tags": ["typescript", "ionic-framework", "ionic2", "ionic-view"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495614572, "post_id": 44152467, "comment_id": 75322877, "body": "can you add the component where this is happening to the question?"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495618202, "post_id": 44152467, "comment_id": 75325387, "body": "@suraj <a href=\"https://ghostbin.com/paste/2gzdf#L246\" rel=\"nofollow noreferrer\">ghostbin.com/paste/2gzdf#L246</a>"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495618300, "post_id": 44152467, "comment_id": 75325443, "body": "<code>constructor(public connectivityService: Connectivity) {</code> doesnt look like you injected in constructor.. add the code by editing the question"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495618905, "post_id": 44152467, "comment_id": 75325916, "body": "The NavController is not injected in the code you are showing"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619071, "post_id": 44152467, "comment_id": 75326031, "body": "@suraj Because I removed it after getting the error that&#39;s why I&#39;m asking for another solution! here is the unedited version <a href=\"https://ghostbin.com/paste/k8tcd\" rel=\"nofollow noreferrer\">ghostbin.com/paste/k8tcd</a> Same error"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619251, "post_id": 44152467, "comment_id": 75326165, "body": "you cant inject NavController in a provider.. You will have to use it from a component.."}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619327, "post_id": 44152467, "comment_id": 75326233, "body": "@suraj Can you help me with that?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619360, "post_id": 44152467, "comment_id": 75326267, "body": "add the related code to the question.. not a separate link"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619415, "post_id": 44152467, "comment_id": 75326311, "body": "@suraj I can&#39;t add 300 lines of code to SO it&#39;ll give error"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495619893, "post_id": 44152467, "comment_id": 75326679, "body": "ok show where you are calling the function?"}], "answers": [{"comments": [{"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1495958681, "post_id": 44168197, "comment_id": 75460228, "body": "No Provider for NavController error in tabs class (although already have navcontroller in my tabs class)"}], "tags": [], "owner": {"reputation": 1190, "user_id": 2745345, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0ac95b6fae8a5d39351d321dbe4c2e5b?s=128&d=identicon&r=PG&f=1", "display_name": "CocoHot", "link": "https://stackoverflow.com/users/2745345/cocohot"}, "is_accepted": false, "score": 1, "last_activity_date": 1496263335, "last_edit_date": 1496263335, "creation_date": 1495658935, "answer_id": 44168197, "question_id": 44152467, "link": "https://stackoverflow.com/questions/44152467/how-to-pass-data-between-provider-and-page/44168197#44168197", "title": "How to pass data between provider and page?", "body": "<p><strong>Update:</strong></p>\n\n<p>Oops I didn't notice that you are using a service. Pablo Albaladejo's right. You cannot use NavController in a service because that will potentially break the nav stack or make it really confusing.</p>\n\n<p>One way to walk around is to load the <code>App</code> as Pablo suggested.</p>\n\n<p>Another way is to use <code>Events</code> that Ionic provide to communicate between the views. I personally like it because this give me more freedom to not tie the service to just only one view.</p>\n\n<p><a href=\"https://ionicframework.com/docs/api/util/Events/\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/util/Events/</a></p>\n\n<p><strong>Original</strong></p>\n\n<p>You're on the right path. All you need is to import <code>NavParams</code></p>\n\n<p><code>import { NavController, NavParams } from 'ionic-angular';</code></p>\n\n<p>contructor:</p>\n\n<p><code>constructor(private navController: NavController, private navParams: NavParams)</code></p>\n\n<p>so in your case when you push a view</p>\n\n<pre><code>this.navController.push(ListPage, {\n    lat: lat1, lon: lon1\n});\n</code></pre>\n\n<p>And now you can access the params:</p>\n\n<pre><code>this.lat = navParams.get('lat');\nthis.lot = navParams.get('lot');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496180495, "post_id": 44270894, "comment_id": 75552681, "body": "Thanks, imported succesfully, but couldn&#39;t manage to push to data to ListPage this this time (and access it for sure)"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496209729, "post_id": 44270894, "comment_id": 75560324, "body": "I&#39;m tryimg to pass the latitude and longitude that I get when i click somewhere on the map"}, {"owner": {"reputation": 2394, "user_id": 3395884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rz73.jpg?s=128&g=1", "display_name": "Pablo Albaladejo", "link": "https://stackoverflow.com/users/3395884/pablo-albaladejo"}, "reply_to_user": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496224951, "post_id": 44270894, "comment_id": 75570014, "body": "there is no <code>this.navCtrl.push(...)</code> at the code your provided (<a href=\"https://ghostbin.com/paste/2gzdf\" rel=\"nofollow noreferrer\">ghostbin.com/paste/2gzdf</a>) Is not possible to figure out where the error is with an incomplete information. Please, provide the code where you  &#39;couldn&#39;t manage to push to data to ListPage&#39;"}, {"owner": {"reputation": 2394, "user_id": 3395884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rz73.jpg?s=128&g=1", "display_name": "Pablo Albaladejo", "link": "https://stackoverflow.com/users/3395884/pablo-albaladejo"}, "reply_to_user": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496234031, "post_id": 44270894, "comment_id": 75576518, "body": "<code>navController</code> function is not delcared at you class (so should throw a compiler error). Please, add <code>get navController(): NavController {    return this.app.getActiveNav(); }</code> function to the class, as I stated at my first ansewer. The <code>import { App } from &#39;ionic-angular&#39;</code> import is also missed..."}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496256706, "post_id": 44270894, "comment_id": 75591567, "body": "I know that&#39;s the old code I just wanted to show where did I try to push lat and long values. I still get an error when I do these things  <a href=\"https://ghostbin.com/paste/jb3on\" rel=\"nofollow noreferrer\">ghostbin.com/paste/jb3on</a>"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496297310, "post_id": 44270894, "comment_id": 75604656, "body": "Yep I&#39;ve pushed the value <code>this.navCtrl.push(ListPage, {     lat: lat1, lon: lon1   });</code>   now If only I get these values in ListPage..."}, {"owner": {"reputation": 2394, "user_id": 3395884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rz73.jpg?s=128&g=1", "display_name": "Pablo Albaladejo", "link": "https://stackoverflow.com/users/3395884/pablo-albaladejo"}, "reply_to_user": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496322834, "post_id": 44270894, "comment_id": 75622361, "body": "At ListPage constructor: <code>constructor(public navParams: NavParams){ let lat = this.navParams.get(&#39;lat&#39;); let lon = this.navParams.get(&#39;lon&#39;); console.log(lat,lon); }</code>"}, {"owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "edited": false, "score": 0, "creation_date": 1496325435, "post_id": 44270894, "comment_id": 75624427, "body": "I think this should be in Ionic&#39;s official documentation. Literally no information about provider--&gt;page communication out there"}], "tags": [], "owner": {"reputation": 2394, "user_id": 3395884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5rz73.jpg?s=128&g=1", "display_name": "Pablo Albaladejo", "link": "https://stackoverflow.com/users/3395884/pablo-albaladejo"}, "is_accepted": true, "score": 2, "last_activity_date": 1496325712, "last_edit_date": 1496325712, "creation_date": 1496174394, "answer_id": 44270894, "question_id": 44152467, "link": "https://stackoverflow.com/questions/44152467/how-to-pass-data-between-provider-and-page/44270894#44270894", "title": "How to pass data between provider and page?", "body": "<p>Is not possible to call <code>NavController</code> from an <code>@Injectable()</code> constructor.</p>\n\n<p>1) Remove <code>private navController: NavController</code> from constructor.</p>\n\n<p>2) Add <code>import { App } from 'ionic-angular';</code> and </p>\n\n<p><code>constructor(public connectivityService: Connectivity, public app: App)</code></p>\n\n<p>3) add this function</p>\n\n<pre><code>get navCtrl(): NavController {\n   return this.app.getActiveNav();\n}\n</code></pre>\n\n<p>4)</p>\n\n<pre><code>this.navCtrl.push(ListPage, { lat: lat1, lon: lon1 });\n</code></pre>\n\n<p>5) At ListPage</p>\n\n<pre><code>constructor(public navParams: NavParams){\nlet lat = this.navParams.get('lat'); \nlet lon = this.navParams.get('lon'); \nconsole.log(lat,lon); \n}\n</code></pre>\n"}], "owner": {"reputation": 4902, "user_id": 6683139, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EOrQR.jpg?s=128&g=1", "display_name": "Ege Kuzubasioglu", "link": "https://stackoverflow.com/users/6683139/ege-kuzubasioglu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1476, "favorite_count": 1, "accepted_answer_id": 44270894, "answer_count": 2, "score": 0, "last_activity_date": 1547023268, "creation_date": 1495613048, "last_edit_date": 1547023268, "question_id": 44152467, "link": "https://stackoverflow.com/questions/44152467/how-to-pass-data-between-provider-and-page", "title": "How to pass data between provider and page?", "body": "<p>I'm trying to get latitude and longtitute values from google maps provider and pass them to my ListPage but I couldn't do it with NavController. </p>\n\n<p>imported navController:</p>\n\n<pre><code>import {NavController, NavParams} from 'ionic-angular';\n</code></pre>\n\n<p>imported ListPage:</p>\n\n<pre><code>import { ListPage } from '../pages/list/list';\n</code></pre>\n\n<p>constructor:</p>\n\n<pre><code>constructor(private navController: NavController, private navParams: NavParams)\n</code></pre>\n\n<p>code: </p>\n\n<pre><code> this.navController.push(ListPage, {\n    lat: lat1, lon: lon1\n});\n</code></pre>\n\n<p>Everything looks fine but I get this </p>\n\n<blockquote>\n  <p>No Provider for NavController</p>\n</blockquote>\n\n<p>error.</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux", "typescript2.0"], "comments": [{"owner": {"reputation": 10585, "user_id": 3505900, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f97fa5f3c78a38e538f0e415ffaa5e82?s=128&d=identicon&r=PG", "display_name": "unional", "link": "https://stackoverflow.com/users/3505900/unional"}, "edited": false, "score": 0, "creation_date": 1495613080, "post_id": 44152295, "comment_id": 75321877, "body": "Likely related: <a href=\"https://github.com/Microsoft/TypeScript/issues/13580\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/13580</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2924, "user_id": 747768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nyu91.jpg?s=128&g=1", "display_name": "Kirill Dmitrenko", "link": "https://stackoverflow.com/users/747768/kirill-dmitrenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1495632906, "last_edit_date": 1495632906, "creation_date": 1495618241, "answer_id": 44154433, "question_id": 44152295, "link": "https://stackoverflow.com/questions/44152295/string-is-not-assignable-to-keyof-readonlyt-typescript/44154433#44154433", "title": "String is not assignable to keyof Readonly&lt;T&gt; typescript", "body": "<p>Type of <code>{filter: 'showAll'}</code> expression is <code>{filter: string}</code>, which is wider that <code>state</code>'s type. That's because <code>string</code> is a wider type (supertype) of <code>'showAll' | 'showActive' | 'showCompleted'</code> (the type of <code>filter</code> property in the state). It seems that you'll need to use a type cast:</p>\n\n<pre><code>state = &lt;MainSectionState&gt;{filter: 'showAll'};\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7353337, "user_type": "registered", "profile_image": "https://graph.facebook.com/1341877339195680/picture?type=large", "display_name": "Poldet Assanangkornchai", "link": "https://stackoverflow.com/users/7353337/poldet-assanangkornchai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1715, "favorite_count": 0, "accepted_answer_id": 44154433, "answer_count": 1, "score": 1, "last_activity_date": 1495632906, "creation_date": 1495612516, "question_id": 44152295, "link": "https://stackoverflow.com/questions/44152295/string-is-not-assignable-to-keyof-readonlyt-typescript", "title": "String is not assignable to keyof Readonly&lt;T&gt; typescript", "body": "<p>I have problem on assigning string into react component state using typescript</p>\n\n<pre><code>export default class MainSection extends React.Component&lt;{}, MainSectionState&gt; {\n    state = {\n        filter: 'showAll'\n    };\n}\n\ninterface MainSectionState {\n    filter: keyof TodoFilter;\n}\n\ntype TodoFilterCallback = (todo: Todo) =&gt; boolean;\ntype TodoFilter = { \n    showAll: TodoFilterCallback,\n    showActive: TodoFilterCallback,\n    showCompleted: TodoFilterCallback,\n};\n</code></pre>\n\n<p>In this case it should be okay to initial assign filter with 'showAll', but throw compile error below </p>\n\n<pre><code>error TS2415: Class 'MainSection' incorrectly extends base class 'Component&lt;MainSectionProps, MainSectionState&gt;'.\n  Types of property 'state' are incompatible.\n    Type '{ filter: string; }' is not assignable to type 'Readonly&lt;MainSectionState&gt;'.\n      Types of property 'filter' are incompatible.\n        Type 'string' is not assignable to type '\"showAll\" | \"showActive\" | \"showCompleted\"'.\n</code></pre>\n\n<p>What should i do with this problem?. i'm using typescript 2.3.2, react 15.5.4, redux 3.6, and react-redux 5.0.5</p>\n\n<p>Thank you</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495612731, "post_id": 44152289, "comment_id": 75321657, "body": "I will edit your question because your tags are off topic. But use <code>let today = new TimeInModel();</code>, then <code>today.date_today = new Date();</code> and so on."}], "answers": [{"comments": [{"owner": {"reputation": 1246, "user_id": 8047262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qM3k1.png?s=128&g=1", "display_name": "7guyo", "link": "https://stackoverflow.com/users/8047262/7guyo"}, "edited": false, "score": 0, "creation_date": 1495625008, "post_id": 44152561, "comment_id": 75330135, "body": "Exactly what I wanted. @trichetriche Thanks!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": true, "score": 0, "last_activity_date": 1495613286, "creation_date": 1495613286, "answer_id": 44152561, "question_id": 44152289, "link": "https://stackoverflow.com/questions/44152289/i-want-the-variables-to-hold-only-current-date-and-time-separately/44152561#44152561", "title": "I want the variables to hold only current date and time separately", "body": "<p>After reading your question more thoroughly, I can provide you with this answer : </p>\n\n<pre><code>export class TimeInModel {\n    public date_today: string; // Because Date is a timestamp\n    public time_in: string; // Same cause\n    public check_status: boolean;\n    constructor() {\n        let today = new Date();\n        this.date_today = `${today.getDate()}/${today.getMonth() + 1}/${today.getYear()}`;\n        this.time_in = `${today.getHours()}:${today.getMinutes()}:${today.getSeconds()}`;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1246, "user_id": 8047262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qM3k1.png?s=128&g=1", "display_name": "7guyo", "link": "https://stackoverflow.com/users/8047262/7guyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 44152561, "answer_count": 1, "score": -1, "last_activity_date": 1495617091, "creation_date": 1495612486, "last_edit_date": 1495617091, "question_id": 44152289, "link": "https://stackoverflow.com/questions/44152289/i-want-the-variables-to-hold-only-current-date-and-time-separately", "title": "I want the variables to hold only current date and time separately", "body": "<p>I have a a model class that looks like:</p>\n\n<pre><code>export class TimeInModel{\n    //to store only date as  --mm/dd/yyy\n    public date_today:Date;\n    //to store time as --HH/mm/ss\n    public time_in:Date;\n    public check_status:boolen;\n    constructor(){}\n}\n</code></pre>\n\n<p>From <code>date_today</code>, I only want to pass the current date (mm/dd/yyy) and from <code>time_in</code>, only time (hh/mm/ss).</p>\n\n<p>How do I go about this in the same class or in the component.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1495620868, "post_id": 44152084, "comment_id": 75327353, "body": "There&#39;s <a href=\"https://github.com/Microsoft/TypeScript/issues/4183\" rel=\"nofollow noreferrer\">suggestion</a> for subtraction types"}], "answers": [{"tags": [], "owner": {"reputation": 37890, "user_id": 51, "user_type": "moderator", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c55f4bccc99a9d23cd4f42c237eec90b?s=128&d=identicon&r=PG", "display_name": "Yaakov Ellis", "link": "https://stackoverflow.com/users/51/yaakov-ellis"}, "is_accepted": false, "score": 0, "last_activity_date": 1495615605, "creation_date": 1495615605, "answer_id": 44153384, "question_id": 44152084, "link": "https://stackoverflow.com/questions/44152084/typescript-type-exclusion/44153384#44153384", "title": "Typescript Type Exclusion?", "body": "<p>If there is a limited set of string values that are allowable, then you could use string literals to define them in the type</p>\n\n<pre><code>type ValidIndices = \"a\" | \"b\" | \"c\" ...\n</code></pre>\n\n<p>However, I do not think that the functionality that you are looking for exists right now as part of a type definition. </p>\n\n<p>You can of course achieve this through code in your implementation of <code>MyInterface</code> to make sure that the illegal values aren't used. But you can't make it part of the type definition itself (other than string literals, which you probably dont want).</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8641782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLLj6.jpg?s=128&g=1", "display_name": "justerest", "link": "https://stackoverflow.com/users/8641782/justerest"}, "is_accepted": false, "score": 1, "last_activity_date": 1509987051, "last_edit_date": 1509987051, "creation_date": 1509982826, "answer_id": 47140572, "question_id": 44152084, "link": "https://stackoverflow.com/questions/44152084/typescript-type-exclusion/47140572#47140572", "title": "Typescript Type Exclusion?", "body": "<p>It's not a fully answer. But if you want to set exclusion for contsructor params you can use code like this:</p>\n\n<pre><code>declare type Params&lt;T, K extends keyof T = never, D extends keyof T = never&gt; = (\n  {[P in K]: T[P]} &amp;\n  {[P in keyof T]?: T[P]} &amp;\n  {[P in D]?: undefined }\n)\n...\nclass Control{\n  prop1: number\n  prop2: number\n  prop3: number\n  prop4: number\n\n  constructor(params: Params&lt;Control, 'prop1' | 'prop2', 'prop4'&gt;){\n    Object.assign(this, params)\n...\n</code></pre>\n\n<p>And you get: </p>\n\n<pre><code>params: {\n  prop1: number\n  prop2: number\n  prop3?: number\n  prop4?: undefined\n}\n</code></pre>\n"}], "owner": {"reputation": 2099, "user_id": 5996289, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9a57c0a527e0a648ab903379a9bdb6a2?s=128&d=identicon&r=PG&f=1", "display_name": "Serge Intern", "link": "https://stackoverflow.com/users/5996289/serge-intern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 962, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1509987051, "creation_date": 1495611925, "last_edit_date": 1495615458, "question_id": 44152084, "link": "https://stackoverflow.com/questions/44152084/typescript-type-exclusion", "title": "Typescript Type Exclusion?", "body": "<p>I know of type union &amp; type intersection in type script but I couldn't find a syntax or workaround to use type exclusion. Is there a way to do that?</p>\n\n<pre><code>type ValidIndices = string ^ '_reservedProperty'; // All strings but '_reservedProperty'\ninterface MyInterface {\n    [property: ValidIndices]: number;\n    _reservedProperty: any;\n}\n</code></pre>\n"}, {"tags": ["cordova", "typescript", "plugins", "ionic2", "typescript-typings"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495610244, "post_id": 44151475, "comment_id": 75319838, "body": "<a href=\"http://ionicframework.com/docs/native/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native</a> you should use ionic native.. typings is deprecated"}], "answers": [{"tags": [], "owner": {"reputation": 721, "user_id": 3243642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d045554c09ff49dda217da1c9a0e01?s=128&d=identicon&r=PG&f=1", "display_name": "Jamil", "link": "https://stackoverflow.com/users/3243642/jamil"}, "is_accepted": false, "score": 0, "last_activity_date": 1495612446, "creation_date": 1495612446, "answer_id": 44152277, "question_id": 44151475, "link": "https://stackoverflow.com/questions/44151475/typescript-error-cannot-find-name-cordova/44152277#44152277", "title": "Typescript Error: Cannot find name &#39;cordova&#39;", "body": "<p>You have to declare <code>cordova</code> namespace in <code>src/declarations.d.ts</code> file so the typescript transpiler can understand that cordova is declared and referred to Object, but in your case if you want to use a plugin, its better to use <a href=\"http://ionicframework.com/docs/native/\" rel=\"nofollow noreferrer\">ionic-native</a> and if the plugin is not listed there, declare the namespace of the plugin and use it.</p>\n"}, {"tags": [], "owner": {"reputation": 2473, "user_id": 6056359, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ca9fU.jpg?s=128&g=1", "display_name": "Isaac Obella", "link": "https://stackoverflow.com/users/6056359/isaac-obella"}, "is_accepted": true, "score": 20, "last_activity_date": 1495612883, "last_edit_date": 1495612883, "creation_date": 1495612487, "answer_id": 44152291, "question_id": 44151475, "link": "https://stackoverflow.com/questions/44151475/typescript-error-cannot-find-name-cordova/44152291#44152291", "title": "Typescript Error: Cannot find name &#39;cordova&#39;", "body": "<p>I have edited your code adding the <code>declare let cordova: any;</code> This exposes the cordova api for use.Hope this helps.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Component} from '@angular/core';\r\nimport {NavController, Platform, AlertController} from 'ionic-angular';\r\nimport {Transfer, TransferObject} from '@ionic-native/transfer';\r\nimport {File} from '@ionic-native/file';\r\n\r\ndeclare let cordova: any;\r\n\r\n@Component({\r\n  selector: 'page-about',\r\n  templateUrl: 'about.html',\r\n  providers: [Transfer, TransferObject, File]\r\n})\r\nexport class AboutPage {\r\n\r\n  storageDirectory: string = '';\r\n\r\n  constructor(public navCtrl: NavController, public platform: Platform, private transfer: Transfer, private file: File, public alertCtrl: AlertController) {\r\n    this.platform.ready().then(() =&gt; {\r\n      // make sure this is on a device, not an emulation (e.g. chrome tools device mode)\r\n      if(!this.platform.is('cordova')) {\r\n        return false;\r\n      }\r\n\r\n      if (this.platform.is('ios')) {\r\n        this.storageDirectory = cordova.file.documentsDirectory;\r\n      }\r\n      else if(this.platform.is('android')) {\r\n        this.storageDirectory = cordova.file.externalDataDirectory;\r\n\t\tconsole.log(this.storageDirectory);\r\n      }\r\n      else {\r\n        // exit otherwise, but you could add further types here e.g. Windows\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n  \r\n   downloadImage() {\r\n\r\n    this.platform.ready().then(() =&gt; {\r\n\r\n      const fileTransfer: TransferObject = this.transfer.create();\r\n\r\n      const imageLocation = 'http://html5demos.com/assets/dizzy.mp4';\r\n\r\n      fileTransfer.download(imageLocation, this.storageDirectory + 'dizzy.mp4').then((entry) =&gt; {\r\n       \r\n\t   const alertSuccess = this.alertCtrl.create({\r\n          title: `Download Succeeded!`,\r\n          subTitle: `successfully downloaded to: ${entry.toURL()}`,\r\n          buttons: ['Ok']\r\n        });\r\n\r\n        alertSuccess.present();\r\n\r\n      }, (error) =&gt; {\r\n\r\n        const alertFailure = this.alertCtrl.create({\r\n          title: `Download Failed!`,\r\n          subTitle: `was not downloaded. Error code: ${error}`,\r\n          buttons: ['Ok']\r\n        });\r\n\r\n        alertFailure.present();\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 239, "user_id": 6852982, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/cjXpA.jpg?s=128&g=1", "display_name": "supriya chauhan", "link": "https://stackoverflow.com/users/6852982/supriya-chauhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9489, "favorite_count": 1, "accepted_answer_id": 44152291, "answer_count": 2, "score": 3, "last_activity_date": 1495612883, "creation_date": 1495610156, "last_edit_date": 1495612155, "question_id": 44151475, "link": "https://stackoverflow.com/questions/44151475/typescript-error-cannot-find-name-cordova", "title": "Typescript Error: Cannot find name &#39;cordova&#39;", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {Component} from '@angular/core';\r\nimport {NavController, Platform, AlertController} from 'ionic-angular';\r\nimport {Transfer, TransferObject} from '@ionic-native/transfer';\r\nimport {File} from '@ionic-native/file';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'page-about',\r\n  templateUrl: 'about.html',\r\n  providers: [Transfer, TransferObject, File]\r\n})\r\nexport class AboutPage {\r\n\r\n  storageDirectory: string = '';\r\n\r\n  constructor(public navCtrl: NavController, public platform: Platform, private transfer: Transfer, private file: File, public alertCtrl: AlertController) {\r\n    this.platform.ready().then(() =&gt; {\r\n      // make sure this is on a device, not an emulation (e.g. chrome tools device mode)\r\n      if(!this.platform.is('cordova')) {\r\n        return false;\r\n      }\r\n\r\n      if (this.platform.is('ios')) {\r\n        this.storageDirectory = cordova.file.documentsDirectory;\r\n      }\r\n      else if(this.platform.is('android')) {\r\n        this.storageDirectory = cordova.file.externalDataDirectory;\r\n\t\tconsole.log(this.storageDirectory);\r\n      }\r\n      else {\r\n        // exit otherwise, but you could add further types here e.g. Windows\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n  \r\n   downloadImage() {\r\n\r\n    this.platform.ready().then(() =&gt; {\r\n\r\n      const fileTransfer: TransferObject = this.transfer.create();\r\n\r\n      const imageLocation = 'http://html5demos.com/assets/dizzy.mp4';\r\n\r\n      fileTransfer.download(imageLocation, this.storageDirectory + 'dizzy.mp4').then((entry) =&gt; {\r\n       \r\n\t   const alertSuccess = this.alertCtrl.create({\r\n          title: `Download Succeeded!`,\r\n          subTitle: `successfully downloaded to: ${entry.toURL()}`,\r\n          buttons: ['Ok']\r\n        });\r\n\r\n        alertSuccess.present();\r\n\r\n      }, (error) =&gt; {\r\n\r\n        const alertFailure = this.alertCtrl.create({\r\n          title: `Download Failed!`,\r\n          subTitle: `was not downloaded. Error code: ${error}`,\r\n          buttons: ['Ok']\r\n        });\r\n\r\n        alertFailure.present();\r\n\r\n      });\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/WEnlx.png\" rel=\"nofollow noreferrer\">I am getting the error attached in screenshot.</a>I am getting error while running my project build in ionic 2, though i have installed 'typings' with below command </p>\n\n<p><code>npm install -g typings typings, install dt~cordova --save --global</code> </p>\n\n<p>and tried every possible method to remove this error, checked all cordova plugin like File, file transfer but still error is not resolving. </p>\n\n<p>Can anyone look for it.</p>\n\n<p>Here attached also the code, i dont have any idea where i am going wrong..</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495609907, "post_id": 44151335, "comment_id": 75319609, "body": "Dumb question, but did you do an <code>npm install</code> ? It seems the compiler can&#39;t find the modules."}, {"owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "edited": false, "score": 0, "creation_date": 1495609962, "post_id": 44151335, "comment_id": 75319651, "body": "I did <code>npm install</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495610073, "post_id": 44151335, "comment_id": 75319724, "body": "Okay, instead of giving you an answer, I can give you a workaround : why don&#39;t you make a new project using <code>ng init</code>, and put all your source code in it ?"}, {"owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "edited": false, "score": 0, "creation_date": 1495610998, "post_id": 44151335, "comment_id": 75320413, "body": "<code>ng init</code> is removed. Edit (March 13, 2017): ng-init was removed from the latest version of the angular cli. <a href=\"https://github.com/angular/angular-cli/pull/4628\" rel=\"nofollow noreferrer\">github.com/angular/angular-cli/pull/4628</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1495611107, "post_id": 44151335, "comment_id": 75320484, "body": "Then use <code>ng new</code>, see <a href=\"https://github.com/angular/angular-cli\" rel=\"nofollow noreferrer\">the documentation</a>"}, {"owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "edited": false, "score": 0, "creation_date": 1495611318, "post_id": 44151335, "comment_id": 75320629, "body": "Yes yes. I was just informing. I do consider your suggestion."}, {"owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "edited": false, "score": 0, "creation_date": 1495629083, "post_id": 44151335, "comment_id": 75333189, "body": "For angular-cli I had to update to 6.9.x or higher. Cli now is built around webpack rather than System.js which means there is no more <code>systemjs.config.js</code>. But any tutorial I see makes changes in <code>systemjs.config.js</code> file for integrating with <code>Django</code> which is my ultimate aim. Suggestions about any better tutorial to achieve this would be appreciated."}, {"owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "edited": false, "score": 0, "creation_date": 1495694106, "post_id": 44151335, "comment_id": 75362724, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/145091/discussion-between-phanny-and-trichetriche\">continue this discussion in chat</a>."}], "owner": {"reputation": 537, "user_id": 5077946, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/bpKPP.jpg?s=128&g=1", "display_name": "phanny", "link": "https://stackoverflow.com/users/5077946/phanny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1144, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495609926, "creation_date": 1495609797, "last_edit_date": 1495609926, "question_id": 44151335, "link": "https://stackoverflow.com/questions/44151335/error-in-angular-has-no-exported-member-ngmodule-browsermodule-routermo", "title": "Error in Angular - has no exported member &#39;NgModule&#39;, &#39;BrowserModule&#39;, &#39;RouterModule&#39;", "body": "<p>I am trying a simple angular project with Django. I have a working Django project. I am getting this error during compiling.</p>\n\n<blockquote>\n  <p>[0] app/app.module.ts(1,10): error TS2305: Module '\"/user/blah-blah/angular/node_modules/@angular/core/index\"' has no exported member 'NgModule'.<br>\n  [0] app/app.module.ts(2,10): error TS2305: Module '\"/user/blah-blah/angular/node_modules/@angular/platform-browser/index\"' has no exported member 'BrowserModule'.<br>\n  [0] app/app.module.ts(3,10): error TS2305: Module '\"/user/blah-blah/angular/node_modules/@angular/router/index\"' has no exported member 'RouterModule'.</p>\n</blockquote>\n\n<p>app.module.ts:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { RouterModule } from '@angular/router';\nimport { AppComponent } from './app.component';\nimport { DepartmentListComponent } from './department-list.component';\nimport { EmployeeListComponent } from './employee-list.component';\n\n@NgModule({\nimports:      [ \n    BrowserModule,\n    RouterModule.forRoot([\n        {path: 'departments', component: DepartmentListComponent},\n        {path: 'employees', component: EmployeeListComponent}\n    ])\n     ],\ndeclarations: [ AppComponent, DepartmentListComponent, EmployeeListComponent ], \nbootstrap:    [ AppComponent ]\n})\nexport class AppModule { } \n</code></pre>\n\n<p>I have been following <a href=\"https://www.youtube.com/watch?v=2GsVcGo9diM&amp;list=PLC3y8-rFHvwg5gEu2KF4sbGvpUqMRSBSW&amp;index=31\" rel=\"nofollow noreferrer\">this tutorial</a> for angular and <a href=\"https://4sw.in/blog/2016/django-angular2-tutorial/\" rel=\"nofollow noreferrer\">this</a> to use Django with Angular. According to one of the suggestions here in stack overflow, all rc4 has to be changed to rc5 in package.json but mine are all rc5 already. Where could I be possibly going wrong ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 536, "user_id": 2959841, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XaJW6.jpg?s=128&g=1", "display_name": "Master Yoda", "link": "https://stackoverflow.com/users/2959841/master-yoda"}, "edited": false, "score": 0, "creation_date": 1495609332, "post_id": 44151098, "comment_id": 75319253, "body": "i tried it here <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">typescriptlang.org/play/index.html</a> , I got no such error"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1495609704, "post_id": 44151098, "comment_id": 75319495, "body": "how are you compiling the code?"}, {"owner": {"reputation": 1647, "user_id": 5715298, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGJRF.jpg?s=128&g=1", "display_name": "Anatoly Strashkevich", "link": "https://stackoverflow.com/users/5715298/anatoly-strashkevich"}, "edited": false, "score": 1, "creation_date": 1495609711, "post_id": 44151098, "comment_id": 75319503, "body": "you probably did not compile it, types can only exist in ts file, do : create file myprog.ts, tsc myprog.ts, node myprog.js"}, {"owner": {"reputation": 146, "user_id": 3523031, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4a6d635aa809c49206aab0be95f30781?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/3523031/seven"}, "edited": false, "score": 0, "creation_date": 1495609778, "post_id": 44151098, "comment_id": 75319533, "body": "i compiled through : tsc filename.ts"}, {"owner": {"reputation": 146, "user_id": 3523031, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4a6d635aa809c49206aab0be95f30781?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/3523031/seven"}, "edited": false, "score": 0, "creation_date": 1495609813, "post_id": 44151098, "comment_id": 75319553, "body": "and then run using node filename.ts"}, {"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 0, "creation_date": 1495609910, "post_id": 44151098, "comment_id": 75319614, "body": "you shouldn&#39;t run the ts code... run the js code instead. :)"}, {"owner": {"reputation": 146, "user_id": 3523031, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4a6d635aa809c49206aab0be95f30781?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/3523031/seven"}, "edited": false, "score": 0, "creation_date": 1495610038, "post_id": 44151098, "comment_id": 75319698, "body": "It&#39;s working now.. Thanks AnatolyStrashkevich, toskv."}], "owner": {"reputation": 146, "user_id": 3523031, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4a6d635aa809c49206aab0be95f30781?s=128&d=identicon&r=PG&f=1", "display_name": "seven", "link": "https://stackoverflow.com/users/3523031/seven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 163, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495609061, "creation_date": 1495609061, "question_id": 44151098, "link": "https://stackoverflow.com/questions/44151098/typescript-variable-declaration-get-error", "title": "typescript variable declaration get error", "body": "<p>When i declare a variable it doesn't show any error (red mark underline). But when i run the code, i got error.  </p>\n\n<p>Below is the code: </p>\n\n<pre><code>var user: string = \"Jane User\";\nconsole.log(user);\n</code></pre>\n\n<p>Below is the error i got when compiled/running this file:</p>\n\n<pre><code>(function (exports, require, module, __filename, __dirname) { var user:string = \"Jane User\";\n                                                                  ^                          SyntaxError: Unexpected token :\nat Object.exports.runInThisContext (vm.js:76:16)\nat Module._compile (module.js:542:28)\nat Object.Module._extensions..js (module.js:579:10)\nat Module.load (module.js:487:32)\nat tryModuleLoad (module.js:446:12)\nat Function.Module._load (module.js:438:3)\nat Module.runMain (module.js:604:10)\nat run (bootstrap_node.js:394:7)\nat startup (bootstrap_node.js:149:9)\nat bootstrap_node.js:509:3\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 1, "creation_date": 1495606002, "post_id": 44150172, "comment_id": 75317434, "body": "angularjs and angular 4 <b>are not the same framework</b>.  which are you using?  one is javascript, the other is typescript."}, {"owner": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "reply_to_user": {"reputation": 21426, "user_id": 2495283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ef72b32709062aa479476844515073?s=128&d=identicon&r=PG", "display_name": "Claies", "link": "https://stackoverflow.com/users/2495283/claies"}, "edited": false, "score": 0, "creation_date": 1495606023, "post_id": 44150172, "comment_id": 75317445, "body": "I am using angular 4"}, {"owner": {"reputation": 16077, "user_id": 2708210, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EU2af.jpg?s=128&g=1", "display_name": "Rahul Singh", "link": "https://stackoverflow.com/users/2708210/rahul-singh"}, "edited": false, "score": 1, "creation_date": 1495606089, "post_id": 44150172, "comment_id": 75317477, "body": "@UmangPatwa its angular not angular js please change"}, {"owner": {"reputation": 8373, "user_id": 1497533, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8effa47b71761d742c875755c5c25d44?s=128&d=identicon&r=PG", "display_name": "ippi", "link": "https://stackoverflow.com/users/1497533/ippi"}, "edited": false, "score": 2, "creation_date": 1495606093, "post_id": 44150172, "comment_id": 75317484, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\">Define global constants in Angular 2</a>"}, {"owner": {"reputation": 2451, "user_id": 1575598, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ufrXk.jpg?s=128&g=1", "display_name": "Maher", "link": "https://stackoverflow.com/users/1575598/maher"}, "edited": false, "score": 0, "creation_date": 1495606100, "post_id": 44150172, "comment_id": 75317486, "body": "i think he using TypeScript one"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1495606140, "post_id": 44150172, "comment_id": 75317502, "body": "If the URL that serves your app is also the URL that serves your API, then  you don&#39;t need any rootUrl. Just use http.get(&#39;/api/blabla&#39;). Otherwise, Angular CLI has environments for that kind of stuff. But all you need is an exported constant wherever you want, that you import wherever yo need it."}, {"owner": {"reputation": 87, "user_id": 3007228, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3b927d1174222d81350002bbbfeffce5?s=128&d=identicon&r=PG&f=1", "display_name": "AmitykSharma", "link": "https://stackoverflow.com/users/3007228/amityksharma"}, "edited": false, "score": 0, "creation_date": 1574330301, "post_id": 44150172, "comment_id": 104197806, "body": "Do we need to build project two times with prod and development, or is there any other way to change the root URL of API pointed on different server and root url change without building the project."}], "answers": [{"comments": [{"owner": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "edited": false, "score": 1, "creation_date": 1495608935, "post_id": 44150337, "comment_id": 75319022, "body": "This is useless if hes using the angular CLI (which he probably is using)"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1495606516, "creation_date": 1495606516, "answer_id": 44150337, "question_id": 44150172, "link": "https://stackoverflow.com/questions/44150172/where-to-save-global-settings-in-angular-4/44150337#44150337", "title": "Where to save global settings in Angular 4", "body": "<p>You can use <code>process.env</code> with webpack quite easily. E.g. </p>\n\n<pre><code>/**\n * This interface makes sure we don't miss adding a property to both `prod` and `test`\n */\ninterface Config {\n  someItem: string;\n}\n\n/**\n * We only export a single thing. The config.\n */\nexport let config: Config;\n\n/**\n * `process.env.NODE_ENV` definition is driven from webpack\n *\n * The whole `else` block will be removed in the emitted JavaScript\n *  for a production build\n */\nif (process.env.NODE_ENV === 'production') {\n  config = {\n    someItem: 'prod'\n  }\n  console.log('Running in prod');\n} else {\n  config = {\n    someItem: 'test'\n  }\n  console.log('Running in test');\n}\n</code></pre>\n\n<p>and you can change <code>process.env.NODE_ENV</code> using <code>webpack -p --define process.env.NODE_ENV='\\\"production\\\"' --config ./src/webpack.config.js</code></p>\n\n<h1>More</h1>\n\n<p><a href=\"https://basarat.gitbooks.io/typescript/docs/tips/build-toggles.html\" rel=\"nofollow noreferrer\">https://basarat.gitbooks.io/typescript/docs/tips/build-toggles.html</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 4, "last_activity_date": 1495608631, "creation_date": 1495608631, "answer_id": 44150942, "question_id": 44150172, "link": "https://stackoverflow.com/questions/44150172/where-to-save-global-settings-in-angular-4/44150942#44150942", "title": "Where to save global settings in Angular 4", "body": "<p>When I first started using Angular 2, I used a global.ts file where I'd put all my variables, so that I could change it easily. </p>\n\n<p>I've then discovered the environments provided by angular CLI. All you have to do is name a file <code>environment.prod.ts</code> (for prod), and use <code>ng build --prod</code> when you build it. when you develop, use the <code>environment.ts</code> file and both files have to have the same variables.</p>\n\n<p>I hope this answers your question. </p>\n"}, {"comments": [{"owner": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "edited": false, "score": 1, "creation_date": 1495695245, "post_id": 44151877, "comment_id": 75363285, "body": "When i switch on production then i have to change <code>import { environment } from &#39;..&#47;..&#47;environments&#47;environment&#39;;</code> to <code>import { environment } from &#39;..&#47;..&#47;environments&#47;environment.prod&#39;;</code> ? in each service file ?"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "edited": false, "score": 0, "creation_date": 1495695445, "post_id": 44151877, "comment_id": 75363393, "body": "No that would not make any sense. You need not do that. Webpack will automatically recognize production and non production files ."}, {"owner": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "edited": false, "score": 0, "creation_date": 1495695538, "post_id": 44151877, "comment_id": 75363449, "body": "I am using angular CLI"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "edited": false, "score": 0, "creation_date": 1495695737, "post_id": 44151877, "comment_id": 75363542, "body": "That is fine. <code>ng build</code> will serve your purpose."}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "reply_to_user": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "edited": false, "score": 0, "creation_date": 1495695909, "post_id": 44151877, "comment_id": 75363642, "body": "For more details : <a href=\"http://tattoocoder.com/angular-cli-using-the-environment-option/\" rel=\"nofollow noreferrer\">tattoocoder.com/angular-cli-using-the-environment-option</a>"}, {"owner": {"reputation": 87, "user_id": 3007228, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/3b927d1174222d81350002bbbfeffce5?s=128&d=identicon&r=PG&f=1", "display_name": "AmitykSharma", "link": "https://stackoverflow.com/users/3007228/amityksharma"}, "edited": false, "score": 0, "creation_date": 1574330217, "post_id": 44151877, "comment_id": 104197757, "body": "Do we need to build project two times with prod and development, or is there any other way to change the root URL of API pointed on different server and root url change without building the project."}], "tags": [], "owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "is_accepted": true, "score": 11, "last_activity_date": 1495611307, "creation_date": 1495611307, "answer_id": 44151877, "question_id": 44150172, "link": "https://stackoverflow.com/questions/44150172/where-to-save-global-settings-in-angular-4/44151877#44151877", "title": "Where to save global settings in Angular 4", "body": "<p>This answer is similar to @trichetriche, with few more details on the code.</p>\n\n<p>For <code>development/testing</code> purpose </p>\n\n<p>environment.ts</p>\n\n<pre><code>export const environment = {\n  production: false,\n  appUrl: 'localhost:4200'\n};\n</code></pre>\n\n<p>For <code>production</code></p>\n\n<p>environment.prod.ts</p>\n\n<pre><code>export const environment = {\n      production: true,\n      appUrl: 'mywebsite.com'\n    };\n</code></pre>\n\n<p>Usage</p>\n\n<p>service.ts</p>\n\n<pre><code>import { environment } from '../../environments/environment';\n\nthis._http.get(environment.appUrl, requestHeaders(options));\n</code></pre>\n\n<p>Make a note of <code>production</code> parameter in all the <code>environment</code> files.\nI believe you could also create more environments like <code>environment.unittesting.ts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": false, "score": 2, "last_activity_date": 1550562289, "creation_date": 1550562289, "answer_id": 54761063, "question_id": 44150172, "link": "https://stackoverflow.com/questions/44150172/where-to-save-global-settings-in-angular-4/54761063#54761063", "title": "Where to save global settings in Angular 4", "body": "<p>I have another way to define global settings. Because if we defined in ts file, if build in production mode it is not easy to find constants to change value.</p>\n\n<pre><code>export class SettingService  {\n\n  constructor(private http: HttpClient) {\n\n  }\n\n  public getJSON(file): Observable&lt;any&gt; {\n      return this.http.get(\"./assets/configs/\" + file + \".json\");\n  }\n  public getSetting(){\n      // use setting here\n  }\n}\n</code></pre>\n\n<p>In app folder, i add folder configs/setting.json</p>\n\n<p>Content in setting.json</p>\n\n<pre><code>{\n    \"baseUrl\": \"http://localhost:52555\"\n}\n</code></pre>\n\n<p>In app module add APP_INITIALIZER</p>\n\n<pre><code> {\n      provide: APP_INITIALIZER,\n      useFactory: (setting: SettingService) =&gt; function() {return setting.getSetting()},\n      deps: [SettingService],\n      multi: true\n    }\n</code></pre>\n\n<p>with this way, I can change value in json file easier. </p>\n\n<p>I applied this in project for baseUrl, dateformat, sessiontimeout...</p>\n"}], "owner": {"reputation": 2070, "user_id": 6541065, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/Au5Zy.png?s=128&g=1", "display_name": "Umang Patwa", "link": "https://stackoverflow.com/users/6541065/umang-patwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10456, "favorite_count": 2, "accepted_answer_id": 44151877, "answer_count": 4, "score": 16, "last_activity_date": 1550562289, "creation_date": 1495605871, "last_edit_date": 1495607266, "question_id": 44150172, "link": "https://stackoverflow.com/questions/44150172/where-to-save-global-settings-in-angular-4", "title": "Where to save global settings in Angular 4", "body": "<p>In Angular (Type Script) there are many config files. Which is the right one to save a global setting?</p>\n\n<p>For example, when I am calling API from local then my <code>rootUrl</code> is <code>localhost:42000</code> but when I switch on production it should be <code>http:www.someting.com</code>. </p>\n\n<p>I want to save this <code>rootUrl</code> in some global place so if I switch on production then I only have to change in this <code>rootUrl</code>.</p>\n\n<p>Please suggest where should I save these global settings, same as web.config in Asp.Net. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2"], "comments": [{"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495605924, "post_id": 44150124, "comment_id": 75317380, "body": "<code>IonicStorageModule.forRoot</code> is not working? which version of <code>@ionic&#47;storage</code> are you using?"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495606087, "post_id": 44150124, "comment_id": 75317476, "body": "<code>return new Storage([&#39;sqlite&#39;, &#39;websql&#39;, &#39;indexeddb&#39;], { name: &#39;__mydb&#39; } &#47;* optional config *&#47;);</code> your  <code>new Storage</code> call is missing a parameter.."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1495606253, "post_id": 44150124, "comment_id": 75317549, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-context-inside-a-callback\">How to access the correct `this` context inside a callback?</a>"}, {"owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1495607743, "post_id": 44150124, "comment_id": 75318314, "body": "@suraj it worked after changing the code according to echonax answer"}], "answers": [{"comments": [{"owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "edited": false, "score": 0, "creation_date": 1495606545, "post_id": 44150246, "comment_id": 75317684, "body": "<code>login(data) {     return this.http.post(&#39;&#47;&#47;localhost:9080&#47;auth&#39;, data)       .map((data)=&gt;this.extractData(data));  }</code>  Fixed the issue"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 2, "last_activity_date": 1495606141, "creation_date": 1495606141, "answer_id": 44150246, "question_id": 44150124, "link": "https://stackoverflow.com/questions/44150124/ionic2-using-ionic-storage-inside-provider/44150246#44150246", "title": "Ionic2 using Ionic Storage inside Provider", "body": "<p>Change</p>\n\n<pre><code>login(data) {\n    return this.http.post('//localhost:9080/auth', data)\n      .map(this.extractData);\n }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>login(data) {\n    return this.http.post('//localhost:9080/auth', data)\n      .map(this.extractData.bind(this));\n }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>login(data) {\n    return this.http.post('//localhost:9080/auth', data)\n      .map((data)=&gt;this.extractData(data));\n }\n</code></pre>\n\n<p>Your <code>this</code> is not refering to your component</p>\n"}], "owner": {"reputation": 1073, "user_id": 2473015, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e0ebe52a4d912582108eb93c10831141?s=128&d=identicon&r=PG", "display_name": "user2473015", "link": "https://stackoverflow.com/users/2473015/user2473015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 615, "favorite_count": 2, "accepted_answer_id": 44150246, "answer_count": 1, "score": 0, "last_activity_date": 1495606248, "creation_date": 1495605637, "last_edit_date": 1495606248, "question_id": 44150124, "link": "https://stackoverflow.com/questions/44150124/ionic2-using-ionic-storage-inside-provider", "title": "Ionic2 using Ionic Storage inside Provider", "body": "<p>I have trying to implement auth provider for Node application which uses JWT</p>\n\n<p>I'm getting error </p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'set' of undefined</p>\n</blockquote>\n\n<p>My app.module.ts look like below.</p>\n\n<pre><code>import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { LoginPage } from '../pages/login/login';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HttpModule } from '@angular/http';\nimport { Auth } from '../providers/auth/auth';\n\nimport { Storage } from '@ionic/storage';\n\nexport function provideStorage() {\n return new Storage( { name: '__mydb' } /* optional config */);\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    LoginPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    HttpModule,\n    // IonicStorageModule.forRoot({\n    //   name: '__mercury',\n    //   driverOrder: ['indexeddb', 'websql']\n    // })\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    LoginPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    LoginPage,\n    { provide: Storage, useFactory: provideStorage },\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    Auth\n  ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>I used documentation in <a href=\"https://github.com/driftyco/ionic-storage/tree/v2.0.1#configuring-storage-new-in-117\" rel=\"nofollow noreferrer\">https://github.com/driftyco/ionic-storage/tree/v2.0.1#configuring-storage-new-in-117</a></p>\n\n<p>My auth.provider.ts </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response, Headers } from '@angular/http';\nimport 'rxjs';\nimport { Storage } from '@ionic/storage';\n/*\n  Generated class for the AuthProvider provider.\n\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\n  for more info on providers and Angular 2 DI.\n*/\n@Injectable()\nexport class Auth {\n  baseUrl: string = \"http//localhost:9080/\"\n\n  constructor(public http: Http, public storage: Storage) {\n    console.log('Hello AuthProvider Provider');\n  }\n\n  createAuthorizationHeader(headers: Headers) {\n    let token;\n    this.storage.get('token').then(data =&gt; token = data);\n    headers.append('Athorization', token);\n  }\n\n  login(data) {\n    return this.http.post('//localhost:9080/auth', data)\n      .map(this.extractData);\n  }\n\n  isLogged() {\n    this.storage.get('token').then(data =&gt; {\n      if (data)\n        return true;\n      else\n        return false;\n    }).catch(err =&gt; {\n      return false;\n    });\n    return false;\n  }\n\n  logout() {\n    this.storage.remove('token');\n    return true;\n\n  }\n\n  private extractData(res: Response) {\n    console.log(res);\n    let body = res.json();\n    if (body.success === true) {\n\n        this.storage.set(\"token\", body.token);\n\n\n    };\n    return body || {};\n  }\n}\n</code></pre>\n\n<p>My platform details are</p>\n\n<pre><code>Ionic Framework: 3.2.1\nIonic Native: ^3.5.0\nIonic App Scripts: 1.3.7\nAngular Core: 4.1.0\nAngular Compiler CLI: 4.1.0\nNode: 6.10.3\nOS Platform: macOS Sierra\nNavigator Platform: MacIntel\nIonic Storage : ^2.0.1\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular2-animation"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495608877, "post_id": 44149500, "comment_id": 75318971, "body": "Isn&#39;t that because index.html isn&#39;t your HTML template ? For all I know, you don&#39;t have any controller on index.html."}, {"owner": {"reputation": 63, "user_id": 7551536, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UUsmP.jpg?s=128&g=1", "display_name": "Chaewon Min", "link": "https://stackoverflow.com/users/7551536/chaewon-min"}, "edited": false, "score": 0, "creation_date": 1495677430, "post_id": 44149500, "comment_id": 75357969, "body": "Yes, but I am wondering how I can reach into the body element. This is weird because I am trying to reach the parent from the child."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495697797, "post_id": 44149500, "comment_id": 75364642, "body": "I think that if you want to animate the body, you should do it by hand instead of using angular."}, {"owner": {"reputation": 63, "user_id": 7551536, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UUsmP.jpg?s=128&g=1", "display_name": "Chaewon Min", "link": "https://stackoverflow.com/users/7551536/chaewon-min"}, "edited": false, "score": 0, "creation_date": 1495726697, "post_id": 44149500, "comment_id": 75382910, "body": "You mean like by using JQuery or something? I tried that, but I can&#39;t get the toggle to work for the body element. I feel like there is a way to do it in Angular though. The animations are much easier to control."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1495738967, "post_id": 44149500, "comment_id": 75389761, "body": "The problem is that index.html isn&#39;t binded to any controller, I really wonder how you could do that with angular. If you find something, let me know!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3801606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe4e030cda9b716e7e8ebb2f2ac6db6a?s=128&d=identicon&r=PG&f=1", "display_name": "Max3no", "link": "https://stackoverflow.com/users/3801606/max3no"}, "is_accepted": false, "score": 0, "last_activity_date": 1496995229, "creation_date": 1496995229, "answer_id": 44452422, "question_id": 44149500, "link": "https://stackoverflow.com/questions/44149500/angular-2-animation-changing-color-on-body-element/44452422#44452422", "title": "Angular 2+ Animation- Changing color on body element", "body": "<p>If you want to change the whole body, then write the animations: in the component which defines your body.\nit wont change your jumbotron or footer so what you can do is make div with properties covering the whole screen, and then apply your trigger there [@changeBodyColor].</p>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 930442, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a48db140ec4c0bbd33869c0601980a41?s=128&d=identicon&r=PG&f=1", "display_name": "jperez", "link": "https://stackoverflow.com/users/930442/jperez"}, "is_accepted": false, "score": 2, "last_activity_date": 1503326333, "creation_date": 1503326333, "answer_id": 45799885, "question_id": 44149500, "link": "https://stackoverflow.com/questions/44149500/angular-2-animation-changing-color-on-body-element/45799885#45799885", "title": "Angular 2+ Animation- Changing color on body element", "body": "<p>this could be the problem: </p>\n\n<pre><code>transition('off =&gt; on', [animate('2s')]),\ntransition('on =&gt; off', [animate('2s')])\n</code></pre>\n\n<p>try without brackets for animate parameter. </p>\n\n<pre><code>transition('off =&gt; on', animate('500ms')),\ntransition('on =&gt; off ', animate('500ms'))\n</code></pre>\n\n<p>Works for me.</p>\n"}], "owner": {"reputation": 63, "user_id": 7551536, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/UUsmP.jpg?s=128&g=1", "display_name": "Chaewon Min", "link": "https://stackoverflow.com/users/7551536/chaewon-min"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2627, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1503326333, "creation_date": 1495602877, "question_id": 44149500, "link": "https://stackoverflow.com/questions/44149500/angular-2-animation-changing-color-on-body-element", "title": "Angular 2+ Animation- Changing color on body element", "body": "<p>I am a beginner programmer, and I recently started to learn Angular 4. I am trying to make a personal site and want to add some animations.</p>\n\n<p>On the top of the page, I have a jumbotron with a logo. I want it so that so that when I click on this logo, the background color of the body changes, but it seems that the function trigger the  element. </p>\n\n<p>Here is my code on TypeScript: (Code doesn't produce an error. It just doesn't do what I intended to do.)</p>\n\n<pre><code>@Component({\n    selector: 'main-jumbotron',\n    templateUrl: './jumbotron.component.html',\n    styleUrls: ['./jumbotron.component.css'],\n    animations: [\n      trigger(\"changeBodyColor\", [\n        state('off', style({\n            backgroundColor: '#CCFFCC'\n        })),\n        state('on', style({\n            backgroundColor: '#3A3A38'\n        })),\n        transition('off =&gt; on', [animate('2s')]),\n        transition('on =&gt; off', [animate('2s')])\n      ])\n    ]\n})\nexport class JumbotronComponent implements OnInit {\n     // other private instance data, constructor here, ngOnInit etc.\n\n    colorState: string = 'off';\n        toggleColor() {\n            console.log('triggered ' + this.colorState);\n            this.colorState = (this.colorState === 'off') ? 'on' : 'off';\n    }\n}\n</code></pre>\n\n<p>When I put [@changeBodyColor]=\"colorState\" in the div element of the jumbotron, animation works, but just changing the jumbotron background color, obviously. When I put this on the body element from index.html, the function is triggered (logged on console), but the color does not change.</p>\n\n<p>I feel like this is a problem with the DOM hierarchy. If anyone has some idea of what the issue might be, please let me know!</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 126505, "user_id": 1668533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQbPb.jpg?s=128&g=1", "display_name": "Satpal", "link": "https://stackoverflow.com/users/1668533/satpal"}, "edited": false, "score": 1, "creation_date": 1495601871, "post_id": 44149279, "comment_id": 75315657, "body": "Why do you want <code>&lt;th&gt;</code>?"}, {"owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "reply_to_user": {"reputation": 126505, "user_id": 1668533, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NQbPb.jpg?s=128&g=1", "display_name": "Satpal", "link": "https://stackoverflow.com/users/1668533/satpal"}, "edited": false, "score": 0, "creation_date": 1495601959, "post_id": 44149279, "comment_id": 75315697, "body": "@Satpal I want to add an attribute to <code>&lt;th&gt;</code>, so it&#39;s necessary for me to get that specific element when clicked."}, {"owner": {"reputation": 2503, "user_id": 1795390, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/WACds.png?s=128&g=1", "display_name": "daremachine", "link": "https://stackoverflow.com/users/1795390/daremachine"}, "edited": false, "score": 1, "creation_date": 1495601978, "post_id": 44149279, "comment_id": 75315704, "body": "I guess you want to use angular as jquery. Angular is different. If you want to work with html elements use directives."}, {"owner": {"reputation": 3712, "user_id": 3543808, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6b4873817ff62b90e01f791bd2575c12?s=128&d=identicon&r=PG&f=1", "display_name": "Gangadhar JANNU", "link": "https://stackoverflow.com/users/3543808/gangadhar-jannu"}, "edited": false, "score": 0, "creation_date": 1495603560, "post_id": 44149279, "comment_id": 75316299, "body": "try to log event.currentTarget"}, {"owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "edited": false, "score": 0, "creation_date": 1495603672, "post_id": 44149279, "comment_id": 75316344, "body": "Its value is null."}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495603800, "post_id": 44149279, "comment_id": 75316401, "body": "<code>event.currentTarget.nodeName</code> should work for you. You did something wrong"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495604028, "post_id": 44149279, "comment_id": 75316478, "body": "<a href=\"https://plnkr.co/edit/PpfCI0zx25ECdtfJsLmu?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/PpfCI0zx25ECdtfJsLmu?p=preview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1183, "user_id": 5165692, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_SLVV6ux6MM/AAAAAAAAAAI/AAAAAAAAE-4/fytuA2A9F4Y/photo.jpg?sz=128", "display_name": "Ashish Kadam", "link": "https://stackoverflow.com/users/5165692/ashish-kadam"}, "is_accepted": false, "score": 0, "last_activity_date": 1495602997, "creation_date": 1495602997, "answer_id": 44149515, "question_id": 44149279, "link": "https://stackoverflow.com/questions/44149279/get-element-with-attached-event-binding-in-angular2/44149515#44149515", "title": "Get element with attached event binding in Angular2", "body": "<p>I hope this help you.</p>\n\n<pre><code>reorderComponents(event){\n   console.log(event.toElement.nodeName)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "edited": false, "score": 0, "creation_date": 1495605204, "post_id": 44149777, "comment_id": 75317028, "body": "That actually worked. It&#39;s weird because when I logged the event object, the <code>currentTarget</code> is null, but when logging the <code>event.currentTarget</code>, it shows the <code>&lt;th&gt;</code> element. I don&#39;t really know why but thanks!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": false, "score": 4, "last_activity_date": 1495604174, "creation_date": 1495604174, "answer_id": 44149777, "question_id": 44149279, "link": "https://stackoverflow.com/questions/44149279/get-element-with-attached-event-binding-in-angular2/44149777#44149777", "title": "Get element with attached event binding in Angular2", "body": "<p>Use <a href=\"https://developer.mozilla.org/en/docs/Web/API/Event/currentTarget\" rel=\"nofollow noreferrer\">event.currentTarget</a></p>\n\n<pre><code>reorderComponents(event) {\n  console.log(event.currentTarget);\n}\n</code></pre>\n\n<p>It always refers to the element to which the event handler has been attached, as opposed to <code>event.target</code> which identifies the element on which the event occurred.</p>\n\n<p><strong><a href=\"https://plnkr.co/edit/HoY6lqGEZwdJvKDKAFie?p=preview\" rel=\"nofollow noreferrer\">Plunker Example</a></strong></p>\n"}], "owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1495605340, "creation_date": 1495601792, "last_edit_date": 1495605340, "question_id": 44149279, "link": "https://stackoverflow.com/questions/44149279/get-element-with-attached-event-binding-in-angular2", "title": "Get element with attached event binding in Angular2", "body": "<p>I want to get the element with the <code>(click)</code> event binding:</p>\n\n<pre><code>&lt;th class=\"ui-state-default ui-unselectable-text ui-sortable-column\" (click)=\"reorderComponents($event)\"&gt;\n  &lt;span class=\"ui-column-title\"&gt;Component Name&lt;/span&gt;\n  &lt;span class=\"ui-sortable-column-icon fa fa-fw fa-sort {{compSortIcon}}\"&gt;&lt;/span&gt;\n&lt;/th&gt;\n</code></pre>\n\n<p>As you can see, it is the <code>&lt;th&gt;</code> element. However, after clicking and logging the event object, it shows this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/y85uk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y85uk.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/35j65.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35j65.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to get the <code>&lt;th&gt;</code> element, but sadly I couldn't find a solution yet.</p>\n"}, {"tags": ["javascript", "typescript", "inheritance", "ecmascript-6", "babeljs"], "comments": [{"owner": {"reputation": 477, "user_id": 2399152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNwlk.jpg?s=128&g=1", "display_name": "adelin", "link": "https://stackoverflow.com/users/2399152/adelin"}, "edited": false, "score": 0, "creation_date": 1495602294, "post_id": 44149248, "comment_id": 75315813, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/super\" rel=\"nofollow noreferrer\">from the looks of it super is not intended for properties</a> Keeping this in mind - i guess - the expected behaviour is the one from babel. Note: i tested this using rollupjs and it matches babel&#39;s"}, {"owner": {"reputation": 3497, "user_id": 6184698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlKnP.png?s=128&g=1", "display_name": "noppa", "link": "https://stackoverflow.com/users/6184698/noppa"}, "edited": false, "score": 2, "creation_date": 1495602423, "post_id": 44149248, "comment_id": 75315852, "body": "Quite interesting, but what&#39;s the question here?"}, {"owner": {"reputation": 5050, "user_id": 3696076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NkvJM.png?s=128&g=1", "display_name": "chrisbajorin", "link": "https://stackoverflow.com/users/3696076/chrisbajorin"}, "edited": false, "score": 0, "creation_date": 1495604076, "post_id": 44149248, "comment_id": 75316493, "body": "You&#39;re targeting different environments. typescript is targeting es5. If you switch it to es6, it will give the same output as chrome. babel is targeting es2015. Switch that to es2015-loose and you&#39;ll get your typescript es5 result."}, {"owner": {"reputation": 20596, "user_id": 1105858, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/CScBv.jpg?s=128&g=1", "display_name": "nils", "link": "https://stackoverflow.com/users/1105858/nils"}, "edited": false, "score": 0, "creation_date": 1495624855, "post_id": 44149248, "comment_id": 75330037, "body": "Firefox seems to agree with chrome."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1495625279, "post_id": 44149248, "comment_id": 75330352, "body": "Yes, this is surely a Babel bug, but you shouldn&#39;t do this anyway. Assigning or accessing properties on <code>super</code> is super weird, it usually falls back to <code>this</code>. It&#39;s only useful when overwriting getters/setters."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1495606931, "creation_date": 1495606931, "answer_id": 44150429, "question_id": 44149248, "link": "https://stackoverflow.com/questions/44149248/es6-inheritance-uses-super-to-access-the-properties-of-the-parent-class/44150429#44150429", "title": "ES6 inheritance: uses `super` to access the properties of the parent class", "body": "<p>A rule of programming <code>Garbage in -&gt; Garbage out</code>. The following code : </p>\n\n<pre><code>class Point {\n  x: number;\n  getX() {\n    console.log(this.x);\n  }\n}\n\nclass ColorPoint extends Point {\n  constructor() {\n    super();\n    this.x = 2;\n    super.x = 3; // ERROR\n  }\n}\n</code></pre>\n\n<p>You get a nice TypeScript error <code>Only public and protected methods can be accessed</code>. Note the word <code>methods</code>. <code>super</code> should not be used for <code>properties</code>. Invalid code is not something you should run.</p>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 7803523, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/770ceaa18eeec85d4190a096c8415ed0?s=128&d=identicon&r=PG&f=1", "display_name": "hardy", "link": "https://stackoverflow.com/users/7803523/hardy"}, "is_accepted": false, "score": 0, "last_activity_date": 1495624188, "last_edit_date": 1495624188, "creation_date": 1495607105, "answer_id": 44150480, "question_id": 44149248, "link": "https://stackoverflow.com/questions/44149248/es6-inheritance-uses-super-to-access-the-properties-of-the-parent-class/44150480#44150480", "title": "ES6 inheritance: uses `super` to access the properties of the parent class", "body": "<p>Diffrence I saw :-</p>\n\n<p><code>super</code> helps to take all the this part of above class in it \n and we can change that this accordingly`</p>\n\n<ol>\n<li><p>we can change this.x of class point by super.x OR this.x in JAVASCRIPT\n  But we can can't make change in tyescript with super.x (it will behave \n  the new obect of class colorPoint)..this change can \n  only be happen by this.x</p></li>\n<li><p>we can't make even call 2nd time to super() in JAVASCRIPT it will give an \n  err and we can call the super() in type script \n  it will make re-Initilize the Point constructor class</p></li>\n</ol>\n\n<p>Typescript thing I have notice in TypeScript <a href=\"https://www.typescriptlang.org/play/index.html\" rel=\"nofollow noreferrer\">Playground</a> by Runing it </p>\n\n<pre><code>\"use strict\";\nclass Point {\n\n    getX() {\n        console.log(\"POINT \" + this.x);\n    }\n    constructor() {\n        this.x = 10;\n    }\n}\n\nclass ColorPoint extends Point {\n    constructor() {\n        super();\n        this.y = 2;\n        console.log(\"THIS x\" + this.x); //  10\n        console.log(\"THIS y\" + this.y); //  2\n        console.log(\"SUPER !\" + super.x); //  undef\n\n        super.x = 3;\n\n        console.log(\"THIS.x after a \" + this.x); //  10\n        this.x = 20;\n\n        console.log(\"THIS.x after b \" + this.x); //  20\n\n        super();\n        console.log(\"SUPER x\" + super.x); // \n        console.log(\"THIS x\" + this.x); // \n\n        console.log(this); // give this of colorPoint\n        console.log(super()); // give this of colorPoint\n    }\n}\n\nconst cp = new ColorPoint();\ncp.getX();\n</code></pre>\n\n<p>Javascript thing i have notice in console by command <code>node super.js</code></p>\n\n<pre><code>\"use strict\";\nclass Point {\n\n    getX() {\n        console.log(\"POINT \" + this.x);\n    }\n    constructor() {\n        this.x = 10;\n    }\n}\n\nclass ColorPoint extends Point {\n    constructor() {\n        super();\n        this.y = 2;\n        console.log(\"THIS x\" + this.x); // \n        console.log(\"THIS y\" + this.y); // \n        // console.log(\"SUPER\" + super.x); // \n\n        super.x = 3;\n\n        console.log(\"THIS.x after a \" + this.x); // \n        this.x = 20;\n\n        console.log(\"THIS.x after b \" + this.x); // \n\n        //gives err \n        // super();\n        // console.log(\"SUPER x\" + super.x); // \n        // console.log(\"THIS x\" + this.x); // \n    }\n\n    // m() {\n    //     this.getX();\n    // }\n}\n\nconst cp = new ColorPoint();\ncp.getX();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1367, "user_id": 2546547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86203df8c8193ab4894bd4cee5a4f154?s=128&d=identicon&r=PG", "display_name": "hax", "link": "https://stackoverflow.com/users/2546547/hax"}, "edited": false, "score": 0, "creation_date": 1495687158, "post_id": 44160500, "comment_id": 75360170, "body": "This case is not a trade off, just a bug of Babel. See: <a href=\"https://github.com/babel/babel/pull/5774\" rel=\"nofollow noreferrer\">github.com/babel/babel/pull/5774</a>"}], "tags": [], "owner": {"reputation": 5453, "user_id": 2198656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBMsL.jpg?s=128&g=1", "display_name": "Herrington Darkholme", "link": "https://stackoverflow.com/users/2198656/herrington-darkholme"}, "is_accepted": true, "score": 5, "last_activity_date": 1495636818, "last_edit_date": 1592644375, "creation_date": 1495634087, "answer_id": 44160500, "question_id": 44149248, "link": "https://stackoverflow.com/questions/44149248/es6-inheritance-uses-super-to-access-the-properties-of-the-parent-class/44160500#44160500", "title": "ES6 inheritance: uses `super` to access the properties of the parent class", "body": "<h2>Short answer:</h2>\n<p>Chrome is correct. And this is caused by the unbalance between get and set.</p>\n<p><a href=\"https://tc39.github.io/ecma262/#sec-ordinaryset\" rel=\"nofollow noreferrer\">OrdinarySet</a> is <code>reciever</code> sensitive, but <a href=\"https://tc39.github.io/ecma262/#sec-ordinaryget\" rel=\"nofollow noreferrer\">OrdinaryGet</a> is not.</p>\n<p>So <code>super.x = 3</code> has the same effect of <code>this.x = 3</code>, because the receiver here is <code>this</code>. Evaluating<code>super.x</code>, which never reach <code>this</code>, will always get <code>undefined</code> because <code>A.prototype</code> does not have such field.</p>\n<hr />\n<h2>More details:</h2>\n<p>The <code>super.x</code> is a <a href=\"https://tc39.github.io/ecma262/#super-reference\" rel=\"nofollow noreferrer\">SuperReference</a>. And assignment to <code>SuperReference</code> will call <a href=\"https://tc39.github.io/ecma262/#sec-putvalue\" rel=\"nofollow noreferrer\">PutValue(V, W)</a>, which in turn call <code>super</code> object's internal slot <a href=\"https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver\" rel=\"nofollow noreferrer\">[[Set]]</a> and finally <code>OrdinarySet</code>.</p>\n<p>In plain JavaScript, the statement <code>super.x = 3</code> is basically equivalent to:</p>\n<p><code>OrdinarySet(proto, 'x', 3, this)</code>.</p>\n<p>Where <code>proto</code> is the super object, internally the <a href=\"https://tc39.github.io/ecma262/#sec-function-environment-records\" rel=\"nofollow noreferrer\"><code>[[HomeObject]]</code></a> of constructor <code>ColorPoint</code>. <code>proto</code> is equivalent to <code>Object.create(Point.prototype)</code>, as the <a href=\"https://tc39.github.io/ecma262/#sec-runtime-semantics-classdefinitionevaluation\" rel=\"nofollow noreferrer\">ClassDefinitionEvaluation</a> specifies, and it is passed to constructor as <code>[[HomeObject]]</code>.</p>\n<hr />\n<p>Now let's see how <code>OrdinarySet</code> works.  <strong>In step 4c and 4d, the spec requires set operation is done on receiver <code>this</code>, not the <code>proto</code> object.</strong></p>\n<blockquote>\n<p>Let existingDescriptor be ? Receiver.[GetOwnProperty].</p>\n<p>If existingDescriptor is not undefined, then</p>\n<p>If IsAccessorDescriptor(existingDescriptor) is true, return false.</p>\n<p>If existingDescriptor.[[Writable]] is false, return false.</p>\n<p>Let valueDesc be the PropertyDescriptor{[[Value]]: V}.</p>\n<p>Return ? Receiver.[[DefineOwnProperty]](P, valueDesc).</p>\n</blockquote>\n<p>These statements says <code>OrdinarySet(proto, 3, this)</code> means <code>this.x = 3</code>.</p>\n<hr />\n<p>On the other hand, <code>OrdinaryGet</code> <em>ignores</em> <code>Receiver</code> . <code>super.x</code> is</p>\n<p><code>OrdinaryGet(proto, 'x', this)</code>.</p>\n<p><strong><code>OrdinaryGet</code> does not have <code>Receiver</code> in its clauses</strong> at all! So <code>super.x</code> is equivalent to <code>Object.create(Point.prototype).x</code>, which is <code>undefined</code> of course.</p>\n<p>As a rule of thumb, if there is discrepancy between transpilers and browsers, browsers, especially Chrome, are usually more loyal to the ECMAScript specification. Transpilers usually trade some edge case correctness for runtime efficiency.</p>\n"}], "owner": {"reputation": 495, "user_id": 343194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/598af081f6bf47a80e684ffd3175532e?s=128&d=identicon&r=PG", "display_name": "justjavac", "link": "https://stackoverflow.com/users/343194/justjavac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 4, "accepted_answer_id": 44160500, "answer_count": 3, "score": 9, "last_activity_date": 1495636818, "creation_date": 1495601601, "last_edit_date": 1592644375, "question_id": 44149248, "link": "https://stackoverflow.com/questions/44149248/es6-inheritance-uses-super-to-access-the-properties-of-the-parent-class", "title": "ES6 inheritance: uses `super` to access the properties of the parent class", "body": "<p>Javascript's <code>super</code> keyword, when I run the code on Chrome, Babel, TypeScript, I got different results.</p>\n<p>My question is which result is correct? And what part of specification defines such behavior?</p>\n<p>The following code:</p>\n<pre><code>class Point {\n  getX() {\n    console.log(this.x); // C\n  }\n}\n\nclass ColorPoint extends Point {\n  constructor() {\n    super();\n    this.x = 2;\n    super.x = 3;\n    console.log(this.x)   // A\n    console.log(super.x)  // B\n  }\n  \n  m() {\n    this.getX()\n  }\n}\n\nconst cp = new ColorPoint();\ncp.m();\n</code></pre>\n<p>The results:</p>\n<p><a href=\"https://i.stack.imgur.com/Y5gkp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5gkp.png\" alt=\"\" /></a></p>\n<ul>\n<li>Chrome 58.0.3029.110 64bit (V8 5.8.283.38)</li>\n<li>Babel Repl 6.24.2</li>\n<li>TypeScript 2.3</li>\n</ul>\n<p>links:</p>\n<ul>\n<li><a href=\"https://gist.github.com/justjavac/82494287bb25cd671c781242bce975e1\" rel=\"nofollow noreferrer\">gist</a></li>\n<li><a href=\"http://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015&amp;targets=&amp;browsers=&amp;builtIns=false&amp;debug=false&amp;code=class%20Point%20%7B%0D%0A%20%20getX()%20%7B%0D%0A%20%20%20%20console.log(this.x)%3B%20%2F%2F%20C%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aclass%20ColorPoint%20extends%20Point%20%7B%0D%0A%20%20constructor()%20%7B%0D%0A%20%20%20%20super()%3B%0D%0A%20%20%20%20this.x%20%3D%202%3B%0D%0A%20%20%20%20super.x%20%3D%203%3B%0D%0A%20%20%20%20console.log(this.x)%20%20%20%2F%2F%20A%0D%0A%20%20%20%20console.log(super.x)%20%20%2F%2F%20B%0D%0A%20%20%7D%0D%0A%20%20%0D%0A%20%20m()%20%7B%0D%0A%20%20%20%20this.getX()%0D%0A%20%20%7D%0D%0A%7D%0D%0A%0D%0Aconst%20cp%20%3D%20new%20ColorPoint()%3B%0D%0Acp.m()%3B%0D%0A\" rel=\"nofollow noreferrer\">babel</a></li>\n</ul>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "edited": false, "score": 0, "creation_date": 1495640961, "post_id": 44148820, "comment_id": 75342877, "body": "To me modular programming is about encapsulating the implementation details and defining a clear interface to access the module, these are basically the exported properties. A list of dependencies at the top of the file is nice, but secondary because from the module users perspective, it&#39;s just another implementation detail. It&#39;s common in other languages to have a concept of a set of files that form an independent module and I think we can have something similar in Typescript too."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "edited": false, "score": 0, "creation_date": 1495646284, "post_id": 44148820, "comment_id": 75346076, "body": "To have a set of files that form a module means that there is some scope, defined implicitly, which is shared among these files. In other words, some not-very-well-defined variant of global scope. In javascript, modules were introduced with explicit goal of eliminating global scope, because javascript had it so bad.  As node.js with its npm &#39;&#39;ecosystem&quot; demonstrates, it works pretty well."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 1, "last_activity_date": 1495598901, "creation_date": 1495598901, "answer_id": 44148820, "question_id": 44148688, "link": "https://stackoverflow.com/questions/44148688/is-it-possible-to-have-namespace-declaration-merging-with-any-kind-of-imports/44148820#44148820", "title": "Is it possible to have namespace declaration merging with any kind of imports?", "body": "<p>No. </p>\n\n<p>Each module in javascript, and therefore in typescript, is a separate, isolated namespace. </p>\n\n<p>Having explicit import statement for every single dependency is what modular programming is all about. The intent is for each module to be a small, self-contained piece of code with minimum necessary dependencies. Many good <code>node.js</code> packages follow this style. </p>\n\n<p>What you are describing looks completely different - when you have a large amount of code, it indeed may seem convenient to have access to everything from everywhere, without thinking about dependencies. Modules are not a good fit for this style, however.</p>\n"}, {"tags": [], "owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "is_accepted": false, "score": 0, "last_activity_date": 1495641020, "last_edit_date": 1495641020, "creation_date": 1495640381, "answer_id": 44162950, "question_id": 44148688, "link": "https://stackoverflow.com/questions/44148688/is-it-possible-to-have-namespace-declaration-merging-with-any-kind-of-imports/44162950#44162950", "title": "Is it possible to have namespace declaration merging with any kind of imports?", "body": "<p>Here's one potential way to overcome the import problem I've found so far.</p>\n\n<p><strong>external.d.ts</strong></p>\n\n<pre><code>import * as events from \"events\"\nimport * as ts from \"typescript\"\n\ndeclare global {\n  // if using @types/node\n  interface NodeRequireFunction {\n    (id: \"events\"): typeof events\n  }\n  // if declaring your own require function\n  function require(id: \"typescript\"): typeof ts\n}\n</code></pre>\n\n<p>In the main app code, just use the <code>require</code> function as usual.</p>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>namespace app {\n  // Both of these will be correctly typed\n  const {EventEmitter} = require(\"events\")\n  const ts = require(\"typescript\")\n}\n</code></pre>\n\n<p>This adds some boilerplate, but at least it's only once per external module. The app code can export the required modules making them accessible everywhere.</p>\n"}], "owner": {"reputation": 5419, "user_id": 357978, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/890dbdb8fcc8a26f1ba518f9d120ffef?s=128&d=identicon&r=PG", "display_name": "Gunchars", "link": "https://stackoverflow.com/users/357978/gunchars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1495641020, "creation_date": 1495598085, "question_id": 44148688, "link": "https://stackoverflow.com/questions/44148688/is-it-possible-to-have-namespace-declaration-merging-with-any-kind-of-imports", "title": "Is it possible to have namespace declaration merging with any kind of imports?", "body": "<p>I've been looking for some ways to cut down on the boilerplate for importing dependencies and stumbled upon Typescript namespaces and how they are merged across multiple files. For example:</p>\n\n<p><strong>foo.ts</strong></p>\n\n<pre><code>namespace app {\n  const foo = bar() // foo is 42 now\n}\n</code></pre>\n\n<p><strong>bar.ts</strong></p>\n\n<pre><code>namespace app {\n  export function bar() {\n    return 42\n  }\n}\n</code></pre>\n\n<p>As long as both files are added to the Typescript project, it will compile fine and, depending on how it's bundled and/or executed, might even run fine (the order of the source files is important here). I find it refreshing that I don't have to type an import statement for every single dependency. Putting everything in a single namespace might have been crazy with plain Javascript, but I think it works like a charm with Typescript since it can keep track of all the symbols and where they're used.</p>\n\n<p>Now, the pickle is that this only works as long as there are no import or export statements in any of the sources. The second I try to import an external library, that source file becomes its own module and the namespace no longer automatically merges with the other.</p>\n\n<p>Using <code>require</code> still works, but there's no nice way to get the types for the import.</p>\n\n<p>Any ideas how to use this namespace merging with external imports?</p>\n"}, {"tags": ["asp.net-mvc", "angular", "typescript", "primeng"], "comments": [{"owner": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 0, "creation_date": 1495597682, "post_id": 44148551, "comment_id": 75314371, "body": "make sure you have installed <code>@angular&#47;animations</code> and please post your <code>system.config.js</code>"}, {"owner": {"reputation": 519, "user_id": 4073943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6b43977f32e361bbc001078fbb20aee9?s=128&d=identicon&r=PG&f=1", "display_name": "Chathuranga Ranasinghe", "link": "https://stackoverflow.com/users/4073943/chathuranga-ranasinghe"}, "reply_to_user": {"reputation": 32597, "user_id": 7579471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OmXvJ.png?s=128&g=1", "display_name": "Pengyy", "link": "https://stackoverflow.com/users/7579471/pengyy"}, "edited": false, "score": 0, "creation_date": 1495597857, "post_id": 44148551, "comment_id": 75314415, "body": "i have added my systemjs.config.js file. please check."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 4073943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6b43977f32e361bbc001078fbb20aee9?s=128&d=identicon&r=PG&f=1", "display_name": "Chathuranga Ranasinghe", "link": "https://stackoverflow.com/users/4073943/chathuranga-ranasinghe"}, "edited": false, "score": 0, "creation_date": 1495682605, "post_id": 44156835, "comment_id": 75358949, "body": "I will try this. Thanks."}], "tags": [], "owner": {"reputation": 453, "user_id": 7243127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDGSt.jpg?s=128&g=1", "display_name": "Steverob2k", "link": "https://stackoverflow.com/users/7243127/steverob2k"}, "is_accepted": false, "score": 5, "last_activity_date": 1495624721, "creation_date": 1495624721, "answer_id": 44156835, "question_id": 44148551, "link": "https://stackoverflow.com/questions/44148551/angular-2-systemjs-xhr-error-404-not-found-angular-animations/44156835#44156835", "title": "Angular 2 (SystemJS) XHR error (404 not found) /@angular/animations", "body": "<p>You'll need 3 entries in systemjs.config.js</p>\n\n<pre><code> \"@angular/animations\": \"npm:@angular/animations/bundles/animations.umd.js\",\n    \"@angular/animations/browser\": \"npm:@angular/animations/bundles/animations-browser.umd.js\",\n    \"@angular/platform-browser/animations\": \"npm:@angular/platform-browser/bundles/platform-browser-animations.umd.js\",\n</code></pre>\n\n<p>You will also need to run </p>\n\n<pre><code>npm i @angular/animations --save \n</code></pre>\n"}], "owner": {"reputation": 519, "user_id": 4073943, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/6b43977f32e361bbc001078fbb20aee9?s=128&d=identicon&r=PG&f=1", "display_name": "Chathuranga Ranasinghe", "link": "https://stackoverflow.com/users/4073943/chathuranga-ranasinghe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1497505099, "creation_date": 1495597281, "last_edit_date": 1497505099, "question_id": 44148551, "link": "https://stackoverflow.com/questions/44148551/angular-2-systemjs-xhr-error-404-not-found-angular-animations", "title": "Angular 2 (SystemJS) XHR error (404 not found) /@angular/animations", "body": "<p>I am new to Angular 2 and Type Script. in my project i am using PrimeNG UI controls.</p>\n\n<p>I am getting following error in console when I run my APP.</p>\n\n<p>Error: (SystemJS) XHR error (404 Not Found) loading <a href=\"http://localhost:xxxxx/@angular/animations\" rel=\"nofollow noreferrer\">http://localhost:xxxxx/@angular/animations</a></p>\n\n<p>Error loading <a href=\"http://localhost:xxxxx/@angular/animations\" rel=\"nofollow noreferrer\">http://localhost:xxxxx/@angular/animations</a> as \"@angular/animations\" from <a href=\"http://localhost:xxxxx/node_modules//primeng/components/accordion/accordion.js\" rel=\"nofollow noreferrer\">http://localhost:xxxxx/node_modules//primeng/components/accordion/accordion.js</a></p>\n\n<p>Below is my Systemjs.config.js file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>/**\r\n * System configuration for Angular samples\r\n * Adjust as necessary for your application needs.\r\n */\r\n(function (global) {\r\n    System.config({\r\n        paths: {\r\n            // paths serve as alias\r\n            'npm:': 'node_modules/'\r\n        },\r\n        // map tells the System loader where to look for things\r\n        map: {\r\n            // our app is within the app folder\r\n            app: 'app',\r\n\r\n            // angular bundles\r\n            '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\r\n            '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\r\n            '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\r\n            '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\r\n            '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\r\n            '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\r\n            '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\r\n            '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\r\n            '@angular/upgrade': 'npm:@angular/upgrade/bundles/upgrade.umd.js',\r\n\r\n            // other libraries\r\n            'rxjs': 'npm:rxjs',\r\n            'angular-in-memory-web-api': 'npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js',\r\n            'ng2-bs3-modal': 'npm:/ng2-bs3-modal',\r\n\r\n            // Bootstrap\r\n            'moment': 'node_modules/moment/moment.js',\r\n            'ng2-bootstrap/ng2-bootstrap': 'node_modules/ng2-bootstrap/bundles/ng2-bootstrap.umd.js',\r\n            'primeng': 'npm:/primeng',\r\n        },\r\n        // packages tells the System loader how to load when no filename and/or no extension\r\n        packages: {\r\n            app: {\r\n                main: './main.js',\r\n                defaultExtension: 'js'\r\n            },\r\n            rxjs: {\r\n                defaultExtension: 'js'\r\n            },\r\n            'ng2-bs3-modal': {\r\n                main: '/bundles/ng2-bs3-modal.js', defaultExtension: 'js'\r\n            },\r\n            'primeng': { defaultExtension: 'js' }\r\n        }\r\n    });\r\n})(this);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 8, "creation_date": 1495593144, "post_id": 44147937, "comment_id": 75313353, "body": "It&#39;s pretty clear from your code that the <code>else</code> would indeed <b>never</b> get evaluated. The compiler is smart enough to see it."}, {"owner": {"reputation": 25148, "user_id": 42124, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PwojJ.jpg?s=128&g=1", "display_name": "Ray Booysen", "link": "https://stackoverflow.com/users/42124/ray-booysen"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1495601436, "post_id": 44147937, "comment_id": 75315499, "body": "This is an example, let me add some more code that shows it still has the issue."}, {"owner": {"reputation": 3238, "user_id": 4588927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QncHk.jpg?s=128&g=1", "display_name": "Bozhidar Stoyneff", "link": "https://stackoverflow.com/users/4588927/bozhidar-stoyneff"}, "edited": false, "score": 15, "creation_date": 1542222463, "post_id": 44147937, "comment_id": 93495045, "body": "<code>It&#39;s pretty clear from your code that the else would indeed never get evaluated.</code> It isn&#39;t obvious at all nor there is a smart compiler. There is a dumb transpiler which deviates from the established practices. In C#, for instance, one can assign <code>null</code> to any object..."}, {"owner": {"reputation": 59, "user_id": 7750604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b72ea3642d1e75d274170447f1e732f3?s=128&d=identicon&r=PG&f=1", "display_name": "rkuksin", "link": "https://stackoverflow.com/users/7750604/rkuksin"}, "reply_to_user": {"reputation": 3238, "user_id": 4588927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QncHk.jpg?s=128&g=1", "display_name": "Bozhidar Stoyneff", "link": "https://stackoverflow.com/users/4588927/bozhidar-stoyneff"}, "edited": false, "score": 0, "creation_date": 1608558183, "post_id": 44147937, "comment_id": 115612590, "body": "@BozhidarStoyneff, it is established but regrettable practice: <a href=\"https://en.wikipedia.org/wiki/Null_pointer#History\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Null_pointer#History</a>"}], "answers": [{"comments": [{"owner": {"reputation": 25148, "user_id": 42124, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PwojJ.jpg?s=128&g=1", "display_name": "Ray Booysen", "link": "https://stackoverflow.com/users/42124/ray-booysen"}, "edited": false, "score": 0, "creation_date": 1495601556, "post_id": 44147953, "comment_id": 75315541, "body": "Thanks @saravana.  I&#39;ve updated the example with a closure which I would have hoped the compiler would pick up on.  Apologies, I should have added this first."}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 25148, "user_id": 42124, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PwojJ.jpg?s=128&g=1", "display_name": "Ray Booysen", "link": "https://stackoverflow.com/users/42124/ray-booysen"}, "edited": false, "score": 0, "creation_date": 1495603828, "post_id": 44147953, "comment_id": 75316415, "body": "Looks like an open issue with the compiler. See the following issues: <a href=\"https://github.com/Microsoft/TypeScript/issues/11498\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/11498</a> <a href=\"https://github.com/Microsoft/TypeScript/issues/12176\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/12176</a>"}, {"owner": {"reputation": 1598, "user_id": 817632, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/72c22b80c2768bb38e4201323c582c97?s=128&d=identicon&r=PG", "display_name": "Olga", "link": "https://stackoverflow.com/users/817632/olga"}, "edited": false, "score": 0, "creation_date": 1539713396, "post_id": 44147953, "comment_id": 92599009, "body": "There is also another issue altogether which produces a similar &quot;wrong&quot; error <a href=\"https://github.com/Microsoft/TypeScript/issues/10570\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/10570</a>"}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 69, "last_activity_date": 1495604084, "last_edit_date": 1495604084, "creation_date": 1495592948, "answer_id": 44147953, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/44147953#44147953", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>Because you are assigning <code>instance</code> to <code>null</code>. The compiler infers that it can never be anything other than <code>null</code>. So it assumes that the else block should never be executed so <code>instance</code> is typed as <code>never</code> in the else block.</p>\n\n<p>Now if you don't declare it as the literal value <code>null</code>, and get it by any other means (ex: <code>let instance: Foo | null = getFoo();</code>), you will see that <code>instance</code> will be <code>null</code> inside the if block and <code>Foo</code> inside the else block.</p>\n\n<p>Never type documentation: <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html#never\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/basic-types.html#never</a></p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The issue in the updated example is actually an open issue with the compiler. \nSee:</p>\n\n<p><a href=\"https://github.com/Microsoft/TypeScript/issues/11498\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/11498</a>\n<a href=\"https://github.com/Microsoft/TypeScript/issues/12176\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/12176</a></p>\n"}, {"comments": [{"owner": {"reputation": 25148, "user_id": 42124, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PwojJ.jpg?s=128&g=1", "display_name": "Ray Booysen", "link": "https://stackoverflow.com/users/42124/ray-booysen"}, "edited": false, "score": 0, "creation_date": 1495610850, "post_id": 44149536, "comment_id": 75320286, "body": "Thanks @Nitzan.  That&#39;s exactly what I&#39;m doing in my code,"}, {"owner": {"reputation": 2771, "user_id": 6045409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e1127001433f2ab5bbab9523853e3e4e?s=128&d=identicon&r=PG&f=1", "display_name": "Tokenyet", "link": "https://stackoverflow.com/users/6045409/tokenyet"}, "edited": false, "score": 0, "creation_date": 1583750516, "post_id": 44149536, "comment_id": 107208818, "body": "For some situation, I still got the same error, even If I use this method, something like <code>a!.b!.c</code>, and told that <code>Property c ...</code>."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 16, "last_activity_date": 1593679080, "last_edit_date": 1593679080, "creation_date": 1495603093, "answer_id": 44149536, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/44149536#44149536", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>This seems to be similar to this issue: <a href=\"https://github.com/Microsoft/TypeScript/issues/12176\" rel=\"nofollow noreferrer\">False &quot;Property does not exist on type 'never'&quot; when changing value inside callback with <code>strictNullChecks</code></a>, which is closed as a duplicate of this issue (discussion): <a href=\"https://github.com/Microsoft/TypeScript/issues/9998\" rel=\"nofollow noreferrer\">Trade-offs in Control Flow Analysis</a>.</p>\n<p>That discussion is pretty long, if you can't find a good solution there you can try this:</p>\n<pre><code>if (instance == null) {\n    console.log('Instance is null or undefined');\n} else {\n    console.log(instance!.name); // ok now\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 169, "user_id": 4560868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0lc0a.png?s=128&g=1", "display_name": "wrod7", "link": "https://stackoverflow.com/users/4560868/wrod7"}, "edited": false, "score": 1, "creation_date": 1603484727, "post_id": 60179700, "comment_id": 114062616, "body": "is this a bug? worked for me as well. why wouldnt dot notation work?"}], "tags": [], "owner": {"reputation": 3119, "user_id": 4371618, "user_type": "registered", "profile_image": "https://graph.facebook.com/1103916533/picture?type=large", "display_name": "Eric Grotke", "link": "https://stackoverflow.com/users/4371618/eric-grotke"}, "is_accepted": false, "score": 17, "last_activity_date": 1581469924, "creation_date": 1581469924, "answer_id": 60179700, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/60179700#60179700", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>I had the same error and replaced the dot notation with bracket notation to suppress it.</p>\n\n<p>e.g.:\nobj.name -> obj['name']</p>\n"}, {"comments": [{"owner": {"reputation": 429, "user_id": 3446348, "user_type": "registered", "profile_image": "https://graph.facebook.com/512812701/picture?type=large", "display_name": "eliaquin", "link": "https://stackoverflow.com/users/3446348/eliaquin"}, "edited": false, "score": 2, "creation_date": 1589841214, "post_id": 60696264, "comment_id": 109448874, "body": "Thank you. I&#39;d say this is the best solution to this problem."}, {"owner": {"reputation": 2349, "user_id": 4037019, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nveNe.jpg?s=128&g=1", "display_name": "cst1992", "link": "https://stackoverflow.com/users/4037019/cst1992"}, "edited": false, "score": 1, "creation_date": 1603272280, "post_id": 60696264, "comment_id": 113981859, "body": "This solved my problem, where I can&#39;t assign a type to <code>arr</code> as <code>arr: any</code>."}], "tags": [], "owner": {"reputation": 543, "user_id": 12323837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zcrQU.jpg?s=128&g=1", "display_name": "blue-hope", "link": "https://stackoverflow.com/users/12323837/blue-hope"}, "is_accepted": false, "score": 45, "last_activity_date": 1584297003, "creation_date": 1584297003, "answer_id": 60696264, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/60696264#60696264", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>if you write Component as React.FC, and using useState(),</p>\n\n<p>just write like this would be helpful:</p>\n\n<pre><code>const [arr, setArr] = useState&lt;any[]&gt;([])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 155, "user_id": 5340241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62aff4dc17265762aebfeb13f311f38d?s=128&d=identicon&r=PG", "display_name": "RonquilloAeon", "link": "https://stackoverflow.com/users/5340241/ronquilloaeon"}, "edited": false, "score": 0, "creation_date": 1606491457, "post_id": 64854192, "comment_id": 114984807, "body": "In my case, annotating the parameter with <code>any</code> worked for me: <code>this.state.projects.map((project: any, idx) =&gt; &lt;Project key={idx} title={project.name}&#47;&gt;)</code>"}, {"owner": {"reputation": 1187, "user_id": 3199531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y9Bym.jpg?s=128&g=1", "display_name": "David Castro", "link": "https://stackoverflow.com/users/3199531/david-castro"}, "edited": false, "score": 0, "creation_date": 1611612900, "post_id": 64854192, "comment_id": 116503926, "body": "Since this also worked forme, however we&#39;re not taking advantage of the Interface resolutions."}], "tags": [], "owner": {"reputation": 2484, "user_id": 8108684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFBKG.jpg?s=128&g=1", "display_name": "Ericgit", "link": "https://stackoverflow.com/users/8108684/ericgit"}, "is_accepted": false, "score": 3, "last_activity_date": 1605512433, "creation_date": 1605512433, "answer_id": 64854192, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/64854192#64854192", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>if you're receiving the error in parameter, so keep <code>any</code> or <code>any[]</code> type of input like below</p>\n<pre><code>getOptionLabel={(option: any) =&gt; option!.name}\n</code></pre>\n<pre><code> &lt;Autocomplete\n    options={tests}\n    getOptionLabel={(option: any) =&gt; option!.name}\n    ....\n  /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 9735508, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-o31833YnT3Q/AAAAAAAAAAI/AAAAAAAAAcg/DtKxKjnQoVg/photo.jpg?sz=128", "display_name": "Julio Cesar Brito Gomes", "link": "https://stackoverflow.com/users/9735508/julio-cesar-brito-gomes"}, "is_accepted": false, "score": 0, "last_activity_date": 1612618116, "creation_date": 1612618116, "answer_id": 66077418, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/66077418#66077418", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>In my case it was happening because I had not typed a variable.</p>\n<p>So I created the Search interface</p>\n<pre><code>export interface Search {\n  term: string;\n  ...\n}\n</code></pre>\n<p>I changed that</p>\n<pre><code>searchList = [];\n</code></pre>\n<p>for that and it worked</p>\n<pre><code>searchList: Search[];\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 561, "user_id": 7547275, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212602674808743/picture?type=large", "display_name": "Kiril Dobrev", "link": "https://stackoverflow.com/users/7547275/kiril-dobrev"}, "is_accepted": false, "score": 0, "last_activity_date": 1613749571, "creation_date": 1613749571, "answer_id": 66280682, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never/66280682#66280682", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>In my case (I'm using typescript) I was trying to simulate response with fake data where the data is assigned later on. My first attempt was with:</p>\n<pre><code>let response = {status: 200, data: []};\n</code></pre>\n<p>and later, on the assignment of the fake data it starts complaining that it is not assignable to type 'never[]'.\nThen I defined the response like follows and it accepted it..</p>\n<pre><code>let dataArr: MyClass[] = [];\nlet response = {status: 200, data: dataArr};\n</code></pre>\n<p>and assigning of the fake data:</p>\n<pre><code>response.data = fakeData;\n</code></pre>\n"}], "owner": {"reputation": 25148, "user_id": 42124, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/PwojJ.jpg?s=128&g=1", "display_name": "Ray Booysen", "link": "https://stackoverflow.com/users/42124/ray-booysen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138460, "favorite_count": 9, "accepted_answer_id": 44147953, "answer_count": 7, "score": 102, "last_activity_date": 1613749571, "creation_date": 1495592781, "last_edit_date": 1495602368, "question_id": 44147937, "link": "https://stackoverflow.com/questions/44147937/property-does-not-exist-on-type-never", "title": "&#39;Property does not exist on type &#39;never&#39;", "body": "<p>This is similar to <a href=\"https://stackoverflow.com/questions/40796374/property-x-does-not-exist-on-type-never\">#40796374</a> but that is around types, while I am using interfaces.</p>\n\n<p>Given the code below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>interface Foo {\r\n  name: string;\r\n}\r\n\r\nfunction go() {\r\n  let instance: Foo | null = null;\r\n  let mutator = () =&gt; {\r\n   instance = {\r\n     name: 'string'\r\n   };  \r\n  };\r\n\r\n  mutator();\r\n\r\n  if (instance == null) {\r\n   console.log('Instance is null or undefined');\r\n  } else {\r\n   console.log(instance.name);\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have an error saying 'Property 'name' does not exist on type 'never'.</p>\n\n<p>I don't understand how instance could ever be a 'never'.  Can anyone shed some light on this?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript", "typescript2.0", "typescript2.3"], "comments": [{"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1495592590, "post_id": 44147714, "comment_id": 75313219, "body": "Can you add an example of how you&#39;d use this?"}, {"owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "reply_to_user": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1495594267, "post_id": 44147714, "comment_id": 75313619, "body": "@NitzanTomer I&#39;ve added an usage example"}], "owner": {"reputation": 1724, "user_id": 6672580, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-6rBmPoEP_DQ/AAAAAAAAAAI/AAAAAAAAABU/17IsM_eOvmI/photo.jpg?sz=128", "display_name": "bigopon", "link": "https://stackoverflow.com/users/6672580/bigopon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495594244, "creation_date": 1495591023, "last_edit_date": 1495594244, "question_id": 44147714, "link": "https://stackoverflow.com/questions/44147714/how-to-declare-interface-with-property-is-object-with-properties-reduced-from-ar", "title": "How to declare interface with property is object with properties reduced from array in Typescript?", "body": "<p>Say I have this signature for a method:</p>\n\n<pre><code>interface MyClass&lt;T&gt; {\n    data: T\n}\n\ncreate(options: {\n  fields: (string | { name: string, type?: string})[],\n  [key: string]: any\n}): MyClassConstructor&lt;T extends from_some_magic_extracting_fields_out&gt;\n</code></pre>\n\n<p>What will happen at run time is while looping through <code>fields</code> in <code>options</code>, if it's a string, will create property name with the same string value, otherwise, get from <code>name</code> property.</p>\n\n<p>How do I do this in Typescript interface to provide intellisense for my JS ?</p>\n\n<p><strong>Edit 1</strong>: Usage example</p>\n\n<pre><code>window.RecordCreator = function(opts) {\n  var dataCfg = opts.fields.reduce(function(cfg, field) {\n    if (typeof field === 'string') {\n      cfg.push({ name: field, type: 'string' });\n    } else {\n      cfg.push({ name: field.name, type: field.type });\n    }\n    return cfg;\n  }, []);\n  // More stuff here to setup prototype for RecordConstructor\n  return function RecordConstructor() {\n    this.data = dataCfg.slice(0);\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 1, "last_activity_date": 1495592238, "creation_date": 1495592238, "answer_id": 44147859, "question_id": 44146940, "link": "https://stackoverflow.com/questions/44146940/supplied-parameters-do-not-match-any-signature-of-call-target-react-mock-store/44147859#44147859", "title": "Supplied parameters do not match any signature of call target (react-mock-store)", "body": "<p>You don't have to specify the type parameter when you call <code>mockStore</code>. <code>createMockStore</code> already returns a <code>mockStore</code> with the type filled:</p>\n\n<pre><code>const store = mockStore(storeVar);\n</code></pre>\n"}], "owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 44147859, "answer_count": 1, "score": 1, "last_activity_date": 1495646695, "creation_date": 1495584680, "question_id": 44146940, "link": "https://stackoverflow.com/questions/44146940/supplied-parameters-do-not-match-any-signature-of-call-target-react-mock-store", "title": "Supplied parameters do not match any signature of call target (react-mock-store)", "body": "<p>Getting the following error and I don't understand because it seems like I am matching the signature</p>\n\n<blockquote>\n  <p>[ts] Supplied parameters do not match any signature of call target.\n  const mockStore: (state?: {\n      todo: string[]; } | undefined) => IStore&lt;{\n      todo: string[]; }></p>\n</blockquote>\n\n<pre><code>import configureMockStore from 'redux-mock-store'\n\ntype MyStore = {\n    todo: string[];\n}\n\nconst mockStore = configureMockStore&lt;MyStore&gt;([]);\n\nlet storeVar : MyStore = {todo: ['one','two']};\nconst store = mockStore&lt;MyStore&gt;(storeVar);\n</code></pre>\n\n<p>The typedef for <a href=\"https://github.com/arnaudbenard/redux-mock-store\" rel=\"nofollow noreferrer\">redux-mock-store</a> is coming from <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped\" rel=\"nofollow noreferrer\">DefinitivelyTyped</a>:</p>\n\n<pre><code>// Type definitions for Redux Mock Store v0.0.6\n// Project: https://github.com/arnaudbenard/redux-mock-store\n// Definitions by: Marian Palkus &lt;https://github.com/MarianPalkus&gt;, Cap3 &lt;http://www.cap3.de&gt;\n// Definitions: https://github.com/borisyankov/DefinitelyTyped\n\n///&lt;reference types=\"redux\" /&gt;\n\ndeclare module 'redux-mock-store' {\n    import * as Redux from 'redux'\n\n    function createMockStore&lt;T&gt;(middlewares?: Redux.Middleware[]): mockStore&lt;T&gt;;\n\n    export type mockStore&lt;T&gt; = (state?: T) =&gt; IStore&lt;T&gt;;\n\n    export interface IStore&lt;T&gt; {\n        dispatch(action: any): any;\n        getState(): T;\n        getActions(): any[];\n        clearActions(): void;\n        subscribe(listener: Function): Function;\n    }\n\n    export default createMockStore\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 5009, "user_id": 2748835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f663501bd1b535bcb1f87f42998dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Reynolds", "link": "https://stackoverflow.com/users/2748835/chris-reynolds"}, "edited": false, "score": 0, "creation_date": 1495580453, "post_id": 44146105, "comment_id": 75310325, "body": "If you have unit test scripts, then it might be worth converting them to Typescript. That would give you confidence in a strongly typed interface."}, {"owner": {"reputation": 1189, "user_id": 76472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c7a821d50891330a7807378fae4279e?s=128&d=identicon&r=PG", "display_name": "Jan Miksovsky", "link": "https://stackoverflow.com/users/76472/jan-miksovsky"}, "reply_to_user": {"reputation": 5009, "user_id": 2748835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f663501bd1b535bcb1f87f42998dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Reynolds", "link": "https://stackoverflow.com/users/2748835/chris-reynolds"}, "edited": false, "score": 0, "creation_date": 1495727025, "post_id": 44146105, "comment_id": 75383105, "body": "@ChrisReynolds Good idea, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 1189, "user_id": 76472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c7a821d50891330a7807378fae4279e?s=128&d=identicon&r=PG", "display_name": "Jan Miksovsky", "link": "https://stackoverflow.com/users/76472/jan-miksovsky"}, "edited": false, "score": 2, "creation_date": 1495727012, "post_id": 44150588, "comment_id": 75383095, "body": "I&#39;m not sure I understand this. JavaScript is ambiguous with regard to types, but I can write jsDoc comments within <code>foo.js</code> that precisely define the contacts of the functions in that file. The TypeScript compiler will verify that the code meets those contracts. I can extract those same jsDoc comments into <code>foo.d.ts</code>, providing the same contract definitions in a different form that permits a greater degree of expression. It seems like a valid use case to apply those declarations to the file itself \u2014 achieving the same level of type safety as jsDoc comments currently permit, only better."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 1, "last_activity_date": 1495607453, "creation_date": 1495607453, "answer_id": 44150588, "question_id": 44146105, "link": "https://stackoverflow.com/questions/44146105/can-typescript-verify-that-a-js-file-is-consistent-with-its-own-d-ts-declarati/44150588#44150588", "title": "Can TypeScript verify that a .js file is consistent with its own .d.ts declarations?", "body": "<blockquote>\n  <p>Is it possible to have the TypeScript compiler check that a JavaScript file foo.js is consistent with its own declaration file foo.d.ts</p>\n</blockquote>\n\n<p>Not really. A <code>.js</code> file gives very little context about <em>exactly</em> what is and isn't supported. If it was possible, we wouldn't need TypeScript.</p>\n\n<h1>More</h1>\n\n<ul>\n<li><a href=\"https://medium.com/@basarat/typescript-vs-flowlang-caee1386b4fc\" rel=\"nofollow noreferrer\">Some discussion on TypeScript and FlowType and how they must restrict what is considered valid</a></li>\n</ul>\n"}], "owner": {"reputation": 1189, "user_id": 76472, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1c7a821d50891330a7807378fae4279e?s=128&d=identicon&r=PG", "display_name": "Jan Miksovsky", "link": "https://stackoverflow.com/users/76472/jan-miksovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1495607453, "creation_date": 1495578765, "question_id": 44146105, "link": "https://stackoverflow.com/questions/44146105/can-typescript-verify-that-a-js-file-is-consistent-with-its-own-d-ts-declarati", "title": "Can TypeScript verify that a .js file is consistent with its own .d.ts declarations?", "body": "<p>Is it possible to have the TypeScript compiler check that a JavaScript file <code>foo.js</code> is consistent with its own declaration file <code>foo.d.ts</code>?</p>\n\n<p>We have a body of JavaScript code that, for various reasons, we want to leave in JavaScript. If possible, though, we would love to use TypeScript to achieve two goals: 1) confirm our own JavaScript code is type safe, and 2) make declarations available to customers that are interested in using TypeScript.</p>\n\n<p>For a given JavaScript file <code>foo.js</code>, we can create a corresponding file <code>foo.d.ts</code> to satisfy goal #2 (supporting TypeScript customers). But as far as we can tell, the existence of <code>foo.d.ts</code> does not result in any checking of <code>foo.js</code>. That is, the declaration file is only of interest to external consumers of <code>foo.js</code>, and the compiler doesn't verify that the JavaScript code is consistent with its own .d.ts declarations.</p>\n\n<p>We've experimented with using jsDoc type annotations within <code>foo.js</code>, and the TypeScript compiler <em>does</em> verify that the code in that file is consistent with those declared types. That would seem to satisfy goal #1 (check our own code).</p>\n\n<p>However, jsDoc annotations are not as powerful as the full TypeScript syntax possible in a .d.ts declaration file (e.g., jsDoc support for generics is rudimentary), which limits where we can use them. Furthermore, the TypeScript compiler doesn't seem to provide any verification that the jsDoc annotations are consistent with the .d.ts declarations. We run the risk of inconsistencies between those two sources of type information.</p>\n\n<p>We're looking for guidance about the best way to leverage TypeScript type-checking in the context of a JavaScript project like this.</p>\n"}, {"tags": ["jquery", "typescript", "webpack"], "answers": [{"comments": [{"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1495610020, "post_id": 44147939, "comment_id": 75319681, "body": "of course it is installed, and is not jquery.validation but jquery-validation"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 1, "creation_date": 1495612781, "post_id": 44147939, "comment_id": 75321685, "body": "@OrcusZ. <code>@types&#47;jquery.validation</code>  is the package that contains the typings for jquery-validation library. See <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/jquery.validation/index.d.ts\" rel=\"nofollow noreferrer\">this</a>. And there are no typings with the name <code>jquery-validation</code>. What typings package did you install?"}, {"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1495612940, "post_id": 44147939, "comment_id": 75321784, "body": "sorry my fault, I confused with the npm package. My installed types ( under @types folder ) are : <b>jquery, jquery-validation-unobtrusive, jquery.validation</b>"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 1, "creation_date": 1495614218, "post_id": 44147939, "comment_id": 75322641, "body": "@OrcusZ If you have the types installed then post a reproducible example. A plunkr would help. As of now it is hard to see what is wrong."}, {"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1495625196, "post_id": 44147939, "comment_id": 75330290, "body": "damn... I should import jquery-calidation instead of jquery.validation in my typescript file"}, {"owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "reply_to_user": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1495627595, "post_id": 44147939, "comment_id": 75332076, "body": "But you are already importing <code>jquery-validation</code> in you core.ts file (as mentioned in the question). What am I missing?"}, {"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1495628642, "post_id": 44147939, "comment_id": 75332887, "body": "I put the correct import in the post but not on my code... I did it at midnight... Just tired sorry and thanks for your time"}], "tags": [], "owner": {"reputation": 27663, "user_id": 2419531, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/164fd6b98db28a299712d02501b7377d?s=128&d=identicon&r=PG", "display_name": "Saravana", "link": "https://stackoverflow.com/users/2419531/saravana"}, "is_accepted": true, "score": 0, "last_activity_date": 1495592793, "creation_date": 1495592793, "answer_id": 44147939, "question_id": 44145609, "link": "https://stackoverflow.com/questions/44145609/jquery-validator-webpack-2-and-typescript/44147939#44147939", "title": "jQuery.validator webpack 2 and typescript", "body": "<p>You have to install the typings for <code>jquery-validation</code>:</p>\n\n<pre><code>npm install --save-dev @types/jquery.validation\n</code></pre>\n"}], "owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2613, "favorite_count": 0, "accepted_answer_id": 44147939, "answer_count": 1, "score": 0, "last_activity_date": 1495592793, "creation_date": 1495576104, "question_id": 44145609, "link": "https://stackoverflow.com/questions/44145609/jquery-validator-webpack-2-and-typescript", "title": "jQuery.validator webpack 2 and typescript", "body": "<p>I'm trying to set up the scripts of my project with webpack 2.</p>\n\n<p>Currently my files are compiling but I have an issue with <strong>jQuery-validation</strong></p>\n\n<p>I have this error when I try to generate my file :</p>\n\n<blockquote>\n  <p>ERROR in ./wwwroot/scripts/ts/core.ts (18,20): error TS2339: Property\n  'validator' does not exist on type 'JQueryStatic'.</p>\n</blockquote>\n\n<p>Here is my import in core.ts :</p>\n\n<pre><code>import jQuery = require(\"jquery\");\nimport \"jquery-validation\"\n</code></pre>\n\n<p>And my webpack config : </p>\n\n<pre><code>'use strict';\n\nvar webpack = require('webpack');\nvar path = require('path');\n\nmodule.exports = {\n    cache: true,\n    entry: {\n        main: './wwwroot/scripts/ts/public/index.ts'\n    },\n    output: {\n        path: path.resolve(__dirname, './wwwroot/scripts/js'),\n        filename: '[name].js',\n    },\n    plugins: [\n        new webpack.ProvidePlugin({\n            jQuery: 'jquery',\n            $: 'jquery',\n            jquery: 'jquery'\n        })\n    ],\n    module: {\n        loaders: [{\n            test: /\\.ts$/,\n            exclude: /node_modules/,\n            loader: 'ts-loader'\n        }, {\n            test: /\\.js$/,\n            exclude: /node_modules/,\n\n        }]\n\n    },\n    resolve: {\n        extensions: ['.ts', '.tsx', '.js']\n\n    }\n};\n</code></pre>\n\n<p>I already found a lot of thing with Google, but any solution works for me, so if anyone have an idea...</p>\n"}, {"tags": ["typescript", "typescript2.3"], "comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1495571741, "post_id": 44144178, "comment_id": 75306747, "body": "The good news is that while it allows through excess properties (<code>this_is_not_ok</code>) it does not allow missing properties (missing <code>ok</code>) or wrong property values (<code>ok</code> value other than <code>boolean</code>)"}, {"owner": {"reputation": 6433, "user_id": 1064917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/219d10e3fc486c3173291954195d537c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/1064917/rick"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1495571790, "post_id": 44144178, "comment_id": 75306761, "body": "Aaron: Interesting. Is there any explanation in the TS docs as to why?"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1495571997, "post_id": 44144178, "comment_id": 75306864, "body": "I&#39;m not sure but I think it relates to TS type <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#substitutability\" rel=\"nofollow noreferrer\">substitutability</a>"}], "answers": [{"comments": [{"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1495572279, "post_id": 44144578, "comment_id": 75307038, "body": "Is this the same principal that allows us to do things like <code>interface Foo { foo }; const bar = { foo: 1, bar: 2}; const foo: Foo = bar</code> without errors?"}, {"owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1495572773, "post_id": 44144578, "comment_id": 75307288, "body": "More or less, yes."}], "tags": [], "owner": {"reputation": 162223, "user_id": 1704166, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d256baab2fcfd81b0f109d394404fd67?s=128&d=identicon&r=PG", "display_name": "Ryan Cavanaugh", "link": "https://stackoverflow.com/users/1704166/ryan-cavanaugh"}, "is_accepted": true, "score": 9, "last_activity_date": 1495571941, "creation_date": 1495571941, "answer_id": 44144578, "question_id": 44144178, "link": "https://stackoverflow.com/questions/44144178/typescript-doesnt-catch-state-type-errors-outside-of-constructor/44144578#44144578", "title": "Typescript doesn&#39;t catch `state` type errors outside of constructor?", "body": "<blockquote>\n  <p>I have set default state values incorrectly</p>\n</blockquote>\n\n<p>You haven't set the values incorrectly. You've simply written a class which has more state than the base class, which is not an error <em>per se</em>. When you write a derived class, you can have more stuff than your base class.</p>\n\n<p>When you write a class property initializer without a type annotation, TypeScript infers the type of the property based on the initializer:</p>\n\n<pre><code>interface Bar {\n  stuff: { x: number }\n}\n\nclass Foo implements Bar {\n  stuff = {\n    x: 10, y: 3\n  }\n}\nconst f = new Foo();\nconsole.log(f.stuff.y); // OK: f.stuff is of type { x: number; y: number; }\n</code></pre>\n\n<p>The <code>implements</code> check simply means \"Make sure this class <em>can be used</em> as the interface type\". The same thing happens for a derived class: because you have <em>at least</em> the stuff mandated by the contract of the base class, then everything is fine.</p>\n\n<p>If you have an explicit type annotation, or do the initialization in the constructor, then the general rules for assigning an object literal apply - no extra properties allowed.</p>\n\n<hr>\n\n<p>For what it's worth, this behavior might change in a future release of TypeScript. See <a href=\"https://github.com/Microsoft/TypeScript/issues/10570\" rel=\"noreferrer\">https://github.com/Microsoft/TypeScript/issues/10570</a></p>\n"}], "owner": {"reputation": 6433, "user_id": 1064917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/219d10e3fc486c3173291954195d537c?s=128&d=identicon&r=PG", "display_name": "Rick", "link": "https://stackoverflow.com/users/1064917/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "accepted_answer_id": 44144578, "answer_count": 1, "score": 3, "last_activity_date": 1495571941, "creation_date": 1495570341, "question_id": 44144178, "link": "https://stackoverflow.com/questions/44144178/typescript-doesnt-catch-state-type-errors-outside-of-constructor", "title": "Typescript doesn&#39;t catch `state` type errors outside of constructor?", "body": "<p><a href=\"https://i.stack.imgur.com/IPtjJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IPtjJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the image above, I have set default <code>state</code> values incorrectly (<code>this_is_not_ok</code> is not part of the <code>State</code> interface). Typescript does not seem to mind, though. One way to fix the issue was to explicitly add a type annotation.</p>\n\n<p>I could also fix the issue by using a <code>constructor()</code>:</p>\n\n<p><code>\n    constructor(){\n      super();\n      this.state = {spelling_error: \"wrong\"};\n    }\n</code></p>\n\n<p>Why did type inference not work in the first example?</p>\n"}, {"tags": ["angular", "typescript", "d3.js"], "owner": {"reputation": 279, "user_id": 4775353, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2518befdaf3da0f4a0c9cdbe6b69663a?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Kirkegaard", "link": "https://stackoverflow.com/users/4775353/michael-kirkegaard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495569381, "creation_date": 1495569381, "question_id": 44143938, "link": "https://stackoverflow.com/questions/44143938/angular4-d3-js-undefined-length", "title": "Angular(4) d3.js undefined length", "body": "<p>i am currently trying to rewrite the code of a Mike Bostocks multi bar chart from javascript to typescript in angular(4) \nhere is the original block:</p>\n\n<p><a href=\"http://bl.ocks.org/mbostock/3943967\" rel=\"nofollow noreferrer\">http://bl.ocks.org/mbostock/3943967</a></p>\n\n<p>i get the following errors from the console:\n<a href=\"https://i.imgur.com/G4dWu6q.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/G4dWu6q.png</a></p>\n\n<pre><code>EXCEPTION: Error in :0:0 caused by: Cannot read property 'length' of undefined\n\nORIGINAL EXCEPTION: Cannot read property 'length' of undefined\n\nUnhandled Promise rejection: Error in :0:0 caused by: Cannot read property 'length' of undefined ; Zone: &lt;root&gt; ; Task: Promise.then ; Value:\n</code></pre>\n\n<p>i have just done a fresh install of a angular cli project and then installed d3 with the following commands:</p>\n\n<pre><code>ng new d3test\nnpm install --save d3\nnpm install --save-dev @types/d3\n</code></pre>\n\n<p>This is my code:</p>\n\n<p>app.component.html:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;label&gt;&lt;input type=\"radio\" name=\"mode\" value=\"grouped\"&gt; Grouped&lt;/label&gt;\n  &lt;label&gt;&lt;input type=\"radio\" name=\"mode\" value=\"stacked\" checked&gt; Stacked&lt;/label&gt;\n&lt;/form&gt;\n&lt;svg width=\"960\" height=\"500\"&gt;&lt;/svg&gt;\n</code></pre>\n\n<p>app.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport * as d3 from 'd3/index';\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent implements OnInit {\n  private n; // The number of series.\n  private m; // The number of values per series.\n\n  // The xz array has m elements, representing the x-values shared by all series.\n  // The yz array has n elements, representing the y-values of each of the n series.\n  // Each yz[i] is an array of m non-negative numbers representing a y-value for xz[i].\n  // The y01z array has the same structure as yz, but with stacked [y0, y1] instead of y.\n  private xz;\n  private yz;\n  private y01z;\n  private yMax;\n  private y1Max;\n\n  private svg;\n  private margin;\n  private width;\n  private height;\n  private g;\n\n  private x;\n\n  private y;\n\n  private color;\n\n  private series;\n\n  private rect;\n\n  ngOnInit() {\n    this.n = 4; // The number of series.\n    this.m = 58; // The number of values per series.\n\n    // The xz array has m elements, representing the x-values shared by all series.\n    // The yz array has n elements, representing the y-values of each of the n series.\n    // Each yz[i] is an array of m non-negative numbers representing a y-value for xz[i].\n    // The y01z array has the same structure as yz, but with stacked [y0, y1] instead of y.\n    this.xz = d3.range(this.m);\n    this.yz = d3.range(this.n).map(() =&gt; {\n      return this.bumps(this.m);\n    });\n    this.y01z = d3.stack().keys(&lt;any&gt;d3.range(this.n))(&lt;any&gt;d3.transpose(this.yz));\n    this.yMax = d3.max(this.yz, (y) =&gt; {\n      return d3.max(this.y);\n    });\n    this.y1Max = d3.max(this.y01z, (y) =&gt; {\n      return d3.max(this.y, (d) =&gt; {\n        return d[1];\n      });\n    });\n\n    this.svg = d3.select(\"svg\");\n    this.margin = {\n      top: 40,\n      right: 10,\n      bottom: 20,\n      left: 10\n    };\n    this.width = +this.svg.attr(\"width\") - this.margin.left - this.margin.right;\n    this.height = +this.svg.attr(\"height\") - this.margin.top - this.margin.bottom;\n    this.g = this.svg.append(\"g\").attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\n    this.init();\n  }\n\n  init() {\n    this.x = d3.scaleBand()\n      .domain(this.xz)\n      .rangeRound([0, this.width])\n      .padding(0.08);\n\n    this.y = d3.scaleLinear()\n      .domain([0, this.y1Max])\n      .range([this.height, 0]);\n\n    this.color = d3.scaleOrdinal()\n      .domain(&lt;any&gt;d3.range(this.n))\n      .range(d3.schemeCategory20c);\n\n    this.series = this.g.selectAll(\".series\")\n      .data(this.y01z)\n      .enter().append(\"g\")\n      .attr(\"fill\", (d, i) =&gt; {\n        return this.color(i);\n      });\n\n    this.rect = this.series.selectAll(\"rect\")\n      .data((d) =&gt; {\n        return d;\n      })\n      .enter().append(\"rect\")\n      .attr(\"x\", (d, i) =&gt; {\n        return this.x(i);\n      })\n      .attr(\"y\", this.height)\n      .attr(\"width\", this.x.bandwidth())\n      .attr(\"height\", 0);\n\n    this.rect.transition()\n      .delay((d, i) =&gt; {\n        return i * 10;\n      })\n      .attr(\"y\", (d) =&gt; {\n        return this.y(d[1]);\n      })\n      .attr(\"height\", (d) =&gt; {\n        return this.y(d[0]) - this.y(d[1]);\n      });\n\n    this.g.append(\"g\")\n      .attr(\"class\", \"axis axis--x\")\n      .attr(\"transform\", \"translate(0,\" + this.height + \")\")\n      .call(d3.axisBottom(this.x)\n        .tickSize(0)\n        .tickPadding(6));\n\n    d3.selectAll(\"input\")\n      .on(\"change\", this.changed);\n  }\n\n  private timeout = d3.timeout(() =&gt; {\n    d3.select(\"input[value=\\\"grouped\\\"]\")\n      .property(\"checked\", true)\n      .dispatch(\"change\");\n  }, 2000);\n\n  changed() {\n    this.timeout.stop();\n    //used to be this.value\n    if (d3.event.currentTarget.value === \"grouped\") {\n      this.transitionGrouped();\n    } else {\n      this.transitionStacked();\n    }\n  }\n\n  transitionGrouped() {\n    this.y.domain([0, this.yMax]);\n\n    this.rect.transition()\n      .duration(500)\n      .delay((d, i) =&gt; {\n        return i * 10;\n      })\n      .attr(\"x\", (d, i) =&gt; {\n        return this.x(i) + this.x.bandwidth() / this.n * d3.event.currentTarget.parentNode.__data__.key;\n      })\n      .attr(\"width\", this.x.bandwidth() / this.n)\n      .transition()\n      .attr(\"y\", (d) =&gt; {\n        return this.y(d[1] - d[0]);\n      })\n      .attr(\"height\", (d) =&gt; {\n        return this.y(0) - this.y(d[1] - d[0]);\n      });\n  }\n\n  transitionStacked() {\n    this.y.domain([0, this.y1Max]);\n\n    this.rect.transition()\n      .duration(500)\n      .delay((d, i) =&gt; {\n        return i * 10;\n      })\n      .attr(\"y\", (d) =&gt; {\n        return this.y(d[1]);\n      })\n      .attr(\"height\", (d) =&gt; {\n        return this.y(d[0]) - this.y(d[1]);\n      })\n      .transition()\n      .attr(\"x\", (d, i) =&gt; {\n        return this.x(i);\n      })\n      .attr(\"width\", this.x.bandwidth());\n  }\n\n  // Returns an array of m psuedorandom, smoothly-varying non-negative numbers.\n  // Inspired by Lee Byron\u2019s test data generator.\n  // http://leebyron.com/streamgraph/\n  bumps(m) {\n    var values = [],\n      i, j, w, x, y, z;\n\n    // Initialize with uniform random values in [0.1, 0.2).\n    for (i = 0; i &lt; m; ++i) {\n      values[i] = 0.1 + 0.1 * Math.random();\n    }\n\n    // Add five random bumps.\n    for (j = 0; j &lt; 5; ++j) {\n      x = 1 / (0.1 + Math.random());\n      y = 2 * Math.random() - 0.5;\n      z = 10 / (0.1 + Math.random());\n      for (i = 0; i &lt; m; i++) {\n        w = (i / m - y) * z;\n        values[i] += x * Math.exp(-w * w);\n      }\n    }\n\n    // Ensure all values are positive.\n    for (i = 0; i &lt; m; ++i) {\n      values[i] = Math.max(0, values[i]);\n    }\n\n    return values;\n  }\n\n}\n</code></pre>\n\n<p>i know it is quite a lot of code but i really dont understand where the problem is. If i have to quess it could be where the function d3.max is used, but again i am not sure.</p>\n"}, {"tags": ["javascript", "angularjs", "typescript", "hopscotch"], "comments": [{"owner": {"reputation": 6116, "user_id": 2162893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5SkG.jpg?s=128&g=1", "display_name": "AP.", "link": "https://stackoverflow.com/users/2162893/ap"}, "edited": false, "score": 0, "creation_date": 1495570186, "post_id": 44143923, "comment_id": 75305937, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41219542/how-to-import-js-modules-into-typescript-file\">How to import js-modules into TypeScript file?</a>"}, {"owner": {"reputation": 6116, "user_id": 2162893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5SkG.jpg?s=128&g=1", "display_name": "AP.", "link": "https://stackoverflow.com/users/2162893/ap"}, "edited": false, "score": 0, "creation_date": 1495570197, "post_id": 44143923, "comment_id": 75305943, "body": "Possible Dublicate: <a href=\"https://stackoverflow.com/questions/41219542/how-to-import-js-modules-into-typescript-file\" title=\"how to import js modules into typescript file\">stackoverflow.com/questions/41219542/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1028, "user_id": 1455558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e10081df1509add8e8060624402505e3?s=128&d=identicon&r=PG", "display_name": "yohosuff", "link": "https://stackoverflow.com/users/1455558/yohosuff"}, "is_accepted": false, "score": 0, "last_activity_date": 1518135830, "creation_date": 1518135830, "answer_id": 48696893, "question_id": 44143923, "link": "https://stackoverflow.com/questions/44143923/trouble-calling-loading-js-classes-and-functions-from-simple-angular2-app-writt/48696893#48696893", "title": "trouble calling/Loading .js classes and functions from simple Angular2 app written in .ts", "body": "<p>This is what I did with Angular 4.4.6:</p>\n\n<p>Install hopscotch.</p>\n\n<pre><code>npm install hopscotch --save\n</code></pre>\n\n<p>In \".angular-cli.json\"...</p>\n\n<pre><code>{\n  \"apps\": [\n    {\n      \"styles\": [\n        \"../node_modules/hopscotch/dist/css/hopscotch.min.css\"\n      ]\n    }\n  ]\n}\n</code></pre>\n\n<p>In \"your.component.html\"...</p>\n\n<pre><code>&lt;div #elementOneId&gt;Element One&lt;/div&gt;\n&lt;div #elementTwoId&gt;Element Two&lt;/div&gt;    \n&lt;button (click)=\"doTour()\"&gt;Do Tour&lt;/button&gt;\n</code></pre>\n\n<p>In \"your.component.ts\"...</p>\n\n<pre><code>import * as hopscotch from 'hopscotch';\n\nexport class YourComponent {\n\n  @ViewChild('elementOneId') elementOne: ElementRef;\n  @ViewChild('elementTwoId') elementTwo: ElementRef;\n\n  doTour() {      \n    var tour = {\n      id: \"hello-hopscotch\",\n      steps: [\n        {\n          title: \"Step 1\",\n          content: \"blah blah blah\",\n          target: this.elementOne.nativeElement,\n          placement: \"left\"\n        },\n        {\n          title: \"Step 2\",\n          content: \"I am the step for element 2...\",\n          target: this.elementTwo.nativeElement,\n          placement: \"bottom\"\n        },\n      ]\n    };\n\n    hopscotch.startTour(tour);\n\n  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8054587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed5c8ec598dfe146fabc2be940a6e2c0?s=128&d=identicon&r=PG&f=1", "display_name": "Rbrt Mlt", "link": "https://stackoverflow.com/users/8054587/rbrt-mlt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518135830, "creation_date": 1495569352, "last_edit_date": 1495569746, "question_id": 44143923, "link": "https://stackoverflow.com/questions/44143923/trouble-calling-loading-js-classes-and-functions-from-simple-angular2-app-writt", "title": "trouble calling/Loading .js classes and functions from simple Angular2 app written in .ts", "body": "<p>I have a simple angular application (<a href=\"https://angular.io/resources/live-examples/toh-6/ts/eplnkr.html\" rel=\"nofollow noreferrer\">https://angular.io/resources/live-examples/toh-6/ts/eplnkr.html</a>) and I am attempting to add graphical overlays using <em>hopscotch.js</em> (<a href=\"http://linkedin.github.io/hopscotch/\" rel=\"nofollow noreferrer\">http://linkedin.github.io/hopscotch/</a>). I got hopscotch to run successfully from my <em>index.html</em> by calling this script:</p>\n\n<pre><code>` //my_tour.js\n  // Define the tour!\n  var tour = {\n    id: \"hello-hopscotch\",\n    steps: [\n      {\n        title: \"My Header\",\n        content: \"This is the header of my page.\",\n        target: \"title\",\n        placement: \"bottom\"\n      }\n    ]\n  };\n\n  // Start the tour!\n  hopscotch.startTour(tour);`\n</code></pre>\n\n<p>but when trying to make it apart of my angular app I cannot/do not know how to correctly connect it with its dependencies(<em>hopscotch.js</em>, <em>hopscotch.css</em>). I am very new to angular2 and have spent most of today researching this but to no avail. Something as simple as a <em>.ts</em> file that is apart of my app and can make a call to <em>hopscotch.startTour(tour);</em> would be sufficient. Any help would be appreciated! Thanks.</p>\n"}, {"tags": ["typescript", "immutable.js"], "answers": [{"tags": [], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "is_accepted": true, "score": 1, "last_activity_date": 1495654058, "creation_date": 1495654058, "answer_id": 44166975, "question_id": 44143867, "link": "https://stackoverflow.com/questions/44143867/immutable-js-fromjs-is-not-returning-an-immutable-object/44166975#44166975", "title": "Immutable.js fromJS() is not returning an immutable object", "body": "<p>I found my answer <a href=\"https://stackoverflow.com/questions/40661729/immutable-fromjs-is-not-deep/44148628#44148628\">HERE</a>. Apparently ES6 classes give <code>immutable.js</code> issues, surprisingly. there are solutions though.</p>\n"}], "owner": {"reputation": 3313, "user_id": 10235442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iqWfP.png?s=128&g=1", "display_name": "Nate May", "link": "https://stackoverflow.com/users/10235442/nate-may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 44166975, "answer_count": 1, "score": 1, "last_activity_date": 1495654058, "creation_date": 1495569154, "question_id": 44143867, "link": "https://stackoverflow.com/questions/44143867/immutable-js-fromjs-is-not-returning-an-immutable-object", "title": "Immutable.js fromJS() is not returning an immutable object", "body": "<p>I'm using <code>\"immutable\": \"^3.8.1\",</code> in my redux store (ngrx). I know that it's installed because I have successfully converted my stated into an immutable object</p>\n\n<pre><code>const immState = Imm.fromJS(state);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/guFvi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/guFvi.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I hit an issue when I tried to delete a deeply nested item with this command:</p>\n\n<pre><code>return immState.deleteIn(['days', dayKey, 'userMeals', state.focus_user], meal._id);\n</code></pre>\n\n<p>Immutable.js is throwing an error when it hits <code>'userMeals'</code> and upon further investigation, it seems that <code>Imm.fromJS()</code> is not converting a deeply nest object into an immutable structure. In the image below I try to access that property directly, but it is still not converting it into an immutable object.</p>\n\n<p><a href=\"https://i.stack.imgur.com/J9M7K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J9M7K.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is this somehow the expected behavior or am I missing something?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-directives", "angular2-observables"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1495568441, "post_id": 44143670, "comment_id": 75305084, "body": "What is the actual problem you&#39;re trying to solve with this; could you provide some context?"}, {"owner": {"reputation": 756, "user_id": 7449607, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/660182950781662/picture?type=large", "display_name": "Fzum", "link": "https://stackoverflow.com/users/7449607/fzum"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1495568713, "post_id": 44143670, "comment_id": 75305226, "body": "The context is that i want to measure the time between the start of the iteration and the end of it. So when i am iterating over an array of 5000 elements i want to save the current time in a variable at the firt array-index and then again safe the current time at the very last array index. So that with the difference of these time-values i can get the actual time needed for the iteration process. I hope thats understandable."}, {"owner": {"reputation": 10065, "user_id": 1784230, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/rm5ev.jpg?s=128&g=1", "display_name": "s.alem", "link": "https://stackoverflow.com/users/1784230/s-alem"}, "edited": false, "score": 0, "creation_date": 1495568836, "post_id": 44143670, "comment_id": 75305304, "body": "Show the code, I am sure that there&#39;s a good way to solve it."}, {"owner": {"reputation": 1277, "user_id": 836701, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f442ba379d70dd13c330a6b28df2b7e2?s=128&d=identicon&r=PG", "display_name": "Alex Po", "link": "https://stackoverflow.com/users/836701/alex-po"}, "edited": false, "score": 0, "creation_date": 1495569177, "post_id": 44143670, "comment_id": 75305473, "body": "Maybe you can try trackBy (<a href=\"https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/api/common/index/NgFor-directive.&zwnj;&#8203;html</a>) function where you will compare current index with length. If index equals length then you can get time of very last index."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1495569774, "post_id": 44143670, "comment_id": 75305746, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35819264/angular-2-callback-when-ngfor-has-finished\">Angular 2: Callback when ngFor has finished</a>"}], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 7449607, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/660182950781662/picture?type=large", "display_name": "Fzum", "link": "https://stackoverflow.com/users/7449607/fzum"}, "is_accepted": true, "score": 0, "last_activity_date": 1495573298, "creation_date": 1495573298, "answer_id": 44144950, "question_id": 44143670, "link": "https://stackoverflow.com/questions/44143670/angular-2-set-boolean-at-end-of-iteration-using-ngfor/44144950#44144950", "title": "Angular 2 set boolean at end of iteration using *ngFor", "body": "<p>As Alex Po already mentioned, trackBy is working. As you can see in the following snippet, with trackBy it is possible to handle events based on the current index of the iteration.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;tbody&gt;\r\n  &lt;tr style=\"text-align: center\" *ngFor=\"let buchforTable of buecher; trackBy: trackByFn\"&gt;\r\n    &lt;td&gt;{{buchforTable.author}}&lt;/td&gt;\r\n    &lt;td&gt;{{buchforTable.erscheinungsdatum}}&lt;/td&gt;\r\n    &lt;td&gt;{{buchforTable.isbn.toString()}}&lt;/td&gt;\r\n    &lt;td&gt;{{buchforTable.verlag}}&lt;/td&gt;\r\n    &lt;td&gt;{{buchforTable.uuid}}&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/tbody&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To measure the time of the rendering process of all array-objects the trackBy-function would look like this (array contains 5000 objects here -> index 0 to 4999):</p>\n\n<pre><code> trackByFn(index){\n    if(index == 0)\n      this.renderStart = performance.now();\n    if(index == 4999) {\n      var renderStopp = performance.now();\n      var timeToRender = renderStopp - this.renderStart;\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 756, "user_id": 7449607, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/660182950781662/picture?type=large", "display_name": "Fzum", "link": "https://stackoverflow.com/users/7449607/fzum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 44144950, "answer_count": 1, "score": 0, "last_activity_date": 1495573298, "creation_date": 1495568382, "last_edit_date": 1495569454, "question_id": 44143670, "link": "https://stackoverflow.com/questions/44143670/angular-2-set-boolean-at-end-of-iteration-using-ngfor", "title": "Angular 2 set boolean at end of iteration using *ngFor", "body": "<p>I am loading some data via rest-endport to safe it in an array. In an *ngFor directive i am currently iterating through all that data. So everthing is working.</p>\n\n<p>Is there any possible way in Angular to e.g. set a boolean whenever the iteration of the array is finished (so that i can fire another function on complete)?</p>\n\n<p>-- <strong>Edit</strong>--</p>\n\n<p>On the ngOnInit lifecycle method i am retreiving the data:</p>\n\n<pre><code>ngOnInit() {\n   this.restService.getSomeBooks(5000).subscribe(buch =&gt; {\n     this.buecher = buch;\n     this.fetched = true;\n   })\n}\n</code></pre>\n\n<p>After that - in HTML - i am iterating over that data: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;table&gt;\r\n      &lt;thead&gt;some table-heads&lt;/thead&gt;\r\n      &lt;tbody&gt;\r\n      &lt;tr style=\"text-align: center\"  *ngFor=\"let buchforTable of buecher\"&gt;\r\n        &lt;td&gt;{{buchforTable.author}}&lt;/td&gt;\r\n        &lt;td&gt;{{buchforTable.erscheinungsdatum}}&lt;/td&gt;\r\n        &lt;td&gt;{{buchforTable.isbn.toString()}}&lt;/td&gt;\r\n        &lt;td&gt;{{buchforTable.verlag}}&lt;/td&gt;\r\n        &lt;td&gt;{{buchforTable.uuid}}&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n      &lt;/tbody&gt;\r\n    &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The *ngFor-iteration should set a boolean variable whenever it is done.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "d3.js"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7803780"}, "edited": false, "score": 0, "creation_date": 1508676563, "post_id": 44143257, "comment_id": 80695448, "body": "@ A. Blom...Can you please create a working plunker for bullet Chart, so that it may help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7803780"}, "edited": false, "score": 0, "creation_date": 1508676682, "post_id": 44143257, "comment_id": 80695488, "body": "Where do you put &#39;bullet.js&#39; in angular2 app."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8055485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b25a8361baea84b8aac8b29e813d6b6?s=128&d=identicon&r=PG&f=1", "display_name": "A. Blom", "link": "https://stackoverflow.com/users/8055485/a-blom"}, "edited": false, "score": 0, "creation_date": 1495570138, "post_id": 44143528, "comment_id": 75305910, "body": "Thank you, this was helpful!"}], "tags": [], "owner": {"reputation": 4362, "user_id": 1638626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/f2O0e.jpg?s=128&g=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/1638626/florian"}, "is_accepted": false, "score": 1, "last_activity_date": 1495568201, "last_edit_date": 1495568201, "creation_date": 1495567869, "answer_id": 44143528, "question_id": 44143257, "link": "https://stackoverflow.com/questions/44143257/bullet-chart-in-angular-with-d3/44143528#44143528", "title": "bullet chart in Angular with d3", "body": "<p>Remove the <code>.selectAll('svg').enter()</code>. Enter only works after a <code>.data()</code> join. Have a look at <a href=\"https://bost.ocks.org/mike/join/\" rel=\"nofollow noreferrer\">Mike Bostock's <em>Thinking with Joins</em></a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 8055485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b25a8361baea84b8aac8b29e813d6b6?s=128&d=identicon&r=PG&f=1", "display_name": "A. Blom", "link": "https://stackoverflow.com/users/8055485/a-blom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495570714, "creation_date": 1495566900, "last_edit_date": 1495570714, "question_id": 44143257, "link": "https://stackoverflow.com/questions/44143257/bullet-chart-in-angular-with-d3", "title": "bullet chart in Angular with d3", "body": "<p>I use <a href=\"https://bl.ocks.org/mbostock/4061961\" rel=\"nofollow noreferrer\">this</a> code to create a bullet chart with d3. Now I want to create a bullet chart in an Angular component.\nI'm new to d3 so i tried to convert the code to typescript.</p>\n\n<p><a href=\"https://jsfiddle.net/h4xx0gus/1/\" rel=\"nofollow noreferrer\">Here</a> is my code. I know there are mistakes in the code. Could you help me to make it working?</p>\n\n<pre><code>this.svg = d3.select('body').selectAll('svg')\n  .enter().append('svg')\n  .attr('class', 'bullet')\n  .attr('width', 100 + this.margin.left + this.margin.right)\n  .attr('height', 300 + this.margin.top + this.margin.bottom);\n\nthis.g = this.svg.append('g')\n  .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.top + ')')\n;\n</code></pre>\n\n<p>This is the svg init function. I should create a svg element in the dom, but it doesn't.\nIn the example <code>.attr('class', 'bullet')</code> does the work. But this will not work in angular.\nAny ideas?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7063, "user_id": 1860652, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/a3Lvr.jpg?s=128&g=1", "display_name": "AlexFoxGill", "link": "https://stackoverflow.com/users/1860652/alexfoxgill"}, "edited": false, "score": 0, "creation_date": 1495568367, "post_id": 44143336, "comment_id": 75305050, "body": "Perfect, I should&#39;ve thought of that. Thanks!"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1495567206, "creation_date": 1495567206, "answer_id": 44143336, "question_id": 44143251, "link": "https://stackoverflow.com/questions/44143251/can-the-compiler-infer-the-return-type-of-a-class-constructor/44143336#44143336", "title": "Can the compiler infer the return type of a class constructor?", "body": "<p>You over complicated your function signature, this version works:</p>\n\n<pre><code>function bar&lt;TInstance&gt;(t: { new (): TInstance }): TInstance {\n    return new t();\n}\n\nconst x = bar(Foo); // x is of type Foo\n</code></pre>\n"}], "owner": {"reputation": 7063, "user_id": 1860652, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/a3Lvr.jpg?s=128&g=1", "display_name": "AlexFoxGill", "link": "https://stackoverflow.com/users/1860652/alexfoxgill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 44143336, "answer_count": 1, "score": 0, "last_activity_date": 1495567206, "creation_date": 1495566880, "question_id": 44143251, "link": "https://stackoverflow.com/questions/44143251/can-the-compiler-infer-the-return-type-of-a-class-constructor", "title": "Can the compiler infer the return type of a class constructor?", "body": "<p>Given a class definition:</p>\n\n<pre><code>class Foo {\n\n}\n</code></pre>\n\n<p>and a type-parameterised function accepting a class function:</p>\n\n<pre><code>function bar&lt;TInstance, TClass extends { new (): TInstance }&gt;(t: TClass): TInstance {\n    return new t() // more complicated in reality, focus on the compiler!\n}\n</code></pre>\n\n<p>I can call the function on the class constructor without type complaints:</p>\n\n<pre><code>const x = bar(Foo)\n</code></pre>\n\n<p>However, the type of <code>x</code> here is <code>{}</code>, not <code>Foo</code>.</p>\n\n<p>I can call it with explicit type parameters:</p>\n\n<pre><code>const x = bar&lt;Foo, typeof Foo&gt;(Foo)\n</code></pre>\n\n<p>... but that's really boilerplate-y</p>\n\n<p><strong>Is there any way to get type inference on this method</strong> to avoid the boilerplate?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ngoninit"], "comments": [{"owner": {"reputation": 1510, "user_id": 2278866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a4ac1f17aa3c1ff41790fe10439af1?s=128&d=identicon&r=PG", "display_name": "Joo Beck", "link": "https://stackoverflow.com/users/2278866/joo-beck"}, "edited": false, "score": 1, "creation_date": 1495566233, "post_id": 44142831, "comment_id": 75303985, "body": "I disagree, this is not a simple &quot;I have an issue in my code, fix it for me&quot; it is a misunderstanding of why they are getting a result they are getting.  That is exactly what stack overflow it for."}], "answers": [{"comments": [{"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1495566851, "post_id": 44143048, "comment_id": 75304290, "body": "Much appreciated, @Joo_Beck! The first of your two &quot;kill two birds with one stone&quot; suggested solutions worked: ngOnInit() {     this.firstNameFirstLetter = this.getFirstNameFirstLetter();     this.lastNameFirstLetter = this.getLastNameFirstLetter();     this.getInitials(this.firstNameFirstLetter, this.lastNameFirstLetter); }"}, {"owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "edited": false, "score": 0, "creation_date": 1495566982, "post_id": 44143048, "comment_id": 75304352, "body": "So basically, what&#39;s happening here is, in the OnInit, I&#39;m first assigning the values to the results of the two functions. And THEN I&#39;m running the &quot;getInitials()&quot; function - which ensures that values are available at run-time of the function."}], "tags": [], "owner": {"reputation": 1510, "user_id": 2278866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52a4ac1f17aa3c1ff41790fe10439af1?s=128&d=identicon&r=PG", "display_name": "Joo Beck", "link": "https://stackoverflow.com/users/2278866/joo-beck"}, "is_accepted": true, "score": 1, "last_activity_date": 1495566090, "creation_date": 1495566090, "answer_id": 44143048, "question_id": 44142831, "link": "https://stackoverflow.com/questions/44142831/passed-in-values-not-available-at-run-time-of-function-in-angular-app/44143048#44143048", "title": "Passed-in Values Not Available at Run-time of Function in Angular App", "body": "<p>So what is happening here is that JavaScript doesn't think you are using the return values for getFirstNameFirstLetter and getLastNameFirstLetter, so when it makes the call, instead of waiting for that call to finish, it goes on to the next one, which introduces a race condition.  if you simply change it to </p>\n\n<pre><code>ngOnInit() {\n    let temp1 = this.getFirstNameFirstLetter();\n    let temp2 = this.getLastNameFirstLetter();\n    this.getInitials(this.firstNameFirstLetter, this.lastNameFirstLetter);\n}\n</code></pre>\n\n<p>then it will wait for the previous functions to finish before calling the next.</p>\n\n<hr>\n\n<p>Also, I don't use const very often, so I could be wrong and it could follow different scope rules, but by normal scope rules, setting a variable in that function, it is only available in that function, you would need to set it as </p>\n\n<pre><code>this.firstNameFirstLetter = firstName.trim().charAt(0);\n</code></pre>\n\n<p>to have access to it outside the function.</p>\n\n<hr>\n\n<p>Or, so as to kill two birds with one stone, you could do</p>\n\n<pre><code>ngOnInit() {\n    this.firstNameFirstLetter = this.getFirstNameFirstLetter();\n    this.lastNameFirstLetter = this.getLastNameFirstLetter();\n    this.getInitials(this.firstNameFirstLetter, this.lastNameFirstLetter);\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ngOnInit() {\n    let firstNameFirstLetter = this.getFirstNameFirstLetter();\n    let lastNameFirstLetter = this.getLastNameFirstLetter();\n    this.getInitials(firstNameFirstLetter, lastNameFirstLetter);\n}\n</code></pre>\n\n<p>depending on if you need the variables again or just for that function.</p>\n"}], "owner": {"reputation": 1193, "user_id": 7934883, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/72e6853fe6cb075569d0c9add5f920bd?s=128&d=identicon&r=PG&f=1", "display_name": "Rey", "link": "https://stackoverflow.com/users/7934883/rey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 44143048, "answer_count": 1, "score": 0, "last_activity_date": 1495566090, "creation_date": 1495565427, "last_edit_date": 1495566073, "question_id": 44142831, "link": "https://stackoverflow.com/questions/44142831/passed-in-values-not-available-at-run-time-of-function-in-angular-app", "title": "Passed-in Values Not Available at Run-time of Function in Angular App", "body": "<p>I realize there is something I'm missing in terms of how and specifically <em>when</em> the products of certain functions are available in JavaScript. </p>\n\n<p>In my Angular app, in order to get a user's initials, I am parsing data being returned from the API, and retrieving the first letter of the firstName, as well as the first letter of lastName in two different functions. These two functions are working as expected, and I can see the correct results in the console:</p>\n\n<pre><code>getFirstNameFirstLetter() {\n    if (this.authenticationService.isAuthenticated()) {\n        const userObj = JSON.parse(sessionStorage.getItem('currentUser'));\n        const userInfo = userObj.data;\n        const firstName = userInfo.name.first;\n        const firstNameFirstLetter = firstName.trim().charAt(0);\n        console.log(firstNameFirstLetter);\n        return firstNameFirstLetter;\n    }\n}\n\ngetLastNameFirstLetter() {\n    if (this.authenticationService.isAuthenticated()) {\n        const userObj = JSON.parse(sessionStorage.getItem('currentUser'));\n        const userInfo = userObj.data;\n        const lastName = userInfo.name.last;\n        const lastNameFirstLetter = lastName.trim().charAt(0);\n        console.log(lastNameFirstLetter);\n        return lastNameFirstLetter;\n    }\n}\n</code></pre>\n\n<p>Now comes the part I'm not fully understanding. When I then pass the returned values of these two functions, in order to get the initials, like this:</p>\n\n<pre><code>getInitials(firstNameFirstLetter, lastNameFirstLetter) {\n    if (this.authenticationService.isAuthenticated()) {\n        if (!this.firstNameFirstLetter || !this.lastNameFirstLetter) {\n            console.log('Names not ready!');\n            return;\n        } else if (this.firstNameFirstLetter &amp;&amp; this.lastNameFirstLetter) {\n            console.log(firstNameFirstLetter + lastNameFirstLetter);\n            return firstNameFirstLetter + lastNameFirstLetter;\n        }\n    }\n}\n</code></pre>\n\n<p>... I get \"Names not ready!\" printed to the console each time. </p>\n\n<p>By the way, I am running these functions within Angular's ngOnInit life cycle hook, like this:</p>\n\n<pre><code>ngOnInit() {\n    this.getFirstNameFirstLetter();\n    this.getLastNameFirstLetter();\n    this.getInitials(this.firstNameFirstLetter, this.lastNameFirstLetter);\n}\n</code></pre>\n\n<p>I know this has something to do with what's available when, because I get 'undefined' when I use break points and debug the two values being passed into the \"getInitials()\" function. In other words, the function doesn't have access to the returned values of the other two functions at the time it's run -- hence I'm getting 'Names not ready!' printed to the console. My question is, what am I missing, architecturally, to resolve this kind of issue?</p>\n"}, {"tags": ["angular", "typescript", "singleton", "angular2-di"], "comments": [{"owner": {"reputation": 4093, "user_id": 675462, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/4ce47f47105a3bd1ca4700f02b5deff1?s=128&d=identicon&r=PG", "display_name": "papaiatis", "link": "https://stackoverflow.com/users/675462/papaiatis"}, "edited": false, "score": 0, "creation_date": 1504704319, "post_id": 44142634, "comment_id": 79114049, "body": "I get the same error even though I have <code>@Injectable()</code> set on my class."}], "answers": [{"tags": [], "owner": {"reputation": 3190, "user_id": 6370870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8f0380bd81cd044ae850954181a41d4?s=128&d=identicon&r=PG&f=1", "display_name": "Max K", "link": "https://stackoverflow.com/users/6370870/max-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1495568984, "creation_date": 1495568984, "answer_id": 44143819, "question_id": 44142634, "link": "https://stackoverflow.com/questions/44142634/cant-get-injector-in-angular-2/44143819#44143819", "title": "Can&#39;t get injector in angular 2", "body": "<p>Try to do this in next way:</p>\n\n<pre><code>constuctor( private drawingDataService: DrawingDataService)\n</code></pre>\n\n<p>And you can use it in next way:</p>\n\n<pre><code>this.drawingDataService.someMethod()\n</code></pre>\n"}], "owner": {"reputation": 618, "user_id": 5543350, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b7bbba0975288db7ec67f9c1fc8f2c52?s=128&d=identicon&r=PG&f=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/5543350/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495568984, "creation_date": 1495564759, "question_id": 44142634, "link": "https://stackoverflow.com/questions/44142634/cant-get-injector-in-angular-2", "title": "Can&#39;t get injector in angular 2", "body": "<p>I have <code>DrawingDataService</code> that contains array of my data and different tools to draw this data. I want to use <code>DrawingDataService</code> like singleton in all of my tools.</p>\n\n<p>I set <code>DrawingDataService</code> in AppModule providers list (to make as it singleton instance):</p>\n\n<pre><code>@NgModule({\ndeclarations: [\n    AppComponent\n],\nimports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n],\nproviders: [\n    DrawingDataService\n],\nbootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>Then I add injector in my tool:</p>\n\n<pre><code>export class LineTool extends BaseTool {\n\nconstructor(private injector: Injector) {\n\n    super();\n\n    let drawingDataService2 = this.injector.get(DrawingDataService);\n</code></pre>\n\n<p>And it says me that <code>this.injector</code> is null. \nIs it a good practice to make singleton service for storing data?</p>\n"}, {"tags": ["angular", "typescript", "openlayers-3"], "comments": [{"owner": {"reputation": 493, "user_id": 1394407, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/2WNoP.png?s=128&g=1", "display_name": "phanf", "link": "https://stackoverflow.com/users/1394407/phanf"}, "edited": false, "score": 0, "creation_date": 1496281680, "post_id": 44142512, "comment_id": 75600370, "body": "After researching the issue more, it seems to be related to ngOnInit() and the LifeCycle Hooks, See link below.  What I discovered was the app.component.ts fires ngOnInit() before the ol.component.ts ngOnInit(). Since the app.component.ts fires first, my object &quot;vectorSource&quot; would have not been created yet. I would believe this to be true with any object you tried to use regardless of Openlayers being involved. So how do you build a component and access at the same time? Is this a good case for a Promise? if so, then how?  <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/lifecycle-hooks.html</a>"}], "owner": {"reputation": 493, "user_id": 1394407, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/2WNoP.png?s=128&g=1", "display_name": "phanf", "link": "https://stackoverflow.com/users/1394407/phanf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3364, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1496103633, "creation_date": 1495564351, "last_edit_date": 1592644375, "question_id": 44142512, "link": "https://stackoverflow.com/questions/44142512/openlayers-and-angular-2-typescript", "title": "Openlayers and Angular 2 Typescript", "body": "<p>I'm trying to use Openlayers to dynamically load features from my API into a Layer after my Map is loaded from within app.component.ts. My error is <em><strong>&quot;ERROR TypeError: Cannot read property 'addFeature' of undefined&quot;</strong></em> if I call my function from my app.component.ts on ngOnInit,</p>\n<p>The source of my project was the following link although I've tried other examples without success. I cannot figure why my vectorSource object is NULL.</p>\n<p><a href=\"https://stackoverflow.com/questions/40852037/angular2-openlayers3-test-fails-when-map-renders-writing-tests-impossible\">Angular2 + Openlayers3: Test fails when map renders. Writing tests impossible?</a></p>\n<p>Below is the source code, I'm open to different designs or approaches to solve the issue. Thanks.</p>\n<p><strong>ol.service.ts</strong></p>\n<blockquote>\n<pre><code>import {Injectable} from '@angular/core';\nimport * as ol from 'openlayers';\n\n\n@Injectable()\nexport class OlService {\n\n    get(): any {\n        return ol;\n    }\n}\n</code></pre>\n</blockquote>\n<p><strong>ol.component.ts</strong></p>\n<blockquote>\n<pre><code>import { Component, OnInit, Input } from '@angular/core'; \nimport { OlService } from './ol.service';\n\n@Component({\n    selector: 'app-map',\n    providers: [OlService],\n    templateUrl: './ol.component.html',\n    styleUrls: ['./ol.component.css'],\n\n}) export class OlComponent implements OnInit {\n\n    @Input() lnglat: [number, number];\n    @Input() zoom: number;\n\n    private map;\n    public layers = [];\n    private vectorSource;\n\n    constructor(private olService: OlService) {\n\n        this.lnglat = [-93.49401, 45.08203];\n        this.zoom = 7;\n\n    }\n\n    createMap = () =&gt; {\n        let ol = this.olService.get();\n        this.vectorSource = new ol.source.Vector({});\n        // define layers\n\n        let OSM = new ol.layer.Tile({\n            source: new ol.source.OSM()\n        });\n        OSM.set('name', 'Openstreetmap');\n\n\n        let geography = new ol.layer.Tile({\n            source: new ol.source.TileJSON({\n                url: '',\n                crossOrigin: '',\n            }),\n            visible: false\n        });\n        geography.set('name', 'Geography');\n\n        let boundaries = new ol.layer.Tile({\n            opacity: 0.5,\n\n            source: new ol.source.TileWMS({\n                url: '',\n                params: {\n                    'LAYERS': 'fwsys:fwsys_region',\n                    'TILED': true,\n                    'transparent': 'true',\n                    'format': 'image/png'\n                },\n                serverType: 'geoserver',\n                projection: ol.proj.get('EPSG:3857')\n            })\n        });\n        boundaries.set('name', 'Boundaries');\n        let vector = new ol.layer.Vector({\n            source: this.vectorSource\n        });\n\n        this.map = new ol.Map({\n            target: 'map',\n            layers: [OSM, geography, vector, boundaries],\n\n            view: new ol.View({\n                center: ol.proj.fromLonLat(this.lnglat),\n                zoom: this.zoom,\n                projection: ol.proj.get('EPSG:3857')\n            })\n        });\n\n        let select_interaction = new ol.interaction.Select();\n\n        this.map.addInteraction(select_interaction);\n\n        // add popup for all features\n        let container = document.getElementById('ol-popup');\n        let content = document.getElementById('ol-popup-content');\n        let closer = document.getElementById('ol-popup-closer');\n\n\n        let popup = new ol.Overlay({\n            element: container,\n            autoPan: true,\n            positioning: 'bottom-center',\n            stopEvent: false,\n            offset: [0, -5]\n        });\n\n        closer.onclick = function () {\n            popup.setPosition(undefined);\n            closer.blur();\n            return false;\n        };\n        this.map.addOverlay(popup);\n\n        this.map.on('click', (evt) =&gt; {\n            let feature = this.map.forEachFeatureAtPixel(evt.pixel, (feat) =&gt; {\n                return feat;\n            });\n            if (feature) {\n                let coordinate = evt.coordinate;\n                content.innerHTML = feature.get('name');\n                popup.setPosition(coordinate);\n            }\n\n\n        });\n        this.addLayerSwitcher([OSM, geography, boundaries]);\n        // This works during ngOnInit, but not after\n        this.addMarker([174.76, -37.10], 'Close to Auckland', 'akl1'); \n        this.addMarker([173.76, -37.10], 'Out in in waters', 'pacific1');\n        // this.addMarker([38.909635, -77.043386], 'Dupont Circle', 'myid');\n\n        this.addPolygon([[174.76, -37.18], [176.76, -37.18], [176.76, -38.18], [174.76, -38.18]], 'Hamilton', 'id_hamilton');\n    };\n\n    addPolygon = (polygon: [[number, number]], name: string, id: string) =&gt; {\n        let ol = this.olService.get();\n        let projectedPolygon = [];\n\n        for (let poly of polygon) {\n            projectedPolygon.push(ol.proj.transform(poly, 'EPSG:4326', 'EPSG:3857'));\n        }\n\n        let p = new ol.geom.Polygon([projectedPolygon]);\n\n        let featurething = new ol.Feature({\n            name: name,\n            id: id,\n            geometry: p\n        });\n\n        this.vectorSource.addFeature(featurething);\n\n    };\n\n\n    setMarker(coords: [number, number], name: string, id: string) {\n\n        this.addMarker(coords, name, id);\n    }\n\n    addMarker = (coords: [number, number], name: string, id: string) =&gt; {\n        \n        let ol = this.olService.get();\n        let iconFeature = new ol.Feature({\n            geometry: new ol.geom.Point(ol.proj.transform(coords, 'EPSG:4326', 'EPSG:3857')),\n            name: name,\n            id: id,\n        });\n\n        let iconStyle = new ol.style.Style({\n            image: new ol.style.Icon(/** @type {olx.style.IconOptions} */({\n                opacity: 0.75,\n                anchor: [0.5, 1],\n                src: '//cdn4.iconfinder.com/data/icons/pictype-free-vector-icons/16/location-alt-32.png'\n            }))\n        });\n\n        iconFeature.setStyle(iconStyle);\n        //\n        // THIS CODE FAILS BECAUSE &quot;this.vectorSource.&quot; is null when\n        // addMarker() is called after ngOnInit() from app.component.ts\n        //\n        this.vectorSource.addFeature(iconFeature);\n\n    }\n\n    addLayerSwitcher = (layers: [any]) =&gt; {\n\n        this.layers = layers;\n\n    }\n    toggleLayer = (layer, evt) =&gt; {\n        evt.target.blur();\n        if (layer.getVisible()) {\n            layer.setVisible(false);\n\n        } else {\n            layer.setVisible(true);\n        }\n\n    }\n\n    ngOnInit() {\n        this.createMap();\n    }\n\n}\n</code></pre>\n</blockquote>\n<p><strong>app.component.ts</strong></p>\n<blockquote>\n<pre><code>import { Component, OnInit, ViewChild } from '@angular/core';\n\nimport { OlComponent } from './_component/ol.component';\nimport {OlService} from './_component/ol.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [OlComponent, OlService]\n})\nexport class AppComponent implements OnInit {\n  title = 'app works!';\n\n\n  constructor(private olcomponent: OlComponent) {\n    // constructor\n  }\n\n  ngOnInit() {\n  // I WANT TO ADD MARKERS after the ol.component.ngOnInit() from an\n  // outside API service - THIS CODE FAILS due to a null vectorSource \n  // object. \n  this.olcomponent.setMarker([38.909635, -77.043386], 'Dupont Circle', 'myid');  \n\n  }\n}\n</code></pre>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "angular-pipe"], "comments": [{"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 1, "creation_date": 1495567729, "post_id": 44142373, "comment_id": 75304700, "body": "Is items in your component getting data synchronously or asynchronously? It the latter, add &#39;async&#39; pipe."}, {"owner": {"reputation": 29, "user_id": 5373133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0277a8d50fe52a31eb57764746b3ef76?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/5373133/joe"}, "reply_to_user": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1495718748, "post_id": 44142373, "comment_id": 75377380, "body": "@wannadream no it isnt an observable so async pipe would not be a good idea."}, {"owner": {"reputation": 1601, "user_id": 2116512, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqDa0.jpg?s=128&g=1", "display_name": "wannadream", "link": "https://stackoverflow.com/users/2116512/wannadream"}, "edited": false, "score": 0, "creation_date": 1495733429, "post_id": 44142373, "comment_id": 75386715, "body": "Can you show component code? How you initialize items."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 2788473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czJ0C.jpg?s=128&g=1", "display_name": "John Considine", "link": "https://stackoverflow.com/users/2788473/john-considine"}, "is_accepted": true, "score": 1, "last_activity_date": 1544476023, "creation_date": 1544476023, "answer_id": 53713652, "question_id": 44142373, "link": "https://stackoverflow.com/questions/44142373/custom-pipe-array-empty/53713652#53713652", "title": "custom pipe array empty", "body": "<p>Just add parenthesis as shown below.   This sends the item to the pipe and the result back to the ngFor loop. </p>\n\n<pre><code>&lt;tr *ngFor=\"let item of ( items | orderBy:'title')\" class=\"myclass\"&gt;\n</code></pre>\n\n<p>See: <a href=\"https://angular.io/guide/pipes\" rel=\"nofollow noreferrer\">Angular Offiical Documentation</a> Search for \"ngfor\" to see examples.</p>\n"}], "owner": {"reputation": 29, "user_id": 5373133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0277a8d50fe52a31eb57764746b3ef76?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/5373133/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 53713652, "answer_count": 1, "score": 0, "last_activity_date": 1544476023, "creation_date": 1495563912, "question_id": 44142373, "link": "https://stackoverflow.com/questions/44142373/custom-pipe-array-empty", "title": "custom pipe array empty", "body": "<p>I created this custom pipe:</p>\n\n<pre><code>@Pipe({ name: 'orderBy' })\nexport class OrderByPipe implements PipeTransform {\n     transform(items: any[], orderBy: string): any[] {\n        if (items &amp;&amp; items.length &gt; 1) {\n            console.log('items -&gt; ', items);\n        }\n        console.log('return -&gt; items -&gt; ', items);\n        return items;\n     }\n }\n</code></pre>\n\n<p>I am using it in a component:</p>\n\n<p><code>&lt;tr *ngFor=\"let item of items | orderBy:'title'\" class=\"myclass\"&gt;</code></p>\n\n<p>The table rows display correctly, but in the pipe the <code>items</code> array length is always zero.  The console statement for the return from the pipe shows an array populated with objects.  Why does the array appear to be empty?</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic2", "typescript-typings"], "owner": {"reputation": 2476, "user_id": 7876137, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/cFHeZ.png?s=128&g=1", "display_name": "davidesp", "link": "https://stackoverflow.com/users/7876137/davidesp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1495562084, "creation_date": 1495562084, "question_id": 44141826, "link": "https://stackoverflow.com/questions/44141826/trying-to-import-sprintf-javascript-function-into-an-ionic-application", "title": "Trying to import sprintf javascript function into an Ionic application", "body": "<p>I created a basic <code>Ionic</code> application with the typical command:</p>\n\n<pre><code>$ ionic start myApp tabs\n</code></pre>\n\n<p>Then I wanna use inside <code>home.ts</code> the function: <code>sprintf</code>.</p>\n\n<p>Then, as recommended on:</p>\n\n<p><a href=\"https://www.thepolyglotdeveloper.com/2017/03/javascript-libraries-in-a-typescript-application-revisited/\" rel=\"nofollow noreferrer\">https://www.thepolyglotdeveloper.com/2017/03/javascript-libraries-in-a-typescript-application-revisited/</a></p>\n\n<p>I did:</p>\n\n<pre><code>$ npm install sprintf-js --save # there they use: \"base-64\" instead of \"sprintf\"\n</code></pre>\n\n<p>At the begining of the file: <code>home.ts</code> I did:</p>\n\n<pre><code>var sprintf = require('sprintf-js');\n</code></pre>\n\n<p>Also, as recommended there, in order to make use of: <code>require</code>, I did:</p>\n\n<pre><code>npm install @types/node --save\n</code></pre>\n\n<p>But when compiling I get:</p>\n\n<pre><code>$ ionic build android --debug\n\n[12:50:58]  typescript: D:/myApp/src/pages/home/home.ts, line: 6  MEM: 184.0MB\n            Cannot find name 'require'.\n\n       L6:  var sprintf = require('sprintf-js');\n</code></pre>\n\n<p>Any idea on this?</p>\n"}, {"tags": ["javascript", "node.js", "postgresql", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 4437, "user_id": 2283954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/c5NR3.jpg?s=128&g=1", "display_name": "Joe Love", "link": "https://stackoverflow.com/users/2283954/joe-love"}, "edited": false, "score": 0, "creation_date": 1495562273, "post_id": 44141612, "comment_id": 75301882, "body": "Is your original query getting more columns than necessary? Sometimes &quot;select *&quot; is a bad idea on large result sets."}, {"owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "reply_to_user": {"reputation": 4437, "user_id": 2283954, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/c5NR3.jpg?s=128&g=1", "display_name": "Joe Love", "link": "https://stackoverflow.com/users/2283954/joe-love"}, "edited": false, "score": 0, "creation_date": 1495562452, "post_id": 44141612, "comment_id": 75302001, "body": "Unfortunately there is not much room for optimisation at SQL query level. One column contains essential data and that&#39;s the heavy one."}, {"owner": {"reputation": 19972, "user_id": 1102051, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/6GqwA.jpg?s=128&g=1", "display_name": "vitaly-t", "link": "https://stackoverflow.com/users/1102051/vitaly-t"}, "edited": false, "score": 1, "creation_date": 1495563279, "post_id": 44141612, "comment_id": 75302435, "body": "You have to page your data reads, that&#39;s all. Use <code>LIMIT</code> and <code>OFFSET</code> for that."}, {"owner": {"reputation": 95700, "user_id": 271959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715e33b2f7b627554e2c18284d87bbca?s=128&d=identicon&r=PG", "display_name": "Frank Heikens", "link": "https://stackoverflow.com/users/271959/frank-heikens"}, "edited": false, "score": 0, "creation_date": 1495563641, "post_id": 44141612, "comment_id": 75302602, "body": "Use a CURSOR and get just a handful of results before you get the next portion."}, {"owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "edited": false, "score": 0, "creation_date": 1495567988, "post_id": 44141612, "comment_id": 75304829, "body": "CUROSR is a PL/pgSQL feature but in my case I need to retrieve data into javascript context."}, {"owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "edited": false, "score": 0, "creation_date": 1495568095, "post_id": 44141612, "comment_id": 75304898, "body": "LIMIT and OFFSET could be solution but it&#39;s not really fit into reactive programming and observable creation. It would be a complicating solution, hard to maintain."}], "answers": [{"tags": [], "owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "is_accepted": true, "score": 5, "last_activity_date": 1495572500, "creation_date": 1495572500, "answer_id": 44144724, "question_id": 44141612, "link": "https://stackoverflow.com/questions/44141612/rxjs-postgresql-backpressure-in-nodejs/44144724#44144724", "title": "RXJS PostgreSQL backpressure in nodejs", "body": "<p>If you use the <a href=\"https://github.com/brianc/node-pg-cursor\" rel=\"noreferrer\"><code>pg-cursor</code> library</a> by the same author it should be relatively straight forward:</p>\n\n<pre><code>return Rx.Observable.defer(() =&gt; pg.connect())\n  .flatMap(client =&gt; {\n    const cursor = client.query(new Cursor('SELECT * FROM some_table WHERE prop &gt; $1', [100]))\n\n    const observableCursor = Rx.Observable.bindNodeCallback(cursor.read.bind(cursor));\n\n    // Get the first 100 items\n    observableCursor(100)\n      .map(processRows)\n      // This will only emit after the first one completes\n      // and will recursively call this for each result\n      .expand(_ =&gt; \n        observableCursor(100)\n          .map(processRows)\n      )\n      // Unsubscribes once we don't get any more results\n      .takeWhile(rows =&gt; rows.length &gt; 0)\n  });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "edited": false, "score": 0, "creation_date": 1495741005, "post_id": 44168285, "comment_id": 75390822, "body": "Maybe expand on &quot;a different processing functions that depends on context variable&quot; in your question. I can update my answer but only if you give something more concrete."}, {"owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "reply_to_user": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "edited": false, "score": 0, "creation_date": 1495887200, "post_id": 44168285, "comment_id": 75444185, "body": "I&#39;ve updated title and marked your message. I agree with passing context object as a param into the processing function."}], "tags": [], "owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1495659288, "creation_date": 1495659288, "answer_id": 44168285, "question_id": 44141612, "link": "https://stackoverflow.com/questions/44141612/rxjs-postgresql-backpressure-in-nodejs/44168285#44168285", "title": "RXJS PostgreSQL backpressure in nodejs", "body": "<p>I was trying to write suggested by @paulpdaniels solution as much readable as I can, but I'm not sure if this is really reactive style. </p>\n\n<p>I've also have a different processing functions that depends on context variable. I like to have an architecture that easily let use different rxjs operators chain that depends on context conditions and hide the cursor.read logic but I'm affraid it's not possible.</p>\n\n<p>There must be a place when I explicitly tell database to bring next bulk of data (cursor.read) and it must the place after I release memory from the heavy data.</p>\n\n<p>Following solution is in typescript: </p>\n\n<pre><code>const db = require('./libs/db.js');\nimport * as Cursor from 'pg-cursor';\nimport * as pg from 'pg';\nimport * as Rx from 'rxjs';\n\nlet cursor, readHandler;\n\nconst source = Rx.Observable.create((subscriber) =&gt; {\n    db.getClient().then((client: pg.Client) =&gt; {\n\n        cursor = client.query(new Cursor('SELECT * FROM some_table WHERE prop &gt; $1', [100]));\n        readHandler = function (err, rowsBulk) {\n            if (err) {\n                subscriber.error(err);\n                return client.release();\n            }\n            if (!rowsBulk.length) {\n                subscriber.complete();\n                return client.release();\n            }\n            subscriber.next(rowsBulk);\n        };\n    }).then(() =&gt; {\n        // fetch first 100 records\n        cursor.read(100, readHandler);\n    });\n});\n\nsource.flatMap((item) =&gt; {\n    return new Promise((resolve) =&gt; {\n        console.log('processing batch of items');\n        setTimeout(() =&gt; { // timeout simulates processing\n            item = null;\n            console.log('release memory');\n            resolve({});\n        }, 5000);\n    });\n}).map(() =&gt; {\n    // fetch every next 100 records\n    console.log('allocate new memory');\n    cursor.read(100, readHandler);\n    return '.';\n}).subscribe(console.log, (err) =&gt; {\n    console.log('Error occurred');\n    console.error(err);\n});\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 4648863, "user_type": "registered", "profile_image": "https://graph.facebook.com/930408613670516/picture?type=large", "display_name": "Jakub Bejnarowicz", "link": "https://stackoverflow.com/users/4648863/jakub-bejnarowicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 44144724, "answer_count": 2, "score": 2, "last_activity_date": 1495886857, "creation_date": 1495561258, "last_edit_date": 1495886857, "question_id": 44141612, "link": "https://stackoverflow.com/questions/44141612/rxjs-postgresql-backpressure-in-nodejs", "title": "RXJS PostgreSQL backpressure in nodejs", "body": "<p>Original title: How to slow down PgSQL results rows stream in javascript?</p>\n\n<p>I'm experiencing out of memory issue in nodejs v4.5.0 with RXJS(5.4.0) and PostgreSQL (driver \"pg\": \"6.1.4\").</p>\n\n<p>I manually create an observable of PgSQL rows like this:</p>\n\n<pre><code>return Rx.Observable.create((subscriber) =&gt; {\n    pool.connect().then((client: pg.Client) =&gt; {\n        const stream:any = client.query(query.toParam());\n        stream.on('row', (row) =&gt; {\n            subscriber.next(row);\n        });\n\n        stream.on('end', () =&gt; {\n            subscriber.complete();\n            client.release();\n        });\n    });\n});\n</code></pre>\n\n<p>Then I'm attaching some operators to the rx observable and doing some processing.\nNote that the rows returned from database are a bit heavy. </p>\n\n<p>Investigation leads me to one conclusion:\n<strong>Rows from database are returned much faster then they can be processed. There must be memory reserved for that heavy data in order to wait for processing, and this cause out of memory issue:</strong></p>\n\n<p>FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - process out of memory</p>\n\n<p>Abort trap: 6</p>\n\n<p>I don't see any option on PostgreSQL driver to pause the stream. Any ideas how I can resolve this issue?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1434, "user_id": 1703332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fYFJ.jpg?s=128&g=1", "display_name": "Kumar Nitesh", "link": "https://stackoverflow.com/users/1703332/kumar-nitesh"}, "edited": false, "score": 0, "creation_date": 1495559042, "post_id": 44140852, "comment_id": 75300122, "body": "If possible please share your gulpfile."}, {"owner": {"reputation": 53, "user_id": 7999817, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211246408908613/picture?type=large", "display_name": "Joseph Robinson", "link": "https://stackoverflow.com/users/7999817/joseph-robinson"}, "reply_to_user": {"reputation": 1434, "user_id": 1703332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8fYFJ.jpg?s=128&g=1", "display_name": "Kumar Nitesh", "link": "https://stackoverflow.com/users/1703332/kumar-nitesh"}, "edited": false, "score": 0, "creation_date": 1495560808, "post_id": 44140852, "comment_id": 75301026, "body": "Updated the orig post to include the gulpfile"}], "owner": {"reputation": 53, "user_id": 7999817, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211246408908613/picture?type=large", "display_name": "Joseph Robinson", "link": "https://stackoverflow.com/users/7999817/joseph-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495629964, "creation_date": 1495558547, "last_edit_date": 1495629964, "question_id": 44140852, "link": "https://stackoverflow.com/questions/44140852/typescript-module-not-loading-after-compile", "title": "Typescript module not loading after compile", "body": "<p>New to Angular/ts/js. I went through the Tour of Heroes tutorial, now I am trying to incorporate compiling and building via gulp. Seems to be going well enough but I can't seem to figure this roadblock out. </p>\n\n<p>In a single example, I have the app/components/app.module.ts file (disregard the deep relative import pathing; I plan on refactoring it later):</p>\n\n<pre><code>import { BrowserModule } from '../../node_modules/@angular/platform-browser';\nimport { NgModule } from '../../node_modules/@angular/core';\nimport { FormsModule } from '../../node_modules/@angular/forms';\nimport { HttpModule } from '../../node_modules/@angular/http';\n\nimport { InMemoryWebApiModule } from '../../node_modules/angular-in-memory-web-api';\nimport { InMemoryDataService } from './in-memory-data.service';\n\nimport { AppComponent } from './app.component';\nimport { AppRoutingModule } from './app-routing.module';\nimport { HeroService } from './hero.service';\nimport { DashboardComponent } from './dashboard.component';\nimport { HeroesComponent } from './heroes.component';\nimport { HeroDetailComponent } from './hero-detail.component';\nimport { HeroSearchComponent } from './hero-search.component';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    FormsModule,\n    AppRoutingModule,\n    HttpModule,\n    InMemoryWebApiModule.forRoot(InMemoryDataService, { delay: 600 })\n  ],\n  declarations: [\n    AppComponent,\n    DashboardComponent,\n    HeroSearchComponent,\n    HeroesComponent,\n    HeroDetailComponent,\n  ],\n  providers: [HeroService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>After I compile it to js and serve up the application, the console tells me: </p>\n\n<blockquote>\n  <p>\"Cannot GET /js/components/app.component\" </p>\n</blockquote>\n\n<p>(along with all the other modules after it), even though that js DOES exist at the location. </p>\n\n<p>I believe I found that it's still expecting it to be the ts file. If I explicitly change the import to be a js file as </p>\n\n<pre><code>\"import { AppComponent } from './app.component.js';\" \n</code></pre>\n\n<p>then it loads fine.</p>\n\n<p>In my research, I think I may need a sourcemap, but being entirely green at this I'm not sure. I'm not entirely sure how to describe/define the issue so web searches haven't netted me anything definitive. Can someone get me on the right track?</p>\n\n<p><strong>Update</strong>\nHere is my gulpfile. Still learning so I know it's messy.</p>\n\n<pre><code>// grab our packages\nvar gulp   = require('gulp'),\n    jshint = require('gulp-jshint'),\n    clean = require('gulp-clean'),\n    connect = require('gulp-connect'),\n    gnf = require('gulp-npm-files');\n\nconst tscConfig = require('./tsconfig.json');\n\nvar ts = require('gulp-typescript');\nvar merge = require('merge2');\n\n// define the default task and add the watch task to it\ngulp.task('default', ['watch']);\n\n// configure the jshint task\ngulp.task('jshint', function() {\n  return gulp.src('app/components/js/**/*.js')\n    .pipe(jshint())\n    .pipe(jshint.reporter('jshint-stylish'));\n});\n\n// configure which files to watch and what tasks to use on file changes\ngulp.task('watch', function() {\n  gulp.watch('app/components/js/**/*.js', ['jshint']);\n});\n\n\ngulp.task('compileTs', function () {\n  var tsResult = gulp.src('app/**/*.ts')\n      .pipe(ts({\n          declaration: true\n      }));\n\n  return merge([\n      tsResult.dts.pipe(gulp.dest('dist/definitions')),\n      tsResult.js.pipe(gulp.dest('dist/js'))\n  ]);\n});\n\ngulp.task('compileEnviroTs', function () {\n  var tsResult = gulp.src('environments/**/*.ts')\n      .pipe(ts({\n          declaration: true\n      }));\n\n  return merge([\n      tsResult.dts.pipe(gulp.dest('dist/definitions')),\n      tsResult.js.pipe(gulp.dest('dist/environments'))\n  ]);\n});\n\n\n\ngulp.task('cleanDist', function() {\n  return gulp.src('dist', {read: false})\n    .pipe(clean());\n});\n\n\ngulp.task('copyDeps', ['cleanDist'], function() {\n  gulp\n    .src(gnf(null, './package.json'), {base:'./'})\n    .pipe(gulp.dest('dist'));\n});\n\n\ngulp.task('copyEnvironments', ['copyDeps'], function() {\n  return gulp.src('environments/**/*')\n    .pipe(gulp.dest('dist/environments'));\n});\n\ngulp.task('copyComponents', ['copyEnvironments'], function() {\n  return gulp.src('app/components/**/*')\n    .pipe(gulp.dest('dist/components'));\n});\n\ngulp.task('copyCss', ['copyComponents'], function() {\n  return gulp.src('app/css/**/*')\n    .pipe(gulp.dest('dist/css'));\n});\n\ngulp.task('copyImg', ['copyCss'], function() {\n  return gulp.src('app/img/**/*')\n    .pipe(gulp.dest('dist/img'));\n});\n\ngulp.task('copyJs', ['copyImg'], function() {\n  return gulp.src('app/js/**/*')\n    .pipe(gulp.dest('dist/js'));\n});\n\ngulp.task('copyPartials', ['copyJs'], function() {\n  return gulp.src('app/partials/**/*')\n    .pipe(gulp.dest('dist/partials'));\n});\n\ngulp.task('copyFiles', ['copyPartials'], function() {\n  return gulp.src('app/**/*')\n    .pipe(gulp.dest('dist'));\n});\n\n\ngulp.task('connect', ['copyFiles', 'compileTs'], function () {\n  connect.server({\n    root: 'dist/',\n    port: 8888\n  });\n});\n\n\ngulp.task('dev', ['cleanDist', 'compileTs', 'compileEnviroTs', 'copyDeps', 'copyFiles', 'connect']);\n</code></pre>\n\n<p><strong>Update</strong>\nHere is my code repo, if it helps any. I'm in the gulp branch.\n<a href=\"https://github.com/fmjnax/LearningAngular.git\" rel=\"nofollow noreferrer\">https://github.com/fmjnax/LearningAngular.git</a></p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "edited": false, "score": 1, "creation_date": 1495582633, "post_id": 44144517, "comment_id": 75310925, "body": "Thanks. I actually had a ChangeDetectorRef#detectChanges() embedded somewhere that was detecting changes and throwing (as it ought to do!)"}], "tags": [], "owner": {"reputation": 7240, "user_id": 1251604, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/OTkjt.jpg?s=128&g=1", "display_name": "Dennis Smolek", "link": "https://stackoverflow.com/users/1251604/dennis-smolek"}, "is_accepted": true, "score": 19, "last_activity_date": 1495571717, "creation_date": 1495571717, "answer_id": 44144517, "question_id": 44140404, "link": "https://stackoverflow.com/questions/44140404/viewdestroyederror-attempt-to-use-a-destroyed-view-detectchanges/44144517#44144517", "title": "ViewDestroyedError: Attempt to use a destroyed view: detectChanges", "body": "<p>The issue is the close action of the dialog is removing the item from the view, and your EventDispatcher <strong>IS NOT AN ANGULAR METHOD</strong> so it fires outside the zone context and freaks it out. \nIt goes like this:</p>\n\n<ul>\n<li>Dialog exists in view, sets state</li>\n<li>Clicks close</li>\n<li>Fires your event to start</li>\n<li>Your event is read (out of context)</li>\n<li>Deletes from view (still out of context)</li>\n<li>Change detection finally catches up to look for changes in your component, OH SNAP WHERE'S THE COMPONENT?</li>\n</ul>\n\n<p>You can either use a different method to communicate with the dialog, or switch to <a href=\"https://angular-2-training-book.rangle.io/handout/change-detection/change_detection_strategy_onpush.html\" rel=\"noreferrer\">onPush() for change detection</a></p>\n\n<p>I suggest you Use the <code>afterClosed</code> handle instead:</p>\n\n<pre><code>this. authEmailDialogRef.afterClosed().subscribe(result =&gt; {\n  console.log(`Dialog result: ${result}`); // Pizza!\n});\n</code></pre>\n\n<p>I pulled that snippet straight from the docs: <a href=\"https://material.angular.io/components/component/dialog\" rel=\"noreferrer\">HERE</a></p>\n"}, {"comments": [{"owner": {"reputation": 991, "user_id": 6523474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5FyBv.png?s=128&g=1", "display_name": "Ian Samz", "link": "https://stackoverflow.com/users/6523474/ian-samz"}, "edited": false, "score": 0, "creation_date": 1567487172, "post_id": 57656410, "comment_id": 101966047, "body": "What is the ViewRef_ stand for?"}, {"owner": {"reputation": 320, "user_id": 3121290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5Vkb.png?s=128&g=1", "display_name": "shivam srivastava", "link": "https://stackoverflow.com/users/3121290/shivam-srivastava"}, "edited": false, "score": 0, "creation_date": 1580828391, "post_id": 57656410, "comment_id": 106221387, "body": "It stands for ViewRef  from &#39;@angular/core&#39;"}], "tags": [], "owner": {"reputation": 126, "user_id": 11040181, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-eQyO-Usl1QI/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPItwLjfFCUbVxjmIKNR3PQqFn6Cg/mo/photo.jpg?sz=128", "display_name": "Padegal Saigiriraj", "link": "https://stackoverflow.com/users/11040181/padegal-saigiriraj"}, "is_accepted": false, "score": 5, "last_activity_date": 1567058601, "last_edit_date": 1567058601, "creation_date": 1566816385, "answer_id": 57656410, "question_id": 44140404, "link": "https://stackoverflow.com/questions/44140404/viewdestroyederror-attempt-to-use-a-destroyed-view-detectchanges/57656410#57656410", "title": "ViewDestroyedError: Attempt to use a destroyed view: detectChanges", "body": "<p>the reason that this issue is happening that you are deleting the reference on the sortableData or dragableData on the change event.\nin abstract class, the detectChange method is waiting for 250 ms before firing the change detect, at that time your view and component will be destroyed.</p>\n\n<pre><code>setTimeout(() =&gt; {\n        if (this.cdr !== null &amp;&amp; this.cdr !== undefined &amp;&amp;\n          !(this.cdr as ViewRef_).destroyed) {\n          this.cdr.detectChanges();\n        }\n      }, 250);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 271, "user_id": 3628206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01b014329e28dd3610e833bf9835cf9?s=128&d=identicon&r=PG&f=1", "display_name": "Petr Jajtner", "link": "https://stackoverflow.com/users/3628206/petr-jajtner"}, "is_accepted": false, "score": 27, "last_activity_date": 1570084786, "creation_date": 1570084786, "answer_id": 58213569, "question_id": 44140404, "link": "https://stackoverflow.com/questions/44140404/viewdestroyederror-attempt-to-use-a-destroyed-view-detectchanges/58213569#58213569", "title": "ViewDestroyedError: Attempt to use a destroyed view: detectChanges", "body": "<p>Padegal Saigiriraj is right. But instead of <code>ViewRef_</code> use <code>ViewRef</code>. In short:</p>\n\n<pre><code>setTimeout(() =&gt; {\n  if (this.cdr &amp;&amp; !(this.cdr as ViewRef).destroyed) {\n    this.cdr.detectChanges();\n  }\n});\n</code></pre>\n\n<p>ViewRef stands for Angular view, specifically the host view as <a href=\"https://angular.io/api/core/ViewRef\" rel=\"noreferrer\">Angular site</a> describes.</p>\n"}], "owner": {"reputation": 4633, "user_id": 2258442, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7dc1f8dac4d92b4abb781ec2b11d8be6?s=128&d=identicon&r=PG", "display_name": "st_clair_clarke", "link": "https://stackoverflow.com/users/2258442/st-clair-clarke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53906, "favorite_count": 2, "accepted_answer_id": 44144517, "answer_count": 3, "score": 31, "last_activity_date": 1570084786, "creation_date": 1495557115, "last_edit_date": 1495561023, "question_id": 44140404, "link": "https://stackoverflow.com/questions/44140404/viewdestroyederror-attempt-to-use-a-destroyed-view-detectchanges", "title": "ViewDestroyedError: Attempt to use a destroyed view: detectChanges", "body": "<p>I have the following component that creates an MdDialog</p>\n\n<pre><code>export class SideNavsComponent implements OnInit, AfterViewInit, OnDestroy {\n  eventDispatcher: EventDispatcher\n  authEmailDialogRef: MdDialogRef&lt;AuthEmailDialogComponent&gt;\n\n  constructor(public dialog: MdDialog,) {\n    this.eventDispatcher = new EventDispatcher()\n  }\n\n  signIn( event ): void {\n    this.isSignedIn = event.checked\n    this.openDialog()\n  }\n\n  openDialog() {\n    this.authEmailDialogRef = this.dialog.open( AuthEmailDialogComponent, {\n      height: '500px',\n      width: '300px',\n      disableClose: true\n    } )\n  }\n\n  ngOnDestroy() {\n  }\n\n  ngAfterViewInit() {\n  }\n\n  ngOnInit() {\n    event_dispatcher.on( 'CLOSE authEmailDialogRef', ( target: Object ) =&gt; {\n      this.authEmailDialogRef.close()\n    } )\n  }\n}\n</code></pre>\n\n<p>The component below creates a button that when clicked closes the MdDialog created above by sending and event that is intercepted within the SideNavsComponent#ngOnInit method</p>\n\n<pre><code>export class AuthEmailDialogComponent implements OnInit {\neventDispatcher: EventDispatcher = new EventDispatcher()\n}\n\ncancel() {\n      event_dispatcher.dispatch( 'CLOSE authEmailDialogRef', '')\n  }\n}\n</code></pre>\n\n<p>The MdDialog is closed(), but a detection change error always occurs with the following:</p>\n\n<pre><code>ERROR Error: ViewDestroyedError: Attempt to use a destroyed view: detectChanges\n    at viewDestroyedError (core.es5.js:8636)\n    at Object.debugUpdateDirectives [as updateDirectives] (core.es5.js:12781)\n    at checkAndUpdateView (core.es5.js:12122)\n    at callWithDebugContext (core.es5.js:13184)\n    at Object.debugCheckAndUpdateView [as checkAndUpdateView] (core.es5.js:12724)\n    at ViewRef_.detectChanges (core.es5.js:10196)\n    at asterisk.component.ts:37\n    at ZoneDelegate.webpackJsonp.1467.ZoneDelegate.invokeTask (zone.js:414)\n    at Object.onInvokeTask (core.es5.js:4119)\n    at ZoneDelegate.webpackJsonp.1467.ZoneDelegate.invokeTask (zone.js:413)\nView_MdDialogContainer_Host_0 @ MdDialogContainer_Host.html:1\nproxyClass @ compiler.es5.js:14091\nDebugContext_.logError @ core.es5.js:13124\nErrorHandler.handleError @ core.es5.js:1144\nnext @ core.es5.js:4757\nschedulerFn @ core.es5.js:3830\nSafeSubscriber.__tryOrUnsub @ Subscriber.js:236\nSafeSubscriber.next @ Subscriber.js:185\nSubscriber._next @ Subscriber.js:125\nSubscriber.next @ Subscriber.js:89\nSubject.next @ Subject.js:55\nEventEmitter.emit @ core.es5.js:3816\nNgZone.triggerError @ core.es5.js:4188\nonHandleError @ core.es5.js:4149\nwebpackJsonp.1467.ZoneDelegate.handleError @ zone.js:385\nwebpackJsonp.1467.Zone.runTask @ zone.js:184\nZoneTask.invoke @ zone.js:476\ntimer @ zone.js:1491\nsetInterval (async)\nscheduleTask @ zone.js:1501\nwebpackJsonp.1467.ZoneDelegate.scheduleTask @ zone.js:400\nonScheduleTask @ zone.js:290\nwebpackJsonp.1467.ZoneDelegate.scheduleTask @ zone.js:394\nwebpackJsonp.1467.Zone.scheduleTask @ zone.js:225\nwebpackJsonp.1467.Zone.scheduleMacroTask @ zone.js:248\n(anonymous) @ zone.js:1527\nproto.(anonymous function) @ zone.js:1402\nAsteriskComponent @ asterisk.component.ts:37\ncreateClass @ core.es5.js:10870\ncreateDirectiveInstance @ core.es5.js:10701\ncreateViewNodes @ core.es5.js:12064\ncallViewAction @ core.es5.js:12508\nexecComponentViewsAction @ core.es5.js:12417\ncreateViewNodes @ core.es5.js:12091\ncreateRootView @ core.es5.js:11969\ncallWithDebugContext @ core.es5.js:13184\ndebugCreateRootView @ core.es5.js:12644\nComponentFactory_.create @ core.es5.js:9890\nComponentFactoryBoundToModule.create @ core.es5.js:3427\nViewContainerRef_.createComponent @ core.es5.js:10092\nPortalHostDirective.attachComponentPortal @ material.es5.js:2135\nMdDialogContainer.attachComponentPortal @ material.es5.js:19218\nMdDialog._attachDialogContent @ material.es5.js:19486\nMdDialog.open @ material.es5.js:19400\nwebpackJsonp.751.SideNavsComponent.openDialog @ side-navs.component.ts:39\nwebpackJsonp.751.SideNavsComponent.signIn @ side-navs.component.ts:35\n(anonymous) @ SideNavsComponent.html:32\nhandleEvent @ core.es5.js:11892\ncallWithDebugContext @ core.es5.js:13184\ndebugHandleEvent @ core.es5.js:12772\ndispatchEvent @ core.es5.js:8792\n(anonymous) @ core.es5.js:10720\nschedulerFn @ core.es5.js:3842\nSafeSubscriber.__tryOrUnsub @ Subscriber.js:236\nSafeSubscriber.next @ Subscriber.js:185\nSubscriber._next @ Subscriber.js:125\nSubscriber.next @ Subscriber.js:89\nSubject.next @ Subject.js:55\nEventEmitter.emit @ core.es5.js:3816\nToggleButton.toggle @ togglebutton.js:42\n(anonymous) @ ToggleButton.html:4\nhandleEvent @ core.es5.js:11892\ncallWithDebugContext @ core.es5.js:13184\ndebugHandleEvent @ core.es5.js:12772\ndispatchEvent @ core.es5.js:8792\n(anonymous) @ core.es5.js:9384\n(anonymous) @ platform-browser.es5.js:2683\nwebpackJsonp.1467.ZoneDelegate.invokeTask @ zone.js:414\nonInvokeTask @ core.es5.js:4119\nwebpackJsonp.1467.ZoneDelegate.invokeTask @ zone.js:413\nwebpackJsonp.1467.Zone.runTask @ zone.js:181\nZoneTask.invoke @ zone.js:476\nMdDialogContainer_Host.html:1 ERROR CONTEXT DebugContext_ {view: {\u2026}, nodeIndex: 0, nodeDef: {\u2026}, elDef: {\u2026}, elView: {\u2026}}\n</code></pre>\n\n<p>How can I prevent the changeDetection firing after the component is destroyed; in otherwords how can I make this code work without the error?</p>\n\n<p>NB: Tried many suggestions on stackoverflow but none worked.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angularjs", "typescript", "npm", "npm-install"], "comments": [{"owner": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1495556670, "post_id": 44140209, "comment_id": 75298701, "body": "<code>npm ERR! network In most cases you are behind a proxy or have bad network settings.</code> Are you behind a proxy? Can you ping something on the internet (Google)?"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "reply_to_user": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1495558525, "post_id": 44140209, "comment_id": 75299813, "body": "yes i am able to ping google"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "reply_to_user": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1495558641, "post_id": 44140209, "comment_id": 75299884, "body": "I also tried npm uninstall -g angular-cli npm -g cache clean npm install -g -f angular-cli..but while executing last command npm install -g -f angular-cli. i am getting erros"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "reply_to_user": {"reputation": 2639, "user_id": 3072566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jaZNV.png?s=128&g=1", "display_name": "litelite", "link": "https://stackoverflow.com/users/3072566/litelite"}, "edited": false, "score": 0, "creation_date": 1495568461, "post_id": 44140209, "comment_id": 75305098, "body": "npm config get proxy npm config get https-proxy - Any one can guide me this two commands returing null value?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495558497, "post_id": 44140736, "comment_id": 75299790, "body": "HI i can see three tyecript folder due to diff version on VS installed in my pc. when i checked environment variable&quot;PATH&quot; i cant see anything related to NPM or type script?"}, {"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "reply_to_user": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495559533, "post_id": 44140736, "comment_id": 75300368, "body": "if you are going to use the npm start command, I would suggest you to install Typescript globally from npm and then, change the variable path to that version. Your problem will be gone"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495562711, "post_id": 44140736, "comment_id": 75302122, "body": "I also tried npm uninstall -g angular-cli npm -g cache clean npm install -g -f angular-cli..but while executing last command npm install -g -f angular-cli. i am getting erros"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495562732, "post_id": 44140736, "comment_id": 75302136, "body": "anything else i have to do guide me with steps ?"}, {"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "reply_to_user": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495613824, "post_id": 44140736, "comment_id": 75322360, "body": "well now I am confused what&#39;s your problem exactly, because you were complaining about TS and not about Angular or Angular CLI"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495727770, "post_id": 44140736, "comment_id": 75383552, "body": "HI..when i using NPM install command i am getting proxy error..So i tried to use below comannd to remove proxy settings npm config rm proxy npm config rm https-proxy also used netsh winhttp show proxy to see any proxy settings but i am getting message &#39;direct access&#39; no proxy servers. so when i running NPM install command from project folder its trying to execute C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js some how its giving proxy error  any idea?"}, {"owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "edited": false, "score": 0, "creation_date": 1495740773, "post_id": 44140736, "comment_id": 75390700, "body": "i used this command to check proxy settings netsh winhttp show proxy got reply Current WinHTTP proxy settings: Direct access (no proxy server)"}], "tags": [], "owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "is_accepted": false, "score": 0, "last_activity_date": 1495558171, "creation_date": 1495558171, "answer_id": 44140736, "question_id": 44140209, "link": "https://stackoverflow.com/questions/44140209/npm-start-command-not-working/44140736#44140736", "title": "npm start command not working", "body": "<p>I would say it's either a problem with permission in the folder (try chmod 777 * from inside of the folder) or a problem with the local variable within the system, which is pointing to your previous TS version. try that out and get us back with info.</p>\n"}], "owner": {"reputation": 13, "user_id": 7953010, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039dfd7899956f4726b6df8d975485e9?s=128&d=identicon&r=PG&f=1", "display_name": "cshah", "link": "https://stackoverflow.com/users/7953010/cshah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1495565874, "creation_date": 1495556498, "last_edit_date": 1495565874, "question_id": 44140209, "link": "https://stackoverflow.com/questions/44140209/npm-start-command-not-working", "title": "npm start command not working", "body": "<p>I was having Vs2013 with old Typescript version 1.8 \nalso I just installed VS 2015 with new typescript version 2.3</p>\n\n<p>while i trying npm start command from my project path  its not working giving below error.</p>\n\n<pre><code>npm ERR! Windows_NT 6.1.7601\nnpm ERR! argv \"C:\\\\Program Files\\\\nodejs\\\\node.exe\" \"C:\\\\Program Files\\\\nodejs\\\\node_modules\\\\npm\\\\bin\\\\npm-cli.js\" \"install\"\nnpm ERR! node v6.10.3\nnpm ERR! npm  v3.10.10\nnpm ERR! code ENOTFOUND\nnpm ERR! errno ENOTFOUND\nnpm ERR! syscall getaddrinfo\nnpm ERR! network getaddrinfo ENOTFOUND registry.npmjs.org registry.npmjs.org:443\nnpm ERR! network This is most likely not a problem with npm itself\nnpm ERR! network and is related to network connectivity.\nnpm ERR! network In most cases you are behind a proxy or have bad network settings.\nnpm ERR! network \nnpm ERR! network If you are behind a proxy, please make sure that the\nnpm ERR! network 'proxy' config is set properly.  See: 'npm help config'\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     C:\\Project\\Angular2Demo\\Angular2Demo\\npm-debug.log\n</code></pre>\n\n<p>Any idea?\nThanks in advance</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-services", "angular-http"], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495556845, "post_id": 44140146, "comment_id": 75298811, "body": "I&#39;ll update right now my post with an error i get. I used ngOnInit() cause i wanted the Observable initiated and i think it&#39;s the problem here cause &quot;ERROR TypeError: Cannot read property &#39;subscribe&#39; of undefined&quot;, any idea ?"}, {"owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "reply_to_user": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495557292, "post_id": 44140146, "comment_id": 75299079, "body": "@J&#233;r&#233;myJOKE Updated my answer."}, {"owner": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495557630, "post_id": 44140146, "comment_id": 75299293, "body": "The problem is that all my compenents use the same service (provider) so if i create 2 afficheur.component, it multiplicates by 2 the number of calls on the api. That&#39;s why i wanted the service to loops and the compenents update themselves according to service&#39;s data."}, {"owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "reply_to_user": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495558586, "post_id": 44140146, "comment_id": 75299851, "body": "@J&#233;r&#233;myJOKE Added another SO link to my answer."}, {"owner": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495617224, "post_id": 44140146, "comment_id": 75324670, "body": "How my component can subscribe to an Observable (IntervalObservable) ? I don&#39;t know how to figure it out.  Post updated in 2 secs"}, {"owner": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "edited": false, "score": 0, "creation_date": 1495626662, "post_id": 44140146, "comment_id": 75331383, "body": "I&#39;ll vote for your answer, it made the initial thread solved. I&#39;ll open a new one to get some help on Observable and IntervalObservable. Thank you again."}], "tags": [], "owner": {"reputation": 3541, "user_id": 5045104, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-vIk2Kv9zs0A/AAAAAAAAAAI/AAAAAAAAAA8/68iABvnsu9Y/photo.jpg?sz=128", "display_name": "Rax Weber", "link": "https://stackoverflow.com/users/5045104/rax-weber"}, "is_accepted": true, "score": 2, "last_activity_date": 1495558509, "last_edit_date": 1495558509, "creation_date": 1495556287, "answer_id": 44140146, "question_id": 44139825, "link": "https://stackoverflow.com/questions/44139825/angular-http-service-loop/44140146#44140146", "title": "Angular http service loop", "body": "<p>The problem is that <code>ngOnInit()</code>, like the one in your <strong>Injectable</strong> class, is a <a href=\"https://angular.io/docs/ts/latest/guide/lifecycle-hooks.html\" rel=\"nofollow noreferrer\">Lifecycle hook</a> which only works with <strong>Directives</strong> and <strong>Components</strong>. You should try calling <code>this.loopUpdate()</code> from within the <strong>Injectable</strong> class' <strong>constructor</strong>. You can know more about this on <a href=\"https://stackoverflow.com/questions/35110690/ngoninit-not-being-called-when-injectable-class-is-instantiated\">another thread/question</a>.</p>\n\n<p>If you want to set an interval in fetching the data, do that in the component class, not in the service. In the service you should just have methods that return <strong>Observables</strong> (in your case) from calling <code>http.get()...</code>. In that way you wouldn't have an undefined object returned and a more reusable service.</p>\n\n<p>Also, <a href=\"https://stackoverflow.com/questions/35316583/angular2-http-at-an-interval\">here's another SO link</a> for you to have look at.</p>\n"}], "owner": {"reputation": 229, "user_id": 4746007, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh5.googleusercontent.com/-7qhF51Sy6jg/AAAAAAAAAAI/AAAAAAAAAJI/_XYuyf6t-xw/photo.jpg?sz=128", "display_name": "J&#233;r&#233;my JOKE", "link": "https://stackoverflow.com/users/4746007/j%c3%a9r%c3%a9my-joke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 44140146, "answer_count": 1, "score": 0, "last_activity_date": 1495617408, "creation_date": 1495555364, "last_edit_date": 1495617408, "question_id": 44139825, "link": "https://stackoverflow.com/questions/44139825/angular-http-service-loop", "title": "Angular http service loop", "body": "<p>Today i'm facing a new problem with services. </p>\n\n<p>I'm trying to make an http service but when I try to store, in my service, the Observable object returned by http.get.map - my app crashs.</p>\n\n<p>I wanted to achieve a \"system\" where the service loops to update datas and the components which subscribed to the observable update its data according to the service's data.</p>\n\n<p>Here is the code :</p>\n\n<p>afficheur.component.ts :</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport {HardwareService} from \"../../services/hardware.service\";\n\n@Component({\n    selector: 'afficheur',\n    templateUrl: 'app/components/hardware/afficheur.component.html'\n})\nexport class AfficheurComponent{\n    public state: Boolean;\n    constructor(private service: HardwareService){\n        this.service\n            .getHardware()\n            .subscribe(data =&gt; (console.log(data), this.state = data.afficheur),\n                error =&gt; console.log(error),\n                () =&gt; console.log('Get etat afficheur complete'))\n    }\n}\n</code></pre>\n\n<p>hardware.service.ts :</p>\n\n<pre><code>import { Injectable, OnInit }              from '@angular/core';\nimport { Headers, Http, Response }          from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class HardwareService implements OnInit{\n    private apiUrl = 'http://10.72.23.11:5000';  // URL to web API\n\n    private ressources: Observable&lt;any&gt;;\n\n    constructor (private http: Http) {}\n\n    ngOnInit() {\n        this.loopupdate()\n    }\n\n    loopupdate(): void {\n        setInterval(() =&gt; {\n            this.update();\n        }, 5000);\n    }\n\n    update(): void {\n        this.ressources = this.http.get(this.apiUrl)\n            .map(this.extractData)\n            .catch(this.handleError);\n    }\n\n    getHardware(){\n        return this.ressources;\n    }\n\n    private extractData(res: Response) {\n        let body = res.json();\n        return body || { };\n    }\n    private handleError (error: Response | any) {\n        // In a real world app, you might use a remote logging infrastructure\n        let errMsg: string;\n        if (error instanceof Response) {\n            const body = error.json() || '';\n            const err = body.error || JSON.stringify(body);\n            errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\n        } else {\n            errMsg = error.message ? error.message : error.toString();\n        }\n        console.error(errMsg);\n        return Observable.throw(errMsg);\n    }\n}\n</code></pre>\n\n<p>app.module.ts :</p>\n\n<pre><code>    import { FormsModule } from '@angular/forms';\n    import { NgModule } from '@angular/core';\n    import { BrowserModule } from '@angular/platform-browser';\n    import { HttpModule }    from '@angular/http';\n\n    import { AppComponent } from './app.component';\n\n\n    import { ROUTING } from './app.routes';\n    import {HardwareService} from \"./services/hardware.service\";\n    import {AfficheurComponent} from \"./components/hardware/afficheur.component\";\n    import {HardwareListComponent} from \"./views/hardwarelist/hardwarelist.component\";\n\n\n    @NgModule({\n        imports: [ BrowserModule, ROUTING, HttpModule, FormsModule, HttpModule],\n        declarations: [\n            AppComponent,\n            AfficheurComponent,\n            HardwareListComponent\n        ],\n        bootstrap: [ AppComponent ],\n        providers: [ HardwareService ]\n    })\n\nexport class AppModule { }\n</code></pre>\n\n<h2>Thanks again for being here :D</h2>\n\n<p>EDIT : </p>\n\n<p>I got an error when i try to launch my app :</p>\n\n<pre><code>ERROR TypeError: Cannot read property 'subscribe' of undefined\n</code></pre>\n\n<p>I think it's related to the this.ressources initialization, any idea ?</p>\n\n<hr>\n\n<p>EDIT 2 : \nIn my service : </p>\n\n<pre><code>initializePolling(){\n        return IntervalObservable.create(5000)\n            .flatMap(() =&gt; {\n                return this.getHardware()\n        });\n    }\n\ngetHardware(): Observable&lt;any&gt; {\n        return this.http.get(this.apiUrl)\n            .map(this.extractData)\n            .catch(this.handleError);\n    }\n</code></pre>\n\n<p>How can i subscribe to this with my component ? I don't know what method i should call in my component to fetch datas without make multiple calls if i have multiple components.</p>\n"}, {"tags": ["typescript", "pouchdb", "typescript-typings", "definitelytyped"], "answers": [{"tags": [], "owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "is_accepted": false, "score": 2, "last_activity_date": 1495562136, "creation_date": 1495562136, "answer_id": 44141843, "question_id": 44139701, "link": "https://stackoverflow.com/questions/44139701/how-to-work-around-incorrect-typescript-definitelytyped-typings-for-pouchdb/44141843#44141843", "title": "How to work around incorrect (?) TypeScript/DefinitelyTyped typings for PouchDB?", "body": "<blockquote>\n  <p>Is there a way for me do such a \"deep\" cast?</p>\n</blockquote>\n\n<p>You can always re-cast something using <code>as any as Whatever</code>. Obviously, this should be a last resort if you can't get the types correct, because there's no safety around the assertion whatsoever. For example <code>123 as any as Window</code> compiles.</p>\n\n<blockquote>\n  <p>is there a way to override the DT typings as locally as possible?</p>\n</blockquote>\n\n<p>Yes, take a look at <a href=\"https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\" rel=\"nofollow noreferrer\">Declaration Merging: Module Augmentation</a>. </p>\n\n<blockquote>\n  <p>Should I be doing something else entirely?</p>\n</blockquote>\n\n<p>If you're sure the type definitions are wrong you could always patch them and submit a PR to DefinitelyTyped.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 5482242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XBo78.jpg?s=128&g=1", "display_name": "Jeff Barnes", "link": "https://stackoverflow.com/users/5482242/jeff-barnes"}, "is_accepted": true, "score": 2, "last_activity_date": 1495735396, "creation_date": 1495735396, "answer_id": 44187034, "question_id": 44139701, "link": "https://stackoverflow.com/questions/44139701/how-to-work-around-incorrect-typescript-definitelytyped-typings-for-pouchdb/44187034#44187034", "title": "How to work around incorrect (?) TypeScript/DefinitelyTyped typings for PouchDB?", "body": "<p>Yeah, the Pouchdb-find definitions are wrong. Something like this should get you moving...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = new PouchDB(\"http://localhost:5984/data\")\r\n\r\ninterface FixedFindResponse&lt;Content extends PouchDB.Core.Encodable&gt; {\r\n  docs: PouchDB.Core.ExistingDocument&lt;Content&gt;[];\r\n}\r\nexport async function deleteLastRevForIds(dbname: void, ids: number[]) {\r\n  const docsToDelete: FixedFindResponse&lt;any&gt; = await data.find({\r\n    fields: [\"_id\", \"_rev\"],\r\n    selector: { _id: { $in: ids } }\r\n  })\r\n\r\n  const deletePromise = docsToDelete.docs.map(doc =&gt; {\r\n    return data.remove(doc) // &lt;-- HERE TSC SHOUTS AT ME about `doc`\r\n  })\r\n  const deletion = await Promise.all(deletePromise)\r\n  return deletion\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1052, "user_id": 1114731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/784ce9225bc2201f1f328906e9a70179?s=128&d=identicon&r=PG", "display_name": "Ronan Jouchet", "link": "https://stackoverflow.com/users/1114731/ronan-jouchet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 44187034, "answer_count": 2, "score": 2, "last_activity_date": 1495735396, "creation_date": 1495555047, "question_id": 44139701, "link": "https://stackoverflow.com/questions/44139701/how-to-work-around-incorrect-typescript-definitelytyped-typings-for-pouchdb", "title": "How to work around incorrect (?) TypeScript/DefinitelyTyped typings for PouchDB?", "body": "<p>I'm looking for help with TypeScript and the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/pouchdb\" rel=\"nofollow noreferrer\">PouchDB type declarations</a>. Consider this TS code:</p>\n\n\n\n<pre><code>import PouchDB = require('pouchdb')\nimport find = require('pouchdb-find')\nPouchDB.plugin(find)\n\nconst data = new PouchDB(\"http://localhost:5984/data\"),\n\nexport async function deleteLastRevForIds(dbname, ids) {\n  const docsToDelete = await data.find({\n    fields: [\"_id\", \"_rev\"],\n    selector: { _id: { $in: ids } }\n  })\n\n  const deletePromise = docsToDelete.docs.map(doc =&gt; {\n    return data.remove(doc) // &lt;-- HERE TSC SHOUTS AT ME about `doc`\n  })\n  const deletion = await Promise.all(deletePromise)\n  return deletion\n}\n</code></pre>\n\n<p>At the annotated <code>remove()</code> call, <code>tsc</code> emits this error:</p>\n\n<pre><code>Argument of type 'IdMeta' is not assignable to parameter of type 'RemoveDocument'.\n  Type 'IdMeta' is not assignable to type 'RevisionIdMeta'.\n    Property '_rev' is missing in type 'IdMeta'.'\n</code></pre>\n\n<p>What's happening is that the <code>find()</code> call is <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/pouchdb-find/index.d.ts#L166\" rel=\"nofollow noreferrer\">typed by the DefinitelyTyped typings</a>\nas returning a <code>{docs: PouchDB.Core.IdMeta[]}</code>. And as its name implies,\na <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/pouchdb-core/index.d.ts#L69-L74\" rel=\"nofollow noreferrer\">PouchDB.Core.IdMeta[]</a> means an array of <code>{_id: string}</code>.</p>\n\n<p>But it's false! <code>PouchDB.find()</code> doesn't return just a list of <code>{_id: ...}</code> objects,\nit returns a list of <code>{_id: ..., _rev: ...}</code> (plus I asked for these two fields explicitly). Or am I missing something?</p>\n\n<p>As a result, when calling the <code>remove()</code> function (correctly typed by the DT typings as\nneeding an fully-specified _id+_rev <code>RevisionIdMeta</code>) with such an object, TS rightly shouts at me.</p>\n\n<p>I tried casting this thing in all directions but couldn't bend it to my will; <code>tsc</code> keeps erroring that <code>_rev</code> is missing from my object.</p>\n\n<ul>\n<li>Is there a way for me do such a \"deep\" cast?</li>\n<li>If not, is there a way to override the DT typings as locally as possible?</li>\n<li>Should I be doing something else entirely?</li>\n</ul>\n\n<p>Also, should I propose a change to the DT typings?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "npm", "react-dom"], "comments": [{"owner": {"reputation": 96, "user_id": 2097348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26cVU.jpg?s=128&g=1", "display_name": "mmmveggies", "link": "https://stackoverflow.com/users/2097348/mmmveggies"}, "edited": false, "score": 0, "creation_date": 1503009637, "post_id": 44139538, "comment_id": 78449396, "body": "I&#39;ve got the same issue using stuff in @types/react and using searchkit."}, {"owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "reply_to_user": {"reputation": 96, "user_id": 2097348, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/26cVU.jpg?s=128&g=1", "display_name": "mmmveggies", "link": "https://stackoverflow.com/users/2097348/mmmveggies"}, "edited": false, "score": 0, "creation_date": 1503061314, "post_id": 44139538, "comment_id": 78471949, "body": "@mmmveggies I actually fixed it, I&#39;ll post answer below"}], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 7794032, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/907f1d128c97abafa7dd4353d61a820e?s=128&d=identicon&r=PG&f=1", "display_name": "Asma Rahim Ali Jafri", "link": "https://stackoverflow.com/users/7794032/asma-rahim-ali-jafri"}, "edited": false, "score": 0, "creation_date": 1571309482, "post_id": 45757401, "comment_id": 103202335, "body": "How does this help? I mean, what is the logic behind it?"}], "tags": [], "owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "is_accepted": true, "score": 0, "last_activity_date": 1503061450, "creation_date": 1503061450, "answer_id": 45757401, "question_id": 44139538, "link": "https://stackoverflow.com/questions/44139538/subsequent-variable-declarations-must-have-the-same-type-variable-use-must-be/45757401#45757401", "title": "Subsequent variable declarations must have the same type. Variable &#39;use&#39; must be of type &#39;SVGProps&#39;, but here has type &#39;SVGProps&#39;", "body": "<p>So the problem is that @types/react is installed twice. In my case it is installed under node_modules/@types/react and node_modules/searchkit/node_modules/@types/react. What you need to do is go into node_modules/@types/react/index.d.ts and remove everything pertaining to SVGProps. This will fix it.</p>\n"}], "owner": {"reputation": 230, "user_id": 8003832, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh5.googleusercontent.com/-FU-cikwOINw/AAAAAAAAAAI/AAAAAAAAACI/dBFqoMkb7Fc/photo.jpg?sz=128", "display_name": "Hiding", "link": "https://stackoverflow.com/users/8003832/hiding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1447, "favorite_count": 0, "accepted_answer_id": 45757401, "answer_count": 1, "score": 0, "last_activity_date": 1503061450, "creation_date": 1495554512, "last_edit_date": 1495559694, "question_id": 44139538, "link": "https://stackoverflow.com/questions/44139538/subsequent-variable-declarations-must-have-the-same-type-variable-use-must-be", "title": "Subsequent variable declarations must have the same type. Variable &#39;use&#39; must be of type &#39;SVGProps&#39;, but here has type &#39;SVGProps&#39;", "body": "<p>I am coding in typescript and using awesome-typescript-loader. When I try to compile my code I get the following error numerous times:</p>\n\n<p>\"ERROR in [at-loader] ./node_modules/searchkit/node_modules/@types/react/index.d.ts:2790:13 \n    TS2403: Subsequent variable declarations must have the same type. Variable 'switch' must be of type 'SVGProps', but here has type 'SVGProps'.\"</p>\n\n<p>All my errors are with this SVGProps type. It's the same type as the one it wants so how should I fix this? </p>\n\n<p>In index.d.ts these are the variables:\n<a href=\"https://i.stack.imgur.com/EHdCU.png\" rel=\"nofollow noreferrer\">Variable in index.d.ts</a></p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["angular", "typescript", "asynchronous"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1495553197, "post_id": 44139016, "comment_id": 75296446, "body": "check_login is asyncronous, so this.token is undefined. check login is returning an <b>observable</b>, so you should <b>subscribe</b> to the check_login function and assign the value to <code>this.token</code> when the data is available. You are mixing syncronous tasks with asyncronous tasks, which is why <code>this.token</code> is undefined when you log it. The solution is NOT to make the requests syncronous, but to (properly) subscribe to the observable, syncronous http requests are not that recommended. Also, url is undefined unless declared somewhere else."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 3, "creation_date": 1495553402, "post_id": 44139016, "comment_id": 75296577, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 842, "user_id": 1985217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ULOWL.jpg?s=128&g=1", "display_name": "megamit", "link": "https://stackoverflow.com/users/1985217/megamit"}, "edited": false, "score": 1, "creation_date": 1495553426, "post_id": 44139016, "comment_id": 75296590, "body": "You should be aware that using synchronous ajax calls is a deprecated as it leads to a bad user experience since <i>it will freeze the window until it completes</i>."}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "reply_to_user": {"reputation": 842, "user_id": 1985217, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ULOWL.jpg?s=128&g=1", "display_name": "megamit", "link": "https://stackoverflow.com/users/1985217/megamit"}, "edited": false, "score": 0, "creation_date": 1495555352, "post_id": 44139016, "comment_id": 75297892, "body": "@megamit as it is a login page, and in order to allow access to the user to the rest of the application I need to login him"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1495555851, "post_id": 44139016, "comment_id": 75298212, "body": "@Lu&#237;sCosta - read the marked duplicate. This will give you a solid foundation for working with asynchronous calls in typescript and javascript. You must understand this fundamental concept and how to program using callbacks and promises if you want to write any type of javascript / typescript code that interacts with a server/service."}], "answers": [{"comments": [{"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1495554408, "post_id": 44139454, "comment_id": 75297285, "body": "I assume here that he receives json object as a response"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495554558, "post_id": 44139454, "comment_id": 75297386, "body": "In the console it prints: {}"}, {"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495554665, "post_id": 44139454, "comment_id": 75297464, "body": "what is &#39;global&#39; variable. It should be an instance of Service injected in your constructor? i.e. constructor(private global: ServiceName){}"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495554725, "post_id": 44139454, "comment_id": 75297511, "body": "global is the instance of the service!  import {GlobalService} from &#39;app/service/global.service&#39;;  constructor(private global:GlobalService){}"}, {"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495554894, "post_id": 44139454, "comment_id": 75297615, "body": "and are you using the data variable in the line <code>let data = {user:user,password:pass};</code> ?"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495555204, "post_id": 44139454, "comment_id": 75297806, "body": "I was using that variable at first, but then I wrote the information directly on the request"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495555277, "post_id": 44139454, "comment_id": 75297849, "body": "I changed the component to <code>this.global.check_login(this.login_user, this.login_pass).subscribe(       data =&gt; {         console.log(data);       });</code> and it prints: &quot;Object {}&quot; when I open it, it has nothing inside"}, {"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495555304, "post_id": 44139454, "comment_id": 75297863, "body": "in your service you have used 2 different post requests.. Previously you sent {user: .., password: ...} and now {username: .., password: ...}. What exactly does your server expect?"}, {"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495555514, "post_id": 44139454, "comment_id": 75297991, "body": "There is a possibility that your server code may be incorrect"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495556260, "post_id": 44139454, "comment_id": 75298474, "body": "The server is expecting a username and a password, and it is returning {&quot;login&quot;:&quot;OK&quot;}. I could see that as I saved the request response (in the service) and asked for it later, and I could see it, the problem is that I want the service to communicate with the componnent only when it has the response"}, {"owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "reply_to_user": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495556425, "post_id": 44139454, "comment_id": 75298562, "body": "<code>console.log(data);</code> inside subscribe prints only when it has received the response from the service"}, {"owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "edited": false, "score": 0, "creation_date": 1495557678, "post_id": 44139454, "comment_id": 75299328, "body": "<code>console.log(data)</code> prints <code>Object {}</code> but when I go to network and open the field response I get <code>{&quot;login&quot;:&quot;OK&quot;}</code>"}, {"owner": {"reputation": 1234, "user_id": 7413191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aTfxh62mwtQ/AAAAAAAAAAI/AAAAAAAAAY4/qHlx3On-rOA/photo.jpg?sz=128", "display_name": "Ravi", "link": "https://stackoverflow.com/users/7413191/ravi"}, "edited": false, "score": 0, "creation_date": 1564032705, "post_id": 44139454, "comment_id": 100898457, "body": "this kinda not working for me . can you help me?? @JainamJhaveri"}], "tags": [], "owner": {"reputation": 1049, "user_id": 4151080, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh5.googleusercontent.com/-GtVcat7nYvs/AAAAAAAAAAI/AAAAAAAAABU/0a5yjXMEkWY/photo.jpg?sz=128", "display_name": "Jainam Jhaveri", "link": "https://stackoverflow.com/users/4151080/jainam-jhaveri"}, "is_accepted": true, "score": 1, "last_activity_date": 1495555210, "last_edit_date": 1495555210, "creation_date": 1495554259, "answer_id": 44139454, "question_id": 44139016, "link": "https://stackoverflow.com/questions/44139016/synchronous-http-post-angular2/44139454#44139454", "title": "Synchronous http post angular2", "body": "<p>You are rightly thinking that it is due to async execution of statements. Change your component code to: </p>\n\n<pre><code>login_function() {\n    this.global.check_login(this.login_user, this.login_pass).subscribe(\n      data =&gt; {\n        console.log(data);\n      });\n }\n</code></pre>\n\n<p>Service should be updated to the following code:\n(Assuming that your server accepts 'user' and 'password' as keys)</p>\n\n<pre><code>check_login(user,pass){\n    console.log(\"user:\"+user+\"\\npass:\"+pass);\n\n    let bodyString = JSON.stringify({user:user,password:pass});\n    let headers = new Headers({'Content-Type': 'application/json'}); // ... Set content type to JSON\n    let options = new RequestOptions({headers: headers}); // Create a request option\n    return this.http\n     .post(url,bodyString,options)\n     .map((response:Response)=&gt; response.json() );\n\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7757935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1896365343942786/picture?type=large", "display_name": "Lu&#237;s Costa", "link": "https://stackoverflow.com/users/7757935/lu%c3%ads-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7596, "favorite_count": 0, "accepted_answer_id": 44139454, "answer_count": 1, "score": 1, "last_activity_date": 1495565437, "creation_date": 1495553070, "last_edit_date": 1495565437, "question_id": 44139016, "link": "https://stackoverflow.com/questions/44139016/synchronous-http-post-angular2", "title": "Synchronous http post angular2", "body": "<p>I have a login component where the user inputs it's e-mail and password. The component sends the fields to the service, where i make a http post request to my nodejs backend to know if the user exists and if password is correct.</p>\n\n<p>The problem is that the response from the server is undefined, but I can get the value of the response from the network of chrome. </p>\n\n<p>I believe the problem is that the request is asynchronous, and so it returns the response before it actually gets the response.</p>\n\n<p>After searching I couldn't find very useful information on how to make the request synchronous. </p>\n\n<p>Here are the codes of my component and of service!</p>\n\n<p>In my component:</p>\n\n<pre><code>login_function(){\n    this.token = this.global.check_login(this.login_user,this.login_pass)\n        .subscribe(data =&gt; this.postData = JSON.stringify(data));\n    console.log(this.token);}\n}\n</code></pre>\n\n<p>In the service:</p>\n\n<pre><code>check_login(user, pass) {\n    let data = {user:user,password:pass};\n    let headers = new Headers({ 'Content-Type': 'application/json' }); \n    let options = new RequestOptions({ headers: headers, method:'post' });\n\n    console.log(\"user:\"+user+\"\\npass:\"+pass);\n\n    return this.http.post(url, {username:user,password:pass}, options)\n        .map((response:Response)=&gt; response.json());\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495554882, "post_id": 44138953, "comment_id": 75297599, "body": "You have to have <code>delete</code> method in <code>DeletemodalComponent</code>"}, {"owner": {"reputation": 1675, "user_id": 5338212, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-1-PsKqDHIvQ/AAAAAAAAAAI/AAAAAAAABXk/gHhHW8KiEr8/photo.jpg?sz=128", "display_name": "Nikhil Radadiya", "link": "https://stackoverflow.com/users/5338212/nikhil-radadiya"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495555259, "post_id": 44138953, "comment_id": 75297831, "body": "@yurzui So, I need to do delete employee operation in <code>DeletemodalComponent</code> ?"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 1, "creation_date": 1495555328, "post_id": 44138953, "comment_id": 75297880, "body": "You can emit event by using @Output"}, {"owner": {"reputation": 1675, "user_id": 5338212, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-1-PsKqDHIvQ/AAAAAAAAAAI/AAAAAAAABXk/gHhHW8KiEr8/photo.jpg?sz=128", "display_name": "Nikhil Radadiya", "link": "https://stackoverflow.com/users/5338212/nikhil-radadiya"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1495603510, "post_id": 44138953, "comment_id": 75316275, "body": "@yurzui I don&#39;t have much idea about emitting event and <code>@Output</code>, but let me try"}], "answers": [{"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1495613375, "creation_date": 1495613375, "answer_id": 44152601, "question_id": 44138953, "link": "https://stackoverflow.com/questions/44138953/self-context-delete-is-not-a-function-in-angular2/44152601#44152601", "title": "self.context.delete is not a function in angular2", "body": "<p>As mentioned by yurzui, use <code>@Output</code>. I would also slightly change <code>delete</code> to <code>deleteEmployee</code> instead. So, in your modal component, add the following:</p>\n\n<pre><code>@Output() deleteEmployee = new EventEmitter&lt;number&gt;();\n</code></pre>\n\n<p>and the click event would be where you pass the id:</p>\n\n<pre><code>(click)=\"deleteEmployee.emit(id)\"\n</code></pre>\n\n<p>and in your parent <code>EmployeeComponent</code>, in the child tag add the following:</p>\n\n<pre><code>&lt;app-deletemodal (deleteEmployee)=\"deleteEmployee($event)\"&gt;&lt;/app-deletemodal&gt;\n</code></pre>\n\n<p>Now in <code>deleteEmployee</code> you have the id:</p>\n\n<pre><code>deleteEmployee(id) {\n  console.log(id) // id here now in parent comp\n}\n</code></pre>\n\n<p>More about <code>@Output</code> and other ways to interact from the <strong><a href=\"https://angular.io/docs/ts/latest/cookbook/component-communication.html\" rel=\"nofollow noreferrer\">official docs</a></strong>.</p>\n"}], "owner": {"reputation": 1675, "user_id": 5338212, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-1-PsKqDHIvQ/AAAAAAAAAAI/AAAAAAAABXk/gHhHW8KiEr8/photo.jpg?sz=128", "display_name": "Nikhil Radadiya", "link": "https://stackoverflow.com/users/5338212/nikhil-radadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 44152601, "answer_count": 1, "score": 1, "last_activity_date": 1495613375, "creation_date": 1495552902, "last_edit_date": 1495573134, "question_id": 44138953, "link": "https://stackoverflow.com/questions/44138953/self-context-delete-is-not-a-function-in-angular2", "title": "self.context.delete is not a function in angular2", "body": "<p>I'm using ng-bootstrap for modal, Im trying to delete a record from a table, I have a <code>DeletemodalComponent</code> and an <code>EmployeeComponent</code>.</p>\n\n<p><strong>DeletemodlalComponent</strong></p>\n\n<pre><code>import {Component,OnInit, Input} from '@angular/core';\nimport { NgbModal, ModalDismissReasons, NgbModalRef, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\n@Component({\n  selector: 'app-deletemodal',\n  templateUrl: './deletemodal.html',\n  styleUrls: ['./deletemodal.component.css']\n})\nexport class DeletemodalComponent implements OnInit {\n  @Input() name;\n  closeResult:string; \n  constructor(\n    private modalService: NgbModal,\n    ) { }\n\n  ngOnInit() {\n    //const modalRef = this.modalService.open(DeletemodalComponent);\n  }\n}\n</code></pre>\n\n<p><strong>EmployeeComponent</strong></p>\n\n<pre><code>import { Component,Inject, OnInit,AfterViewInit,ViewChild } from '@angular/core';\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport 'rxjs/add/operator/toPromise';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Rx';\nimport { DataTableDirective } from 'angular-datatables';\nimport { NgbModal, ModalDismissReasons, NgbModalRef, NgbModalOptions } from '@ng-bootstrap/ng-bootstrap';\nimport { DeletemodalComponent } from 'app/deletemodal/deletemodal.component';\nimport { EmployeeService } from 'app/services/employee.service';\nimport { Employee} from \"app/services/employee\";\n@Component({\n  selector: 'app-employees',\n  templateUrl: './employees.component.html',\n  styleUrls: ['./employees.component.css'],\n})\n\nexport class EmployeesComponent implements OnInit {\n @ViewChild(DataTableDirective)\n  public datatableElement: DataTableDirective;\n  dtOptions: DataTables.Settings = {};\n  dtTrigger: Subject&lt;any&gt; = new Subject();\n  employees: Employee[] = [];\n  errMesg: any; \n  public emp_data:any;\n  closeResult: string;\n  public markersData: any;\n  name:string;\n  id:number;\n  modalTitle:string;\n  modalRef: NgbModalRef;\n\n  constructor(@Inject(Http)\n    private route: ActivatedRoute,\n    private router: Router,\n    private http:Http,\n    private employeeservice:EmployeeService,\n    private modalService: NgbModal\n    //private modal: NgbModal,\n    ) { }\n\n   ngOnInit(): void {\n       this.dtOptions = {\n      pagingType: 'full_numbers',\n      pageLength: 5\n    };\n    this.getEmployees();\n  }\n\n  /* Options for Modal */\n  modalOptions : NgbModalOptions = {\n    size:'lg'\n  };\n\n  getEmployees(){\n    this.http.get('http://127.0.0.1:8000/api/employee')\n      .map(res =&gt; res.json())\n      .subscribe(\n        employees =&gt; {\n        this.employees = employees;\n        this.dtTrigger.next();\n         console.log(employees);\n      });\n  }\n   rerender(): void {\n    this.datatableElement.dtInstance.then((dtInstance: DataTables.Api) =&gt; {\n      dtInstance.destroy();\n      this.employees;\n    });\n  }\n\ndelete(id) {\n    console.log(id); \n    //delete employee code\n  }\n\n  open(content,employee) {\n    const modalRef = this.modalService.open(DeletemodalComponent);\n    modalRef.componentInstance.id = employee.id;\n  }\n  private getDismissReason(reason: any): string {\n    if (reason === ModalDismissReasons.ESC) {\n      return 'by pressing ESC';\n    } else if (reason === ModalDismissReasons.BACKDROP_CLICK) {\n      return 'by clicking on a backdrop';\n    } else {\n      return  `with: ${reason}`;\n    }\n  }\n}\n</code></pre>\n\n<p>I have imported <code>DeletemodalComponent</code> in <code>EmployeeComponent</code> </p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn btn-primary\" (click)=\"delete(id)\"&gt;Delete&lt;/button&gt; \n</code></pre>\n\n<p>This line is in <code>deletemodal.html</code> and calls delete function in <code>EmployeeComponent</code>. I think <code>DeletemodalComponent</code> don't have <code>delete()</code> and that's why it is giving this error, is there a way to call <code>delete()</code> of <code>EmployeeComponent</code> from <code>DeletemodalComponent</code>'s template ?</p>\n\n<p>Can anyone help?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1495559064, "post_id": 44140928, "comment_id": 75300145, "body": "thank you for you answer because that certainly gets rid of the error at the typescript side but I&#39;m asking why the type isn&#39;t being <i>inferred</i>. I don&#39;t want to explicitly say the type. for some background, I&#39;m writing a javascript library in typescript and the javascript users can&#39;t add that assertion so the only way the typings will work for them is if the type is inferred through usage."}, {"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "reply_to_user": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1495615737, "post_id": 44140928, "comment_id": 75323660, "body": "I guess it gets confused with the type of the parameter which is passed in and as it becomes any due no spec of its type, it doesn&#39;t infer number and it fails the method which belongs to number type. @RicoKahler"}, {"owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1495616186, "post_id": 44140928, "comment_id": 75323958, "body": "I&#39;m still a bit confused. <code>aNumber</code> has it&#39;s type declared so typescript shouldn&#39;t need the type of <code>r</code> to infer that the whole function returns type <code>number</code> (because the input type of a function doesn&#39;t determine the output type). I&#39;m leaning more towards this as a bug because when I assert the type of <code>r</code> to <code>any</code> it works! but if <code>r</code> implicitly has type <code>any</code> then it breaks."}, {"owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1495616412, "post_id": 44140928, "comment_id": 75324123, "body": "and if the intended audience of the library is javascript users, then they still can&#39;t assert the type of <code>r</code> :("}, {"owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "reply_to_user": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "edited": false, "score": 0, "creation_date": 1495618388, "post_id": 44140928, "comment_id": 75325508, "body": "mmm I just tried to remove the type of the param passed into the func2 and it works, cause it gets inferred by any, the thing is you are giving aNumber but the funct2 can&#39;t resolve the type of this until gets called I believe, that&#39;s why it doesn&#39;t work in that way, either you specified the type of the function as number, or the parameter or in the declaration make it any, but expecting to be resolbed without being called, I dont think it works like that but I might be wrong :)"}], "tags": [], "owner": {"reputation": 4694, "user_id": 4775350, "user_type": "registered", "accept_rate": 72, "profile_image": "https://lh6.googleusercontent.com/-J_Y-a1NouBI/AAAAAAAAAAI/AAAAAAAAAQs/KRm7CFMGTaw/photo.jpg?sz=128", "display_name": "Alejandro Lora", "link": "https://stackoverflow.com/users/4775350/alejandro-lora"}, "is_accepted": false, "score": 1, "last_activity_date": 1495625105, "last_edit_date": 1495625105, "creation_date": 1495558806, "answer_id": 44140928, "question_id": 44138752, "link": "https://stackoverflow.com/questions/44138752/why-does-typescript-not-capture-my-type-in-this-generic-function/44140928#44140928", "title": "Why does typescript not capture my type in this generic function?", "body": "<p>Fixed, just mark the type like this:\n<a href=\"https://i.stack.imgur.com/gG5Sd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gG5Sd.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDITED:</strong></p>\n\n<p>This is another way:\n<a href=\"https://i.stack.imgur.com/JLxSi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JLxSi.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDITED 2:</strong> (made it compatible with JS)</p>\n\n<p><a href=\"https://i.stack.imgur.com/WcMp1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcMp1.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 12301, "user_id": 5776910, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-OvtBiuAouu4/AAAAAAAAAAI/AAAAAAAAEug/tdrwTl5nWc8/photo.jpg?sz=128", "display_name": "Rico Kahler", "link": "https://stackoverflow.com/users/5776910/rico-kahler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1495625105, "creation_date": 1495552387, "last_edit_date": 1495559114, "question_id": 44138752, "link": "https://stackoverflow.com/questions/44138752/why-does-typescript-not-capture-my-type-in-this-generic-function", "title": "Why does typescript not capture my type in this generic function?", "body": "<p>The type isn't captured when using generics inside of a configuration object in some cases.</p>\n\n<p>In particular, the function <code>functionAThatTakesAnObject</code> should capture the type of <code>aNumber</code> so that the type of <code>shouldBeInferedToBeANumber</code> should be <code>number</code> but instead it's given type <code>{}</code></p>\n\n<p>Any ideas why? What am I missing here? Is this a <a href=\"https://github.com/Microsoft/TypeScript/issues/15769\" rel=\"nofollow noreferrer\">bug</a>?</p>\n\n<p>Here is <a href=\"http://www.typescriptlang.org/play/#src=function%20functionA%3CT%3E(funcThatReturnsT%3A%20(something%3A%20any)%20%3D%3E%20T%2C%20funcThatTakeT%3A%20(t%3A%20T)%20%3D%3E%20any)%20%7B%0D%0A%20%20%20%20let%20something%20%3D%20undefined%20as%20any%3B%0D%0A%20%20%20%20let%20hasTypeT%20%3D%20funcThatReturnsT(something)%3B%0D%0A%20%20%20%20return%20funcThatTakeT(hasTypeT)%3B%0D%0A%7D%0D%0A%0D%0Alet%20aNumber%20%3D%205%3B%0D%0A%0D%0A%2F%2F%20works%0D%0AfunctionA(()%20%3D%3E%20aNumber%2C%20shouldBeInferedToBeANumber%20%3D%3E%20shouldBeInferedToBeANumber.toExponential())%3B%0D%0A%2F%2F%20still%20works%0D%0AfunctionA(_%20%3D%3E%20aNumber%2C%20shouldBeInferedToBeANumber%20%3D%3E%20shouldBeInferedToBeANumber.toExponential())%3B%0D%0A%0D%0A%2F**%0D%0A%20*%20this%20is%20the%20same%20as%20%60functionA%60%20but%20it%20takes%20a%20configuraton%20object%20instead%0D%0A%20*%2F%0D%0Afunction%20functionAThatTakesAnObject%3CT%3E(opts%3A%20%7B%0D%0A%20%20%20%20funcThatReturnsT%3A%20(something%3A%20any)%20%3D%3E%20T%2C%0D%0A%20%20%20%20funcThatTakeT%3A%20(t%3A%20T)%20%3D%3E%20any%0D%0A%7D)%20%7B%0D%0A%20%20%20%20let%20something%20%3D%20undefined%20as%20any%3B%0D%0A%20%20%20%20let%20hasTypeT%20%3D%20opts.funcThatReturnsT(something)%3B%0D%0A%20%20%20%20return%20opts.funcThatTakeT(hasTypeT)%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20works%0D%0AfunctionAThatTakesAnObject(%7B%0D%0A%20%20%20%20funcThatReturnsT%3A%20()%20%3D%3E%20aNumber%2C%20%2F%2F%20if%20there%20is%20no%20parameter%2C%20it%20works%0D%0A%20%20%20%20funcThatTakeT%3A%20shouldBeInferedToBeANumber%20%3D%3E%20shouldBeInferedToBeANumber.toExponential()%0D%0A%7D)%3B%0D%0A%0D%0A%2F%2F%20DOES%20NOT%20WORK%0D%0AfunctionAThatTakesAnObject(%7B%0D%0A%20%20%20%20funcThatReturnsT%3A%20_%20%3D%3E%20aNumber%2C%20%2F%2F%20if%20there%20is%20a%20parameter%2C%20it%20breaks%0D%0A%20%20%20%20funcThatTakeT%3A%20shouldBeInferedToBeANumber%20%3D%3E%20shouldBeInferedToBeANumber.toExponential()%0D%0A%7D)%3B\" rel=\"nofollow noreferrer\">a typescript playground link</a>.</p>\n\n<p>And here is the code:</p>\n\n<pre><code>function functionA&lt;T&gt;(funcThatReturnsT: (something: any) =&gt; T, funcThatTakeT: (t: T) =&gt; any) {\n    let something = undefined as any;\n    let hasTypeT = funcThatReturnsT(something);\n    return funcThatTakeT(hasTypeT);\n}\n\nlet aNumber = 5;\n\n// works\nfunctionA(() =&gt; aNumber, shouldBeInferedToBeANumber =&gt; shouldBeInferedToBeANumber.toExponential());\n// still works\nfunctionA(_ =&gt; aNumber, shouldBeInferedToBeANumber =&gt; shouldBeInferedToBeANumber.toExponential());\n\n/**\n * this is the same as `functionA` but it takes a configuraton object instead\n */\nfunction functionAThatTakesAnObject&lt;T&gt;(opts: {\n    funcThatReturnsT: (something: any) =&gt; T,\n    funcThatTakeT: (t: T) =&gt; any\n}) {\n    let something = undefined as any;\n    let hasTypeT = opts.funcThatReturnsT(something);\n    return opts.funcThatTakeT(hasTypeT);\n}\n\n// works\nfunctionAThatTakesAnObject({\n    funcThatReturnsT: () =&gt; aNumber, // if there is no parameter, it works\n    funcThatTakeT: shouldBeInferedToBeANumber =&gt; shouldBeInferedToBeANumber.toExponential()\n});\n\n// DOES NOT WORK\nfunctionAThatTakesAnObject({\n    funcThatReturnsT: _ =&gt; aNumber, // if there is a parameter, it breaks\n    funcThatTakeT: shouldBeInferedToBeANumber =&gt; shouldBeInferedToBeANumber.toExponential()\n});\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>clarification from my comment:</p>\n\n<blockquote>\n  <p>I'm asking why the type isn't being inferred. I don't want to explicitly say the type. for some background, I'm writing a javascript library in typescript and the javascript users can't add that assertion so the only way the typings will work for them is if the type is inferred through usage.</p>\n</blockquote>\n"}, {"tags": ["xml", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 1799030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03b615ce2f5fe3c3eb8b38a9965988ab?s=128&d=identicon&r=PG", "display_name": "MChopra", "link": "https://stackoverflow.com/users/1799030/mchopra"}, "is_accepted": false, "score": 1, "last_activity_date": 1571685026, "last_edit_date": 1571685026, "creation_date": 1571684312, "answer_id": 58492596, "question_id": 44138690, "link": "https://stackoverflow.com/questions/44138690/read-a-local-xml-file-in-angular-typescript-and-extract-some-node-values/58492596#58492596", "title": "Read a local XML file in Angular/Typescript and extract some node values", "body": "<p>If you wish to convert it XML to JSON, there are a few packages that can help you achieve this. I used the xml2js package. The code looks something link this:</p>\n\n<pre><code>import { promises as fsPromises } from 'fs'; \nimport { parseString } from 'xml2js';\n\n// Declare Variables\nlet JSONdata = null;\nlet XMLdata = null;\n\n// Read the XML file \n\nfsPromises.readFile('../xmlParser/test.xml','utf-8')\n.then(function(value){\n    XMLdata = value; \n    console.log('XML data is: '+ value);\n\n    // Parse XML\n    parseString(XMLdata, function(err, result){\n    if(err) {   \n        console.log('There was an error when parsing: ' + err);\n    }\n    else {\n        console.log('The JSON version is: ' + JSON.stringify(result));\n        console.log('The JSON version is: ' + JSON.stringify(result.root.graph)); // Use this format to extract the tags/data you are interested in\n        JSONdata = result;\n\n        // Write the JSON data to a file\n        fsPromises.writeFile(\"../xmlParser/edited-test.json\", JSON.stringify(JSONdata), 'utf-8')\n        .then( function() { console.log('Successfully written the file') })\n        .catch( function(reason) { console.log('Something went wrong when writing the file: '+ reason) });\n    }\n    })\n})\n\n.catch(function(reason){\n    console.log('There was some problem reading the file: '+ reason)});\n\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 31, "user_id": 8054364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de145fa8f6cb96441f3fc1a8cf2ffa3e?s=128&d=identicon&r=PG&f=1", "display_name": "Laurence", "link": "https://stackoverflow.com/users/8054364/laurence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3874, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1571685026, "creation_date": 1495552225, "question_id": 44138690, "link": "https://stackoverflow.com/questions/44138690/read-a-local-xml-file-in-angular-typescript-and-extract-some-node-values", "title": "Read a local XML file in Angular/Typescript and extract some node values", "body": "<p>I am trying to load an XML file using Angular and typescript and then be able to extract some specific node values to use them into calculations and display these in other some component of the app. I am completely new to Angular and typescript (and coding in general). I have done the Angular tutorial but now I am struggling to get started and achieve the objective stated above. \nI think I need to: \n- Provide the file path and load the file, and store it in a variable\n- Convert from XML to something else (JSON?)\n- Look for a certain \"node\" based on names and attributes and store value in a variable\n- Use this variable in the HTML using {{}}. </p>\n\n<p>I tried several options but none worked so far probably because I am mixing different routes. </p>\n\n<p>All I have for now is: </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  template: (.... some html.... that displays title and the image below and the date using {{}} )\n\nexport class AppComponent {\n\ntitle=\"Welcome !\";\nWelcome_Image=\"/Images/Images.JPG\";\ntoday=Date.now();\n\n}\n</code></pre>\n\n<p>Could you please help me get started with the task described above ? Thanks a lot for your help. </p>\n\n<p>Best regards, Laurence</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "edited": false, "score": 0, "creation_date": 1495551565, "post_id": 44138361, "comment_id": 75295197, "body": "What if you set it like you did for the <code>BaseClass</code>? i.e. <code>class ChildClass extends BaseClass&lt;BaseClassProps&gt; { }</code> ?"}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 2, "creation_date": 1495551659, "post_id": 44138361, "comment_id": 75295296, "body": "<a href=\"https://facebook.github.io/react/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">The React devs recommend against using inheritance with components</a> - you should be using <a href=\"https://facebook.github.io/react/docs/higher-order-components.html\" rel=\"nofollow noreferrer\">higher order components</a> instead. <i>&quot;At Facebook, we use React in thousands of components, and we haven&#39;t found any use cases where we would recommend creating component inheritance hierarchies.&quot;</i>"}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 6003, "user_id": 3229534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Pc9Po.png?s=128&g=1", "display_name": "Aron", "link": "https://stackoverflow.com/users/3229534/aron"}, "edited": false, "score": 0, "creation_date": 1495551870, "post_id": 44138361, "comment_id": 75295491, "body": "@Aron Doesn&#39;t work because it&#39;s not generic."}, {"owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "reply_to_user": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1495551902, "post_id": 44138361, "comment_id": 75295534, "body": "@JoeClay This is more like a View and not a Component. That&#39;s why I want to use inheritance."}, {"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1495552186, "post_id": 44138361, "comment_id": 75295776, "body": "If you want to do it that way, that&#39;s fine - expect to run into problems, though. It&#39;s really not how React is designed to be used."}], "owner": {"reputation": 25778, "user_id": 4467208, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/H3QRx.jpg?s=128&g=1", "display_name": "Murat Karag&#246;z", "link": "https://stackoverflow.com/users/4467208/murat-karag%c3%b6z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 658, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495551421, "creation_date": 1495551421, "question_id": 44138361, "link": "https://stackoverflow.com/questions/44138361/react-typescript-how-to-set-properties-in-inherited-class", "title": "React/Typescript How to set properties in inherited class?", "body": "<p>I have the following base class which is used for the inheritance. For simplicitly there are only two properties.</p>\n\n<pre><code>export interface BaseClassProps{\n    props1: string;\n    props2?: string;\n}\n\nexport interface BaseClassState{\n    mode?: \"loading\" | 'edit';\n}\n\nexport abstract class BaseClass extends React.Component&lt;BaseClassProps, BaseClassState&gt;{ \n\n   constructor(props: BaseClassProps, context: any) {\n        super(props, context);\n\n        this.state = ({\n            mode: 'loading'\n        });\n }\n</code></pre>\n\n<p>I want to extend that class and fill out the properties</p>\n\n<pre><code>class ChildClass extends BaseClass{ \n\n   constructor(props: BaseClassProps, context: any) {\n        super(props, context);\n   }\n }\n</code></pre>\n\n<p>Now where do I set the properties <code>props1</code> and <code>props2</code> in the extending class? Because I am getting the error that the props are not set, but I have no idea where to place them...</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "edited": false, "score": 0, "creation_date": 1495551734, "post_id": 44138356, "comment_id": 75295359, "body": "Make sure you assign the value to a local variable before trying to access the map."}, {"owner": {"reputation": 1193, "user_id": 2445556, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/xfgtp.jpg?s=128&g=1", "display_name": "David Aguirre", "link": "https://stackoverflow.com/users/2445556/david-aguirre"}, "edited": false, "score": 0, "creation_date": 1495551792, "post_id": 44138356, "comment_id": 75295415, "body": "Then try .get(property), where &quot;property&quot; is the name of the value you are trying to retrieve"}], "answers": [{"comments": [{"owner": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "edited": false, "score": 0, "creation_date": 1495553475, "post_id": 44138717, "comment_id": 75296624, "body": "I get this error:  <code>property entries does not exist on type &#39;ObjectContructor&#39;</code>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "edited": false, "score": 0, "creation_date": 1495553685, "post_id": 44138717, "comment_id": 75296776, "body": "It is ES2017 method. You need TypeScript to be configured properly, there should be <code>es2017</code> in <code>lib</code> section, also respective polyfill should be loaded."}, {"owner": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "edited": false, "score": 0, "creation_date": 1495612998, "post_id": 44138717, "comment_id": 75321825, "body": "Thanks! But now I get <code>Property &#39;json&#39; does not exist on type &#39;{}&#39;</code>. What is it ?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "edited": false, "score": 0, "creation_date": 1495615622, "post_id": 44138717, "comment_id": 75323588, "body": "That&#39;s because response is untyped. Use <code>response: Response</code>."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "edited": false, "score": 1, "creation_date": 1495628827, "post_id": 44138717, "comment_id": 75333014, "body": "The proper place is where the variable is defined. <code>.then(response: Resonse) =&gt; { ...</code>."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1495552305, "creation_date": 1495552305, "answer_id": 44138717, "question_id": 44138356, "link": "https://stackoverflow.com/questions/44138356/how-can-i-get-all-keys-from-map-at-typescript/44138717#44138717", "title": "How can I get all keys from Map at typescript?", "body": "<p>Type assertion cheats type system to consider the result a map with</p>\n\n<pre><code>return response.json().data as Map&lt;String, number&gt;\n</code></pre>\n\n<p>But it doesn't make <code>data</code> object a map.</p>\n\n<p>It should be converted to <code>Map</code> in order to be a map:</p>\n\n<pre><code>return new Map(Object.entries(response.json().data));\n</code></pre>\n"}], "owner": {"reputation": 1532, "user_id": 6346275, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5416c9199e08a16d210bbfd6a08ff421?s=128&d=identicon&r=PG&f=1", "display_name": "faoxis", "link": "https://stackoverflow.com/users/6346275/faoxis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1806, "favorite_count": 0, "accepted_answer_id": 44138717, "answer_count": 1, "score": 1, "last_activity_date": 1495552305, "creation_date": 1495551408, "question_id": 44138356, "link": "https://stackoverflow.com/questions/44138356/how-can-i-get-all-keys-from-map-at-typescript", "title": "How can I get all keys from Map at typescript?", "body": "<p>I use <code>Angular 2</code>. Also I have <code>StatisticsService</code> which has this method:</p>\n\n<pre><code>getComingStatistics(): Promise&lt;Map&lt;String, number&gt;&gt; {\n    const url = `${this.eventUrl}/rest/report/statistic/coming`;\n    return this.http.get(url)\n        .toPromise()\n        .then(response =&gt; {\n\n            return response.json().data as Map&lt;String, number&gt;\n        })\n        .catch(this.handleError);\n}\n</code></pre>\n\n<p>I make this call from a component:</p>\n\n<pre><code>constructor(private statisticsService: StatisticsService) {}\n\ncomingStatistics: Map&lt;String, number&gt;;\nallComingUsers: number;\n\nngOnInit(): void {\n    this.statisticsService.getComingStatistics().then(comingStatistics =&gt; {\n        console.log(comingStatistics);\n        console.log(comingStatistics.values());\n    });\n}\n</code></pre>\n\n<p>The problem is in this line <code>console.log(comingStatistics.values());</code>. I have this exception: <code>Uncaught (in promise): TypeError: comingStatistics.values is not a function</code>.</p>\n\n<p>Also no one of the map's method works (like <code>keys()</code>, <code>forEach</code>, etc.). There is only one way to get a value: <code>comingStatistics['someKey']</code>.</p>\n\n<p>How can I get all keys and values of my map ?</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "edited": false, "score": 1, "creation_date": 1495551387, "post_id": 44138189, "comment_id": 75295053, "body": "there is no such thing as casting in typescript. You can assert that a value is of a type at compile time, but since the instance of part already does that the compiler is smart enough to assert it for you. ;)"}, {"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1593431880, "post_id": 44138189, "comment_id": 110770052, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/13204759/typescript-or-javascript-type-casting\">TypeScript or JavaScript type casting</a>"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1593720230, "post_id": 44138189, "comment_id": 110886839, "body": "No, but the answer below did :) The <code>if (g instanceof Beer)</code> already asserts the type so there no need to cast / assert it again inside the <code>if</code> statement."}], "answers": [{"tags": [], "owner": {"reputation": 25995, "user_id": 5152732, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eL0xfQom3xQ/AAAAAAAAAAI/AAAAAAAAB1E/j1B2Mcgvt6M/photo.jpg?sz=128", "display_name": "toskv", "link": "https://stackoverflow.com/users/5152732/toskv"}, "is_accepted": true, "score": 2, "last_activity_date": 1495560395, "last_edit_date": 1495560395, "creation_date": 1495551506, "answer_id": 44138392, "question_id": 44138189, "link": "https://stackoverflow.com/questions/44138189/cast-not-required-in-typescript-when-using-instanceof/44138392#44138392", "title": "Cast not required in typescript when using instanceof?", "body": "<p>That is a compiler feature called <strong>type guards</strong>, you can read more about it in the Advanced Types chapter of the <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">handbook</a>.</p>\n\n<p>Also there is no such thing as casting in Typescript. What you can do is assert the type of a value at compile time and overwrite the type the compiler wants to assign to it. </p>\n\n<p>In this case though it does it automatically for you.</p>\n"}, {"tags": [], "owner": {"reputation": 6957, "user_id": 2239174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pO5KY.gif?s=128&g=1", "display_name": "TSV", "link": "https://stackoverflow.com/users/2239174/tsv"}, "is_accepted": false, "score": 4, "last_activity_date": 1495551515, "creation_date": 1495551515, "answer_id": 44138397, "question_id": 44138189, "link": "https://stackoverflow.com/questions/44138189/cast-not-required-in-typescript-when-using-instanceof/44138397#44138397", "title": "Cast not required in typescript when using instanceof?", "body": "<p>As far as I remember this is the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What%27s-new-in-TypeScript#type-guards\" rel=\"nofollow noreferrer\">Type Guards</a>, available since v1.4:</p>\n\n<blockquote>\n  <p>Type Guards</p>\n  \n  <p>A common pattern in JavaScript is to use typeof or instanceof to\n  examine the type of an expression at runtime. TypeScript now\n  understands these conditions and will change type inference\n  accordingly when used in an if block.</p>\n</blockquote>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "accepted_answer_id": 44138392, "answer_count": 2, "score": 2, "last_activity_date": 1495560395, "creation_date": 1495551040, "question_id": 44138189, "link": "https://stackoverflow.com/questions/44138189/cast-not-required-in-typescript-when-using-instanceof", "title": "Cast not required in typescript when using instanceof?", "body": "<p>I am using <code>instanceof</code> to check if an object is of a certain type.\nI would expect that if this is true, I'd still need to cast that object to that certain type before I can use it as such. </p>\n\n<p>But instead, inside the IF statement a cast seems not to be necessary. At least not in Visual Studio Code and in the <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">Typescript Playground</a>.</p>\n\n<pre><code>class Drink { \n    price: number = 4;\n}\n\nclass Beer extends Drink { \n    alcohol: number = 6;\n}\n\nlet array: Array&lt;Drink&gt; = new Array&lt;Drink&gt;();\narray.push(new Drink(), new Beer(), new Drink());\n\nfor (let g of array) { \n    // here, only 'price' is available as a property of drink\n    console.log(g.price);\n    if (g instanceof Beer) {    \n        // but unexpectedly, inside the IF statement\n        // the alcohol value IS available!\n        console.log(g.alcohol);\n\n        // I expected I needed to cast drink to beer first:\n        console.log((&lt;Beer&gt;g).alcohol);  \n    }\n}\n</code></pre>\n\n<p>Is this very smart behavior of the Typescript editor or is this a glitch?</p>\n\n<p>Copy>Paste the above code in the <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">Typescript Playground</a> to see this behavior...</p>\n"}, {"tags": ["node.js", "angular", "express", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 5692938, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-ry5d5RmeCPg/AAAAAAAAAAI/AAAAAAAAAB4/IPsjmtI6K9Q/photo.jpg?sz=128", "display_name": "Petar D.", "link": "https://stackoverflow.com/users/5692938/petar-d"}, "edited": false, "score": 0, "creation_date": 1513936203, "post_id": 44160951, "comment_id": 82847666, "body": "Have you found a better solution, as I&#39;m experiencing the same problem?"}, {"owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "edited": false, "score": 0, "creation_date": 1513955865, "post_id": 44160951, "comment_id": 82856946, "body": "Nah, that&#39;s the solution I&#39;m using; a separate config file for the server code."}, {"owner": {"reputation": 1218, "user_id": 7912447, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6a4b65085a4a73b13356f53a815916b?s=128&d=identicon&r=PG&f=1", "display_name": "Nasiruddin Saiyed", "link": "https://stackoverflow.com/users/7912447/nasiruddin-saiyed"}, "edited": false, "score": 0, "creation_date": 1524313337, "post_id": 44160951, "comment_id": 86927763, "body": "can i get your repo i am near to run both on single"}], "tags": [], "owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "is_accepted": true, "score": 3, "last_activity_date": 1495635168, "creation_date": 1495635168, "answer_id": 44160951, "question_id": 44138024, "link": "https://stackoverflow.com/questions/44138024/how-to-use-typescript-with-angular-cli-and-express-node-in-the-same-project/44160951#44160951", "title": "How to use Typescript with Angular CLI and Express/Node in the same project?", "body": "<p>Here is my solution. I have added a second tsconfig file in the root directory that I named tsconfig-server.json. Here is a look at the content of this file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/OOG6t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OOG6t.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>What's more, I have changed my NPM start script to run the following:</p>\n\n<pre><code>\"start\": \"ng build -watch | tsc -p tsconfig-server.json -watch | nodemon server.js\"\n</code></pre>\n"}], "owner": {"reputation": 3581, "user_id": 6660433, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1206212896066130/picture?type=large", "display_name": "snowfrogdev", "link": "https://stackoverflow.com/users/6660433/snowfrogdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2040, "favorite_count": 1, "accepted_answer_id": 44160951, "answer_count": 1, "score": 5, "last_activity_date": 1495636231, "creation_date": 1495550678, "last_edit_date": 1495636231, "question_id": 44138024, "link": "https://stackoverflow.com/questions/44138024/how-to-use-typescript-with-angular-cli-and-express-node-in-the-same-project", "title": "How to use Typescript with Angular CLI and Express/Node in the same project?", "body": "<p>I am building a skeleton MEAN project using the Angular CLI. Here is a look at the folder structure and the tsconfig.json file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VvPpU.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VvPpU.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Right now, the server code, in the server directory, is written in JavaScript and I would like to be able to write it in TypeScript.</p>\n\n<p>In development, I usually run the following commands:</p>\n\n<pre><code>nodemon server.js\nng build --watch\n</code></pre>\n\n<p>I am wondering what changes do I need to make in order to be able to write my server code in TypeScript? Do I need to create a separate tsconfig.json file somewhere else to deal with the server code or can instructions for Angular and server code be contained in the same tsconfig.json file? Can I keep using the 2 above commands for my development? Do I need to add a new command? Ideally, I would prefer a solution that doesn't use tools like Gulp but sticks to NPM scripts, if need be.</p>\n"}, {"tags": ["angular", "typescript", "web", "single-page-application"], "comments": [{"owner": {"reputation": 10785, "user_id": 5556177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d9Zo80hDfWY/AAAAAAAAAAI/AAAAAAAAACQ/Q-IpHqjPcx8/photo.jpg?sz=128", "display_name": "Nehal", "link": "https://stackoverflow.com/users/5556177/nehal"}, "edited": false, "score": 0, "creation_date": 1495550622, "post_id": 44137136, "comment_id": 75294431, "body": "Can you add Plunker example, please? I removed <code>&lt;md-input-container&gt;&lt;&#47;md-input-container&gt;</code> from material2&#39;s example and it works fine.  See, <a href=\"https://plnkr.co/edit/VuJguKs3AB4luWgIzxHH\" rel=\"nofollow noreferrer\">plnkr.co/edit/VuJguKs3AB4luWgIzxHH</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5204848"}, "reply_to_user": {"reputation": 10785, "user_id": 5556177, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d9Zo80hDfWY/AAAAAAAAAAI/AAAAAAAAACQ/Q-IpHqjPcx8/photo.jpg?sz=128", "display_name": "Nehal", "link": "https://stackoverflow.com/users/5556177/nehal"}, "edited": false, "score": 0, "creation_date": 1495552763, "post_id": 44137136, "comment_id": 75296175, "body": "@Nehal <a href=\"https://pp.userapi.com/c636225/v636225308/2f4a1/_xj3ESgE7YY.jpg\" rel=\"nofollow noreferrer\">pp.userapi.com/c636225/v636225308/2f4a1/_xj3ESgE7YY.jpg</a> I have same problem in the plunker :C"}, {"owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "edited": false, "score": 0, "creation_date": 1495560098, "post_id": 44137136, "comment_id": 75300650, "body": "Works fine for me <a href=\"https://plnkr.co/edit/1GnqrHa207oBFSUWGw9q?p=preview\" rel=\"nofollow noreferrer\"><b>here</b></a>"}], "owner": {"user_type": "does_not_exist", "display_name": "user5204848"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1495560132, "creation_date": 1495548507, "last_edit_date": 1495560132, "question_id": 44137136, "link": "https://stackoverflow.com/questions/44137136/why-md-autocomplete-mdinput-throws-type-error", "title": "Why md-autocomplete / mdInput throws type error", "body": "<p>Suddenly code stop working, and Im starting to catch throw </p>\n\n<p><code>TypeError: null is not an object (evaluating '_this._inputContainer._elementRef')</code></p>\n\n<p>This message I get too, when I try to check <a href=\"https://material.angular.io/components/component/autocomplete\" rel=\"nofollow noreferrer\">angular's example</a> (I'm removing md-input-container, but all time, I didn't use it, and it worked normally. If I write md-input-container wrapper, all works correct, what happens?)</p>\n\n<p>My code:</p>\n\n<pre><code>&lt;input \n     mdInput \n     id=\"{{id}}\"\n     placeholder=\"{{inputPlaceholder}}\" \n     value=\"{{value}}\"\n    [formControl]=\"inputControl\"\n    [mdAutocomplete]=\"auto\"&gt;\n\n&lt;md-autocomplete #auto=\"mdAutocomplete\"&gt;\n    &lt;md-option *ngFor=\"let user of users\" [value]=\"user.userName\"&gt;\n      &lt;img class=\"avatar\" src=\"{{user.profilePicture}}\"&gt;\n      &lt;span&gt;@{{user.userName}}&lt;/span&gt;\n    &lt;/md-option&gt;\n&lt;/md-autocomplete&gt;\n\nconstructor(private userInfoRepository: UserInfoRepository) {\n   this.inputControl = new FormControl();\n   this.inputControl\n    .valueChanges\n    .subscribe(value =&gt; {\n      this\n        .userInfoRepository\n        .findUsers(value)\n        .subscribe(usersResult =&gt; {\n           this.users = usersResult\n        })\n    })\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1495545953, "post_id": 44136144, "comment_id": 75290790, "body": "<a href=\"https://angular.io/docs/ts/latest/cookbook/set-document-title.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/set-document-title.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "is_accepted": true, "score": 15, "last_activity_date": 1495548753, "last_edit_date": 1495548753, "creation_date": 1495546716, "answer_id": 44136476, "question_id": 44136144, "link": "https://stackoverflow.com/questions/44136144/angular-translateservice-translate-title-tag/44136476#44136476", "title": "Angular TranslateService translate &lt;title&gt; tag", "body": "<p>From the <a href=\"https://angular.io/docs/ts/latest/api/platform-browser/index/Title-class.html\" rel=\"noreferrer\">angular docs</a>:</p>\n\n<blockquote>\n  <h1><code>Title</code></h1>\n  \n  <p>Since an Angular application can't be bootstrapped on the entire HTML document (<code>&lt;html&gt;</code> tag) it is not possible to bind to the text property of the HTMLTitleElement elements (representing the <code>&lt;title&gt;</code> tag). Instead, this service can be used to set and get the current title value.</p>\n</blockquote>\n\n<p>You just need to use the <code>Title</code> service in combination with <code>TranslateService</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class SomeComponent {\n  constructor(private title:Title, private translate:TranslateService){}\n  ngOnInit(){\n    this.translateService.get(\"document.name\").subscribe(name=&gt;{\n      this.title.setTitle(name);\n    });\n  }\n}\n</code></pre>\n\n<p>Please, also take a look at <a href=\"https://angular.io/docs/ts/latest/cookbook/set-document-title.html\" rel=\"noreferrer\">this cookbook</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 15732, "user_id": 3160597, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/EicHh.jpg?s=128&g=1", "display_name": "azerafati", "link": "https://stackoverflow.com/users/3160597/azerafati"}, "edited": false, "score": 0, "creation_date": 1585924138, "post_id": 51496423, "comment_id": 107943518, "body": "Using Angular 9, this can be achieved much better. check here <a href=\"https://stackoverflow.com/a/61006883/3160597\">stackoverflow.com/a/61006883/3160597</a>"}], "tags": [], "owner": {"reputation": 1775, "user_id": 3319392, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TwgMn.jpg?s=128&g=1", "display_name": "Jette", "link": "https://stackoverflow.com/users/3319392/jette"}, "is_accepted": false, "score": 1, "last_activity_date": 1532428447, "creation_date": 1532428447, "answer_id": 51496423, "question_id": 44136144, "link": "https://stackoverflow.com/questions/44136144/angular-translateservice-translate-title-tag/51496423#51496423", "title": "Angular TranslateService translate &lt;title&gt; tag", "body": "<p>I am using ngx-translate with xliffmerge to prevent overwriting existing text and automatically add new texts to the xlf file. But text is only added if it exists in a template. Therefore the accepted answer is not what I want. </p>\n\n<p>Instead I have created a directive that I can use to add the title in a html element on every page. The title is now automatically translated and the directive then grabs the text and changes the title via Angulars title service.</p>\n\n<p>The directive:</p>\n\n<pre><code>import { Directive, ElementRef, AfterContentInit  } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\n\n@Directive({\n  selector: '[edHeadTitle]'\n})\n\nexport class HeadTitleDirective implements AfterContentInit{\n\n  constructor(private el: ElementRef,private titleService: Title) {}\n\n  ngAfterContentInit(){\n    this.titleService.setTitle(this.el.nativeElement.innerHTML);\n  }\n\n}\n</code></pre>\n\n<p>Then on any page (component) which must change the title, e.g. the page displaying terms:</p>\n\n<pre><code>&lt;h2 edHeadTitle i18n class=\"headerTitle\"&gt;Terms and conditions&lt;/h2&gt;\n</code></pre>\n\n<p>If you don't want the title to display on the page, just set \"display:none\" in the headerTitle css class.</p>\n"}], "owner": {"reputation": 207, "user_id": 7950686, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/162f8ceec532949e9701238126f86a49?s=128&d=identicon&r=PG&f=1", "display_name": "Jan De Dev", "link": "https://stackoverflow.com/users/7950686/jan-de-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2742, "favorite_count": 0, "accepted_answer_id": 44136476, "answer_count": 2, "score": 6, "last_activity_date": 1532428447, "creation_date": 1495545836, "question_id": 44136144, "link": "https://stackoverflow.com/questions/44136144/angular-translateservice-translate-title-tag", "title": "Angular TranslateService translate &lt;title&gt; tag", "body": "<p>Using the <code>TranslateService</code> in Angular I want the <code>&lt;title&gt;</code> tag which sits in the <code>index.html</code>  to be in different languages. </p>\n\n<pre><code>&lt;title translate&gt;application.title&lt;/title&gt;\n</code></pre>\n\n<p>I translate all other html tags like that unless they are custom html tags then it's like this:</p>\n\n<pre><code>{{\"document.name\"|translate}}\n</code></pre>\n\n<p>The problem might be that index.html is in a different level in the folders</p>\n\n<p>src<br>\n|-app<br>\n....  |-translation<br>\n|-index.html</p>\n"}]