[{"tags": ["typescript", "mocking", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "edited": false, "score": 0, "creation_date": 1569561222, "post_id": 58110853, "comment_id": 102643685, "body": "Thanks for this, unfortunately there is no method called . <code>jest.MockedFunction</code>"}, {"owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "reply_to_user": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "edited": false, "score": 0, "creation_date": 1569561638, "post_id": 58110853, "comment_id": 102643796, "body": "@tmpdev It&#39;s not a method, it&#39;s an interface. Because the demo is wroten by typescript. If you use javascript, you can ignore it."}, {"owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "edited": false, "score": 0, "creation_date": 1569562295, "post_id": 58110853, "comment_id": 102643960, "body": "what I&#39;m trying to get at is <code>MockedFunction</code> does not exist.  Plus is there any way to reset just the mock only instead of all the mocks."}], "tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1569479769, "creation_date": 1569479769, "answer_id": 58110853, "question_id": 58107885, "link": "https://stackoverflow.com/questions/58107885/jest-mocking-a-typescript-import-as-dependency/58110853#58110853", "title": "jest mocking a typescript import as dependency", "body": "<p>Here is the solution:</p>\n\n<p><code>client.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface myClient {\n  getClient: (customerId: string) =&gt; Promise&lt;string&gt;;\n}\n\nconst impClient = (): myClient =&gt; {\n  return {\n    getClient: async (customerId: string) =&gt; {\n      return customerId;\n    }\n  };\n};\n\nexport default impClient;\n</code></pre>\n\n<p><code>main.ts</code>, the <code>main</code> function use <code>impClient</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import impClient from './client';\n\nexport function main(customerId) {\n  return impClient().getClient(customerId);\n}\n</code></pre>\n\n<p><code>main.spec.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { main } from './main';\nimport impClient from './client';\n\njest.mock('./client.ts', () =&gt; {\n  const mockedClient = {\n    getClient: jest.fn()\n  };\n  return jest.fn(() =&gt; mockedClient);\n});\n\nconst client = impClient();\n\ndescribe('main', () =&gt; {\n  afterEach(() =&gt; {\n    jest.resetAllMocks();\n  });\n  it('should return client correctly', async () =&gt; {\n    (client.getClient as jest.MockedFunction&lt;typeof client.getClient&gt;).mockResolvedValueOnce('abcde');\n    const customerId = '1';\n    const actualValue = await main(customerId);\n    expect(actualValue).toBe('abcde');\n  });\n});\n</code></pre>\n\n<p>Unit test result with 100% coverage:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/stackoverflow/58107885/main.spec.ts (9.342s)\n  main\n    \u2713 should return client correctly (4ms)\n\n----------|----------|----------|----------|----------|-------------------|\nFile      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n----------|----------|----------|----------|----------|-------------------|\nAll files |      100 |      100 |      100 |      100 |                   |\n main.ts  |      100 |      100 |      100 |      100 |                   |\n----------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        12.052s\n</code></pre>\n\n<p>Here is the completed demo: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/58107885\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/58107885</a></p>\n"}], "owner": {"reputation": 4399, "user_id": 7385798, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/bc11dd8b186448da419102d83c48a138?s=128&d=identicon&r=PG&f=1", "display_name": "tmp dev", "link": "https://stackoverflow.com/users/7385798/tmp-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569479769, "creation_date": 1569455684, "last_edit_date": 1569476364, "question_id": 58107885, "link": "https://stackoverflow.com/questions/58107885/jest-mocking-a-typescript-import-as-dependency", "title": "jest mocking a typescript import as dependency", "body": "<p>I searched quite a bit for this and the solutions I see seem a bit hacky and not straightforward for what I think should be a fairly straightforward task.</p>\n\n<p>I have the following class</p>\n\n<pre><code>// client.ts\nexport interface myClient {\n  getClient: (customerId: string) =&gt; Promise&lt;string&gt;;\n}\n\nconst impClient = (): myClient =&gt; {   \n\n  return {\n    getClient: async (customerId: string) =&gt; {\n     // Implementation\n    }\n  };\n};\n\nexport default impClient;\n</code></pre>\n\n<p>I'm trying to mock this in jest with a default implementation.  I tried many approaches including</p>\n\n<pre><code> jest.mock('./client', () =&gt;\n    jest.fn().mockImplementation(() =&gt; {\n      return () =&gt; {\n        return {\n          getClient: () =&gt; {\n            return Promise.resolve('abcde');\n          }\n        };\n      };\n    })\n  );\n</code></pre>\n\n<p>but none of them seem to work.  Can someone please shed some light on this.</p>\n"}, {"tags": ["css", "angular", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 2589, "user_id": 3808452, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/iGXTD.jpg?s=128&g=1", "display_name": "Barthy", "link": "https://stackoverflow.com/users/3808452/barthy"}, "is_accepted": true, "score": 3, "last_activity_date": 1569487135, "last_edit_date": 1569487135, "creation_date": 1569457115, "answer_id": 58108010, "question_id": 58107763, "link": "https://stackoverflow.com/questions/58107763/why-would-a-css-file-be-imported-into-typescript/58108010#58108010", "title": "Why would a CSS file be imported into typescript?", "body": "<p>When using bundlers such as <a href=\"https://webpack.js.org/\" rel=\"nofollow noreferrer\">webpack</a> or <a href=\"http://browserify.org/\" rel=\"nofollow noreferrer\">browserify</a>, one might import a CSS file in order to process it and pack it into the same bundle as the JavaScript module that imports it.</p>\n\n<p>In webpack, this is done using the <a href=\"https://webpack.js.org/loaders/style-loader/\" rel=\"nofollow noreferrer\"><code>style-loader</code></a>. Read more in <a href=\"https://medium.com/a-beginners-guide-for-webpack-2/webpack-loaders-css-and-sass-2cc0079b5b3a\" rel=\"nofollow noreferrer\">this medium post</a>!</p>\n"}], "owner": {"reputation": 3087, "user_id": 5278432, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/PgZfk.jpg?s=128&g=1", "display_name": "Alberto Rivera", "link": "https://stackoverflow.com/users/5278432/alberto-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 58108010, "answer_count": 1, "score": 0, "last_activity_date": 1569487135, "creation_date": 1569454299, "question_id": 58107763, "link": "https://stackoverflow.com/questions/58107763/why-would-a-css-file-be-imported-into-typescript", "title": "Why would a CSS file be imported into typescript?", "body": "<p>In an older, complex code base that uses Angular 4 with a custom Webpack, there were some components that imported a css file, in the same way that you would import a module for a side effect. An example (this is the complete file, with different variable names):</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport '../../assets/css/styles.css';\n\n@Component({\n    selector: 'sidebar-app',\n    templateUrl: './sidebar.component.html',\n    styleUrls: ['./sidebar.component.css']\n})\nexport class SidebarComponent implements OnInit {\n\n    ngOnInit() {\n    }\n}\n</code></pre>\n\n<p>styles.css</p>\n\n<pre><code>.content_body {\n    padding: 0;\n}\n\n.basic_page_wrapper {\n    padding: 0;\n}\n</code></pre>\n\n<p>I have never seen css being imported in typescript, and all other examples I've found use the styles in some way, for example</p>\n\n<p><code>import * as s from './Button.css';</code></p>\n\n<p>Why would a css file be imported like <code>import '../../assets/css/styles.css';</code> inside an angular component?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 223, "user_id": 10859440, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D_M6ALB8edY/AAAAAAAAAAI/AAAAAAAAHzQ/nPjLNXwphM8/photo.jpg?sz=128", "display_name": "Amarender Reddy", "link": "https://stackoverflow.com/users/10859440/amarender-reddy"}, "edited": false, "score": 0, "creation_date": 1569457011, "post_id": 58107784, "comment_id": 102606365, "body": "Awesome. That Worked. Thank you."}], "tags": [], "owner": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "is_accepted": true, "score": 2, "last_activity_date": 1569454621, "creation_date": 1569454621, "answer_id": 58107784, "question_id": 58107743, "link": "https://stackoverflow.com/questions/58107743/pass-value-onclick-on-a-div-angular-7/58107784#58107784", "title": "Pass Value onclick on a div angular 7", "body": "<p>Change your <code>openDialog</code> function and pass the value in <code>data</code>:</p>\n\n<pre><code>openDialog(value): void {\n      const dialogRef = this.dialog.open(PopupDialog, {\n      data: { x: value },\n\n    });\n\n    dialogRef.afterClosed().subscribe(_result =&gt; {\n      console.log('The dialog was closed');\n    });\n}\n</code></pre>\n\n<p>Now in your PopupDialog component, you can inject <code>MAT_DIALOG_DATA</code> in constructor to access the passed value like this:</p>\n\n<pre><code>@Component({\n    selector: \"popup-dialog\",\n    templateUrl: \"./popupDialog.component.html\"\n})\nexport class PopupDialog {\n  x: any;\n\n  constructor(\n        public dialogRef: MatDialogRef&lt;PopupDialog&gt;,\n        @Inject(MAT_DIALOG_DATA) public data: any\n  ) {\n    // here the received value is being assigned to class variable `x`\n    this.x = data.x;\n  }\n\n    onNoClick(): void {\n        this.dialogRef.close();\n    }\n}\n</code></pre>\n\n<p>For more options &amp; detailed doc: <a href=\"https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-\" rel=\"nofollow noreferrer\">https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-</a></p>\n"}], "owner": {"reputation": 223, "user_id": 10859440, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D_M6ALB8edY/AAAAAAAAAAI/AAAAAAAAHzQ/nPjLNXwphM8/photo.jpg?sz=128", "display_name": "Amarender Reddy", "link": "https://stackoverflow.com/users/10859440/amarender-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 0, "accepted_answer_id": 58107784, "answer_count": 1, "score": 1, "last_activity_date": 1569454621, "creation_date": 1569454162, "question_id": 58107743, "link": "https://stackoverflow.com/questions/58107743/pass-value-onclick-on-a-div-angular-7", "title": "Pass Value onclick on a div angular 7", "body": "<p>I have a div with click function. I want to pass a value to a material Dialog on click. I know how to do with ngModal on input. I don't know how to do this. Any ideas? Thanks.\nHTML:</p>\n\n<pre><code>&lt;div class=\"opportunitiesTiles\" (click)=\"openDialog('Designer')\"&gt;\n</code></pre>\n\n<p>Here is my Typescript:</p>\n\n<pre><code>export class OpportunitiesComponent implements OnInit {name: any;\nconstructor(public dialog: MatDialog) {}\n\n ngOnInit() {}\n\n openDialog(value): void {\n\nconst dialogRef = this.dialog.open(PopupDialog, {\n});\ndialogRef.afterClosed().subscribe(result =&gt; {\n  console.log(\"The dialog was closed\");\n});}}\n</code></pre>\n\n<p>This is my modal:</p>\n\n<pre><code>@Component({\nselector: \"popup-dialog\",\ntemplateUrl: \"./popupDialog.component.html\"\n})\nexport class PopupDialog {\nconstructor(public dialogRef: MatDialogRef&lt;PopupDialog&gt;) {}\n\n onNoClick(): void {\nthis.dialogRef.close();\n}}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 13036, "user_id": 2008384, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xZb4I.png?s=128&g=1", "display_name": "Kryten", "link": "https://stackoverflow.com/users/2008384/kryten"}, "is_accepted": true, "score": 2, "last_activity_date": 1569449920, "creation_date": 1569449920, "answer_id": 58107254, "question_id": 58107038, "link": "https://stackoverflow.com/questions/58107038/type-function-with-generic-callbacks-that-match/58107254#58107254", "title": "Type function with generic callbacks that match", "body": "<p>Playing with this in the Typescript Playground, I came up with the following that seems to resolve the types the way you expect:</p>\n\n<pre><code>const example = &lt;a, b&gt;(o: ((arg1: a) =&gt; b), c: ((arg2: b) =&gt; a)) =&gt; {}\n\nexample(() =&gt; 1, (n) =&gt; n);\n</code></pre>\n\n<p>There are two differences here:</p>\n\n<ol>\n<li>I wrapped the <code>example</code> function argument types in parentheses to make them a little clearer (at least in my mind - I was having trouble wrapping my head around functions inside functions), and</li>\n<li>I added argument names (<code>arg1</code> and <code>arg2</code>)</li>\n</ol>\n\n<p>I'm reasonably sure that this is what you intended - I believe that a function type expression requires argument names. For example, the following results in a \"Parameter has a name but no type. Did you mean 'arg0: a'?\" error in the playground:</p>\n\n<pre><code>type f1 &lt;a, b&gt;(a) =&gt; b;\n</code></pre>\n"}], "owner": {"reputation": 42593, "user_id": 340688, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/46a6db74ccc3bf4e009f875283401c14?s=128&d=identicon&r=PG", "display_name": "ThomasReggi", "link": "https://stackoverflow.com/users/340688/thomasreggi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58107254, "answer_count": 1, "score": 0, "last_activity_date": 1569449920, "creation_date": 1569448479, "question_id": 58107038, "link": "https://stackoverflow.com/questions/58107038/type-function-with-generic-callbacks-that-match", "title": "Type function with generic callbacks that match", "body": "<pre><code>const example = &lt;a, b&gt; (o: (a) =&gt; b, c: (b) =&gt; a) =&gt; {\n\n}\n\nexample(() =&gt; 1, (n) =&gt; n)\n</code></pre>\n\n<p>I'm looking for <code>n</code> to be assigned to number, but I get no warning.</p>\n"}, {"tags": ["html", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "edited": false, "score": 0, "creation_date": 1569502013, "post_id": 58106797, "comment_id": 102623266, "body": "If any of the answers helped you solve your problem, please make sure you mark it as accepted."}], "answers": [{"tags": [], "owner": {"reputation": 2571, "user_id": 4350476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b21688dae053aecc4eba6e102fc4bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "miselking", "link": "https://stackoverflow.com/users/4350476/miselking"}, "is_accepted": false, "score": 2, "last_activity_date": 1569450581, "creation_date": 1569450581, "answer_id": 58107342, "question_id": 58106797, "link": "https://stackoverflow.com/questions/58106797/how-do-i-calculate-the-average-of-all-the-grades-from-this-json-list/58107342#58107342", "title": "How do I calculate the average of all the grades from this json list?", "body": "<p>If you just need to display grades average you can create a pipe (don't forget to provide it in <code>module</code> file):</p>\n\n<pre><code>@Pipe({\n    name: 'average'\n})\nexport class AvgPipe implements PipeTransform {\n    transform(items: any[]): any {\n        return items.reduce((a, b) =&gt; a + +b, 0) / items.length;\n    }\n}\n</code></pre>\n\n<p>and then use it in <code>html</code> like this:</p>\n\n<pre><code>&lt;ul *ngFor=\"let list of studentList\"&gt;\n   &lt;li&gt;{{list.firstName}}&lt;/li&gt;\n   &lt;li&gt;{{list.lastName}}&lt;/li&gt;\n   &lt;li&gt;{{list.email}}&lt;/li&gt;\n   &lt;li&gt;{{list.company}}&lt;/li&gt;\n   &lt;li&gt;{{list.skill}}&lt;/li&gt;\n   &lt;li&gt;{{list.grades}}&lt;/li&gt;\n   &lt;li&gt;{{list.grades | average}}&lt;/li&gt;   // &lt;-- This line\n&lt;/ul&gt; \n</code></pre>\n\n<p>If you need to store the actual value, you can set the <code>avg</code> for each item and use that in <code>html</code> file:</p>\n\n<pre><code>this.studentdata.getprofiles().subscribe(res =&gt; {\n    this.studentList = res.students;\n    console.log(this.studentList);\n    this.studentList.forEach(x =&gt; x['avg'] = x.grades.reduce((prev, next) =&gt; prev + +next, 0) / x.grades.length);\n});\n</code></pre>\n\n<p>and in <code>html</code>:</p>\n\n<pre><code>&lt;ul *ngFor=\"let list of studentList\"&gt;\n   &lt;li&gt;{{list.firstName}}&lt;/li&gt;\n   &lt;li&gt;{{list.lastName}}&lt;/li&gt;\n   &lt;li&gt;{{list.email}}&lt;/li&gt;\n   &lt;li&gt;{{list.company}}&lt;/li&gt;\n   &lt;li&gt;{{list.skill}}&lt;/li&gt;\n   &lt;li&gt;{{list.grades}}&lt;/li&gt;\n   &lt;li&gt;{{list['avg']}}&lt;/li&gt;\n&lt;/ul&gt; \n</code></pre>\n\n<p>Here is the <a href=\"https://stackblitz.com/edit/angular-ltnquv\" rel=\"nofollow noreferrer\">stackblitz</a> example demonstrating this with actual data you provided.</p>\n\n<p>Hope this helps...</p>\n"}, {"tags": [], "owner": {"reputation": 4575, "user_id": 9606851, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w9QmD.jpg?s=128&g=1", "display_name": "AbolfazlR", "link": "https://stackoverflow.com/users/9606851/abolfazlr"}, "is_accepted": false, "score": 0, "last_activity_date": 1569497221, "last_edit_date": 1569497221, "creation_date": 1569451906, "answer_id": 58107507, "question_id": 58106797, "link": "https://stackoverflow.com/questions/58106797/how-do-i-calculate-the-average-of-all-the-grades-from-this-json-list/58107507#58107507", "title": "How do I calculate the average of all the grades from this json list?", "body": "<p>first of all, set type for your grades property in your model:</p>\n\n<p>change <code>grades:[]</code> to <code>grades: string []</code> (<strong>I set string according to your json</strong>)</p>\n\n<p>like the following:</p>\n\n<pre><code>export interface Profile {\n city: string;\n company: string;\n email: string;\n firstName: string;\n grades: string[];\n id: string;\n lastName: string;\n pic: string;\n skill: string;\n}\n</code></pre>\n\n<p>Then create a pipe to calculate average :</p>\n\n<pre><code>@Pipe({\n  name: 'average'\n})\nexport class AveragePipe implements PipeTransform {      \n\n  transform(items: string[], ...args: any[]): any {\n    // first we convert each item to number\n    const sum = items.map(item =&gt; {\n      return parseInt(item);\n    }).reduce((acc, val) =&gt; { return acc + val; }, 0);\n\n    return sum &gt; 0 ? sum / items.length : 0;      \n  }      \n\n}\n</code></pre>\n\n<p>and in your html :</p>\n\n<pre><code>&lt;table class=\"table table-hover\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;City&lt;/th&gt;\n            &lt;th&gt;Company&lt;/th&gt;\n            &lt;th&gt;Email&lt;/th&gt;\n            &lt;th&gt;Firstname&lt;/th&gt;\n            &lt;th&gt;Lastname&lt;/th&gt;\n            &lt;th&gt;Average&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr *ngFor=\"let item of this.studentList\"&gt;\n            &lt;td&gt;{{ this.item.city}}&lt;/td&gt;\n            &lt;td&gt;{{ this.item.company}}&lt;/td&gt;\n            &lt;td&gt;{{ this.item.email}}&lt;/td&gt;\n            &lt;td&gt;{{ this.item.firstName}}&lt;/td&gt;\n            &lt;td&gt;{{ this.item.lastName}}&lt;/td&gt;\n            &lt;td&gt;{{ this.item.grades | average}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-4hg46m\" rel=\"nofollow noreferrer\">DEMO</a></strong></p>\n"}], "owner": {"reputation": 1, "user_id": 12121669, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Y36SvTe-x7s/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reDnnepTpNsYRukos4StEZRsafCGw/photo.jpg?sz=128", "display_name": "Sandeep Suri", "link": "https://stackoverflow.com/users/12121669/sandeep-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569497221, "creation_date": 1569447146, "last_edit_date": 1569449191, "question_id": 58106797, "link": "https://stackoverflow.com/questions/58106797/how-do-i-calculate-the-average-of-all-the-grades-from-this-json-list", "title": "How do I calculate the average of all the grades from this json list?", "body": "<p>I'm given a JSON API and I'm having trouble calculating the average for the grades. I'm currently using Angular7 (Still new to this). The JSON looks like this:</p>\n\n<pre><code>{\n  \"students\": [\n    {\n      \"city\": \"Fush\\u00eb-Muhurr\", \n      \"company\": \"Yadel\", \n      \"email\": \"iorton0@imdb.com\", \n      \"firstName\": \"Ingaberg\", \n      \"grades\": [\n        \"78\", \n        \"100\", \n        \"92\", \n        \"86\", \n        \"89\", \n        \"88\", \n        \"91\", \n        \"87\"\n      ], \n      \"id\": \"1\", \n      \"lastName\": \"Orton\", \n      \"pic\": \"https://storage.googleapis.com/hatchways-app.appspot.com/assessments/data/frontend/images/voluptasdictablanditiis.jpg\", \n      \"skill\": \"Oracle\"\n    }\n  ]\n}\n</code></pre>\n\n<p>My service file looks like this:</p>\n\n<pre><code>export class StudentsService {\n  baseURL:string =  'https://www.hatchways.io/api/assessment/students';\n  constructor(private http: HttpClient) { }\n\n  public getprofiles(): Observable&lt;any&gt; {\n    return this.http.get&lt;Profile[]&gt;(this.baseURL);\n  }\n}\n</code></pre>\n\n<p>The TypeScript definition for JSON is like this:</p>\n\n<pre><code>export interface Profile {\n  city: string;\n  company: string;\n  email: string;\n  firstName: string;\n  grades: [];\n  id: string;\n  lastName: string;\n  pic: string;\n  skill: string;\n}\n</code></pre>\n\n<p>My <code>component.ts</code> file like this:</p>\n\n<pre><code>export class ProfilesComponent implements OnInit {\n  studentList: Profile[] = [];\n\n  constructor(private studentdata: StudentsService) {\n    this.studentdata.getprofiles().subscribe((res: Profile[]) =&gt; {\n      this.studentList = res;\n      console.log(this.studentList);\n    });\n   }\n\n  ngOnInit() {\n    this.studentdata.getprofiles()\n    .subscribe(\n      data =&gt; {\n        this.studentList = data.students;\n      }\n    );\n  }\n}\n</code></pre>\n\n<p>And I'm calling it in my html file like this:</p>\n\n<pre><code>&lt;ul *ngFor=\"let list of studentList\"&gt;\n   &lt;li&gt;{{list.firstName}}&lt;/li&gt;\n   &lt;li&gt;{{list.lastName}}&lt;/li&gt;\n   &lt;li&gt;{{list.email}}&lt;/li&gt;\n   &lt;li&gt;{{list.company}}&lt;/li&gt;\n   &lt;li&gt;{{list.skill}}&lt;/li&gt;\n   &lt;li&gt;{{list.grades}}&lt;/li&gt;\n&lt;/ul&gt; \n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "graphql", "react-apollo", "relayjs"], "answers": [{"tags": [], "owner": {"reputation": 3963, "user_id": 2628278, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/4f821cc50056b266277a2156593eb96c?s=128&d=identicon&r=PG", "display_name": "Sibelius Seraphini", "link": "https://stackoverflow.com/users/2628278/sibelius-seraphini"}, "is_accepted": false, "score": 0, "last_activity_date": 1588602563, "creation_date": 1588602563, "answer_id": 61594612, "question_id": 58106736, "link": "https://stackoverflow.com/questions/58106736/how-to-map-a-relay-graphql-connection-to-an-edges-nodes-using-generics-with-t/61594612#61594612", "title": "How to map a relay (graphql) connection to an edge&#39;s nodes using generics with Typescript", "body": "<p>Try this helper to extract a node from a connection</p>\n\n<pre><code>export type ExtractNode&lt;T extends { edges: any }&gt; = NonNullable&lt;NonNullable&lt;T['edges'][number]&gt;['node']&gt;;\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>type Post = ExtractNode&lt;FeedList_query['posts']&gt;\n</code></pre>\n"}], "owner": {"reputation": 621, "user_id": 1248666, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cfe32de3166ad00632231e34fff446cd?s=128&d=identicon&r=PG", "display_name": "mcabrams", "link": "https://stackoverflow.com/users/1248666/mcabrams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 487, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1614748940, "creation_date": 1569446768, "last_edit_date": 1614748940, "question_id": 58106736, "link": "https://stackoverflow.com/questions/58106736/how-to-map-a-relay-graphql-connection-to-an-edges-nodes-using-generics-with-t", "title": "How to map a relay (graphql) connection to an edge&#39;s nodes using generics with Typescript", "body": "<p>I have recently been experimenting with React, GraphQL, Apollo, and Relay conforming queries.</p>\n<p>Right now I have a GraphQL backend that has a simple GraphQL schema with some Connection queries for returning lists of entities that can be paginated using Relay server specifications.</p>\n<p>On the front end, I've found myself repeating myself after making said queries\nwith code that usually looks something like the below:</p>\n<pre><code>type isDefined = &lt;T&gt;(value: T | null | undefined): value is T =&gt; value !== null &amp;&amp; value !== undefined;\n\nexport const AppleListComponent: React.FC = () =&gt; {\n  const { data } = useAppleQuery(); // FWIW, generating this with graphql-code-generator\n  const apples = data &amp;&amp; data.apples;\n  const appleNodes = apples &amp;&amp; apples.edges.map(apple =&gt; (\n    apple ? apple.node : undefined\n  )).filter(apple =&gt; isDefined(apple));\n\n  return (\n    &lt;div&gt;\n      {appleNodes &amp;&amp; appleNodes.map(apple =&gt; (\n        &lt;p key={apple.text}&gt;{apple.text}&lt;/p&gt;\n      ))}\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n<p>The song and dance of checking for presence are necessary due to the Relay spec mandating that edges and nodes be Nullable.</p>\n<p>I find myself often repeating this transformation from a relay format to a simple array of nodes format.\nI decided to see if I could make a helper function that takes something that conforms to a connection interface and returns either undefined or a list of mapped nodes.</p>\n<p>That attempt looked like this:</p>\n<pre><code>type Maybe&lt;T&gt; = T | null;\ntype isDefined = &lt;T&gt;(value: T | null | undefined): value is T =&gt; value !== null &amp;&amp; value !== undefined;\n\ntype Connection&lt;T&gt; = Maybe&lt;{ edges: Array&lt;Maybe&lt;{ node: Maybe&lt;T&gt; }&gt;&gt;}&gt;;\n\nexport const connectionToNodes = &lt;T&gt;(connection: Connection&lt;T&gt;): Maybe&lt;T[]&gt; =&gt; (\n  connection &amp;&amp; connection.edges.map(edge =&gt; (\n    edge ? edge.node : undefined\n  )).filter(isDefined)\n);\n</code></pre>\n<p>Which allows the previous component to become</p>\n<pre><code>export const AppleListComponent: React.FC = () =&gt; {\n  const { data } = useAppleQuery();\n  const apples = data &amp;&amp; data.apples;\n  const appleNodes = connectionToNodes(apples);\n\n  return (\n    &lt;div&gt;\n      {appleNodes &amp;&amp; appleNodes.map(apple =&gt; (\n        &lt;p key={apple.text}&gt;{apple.text}&lt;/p&gt;\n      ))}\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n<p>My problem here is that my type for Connection of course does not exactly match\nup with my type I'm passing in which has more properties that look like:</p>\n<pre><code>Maybe&lt;(\n  { __typename?: 'AppleConnection' }\n  &amp; { edges: Array&lt;Maybe&lt;(\n    { __typename?: 'AppleEdge' }\n    &amp; { node: Maybe&lt;{ __typename?: 'AppleType' }\n      &amp; { __typename?: 'QuestionType' }\n        &amp; Pick&lt;QuestionType, 'text'&gt;\n    &gt; }\n  )&gt;&gt; }\n)&gt;\n</code></pre>\n<p>So I end up getting errors about the question being of any type, and errors that\nwhat I am passing to <code>connectionToNodes</code> does not match the specified type.</p>\n<p>My instinct is that I need to say my type <code>T</code> is a subtype of something else - of\ncourse for application purposes I don't care whether it's an <code>Apple</code> or <code>Pear</code>\nconnection/edge/node, but I'd like for it to be ultimately inferred - any advice\non how to achieve this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "sorting", "ngx-datatable"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6825921, "user_type": "registered", "profile_image": "https://graph.facebook.com/1281816551838118/picture?type=large", "display_name": "Ahmed Khairy", "link": "https://stackoverflow.com/users/6825921/ahmed-khairy"}, "is_accepted": false, "score": 1, "last_activity_date": 1588006730, "last_edit_date": 1588006730, "creation_date": 1588003183, "answer_id": 61463045, "question_id": 58106258, "link": "https://stackoverflow.com/questions/58106258/how-use-sorting-in-ngx-datatable-ngx-datatable-column-in-angular/61463045#61463045", "title": "How use sorting in ngx-datatable / ngx-datatable-column in Angular?", "body": "<p>there's an output for sort called <strong>sort</strong> you can use it and make your callback function</p>\n\n<p><code>(sort)=\"onSort($event)\"</code></p>\n"}], "owner": {"reputation": 11, "user_id": 12121498, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-icju1Md3HLE/AAAAAAAAAAI/AAAAAAAAABQ/3CvRElmnb60/photo.jpg?sz=128", "display_name": "joaocarlosJC15", "link": "https://stackoverflow.com/users/12121498/joaocarlosjc15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1341, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1588006730, "creation_date": 1569444081, "last_edit_date": 1569450902, "question_id": 58106258, "link": "https://stackoverflow.com/questions/58106258/how-use-sorting-in-ngx-datatable-ngx-datatable-column-in-angular", "title": "How use sorting in ngx-datatable / ngx-datatable-column in Angular?", "body": "<p>I'm trying to use <code>ngx-datatable</code>'s sort feature to perform the action like this link: <a href=\"https://swimlane.github.io/ngx-datatable/\" rel=\"nofollow noreferrer\">https://swimlane.github.io/ngx-datatable/</a></p>\n\n<p>However, it does not work.</p>\n\n<p>I've tried without luck to use properties like:</p>\n\n<ul>\n<li><code>sortable=\"true\"</code></li>\n<li><code>[sortType]=\"'multi'\"</code></li>\n<li><code>[sorts]=\"[{prop: 'id_pessoa', dir: 'asc'}]\"</code></li>\n</ul>\n\n<p>Below is the code and version of <code>ngx-datatable</code>:</p>\n\n<pre><code>\"@swimlane/ngx-datatable\": \"^15.0.2\"\n\n&lt;section class=\"basic-elements\"&gt;\n&lt;!-- Breadcrumbs --&gt;\n&lt;nav&gt;\n    &lt;ol class=\"breadcrumb\"&gt;\n        &lt;li class=\"breadcrumb-item\"&gt;\n            &lt;a routerLink=\"/\"&gt;Home&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"breadcrumb-item active\"&gt;\n            Pessoas\n        &lt;/li&gt;\n    &lt;/ol&gt;\n&lt;/nav&gt;\n\n&lt;div id=\"mb-4\" class=\"row mb-4\"&gt;\n    &lt;div class=\"col-md\"&gt;\n        &lt;h1 class=\"h2\"&gt;Pessoas&lt;/h1&gt;\n    &lt;/div&gt;\n    &lt;div class=\"col-md\"&gt;\n        &lt;button routerLink=\"novo\" type=\"button\" class=\"btn btn-raised btn-raised btn-success btn-no-margin float-right btn-heigh2\"&gt;\n            + Nova Pessoa\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div id=\"mb-4\" class=\"row mb-4\"&gt;\n        &lt;div class=\"col-md-11\"&gt;\n            &lt;input type=\"text\" class=\"form-control\" id=\"email\" &gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-md-1\"&gt;\n            &lt;button [disabled]=\"submittingForm \" type=\"submit\" class=\"btn btn-raised btn-raised btn-no-margin btn-primary float-right btn-heigh button-margin-top\"&gt;\n                Buscar\n            &lt;/button&gt;\n        &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"row text-left\"&gt;\n    &lt;div class=\"col-md-12\"&gt;\n        &lt;div class=\"card\"&gt;\n            &lt;div class=\"card-content\"&gt;\n                &lt;ngx-datatable \n                    class=\"bootstrap\"\n                    [rows]=\"rows\"\n                    [columns]=\"columns\"\n                    [columnMode]=\"'force'\"\n                    [headerHeight]=\"10\"\n                    [footerHeight]=\"35\"\n                    [rowHeight]=\"35\"\n                    [externalPaging]=\"true\"\n                    [externalSorting]=\"true\"\n                    [scrollbarH]=\"true\"\n                    [count]=\"page.count\"\n                    [offset]=\"page.offset\"\n                    [limit]=\"page.limit\"\n                    [sortType]=\"'multi'\"\n                    [sorts]=\"[{prop: 'id_pessoa', dir: 'asc'}]\"\n                    (page)=\"pageCallback($event)\"&gt;\n\n                    &lt;ngx-datatable-column name=\"A\u00e7\u00f5es\" sortable=\"true\" prop=\"id_pessoa\" width=140&gt;\n                            &lt;ng-template let-row=\"data\" let-value=\"value\" ngx-datatable-cell-template&gt;                                  \n                                &lt;a class=\"btn btn-outline-primary mr-1\" [routerLink]=\"[value,'editar']\" href=\"javascript:void(0)\"&gt;\n                                    &lt;i class=\"fa fa-edit\" title=\"Editar\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;\n                                &lt;a class=\"btn btn-outline-primary mr-1\" [routerLink]=\"[value,'subst']\" href=\"javascript:void(0)\"&gt;\n                                &lt;i class=\"fa fa-exchange\" title=\"Substituir\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;\n                                &lt;a class=\"btn btn-outline-primary mr-1\" (click)=\"deletePessoa(value)\" href=\"javascript:void(0)\"&gt;\n                                    &lt;i class=\"fa fa-trash\" title=\"Remover\"&gt;&lt;/i&gt;\n                                &lt;/a&gt;                                    \n                            &lt;/ng-template&gt;\n                        &lt;/ngx-datatable-column&gt;                                             \n\n                    &lt;!--&lt;ngx-datatable-column name=\"Pr\u00e9-cad.\" prop=\"pre_cadastro\" width=75&gt;\n                        &lt;ng-template ngx-datatable-cell-template let-value=\"value\"&gt;\n                            &lt;span *ngIf=\"value\"&gt;\n                                &lt;i class=\"fa fa-check fa-2x\"&gt;&lt;/i&gt;\n                            &lt;/span&gt;\n                            &lt;span *ngIf=\"!value\"&gt;\n                                -\n                            &lt;/span&gt;\n                        &lt;/ng-template&gt;\n                    &lt;/ngx-datatable-column&gt;--&gt;\n\n                    &lt;ngx-datatable-column *ngFor=\"let col of columns\" [sortable]=\"true\" [name]=\"col.name\" [prop]=\"col.prop\" [width]=\"col.width\" [headerClass]=\"col.headerClass\" [cellClass]=\"col.cellClass\"&gt;\n                    &lt;/ngx-datatable-column&gt;\n                    &lt;ngx-datatable-column name=\"Inativo\" prop=\"inativo\" width=70&gt;\n                            &lt;ng-template ngx-datatable-cell-template let-value=\"value\"&gt;\n                                &lt;span *ngIf=\"value\"&gt;\n                                    &lt;i class=\"fa fa-check fa-2x\"&gt;&lt;/i&gt;\n                                &lt;/span&gt;\n                                &lt;span *ngIf=\"!value\"&gt;\n                                    -\n                                &lt;/span&gt;\n                            &lt;/ng-template&gt;\n                        &lt;/ngx-datatable-column&gt;\n\n\n                &lt;/ngx-datatable&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["typescript", "nativescript", "kinvey"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 12121454, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000966422192/picture?type=large", "display_name": "Elisha Day", "link": "https://stackoverflow.com/users/12121454/elisha-day"}, "edited": false, "score": 0, "creation_date": 1569526814, "post_id": 58109731, "comment_id": 102635958, "body": "thank you i think i will just use a different code sample for logging in"}], "tags": [], "owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1569473368, "creation_date": 1569473368, "answer_id": 58109731, "question_id": 58106168, "link": "https://stackoverflow.com/questions/58106168/getteing-error-when-trying-to-log-in-or-create-account/58109731#58109731", "title": "Getteing error when trying to log in or create account", "body": "<p><a href=\"https://devcenter.kinvey.com/nativescript/guides/users#signup-1\" rel=\"nofollow noreferrer\">From Docs:</a></p>\n\n<blockquote>\n  <p>Signup creates a new user in Kinvey. If the username does not already\n  exist in your app backend, a new user will be created. <strong><em>The newly\n  created user is automatically logged in as the active user</em></strong>.</p>\n  \n  <p>If the user already exists, signup will result in an error.</p>\n</blockquote>\n\n<p>Either you will have to perform logout to make user login again manually Or let him access the app right away post signup.</p>\n"}], "owner": {"reputation": 33, "user_id": 12121454, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000966422192/picture?type=large", "display_name": "Elisha Day", "link": "https://stackoverflow.com/users/12121454/elisha-day"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1569473368, "creation_date": 1569443653, "question_id": 58106168, "link": "https://stackoverflow.com/questions/58106168/getteing-error-when-trying-to-log-in-or-create-account", "title": "Getteing error when trying to log in or create account", "body": "<p>i am creating an android application using nativescript, and when i create an account it works and shows up in my kinvey dashboard with my api key and secret key in the app. But when i try to log in with those exact same credentials i get this error in the device logs.</p>\n\n<p>An active user already exists. Please logout the active user before you login.</p>\n\n<p>i have also tried going straight from the code sample not adding anything new and just adding my api and secret key to see if it will allow me to log in and i am getting the exact same error so i know it cant be a problem with my code. please tell me how do i fix this or should i look into using a different database then kinvey. i am using a \"good looking login form\" code sample from this link</p>\n\n<p><a href=\"https://market.nativescript.org/?tab=samples&amp;framework=all_frameworks&amp;category=all_samples&amp;_ga=2.9180405.1153787584.1569379856-234073572.1568591732\" rel=\"nofollow noreferrer\">https://market.nativescript.org/?tab=samples&amp;framework=all_frameworks&amp;category=all_samples&amp;_ga=2.9180405.1153787584.1569379856-234073572.1568591732</a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "foreach"], "comments": [{"owner": {"reputation": 79, "user_id": 11949882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12a2c6503fd7572dc4f0694cd6045325?s=128&d=identicon&r=PG", "display_name": "ErxrilOwl", "link": "https://stackoverflow.com/users/11949882/erxrilowl"}, "edited": false, "score": 0, "creation_date": 1569480731, "post_id": 58106048, "comment_id": 102612048, "body": "I think you can also add an async/await on your getAllFavoritePosts method."}, {"owner": {"reputation": 3, "user_id": 10371196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eaad91a101215929fbcc8ecdcb6b851?s=128&d=identicon&r=PG&f=1", "display_name": "Blizzard", "link": "https://stackoverflow.com/users/10371196/blizzard"}, "reply_to_user": {"reputation": 79, "user_id": 11949882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12a2c6503fd7572dc4f0694cd6045325?s=128&d=identicon&r=PG", "display_name": "ErxrilOwl", "link": "https://stackoverflow.com/users/11949882/erxrilowl"}, "edited": false, "score": 0, "creation_date": 1569498544, "post_id": 58106048, "comment_id": 102621425, "body": "Already tried to seperate the loop in another async method. Didnt work aswell.."}], "owner": {"reputation": 3, "user_id": 10371196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eaad91a101215929fbcc8ecdcb6b851?s=128&d=identicon&r=PG&f=1", "display_name": "Blizzard", "link": "https://stackoverflow.com/users/10371196/blizzard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569442999, "creation_date": 1569442999, "question_id": 58106048, "link": "https://stackoverflow.com/questions/58106048/waiting-for-foreach-loop-to-finish", "title": "Waiting for ForEach-Loop to finish", "body": "<p>im coding an Ionic-App which will show Products of a Wordpress/Woocommerce Shop. \nNow i want users to be able to favorite products, store them in local storage and show them also on another page.</p>\n\n<p>Everything is working fine, but i got some problems with this ForEach-Loop in my \"getAllFavoritePosts\"-Function inside my Wordpress.service.ts file:</p>\n\n<pre><code>\n   getAllFavoritePosts(page = 1): Observable&lt;any[]&gt; {\n   this.favUrl = this.url + this.auth + '&amp;_embed' + '&amp;include=0,';\n//this is the loop i mentioned\n   this.storage.forEach((value,key,index) =&gt; {\n    this.favUrl = this.favUrl +  key + ',';\n    })\n\n    let options = {\n      observe: \"response\" as 'body',\n      params: {\n        per_page: '12',\n        page: ''+page\n      }\n    };\n    return this.http.get&lt;any[]&gt;(`${this.favUrl}`, options).pipe(\n      map(resp =&gt; {\n        this.pages = resp['headers'].get('x-wp-totalpages');\n        this.totalProductsFavs = resp['headers'].get('x-wp-total');\n\n        let data = resp['body'];\n\n        for (let post of data) {\n          post.media_url = post['images'][0]['src'];\n        }\n        return data;\n      })\n    )\n  }\n</code></pre>\n\n<p>I need the Loop to be finished before the code after this will be executed.\nNow the Url with the Ids of the favorited products is empty, because it is getting returned before the loop is fully executed.</p>\n\n<p>If needed, this is the function in my home.ts where the function above is called:</p>\n\n<pre><code> async loadFavs() {\n    let loading = await this.loadingCtrl.create({\n      message: 'Finde Deals'\n    });\n    await loading.present();\n     this.wps.getAllFavoritePosts().subscribe(res =&gt; {\n      this.countFavs = this.wps.totalProductsFavs;\n      this.favs = res;\n    loading.dismiss();\n    });\n  }\n</code></pre>\n\n<p>Already find smilar problems on this page, but still cant solve my problem.\nHope you guys can help me!</p>\n"}, {"tags": ["angular", "typescript", "observable"], "answers": [{"comments": [{"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1569443843, "post_id": 58106175, "comment_id": 102603202, "body": "Could you document this perchance? im not sure what pipe does in comparison to subscribe or toPromise. I am unsure also of what the map function does.  Im taking a guess here, but it looks like it it pipes the output into a map function, which presumably flattens it, such that its return is an observable?  is <i>map</i> the more updated version of <i>switchMap</i>?"}, {"owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "reply_to_user": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1569444225, "post_id": 58106175, "comment_id": 102603340, "body": "@FallenreaperI have update my answer hope this will solve your problem"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1569444292, "post_id": 58106175, "comment_id": 102603361, "body": "I think this might be.  I have a personal thing where i wait a little before sayinig it is the right answer in case there are better answers. :) It looks like it may do the trick"}, {"owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "edited": false, "score": 0, "creation_date": 1569444489, "post_id": 58106175, "comment_id": 102603424, "body": "@malnarmawi I noticed that your answer isnt syntactically correct. I think you you need an extra open paren after map."}], "tags": [], "owner": {"reputation": 18485, "user_id": 3980621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EBFzE.png?s=128&g=1", "display_name": "malbarmavi", "link": "https://stackoverflow.com/users/3980621/malbarmavi"}, "is_accepted": true, "score": 2, "last_activity_date": 1569444643, "last_edit_date": 1569444643, "creation_date": 1569443691, "answer_id": 58106175, "question_id": 58105976, "link": "https://stackoverflow.com/questions/58105976/function-returning-observable-but-having-issue-from-returning-nested-value/58106175#58106175", "title": "Function returning Observable but having issue from returning nested value", "body": "<p>in your question the test method not return an observable , you just need to return the get observable this will solve the part where test return an observable , you can use a map rxjs operator to transform the result by applying a function , to use any rxjs operator you need to use pipe and pipe just an rxjs operators composer.</p>\n\n<pre><code>test(id: int): Observable&lt;Group&gt;{\n  return this.http.get('test/').pipe(map((result:any) =&gt; \n     Group.fromJson(result.group))\n  );\n}\n</code></pre>\n\n<p>to get the value you need to subscribe to the test method </p>\n\n<pre><code>test(10).subscribe(res =&gt; console.log(res))\n</code></pre>\n"}], "owner": {"reputation": 8390, "user_id": 1404049, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vkpuK.png?s=128&g=1", "display_name": "Fallenreaper", "link": "https://stackoverflow.com/users/1404049/fallenreaper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 58106175, "answer_count": 1, "score": 0, "last_activity_date": 1569444643, "creation_date": 1569442615, "last_edit_date": 1569443469, "question_id": 58105976, "link": "https://stackoverflow.com/questions/58105976/function-returning-observable-but-having-issue-from-returning-nested-value", "title": "Function returning Observable but having issue from returning nested value", "body": "<p>I have a function which returns an observable.</p>\n\n<pre><code>test(id: int): Observable&lt;Group&gt;{\n  this.http.get('test/').subscribe( (result:any) =&gt; {\n     resultingVal = Group.fromJson(result.group);\n  });\n}\n</code></pre>\n\n<p>and as of now, it doesnt return one, but you can see that I want to return a particular property in a nested observable.</p>\n\n<p>I want it to return <em>returningVal</em> but i was confused as to the standard way to return this nested value.  I was thinking to turn it into a promise and wait it out then go into the data, I cleaned it up, but I believe it is kinda hacky.</p>\n\n<pre><code>test(id: int): Observable&lt;Group&gt;{\n  let resultingVal = null\n  let promise = this.http.get('test/').toPromise().then( result =&gt; {\n     resultingVal = Group.fromJson(result.group);\n  });\n  return from(Promise.all([promise]).then( _ =&gt; resultingVal));\n}\n</code></pre>\n\n<p>Is this promise solution the way to do to it, or is there a more clean version similar to above?  I feel using promises in this fashion is a hack.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "user-interface", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 246, "user_id": 6039859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p6e3K.jpg?s=128&g=1", "display_name": "Gustav", "link": "https://stackoverflow.com/users/6039859/gustav"}, "is_accepted": false, "score": 0, "last_activity_date": 1569441972, "creation_date": 1569441972, "answer_id": 58105867, "question_id": 58105631, "link": "https://stackoverflow.com/questions/58105631/how-can-i-modify-this-validation-logic-to-be-able-to-allow-characters-and-some-s/58105867#58105867", "title": "How can I modify this validation logic to be able to allow characters and some special characters too to be entered?", "body": "<p>I believe the key here is the if-statement</p>\n\n<pre><code>if (typeof control.value !== 'string' || !/^[a-zA-Z\\s]+$/g.test(control.value))\n</code></pre>\n\n<p>This one says essentially \"if the control value is not a string OR does not match the regular expression <code>/^[a-zA-Z\\s]+$/</code>, return an error.</p>\n\n<p>So, to allow also special charachters, you need to adjust the regex to allow for those. For example, to allow hyphens, change the regex to <code>/^[a-zA-Z\\s-]+$/</code> (note the added <code>-</code> inside the brackets.</p>\n"}], "owner": {"reputation": 49, "user_id": 10199248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc41da129819f8a7cad85c6a50fd9cc3?s=128&d=identicon&r=PG&f=1", "display_name": "astar", "link": "https://stackoverflow.com/users/10199248/astar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569441972, "creation_date": 1569440975, "question_id": 58105631, "link": "https://stackoverflow.com/questions/58105631/how-can-i-modify-this-validation-logic-to-be-able-to-allow-characters-and-some-s", "title": "How can I modify this validation logic to be able to allow characters and some special characters too to be entered?", "body": "<p>Currently, only characters are allowed to be entered in field else it throws the error mentioned below in code. How can I modify this logic to be able to add letters as well as some special characters like hyphen, apostrophe etc.?</p>\n\n<pre><code>    function NameValidate(control: FormControl) {\n  if (typeof control.value !== 'string' || !/^[a-zA-Z\\s]+$/g.test(control.value)) {\n    return {\n      error: 'Only characters allowed'\n    };\n  } else {\n    return null;\n  }\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1569438820, "post_id": 58104946, "comment_id": 102601197, "body": "Try <code>const props = { layout: &quot;gray&quot; } as const;</code> or <code>const props = { layout: &quot;gray&quot; as const };</code>.  TypeScript has to infer the type of <code>props</code> and it thought you wanted the <code>layout</code> property widened to <code>string</code>; maybe you wanted to assign some different <code>string</code> properties to it like <code>props.layout = &quot;cheese sticks&quot;</code>. It didn&#39;t know you needed it to be kept narrow.  It&#39;s sorry, it&#39;s doing the best it can \ud83d\ude33"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 1, "creation_date": 1569439083, "post_id": 58104946, "comment_id": 102601308, "body": "Did you try using an enum instead? Doesn&#39;t answer the main issue behind the error, but could be a solution to give your props into the Component."}, {"owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569439506, "post_id": 58104946, "comment_id": 102601474, "body": "@jcalz that worked, thank you"}, {"owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "reply_to_user": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1569439560, "post_id": 58104946, "comment_id": 102601505, "body": "@JonathanStellwag Thought about enum as well but I found it a bit annoying to import the enum as well when trying to use the component. Can you tell me what the advantages of using an enum are compared to my approach?"}, {"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 2, "creation_date": 1569440342, "post_id": 58104946, "comment_id": 102601763, "body": "@MaxTommyMitschke enums are usually better than string literals. It&#39;s easier to refactor, find usages. Also, if you don&#39;t need to get names of enum during runtime, you should use const enum. Const enums are completely removed and their values are hard coded during runtime. See the <a href=\"https://www.typescriptlang.org/play/#code/KYOwrgtgBAIghgTwM5QN4CgpagWQPYgAmiANJtgCpjBLEJnZQDqwhINd6AvuugMYEkeADbAAdMLwBzABTxkY-EUQBKANz9BI8ZNnykYqh1UaBIIaInS5iAyzbGE63maQAXKKEhQAwoLf6aORYSnQMlNS0pMHMrOxRCNwuWpa6Mn7mAbaKBHTOrtpWshnu+oaReaYpOtYlWQr28ZVAA\" rel=\"nofollow noreferrer\">diff</a>"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569482231, "post_id": 58104946, "comment_id": 102612810, "body": "@BunyaminCoskuner explained it very well. Also one advantage is that it might work. In this post you can see how const enums are transpiled: <a href=\"https://twitter.com/sulco/status/1049361905914204161\" rel=\"nofollow noreferrer\">twitter.com/sulco/status/1049361905914204161</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 0, "last_activity_date": 1569483663, "creation_date": 1569483663, "answer_id": 58111826, "question_id": 58104946, "link": "https://stackoverflow.com/questions/58104946/typescript-throws-error-with-spread-operator/58111826#58111826", "title": "Typescript throws error with spread operator", "body": "<p>It because <code>\"gray\" | \"danger\" | \"success\" | \"brand\"</code> is a specific type that can be only one of those strings, but when you assigning like this:</p>\n\n<pre><code>const props = { layout: \"gray\" };\n</code></pre>\n\n<p>Typescript infers that <code>layout</code> property is a <strong>string</strong> and not your special type, therefore the error.</p>\n\n<p>In order to fix this error, you need to mark the type yourself.</p>\n\n<pre><code>export type LayoutType = \"gray\" | \"danger\" | \"success\" | \"brand\";\n\nexport interface BadgeProps {\n  children: React.ReactNode | string | React.ReactNode[],\n  layout: LayoutType,\n  size?: \"sm\" | \"base\",\n}\n\nconst Badge: React.FC&lt;BadgeProps&gt; = ({ children }) =&gt; {\n  return (\n    &lt;div data-test=\"component-badge\"&gt;{children}&lt;/div&gt;\n  );\n}\n\n\n\nconst props: { layout: LayoutType } = { layout: \"gray\" };\n// ------------------------^ your layout type \nreturn (\n  &lt;Badge {...props}&gt;Text&lt;/Badge&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 2845, "user_id": 5411503, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10207929833312847/picture?type=large", "display_name": "mxmtsk", "link": "https://stackoverflow.com/users/5411503/mxmtsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1569483663, "creation_date": 1569437918, "question_id": 58104946, "link": "https://stackoverflow.com/questions/58104946/typescript-throws-error-with-spread-operator", "title": "Typescript throws error with spread operator", "body": "<p>I have the following simple React component:</p>\n\n<pre><code>export interface BadgeProps {\n  children: React.ReactNode | string | React.ReactNode[],\n  layout: \"gray\" | \"danger\" | \"success\" | \"brand\",\n  size?: \"sm\" | \"base\",\n}\n\nconst Badge: React.FC&lt;BadgeProps&gt; = ({ children }) =&gt; {\n  return (\n    &lt;div data-test=\"component-badge\"&gt;{children}&lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>When I now call the component this way it works fine:</p>\n\n<pre><code>&lt;Badge layout=\"gray\"&gt;Text&lt;/Badge&gt;\n</code></pre>\n\n<p>But when I pass the props with a spread operator, I get the following error.</p>\n\n<pre><code>const props = { layout: \"gray\" };\nreturn (\n  &lt;Badge {...props}&gt;Text&lt;/Badge&gt;\n);\n</code></pre>\n\n<blockquote>\n  <p>Type 'string' is not assignable to type '\"gray\" | \"danger\" | \"success\" | \"brand\"'</p>\n</blockquote>\n\n<p>I feel like it should just work fine and I have no idea why it fails. Is this a misunderstanding of how Typescript works?</p>\n"}, {"tags": ["angular", "typescript", "angular-services", "angular-components", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 4967897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fdee18345974523dac5a583c840a827?s=128&d=identicon&r=PG&f=1", "display_name": "Sudip Sarker", "link": "https://stackoverflow.com/users/4967897/sudip-sarker"}, "is_accepted": false, "score": 0, "last_activity_date": 1569438214, "creation_date": 1569438214, "answer_id": 58105025, "question_id": 58104917, "link": "https://stackoverflow.com/questions/58104917/angular-local-storage-on-component-or-service/58105025#58105025", "title": "angular local storage on component or service?", "body": "<p>You can declare a method in your service to set the token and call it on success of login. Not sure about security but creating a storageService for doing these types of works makes a good abstraction and it'll make your life easier while debugging in future.</p>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "edited": false, "score": 0, "creation_date": 1569487400, "post_id": 58105078, "comment_id": 102615368, "body": "Thanks for uploading that, that was very useful to read through.  Is it possible to see a snippet of apiService and jwtService too so I better understand the functionality? I assume your apiService would be similar to my authService, but I don&#39;t understand what the jwtService is used for?  I am looking at making my login more secure as I understand having it set in localStorage isn&#39;t safe.  Thank you for this, it&#39;s a big help"}], "tags": [], "owner": {"reputation": 347, "user_id": 10557332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rLFO.png?s=128&g=1", "display_name": "Job", "link": "https://stackoverflow.com/users/10557332/job"}, "is_accepted": false, "score": 1, "last_activity_date": 1569438444, "creation_date": 1569438444, "answer_id": 58105078, "question_id": 58104917, "link": "https://stackoverflow.com/questions/58104917/angular-local-storage-on-component-or-service/58105078#58105078", "title": "angular local storage on component or service?", "body": "<p>I personally prefer to use the localstorage only in services as it makes sure I only change values through my services. This tends to makes your code more maintanable as you only interact with your token through this service instead of your localstorage. </p>\n\n<p>It is secure enough to store the token in localStorage. I personally prefer to then read the token with the same <code>userService</code> to then keep in memory when the application is active. You can't only use a service as this would lose the token on a page reload.</p>\n\n<p>If you want an example on how to implement this I have made a <a href=\"https://gist.github.com/LordChunk/c039d5238be1bd0c6873ac1f514f7930\" rel=\"nofollow noreferrer\">gist</a> of what I have used in the past.</p>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "edited": false, "score": 0, "creation_date": 1569487506, "post_id": 58105345, "comment_id": 102615427, "body": "<code>this.authService.isLoggedIn = true;</code> should be <code>this.isLoggedIn = true;</code> as it is being used on the authService.  Good example though. I have created a different service to handle the tokens, and passing through the params from my component.  Thanks"}], "tags": [], "owner": {"reputation": 151, "user_id": 10844242, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-l8u3OoBfN0w/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaVzj5KchM9n8xbVt4_G6LM3KoO2Q/mo/photo.jpg?sz=128", "display_name": "Mohammed Aamier", "link": "https://stackoverflow.com/users/10844242/mohammed-aamier"}, "is_accepted": false, "score": 2, "last_activity_date": 1570716345, "last_edit_date": 1570716345, "creation_date": 1569439727, "answer_id": 58105345, "question_id": 58104917, "link": "https://stackoverflow.com/questions/58104917/angular-local-storage-on-component-or-service/58105345#58105345", "title": "angular local storage on component or service?", "body": "<p><strong>Yes It's Better To Handel Token in a Service</strong></p>\n\n<p>In your <code>auth.service.ts</code> add a method</p>\n\n<pre><code>setToken(token) {\n    this.authService.isLoggedIn = true;\n    localStorage.setItem('ACCESS_TOKEN', token);\n}\n</code></pre>\n\n<p>and in your <code>login.component.ts</code></p>\n\n<pre><code>login() {\n    const formData = new FormData();\n    formData.append('action', this.loginForm.value.action);\n    formData.append('email', this.loginForm.value.email);\n    formData.append('password', this.loginForm.value.password);\n\n    this.authService.login(formData).subscribe(\n        (res) =&gt; {\n            this.authService.setToken(yourtoken);\n            this.router.navigateByUrl('/admin');\n        },\n        (err) =&gt; console.log('err', err)\n    )\n}\n</code></pre>\n\n<p>I hope This Will Help</p>\n"}], "owner": {"reputation": 617, "user_id": 2103072, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538f364e26b89bea4112ff68f03f8202?s=128&d=identicon&r=PG", "display_name": "DevStacker", "link": "https://stackoverflow.com/users/2103072/devstacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1570716345, "creation_date": 1569437795, "question_id": 58104917, "link": "https://stackoverflow.com/questions/58104917/angular-local-storage-on-component-or-service", "title": "angular local storage on component or service?", "body": "<p>I am using Angular8 and trying to make a login form. </p>\n\n<p>I have an auth.service where i am using a post request to send the login info</p>\n\n<p><em>auth.service.ts</em></p>\n\n<pre><code>login(form: FormData) {\n    return this.httpClient.post&lt;UserLogin&gt;(`${this.AUTH_SERVER}/api/function.php`, form);\n}\n</code></pre>\n\n<p>And I have a login.component which will get the formdata and send it to the service</p>\n\n<p><em>login.component.ts</em></p>\n\n<pre><code>login() {\n    const formData = new FormData();\n    formData.append('action', this.loginForm.value.action);\n    formData.append('email', this.loginForm.value.email);\n    formData.append('password', this.loginForm.value.password);\n\n    this.authService.login(formData).subscribe(\n      (res) =&gt; {\n        this.authService.isLoggedIn = true;\n        localStorage.setItem('ACCESS_TOKEN', \"isLoggedIn\");\n        this.router.navigateByUrl('/admin');\n      },\n      (err) =&gt; console.log('err', err)\n    )\n  }\n</code></pre>\n\n<p>My question is, is it viable having the localstorage in the component, in the subscribe, where it gets a success, or should it be in the service? </p>\n\n<p>If it's more secure in the service, how can I have it only set the token on success of login? </p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "canvas", "filereader"], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 10387735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3434a579647f30baf8a36c50380189?s=128&d=identicon&r=PG", "display_name": "RMCS", "link": "https://stackoverflow.com/users/10387735/rmcs"}, "edited": false, "score": 0, "creation_date": 1569437691, "post_id": 58104824, "comment_id": 102600718, "body": "Thanks! i really was breaking my head over this, maybe time for me to dig deeper into async await (i only used this for server responses, etc.) Could you please clarify why this needs to be async await?"}, {"owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "reply_to_user": {"reputation": 343, "user_id": 10387735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3434a579647f30baf8a36c50380189?s=128&d=identicon&r=PG", "display_name": "RMCS", "link": "https://stackoverflow.com/users/10387735/rmcs"}, "edited": false, "score": 1, "creation_date": 1569437961, "post_id": 58104824, "comment_id": 102600816, "body": "you can use <code>.then(callback)</code> an older way of resolving promise. <code>async</code> <code>await</code> is a syntatical sugar of writing async functionality in a synchronous way.  good to read: <a href=\"https://medium.com/javascript-in-plain-english/async-await-javascript-5038668ec6eb\" rel=\"nofollow noreferrer\">medium.com/javascript-in-plain-english/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2131, "user_id": 7674358, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C3MZIj8KGao/AAAAAAAAAAI/AAAAAAAACQA/EwJ93h-Abno/photo.jpg?sz=128", "display_name": "ajai Jothi", "link": "https://stackoverflow.com/users/7674358/ajai-jothi"}, "is_accepted": true, "score": 1, "last_activity_date": 1569437311, "creation_date": 1569437311, "answer_id": 58104824, "question_id": 58104645, "link": "https://stackoverflow.com/questions/58104645/how-can-i-return-the-resized-image-from-filereader/58104824#58104824", "title": "How can i return the resized image from filereader", "body": "<p>You can solve this using Promise,</p>\n\n<pre><code>function resizeImage(file: IHTMLInputEvent, width: number) {\n\n  return new Promise((resolve, reject) =&gt; {\n\n    const fileName = file.target.files[0].name;\n    const reader = new FileReader();\n\n    reader.readAsDataURL(file.target.files[0]);\n\n    reader.onload = (event) =&gt; {\n      const img = new Image();\n      img.src = event.target.result.toString();\n\n      img.onload = () =&gt; {\n        const elem = document.createElement('canvas');\n        const scaleFactor = width / img.width;\n        elem.width = width;\n        elem.height = img.height * scaleFactor;\n\n        const ctx = elem.getContext('2d');\n        ctx.drawImage(img, 0, 0, width, img.height * scaleFactor);\n\n        ctx.canvas.toBlob((blob) =&gt; {\n          resolve(new File([blob], fileName, {\n            type: 'image/jpeg',\n            lastModified: Date.now()\n          }));\n        }, 'image/jpeg', 1);\n      };\n    };\n  });\n}\n</code></pre>\n\n<p>With <code>async</code>, <code>await</code> ,</p>\n\n<pre><code>async function handleUpload(e: IHTMLInputEvent) {\n  const resizedImage = await resizeImage(e, 600);\n\n  // do you suff here\n}\n</code></pre>\n\n<p>JSX,</p>\n\n<pre><code>&lt;input \n   className={classes.inputForUpload} \n   accept='image/*' \n   type='file' \n   ref={uploadImage} \n   onChange={async (e: IHTMLInputEvent) =&gt; await handleUpload(e)} \n/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 343, "user_id": 10387735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3434a579647f30baf8a36c50380189?s=128&d=identicon&r=PG", "display_name": "RMCS", "link": "https://stackoverflow.com/users/10387735/rmcs"}, "edited": false, "score": 1, "creation_date": 1569438043, "post_id": 58104856, "comment_id": 102600850, "body": "Thank you the response! I dont want to use <code>state</code> because i would like to keep this component simple and plug and play (to use in multiple places). When using state i need to define the state in every component where i want to use this functionality. I&#39;m using this function to resize the images before sending them to the backend"}, {"owner": {"reputation": 1813, "user_id": 5423811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9604704ec726e84af5b8ea0c9043fe?s=128&d=identicon&r=PG&f=1", "display_name": "dyouberg", "link": "https://stackoverflow.com/users/5423811/dyouberg"}, "reply_to_user": {"reputation": 343, "user_id": 10387735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3434a579647f30baf8a36c50380189?s=128&d=identicon&r=PG", "display_name": "RMCS", "link": "https://stackoverflow.com/users/10387735/rmcs"}, "edited": false, "score": 0, "creation_date": 1569444724, "post_id": 58104856, "comment_id": 102603506, "body": "You would only need to define state within this one component, not necessarily the parents which import it.    I see your point for a resizing function though - my experience with file uploads so far has always required re-rendering to either load thumbnails or inform the users of progress."}], "tags": [], "owner": {"reputation": 1813, "user_id": 5423811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec9604704ec726e84af5b8ea0c9043fe?s=128&d=identicon&r=PG&f=1", "display_name": "dyouberg", "link": "https://stackoverflow.com/users/5423811/dyouberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1569437473, "creation_date": 1569437473, "answer_id": 58104856, "question_id": 58104645, "link": "https://stackoverflow.com/questions/58104645/how-can-i-return-the-resized-image-from-filereader/58104856#58104856", "title": "How can i return the resized image from filereader", "body": "<p>May I ask why you don't like the solution of using state?  This seems like a pretty standard use case.</p>\n\n<p>Your state could look something like this:</p>\n\n<pre><code>state = {\n  imageDescription: '',\n  imageUrl: null\n};\n</code></pre>\n\n<p>Your action handler would simply setState upon success like so:</p>\n\n<pre><code>img.onload = () =&gt; {\n  ...\n\n  this.setState({ imageDescription: fileName, imageSrc: img.src })\n};\n</code></pre>\n\n<p>Finally your render function would look something like this:</p>\n\n<pre><code>render() {\n  const { imageDescription, imageUrl } = this.state;\n\n  return (\n    &lt;Fragment&gt;\n       &lt;input \n         className={classes.inputForUpload} \n         accept='image/*' \n         type='file' \n         ref={uploadImage} \n         onChange={(e: IHTMLInputEvent) =&gt; handleUpload(e)} \n       /&gt;\n       &lt;img src={imageUrl} alt={imageDescription} /&gt;\n    &lt;/Fragment&gt;\n  )\n}\n</code></pre>\n\n<p>P.S. you can delete handleUpload and call resizeImage directly.</p>\n"}], "owner": {"reputation": 343, "user_id": 10387735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a3434a579647f30baf8a36c50380189?s=128&d=identicon&r=PG", "display_name": "RMCS", "link": "https://stackoverflow.com/users/10387735/rmcs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58104824, "answer_count": 2, "score": 0, "last_activity_date": 1569437473, "creation_date": 1569436552, "last_edit_date": 1569437147, "question_id": 58104645, "link": "https://stackoverflow.com/questions/58104645/how-can-i-return-the-resized-image-from-filereader", "title": "How can i return the resized image from filereader", "body": "<p>I've created a function that takes care of resizing a image, now i want to return the resized image from the function.</p>\n\n<p>I'm working with <code>react</code> and know i can fix the problem by using the <code>state</code> but i don't like this solution..</p>\n\n<p>Tried returning every different scope, but i still get a <code>undefined</code> response. Also when i return the <code>reader</code> itself, i get the old data.</p>\n\n<p><em>Interface</em></p>\n\n<pre><code>   interface IHTMLInputEvent extends Event {\n        target: HTMLInputElement &amp; EventTarget;\n    }\n</code></pre>\n\n<p><em>the resize function</em></p>\n\n<pre><code>function resizeImage(file: IHTMLInputEvent, width: number) {\n\n        const fileName = file.target.files[0].name;\n        const reader = new FileReader();\n\n        reader.readAsDataURL(file.target.files[0]);\n\n        reader.onload = (event) =&gt; {\n            const img = new Image();\n            img.src = event.target.result.toString();\n\n            img.onload = () =&gt; {\n                const elem = document.createElement('canvas');\n                const scaleFactor = width / img.width;\n                elem.width = width;\n                elem.height = img.height * scaleFactor;\n\n                const ctx = elem.getContext('2d');\n                ctx.drawImage(img, 0, 0, width, img.height * scaleFactor);\n\n                ctx.canvas.toBlob((blob) =&gt; {\n                    return new File([blob], fileName, { type: 'image/jpeg', lastModified: Date.now() });\n                }, 'image/jpeg', 1);\n            };\n        };\n    }\n\n</code></pre>\n\n<p><em>function for handling the upload(so far)</em></p>\n\n<pre><code>function handleUpload(e: IHTMLInputEvent) {\n        const resizedImage = resizeImage(e, 600);\n    }\n</code></pre>\n\n<p><em>input field</em></p>\n\n<pre><code> &lt;input \n   className={classes.inputForUpload} \n   accept='image/*' \n   type='file' \n   ref={uploadImage} \n   onChange={(e: IHTMLInputEvent) =&gt; handleUpload(e)} \n  /&gt;\n</code></pre>\n\n<p>I would like to return the new created image.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 600, "user_id": 4146843, "user_type": "registered", "accept_rate": 26, "profile_image": "https://lh5.googleusercontent.com/-DZjNNF12BhE/AAAAAAAAAAI/AAAAAAAAATo/UEfgNQGXxGg/photo.jpg?sz=128", "display_name": "Jean-Luc Aubert", "link": "https://stackoverflow.com/users/4146843/jean-luc-aubert"}, "edited": false, "score": 0, "creation_date": 1601390814, "post_id": 58104236, "comment_id": 113389639, "body": "May be late and not sure, but did you add &quot;experimentalsDecorators&quot;: true in your angular config ?"}], "owner": {"reputation": 81, "user_id": 8468649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af7aff82e7a981525902f603ede6e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Bosworth", "link": "https://stackoverflow.com/users/8468649/richard-bosworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569434800, "creation_date": 1569434800, "question_id": 58104236, "link": "https://stackoverflow.com/questions/58104236/production-build-prod-removing-decorators-classes", "title": "Production build (--prod) removing decorators/classes", "body": "<p>I have been working on a dynamic Forms framework, that is designed to be extensible. Elements (such as TextElement - which extends ValueElement) make up the form. They are converted into Angular controls (i.e. FormControl) by \"Constructors\" and are organised within the form layout by \"Orchestrators\". The files for the above three items are stored in a \"forms\" Angular library (ng g lib).</p>\n\n<p>The visual representations/components of the above are created by \"Renderers\", and the renderers/associated components are stored in a separate library (based on style - e.g. bootstrap-form-renderers).</p>\n\n<p>ElementHandlers (constructors/orchestrators/renderers) specify their handled Element via a Typescript decorator.</p>\n\n<pre><code>import {FormElement} from '../../elements/model/form-element';\nimport {Type} from '@angular/core';\nimport 'reflect-metadata';\n\nexport function ElementHandler&lt;TFormElement extends FormElement&gt;(elementType: Type&lt;TFormElement&gt;): ClassDecorator {\n  console.log('Handling for ' + elementType);\n  return target =&gt; {\n    Reflect.defineMetadata('elementType', elementType.name, target.prototype);\n  };\n}\n</code></pre>\n\n<p>e.g:</p>\n\n<pre><code>@ElementHandler(TextElement)\nexport class TextElementOrchestrator extends FormElementOrchestrator&lt;TextElement&gt; {\n}\n</code></pre>\n\n<p>Both of these libraries are imported in the Angular app project.</p>\n\n<p>When using \"ng build\" (no --prod), the code works well. Each form element is created appropriately - e.g. a text input element is represented by an input box, a tags element is represented by a Material design chips component.</p>\n\n<p>The console code is as shown:</p>\n\n<pre><code>TextElement extends forms_core__WEBPACK_IMPORTED_MODULE_1__[\"ValueElement\"] {\n    /**\n     * @param {?} id\n     * @param {?} title\n     * @param {?} value\n     */\n    constructor(id, title, value) {\n        super(id, title);\n        this.value = value;\n    }\n    /**\n     * @return {?}\n     */\n    friendlyValue() {\n        return this.value;\n    }\n}\n</code></pre>\n\n<p>However, when \"--prod\" is used, everything appears as if a \"TextElement\", and only an input box is shown.</p>\n\n<p>The console reads as follows:</p>\n\n<pre><code>class extends ValueElement{constructor(id,title,value){super(id,title),this.value=[],this.value=value}friendlyValue(){const selectedPredicate=option=&gt;option.selected;return this.options.singleMode?this.value.find(selectedPredicate).value:this.value.filter(selectedPredicate).map(option=&gt;option.value)}}\n</code></pre>\n\n<p>I have my suspicions that either:\n1. The decorators are getting stripped in the libraries/Angular app build process, as when attempting to log the \"elementType\" metadata in the --prod build, it shows as \"undefined\"\n2. The classes are somehow not getting included in the build, hence why the above console readout does not show the class details.</p>\n\n<p>Is there any way I can look into this/change this, whilst still keeping the build optimization in-situ?</p>\n\n<p>Any other things I can look at?</p>\n\n<p>I'd appreciate any advice!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1569434836, "post_id": 58104220, "comment_id": 102599550, "body": "use a <code>Set</code>. then look to see if its in the array."}, {"owner": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1569435711, "post_id": 58104220, "comment_id": 102599891, "body": "@DanielA.White Could you elaborate on how I could check for two occurrences of the same number?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "edited": false, "score": 0, "creation_date": 1569437179, "post_id": 58104520, "comment_id": 102600505, "body": "Thanks for the response! The only thing with this, is wouldn&#39;t it keep adding 1 onto prior numbers regardless of if they&#39;ve been found again? For example, if you roll a 15 and then an 18, the map will still think there has been two 15&#39;s as it re-loops through the list as a whole making it 15, 15, 18"}, {"owner": {"reputation": 290, "user_id": 11894205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837aff270d16e6c652676fc538c10769?s=128&d=identicon&r=PG&f=1", "display_name": "vS12", "link": "https://stackoverflow.com/users/11894205/vs12"}, "reply_to_user": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "edited": false, "score": 0, "creation_date": 1569437669, "post_id": 58104520, "comment_id": 102600708, "body": "No, how it works is if you get a 15 - it checks in the map if 15 is present or not. If present, then get the current count of 15 and add 1 to it, otherwise insert a 15 with the count 1.  So when it gets 18, it checks and because it does not find that number - it is inserted as a new key in the map with value 1."}, {"owner": {"reputation": 290, "user_id": 11894205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837aff270d16e6c652676fc538c10769?s=128&d=identicon&r=PG&f=1", "display_name": "vS12", "link": "https://stackoverflow.com/users/11894205/vs12"}, "reply_to_user": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "edited": false, "score": 0, "creation_date": 1569437714, "post_id": 58104520, "comment_id": 102600727, "body": "Check my edit, to see the live working of the presented code. Let me know if you have any confusion."}, {"owner": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "edited": false, "score": 0, "creation_date": 1569437880, "post_id": 58104520, "comment_id": 102600786, "body": "What if you use this map within a function? As currently I&#39;m running the check each time a duplicate is not found, which is causing the list to add one onto prior spun bonuses regardless"}, {"owner": {"reputation": 290, "user_id": 11894205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837aff270d16e6c652676fc538c10769?s=128&d=identicon&r=PG&f=1", "display_name": "vS12", "link": "https://stackoverflow.com/users/11894205/vs12"}, "reply_to_user": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "edited": false, "score": 0, "creation_date": 1569438326, "post_id": 58104520, "comment_id": 102600978, "body": "If you use a map within a function, and if you do the declaration there itself then every time new instance of that map would be created.  I don&#39;t know if I am getting your question correctly - so you want to reset the map once you have found the first duplicate ? right ?"}], "tags": [], "owner": {"reputation": 290, "user_id": 11894205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/837aff270d16e6c652676fc538c10769?s=128&d=identicon&r=PG&f=1", "display_name": "vS12", "link": "https://stackoverflow.com/users/11894205/vs12"}, "is_accepted": false, "score": 0, "last_activity_date": 1569437688, "last_edit_date": 1569437688, "creation_date": 1569436000, "answer_id": 58104520, "question_id": 58104220, "link": "https://stackoverflow.com/questions/58104220/is-there-a-better-way-to-loop-through-an-array-to-check-for-duplicates/58104520#58104520", "title": "Is there a better way to loop through an array to check for duplicates?", "body": "<p>You can use a <code>map</code>, it is a key-value data-structure - which only holds unique keys.</p>\n\n<p>Take this for an example : </p>\n\n<pre><code>let list: number[] = [1, 2, 3,4,5,6,2,3];\n\nlet myMap = new Map();\n\nfor(var i=0;i&lt;list.length;i++)\n{\n  if(myMap.has(list[i]))\n    myMap.set(list[i],myMap.get(list[i])+1);\n  else\n    myMap.set(list[i],1);\n}\n\nfor (let entry of myMap.entries()) {\n    console.log(entry[0], entry[1]);    \n}\n</code></pre>\n\n<p>What I am doing over here : <br><br>\n 1. First <strong>loop through entire array</strong> and insert them in the map by checking if they are in the map already or not, if they are present, then I get that the current count of that element and increment it by 1, otherwise I insert that element with the count 1.<br><br>\n 2. At the end I am printing the key(all elements of the array),value (number of times they occur)</p>\n\n<p><strong>So to accomplish what you want, you can now just loop through the values of map and see if any count is greater than 1, then return accordingly or you can store the corresponding key to also know which element is repeating.</strong></p>\n\n<p><strong>EDIT:</strong>\n<a href=\"https://repl.it/repls/ExcellentOldLicense\" rel=\"nofollow noreferrer\">https://repl.it/repls/ExcellentOldLicense</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8118441, "user_type": "registered", "profile_image": "https://graph.facebook.com/1427225620633963/picture?type=large", "display_name": "Joshua Middleton", "link": "https://stackoverflow.com/users/8118441/joshua-middleton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569437688, "creation_date": 1569434720, "question_id": 58104220, "link": "https://stackoverflow.com/questions/58104220/is-there-a-better-way-to-loop-through-an-array-to-check-for-duplicates", "title": "Is there a better way to loop through an array to check for duplicates?", "body": "<p>I'm trying to check on each 'spin' if there has been a duplicate of the bonus multiplier, I've tried a few different ways to loop through the spunBonuses array but can't seem to get it to get the function to return true if there are multiple occurrences of any given array object.</p>\n\n<p>Below is my current code, is there a better way to do this?</p>\n\n<p>(Using TypeScipt)</p>\n\n<pre><code>            let spinAmount = 0;\n            let spunNumbers = [];\n            let spunBonuses = [];\n            let safeNumbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n            let safeBonuses = [15, 16, 17, 18, 19, 20];\n            let count15 = 0, count16 = 0, count17 = 0, count18 = 0, count19 = 0, count20 = 0;\n            let bonusNumber = null;\n\n            function getSpin() {\n                let numberSpun = null;\n                let bonusSpun = null;\n                let randomSafeNumber = Math.floor(Math.random() * safeNumbers.length)\n\n                numberSpun = safeNumbers[randomSafeNumber];\n                safeNumbers.splice(randomSafeNumber, 1);\n                bonusSpun = safeBonuses[Math.floor(Math.random() * safeBonuses.length)];\n                spunBonuses.push(bonusSpun);\n\n                if (bonusSpun == 15) {\n                    count15 += 1;\n                } else if (bonusSpun == 16) {\n                    count16 += 1;\n                } else if (bonusSpun == 17) {\n                    count17 += 1;\n                } else if (bonusSpun == 18) {\n                    count18 += 1;\n                } else if (bonusSpun == 19) {\n                    count19 += 1;\n                } else if (bonusSpun == 20) {\n                    count20 += 1;\n                }\n            }\n\n            while (spinAmount &lt; 4) {\n                if (count15 &lt; 2 &amp;&amp; count16 &lt; 2 &amp;&amp; count17 &lt; 2 &amp;&amp; count18 &lt; 2 &amp;&amp; count19 &lt; 2 &amp;&amp; count20 &lt; 2) {\n                    getSpin();\n                    spinAmount += 1;\n                } else { spinAmount = 4; }\n            }\n\n            if (count15 == 2) {\n                bonusNumber = 15;\n            } else if (count16 == 2) {\n                bonusNumber = 16;\n            } else if (count17 == 2) {\n                bonusNumber = 17;\n            } else if (count18 == 2) {\n                bonusNumber = 18;\n            } else if (count19 == 2) {\n                bonusNumber = 19;\n            } else if (count20 == 2) {\n                bonusNumber = 20;\n            }\n\n            console.log(\"Bonus achieved: \" + bonusNumber);\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1569437554, "post_id": 58104131, "comment_id": 102600661, "body": "I presume you are at an impasse. Having strict mode enabled and wanting to use untyped modules are contradictory. You can either generate automated typings for the modules using the suggested tools of the DefinitelyTyped repo or disable strict mode during migration. It might be possible to use dynamic imports though to prevent this error which I usually discourage if not used properly."}, {"owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "reply_to_user": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1569437959, "post_id": 58104131, "comment_id": 102600814, "body": "Well, it is not contradictory, because I want to enforce such rules regarding code me and my team write, not 3rd party libs, which are used sparingly, even though there is a handful of them. I don&#39;t know if it&#39;s possible to have a set of rules for our own code and other for 3rd party."}, {"owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1569438311, "post_id": 58104131, "comment_id": 102600970, "body": "I mean having intercourse with someone and insisting on protection but halfway through considering to drop protection just a little bit is kinda odd, right? Back to topic: have you tried <code>&#47;&#47; @ts-ignore</code> right before the respective import? I am not sure whether this will actually work. Alternatively I&#39;d disable strict mode while in the process of migrating and possibly use eslint and enfore rules using it."}, {"owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "reply_to_user": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1569439563, "post_id": 58104131, "comment_id": 102601507, "body": "It&#39;s very unpractical to expect that every module on NPM will have typings some day. While we could help writing some of our own, it&#39;s a long process (it took me almost 2 weeks to properly type <code>ipfs-http-client</code>). Disabling strict mode now means the best practices won&#39;t be enforced during &quot;migration process&quot;, which could potentially never end."}, {"owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "reply_to_user": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "edited": false, "score": 0, "creation_date": 1569439692, "post_id": 58104131, "comment_id": 102601548, "body": "The team can control the way our code interact with 3rd party modules very easily. So it wouldn&#39;t be much of a problem to have TypeScript disabled for those, since all there is an adapter layer on top of every one of them.  I just need a way to be able to import such modules without having the compiler screaming at us."}], "owner": {"reputation": 7084, "user_id": 1798341, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/9ad6340e7a0d020db85c9a3343b709c7?s=128&d=identicon&r=PG&f=1", "display_name": "Henrique Barcelos", "link": "https://stackoverflow.com/users/1798341/henrique-barcelos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569434362, "creation_date": 1569434362, "question_id": 58104131, "link": "https://stackoverflow.com/questions/58104131/add-fallback-typings-only-of-untyped-modules", "title": "Add fallback typings only of untyped modules", "body": "<p>I inherited a TypeScript project which uses some JavaScript dependencies which happen to not have any <code>@types</code> package available.</p>\n\n<p>I managed to write the typings for some of the modules, but right now I don't have enough time to do that for all modules.</p>\n\n<p>My current <code>tsconfig.json</code> uses the strict mode, so I have a problem when importing untyped modules:</p>\n\n<pre><code>&gt; Could not find a declaration file for module 'unfluff'. \n&gt;     '[...]/node_modules/unfluff/lib/unfluff.js' implicitly has an 'any' type.\n</code></pre>\n\n<p>After poking around for a bit, I found this <a href=\"https://github.com/Microsoft/TypeScript/issues/13348\" rel=\"nofollow noreferrer\">issue</a> on TypeScript's Github.</p>\n\n<p>Then I created a file on my <code>src/types</code> directory with the following content:</p>\n\n<pre><code>declare module 'unfluff' {\n    var _a: any;\n    export = _a;\n}\n</code></pre>\n\n<p>However, since I have several modules with this problem, it would be very tedious having to write a new typings file for each one of them and any other I'd happen to need in the future.</p>\n\n<p>So I tried to create a <em>catch all</em> module as suggested in the same issue discussion:</p>\n\n<pre><code>// src/types/fallback.d.ts\ndeclare module '*' {\n    var _a: any;\n    export = _a;\n}\n</code></pre>\n\n<p>The problem now is that all typings declared in this <code>src/types</code> folder are ignored. For example, I've added typings for <code>ipfs-http-client</code> in that directory. <strong>After</strong> I created the <code>fallback.d.ts</code> file, when I do:</p>\n\n<pre><code>import ipfs, { IpfsClient } from 'ipfs-http-client';\n</code></pre>\n\n<p>Then I get the following error:</p>\n\n<pre><code>&gt; 2305[QF available]: Module '\"*\"' has no exported member 'IpfsClient'.\n</code></pre>\n\n<p>If I remove the <code>fallback.d.ts</code>, the import above works again, but then I'm stuck in the original problem.</p>\n\n<p>Is there a way of having a true <em>fallback</em> typing only for untyped modules?</p>\n\n<p>One caveat is that the packages are unrelated to each other, so is not something that can be solved with pattern matching:</p>\n\n<pre><code>declare module 'some-scope-*' {\n    var _a: any;\n    export = _a;\n}\n</code></pre>\n\n<h2>Edit:</h2>\n\n<p>If it is worth something, here's my <code>tsconfig.json</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"composite\": true,\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"sourceMap\": true,\n    \"strict\": true,\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"allowJs\": false,\n    \"checkJs\": false,\n    \"esModuleInterop\": true,\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n    \"rootDir\": \"src\",\n    \"outDir\": \"dist\",\n  },\n  \"include\": [\n    \"src/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"**/*.test.ts\"\n  ],\n  \"lib\": [\n    \"es6\",\n    \"es2015\",\n    \"dom\"\n  ],\n  \"typeRoots\": [\n    \"node_modules/@types\",\n    \"./src/types\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "google-maps", "frontend"], "answers": [{"comments": [{"owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "edited": false, "score": 0, "creation_date": 1569438337, "post_id": 58104896, "comment_id": 102600982, "body": "Using this already, can you direct me to the specific types. Thanks."}], "tags": [], "owner": {"reputation": 8213, "user_id": 796036, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0wtlj.png?s=128&g=1", "display_name": "Christian Ivicevic", "link": "https://stackoverflow.com/users/796036/christian-ivicevic"}, "is_accepted": false, "score": 0, "last_activity_date": 1569437709, "creation_date": 1569437709, "answer_id": 58104896, "question_id": 58104129, "link": "https://stackoverflow.com/questions/58104129/what-will-be-the-correct-type-of-any/58104896#58104896", "title": "What will be the correct type of &quot;any&quot;?", "body": "<p>For packages that don't supply first-class typings themselves, DefinitelyTyped usually provides them as is the case here. Install the <a href=\"https://www.npmjs.com/package/@types/google-map-react\" rel=\"nofollow noreferrer\">@types/google-map-react</a> package and you should receive proper types, code completion and type checking.</p>\n"}, {"tags": [], "owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "is_accepted": true, "score": 0, "last_activity_date": 1582144492, "creation_date": 1582144492, "answer_id": 60308799, "question_id": 58104129, "link": "https://stackoverflow.com/questions/58104129/what-will-be-the-correct-type-of-any/60308799#60308799", "title": "What will be the correct type of &quot;any&quot;?", "body": "<p>This worked for me. Thanks</p>\n\n<pre><code>      map: google.maps.Map;\n      maps: {\n        LatLngBounds: new () =&gt; google.maps.LatLngBounds;\n      };```\n</code></pre>\n"}], "owner": {"reputation": 465, "user_id": 11402025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0623971232577218e4a86bcbd7753f00?s=128&d=identicon&r=PG", "display_name": "Tanu", "link": "https://stackoverflow.com/users/11402025/tanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 60308799, "answer_count": 2, "score": 0, "last_activity_date": 1582144492, "creation_date": 1569434357, "last_edit_date": 1569434859, "question_id": 58104129, "link": "https://stackoverflow.com/questions/58104129/what-will-be-the-correct-type-of-any", "title": "What will be the correct type of &quot;any&quot;?", "body": "<p>I am using the following in my code base : </p>\n\n<p><a href=\"https://github.com/google-map-react/google-map-react\" rel=\"nofollow noreferrer\">https://github.com/google-map-react/google-map-react</a></p>\n\n<p>But they have not explained the types used for map and maps which is giving me typescript error. Changing it to object does not help much. </p>\n\n<p><code>const handleApiLoaded = (map: any, maps: any) =&gt; {</code></p>\n\n<p>What is the correct types of map and maps. Thank you.</p>\n"}, {"tags": ["typescript", "functional-programming"], "comments": [{"owner": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "edited": false, "score": 0, "creation_date": 1569430482, "post_id": 58103110, "comment_id": 102597686, "body": "Sorry for my basic question, but on the function <code>&lt;A&gt;([a]: [A, unknown]) =&gt; a</code>, what does this mean <code>[]:[]</code>? Does this function have only 1 argument? I don&#39;t understand the signature. Also, I don&#39;t understand this; <code>[,b]</code>"}, {"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "reply_to_user": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "edited": false, "score": 0, "creation_date": 1569430792, "post_id": 58103110, "comment_id": 102597848, "body": "It is basically destructuring the function arguments. So it could also be: <code>&lt;A&gt;(tuple: [A, unknown]) =&gt; tuple[0]</code>"}, {"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "reply_to_user": {"reputation": 48230, "user_id": 192729, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/lh74Q.jpg?s=128&g=1", "display_name": "Andr&#233; Pena", "link": "https://stackoverflow.com/users/192729/andr%c3%a9-pena"}, "edited": false, "score": 0, "creation_date": 1569430859, "post_id": 58103110, "comment_id": 102597880, "body": "The same applies to <code>[,b]</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569434571, "post_id": 58103110, "comment_id": 102599452, "body": "Maybe it&#39;s <a href=\"https://github.com/microsoft/TypeScript/issues/30727\" rel=\"nofollow noreferrer\">this issue</a>?  The <a href=\"https://github.com/microsoft/TypeScript/pull/30215\" rel=\"nofollow noreferrer\">pull request</a> enabling anything like this does mention the algorithm for inferring higher-order types isn&#39;t perfect.  Not sure if this rises to the level of an answer, though, or if there&#39;s some way to rewrite your code to fix it"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569435560, "post_id": 58103110, "comment_id": 102599835, "body": "You can <a href=\"http://www.typescriptlang.org/play//?ts=Nightly#code/MYewdgzgLgBAZgSwE7RjAvDAPAQQHwAUA2gIYC6AXDETgDQwCuYA1mCAO5hkCUGeMJALAAoUJFgQApmIAmaTFgBChIrQBGlak1Ycw9RTz4w1IsaigMADgBtJGbPgIkqOXun5LCaqou5Ua+mRGpPQaANwipuCooAC2liBS9kowkgAeUJJgMhACYACe9ADChHBUBN4wvkZFbh6OAOblzjCuRtXuMAQiaC04In4wRUZwBA1O3NwRwlHiMLCYFjaSBEu2BACM3KtIDJKTBABEaYdTs6hp9lKyBIgoUKuT0+ewcQlSAMrS4DJUuPqEJpdPp1LQsNicQKgpwuUGKexvRIra4-M6iaISSzSBAkawIABekhkADFkNA-gAVQiWEjIfxEbQQvQwClkeiM3SGToM8G6eis+x3aDTMwSb7ZHBwTJIUn3BEgeJIr43CBY4A4vGEklkqBol4wfJXcUySXS2XQR7TIA\" rel=\"nofollow noreferrer\">lead the compiler by the nose</a>, not sure if that suffices."}, {"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "edited": false, "score": 0, "creation_date": 1569441204, "post_id": 58103110, "comment_id": 102602153, "body": "Thanks, not really though. I was really looking for solution that with just type inference. I think I&#39;ve hit a limit of the system here though."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569464861, "post_id": 58103110, "comment_id": 102607713, "body": "<code>const compose = &lt;B, C&gt;(f: F&lt;B, C&gt;) =&gt; &lt;A&gt;(g: F&lt;A, B&gt;) =&gt; (a: A) =&gt;   f(g(a))</code> means something different than <code>const compose = &lt;A, B, C&gt;(f: (b: B) =&gt; C) =&gt; (g: (a: A) =&gt; B) =&gt; (a: A) =&gt; f(g(a))</code>. You want the latter."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569465075, "post_id": 58103110, "comment_id": 102607753, "body": "As for the other parts of your code, I think a better starting point would be <code>type Tuple&lt;A,B&gt; = [A, B]</code> followed by <code>const first = &lt;A,B&gt;([a, _]: Tuple&lt;A,B&gt;): A =&gt; a</code> and <code>const second = &lt;A,B&gt;([_, b]: Tuple&lt;A,B&gt;): B =&gt; b</code> and <code>const tuple = &lt;A,B&gt;(a: A, b: B): Tuple&lt;A,B&gt; =&gt; [a, b]</code>. This still has the same issue with <code>compose</code>, but I think this demonstrates more effective TypeScript."}, {"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "reply_to_user": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569465537, "post_id": 58103110, "comment_id": 102607829, "body": "@user633183 My defenition for compose is curried. Either way the output would be the same. What do you mean by <i>more effectivie</i>? I don&#39;t think it affects how it works. Maybe how it reads."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569466136, "post_id": 58103110, "comment_id": 102607953, "body": "@chautelly look closely, both definitions are curried but that has no impact on the polymorphic parameters. You can think of <code>&lt;A, B, C&gt;</code> as the parameters needed for the entire closure, regardless of whether its curried or not. Your first definition actually means something different: the inner <code>B</code> in <code>g: F&lt;A,B&gt;</code> effectively shadows the outer <code>B</code> in <code>f: F&lt;B,C&gt;</code>. In the second definition, the <code>B</code> parameter is declared <i>once</i> but used in <code>f: ...</code> and <code>g: ...</code>."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569466853, "post_id": 58103110, "comment_id": 102608082, "body": "(cont&#39;d) Your types for <code>first</code> and <code>second</code> don&#39;t really make sense. They take a tuple as input, which is necessarily polymorphic, <code>&lt;A,B&gt;</code>. But you write <code>const first  = &lt;A&gt;([a]: [A, unknown]) =&gt; a</code> and <code>const second  = &lt;B&gt;([,b]: [unknown, B]) =&gt; b</code> each with only <i>one</i> parameter. You write <code>second</code> with <code>&lt;B&gt;</code> that is no different than <code>&lt;A&gt;</code> or <code>&lt;Foo&gt;</code>, it is only <i>one</i> parameter. By writing <code>const first = &lt;A,B&gt;([a, _]: Tuple&lt;A,B&gt;): A =&gt; a</code> we communicate that <code>first</code> is polymorphic in <i>two</i> parameters, takes a value of type <code>Tuple&lt;A,B&gt;</code> and returns the a value of type <code>A</code>."}, {"owner": {"reputation": 106023, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1569467160, "post_id": 58103110, "comment_id": 102608133, "body": "(cont&#39;d) Usually you will want to name your types, like <code>Tuple</code> here, but TypeScript has syntax for tuples specifically. As a shortcut you can write: <code>const first = &lt;A,B&gt;([a, _]: [A,B]): A =&gt; a</code> and <code>const second = &lt;A,B&gt;([_, b]: [A,B]): B =&gt; b</code> and <code>const tuple = &lt;A,B&gt;(a: A, b: B): [A,B] =&gt; [a, b]</code>. Avoid <code>unknown</code>; there&#39;s nothing unknown about <code>&lt;A,B&gt;</code>."}, {"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "edited": false, "score": 0, "creation_date": 1569506099, "post_id": 58103110, "comment_id": 102625683, "body": "You could argue that using <code>unknown</code> is safer as it prevents the data from being used in the function implementation."}], "owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569430058, "creation_date": 1569430058, "question_id": 58103110, "link": "https://stackoverflow.com/questions/58103110/how-do-i-write-a-a-generic-function-composer-and-apply-generic-tuple-extraction", "title": "How do I write a a generic function composer and apply generic tuple extraction functions (first, second) in TypeScript", "body": "<p>I'm not sure what I am doing wrong here:</p>\n\n<pre><code>const first  = &lt;A&gt;([a]: [A, unknown]) =&gt; a\n\nconst second  = &lt;B&gt;([,b]: [unknown, B]) =&gt; b\n\nconst tuple = &lt;A&gt;(a: A) =&gt; &lt;B&gt;(b: B): [A, B] =&gt; [a, b]\n\ntype F&lt;A, B&gt; = (a: A) =&gt; B\n\nconst compose = &lt;B, C&gt;(f: F&lt;B, C&gt;) =&gt; &lt;A&gt;(g: F&lt;A, B&gt;) =&gt; (a: A) =&gt;\n  f(g(a));\n\nconst t = tuple(tuple(1)(true))(\"x\")\n\nconst x = second(first(t))\n\nconst composeSecond = compose(second) // fails\n\nconst secondAfterFirst = composeSecond(first)\n\nconst y = secondAfterFirst(t)\n</code></pre>\n\n<p>It fails <code>compose(second)</code> with:</p>\n\n<blockquote>\n  <p>const second: ([, b]: [unknown, B]) => B Argument of type '([,\n  b]: [unknown, B]) => B' is not assignable to parameter of type\n  'F'.   Types of parameters '__0' and 'a' are\n  incompatible.\n      Type 'unknown' is not assignable to type '[unknown, unknown]'.</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 4765, "user_id": 3945408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jXTc.jpg?s=128&g=1", "display_name": "Juan Lara", "link": "https://stackoverflow.com/users/3945408/juan-lara"}, "is_accepted": false, "score": 0, "last_activity_date": 1569432053, "creation_date": 1569432053, "answer_id": 58103600, "question_id": 58103082, "link": "https://stackoverflow.com/questions/58103082/how-to-query-an-object-from-an-array-using-firestore-and-angular/58103600#58103600", "title": "How to query an object from an array using Firestore and Angular", "body": "<p>For a single document retrieval, you shouldn't need a transaction:</p>\n\n<pre><code>getFruit(fruitUid: string, basketUid: string): Promise&lt;any&gt; {\n    const basketRef = this.afs.doc(`basket/${basketUid}`);\n\n    return basketRef.get().then((sfDoc) =&gt; {\n      return sfDoc.data().fruits\n      .filter(fruit =&gt; fruit.uid === fruitUid);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12120434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fabbc2ca058e952c3fa800f93a6bc70?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Burnett", "link": "https://stackoverflow.com/users/12120434/stefan-burnett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569432053, "creation_date": 1569429946, "question_id": 58103082, "link": "https://stackoverflow.com/questions/58103082/how-to-query-an-object-from-an-array-using-firestore-and-angular", "title": "How to query an object from an array using Firestore and Angular", "body": "<p>I'm trying to query an object from Firestore, the  <code>uid</code> so I can return the following object as a value.</p>\n\n<p>I have tried to make a function to be able to get the object 'Banana'</p>\n\n<pre><code>getFruit(fruitUid: string, basketUid: string): Promise&lt;any&gt; {\n    const basketRef = this.afs.doc(`basket/${basketUid}`).ref;\n\n    return this.afs.firestore.runTransaction((ts) =&gt; {\n      return ts.get(basketUid).then((sfDoc) =&gt; {\n        return sfDoc.data().fruits\n        .filter(fruit =&gt; fruit.uid === fruitUid);\n      });\n    });\n  }\n</code></pre>\n\n<p>Now I'm getting the following error: <code>FirebaseError: Every document read in a transaction must also be written.</code></p>\n\n<p>This is what the database looks like:</p>\n\n<pre><code>fruits: [\n  {\n    uid: '123ABC',\n    name: 'Banana'\n  },\n  {\n    uid: 'ABC123',\n    name: 'Apple'\n]\ncreatedAt: 2019-04-20\n</code></pre>\n\n<p>Is there a way to get that specific object by specifing the <code>uid</code> so I can return a specific <code>fruit</code> from the array <code>fruits</code>?</p>\n"}, {"tags": ["typescript", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 11996757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663d8550b2af07bb2f998e390ee213d6?s=128&d=identicon&r=PG&f=1", "display_name": "user11996757", "link": "https://stackoverflow.com/users/11996757/user11996757"}, "edited": false, "score": 0, "creation_date": 1569430344, "post_id": 58103062, "comment_id": 102597608, "body": "Ok thank you. So should I create the functions to hide modal inside my TestGroup.tsx or the QuestionGroup.tsx? Or should state be included in the redux store?"}, {"owner": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "reply_to_user": {"reputation": 53, "user_id": 11996757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663d8550b2af07bb2f998e390ee213d6?s=128&d=identicon&r=PG&f=1", "display_name": "user11996757", "link": "https://stackoverflow.com/users/11996757/user11996757"}, "edited": false, "score": 0, "creation_date": 1569522899, "post_id": 58103062, "comment_id": 102634245, "body": "What I usually do is pass a <code>close</code> function to the modal so that it can close itself with a cross button. This way the state of the modal is handled by its parent which gives you more flexibility (for example you can have the modal shown by default on a page but closed on another). About storing the state in the parent or in the redux store it depends on the use case. Usually it&#39;s stored on the parent because it&#39;s straightforward. But I had a case where I had to trigger the render of a modal from a service depending on the response of the API. Here the redux store made sense."}], "tags": [], "owner": {"reputation": 2172, "user_id": 6325822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggMPi.jpg?s=128&g=1", "display_name": "Baboo_", "link": "https://stackoverflow.com/users/6325822/baboo"}, "is_accepted": true, "score": 1, "last_activity_date": 1569429867, "creation_date": 1569429867, "answer_id": 58103062, "question_id": 58102953, "link": "https://stackoverflow.com/questions/58102953/rendering-a-component-onclick/58103062#58103062", "title": "Rendering a component onClick", "body": "<p>The <code>onClick</code> method does not render returned components.</p>\n\n<p>You have to add a <code>state</code> variable to show/hide the modal:</p>\n\n<pre><code>interface IState {\n  showModal: boolean;\n}\n\nexport class ListGroup extends React.Component&lt;IProps, IState&gt; {\n  // Define a state variable to show/hide the modal\n  public state: IState = {\n    showModal: false\n  };\n\n  showModal = () =&gt; {\n    // Show the modal\n    this.setState({ showModal: true });\n  };\n\n  public render() {\n    const { showModal } = this.state;\n\n    return (\n      &lt;div&gt;\n        &lt;ul\n          className=\"list-group\"\n          style={{\n            marginTop: \"20px\",\n            display: \"inline-block\"\n          }}\n        &gt;\n          {filterTest.map(filterTest =&gt; (\n            &lt;li\n              className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n              onClick={() =&gt; {\n                this.props.onUpdateSelectedTest(filterTest);\n                this.showModal(); // &lt;-- Function has been renamed\n              }}\n            &gt;\n              {filterTest.testPN}: {filterTest.description}\n            &lt;/li&gt;\n          ))}\n        &lt;/ul&gt;\n        // Show the modal if showModal is true\n        {showModal &amp;&amp; (\n          &lt;TestGroup\n            tesyState={this.props.testState}\n            onUpdateSelectedTest={this.props.onUpdateSelectedTest}\n          /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 11996757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663d8550b2af07bb2f998e390ee213d6?s=128&d=identicon&r=PG&f=1", "display_name": "user11996757", "link": "https://stackoverflow.com/users/11996757/user11996757"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 58103062, "answer_count": 1, "score": 0, "last_activity_date": 1569429867, "creation_date": 1569429434, "question_id": 58102953, "link": "https://stackoverflow.com/questions/58102953/rendering-a-component-onclick", "title": "Rendering a component onClick", "body": "<p>Possible duplicate. I've tried the solutions from several other posts but my solution still does not work. I am trying to render a component from onClick.\nThe function getModal() gets called and displays the console.logs but the component does not get rendered. Any solution or advise would appreciated. </p>\n\n<p>All the codes are snippets</p>\n\n<p>This is my TestGroup.tsx</p>\n\n<pre><code>export class ListGroup extends React.Component&lt;IProps&gt; {\n  getModal = () =&gt; {\n    return (\n      console.log(\"hello\"),\n      console.log(\"world\"),\n      (\n        &lt;TestGroup\n          tesyState={this.props.testState}\n          onUpdateSelectedTest={this.props.onUpdateSelectedTest}\n        /&gt;\n      )\n    );\n  };\n\n  public render() {\n\n    return (\n      &lt;div&gt;\n        &lt;ul\n          className=\"list-group\"\n          style={{\n            marginTop: \"20px\",\n            display: \"inline-block\"\n          }}\n        &gt;\n          {filterTest.map(filterTest =&gt; (\n            &lt;li\n              className=\"list-group-item list-group-item-action d-flex justify-content-between align-items-center\"\n              onClick={() =&gt; {\n                this.props.onUpdateSelectedTest(filterTest);\n                this.getModal();\n              }}\n            &gt;\n              {filterTest.testPN}: {filterTest.description}\n            &lt;/li&gt;\n          ))}\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>This is my QuestionGroup.tsx: \nI will be rendering a modal but as test I just want to see the \"Hello World\"</p>\n\n<pre><code>export class QestionGroup extends React.Component&lt;IProps&gt; {\n\n  public render() {\n    //const onAfterOpenFn = () =&gt; {};\n    //const onAfterCloseFn = () =&gt; {};\n\n    return (\n      &lt;div&gt;\n        &lt;h1&gt;HELLO WORLD&lt;/h1&gt;\n\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "discriminated-union"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569429454, "post_id": 58102854, "comment_id": 102597220, "body": "<a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/&hellip;</a>"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569429636, "post_id": 58102854, "comment_id": 102597315, "body": "I&#39;m voting to close this question as off-topic because it is covered in the official <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#discriminated-unions\" rel=\"nofollow noreferrer\">Typescript Handbook</a> from Microsoft."}, {"owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569508196, "post_id": 58102854, "comment_id": 102627081, "body": "@JaredSmith that handbook does in fact cover discriminated unions, but it does not cover how to make classes have fields with types that interact within the same class."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569508082, "post_id": 58104899, "comment_id": 102626992, "body": "That is a great solution.  However, it doesn&#39;t seem to work inside the class, which is my goal. I will see if I can edit the original question to include that."}, {"owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569508261, "post_id": 58104899, "comment_id": 102627127, "body": "Do you think it would be safe to say that what I&#39;m trying to do is not possible?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569508583, "post_id": 58104899, "comment_id": 102627348, "body": "I don&#39;t know what you mean by &quot;inside the class&quot; or &quot;within the same class&quot;.  Can you elaborate on what is insufficient about the <code>Example</code> class implementation I gave here?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569508919, "post_id": 58104899, "comment_id": 102627564, "body": "I mean, is <a href=\"http://www.typescriptlang.org/play//#code/C4TwDgpgBAglC8UDeVgAsCWA7A5gLigEYBuKAe3QgCcAVTXAgZ2CuxygF9iBYAKFEhQAQgmSp6+KACZSFNNTpsCWAK4BbAEbVOPfuGgBhUXAA+w3XwHQAsgEMwkACYB5SrQmikfKFADaAaShsKANfACJ0NjCAXWiCAFEADxZbAGNgAB4DABoxSIYoQI4APnC5BQkYvi4+PlSAG1tGRigk2zUweogMmigIZIgsRxbQiMro4uRvKFSyLGYqFXSyKgAKMBUNeoxU8SUoGgBKZA5a3h8cCGByN0VcVeOvc58ZueYoNXsnV3l3fbsHBAXLcPIgUIQCGE5hAwrkpAQpDppj4qFcVFQsB8vkCfhU2L5IowAHT5HDRXQ+U68Kl1N7XCBwRBYCAAd1aiXanQgq0Ih1IAHp+ezOV0MoRirT5tdbARGX0YAKhWQANa2ECS94QERM1nCjpdVZSPlQQV6rkZKQS3izKVQDQEbV9ISK8iq9W8IA\" rel=\"nofollow noreferrer\">this</a> what you want?  It&#39;s basically the same. \ud83e\udd37"}, {"owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569525735, "post_id": 58104899, "comment_id": 102635458, "body": "I&#39;ve <a href=\"http://www.typescriptlang.org/play//#code/C4TwDgpgBAglC8UDeVgAsCWA7A5gLigEYBuKAe3QgCcAVTXAgZ2CuxygF9iBYAKFEhQAQgmSp6+KACZSFNNTpsCWAK4BbAEbVOPfuGgBhUXAA+w3XwHQAsgEMwkACYB5SrQmikfKFADaAaShsKANfACJ0NjCAXWiCAFEADxZbAGNgAB4DABoxSIYoQI4APnC5BQkYvi4+PlSAG1tGRigk2zUweogMmigIZIgsRxbQiMro4uRvKFSyLGYqFXSyKgAKMBUNeoxU8SUoGgBKZA5a3h8cCGByN0VcVeOvc58ZueYoNXsnV3l3fbsHBAXLcPIgUIQCGE5hAwrkpAQpDozi8oFQrioqFgPl8gT8KmxfJFGAA6fI4aK6HynXjTYAQZgPKbPHwYABmUFWRNJoPgiEIj2mKNm82utiYLDYoi55T+uEpL2pgqC7M5mBJZIQvOkAuZL2F7w0ynUWioUrVxJldxwSpqz2p1KAA\" rel=\"nofollow noreferrer\">added a function</a> <code>test()</code> to show where my problem lies."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569526440, "post_id": 58104899, "comment_id": 102635784, "body": "That is a mostly separate <a href=\"https://github.com/microsoft/TypeScript/issues/13995\" rel=\"nofollow noreferrer\">issue</a> having to do with trying to narrow a generic extending a union; for now the way you deal with it is to do the narrowing yourself with a <a href=\"http://www.typescriptlang.org/play//#code/IYIwzgLgTsDGEAJYBthjAgogD2AWwAdkBTAHgBUFjsJiA7AEwwEYEAfBAJgD4EBvALAAoBAlCQY8BBAAWASzoBzAFwJyAbmGjx0OIgD2s4lHLylqvgmaqJCxeq6q6AVzwhjCAL4BtcgF1NEWliSAAKAEp+LVEEOQAzBFDZOTAAOmSlBABeHKtIwSCYpH06SDEbaDtsxOSMNCxcQhJSZm5w1MMZY1M7QKLPaNF4mvk0jMVs3M58wZjYErKQJ1d3KGqk0bEMHHwiMh52zu6zCfqXN2M+mIGgm5ugA\" rel=\"nofollow noreferrer\">type assertion</a>."}, {"owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "edited": false, "score": 0, "creation_date": 1569540920, "post_id": 58104899, "comment_id": 102639953, "body": "Thank you very much, @jcalz. This helps me better understand what needs to be done."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 0, "last_activity_date": 1569437723, "creation_date": 1569437723, "answer_id": 58104899, "question_id": 58102854, "link": "https://stackoverflow.com/questions/58102854/determine-type-of-property-from-other-property/58104899#58104899", "title": "Determine type of property from other property", "body": "<p>A single class or interface can't extend or implement a union of things, so it isn't possible to achieve what you want directly.  If you really need a single class to give you behavior like a discriminated union, I would think about using a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> class in which your dependent property is of a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional type</a>:</p>\n\n<pre><code>class Example&lt;T extends C[\"thing\"]&gt; {\n  constructor(\n    public thing: T,\n    public otherThing: Extract&lt;C, { thing: T }&gt;[\"otherThing\"]\n  ) {}\n}\n</code></pre>\n\n<p>In the specific instance where the discriminant property <code>thing</code> is a valid key type (and <code>1 | 2</code> works), you can use <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> instead of conditional types (although I'll make the mapping out of a conditional type like this):</p>\n\n<pre><code>type MappedOtherThing = {\n  [K in C[\"thing\"]]: Extract&lt;C, { thing: K }&gt;[\"otherThing\"]\n};\n\nclass Example&lt;T extends C[\"thing\"]&gt; {\n  constructor(public thing: T, public otherThing: MappedOtherThing[T]) {}\n}\n</code></pre>\n\n<p>The <code>Extract&lt;C, {thing: T}&gt;[\"otherThing\"]</code> uses the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttu\" rel=\"nofollow noreferrer\"><code>Extract</code></a> utility type to find the member of <code>C</code> which is assignable to <code>{thing: T}</code>, and then <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"nofollow noreferrer\">looks up</a> its <code>otherThing</code> property.</p>\n\n<p>Either of those implementations will give you this behavior:</p>\n\n<pre><code>const eA = new Example(1, \"okay\"); // Example&lt;1&gt;\neA.otherThing; // string\nconst a: A = eA; // okay\nconst eB = new Example(2, 12345); // Example&lt;2&gt;\neB.otherThing; // number\nconst b: B = eB; // okay\nconst c: C = Math.random() &lt; 0.5 ? eA : eB; // okay\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//#code/HYQwtgpgzgDiDGEAEBhA9sAJgSwC7YxABskBvAWACgklcBPGZAQSQF4zaALbYAcwC4kARgDcSNLk4QATgBVufQVFzSevJAF8RVGvUZIAQmw6S1ggExiJUuQoFJgAVzAAjGZu3VaDZCmMsAH0NPHSR4IhAoKCQAUQAPcBgiCAAeWSQIONwILGiUAG0AIlM+QoBdAD4yUJp4DGVpR3hcNGkAChqaJBhHFyJseC4zJFkAGk6aHr6B8UkZeWH4lQRcFJRRkztBdI0Kout5u3LOgEoyDVCLylC64GUMlnZgCAB3WISwJIg2oQ3CtAA1iA6IUTmIAPTg96JZIpIQVUIQJgAOgOtjUEKhDTUN3quCQIEEjwemPEQLouLu+IgRier2hn2SbXMGyE5gAzAAWACsYKQkIZXxS5gRXhpqLm6L4pKcrhklPuLkEtIyBlJgOBCvx8EEfnYAFkQJJkdIQFg0GA2mcUkgAAzI7lIAD8DyQghp6vJVCuVFAkFgCGQhpgjEw1S8emYxlIQ0UwiskoWcexfA8oUjhmjsfsllmNiT9llbmkaYjPlQ-iQQTVVHT5eDoYA8om7NHOvkANJIHioIolXjlMqCJam5prDYx-uCLu7fYttTHLxaWtecKRaLxGGpdKZbK5XvFI6VcNdMJ4xrNVptKb9QZTkYbG8zNEFwQNiCYZv5uz5WRlM6kFcNA+queKunSbyboy3y-Eg-zkqCpJQUK8KIiiL52KSKa8FqBJEsYSKepqoFUqqxjPJBHxfMyrIcjyfICshsIioiBgSt+GL8lCRbyiRirKgRapcWSxG1GBOoVgaRqcCaZqYBaVpIDa9qOi6SJuqqREUpQVxAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 3, "user_id": 5175115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4edb772175150dd226d60f3a50c3d1?s=128&d=identicon&r=PG", "display_name": "Samuel Dillow", "link": "https://stackoverflow.com/users/5175115/samuel-dillow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 58104899, "answer_count": 1, "score": -1, "last_activity_date": 1569508434, "creation_date": 1569429019, "last_edit_date": 1569508434, "question_id": 58102854, "link": "https://stackoverflow.com/questions/58102854/determine-type-of-property-from-other-property", "title": "Determine type of property from other property", "body": "<p>Inside of a class, I know that a property will be one of a discriminated union based on another property, but I can't figure out how to get TypeScript to reflect that.</p>\n\n<p>I've tried extending a discriminated union such as the following, but that doesn't work.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type A = { thing: 1, otherThing: string }\ntype B = { thing: 2, otherThing: number }\ntype C = A | B;\n\n// ERROR: A class can only implement an object type or intersection\n// of object types with statically known members. ts(2422)\nclass C implements C {\n  // ...\n}\n</code></pre>\n\n<p>The method works, but this question is to see if I can make it work with a getter instead of a method.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Example {\n  thing: 1 | 2;\n\n  get otherThing() {\n    if (this.thing === 1) return 'one';\n    return 2;\n  }\n\n  getOtherThing(thing: 1): string;\n  getOtherThing(thing: 2): number;\n  getOtherThing(): string | number {\n    if (this.thing === 1) return 'one';\n    return 2;\n  }\n\n  constructor(value: Example['thing']) {\n    this.thing = value;\n  }\n\n  fails() {\n    // I'd really like this type of logic to work\n    if (this.thing === 1) {\n      // Type '2 | \"one\"' is not assignable to type 'string'.\n      const test: string = this.otherThing;\n    }\n  }\n\n  works() {\n    if (this.thing === 1) {\n      const test: string = this.getOtherThing(this.thing);\n    }\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Edit: Specifically this issue is for use within the same class. The <a href=\"https://stackoverflow.com/a/58104899/5175115\">solution provided by @jcalz</a> is excellent, and if what I'm seeking cannot be done, then I could use that solution with composition in order to achieve similar results.</p>\n</blockquote>\n"}, {"tags": ["typescript", "generics", "type-inference"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569436465, "post_id": 58102628, "comment_id": 102600213, "body": "This doesn&#39;t quite constitute a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, since I imagine your issue is something like &quot;<code>EnforcedDefaultProps&lt;FormatOpts, &quot;prefix&quot; | &quot;suffix&quot;&gt;</code> isn&#39;t the type I expect it to be&quot;, but that isn&#39;t listed anywhere in your code, and there&#39;s a bunch of extra code obscuring the key issue.  Is it possible that you just need <code>type EnforcedDefaultProps&lt;P, K extends keyof P&gt; = [K] extends [never] ? P : Omit&lt;P, K&gt; &amp; RequiredAndDefined&lt;P, K&gt;;</code>?  That is, don&#39;t <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#distributive-conditional-types\" rel=\"nofollow noreferrer\">distribute the conditional type</a> over <code>K</code>?"}, {"owner": {"reputation": 11, "user_id": 6753066, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-72Qf824pcDk/AAAAAAAAAAI/AAAAAAAAAKA/3zpgx3Y3xhc/photo.jpg?sz=128", "display_name": "Kyle Albert", "link": "https://stackoverflow.com/users/6753066/kyle-albert"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569599276, "post_id": 58102628, "comment_id": 102662045, "body": "Thank you. After a little more experimentation, I&#39;m now getting expect typing on at least one of my usages. Posting as answer for reference."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6753066, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-72Qf824pcDk/AAAAAAAAAAI/AAAAAAAAAKA/3zpgx3Y3xhc/photo.jpg?sz=128", "display_name": "Kyle Albert", "link": "https://stackoverflow.com/users/6753066/kyle-albert"}, "edited": false, "score": 0, "creation_date": 1569725768, "post_id": 58137879, "comment_id": 102687322, "body": "Cleaned up the solution a bit and created an npm package for this: <a href=\"https://www.npmjs.com/package/use-defaults\" rel=\"nofollow noreferrer\">use-defaults</a>."}], "tags": [], "owner": {"reputation": 11, "user_id": 6753066, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-72Qf824pcDk/AAAAAAAAAAI/AAAAAAAAAKA/3zpgx3Y3xhc/photo.jpg?sz=128", "display_name": "Kyle Albert", "link": "https://stackoverflow.com/users/6753066/kyle-albert"}, "is_accepted": false, "score": 0, "last_activity_date": 1569611119, "last_edit_date": 1569611119, "creation_date": 1569599711, "answer_id": 58137879, "question_id": 58102628, "link": "https://stackoverflow.com/questions/58102628/typescript-type-to-dynamically-mark-certain-properties-of-an-object-type-as-req/58137879#58137879", "title": "TypeScript type to dynamically mark certain properties of an object type as &quot;required&quot; and &quot;defined&quot;?", "body": "<p>After reading @jcalz suggestion and doing some more experimentation/reduction, this is producing the correct typing almost dynamically:</p>\n\n<p>types.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { StrictOmit } from \"ts-essentials\";\n\nexport type RequiredAndDefined&lt;T, K extends keyof T&gt; = {\n    [P in K]-?: Exclude&lt;T[P], undefined&gt;;\n};\nexport type MappedObjValue&lt;A, B&gt; = {\n    [K in keyof A &amp; keyof B]:\n    A[K] extends B[K]\n        ? never\n        : K\n};\nexport type OptionalKeys&lt;T&gt; = (MappedObjValue&lt;T, Required&lt;T&gt;&gt;)[keyof T];\nexport type KeyOrKeysOf&lt;P&gt; = (ReadonlyArray&lt;keyof P&gt;) | (keyof P);\nexport type ExtractArrayItem&lt;T&gt; = T extends ReadonlyArray&lt;infer U&gt; ? U : T;\n\nexport type EnforcedDefaultProps&lt;\n    P extends object,\n    K extends (KeyOrKeysOf&lt;P&gt; | undefined),\n    EK = ExtractArrayItem&lt;K&gt;\n&gt; = [EK] extends [keyof P] ? StrictOmit&lt;P, EK&gt; &amp; RequiredAndDefined&lt;P, EK&gt; : P;\n\nexport type EnforcedDefaultPropsInput&lt;\n    P extends object,\n    K extends (KeyOrKeysOf&lt;OP&gt; | undefined),\n    OP extends object = Pick&lt;P, OptionalKeys&lt;P&gt;&gt;,\n    EK = ExtractArrayItem&lt;K&gt;\n&gt; = [EK] extends [keyof OP] ? EnforcedDefaultProps&lt;OP, EK&gt; : OP;\n</code></pre>\n\n<p>useDefaults.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const useDefaults = &lt;P extends object, ED extends Array&lt;OptionalKeys&lt;P&gt;&gt; | undefined&gt;(\n    props: P,\n    defaultProps: EnforcedDefaultPropsInput&lt;P, ED&gt;,\n    enforcedDefaults?: ED,\n): EnforcedDefaultProps&lt;P, ED&gt; =&gt; {\n    const newProps: P = { ...defaultProps, ...props };\n    if (enforcedDefaults) { // if user explicitly passes undefined to the prop, default prop will not be used unless the key is in enforcedDefaults\n        enforcedDefaults\n            .filter((key) =&gt; newProps[key] === undefined)\n            .forEach((key) =&gt; {\n                newProps[key] = (defaultProps as any)[key]; // cast to any for now\n            });\n    }\n    return newProps as EnforcedDefaultProps&lt;P, ED&gt;;\n};\n</code></pre>\n\n<p>usage.ts:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface ISharedFormatOpts {\n    prefix?: string,\n    suffix?: string,\n}\n\nexport interface IStringFormatOpts extends ISharedFormatOpts {\n    maxLength?: number,\n}\n\nexport const defaultStringFormatOpts: DeepReadonly&lt;EnforcedDefaultPropsInput&lt;IStringFormatOpts, \"prefix\" | \"suffix\"&gt;&gt; = {\n    prefix: \"\",\n    suffix: \"\",\n};\n\n// ...\n\nconst options = useDefaults(opts as IStringFormatOpts, defaultStringFormatOpts, [\"prefix\", \"suffix\"]);\n</code></pre>\n\n<p>The resolved type of <code>options</code> is</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Pick&lt;IStringFormatOpts, \"maxLength\"&gt; &amp; RequiredAndDefined&lt;IStringFormatOpts, \"prefix\" | \"suffix\"&gt;\n</code></pre>\n\n<p>It also works correctly if object with default values is inlined which eliminates the need for the typed constant.</p>\n"}], "owner": {"reputation": 11, "user_id": 6753066, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-72Qf824pcDk/AAAAAAAAAAI/AAAAAAAAAKA/3zpgx3Y3xhc/photo.jpg?sz=128", "display_name": "Kyle Albert", "link": "https://stackoverflow.com/users/6753066/kyle-albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569611119, "creation_date": 1569428048, "question_id": 58102628, "link": "https://stackoverflow.com/questions/58102628/typescript-type-to-dynamically-mark-certain-properties-of-an-object-type-as-req", "title": "TypeScript type to dynamically mark certain properties of an object type as &quot;required&quot; and &quot;defined&quot;?", "body": "<p>I've been trying to come up with generic types for a function <code>useDefaults</code> below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ValuesOf&lt;T extends readonly any[] | undefined&gt; = T extends readonly any[] ? T[number] : never;\ntype RequiredAndDefined&lt;T, K extends keyof T&gt; = {\n    [P in K]-?: Exclude&lt;T[P], undefined&gt;;\n};\n\nexport type EnforcedDefaultProps&lt;P, K extends keyof P&gt; = K extends never ? P : Omit&lt;P, K&gt; &amp; RequiredAndDefined&lt;P, K&gt;;\nexport type ArrayEnforcedDefaultProps&lt;P, K extends ReadonlyArray&lt;keyof P&gt; | undefined&gt; = EnforcedDefaultProps&lt;P, ValuesOf&lt;K&gt;&gt;;\n\nexport const useDefaults = &lt;P extends object, KEYS extends keyof P&gt;(\n    props: P | undefined,\n    defaultProps: ArrayEnforcedDefaultProps&lt;P, typeof enforcedDefaults&gt;,\n    enforcedDefaults?: ReadonlyArray&lt;KEYS&gt;,\n): ArrayEnforcedDefaultProps&lt;P, typeof enforcedDefaults&gt; =&gt; {\n    const newProps: P = { ...defaultProps, ...props };\n    if (enforcedDefaults) { // if user explicitly passes undefined to the prop, default prop will not be used unless the key is in enforcedDefaults\n        enforcedDefaults\n            .filter((key) =&gt; newProps[key] === undefined)\n            .forEach((key) =&gt; newProps[key] = defaultProps[key]);\n    }\n    return newProps as ArrayEnforcedDefaultProps&lt;P, typeof enforcedDefaults&gt;;\n};\n\n</code></pre>\n\n<p>This function will do a simple assign based operation on two objects: one containing user submitted options and another containing defaults the function developer has set. It will then optionally enforce non-undefined values for certain properties (function developer provided) so that the type of the returned object of <code>useDefaults</code> shaves off the possibility that the value for each of those certain properties is <code>undefined</code>. This prevents the function developer from having to use non-null assertions, but also doesn't burden the function user.</p>\n\n<p>Example desired usage:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface FormatOpts {\n    maxLength?: number,\n    prefix?: string,\n    suffix?: string,\n}\n\nconst format = (value: string, _opts?: FormatOpts) =&gt; {\n    const opts = useDefaults(_opts, {\n        prefix: \"\",\n        suffix: \"\",\n    }, [\"prefix\", \"suffix\"]);\n\n    // prefix and suffix are guaranteed to not be `undefined` at this point, but are not explicitly required to be specified in the `_opts` object by the user of the function\n\n    const modifiedPrefix = prefix.toUpperCase(); // want to avoid things like prefix!.toUpperCase();\n}\n\n// examples with \"prefix\" prop as a focus:\nformat(\"ASDF\"); // OK -&gt; prefix after useDefaults: \"\"\nformat(\"ASDF\", { prefix: \"MyPrefix\" }); // OK -&gt; prefix after useDefaults: \"MyPrefix\"\nformat(\"ASDF\", { prefix: undefined }); // OK -&gt; prefix after useDefaults: \"\"\nformat(\"ASDF\", { suffix: \"test\" }); // OK -&gt; prefix after useDefaults: \"\"\n</code></pre>\n\n<p>I'm wishing to make this as dynamic as possible (as many types inferred as possible).</p>\n\n<p>While this code does compile, the typings are off somehow. Instead of having a single object type with <code>undefined</code>s removed where desired, it's a union of what looks to be each possible combination. Is there an easier way to do what I'm trying to do or to flatten these combinations down?</p>\n\n<p>Screenshots have the exact types produced:</p>\n\n<ol>\n<li><a href=\"https://i.stack.imgur.com/3TPvI.png\" rel=\"nofollow noreferrer\">One key works fine</a></li>\n<li><a href=\"https://i.stack.imgur.com/IYoht.png\" rel=\"nofollow noreferrer\">Two keys produce ugly union types</a></li>\n</ol>\n\n<p>My desired type for #2 is </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n    readonly maxLength?: string | undefined;\n    readonly prefix: string;\n    readonly suffix: string;\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 2447, "user_id": 4786273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d430245706eaa71e471c7b72eba6b78f?s=128&d=identicon&r=PG", "display_name": "Random", "link": "https://stackoverflow.com/users/4786273/random"}, "is_accepted": true, "score": 1, "last_activity_date": 1569427804, "last_edit_date": 1569427804, "creation_date": 1569427411, "answer_id": 58102464, "question_id": 58102295, "link": "https://stackoverflow.com/questions/58102295/convert-uploaded-file-to-base64-in-an-angular-service/58102464#58102464", "title": "Convert uploaded file to base64 in an angular service", "body": "<p>You are using an asynchronous method, and try to return a synchronous data. It works inside the same component because you do not use the return statement, you directly set the new value in its variable (you can replace <code>this.uploadedFile = this.service.getBase64(this.file);</code> with <code>this.service.getBase64(this.file);</code>, it would have the same result since your method does not return anything)</p>\n\n<p>In a different class, you have to use a Subject to be able to subscribe to it:</p>\n\n<pre><code>// Service\nuploadedFile$: Subject&lt;string&gt; = new Subject&lt;string&gt;();\n\nupdateBase64(file: any) {\n  const myReader = new FileReader();\n  myReader.onloadend = e =&gt; {\n    this.uploadedFile$.next(myReader.result.toString().split(',')[1]);\n  };\n  myReader.readAsDataURL(file);\n}\n\ngetBase64(): Observable&lt;string&gt; {\n  return this.uploadedFile$.asObservable();\n}\n\n\n\n// Component\n\nbase64Subscribtion: Subscribtion;\nconstructor(public service: MyAppService) {\n    this.base64Subscribtion = this.service.getBase64()\n        .subscribe(result =&gt; this.uploadedFile = result); // receive new value from service when it is ready\n}\n\npublic upload(files) {   \n  this.service.updateBase64(this.file); // asks the service to update its value\n}\n\nngOnDestroy() {\n  this.base64Subscribtion.unsubscribe(); // since a Subject never ends, you have to cancel manually subscribtion, otherwise your component will never be able to die (memory leak)\n}\n</code></pre>\n"}], "owner": {"reputation": 583, "user_id": 6114993, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c41844ba1526acb0ecf3072a35ec2d7c?s=128&d=identicon&r=PG&f=1", "display_name": "Learn AspNet", "link": "https://stackoverflow.com/users/6114993/learn-aspnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 58102464, "answer_count": 1, "score": 1, "last_activity_date": 1569427804, "creation_date": 1569426828, "question_id": 58102295, "link": "https://stackoverflow.com/questions/58102295/convert-uploaded-file-to-base64-in-an-angular-service", "title": "Convert uploaded file to base64 in an angular service", "body": "<p>I am trying to convert uploaded csv file to base 64 in an angular service. If I use the same method, it works fine in a component but when I am calling from a service, it gets null value.</p>\n\n<p>Component</p>\n\n<pre><code>public upload(files) {   \n      this.uploadedFile = this.service.getBase64(this.file); // This does not work\n      // this.getBase64(this.file); // This works if method is in same component\n    }\n  }\n\n  getBase64() {\n    const myReader = new FileReader();\n    myReader.onloadend = e =&gt; {\n      this.uploadedFile = myReader.result.toString().split(',')[1];\n    };\n    myReader.readAsDataURL(this.file);\n  }\n</code></pre>\n\n<p>This works fine but now when I call the method using service, it does not work</p>\n\n<p>Service</p>\n\n<pre><code>  getBase64(file: any){\n    const myReader = new FileReader();\n    let base64File: any;\n    myReader.onloadend = e =&gt; {\n      base64File = myReader.result.toString().split(',')[1];\n    };\n    myReader.readAsDataURL(file);\n    return base64File;\n  }\n</code></pre>\n\n<p>Service returns null/undefined value. How can I keep base64 function in a service layer. Service is working correctly as there are multiple functions inside the service.</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 511, "user_id": 1721393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d32d1de66a396cc744b12d40be6571?s=128&d=identicon&r=PG", "display_name": "magom001", "link": "https://stackoverflow.com/users/1721393/magom001"}, "is_accepted": false, "score": 0, "last_activity_date": 1579715618, "creation_date": 1579715618, "answer_id": 59865632, "question_id": 58102048, "link": "https://stackoverflow.com/questions/58102048/how-to-get-host-port-from-mongoose-connection/59865632#59865632", "title": "How to get host/port from mongoose Connection?", "body": "<p>Wrong types. Bypass by writing <code>(conn.connection as any).host</code></p>\n"}], "owner": {"reputation": 104, "user_id": 12119990, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD2c4g-cnMlWFHFR9_joBRWDj3vDIdIhyjN17FIJw=k-s128", "display_name": "Erik Lima", "link": "https://stackoverflow.com/users/12119990/erik-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 285, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579715618, "creation_date": 1569425882, "question_id": 58102048, "link": "https://stackoverflow.com/questions/58102048/how-to-get-host-port-from-mongoose-connection", "title": "How to get host/port from mongoose Connection?", "body": "<p>I am connecting to MongoDb by mongoose v5.7.1 on NodeJS and need get the Connection's host and port , but the TypeScript raise this error <em>\"Property 'host' does not exist on type 'Connection'.ts(2339)\"</em> when I try like this:</p>\n\n<pre><code>import mongoose from \"mongoose\"\n...\nprivate database: typeof mongoose\n...\ndatabase = await mongoose.connect(mongoDbUri, {useNewUrlParser: true, useUnifiedTopology: true})\ndatabase.connection.host\n</code></pre>\n\n<p>But, on Mongoose documentation, the <em>Connection</em> class have the properties <strong>host</strong> and <strong>port</strong>:</p>\n\n<blockquote>\n  <p><a href=\"https://mongoosejs.com/docs/api/connection.html#connection_Connection-host\" rel=\"nofollow noreferrer\">https://mongoosejs.com/docs/api/connection.html#connection_Connection-host</a></p>\n</blockquote>\n\n<p>Follow my <em>package.json</em>:</p>\n\n<pre><code>  \"dependencies\": {\n    \"cors\": \"^2.8.5\",\n    \"express\": \"^4.17.1\",\n    \"express-jwt\": \"^5.3.1\",\n    \"mongoose\": \"^5.7.1\",\n    \"validator\": \"^11.1.0\"\n  },\n  \"devDependencies\": {\n    \"@types/cors\": \"^2.8.6\",\n    \"@types/express\": \"^4.17.1\",\n    \"@types/express-jwt\": \"0.0.42\",\n    \"@types/mongoose\": \"^5.5.18\",\n    \"mongodb-memory-server\": \"^5.2.5\",\n    \"nodemon\": \"^1.19.2\",\n    \"ts-node\": \"^8.4.1\",\n    \"tslint\": \"^5.20.0\",\n    \"typescript\": \"^3.6.3\"\n  }\n</code></pre>\n\n<p>What is wrong and how can I solve this problem?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["node.js", "typescript", "hapijs"], "comments": [{"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 1, "creation_date": 1569427697, "post_id": 58101989, "comment_id": 102596477, "body": "<code>export { default as _foo} from &#39;.&#47;foo&#39;</code>"}, {"owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "reply_to_user": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1569432585, "post_id": 58101989, "comment_id": 102598615, "body": "@YuryTarabanko Is there a way to skip <code>as _foo</code>? Btw, this worked. Thanks!"}, {"owner": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1569433224, "post_id": 58101989, "comment_id": 102598883, "body": "Do you mean export default from &#39;./foo&#39; as default? Yes <code>export {default} from &#39;.&#47;foo&#39;</code>"}, {"owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "reply_to_user": {"reputation": 39499, "user_id": 351705, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5vFwo.jpg?s=128&g=1", "display_name": "Yury Tarabanko", "link": "https://stackoverflow.com/users/351705/yury-tarabanko"}, "edited": false, "score": 0, "creation_date": 1569433822, "post_id": 58101989, "comment_id": 102599109, "body": "@YuryTarabanko That appears to only work for one route... Adding <code>export {default} from &#39;.&#47;bar&#39;</code> throws an error. Btw, feel free to add your answer and I will upvote. So far, it\u2019s the best."}], "answers": [{"comments": [{"owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "edited": false, "score": 0, "creation_date": 1569432434, "post_id": 58102523, "comment_id": 102598561, "body": "Did you try to run your code? I believe <code>export default const foo = ...</code> will throw an error. Also, you can use ``` syntax to create code blocks."}], "tags": [], "owner": {"reputation": 79, "user_id": 12078007, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBiucQycBWYdIWhMqrDA4rQ5mZsoaW9HTifU2HajQ=k-s128", "display_name": "Ibrahima Dansoko", "link": "https://stackoverflow.com/users/12078007/ibrahima-dansoko"}, "is_accepted": false, "score": 0, "last_activity_date": 1569437076, "last_edit_date": 1569437076, "creation_date": 1569427642, "answer_id": 58102523, "question_id": 58101989, "link": "https://stackoverflow.com/questions/58101989/how-can-i-export-default-from-import/58102523#58102523", "title": "How can I export default from import?", "body": "<p>Just write</p>\n\n<pre><code>'use strict';\n\nimport hapi from '@hapi/hapi';\n\nexport default const foo = [\n  {\n    method: 'POST',\n    path: '/v1/clients/me',\n    config: {\n      ...\n    },\n    handler: async (request:hapi.Request, h:hapi.ResponseToolkit): Promise&lt;hapi.ResponseObject&gt; =&gt; {\n      ...\n    }\n  },\n];\n</code></pre>\n\n<p>` </p>\n"}], "owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569437076, "creation_date": 1569425689, "last_edit_date": 1569427344, "question_id": 58101989, "link": "https://stackoverflow.com/questions/58101989/how-can-i-export-default-from-import", "title": "How can I export default from import?", "body": "<p>Using the following to apply routes to <a href=\"https://www.npmjs.com/package/@hapi/hapi\" rel=\"nofollow noreferrer\">hapi</a>.</p>\n\n<p>How can I refactor <code>export * from './foo';</code> to replace <code>*</code> by the default export of each route?</p>\n\n<h1>routes/index.ts</h1>\n\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\n\nexport * from './foo'; // This is the line I\u2019m trying to refactor\n</code></pre>\n\n<h1>routes/foo.ts</h1>\n\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\n\nimport hapi from '@hapi/hapi';\n\nconst foo = [\n  {\n    method: 'POST',\n    path: '/v1/clients/me',\n    config: {\n      ...\n    },\n    handler: async (request:hapi.Request, h:hapi.ResponseToolkit): Promise&lt;hapi.ResponseObject&gt; =&gt; {\n      ...\n    }\n  },\n];\n\nexport default foo;\n</code></pre>\n\n<p><strong>This works, but looking for a one-liner.</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\n\nimport foo from './foo';\nexport const _foo = foo;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 5766, "user_id": 2798367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W1Cqc.png?s=128&g=1", "display_name": "ne1410s", "link": "https://stackoverflow.com/users/2798367/ne1410s"}, "edited": false, "score": 3, "creation_date": 1569425443, "post_id": 58101894, "comment_id": 102595346, "body": "Use the pipes, Luke <a href=\"https://angular.io/api/common/DecimalPipe\" rel=\"nofollow noreferrer\">angular.io/api/common/DecimalPipe</a>.  If you need something smarter, you can create your own pipe very easily"}], "answers": [{"tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 4, "last_activity_date": 1569427179, "last_edit_date": 1569427179, "creation_date": 1569425710, "answer_id": 58101996, "question_id": 58101894, "link": "https://stackoverflow.com/questions/58101894/number-precision-in-typescript/58101996#58101996", "title": "Number precision in typescript", "body": "<p>To achieve expected result , use below ternary with modulo operator (%)  to get the remainder after dividing with value 1 (<code>11.2 % 1 = 0.2</code> and <code>11.0%1 = 0</code>)</p>\n\n<pre><code>&lt;div&gt;{{sum %1?sum.toFixed(1): sum}}&lt;/div&gt;\n</code></pre>\n\n<p>sample working code for reference - <a href=\"https://stackblitz.com/edit/angular-ozgii4?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-ozgii4?file=src/app/app.component.html</a></p>\n\n<p><strong>Option2:</strong></p>\n\n<p>Use <code>Math.abs</code> with <code>toFixed(1)</code> if you expect adding positive numbers and for negative values , you will get positive value with this approach</p>\n\n<pre><code>&lt;div&gt;{{Math.abs(sum.toFixed(1))}}&lt;/div&gt;\n</code></pre>\n\n<p>sample working code for reference - <a href=\"https://stackblitz.com/edit/angular-4tsk9g?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-4tsk9g?file=src/app/app.component.ts</a></p>\n"}, {"tags": [], "owner": {"reputation": 12095, "user_id": 881250, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f8cbab33dc806c9305fef0664627b2d?s=128&d=identicon&r=PG", "display_name": "u\u0265\u0183n\u0250\u028cuop", "link": "https://stackoverflow.com/users/881250/u%c9%a5%c6%83n%c9%90%ca%8cuop"}, "is_accepted": true, "score": 1, "last_activity_date": 1569430739, "last_edit_date": 1569430739, "creation_date": 1569430431, "answer_id": 58103216, "question_id": 58101894, "link": "https://stackoverflow.com/questions/58101894/number-precision-in-typescript/58103216#58103216", "title": "Number precision in typescript", "body": "<p>What you see is how floats are handled in Javascript. The usual way to handle this is: </p>\n\n<p>1. <code>toFixed</code> when you want to pad zeros right:</p>\n\n<pre><code>(9.9 + 1.3).toFixed(2);\n</code></pre>\n\n<p>2. <code>toPrecision</code> when you don't need to pad right:</p>\n\n<pre><code>(9.9 + 1.3).toPrecision(2);\n</code></pre>\n\n<p>You would use either if defining your variable in your Angular Typescript file. </p>\n\n<p>3. However, you may also want to format a number directly in the HTML template with the built-in decimal pipe:</p>\n\n<pre><code>{{ (9.9 + 1.3)  | number : '1.1' }}\n</code></pre>\n\n<p>The decimal pipe has quite a few options, check <a href=\"https://angular.io/api/common/DecimalPipe\" rel=\"nofollow noreferrer\">the docs for more info</a>.</p>\n"}], "owner": {"reputation": 1258, "user_id": 6494282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WtoNR.jpg?s=128&g=1", "display_name": "pcampana", "link": "https://stackoverflow.com/users/6494282/pcampana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2117, "favorite_count": 0, "accepted_answer_id": 58103216, "answer_count": 2, "score": 3, "last_activity_date": 1569432643, "creation_date": 1569425365, "last_edit_date": 1569432643, "question_id": 58101894, "link": "https://stackoverflow.com/questions/58101894/number-precision-in-typescript", "title": "Number precision in typescript", "body": "<p>I'm doing a website with angular, and I'm trying to sum two numbers and show them in a <code>&lt; div &gt;</code>, but I don't know how to manage the precision. </p>\n\n<p>For example, with the following code:</p>\n\n<p><strong>htlm:</strong></p>\n\n<pre><code>&lt;div&gt;{{sum}}&lt;/div&gt;\n</code></pre>\n\n<p><strong>typescript:</strong></p>\n\n<pre><code>sum = 9.9 + 1.3\n</code></pre>\n\n<p>The website shows the value <code>11.200000000000001</code>, when I would like to show <code>11.2</code></p>\n\n<p>I have seen that the way to manage float operations is by using <code>toFixed(1)</code>, and then I get the expecte <code>11.2</code>. \nHowever, if I use <code>toFixed(1)</code>, for the operation <code>10.0 + 1.0</code> I get <code>11.0</code> when I would like to obtain <code>11</code></p>\n\n<p>So what I would like to have is the number with one decimal when there are decimals, and without decimals when there aren't decimals</p>\n"}, {"tags": ["typescript", "protractor", "mocha.js"], "comments": [{"owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "edited": false, "score": 1, "creation_date": 1569453260, "post_id": 58101808, "comment_id": 102605704, "body": "not sure how mocha works but try <code>file: require(&#39;.&#47;hooks.js&#39;),</code>"}, {"owner": {"reputation": 103, "user_id": 6086008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1b7c70d53c2edf84e8d4673dce2d77a8?s=128&d=identicon&r=PG&f=1", "display_name": "user6086008", "link": "https://stackoverflow.com/users/6086008/user6086008"}, "reply_to_user": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "edited": false, "score": 0, "creation_date": 1569488474, "post_id": 58101808, "comment_id": 102615958, "body": "Thanks, that worked to load the file. However I get error <code>afterEach is not defined</code>. So i guess the approach im using is not possible? How else would i get this global hook to run after every test spec, without having to include it in each test spec?"}], "answers": [{"tags": [], "owner": {"reputation": 4808, "user_id": 9150146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r3Zq7.png?s=128&g=1", "display_name": "Sergey Pleshakov", "link": "https://stackoverflow.com/users/9150146/sergey-pleshakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1569510464, "creation_date": 1569510464, "answer_id": 58119774, "question_id": 58101808, "link": "https://stackoverflow.com/questions/58101808/mochaopts-require-file-in-protractor-config/58119774#58119774", "title": "mochaOpts require file in protractor config", "body": "<p>So first problem is solved by requesting the file this way </p>\n\n<pre><code>file: require('./hooks.js')\n</code></pre>\n\n<p>For you next question see the discussion here for Jasmine <a href=\"https://stackoverflow.com/questions/17317839/how-to-reuse-beforeeach-aftereach-in-jasmine-js\">How to reuse beforeEach/afterEach in Jasmine JS?</a> I'm sure it's possible to do similar in Mocha</p>\n"}], "owner": {"reputation": 103, "user_id": 6086008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1b7c70d53c2edf84e8d4673dce2d77a8?s=128&d=identicon&r=PG&f=1", "display_name": "user6086008", "link": "https://stackoverflow.com/users/6086008/user6086008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569510464, "creation_date": 1569425073, "question_id": 58101808, "link": "https://stackoverflow.com/questions/58101808/mochaopts-require-file-in-protractor-config", "title": "mochaOpts require file in protractor config", "body": "<p>I want to add a helper file for a global <code>afterEach</code> in my protractor conf file. But how do i load the file? I have tried like, but it does not work. </p>\n\n<p>conf.ts</p>\n\n<pre><code> mochaOpts: {\n            file: './hooks.js',\n            }\n }\n</code></pre>\n\n<p>hooks.ts</p>\n\n<pre><code>afterEach(async () =&gt; {\n  console.log('---global after each');\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 494, "user_id": 2928827, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9c21540b0e989a0ec466a8fdc6b779dc?s=128&d=identicon&r=PG&f=1", "display_name": "m.akbari", "link": "https://stackoverflow.com/users/2928827/m-akbari"}, "edited": false, "score": 0, "creation_date": 1569424884, "post_id": 58101624, "comment_id": 102595032, "body": "That is property binding [checked]. set it to true or false for initial value. your (change)=&quot;get($event, language)&quot; for the changes and which language is checked. just read through the api <a href=\"https://material.angular.io/components/checkbox/api\" rel=\"nofollow noreferrer\">material.angular.io/components/checkbox/api</a>"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 12025029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4319ee22d53fb5239321673224d4b94?s=128&d=identicon&r=PG&f=1", "display_name": "Alan S", "link": "https://stackoverflow.com/users/12025029/alan-s"}, "edited": false, "score": 0, "creation_date": 1569425266, "post_id": 58101731, "comment_id": 102595247, "body": "Thanks, it worked. Do you know how can I make it look like above? {{name}} after the checkbox"}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1569424769, "creation_date": 1569424769, "answer_id": 58101731, "question_id": 58101624, "link": "https://stackoverflow.com/questions/58101624/how-can-i-retrieve-only-one-object-from-an-array-with-check-boxes/58101731#58101731", "title": "How can I retrieve only one object from an array with check boxes?", "body": "<p>Sounds like you want to either use a <code>mat-selection-list</code> or a <code>mat-radio-group</code></p>\n\n<ul>\n<li><a href=\"https://material.angular.io/components/list/api\" rel=\"nofollow noreferrer\">https://material.angular.io/components/list/api</a></li>\n<li><a href=\"https://material.angular.io/components/radio/overview\" rel=\"nofollow noreferrer\">https://material.angular.io/components/radio/overview</a></li>\n</ul>\n\n<p>MatSelectionList is pretty easy to use as you can bind it and easily get the selected values. Example:</p>\n\n<p>Component Template (checkboxes are automatically rendered):</p>\n\n<pre><code>    &lt;mat-selection-list #thingsList&gt;\n      &lt;mat-list-option *ngFor=\"let something of things\" [value]=\"something\"&gt;\n        {{something.name}}\n      &lt;/mat-list-option&gt;\n    &lt;/mat-selection-list&gt;\n</code></pre>\n\n<p>Component TypeScript:</p>\n\n<p><code>@ViewChild('thingsList', { static: false }) thingsList: MatSelectionList;</code></p>\n\n<p>Then to get the selected values, you can just do:</p>\n\n<p><code>this.thingsList.selectedOptions.selected</code></p>\n\n<p>I didn't write this stackblitz, but seems to demonstrate the usage in a sufficient manner. The only difference is they use <code>ngModel</code> here instead of using <code>ViewChild</code> like I used above. Same result though: <a href=\"https://stackblitz.com/edit/material-selection-list-5-0-0?file=app/app.component.html\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/material-selection-list-5-0-0?file=app/app.component.html</a></p>\n"}], "owner": {"reputation": 93, "user_id": 12025029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4319ee22d53fb5239321673224d4b94?s=128&d=identicon&r=PG&f=1", "display_name": "Alan S", "link": "https://stackoverflow.com/users/12025029/alan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569424769, "creation_date": 1569424403, "question_id": 58101624, "link": "https://stackoverflow.com/questions/58101624/how-can-i-retrieve-only-one-object-from-an-array-with-check-boxes", "title": "How can I retrieve only one object from an array with check boxes?", "body": "<p>I have several check boxes and I have a function that should <code>console.log</code> the selected object from the checkbox but when I select only one checkbox it <code>console.log</code> everything and doesn't return the value from the checkbox</p>\n\n<p>HTML: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;ng-container *ngIf=\"(world$ | async) as world\"&gt;\n  &lt;div class=\"language\" *ngFor=\"let language of world.languages\"&gt;\n    &lt;mat-checkbox [checked]=\"get(language)\"&gt;{{language.label}}&lt;/mat-checkbox&gt;\n  &lt;/div&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Component: </p>\n\n<pre><code>world$: Observable&lt;World&gt;;\n\nget(e) {\n  console.log(e);\n}\n</code></pre>\n\n<p><a href=\"https://imgur.com/TMQcs0O\" rel=\"nofollow noreferrer\">Data from Firebase (world$)</a></p>\n\n<p>How can I retrieve only the object assigned to the checkbox?</p>\n\n<pre><code>- [x] English &lt;--- When checking this checkbox it should only console.log \"English\" \n- [ ] French\n</code></pre>\n"}, {"tags": ["typescript", "three.js", "euclidean-distance", "aabb", "marching-cubes"], "comments": [{"owner": {"reputation": 896, "user_id": 2562693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92c89f88f6b833e3150d257c6b17ad8e?s=128&d=identicon&r=PG&f=1", "display_name": "R.Falque", "link": "https://stackoverflow.com/users/2562693/r-falque"}, "edited": false, "score": 0, "creation_date": 1581390178, "post_id": 58100765, "comment_id": 106408050, "body": "You have to build the AABB-tree just once so that O(n * log(n)). If you build the SDF structure for a static mesh, then the complexity is O(m * log(n) ) as you just do queries. If the mesh is edited then the whole structure has to be recomputed, but that is another story. Any progress on this?"}], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 7114872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w20YI.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/7114872/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1618218194, "creation_date": 1618218194, "answer_id": 67055569, "question_id": 58100765, "link": "https://stackoverflow.com/questions/58100765/most-efficient-way-to-calculate-an-sdf-to-a-triangle-mesh/67055569#67055569", "title": "Most Efficient Way to Calculate an SDF to a Triangle Mesh", "body": "<p>I solved this using an approach outlined by three (four) main steps:</p>\n<ol>\n<li><p>Generate an AABB tree of the mesh triangle soup</p>\n</li>\n<li><p>Use the AABB tree to subdivide regular bounding cubes whenever a cube intersects the mesh (fast intersection using AABB tree) forming an Octree. When subdivision reaches leaves, exact squared distances (cube centroid to triangle) are computed and a square root is taken of the smallest, writing it into a regular grid based on cube min-max coordinates.</p>\n</li>\n<li><p>Using exact distance values on mesh-intersecting voxels and a large value elsewhere, run the Fast Sweeping algorithm 8 times and fill the scalar grid with distance values.</p>\n</li>\n<li><p>(optional) flood fill the outside voxels of a negated distance grid to make sure voxels inside an outline of marked initial voxels (with exact values) have negative sign (this is, unfortunately, the slowest part for grids with resolution &gt; 100^3 )</p>\n</li>\n</ol>\n<p>For a more detailed look on my implementation with computation times, feel free to read my blog posts:\n<a href=\"https://mshgrid.com/blog/\" rel=\"nofollow noreferrer\">https://mshgrid.com/blog/</a></p>\n<p>Thanks for the upvotes and comments :) .</p>\n"}], "owner": {"reputation": 71, "user_id": 7114872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w20YI.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/7114872/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1549, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1618218194, "creation_date": 1569421733, "last_edit_date": 1569571313, "question_id": 58100765, "link": "https://stackoverflow.com/questions/58100765/most-efficient-way-to-calculate-an-sdf-to-a-triangle-mesh", "title": "Most Efficient Way to Calculate an SDF to a Triangle Mesh", "body": "<p><a href=\"https://i.stack.imgur.com/L7Zmz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L7Zmz.jpg\" alt=\"SDF from triangles, edges and vertices\"></a></p>\n\n<p>Hi.</p>\n\n<p>I've been gathering info from various sources consistently over the past month, yet without any luck of finding an idea that would suit my particular issue. So here's the formulation of the problem:</p>\n\n<p><strong>Given a mesh in a form of buffer geometry (32-bit arrays of vertex coords and vertex indices + additional arrays, such as vertex normals, uvs, or tangents) calculate a signed distance function (SDF) for a uniform grid of points surrounding the geometry.</strong></p>\n\n<p>To be more specific, I intend to create something resembling a MetaBall object in 3D engines such as Maxon's Cinema4D or Blender. I've successfully implemented distance functions for all geometric primitives, but an arbitrary mesh SDF required me to implement a brute force approach - testing the distance for each triangle of the mesh for each grid point - which, of course, gets really slow for complex meshes.</p>\n\n<p>Now, I recalled that most of these problems require one to build a tree-like structure, such as an Octree, KD-tree, BSP-tree, or an AABB-tree. Then I found a few articles on the so-called <a href=\"https://graphics.stanford.edu/courses/cs468-03-fall/Papers/zhao_fastsweep1.pdf\" rel=\"nofollow noreferrer\">Fast-Sweeping algorithm</a>  (for solving an Eikonal equation) which requires one first to fill the grid points laying on the boundary (in my case the mesh, or closest to the mesh) with 0 and the remaining with large values (Infinity) and then solve the non-linear hyperbolic boundary value problem iteratively (Gauss-Seidel). I also found an open-source implementation of a mesh SDF method in the <a href=\"https://www.cgal.org/\" rel=\"nofollow noreferrer\">CGAL library</a>. Alternatively, I also thought about using some shader library (like GLSL) and perhaps try building the trees using GPU, but I have never used shaders in a JS or TS project.</p>\n\n<p>The step I keep getting stuck on isn't just picking the best option, but actually practically using, at least one of these methods efficiently. For example:</p>\n\n<ul>\n<li><p>If I wanted to implement the <a href=\"https://graphics.stanford.edu/courses/cs468-03-fall/Papers/zhao_fastsweep1.pdf\" rel=\"nofollow noreferrer\">Fast-Marching Method</a>, I'd have to iterate through all triangles and then for each one, iterate through all grid points Gijk, and using something similar to a Marching Cubes lookup table for grid cell intersections (but with even more options), I'd interpolate values close to 0 for intersected cell vertices. I have a feeling that this would take unnecessarily long, and prove to be unsuitable for real-time updating.</p></li>\n<li><p>I've managed to find some examples of <a href=\"http://colourmath.com/2018/development/signed-distance-fields-in-unity/\" rel=\"nofollow noreferrer\">Ray Marching SDF</a> computation in Unity. Also, since I've never tried computing anything directly on GPU, I have no idea what the limits for example to parallel computing on it actually are, nor do I understand how such computations get carried out. Can I parallelize the computation of distance to each triangle and then quick-sort all the distances for each grid point Gijk ? If so, how would I include it into a TypeScript project?</p></li>\n<li><p>Say I build an <a href=\"https://doc.cgal.org/latest/AABB_tree/index.html\" rel=\"nofollow noreferrer\">AABB-tree</a> around all the triangles in the mesh (which should be O(n * log(n)) ), then given a grid point Gijk (assuming the tree root is a box containing both Gijk and all triangles), I'd search for the closest leaf and compute the Euclidean distance to the triangle contained within (or if there's more than one, pick the). (Please, correct me if I got this wrong) The search should be O(log(n)), and if the user moves the mesh, an update would take O(n), where n is the number of triangles. So if m is the grid size, then an entire SDF computation would be O(m * n * log(n)) ? That doesn't look like an improvement against an O(n * m) brute force approach, but perhaps I've got the complexity wrong.</p></li>\n</ul>\n\n<p>I thought about combining multiple approaches, but it all seems very time consuming. I also thought of using the CGAL library, or perhaps refactoring it for the purposes of my project, but I find it quite difficult to understand the C++ code because of all the dependencies inside the library. \n Has anyone of you done something similar to this? What would you recommend?</p>\n\n<p>Thank you for all the insights.</p>\n"}, {"tags": ["typescript", "sinon", "stub"], "comments": [{"owner": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "edited": false, "score": 0, "creation_date": 1569422160, "post_id": 58100616, "comment_id": 102593380, "body": "Works quite well in <a href=\"https://stackblitz.com/edit/typescript-4yy5yr\" rel=\"nofollow noreferrer\">a Stackblitz</a>. Your version of TypeScript is quite old (we are currently at 3.6.3), so I would advise to update it."}, {"owner": {"reputation": 73, "user_id": 4743515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f3fde5136d7fb0d10ffd99a0eab981?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/4743515/mark"}, "reply_to_user": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "edited": false, "score": 0, "creation_date": 1569424285, "post_id": 58100616, "comment_id": 102594672, "body": "@frankie567 That&#39;s missing the key line on the bottom <code>stubParent.foos = [stubFoo];</code>. Thanks for the heads up about the TypeScript version."}, {"owner": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "edited": false, "score": 0, "creation_date": 1569425152, "post_id": 58100616, "comment_id": 102595180, "body": "Oh yeah, sorry, I&#39;ve missed that. Problem here is that <code>stubFoo</code> is of type <code>SinonStubbedInstance&lt;Foo&gt;</code>, which is not a sub-type of <code>Foo</code>, thus, not assignable. What you could do is to cast it <code>stubParent.foos = [&lt;Foo&gt;stubFoo]</code> ; not very elegant but, well, test setups can be cumbersomes."}, {"owner": {"reputation": 73, "user_id": 4743515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f3fde5136d7fb0d10ffd99a0eab981?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/4743515/mark"}, "reply_to_user": {"reputation": 1481, "user_id": 3864300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d21be1be28f98e985fd732dab88abc7e?s=128&d=identicon&r=PG", "display_name": "frankie567", "link": "https://stackoverflow.com/users/3864300/frankie567"}, "edited": false, "score": 0, "creation_date": 1569428001, "post_id": 58100616, "comment_id": 102596612, "body": "Unfortunately in this case it requires <code>stubParent.foos = [&lt;Foo&gt;&lt;unknown&gt;stubFoo]</code> because without the initial cast to <code>&lt;unknown&gt;</code> it still complains that the private property is not defined. If I make the member public though things just work, <code>SinonStubbedInstance&lt;Foo&gt;</code> is a valid sub-type of <code>Foo</code>."}], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 8764888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51313bc3cce81935b72c533c6ef48f4c?s=128&d=identicon&r=PG&f=1", "display_name": "Bonlou", "link": "https://stackoverflow.com/users/8764888/bonlou"}, "is_accepted": false, "score": 0, "last_activity_date": 1602107649, "creation_date": 1602107649, "answer_id": 64252850, "question_id": 58100616, "link": "https://stackoverflow.com/questions/58100616/when-using-sinonjs-in-typescript-private-properties-are-reported-as-missing/64252850#64252850", "title": "When using SinonJS in Typescript private properties are reported as missing", "body": "<p>There is actually a nicer workaround than force-casting your stub, <a href=\"https://github.com/sinonjs/sinon/issues/1963#issuecomment-497349920\" rel=\"nofollow noreferrer\">posted on github here</a>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import { createStubInstance, StubbableType, SinonStubbedInstance, SinonStubbedMember } from 'sinon';\n\nexport type StubbedClass&lt;T&gt; = SinonStubbedInstance&lt;T&gt; &amp; T;\n\nexport function createSinonStubInstance&lt;T&gt;(\n  constructor: StubbableType&lt;T&gt;,\n  overrides?: { [K in keyof T]?: SinonStubbedMember&lt;T[K]&gt; },\n): StubbedClass&lt;T&gt; {\n  const stub = createStubInstance&lt;T&gt;(constructor, overrides);\n  return stub as unknown as StubbedClass&lt;T&gt;;\n}\n</code></pre>\n<p>You can then use it as such:</p>\n<pre class=\"lang-js prettyprint-override\"><code>beforeEach(function () {\n  const stubFoo: StubbedClass&lt;Foo&gt; = createSinonStubInstance(Foo);\n  const stubParent: StubbedClass&lt;Parent&gt; = createSinonStubInstance(Parent);\n\n  stubParent.foos = [stubFoo]; // No more Tslint error here\n});\n</code></pre>\n<p>It worked for me on a different configuration, and bring all the autocompletion for both my classes and Sinon's stubbed instance.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11457053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uqvGu.jpg?s=128&g=1", "display_name": "Pevin", "link": "https://stackoverflow.com/users/11457053/pevin"}, "is_accepted": false, "score": 0, "last_activity_date": 1613633524, "creation_date": 1613633524, "answer_id": 66255464, "question_id": 58100616, "link": "https://stackoverflow.com/questions/58100616/when-using-sinonjs-in-typescript-private-properties-are-reported-as-missing/66255464#66255464", "title": "When using SinonJS in Typescript private properties are reported as missing", "body": "<p>You can do this for a quick work around:</p>\n<pre><code>stubParent.foos = [stubFoo as unknown as Foo];\n</code></pre>\n<p>I still haven't found any elegant way to solve this as of the moment of writing this.</p>\n"}], "owner": {"reputation": 73, "user_id": 4743515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71f3fde5136d7fb0d10ffd99a0eab981?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/4743515/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 613, "favorite_count": 0, "answer_count": 2, "score": 5, "last_activity_date": 1613633524, "creation_date": 1569421357, "last_edit_date": 1569421437, "question_id": 58100616, "link": "https://stackoverflow.com/questions/58100616/when-using-sinonjs-in-typescript-private-properties-are-reported-as-missing", "title": "When using SinonJS in Typescript private properties are reported as missing", "body": "<p>I'm trying to stub a class instance using <code>sinon.createStubInstance</code> but I'm getting an error stating that a private member variable is missing. Of course I can't explicitly set it either because it's a private member.</p>\n\n<p>Example classes:</p>\n\n<pre><code>class Foo {\n  private readonly bar: string;\n\n  constructor(bar: string) {\n    this.bar = bar;\n  }\n}\n\nclass Parent {\n  foos: Foo[];\n\n  constructor(foos: Foo[]) {\n    this.foos = foos;\n  }\n}\n</code></pre>\n\n<p>And in the test I'm writing a <code>beforeEach</code> block:</p>\n\n<pre><code>beforeEach(function () {\n  const stubFoo = sinon.createStubInstance(Foo);\n\n  const stubParent = sinon.createStubInstance(Parent);\n  stubParent.foos = [stubFoo]; // Tslint error here\n});\n</code></pre>\n\n<p>The Tslint error is:</p>\n\n<blockquote>\n  <p>Property 'bar' is missing in type 'SinonStubbedInstance' but\n  required in type 'Foo'</p>\n</blockquote>\n\n<p>For the record I'm using Typescript v3.0.3 and Sinon v7.4.1.</p>\n"}, {"tags": ["angularjs", "typescript"], "comments": [{"owner": {"reputation": 2447, "user_id": 4786273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d430245706eaa71e471c7b72eba6b78f?s=128&d=identicon&r=PG", "display_name": "Random", "link": "https://stackoverflow.com/users/4786273/random"}, "edited": false, "score": 0, "creation_date": 1569421865, "post_id": 58100363, "comment_id": 102593191, "body": "This is angularJS, not Angular."}, {"owner": {"reputation": 2447, "user_id": 4786273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d430245706eaa71e471c7b72eba6b78f?s=128&d=identicon&r=PG", "display_name": "Random", "link": "https://stackoverflow.com/users/4786273/random"}, "edited": false, "score": 0, "creation_date": 1569422265, "post_id": 58100363, "comment_id": 102593442, "body": "Indeed, every field in a Controller&#39;s constructor is expected to be injected by AngularJS. It looks like it is a double binded value, so it has nothing to do in the constructor&#39;s parameters. Why don&#39;t you simply initialize it to null (or empty list if your controller manages it correctly) ?"}], "owner": {"reputation": 21618, "user_id": 11755, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/5b9872f3076db04cb2ffb516091d80d0?s=128&d=identicon&r=PG", "display_name": "dagda1", "link": "https://stackoverflow.com/users/11755/dagda1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569437873, "creation_date": 1569420563, "last_edit_date": 1569437873, "question_id": 58100363, "link": "https://stackoverflow.com/questions/58100363/how-to-handle-initialization-of-class-members-in-angular-1-3-with-typescript-3", "title": "how to handle initialization of class members in angular 1.3 with typescript 3", "body": "<p>We have an awful 3rd party product that is tied to angular 1.3 (long story).</p>\n\n<p>How can I best handle initialisation of fields in typescript?  For example in this controller:</p>\n\n<pre><code>export class Controller {\n  // Local state\n  // choices: DropDown{}  // to make this non optional, I need to set strictPropertyInitialization to false,\n\n  constructor(public choices: DropDown[]) {}\n}\n\nexport function choiceListEditDirective(): IDirective {\n  return {\n    controller: Controller,\n    controllerAs: 'ctrl',\n    template,\n    restrict: 'E',\n    bindToController: true,\n    scope: {\n      choices: '='\n    }\n  };\n}\n</code></pre>\n\n<p>Because of <code>strict</code> and <code>strictPropertyInitialization</code>, tsc does not like having non initialised properties that angular will be setting.</p>\n\n<p>So I have 2 (maybe 1) choices, set <code>strictPropertyInitialization</code> to <code>false</code> in <code>tsconfig.json</code> or somehow use public field initialisation:</p>\n\n<pre><code>  constructor(public choices: DropDown[]) {}\n</code></pre>\n\n<p>But angular complains about this with the following error:</p>\n\n<p><code>[$injector:unpr] Unknown provider: choicesProvider &lt;- choices</code></p>\n\n<p>This is because angular must be looking for something to dependency inject.</p>\n\n<p>How can I best handle this considering I am stuck in an ancient version of angular (sadly).</p>\n"}, {"tags": ["angular", "typescript", "angular7", "xlsx", "sheetjs"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1569419591, "post_id": 58100013, "comment_id": 102591773, "body": "<code>console.log(workbook.SheetNames)</code>?"}, {"owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1569420032, "post_id": 58100013, "comment_id": 102592072, "body": "I tried to print Sheet names, even before that it shows the error. If i change type from <code>binary</code> to  <code>array</code> it prints the sheet name but prints empty array."}, {"owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1569420382, "post_id": 58100013, "comment_id": 102592307, "body": "Here is my stackblitz link  <a href=\"https://stackblitz.com/edit/angular-ybdrcg\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-ybdrcg</a>"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1569420522, "post_id": 58100013, "comment_id": 102592399, "body": "The stackblitz is Working! it show me two objects in the console"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1569420644, "post_id": 58100013, "comment_id": 102592452, "body": "You can share the sample excel, I think the problem is in Excel file"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1569420937, "post_id": 58100013, "comment_id": 102592639, "body": "The file is corrupted! unable to open it in Excel 2007"}, {"owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 1, "creation_date": 1569421478, "post_id": 58100013, "comment_id": 102592940, "body": "I think I got it working. It was the file, it was corrupted. Thanks for your help."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1569473501, "post_id": 58100013, "comment_id": 102609408, "body": "Most welcome..!"}], "owner": {"reputation": 703, "user_id": 8748279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ch2Ta.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/8748279/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1124, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569419812, "creation_date": 1569419500, "last_edit_date": 1569419812, "question_id": 58100013, "link": "https://stackoverflow.com/questions/58100013/cannot-read-property-0-of-undefined-while-reading-xls-file", "title": "Cannot read property &#39;0&#39; of undefined - While reading xls file", "body": "<p>I'm trying to read excel data in angular 7. Below is the code.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as XLSX from 'xlsx';\narrayBuffer: any;\nfile: File;\n\nincomingfile(event) {\n  let files = event.target.files;\n  this.file = files[0];\n}\n\nUpload() {\n  let fileReader = new FileReader();\n  fileReader.onload = (e) =&gt; {\n    this.arrayBuffer = fileReader.result;\n    var data = new Uint8Array(this.arrayBuffer);\n    var arr = new Array();\n    for (var i = 0; i != data.length; ++i) arr[i] = String.fromCharCode(data[i]);\n    var bstr = arr.join(\"\");\n    var workbook = XLSX.read(bstr, {\n      type: \"binary\"\n    });\n    var first_sheet_name = workbook.SheetNames[0];\n    var worksheet = workbook.Sheets[first_sheet_name];\n    console.log(XLSX.utils.sheet_to_json(worksheet, {\n      raw: true\n    }));\n  }\n\n  fileReader.readAsArrayBuffer(this.file);\n}\n</code></pre>\n\n<p>Below is the error:</p>\n\n<blockquote>\n  <p>core.js:15724 ERROR TypeError: Cannot read property '0' of undefined\n      at parse_xlml_xml (xlsx.js:15669)\n      at parse_xlml (xlsx.js:16052)\n      at Object.readSync [as read] (xlsx.js:20413)\n      at FileReader.fileReader.onload (app.component.ts:40)\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:391)\n      at Object.onInvoke (core.js:17299)\n      at ZoneDelegate.push../node_modules/zone.js/dist/zone.js.ZoneDelegate.invoke (zone.js:390)\n      at Zone.push../node_modules/zone.js/dist/zone.js.Zone.runGuarded (zone.js:161)\n      at FileReader. (zone.js:144)</p>\n</blockquote>\n\n<p>I saved a simple excel file with 3 rows and 3 columns. Excel file with .xls extension (excel 97-2003) workshhet and Excel Workbook ()*.xlsx . Both of them don't seem to work.\nPlease let me know if i'm missing anything. Thanks in advance.</p>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 1, "creation_date": 1569418015, "post_id": 58099479, "comment_id": 102590827, "body": "your question is not clear can you refine it. <code>what do you mean by &quot;top most manager of e4&quot;</code>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 5, "creation_date": 1569418026, "post_id": 58099479, "comment_id": 102590833, "body": "please add your try."}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1569418198, "post_id": 58099479, "comment_id": 102590915, "body": "&quot;<i>JSON object</i>&quot; - so, a javascript object?   JSON = string"}, {"owner": {"reputation": 320, "user_id": 5532217, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/84da3181a852ae4522f7f1e725c011ff?s=128&d=identicon&r=PG&f=1", "display_name": "Siege21x", "link": "https://stackoverflow.com/users/5532217/siege21x"}, "edited": false, "score": 0, "creation_date": 1569419433, "post_id": 58099479, "comment_id": 102591684, "body": "do you want to return the most parent (highest manager) or do you want the hierarchical architecture?"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1569420399, "post_id": 58099479, "comment_id": 102592316, "body": "This JSON has no parents, only siblings. And what do you mean by \u201cthe top\u201d?"}], "answers": [{"tags": [], "owner": {"reputation": 2060, "user_id": 6851836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3d881c8af1ff5dafe72b5d2ca3f256?s=128&d=identicon&r=PG", "display_name": "Hsuan Lee", "link": "https://stackoverflow.com/users/6851836/hsuan-lee"}, "is_accepted": false, "score": 3, "last_activity_date": 1569418845, "last_edit_date": 1569418845, "creation_date": 1569418264, "answer_id": 58099605, "question_id": 58099479, "link": "https://stackoverflow.com/questions/58099479/how-to-find-recursive-parent-in-typescript/58099605#58099605", "title": "How to find recursive parent in typescript", "body": "<pre><code>const sampleObject = [\n    {\n      employeeId: 1,\n      employeeName: 'E1',\n      managerId: null\n    }, {\n      employeeId: 2,\n      employeeName: 'E2',\n      managerId: 1\n    }, {\n      employeeId: 3,\n      employeeName: 'E3',\n      managerId: 1\n    }, {\n      employeeId: 4,\n      employeeName: 'E4',\n      managerId: 3\n    }\n]\n\nfunction getRootManager(id: number, fined: number[] = []): number {\n  const employee = sampleObject.find(e =&gt; e.employeeId === id);\n\n  // Prevent 'Maximum call stack size exceeded'\n  if (fined.indexOf(employee.managerId) !== -1) {\n    return employee.employeeId;\n  }\n\n  if (employee.managerId !== null) {\n    return getRootManager(employee.managerId, [...fined, employee.managerId])\n  } else {\n    return employee.employeeId;\n  }\n}\n\nconsole.log(getRootManager(4))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 3131918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffb5b9626e23dcabaab24e8689a964ef?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Bhave", "link": "https://stackoverflow.com/users/3131918/aditya-bhave"}, "is_accepted": false, "score": 1, "last_activity_date": 1569418536, "creation_date": 1569418536, "answer_id": 58099686, "question_id": 58099479, "link": "https://stackoverflow.com/questions/58099479/how-to-find-recursive-parent-in-typescript/58099686#58099686", "title": "How to find recursive parent in typescript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sampleObject = [{\r\n    'employeeId': 1,\r\n    employeeName: 'E1',\r\n    managerId: null\r\n  },\r\n  {\r\n    employeeId: 2,\r\n    employeeName: 'E2',\r\n    managerId: 1\r\n  },\r\n  {\r\n    employeeId: 3,\r\n    employeeName: 'E3',\r\n    managerId: 1\r\n  },\r\n  {\r\n    employeeId: 4,\r\n    employeeName: 'E4',\r\n    managerId: 3\r\n  }\r\n];\r\n\r\n\r\nlet findHierarchy = (emp) =&gt; {\r\n  let manager = null;\r\n\r\n  if (emp.managerId) {\r\n    var managerObj = sampleObject.find((o) =&gt; o.employeeId === emp.managerId);\r\n    manager = findHierarchy(managerObj);\r\n  }\r\n\r\n  emp.manager = manager;\r\n\r\n  return emp;\r\n}\r\n\r\nlet e = {\r\n  employeeId: 4,\r\n  employeeName: 'E4',\r\n  managerId: 3\r\n};\r\n\r\nlet output = findHierarchy(e);\r\n\r\nconsole.log(output);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 3, "last_activity_date": 1569418620, "creation_date": 1569418620, "answer_id": 58099713, "question_id": 58099479, "link": "https://stackoverflow.com/questions/58099479/how-to-find-recursive-parent-in-typescript/58099713#58099713", "title": "How to find recursive parent in typescript", "body": "<p>You could take an iterative approach with an object for the name/id relations and id/manager relations.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getTop(name) {\r\n    var top,\r\n        id = staff.name[name];\r\n\r\n    while (top = staff.manager[id]) id = top;\r\n\r\n    return id;\r\n}\r\n\r\nvar array = [{ employeeId: 1, employeeName: 'E1', managerId: null }, { employeeId: 2, employeeName: 'E2', managerId: 1 }, { employeeId: 3, employeeName: 'E3', managerId: 1 }, { employeeId: 4, employeeName: 'E4', managerId: 3 }],\r\n    staff = array.reduce((r, { employeeId, employeeName, managerId }) =&gt; {\r\n        r.name[employeeName] = employeeId;\r\n        r.manager[employeeId] = managerId;\r\n        return r;\r\n    }, { manager: {}, name: {} });\r\n    \r\nconsole.log(getTop('E4'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 3711899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7705f973d2a24dfbefb0ddce4115efec?s=128&d=identicon&r=PG&f=1", "display_name": "Thingamajig", "link": "https://stackoverflow.com/users/3711899/thingamajig"}, "is_accepted": false, "score": 2, "last_activity_date": 1569419234, "creation_date": 1569419234, "answer_id": 58099913, "question_id": 58099479, "link": "https://stackoverflow.com/questions/58099479/how-to-find-recursive-parent-in-typescript/58099913#58099913", "title": "How to find recursive parent in typescript", "body": "<p>Normally I'd ask you to add your attempt but I quite like doing recursive functions as it doesn't come up in my day job very often. I haven't added in the Typescript attributes, because I feel like it should be relatively simple to add a parameter type and return type once you make a type for <code>Employee</code>.</p>\n\n<pre><code>function findHighest(employee) {\n    const managerId = employee.managerId;\n\n    if(managerId) {\n        const managerObject = sampleObject.find(sample =&gt; sample.employeeId === managerId);\n        return findHighest(managerObject);\n    }\n\n    return employee;\n}\n\n</code></pre>\n\n<p>This function will take an employee object, find its managerId, if it has a managerId, it finds the corresponding employee object for that manager, and passes that back into itself. Otherwise if no managerId is found, it will return the employee object (which will be the top level manager object as opposed to the id because the managerId will always be null).</p>\n\n<p>Recursion can be a bit confusing at first, but I re-iterate that it would be better to see your attempt before asking on here. (you'd learn more!)</p>\n"}], "owner": {"reputation": 1055, "user_id": 2746601, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/BwPkx.jpg?s=128&g=1", "display_name": "Billy", "link": "https://stackoverflow.com/users/2746601/billy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1569423542, "creation_date": 1569417876, "last_edit_date": 1569423542, "question_id": 58099479, "link": "https://stackoverflow.com/questions/58099479/how-to-find-recursive-parent-in-typescript", "title": "How to find recursive parent in typescript", "body": "<p>Employee JSON object</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var sampleObject = [\n    {\n      employeeId: 1,\n      employeeName: 'E1',\n      managerId: null\n    }, {\n      employeeId: 2,\n      employeeName: 'E2',\n      managerId: 1\n    }, {\n      employeeId: 3,\n      employeeName: 'E3',\n      managerId: 1\n    }, {\n      employeeId: 4,\n      employeeName: 'E4',\n      managerId: 3\n    }\n]\n</code></pre>\n\n<p>In the typescript, how to find the recursive manager id to the top most until manager is null.</p>\n\n<p>Suppose, here I want to find the top most Manager of the E4.</p>\n\n<p>How to achieve that. Please suggest. Thanks. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 35803, "user_id": 3858469, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Lf9q4.png?s=128&g=1", "display_name": "Aravind", "link": "https://stackoverflow.com/users/3858469/aravind"}, "edited": false, "score": 0, "creation_date": 1569417322, "post_id": 58099303, "comment_id": 102590405, "body": "add your code for <code>DoeService</code>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1569417544, "post_id": 58099303, "comment_id": 102590546, "body": "Please add an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that replicates the issue. You can use <a href=\"https://stackblitz.com\" rel=\"nofollow noreferrer\">stackblitz.com</a> to create one and share the link."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10748850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ETTanOm-FWE/AAAAAAAAAAI/AAAAAAAAASc/Obfe8QdxRp4/photo.jpg?sz=128", "display_name": "John Havok", "link": "https://stackoverflow.com/users/10748850/john-havok"}, "edited": false, "score": 0, "creation_date": 1569488731, "post_id": 58099370, "comment_id": 102616092, "body": "exactly ! thanks you I transform doeComponent into doeDirective (dont need view) and call him in appComponent"}, {"owner": {"reputation": 584, "user_id": 6470337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1aecdfbfc42e2a7bca42ff5f4c1072?s=128&d=identicon&r=PG&f=1", "display_name": "Kushagra Saxena", "link": "https://stackoverflow.com/users/6470337/kushagra-saxena"}, "reply_to_user": {"reputation": 3, "user_id": 10748850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ETTanOm-FWE/AAAAAAAAAAI/AAAAAAAAASc/Obfe8QdxRp4/photo.jpg?sz=128", "display_name": "John Havok", "link": "https://stackoverflow.com/users/10748850/john-havok"}, "edited": false, "score": 0, "creation_date": 1569489046, "post_id": 58099370, "comment_id": 102616268, "body": "Glad I could help!"}], "tags": [], "owner": {"reputation": 584, "user_id": 6470337, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1aecdfbfc42e2a7bca42ff5f4c1072?s=128&d=identicon&r=PG&f=1", "display_name": "Kushagra Saxena", "link": "https://stackoverflow.com/users/6470337/kushagra-saxena"}, "is_accepted": true, "score": 0, "last_activity_date": 1569417514, "creation_date": 1569417514, "answer_id": 58099370, "question_id": 58099303, "link": "https://stackoverflow.com/questions/58099303/not-all-ngoninit-instructions-are-executed/58099370#58099370", "title": "Not all ngOnInit instructions are executed", "body": "<p>I think this is because the Angular is not rendering the DoeComponent beacause in your module the bootstrap component is <code>AppComponent</code> with selector <code>app-root</code> so if you want to run the <code>ngOnInit</code> of the DoeComponent use its selector in AppComponent or any other subsequent component. </p>\n"}], "owner": {"reputation": 3, "user_id": 10748850, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ETTanOm-FWE/AAAAAAAAAAI/AAAAAAAAASc/Obfe8QdxRp4/photo.jpg?sz=128", "display_name": "John Havok", "link": "https://stackoverflow.com/users/10748850/john-havok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "closed_date": 1569435168, "accepted_answer_id": 58099370, "answer_count": 1, "score": 0, "last_activity_date": 1569417514, "creation_date": 1569417292, "last_edit_date": 1569417440, "question_id": 58099303, "link": "https://stackoverflow.com/questions/58099303/not-all-ngoninit-instructions-are-executed", "closed_reason": "Not suitable for this site", "title": "Not all ngOnInit instructions are executed", "body": "<p><strong>Explain:</strong><br>\n 1. I have this: src/assets/js/runDoe.js  (runDoe contains a Immediately Invoked Function Expression)<br>\n 2. Body to my index.html (project in Angular):  </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n  &lt;app-root&gt;&lt;/app-root&gt;\n  &lt;app-doe&gt;&lt;/app-doe&gt;\n&lt;/body&gt;\n</code></pre>\n\n<ol start=\"3\">\n<li>In the component doe:</li>\n</ol>\n\n<pre><code>import ...\nimport {runDoe} from '../../assets/js/runDoe.js';\nexport class DoeComponent implements OnInit {\n\n  constructor(private doeService: DoeService) {console.log('constructor');}\n\n  ngOnInit() {\n    console.log('ngOnInit');\n    this.doeService.getDoe().subscribe(data =&gt; {\n      console.log(data);\n    });\n    runDoe();\n  }\n}\n</code></pre>\n\n<p><strong>Problematic:</strong><br>\nThe script is running correctly but console.log does not appear </p>\n\n<p><strong>Question</strong><br>\nWhy runDoe() works but absolutely no console.log is displayed</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-debugging", "cefsharp"], "comments": [{"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1569444884, "post_id": 58099034, "comment_id": 102603558, "body": "See <a href=\"https://magpcss.org/ceforum/viewtopic.php?f=6&amp;t=16182\" rel=\"nofollow noreferrer\">magpcss.org/ceforum/viewtopic.php?f=6&amp;t=16182</a>"}, {"owner": {"reputation": 3, "user_id": 12119100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8066300f78178317fff20c5d9d8f4e?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/12119100/koent-x"}, "reply_to_user": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1569571586, "post_id": 58099034, "comment_id": 102647774, "body": "Thanks @amaitland for the reply and the link. But I believe my issue is a different one: I do see the .ts files, that&#39;s all fine. As stated, the issue is that I don&#39;t see the .tsx files for my React components..."}, {"owner": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 1, "creation_date": 1569573953, "post_id": 58099034, "comment_id": 102648898, "body": "If you can reproduce the problem using version  75.1.142 then ask on <a href=\"https://magpcss.org/ceforum/index.php\" rel=\"nofollow noreferrer\">magpcss.org/ceforum/index.php</a> likely tsx files aren&#39;t supported by CEF currently."}, {"owner": {"reputation": 3, "user_id": 12119100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8066300f78178317fff20c5d9d8f4e?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/12119100/koent-x"}, "reply_to_user": {"reputation": 2690, "user_id": 4583726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b1e6a85e93097f34b96ee94173d332?s=128&d=identicon&r=PG&f=1", "display_name": "amaitland", "link": "https://stackoverflow.com/users/4583726/amaitland"}, "edited": false, "score": 0, "creation_date": 1571994600, "post_id": 58099034, "comment_id": 103430413, "body": "OK, thanks for the reply. I&#39;ll check my version and if I can reproduce with 75.1.142, I&#39;ll do as you say."}], "owner": {"reputation": 3, "user_id": 12119100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f8066300f78178317fff20c5d9d8f4e?s=128&d=identicon&r=PG&f=1", "display_name": "KoenT_X", "link": "https://stackoverflow.com/users/12119100/koent-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569416403, "creation_date": 1569416403, "question_id": 58099034, "link": "https://stackoverflow.com/questions/58099034/how-can-i-debug-typescript-code-tsx-files-running-in-a-cefsharp-browser-contr", "title": "How can I debug TypeScript code (.tsx files) running in a CEFSharp browser control using Visual Studio 2017?", "body": "<p>We are building a desktop app that run a React-based web app inside a CEFSharp browser window. The web app is written in TypeScript, using .tsx files for the React-based GUI components.</p>\n\n<p>When I open the devtools for the CEFSharp, I can see and open .ts (and the transpiled .js)  source code files, and I can set breakpoints too.</p>\n\n<p>--> However, for my React components I can see the .tsx files in the source files list, but when I click on them, an empty file shows up in the devtools (so obviously, I can't put breakpoints in the code...) The .map files are present.</p>\n\n<p>Note that when I run the web app outside of a CEFBRowser (not in a desktop application), I can perfectly debug also the .tsx files in Chrome's devtools.</p>\n\n<p>I have 2 Visual Studio solutions: one for the desktop application (a WinForms app), and another one for the web app (a TypeScript/React app).\nThe desktop app is coded to start a new process for IIS Express and load the web app page that was previously compiled to an output folder. The CEFSharp browser is created somewhere in the desktop app and opens the <a href=\"http://localhost:port\" rel=\"nofollow noreferrer\">http://localhost:port</a> page to show the web app in the desktop app.</p>\n\n<p>So:</p>\n\n<ol>\n<li>Is not being able to debug .tsx files a limitation of the devtools coming with CEFSharp?</li>\n<li>Is there a way to attach a Visual Studio debugger to the web app running in the  CEFSharp browser (so I can debug with Visual Studio instead)? Which process should I attach to?</li>\n</ol>\n\n<p>Thanks in advance for any help!\nKoen</p>\n"}, {"tags": ["typescript", "google-cloud-functions"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569417744, "post_id": 58098852, "comment_id": 102590667, "body": "Install the type packages for express and google-cloud, then import those types. It really isn&#39;t any different than any other 3rd party package. For packages like express that aren&#39;t written natively in typescript but have type definitions available you usually have to install them <a href=\"https://definitelytyped.org/\" rel=\"nofollow noreferrer\">separately</a>."}, {"owner": {"reputation": 93, "user_id": 3885574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99a4ec6542d37e3741a0aa0f27f4bef?s=128&d=identicon&r=PG", "display_name": "Zvika Badalov", "link": "https://stackoverflow.com/users/3885574/zvika-badalov"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569418227, "post_id": 58098852, "comment_id": 102590934, "body": "Thank you @JaredSmith. So you suggest that I import Express as well? I just don&#39;t understand why I need to import it if is not needed if you would be build it with JavaScript <a href=\"https://github.com/GoogleCloudPlatform/nodejs-docs-samples/blob/master/functions/helloworld/index.js\" rel=\"nofollow noreferrer\">like it shows here</a>"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1569419791, "post_id": 58098852, "comment_id": 102591907, "body": "Not express, the <i>type definitions for express</i>. Found <a href=\"https://www.npmjs.com/package/@types/express\" rel=\"nofollow noreferrer\">here</a>. As for why you&#39;d need the import, <i>you are trying to use two things that were not made to work together in unison</i>. You will probably have to do some work to fix the impedance mismatch at the seams, and the docs will be less valuable. Suggestion? Write it in JS first so you get it working with GCP, then worry about migrating to TS."}, {"owner": {"reputation": 93, "user_id": 3885574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99a4ec6542d37e3741a0aa0f27f4bef?s=128&d=identicon&r=PG", "display_name": "Zvika Badalov", "link": "https://stackoverflow.com/users/3885574/zvika-badalov"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1569422392, "post_id": 58098852, "comment_id": 102593517, "body": "@JaredSmith thank you so much for your help. It&#39;s a good starting point."}, {"owner": {"reputation": 4919, "user_id": 3399890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171944b3f88fd2fa4bc824b4b298de4e?s=128&d=identicon&r=PG&f=1", "display_name": "robsiemb", "link": "https://stackoverflow.com/users/3399890/robsiemb"}, "edited": false, "score": 0, "creation_date": 1570051897, "post_id": 58098852, "comment_id": 102796930, "body": "If you are using firebase to run your cloud functions, the firebase tools make using Typescript reasonably straightforward. (See: <a href=\"https://firebase.google.com/docs/functions/typescript\" rel=\"nofollow noreferrer\">firebase.google.com/docs/functions/typescript</a>).  This might also give you an idea for what is necessary with the regular google cloud functions without firebase."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3885574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99a4ec6542d37e3741a0aa0f27f4bef?s=128&d=identicon&r=PG", "display_name": "Zvika Badalov", "link": "https://stackoverflow.com/users/3885574/zvika-badalov"}, "edited": false, "score": 0, "creation_date": 1600294489, "post_id": 62600309, "comment_id": 113045882, "body": "Looks like this is the documented way according to the github repository <a href=\"https://github.com/GoogleCloudPlatform/functions-framework-nodejs/blob/master/docs/typescript.md\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/functions-framework-nodejs/bl&zwnj;&#8203;ob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2087, "user_id": 936812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d25d95f5c641f83b6a152471277c4d45?s=128&d=identicon&r=PG", "display_name": "Daniel M.", "link": "https://stackoverflow.com/users/936812/daniel-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1593193958, "creation_date": 1593193958, "answer_id": 62600309, "question_id": 58098852, "link": "https://stackoverflow.com/questions/58098852/how-to-define-a-google-cloud-function-with-typescript/62600309#62600309", "title": "How to define a Google Cloud Function with Typescript?", "body": "<p>Looks like the latest <code>@google-cloud/functions-framework</code> includes the function signatures now.</p>\n<pre><code>// Start writing Cloud Functions\n// https://cloud.google.com/functions/docs/writing/http\n\nimport { HttpFunction } from '@google-cloud/functions-framework/build/src/functions';\n\nexport const helloHttp: HttpFunction = (req, res) =&gt; {\n  res.send(`Hello World`);\n};\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 3885574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b99a4ec6542d37e3741a0aa0f27f4bef?s=128&d=identicon&r=PG", "display_name": "Zvika Badalov", "link": "https://stackoverflow.com/users/3885574/zvika-badalov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3065, "favorite_count": 1, "accepted_answer_id": 62600309, "answer_count": 1, "score": 2, "last_activity_date": 1593193958, "creation_date": 1569415848, "question_id": 58098852, "link": "https://stackoverflow.com/questions/58098852/how-to-define-a-google-cloud-function-with-typescript", "title": "How to define a Google Cloud Function with Typescript?", "body": "<p>I am trying to setup a NodeJS function using Google Cloud Function (GCF) in typescript. I am trying to be strict with my code which requires definition for all parameters in which case the <code>(req, res)</code> parameter needs to be define. </p>\n\n<p>I know that GCF uses Express under the hood but I don't think I need to import Express because of that. Are there any best practices or documentation that explains how to use typescript with GCF?</p>\n\n<p>I tried using the <code>@google-cloud/functions-framework</code> package and find there are any helpful interfaces or classes to use but I cannot determine what should be the starting point of the function.</p>\n\n<pre><code>import GCF from '@google-cloud/functions-framework';\n\nexport const startFunction = ((req: GCF.???, res: GCF.???)): void =&gt; {\n  // additional work done here\n}\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "comments": [{"owner": {"reputation": 4468, "user_id": 2098493, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7QRV8.jpg?s=128&g=1", "display_name": "Woppi", "link": "https://stackoverflow.com/users/2098493/woppi"}, "edited": false, "score": 1, "creation_date": 1569551726, "post_id": 58098810, "comment_id": 102641729, "body": "This question has already been resolved in an issue I opened at github <a href=\"https://github.com/ilearnio/module-alias/issues/74#issuecomment-535379630\" rel=\"nofollow noreferrer\">github.com/ilearnio/module-alias/issues/&hellip;</a> :)"}], "owner": {"reputation": 4468, "user_id": 2098493, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7QRV8.jpg?s=128&g=1", "display_name": "Woppi", "link": "https://stackoverflow.com/users/2098493/woppi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1498, "favorite_count": 2, "answer_count": 0, "score": 5, "last_activity_date": 1569415760, "creation_date": 1569415760, "question_id": 58098810, "link": "https://stackoverflow.com/questions/58098810/in-typescript-what-is-the-proper-config-to-make-module-alias-work-when-building", "title": "In TypeScript, what is the proper config to make module alias work when building the dist folder?", "body": "<p>I was experimenting on module alias for typescript and it works during <code>dev</code>, but when I try to build it I always get cannot find module because it is pointing to <code>src</code> file even on build. </p>\n\n<p>I tried replacing <code>dist</code> to <code>moduleAliases</code> in <code>package.json</code>. It compiled, however, when I run <code>yarn run dev</code>, it is using the <code>dist</code> folder source code instead of my <code>src</code>. I also tried introducing <code>tsconfig-paths</code> to my <code>dev</code> e.g <code>\"dev\": \"NODE_ENV=development ts-node -r tsconfig-paths/register ./src/index.ts\",</code> but the system is still reading the <code>moduleAliases</code>. Maybe someone here have encountered similar issue while doing module paths.</p>\n\n<p>Here is my project structure:</p>\n\n<pre><code>|-project\n|---src\n|-------index.ts  // (where I put require('module-alias/register');)\n|-------app (business logic) // where I start using modules e.g import config from '@config/index.config';\n|-----------index.ts\n|-----------routes\n|-------config\n|---dist\n|---node_modules\n|---.env\n|---.eslintrc\n|---package.json\n|---tsconfig.json\n|---yarn.lock\n</code></pre>\n\n<p>Snippet of my <code>package.json</code></p>\n\n<pre><code>\"main\": \"dist/index.js\",\n\"types\": \"dist/index.d.ts\",\n\"scripts\": {\n  \"dev\": \"NODE_ENV=development ts-node-dev --respawn --transpileOnly ./src/index.ts\",\n  \"prod\": \"yarn run build &amp;&amp; node -r ./dist/index.js\",\n  \"build\": \"NODE_ENV=production yarn run build-ts\",\n  \"build-ts\": \"tsc -p .\",\n},  \n\"_moduleAliases\": {\n  \"@config\": \"./src/config\",\n  \"@routes\": \"./src/app/routes\",\n},\n</code></pre>\n\n<p>My <code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"incremental\": true,\n    \"target\": \"es6\",\n    \"module\": \"commonjs\",\n    \"declaration\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"./dist\",\n    \"removeComments\": true,\n    \"strict\": true,\n    \"strictNullChecks\": true,\n    \"strictFunctionTypes\": true,\n    \"noUnusedLocals\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n      \"@config/*\": [\"config/*\"],\n      \"@routes/*\": [\"app/routes/*\"],\n    },\n    \"allowSyntheticDefaultImports\": true, \n    \"esModuleInterop\": true \n  },\n  \"include\": [\"src/**/*\"],\n  \"exclude\": [\"node_modules\", \"dist\"]\n}\n</code></pre>\n\n<p>My <code>.eslintrc</code> (not sure if it matters or relevant to this problem)</p>\n\n<pre><code>{\n  \"extends\": [\"airbnb-typescript/base\"],\n  \"rules\": {\n    \"import/prefer-default-export\": 0\n  },\n  \"settings\": {\n    \"import/resolver\": {\n      \"babel-module\": {}\n    }\n  }\n}\n</code></pre>\n\n<p>How I use it</p>\n\n<pre><code>import config from '@config/index.config';\n</code></pre>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["reactjs", "typescript", "eslint"], "comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1569415331, "post_id": 58098637, "comment_id": 102589159, "body": "there should be tslint.json if not you try creating one with rules you want in there"}, {"owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1569415684, "post_id": 58098637, "comment_id": 102589390, "body": "@Rikin Do I need to put an entry into the <code>package.json</code> to reference this file or is it supposed to find it automatically? I tried making a <code>tslint.json</code> in my app&#39;s root with the rules section from above and it doesn&#39;t seem to work."}, {"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1569415745, "post_id": 58098637, "comment_id": 102589423, "body": "Its supposed to find automatic, its handled by underlying webpack. If you used <code>create-react-app</code> it should have already created one for you. I just did that and it did it for me"}], "answers": [{"tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": false, "score": 2, "last_activity_date": 1569415935, "creation_date": 1569415935, "answer_id": 58098878, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars/58098878#58098878", "title": "Typescript eslint disable no-unused-vars", "body": "<p>Since you used <code>create-react-app my-app --typescript</code> there should already be <code>tsconfig.json</code> created for you in your <code>my-app/</code></p>\n\n<p>In your <code>tsconfig.json</code> you can add rules for your typescript compiler.</p>\n\n<pre><code>{\n  \"extends\": [...],\n  \"compilerOptions\": {\n    ...\n  },\n  \"include\": [...],\n  \"rules\": {\n    ...\n    \"no-unused-vars\": \"off\"\n    ...\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "edited": false, "score": 0, "creation_date": 1570511457, "post_id": 58274165, "comment_id": 102926642, "body": "Thanks for clearing things up, I tried both of your suggestions and I still get the messages, do I need to do anything to get the compiler to recognize the changes or an area that might be overriding this?"}, {"owner": {"reputation": 15314, "user_id": 150016, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kruqI.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/150016/tom"}, "reply_to_user": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "edited": false, "score": 0, "creation_date": 1570536247, "post_id": 58274165, "comment_id": 102936744, "body": "Are you running eslint from the cmdline or just using it in your IDE?  When I&#39;m having problems I try to get it working from the cmdline first."}, {"owner": {"reputation": 1481, "user_id": 4438463, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1a0f16ea396090bd329422805329b1ba?s=128&d=identicon&r=PG&f=1", "display_name": "Touloudou", "link": "https://stackoverflow.com/users/4438463/touloudou"}, "edited": false, "score": 0, "creation_date": 1574098821, "post_id": 58274165, "comment_id": 104101545, "body": "Thanks! I just wasted a lot of time before reading your answer and realizing that I was modifying the eslint version instead of the typescript-eslint version..."}, {"owner": {"reputation": 1414, "user_id": 1237733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I1p4r.jpg?s=128&g=1", "display_name": "Oleksandr Yefremov", "link": "https://stackoverflow.com/users/1237733/oleksandr-yefremov"}, "edited": false, "score": 0, "creation_date": 1607967658, "post_id": 58274165, "comment_id": 115432414, "body": "Now that I know that there is eslint and there is typescript-eslint, it all makes sense (which is not super obvious when reading the docs and sample configs). Thanks for the hint"}], "tags": [], "owner": {"reputation": 15314, "user_id": 150016, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kruqI.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/150016/tom"}, "is_accepted": false, "score": 10, "last_activity_date": 1570468041, "creation_date": 1570468041, "answer_id": 58274165, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars/58274165#58274165", "title": "Typescript eslint disable no-unused-vars", "body": "<p>I think there is some confusion.</p>\n\n<p>Both the question and the only answer suggest putting a rules section in the tsconfig.json.  This is something I've never heard of, and it is not mentioned in the docs or in the official schema.<br>\n<a href=\"https://www.typescriptlang.org/docs/handbook/tsconfig-json.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/tsconfig-json.html</a></p>\n\n<p>Also, the question is about disabling the rule in eslint so the rule change should go in the .eslintrc.json file (or the eslintConfig section in the package.json as considered in the question).</p>\n\n<p>But this is typescript and typescript-eslint so the rule should be:  </p>\n\n<blockquote>\n  <p>\"@typescript-eslint/no-unused-vars\" : \"off\"</p>\n</blockquote>\n\n<p>And the hacky solution proposed in an answer that someone linked to needs to be changed to (note that answer is about eslint for js, not ts).</p>\n\n<p>/* eslint-disable @typescript-eslint/no-unused-vars */</p>\n\n<p>And those solutions work for me using...\n+-- eslint@6.5.1<br>\n+-- @typescript-eslint/eslint-plugin@2.3.2<br>\n+-- @typescript-eslint/parser@2.3.2  </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13219642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee50b802925d6ba8247ff88ba03a75b3?s=128&d=identicon&r=PG&f=1", "display_name": "Palak Tiwari", "link": "https://stackoverflow.com/users/13219642/palak-tiwari"}, "is_accepted": false, "score": 1, "last_activity_date": 1585995870, "creation_date": 1585995870, "answer_id": 61026707, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars/61026707#61026707", "title": "Typescript eslint disable no-unused-vars", "body": "<p>Inside eslintrc.json add \"rules\" inside that you just have to write  no-unused-vars to 0.</p>\n\n<p>\"rules\":{\n     \"no-unused-vars\":0\n}</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7641602, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3ySaQTrcSGg/AAAAAAAAAAI/AAAAAAAAAA0/ypxYdOAzqi4/photo.jpg?sz=128", "display_name": "Makatumba", "link": "https://stackoverflow.com/users/7641602/makatumba"}, "is_accepted": false, "score": 0, "last_activity_date": 1603734716, "creation_date": 1603734716, "answer_id": 64542395, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars/64542395#64542395", "title": "Typescript eslint disable no-unused-vars", "body": "<p>I had a similar problem. Here is my solution:</p>\n<ol>\n<li>rename <code>.eslintrc[.json]</code> to <code>.eslintrc.js</code></li>\n<li>add <code>module.exports = </code> infront of previous Json object. So <code>.eslintrc.js</code> looks like that:</li>\n</ol>\n<pre><code>module.exports = { \n    ...\n    &quot;rules&quot;: {...},\n    ... \n}\n</code></pre>\n<ol start=\"3\">\n<li>set <code>&quot;@typescript-eslint/no-unused-vars&quot;</code> rule depending on your current environment. This can be achieved by checking the <code>process.env.NODE_ENV</code> variable. My choice was to get an error in production and be warned in other cases.  The snippet looks like this:</li>\n</ol>\n<pre><code>module.exports = { \n    ...\n    &quot;rules&quot;: {\n         ...\n         &quot;@typescript-eslint/no-unused-vars&quot;: process.env.NODE_ENV === &quot;production&quot; ? &quot;error&quot; : &quot;warn&quot;\n    },\n    ... \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38, "user_id": 15407154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jg9CT.jpg?s=128&g=1", "display_name": "tokochi", "link": "https://stackoverflow.com/users/15407154/tokochi"}, "is_accepted": false, "score": 0, "last_activity_date": 1618682441, "creation_date": 1618682441, "answer_id": 67141372, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars/67141372#67141372", "title": "Typescript eslint disable no-unused-vars", "body": "<p>if you are using Create-react-app, there is no need to install anything or Eject, you just need to go to <code>/node_modules/react-scripts/config/webpack.config.dev.js.</code>\non &quot;new ESLintPlugin&quot; rules just add :</p>\n<pre><code>'react/jsx-uses-react': 'error',\n'react/jsx-uses-vars': 'error',\n'no-unused-vars': 0\n</code></pre>\n"}], "owner": {"reputation": 7573, "user_id": 1601882, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5f4e8acebc2b429de1f513f4d03ba07b?s=128&d=identicon&r=PG", "display_name": "Andy Braham", "link": "https://stackoverflow.com/users/1601882/andy-braham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19989, "favorite_count": 0, "answer_count": 5, "score": 11, "last_activity_date": 1618682441, "creation_date": 1569415210, "last_edit_date": 1592644375, "question_id": 58098637, "link": "https://stackoverflow.com/questions/58098637/typescript-eslint-disable-no-unused-vars", "title": "Typescript eslint disable no-unused-vars", "body": "<p>I am working on a Typescript React project and I usually put placeholder variables into the code so everything is laid out until I get to implementing everything. This leads to a bunch of <code>eslint no-unused-vars</code> errors and makes finding real errors a challage.</p>\n<p>How can I disable this globally until I am ready for it? I used <code>create-react-app my-app --typescript</code> and don't want to eject the project but not sure how to disable this warning.</p>\n<p>I noticed there is a <code>eslintConfig</code> section in the <code>package.json</code> so I tried to turn off the error there but it doesn't seem to work, is there a command I need to run after editing the <code>package.json</code> or is my syntax incorrect?</p>\n<pre><code>&quot;eslintConfig&quot;: {\n    &quot;extends&quot;: &quot;react-app&quot;,\n    &quot;rules&quot;: {\n      &quot;no-unused-vars&quot;: &quot;off&quot;\n    }\n },\n</code></pre>\n<h2>Update</h2>\n<hr />\n<p>(removed <code>tsconfig.json</code> reference)</p>\n<p>I updated my <code>package.json</code> and keep getting the errors.</p>\n<pre><code>&quot;eslintConfig&quot;: {\n    &quot;extends&quot;: &quot;react-app&quot;,\n    &quot;rules&quot;: {\n      &quot;@typescript-eslint/no-unused-vars&quot;: &quot;off&quot;\n    }\n  },\n</code></pre>\n<p>I tried moving the rules into a <code>.eslintrc.json</code> file in the root of the project and still doesn't seem to turn this off.</p>\n<p>The only thing that seems to work is putting <code>// eslint-disable-line @typescript-eslint/no-unused-vars</code> after the variable.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569415122, "post_id": 58098437, "comment_id": 102589002, "body": "why don&#39;t you get the data in child directly bcs it seems you not using that data in parent anywhere so instead of getting data in parent and pass it to child directly call tha service in child"}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569415204, "post_id": 58098437, "comment_id": 102589063, "body": "Can you show how? Will be nice"}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569415369, "post_id": 58098437, "comment_id": 102589189, "body": "oke, but the child is just a presentation view. I mean via the pattern smart-presentation components. that is not the correct way to do. What I have learned is that a presentation view will be not aware of the the data is comming from. Or am I wrong?"}, {"owner": {"reputation": 477, "user_id": 8249695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kmwu.jpg?s=128&g=1", "display_name": "Ricardo Ferreira", "link": "https://stackoverflow.com/users/8249695/ricardo-ferreira"}, "edited": false, "score": 0, "creation_date": 1569415645, "post_id": 58098437, "comment_id": 102589367, "body": "Check for the changes in the &#39;DossierCorrespondenceListComponent&#39; to make sure you receive the data you expect. If yes, probably some template logic and/or style is blocking the data visibility."}, {"owner": {"reputation": 477, "user_id": 8249695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kmwu.jpg?s=128&g=1", "display_name": "Ricardo Ferreira", "link": "https://stackoverflow.com/users/8249695/ricardo-ferreira"}, "edited": false, "score": 1, "creation_date": 1569415866, "post_id": 58098437, "comment_id": 102589498, "body": "Answering you question to use an Observable without subscribe manually is using the async pipe as you do to get the &#39;correspondenceEntries$&#39; in the DossierCorrespondenceComponent&#39;s template. Using this approach angular subscribe and unsubscribe automatically."}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1569415871, "post_id": 58098437, "comment_id": 102589504, "body": "Thank you. But what do you mean. The DossierCorrespondenceListComponent is now empty:export class DossierCorrespondenceListComponent implements OnInit {    @Input()   correspondenceEntries: DossierEntry[];    @Input() showingSingle;    constructor() { }    ngOnInit() {   }  }"}, {"owner": {"reputation": 477, "user_id": 8249695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kmwu.jpg?s=128&g=1", "display_name": "Ricardo Ferreira", "link": "https://stackoverflow.com/users/8249695/ricardo-ferreira"}, "edited": false, "score": 0, "creation_date": 1569415929, "post_id": 58098437, "comment_id": 102589544, "body": "use the ngOnChanges(changes) { console.log(changes)}."}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "reply_to_user": {"reputation": 477, "user_id": 8249695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4kmwu.jpg?s=128&g=1", "display_name": "Ricardo Ferreira", "link": "https://stackoverflow.com/users/8249695/ricardo-ferreira"}, "edited": false, "score": 0, "creation_date": 1569416048, "post_id": 58098437, "comment_id": 102589611, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199961/discussion-between-mightycode-newton-and-ricardo-ferreira\">continue this discussion in chat</a>."}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1569416078, "post_id": 58098437, "comment_id": 102589630, "body": "I edit the post"}], "answers": [{"comments": [{"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1569419987, "post_id": 58099571, "comment_id": 102592040, "body": "I tried your recommondation. But I dont see anyting in the view. It is very strange. Because the data is loaded. I see it in the console. But not in the view."}, {"owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "reply_to_user": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1569424246, "post_id": 58099571, "comment_id": 102594640, "body": "I&#39;m not sure where the problem lies within your application. I have added a link in my answer to a StackBlitz example that can hopefully help you track down your issue."}, {"owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "edited": false, "score": 0, "creation_date": 1569484428, "post_id": 58099571, "comment_id": 102613933, "body": "I posted the solution."}], "tags": [], "owner": {"reputation": 4106, "user_id": 3634032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PDCW3.jpg?s=128&g=1", "display_name": "Sam Herrmann", "link": "https://stackoverflow.com/users/3634032/sam-herrmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1569424143, "last_edit_date": 1569424143, "creation_date": 1569418168, "answer_id": 58099571, "question_id": 58098437, "link": "https://stackoverflow.com/questions/58098437/how-to-use-an-observable-without-subcribe-in-angular/58099571#58099571", "title": "How to use an observable without subcribe in Angular", "body": "<p>I think what you are looking for is the <code>as</code> keyword in the <code>*ngIf</code> directive that you can use as follows:</p>\n\n<pre><code>...\n&lt;ng-container *ngIf=\"(correspondenceEntries$ | async) as correspondenceEntries\"&gt;\n  ...\n  &lt;app-dossier-correspondence-list [correspondenceEntries]=\"correspondenceEntries\" &gt;&lt;/app-dossier-correspondence-list&gt;\n  ...\n&lt;/ng-container&gt;\n...\n\n</code></pre>\n\n<p>The <code>as</code> keyword stores the value of what is before it (in this case the value emitted by the Observable and extracted by the async pipe) in the variable that follows it. Unfortunately <a href=\"https://github.com/angular/angular/issues/15280#issuecomment-532002162\" rel=\"nofollow noreferrer\">the <code>as</code> keyword is currently (i.e. Angular 8) only available within the <code>*ngIf</code> directive</a>, so you have to use <code>*ngIf</code> even if you don't need the conditional template rendering aspect of it.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-yt9gnw\" rel=\"nofollow noreferrer\">StackBlitz Example</a></p>\n"}, {"tags": [], "owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "is_accepted": false, "score": 0, "last_activity_date": 1569520532, "last_edit_date": 1569520532, "creation_date": 1569484384, "answer_id": 58112031, "question_id": 58098437, "link": "https://stackoverflow.com/questions/58098437/how-to-use-an-observable-without-subcribe-in-angular/58112031#58112031", "title": "How to use an observable without subcribe in Angular", "body": "<p>Ok, I solved like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ng-container *ngIf=\"correspondenceEntries\"&gt;\n    &lt;app-dossier-correspondence-list [correspondenceEntries]=\"correspondenceEntries\"&gt; &lt;/app-dossier-correspondence-list&gt;\n  &lt;/ng-container&gt;\n\n  &lt;ng-container *ngIf=\"attachmentEntries\"&gt;\n    &lt;app-dossier-correspondence-attachments\n      [attachmentEntries]=\"attachmentEntries\"\n    &gt;&lt;/app-dossier-correspondence-attachments&gt;\n  &lt;/ng-container&gt;\n</code></pre>\n\n<p>So thank you all for you effort</p>\n"}], "owner": {"reputation": 983, "user_id": 7713770, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/91cd7c2df5d23b2b3a4c95ab87b7798c?s=128&d=identicon&r=PG&f=1", "display_name": "mightycode Newton", "link": "https://stackoverflow.com/users/7713770/mightycode-newton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569520532, "creation_date": 1569414624, "last_edit_date": 1569419608, "question_id": 58098437, "link": "https://stackoverflow.com/questions/58098437/how-to-use-an-observable-without-subcribe-in-angular", "title": "How to use an observable without subcribe in Angular", "body": "<p>I have an Angular 8 application and I am using a API call like this:</p>\n\n<pre><code>getDossierEntry(patientUUID: string,   type: String = '' ): Observable&lt;DossierEntry[]&gt; {\n  const entryType = type === '' ? 'all' : 'type/' + type;\n  return this.http.get&lt;DossierEntry[]&gt;(`${this.baseUrl}/${patientUUID}/DossierEntry/` + entryType);\n}\n\n</code></pre>\n\n<p>And I have a parent component like this:</p>\n\n<pre><code>export class DossierCorrespondenceComponent implements OnInit {\n\n  correspondenceEntries$: Observable&lt;DossierEntry[]&gt;;\n\n  @Input() allCorrespondence: Array&lt;DossierEntry&gt;;\n  @Input() correspondenceEntries: Array&lt;DossierEntry&gt;;\n  @Input() attachmentEntries: Array&lt;DossierEntry&gt;;\n\n  message = '';\n  emptyMessageCorrespondentie = 'Geen correspondentie.';\n  errorMessageConnection = 'Er ging iets mis met de connectie. Probeer over enkele minuten nogmaals.';\n\n  correspondenceLoaded = false;\n\n  showingSingle = false;\n\n  single: DossierEntry;\n\n  constructor(\n    private documentCorrespondeceService: DocumentCorrespondenceService,\n\n    private authService: AuthService  ) {}\n\n  ngOnInit() {\n\n    this.authService.loginStatus().subscribe(user =&gt; {\n      const UUID = user.profile.participant;\n\n    this.documentCorrespondeceService.getDossierEntry(UUID, 'correspondence').subscribe(result =&gt; {\n        this.handleCorrespondenceLoad(result), (this.correspondenceLoaded = true);\n      }, () =&gt; (this.message = this.errorMessageConnection));\n    });\n  }\n\n\n   handleCorrespondenceLoad(result: any) {\n    if (result.length === 0) {\n      this.message = this.emptyMessageCorrespondentie;\n      return;\n    }\n    this.allCorrespondence = result;\n    this.attachmentEntries = [];\n    this.correspondenceEntries = [];\n\n    const groups = _.groupBy(result, 'type');\n    this.correspondenceEntries = groups.correspondence;\n    this.attachmentEntries = groups.attachments;\n  }\n}\n</code></pre>\n\n<p>And the html template looks like this:</p>\n\n<pre><code>&lt;app-vital10-page [noTopBar]=\"true\"&gt;\n  &lt;h2 class=\"dossier-page-header\"&gt;Correspondentie&lt;/h2&gt;\n\n  &lt;p class=\"data-entry\" *ngIf=\"!allCorrespondence\"&gt;{{ message }}&lt;/p&gt;\n  &lt;app-is-loading *ngIf=\"!correspondenceLoaded\" message=\"Correspondentie wordt geladen\"&gt;&lt;/app-is-loading&gt; \n\n  &lt;app-dossier-correspondence-list [correspondenceEntries] = \"correspondenceEntries$ | async\" &gt;&lt;/app-dossier-correspondence-list&gt;\n  &lt;app-dossier-correspondence-item\n    [item]=\"single\"\n    (goBack)=\"goBack($event)\"\n    *ngIf=\"showingSingle\"&gt;\n  &lt;/app-dossier-correspondence-item&gt;\n&lt;/app-vital10-page&gt;\n\n</code></pre>\n\n<p>Then I have an child component like this:</p>\n\n<pre><code>export class DossierCorrespondenceListComponent implements OnInit {\n\n  @Input()\n  correspondenceEntries: DossierEntry[];\n\n  @Input() showingSingle;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n</code></pre>\n\n<p>and the template looks like this:</p>\n\n<pre><code>\n&lt;div *ngIf=\"!showingSingle  &amp;&amp; correspondenceEntries &amp;&amp; correspondenceEntries.length &gt; 0;\"&gt;\n  &lt;div class=\"main-row main-row-dossier\"&gt;\n    &lt;section class=\"data-entry\"&gt;\n      &lt;h3 class=\"dossier-header\"&gt;Algemeen&lt;/h3&gt;\n      &lt;table class=\"dossier-table\" *ngIf=\"correspondenceEntries  else loadingCorrespondenceEntires \"&gt;\n        &lt;thead class=\"dossier-tableheader\"&gt;\n          &lt;tr&gt;\n            &lt;th class=\"dossier-tablehead fixed-one-fifth\"&gt;Datum&lt;/th&gt;\n            &lt;th class=\"dossier-tablehead fixed-four-fifths\"&gt;Onderwerp&lt;/th&gt;\n          &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody class=\"dossier-tablebody\"&gt;\n          &lt;tr class=\"dossier-correspondencerow\" *ngFor=\"let entry of correspondenceEntries; let i = index\" (click)=\"gotoItem(i, entry.type)\"&gt;\n            &lt;td&gt;{{ entry.date | date:\"dd-MM-y\" }}&lt;/td&gt;\n            &lt;td&gt;{{ entry.name }}&lt;/td&gt;\n          &lt;/tr&gt;\n        &lt;/tbody&gt;\n      &lt;/table&gt;\n    &lt;/section&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;ng-template #loadingCorrespondenceEntires&gt;\n  &lt;div&gt;..Loading &lt;/div&gt;\n&lt;/ng-template&gt;\n\n\n</code></pre>\n\n<p>But now the data of the child component is not visible in the Parent component. But The correct data is loaded. Because If I do a console.log on this :</p>\n\n<pre><code> this.correspondenceEntries = groups.correspondence;\n    this.attachmentEntries = groups.attachments;\n</code></pre>\n\n<p>I see the correct arrays.But not in the view(htm file)</p>\n\n<p>The problem is with this:</p>\n\n<pre><code>correspondenceEntries$: Observable&lt;DossierEntry[]&gt;;\n\n</code></pre>\n\n<p>So my question is , how to pass the observable with this:</p>\n\n<pre><code> this.authService.loginStatus().subscribe(user =&gt; {\n      const UUID = user.profile.participant;\n\n    this.documentCorrespondeceService.getDossierEntry(UUID, 'correspondence').subscribe(result =&gt; {\n        this.handleCorrespondenceLoad(result), (this.correspondenceLoaded = true);\n      }, () =&gt; (this.message = this.errorMessageConnection));\n    });\n  }\n</code></pre>\n\n<p>So that you dont have to use the subscribe method:</p>\n\n<pre><code>.subscribe(result =&gt; {\n        this.handleCorrespondenceLoad(result), (this.correspondenceLoaded = true);\n      }, () =&gt; (this.message = this.errorMessageConnection));\n</code></pre>\n\n<p>And that you will see the data in the view</p>\n\n<p>Thank you.</p>\n\n<p>So I want to do this:</p>\n\n<pre><code>ngOnInit() {\n\n    this.authService.loginStatus().subscribe(user =&gt; {\n      const UUID = user.profile.participant;\n\n this.correspondenceEntries$ =   this.documentCorrespondeceService.getDossierEntry(UUID, 'correspondence').subscribe(result =&gt; {\n        this.handleCorrespondenceLoad(result), (this.correspondenceLoaded = true);\n      }, () =&gt; (this.message = this.errorMessageConnection));\n    });\n  }\n\n</code></pre>\n\n<p>But of course that doesn't work. But I don't know how to do it others?</p>\n\n<p>So this is the output:</p>\n\n<pre><code>dossier-corresponden\u2026ist.component.ts:21 \n{correspondenceEntries: SimpleChange}\ncorrespondenceEntries: SimpleChange\ncurrentValue: null\nfirstChange: true\npreviousValue: undefined\n</code></pre>\n\n<p>oke, if  I do this:</p>\n\n<pre><code>&lt;app-vital10-page [noTopBar]=\"true\"&gt;\n  &lt;h2 class=\"dossier-page-header\"&gt;Correspondentie&lt;/h2&gt;\n\n  &lt;p class=\"data-entry\" *ngIf=\"!allCorrespondence\"&gt;{{ message }}&lt;/p&gt;\n\n\n&lt;ng-container *ngIf=\"(correspondenceEntries$ | async) as correspondenceEntries\"&gt;\n\n  &lt;app-dossier-correspondence-list [correspondenceEntries]=\"correspondenceEntries\" &gt;&lt;/app-dossier-correspondence-list&gt;\n\n&lt;/ng-container&gt;\n\n\n  &lt;app-dossier-correspondence-item\n    [item]=\"single\"\n    (goBack)=\"goBack($event)\"\n    *ngIf=\"showingSingle\"&gt;\n  &lt;/app-dossier-correspondence-item&gt;\n&lt;/app-vital10-page&gt;\n</code></pre>\n\n<p>then still no output in view. But I get this in console:</p>\n\n<pre><code>(13)\u00a0[{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n</code></pre>\n\n<p>But I see this:</p>\n\n<pre><code>currentValue: null\n</code></pre>\n\n<p>But if I do this:</p>\n\n<pre><code>ngOnInit() {\n\n    console.log(this.correspondenceEntries$);\n\n    this.authService.loginStatus().subscribe(user =&gt; {\n      const UUID = user.profile.participant;\n\n  this.correspondenceEntries$ =    this.documentCorrespondeceService.getDossierEntry(UUID, 'correspondence')\n    });\n  }\n</code></pre>\n\n<p>Then I see the items in the view.</p>\n\n<p>But so I removed all this:</p>\n\n<pre><code>.subscribe(result =&gt; {\n        this.handleCorrespondenceLoad(result), (this.correspondenceLoaded = true);\n      }, () =&gt; (this.message = this.errorMessageConnection));\n\n</code></pre>\n\n<p>So is this correct?</p>\n\n<p>No, this is not correct. Because now it will be one big list. ANd not two seperated lists(arrays)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1569412765, "post_id": 58097817, "comment_id": 102587561, "body": "The code as posted does not error in the latest version <a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABABwE5wCYggUwBQCUAXIgIKqoCGAngDwDaYIAtgEY6oA0iTbHAugD5EAbwBQiRKhxQQqJPXoAGbgEZ+3egCZuAZn78A3GIC+YsaEiwEiKFTABnYHFTM8MMMhBQS5KnUYWdi4eIIFBYjIKGgZeYO448NEJKRk5JA8vKAA6ZkpkPAAPakQAXmF6YuV+RABqRFVuKvU6hv4CYzMxCAQHOAAbHGz+uABzPDtKR2dXPDRMbHwCZcMgA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}, {"owner": {"reputation": 1571, "user_id": 1814493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ddyxT.gif?s=128&g=1", "display_name": "Paflow", "link": "https://stackoverflow.com/users/1814493/paflow"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1569412869, "post_id": 58097817, "comment_id": 102587620, "body": "Interesting! I use 3.1.1"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1569412909, "post_id": 58097817, "comment_id": 102587646, "body": "I think I saw an improvement related to this in a version after 3.1"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1569412944, "post_id": 58097817, "comment_id": 102587674, "body": "You can use an explcit annotation <code>return input.map((xy): [number, number] =&gt; [xy[0] + 1, xy[1] + 1]);</code>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569412950, "post_id": 58097817, "comment_id": 102587679, "body": "Yeah, switching the playground to version <code>3.1.6</code> does reproduce this error."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1569413055, "creation_date": 1569413055, "answer_id": 58097942, "question_id": 58097817, "link": "https://stackoverflow.com/questions/58097817/make-array-map-return-specific-type-signature/58097942#58097942", "title": "make array.map return specific type signature", "body": "<p>Inference in this scenario seems to have improved since 3.1. The simplest solution is to be explicit about the return type:</p>\n\n<pre><code>function produce(): Array&lt;[number, number]&gt; {\n  return [[0, 1], [2, 3]];\n}\n\nfunction transform(input: Array&lt;[number, number]&gt;): Array&lt;[number, number]&gt; {\n  return input.map((xy): [number, number] =&gt; [xy[0] + 1, xy[1] + 1]);\n}\n\nconsole.log(transform(produce()));\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/?ts=3.1.6#code/GYVwdgxgLglg9mABABwE5wCYggUwBQCUAXIgIKqoCGAngDwDaYIAtgEY6oA0iTbHAugD5EAbwBQiRKhxQQqJPXoAGbgEZ+3egCZuAZn78A3GIC+YsaEiwEiKFTABnYHFTM8MMMhBQS5KnUYWdi4eIIFBYjIKGgZeYO448NEJKRk5JA8vKAA6ZkpkPDwAD2pIwL4QxNR+RABeYXoS5RqAakRVbib1RDb1AmMzMQgEBzgAGxxssbgAczw7SkdnVzw0TGx8Ai3DIA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 1571, "user_id": 1814493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ddyxT.gif?s=128&g=1", "display_name": "Paflow", "link": "https://stackoverflow.com/users/1814493/paflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 58097942, "answer_count": 1, "score": 1, "last_activity_date": 1569413055, "creation_date": 1569412681, "last_edit_date": 1569412939, "question_id": 58097817, "link": "https://stackoverflow.com/questions/58097817/make-array-map-return-specific-type-signature", "title": "make array.map return specific type signature", "body": "<p>Consider those two simple functions in <strong>typescript</strong>:</p>\n\n<pre><code>function produce(): Array&lt;[number, number]&gt; {\n  return [[0, 1], [2, 3]];\n}\n\nfunction transform(input: Array&lt;[number, number]&gt;): Array&lt;[number, number]&gt; {\n  return input.map(xy =&gt; [xy[0] + 1, xy[1] + 1]);\n}\n\nconsole.log(transform(produce()));\n</code></pre>\n\n<p><code>transform</code> maps one the very same array of two-dimensional-integer-arrays to another. TypeScript compiler says: </p>\n\n<pre><code>Type 'number[]' is not assignable to type '[number, number]'.\n    Property '0' is missing in type 'number[]'.\n</code></pre>\n\n<p>Do I have to change the function's signature to <code>number[][]</code> (and therefore open the door for accidentally one ore poly dimensional arrays) or use an interface, or can I somehow define the return type of the mapping function to be exactly <code>Array&lt;[number, number]&gt;</code>?</p>\n\n<p>Edit1:\nThanks to @Titian Cernicova-Dragomir I found out, that current Typescript actually don't show that error - but 3.1.1. does.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 57, "user_id": 4786828, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/806436856077470/picture?type=large", "display_name": "Sachin Khokhar", "link": "https://stackoverflow.com/users/4786828/sachin-khokhar"}, "edited": false, "score": 0, "creation_date": 1569412355, "post_id": 58097633, "comment_id": 102587372, "body": "Complete project link: <a href=\"https://www.dropbox.com/s/hhzjq32jgehxx90/Monthly.zip?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/hhzjq32jgehxx90/Monthly.zip?dl=0</a>"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1569415393, "post_id": 58097633, "comment_id": 102589200, "body": "app: [&quot;./src/app.tsx&quot;] name with extension, and this include path is wierd... from dirname go back?"}, {"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1569415878, "post_id": 58097633, "comment_id": 102589513, "body": "i tried it and this include is the problem. include: [path.resolve(path.resolve(__dirname), &quot;./src&quot;)]... no need to go back from dirname and it will work"}, {"owner": {"reputation": 57, "user_id": 4786828, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/806436856077470/picture?type=large", "display_name": "Sachin Khokhar", "link": "https://stackoverflow.com/users/4786828/sachin-khokhar"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1569418157, "post_id": 58097633, "comment_id": 102590902, "body": "@JurajKocan Yes that was the problem"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 4786828, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/806436856077470/picture?type=large", "display_name": "Sachin Khokhar", "link": "https://stackoverflow.com/users/4786828/sachin-khokhar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569470019, "creation_date": 1569470019, "answer_id": 58109334, "question_id": 58097633, "link": "https://stackoverflow.com/questions/58097633/webpack-throwing-error-you-may-need-an-appropriate-loader-in-react-with-typesc/58109334#58109334", "title": "Webpack throwing error &quot;You may need an appropriate loader&quot; in react with typescript", "body": "<p>i tried it and this include is the problem. include: [path.resolve(path.resolve(__dirname), \"./src\")]... no need to go back from dirname and it will work .</p>\n\n<p>Credits: @JurajKocan</p>\n"}], "owner": {"reputation": 57, "user_id": 4786828, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/806436856077470/picture?type=large", "display_name": "Sachin Khokhar", "link": "https://stackoverflow.com/users/4786828/sachin-khokhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 799, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1569470019, "creation_date": 1569411965, "question_id": 58097633, "link": "https://stackoverflow.com/questions/58097633/webpack-throwing-error-you-may-need-an-appropriate-loader-in-react-with-typesc", "title": "Webpack throwing error &quot;You may need an appropriate loader&quot; in react with typescript", "body": "<p>I tried to setup a new project with webpack, react, typescript. But I am unable to get it working.</p>\n\n<p>I have tried html loader and tried various tutorials to solve the issue.</p>\n\n<p>Webpack config:</p>\n\n<pre><code>const path = require(\"path\");\n\nmodule.exports = {\n  entry: {\n    app: [\"./src/app\"]\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(ts|js)x?$/,\n        use: [\n          {\n            loader: \"ts-loader\",\n            options: {\n              transpileOnly: true,\n              compilerOptions: {\n                module: \"es2015\",\n                allowJs: true\n              }\n            }\n          }\n        ],\n        include: [path.resolve(path.resolve(__dirname, \"../\"), \"./src\")]\n      }\n    ]\n  },\n  resolve: {\n    extensions: [\".js\", \".jsx\", \".ts\", \".tsx\"]\n  }\n};\n</code></pre>\n\n<p>tsconfig.json</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"baseUrl\": \".\",\n        \"moduleResolution\": \"node\",\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"noImplicitAny\": false,\n        \"sourceMap\": false,\n        \"jsx\": \"react\",\n        \"allowJs\": true,\n        \"noImplicitThis\": true,\n        \"removeComments\": false,\n        \"skipDefaultLibCheck\": true,\n        \"skipLibCheck\": true,\n        \"lib\": [\"dom\", \"es5\", \"scripthost\", \"es2015\", \"es2017\"],\n        \"downlevelIteration\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"experimentalDecorators\": true,\n        \"esModuleInterop\": true,\n        \"outDir\": \"./dist/\"\n    }\n}\n</code></pre>\n\n<p>app.tsx</p>\n\n<pre><code>import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nReactDOM.render(&lt;&gt;&lt;/&gt;, document.getElementById(\"root\"));\n</code></pre>\n\n<p>But while compiling with : webpack --mode production :- throws error :</p>\n\n<p>ERROR in ./src/app.tsx 4:16\nModule parse failed: Unexpected token (4:16)\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See <a href=\"https://webpack.js.org/concepts#loaders\" rel=\"nofollow noreferrer\">https://webpack.js.org/concepts#loaders</a>\n| import * as ReactDOM from \"react-dom\";\n| //import { Home } from \"./pages/home\";</p>\n\n<blockquote>\n  <p>ReactDOM.render(&lt;>, document.getElementById(\"root\"));\n  | \n   @ multi ./src/app app[0]</p>\n</blockquote>\n"}, {"tags": ["typescript", "react-native", "xpath", "automation", "appium"], "answers": [{"comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "reply_to_user": {"reputation": 1, "user_id": 12118720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358fb3824039a167b076fb4082fb3134?s=128&d=identicon&r=PG&f=1", "display_name": "sid", "link": "https://stackoverflow.com/users/12118720/sid"}, "edited": false, "score": 0, "creation_date": 1569593373, "post_id": 58102193, "comment_id": 102659020, "body": "You\u2019re welcome, happy to help. If this explanation has helped you, feel free to mark as answer to post, or continue asking questions so we can get to the bottom of your issue."}, {"owner": {"reputation": 1, "user_id": 12118720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358fb3824039a167b076fb4082fb3134?s=128&d=identicon&r=PG&f=1", "display_name": "sid", "link": "https://stackoverflow.com/users/12118720/sid"}, "edited": false, "score": 0, "creation_date": 1571740173, "post_id": 58102193, "comment_id": 103333121, "body": "Actually i have react-native application and in login page there is a label which name is &quot; create account &quot;. so i got xpath show in question and i want to set click method on that using xpath"}], "tags": [], "owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "is_accepted": false, "score": 0, "last_activity_date": 1569426434, "creation_date": 1569426434, "answer_id": 58102193, "question_id": 58097519, "link": "https://stackoverflow.com/questions/58097519/i-can-not-understand-the-syntax-that-how-to-define-xpath-in-typerscript-language/58102193#58102193", "title": "i can not understand the syntax that how to define xpath in typerscript language", "body": "<p>It looks like you are using an <code>Absolute XPath</code> here, which is inherently harder to read and yields to brittle tests, as this path can be changed in the DOM easily.</p>\n\n<p>If you want to write an XPath that is easier to read and less prone to breaking, you could try using relative notation with the <code>//</code> indicator. Here's an example:</p>\n\n<p>Your starting (absolute) XPath:</p>\n\n<p><code>'/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.ScrollView/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[1]/android.view.ViewGroup[1]/android.widget.TextView'</code></p>\n\n<p>Your new relative XPath:</p>\n\n<p><code>//android.widget.ScrollView//android.widget.TextView</code></p>\n\n<p>You can also mix absolute and relative XPath, like this:</p>\n\n<p><code>//android.widget.ScrollView/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[1]/android.view.ViewGroup[1]/android.widget.TextView'</code></p>\n\n<p>Without a complete page source, I cannot guarantee this XPath will work. The <code>//</code> notation means the following element will be located anywhere on the page. This means if you have more than one <code>android.widget.ScrollView</code> element on the page, <code>//android.widget.ScrollView</code> will return multiple web elements.</p>\n\n<p>This also means if <code>android.widget.ScrollView</code> has more than one <code>android.widget.TextView</code> element under it, <code>//android.widget.ScrollView//android.widget.TextView</code> will locate multiple <code>TextView</code> elements.</p>\n\n<p>You can add conditions in brackets such as <code>android.widget.ScrollView[@class='someClass']//android.widget.TextView</code> to make your paths more accurate.</p>\n\n<p>If you post a more complete page source, I can help you write better XPaths and understand the notation here.</p>\n"}], "owner": {"reputation": 1, "user_id": 12118720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/358fb3824039a167b076fb4082fb3134?s=128&d=identicon&r=PG&f=1", "display_name": "sid", "link": "https://stackoverflow.com/users/12118720/sid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569426434, "creation_date": 1569411550, "last_edit_date": 1569411619, "question_id": 58097519, "link": "https://stackoverflow.com/questions/58097519/i-can-not-understand-the-syntax-that-how-to-define-xpath-in-typerscript-language", "title": "i can not understand the syntax that how to define xpath in typerscript language", "body": "<pre class=\"lang-js prettyprint-override\"><code>console.log(client.findElement(xpath,'/hierarchy/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.LinearLayout/android.widget.FrameLayout/android.widget.FrameLayout/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.widget.ScrollView/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup/android.view.ViewGroup[1]/android.view.ViewGroup[1]/android.widget.TextView'));\n</code></pre>\n"}, {"tags": ["angular", "typescript", "interface"], "comments": [{"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1569413095, "post_id": 58097055, "comment_id": 102587749, "body": "Using <code>import { Contacts } from &#39;..&#47;models&#47;contacts&#39;;</code> in <code>contact-list.component.ts</code> works just fine."}, {"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "reply_to_user": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1569476700, "post_id": 58097055, "comment_id": 102610464, "body": "thats the problem <code>import { Contacts } from &#39;..&#47;models&#47;contacts&#39;;</code> works with <i>contact.service.ts</i> but not with <i>contact-list.component.ts</i>"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1569477408, "post_id": 58097055, "comment_id": 102610702, "body": "can you make a stackblitz with a minimal demo?"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1569480423, "post_id": 58097055, "comment_id": 102611901, "body": "Your <a href=\"https://stackblitz.com/edit/angular-kho5dj\" rel=\"nofollow noreferrer\">demo</a> is a mess. Many import statements are wrong."}, {"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "reply_to_user": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1570608416, "post_id": 58097055, "comment_id": 102962065, "body": "sure @IftifarTaz  here is a <a href=\"https://stackblitz.com/edit/angular-rjscuu?file=src%2Fapp%2Fcontact-list%2Fcontact-list.component.ts\" rel=\"nofollow noreferrer\">working demo</a>"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1570609391, "post_id": 58097055, "comment_id": 102962545, "body": "In our <a href=\"https://stackblitz.com/edit/angular-rjscuu\" rel=\"nofollow noreferrer\">demo</a> in <code>app.module.ts</code> import statement for <code>ContactService</code> is wrong. Import it like you do in <code>contact-list.component.ts</code>"}, {"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "reply_to_user": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 0, "creation_date": 1570609831, "post_id": 58097055, "comment_id": 102962761, "body": "I tried but now it says cannot find src, even if it is there"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 1, "creation_date": 1570610396, "post_id": 58097055, "comment_id": 102963045, "body": "It will work if you are in your local machine. Looks like stackblitz does not support import from root. By the way import <code>Contacts </code> from <code>&#39;..&#47;models&#47;contact&#39;</code> not <code>&#39;..&#47;models&#47;contacts&#39;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 758, "user_id": 4022255, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002100737184/picture?type=large", "display_name": "Shafeeq Mohammed", "link": "https://stackoverflow.com/users/4022255/shafeeq-mohammed"}, "is_accepted": false, "score": 0, "last_activity_date": 1570616979, "last_edit_date": 1570616979, "creation_date": 1569410846, "answer_id": 58097327, "question_id": 58097055, "link": "https://stackoverflow.com/questions/58097055/how-to-import-interface-into-angular-component-from-models/58097327#58097327", "title": "How to import Interface into angular component from models", "body": "<pre><code>import { Component, OnInit, OnDestroy, ViewChildren } from '@angular/core';\nimport { dataService } from '../service/data.service';\n\ninterface UserInfo {\n    id: number;\n    userName: string;\n    role: string;\n    sourceName: string\n}\n\n@Component({\n    selector: 'app-patient-view',\n    templateUrl: './patient-view.component.html',\n    styleUrls: ['./patient-view.component.css']\n})\n\nexport class PatientViewComponent implements OnInit {\n    constructor(private spinnerService: Ng4LoadingSpinnerService, private http: HttpClient, public dtService: dataService, private router: Router, private dialog: MatDialog) { }\n    SourceNameSelector(oneSourceName) {\n        this.http.get('/setSelectedSource/' + oneSourceName.id).subscribe(data =&gt; {\n            ///code for return the source\n            this.dtService.getUserDetails = {\n                id: data['ID'],\n                userName: data['USERNAME'],\n                role: data['role'],\n                sourceName: data['sourceName']\n            };\n        });\n    }\n}\n</code></pre>\n\n<p>this only tells you how to use interface in an .ts file</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "edited": false, "score": 0, "creation_date": 1569414948, "post_id": 58098195, "comment_id": 102588897, "body": "I tried      import { Contacts } from &#39;../models/contacts&#39;; but it&#39;s not working btw thnks for having look and thnks if you could find something wrong other than this"}, {"owner": {"reputation": 1306, "user_id": 1845426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6ad3b0a893713f2bd07559d038b2d10d?s=128&d=identicon&r=PG", "display_name": "rc.adhikari", "link": "https://stackoverflow.com/users/1845426/rc-adhikari"}, "reply_to_user": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "edited": false, "score": 0, "creation_date": 1569421056, "post_id": 58098195, "comment_id": 102592702, "body": "@Krishnakant, can you produce the error on using stackblitz.com, so that it&#39;s easy to debug?"}, {"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "edited": false, "score": 0, "creation_date": 1570608565, "post_id": 58098195, "comment_id": 102962130, "body": "yeah @rc.adhikari , here is <a href=\"https://stackblitz.com/edit/angular-rjscuu?file=src%2Fapp%2Fcontact-list%2Fcontact-list.component.ts\" rel=\"nofollow noreferrer\">working demo</a>"}], "tags": [], "owner": {"reputation": 1306, "user_id": 1845426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6ad3b0a893713f2bd07559d038b2d10d?s=128&d=identicon&r=PG", "display_name": "rc.adhikari", "link": "https://stackoverflow.com/users/1845426/rc-adhikari"}, "is_accepted": false, "score": 0, "last_activity_date": 1569413838, "creation_date": 1569413838, "answer_id": 58098195, "question_id": 58097055, "link": "https://stackoverflow.com/questions/58097055/how-to-import-interface-into-angular-component-from-models/58098195#58098195", "title": "How to import Interface into angular component from models", "body": "<p>I reckon, you missing to reference the <code>Contacts</code> interface within the <code>contact-list.component.ts</code> file. That could be an issue.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12215825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC_yKKXB5CzckQW9p58l7Pf_eG04ceHmHOOynXl=k-s128", "display_name": "Dinesh Kumar", "link": "https://stackoverflow.com/users/12215825/dinesh-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571072076, "last_edit_date": 1571072076, "creation_date": 1571071160, "answer_id": 58380856, "question_id": 58097055, "link": "https://stackoverflow.com/questions/58097055/how-to-import-interface-into-angular-component-from-models/58380856#58380856", "title": "How to import Interface into angular component from models", "body": "<p>Please use full path:</p>\n\n<pre><code>import { Contacts } from 'src/app/models/contacts';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "edited": false, "score": 0, "creation_date": 1571653603, "post_id": 58484248, "comment_id": 103299764, "body": "yes u are right, I passed the hands-on without even resolving above problem. but are you damn sure that there is nothing wrong with my solution"}, {"owner": {"reputation": 26, "user_id": 12123203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAg8A6LPk0YqYrBhRKew4izm9KlH4VW_9bFIb4tbg=k-s128", "display_name": "Nand Kishor Mahto", "link": "https://stackoverflow.com/users/12123203/nand-kishor-mahto"}, "reply_to_user": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "edited": false, "score": 0, "creation_date": 1571654135, "post_id": 58484248, "comment_id": 103300011, "body": "not damn sure but sure because i found nothing on google about it"}], "tags": [], "owner": {"reputation": 26, "user_id": 12123203, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAg8A6LPk0YqYrBhRKew4izm9KlH4VW_9bFIb4tbg=k-s128", "display_name": "Nand Kishor Mahto", "link": "https://stackoverflow.com/users/12123203/nand-kishor-mahto"}, "is_accepted": true, "score": 1, "last_activity_date": 1571653268, "creation_date": 1571653268, "answer_id": 58484248, "question_id": 58097055, "link": "https://stackoverflow.com/questions/58097055/how-to-import-interface-into-angular-component-from-models/58484248#58484248", "title": "How to import Interface into angular component from models", "body": "<p>This hands-on must be from fresco play \nI faced the same issue, there is nothing wrong in your code as if you try importing contacts like  <code>import { Contacts } from '../models/contacts';</code>  it will not recognize contacts and if you try importing like  <code>import { Contacts } from 'src/app/models/contacts';</code> then online ide will create problem. you must have passed the hands on with the submission even with the error. and if you try it with local ide it will work fine. </p>\n"}], "owner": {"reputation": 307, "user_id": 9884458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8f75dff6a0f9a2a3abb21bd8920c5e?s=128&d=identicon&r=PG&f=1", "display_name": "bali", "link": "https://stackoverflow.com/users/9884458/bali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2344, "favorite_count": 0, "accepted_answer_id": 58484248, "answer_count": 4, "score": 1, "last_activity_date": 1571653268, "creation_date": 1569409936, "last_edit_date": 1569414890, "question_id": 58097055, "link": "https://stackoverflow.com/questions/58097055/how-to-import-interface-into-angular-component-from-models", "title": "How to import Interface into angular component from models", "body": "<p>When i try to access data of an interface into a component it gives error:\n<strong>error TS2304: Cannot find name 'Contacts'</strong></p>\n\n<p>and when i try to import that interface it says:\n<strong>error TS2307: Cannot find module '../models/contacts'</strong>.</p>\n\n<p>I used an Interface(Contacts) to make some data available for a component(contact-list.component.ts)</p>\n\n<p>Please tell me what I am doing wrong by looking at below code snippets. \nI am stuck with this Hands on from last two days, pls help</p>\n\n<pre><code> ----------model contacts.ts------------\n export interface Contacts {\n  contactsList: Contact[];\n}\n\nexport interface Contact {\nid: number;\nname: string;\ncity: string;\n}\n\n -----------app.module.ts----------------\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { ContactService } from 'src/app/services/contact.service';\n\nimport { AppComponent } from './app.component';\nimport { ContactListComponent } from './components/contact-list/contact- \nlist.component';\n\n @NgModule({\n   declarations: [\n   AppComponent,\n   ContactListComponent\n   ],\n  imports: [\n  BrowserModule,\n],\n   providers: [ContactService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n\n---------------contact-list.component.ts---------------\n\nimport { Component, OnInit } from '@angular/core';\nimport { ContactService } from 'src/app/services/contact.service';\nimport { Contacts } from '../models/contacts';\n\n@Component({\nselector: 'app-contact-list',\ntemplateUrl: './contact-list.component.html',\nstyleUrls: ['./contact-list.component.css']\n})\nexport class ContactListComponent implements OnInit {\n\n  contacts;\n  constructor(\n  private contactService: ContactService\n  ) { }\n\n ngOnInit() {\n   this.contactService.getContacts().subscribe((data: Contacts) =&gt; {\n     this.contacts = data ? data.contactsList : [];\n  });\n }\n\n}\n --------------------contact.service.ts--------------------\nimport { Injectable } from '@angular/core';\nimport { of, Observable } from 'rxjs';\nimport { Contacts } from '../models/contacts';\n@Injectable({providedIn: 'root'})\nexport class ContactService {\n\ncontacts = {\n  'contactsList': [\n      {'id': 1, 'name': 'Rajesh', 'city': 'bangalore'},\n      {'id': 2, 'name': 'Aarjith', 'city': 'london'},\n      {'id': 3, 'name': 'Anjan', 'city': 'california'},\n      {'id': 4, 'name': 'David', 'city': 'delhi'}\n    ]\n };\nconstructor(\n) { }\n\ngetContacts(): Observable&lt;Contacts&gt; {\n    return of(this.contacts);\n   }\n}\n</code></pre>\n\n<p>expected output:\nRajesh\nAarjith\nAnjan\nDavid</p>\n"}, {"tags": ["node.js", "typescript", "express", "nuxt.js"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1569409866, "post_id": 58096964, "comment_id": 102586111, "body": "You need to import that name if you want to use it unqualified; <code>import express, { Application } from &quot;express&quot;;</code>."}, {"owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1569409961, "post_id": 58096964, "comment_id": 102586159, "body": "@jonrsharpe done! Simple solution! Thank you for the answer!"}], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569409856, "creation_date": 1569409485, "last_edit_date": 1569409856, "question_id": 58096964, "link": "https://stackoverflow.com/questions/58096964/how-to-annotate-the-entity-which-require-express-returns-in-typescript", "title": "How to annotate the entity which &quot;require express()&quot; returns in TypeScript?", "body": "<p>Almost idiomatic code for Nuxt.js's backend entry point:</p>\n\n<pre><code>const express = require('express');\nconst consola = require('consola');\nconst { Nuxt, Builder } = require('nuxt');\nconst app = require('./app');\n\nconst config = require('../nuxt.config.js');\nconfig.dev = !(process.env.NODE_ENV === 'production');\n\nasync function start() {\n\n  const nuxt = new Nuxt(config);\n\n  const {\n    host = process.env.HOST || '127.0.0.1',\n    port = process.env.PORT || 3000\n  } = nuxt.options.server;\n\n  if (config.dev) {\n    const builder = new Builder(nuxt);\n    await builder.build();\n  }\n\n  app.use(nuxt.render);\n\n  app.listen(port, host, () =&gt; {\n    consola.ready({\n      message: `Server listening on http://${host}:${port}`,\n      badge: true\n    })\n  })\n}\n\nstart();\n</code></pre>\n\n<p>I need to rewrite it in TypeScript, herewith all types must be annotated.\nHere are the multiple hardships, but in this question I'm going to make clear about <code>express</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import express from \"express\";\n\nconst application: BlackBox = express();\n</code></pre>\n\n<p>I tried to set wrong type for application to make WebStorm correct me. Unfortunately, the suggestion of WebStorm is also wrong:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EBCBb.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBCBb.gif\" alt=\"enter image description here\"></a></p>\n\n<p>The error disappeared in line 5, however none of express methods are available:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D7E4X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D7E4X.png\" alt=\"enter image description here\"></a></p>\n\n<p>And same error for <code>use</code> method.\nThe reason is the <code>Express.Application</code> refers to empty interfaces:</p>\n\n<pre><code>declare global {\n    namespace Express {\n        // These open interfaces may be extended in an application-specific manner via declaration merging.\n        // See for example method-override.d.ts (https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/method-override/index.d.ts)\n        interface Request { }\n        interface Response { }\n        interface Application { }\n    }\n}\n</code></pre>\n\n<p>I have read the comment, but I did not understand, why it was required to capsule the <code>express</code> method. If I need to declare <code>use</code>, <code>listen</code> etc. myself, for what type definitions for <code>express</code> has been written? </p>\n\n<p>I give you some links to not make you to search the appropriate TypeScript typing youself.</p>\n\n<ul>\n<li><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/express\" rel=\"nofollow noreferrer\">@types/express typings</a></li>\n<li><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/express-serve-static-core\" rel=\"nofollow noreferrer\">@types/express-serve-static-core</a></li>\n</ul>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "is_accepted": false, "score": -1, "last_activity_date": 1569409799, "creation_date": 1569409799, "answer_id": 58097032, "question_id": 58096867, "link": "https://stackoverflow.com/questions/58096867/pushing-objects-into-array-repeats-last-entry/58097032#58097032", "title": "Pushing Objects Into Array repeats last entry", "body": "<p>you are referring to same object so if you change in one it will affect on others.</p>\n\n<pre><code>private pretifyApiResponse(apiResponse) {\nconsole.log(template); // {attribute1: 0, attribute2: 0, static1: 123, static2: 456}\n\nconst result: myInterface[] = [];\n\nfor (let i = 0; i &lt; apiResponse.length; i++) {\n    const template = {};\n    const temp = Object.assign(template, template);\n   temp.attribute1 = apiResponse[i].attribute1 || 0;\n   temp.attribute2 = apiResponse[i].attribute2 || 0;\n   console.log(temp);\n   result.push(temp);\n}\n\nconsole.log('Final Result')\nconsole.log(result);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1802, "user_id": 11823079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQoIH.png?s=128&g=1", "display_name": "Norbert Bartko", "link": "https://stackoverflow.com/users/11823079/norbert-bartko"}, "is_accepted": true, "score": 0, "last_activity_date": 1569841598, "creation_date": 1569841598, "answer_id": 58166653, "question_id": 58096867, "link": "https://stackoverflow.com/questions/58096867/pushing-objects-into-array-repeats-last-entry/58166653#58166653", "title": "Pushing Objects Into Array repeats last entry", "body": "<p>To bypass the reference and create a copy I found a somehow questionable method.</p>\n\n<pre><code>JSON.parse(JSON.stringify(template));\n</code></pre>\n\n<p>It works though, but it feels kinda hacky.</p>\n\n<p>I was trying to use <code>Object.assign()</code>, but I ran into the same problem.</p>\n\n<p>A <em>real</em> solution to this problem would be appreciated.</p>\n"}], "owner": {"reputation": 1802, "user_id": 11823079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PQoIH.png?s=128&g=1", "display_name": "Norbert Bartko", "link": "https://stackoverflow.com/users/11823079/norbert-bartko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58166653, "answer_count": 2, "score": 0, "last_activity_date": 1569841598, "creation_date": 1569409115, "question_id": 58096867, "link": "https://stackoverflow.com/questions/58096867/pushing-objects-into-array-repeats-last-entry", "title": "Pushing Objects Into Array repeats last entry", "body": "<p>I have a quite complex object which I have to fill partly with data coming from an API.</p>\n\n<p>Lets asume my object looks like this</p>\n\n<pre><code>{\n   attribute1: number, \n   attribute2: number, \n   static1: number,\n   static2: number,\n}\n</code></pre>\n\n<p>I have a function that return a Object with set static values.</p>\n\n<p>Now i have to fill the other attributes with the API response.</p>\n\n<p>My try:</p>\n\n<pre><code>private pretifyApiResponse(apiResponse) {\nconst template = this.getTemplate();\n\nconsole.log(template); // {attribute1: 0, attribute2: 0, static1: 123, static2: 456}\n\nconst result: myInterface[] = [];\n\nfor (let i = 0; i &lt; apiResponse.length; i++) {\n   template.attribute1 = apiResponse[i].attribute1 || 0;\n   template.attribute2 = apiResponse[i].attribute2 || 0;\n\n   console.log(i+'. Template'); \n   console.log(template);\n   result.push(template);\n}\n\nconsole.log('Final Result')\nconsole.log(result);\n</code></pre>\n\n<p>The thing is now, inside of my loop the results are correct and also the template is.   </p>\n\n<p>But after the loop the array contains only the last entry, but x times. </p>\n\n<p>Here the logs of my function above\n<a href=\"https://i.stack.imgur.com/KX19L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KX19L.png\" alt=\"Consele logs of my function\"></a></p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 1, "creation_date": 1569410572, "post_id": 58096836, "comment_id": 102586467, "body": "<code>property</code> type is  union of   keys from T and it looks fine. Why do you want to have property with type  <code>string</code>?"}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 0, "creation_date": 1569411160, "post_id": 58096836, "comment_id": 102586753, "body": "I&#39;ve edited my question. Because I need only single property in that method. keyof T is not requirement, its the way I&#39;ve currently implemented it."}, {"owner": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 0, "creation_date": 1569411639, "post_id": 58096836, "comment_id": 102587024, "body": "hm... Why didn&#39;t you define <code>sort&lt;T extends { [key: string]: any }&gt;(property: string) {</code> this way ?"}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 0, "creation_date": 1569412115, "post_id": 58096836, "comment_id": 102587259, "body": "Because I would have any Intellisense telling me to pass only property names of T, which is whole point of question."}, {"owner": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 0, "creation_date": 1569412375, "post_id": 58096836, "comment_id": 102587382, "body": "I&#39;m not sure  I understand  you. But  you can try this <code>sort&lt;T extends { [key: string]: any }&gt;(property: keyof T | string) {</code>"}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 595, "user_id": 9640422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f0167e9e7de63c02a9eed367cdd886b?s=128&d=identicon&r=PG&f=1", "display_name": "Kasabucki Alexandr", "link": "https://stackoverflow.com/users/9640422/kasabucki-alexandr"}, "edited": false, "score": 0, "creation_date": 1569412590, "post_id": 58096836, "comment_id": 102587492, "body": "Please see attached playground."}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1569412676, "creation_date": 1569412676, "answer_id": 58097815, "question_id": 58096836, "link": "https://stackoverflow.com/questions/58096836/typescript-property-selector/58097815#58097815", "title": "Typescript property selector", "body": "<p>Even though your constraint has a string indexer in actual fact the <code>keyof T</code> could still be a <code>number</code> so <code>keyof T</code> would end up being <code>string | number</code></p>\n\n<p>You can use <code>Extract</code> to arrow to just strings: </p>\n\n<pre><code>\ntype Custom = {\n  property: string, //ok \n  desc: boolean\n}\n\nfunction sort&lt;T&gt;(property: Extract&lt;keyof T, string&gt;): Custom {\n    return {\n      property: property,\n      desc: false\n    }\n}\n\ntype User = { id: string, name: string }\nsort&lt;User&gt;(\"name\");\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/FAFwngDgpgBAwgVwM4gPYFsYF4YG9gwwQBOq0x4AXDCsQJYB2A5gDQEwAmUSAxtQEapUAGygBDBsAC+wYADMEDHiDqoGNVBQA8AFQB8AChJkoFMNQCiADxDExyrQGsoYVHJg6WNW4yZ6AlNSIKBh47ITEUCAIxOr4hAlEpORUSSZmXgD0mTCojjDhCVy81HJiwkhQhTIyoJCwAKqVxNh4MHQc1LS+Xgxi6FBdPswwMkiaIFpNpoYARH0Ds-4A3EA\" rel=\"nofollow noreferrer\">play</a></p>\n"}], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1544, "favorite_count": 0, "accepted_answer_id": 58097815, "answer_count": 1, "score": 1, "last_activity_date": 1569412676, "creation_date": 1569409023, "last_edit_date": 1569412573, "question_id": 58096836, "link": "https://stackoverflow.com/questions/58096836/typescript-property-selector", "title": "Typescript property selector", "body": "<p>I need simple type checking based on object property which I'd like to use like this:</p>\n\n<pre><code>type User = { id: string, name: string }\nsort&lt;User&gt;(\"name\");\n</code></pre>\n\n<p>where Intellisense offers me \"name\" or \"id\" for input or shows \"error\" if anything else is entered.</p>\n\n<p>With my current implementation <code>property</code> is not of type <code>string</code>, although I'm able to pass only <code>string</code> value.</p>\n\n<pre><code>sort&lt;T extends { [key: string]: any }&gt;(property: keyof T) {\n    // how can I make 'property' string ???\n    // required API object is e.g. { property: \"Id\", desc: true }\n}\n</code></pre>\n\n<p>Here is <a href=\"https://www.typescriptlang.org/play/index.html#code/FAFwngDgpgBAwgVwM4gPYFsYF4YG9gwwQBOq0x4AXDCsQJYB2A5gDQEwAmUSAxtQEapUAGygBDBsAC+wYADMEDHiDqoGNVBQA8AFRhQAHiCgMOSPDADaAayhhqtRkwC61CWBhSAfAAoSZKAp7GFswVDkYHQBKakQUDDx2QmIoEARidXxCbKJScipcgKC2HMIuXmo5MWEkKCTPaVlwaBgAVVribAs6DgcQemYWGAYxdCg+gaYGpE0QLXbA3wAiEbGlqIBuIA\" rel=\"nofollow noreferrer\">playground</a>.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1569408853, "post_id": 58096757, "comment_id": 102585556, "body": "Based on what logic should <code>observable2</code> receive the event first? You can just switch the order of subscriptions."}, {"owner": {"reputation": 4020, "user_id": 3694288, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p1VKJ.png?s=128&g=1", "display_name": "DauleDK", "link": "https://stackoverflow.com/users/3694288/dauledk"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 1, "creation_date": 1569408899, "post_id": 58096757, "comment_id": 102585583, "body": "I simply want to guarantee that <code>observable2</code> always emits after <code>observable1</code> - that&#39;s it."}, {"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 1, "creation_date": 1569414339, "post_id": 58096757, "comment_id": 102588505, "body": "use <a href=\"https://rxjs-dev.firebaseapp.com/api/operators/concatMap\" rel=\"nofollow noreferrer\">concatMap</a> in this case"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 1, "creation_date": 1569438872, "post_id": 58096757, "comment_id": 102601215, "body": "Nice question, with a good answer."}], "answers": [{"comments": [{"owner": {"reputation": 4020, "user_id": 3694288, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p1VKJ.png?s=128&g=1", "display_name": "DauleDK", "link": "https://stackoverflow.com/users/3694288/dauledk"}, "edited": false, "score": 0, "creation_date": 1569412718, "post_id": 58097457, "comment_id": 102587542, "body": "wow - it actually works. What does <code>observeOn(asyncScheduler)</code> accomplish here?"}, {"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 1, "creation_date": 1569414028, "post_id": 58097457, "comment_id": 102588316, "body": "I think that this solution will not work all the time ! From the documentation of <a href=\"https://rxjs-dev.firebaseapp.com/api/index/const/asyncScheduler\" rel=\"nofollow noreferrer\">asyncScheduler</a>  : <i>Schedule task as if you used setTimeout(task, duration)</i>. So the observeOn will put the map (the task) into the call stack and waits its turn to be executed. This will remains asynchronous because if the call stack contains a lot of tasks to be executed the second observable may precede the first one"}, {"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "reply_to_user": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1569419426, "post_id": 58097457, "comment_id": 102591676, "body": "@bubbles It doesn&#39;t matter how many tasks are in the queue. As far as <code>observable1</code> remains synchronous then <code>observable2</code> with <code>observeOn</code> will always receive the event after  <code>observable1</code>."}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 4, "last_activity_date": 1569411306, "creation_date": 1569411306, "answer_id": 58097457, "question_id": 58096757, "link": "https://stackoverflow.com/questions/58096757/how-do-i-make-an-observable-depend-on-another-observable/58097457#58097457", "title": "How do I make an observable depend on another observable", "body": "<p>You can make the emissions from <code>observable1</code> asynchronous before passing them to <code>observable2</code>:</p>\n\n<pre><code>const observable2 = observable1.pipe(\n  observeOn(asyncScheduler),\n  map(() =&gt; 'observable2')\n);\n</code></pre>\n\n<p>Your updated demo: <a href=\"https://stackblitz.com/edit/rxjs-xqcyqk?file=index.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/rxjs-xqcyqk?file=index.ts</a></p>\n"}], "owner": {"reputation": 4020, "user_id": 3694288, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/p1VKJ.png?s=128&g=1", "display_name": "DauleDK", "link": "https://stackoverflow.com/users/3694288/dauledk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 58097457, "answer_count": 1, "score": 6, "last_activity_date": 1569439460, "creation_date": 1569408721, "last_edit_date": 1569439460, "question_id": 58096757, "link": "https://stackoverflow.com/questions/58096757/how-do-i-make-an-observable-depend-on-another-observable", "title": "How do I make an observable depend on another observable", "body": "<p>I have a problem understanding the order of events when building 2 observables that depend on the same underlying source. I hope you can not only help me with a working solution, but also explain why I get the outcome below. My goal is that <code>observable2</code> never emits before <code>observable1</code>.</p>\n\n<p><strong>Code</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const filters$ = new Subject();\n\nconst observable1 = filters$.pipe(\n  map(() =&gt; 'obersvable1')\n);\n\nconst observable2 = observable1.pipe(\n  map(() =&gt; 'observable2')\n)\n\nobservable2.subscribe((v) =&gt; console.log(v));\nobservable1.subscribe((v) =&gt; console.log(v));\n</code></pre>\n\n<p><strong>Expected outcome</strong></p>\n\n<pre><code>observable1\nobservable2\n</code></pre>\n\n<p><strong>Actual outcome</strong></p>\n\n<pre><code>observable2\nobservable1\n</code></pre>\n\n<p>The problem is that when the <code>filters$</code> subject emits, <code>observable2</code> emits first? \ud83e\udd37\ud83c\udffb\u200d\u2642\ufe0f</p>\n\n<p>I have tried using the <code>mergeMap</code> operator on <code>observable2</code>, to make it \"depend\" on <code>observable1</code> --> but to no help at all. </p>\n\n<p><strong>Reproduce</strong></p>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/rxjs-tma9pg\" rel=\"nofollow noreferrer\">link</a> to a stackblitz with typescript and rxjs.</p>\n"}, {"tags": ["typescript", "protractor", "automated-tests", "cucumberjs"], "comments": [{"owner": {"reputation": 30153, "user_id": 12299000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0pja9.png?s=128&g=1", "display_name": "kaya3", "link": "https://stackoverflow.com/users/12299000/kaya3"}, "edited": false, "score": 0, "creation_date": 1574289607, "post_id": 58096754, "comment_id": 104184009, "body": "&quot;failed cucumber scenarios in protractor&quot; sounds like a disappointing geometry salad."}], "answers": [{"tags": [], "owner": {"reputation": 796, "user_id": 3323395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/100000538636364/picture?type=large", "display_name": "Raymond Kelly", "link": "https://stackoverflow.com/users/3323395/raymond-kelly"}, "is_accepted": false, "score": 1, "last_activity_date": 1569522712, "creation_date": 1569522712, "answer_id": 58122815, "question_id": 58096754, "link": "https://stackoverflow.com/questions/58096754/how-to-rerun-the-failed-cucumber-scenarios-in-protractor/58122815#58122815", "title": "How to rerun the failed cucumber scenarios in protractor?", "body": "<p>You can not currently rerun the failed tests in the same suite as your initial run. What it sounds like you want is retry functionality which there are actually pull requests up for </p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-js/pull/1229\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-js/pull/1229</a><br>\n<a href=\"https://github.com/cucumber/cucumber-js/pull/1205/commits\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-js/pull/1205/commits</a></p>\n\n<p>What you need to do right now is rerun cucumber again against that txt file, to learn how to do that, check out <a href=\"https://github.com/cucumber/cucumber-js/blob/master/docs/cli.md#formats\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-js/blob/master/docs/cli.md#formats</a></p>\n"}, {"comments": [{"owner": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 0, "creation_date": 1574885468, "post_id": 58964441, "comment_id": 104392654, "body": "What&#39;s the Cucumber.js version this feature is supported? Never heard this before."}, {"owner": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 0, "creation_date": 1574895476, "post_id": 58964441, "comment_id": 104396134, "body": "I tried t use it. I don&#39;t think its retrying a failed test scenario in my Protractor-Cucumber.js framework. Do you have a working sample?"}, {"owner": {"reputation": 976, "user_id": 809833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/383af252067cdb68138c551c92f2ea21?s=128&d=identicon&r=PG", "display_name": "Anthony Chuinard", "link": "https://stackoverflow.com/users/809833/anthony-chuinard"}, "reply_to_user": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 0, "creation_date": 1575048095, "post_id": 58964441, "comment_id": 104449221, "body": "Believe this is all in Cucumber 6. Upgrade to the latest Cucumber and Protractor."}, {"owner": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 0, "creation_date": 1575063087, "post_id": 58964441, "comment_id": 104453438, "body": "I updated to latest 6.0.5 version <a href=\"https://www.npmjs.com/package/cucumber\" rel=\"nofollow noreferrer\">link</a> but didn&#39;t see retry feature working. I don&#39;t know if I&#39;m missing something."}, {"owner": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 1, "creation_date": 1576172955, "post_id": 58964441, "comment_id": 104822558, "body": "I finally got it working after I completely removed node_modules and did <b>npm install</b>. Many thanks to you."}, {"owner": {"reputation": 976, "user_id": 809833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/383af252067cdb68138c551c92f2ea21?s=128&d=identicon&r=PG", "display_name": "Anthony Chuinard", "link": "https://stackoverflow.com/users/809833/anthony-chuinard"}, "reply_to_user": {"reputation": 308, "user_id": 2613428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a9adae4b18fbbce94b284d943f1049?s=128&d=identicon&r=PG&f=1", "display_name": "Harisha K P", "link": "https://stackoverflow.com/users/2613428/harisha-k-p"}, "edited": false, "score": 0, "creation_date": 1576513342, "post_id": 58964441, "comment_id": 104915032, "body": "@HarishaKP glad to hear!"}], "tags": [], "owner": {"reputation": 976, "user_id": 809833, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/383af252067cdb68138c551c92f2ea21?s=128&d=identicon&r=PG", "display_name": "Anthony Chuinard", "link": "https://stackoverflow.com/users/809833/anthony-chuinard"}, "is_accepted": false, "score": 4, "last_activity_date": 1574289254, "creation_date": 1574289254, "answer_id": 58964441, "question_id": 58096754, "link": "https://stackoverflow.com/questions/58096754/how-to-rerun-the-failed-cucumber-scenarios-in-protractor/58964441#58964441", "title": "How to rerun the failed cucumber scenarios in protractor?", "body": "<p>As of November 2019, you can simply add <code>retry: 3</code> (or however many retries you want to allow) to your <code>cucumberOpts</code>.</p>\n\n<p>There is one issue with this regarding the process still returning an exit code of 1 after retried failures succeed, I have opened issues with Protractor and <code>protractor-cucumber-framework</code> trying to address this.</p>\n"}], "owner": {"reputation": 51, "user_id": 12108542, "user_type": "registered", "profile_image": "https://graph.facebook.com/2446376015455038/picture?type=large", "display_name": "Suri Suraj", "link": "https://stackoverflow.com/users/12108542/suri-suraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1472, "favorite_count": 2, "answer_count": 2, "score": 5, "last_activity_date": 1603046425, "creation_date": 1569408719, "last_edit_date": 1569412051, "question_id": 58096754, "link": "https://stackoverflow.com/questions/58096754/how-to-rerun-the-failed-cucumber-scenarios-in-protractor", "title": "How to rerun the failed cucumber scenarios in protractor?", "body": "<p>As a part of testing, i was using typescript language to develop the code which will be compatible for protractor, i was using BDD framework in which i had defined some cucumber options in my config.ts as following:</p>\n\n<pre><code>capabilities: {\n\n    specs: \"../example.feature\"\n}\n\ncucumberOpts: {\n\n    compiler: \"ts:ts-node/register\",\n    format: \"rerun:./reports/rerun.txt\",\n    require: \"../../stepdefinations/*.ts\",\n    strict: true\n}\n\nonComplete: () =&gt;{\n\n    Reporter.createHTMLReport();\n}\n</code></pre>\n\n<p>As mentioned in format, i was able to get the failed scenario line numbers in the rerun.txt which contains as following:\nexample.feature:145:439</p>\n\n<p>How to run this file before completing the test suite, how to rerun the failed scenarios for 3 times</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569409296, "post_id": 58096673, "comment_id": 102585789, "body": "<code>rl.question</code> doesn&#39;t block the execution. So, <code>while</code> will just execute the question more and more, instead of waiting for an answer. This is not the correct tool in this case - you don&#39;t need a loop here  and you need to only stop listening for input on <code>&quot;no&quot;</code>"}, {"owner": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569409543, "post_id": 58096673, "comment_id": 102585926, "body": "@VLAZ Thanks for your response. So how can I &quot;block&quot; the while loop? Is it possible for Typescript?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569410247, "post_id": 58096673, "comment_id": 102586322, "body": "No, you cannot &quot;block&quot; the loop. Not in the general case. It&#39;s simply a very bad practice - the normal way would not involve a loop."}], "answers": [{"comments": [{"owner": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569409658, "post_id": 58096889, "comment_id": 102586002, "body": "Hi @Phat Huynh, thanks for you reply. Since I am studying this language. Is it possible to achieve the same result by looping like &#39;while&#39; or &#39;for&#39; ?"}, {"owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "reply_to_user": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569409833, "post_id": 58096889, "comment_id": 102586099, "body": "It&#39;s depended to readline package, if you want use for or while like other language, use readline-sync package"}, {"owner": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569461540, "post_id": 58096889, "comment_id": 102607125, "body": "Thanks@Phat Huynh. it seems I need more knowledeg of sync. Any book recommanded?"}, {"owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "reply_to_user": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569465784, "post_id": 58096889, "comment_id": 102607881, "body": "Sorry, I don&#39;t know."}, {"owner": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569469425, "post_id": 58096889, "comment_id": 102608526, "body": "why the first recursive example won&#39;t print &quot;Do you want more&quot; many times? Since it basicly calls the read() continuaslly.."}, {"owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "reply_to_user": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "edited": false, "score": 0, "creation_date": 1569470003, "post_id": 58096889, "comment_id": 102608644, "body": "rl.question(message, callback);  about callback: <a href=\"https://codeburst.io/javascript-what-the-heck-is-a-callback-aba4da2deced\" rel=\"nofollow noreferrer\">codeburst.io/&hellip;</a>"}], "tags": [], "owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "is_accepted": true, "score": 0, "last_activity_date": 1569410038, "last_edit_date": 1569410038, "creation_date": 1569409228, "answer_id": 58096889, "question_id": 58096673, "link": "https://stackoverflow.com/questions/58096673/how-to-make-readline-work-inside-a-loop-in-typescript/58096889#58096889", "title": "How to make readline work inside a loop in Typescript?", "body": "<p>Change code to</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as readline from 'readline';\nimport * as process from 'process';\nvar rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout\n});\nlet more = 1;\nread();\n\nfunction read() {\n    rl.question(\"Do you want more \", function (answer) {\n        if (answer == \"no\") {\n            more = 0;\n            console.log(\"bye\");\n            rl.close();\n        } else {\n            more++;\n            console.log(\"next round..\" + more);\n            read();\n        }\n    });\n}\n</code></pre>\n\n<p>Use readline-sync</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as rl from 'readline-sync';\nvar more = 1;\nread();\nfunction read() {\n    while (more) {\n        let answer = rl.question(\"Do you want more \");\n        if (answer == \"no\") {\n            more = 0;\n            console.log(\"bye\");\n        } else {\n            more++;\n            console.log(\"next round..\" + more);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1071, "user_id": 7773444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-BR1uHOYfpe8/AAAAAAAAAAI/AAAAAAAAAAo/5bptj5FARWo/photo.jpg=k-s128", "display_name": "Michael", "link": "https://stackoverflow.com/users/7773444/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "accepted_answer_id": 58096889, "answer_count": 1, "score": 0, "last_activity_date": 1569410038, "creation_date": 1569408417, "question_id": 58096673, "link": "https://stackoverflow.com/questions/58096673/how-to-make-readline-work-inside-a-loop-in-typescript", "title": "How to make readline work inside a loop in Typescript?", "body": "<p>I am really a newbie on Typescript. I wrote a piece of code to do something like C's \"While + scanf\".</p>\n\n<p>Here below is my code:</p>\n\n<pre><code>var readline = require('readline');\nvar rl = readline.createInterface({\n    input: process.stdin,\n    output: process.stdout\n});\nlet more = 1;\nwhile (more) {\n    rl.question(\"Do you want more \", function(answer) {\n        if (answer == \"no\") {\n           more = 0;\n           console.log(\"bye\");\n        } else {\n            more++;\n            console.log(\"next round..\" + more);\n        }\n        rl.close();\n    });\n}\n</code></pre>\n\n<p>To my surprise, before I can type anything, my console was flooded with \"Do you want more\". I googled around and suspected something related to asynchronous. But I still don't know how to properly make this simple piece of code to work.  </p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2638, "user_id": 3273700, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d8dd1259d7828b4bf619ee612325b462?s=128&d=identicon&r=PG&f=1", "display_name": "R.K.Saini", "link": "https://stackoverflow.com/users/3273700/r-k-saini"}, "edited": false, "score": 0, "creation_date": 1569408275, "post_id": 58096576, "comment_id": 102585269, "body": "Use JSON.parse(response.email_id) to parse only email_id"}, {"owner": {"reputation": 19440, "user_id": 6275103, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KDDMj.jpg?s=128&g=1", "display_name": "MrGeek", "link": "https://stackoverflow.com/users/6275103/mrgeek"}, "edited": false, "score": 1, "creation_date": 1569408335, "post_id": 58096576, "comment_id": 102585299, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36038454/parsing-string-as-json-with-single-quotes\">Parsing string as JSON with single quotes?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 743, "user_id": 1865844, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/SWNdD.jpg?s=128&g=1", "display_name": "Mahesh", "link": "https://stackoverflow.com/users/1865844/mahesh"}, "is_accepted": true, "score": 3, "last_activity_date": 1569408636, "creation_date": 1569408636, "answer_id": 58096730, "question_id": 58096576, "link": "https://stackoverflow.com/questions/58096576/converting-array-inside-a-string-to-an-array/58096730#58096730", "title": "Converting array inside a string to an array", "body": "<p>Below solution will work for your case provided the strings does not contain <code>/'</code></p>\n\n<pre><code>var a = \"['abc@mail.com', 'cde@mail.com', 'def@mail.com']\";\na = a.replace(/'/g, '\"');\nvar result = JSON.parse(a);\n</code></pre>\n\n<p>Considering its an email data, there's no possibility of having that escape character sequence</p>\n"}, {"tags": [], "owner": {"reputation": 12205, "user_id": 2932476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NGiMv.png?s=128&g=1", "display_name": "Spring", "link": "https://stackoverflow.com/users/2932476/spring"}, "is_accepted": false, "score": 1, "last_activity_date": 1569408883, "creation_date": 1569408883, "answer_id": 58096798, "question_id": 58096576, "link": "https://stackoverflow.com/questions/58096576/converting-array-inside-a-string-to-an-array/58096798#58096798", "title": "Converting array inside a string to an array", "body": "<p>You have to send in backend the format with double quotes instead of one quotes or in front just replace quotes <code>'</code> with double quotes \" inside your array , otherwise the parse will fail , </p>\n\n<p>see below snippet :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let json = {\r\n  email_id:  \"['abc@mail.com', 'cde@mail.com']\"\r\n}\r\njson.email_id = json.email_id.replace(/'/g,\"\\\"\");\r\nconsole.log(JSON.parse(json.email_id));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 189, "user_id": 9804541, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vaishnavi Dongre", "link": "https://stackoverflow.com/users/9804541/vaishnavi-dongre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 58096730, "answer_count": 2, "score": 3, "last_activity_date": 1569418341, "creation_date": 1569408098, "last_edit_date": 1569418341, "question_id": 58096576, "link": "https://stackoverflow.com/questions/58096576/converting-array-inside-a-string-to-an-array", "title": "Converting array inside a string to an array", "body": "<p>I have a response which contains an array which is present inside string(<code>\"\"</code>). What I need I just the array. How do I get rid of the quotes?</p>\n\n<p>I tried <code>JSON.parse()</code>. It gave me error message</p>\n\n<blockquote>\n  <p>SyntaxError: Unexpected token ' in JSON at position 1</p>\n</blockquote>\n\n<p>What I have is as follows:</p>\n\n<pre><code>email_id: \"['abc@mail.com', 'cde@mail.com']\"\n</code></pre>\n\n<p>What I need is as follows:</p>\n\n<pre><code>email_id: ['abc@mail.com', 'cde@mail.com']\n</code></pre>\n\n<p>This is a key which a part of a large response I am getting from backend in my angular 7 app.</p>\n"}, {"tags": ["javascript", "json", "angular", "typescript", "parsing"], "comments": [{"owner": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 2, "creation_date": 1569408111, "post_id": 58096488, "comment_id": 102585173, "body": "The answer below is right, but I would also suggest you to 1) send your number values like <code>Code</code> as numbers and not as strings, 2) don&#39;t use the <code>: any</code> type. Give it the right one \u2192 In your case <code>string</code> or if you follow tip 1) also <code>number</code>"}, {"owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "edited": false, "score": 1, "creation_date": 1569408147, "post_id": 58096488, "comment_id": 102585197, "body": "Use online helpers like <a href=\"http://www.jsontots.com/\" rel=\"nofollow noreferrer\">jsontots.com</a> to convert server responses to ts classes and avoid errors."}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 0, "creation_date": 1569408250, "post_id": 58096488, "comment_id": 102585255, "body": "@MauriceNino +1 also properties name should start with lower case so for example <code>Code</code> should be <code>code</code> in classes as well as from server response"}, {"owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "reply_to_user": {"reputation": 4702, "user_id": 9150652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Wq-FHmDsL9Q/AAAAAAAAAAI/AAAAAAAAAAc/2nUaRgj2kpQ/photo.jpg?sz=128", "display_name": "MauriceNino", "link": "https://stackoverflow.com/users/9150652/mauricenino"}, "edited": false, "score": 0, "creation_date": 1569408328, "post_id": 58096488, "comment_id": 102585292, "body": "Thanks for the advices, but I receive the JSON from a remote server so I have nothing to do with that :) @MauriceNino"}], "answers": [{"comments": [{"owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "edited": false, "score": 0, "creation_date": 1569410235, "post_id": 58096523, "comment_id": 102586315, "body": "What if the JSON comes with one <code>FuntionalError</code> and it is not inside <code>[ ]</code>?"}, {"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "reply_to_user": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "edited": false, "score": 0, "creation_date": 1569411502, "post_id": 58096523, "comment_id": 102586934, "body": "@I&#241;igo i will not suggest you to do that there must be consistent format.For example you execute a <code>foreach</code> and you get and <code>object</code> instead of <code>array</code> your code will break"}], "tags": [], "owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "is_accepted": true, "score": 4, "last_activity_date": 1569407945, "creation_date": 1569407945, "answer_id": 58096523, "question_id": 58096488, "link": "https://stackoverflow.com/questions/58096488/how-to-represent-nested-json-in-angular-classes/58096523#58096523", "title": "How to represent nested JSON in Angular Classes?", "body": "<p>Change your <code>ErrorsContent</code> class to </p>\n\n<pre><code>class ErrorsContent{\n    public FunctionalError: FunctionalError[];//it should be array \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 721, "user_id": 8409133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOCYE.jpg?s=128&g=1", "display_name": "Iftifar Taz", "link": "https://stackoverflow.com/users/8409133/iftifar-taz"}, "is_accepted": false, "score": 3, "last_activity_date": 1569408450, "last_edit_date": 1569408450, "creation_date": 1569408050, "answer_id": 58096558, "question_id": 58096488, "link": "https://stackoverflow.com/questions/58096488/how-to-represent-nested-json-in-angular-classes/58096558#58096558", "title": "How to represent nested JSON in Angular Classes?", "body": "<p><code>FunctionalError</code> is an <code>array</code>. You are declaring it as a <code>object</code>.</p>\n\n<p>Use</p>\n\n<pre><code>class ErrorsContent {\n    public FunctionalError: FunctionalError[];\n}\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>class ErrorsContent {\n    public FunctionalError: FunctionalError;\n}\n</code></pre>\n\n<p>You can use any online tool to convert server JSON response to TS classes. Ex: <a href=\"http://www.jsontots.com/\" rel=\"nofollow noreferrer\">jsontots</a>, <a href=\"http://www.json2ts.com\" rel=\"nofollow noreferrer\">json2ts</a> etc.</p>\n"}, {"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1569408735, "creation_date": 1569408735, "answer_id": 58096761, "question_id": 58096488, "link": "https://stackoverflow.com/questions/58096488/how-to-represent-nested-json-in-angular-classes/58096761#58096761", "title": "How to represent nested JSON in Angular Classes?", "body": "<p>Try like this:</p>\n\n<pre><code>class ErrorsContent{\n    public FunctionalError: Array&lt;FunctionalError&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 470, "favorite_count": 0, "accepted_answer_id": 58096523, "answer_count": 3, "score": 2, "last_activity_date": 1569411558, "creation_date": 1569407839, "last_edit_date": 1569411558, "question_id": 58096488, "link": "https://stackoverflow.com/questions/58096488/how-to-represent-nested-json-in-angular-classes", "title": "How to represent nested JSON in Angular Classes?", "body": "<p>I get this JSON from a server:</p>\n\n<pre><code>\"Body\": {\n    \"ErrorsContent\": {\n        \"FunctionalError\": [\n            {\n                \"Code\": \"110900\",\n                \"Error\": \"xx\",\n                \"Position\": \"xx\",\n                \"Value\": \"\"\n            },\n            {\n                \"Code\": \"110900\",\n                \"Error\": \"xx\",\n                \"Position\": \"xx\",\n                \"Value\": \"\"\n            },\n            {\n                \"Code\": \"110900\",\n                \"Error\": \"xx\",\n                \"Position\": \"xx\",\n                \"Value\": \"\"\n            },\n            {\n                \"Code\": \"110902\",\n                \"Error\": \"xx\",\n                \"Position\": \"xx\",\n                \"Value\": \"\"\n            },\n            {\n                \"Code\": \"110900\",\n                \"Error\": \"xx\",\n                \"Position\": \"xx\",\n                \"Value\": \"\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>I need it to parse to an Angular object, so I created a couple classes:</p>\n\n<pre><code>export class Body{\n    public ErrorsContent: ErrorsContent;\n}\n\nclass ErrorsContent{\n    public FunctionalError: FunctionalError;\n}\n\nclass FunctionalError{\n    public Code: any;\n    public Error: any;\n    public Position: any;\n    public Value: any;\n}\n</code></pre>\n\n<p>But this does not work fine when I have more than one <code>FuntionalError</code>.</p>\n\n<blockquote>\n  <p>How can I set the <code>FuntionalError</code> class so that I can have more than\n  one error without being a class itself?</p>\n</blockquote>\n\n<p>Any advice is welcome! Thanks.</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 2215925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7039b7787a18e709fe1790dc513baa01?s=128&d=identicon&r=PG&f=1", "display_name": "VMM", "link": "https://stackoverflow.com/users/2215925/vmm"}, "is_accepted": false, "score": 2, "last_activity_date": 1569417180, "creation_date": 1569417180, "answer_id": 58099274, "question_id": 58096271, "link": "https://stackoverflow.com/questions/58096271/is-there-some-kind-of-find-method-on-arrays-that-returns-item-undefined-rath/58099274#58099274", "title": "Is there some kind of find method on Arrays that returns [item | undefined] rather than item | undefined?", "body": "<p>Let me start that I like the first solution. In my opinion, it looks good.</p>\n\n<p>But if you are really desperate for a solution that fulfills your pipe dream</p>\n\n<pre><code>    const array = [10, 20, 30];\n\n    function singleMapFind(args, fn) {\n        const currentArray = args[2];\n        const duplicate = [...currentArray];\n        currentArray.splice(1, currentArray.length - 1);\n        return duplicate.find(fn);\n    }\n\n    const modified = array.map((...args) =&gt; singleMapFind(args, (e) =&gt; e &gt; 20));\n</code></pre>\n\n<p>I would never use it though. Wish you luck with the PR.</p>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569417180, "creation_date": 1569407090, "question_id": 58096271, "link": "https://stackoverflow.com/questions/58096271/is-there-some-kind-of-find-method-on-arrays-that-returns-item-undefined-rath", "title": "Is there some kind of find method on Arrays that returns [item | undefined] rather than item | undefined?", "body": "<p>Here is some code from I project I am working in:</p>\n\n<pre><code>    const profile = userdataDocs\n        .filter(isValidUserdataDocument)\n        .find((document: ICouchDBDocumentDoc) =&gt; document._id === profileId);\n\n    if (profile) {\n        return {\n            id: hashSensitive(profile._id, environment),\n            type: profile.type,\n            creationDate: profile.creationDate,\n            updatedDate: profile.updatedDate,\n            entityVersion: profile.entityVersion,\n        };\n    }\n</code></pre>\n\n<p>Here is how I would like to have my code look:</p>\n\n<pre><code>    return userdataDocs\n        .filter(isValidUserdataDocument)\n        .filter((document: ICouchDBDocumentDoc) =&gt; document._id === profileId)\n        .map((profile: ICouchDBDocumentDoc) =&gt; ({\n            id: hashSensitive(profile._id, environment),\n            type: profile.type,\n            creationDate: profile.creationDate,\n            updatedDate: profile.updatedDate,\n            entityVersion: profile.entityVersion,\n        }))\n        .slice(0, 1);\n</code></pre>\n\n<p>But I get feedback from the rest of my team that I should not use filter because it will continue searching after having found an item. Premature optimization in mind, but still a pretty valid and popular opinion.</p>\n\n<p>Is there some other array method (or altogether different solution) that I can use to write code the way I want, with 'pipes', without getting the performance penalty of moving from find to filter?</p>\n\n<p>Also let me know if I am an idiot and should let go of the pipe dream (pun intended).</p>\n"}, {"tags": ["angular", "typescript", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "is_accepted": true, "score": 3, "last_activity_date": 1569407398, "creation_date": 1569407398, "answer_id": 58096369, "question_id": 58096128, "link": "https://stackoverflow.com/questions/58096128/angular-prettify-data-with-pipe-or-other-way/58096369#58096369", "title": "Angular prettify data with pipe or other way", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\" rel=\"nofollow noreferrer\">JSON.stringify</a> to achieve this.</p>\n\n<p>Add this function in your component.ts:</p>\n\n<pre><code>prettify(jsonobj) {\n   return JSON.stringify(jsonobj,null,'\\t');\n}\n</code></pre>\n\n<p>And then in your template, instead of <code>&lt;div&gt;&lt;pre&gt;&lt;code&gt;{{ content }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</code>, use this:</p>\n\n<pre><code>&lt;div&gt;&lt;pre&gt;&lt;code&gt;{{ prettify(content) }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Working Stackblitz demo: <a href=\"https://stackblitz.com/edit/angular-f9tdhu\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-f9tdhu</a></p>\n"}, {"tags": [], "owner": {"reputation": 1306, "user_id": 1845426, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6ad3b0a893713f2bd07559d038b2d10d?s=128&d=identicon&r=PG", "display_name": "rc.adhikari", "link": "https://stackoverflow.com/users/1845426/rc-adhikari"}, "is_accepted": false, "score": 1, "last_activity_date": 1569407479, "creation_date": 1569407479, "answer_id": 58096390, "question_id": 58096128, "link": "https://stackoverflow.com/questions/58096128/angular-prettify-data-with-pipe-or-other-way/58096390#58096390", "title": "Angular prettify data with pipe or other way", "body": "<p>Does your page require to print into that format or you just want to preview for yourself (normally, I use <a href=\"https://jsonformatter.org/json-pretty-print\" rel=\"nofollow noreferrer\">PrettyJSON </a> to preview it)?</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11786942"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 58096369, "answer_count": 2, "score": 2, "last_activity_date": 1569407479, "creation_date": 1569406661, "question_id": 58096128, "link": "https://stackoverflow.com/questions/58096128/angular-prettify-data-with-pipe-or-other-way", "title": "Angular prettify data with pipe or other way", "body": "<p>I am using angular 8 and I have some data that is currently showing on the div like this:</p>\n\n<pre><code>{\"Information\":\"Information one\",\"Output\":[{\"address1\":\"someaddress\"},{\"address2\":\"someaddress\"},{\"address3\":\"someaddress\"},{\"address4\":\"someaddress\"}]}\n</code></pre>\n\n<p>As you can see, it's all in a line.</p>\n\n<p>Here is how the .html file looks like:</p>\n\n<pre><code>&lt;div&gt;&lt;pre&gt;&lt;code&gt;{{ content }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I have tried this:</p>\n\n<pre><code>&lt;div&gt;&lt;pre&gt;&lt;code&gt;{{ content | json }}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;\n</code></pre>\n\n<p>..but the output looks like this:</p>\n\n<pre><code>\"{\\\"Information\\\":\\\"Information one\\\",\\\"Output\\\":[{\\\"address1\\\":\\\"someaddress\\\"},{\\\"address2\\\":\\\"someaddress\\\"},{\\\"address3\\\":\\\"someaddress\\\"},{\\\"address4\\\":\\\"someaddress\\\"}]}\"\n</code></pre>\n\n<p>So it's even worse.</p>\n\n<p>How can I make it look more like this?</p>\n\n<pre><code>{\n  \"Information\":\"Information one\",\n  \"Output\":[\n    {\n      \"address1\":\"someaddress\"\n    },\n    {\n      \"address2\":\"someaddress\"\n    },\n    {\n      \"address3\":\"someaddress\"\n    },\n    {\n      \"address4\":\"someaddress\"\n    }\n  ]\n}\n</code></pre>\n"}, {"tags": ["typescript", "nestjs", "typeorm"], "comments": [{"owner": {"reputation": 779, "user_id": 2884613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m1C6J.jpg?s=128&g=1", "display_name": "raychz", "link": "https://stackoverflow.com/users/2884613/raychz"}, "edited": false, "score": 0, "creation_date": 1569953819, "post_id": 58096109, "comment_id": 102760026, "body": "Have you tried removing <code>&quot;rootDirs&quot;: [&quot;.&#47;src&#47;*&quot;]</code> from your tsconfig?"}, {"owner": {"reputation": 41, "user_id": 9072730, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LZ4i1gQefN8/AAAAAAAAAAI/AAAAAAAAAVA/Ud39rqHbv10/photo.jpg?sz=128", "display_name": "Victor Zakharov", "link": "https://stackoverflow.com/users/9072730/victor-zakharov"}, "reply_to_user": {"reputation": 779, "user_id": 2884613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m1C6J.jpg?s=128&g=1", "display_name": "raychz", "link": "https://stackoverflow.com/users/2884613/raychz"}, "edited": false, "score": 0, "creation_date": 1570044553, "post_id": 58096109, "comment_id": 102794232, "body": "Yes, I tried to use this config, but the result is the same. <code>{   &quot;compilerOptions&quot;: {     &quot;module&quot;: &quot;commonjs&quot;,     &quot;declaration&quot;: true,     &quot;removeComments&quot;: true,     &quot;emitDecoratorMetadata&quot;: true,     &quot;experimentalDecorators&quot;: true,     &quot;target&quot;: &quot;es6&quot;,     &quot;sourceMap&quot;: true,     &quot;outDir&quot;: &quot;.&#47;dist&quot;,     &quot;baseUrl&quot;: &quot;.&#47;&quot;,     &quot;incremental&quot;: true   },   &quot;exclude&quot;: [&quot;node_modules&quot;] }</code>"}], "owner": {"reputation": 41, "user_id": 9072730, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LZ4i1gQefN8/AAAAAAAAAAI/AAAAAAAAAVA/Ud39rqHbv10/photo.jpg?sz=128", "display_name": "Victor Zakharov", "link": "https://stackoverflow.com/users/9072730/victor-zakharov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 963, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1569407428, "creation_date": 1569406594, "last_edit_date": 1569407428, "question_id": 58096109, "link": "https://stackoverflow.com/questions/58096109/tsconfig-how-to-flatten-structure-src-files-at-build-to-dist-when-i-use-multip", "title": "Tsconfig, How to flatten structure src files at build to dist, when I use multiple rootDirs", "body": "<p>I have nest js app with type orm and files database migrations. Actual for Windows.\nI need to make flatten structure from src to build dist and then add folder migrations.\nI have this struct:</p>\n\n<pre><code>project/\n  tsconfig.json\n  tsconfig.build.json\n  ormconfig.js\n  migrations/\n    **.file.ts\n  src/\n    app.module.ts\n    main.ts\n    common/\n    modules/\n</code></pre>\n\n<p>I need to build:</p>\n\n<pre><code>dist\n  migrations/\n  common/\n  modules/\n  app.module.d.ts\n  app/module.js\n  main.d.ts\n  main.js\n</code></pre>\n\n<p>But I have:</p>\n\n<pre><code>dist\n  migrstions/\n  src/\n  tsconfig.build.tsbuildinfo\n</code></pre>\n\n<p>My tsconfig.json file:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"declaration\": true,\n    \"removeComments\": true,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"target\": \"es6\",\n    \"sourceMap\": true,\n    \"outDir\": \"./dist\",\n    \"baseUrl\": \"./\",\n    \"incremental\": true,\n    \"rootDir\": \".\",\n    \"rootDirs\": [\"./src/*\"]\n  },\n  \"exclude\": [\"node_modules\"]\n}\n</code></pre>\n\n<p>My ormconfig.js</p>\n\n<pre><code>module.exports = {\n  type: process.env.DB_TYPE,\n  host: process.env.DB_HOST,\n  port: process.env.DB_PORT,\n  username: process.env.DB_USERNAME,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  entities: ['src/**/entities/index.ts'],\n  migrations: ['migrations/*.ts'],\n  migrationsRun: false,\n  synchronize: false,\n  cli: {\n    migrationsDir: 'migrations',\n  },\n  charset: 'utf8mb4',\n};\n</code></pre>\n\n<p>T try to add path in tsconfig: (by solution <a href=\"https://stackoverflow.com/questions/46995801/how-to-configure-tsconfig-json-to-output-files-from-multiple-source-folders-to-s\">How to configure tsconfig.json to output files from multiple source folders to single flat outDir?</a>), but it does not work for me.</p>\n\n<pre><code>\"compilerOptions\": {\n   ...\n   \"rootDir\": \"./src\",\n   \"paths\": {\n      \"@app/migrations\": [\"./migrations\"]\n    }\n   ...\n}\n</code></pre>\n\n<p>Is it possible to configure tsconfig for such a structure, or the only solution is to transfer the migrations folder to src?</p>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1569406322, "post_id": 58095990, "comment_id": 102584225, "body": "Why are the double forward slashes required for the <code>search</code> path? That might actually break your routes."}, {"owner": {"reputation": 525, "user_id": 11153030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0tzk.jpg?s=128&g=1", "display_name": "Dixit Savaliya", "link": "https://stackoverflow.com/users/11153030/dixit-savaliya"}, "edited": false, "score": 0, "creation_date": 1569406392, "post_id": 58095990, "comment_id": 102584259, "body": "refer this link,<a href=\"https://stackoverflow.com/questions/36597832/angular2-routerlink-breaks-routes-by-replacing-slash-with-2f\" title=\"angular2 routerlink breaks routes by replacing slash with 2f\">stackoverflow.com/questions/36597832/&hellip;</a>"}, {"owner": {"reputation": 343, "user_id": 7566696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZt33FA1wpY/AAAAAAAAAAI/AAAAAAAAACo/n4HaVBtd56s/photo.jpg?sz=128", "display_name": "Ajarudin Gunga", "link": "https://stackoverflow.com/users/7566696/ajarudin-gunga"}, "reply_to_user": {"reputation": 17877, "user_id": 6782707, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2425200c04f326a53ef0085b703369d6?s=128&d=identicon&r=PG", "display_name": "Edric", "link": "https://stackoverflow.com/users/6782707/edric"}, "edited": false, "score": 0, "creation_date": 1569406427, "post_id": 58095990, "comment_id": 102584281, "body": "@Edric Migrating existing project with angular and the current url&#39;s are like above, and that URL&#39;s promoted and running many campaigns and well indexed by search engines"}, {"owner": {"reputation": 343, "user_id": 7566696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZt33FA1wpY/AAAAAAAAAAI/AAAAAAAAACo/n4HaVBtd56s/photo.jpg?sz=128", "display_name": "Ajarudin Gunga", "link": "https://stackoverflow.com/users/7566696/ajarudin-gunga"}, "reply_to_user": {"reputation": 525, "user_id": 11153030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f0tzk.jpg?s=128&g=1", "display_name": "Dixit Savaliya", "link": "https://stackoverflow.com/users/11153030/dixit-savaliya"}, "edited": false, "score": 0, "creation_date": 1569406773, "post_id": 58095990, "comment_id": 102584462, "body": "@DixitSavaliya check accepted answer comments it&#39;s not working with child routes."}], "owner": {"reputation": 343, "user_id": 7566696, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BZt33FA1wpY/AAAAAAAAAAI/AAAAAAAAACo/n4HaVBtd56s/photo.jpg?sz=128", "display_name": "Ajarudin Gunga", "link": "https://stackoverflow.com/users/7566696/ajarudin-gunga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569436947, "creation_date": 1569406196, "last_edit_date": 1569436947, "question_id": 58095990, "link": "https://stackoverflow.com/questions/58095990/how-to-use-forward-slashes-as-url-in-angular-5-router", "title": "how to use Forward slashes as URL in angular 5 router", "body": "<p>Have some special requirement like double slashes must be in URL like below </p>\n\n<p><code>http://localhost:3000/search//37.77/-122.419/nearby</code></p>\n\n<p>Note : That <strong>double forward slashes</strong> after the <code>search</code> is required.</p>\n\n<p>What I have tried</p>\n\n<pre><code>const routes: Routes = [\n  { path: '', component: SearchpagesComponent ,\n    children: [\n      {\n        path: 'search//:lat/:lng/:filter', loadChildren: './search/search.module#SearchModule'\n      }\n    ]\n  }\n];\n</code></pre>\n\n<p>Have enabled log by <code>{ enableTracing: true }</code> and debugged. it's not considering full URL only considering till <code>http://localhost:3000/parking</code> and as that not matching with any routes its redirecting to <code>http://localhost:3000</code></p>\n\n<p>How can I achieve component load with a double slash in URL?</p>\n\n<hr>\n\n<p>Edited </p>\n\n<p>It will also work if its redirect to similar URL without slashes so at least component load.\nLike below URL will redirect to \n<code>http://localhost:3000/search//37.77/-122.419/nearby</code> ---> <code>http://localhost:3000/search/37.77/-122.419/nearby</code></p>\n\n<p>Found similar issue on angular repo <a href=\"https://github.com/angular/angular/issues/32853\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/32853</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "dropdown"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569406500, "post_id": 58095885, "comment_id": 102584306, "body": "Can you please elaborate What you are trying to achieve here"}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569407109, "post_id": 58095885, "comment_id": 102584629, "body": "using custom dropdown, I try to get selected value, then after the second attempt I try, the dropdown only show for the selected value only (supposed to be show all the value )"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569407031, "post_id": 58096057, "comment_id": 102584587, "body": "yeah, but another problem happen, if I removed this.myData.cards= [card]; , then selected card will not push, it will push all the cards"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569407080, "post_id": 58096057, "comment_id": 102584617, "body": "Where do you want to push selected card? your question wasn&#39;t clear"}, {"owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569407240, "post_id": 58096057, "comment_id": 102584690, "body": "from dropdown, get selected value and display it on dropdown default component,"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569407243, "post_id": 58096057, "comment_id": 102584691, "body": "Check the demo I shared, do you want like this?"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569407470, "post_id": 58096057, "comment_id": 102584836, "body": "Sure. Check it."}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1569407460, "last_edit_date": 1569407460, "creation_date": 1569406427, "answer_id": 58096057, "question_id": 58095885, "link": "https://stackoverflow.com/questions/58095885/custom-dropdown-only-displayed-selected-value-angular/58096057#58096057", "title": "custom dropdown only displayed selected value Angular", "body": "<p>You have filtered and modified <code>this.myData.cards</code> to have only one item:</p>\n\n<pre><code> selectDropdownCard(card) {\n     this.myData.cards= [card];\n  }\n</code></pre>\n\n<p>Therefore it displays only single item.</p>\n\n<p>To push the selected item, you don't need to modify <code>myData</code> , you can simply display it without for loop.</p>\n\n<pre><code>&lt;ng-container *ngIf=\"show1\"&gt;\n    {{selectedCard.cardNumberMasked}} dropdown\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>Removing <code>this.myData.cards= [card];</code> will display all items</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-swuekd?embed=1&amp;file=src/app/payment/payment.component.html\" rel=\"nofollow noreferrer\">Forked Stackbiltz</a></p>\n"}], "owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 58096057, "answer_count": 1, "score": 1, "last_activity_date": 1569407513, "creation_date": 1569405807, "last_edit_date": 1569407513, "question_id": 58095885, "link": "https://stackoverflow.com/questions/58095885/custom-dropdown-only-displayed-selected-value-angular", "title": "custom dropdown only displayed selected value Angular", "body": "<p>I using custom dropdown using <code>div</code>,when I got object response <code>cards</code> from API, I need to iterate data using custom dropdown, problem is after selected, the next clicked dropdown only show selected value ( supposed to be array object), this is what I had tried: </p>\n\n<p><strong>ts file</strong></p>\n\n<pre><code>  selectSavedCard() {\n    this.show = !this.show;\n  }\n\n  selectDropdownCard(card) {\n    this.myData.cards.find((item) =&gt; item.cardId === card.id) ?\n    this.myData.cards = this.myData.cards.filter((item) =&gt; item.cardId === card.id) :\n    this.myData.cards= [card];\n    this.show = false;\n    this.hasSelected = true;\n    this.selectedCard = card;\n    this.show1 = true;\n  }\n</code></pre>\n\n<p><strong>html file</strong></p>\n\n<pre><code>  &lt;div class=\"div1\" (click)=\"selectSavedCard()\" [(ngModel)]=\"selectedCard\" ngDefaultControl&gt;\n    &lt;div *ngIf='!hasSelected'&gt;\n      &lt;div&gt;\n        &lt;p&gt;dropdown&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;!-- to bind selected card --&gt;\n&lt;ng-container *ngIf=\"show1\"&gt;\n      &lt;div  *ngFor=\"let card of myData.cards\"&gt;\n      &lt;div&gt;\n        &lt;p&gt;{{card.cardNumberMasked}}  dropdown&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/ng-container&gt;\n  &lt;/div&gt;\n\n    &lt;div class=\"div2\" *ngIf=\"show\"&gt;\n    &lt;div *ngFor=\"let card of myData.cards\" (click)=\"selectDropdownCard(card)\"&gt;\n      &lt;div&gt;\n        &lt;p&gt;{{card.cardNumberMasked}}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>this is my <a href=\"https://stackblitz.com/edit/angular-pr4zjf?file=src%2Fapp%2Fpayment%2Fpayment.component.html\" rel=\"nofollow noreferrer\">stackblitz demo</a>, for the first clicked dropdown, it worked well (it show all array) after selected card, clicked drodpdown, (it only show selected card, supposed to be show all array), hope can make u guys understand and give me suggestion to solve this.</p>\n"}, {"tags": ["typescript", "spring-boot", "vue.js", "okta-api"], "comments": [{"owner": {"reputation": 5795, "user_id": 65681, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72a2082c6a4dd79ad68befb3db911616?s=128&d=identicon&r=PG", "display_name": "Matt Raible", "link": "https://stackoverflow.com/users/65681/matt-raible"}, "edited": false, "score": 0, "creation_date": 1569419128, "post_id": 58095721, "comment_id": 102591518, "body": "Make sure your computer&#39;s clock is synced to internet time. I&#39;ve seen that cause this issue in the past."}, {"owner": {"reputation": 258, "user_id": 8483151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac22927dfd9834d2cf9e7ea8aa373ef?s=128&d=identicon&r=PG&f=1", "display_name": "TKD21", "link": "https://stackoverflow.com/users/8483151/tkd21"}, "reply_to_user": {"reputation": 5795, "user_id": 65681, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72a2082c6a4dd79ad68befb3db911616?s=128&d=identicon&r=PG", "display_name": "Matt Raible", "link": "https://stackoverflow.com/users/65681/matt-raible"}, "edited": false, "score": 0, "creation_date": 1569469295, "post_id": 58095721, "comment_id": 102608503, "body": "Thank you for the suggestion, my computer&#39;s clock was indeed not synced to the current time zone&#39;s time. However, the problem persists - same error - &quot;Invalid access token&quot;."}, {"owner": {"reputation": 5795, "user_id": 65681, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72a2082c6a4dd79ad68befb3db911616?s=128&d=identicon&r=PG", "display_name": "Matt Raible", "link": "https://stackoverflow.com/users/65681/matt-raible"}, "edited": false, "score": 0, "creation_date": 1569599150, "post_id": 58095721, "comment_id": 102661985, "body": "Can you try in an incognito window and see if that solves it. When I&#39;ve seen this happen before, it&#39;s because the clientId is wrong, the clock is wrong, or you&#39;re using the default issuer (w/o <code>&#47;oauth2&#47;default</code>)."}, {"owner": {"reputation": 258, "user_id": 8483151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac22927dfd9834d2cf9e7ea8aa373ef?s=128&d=identicon&r=PG&f=1", "display_name": "TKD21", "link": "https://stackoverflow.com/users/8483151/tkd21"}, "reply_to_user": {"reputation": 5795, "user_id": 65681, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72a2082c6a4dd79ad68befb3db911616?s=128&d=identicon&r=PG", "display_name": "Matt Raible", "link": "https://stackoverflow.com/users/65681/matt-raible"}, "edited": false, "score": 0, "creation_date": 1570266083, "post_id": 58095721, "comment_id": 102864882, "body": "Sorry for the delayed response. Which issuer should I be using then - isn&#39;t <code>&#47;oauth2&#47;default</code> the go-to issuer to use? I have updated my question with the details of the incognito window tests."}], "owner": {"reputation": 258, "user_id": 8483151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cac22927dfd9834d2cf9e7ea8aa373ef?s=128&d=identicon&r=PG&f=1", "display_name": "TKD21", "link": "https://stackoverflow.com/users/8483151/tkd21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 439, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570518518, "creation_date": 1569405194, "last_edit_date": 1570518518, "question_id": 58095721, "link": "https://stackoverflow.com/questions/58095721/okta-oauth-2-0-invalid-access-token-from-spring-boot-resource-server", "title": "Okta OAuth 2.0 - Invalid access token from Spring Boot resource server", "body": "<p>Recently I've tried to create a small app, based on the tutorial <a href=\"https://www.youtube.com/watch?v=aBXmi-J4LQs\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>At one point, the author of the video reaches a \"401 (Unauthorized)\" error upon accessing the REST API's URLs and fixes that by appending an <strong>Authorization: Bearer 'generated token hash here'</strong>.</p>\n\n<p>However, I keep getting the same 401 error. If I check the request to the URL, I see that there is an \"invalid_token\" error with the description <strong>\"Invalid access token: &lt; access token hash here >\"</strong></p>\n\n<p>My <code>okta.oauth2.issuer</code> in <code>application.properties</code> is in the format <a href=\"https://dev-XXXXXX.okta.com/oauth2/default\" rel=\"nofollow noreferrer\">https://dev-XXXXXX.okta.com/oauth2/default</a></p>\n\n<p>I have an Okta configuration class on the Spring Boot side that looks like this: </p>\n\n<pre><code>@Configuration \n     public class OktaOAuth2Configuration extends WebSecurityConfigurerAdapter \n      {\n          @Override\n          protected void configure(HttpSecurity http) throws Exception {\n           http\n               .authorizeRequests().anyRequest().authenticated()\n               .and()\n               .oauth2ResourceServer().jwt();\n         }\n    }\n</code></pre>\n\n<p>On the Vue.js side, I add the access token in the following way:</p>\n\n<pre><code>const response = await axios.get('/goodBeers', {\n                     headers: {\n                        Authorization: `Bearer ${await this.$auth.getAccessToken()}`,\n                    },\n                });\n</code></pre>\n\n<p>Do I need to do some additional configuration of either Spring Boot or Vue.js?</p>\n\n<p><strong>EDIT:</strong> Here are my response headers and request headers --> <a href=\"https://imgur.com/a/gqAFwof\" rel=\"nofollow noreferrer\">here</a>  </p>\n\n<p><strong>EDIT 2:</strong> I realized that I've created a Web app in Okta instead of a SPA like in the video above. I corrected that but the error is the exact same one as before that.</p>\n\n<p><strong>EDIT 3:</strong> The problem is related to the <code>@EnableResourceServer</code> annotation in Spring Boot. I'm assuming I'm missing some kind of configuration.</p>\n\n<p><strong>EDIT 4:</strong> Whenever I go incognito and try to access the API, I get the same error but instead of \"Invalid token: \" I get \"Invalid token: undefined\" instead.</p>\n\n<p><strong>EDIT 5:</strong> I have changed the <code>issuer</code> to contain <code>oktapreview</code> instead of just <code>okta</code>, as is in the github repo for the example in the video. However, that just changes the error to an Okta login error that says \"The requested feature is not enabled in this environment\" </p>\n"}, {"tags": ["typescript", "generics", "typescript-generics"], "comments": [{"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 1, "creation_date": 1569408199, "post_id": 58095639, "comment_id": 102585229, "body": "Why do you need to retrieve the constructor?"}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569408786, "post_id": 58095639, "comment_id": 102585524, "body": "@BunyaminCoskuner - The why doesn&#39;t matter. I have a question, and I&#39;m looking for an answer. I know you are probably pondering my use-case is, and whether my use case is in itself a misconception, so that you may remedy that. I find it a little annoying when I find questions that are answered with, &quot;why are you doing that&quot;. My reasons may or may not be valid, but it matters not, it&#39;s still a valid question. Even if the solution is not appropriate to my use case, it may be for somebody else who finds an answer to this question."}, {"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 2, "creation_date": 1569408937, "post_id": 58095639, "comment_id": 102585598, "body": "I asked that question to understand your problem even further. There is thing called <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a> and sometimes we, people trying to answer questions here, may not understand true intention of OP. I&#39;ve encountered couple of problems that solution was simpler than what OP tried to do. So, my question is as much valid as yours. So, &quot;why&quot; indeed matters a lot"}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569409036, "post_id": 58095639, "comment_id": 102585651, "body": "@BunyaminCoskuner - in that case, my assumption was incorrect. I have seen many examples of what I described, it did look like another such example.  I have several. For example a base class returning a new instance of this. I want it to work for all derived classes without explicitly overriding the method on derived classes to return an instance of the derived class explicitly. Imagine a Model class with a <code>clone</code> method, you&#39;d expect that method to return a new instance of <code>this.constructor</code>, passing in the same data that was passed to the original instance constructor."}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569409055, "post_id": 58095639, "comment_id": 102585658, "body": "@BunyaminCoskuner - I have lots of similar such use cases. I&#39;m porting an app from JS to TS."}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569409136, "post_id": 58095639, "comment_id": 102585698, "body": "@BunyaminCoskuner - I wanted to encapsulate the translation of types in a function to prettify it. I like a balance between explicit readability and prettiness."}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569409701, "post_id": 58095639, "comment_id": 102586031, "body": "@BunyaminCoskuner - apologies if my initial comment came across a bit dismissive. I tend to avoid asking questions on StackOverflow because of the culture that is often tough on newcomers who don&#39;t know the law of the land here. I get irritated more and more when I happen across instances of it. And there are many, hence my assumption. Obviously I&#39;m mistaken in this case."}, {"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 1, "creation_date": 1569410020, "post_id": 58095639, "comment_id": 102586195, "body": "all is well :) I can tell why these kinds of questions can irritate people and I agree there are some condescending people here. Back to the topic, would something like <a href=\"https://stackoverflow.com/questions/34542489/get-constructor-instance-from-generic-type-in-typescript\">this</a> help your case?"}, {"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "reply_to_user": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 0, "creation_date": 1569411161, "post_id": 58095639, "comment_id": 102586755, "body": "@BunyaminCoskuner - it does, I&#39;ll look into it further and evaluate how that can apply to my case. Thank you for your time."}, {"owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "edited": false, "score": 1, "creation_date": 1569411434, "post_id": 58095639, "comment_id": 102586893, "body": "you are welcome, hope you can come up with a fully working solution :)"}], "answers": [{"comments": [{"owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "edited": false, "score": 0, "creation_date": 1569411286, "post_id": 58097085, "comment_id": 102586817, "body": "I see, I&#39;m both pleased that there is a way, but disappointed because it feels convoluted. I guess for now I&#39;ll keep casting <code>this.constrcutor</code>. Thank you for your time and expertise."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "edited": false, "score": 1, "creation_date": 1569411568, "post_id": 58097085, "comment_id": 102586968, "body": "@thephpdev you are welcomed, sorry I don&#39;t have better news. At least now you know :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1569410022, "creation_date": 1569410022, "answer_id": 58097085, "question_id": 58095639, "link": "https://stackoverflow.com/questions/58095639/typescript-generics-function-that-returns-constructor-of-instance-specified-as/58097085#58097085", "title": "TypeScript Generics: Function that returns constructor of instance specified as parameter", "body": "<p>There is no way to move from an instance type to the class type. This would only be possible if <code>constructor</code> was typed as the class type (which it is not) There is an open ticket to make <a href=\"https://github.com/microsoft/TypeScript/issues/3841\" rel=\"nofollow noreferrer\">this happen</a> but it has been open and in discussion for a long time.</p>\n\n<p>If you control the client classes you can add a member to the class to make the method work correctly: </p>\n\n<pre><code>class TraceableClass&lt;TThis&gt; {\n  private typedConstructor!: TThis\n}\nclass A&lt;TThisClas = typeof A&gt; extends TraceableClass&lt;TThisClas&gt;{\n    prop1: string;\n    prop2: number;\n\n    constructor(prop1: string, prop2: number) {\n        super();\n        this.prop1 = prop1;\n        this.prop2 = prop2;\n    }\n\n    method() {\n\n    }\n\n    static make() {\n        return new this('test', 42);\n    }\n}\n\nfunction constructor&lt;T&gt;(instance: TraceableClass&lt;T&gt;): T {\n    return instance.constructor as  any as T;\n}\n\nconst a = A.make();\n\n// Ok now\nconst aa = constructor(a).make();\n\n\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/MYGwhgzhAEAqBOZgFMwCMTIMLigHllgAsBLCAPmgG8AoaaAB3hIDcwAXZadgTweQAmWAPYA7CO3gBXYO2HwAhAC44xMjQC+NUJBgBBAmog5I0ALzc+yYQDNoeysgAenUQJgIkqDNlwRDpMa45LT09EzCDACMKhLMogDmANx0YREMAEwqolIAtmjI8Cmp9MBicTJy8AAU6THQcSSJADSM8JFZ0Dn5hQCU1CVh9BBS-DW9KUND7IEAdHXmbZFRk1P0M2Tz7ZmL6Rmr9FqDucgzwgLV-bSDR0MSHCTA0LlgANbIlwNr9PCnUvCiLrIADu3EC1QA5JwJBDWgAWDITG6aGg0GxSUSyEhiaBlcSSSryAjkapNe6Y5AqTwodCYEz4WDkXpUr5hX7sf6AsnsMAU2Z4iqyeTQUwi0Q8EUeFJHAXsEWLPSzF7vS7FWUisCLWXSIU1MC9JVvD5IoA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 1061, "user_id": 2529423, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/oQkBi.png?s=128&g=1", "display_name": "thephpdev", "link": "https://stackoverflow.com/users/2529423/thephpdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 58097085, "answer_count": 1, "score": 1, "last_activity_date": 1569410022, "creation_date": 1569404886, "last_edit_date": 1569409481, "question_id": 58095639, "link": "https://stackoverflow.com/questions/58095639/typescript-generics-function-that-returns-constructor-of-instance-specified-as", "title": "TypeScript Generics: Function that returns constructor of instance specified as parameter", "body": "<p>I'm learning TypeScript. I've been getting my head around generics, and I've encountered a slight issue that I'm struggling to find answers for.</p>\n\n<p>I have Googled lots and lots of search queries, but because of the ambiguity of the search terms, and lack of knowledge of technical names for certain language constructs, I'm getting lots of noise.</p>\n\n<p>I read three relevant pages of documentation on TypeScript's website, and could not find the information I need. Perhaps I overlooked something, and if that is the case, a link to a good explanation would be appreciated.</p>\n\n<p>I want to write a function that returns the constructor of an instance specified as a parameter that retains typing, since this.constructor in TypeScript is not of the type of the class.</p>\n\n<p>To be very clear, I know I can do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const aa2 = (a.constructor as typeof A).make();\n</code></pre>\n\n<p>This is a stripped down case:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class A {\n    prop1: string;\n    prop2: number;\n\n    constructor(prop1: string, prop2: number) {\n        this.prop1 = prop1;\n        this.prop2 = prop2;\n    }\n\n    method() {\n\n    }\n\n    static make() {\n        return new this('test', 42);\n    }\n}\n\nfunction constructor&lt;T&gt;(instance: T): { new(...args): T } {\n    return instance.constructor as { new(...args): T };\n}\n\nconst a = A.make();\n\n// Property 'make' does not exist on type 'new(...args: any[]) =&gt; A'\nconst aa = constructor(a).make();\n\n\n// This works, but is not pretty\nconst aa2 = (a.constructor as typeof A).make();\n</code></pre>\n\n<p>It needs to work on any class, with constructor parameters or without.</p>\n\n<p>I can do the inverse:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export function make&lt;T&gt;(type: { new(...args): T }, ...args): T {\n    return new type(...args);\n}\n\nmake(A, 'test', 42).method();\n</code></pre>\n\n<p>It seems there is some critical element to this I'm not getting. If you can spot precisely where I'm going wrong in my thinking, I welcome a good explanation of my misunderstanding.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 2940, "user_id": 1906361, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/yWuuo.jpg?s=128&g=1", "display_name": "Shumail", "link": "https://stackoverflow.com/users/1906361/shumail"}, "edited": false, "score": 0, "creation_date": 1569405092, "post_id": 58095483, "comment_id": 102583554, "body": "Did you try using <code>map</code> once you have response? Or simplest way could even be to do it brute force way once you have both responses."}, {"owner": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 1, "creation_date": 1569406042, "post_id": 58095483, "comment_id": 102584078, "body": "How can you determine which entry from <code>info</code> belongs to which entry from <code>standings</code>? Could you add the structure of <code>info</code> and <code>standings</code> as correct json."}, {"owner": {"reputation": 67, "user_id": 9025705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe305fdb71fb2a7fd0c0ee18ef77cbac?s=128&d=identicon&r=PG&f=1", "display_name": "Alecbalec", "link": "https://stackoverflow.com/users/9025705/alecbalec"}, "reply_to_user": {"reputation": 8533, "user_id": 9423231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54730771ababc9c107cf6dac3087b23?s=128&d=identicon&r=PG&f=1", "display_name": "frido", "link": "https://stackoverflow.com/users/9423231/frido"}, "edited": false, "score": 1, "creation_date": 1569408091, "post_id": 58095483, "comment_id": 102585166, "body": "@fridoo both info and standings contains a team id or name that can be used in determining which entry that belongs to standings. I&#39;ve updated the question with a JSON example response for each request."}, {"owner": {"reputation": 904, "user_id": 4841788, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/NGWfh.jpg?s=128&g=1", "display_name": "Sarjerao Ghadage", "link": "https://stackoverflow.com/users/4841788/sarjerao-ghadage"}, "edited": false, "score": 0, "creation_date": 1569408486, "post_id": 58095483, "comment_id": 102585374, "body": "find the common key from both array and  using .filter() or .find() method  fetch the object."}], "owner": {"reputation": 67, "user_id": 9025705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe305fdb71fb2a7fd0c0ee18ef77cbac?s=128&d=identicon&r=PG&f=1", "display_name": "Alecbalec", "link": "https://stackoverflow.com/users/9025705/alecbalec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569408358, "creation_date": 1569404338, "last_edit_date": 1569408358, "question_id": 58095483, "link": "https://stackoverflow.com/questions/58095483/angular-merge-https-request-results-into-the-same-array", "title": "Angular - merge https request results into the same array", "body": "<p>I'm working with two https requests from two different endpoints and I use forkJoin to get the two results merged. What I'm struggling with is to pass data from \"info\" to the corresponding team in \"standings\" as \"info\" contains more detailed information of each football team.</p>\n\n<p>My service:</p>\n\n<pre><code>  espStandings() {\n    return this.httpClient.get&lt;Leagueinfo&gt;('http://site.web.api.espn.com/apis/v2/sports/soccer/esp.1/standings?desc');\n  }\n  espInfo() {\n    return this.httpClient.get&lt;Teaminfo&gt;('https://site.api.espn.com/apis/site/v2/sports/soccer/esp.1/teams');\n  }\n  public getEsp() {\n    return forkJoin(this.espStandings(), this.espInfo()).pipe(map(([standings, info]) =&gt; {\n      return { standings, info };\n    }));\n  }\n</code></pre>\n\n<p>Standings returns an array with all the teams like this (this is the first team in the entries array):</p>\n\n<pre><code>entries: Array(20)\n0:\nnote: {color: \"#81D6AC\", description: \"Champions League\", rank: 1}\nstats: (10) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\nteam: {id: \"3747\", uid: \"s:600~t:3747\", location: \"Granada\", name: \"Granada\", abbreviation: \"GCF\", \u2026}\n</code></pre>\n\n<p>What I want is to add another object called \"record\" to each team in \"entries\" with data from \"info\".</p>\n\n<p>The \"record\" object from the \"info\" result look like this:</p>\n\n<pre><code>record:\nitems: Array(1)\n0:\nstats: (22) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\n</code></pre>\n\n<p>So the final output for each team would be:</p>\n\n<pre><code>entries: Array(20)\n0:\nnote: {color: \"#81D6AC\", description: \"Champions League\", rank: 1}\nstats: (10) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\nteam: {id: \"3747\", uid: \"s:600~t:3747\", location: \"Granada\", name: \"Granada\", abbreviation: \"GCF\", \u2026}\nrecord: {items: Array(1)}\n</code></pre>\n\n<p>JSON example for standings:</p>\n\n<pre><code>{\n    \"uid\": \"s:600~l:740\",\n    \"id\": \"15\",\n    \"name\": \"Spanish Primera Divisi\u00f3n\",\n    \"abbreviation\": \"La Liga\",\n    \"children\": [\n        {\n            \"uid\": \"s:600~l:740~g:1\",\n            \"id\": \"1\",\n            \"name\": \"2019-20 LaLiga\",\n            \"abbreviation\": \"2019-2020\",\n            \"standings\": {\n                \"id\": \"0\",\n                \"name\": \"overall\",\n                \"displayName\": \"Overall Standings\",\n                \"links\": [\n                    {\n                        \"language\": \"en\",\n                        \"rel\": [\n                            \"standings\",\n                            \"desktop\"\n                        ],\n                        \"href\": \"http://www.espn.com/spanish-primera-division/15/table\",\n                        \"text\": \"Table\",\n                        \"shortText\": \"Table\",\n                        \"isExternal\": false,\n                        \"isPremium\": false\n                    }\n                ],\n                \"season\": 2019,\n                \"seasonType\": 1,\n                \"entries\": [\n                    {\n                        \"team\": {\n                            \"id\": \"3747\",\n                            \"uid\": \"s:600~t:3747\",\n                            \"location\": \"Granada\",\n                            \"name\": \"Granada\",\n                            \"abbreviation\": \"GCF\",\n                            \"displayName\": \"Granada\",\n                            \"shortDisplayName\": \"Granada\",\n                            \"isActive\": true,\n                            \"logos\": [\n                                {\n                                    \"href\": \"https://a.espncdn.com/i/teamlogos/soccer/500/3747.png\",\n                                    \"width\": 500,\n                                    \"height\": 500,\n                                    \"alt\": \"\",\n                                    \"rel\": [\n                                        \"full\",\n                                        \"default\"\n                                    ]\n                                }\n                            ],\n                            \"links\": [\n                                {\n                                    \"language\": \"en\",\n                                    \"rel\": [\n                                        \"clubhouse\",\n                                        \"desktop\",\n                                        \"team\"\n                                    ],\n                                    \"href\": \"http://www.espn.com/football/club/_/id/3747/granada\",\n                                    \"text\": \"Clubhouse\",\n                                    \"shortText\": \"Clubhouse\",\n                                    \"isExternal\": false,\n                                    \"isPremium\": false\n                                }\n                            ]\n                        },\n                        \"note\": {\n                            \"color\": \"#81D6AC\",\n                            \"description\": \"Champions League\",\n                            \"rank\": 1\n                        },\n                        \"stats\": [\n                            {\n                            }\n                        ]\n</code></pre>\n\n<p>JSON example for info:</p>\n\n<pre><code>{\n    \"sports\": [\n        {\n            \"id\": \"600\",\n            \"uid\": \"s:600\",\n            \"name\": \"Football\",\n            \"slug\": \"soccer\",\n            \"leagues\": [\n                {\n                    \"id\": \"740\",\n                    \"uid\": \"s:600~l:740\",\n                    \"name\": \"Spanish Primera Divisi\u00f3n\",\n                    \"abbreviation\": \"La Liga\",\n                    \"shortName\": \"La Liga\",\n                    \"slug\": \"spanish-primera-division\",\n                    \"teams\": [\n                        {\n                            \"team\": {\n                                \"id\": \"96\",\n                                \"uid\": \"s:600~t:96\",\n                                \"slug\": \"alaves\",\n                                \"location\": \"Alav\u00e9s\",\n                                \"name\": \"Alav\u00e9s\",\n                                \"abbreviation\": \"ALV\",\n                                \"displayName\": \"Alav\u00e9s\",\n                                \"shortDisplayName\": \"Alav\u00e9s\",\n                                \"color\": \"0000ff\",\n                                \"alternateColor\": \"C8142F\",\n                                \"isActive\": true,\n                                \"isAllStar\": false,\n                                \"logos\": [\n                                    {\n                                        \"href\": \"https://a.espncdn.com/i/teamlogos/soccer/500/96.png\",\n                                        \"width\": 500,\n                                        \"height\": 500,\n                                        \"alt\": \"\",\n                                        \"rel\": [\n                                            \"full\",\n                                            \"default\"\n                                        ]\n                                    },\n                                    {\n                                        \"href\": \"https://a.espncdn.com/i/teamlogos/soccer/500-dark/96.png\",\n                                        \"width\": 500,\n                                        \"height\": 500,\n                                        \"alt\": \"\",\n                                        \"rel\": [\n                                            \"full\",\n                                            \"dark\"\n                                        ]\n                                    }\n                                ],\n                                \"record\": {\n                                    \"items\": [\n                                        {\n                                            \"summary\": \"1-2-2\",\n                                            \"stats\": []\n                                        }\n</code></pre>\n\n<p>Hoping someone can point me in the right direction.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular8", "angular-aot"], "comments": [{"owner": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569403626, "post_id": 58095236, "comment_id": 102582722, "body": "can you show <code>isActive</code> declaration"}, {"owner": {"reputation": 2402, "user_id": 3647221, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JvPA6.png?s=128&g=1", "display_name": "PMerlet", "link": "https://stackoverflow.com/users/3647221/pmerlet"}, "reply_to_user": {"reputation": 8098, "user_id": 5621827, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/2DQqw.png?s=128&g=1", "display_name": "jitender", "link": "https://stackoverflow.com/users/5621827/jitender"}, "edited": false, "score": 0, "creation_date": 1569404305, "post_id": 58095236, "comment_id": 102583128, "body": "question edited. I renamed isActive to nbActive in order to avoid any confusion."}], "answers": [{"tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": false, "score": 0, "last_activity_date": 1569403846, "creation_date": 1569403846, "answer_id": 58095359, "question_id": 58095236, "link": "https://stackoverflow.com/questions/58095236/ngclass-and-ngif-condition-fail-to-compile-when-aot-is-set-to-true/58095359#58095359", "title": "ngClass and ngIf condition fail to compile when aot is set to true", "body": "<p>you can try like this </p>\n\n<pre><code>\n&lt;div [ngClass]=\"isActive === 1 ? 'active': '' \" &gt;\n    &lt;!-- some stuff --&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"isActive\"&gt;\n    &lt;!-- some stuff --&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 8536621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3475a8454848d3e7b5a211d0d3b15f3?s=128&d=identicon&r=PG&f=1", "display_name": "Abel", "link": "https://stackoverflow.com/users/8536621/abel"}, "is_accepted": true, "score": 2, "last_activity_date": 1569404245, "creation_date": 1569404245, "answer_id": 58095464, "question_id": 58095236, "link": "https://stackoverflow.com/questions/58095236/ngclass-and-ngif-condition-fail-to-compile-when-aot-is-set-to-true/58095464#58095464", "title": "ngClass and ngIf condition fail to compile when aot is set to true", "body": "<p>You wrote </p>\n\n<pre><code>   nbActive: 0;\n</code></pre>\n\n<p>Which means the only acceptable value for nbActive is 0.</p>\n\n<p>You might needed this instead: </p>\n\n<pre><code>   nbActive: number = 0;\n</code></pre>\n"}], "owner": {"reputation": 2402, "user_id": 3647221, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JvPA6.png?s=128&g=1", "display_name": "PMerlet", "link": "https://stackoverflow.com/users/3647221/pmerlet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "accepted_answer_id": 58095464, "answer_count": 2, "score": 2, "last_activity_date": 1569404245, "creation_date": 1569403475, "last_edit_date": 1569404050, "question_id": 58095236, "link": "https://stackoverflow.com/questions/58095236/ngclass-and-ngif-condition-fail-to-compile-when-aot-is-set-to-true", "title": "ngClass and ngIf condition fail to compile when aot is set to true", "body": "<p>I have a div with a ngClass condition:</p>\n\n<pre><code>&lt;div [ngClass]=\"{ 'active': nbActive === 1 }\" &gt;\n    &lt;!-- some stuff --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And a similar div with a ngIf condition:</p>\n\n<pre><code>&lt;div *ngIf=\"nbActive === 1\"&gt;\n    &lt;!-- some stuff --&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Below is the NbActive declaration:</p>\n\n<pre><code>export class WhyChooseUsComponent implements OnInit {\n   nbActive: 0;\n   constructor() { }\n   // some stuff\n}\n</code></pre>\n\n<p>If in my production configuration, I set:</p>\n\n<pre><code>\"aot\": true,\n\"buildOptimizer\": true,\n</code></pre>\n\n<p>Then I get the following error:</p>\n\n<blockquote>\n  <p>This condition will always return 'false' since the types '0' and '1' have no overlap.</p>\n</blockquote>\n\n<p>I don't get any error if I set <code>aot</code> and <code>buildOptimizer</code> to <code>false</code> and everything is working as expected.\n<br>Where does this issue come from and how can I fix this?</p>\n"}, {"tags": ["node.js", "typescript", "node-config"], "comments": [{"owner": {"reputation": 500, "user_id": 6310190, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UBIiE.jpg?s=128&g=1", "display_name": "Michael Ostrovsky", "link": "https://stackoverflow.com/users/6310190/michael-ostrovsky"}, "edited": false, "score": 0, "creation_date": 1598179097, "post_id": 58095165, "comment_id": 112367769, "body": "For whoever sees this in the future, the issue was indeed in the ts-node library"}], "answers": [{"tags": [], "owner": {"reputation": 157, "user_id": 6561922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3496d021062a9e2691f5af787fe3524a?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua Goldstein", "link": "https://stackoverflow.com/users/6561922/joshua-goldstein"}, "is_accepted": true, "score": 5, "last_activity_date": 1572475945, "creation_date": 1572475945, "answer_id": 58634692, "question_id": 58095165, "link": "https://stackoverflow.com/questions/58095165/emit-skipped-when-parsing-config-typescript-files/58634692#58634692", "title": "Emit skipped when parsing config typescript files", "body": "<p>TypeScript files outside of the project folder will produce an Emit skipped error. I can't tell if this is your issue because '..../config/' could be inside or outside the project.  In my case, moving my configuration folder into my project worked around the bug.  Blechy.</p>\n\n<p><a href=\"https://github.com/TypeStrong/ts-node/issues/693\" rel=\"noreferrer\">https://github.com/TypeStrong/ts-node/issues/693</a></p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 4818123, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c7f6fefe7743c80b89b8af7d4ebacc2?s=128&d=identicon&r=PG&f=1", "display_name": "Takesi Tokugawa YD", "link": "https://stackoverflow.com/users/4818123/takesi-tokugawa-yd"}, "is_accepted": false, "score": 0, "last_activity_date": 1589075898, "creation_date": 1589075898, "answer_id": 61706229, "question_id": 58095165, "link": "https://stackoverflow.com/questions/58095165/emit-skipped-when-parsing-config-typescript-files/61706229#61706229", "title": "Emit skipped when parsing config typescript files", "body": "<p><code>\"allowJS\": true</code> works for me.</p>\n\n<p>The forcing to chage the settings is not good, but this error has been admitted as bug.\n<a href=\"https://github.com/TypeStrong/ts-node/issues/693\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/ts-node/issues/693</a></p>\n"}], "owner": {"reputation": 500, "user_id": 6310190, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UBIiE.jpg?s=128&g=1", "display_name": "Michael Ostrovsky", "link": "https://stackoverflow.com/users/6310190/michael-ostrovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5739, "favorite_count": 0, "accepted_answer_id": 58634692, "answer_count": 2, "score": 4, "last_activity_date": 1589075898, "creation_date": 1569403257, "question_id": 58095165, "link": "https://stackoverflow.com/questions/58095165/emit-skipped-when-parsing-config-typescript-files", "title": "Emit skipped when parsing config typescript files", "body": "<p>I have a problem with the node-config library while using typescript.\n<br>\nMy config folder is as follows: <br>\n<a href=\"https://i.stack.imgur.com/BKBgv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKBgv.png\" alt=\"enter image description here\"></a>\n<br>\nHowever after I run tsc and try to start my app from it's entry point (app.js) I get the following error:<br>\n<code>Error: Cannot parse config file: '..../config/development.ts': TypeError: config/development.ts: Emit skipped</code><br><br>\nWhen deleting the typescript files from that folder and keeping only the .js files it works. Anybody has an idea how I can solve this?\n<br>\n<br>\nThis is how my tsconfig looks:<br></p>\n\n<pre><code> \"target\": \"es6\" \n \"module\": \"commonjs\"\n \"strict\": true\n \"esModuleInterop\": true\n</code></pre>\n\n<p><br>\nAny help would be appreciated, thanks!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "edited": false, "score": 0, "creation_date": 1569404000, "post_id": 58095051, "comment_id": 102582941, "body": "You <b>import { map } from &#39;lodash&#39;;</b> , right?"}, {"owner": {"reputation": 1619, "user_id": 3830140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100000552558647/picture?type=large", "display_name": "Hayk Safaryan", "link": "https://stackoverflow.com/users/3830140/hayk-safaryan"}, "reply_to_user": {"reputation": 574, "user_id": 12083327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f59a665af648be2dd8c78d1118da4dd?s=128&d=identicon&r=PG&f=1", "display_name": "Phat Huynh", "link": "https://stackoverflow.com/users/12083327/phat-huynh"}, "edited": false, "score": 0, "creation_date": 1569406987, "post_id": 58095051, "comment_id": 102584565, "body": "@PhatHuynh yes, i did."}], "answers": [{"tags": [], "owner": {"reputation": 1619, "user_id": 3830140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100000552558647/picture?type=large", "display_name": "Hayk Safaryan", "link": "https://stackoverflow.com/users/3830140/hayk-safaryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1569412975, "creation_date": 1569412975, "answer_id": 58097915, "question_id": 58095051, "link": "https://stackoverflow.com/questions/58095051/typescript-complains-about-returning-boolean-when-its-object/58097915#58097915", "title": "TypeScript complains about returning boolean when it&#39;s object", "body": "<p>This is related to lodash <code>map</code> function overload.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/44467778/typescript-with-lodash-map123-234-trim-returns-boolean\">TypeScript with Lodash: _.map([&quot;123&quot;, &quot; 234 &quot;], _.trim) returns boolean[]?</a></p>\n\n<p>So either need to put it with correct overload.</p>\n\n<p>Or replacing lodash <code>map</code> with native <code>Object.entries(object).map(([key, value]) =&gt; {})</code>.</p>\n"}], "owner": {"reputation": 1619, "user_id": 3830140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/100000552558647/picture?type=large", "display_name": "Hayk Safaryan", "link": "https://stackoverflow.com/users/3830140/hayk-safaryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569412975, "creation_date": 1569402866, "question_id": 58095051, "link": "https://stackoverflow.com/questions/58095051/typescript-complains-about-returning-boolean-when-its-object", "title": "TypeScript complains about returning boolean when it&#39;s object", "body": "<p>There is a <code>createFields</code> function like this</p>\n\n<p><code>map</code> is from lodash</p>\n\n<pre><code>const createFields = (usecase: SchemaObject): FieldInterface[] =&gt; {\n  // TODO: Make the form blueprint to be generated from json schema\n\n  const properties = usecase.properties;\n  const requiredProperties = usecase.required || [];\n\n  if (properties &amp;&amp; isSchemaObject(properties)) {\n    return map(\n      properties,\n      (value: SchemaObject, key: string): FieldInterface =&gt; {\n        return {\n          type: value.type,\n          name: key,\n          label: key,\n          readonly: false,\n          required: requiredProperties.includes(key),\n          validations: [],\n        };\n      },\n    );\n  }\n  return [];\n};\n</code></pre>\n\n<p>As you can see in the image, typescript reports error on the return value of the <code>map</code> function and return value of the iteratee.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/vS7TX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vS7TX.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the return value is an object as you can see in the code. And if I change the return type of the iteratee to <code>boolean</code>, it complains the other way around, like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/idgaN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/idgaN.png\" alt=\"enter image description here\"></a></p>\n\n<p>What's the problem here? How is <code>boolean</code> being returned at all?</p>\n"}, {"tags": ["typescript", "aurelia"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 8093969, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8dvOahhTEkU/AAAAAAAAAAI/AAAAAAAAAK8/MhvfLLOXuls/photo.jpg?sz=128", "display_name": "Kjetil Ek", "link": "https://stackoverflow.com/users/8093969/kjetil-ek"}, "is_accepted": false, "score": 0, "last_activity_date": 1569478374, "creation_date": 1569478374, "answer_id": 58110550, "question_id": 58094744, "link": "https://stackoverflow.com/questions/58094744/how-to-create-customize-textchanged-event-in-aurelia/58110550#58110550", "title": "how to create customize textchanged event in aurelia", "body": "<p>You can use custom events - in your textbox component add this to the constructor:</p>\n\n<pre><code>constructor(private element: Element) {}\n</code></pre>\n\n<p>and in the inputValueChange add something like this:</p>\n\n<pre><code>let event = new CustomEvent('textchange', { \n        detail: &lt;some-data-you-want-to-send&gt;,\n        bubbles: true\n    });\n\nthis.element.dispatchEvent(event);\n</code></pre>\n\n<p>You should then be able to use the new textchange event like this:</p>\n\n<pre><code>&lt;textbox  maxlength=\"10\" autocomplete=\"on\" textchange.delegate=\"someFunction()\"&gt;&lt;/textbox&gt;\n</code></pre>\n\n<p>PS! in your example you are missing a \" after the form-control / before change.delegate, that will probably prevent the inputValueChange from being called at all now</p>\n"}], "owner": {"reputation": 35, "user_id": 12082854, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCh5LCb9aHtZG7VEt70sQgiy6A5-4_6F806TZ0I=k-s128", "display_name": "Akash123", "link": "https://stackoverflow.com/users/12082854/akash123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569478374, "creation_date": 1569401818, "question_id": 58094744, "link": "https://stackoverflow.com/questions/58094744/how-to-create-customize-textchanged-event-in-aurelia", "title": "how to create customize textchanged event in aurelia", "body": "<p>textchanged event Consumer should pass event and not in control.Consumer will excute their code on textchange event. Component will just expose that event. ???\nthis is requirement how can I create in aurelia?  </p>\n\n<p>component</p>\n\n<h1>textbox.html</h1>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control change.delegate=\"inputValueChange()\"&gt;\n</code></pre>\n\n<h1>textbox.ts</h1>\n\n<pre><code>constructor() {\n\n  }\n\n  attached() {\n    this.controller.validateTrigger = validateTrigger.changeOrBlur;\n    this.controller.addRenderer(new BootstrapFormRenderer());\n    this.controller.validate();\n   } \n\n    public inputValueChange(newValue,oldValue){\n      console.log(newValue)\n      }\n    }\n</code></pre>\n\n<h1>app.html</h1>\n\n<pre><code>&lt;template&gt;\n&lt;textbox  maxlength=\"10\" autocomplete=\"on\"&gt;&lt;/textbox&gt;\n&lt;template&gt;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "cheerio"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 7303303, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154783582287230/picture?type=large", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7303303/jamie"}, "edited": false, "score": 1, "creation_date": 1569425839, "post_id": 58095872, "comment_id": 102595575, "body": "Thank you very much for this. A spot on answer, very clear, and has helped me with what selectors I should have used."}, {"owner": {"reputation": 17110, "user_id": 7237224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpIj6.png?s=128&g=1", "display_name": "Terry Lennox", "link": "https://stackoverflow.com/users/7237224/terry-lennox"}, "reply_to_user": {"reputation": 301, "user_id": 7303303, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154783582287230/picture?type=large", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7303303/jamie"}, "edited": false, "score": 0, "creation_date": 1569426679, "post_id": 58095872, "comment_id": 102596007, "body": "Cool, glad to be of help.. I&#39;m sure you can improve on it in any case, but it will get you going I hope!"}], "tags": [], "owner": {"reputation": 17110, "user_id": 7237224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZpIj6.png?s=128&g=1", "display_name": "Terry Lennox", "link": "https://stackoverflow.com/users/7237224/terry-lennox"}, "is_accepted": true, "score": 1, "last_activity_date": 1569405747, "creation_date": 1569405747, "answer_id": 58095872, "question_id": 58094735, "link": "https://stackoverflow.com/questions/58094735/how-to-select-elements-in-table-using-cheeriojs/58095872#58095872", "title": "How to select elements in table using CheerioJS", "body": "<p>This ought to parse the html into the structure you're looking for: </p>\n\n<pre><code>const $ = cheerio.load(body)\n\nfunction parseAccountRow(elem) {\n    let row = [];\n    let href = null;\n\n    $(\"td a\", elem).each((n, link) =&gt; {\n        row.push($(link).text().trim());\n        href = href || link.attribs.href;\n    });\n    return { name: row[0], value: { \"investments\": \"\", \"total value\": (row[1]+\"\").toLowerCase(), cash: (row[2]+\"\").toLowerCase(), link: href } };\n}\n\nlet parsedObj = {};\n$('table[class=\"accounts-table\"] tbody tr').each((i, elem)  =&gt; {\n    let row = parseAccountRow(elem);\n    parsedObj[row.name] = row.value;\n});\n\nconsole.log(\"Result:\", parsedObj);\n</code></pre>\n\n<p>I'm getting the result below: </p>\n\n<pre><code>{\n    \"Stocks ISA\": {\n        \"investments\": \"\",\n        \"total value\": \"isa-val\",\n        \"cash\": \"isa-cash\",\n        \"link\": \"https://awebsitehere.co.uk/account_summary/account/22\"\n    },\n    \"Junior ISA\": {\n        \"investments\": \"\",\n        \"total value\": \"junior-val\",\n        \"cash\": \"junior-cash\",\n        \"link\": \"https://awebsitehere.co.uk/account_summary/account/26\"\n    },\n    \"Stocks Account\": {\n        \"investments\": \"\",\n        \"total value\": \"stocks-val\",\n        \"cash\": \"stocks-cash\",\n        \"link\": \"https://awebsitehere.co.uk/my-accounts/account_summary/account/98\"\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 7303303, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154783582287230/picture?type=large", "display_name": "Jamie", "link": "https://stackoverflow.com/users/7303303/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58095872, "answer_count": 1, "score": 0, "last_activity_date": 1569405747, "creation_date": 1569401785, "question_id": 58094735, "link": "https://stackoverflow.com/questions/58094735/how-to-select-elements-in-table-using-cheeriojs", "title": "How to select elements in table using CheerioJS", "body": "<p>I want to parse HTML table values into a JSON object using CheerioJS.</p>\n\n<p>I'm struggling to get to grips with the Cheerio API, but I have come up with an awful convoluted solution.</p>\n\n<p>I am trying to parse this HTML</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>    &lt;table summary=\"Account summary\" class=\"accounts-table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th&gt;Accounts&lt;/th&gt;\n            &lt;th&gt;Total value&lt;/th&gt;\n            &lt;th&gt;Available&lt;/th&gt;\n            &lt;th&gt;Actions&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tfoot&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                Total\n            &lt;/td&gt;\n            &lt;td&gt;\n                \u00a3TOTALAMOUNT\n            &lt;/td&gt;\n            &lt;td&gt;\n                \u00a3CASH\n            &lt;/td&gt;\n            &lt;td&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tfoot&gt;\n    &lt;tbody&gt;\n\n        &lt;tr&gt;\n            &lt;td style=\"white-space: normal\"&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/account_summary/account/22\" title=\"View your Stocks ISA\"\n                    class=\"product-name\"&gt;\n                    Stocks ISA\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/account_summary/account/22\" title=\"View your Stocks ISA\"&gt;\n                    ISA-VAL\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/amount_available/account/22\"\n                    title=\"View cash summary for your Stocks ISA\"&gt;\n                    ISA-CASH\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/topup/account/22\" title=\"Top up your Stocks ISA\"\n                    class=\"top-up-button\"&gt;\n                    Top up\n                &lt;/a&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/topup/account/22l\" title=\"Place a deal in your Stocks  ISA\"\n                    class=\"deal-button\"&gt;\n                &lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td style=\"white-space: normal\"&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/account_summary/account/26\" title=\"View your Junior ISA\"\n                    class=\"product-name\"&gt;\n                    Junior ISA\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/account_summary/account/26\"\n                    title=\"View your Junior ISA\"&gt;\n                    JUNIOR-VAL\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/amount_available/account/26\"\n                    title=\"View cash summary for your Junior ISA\"&gt;\n                    JUNIOR-CASH\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n        &lt;tr&gt;\n            &lt;td style=\"white-space: normal\"&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/account_summary/account/98\"\n                    title=\"View your Stocks Account\" class=\"product-name\"&gt;\n                    Stocks Account\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/account_summary/account/98\"\n                    title=\"View your Stocks Account\"&gt;\n                    STOCKS-VAL\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/amount_available/account/98\"\n                    title=\"View cash summary for your stocks Account\"&gt;\n                    STOCKS-CASH\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"https://awebsitehere.co.uk/my-accounts/stock_and_fund_search/account/98/action/deal\"\n                    title=\"Place a deal in your stocks Account\" class=\"deal-button\"&gt;\n                    &lt;span style=\"padding-right:8px;\"&gt;Deal&lt;/span&gt;\n                &lt;/a&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Into a JSON object that looks like this:</p>\n\n<pre><code>{\n    \"accounts\": {\n        \"Stocks ISA\": {\n            \"investments\":\n            \"total value\": stocks-val\n            \"cash\": stocks-cash,\n            \"link\": \"the href attached to this account\"\n        },\n        \"Junior ISA\": {\n            \"investments\":\n            \"total value\": junior-val,\n            \"cash\": junior-cash,\n            \"link\": \"the href attached to this account\"\n        },\n        \"stocks account\": {\n            \"investments\":\n            \"total value\": stocks-val,\n            \"cash\": stocks-cash,\n            \"link\": \"the href attached to this account\"\n        }\n    }\n}\n</code></pre>\n\n<p>This is the code that I've attempted so far, but I'm struggling to get my head round the HTML traversing. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const $ = cheerio.load(body)\n\n$('table[class=\"accounts-table\"] tbody tr').each(\n    function (i, element) {\n        //@ts-ignore\n        let children = $(this).children()\n        children.each(\n            function (i, elem) {\n                //@ts-ignore\n                let children = $(this).children().text().trim()\n            }\n        )\n    }\n)\n</code></pre>\n\n<p>I would be very grateful to anyone who could point me in the right direction!</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "components"], "comments": [{"owner": {"reputation": 2735, "user_id": 9798568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ad4e32cc86d7aeedc2136c0bf1717a6?s=128&d=identicon&r=PG&f=1", "display_name": "Nenad Radak", "link": "https://stackoverflow.com/users/9798568/nenad-radak"}, "edited": false, "score": 0, "creation_date": 1569401370, "post_id": 58094372, "comment_id": 102581462, "body": "Try with this answer its similar problem <a href=\"https://stackoverflow.com/questions/54575692/angular-material-mat-table-not-rendering-data-from-rest-api/54576168#54576168\" title=\"angular material mat table not rendering data from rest api\">stackoverflow.com/questions/54575692/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 3736096, "user_type": "registered", "profile_image": "https://graph.facebook.com/6203694/picture?type=large", "display_name": "Eric Carr", "link": "https://stackoverflow.com/users/3736096/eric-carr"}, "edited": false, "score": 1, "creation_date": 1603905468, "post_id": 58094632, "comment_id": 114186403, "body": "This answer helped me solve my problem. Took me hours to figure out. Thanks!"}], "tags": [], "owner": {"reputation": 6304, "user_id": 9739129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1264b7591b5bd70e6284cc120b5c0d96?s=128&d=identicon&r=PG&f=1", "display_name": "nash11", "link": "https://stackoverflow.com/users/9739129/nash11"}, "is_accepted": true, "score": 4, "last_activity_date": 1569407510, "last_edit_date": 1569407510, "creation_date": 1569401434, "answer_id": 58094632, "question_id": 58094372, "link": "https://stackoverflow.com/questions/58094372/mat-table-datasource-doesnt-work-when-using-rest-api/58094632#58094632", "title": "mat-table dataSource doesn&#39;t work when using REST API", "body": "<p>You're dealing with async data so initially <code>this.blocks</code> is <code>undefined</code>. You need to create the <code>dataSource</code> once <code>this.blocks</code> is defined which is after you subscribe to <code>getAllBlock()</code>. It also doesn't make sense to use <code>return</code> here since you just get the data from the <code>subscribe</code> method. So just simply call <code>getAllBlock()</code> instead.</p>\n\n<p>Here's how your code should look now.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>dataSource: MatTableDataSource&lt;Block&gt;;\n\nngOnInit() {\n    this.dataService.getAllBlock().subscribe(data =&gt; {\n        this.blocks = data\n        this.dataSource = new MatTableDataSource&lt;Block&gt;(this.blocks);\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 12094208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc20411a1b36a834715d5ccf30e9dfad?s=128&d=identicon&r=PG&f=1", "display_name": "Lets Drum", "link": "https://stackoverflow.com/users/12094208/lets-drum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1099, "favorite_count": 0, "accepted_answer_id": 58094632, "answer_count": 1, "score": 1, "last_activity_date": 1614084912, "creation_date": 1569400496, "last_edit_date": 1569407439, "question_id": 58094372, "link": "https://stackoverflow.com/questions/58094372/mat-table-datasource-doesnt-work-when-using-rest-api", "title": "mat-table dataSource doesn&#39;t work when using REST API", "body": "<p>I am unable to put data in a Material Table.</p>\n\n<p>I made a <code>Block</code> model with fields like <code>id</code>, <code>date</code>, etc. <code>data.service</code> is where the API call is and the function <code>getAllBlock()</code> returns the blocks. I tried it in <code>app.component.html</code> and it works.</p>\n\n<p><strong>document-list.component.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { DataService } from '../data.service';\nimport { Block } from '../models/block.model';\n\n@Component({\n    selector: 'app-document-list',\n    templateUrl: './document-list.component.html',\n    styleUrls: ['./document-list.component.sass']\n})\nexport class DocumentListComponent implements OnInit {\n    blocks: Block[];\n    //DataSource and columns for DataTable\n    displayedColumns: string[] = ['Id', 'Date', 'Data', 'Hash', 'PreviousHash'];\n    dataSource = new MatTableDataSource&lt;Block&gt;(this.blocks);\n\n    //Filter (search)\n    applyFilter(filterValue: string) {\n        this.dataSource.filter = filterValue.trim().toLowerCase();\n    }\n\n    constructor(private dataService: DataService) { }\n\n    ngOnInit(){\n        return this.dataService.getAllBlock()\n        .subscribe(data =&gt; this.blocks = data);\n    }\n}\n</code></pre>\n\n<p><strong>document-list.component.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"content-table\"&gt;\n    &lt;mat-form-field&gt;\n        &lt;input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\"&gt;\n    &lt;/mat-form-field&gt;\n\n    &lt;table mat-table [dataSource]=\"dataSource\" class=\"mat-elevation-z8\"&gt;\n        &lt;!-- ID Column --&gt;\n        &lt;ng-container matColumnDef=\"Id\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;ID&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.Id}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Date Column --&gt;\n        &lt;ng-container matColumnDef=\"Date\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;Timestamp&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.Date}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Data Column --&gt;\n        &lt;ng-container matColumnDef=\"Data\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;Data&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.Data}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Hash Column --&gt;\n        &lt;ng-container matColumnDef=\"Hash\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;Hash&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.Hash}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n\n        &lt;!-- Previous Hash --&gt;\n        &lt;ng-container matColumnDef=\"PreviousHash\"&gt;\n            &lt;th mat-header-cell *matHeaderCellDef&gt;PrevHash&lt;/th&gt;\n            &lt;td mat-cell *matCellDef=\"let element\"&gt; {{element.PreviousHash}} &lt;/td&gt;\n        &lt;/ng-container&gt;\n        &lt;tr mat-header-row *matHeaderRowDef=\"displayedColumns\"&gt;&lt;/tr&gt;\n        &lt;tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"&gt;&lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I don't know how to insert data into the table. What's wrong in what I've done or where is the problem?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular7"], "comments": [{"owner": {"reputation": 178, "user_id": 4772762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yOIpT.png?s=128&g=1", "display_name": "j&#233;r&#233;my Darchy", "link": "https://stackoverflow.com/users/4772762/j%c3%a9r%c3%a9my-darchy"}, "edited": false, "score": 0, "creation_date": 1569403055, "post_id": 58094355, "comment_id": 102582443, "body": "Hi Ashwin, hope this help : your &quot;Cannot convert undefined or null to object&quot; error depends on how you&#39;re accessing your object.  Regarding your conversion just need to change it a bit to :   <code>this.result = Object.keys(cacheMapDataDto).map(function(key) {     return { &quot;id&quot;: key, &quot;value&quot;: cacheMapDataDto[key]}; });</code>  Hope this helps."}], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1569408041, "last_edit_date": 1569408041, "creation_date": 1569401180, "answer_id": 58094555, "question_id": 58094355, "link": "https://stackoverflow.com/questions/58094355/not-able-to-convert-the-object-of-json-to-key-value-pair-in-angular-7/58094555#58094555", "title": "Not able to convert the object of JSON to key/value pair in Angular 7", "body": "<p>Based on your modified question, try this:</p>\n\n<pre><code>this.cacheMapDataDto.forEach(cacheMapDataDto =&gt; {\n      let result = Object.assign(cacheMapDataDto)\n      result.mapObj = Object.keys(cacheMapDataDto.mapObj).map(key =&gt; ({ key, value: cacheMapDataDto.mapObj[key] }));\n})\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-vzrkhp?embed=1&amp;file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">Working Stackbiltz</a></strong></p>\n"}], "owner": {"reputation": 67, "user_id": 11977118, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kxzz4fSmHDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reGAk_0kxAEFEqB7QnYCfipWKfd-A/photo.jpg?sz=128", "display_name": "Ashwin Karki", "link": "https://stackoverflow.com/users/11977118/ashwin-karki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 287, "favorite_count": 1, "closed_date": 1569400543, "accepted_answer_id": 58094555, "answer_count": 1, "score": 0, "last_activity_date": 1569408124, "creation_date": 1569400448, "last_edit_date": 1569408124, "question_id": 58094355, "link": "https://stackoverflow.com/questions/58094355/not-able-to-convert-the-object-of-json-to-key-value-pair-in-angular-7", "closed_reason": "Duplicate", "title": "Not able to convert the object of JSON to key/value pair in Angular 7", "body": "<p>I need to convert my JSON data from like this :</p>\n\n<pre><code> cacheMapDataDto = [{\n    \"cacheName\": \"cache_nchl_individual_type\",\n    \"count\": 2,\n    \"mapObj\": {\n      \"NCHL_BI_BATCH_VERIFICATION\": false,\n      \"NCHL_STL_BATCH_VERIFICATION\": false\n    },\n    \"nameOfCache\": \"NCHL Verification Status\"\n }] \n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>{\"cacheName\":\"cache_member_dto_type\",\n\"count\":1,\n\"mapOfDto\":[{\"id\":merCode,\"value\":\"1\"},{\"id\":merName,\"value\":\"DE\"},{\"id\":merId,\"value\":\"10\"}]\n\"nameOfCache\":\"Member DTO\"\n};\n</code></pre>\n\n<p>So ,I tried to convert the <strong>mapOfDto</strong> to key/value pair using following approach: </p>\n\n<pre><code>formatData(cacheMapDataDto:any){\n\n  console.log(\"abc\");\n\n   console.log(cacheMapDataDto);\n\n\n  this.result = Object.keys(cacheMapDataDto.mapOfDto).map(function(key) {\n    return this.result[key] =cacheMapDataDto.mapOfDto[key], this.result;\n  });\n\n  console.log(this.result);\n\n  this.cacheNewData={\n  \"cacheName\":cacheMapDataDto.cacheName,\n  \"count\":cacheMapDataDto.count,\n  \"mapOfDto\":this.result,\n  \"nameOfCache\": cacheMapDataDto.nameOfCache\n\n  };\n\n  console.log(this.cacheNewData);\n\n\n  }\n</code></pre>\n\n<p>But,I got the error as:</p>\n\n<pre><code>TypeError: Cannot convert undefined or null to object\n    at Function.keys (&lt;anonymous&gt;)\n    at CacheMetaDataComponent.formatData\n</code></pre>\n\n<p>I am getting error at this line of code when I see where is the error coming from ts file:</p>\n\n<pre><code> this.result = Object.keys(cacheMapDataDto.mapOfDto).map(function(key) {\n    return this.result[key] =cacheMapDataDto.mapOfDto[key], this.result;\n  });\n</code></pre>\n\n<p>Is there any good approach?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 6922, "user_id": 6514231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7a1c907bbe5a869276a999ca9cda92?s=128&d=identicon&r=PG&f=1", "display_name": "amrender singh", "link": "https://stackoverflow.com/users/6514231/amrender-singh"}, "is_accepted": true, "score": 2, "last_activity_date": 1569417753, "last_edit_date": 1569417753, "creation_date": 1569399213, "answer_id": 58094021, "question_id": 58093961, "link": "https://stackoverflow.com/questions/58093961/toggle-a-button-counter/58094021#58094021", "title": "Toggle a button counter", "body": "<p>You can simply maintain your count state when clicked. If it is already counted, then decrement else increment the count:</p>\n\n<p>Try the following:</p>\n\n<pre><code>export class TheComponent {\n    public count = 100;\n    private isCounted: boolean = false;\n    public updateCount() {\n     this.count += this.isCounted? -1 : 1;\n     this.isCounted= !this.isCounted;\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5032790"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 58094021, "answer_count": 1, "score": 3, "last_activity_date": 1569417753, "creation_date": 1569398971, "last_edit_date": 1569402528, "question_id": 58093961, "link": "https://stackoverflow.com/questions/58093961/toggle-a-button-counter", "title": "Toggle a button counter", "body": "<p>I would like to do the like increment and decrements with same button. I have written this, but it just increment the like counts, how can I change it in order to decrements it after increment?</p>\n\n<pre><code>&lt;button (click)=\"increment()\"&gt;{{count}}&lt;/button&gt;\n\nexport class TheComponent {\n    public count = 10;\n\n    public increment() {\n    this.count++;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 2155, "user_id": 5909026, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-VWT4S_cML3I/AAAAAAAAAAI/AAAAAAAADdw/OpPjHPOydG4/photo.jpg?sz=128", "display_name": "Najam Us Saqib", "link": "https://stackoverflow.com/users/5909026/najam-us-saqib"}, "edited": false, "score": 0, "creation_date": 1569417876, "post_id": 58093762, "comment_id": 102590755, "body": "you can use Events Library for Real Time Update. Check: <a href=\"https://stackoverflow.com/a/57360460/5909026\">stackoverflow.com/a/57360460/5909026</a>"}], "answers": [{"comments": [{"owner": {"reputation": 100, "user_id": 11005976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8j-Y0tUEtDk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP72kVZKLzbbZqagYXBySXn2QFghg/mo/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/11005976/lukas"}, "edited": false, "score": 0, "creation_date": 1569405991, "post_id": 58095759, "comment_id": 102584050, "body": "Maybe it\u2018s important to know, that when you pass the Params over the routes all data can be seen in plain text in the url"}, {"owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569406185, "post_id": 58095759, "comment_id": 102584151, "body": "No components for ionic .Page is using in ionic. How to do this in ionic"}, {"owner": {"reputation": 100, "user_id": 11005976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8j-Y0tUEtDk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP72kVZKLzbbZqagYXBySXn2QFghg/mo/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/11005976/lukas"}, "reply_to_user": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569406575, "post_id": 58095759, "comment_id": 102584342, "body": "You still use components in Ionic even if they are named page. Anyway the navigation over Routing works the same and the strategy with the service doesn\u2018t depend on if its a component or something different"}, {"owner": {"reputation": 100, "user_id": 11005976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8j-Y0tUEtDk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP72kVZKLzbbZqagYXBySXn2QFghg/mo/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/11005976/lukas"}, "reply_to_user": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569406762, "post_id": 58095759, "comment_id": 102584452, "body": "I am working on an Ionic project at the Moment and for communication between components I prefer using services in combination with rxjs Observables"}, {"owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569406831, "post_id": 58095759, "comment_id": 102584489, "body": "I want to pass the Email and Mobile to OTP page to verifying.But it&#39;s showing error"}, {"owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569407129, "post_id": 58095759, "comment_id": 102584640, "body": "Can you explain the way to passing the params to otp page and verify it"}, {"owner": {"reputation": 100, "user_id": 11005976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8j-Y0tUEtDk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP72kVZKLzbbZqagYXBySXn2QFghg/mo/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/11005976/lukas"}, "reply_to_user": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569407371, "post_id": 58095759, "comment_id": 102584769, "body": "As I understand you get the EMail and Mobile data in your signup Component/Page and you want to navigate to your signupotp Component/page and then youse the same data there. Or am I missing something ?"}, {"owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569407499, "post_id": 58095759, "comment_id": 102584858, "body": "Yes I am getting the data in the console when inputing email and mobile and then navigate it to the otp page. But there i cant get the email and mobile along with otp on console."}, {"owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "edited": false, "score": 0, "creation_date": 1569407636, "post_id": 58095759, "comment_id": 102584939, "body": "I want to match otp , mobile and email"}], "tags": [], "owner": {"reputation": 100, "user_id": 11005976, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8j-Y0tUEtDk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQP72kVZKLzbbZqagYXBySXn2QFghg/mo/photo.jpg?sz=128", "display_name": "Lukas", "link": "https://stackoverflow.com/users/11005976/lukas"}, "is_accepted": false, "score": 0, "last_activity_date": 1569407799, "last_edit_date": 1569407799, "creation_date": 1569405325, "answer_id": 58095759, "question_id": 58093762, "link": "https://stackoverflow.com/questions/58093762/pass-params-from-one-page-to-another-in-angular-ionic/58095759#58095759", "title": "pass params from one page to another in angular ionic", "body": "<p>There are ways in angular to pass parameters over the url of the route like this: <code>this.router.navigate[\u201apath\u2018, param]</code>\nIn your app-routing.module.ts you have to write something like this:</p>\n\n<pre><code>export const routes: Routes = [\n  { path: 'path/:param', component: yourComponent }\n];\n</code></pre>\n\n<p>Or you just write the parameters on some variables in your signup Service and read them from wherever you want to use them.</p>\n\n<p>In your case I would create a object called <code>user</code> in your service.ts.\nWhen you get the data in your signup Component/Page you write it on the <code>user</code> Object at your service.ts\nAfter navigating to your singupotp Page/Component you can read the data from the service and maybe extend the object with some other data.</p>\n"}], "owner": {"reputation": 38, "user_id": 12079917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c554c374e658c907f22e8bee670a797b?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/12079917/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569407799, "creation_date": 1569398172, "last_edit_date": 1569404539, "question_id": 58093762, "link": "https://stackoverflow.com/questions/58093762/pass-params-from-one-page-to-another-in-angular-ionic", "title": "pass params from one page to another in angular ionic", "body": "<p>I want to pass params from signup page to signupotp page. In my signupotp page otp is not getting recognised because of the params (email and mobile)is not getting passed to signupotp page. My backedn is coded like for otp verification params (mobile,emaail,otp) should be verified.So its not getting working properly . I tried to initialise my data in signup page and passed to signupotp page.But not working. How to do this?</p>\n\n<p>SIGNUP.PAGE.TS</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ApiService} from '../api.service';\nimport{Router} from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport {SignupotpPage} from '../signupotp/signupotp.page';\n\n@Component({\nselector: 'app-signup',\ntemplateUrl: './signup.page.html',\nstyleUrls: ['./signup.page.scss'],\n})\nexport class SignupPage implements OnInit {\n\nMobile:any;\nEmail:any;\ndata:any;\notp:any;\nchecked:any;\n\n\nconstructor(private api:ApiService,private router:Router,public signupotp:SignupotpPage) {}\n\nngOnInit() {\n}\n\nContinue(Mobile,Email){\nconst user= {\nMobile:Mobile,\n  Email:Email\n}\nconsole.log(Mobile);\nconsole.log(Email);\n\nthis.api.SignupUser(user).subscribe(data=&gt;{\nconsole.log(data);\nthis.signupotp.initialisedata(Mobile,Email);\nthis.router.navigate(['signupotp']);\n\n});\n}\n}\n</code></pre>\n\n<p>SIGNUPOTP.PAGE.TS</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {ApiService} from '../api.service';\nimport{Router} from '@angular/router';\n@Component({\nselector: 'app-signupotp',\ntemplateUrl: './signupotp.page.html',\nstyleUrls: ['./signupotp.page.scss'],\n})\nexport class SignupotpPage implements OnInit {\n\nMobile:any;\nEmail:any;\notp:any;\ndata:any;\n\nconstructor(private api:ApiService,private router:Router) {\n\n\n}\ninitialisedata(email,mobile)\n{\nconsole.log(\"HUUUU\");\nconsole.log(email,mobile);\nthis.Email = email;\nthis.Mobile = mobile; \n}\nngOnInit() {\n}\n\n\n\nConfirm(otp){\nconst user= {\notp:otp,\nmobile:this.Mobile,\nemail:this.Email\n}\nconsole.log(otp); \nconsole.log(\"hey how are you\")\n\n\nthis.api.Verifysignupotp(user).subscribe(data=&gt;{\nconsole.log(data);\nthis.data =  data;\nif(this.data.Msg)\n{\nalert(this.data.Msg);\n}\nelse\n{\nthis.router.navigate(['/']);\n}\n\n});\n}\n}\n</code></pre>\n\n<p>Service.ts</p>\n\n<pre><code>SignupUser(user):Observable&lt;Object&gt;{\nconsole.log(user);\n\nconsole.log('getting the signup data from user');\nreturn this.http.post&lt;Object&gt;(`${this.base_url}/signup`,user);\n\n}\n\n Verifysignupotp(user): Observable&lt;Object&gt;{\n    console.log(user);\n    console.log('getting all Listing from the server');\n    return this.http.post&lt;Object&gt;(`${this.base_url}/verifysignupotp`,user);\n  }\n</code></pre>\n"}, {"tags": ["typescript", "generics", "tuples", "inference"], "answers": [{"comments": [{"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "edited": false, "score": 0, "creation_date": 1569402671, "post_id": 58094688, "comment_id": 102582211, "body": "Thanks, that made sense. Still can&#39;t quite get the <code>AttributeTypes</code> type to work in practice though, made an update to the question to describe the specifics."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "edited": false, "score": 0, "creation_date": 1569409804, "post_id": 58094688, "comment_id": 102586080, "body": "@DanPrince the version you posted works (it is different from the on you have in the playground, the parameter name is different). You are only missing an <code>as any</code> assertion on the return type, which is unavoidable."}, {"owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "edited": false, "score": 0, "creation_date": 1569410940, "post_id": 58094688, "comment_id": 102586649, "body": "Even with the <code>as any</code> assertion I still get a type error when using <code>getAll</code>: <code>Type &#39;any[]&#39; is missing the following properties from type &#39;[Position, Status]&#39;: 0, 1</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "edited": false, "score": 0, "creation_date": 1569411114, "post_id": 58094688, "comment_id": 102586737, "body": "@DanPrince just <code>as any</code> no <code>[]</code> <a href=\"https://www.typescriptlang.org/play/#code/KYDwDg9gTgLg3gXwFAwJ5mAAgIIxlASwCMBXGYAHgBV1gA+TAXkzkwIBMAuTAZ3wIB2AcwA0mNBgD83GhkwIA3EhS1MABQg8CMAhAFMWmENwEkAtkWBQxqE+ctR5SgDbAY6zdt0DuufqXIKDS0dPQZmVg5uACJIEO9op2UJLABlGABDGBIeA2iMgGMdADdgRIAfTGjBQpKylzdMdKyc3zxCAMpm7J5wwyiqvhaeRMVk1T8OsmBZYB4KSeJp3NByAXZcxc6KDIFUOgBtAF0+uCRMTAO1Nn0Aa2BUCAAzHHal8h4jtv9lq6PMVbAdabN7bQRPKyYKgMSRQzAmYClKBKZBIJ4kARFbyYIRubDOZzUAEgNYbV4-QK7fbHOgACnOmAAdMyshS5jIkABKb5TcizebQlgMqBuEhQfSs3lzRlmDJgWmSpgMSWMlKczAZXJUlHKVzuABiEAg3CunlCAjE3Ry-2YuJg+OctOCXj0lsyPU5CiAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1569401609, "creation_date": 1569401609, "answer_id": 58094688, "question_id": 58093756, "link": "https://stackoverflow.com/questions/58093756/infer-generic-parameters-in-rest-tuple-type/58094688#58094688", "title": "infer generic parameters in rest tuple type", "body": "<p>The conditional type has no reason to work on a tuple, your conditional type basically resolves to the question <code>[typeof Position, typeof Status] extends Attribute&lt;infer T&gt;</code> which it clearly does not so you end up with never.</p>\n\n<p>You could pass in a union into the type (<code>AttributeTypes&lt;typeof Position | typeof Status&gt;</code>) and then you will get <code>Position[] | Status[]</code> which is not really what you want (<a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZwBQEpEG8CwAoRRKATwAcBTRAQSigCcYAjEKcgHgBUzyA+RAXmyIYAEwBcKejDABzADRFuAfglcKiAL4BufPkIl1ABTjIYsBAKEAPCWBABbRuToLith07qadBRABtyKERjU3MwCRopZlY2ELN4MD5BLGFxRAAiUhN4hHTvXV8DSgBlKABDKBBkS3Sy6BgAN3I8gB8M6TrYJvSfQgCg0oqqiNoGaPZByuQkoVEJdORyqbztAv1ualGmFnI1cmQ2SLGd6vIrVjARaqPtmLKwYh4ZvUJNqJPEM4urt+OY6WAzkQHD4SmBAG0ALqIWzkJp0XqINaKdQAJX2ID8QUEN3GewORTgwGC2TCiDahOJkyqfHwGiAA\" rel=\"nofollow noreferrer\">Play</a>)</p>\n\n<p>You could also use an array in your conditional type (<code>Attributes extends Array&lt;Attribute&lt;infer T&gt;&gt; ? T[] : never</code>) but that will not preserve the tuple structure in the input (<a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZwBQEpEG8CwAoRRKATwAcBTRAQSigCcYAjEKcgHgBUzyA+RAXmyIYAEwBcKejDABzADRFuAfglcKiAL4BufPkIl1ABTjIYsBAKEAPCWBABbRuToLith07qadBRABtyKERjU3MwCRopZlY2ELN4MD5BLGFxRAAiUhN4hHTvXV8DSgBlKABDKBBkS3Sy6BgAN3I8gB8M6TrYJvSfQgCg0oqqiNoGaPZByuQkoVEJdORyqbztAv1ualGmFnI1cmQ2SLGd6vIrVjARaqPtmLKwYh4AbQBdGb1CTaiTxDOLq+odDoZWIhy24zY0mAzkQHB4fCUsNeiFs5CadF6iDWinUACV9iA-EFBDdxnsDk8inBgMFsmEFFSaZMqm8sXgNEA\" rel=\"nofollow noreferrer\">Play</a>)</p>\n\n<p>The best way to get the output you want is to use a mapped type. Mapped types preserve tuple while allowing you to map every element type of a tuple to a new element type in the resulting tuple:</p>\n\n<pre><code>type Attribute&lt;Type&gt; = { id: string, type?: Type };\n\ntype Position = { x: number, y: number };\nlet Position: Attribute&lt;Position&gt; = { id: \"position\" };\n\ntype Status = \"active\" | \"inactive\";\nlet Status: Attribute&lt;Status&gt; = { id: \"status\" };\n\ntype AttributeTypes&lt;Attributes extends Attribute&lt;any&gt;[]&gt; = {\n  [P in keyof Attributes]: Attributes[P] extends Attribute&lt;infer T&gt; ? T : never;\n}\n\ntype Result = AttributeTypes&lt;[typeof Position, typeof Status]&gt; // is [Position, Status]\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZwBQEpEG8BQjFQCeADgKaICCUUATjAEYhSkA8AKiaQHyIC82iGABMAXClowwAcwA0BTgH4xHMogC+Abhx55qgApxkMWAj4CAHmLAgAtvVI05hK7fs11W-ABtSURAaMTMDEqCUZmFgDjeDAefixBUUQAImJDaIRkj218IlUAZSgAQygQZDNkougYADdSLIAfFMkq2Drkz0QfP0KSspDqOnDWXtLkOIFhMWTkYrGszRzdclChplIVUmQWVYZ18tJzZjAhct3hliKwQi4AbQBdCdx8fFu9QSQAa1JCOGBKQZ7ZjIe4DML7N73RCHY6nAHgiKSYAORBsHgKVGIKykOo0TpqJZ5cgAJS2IC8fn453Wm22tyJf386SCcgZ-1GZUeiBwaiAA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 26921, "user_id": 1088797, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/bltA9.png?s=128&g=1", "display_name": "Dan Prince", "link": "https://stackoverflow.com/users/1088797/dan-prince"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 58094688, "answer_count": 1, "score": 0, "last_activity_date": 1569402578, "creation_date": 1569398154, "last_edit_date": 1569402578, "question_id": 58093756, "link": "https://stackoverflow.com/questions/58093756/infer-generic-parameters-in-rest-tuple-type", "title": "infer generic parameters in rest tuple type", "body": "<p>Reading about <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#rest-elements-in-tuple-types\" rel=\"nofollow noreferrer\">rest elements in tuple types</a> and trying to figure out how to extract the generic part of a type:</p>\n\n<pre><code>type Attribute&lt;Type&gt; = { id: string, type?: Type };\n\ntype Position = { x: number, y: number };\nlet Position: Attribute&lt;Position&gt; = { id: \"position\" };\n\ntype Status = \"active\" | \"inactive\";\nlet Status: Attribute&lt;Status&gt; = { id: \"status\" };\n</code></pre>\n\n<p>I'm sure there's a way to write a conditional type that will map a tuple of various <code>Attribute&lt;T&gt;</code> to a tuple of various <code>T</code>.</p>\n\n<pre><code>type AttributeTypes&lt;Attributes extends Attribute&lt;any&gt;[]&gt; =\n   Attributes extends Attribute&lt;infer T&gt; ? T[] : never;\n\ntype Result = AttributeTypes&lt;[typeof Position, typeof Status]&gt; // should be `[Position, Status]`\n</code></pre>\n\n<p>But I don't understand the inference step well enough and it always ends up in the <code>never</code> branch.</p>\n\n<p>The final step will be to write a function that uses the inferred types as part of the return (<a href=\"https://www.typescriptlang.org/play/#code/GYVwdgxgLglg9mABAZwBQEpEG8BQjFQCeADgKaICCUUATjAEYhSkA8AKiaQHyIC82iGABMAXClowwAcwA0BTgH4xHMogC+Abhx55qgApxkMWAj4CAHmLAgAtvVI05hK7fs11W-ABtSURAaMTMDEqCUZmFgDjeDAefixBUUQAImJDaIRkj218IlUAZSgAQygQZDNkougYADdSLIAfFMkq2Drkz0QfP0KSspDqOnDWXtLkOIFhMWTkYrGszRzdclChplIVUmQWVYZ18tJzZjAhct3hliKwQi4AbQBdCdx8fFu9QSQAa1JCOGBKQZ7ZjIe4DML7N73RCHY6nAHgiKSYAORBsHgKVGIKykOo0TpqJZ5cgAJS2IC8fn453Wm22tyJf386SCcgZ-1GZUeiCWoEgQUQUl8FC8Xh2gOGByOpBOZ3F60u1zuj1QOnwADoNSUEVswWsIlcbg8dOhdUCNpxttTgTxni8aL4QDQkFq9Vs1TYisRUC6+DwXWqieh8UtuogAGJwOBiN7MmJyDkgsyCqDCryoKIsxAJoM4NRAA\" rel=\"nofollow noreferrer\">Playground</a>): </p>\n\n<pre><code>function getAll&lt;Attributes extends Attribute&lt;any&gt;[]&gt;(\n  ...attributes: Attributes\n): AttributeTypes&lt;Attributes&gt; {\n  return attributes.map(attribute =&gt; attribute.type);\n}\n\nlet [position, status]: [Position, Status] = getAll(Position, Status);\n</code></pre>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 110, "user_id": 11268609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d6f52e1a5f27ebbe737f0f0b0a4be?s=128&d=identicon&r=PG&f=1", "display_name": "paulosullivan22", "link": "https://stackoverflow.com/users/11268609/paulosullivan22"}, "edited": false, "score": 0, "creation_date": 1569399792, "post_id": 58093900, "comment_id": 102580593, "body": "Thanks, I have tried that and doesn&#39;t work unfortunately. I think the issue is when the component is instantiated in the parent component, it sees the props are required and doesn&#39;t check the default props either in arguments or further down in the <code>Child.defaultProps</code>"}, {"owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "reply_to_user": {"reputation": 110, "user_id": 11268609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d6f52e1a5f27ebbe737f0f0b0a4be?s=128&d=identicon&r=PG&f=1", "display_name": "paulosullivan22", "link": "https://stackoverflow.com/users/11268609/paulosullivan22"}, "edited": false, "score": 0, "creation_date": 1569399842, "post_id": 58093900, "comment_id": 102580623, "body": "If you modify the interface to make both props optional does that happen @paulosullivan22 ?"}, {"owner": {"reputation": 110, "user_id": 11268609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d6f52e1a5f27ebbe737f0f0b0a4be?s=128&d=identicon&r=PG&f=1", "display_name": "paulosullivan22", "link": "https://stackoverflow.com/users/11268609/paulosullivan22"}, "edited": false, "score": 0, "creation_date": 1569400278, "post_id": 58093900, "comment_id": 102580837, "body": "Making the props optional in the interface does solve the error but I am looking to avoid this as it presents a lot of issues when using the props in the body of the component"}, {"owner": {"reputation": 2069, "user_id": 629506, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/c9GtL.jpg?s=128&g=1", "display_name": "sigmus", "link": "https://stackoverflow.com/users/629506/sigmus"}, "edited": false, "score": 1, "creation_date": 1569400473, "post_id": 58093900, "comment_id": 102580927, "body": "Maybe this helps: <a href=\"https://medium.com/@martin_hotell/react-typescript-and-defaultprops-dilemma-ca7f81c661c7\" rel=\"nofollow noreferrer\">medium.com/@martin_hotell/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4958, "user_id": 4627262, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iTGZT9YcyLE/AAAAAAAAAAI/AAAAAAAAALU/-5defYeBo50/photo.jpg?sz=128", "display_name": "rrd", "link": "https://stackoverflow.com/users/4627262/rrd"}, "is_accepted": false, "score": 0, "last_activity_date": 1569398721, "creation_date": 1569398721, "answer_id": 58093900, "question_id": 58093669, "link": "https://stackoverflow.com/questions/58093669/typescript-react-passing-props-between-components-vs-default-props/58093900#58093900", "title": "Typescript &amp; React: Passing props between components vs default props", "body": "<p>You can provide default arguments to stop this happening:</p>\n\n<pre><code>const Child: FC&lt;IProps&gt; = ({ className = 'foo', disabled = false }: IProps) =&gt; {\n  ...\n}\n</code></pre>\n\n<p>This should actually get around the optional props problem you have, especially if you use these default arguments (i.e., lazy devs not checking what props are required/optional). Now you can make them optional ...</p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 11268609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d6f52e1a5f27ebbe737f0f0b0a4be?s=128&d=identicon&r=PG&f=1", "display_name": "paulosullivan22", "link": "https://stackoverflow.com/users/11268609/paulosullivan22"}, "is_accepted": true, "score": 4, "last_activity_date": 1569404001, "creation_date": 1569404001, "answer_id": 58095409, "question_id": 58093669, "link": "https://stackoverflow.com/questions/58093669/typescript-react-passing-props-between-components-vs-default-props/58095409#58095409", "title": "Typescript &amp; React: Passing props between components vs default props", "body": "<p>Solved it, for anyone looking at this answer: just need to pass in the default props into the component as well as any props as per code below: </p>\n\n<pre><code>import React, { FC } from 'react'\n\ninterface IProps {\n  className: string\n  disabled: boolean\n}\n\nconst Child: FC&lt;IProps &amp; Child.defaultProps&gt; = ({ className, disabled }: IProps) =&gt; {\n  return (\n    &lt;button className={className} disabled={disabled}&gt;\n      Click here\n    &lt;/button&gt;\n  )\n}\n\nChild.defaultProps = {\n  className: '',\n  disabled: false,\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 334, "user_id": 5702546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tSXx7AB47qU/AAAAAAAAAAI/AAAAAAAAALU/GjkLhelpSS8/photo.jpg?sz=128", "display_name": "Shrishail Uttagi", "link": "https://stackoverflow.com/users/5702546/shrishail-uttagi"}, "is_accepted": false, "score": 0, "last_activity_date": 1594393228, "creation_date": 1594393228, "answer_id": 62837032, "question_id": 58093669, "link": "https://stackoverflow.com/questions/58093669/typescript-react-passing-props-between-components-vs-default-props/62837032#62837032", "title": "Typescript &amp; React: Passing props between components vs default props", "body": "<p>You did right but missed to pass className and disabled props the child component.</p>\n<p>const Parent: FC = () =&gt; {\nreturn (\n\n)\n}</p>\n"}], "owner": {"reputation": 110, "user_id": 11268609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13d6f52e1a5f27ebbe737f0f0b0a4be?s=128&d=identicon&r=PG&f=1", "display_name": "paulosullivan22", "link": "https://stackoverflow.com/users/11268609/paulosullivan22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10465, "favorite_count": 1, "accepted_answer_id": 58095409, "answer_count": 3, "score": 4, "last_activity_date": 1594393228, "creation_date": 1569397876, "question_id": 58093669, "link": "https://stackoverflow.com/questions/58093669/typescript-react-passing-props-between-components-vs-default-props", "title": "Typescript &amp; React: Passing props between components vs default props", "body": "<p>I am fairly new to Typescript and creating a React app with Typescript. I'm having a bit of trouble passing props from one component to another. I've included an example below, my issue is around default props for components.</p>\n\n<p>When I call my child component in my parent component, I get an error:</p>\n\n<p><code>Type '{}' is missing the following properties from type 'IProps': className, disabled ts(2739)</code></p>\n\n<p>I thought that because I have default props on my child component, they would fill in for any missing props when calling the component from other components.</p>\n\n<p>I know I can make individual props optional in the interface <code>IProps</code> in my child component using <code>className?: string</code> but this is not a solution I'm looking for as it presents more problems than it solves. </p>\n\n<p>I'd prefer not to have to note each default prop when I call a child from another component like below as for some components, I have many props:\n<code>&lt;Child class={''} disabled={false} /&gt;</code></p>\n\n<p>I'm sure there's a fairly simple solution for this but I can't find any direction so far. Any advice or direction would be welcome.</p>\n\n<pre><code>// Parent component: \n\nimport React, { FC } from 'react'\n\nimport Child from './child'\n\nconst Parent: FC = () =&gt; {\n    return (\n        &lt;Child /&gt;\n    )\n}\n\nexport default Parent\n\n\n// Child component: \n\nimport React, { FC } from 'react'\n\ninterface IProps {\n  className: string\n  disabled: boolean\n}\n\nconst Child: FC&lt;IProps&gt; = ({ className, disabled }: IProps) =&gt; {\n  return (\n    &lt;button className={className} disabled={disabled}&gt;\n      Click here\n    &lt;/button&gt;\n  )\n}\n\nChild.defaultProps = {\n  className: '',\n  disabled: false,\n}\n\nexport default Child\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "input-mask"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1569398081, "post_id": 58093677, "comment_id": 102579699, "body": "HTML codes exist for a reason ... Any person not using the correct font on their browser will have an error in their input with that (blank squares)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "edited": false, "score": 0, "creation_date": 1569398752, "post_id": 58093677, "comment_id": 102580050, "body": "@hafizi definitely not."}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1569398815, "post_id": 58093677, "comment_id": 102580084, "body": "@Maryannah &#39;s answer is awesome :) Use that"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1569397890, "creation_date": 1569397890, "answer_id": 58093677, "question_id": 58093590, "link": "https://stackoverflow.com/questions/58093590/how-to-use-pipe-in-input-text-using-ngmodel-angular/58093677#58093677", "title": "How to use pipe in input text using ngModel Angular", "body": "<p>Your approach seems perfect,</p>\n\n<p>Just replace <code>&amp;#x25cf</code> with   <code>\u25cf</code></p>\n\n<p>Like this:</p>\n\n<pre><code> return `${value.substr(0, 4)} ${'\u25cf'.repeat(4)} ${'\u25cf'.repeat(4)} ${value.substr(value.length - 4, value.length)}`;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-uwlbch?embed=1&amp;file=src/app/mask-input.pipe.ts\" rel=\"nofollow noreferrer\">Working Demo</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 0, "last_activity_date": 1569398528, "creation_date": 1569398528, "answer_id": 58093860, "question_id": 58093590, "link": "https://stackoverflow.com/questions/58093590/how-to-use-pipe-in-input-text-using-ngmodel-angular/58093860#58093860", "title": "How to use pipe in input text using ngModel Angular", "body": "<p>Use the unicode characters : <a href=\"https://stackblitz.com/edit/angular-shhusi?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<pre><code>  transform(value: string, args?: any): any {\n    const start = value.substr(0, 4);\n    const end = value.substr(-4, 4);\n    const bullets = '\\u2022';\n    return `${start} ${bullets.repeat(4)} ${bullets.repeat(4)} ${end}`;\n  }\n</code></pre>\n\n<p><strong><a href=\"https://unicode-table.com/en/\" rel=\"nofollow noreferrer\">Unicodes codes</a></strong></p>\n"}], "owner": {"reputation": 99, "user_id": 12111053, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CZ8y6b8BJ20/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcddSnbCV9mQ4RkZnrxNTsrJ_hIRA/photo.jpg?sz=128", "display_name": "hafizi", "link": "https://stackoverflow.com/users/12111053/hafizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 629, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1569398528, "creation_date": 1569397587, "last_edit_date": 1569398052, "question_id": 58093590, "link": "https://stackoverflow.com/questions/58093590/how-to-use-pipe-in-input-text-using-ngmodel-angular", "title": "How to use pipe in input text using ngModel Angular", "body": "<p>I had dropdown component (list of credit card) that bind dropdown value on <code>input</code>, Using <code>ngModel</code> I managed to bind dropdown value on input, then I need to display credit card number on input field that looks like bullet special character: </p>\n\n<pre><code>4444 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 4444\n</code></pre>\n\n<p>by using <code>pipe</code>, I had managed to bind it on dropdown component but got a problem when bind it to <code>input</code> because of <code>ngModel</code>, this is what I had tried: </p>\n\n<p><strong>mask.pipe.ts</strong></p>\n\n<pre><code>transform(value: string, showMask :boolean): string {\n\n    if (typeof value === \"number\") {\n        value = JSON.stringify(value);\n    }\n\n    if (!showMask || value.length &lt; 16) {\n        return value;\n    }\n\n    return `${value.substr(0, 4)} ${'&amp;#x25cf;'.repeat(4)} ${'&amp;#x25cf;'.repeat(4)} ${value.substr(value.length - 4, value.length)}`;\n}\n</code></pre>\n\n<p><strong>html component</strong></p>\n\n<pre><code>  &lt;input placeholder=\"value\"\n    [ngModel]=\"selectedCard.value | maskInput: true\"\n    (ngModelChange)=\"selectedCard.value = $event\"type=\"text\"&gt;\n</code></pre>\n\n<p>and the output is :</p>\n\n<pre><code>1111 &amp;#x25cf;&amp;#x25cf;&amp;#x25cf;&amp;#x25cf; &amp;#x25cf;&amp;#x25cf;&amp;#x25cf;&amp;#x25cf; 1111\n</code></pre>\n\n<p>this is my <a href=\"https://stackblitz.com/edit/angular-kaxjuy?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz demo</a>, is there any suggestion on how to solve this, or better practice ?  </p>\n"}, {"tags": ["reactjs", "typescript", "material-ui", "react-router-dom"], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1569397625, "creation_date": 1569397625, "answer_id": 58093606, "question_id": 58093536, "link": "https://stackoverflow.com/questions/58093536/validatedomnesting-td-cannot-appear-as-a-child-of-a/58093606#58093606", "title": "validateDOMNesting(...): &lt;td&gt; cannot appear as a child of &lt;a&gt;", "body": "<blockquote>\n  <p>I'm trying to have the whole row be a link...</p>\n</blockquote>\n\n<p>You can't do that. <code>a</code> is not a valid child for <code>table</code> or <code>tbody</code> or <code>tr</code>, and (as the error says) <code>td</code> is not a valid child element for an <code>a</code> element.</p>\n\n<p>There are other things you can do:</p>\n\n<ul>\n<li>You can have a click handler on the <code>tr</code> and take action on click (but it can't be an actual <code>a</code> element).</li>\n<li>You can use <code>a</code> elements around the content of each <code>td</code>.</li>\n<li>(Fairly common) You can have a single <code>td</code> containing the link.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1808400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a752ee966e5b0f4b77642f025bdd7c?s=128&d=identicon&r=PG", "display_name": "Mukesh Pant", "link": "https://stackoverflow.com/users/1808400/mukesh-pant"}, "is_accepted": false, "score": 0, "last_activity_date": 1569398477, "creation_date": 1569398477, "answer_id": 58093847, "question_id": 58093536, "link": "https://stackoverflow.com/questions/58093536/validatedomnesting-td-cannot-appear-as-a-child-of-a/58093847#58093847", "title": "validateDOMNesting(...): &lt;td&gt; cannot appear as a child of &lt;a&gt;", "body": "<p>Seems you forgot to attach the error. anyway, the answer posted above by Mr. Crowder explains this in detail. Option i) put a click handler on tr and iii) wrap the tr within a  could be implemented.</p>\n"}, {"tags": [], "owner": {"reputation": 2096, "user_id": 3406963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ez2DT.jpg?s=128&g=1", "display_name": "epsilon", "link": "https://stackoverflow.com/users/3406963/epsilon"}, "is_accepted": false, "score": 0, "last_activity_date": 1569400091, "creation_date": 1569400091, "answer_id": 58094258, "question_id": 58093536, "link": "https://stackoverflow.com/questions/58093536/validatedomnesting-td-cannot-appear-as-a-child-of-a/58094258#58094258", "title": "validateDOMNesting(...): &lt;td&gt; cannot appear as a child of &lt;a&gt;", "body": "<p>Rather than reiterating what the error message says I would like you to reconsider your design. Moving the link into click handler is a big accessibility issue. In addition to that having a table row as a link is also quite unintuitive for user experience. Table context might be selected and copied. Moving away from the page when doing this common task is quite disruptive.</p>\n\n<p>Have you considered adding an additional cell with a link icon that is properly labelled (<code>aria-label</code>) like suggested in <a href=\"https://stackoverflow.com/a/58093606/3406963\">https://stackoverflow.com/a/58093606/3406963</a>?</p>\n"}], "owner": {"reputation": 348, "user_id": 10543406, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R_udKVmw9XI/AAAAAAAAAAI/AAAAAAAAAQQ/4PPfPdkoZTQ/photo.jpg?sz=128", "display_name": "Akusas", "link": "https://stackoverflow.com/users/10543406/akusas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1225, "favorite_count": 0, "accepted_answer_id": 58093606, "answer_count": 3, "score": 0, "last_activity_date": 1569400091, "creation_date": 1569397425, "question_id": 58093536, "link": "https://stackoverflow.com/questions/58093536/validatedomnesting-td-cannot-appear-as-a-child-of-a", "title": "validateDOMNesting(...): &lt;td&gt; cannot appear as a child of &lt;a&gt;", "body": "<p>I'm creating a table in a React project using Material UI, but I get this error. I'm trying to have the whole row be a link to a page that contains more information on the subject. This is the Table code snippet:</p>\n\n<pre><code>&lt;TableBody&gt;\n  {data.map((item, index) =&gt; {\n    return (\n      &lt;TableRow key={index} className={classes.row} component={RouterLink} to={`/subject/${item.Name}`}&gt;\n        &lt;TableCell scope=\"row\"&gt;{item.Id}&lt;/TableCell&gt;\n        &lt;TableCell scope=\"row\"&gt;{item.Name}&lt;/TableCell&gt;\n        &lt;TableCell scope=\"row\"&gt;{item.Group}&lt;/TableCell&gt;\n      &lt;/TableRow&gt;\n    )\n  })}\n&lt;/TableBody&gt;\n</code></pre>\n\n<p>I'm coding in Typescript if that has got anything to do with the problem. RouterLink is Link from react-router-dom, had to rename it as I refer to Link from Material UI further down in the Component.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1784, "user_id": 8365012, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c40bec75b974f446c8837c65df4b736d?s=128&d=identicon&r=PG&f=1", "display_name": "cmprogram", "link": "https://stackoverflow.com/users/8365012/cmprogram"}, "edited": false, "score": 2, "creation_date": 1569402023, "post_id": 58093513, "comment_id": 102581828, "body": "@PeterHaddad &#39;s is correct - however, just based on how you&#39;ve worded the question, watch out that you don&#39;t just retry the same query as soon as you get an error and end up in a loop. If something is actively incorrect and it wasn&#39;t just a connection issue, re-running the same query will not suddenly make it work."}], "answers": [{"tags": [], "owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": true, "score": 6, "last_activity_date": 1569398132, "creation_date": 1569398132, "answer_id": 58093751, "question_id": 58093513, "link": "https://stackoverflow.com/questions/58093513/catch-firestore-error-in-valuechanges-subscription-and-retry-in-case-of-failure/58093751#58093751", "title": "Catch Firestore error in valueChanges subscription and retry in case of failure", "body": "<p>The <code>subscribe</code> method contains a second argument incase of error:</p>\n\n<blockquote>\n  <p><code>Rx.Observable.prototype.subscribe([observer] | [onNext], [onError], [onCompleted])</code></p>\n  \n  <ul>\n  <li><p>[observer] (Observer): The object that is to receive notifications.</p></li>\n  <li><p>[onNext] (Function): Function to invoke for each element in the observable sequence.</p></li>\n  <li>[onError] (Function): Function to invoke upon exceptional termination of the observable sequence.</li>\n  <li>[onCompleted] (Function): Function to invoke upon graceful termination of the observable sequence.</li>\n  </ul>\n</blockquote>\n\n<p>Therefore do the following:</p>\n\n<pre><code>.valueChanges().subscribe( (val: []) =&gt; {\n    this.collectionColors.next(val);\n  },error =&gt; {\n  console.log(error);\n  });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2814, "user_id": 8259771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmVQA.jpg?s=128&g=1", "display_name": "Yash Krishan", "link": "https://stackoverflow.com/users/8259771/yash-krishan"}, "is_accepted": false, "score": 1, "last_activity_date": 1569401111, "creation_date": 1569401111, "answer_id": 58094530, "question_id": 58093513, "link": "https://stackoverflow.com/questions/58093513/catch-firestore-error-in-valuechanges-subscription-and-retry-in-case-of-failure/58094530#58094530", "title": "Catch Firestore error in valueChanges subscription and retry in case of failure", "body": "<p>You may want to catch the error and re-run you code:</p>\n\n<pre><code>  this.db.collectionGroup('collection-colors', ref =&gt; ref.where('product', '==', name))\n    .valueChanges().subscribe( (val: []) =&gt; {\n    this.collectionColors.next(val);\n  }, error =&gt; {\n// Do your stuff here\nconsole.log(error);\n});\n</code></pre>\n"}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 1, "accepted_answer_id": 58093751, "answer_count": 2, "score": 0, "last_activity_date": 1575533932, "creation_date": 1569397372, "last_edit_date": 1575533932, "question_id": 58093513, "link": "https://stackoverflow.com/questions/58093513/catch-firestore-error-in-valuechanges-subscription-and-retry-in-case-of-failure", "title": "Catch Firestore error in valueChanges subscription and retry in case of failure", "body": "<p>I use Firestore to store data for my Angular app. I created a service and read data e.g. like this: </p>\n\n<pre><code>retrieveCollectionColors(name) {\n  this.db.collectionGroup('collection-colors', ref =&gt; ref.where('product', '==', name))\n    .valueChanges().subscribe( (val: []) =&gt; {\n    this.collectionColors.next(val);\n  });\n}\n</code></pre>\n\n<p><strong>How can I catch errors and if one occurs, how can I retry the query?</strong></p>\n"}, {"tags": ["c#", "angular", "typescript", "asp.net-core", "signalr"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "edited": false, "score": 0, "creation_date": 1569406579, "post_id": 58094012, "comment_id": 102584348, "body": "Hi @Tony Ngo, Thanks for your time. I have tried the above solution. How can i read the values from the &quot;Root&quot; object from Angular. I have created a model for the Root object in c# and it contains a class &quot;root&quot;. Is it possible to display the data to console to verify if the data is correct."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "edited": false, "score": 0, "creation_date": 1569406660, "post_id": 58094012, "comment_id": 102584398, "body": "You can run debug mode in visual studio"}, {"owner": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "edited": false, "score": 0, "creation_date": 1569406854, "post_id": 58094012, "comment_id": 102584499, "body": "ok. I will check it. can you please explain what is &quot;root&quot; object. is it the Josn object &quot;Root&quot; or &quot;root&quot; class from the Root Model."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "edited": false, "score": 1, "creation_date": 1569406941, "post_id": 58094012, "comment_id": 102584540, "body": "Seem like your json is not having the strong type so I think you can use <code>object</code> data in c#. You can check it here <a href=\"https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/reference-types\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/csharp/language-reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": false, "score": 2, "last_activity_date": 1569485807, "last_edit_date": 1569485807, "creation_date": 1569399128, "answer_id": 58094012, "question_id": 58093494, "link": "https://stackoverflow.com/questions/58093494/how-can-i-send-a-json-object-to-net-server-using-signalr/58094012#58094012", "title": "How can i send a json object to .net server using signalr", "body": "<p>You can do like this by passing in the root data to the invoke</p>\n\n<pre><code>connection.invoke('Send', \"rk\", \"wassup\", Root);\n</code></pre>\n\n<p>Then in your hub add another params for the root data</p>\n\n<pre><code>public async Task Send (string user , string message, string root)\n{\n  await Clients.All.SendAsync(\"Send\", user, message);\n}\n</code></pre>\n\n<p>Update since you are submit json string you can use </p>\n\n<pre><code>JsonConvert.DeserializeObject&lt;List&lt;object&gt;&gt;(root);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21271, "user_id": 6751634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kjSAI.jpg?s=128&g=1", "display_name": "Fei Han", "link": "https://stackoverflow.com/users/6751634/fei-han"}, "is_accepted": false, "score": 1, "last_activity_date": 1569403839, "last_edit_date": 1569403839, "creation_date": 1569403301, "answer_id": 58095179, "question_id": 58093494, "link": "https://stackoverflow.com/questions/58093494/how-can-i-send-a-json-object-to-net-server-using-signalr/58095179#58095179", "title": "How can i send a json object to .net server using signalr", "body": "<p>If the json data that you want to send from client is in known and fixed format, you can make your Hub method accept custom object parameter, like below.</p>\n\n<p>Hub method</p>\n\n<pre><code>public async Task GetCustomData(string user, Root data)\n{\n\n    var sub_val2 = data.test1.sub[0].val2.ToString();\n\n    //code logic here\n\n\n    await Clients.All.SendAsync(\"ReceiveMessage\", user, \"{message_here}\");\n}\n</code></pre>\n\n<p>Custom Classes</p>\n\n<pre><code>public class Root\n{\n    public string Unit { get; set; }\n    public List&lt;Test&gt; test { get; set; }\n    public Test1 test1 { get; set; }\n}\n\npublic class Test\n{\n    public bool Val { get; set; }\n    public bool Val1 { get; set; }\n}\n\npublic class Test1\n{\n    public List&lt;Sub&gt; sub { get; set; }\n}\n\npublic class Sub\n{\n    public string val2 { get; set; }\n    public string Val3 { get; set; }\n}\n</code></pre>\n\n<p>Test Result</p>\n\n<p><a href=\"https://i.stack.imgur.com/KIhCk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIhCk.png\" alt=\"enter image description here\"></a></p>\n\n<p>Besides, as Tony Ngo shared, modify Hub method to make it accept another object type parameter is also ok. </p>\n"}], "owner": {"reputation": 125, "user_id": 11796019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R31kwKr1XcE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcku-oTg6OAuuOJRoyvXpOD7ZNiEQ/photo.jpg?sz=128", "display_name": "ram kris", "link": "https://stackoverflow.com/users/11796019/ram-kris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2182, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1569485807, "creation_date": 1569397287, "last_edit_date": 1569401598, "question_id": 58093494, "link": "https://stackoverflow.com/questions/58093494/how-can-i-send-a-json-object-to-net-server-using-signalr", "title": "How can i send a json object to .net server using signalr", "body": "<p>I am developing an Angular app, where i have to send data from angular forms to an external server using .netcore server and signalR. I am able to setup a connection between Angular client and controller using signalr hub but i am confused how to send json object from client to controller. From controller i want to send the Json object to external server. I want to implement this using signalr because i want realtime communication between external server and client. when i submit the data and recieve response from external server i want to alert client.I am looking for some guidance on how can i implement this.</p>\n\n<p>Angular client</p>\n\n<pre><code>_hubConnection: HubConnection;\n transportType = signalR.HttpTransportType.LongPolling;\n\nngOnInit() {\n   this._hubConnection = new signalR.HubConnectionBuilder()\n    .configureLogging(signalR.LogLevel.Information)\n    .withUrl(\"http://localhost:5000/message\", this.transportType)\n    .build();\n}\n\nfun1(){\n this._hubConnection.on(\"Send\", (user, message) =&gt; {\n  const received = `name: ${user}, message: ${message}`;\n  console.log(received);\n});\n\nthis._hubConnection.start()\n    .then(() =&gt;\n        this._hubConnection.invoke('Send', \"rk\", \"wassup\").catch(function (err) {\n        console.error(err.toString());\n    })\n)\n.then(() =&gt;\n    console.log('connected')\n)\n.then(() =&gt; this._hubConnection.stop())\n.then(() =&gt; console.log('Disconnected'))\n.catch(e =&gt; console.error(e.message));\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>namespace ang.Controllers\n{\n    [Route(\"api/[controller]\")]\n    [ApiController]\n    public class DistController : Controller\n    {\n        private IHubContext&lt;DistHub&gt; _hubContext;\n        public DistController(IHubContext&lt;DistHub&gt; hubContext)\n        {\n            _hubContext = hubContext;\n        }\n    }\n}\n</code></pre>\n\n<p>SignalRhub</p>\n\n<pre><code>namespace ang.HubConfig\n{\n    public class DistHub: Hub\n    {\n        public async Task Send (string user , string message)\n        {\n            // return Clients.All.SendAsync(\"Send\", message);\n            await Clients.All.SendAsync(\"Send\", user, message);\n        }\n    }\n}\n</code></pre>\n\n<p>startup.cs</p>\n\n<pre><code>app.UseSignalR(routes =&gt;\n{\n    routes.MapHub&lt;DistHub&gt;(\"/message\");\n});\n</code></pre>\n\n<p>json object</p>\n\n<pre><code>const Root = {\n  \"Unit\" : \"mm\",\n  \"test\": [{\n    \"Val\": this.Val1.isChecked,\n    'Val1' : this.val2.isChecked,\n  }],\n  \"test1\" :{\n    \"sub\":[{\n      'val2' : this.valFormGroup.get('val2').value,\n      'Val3' : this.valFormGroup.get('val3').value,\n    }]\n  },\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase"], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569397264, "post_id": 58093324, "comment_id": 102579304, "body": "Is there a reason why a new variable needs  to be declared to solve this? Also using this only returned me an undefine instead"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569397300, "post_id": 58093324, "comment_id": 102579318, "body": "Can u do <code>console.log(user)</code>"}, {"owner": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569398939, "post_id": 58093324, "comment_id": 102580152, "body": "With console.log(user) it returns me the field of data from the document fetched and updated, however on console.loh(this.usersID) it returns me an undefined"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569399546, "post_id": 58093324, "comment_id": 102580459, "body": "You are using <code>this.userID = this.afAuth.authState.pipe(</code> here and <code>this.userID = user.uid</code> thats why I told you to change the variable because its returning <code>[object object]</code> which is this <code>this.afAuth.authState.pipe(</code>"}, {"owner": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569400716, "post_id": 58093324, "comment_id": 102581072, "body": "And when I&#39;m setting it as  <code>this.userIDs= user.uid;</code> instead of [object object] i&#39;m getting undefined. however the parameter <code>user</code> i&#39;m passing in contains the array of fields i want to store"}, {"owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "reply_to_user": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569400939, "post_id": 58093324, "comment_id": 102581202, "body": "but does it contain a <code>uid</code>?"}, {"owner": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "edited": false, "score": 0, "creation_date": 1569401453, "post_id": 58093324, "comment_id": 102581519, "body": "for my update function no, my user document only has username, gender and age field. It is in <code>this.afAuth.authState.pipe(   switchMap(user =&gt; {     if (user)</code> that I&#39;m getting the authentication user&#39;s uid as the document id"}], "tags": [], "owner": {"reputation": 63636, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": false, "score": 0, "last_activity_date": 1569396704, "creation_date": 1569396704, "answer_id": 58093324, "question_id": 58093241, "link": "https://stackoverflow.com/questions/58093241/angularfire-cannot-update-document-because-document-reference-id-could-not-be-fe/58093324#58093324", "title": "AngularFire Cannot update document because document reference ID could not be fetched", "body": "<p>Change this:</p>\n\n<pre><code>this.userID = this.afAuth.authState.pipe(\n  switchMap(user =&gt; {\n    if (user) {\n      this.userID = user.uid;\n    } else {\n      return null;\n    }\n  })\n); \n</code></pre>\n\n<p>into this:</p>\n\n<pre><code>this.userID = this.afAuth.authState.pipe(\n  switchMap(user =&gt; {\n    if (user) {\n      this.userIDs= user.uid;\n    } else {\n      return null;\n    }\n  })\n); \n</code></pre>\n\n<p>You need to use a different variable (this.userIDs) name to store the <code>user.uid</code></p>\n"}, {"tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": false, "score": 0, "last_activity_date": 1569482761, "creation_date": 1569482761, "answer_id": 58111587, "question_id": 58093241, "link": "https://stackoverflow.com/questions/58093241/angularfire-cannot-update-document-because-document-reference-id-could-not-be-fe/58111587#58111587", "title": "AngularFire Cannot update document because document reference ID could not be fetched", "body": "<p>The issue is that you are storing the assigning both the value to <code>this.userID</code> as well as the subscription to <code>this.userID</code>. Remove the assignment: <code>this.userID = this.afAuth.authState</code> and now it will be stored correctly! Instead store the subscription in another variable that you can then unsubscribe to when needed:</p>\n\n<pre><code>this.mySubscription = this.afAuth.authState.pipe(\n  switchMap(user =&gt; {\n    if (user) {\n      this.userID = user.uid;\n    } else {\n      return null;\n    }\n  })\n);\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 7420430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/72583efd1090c976025bb32a26756c72?s=128&d=identicon&r=PG&f=1", "display_name": "Monomoni", "link": "https://stackoverflow.com/users/7420430/monomoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569482761, "creation_date": 1569396438, "question_id": 58093241, "link": "https://stackoverflow.com/questions/58093241/angularfire-cannot-update-document-because-document-reference-id-could-not-be-fe", "title": "AngularFire Cannot update document because document reference ID could not be fetched", "body": "<p>I'm making an update function that would fetch the required document based on it's document uid which is tied to the authenticated user's uid. </p>\n\n<p>in another function where I'm fetching the data from the collection using the same method which works fine, but on the function where I'm storing the uid as a variable it returns me as an [object object].</p>\n\n<p>this is the function called to retrieve my current user data </p>\n\n<pre><code>this.user$ = this.afAuth.authState.pipe(\n  switchMap(user =&gt; {\n    if (user) {\n      return this.afs.doc&lt;any&gt;(`users/${user.uid}`).valueChanges();\n    } else {\n      return null;\n    }\n  })\n);\n</code></pre>\n\n<p>this will then get me the fields that i needed by plainly calling e.g. user.username</p>\n\n<p>however when trying to store the document uid as such</p>\n\n<pre><code>this.userID = this.afAuth.authState.pipe(\n  switchMap(user =&gt; {\n    if (user) {\n      this.userID = user.uid;\n    } else {\n      return null;\n    }\n  })\n); \n</code></pre>\n\n<p>My userID's value will just be [object object]</p>\n\n<p>when called this </p>\n\n<pre><code>updateUser(user: User) {\n    this.userDoc = this.afs.doc(`users/${this.userID}`);\n    this.userDoc.update(user);\n  }\n</code></pre>\n\n<p>returning an undefined document path of .../documents/users/[object Object]</p>\n\n<p>how would I then be able to trace the document ID for the updating to work?</p>\n"}, {"tags": ["angular", "typescript", "angular-material", "interceptor"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1569396603, "post_id": 58093234, "comment_id": 102578954, "body": "Angular 5 &amp; 7 have the exact same principle for interceptors. If you did it in 5, you also did it in 7."}, {"owner": {"reputation": 79, "user_id": 7582371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2582d651ff20267197302e9a3cc84894?s=128&d=identicon&r=PG&f=1", "display_name": "deep dalvi", "link": "https://stackoverflow.com/users/7582371/deep-dalvi"}, "edited": false, "score": 0, "creation_date": 1569402546, "post_id": 58093234, "comment_id": 102582131, "body": "I have added the code done in Angular 5, It gives an error at return Observable.fromPromise"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 7582371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2582d651ff20267197302e9a3cc84894?s=128&d=identicon&r=PG&f=1", "display_name": "deep dalvi", "link": "https://stackoverflow.com/users/7582371/deep-dalvi"}, "edited": false, "score": 0, "creation_date": 1569407509, "post_id": 58093332, "comment_id": 102584864, "body": "Can you please tell me how to use it inside HttpInterceptor"}], "tags": [], "owner": {"reputation": 75, "user_id": 8970843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofhvnW64E6k/AAAAAAAAAAI/AAAAAAAAMoc/_OJTFkdbbXA/photo.jpg?sz=128", "display_name": "Esrath Muqayyar", "link": "https://stackoverflow.com/users/8970843/esrath-muqayyar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569396735, "creation_date": 1569396735, "answer_id": 58093332, "question_id": 58093234, "link": "https://stackoverflow.com/questions/58093234/create-multiple-http-calls-from-http-interceptor/58093332#58093332", "title": "Create multiple http calls from http interceptor", "body": "<p>You can try to use ForkJoin. You can call multiple Http Requests by using ForkJoin.\nFirst you have to import forkJOin from rxJs.\nThen\n    <code>forkJoin(\n      this._myService.makeRequest('Request One', 2000),\n      this._myService.makeRequest('Request Two', 1000),\n      this._myService.makeRequest('Request Three', 3000)\n    )</code>    </p>\n\n<p>it will call these three request at a same time</p>\n"}], "owner": {"reputation": 79, "user_id": 7582371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2582d651ff20267197302e9a3cc84894?s=128&d=identicon&r=PG&f=1", "display_name": "deep dalvi", "link": "https://stackoverflow.com/users/7582371/deep-dalvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569402899, "creation_date": 1569396423, "last_edit_date": 1569402899, "question_id": 58093234, "link": "https://stackoverflow.com/questions/58093234/create-multiple-http-calls-from-http-interceptor", "title": "Create multiple http calls from http interceptor", "body": "<p>Is it possible to make an http request before an ongoing http request completes (<em>Eg: fetching a token/refresh token from server before ongoing request completes</em>).</p>\n\n<p>I have implemented the following using Angular 5 <code>httpInterceptor</code> but I am unable to do it using Angular 7.</p>\n\n<pre><code>intercept(request: HttpRequest&lt;any&gt;,next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n            return Observable.fromPromise(this.handleAccess(request, next))\n              .map(response =&gt; {\n                console.log(response);\n\n                this.globalService.showOrShowloadingModel(\"hide\");\n                return response;\n              })\n              .catch(error =&gt; {\n                console.log(\"HTTP error\", error);  \n                return Observable.of(error);\n              });\n}\n\nprivate async handleAccess(request: HttpRequest&lt;any&gt;,next: HttpHandler): Promise&lt;HttpEvent&lt;any&gt;&gt; {\n        //logic to fire token api\n        await this.globalService.validateAccessToken();\n        return next.handle(request).toPromise();\n}\n</code></pre>\n"}, {"tags": ["typescript", "typescript-typings", "typescript-generics"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569424140, "post_id": 58093129, "comment_id": 102594585, "body": "Do you really want <code>build()</code> to return <code>SpecificType&lt;any, any&gt;[]</code> instead of the actual type of the built thing?  If so, fine, the question as asked can probably be answered.  Otherwise I&#39;d rather answer the question so that <code>Builder</code> keeps track both of <code>T</code> and the list of properties it&#39;s already built."}, {"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1569424500, "post_id": 58093129, "comment_id": 102594796, "body": "That&#39;s what I was thinking of having but for now I don&#39;t have any use of it, so I don&#39;t need typed build method."}], "answers": [{"comments": [{"owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "edited": false, "score": 0, "creation_date": 1569427989, "post_id": 58102514, "comment_id": 102596605, "body": "You really know a lot about typescript (already helped with few questions) :D. Thanks a lot!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1569427610, "creation_date": 1569427610, "answer_id": 58102514, "question_id": 58093129, "link": "https://stackoverflow.com/questions/58093129/typescript-recursive-method-call-to-omit-property-and-method/58102514#58102514", "title": "Typescript recursive method call to Omit property and method", "body": "<p>First of all, I'm switching to the naming convention where type parameters are one or two capital letters, where <code>T</code> and <code>U</code> signify general types and <code>K</code> and <code>P</code> for key types.  That's more standard for TypeScript, for whatever reason.</p>\n\n<p>Here's how I'd do it.  For question 1, I'll create the <code>NextBuilder</code> type alias, which looks like this:</p>\n\n<pre><code>type NextBuilder&lt;T, K extends keyof T&gt; = keyof T extends K\n  ? Omit&lt;Builder&lt;{}&gt;, \"and\" | \"append\"&gt;\n  : Builder&lt;Omit&lt;T, K&gt;&gt;;\n</code></pre>\n\n<p>It's a <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional type</a> which checks if <code>keyof T</code> is equal to (or narrower than) <code>K</code>.  If so, that means <code>Omit&lt;T, K&gt;</code> will be <code>{}</code> and there's the case we're trying to deal with.  In such cases, we'll return <code>Omit&lt;Builder&lt;{}&gt;, \"and\" | \"append\"&gt;</code>, which hides the <code>and()</code> and <code>append()</code> methods as you want.  Otherwise, <code>Omit&lt;T, K&gt;</code> will still have some known properties and we'll return <code>Builder&lt;Omit&lt;T, K&gt;&gt;</code> as your original code did. Then we change <code>add()</code> and <code>append()</code> to return <code>NextBuilder&lt;T, K&gt;</code> (and use some judicious type assertions to appease the compiler which cannot generally verify assignability to unresolved conditional types), and we're done.  For example, here's the new <code>append()</code>:</p>\n\n<pre><code>  append&lt;K extends keyof T&gt;(item: SpecificType&lt;T, K&gt;): NextBuilder&lt;T, K&gt; {\n    this.items.push(item);\n    return this as any;\n  }\n</code></pre>\n\n<p>For question 2, I would change the signature of <code>and()</code> so that the second parameter is optional in the cases where <code>undefined</code> is a possible value of the property.  (So it should also allow you to leave off <code>value</code> if you have <code>type Types = {Type3?: string}</code>.  The change is a little weird, and I had to jump through a few hoops to make it behave nicely at the call site.  Here's the new <code>and()</code>:</p>\n\n<pre><code>  and&lt;K extends keyof T&gt;(\n    type: K,\n    ...[value]: undefined extends T[K]\n      ? Parameters&lt;(value?: T[K]) =&gt; void&gt;\n      : Parameters&lt;(value: T[K]) =&gt; void&gt;\n  ): NextBuilder&lt;T, K&gt; {\n    return this.append(this.create(type, value!)) as any;\n  }\n</code></pre>\n\n<p>Okay, so that first parameter is just <code>type: K</code>.  Let's go through the second one.  It starts with <code>...[value]</code>, meaning that we are using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\" rel=\"nofollow noreferrer\">rest parameter</a> array and immediately <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring</a> it into <code>value</code>.  After that comes the rest parameter's type annotation, <code>:</code>.  The type of the rest parameter array is a conditional type, whose condition is <code>undefined extends T[K] ?</code>.  If <code>undefined extends T[K]</code> is true, then the return type is <code>Parameters&lt;(value?: T[K]) =&gt; void&gt;</code>, which uses the <a href=\"https://github.com/Microsoft/TypeScript/blob/v3.6.3/lib/lib.es5.d.ts#L1476-L1479\" rel=\"nofollow noreferrer\"><code>Parameters</code></a> utility type to get an <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#optional-elements-in-tuple-types\" rel=\"nofollow noreferrer\">optional one-tuple</a> of type <code>[T[K]?]</code>. Otherwise the return type is <code>Parameters&lt;(value: T[K]) =&gt; void&gt;</code>, which is of type <code>[T[K]]</code>.  Frankly that's a lot more complex than just <code>undefined extends T[K] ? [T[K]?] : [T[K]]</code>, but it has an advantage over the former in that it gives the argument the name <code>value</code> in the IntelliSense, and not just something made up like <code>arg0</code> (there is a bit of <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#generic-rest-parameters\" rel=\"nofollow noreferrer\">documentation</a> that mentions if you infer parameters from a function type into a tuple and then put it back into function parameters, the original parameter names are preserved).  </p>\n\n<p>Do note that in the implementation I had to use the <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#non-null-assertion-operator\" rel=\"nofollow noreferrer\">non-null assertion operator (<code>!</code>)</a> on <code>value</code> since the compiler can't verify that <code>T[K] | undefined</code> is an acceptable second parameter for <code>this.create()</code>.  The non-null assertion is a short way of saying that <code>value</code> is actually <code>T[K]</code> (which we know it is, since it's only <code>undefined</code> if <code>undefined extends T[K]</code> is true).</p>\n\n<p>Whew! \ud83d\ude05  So, that's it. </p>\n\n<hr>\n\n<p>Let's stand back and see how it works:</p>\n\n<pre><code>const i1 = itemBuilder.and(\"Type1\"); // IntelliSense shows:\n// (method) Builder&lt;Types&gt;.and&lt;\"Type1\"&gt;(\n//   type: \"Type1\", value?: undefined\n// ): Builder&lt;Pick&lt;Types, \"Type2\"&gt;&gt;\nconst i2 = i1.and(\"Type2\", { MaxAge: 3 }); // IntelliSense shows:\n// (method) Builder&lt;Pick&lt;Types, \"Type2\"&gt;&gt;.and&lt;\"Type2\"&gt;(\n//   type: \"Type2\", value: { MaxAge: number; }\n// ): Pick&lt;Builder&lt;{}&gt;, \"build\"&gt;\nconst i3 = i2.build(); // IntelliSense shows:\n// (method) build(): SpecificType&lt;any, any&gt;[]\n</code></pre>\n\n<p>This looks good to me.  When you first use <code>and()</code>, you're prompted to enter either <code>\"Type1\"</code> or <code>\"Type2\"</code> as the first parameter.  Once you choose <code>\"Type1\"</code>, the IntelliSense shows that <code>value</code> is an optional second parameter and you can leave it out.  The next <code>and()</code> only allows you to choose <code>\"Type2\"</code>, and <code>value</code> is a required second parameter.  Finally, after this, you are only allowed to call <code>build()</code>, as <code>add()</code> and <code>append()</code> are missing.</p>\n\n<p>That gives you what you wanted, I think.</p>\n\n<hr>\n\n<p>Okay, hope that helps. Good luck!</p>\n\n<p><a href=\"http://www.typescriptlang.org/play//?ts=Nightly#code/C4TwDgpgBAypDGBLAZo+AVcEA86A0UA0lBAB7AQB2AJgM5QDWEIA9slOgHxQC8UA3gFgAUFCgA5AIYBbCAC4iAbhFiAapIA2AV3kcA2oQC6y4QF8TI0JAllgAIS2IN1CACdcBYrap1GzNhzcfEys7Ogk5D70hCpQAPxQAPLSiMDYDk4u7vymnAQARJI0+VAAPlCFYJDFnLEKGc5u2MmpHkScnBbC8BqStPQNWbjcQqJQYK6IAG6SFFCpENK0CnAQSKgYWG1FIJx6hrxQ+11iRdTYXpE09CEBXAAUsWJWuoR4T1AAdN96M9oQhgUWhoEFQlAg1AiFGu+iMHzECQACpJXDIIBRXLRsPc-jo4gp0AZDABKXjcKYsRDUWpjMRiBTI1GyDFYnGaHQEomknjkynU2LEhTiWyDJr4doCD6udFaVyUKDAAAWiFon0kVR89yVKs+8GlswgWqwBFxEAAhMTSX0oDsTGJTCJYurqudLtDfLcwpx7gtpCsECg0JhIG1CJxBTZyKL3OKw5LaQrlarfaqwFpaIqfRRpMS7XTpcBZfLtfRrbbYg7hLEAEaOZz3COrdZBrY7Ag7PYHUZ0qAFouJnUpvOV2ITaYGqB6iAG3DB6DeGGewKPBMvAlz94J02c9BzwwC-1rQObEPi3dYEZSmVy+M9sRSWQKF6bu9QdT-BSmj7mCsiEfCF4OCweg+G7IDIAARiBEEwQhPM5wAJgUfgoAAWUkUgAEEAHNdEoLRpGrNwoB-MwungFhKFoYB5mzaNDnBAB3KBo1wYDvVzR1hAAegAKl4jgAFEYHQABJcQAHEoHE9BBIAGTk0SYEE8RlKgfjuK4iiqJoxAIMOX1ozVGh7nyOcIPyXMoG47jpMoCgNA0RAYCoWhoAzFhGOWEQbKge5mUVFhqFJVi51oThjPOMysAs70fNs54sAUaLIPyE12QgfEoGBFxYOoeKoAjVjETQBg2MgWgCkQ-IOhEbTqPmBCDIgyLTOqggUPQrDcIUABmEirN80T7IgRznNc9zAq8uQCv89FAuCli6yGEr4DKsKqqwBCaois5sBSiBtriniEoVJKKnaqBtwENCMJwvCCKI1xFBIgqI1WsrWJyPIKlrTIarqyiGsQfq+EQBDPj++tBts4aHKclyqMmzzvJOvyAqC0koeoBtD2bE8cDbG1KF2fYRCAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 4573, "user_id": 1832330, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/tX0As.jpg?s=128&g=1", "display_name": "zhuber", "link": "https://stackoverflow.com/users/1832330/zhuber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 58102514, "answer_count": 1, "score": 1, "last_activity_date": 1569427610, "creation_date": 1569396091, "question_id": 58093129, "link": "https://stackoverflow.com/questions/58093129/typescript-recursive-method-call-to-omit-property-and-method", "title": "Typescript recursive method call to Omit property and method", "body": "<p>I have specification like this</p>\n\n<pre><code>type SpecificType&lt;U, T extends keyof U&gt; = {\n    Name: T,\n    Value: U[T]\n}\n\nclass Builder&lt;TItems&gt; {\n    private items: SpecificType&lt;TItems, any&gt;[] = [];\n\n    and&lt;TType extends keyof TItems&gt;(type: TType, value: TItems[TType]): Builder&lt;Omit&lt;TItems, TType&gt;&gt; {\n        return this.append(this.create(type, value));\n    }\n\n    append&lt;TType extends keyof TItems&gt;(item: SpecificType&lt;TItems, TType&gt;): Builder&lt;Omit&lt;TItems, TType&gt;&gt; {\n        this.items.push(item);\n        return this as Builder&lt;Omit&lt;TItems, TType&gt;&gt;;\n    }\n\n    build(): SpecificType&lt;any, any&gt;[] {\n        return this.items;\n    }\n\n    private create&lt;TType extends keyof TItems&gt;(type: TType, value: TItems[TType]): SpecificType&lt;TItems, TType&gt; {\n        return {\n            Name: type,\n            Value: value\n        }\n    }\n}\n</code></pre>\n\n<p>Builder is building items based upon generic type, which is basically map between name and type like so:</p>\n\n<pre><code>type Types = {\n    \"Type1\": undefined,\n    \"Type2\": { MaxAge: number }\n}\n</code></pre>\n\n<p>And here is how I use builder</p>\n\n<pre><code>const itemBuilder = new Builder&lt;Types&gt;();\nitemBuilder\n    .and(\"Type1\", undefined)\n    .and(\"Type2\", { MaxAge: 3 });\n</code></pre>\n\n<p>I have 2 questions</p>\n\n<ol>\n<li>I'm omitting specific type mapping with each call to <code>and</code> or <code>append</code> because those methods can be called only once per specific <code>key</code> in <code>TItems</code> (or in this case <code>Types</code>). Is it possible to also remove <code>and</code> and <code>append</code> when all <code>TItems</code> keys have been used? Currently if I call another <code>and</code> on <code>itemBuilder</code> autocomplete will offer this: <code>and(type: never, value: never)</code>. It would be much better if there was no <code>and</code> and <code>append</code> in autocomplete for <code>itemBuilder</code> after those first 2 calls.</li>\n<li>If you look at first <code>and</code> call on <code>itemBuilder</code>, since <code>Type1</code> mapping is <code>undefined</code>, I have to pass <code>undefined</code> as value. Is it possible to somehow pass just name to <code>and</code> method if it doesn't have mapping - because resulting <code>SpecificType</code> is just <code>{ Name: string }</code> and I don't need <code>value</code> (or I could declare mapping somehow different without using <code>undefined</code> maybe??)</li>\n</ol>\n"}, {"tags": ["arrays", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569398169, "post_id": 58093274, "comment_id": 102579742, "body": "Hey can I check with you how do I loop your suggested 2D array in the HTML?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569398726, "post_id": 58093274, "comment_id": 102580029, "body": "@hyperfkcb not sure you need to, but if you want to, sure, just make another question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and I&#39;de be happy to help"}, {"owner": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569398805, "post_id": 58093274, "comment_id": 102580079, "body": "I think it is still under the same question. What I am trying to do is from the 2D array populated, loop thru each of them to create a table. Basically what my selectSvcNoTable is something like this [row, column];"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569398868, "post_id": 58093274, "comment_id": 102580118, "body": "@hyperfkcb then provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here. And it&#39;s just HTML array building, I&#39;m not sure you need me, you should be able to do that in like 5 minutes."}, {"owner": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569400272, "post_id": 58093274, "comment_id": 102580833, "body": "Hey the solution provided kept increasing in column instead of row. Do you have any ideas?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "edited": false, "score": 0, "creation_date": 1569400390, "post_id": 58093274, "comment_id": 102580894, "body": "No I don&#39;t. You didn&#39;t explain what you tried to do, I don&#39;t know what you&#39;re trying to display. That&#39;s why I need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "is_accepted": false, "score": 1, "last_activity_date": 1569396540, "creation_date": 1569396540, "answer_id": 58093274, "question_id": 58093128, "link": "https://stackoverflow.com/questions/58093128/angular-2d-array-not-updating-table-rows-and-columns-accordingly/58093274#58093274", "title": "Angular 2D Array not updating table rows and columns accordingly", "body": "<pre><code>[[new Array(numofOrder)], [new Array(3)]]\n</code></pre>\n\n<p>This syntax results in : </p>\n\n<pre><code>[\n  [\n    [0, 1, 2]\n  ], [\n    [0, 1, 2]\n  ]\n]\n</code></pre>\n\n<p>You don't have a 2D array but a 3D array. </p>\n\n<p>Try this instead : </p>\n\n<pre><code>selectSvcNoTable: any[][] = [];\n\nconst numofOrder = Number(value); // value here update according to input number\nif (this.selectedSvcTy === this.SVC_TYP_IPHONENET) {\n      this.selectSvcNoTable = [new Array(numofOrder), new Array(3)];\n} else {\n      this.selectSvcNoTable = [new Array(numofOrder), new Array(1)];\n}\n</code></pre>\n"}], "owner": {"reputation": 1987, "user_id": 4257073, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/299e970ec23bd73892db56c22d02b442?s=128&d=identicon&r=PG&f=1", "display_name": "hyperfkcb", "link": "https://stackoverflow.com/users/4257073/hyperfkcb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569396540, "creation_date": 1569396083, "question_id": 58093128, "link": "https://stackoverflow.com/questions/58093128/angular-2d-array-not-updating-table-rows-and-columns-accordingly", "title": "Angular 2D Array not updating table rows and columns accordingly", "body": "<p>I was having some problem when trying to initialize 2D array based on different condition in Angular Typescript. Here is my TypeScript:</p>\n\n<pre><code>selectSvcNoTable: any[][] = [];\n\nconst numofOrder = Number(value); // value here update according to input number\nif (this.selectedSvcTy === this.SVC_TYP_IPHONENET) {\n      this.selectSvcNoTable = [[new Array(numofOrder)], [new Array(3)]];\n} else {\n      this.selectSvcNoTable = [[new Array(numofOrder)], [new Array(1)]];\n}\n</code></pre>\n\n<p>In my HTML:</p>\n\n<pre><code>&lt;tr *ngFor=\"let row of selectSvcNoTable; let rowIdx = index;\"&gt;\n    &lt;td *ngFor=\"let col of row; let colIdx = index;\"&gt;         \n    &lt;/td&gt;\n</code></pre>\n\n<p></p>\n\n<p>However, the table only shows two rows regardless on the value I set in 'numofOrder'. Any ideas? Thanks in advance!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "edited": false, "score": 0, "creation_date": 1569395858, "post_id": 58092910, "comment_id": 102578595, "body": "I think what you are looking for is called <code>friend</code> classes in C++, which does not exist in typescript. See <a href=\"https://stackoverflow.com/questions/45847399/friend-class-in-typescript\" title=\"friend class in typescript\">stackoverflow.com/questions/45847399/friend-class-in-typescr&zwnj;&#8203;ipt</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "is_accepted": true, "score": 4, "last_activity_date": 1569396860, "last_edit_date": 1569396860, "creation_date": 1569396524, "answer_id": 58093266, "question_id": 58092910, "link": "https://stackoverflow.com/questions/58092910/how-to-limit-a-setter-to-be-available-to-only-specific-classes/58093266#58093266", "title": "How to limit a setter to be available to only specific classes?", "body": "<blockquote>\n  <p>Is extracting common code to another class is the best practice when dealing with co-dependency?</p>\n</blockquote>\n\n<p>Yes, it is common but can come down to a matter of preference and coding styles.</p>\n\n<blockquote>\n  <p>If it is, can I make some functions (such as setSessionData()) available only to specific classes?</p>\n</blockquote>\n\n<p><code>interface</code>s can help you out here.</p>\n\n<p>Example:</p>\n\n<pre><code>interface SessionDataGetter {\n    getSessionData(): any;\n}\n\ninterface SessionDataSetter {\n    setSessionData(data: any): void;\n}\n\nclass SessionManager implements SessionDataGetter, SessionDataSetter {\n    getSessionData() { return null; }\n\n    setSessionData(data: any) { }\n}\n\nclass AuthMiddleware {\n    // has access to both get and set\n    constructor(sessionManager: SessionManager) { }\n}\n\nclass PostgraphileRouter {\n    // only has access to the get method\n    constructor(sessionGetter: SessionDataGetter) { }\n}\n\nconst sessionManager = new SessionManager();\nconst middleware = new AuthMiddleware(sessionManager);\n// still same instance of session manager, but won't have access to setter (at least at compile time)\nconst router = new PostgraphileRouter(sessionManager);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1571, "user_id": 1814493, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ddyxT.gif?s=128&g=1", "display_name": "Paflow", "link": "https://stackoverflow.com/users/1814493/paflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1569397283, "creation_date": 1569397283, "answer_id": 58093493, "question_id": 58092910, "link": "https://stackoverflow.com/questions/58092910/how-to-limit-a-setter-to-be-available-to-only-specific-classes/58093493#58093493", "title": "How to limit a setter to be available to only specific classes?", "body": "<p>An alternative to the great answer of @Soc could be to create SessionData as <a href=\"https://rxjs-dev.firebaseapp.com/api/index/class/Observable\" rel=\"nofollow noreferrer\">Observable</a>, which can only be subscribed by the reading components.</p>\n"}], "owner": {"reputation": 83, "user_id": 8950161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d41a999edd3ab3f91ea29b3ed7348e0?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Shany", "link": "https://stackoverflow.com/users/8950161/guy-shany"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58093266, "answer_count": 2, "score": 3, "last_activity_date": 1570048851, "creation_date": 1569395400, "last_edit_date": 1570048851, "question_id": 58092910, "link": "https://stackoverflow.com/questions/58092910/how-to-limit-a-setter-to-be-available-to-only-specific-classes", "title": "How to limit a setter to be available to only specific classes?", "body": "<p>I have 2 classes that depend on each other. For the sake of example, let's say that the structure is:</p>\n\n<pre><code>class AuthMiddleware {\n    public authenticate() {\n      // uses PostgraphileRouter here to extract some data before the authentication\n\n      // authenticates ..\n\n      // keeps the userId if authentication succeeded\n       this.setSessionData(userId);\n    }\n\n    private setSessionData() {..}\n    public getSessionData() {..}\n}\n\nclass PostgraphileRouter {\n  // makes a graphql query that uses AuthMiddleware.getSessionData()\n}\n</code></pre>\n\n<p>I don't want to work with co-dependent classes, so I decided to put \n<code>setSessionData()</code> and <code>getSessionData()</code> in a <code>SessionManager</code> class and inject it to both classes.</p>\n\n<p>The problem is that now I have to make <code>setSessionData()</code> public although I want to keep it available only to <code>AuthMiddleware</code> class.</p>\n\n<ol>\n<li><p>Is extracting common code to another class is the best practice when\ndealing with co-dependency?</p></li>\n<li><p>If it is, can I make some functions (such as <code>setSessionData()</code>) available only to specific classes?</p></li>\n</ol>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "typescript", "command-line-interface"], "comments": [{"owner": {"reputation": 2806, "user_id": 8864728, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c7e35a8c48bc099d7a1e1a2e0c6fac1c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/8864728/mahi"}, "edited": false, "score": 0, "creation_date": 1569395148, "post_id": 58092652, "comment_id": 102578261, "body": "just add modules of one project to another and update components in app.modules and other corresponding modules and update package.json and angular.json and index.html in single project. Angular app is all about &quot;modules&quot;. Delete node_modules and kill terminal and re-run the app."}, {"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "reply_to_user": {"reputation": 2806, "user_id": 8864728, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c7e35a8c48bc099d7a1e1a2e0c6fac1c?s=128&d=identicon&r=PG&f=1", "display_name": "Mahi", "link": "https://stackoverflow.com/users/8864728/mahi"}, "edited": false, "score": 0, "creation_date": 1569396202, "post_id": 58092652, "comment_id": 102578769, "body": "thanks but the answer of @draeger is more elaborate"}], "answers": [{"comments": [{"owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "edited": false, "score": 0, "creation_date": 1569396558, "post_id": 58092957, "comment_id": 102578931, "body": "hey i have another question. where will in the loginpage directory i will have to copy the contents of zbar... , is it in the app directory?"}], "tags": [], "owner": {"reputation": 11, "user_id": 6835898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa0cc4b649dd2931ca0f3f1fa9777bb6?s=128&d=identicon&r=PG&f=1", "display_name": "Draeger", "link": "https://stackoverflow.com/users/6835898/draeger"}, "is_accepted": false, "score": 0, "last_activity_date": 1569395545, "creation_date": 1569395545, "answer_id": 58092957, "question_id": 58092652, "link": "https://stackoverflow.com/questions/58092652/how-to-copy-run-the-components-of-one-angular-app-to-another/58092957#58092957", "title": "How to copy/run the components of one Angular app to another", "body": "<p>You already answered your question in the question itself, just replace the 'or' with 'and'. Following will be the steps -</p>\n\n<ol>\n<li><p>Ensure what packages are actually making the 'zbarcode' work. You can find that in the package.json file. Install those packages in the 'loginpage' project of yours.</p></li>\n<li><p>Copy the working code(rather components) from 'zbarcode' to 'login page' and parallelly import the components in the app.module.ts or they won't work. You will be prompted for that error anyways when you will be serving the project.</p></li>\n<li><p>Now You have to make two routes e.g '/login' for the login page and '/zbar' for the bar scanner page. And if the user is verified using login, you simply want to redirect to '/zbar'.</p></li>\n</ol>\n"}], "owner": {"reputation": 442, "user_id": 12084893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50c95c804a48a9bf87677cbdb0fdedca?s=128&d=identicon&r=PG&f=1", "display_name": "Aayush Gupta", "link": "https://stackoverflow.com/users/12084893/aayush-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 665, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569395545, "creation_date": 1569394333, "question_id": 58092652, "link": "https://stackoverflow.com/questions/58092652/how-to-copy-run-the-components-of-one-angular-app-to-another", "title": "How to copy/run the components of one Angular app to another", "body": "<p>I have two projects both developed in Angular, my first project is \"zbarcode\" and second project is \"loginpage\". Both the project structures have been created using Angular-cli. </p>\n\n<p>Zbarcode structure -\n<a href=\"https://i.stack.imgur.com/ESQy7.png\" rel=\"nofollow noreferrer\">Zbarcode Structure (app.module.ts)</a></p>\n\n<p>Loginpage structure -\n<a href=\"https://i.stack.imgur.com/3vo0i.png\" rel=\"nofollow noreferrer\">Loginpage Structure (app.module.ts)</a></p>\n\n<p>If you look at the codes of loginpage component and module files, i want to add the zbarcode scannner component and features here. I dont know whether i can do it through angular routing or should i copy the contents of zbarcode to loginpage. The output i want is to run the scanner (zbarcode) after login (loginpage)</p>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 1, "creation_date": 1569393798, "post_id": 58092495, "comment_id": 102577617, "body": "<code>this.Value ? this.searchTerm =this.Value : this.searchTerm =&quot;1&quot;;</code> this is not JS/TS. Your project should not even build with that. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> reproducing your issue."}, {"owner": {"reputation": 1592, "user_id": 10754437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hQ20TT_LpsQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAKkgUh4-8Hy8fUoI1tRFx-xHxVA/mo/photo.jpg?sz=128", "display_name": "Ruud Verhoef", "link": "https://stackoverflow.com/users/10754437/ruud-verhoef"}, "edited": false, "score": 0, "creation_date": 1569397126, "post_id": 58092495, "comment_id": 102579218, "body": "@Maryannah isn&#39;t that just a ternary operator that is provided by JS. Not an expert here but shouldn&#39;t you define searchterm first?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "reply_to_user": {"reputation": 1592, "user_id": 10754437, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hQ20TT_LpsQ/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hAKkgUh4-8Hy8fUoI1tRFx-xHxVA/mo/photo.jpg?sz=128", "display_name": "Ruud Verhoef", "link": "https://stackoverflow.com/users/10754437/ruud-verhoef"}, "edited": false, "score": 1, "creation_date": 1569397205, "post_id": 58092495, "comment_id": 102579267, "body": "@RuudHermans this looks like it, but it&#39;s definitely not the syntax for it."}], "owner": {"reputation": 1633, "user_id": 11272449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a449ca3aaecdd974bd0d060e4bc3009?s=128&d=identicon&r=PG&f=1", "display_name": "karansys", "link": "https://stackoverflow.com/users/11272449/karansys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569393714, "creation_date": 1569393714, "question_id": 58092495, "link": "https://stackoverflow.com/questions/58092495/typescript-same-function-is-called-on-mat-select-and-filter-data-is-updated-glo", "title": "Typescript: same function is called on mat-select and filter data is updated globally", "body": "<p>This is an angular app, In ref to my previous question <a href=\"https://stackoverflow.com/questions/58076213/how-to-avoid-elements-overlapping-elements-in-angular?noredirect=1#comment102551707_58076213\">question link</a>. I add table rows on clicking button. In each table row I have mat-select element, on onclick event I call a function(onclickx).\n<strong>html template</strong></p>\n\n<pre><code>&lt;td&gt;\n   &lt;div class=\"form-group\"&gt;\n     &lt;mat-form-field&gt;\n      &lt;mat-select (selectionChange) = \"selectNumber($event.value)\"&gt;\n       &lt;mat-option *ngFor=\"let type of productNo\" [value]=type.num &gt;\n        {{type.num}}\n       &lt;/mat-option&gt;\n      &lt;/mat-select&gt;\n     &lt;/mat-form-field&gt; \n    &lt;/div&gt;   \n  &lt;/td&gt;\n\n\n&lt;tr *ngFor=\"let product of record.products; let i = index \"&gt;\n &lt;td&gt;\n   &lt;div class=\"form-group\"&gt;\n    &lt;mat-form-field&gt;\n     &lt;mat-select  placeholder=\"Product\" (click)=\"onclickx(i)\"&gt;\n      &lt;mat-optgroup *ngFor=\"let product of filteredProducts\" [label]=\"product.daemon\"&gt;\n          &lt;mat-option *ngFor=\"let item of product.productlist\" [value]=\"item.name\"&gt;\n           {{item.name}}\n          &lt;/mat-option&gt;\n      &lt;/mat-optgroup&gt;\n    &lt;/mat-select&gt;\n   &lt;/mat-form-field&gt;\n  &lt;/div&gt; \n&lt;/td&gt;\n</code></pre>\n\n<p><strong>typescript</strong></p>\n\n<pre><code>export class Template implements oninit{\nfilteredProducts:any[];\nValue:number;\nselectNumber (value) {\n    this.Value = value;\n}\n  onclickx(i):any[]{\n    this.Value ? this.searchTerm =this.Value : this.searchTerm =\"1\";\n    this.filteredProducts[i] = this.searchTerm ? this.productlistArray.filter(productlistArray =&gt; productlistArray.number == this.searchTerm) : this.productlistArray;\n    return this.filteredProducts;\n  }\n</code></pre>\n\n<p>There will be two tables rows and each table row has this mat-select element,on clicking mat-select same function is called since \"this.filteredProducts\" is a global variable, when second row is updated with product list it affects the first row as well! how to overcome this problem. </p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "is_accepted": false, "score": 0, "last_activity_date": 1569393398, "creation_date": 1569393398, "answer_id": 58092428, "question_id": 58092427, "link": "https://stackoverflow.com/questions/58092427/working-with-a-discriminated-union-type-instead-of-optional-properties/58092428#58092428", "title": "Working with a discriminated Union-type instead of optional properties", "body": "<p>While not as elegant, I think this is the easiest way achieve this:</p>\n\n<pre><code>const myFunction = (props: MyProps) =&gt; {\n  const { type, someCommonProps } = props;\n  const foo = 'foo' in props ? props.foo : undefined;\n  const bar = 'bar' in props ? props.bar : undefined;\n  if (foo) {\n    //Do something\n  }\n  if (bar) {\n    //Do something else\n  }\n};\n</code></pre>\n\n<p>Also consider if you can do something like this:</p>\n\n<pre><code>const foobar = 'foo' in props ? props.foo : props.bar;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1693, "user_id": 6750581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d4ce77cf710ef819c66b1f37f3491e1?s=128&d=identicon&r=PG", "display_name": "tano", "link": "https://stackoverflow.com/users/6750581/tano"}, "is_accepted": false, "score": 1, "last_activity_date": 1569395185, "creation_date": 1569395185, "answer_id": 58092853, "question_id": 58092427, "link": "https://stackoverflow.com/questions/58092427/working-with-a-discriminated-union-type-instead-of-optional-properties/58092853#58092853", "title": "Working with a discriminated Union-type instead of optional properties", "body": "<p>With classes you can do this this way:</p>\n\n<pre><code>class Foo {\n    type: 'a' | 'b' | 'c';\n    foo: unknown;\n}\n\nclass Bar {\n    type: 'd' | 'e' | 'f';\n    bar: unknown;\n}\n\ntype FooBar = Foo | Bar;\n\ntype MyProps = FooBar &amp; {\n    someCommonProps: unknown;\n};\n\nconst myFunction = (props: MyProps) =&gt; {\n    if (props instanceof Foo) {\n        // Do something\n        console.log(props.someCommonProps);\n    }\n    if (props instanceof Bar) {\n        // Do something else\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "is_accepted": false, "score": 1, "last_activity_date": 1569397377, "creation_date": 1569397377, "answer_id": 58093518, "question_id": 58092427, "link": "https://stackoverflow.com/questions/58092427/working-with-a-discriminated-union-type-instead-of-optional-properties/58093518#58093518", "title": "Working with a discriminated Union-type instead of optional properties", "body": "<p>If your tags are string unions, you can use <code>switch(props.type)</code> and enumerate all values in the cases:</p>\n\n<pre><code>const myFunction = (props: MyProps) =&gt; {\n  switch (props.type) {\n    case 'a': case 'b': case 'c':\n      let x = props.foo;\n      break;\n    case 'd': case 'e': case 'f':\n      let y = props.bar;\n      break;\n  }\n};\n</code></pre>\n\n<p>This can be tedious in the long run, here's one possible way to automate:</p>\n\n<pre><code>let FooTag = ['a', 'b', 'c'] as const;\n\ninterface Foo2 {\n  type: typeof FooTag[number];\n  foo: unknown;\n}\n\nfunction isFoo2(x: Foo2 | Bar2): x is Foo2 {\n  return (FooTag as readonly string[]).indexOf(x.type) &gt;= 0;\n}\n...\n\nconst myFunction2 = (props: MyProps2) =&gt; {\n  if (isFoo2(props)) {\n    let x = props.foo;\n  }\n  if (isBar2(props)) {\n    let x = props.bar;\n  }\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgGIHt3IN4ChnJgCeADhAFzIBEcVyAPtQEZ2NUJUDc+yMmlAVxABrEOgDuIbgF9cuUJFiIUAIThQcPYmUpUAJq2oRDVGFx5N1gkWMky52lBnRqNAXjSYGyV91yPkAFkiAAUodBIAZ2QPZ1dkADIcZEj0AFsIAGF0tPQQMIjI61EJEGRZXAQ8yLBkNKJUIQQwYDyY5AAKEnCoymCCqIBKGIA+TQJI8WAwBAALTu7CgDpHYbwCAgQ4SJQAcjhdyi2d5F2mQ+RjvYRDng3kABsIWoAPdsWopb50bnuCJigEDgwl+Gyupz0F3BuwgUO2exgtz+j2eyCI7x6kSWligoPuAKBIJ4smkfgA9BS5E9as4ACpwADm7QA2vtdgAaU7nTm7G4AXWQ20u1TA3GpPnU9KZHlZkJ5sJ5iIFQqqIBqfgU0HgSE86AATONCKQKEayOgYLqpcyQAI0kxoHzQd9irYpLgKpqlDrXAb1qaTY5zRKoFabXaHaCcS7SvZcDAmi02sBIs49R0XpRU94fYNKG9k7rfTxAWABFAyh06YzBdFAXA9HkHuialBQAzmXzBktQHoIC8APIwdMrY3DEYeAAMsfjIGarTKyZ96czmANjBzeeQBZ9hpLZYrrilNeQdYbICbKTArZA7c73ZAvYHQ5eI7IY8nsYC-UxBo8ldX2bqHqwxJNgKTpFkOR5AMRTIEIJSSOUchyKqNR1A0Cbzr+CyYn0oQ-sMbhjH6wAWh0yapl0mKDGsdwoq8GLLN8oKyAQpGdIuQFUYUNGGgQ4pvB4HxYjiLHutwQA\" rel=\"nofollow noreferrer\">Play</a></p>\n"}], "owner": {"reputation": 187, "user_id": 8932315, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-yMxyI_lshds/AAAAAAAAAAI/AAAAAAAA_Tc/U-vNxeMgZD0/photo.jpg?sz=128", "display_name": "MrMamen", "link": "https://stackoverflow.com/users/8932315/mrmamen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569397377, "creation_date": 1569393398, "question_id": 58092427, "link": "https://stackoverflow.com/questions/58092427/working-with-a-discriminated-union-type-instead-of-optional-properties", "title": "Working with a discriminated Union-type instead of optional properties", "body": "<p>I'm currently in the process of rewriting a JavaScript codebase into Typescript. I've discovered that the data in a function is defined like MyProps below:</p>\n\n<pre><code>interface MyProps {\n  type: string;\n  foo?: unknown;\n  bar?: unknown;\n  someCommonProps: unknown;\n}\n</code></pre>\n\n<p>The usage has been like this:</p>\n\n<pre><code>const myFunction = (props: MyProps) =&gt; {\n  const { type, foo, bar, someCommonProps } = props;\n  if (foo) {\n    //Do something\n  }\n  if (bar) {\n    //Do something else\n  }\n};\n</code></pre>\n\n<p>By further investigation I see that the interfaces/types could be defined more precisely like this:</p>\n\n<pre><code>interface Foo {\n  type: \"a\" | \"b\" | \"c\";\n  foo: unknown;\n}\n\ninterface Bar {\n  type: \"d\" | \"e\" | \"f\";\n  bar: unknown;\n}\n\ntype FooBar = Foo|Bar;\n\ntype MyProps = FooBar &amp; {\n  someCommonProps: unknown;\n}\n</code></pre>\n\n<p>But by assigning the new MyProps to props, I will get an error on the first line of myFunction: Property 'foo' does not exist on type 'MyProps'. And similar with 'bar'. What is the best way to handle this without rewriting in a way that may introduce bugs?</p>\n"}, {"tags": ["angular", "typescript", "promise", "ionic4", "angular8"], "comments": [{"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1569389643, "post_id": 58091635, "comment_id": 102576007, "body": "Do you mean <code>this.CurrentPgUrl</code> is <code>undefined</code> when you log it?"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1569389847, "post_id": 58091635, "comment_id": 102576081, "body": "Instead of using <code>function(tabs) {...}</code>, I&#39;d recommend using <code>(tabs) =&gt; {...}</code>. This is because <code>function</code> creates a new scope, so <code>this</code> won&#39;t refer to the same thing anymore."}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1569389883, "post_id": 58091635, "comment_id": 102576091, "body": "I&#39;m not sure that&#39;s the issue you have, but it might be"}, {"owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "reply_to_user": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1569391095, "post_id": 58091635, "comment_id": 102576509, "body": "Yes, I need this.currentPgurl in ngOnit().But now I am getting undefined"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1569393752, "post_id": 58091635, "comment_id": 102577599, "body": "Did you try using the fat arrow (<code>=&gt;</code>) instead of <code>function</code>?"}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1569396662, "post_id": 58091635, "comment_id": 102578987, "body": "That&#39;s mostly beside the point. The main issue is, <code>chromeCall</code> <i>doesn&#39;t return anything</i> (the return statement there is not a return from <code>chromeCall</code>, it&#39;s a return from callback inside callback inside <code>chromeCall</code>, and is ignored)."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "edited": false, "score": 0, "creation_date": 1569391165, "post_id": 58091771, "comment_id": 102576542, "body": "Still I am getting undefined in ngOnInit()."}, {"owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "reply_to_user": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "edited": false, "score": 0, "creation_date": 1569392118, "post_id": 58091771, "comment_id": 102576901, "body": "@SRI did you try to write <code>await</code> before the <code>function(tabs) { ... }</code> ?"}], "tags": [], "owner": {"reputation": 1846, "user_id": 5746236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e5b2b5e435d4f91a4d28c3892347d7?s=128&d=identicon&r=PG&f=1", "display_name": "Yash Rami", "link": "https://stackoverflow.com/users/5746236/yash-rami"}, "is_accepted": false, "score": 0, "last_activity_date": 1569389955, "creation_date": 1569389955, "answer_id": 58091771, "question_id": 58091635, "link": "https://stackoverflow.com/questions/58091635/promise-returns-undefined-value-inside-ngoninit-in-angular-8-ionic-4/58091771#58091771", "title": "Promise returns undefined value inside ngOnInit in Angular 8 ionic 4", "body": "<p>you can try like this, Here we are using a promise so after getting the expected result from chrome tabs we are resolving the promise so you will not get <code>undefined</code>. I hope it helps you out.</p>\n\n<pre><code>async chromeCall() {\n    try {\n\n      const results = await chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n   return new Promise(resolve =&gt; {\n          chrome.tabs.sendMessage(tabs[0].id, { from: 'popup', subject: 'DOMInfo' }, \n          (response) =&gt; {\n             console.info(\"Tab ID:\", tabs[0].id);\n             this.CurrentPgUrl = response.webPgURL;\n             console.log(this.CurrentPgUrl);//geting value here\n             resolve (this.CurrentPgUrl);\n        });\n      });\n   });     \n    }\n    catch (err) {\n      console.log(err);\n      console.log(\"comes to error \");\n\n    }\n  }\n\n</code></pre>\n\n<p><strong>ngOnInit</strong></p>\n\n<pre><code> ngOnInit(){\n    this.apiService.chromeCall()\n    .then(result =&gt;{\n    this.url=result;\n    console.log(this.url)//value undefined\n    )};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8664558, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-E2-ZnOWUCSg/AAAAAAAAAAI/AAAAAAAAAnI/oUlyaPdqV4A/photo.jpg?sz=128", "display_name": "Ashan Perera", "link": "https://stackoverflow.com/users/8664558/ashan-perera"}, "is_accepted": false, "score": -1, "last_activity_date": 1569395238, "creation_date": 1569395238, "answer_id": 58092866, "question_id": 58091635, "link": "https://stackoverflow.com/questions/58091635/promise-returns-undefined-value-inside-ngoninit-in-angular-8-ionic-4/58092866#58092866", "title": "Promise returns undefined value inside ngOnInit in Angular 8 ionic 4", "body": "<p>option 1 : You can put async await concept for ngOnInit method which is like this,</p>\n\n<pre><code>async ngOnInit(){\n    let serviceResponse = await this.apiService.chromeCall();\n     if(serviceResponse){\n       this.url=result;\n     }\n }\n</code></pre>\n\n<p>option 2: You can add if condition in side then call back method, which is like this,</p>\n\n<pre><code>ngOnInit(){\n    console.log('Loading start')\n    this.apiService.chromeCall()\n    .then(result =&gt;{\n        if(result){\n            this.url=result;\n            console.log('Loading ends')\n            console.log(this.url)\n            return\n        }\n        console.log('Loading ends')\n    ).catch(err) =&gt; {\n        console.log('Loading ends', err);\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "edited": false, "score": 0, "creation_date": 1569405526, "post_id": 58093094, "comment_id": 102583813, "body": "Getting the value as expected. Thanks"}], "tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": true, "score": 1, "last_activity_date": 1569395965, "creation_date": 1569395965, "answer_id": 58093094, "question_id": 58091635, "link": "https://stackoverflow.com/questions/58091635/promise-returns-undefined-value-inside-ngoninit-in-angular-8-ionic-4/58093094#58093094", "title": "Promise returns undefined value inside ngOnInit in Angular 8 ionic 4", "body": "<p><code>chromeCall</code> must return a promise - or anything, really, as it is written it's returning undefined. <code>chrome.tabs.query</code> is build with the callback recipe, not the promise recipe, so <code>await</code>ing it won't do anything worthy of notice.</p>\n\n<p>It should go something like this:</p>\n\n<pre><code>chromeCall() {\n    return new Promise(\n        (resolve, reject) =&gt; chrome.tabs.query({ active: true, currentWindow: true }, tabs =&gt; {\n// dive into the callback hell here, and on the final line...\n            resolve(this.CurrentPgUrl);\n        }\n// and the appropriate number of closing `}`s\n</code></pre>\n\n<p>Alternatively, you might use a library that promisifies those methods. This one, for example, looks like it would do the job:\n<a href=\"https://www.npmjs.com/package/chrome-extension-async\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/chrome-extension-async</a></p>\n"}], "owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 58093094, "answer_count": 3, "score": 0, "last_activity_date": 1569396843, "creation_date": 1569388962, "last_edit_date": 1569396843, "question_id": 58091635, "link": "https://stackoverflow.com/questions/58091635/promise-returns-undefined-value-inside-ngoninit-in-angular-8-ionic-4", "title": "Promise returns undefined value inside ngOnInit in Angular 8 ionic 4", "body": "<p>In my Ionic 4 angular 8 application I am using chrome extension to return tab URL. I am getting the tab URL value in function defined in service file but when invoked the service inside <code>ngOnInit()</code> I am getting undefined. Please help me to resolve this.</p>\n\n<p>I want the URL value to be displayed in <code>ngOnInit()</code></p>\n\n<p>Inside service file</p>\n\n<pre><code>async chromeCall() {\n    try {          \n      const results = await chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n        chrome.tabs.sendMessage(tabs[0].id, { from: 'popup', subject: 'DOMInfo' }, (response) =&gt; {\n          console.info(\"Tab ID:\", tabs[0].id);\n          this.CurrentPgUrl = response.webPgURL;\n          console.log(this.CurrentPgUrl);//geting value here\n          return this.CurrentPgUrl;\n        });\n      });\n    }\n    catch (err) {\n      console.log(err);\n      console.log(\"comes to error \");          \n    }\n  }\n</code></pre>\n\n<p>Inside <code>ngOnit()</code></p>\n\n<pre><code> ngOnInit(){\n    this.apiService.chromeCall()\n    .then(result =&gt; {\n      this.url=result;\n      console.log(this.url)//value undefined\n )};\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 4430, "user_id": 2690790, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/810ebc2ef00faac83286d2bb892f38cd?s=128&d=identicon&r=PG", "display_name": "skovy", "link": "https://stackoverflow.com/users/2690790/skovy"}, "is_accepted": true, "score": 4, "last_activity_date": 1569381992, "creation_date": 1569381992, "answer_id": 58090749, "question_id": 58090665, "link": "https://stackoverflow.com/questions/58090665/typescript-what-is-the-type-of-the-object-name-string-string/58090749#58090749", "title": "Typescript what is the type of the object : &quot;{ [name: string]: string}&quot;?", "body": "<p>This is called an <a href=\"https://basarat.gitbooks.io/typescript/docs/types/index-signatures.html\" rel=\"nofollow noreferrer\">index signature</a>.</p>\n\n<p>So the full type declaration you shared <code>headers?: string | { [name: string]: string | string[]; }</code> is saying that <code>headers</code> can be 1 of 2 types: a string, or an object with a specific shape.</p>\n\n<p>For example:</p>\n\n<ul>\n<li><strong>string</strong>: <code>\"some value\"</code></li>\n<li><strong>object</strong> (with a <code>string</code> value): <code>{ some: \"value\" }</code></li>\n<li><strong>object</strong> (with a <code>string[]</code> value): <code>{ some: [\"value\", \"foo\"] }</code></li>\n</ul>\n\n<p>The index signature <code>{ [name: string]: string | string[]; }</code> is specifically saying that any key <code>name</code> that is a string can be used and it's value can be either a <code>string</code> or an array of strings (<code>string[]</code>). The <code>name</code> in <code>[name: string]</code> actually has no significance.</p>\n"}, {"tags": [], "owner": {"reputation": 3766, "user_id": 6640803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Bx5JYGtjy7w/AAAAAAAAAAI/AAAAAAAAABM/np44KmT0STw/photo.jpg?sz=128", "display_name": "Nadhir Falta", "link": "https://stackoverflow.com/users/6640803/nadhir-falta"}, "is_accepted": false, "score": 1, "last_activity_date": 1569382014, "creation_date": 1569382014, "answer_id": 58090753, "question_id": 58090665, "link": "https://stackoverflow.com/questions/58090665/typescript-what-is-the-type-of-the-object-name-string-string/58090753#58090753", "title": "Typescript what is the type of the object : &quot;{ [name: string]: string}&quot;?", "body": "<p>It means you can just pass in headers as one string, or object list of string header definitions.\nIf you're looking on the best way to set your headers check this:   </p>\n\n<pre><code> let headers: HttpHeaders = new HttpHeaders();\n    headers = headers.append(\n    'Accept',\n     'text/html,application/json,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0. 8'  \n    );\n</code></pre>\n\n<p>or this answer here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41133705/how-to-correctly-set-http-request-header-in-angular-2\">How to correctly set Http Request Header in Angular 2</a></p>\n"}, {"tags": [], "owner": {"reputation": 1776, "user_id": 9011723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20385cc990720ff64499b9de3b52fc70?s=128&d=identicon&r=PG&f=1", "display_name": "Jo&#227;o Ghignatti", "link": "https://stackoverflow.com/users/9011723/jo%c3%a3o-ghignatti"}, "is_accepted": false, "score": 1, "last_activity_date": 1569382045, "creation_date": 1569382045, "answer_id": 58090757, "question_id": 58090665, "link": "https://stackoverflow.com/questions/58090665/typescript-what-is-the-type-of-the-object-name-string-string/58090757#58090757", "title": "Typescript what is the type of the object : &quot;{ [name: string]: string}&quot;?", "body": "<p>This is a way of declaring an Object, or you could say a dictionary, a key/value pair. Where you do not need to define the properties (different from an interface), you just say that the key will be of type <code>string</code> and the value of type (in this case) <code>string | string[]</code>.</p>\n\n<p>So, when you set your headers as <code>{'Accept': 'application/json'}</code>, for example, you are creating a pair where key is <code>'Accept'</code>, of type string, and this key's value is <code>'application/json'</code>, also of type string.</p>\n\n<p>That way of declaring a type let's you have, of course, multiple dynamic properties, so you could end up with:</p>\n\n<pre><code>const headers = {\n  'Accept': 'application/json',\n  'Authorization': `Bearer ${jwt}`,\n};\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 9453953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APWdQ.jpg?s=128&g=1", "display_name": "redd77", "link": "https://stackoverflow.com/users/9453953/redd77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1422, "favorite_count": 0, "accepted_answer_id": 58090749, "answer_count": 3, "score": 0, "last_activity_date": 1569392273, "creation_date": 1569381282, "last_edit_date": 1569392273, "question_id": 58090665, "link": "https://stackoverflow.com/questions/58090665/typescript-what-is-the-type-of-the-object-name-string-string", "title": "Typescript what is the type of the object : &quot;{ [name: string]: string}&quot;?", "body": "<p>I started working with angular HttpHeaders but could not understand one of the parameters of its constructor which is <strong>[name: string]: string</strong> , here is the constructor from the docs :</p>\n\n<pre><code>constructor(headers?: string | { **[name: string]: string** | string[]; })\n</code></pre>\n\n<p>could anyone explain the type of that object or what it does refer to?</p>\n"}, {"tags": ["angular", "typescript", "redux", "rxjs", "ngrx"], "answers": [{"comments": [{"owner": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569379481, "post_id": 58090422, "comment_id": 102573845, "body": "Thanks! So I would create a service that accepts an array and would make n number of calls to the backend to make the changes?"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569385314, "post_id": 58090422, "comment_id": 102574899, "body": "The point of making your api accept an array is so you can bulk update in a single call rather than round tripping the server."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 1, "last_activity_date": 1569378956, "creation_date": 1569378956, "answer_id": 58090422, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time/58090422#58090422", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>You don't, you have a different action with a payload that takes an array of cards instead of a single card and then the reducer returns the new state updated with the multiple cards. Your api should also be able to take an array so your effect can send multiple to the server.</p>\n"}, {"comments": [{"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "edited": false, "score": 0, "creation_date": 1569417324, "post_id": 58091041, "comment_id": 102590408, "body": "It&#39;s cleaner to do this using <code>mergeMap</code>."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 2, "last_activity_date": 1569384700, "creation_date": 1569384700, "answer_id": 58091041, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time/58091041#58091041", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>You can dispatch multiple action in your effect and I would recommend you do that only in the effect</p>\n\n<p>Consider example below</p>\n\n<pre><code>@Effect()\ndispatchMultiAction$: Observable&lt;Action&gt; = this.actions$.pipe(\n    ofType&lt;SomeAction.Dispatch&gt;(someActions.Dispatch),\n    switchMap(_ =&gt;\n        of(\n            new someActions.InitData(),\n            new someActions.GetData(),\n            new someActions.LoadData()\n        )\n    )\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1569399093, "post_id": 58093587, "comment_id": 102580238, "body": "Linking to a YouTube video is not an acceptable answer. It is fine for a comment but it is not an answer. At least explain the contents of what is in the video and then link to the video as a reference."}, {"owner": {"reputation": 788, "user_id": 6445117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0483919269594da1fb5775d0ff59cd08?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Ivanko", "link": "https://stackoverflow.com/users/6445117/dmitriy-ivanko"}, "reply_to_user": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1569400450, "post_id": 58093587, "comment_id": 102580921, "body": "@AdrianBrand Thank you for your advice. I changed my answer. I shared this link because I think It is very important video to understand the architecture of actions in ngrx."}, {"owner": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569415513, "post_id": 58093587, "comment_id": 102589276, "body": "Thanks! The video was actually pretty eye-opening.  I have been reusing actions and have seen some of the pitfalls from that.  So he mentions that unique event actions create more actions but they&#39;ll create equally as many effects and reducers too right?"}], "tags": [], "owner": {"reputation": 788, "user_id": 6445117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0483919269594da1fb5775d0ff59cd08?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitriy Ivanko", "link": "https://stackoverflow.com/users/6445117/dmitriy-ivanko"}, "is_accepted": false, "score": 0, "last_activity_date": 1569419497, "last_edit_date": 1569419497, "creation_date": 1569397584, "answer_id": 58093587, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time/58093587#58093587", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>Technically it is really bad practice use action to dispatch another multiple actions. It is increased complicates of the application. After some time you can not debug and understand why and were actions will be dispatched. This video Mike Ryan describe Good Action Hygiene with NgRx: \n<a href=\"https://youtu.be/JmnsEvoy-gY?t=285\" rel=\"nofollow noreferrer\">https://youtu.be/JmnsEvoy-gY?t=285</a></p>\n"}, {"comments": [{"owner": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569433139, "post_id": 58099328, "comment_id": 102598849, "body": "is there a reason you didn&#39;t use the &quot;of&quot; operator.  I can&#39;t figure out why it is sometimes used to dispatch actions and sometimes not."}, {"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "reply_to_user": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569457671, "post_id": 58099328, "comment_id": 102606466, "body": "You might consider reading from learnrxjs. They have very good descriptions for each operator."}, {"owner": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 0, "creation_date": 1569459044, "post_id": 58099328, "comment_id": 102606696, "body": "Thanks. I think I understand what the of operator does but I\u2019m unsure why sometimes the action is dispatched as an observable like Tony shows above and sometimes not like in your example"}, {"owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "reply_to_user": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "edited": false, "score": 2, "creation_date": 1569461763, "post_id": 58099328, "comment_id": 102607153, "body": "The only reason Tony used <code>of([])</code> is because <code>switchMap</code> will only return one observable. Essentially, what he&#39;s done is a workaround to return multiple actions. However, using <code>mergeMap</code> we can return multiple actions properly."}], "tags": [], "owner": {"reputation": 2755, "user_id": 5326679, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh5.googleusercontent.com/-UAJcCqeI85w/AAAAAAAAAAI/AAAAAAAAAEw/hAEYnJlKTt8/photo.jpg?sz=128", "display_name": "xandermonkey", "link": "https://stackoverflow.com/users/5326679/xandermonkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1569417375, "creation_date": 1569417375, "answer_id": 58099328, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time/58099328#58099328", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>Similar to Tony's answer, but using the correct operator:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Effect()\ndispatchMultiAction$: Observable&lt;Action&gt; = this.actions$.pipe(\n    ofType&lt;SomeAction.Dispatch&gt;(someActions.Dispatch),\n    mergeMap(_ =&gt; [\n            new someActions.InitData(),\n            new someActions.GetData(),\n            new someActions.LoadData()\n        ])\n    )\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1022, "user_id": 4646531, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0nTSs.jpg?s=128&g=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/4646531/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1614533961, "creation_date": 1614533961, "answer_id": 66412033, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time/66412033#66412033", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>Similar to xandermonkey's answer, but using the correct operator:</p>\n<pre><code>@Effect()\ndispatchMultiAction$: Observable&lt;Action&gt; = this.actions$.pipe(\n    ofType&lt;SomeAction.Dispatch&gt;(someActions.Dispatch),\n    concatMap(_ =&gt; [\n            new someActions.InitData(),\n            new someActions.GetData(),\n            new someActions.LoadData()\n        ])\n    )\n);\n</code></pre>\n<p>Note the difference between concatMap and mergeMap. Because concatMap does not subscribe to the next observable until the previous completes, the value from the source delayed by 2000ms will be emitted first. Contrast this with mergeMap which subscribes immediately to inner observables, the observable with the lesser delay (1000ms) will emit, followed by the observable which takes 2000ms to complete.</p>\n"}], "owner": {"reputation": 599, "user_id": 2960689, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70bfaa89794071b849d8967fa29ab5c9?s=128&d=identicon&r=PG&f=1", "display_name": "mattc19", "link": "https://stackoverflow.com/users/2960689/mattc19"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2340, "favorite_count": 0, "accepted_answer_id": 58091041, "answer_count": 5, "score": 2, "last_activity_date": 1614533961, "creation_date": 1569378394, "last_edit_date": 1573531491, "question_id": 58090360, "link": "https://stackoverflow.com/questions/58090360/how-to-dispatch-multiple-ngrx-actions-at-the-same-time", "title": "How to dispatch multiple ngrx actions at the same time", "body": "<p>I'm using ngrx and have a scenerio where I need to dispatch 2 actions at the same time.  My state has properties for updating and updated and looks like below.</p>\n\n<pre><code>//from reducer\nconst defaultCardState: CardState = {\n    ids: [],\n    entities: {},\n    loaded: false,\n    loading: false,\n    adding: false,\n    added: false,\n    updating: false,\n    updated: false,\n    deleting: false,\n    deleted: false\n};\n</code></pre>\n\n<p>These are the actions I'm dispatching from my component</p>\n\n<pre><code>this.store.dispatch(fromCard.updateCard({id: id1, changes: {name: name1}}))\nthis.store.dispatch(fromCard.updateCard({id: id2, changes: {name: name2}}))\n</code></pre>\n\n<p>Below are my action, reducer and effect</p>\n\n<pre><code>//Update Card Actions\nexport const updateCard = createAction('[Cards] Update Card', props&lt;{id: string, changes: any}&gt;())\nexport const updateCardSuccess = createAction('[Cards] Update Card Success', props&lt;{changes: any}&gt;());\nexport const updateCardFail = createAction('[Cards] Update Card Fail')\n\n//Reducer\non(fromCards.updateCard, (state) =&gt; ({...state, updating: true, updated: false})),\n    on(fromCards.updateCardSuccess, (state, action: any) =&gt; ({...cardAdapter.updateOne(action.changes, state), updated: true, updating: false})),\n    on(fromCards.updateCardFail, (state, action: any) =&gt; fromCards.updateCardFail),\n\n//Update Card Effect\nupdateCard$: Observable&lt;Action&gt; = createEffect(() =&gt; this.actions$.pipe(\n    ofType(fromCardActions.updateCard),\n    map((action: any) =&gt; { return {id: action.id, changes: action.changes}}),\n    switchMap((action: any) =&gt; this.cardService.updateCard(action).pipe(\n        map((res) =&gt; (fromCardActions.updateCardSuccess({changes: action }))),\n        catchError(() =&gt; of(fromCardActions.updateCardFail))\n    ))\n))\n</code></pre>\n\n<p>What is the best way to dispatch these actions one after the other so the updating and updated fields don't conflict?  If I run just one of these it works but if I dispatch them both together like shown above, only one completes.  I see that both actions get dispatched but only one success action gets dispatched.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2572, "user_id": 187812, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a0f940551239204d47630a10cd5154b4?s=128&d=identicon&r=PG", "display_name": "Josh Diehl", "link": "https://stackoverflow.com/users/187812/josh-diehl"}, "edited": false, "score": 0, "creation_date": 1569636756, "post_id": 58091531, "comment_id": 102671589, "body": "So for destructured assignment to work, the fully qualified variable name has to exactly match the one on the right hand side?"}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "reply_to_user": {"reputation": 2572, "user_id": 187812, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a0f940551239204d47630a10cd5154b4?s=128&d=identicon&r=PG", "display_name": "Josh Diehl", "link": "https://stackoverflow.com/users/187812/josh-diehl"}, "edited": false, "score": 1, "creation_date": 1569683400, "post_id": 58091531, "comment_id": 102679524, "body": "@Josh Yes, if you want the syntax to work without using colons, you need the exact dict key to be your single valid target identifier. There was some discussion about that (and the need for colons when setting specific properties) on <a href=\"https://stackoverflow.com/q/29620686/1426891\">this SO question</a> that links to <a href=\"https://mail.mozilla.org/pipermail/es-discuss/2015-March/042195.html\" rel=\"nofollow noreferrer\">this ES6 discussion thread from March 2015</a>."}], "tags": [], "owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "is_accepted": true, "score": 2, "last_activity_date": 1569388164, "creation_date": 1569388164, "answer_id": 58091531, "question_id": 58090232, "link": "https://stackoverflow.com/questions/58090232/initializing-class-properties-in-constructor-call-with-destructuring/58091531#58091531", "title": "Initializing Class properties in constructor call with destructuring", "body": "<p>Destructuring works fine; the statement <code>{name, name2} = t</code> defines or assigns <code>name</code> as <code>t.name</code> and <code>name2</code> as <code>t.name2</code>. However, because you're referring to <code>this.name</code> and <code>this.name2</code>, Typescript does not remove the <code>this.</code> and cannot perform the assignment.</p>\n\n<p>You can see this work with arrays:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(t: TestInt){   \n  [this.name, this.name2] = [t.name, t.name2];\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgCoQM5gJLmQbwChkTkQ4BbCALmSylAHMAaY08qgJlvqcIF9ChBABs4GDGkxgAwmIkE2JDjTpgGIRkrKUI3NRq0kEAexD0ArgjAmoACjC10WXGACU+UtoDaYABbAGAB0KszI-oEhupwAusgAvMi+UVRhYCl6MQDcbIL8QA\" rel=\"nofollow noreferrer\">typescript playground</a></p>\n\n<p>And you can see it work with the verbose <code>{name: this.name}</code> syntax <em>as long as you parenthesize the assignment</em>. Otherwise Typescript treats the braces as a block and <code>name</code> as a label.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(t: TestInt){   \n  ({name: this.name, name2: this.name2} = t);\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgCoQM5gJLmQbwChkTkQ4BbCALmSylAHMAaY08qgJlvqcIF9ChBABs4GDGkxgAwmIkE2JDjTpgGIRkrKUI3NRq0kEAexD0ArgjAmoACjC10WXGACU+Utrv4VtMAAWwBgAdCrMOlz+QaEqnPzIALzI7gDcbIL8QA\" rel=\"nofollow noreferrer\">typescript playground</a></p>\n\n<p>Though you can use <code>Object.assign</code> to assign <code>t</code>'s properties to <code>this</code>, Typescript <a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgCoQM5gJLmQbwChkTkQ4BbCALmSylAHMAaY08qgJlvqcIF9ChBABs4GDGkxgAwmIkE2JDjTpgGIRkrKUI3NRq0kEAexD0ArgjAmoACjC10WXGACURUsjAALYBgA6FWQAXm8-QJVOUOQAcliAbhIAemTkKAgARwtgDIATbQB5ACMAKwhrAPEMYEYQBwjmbzcEtkFBQhEIMG9pOWqYkAgAdyksfok7fBVaWJgTE1imqNniuChY-hbCYdA8k2GqrqgwOwADABJ8SHH5SN1+ZCub2Tug3U5+M5agA\" rel=\"nofollow noreferrer\">does not correctly infer that all properties of TestClass are definitely assigned</a> even if we assume all of <code>t</code>'s properties are present as defined. To be fair, this is not safe if <code>t</code> only contains <code>name</code> or <code>name2</code> through its prototype chain.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Obj {\n  get name() { return 'foo'; }   // compare with name = 'foo', noting \"name\" collision\n}\n\nclass Obj2 extends Obj {\n  get name2() { return 'baz'; }  // compare with name2 = 'bar'\n}\n\nlet testClass = new TestClass(new Obj2());\nwindow.alert(`${testClass.name} ${testClass.name2}`);\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#code/JYOwLgpgTgZghgYwgAgCoQM5gJLmQbwChkTkQ4BbCALmSylAHMAaY08qgJlvqcIF9ChBABs4GDGkxgAwmIkE2JDjTpgGIRkrKUI3NRq0kEAexD0ArgjAmoACjC10WXGACURUsjAALYBgA6FWQAXm8-QJVOUOQAcgAjMRAAa1iAbm0AeXiAKwhrAPEMYEYQBwjmbzcMkkFBYXlJbJzFEkYIMB0qOzcCZCgOiygQOJgTE3TkOqFRIuRm6IgAD0gQABMm3Nbkds6onr6BsCGRhLgAL0npwhEO72k5ObCQCAB3KSxHiTsX94We6qEV6gNYmV6FW5QMB2AAGABJ8JBPo0grp+MgEUjZCiovwYdUgA\" rel=\"nofollow noreferrer\">typescript playground</a></p>\n\n<p>Related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/48215470/1426891\">Destructuring assignment in Typescript</a> - similar to your question; the answer describes the latter syntax</li>\n<li><a href=\"https://stackoverflow.com/q/36897533/1426891\">Can&#39;t assign this in constructor</a> - why you can't use the spread operator here</li>\n<li><a href=\"https://github.com/microsoft/TypeScript/issues/11100\" rel=\"nofollow noreferrer\">#11100: Object.assign not type checking</a> - some edge cases about the typing of Object.assign</li>\n</ul>\n"}], "owner": {"reputation": 2572, "user_id": 187812, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/a0f940551239204d47630a10cd5154b4?s=128&d=identicon&r=PG", "display_name": "Josh Diehl", "link": "https://stackoverflow.com/users/187812/josh-diehl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 58091531, "answer_count": 1, "score": 0, "last_activity_date": 1569388164, "creation_date": 1569377116, "question_id": 58090232, "link": "https://stackoverflow.com/questions/58090232/initializing-class-properties-in-constructor-call-with-destructuring", "title": "Initializing Class properties in constructor call with destructuring", "body": "<p>In TypeScript 3.6.3 it seems I cannot use destructured assignment to initialize Class properties in a constructor, even if the passed object conforms to an appropriate Interface.  Is there a way to achieve this, or is there good rationale for why it's not allowed?</p>\n\n<pre><code>interface TestInt {\n    name: string,\n    name2: string\n}\n\nclass TestClass {\n    name: string\n    name2: string\n  constructor(t: TestInt){   \n    {this.name, this.name2} = t\n  }\n}\n\n// static errors: \n// Property 'name' has no initializer and is not definitely assigned in the constructor.\n// Property 'name' is used before being assigned.\n\nlet a = new TestClass({name: 'mom', name2:'dad'})\nconsole.log(a.name)\nconsole.log(a.name2)\n\n// undefined\n// undefined\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 3, "creation_date": 1569377235, "post_id": 58090231, "comment_id": 102573395, "body": "<code>Symbol</code> is a global object. <code>Symbol.iterator</code> references the <code>iterator</code> property of that object. <code>[Symbol.iterator]</code> uses bracket notation to indicate that when looking up the <code>[Symbol.iterator]</code> key on the object, the following value gets returned. <code>[Symbol.iterator]() {</code> indicates that it&#39;s a method, rather than a plain property."}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1569377404, "post_id": 58090231, "comment_id": 102573429, "body": "For more information check this out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator\" rel=\"nofollow noreferrer\"><code>symbol.iterator</code></a>"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1569377617, "post_id": 58090231, "comment_id": 102573470, "body": "Maybe the confusion came from the computed property names? <a href=\"https://stackoverflow.com/questions/34831262/what-do-square-brackets-around-a-property-name-in-an-object-literal-mean\" title=\"what do square brackets around a property name in an object literal mean\">stackoverflow.com/questions/34831262/&hellip;</a>"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1569378161, "post_id": 58090231, "comment_id": 102573570, "body": "See the resulting output: <a href=\"http://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a>"}], "owner": {"reputation": 1272, "user_id": 11680003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2075d3dcf4567b2c543da2b9c216ce8d?s=128&d=identicon&r=PG&f=1", "display_name": "secondimage", "link": "https://stackoverflow.com/users/11680003/secondimage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569377109, "creation_date": 1569377109, "question_id": 58090231, "link": "https://stackoverflow.com/questions/58090231/whats-the-syntax-to-implement-symbol-iterator-in-a-class", "title": "what&#39;s the syntax to implement Symbol.iterator in a class?", "body": "<p>I'm new to Typescript and Javascript, just a question on Symbol.iterator. We know that we can define an iterable class as:</p>\n\n<pre><code>class iterableExample&lt;T&gt; {\n   private items: Map&lt;string, T&gt;;\n   ...\n   [Symbol.iterator]():Iterator&lt;T&gt; {\n       return this.items.values();\n   }\n}\n</code></pre>\n\n<p>But what's the syntax of <code>[Symbol.iterator]()</code>? I think it is index signature but it also looks like a method, how could an index signature also be a method? it is really weird.</p>\n"}, {"tags": ["typescript", "ionic3", "angular4-router"], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 1304886, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ZO9uG.jpg?s=128&g=1", "display_name": "CaribeSoft", "link": "https://stackoverflow.com/users/1304886/caribesoft"}, "edited": false, "score": 0, "creation_date": 1569421992, "post_id": 58096054, "comment_id": 102593266, "body": "Hi Tek, it works, thank you very much. I just change the html : &lt;div *ngFor=&quot;let dato of datos.value&quot;&gt;       {{dato.nombre}}      &lt;/div&gt;"}], "tags": [], "owner": {"reputation": 130, "user_id": 6818522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be5ce9c1839a5403a1b8b07df2173788?s=128&d=identicon&r=PG&f=1", "display_name": "Tek choudhary", "link": "https://stackoverflow.com/users/6818522/tek-choudhary"}, "is_accepted": true, "score": 0, "last_activity_date": 1569406423, "creation_date": 1569406423, "answer_id": 58096054, "question_id": 58089500, "link": "https://stackoverflow.com/questions/58089500/ionic-3-how-to-receive-an-array-from-one-page-to-another-page/58096054#58096054", "title": "Ionic 3 how to receive an array from one page to another page", "body": "<p>Your passed array is available at value key of the object this.datos</p>\n\n<p>So you need to read it like this.datos.value, that should work.</p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 497, "user_id": 1304886, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/ZO9uG.jpg?s=128&g=1", "display_name": "CaribeSoft", "link": "https://stackoverflow.com/users/1304886/caribesoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 58096054, "answer_count": 1, "score": 0, "last_activity_date": 1569406423, "creation_date": 1569369760, "question_id": 58089500, "link": "https://stackoverflow.com/questions/58089500/ionic-3-how-to-receive-an-array-from-one-page-to-another-page", "title": "Ionic 3 how to receive an array from one page to another page", "body": "<p>I need to pass an array from one page to another. In the first page the array is created by selecting items from a list and it push all itemes ok, but when I received this array in another page, it became an array object, and I cannot read the data in my html page, heres is part of my code :</p>\n\n<p>labo.ts - this is the way I create my array, and its fine</p>\n\n<pre><code>selectItem(itemKey){\n   const foundAt = this.selectedQuestions.indexOf(itemKey);\n   if (foundAt &gt;= 0) {\n      this.selectedQuestions.splice(foundAt, 1);\n   } else {\n      this.selectedQuestions.push(itemKey);\n   }\n  console.log(this.selectedQuestions);\n</code></pre>\n\n<p>}</p>\n\n<p>When I finish adding items, I send it to calendar.ts</p>\n\n<pre><code>calendar(){\n console.log(\"ARRAY \", this.selectedQuestions)\n    this.navCtrl.push(CalendarioPage,{\n      queryParams: {\n           value : this.selectedQuestions\n       },\n  });\n</code></pre>\n\n<p>} </p>\n\n<p>This is calendaar.ts, where I need to receive the array:</p>\n\n<pre><code> export class CalendarioPage {\n  datos: Array&lt;object&gt;;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    public http: Http, private conteSearch : ContesearchProvider) {\n\n    this.datos = navParams.get(\"queryParams\");\n\n    console.log(\"array -&gt; \", this.datos)\n\n  }  \n }\n</code></pre>\n\n<p>In my calendar.html file I try to read the array :</p>\n\n<pre><code>&lt;div *ngFor=\"let dato of datos\"&gt;\n  {{dato.nombre}} \n&lt;/div&gt;\n</code></pre>\n\n<p>And I r eceived this error \"ERROR Error: \"Uncaught (in promise): Error: Cannot find a differ supporting object '[object Object]' of type 'object'. NgFor only supports binding to Iterables such as Arrays.\"</p>\n\n<p>This is what it looks the array before and after (when received in calendar.ts)</p>\n\n<p><a href=\"https://i.stack.imgur.com/HhGO1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HhGO1.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you in advance for any idea!</p>\n"}, {"tags": ["typescript", "composition"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "edited": false, "score": 0, "creation_date": 1569374364, "post_id": 58089630, "comment_id": 102572917, "body": "That&#39;s awesome! <code>Extract</code> is what I needed."}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1569371000, "creation_date": 1569371000, "answer_id": 58089630, "question_id": 58089246, "link": "https://stackoverflow.com/questions/58089246/how-to-create-generic-composing-functions-for-discriminated-unions/58089630#58089630", "title": "How to create generic composing functions for discriminated unions", "body": "<p>TypeScript won't <a href=\"https://github.com/microsoft/TypeScript/issues/16069\" rel=\"nofollow noreferrer\">infer a user-defined type guard</a> for you.  You have to annotate it yourself, like this:</p>\n\n<pre><code>const makeIsBox = &lt;L extends Letter&gt;(fn: (letter: Letter) =&gt; letter is L) =&gt; (\n  box: Box\n): box is Extract&lt;Box, { type: L }&gt; =&gt; fn(box.type);\n</code></pre>\n\n<p>This still only needs to be generic in <code>L</code>.  It takes a function of type <code>(l: Letter)=&gt;l is L</code> and returns a function of type <code>(b: Box)=&gt;b is Extract&lt;Box, {type: L}&gt;</code>.  That's using the <a href=\"https://www.typescriptlang.org/docs/handbook/utility-types.html#extracttu\" rel=\"nofollow noreferrer\"><code>Extract</code> utility type</a> to select just the member of the <code>Box</code> union which is assignable to <code>{type: L}</code>. </p>\n\n<p>It should work the way you want:</p>\n\n<pre><code>const isBoxA = makeIsBox(isA);\n\ndeclare const box: Box;\n\nif (isBoxA(box)) {\n  const value = box.value;\n} else {\n  const status = box.status;\n}\n</code></pre>\n\n<p>Hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAglC8UBEMkG4CwAoUkoCEFl91tdoAZCYYCAJyLgB8DMtsBjAewDsBnYFAC2AQwDWEAJJ8qNekQA8FKBAAetHgBM+UWbToA+ABQcAFhA5i99AFy6AlAgNQj2KFAA21fXet1s9nZecgwAljrK8M7B+gjwiGYWVt70bJy8AlDhcIiiEtJ+RihI9mzc-ILhhLniUjIpdEUkpdjYAPRtUAAqEALpFVDAtTkuInYwjlFQAG5coZpQAAxlGYJDEtUuAEZ2+JPOs-NLaViaFh4idNDlmWO6DWxnHBdXUDeCO-chJ+sQMEYiUpQDpQPimLgAVw8CwAZiJQh5WlhQjCXNkAfZHABvNyDYYYtDAzpgyHQqA8LiCOEI7AAXxUHj40BxWHcv3+gMJIJJUNh8MRrLxGwJRNB4N55MpUGpHgMdKRIIAylxpZdQSqAOZcLiaAB0SPIBC4qhGWMG4Ag40J0xEHghltBwDooR4GqgtLYhvwxs2ZvIu0JAhEwAhfDsPAhQi28g9ZAtRtURG9JqgLGT+BO72EtWkycUyjUGm0X30xhhPDsRhithL9H2ngaWQi9dcgq2xt2xoCdnbifCUAAouo6CIOMAFMmADRQP0W3zu5xTctGXu68gtdhYLNVY0jPJ1ZNGbIb7BPF7XVZQXud1QnFFovjJ-69zEz3FZm126CIVef+1sekIEZZl30vIMQx0H9jV1cDQwA7AgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 349, "user_id": 8914439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4bNte.jpg?s=128&g=1", "display_name": "chautelly", "link": "https://stackoverflow.com/users/8914439/chautelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 58089630, "answer_count": 1, "score": 0, "last_activity_date": 1569371000, "creation_date": 1569367254, "question_id": 58089246, "link": "https://stackoverflow.com/questions/58089246/how-to-create-generic-composing-functions-for-discriminated-unions", "title": "How to create generic composing functions for discriminated unions", "body": "<p>I am probably experimenting with the limits of TypeScript's system here but is it at all possible to properly define <code>makeIsBox</code> to create <code>isBoxA</code> by composing over <code>isA</code>?</p>\n\n<pre><code>type A = 'A'\ntype B = 'B'\ntype Letter = A | B\n\nconst makeIsLetter = &lt;L extends Letter&gt;(checkLetter: L) =&gt; (letter: Letter): letter is L =&gt; letter === checkLetter\n\nconst isA = makeIsLetter('A')\nconst isB = makeIsLetter('B')\n\n// Test\nconst takeA = (a: A) =&gt; void 0\nconst takeB = (b: B) =&gt; void 0\n\ndeclare const a: Letter\ndeclare const b: Letter\n\ntakeA(a) // should fail\n\nif(isA(a)) {\n  takeA(a) // should not fail\n} else {\n  takeA(a) // should fail\n  takeB(a) // should not fail&gt;\n}\n\n// So far so good.\n\n\ntype BoxA = { type: A, value: string }\ntype BoxB = { type: B, status: number }\ntype Box = BoxA | BoxB\n\nconst makeIsBox = &lt;\n  L extends Letter,\n  Fn extends (letter: Letter) =&gt; letter is L\n&gt;( \n  fn: Fn\n) =&gt; &lt;B extends Box&gt;(box: Box) =&gt; fn(box.type)\n\nconst isBoxA = makeIsBox(isA)\n\ndeclare const box: Box\n\nif (isBoxA(box)) {\n  const value = box.value\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAglC8UDkMkFgBQpJQEIOV3S3GgBkJhgIAnAuAHz00wGMB7AOwGdgoBbAIYBrCAEluFKrQIAeMlAgAPapwAm3KFOo0AfAApWACwith22gC4tASgS6o+gDaUd1izRvWX0ugEtNBXgHHx0EeERjU3NXWhYMDh4+ALhEIVEJD30UJBs2Ll4oAPw0kXFJWJpsojyMTAB6eqgAFQhefKSoYDLUx0FrGDtgqAA3dj81KAAGDsLu0RLHACNrXCGHMYnp+LVTJ0EaaETC-q1KzF3WfcOoY74Vs994+YgYfUE7RqhuI3YAVyckwAZoI-E54n4gfoUu8bHYAN6YKBdHqwqBfH7-QFQTjsPggsGYAC+iic3GgiIwyJebw+6KamIBwNB4KpKIWaIxvyZOLxUAJTl0xPiXwAyux+QdvhKAObsdhqAB08Uw2GguHYSl68K6pAGABpRoInH8INZeDQ-JwZVAiarSHhNYsdWrVobeIJgH9uNZOH9+EsZHaSDgNUoCGHGI6lLh4ncBGUJGG5EitIoVBB1IFKvrUwAxTjp1QaRyhKyPHTrKBl-yBTAGKCpoGcawFzBV2T4ZTFzRhgxLTWrTVV5v6AdKRVq2qzZLcSMEdLlMPQ7iDHZ7A5HAr3QfRiFAxzFTVvcdwqCU5HxkbG00EceK68miDCuoYIA\" rel=\"nofollow noreferrer\">TypeScript Playground</a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 1, "creation_date": 1569366774, "post_id": 58089041, "comment_id": 102571662, "body": "Your use-case sound similar to <a href=\"https://stackoverflow.com/questions/44323441/changing-property-name-in-typescript-mapped-type\">this one</a>, but there are limitations. You could potentially consider putting all of the defaults in a <code>defaults</code> property instead, then you wouldn&#39;t need to change the name of the properties. Nesting the defaults under another property isn&#39;t exactly what you wanted, but it may suffice."}, {"owner": {"reputation": 2332, "user_id": 506361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db25d695a5fa73a0caba9315faffd14?s=128&d=identicon&r=PG", "display_name": "Pre101", "link": "https://stackoverflow.com/users/506361/pre101"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1569430931, "post_id": 58089041, "comment_id": 102597917, "body": "Thank you for the pointer!  I couldn&#39;t find that sample during my searches.  We may indeed need to figure a different approach for the generic case or just make the other member names configurable so the user can specify them as well."}], "answers": [{"tags": [], "owner": {"reputation": 19390, "user_id": 10431574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f8c9af9308ff187388114cc9d054149?s=128&d=identicon&r=PG", "display_name": "Linda Paiste", "link": "https://stackoverflow.com/users/10431574/linda-paiste"}, "is_accepted": false, "score": 0, "last_activity_date": 1612132527, "creation_date": 1612132527, "answer_id": 65984971, "question_id": 58089041, "link": "https://stackoverflow.com/questions/58089041/typescript-with-dynamic-property-names/65984971#65984971", "title": "Typescript with dynamic property names", "body": "<p>This was not possible back when you asked this question, but it is possible now with the introduction of <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#template-literal-types\" rel=\"nofollow noreferrer\"><code>Template Literal Types</code></a> in typescript version 4.1.</p>\n<p>We define a type that maps from a string literal &quot;name&quot; to its corresponding &quot;defaultName&quot;.</p>\n<pre><code>type DefaultName&lt;PropName extends string&gt; = `default${Capitalize&lt;PropName&gt;}`\n</code></pre>\n<p>We declare the <code>Props</code> should have values for both the property and its default.</p>\n<pre><code>type Props&lt;PropName extends string, Value = boolean&gt; = {\n    [K in PropName]: Value;\n} &amp; {\n    [K in DefaultName&lt;PropName&gt;]: Value;\n}\n</code></pre>\n<p>I moved the manipulation of the string into a separate function which asserts the correct return type for the string literal which it creates.  (Though technically, the hoc works without this assertion due to the <code>as Props&lt;PropName&gt;</code>).</p>\n<pre><code>function computeName&lt;T extends string&gt;(name: T): DefaultName&lt;T&gt; {\n    const computedName = 'default' + name.slice(0, 1).toUpperCase() + name.slice(1);\n    // need to assert the return type here, otherwise it's just `string`\n    return computedName as DefaultName&lt;T&gt;;\n}\n</code></pre>\n<p>Your <code>hoc</code> is basically the same.  We still need to assert <code>as Props&lt;PropName&gt;</code> when calling <code>fn</code>, otherwise the object gets interpreted as <code>{ [x: string]: boolean; }</code>.</p>\n<pre><code>function hoc&lt;PropName extends string&gt;(config: Config&lt;PropName&gt;, fn: Callback&lt;PropName&gt;) {\n    fn({\n        [config.name]: true,\n        [computeName(config.name)]: false\n    } as Props&lt;PropName&gt;);\n}\n</code></pre>\n<p>The magic happens in <code>test</code>, where now <code>obj</code> is known to have a property <code>obj.defaultValue</code>.  This fixes the error that you had before.</p>\n<pre><code>const test = hoc({ name: 'value' }, (obj) =&gt; {\n    console.log(obj.value, obj.defaultValue); // no more errors\n});\n</code></pre>\n<p><a href=\"https://tsplay.dev/KN7AnW\" rel=\"nofollow noreferrer\">Typescript Playground Link</a></p>\n"}], "owner": {"reputation": 2332, "user_id": 506361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db25d695a5fa73a0caba9315faffd14?s=128&d=identicon&r=PG", "display_name": "Pre101", "link": "https://stackoverflow.com/users/506361/pre101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1612132527, "creation_date": 1569365396, "question_id": 58089041, "link": "https://stackoverflow.com/questions/58089041/typescript-with-dynamic-property-names", "title": "Typescript with dynamic property names", "body": "<p>Is there any way in typescript to have a property name generated dynamically by modifying another property name?</p>\n\n<p>I'm trying to write some typings for a React higher order component that modifies the props passed to a wrapped component.  If you configure the hoc with a property name (e.g. <code>value</code>) it will also generate a property name from that (in this case, <code>defaultValue</code>).</p>\n\n<p>A sample of partially working code on the <a href=\"https://www.typescriptlang.org/play/index.html#code/C4TwDgpgBAwg9gOwGYEsDmAeACgJzmAOQEMBbaCAD2AgQBMBnKe4HFBNAPigF4oBvAFBRhUBKQgAuKLnzEyAgL4BuAQNCRpeMPWxa55KjQZMWbTj35CRAbQDSUNptniAulIBGcOABsIRBIqqbNQ4SEQAxtAwRN7e7hEA1rrOZFCU1HSMzKzsXIIiUAAUYFr0UjLayYTiHACUUgBucCi0gQJIAK4I4cAoiFAAFnDhVfpphpkmOZyF4YioaFLwyOijNQA0UEgISzFxiWtkdZYFcwjMUHMkYB3UtGO8AOS0EGEd3sCPUADUl-PoADoxGQAfRvChIoUAAybACMtQBwDgAFUwJAcNF6BBCrUfn8VmggeJQeDIfCVAVtoV8gUbGcFkSyG4oCwOhB1lZaVBrFcbnd9Mywt4sZyoAooERGBUdBV9HUVApVGcLtQLrwhuFqcDJFBHg0YmzHgpNoU4O4AFa47h5UXKnwQAHeOBoU0WgH67xszZm80Al5vD4ANQNEFqCrDAiAA\" rel=\"nofollow noreferrer\">Typescript playground</a>.</p>\n\n<p>Ideally, there would be no error when attempting to access <code>defaultValue</code>.</p>\n"}, {"tags": ["typescript", "vue.js", "vuex", "vuex-modules"], "owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569364352, "creation_date": 1569364352, "question_id": 58088921, "link": "https://stackoverflow.com/questions/58088921/cant-get-static-module-loading-working-with-vuex-and-vuex-module-decorators", "title": "Can&#39;t get static module loading working with Vuex and vuex-module-decorators", "body": "<p>I have trivial Vue app with a root Vuex store with a <code>user</code> module. I'm using vuex-module-decorators. I have <code>store/store-accessor.ts</code> set up like the <a href=\"https://github.com/championswimmer/vuex-module-decorators/blob/master/README.md#accessing-modules-with-nuxtjs\" rel=\"nofollow noreferrer\">Vuex Nuxt example</a>. It imports all the module ts files and exports the results of <code>getModule(user)</code> as <code>userStore</code>. I don't have any typescript compile problems.</p>\n\n<p>When I start my app, which uses <code>userStore.user.uid</code> in the HelloWorld component, I get:</p>\n\n<pre><code>TypeError: Cannot read property 'user' of undefined\n    at Object.get (index.js?6fc5:121)\n    at new HelloWorld (HelloWorld.vue?1d82:17)\n    at collectDataFromConstructor (vue-class-component.esm.js?2fe1:97)\n    at VueComponent.data (vue-class-component.esm.js?2fe1:172)\n</code></pre>\n\n<p>That stack trace ends in this code in vuex-module-decorators. I marked the error location with comments:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function staticStateGenerator(module, modOpt, statics) {\n    var state = modOpt.stateFactory ? module.state() : module.state;\n    Object.keys(state).forEach(function (key) {\n        if (state.hasOwnProperty(key)) {\n            // If not undefined or function means it is a state value\n            if (['undefined', 'function'].indexOf(typeof state[key]) === -1) {\n                Object.defineProperty(statics, key, {\n                    get: function () {\n                        // ERROR HERE, modOpt.store.state has no property \"user\"\n                        // modOpt.store looks like the root store, its state is empty.\n                        // modOpt.name is \"user\", the name of my module.\n                        return modOpt.store.state[modOpt.name][key]; \n                    }\n                });\n            }\n        }\n    });\n</code></pre>\n\n<p>Do I need to do something to set up <code>modOpt.store.state[\"user\"]</code> to be the <code>userStore</code> module or something?</p>\n\n<p>I created a github repo to show the problem: <a href=\"https://github.com/garyo/vuex-problem-test.git\" rel=\"nofollow noreferrer\">https://github.com/garyo/vuex-problem-test.git</a>\nJust git clone that, <code>yarn install</code> and <code>yarn serve</code> and you should see the error in the JS console.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9983758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yvp2Cyo1WWU/AAAAAAAAAAI/AAAAAAAAmrM/sNm9ZKXJR6A/photo.jpg?sz=128", "display_name": "Renato Muller Ventura", "link": "https://stackoverflow.com/users/9983758/renato-muller-ventura"}, "is_accepted": false, "score": 0, "last_activity_date": 1569370960, "creation_date": 1569370960, "answer_id": 58089624, "question_id": 58088769, "link": "https://stackoverflow.com/questions/58088769/angular-typeerror-cannot-create-property-x-on-string-object-object/58089624#58089624", "title": "Angular TypeError: Cannot create property &#39;x&#39; on string &#39;[object Object]&#39;", "body": "<p>I think the object is passing empty, and localstorage don`t store objects...</p>\n\n<p>Press F12 > go to console > do localStorage.setItem(\"x\", {name: 'renato'}) and then try to get the value > localStorage.getItem(\"x\")</p>\n\n<p>the result is gonna be \"[object Object]\"</p>\n"}], "owner": {"reputation": 1708, "user_id": 1641777, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/20f9049a588f0bd55b551c79c36e7b8f?s=128&d=identicon&r=PG", "display_name": "brazorf", "link": "https://stackoverflow.com/users/1641777/brazorf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569370960, "creation_date": 1569363166, "question_id": 58088769, "link": "https://stackoverflow.com/questions/58088769/angular-typeerror-cannot-create-property-x-on-string-object-object", "title": "Angular TypeError: Cannot create property &#39;x&#39; on string &#39;[object Object]&#39;", "body": "<p>Code:</p>\n\n<pre><code>import { NgModule } from '@angular/core';\n\n@NgModule({\n\n})\n\nexport class LocalStorageService {\n    private store;\n\n    constructor() {\n        this.store = {}\n        console.log(\"constructor\", this.store)\n    }\n\n    getItem(key: string) {\n        console.log(\"get\", this.store)\n        return this.store[key];\n    }\n\n    setItem(key: string, value: string) {\n        console.log(\"set\", this.store)\n        this.store[key] = value;\n    }\n}\n</code></pre>\n\n<p>I run this test:</p>\n\n<pre><code>beforeEach(() =&gt; {\n    // omit\n    storage = TestBed.get(LocalStorageService);\n    spyOn(localStorage, 'getItem').and.callFake(storage.getItem);\n    spyOn(localStorage, 'setItem').and.callFake(storage.setItem);\n});\n\nit('should store local status', () =&gt; {\n    localStorage.setItem(\"x\", \"y\");\n});\n</code></pre>\n\n<p>When the test is executed i get 2 logs: </p>\n\n<p><code>LOG: 'constructor', Object{}</code> </p>\n\n<p><code>LOG: 'set', '[object Object]'</code></p>\n\n<p>Something seems to cast the <code>store</code> property from object to string, this is the error i get: <code>TypeError: Cannot create property 'x' on string '[object Object]'</code></p>\n\n<p>What is happening here?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"comments": [{"owner": {"reputation": 5245, "user_id": 1376627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/HLKGd.jpg?s=128&g=1", "display_name": "david_adler", "link": "https://stackoverflow.com/users/1376627/david-adler"}, "edited": false, "score": 0, "creation_date": 1569438026, "post_id": 58089699, "comment_id": 102600844, "body": "Hmmm that&#39;s a shame TS doesn&#39;t support that. Thanks though"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 1, "last_activity_date": 1569371863, "creation_date": 1569371863, "answer_id": 58089699, "question_id": 58088762, "link": "https://stackoverflow.com/questions/58088762/value-must-be-keyof-keys-in-object/58089699#58089699", "title": "Value must be keyof keys in object", "body": "<p>TypeScript can't really represent <code>Graph</code> as a concrete type.  However, it is possible to represent it as a <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html\" rel=\"nofollow noreferrer\">generic</a> type where the numeric keys <code>K</code> are part of the type:</p>\n\n<pre><code>type Graph&lt;K extends number&gt; = { [P in K]: K[] };\n</code></pre>\n\n<p>And then you can use a helper function to infer the proper <code>K</code> value for a given value:</p>\n\n<pre><code>const asGraph = &lt;K extends number, V extends K&gt;(g: Record&lt;K, V[]&gt;): Graph&lt;K&gt; =&gt;\n  g;\n\nconst goodGraph = asGraph({\n  0: [1, 2, 3],\n  1: [2],\n  2: [3],\n  3: [1]\n}); // Graph&lt;0 | 1 | 2 | 3&gt;\n</code></pre>\n\n<p>And it correctly rejects bad graphs:</p>\n\n<pre><code>const badKey = asGraph({\n  zero: [1], // error! \"zero\" does not exist in Record&lt;number, number[]&gt;\n  1: [1]\n});\n\nconst badValue = asGraph({\n  0: [1],\n  1: [0],\n  2: [8675309], // error! number not assignable to '0 | 1 | 2'.\n  3: [\"zero\"] // error! string also not assignable to '0 | 1 | 2'\n});\n</code></pre>\n\n<p>Hope that helps.  Good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBA4gTgQzACwDwGkoQB7AgOwBMBnKfAVwFsAjCOAPigF4oBvKAbQAUoBLfKOgC6ALkEchUAL4BuALAAoRQGMA9vmLAoCYvCTJmUDFlwESZKrTgAaKADUTeIqXT0AFAHMxAJQhq4hBi2dhL0AJRieigYjEz0ilBQHvJKCmoaWh6qqoRRBiw6eW6sCVAADGIcAIy2AEy2AMxC1qVVlbXNpbWVTS0KiQ2VVUKKUmEyUAD0k7CI0WVQAD5QVUtQtWsN8anpmlDUCIToECCGhXPIxaUAXnSqQ81TM3RwqnAAhFAARLevX1CEVQQUj4VRaHC8Pb8KC+fyBCg0Oi2BFWUKtB6jcaKFTqPYHQh2BAAG3I0AKuguV365QefUSbU4ZU61O6nAAHAA2ADsAFYGmUAJyPaZYOCvD4WRFwMhg7TEYi8Dz4BDUInQYCqKAAcgWy1Wy1qWoAdKVBpwfncvpIRS83p9NHB+B5tETiJrQVodAqlSq1VANdrdSs1obMSkgA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 5245, "user_id": 1376627, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/HLKGd.jpg?s=128&g=1", "display_name": "david_adler", "link": "https://stackoverflow.com/users/1376627/david-adler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58089699, "answer_count": 1, "score": 0, "last_activity_date": 1569371863, "creation_date": 1569363122, "last_edit_date": 1569364476, "question_id": 58088762, "link": "https://stackoverflow.com/questions/58088762/value-must-be-keyof-keys-in-object", "title": "Value must be keyof keys in object", "body": "<p>Would like to enforce that values point to key of type like so, not sure how best to do it</p>\n\n<pre><code>type Graph = {\n  [nodeId: number]: Array&lt;keyof Graph&gt;\n}\n\nconst graph: Graph = {\n  0: [1, 2, 3],\n  1: [2],\n  2: [3],\n  3: [1],\n}\n</code></pre>\n\n<p>Also tried</p>\n\n<pre><code>type Graph = {\n  [nodeId: number]: Array&lt;nodeId&gt;\n}\n</code></pre>\n\n<p>no luck</p>\n"}, {"tags": ["reactjs", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 332, "user_id": 5511392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sH_qZHiQVfo/AAAAAAAAAAI/AAAAAAAAA9w/okxvqPuk7C0/photo.jpg?sz=128", "display_name": "Sarhad Salam", "link": "https://stackoverflow.com/users/5511392/sarhad-salam"}, "edited": false, "score": 0, "creation_date": 1569367869, "post_id": 58088678, "comment_id": 102571859, "body": "I believe this question would be more appropriate as a bug in VScode if you believe its a bug.  I personally don&#39;t think this is a bug, mainly because as you said it shows up in GenSel. If I had to take a guess why, I think it&#39;s because the reference when a variable is created just doesn&#39;t have the tags to show JSDocs on it."}, {"owner": {"reputation": 6267, "user_id": 2178112, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/306de424d9613f1c51f315a3599bc523?s=128&d=identicon&r=PG", "display_name": "majorBummer", "link": "https://stackoverflow.com/users/2178112/majorbummer"}, "reply_to_user": {"reputation": 332, "user_id": 5511392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sH_qZHiQVfo/AAAAAAAAAAI/AAAAAAAAA9w/okxvqPuk7C0/photo.jpg?sz=128", "display_name": "Sarhad Salam", "link": "https://stackoverflow.com/users/5511392/sarhad-salam"}, "edited": false, "score": 0, "creation_date": 1569434861, "post_id": 58088678, "comment_id": 102599562, "body": "@SarhadSalam I don&#39;t quite understand what you mean when you say &quot;the reference when a variable is created just doesn&#39;t have the tags to show JSDocs on it.&quot;  I also don&#39;t know why you think it is something with vscode and not typescript itself?"}], "owner": {"reputation": 6267, "user_id": 2178112, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/306de424d9613f1c51f315a3599bc523?s=128&d=identicon&r=PG", "display_name": "majorBummer", "link": "https://stackoverflow.com/users/2178112/majorbummer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569362480, "creation_date": 1569362480, "question_id": 58088678, "link": "https://stackoverflow.com/questions/58088678/how-to-pass-along-d-ts-comment-on-function-that-returns-a-class-extending-react", "title": "How to pass along .d.ts comment on function that returns a class extending React.Component (vscode)", "body": "<p>I've got a .d.ts file I'm writing for an npm module teselagen-react-components that is a set of functions/react components. Here is a subset of the definition file in question:  </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from \"react\";\n\n\n/**\n *\n * I'm a comment\n */\ndeclare class GenericSelect extends React.Component&lt;GenericSelectProps, any&gt; { }\n\nexport interface GenericSelectProps {\n  layout: string;\n}\n\ndeclare function createGenericSelect() {\n  return GenericSelect\n}\n</code></pre>\n\n<p>In another module I have a file like so: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>//./myOtherProject/someFile.js\nimport { createGenericSelect, GenericSelect } from \"teselagen-react-components\";\nconst GenSel = createGenericSelect()\nreturn &lt;GenSel /&gt;\nreturn &lt;GenericSelect /&gt;\n</code></pre>\n\n<p>The issue I'm seeing is that when I hover  <code>&lt;GenericSelect /&gt;</code> I am able to see the comment: \n<a href=\"https://i.stack.imgur.com/85DEX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/85DEX.png\" alt=\"GenericSelect with comment\"></a></p>\n\n<p>But when I hover the  component, I can't see it!\n<a href=\"https://i.stack.imgur.com/K8X47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K8X47.png\" alt=\"GenSel with no comment\"></a></p>\n\n<p>If instead of this line:</p>\n\n<pre><code>/**\n *\n * I'm a comment\n */\ndeclare class GenericSelect extends React.Component&lt;GenericSelectProps, any&gt; { }\n</code></pre>\n\n<p>I had </p>\n\n<pre><code>/**\n *\n * I'm a comment\n */\ndeclare function GenericSelect { }\n</code></pre>\n\n<p>Then I do see the comment!</p>\n\n<p><a href=\"https://i.stack.imgur.com/tOpg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tOpg6.png\" alt=\"GenSel() with comment\"></a></p>\n\n<p>Why?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1569375528, "post_id": 58089949, "comment_id": 102573091, "body": "There are instances where an intersection behaves differently from a unified type, especially with weaker types: <a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAglC8UDeUCGB+AXMqAnCAjgK4CW+AJtgHZEC2ARhLgL4A0UA9tgM7C4lUA5lGYBYAFChIUAEIIcGbEmYioAMhxcovfkLGTw0GQFUqJAGYkI5eSkXI2UTjz4DB+iQBsIwKPUxyiHZKjloARGEiXj5omHCI9ADcEhYAFKgAdKgAlMgSTk6ZmfjEZNZQAPQVUDQMTH5Evvionp4gUERU5BCWVOUSHuLevvREAaYWVjZBsQ7s4ZH6qPKjldVMuBy4EhJAA\" rel=\"nofollow noreferrer\">typescriptlang.org/play/#code/&hellip;</a>"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1569374550, "creation_date": 1569374550, "answer_id": 58089949, "question_id": 58088420, "link": "https://stackoverflow.com/questions/58088420/any-behavior-difference-between-a-number-b-string-and-a-number-b/58089949#58089949", "title": "Any behavior difference between `{a: number; b: string}` and `{a: number} &amp; {b: string}`?", "body": "<p>Those types <em>shouldn't</em> behave differently, as they represent the same set of values.  And for the most part they <em>don't</em> behave differently, but there are definitely situations in which two ostensibly equivalent types are treated differently by the compiler, so I can't say with confidence that they <em>never</em> behave differently.  But we know that they shouldn't.</p>\n\n<p>There is a (quite longstanding) <a href=\"https://github.com/microsoft/TypeScript/issues/7705\" rel=\"nofollow noreferrer\">open issue</a> to merge such intersections into single object types, as you suggested.  In a <a href=\"https://github.com/microsoft/TypeScript/issues/8228#issuecomment-218010750\" rel=\"nofollow noreferrer\">related comment</a> the design team notes say:</p>\n\n<blockquote>\n  <ul>\n  <li>Agree the proposed behavior is desirable</li>\n  <li>There are potentially some differences between <code>T &amp; U</code> and its decomposed form?\n  \n  <ul>\n  <li>We can't think of any</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>The issue is marked as \"help wanted\" (so they might accept pull requests that do this) but as \"effort: difficult\" because they are worried about what will happen when you naively do this to self-referential types.  It's possible that it would cause the compiler to perform really badly, I guess?  Not sure if that's still a concern.</p>\n\n<hr>\n\n<p>It's interesting to note that you can, thanks to <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#conditional-types\" rel=\"nofollow noreferrer\">conditional types</a>, come close to writing this type of thing yourself in the type system:</p>\n\n<pre><code>type RecursivelyMerge&lt;T&gt; = T extends Function\n  ? T\n  : T extends object\n    ? T extends infer O ? { [K in keyof O]: RecursivelyMerge&lt;O[K]&gt; } : never\n    : T;\n</code></pre>\n\n<p>Then both <code>Regular</code> and <code>Intersection</code> become the same type: </p>\n\n<pre><code>type MergedRegular = RecursivelyMerge&lt;Regular&gt;; // {a: number; b: string}\ntype MergedIntersection = RecursivelyMerge&lt;Intersection&gt;; // {a: number; b: string}\n</code></pre>\n\n<p>And you can do nested types too:</p>\n\n<pre><code>type Nested = RecursivelyMerge&lt;\n  { a: { b: { c: { d: string } } } } &amp; { a: { b: { c: { e: number } } } }\n&gt;; \n// type Nested = { a: { b: { c: {d: string; e: number } } } }\n</code></pre>\n\n<p>and even self-referential types seem to be no problem (except that they are displayed strangely):</p>\n\n<pre><code>type Tree = { node: Tree[] };\ntype ExplodedTree = RecursivelyMerge&lt;Tree&gt;; \n// type ExplodedTree = { node: ...[]; } // hmm, weird\ndeclare const t: ExplodedTree;\nt.node[2].node[10].node[42].node // works fine though\n</code></pre>\n\n<hr>\n\n<p>So my guess is that someone sufficiently motivated could write up some code to have this happen automatically in the compiler when intersections of anonymous types show up, with enough of a test suite to prove that recursive types don't bog things down, and it could possibly, maybe end up in the language.  Well, as long as the performance penalty in general is very low.  That's just a guess though.</p>\n\n<p>Oh well, hope that helps; good luck!</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#code/C4TwDgpgBAShDGBXATgZwJYDcIBsQFkJkBzCAHgBUA+KAXigqggA9gIA7AE1SgDFF28YOgD27ALAAoKFAD8DKTIBcDJqw7coIgEYArBMEUy5qlmy4907AGZEoAeRMBvKAG0A0lCtQA1hBAi1g4AuipwSGhYuAREpGT2HsE0AL5QKuwQ2MhGygwA3FJSoJCwEMSIOACGyHRQLpXpiAC22kR5UNoqqMDIVsRQyQWSxdAAkuxsaAai7LX1jS12qQBkdR1dPX0DQ0Xg0IQkEJxw5VU19OEoGNh4B3EnFdVU7QD0L3UNUOzNrcjtnVBur12MRkrsSncjuNJqhpmJapdIjcYocyNCiLChDNnlA3h8Fr9-htgaDCsM9lAAHIQbpHBEIK5RW6xchGeZrAEueAqFycYlbVKCgZQVbslycqDctYQAlLYWCqTPKR4kZUmlsThzKCfcU8yU8vmAzYg9oyr4-OVCsGScHQCjICDQegudgiThm+2O1zBba2qAAUWYYBwbqOnqdpQi12ikMoDogOOV71VgeDoc44a1rvdKgAdPnve1UniABZNJoAGigAHcIOhkJwpO74GdoPAxN0oMAVKmQ+6M-GhsBc9mIK4AEzBEeh1wARgADFPR64ACyT6fu3HvasiZA+HjWKzQYAlkSIYglslAA\" rel=\"nofollow noreferrer\">Link to code</a></p>\n"}], "owner": {"reputation": 41045, "user_id": 126352, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e7cfaec1e51ab0dbd7b05a1b6f9ac20f?s=128&d=identicon&r=PG", "display_name": "Justin Grant", "link": "https://stackoverflow.com/users/126352/justin-grant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58089949, "answer_count": 1, "score": 2, "last_activity_date": 1569374550, "creation_date": 1569360805, "question_id": 58088420, "link": "https://stackoverflow.com/questions/58088420/any-behavior-difference-between-a-number-b-string-and-a-number-b", "title": "Any behavior difference between `{a: number; b: string}` and `{a: number} &amp; {b: string}`?", "body": "<p>Do the types below behave any differently in TypeScript?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Regular = {a: number; b: string};\ntype Intersection = {a: number} &amp; {b: string};\n</code></pre>\n\n<p>I'm asking because TS doesn't automatically simplify the latter to the former (e.g. when hovering over the type in VSCode), so I was wondering if there is a behavior reason why that simplification isn't done. I assume it's more likely that TS just hasn't implemented this simplification yet, but I wanted to make sure that I wasn't missing some subtlety about how TS works. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "ionic4"], "answers": [{"tags": [], "owner": {"reputation": 1162, "user_id": 4212429, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/ef7be9a3e763ec4f4d5012c05720e7b2?s=128&d=identicon&r=PG&f=1", "display_name": "seyid yagmur", "link": "https://stackoverflow.com/users/4212429/seyid-yagmur"}, "is_accepted": false, "score": 1, "last_activity_date": 1569361786, "creation_date": 1569361786, "answer_id": 58088568, "question_id": 58088375, "link": "https://stackoverflow.com/questions/58088375/type-page-is-part-of-the-declarations-of-2-modules-error/58088568#58088568", "title": "Type page is part of the declarations of 2 modules error", "body": "<p>You should create a folder named shared or whatever you wish.Move your <code>pipes</code>, <code>directives</code>, <code>components</code> and <code>modals</code> you want to use multiple times inside the <code>shared</code> folder.Then create a <code>shared.module.ts</code> inside this folder.\nYour setup should be as below.</p>\n\n<pre><code>const COMPONENTS=[\nFilterPage\n];\n\n@NgModule({\n    exports:[...COMPONENTS,...PIPES,...DIRECTIVES],\n    declarations:[...COMPONENTS,...PIPES,...DIRECTIVES],\n    entryComponents:[...COMPONENTS]\n})\nexport class SharedModule{\n\n}\n</code></pre>\n\n<p>then import <code>SharedModule</code> to the module you want to use inside.</p>\n\n<pre><code>@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule\n  ],\n  declarations: [FriendsPage],\n  entryComponents:  [FriendsPage]\n})\nexport class FriendsPageModule {}\n</code></pre>\n"}], "owner": {"reputation": 1030, "user_id": 9244138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39148e76ae32cbb7711a7ca476a8a608?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Ragnar&#246;k", "link": "https://stackoverflow.com/users/9244138/colin-ragnar%c3%b6k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569361786, "creation_date": 1569360535, "question_id": 58088375, "link": "https://stackoverflow.com/questions/58088375/type-page-is-part-of-the-declarations-of-2-modules-error", "title": "Type page is part of the declarations of 2 modules error", "body": "<p>I want to use the same modal in several pages. But I get this error that the type of page is part of the declarations of 2 modules. I know a similar question is already existing (<a href=\"https://stackoverflow.com/questions/53955873/component-is-part-of-the-declarations-of-2-modules-in-angular\">Component is part of the declarations of 2 modules in Angular</a>) But I can't get it work with it, since I am not working with a module but with a page.</p>\n\n<p>page.module.ts that is used as model</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\nimport { ComponentsModule } from '../components/components.module';\n\nimport { FilterPage } from './filter.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FilterPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    ComponentsModule\n  ],\n  declarations: [FilterPage],\n  exports:  [FilterPage]\n})\nexport class FilterPageModule {}\n</code></pre>\n\n<p>one of the two page.module.ts used as where the model shall appear</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { FilterPage } from '../filter/filter.page'\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FriendsPage } from './friends.page';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FriendsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n\n  ],\n  declarations: [FriendsPage, FilterPage],\n  entryComponents:  [FilterPage]\n})\nexport class FriendsPageModule {}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1569360507, "post_id": 58088281, "comment_id": 102570056, "body": "Well, <code>Units&lt;T&gt;</code> means that you will have a <code>Units</code> instance that uses that generic <code>T</code> you pass into the constructor. It does not mean that <code>Units</code> will inherit any properties off <code>T</code>. Think of it like this - you have, say a <code>Person</code> class which has a <code>name</code> property, but <code>Array&lt;Person&gt;</code> <i>doesn&#39;t</i> have <code>name</code> property - it doesn&#39;t inherit anything from the generic it uses."}, {"owner": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1569395173, "post_id": 58088281, "comment_id": 102578267, "body": "@VLAZ But how then union so all <code>T</code> properties will be in <code>Units</code> too?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1569396130, "post_id": 58088281, "comment_id": 102578735, "body": "I&#39;m honestly not sure. I&#39;m not that used to TS personally, I&#39;m more familiar with types from Java and what you describe is an extremely unusual case for Java - having a class <code>A&lt;T&gt;</code> where <code>T</code> determines what fields and methods instances of <code>A</code> have is simply put strange. This sort of situation is typically more suited to composition, if anything. I suppose there is some TypeScript way to say that a method that does something to the effect of <code>&lt;t&gt; method(T arg): ? extends T</code> but it&#39;s still odd. Perhaps you should look at mixins as that&#39;s effectively what you do, rather than a generic class."}], "answers": [{"tags": [], "owner": {"reputation": 4807, "user_id": 1801403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sLAec.jpg?s=128&g=1", "display_name": "Damian Green", "link": "https://stackoverflow.com/users/1801403/damian-green"}, "is_accepted": false, "score": 1, "last_activity_date": 1569361706, "last_edit_date": 1569361706, "creation_date": 1569360496, "answer_id": 58088369, "question_id": 58088281, "link": "https://stackoverflow.com/questions/58088281/typescript-generic-class-and-object-assign-cannot-see-the-value/58088369#58088369", "title": "Typescript Generic class and Object.assign cannot see the value", "body": "<p>I think using classes is overkill for what you're trying to achieve in your example.\nIf you're trying to create a mechanism for creating new object which have the same fields as those passed into it, you can simply create a new object my spreading your initial value:</p>\n\n<pre><code>const myUnits = {\n    archers: 5,\n    samurais: 10,\n    berserks: 3\n};\n\n\nconst army = {...myUnits};\n\nalert(army.archers);\n</code></pre>\n\n<p>And to answer your question about why Typescript restricts you, this is the beauty of Typescript, it prevents you from changing the shapes and values of your types in unexpected ways. The way your class is defined it doesn't hold any of the properties  that <code>myUnits</code> holds.</p>\n\n<p>If you really wish to go with a class based approach, (and i'd suggest sticking to a more functional approach) you could do something like the following:</p>\n\n<pre><code>class Units&lt;T&gt; {\n    archers: number=0\n    samurais: number=0\n    berserks:number =0\n    constructor(units: T) {\n        Object.assign(this, units);\n    }\n}\n\nconst myUnits = {\n    archers: 5,\n    samurais: 10,\n    berserks: 3\n};\n\n\nconst army = new Units(myUnits);\n\narmy.archers;\narmy.samurais;\narmy.berserks;\n\narmy.a; //disallowed\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4430, "user_id": 2690790, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/810ebc2ef00faac83286d2bb892f38cd?s=128&d=identicon&r=PG", "display_name": "skovy", "link": "https://stackoverflow.com/users/2690790/skovy"}, "is_accepted": false, "score": 1, "last_activity_date": 1569360977, "creation_date": 1569360977, "answer_id": 58088442, "question_id": 58088281, "link": "https://stackoverflow.com/questions/58088281/typescript-generic-class-and-object-assign-cannot-see-the-value/58088442#58088442", "title": "Typescript Generic class and Object.assign cannot see the value", "body": "<p>One way that works with the class approach is to use a public property. For example, <code>units</code> will be assigned and typed properly. The only caveat is this will now be used as <code>army.units.archers</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Units&lt;T&gt; {\n  public units: T;\n\n  constructor(units: T) {\n    this.units = units;\n  }\n}\n\nconst myUnits = {\n  archers: 5,\n  samurais: 10,\n  berserks: 3\n};\n\nconst army = new Units(myUnits);\n\narmy.units.archers;\n</code></pre>\n\n<p>However, if you don't <em>need</em> a class based approach, using a function could also work:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Units2 = &lt;T&gt;(units: T): T =&gt; {\n  return units;\n};\n\nconst army2 = Units2(myUnits)\n\narmy2.archers;\n</code></pre>\n\n<p>Finally, if you only need a shallow copy, you could use spread syntax:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const army3 = { ...myUnits }\n\narmy3.archers;\n</code></pre>\n\n<p>All of these are typed properly. See them in the <a href=\"http://www.typescriptlang.org/play/#code/PTAEGEBsEMGdYFAIMY3qAqgOwJYBdYAeAFQD5QBvBUUABwFcAjSHZUe3AgLlGIG4kNZAHsssPACd6yPMIkAKDvlg9iASkrUaoPAAscsAHRKCoALztOsATQC+CeylHjQAWwCe2Zec01oE5F0AUwkVUABWABotWGhXegloAx4ARgAGaJpGENgQgGswgGYHAScxPFB-Dx8sIIB3TCt5Dy8CNVKq92MrQ39AnNKQUAAxDhkcUUraWglhaECkEXLG5QAmHxJSRStVNVVzcioaCSC8BKxLZQFbUqWXTvWLVthV5s8rNSQH3oDg0MGwABlGZBaAAE0WzgqnUKPgooEMiJaVlAjhhP36-yAA\" rel=\"nofollow noreferrer\">TypeScript Playground</a></p>\n"}], "owner": {"reputation": 1410, "user_id": 5817056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb8cc5a593728016414d7bead5a9912?s=128&d=identicon&r=PG&f=1", "display_name": "Talgat Saribayev", "link": "https://stackoverflow.com/users/5817056/talgat-saribayev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569361706, "creation_date": 1569359945, "question_id": 58088281, "link": "https://stackoverflow.com/questions/58088281/typescript-generic-class-and-object-assign-cannot-see-the-value", "title": "Typescript Generic class and Object.assign cannot see the value", "body": "<p>I am new to typescript and typing overall. I am using the generics for dynamic properties. This is not my actual code, but I am facing the same issue.</p>\n\n<pre><code>class Units&lt;T&gt; {\n    constructor(units: T) {\n        Object.assign(this, units);\n    }\n}\n\nconst myUnits = {\n    archers: 5,\n    samurais: 10,\n    berserks: 3\n};\n\nconst army = new Units(myUnits);\n\narmy.archers;\n</code></pre>\n\n<p>Error on the last line.</p>\n\n<pre><code>Property 'archers' does not exist on type 'Units&lt;{ archers: number; samurais: number; berserks: number; }&gt;'.\n</code></pre>\n\n<p>What am I doing wrong, maybe there is better approach? If I can do that on JS why Typescript restricting?</p>\n"}, {"tags": ["angular", "typescript", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10527895, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3XnyAczP4Gc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVQNhHLvy4I4Y3L2DeG2ZEWf_vrqg/mo/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/10527895/sarah"}, "edited": false, "score": 0, "creation_date": 1569366558, "post_id": 58088501, "comment_id": 102571614, "body": "Thank you for the response."}], "tags": [], "owner": {"reputation": 611, "user_id": 11975045, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJ_3EVH5gpU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc2vkHTfz6zoZl7eudVnpE8alXN4g/photo.jpg?sz=128", "display_name": "Wesley Trantham", "link": "https://stackoverflow.com/users/11975045/wesley-trantham"}, "is_accepted": true, "score": 2, "last_activity_date": 1569361333, "creation_date": 1569361333, "answer_id": 58088501, "question_id": 58088077, "link": "https://stackoverflow.com/questions/58088077/cannot-read-pipe-of-undefined/58088501#58088501", "title": "cannot read &#39;pipe&#39; of undefined", "body": "<p>When you provide a service each test gets a separate copy of the object provided.\nYou are setting the value of testStore.select to the original object inside of the test itself.\nYou have two options. \nThe first is to set <code>testStore.select</code> right after you declare the Jasmine spy in your beforeEach.\nThe second option is to get a reference to your testStore in the test and assign to it.</p>\n\n<pre><code>const service = TestBed.get(Store) as Store;\nservice.select = jasmine.createSpy('select').and.returnValue(of(info));\n</code></pre>\n\n<p>Which option you choose is up to you. Since I'm not seeing a call to a component method I'm assuming that the component code you're showing is called from onInit. In that case the first option is easier to use.</p>\n\n<p>If you want to change what <code>info</code> looks like for each test you can use option two and either call <code>component.onInit()</code> after you set what the select method will return or delay the first <code>fixture.detectChanges</code> to be after you set the select. This would mean removing <code>fixture.detectChanges</code> from your beforeEach.</p>\n\n<p>More than likely you won't need async or <code>whenStable</code> for this to work.</p>\n"}], "owner": {"reputation": 53, "user_id": 10527895, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3XnyAczP4Gc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVQNhHLvy4I4Y3L2DeG2ZEWf_vrqg/mo/photo.jpg?sz=128", "display_name": "Sarah", "link": "https://stackoverflow.com/users/10527895/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 1, "accepted_answer_id": 58088501, "answer_count": 1, "score": 1, "last_activity_date": 1569361333, "creation_date": 1569358852, "question_id": 58088077, "link": "https://stackoverflow.com/questions/58088077/cannot-read-pipe-of-undefined", "title": "cannot read &#39;pipe&#39; of undefined", "body": "<p>i am trying to do unit test for a component in angular. i am new to the unit testing and i am currently facing the below issue</p>\n\n<p>My component has select statement as follows:</p>\n\n<pre><code>this.store.select(getInfo)\n    .pipe(takeWhile(() =&gt; this.isLive)\n    )\n    .subscribe((data) =&gt; {\n      this.text = data;\n\n    }); \n</code></pre>\n\n<p>My unit test case is written as follows:</p>\n\n<pre><code>fdescribe(\u2018TestComponent', () =&gt; {\n  let component: TestComponent;\n  let fixture: ComponentFixture&lt;TestComponent&gt;; \n\n  const testStore = jasmine.createSpyObj('Store', ['select']);\n\n  beforeEach(async(() =&gt; {\n\n    TestBed.configureTestingModule({\n      declarations: [TestComponent\n        ],\n      imports: [MaterialModule, FiltersModule],\n      providers: [\n        {provide: Store, useValue: testStore }],\n\n      schemas: [NO_ERRORS_SCHEMA]\n    })\n\n      .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n\n\n    fixture = TestBed.createComponent(TestComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n\n  });\n\n  it('should create Test component', async() =&gt; {\n    let initialState = {\n         data: {\n    \u201cname: \u201cxyz\u201d,\n    \u201cage\u201d : 20\n\n    } , \n      info: [1]\n    };\n\n    testStore.select.and.returnValues(\n\n       of(initialState.info)\n     );\n     fixture.detectChanges();\n     await fixture.whenStable();\n    expect(component).toBeTruthy();\n  });\n  it('should have at least 1 info\u2019, async() =&gt; {\n    let initialState = {\n         data: {\n    \u201cname: \u201cxyz\u201d,\n    \u201cage\u201d : 20\n\n    } , \n      info: [1]\n    };\n\n    testStore.select.and.returnValues(\n\n       of(initialState.info)\n     );\n\n    fixture.detectChanges();\n    await fixture.whenStable();\n\n    console.log(\"text is \",component.text);\n    });\n\n});\n</code></pre>\n\n<p>this is a very naive test. i am just trying to get the basic idea before proceeding to write more complex tests. \nSo ,the issue here i am facing is . it prompts me an error saying:\nTypeError: Cannot read property 'pipe' of undefined and this happens only for the ''should create Test component' testcase . the other testcase logs in the message as expected.</p>\n\n<p>I am unable to understand where am i going wrong.</p>\n"}, {"tags": ["reactjs", "typescript", "redux", "react-redux", "react-router"], "answers": [{"tags": [], "owner": {"reputation": 619, "user_id": 2043920, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d55f47d38119b03914d8c9f38e59ab4?s=128&d=identicon&r=PG", "display_name": "hashbytes", "link": "https://stackoverflow.com/users/2043920/hashbytes"}, "is_accepted": false, "score": 1, "last_activity_date": 1569360058, "creation_date": 1569360058, "answer_id": 58088295, "question_id": 58087743, "link": "https://stackoverflow.com/questions/58087743/how-to-load-data-from-redux-store-when-redirecting-to-a-new-page/58088295#58088295", "title": "How to load data from redux store when redirecting to a new page", "body": "<p>You need to use async and await here. If you don't wait until the promise gets resolved and navigate the user to the next page, you can never guarantee that the user will see the question as soon as page loads.</p>\n\n<pre><code> const handleStartQuiz = async () =&gt; {\n        awit questionRequest();\n        await startQuiz();\n        return history.push(\"/contentQuiz\");\n    }\n</code></pre>\n\n<p><strong>Second approach: (I don't recommend)</strong>\nDon't render the question unless you have questions filled in the redux state. </p>\n\n<pre><code>return(\n     { questions &amp;&amp;  &lt;ContentQuiz&gt; ... &lt;/ContentQuiz&gt; }\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2890, "user_id": 6548980, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/caade3ef19a80055e33ce9c2ac8c41b8?s=128&d=identicon&r=PG&f=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/6548980/slim"}, "is_accepted": true, "score": 0, "last_activity_date": 1569419618, "creation_date": 1569419618, "answer_id": 58100057, "question_id": 58087743, "link": "https://stackoverflow.com/questions/58087743/how-to-load-data-from-redux-store-when-redirecting-to-a-new-page/58100057#58100057", "title": "How to load data from redux store when redirecting to a new page", "body": "<p>I resolved my question using this update:</p>\n\n<pre><code>import { Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport { dark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport { incrementQuestion, IQuestion } from \"../../actions/index\";\nimport ContentQuiz from \"../../components/ContentQuiz\";\n\ninterface IProps {\n  currentQuestionNumber: number;\n  loadingData: boolean;\n  questions: IQuestion[];\n  questionRequest: () =&gt; void;\n}\n\nconst QuizzContainer = (props: IProps) =&gt; {\n  const { currentQuestionNumber, loadingData, questions, questionRequest } = props;\n  useEffect(() =&gt; {\n    questionRequest();\n  });\n\n  const currentQuestion = questions[currentQuestionNumber];\n  const handleNextQuiz = () =&gt; {\n    incrementQuestion();\n  };\n\n  return (\n    &lt;div&gt;\n   {loadingData ? (\"Loading ...\") : (\n    &lt;ContentQuiz\n      questionNumber={currentQuestionNumber}\n      handleClick={handleNextQuiz}&gt;\n      &lt;div&gt;\n        &lt;Typography variant=\"h3\" gutterBottom&gt; What's the output of &lt;/Typography&gt;\n        &lt;&gt;\n          &lt;SyntaxHighlighter language=\"javascript\" style={dark}&gt;\n            {currentQuestion.questionDescription}\n          &lt;/SyntaxHighlighter&gt;\n        &lt;/&gt;\n\n      &lt;/div&gt;\n    &lt;/ContentQuiz&gt;\n)}\n&lt;/div&gt;\n  );\n};\n\nconst mapStateToProps = (state: any) =&gt; {\n  const { currentQuestionNumber, loadingData, questions } = state.quiz;\n\n  return {\n    currentQuestionNumber,\n    loadingData,\n    questions\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) =&gt; {\n  return {\n    incrementQuestion: () =&gt; dispatch(incrementQuestion()),\n    questionRequest: () =&gt; dispatch&lt;any&gt;(questionRequest())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuizzContainer);\n</code></pre>\n"}], "owner": {"reputation": 2890, "user_id": 6548980, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/caade3ef19a80055e33ce9c2ac8c41b8?s=128&d=identicon&r=PG&f=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/6548980/slim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58100057, "answer_count": 2, "score": 1, "last_activity_date": 1569419618, "creation_date": 1569357201, "last_edit_date": 1569361455, "question_id": 58087743, "link": "https://stackoverflow.com/questions/58087743/how-to-load-data-from-redux-store-when-redirecting-to-a-new-page", "title": "How to load data from redux store when redirecting to a new page", "body": "<p>I have two pages; the first one called <code>QuizHomePage</code> and which contains a welcome message and a button which allows to user to start a quiz.</p>\n\n<p>QuizHomePage.tsx:</p>\n\n<pre><code>import Button from \"@material-ui/core/Button\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Dispatch } from \"redux\";\nimport { questionRequest, startQuiz } from \"../../actions/index\";\nimport AppBar from \"../../components/common/AppBar\";\nimport history from \"../../history/history\";\n\nconst useStyles = makeStyles((theme: Theme) =&gt;\n    createStyles({\n        root: {\n            textAlign: \"center\",\n            margin: theme.spacing(10)\n        },\n        button: {\n            marginTop: theme.spacing(6)\n        }\n\n    }));\n\ninterface IProps {\n    questionRequest: () =&gt; void;\n    startQuiz: () =&gt; void;\n}\n\nconst QuizHomePage = (props: IProps) =&gt; {\n    const classes = useStyles();\n\n    const { questionRequest, startQuiz } = props;\n\n    const handleStartQuiz = () =&gt; {\n        questionRequest();\n        startQuiz();\n        return history.push(\"/contentQuiz\");\n    };\n    return (&lt;&gt;\n        &lt;AppBar /&gt;\n        &lt;div className={classes.root}&gt;\n            &lt;Typography\n                color=\"textPrimary\"\n                gutterBottom\n                variant=\"h2\"&gt;\n                Test your javascript skills\n            &lt;/Typography&gt;\n            &lt;Typography\n                color=\"textSecondary\"\n                gutterBottom\n                variant=\"h6\"&gt;\n                Please click the start button to launch the Quiz\n        &lt;/Typography&gt;\n            &lt;Button\n                className={classes.button}\n                color=\"secondary\"\n                onClick={handleStartQuiz}\n                variant=\"contained\"&gt;Start&lt;/Button&gt;\n        &lt;/div&gt;\n    &lt;/&gt;);\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch) =&gt; {\n    return {\n        startQuiz: () =&gt; dispatch(startQuiz()),\n        questionRequest: () =&gt; dispatch&lt;any&gt;(questionRequest())\n    };\n};\n\nexport default connect(null, mapDispatchToProps)(QuizHomePage);\n</code></pre>\n\n<p>When I click the <code>Start</code> button I dispatch 2 actions <code>questionRequest</code> which executes a promise and return the list of all questions from the database and <code>startQuiz</code> which dispatch an action to update the state of the quiz, then the user will be redirected to the quiz question page which described by this code:</p>\n\n<pre><code>import { Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport { dark } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport { incrementQuestion, IQuestion } from \"../../actions/index\";\nimport ContentQuiz from \"../../components/ContentQuiz\";\n\ninterface IProps {\n  currentQuestionNumber: number;\n  questions: IQuestion[];\n}\n\nconst QuizzContainer = (props: IProps) =&gt; {\n  const { currentQuestionNumber, questions } = props;\n\n  const currentQuestion = questions[currentQuestionNumber];\n  const handleNextQuiz = () =&gt; {\n    incrementQuestion();\n  };\n\n  return (\n    &lt;ContentQuiz\n      questionNumber={currentQuestionNumber}\n      handleClick={handleNextQuiz}&gt;\n      &lt;div&gt;\n        &lt;Typography variant=\"h3\" gutterBottom&gt; What's the output of &lt;/Typography&gt;\n        &lt;&gt;\n          &lt;SyntaxHighlighter language=\"javascript\" style={dark}&gt;\n            {currentQuestion.questionDescription}\n          &lt;/SyntaxHighlighter&gt;\n        &lt;/&gt;\n\n      &lt;/div&gt;\n    &lt;/ContentQuiz&gt;\n  );\n};\n\nconst mapStateToProps = (state: any) =&gt; {\n  const { currentQuestionNumber, questions } = state.quiz;\n\n  return {\n    currentQuestionNumber,\n    questions\n  };\n};\n\nexport default connect(mapStateToProps, { incrementQuestion })(QuizzContainer);\n</code></pre>\n\n<p>actions.ts:</p>\n\n<pre><code>export const questionRequest = (): ThunkAction&lt;void, AppState, null, Action&lt;string&gt;&gt; =&gt; {\n  return async (dispatch: Dispatch) =&gt; {\n    dispatch(startQuestionRequest());\n    getQuestionsApi().then((response: AxiosResponse) =&gt; {\n      const { data } = response;\n      dispatch(questionSuccess(data.result));\n    },\n      (error: AxiosError) =&gt; {\n        let errorMessage = \"Internal Server Error\";\n        if (error.response) {\n          errorMessage = error.response.data.error;\n        }\n        dispatch(questionFail(errorMessage));\n        dispatch(errorAlert(errorMessage));\n      });\n  };\n};\n</code></pre>\n\n<p>I got an error :</p>\n\n<pre><code>TypeError: Cannot read property 'questionDescription' of undefined\n</code></pre>\n\n<p>it's normally because for react the <code>questions</code>variable is undefined. I realized that the questions array is not updated quickly but after some amount of time due to the server response that's why the QuizzContainer<code>returns the error mentioned below when it tries to mount the component.\nIs it a good approach to lazy load the component in order to wait the fetching of questions from server and then mounting the</code> QuizContainer <code>component? I tried</code>useEffect<code>which normally behaves as</code>componentDidMount` but it does not work with my issue.\nHow can I fix that?</p>\n"}]