[{"tags": ["javascript", "angular", "typescript", "google-cloud-firestore", "key-value"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1538004559, "creation_date": 1538004559, "answer_id": 52527357, "question_id": 52527316, "link": "https://stackoverflow.com/questions/52527316/how-to-store-user-input-as-an-object-key-in-typescript/52527357#52527357", "title": "How to store user input as an object key in typescript?", "body": "<p>It's the same as JavaScript:</p>\n\n<pre><code>const property = 'foo'\nconst object = {}\nobject[property] = 'desired value'\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 52527357, "answer_count": 1, "score": 0, "last_activity_date": 1538004559, "creation_date": 1538004271, "question_id": 52527316, "link": "https://stackoverflow.com/questions/52527316/how-to-store-user-input-as-an-object-key-in-typescript", "title": "How to store user input as an object key in typescript?", "body": "<p>Being new to Firestore I learned, that I should model it like this: <a href=\"https://i.stack.imgur.com/mUQrj.png\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>members {\r\n          id: xyz\r\n                  {\r\n                    name: Jones;\r\n                    hashtag: {\r\n                              global: true,\r\n                              digital: true\r\n                             }\r\n          ...\r\n         }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Therefore, I would like to store the user input of a \"hashtag\" form field as a key of the hashtag property and automatically assign the value \"true\" to the key using Angular 6 (Typescript). My current approach is this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>submit(newName: string, newHashtag: string) {\r\n    if ( newName !== '' &amp;&amp; newHashtag !== '') {\r\n      this.member.name = newName;\r\n      this.member.hashtag = { newHashtag: true};\r\n      console.log(this.member);\r\n      // this.membersService.addMember(this.member);\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As a result, the program always prints out \"newHashtag\" but not the desired input value. How can I fix this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface Member {\r\n    id?: string;\r\n    name?: string;\r\n    hashtag?: object;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;input type=\"text\" placeholder=\"new Name\" #memberName name=\"name\"&gt;\r\n  &lt;input type=\"text\" placeholder=\"new hashtag\" #hashtagName name=\"name\"&gt;\r\n  &lt;button (click)=\"submit(memberName.value, hashtagName.value);\r\n   memberName.value=''\"&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "recursion", "tree"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1538014207, "post_id": 52527208, "comment_id": 91996321, "body": "Sounds like you want to implement a <a href=\"https://www.cs.odu.edu/~cs381/cs381content/recursive_alg/rec_alg.html\" rel=\"nofollow noreferrer\">recursive algorithm</a>."}, {"owner": {"reputation": 103, "user_id": 8262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355658fd582a2afa510f3c450838a809?s=128&d=identicon&r=PG&f=1", "display_name": "Tee Jay", "link": "https://stackoverflow.com/users/8262174/tee-jay"}, "reply_to_user": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1538071830, "post_id": 52527208, "comment_id": 92025515, "body": "@Zze - Can you help with the given context?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538093936, "post_id": 52527208, "comment_id": 92033002, "body": "We&#39;re probably going to have to see the code for <code>TreeNode</code> and <code>BaseTreeComponent</code> to do this correctly."}], "owner": {"reputation": 103, "user_id": 8262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355658fd582a2afa510f3c450838a809?s=128&d=identicon&r=PG&f=1", "display_name": "Tee Jay", "link": "https://stackoverflow.com/users/8262174/tee-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538003499, "creation_date": 1538003499, "question_id": 52527208, "link": "https://stackoverflow.com/questions/52527208/angular-perform-recursion-to-traverse-hierarchy-structure", "title": "Angular perform recursion to traverse hierarchy structure", "body": "<p>I have the following code in which the \"currentNode\" is the node which has been selected from the hierarchy level. It is a json having key-value pairs. It has keys like \"children\", \"selected\" etc.</p>\n\n<p>I want to perform recursion so that whenever a node is selected (the selected function has the \"currentNode\" which is selected), check if it has children. If not, just pass the currentNode. If it has children, perform recursion to pass the nodes which have \"Selected=true\" attribute. </p>\n\n<p>In my current code, I am able to get the selected child nodes only up to one level depth. </p>\n\n<p>checkbox-tree.component.ts:</p>\n\n<pre><code>import { Component, EventEmitter, Output } from '@angular/core';\nimport { TreeNode } from './../../dto/TreeNode';\nimport { BaseTreeComponent } from './../base-tree/base-tree.component';\nimport { Subject } from 'rxjs/Subject';\n\nimport html from './checkbox-tree.component.html';\nimport css from '../fortune-select.component.css';\n\n@Component({\n  selector: 'checkbox-tree',\n  template: html,\n  styles: [css],\n})\n\nexport class CheckboxTreeComponent&lt;T&gt; extends BaseTreeComponent&lt;T&gt; {\n\n  //gets called when a node is selected\n  public selected():void {\n\n      if(this.currentNode.children.length !== 0) {\n      this.currentNode.children.forEach(child =&gt; {if(child.selected = true) {\n       this.sliceSelected.emit(child);\n\n      //should ideally check again if child has children and if the child nodes are selected\n\n      }})}\n      else {\n        this.sliceSelected.emit(this.currentNode); \n      }\n\n    if(!this.linked || (this.currentNode.indeterminate &amp;&amp; !this.currentNode.selected)) {\n      this.dataChangedEvent();\n      return;\n    }\n\n    this.currentNode.indeterminate = false;\n    if(this.singleLevelOnly) {\n      this.currentNode.selectChildrenSingleLevel(this.currentNode.selected);\n    } else {\n      this.currentNode.selectChildren(this.currentNode.selected);\n    }\n\n    this.childChanged.emit();\n    this.dataChangedEvent();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1538003272, "post_id": 52527043, "comment_id": 91993993, "body": "Read through <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-functions-with-fewer-parameters-assignable-to-functions-that-take-more-parameters\" rel=\"nofollow noreferrer\">this FAQ entry</a> and review whether you want to consider the function invalid."}, {"owner": {"reputation": 180, "user_id": 6341507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1018626801562267/picture?type=large", "display_name": "Jan Glaser", "link": "https://stackoverflow.com/users/6341507/jan-glaser"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1538007451, "post_id": 52527043, "comment_id": 91994930, "body": "Thanks. I guess I will have to be careful about that what I write as code then..."}], "owner": {"reputation": 180, "user_id": 6341507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1018626801562267/picture?type=large", "display_name": "Jan Glaser", "link": "https://stackoverflow.com/users/6341507/jan-glaser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538002248, "creation_date": 1538002248, "question_id": 52527043, "link": "https://stackoverflow.com/questions/52527043/typescript-function-argument-type-check-without-interface", "title": "Typescript function argument type check without interface", "body": "<p>How can I force typescript to check for correct function argument count and number without using interface method?</p>\n\n<p>I do not want to use intreface, since I would have to create interface for each possible function types combinations.</p>\n\n<p>Following code does not throw error when compiling with tsc (without parameters)</p>\n\n<pre><code>let aaa: (x: number, y: number) =&gt; string = function(arg: number): string { return 'a'; };\n</code></pre>\n\n<p>Following code also does not throw an error:</p>\n\n<pre><code>let aaas: (x: number, y: number) =&gt; string = function(): string { return 'a'; };\n</code></pre>\n\n<p>my tsc version is </p>\n\n<pre><code>Version 2.9.2\n</code></pre>\n\n<p>My idea is to use this normally when I have function as argument (when using callbacks for sql or another work done in code). \nI would not like to create interface every single time I want to add callback. My goal is to make this work for user defined classes</p>\n\n<p>example:</p>\n\n<pre><code>export class LinkedList&lt;V&gt; {\n\n\n public serialize(serializeValue: (val: V) =&gt; void) {\n    //todo\n    serializeValue(some...)\n  }\n</code></pre>\n\n<p>The linkedList can, obviously, have inside a class instance or so.\nIs there a way to force tsc throw compile error if I make mistake and provide invalid function as callback?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 158222, "user_id": 871050, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/A9cyT.png?s=128&g=1", "display_name": "Madara&#39;s Ghost", "link": "https://stackoverflow.com/users/871050/madaras-ghost"}, "is_accepted": false, "score": 1, "last_activity_date": 1538002176, "creation_date": 1538002176, "answer_id": 52527029, "question_id": 52526954, "link": "https://stackoverflow.com/questions/52526954/typing-nested-property-access-as-a-dot-string-in-typescript/52527029#52527029", "title": "Typing nested property access as a dot string in Typescript", "body": "<p>You cannot describe this type in TypeScript. TypeScript has no string concatenation or some such.</p>\n\n<p>Mongo is a big thing, if it were possible, the guys maintaining <code>@types/mongo</code> would have already done it.</p>\n"}], "owner": {"reputation": 1044, "user_id": 1294382, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/935544003b11be69144a0c8fad96f1c3?s=128&d=identicon&r=PG", "display_name": "imagio", "link": "https://stackoverflow.com/users/1294382/imagio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "closed_date": 1573234037, "answer_count": 1, "score": 1, "last_activity_date": 1538005824, "creation_date": 1538001624, "last_edit_date": 1538005824, "question_id": 52526954, "link": "https://stackoverflow.com/questions/52526954/typing-nested-property-access-as-a-dot-string-in-typescript", "closed_reason": "Duplicate", "title": "Typing nested property access as a dot string in Typescript", "body": "<p>I am trying to figure out if it is possible to type nested property queries in Mongo.</p>\n\n<p>For example if I have the following type:</p>\n\n<pre><code>class User {\n   username: string\n   _id: string\n   emails: {\n      primary: {\n         address: string,\n         verified: boolean\n      }\n   }\n}\n</code></pre>\n\n<p>I have typings that work for single property access, for example the following query would be flagged because \"usernametypo\" isn't a property of User:</p>\n\n<pre><code>const someUser = usersCollection.findOne({usernametypo: \"foobar\"})\n</code></pre>\n\n<p>The correct Mongo query to find a user by primary email address would be something like the following:</p>\n\n<pre><code>const someUser = usersCollection.findOne({\"emails.primary.address\": \"foo@bar.com\"})\n</code></pre>\n\n<p>This is where the problem lies. How can I define a type for that query? How do I tell TS that \"emails.primary.address\" is indeed valid given the structure of the User class?</p>\n\n<p>Edit: It looks like there are some proposed typescript features that might help <a href=\"https://github.com/Microsoft/TypeScript/issues/12754\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/issues/12754</a></p>\n"}, {"tags": ["typescript", "generics", "mixins"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538005761, "post_id": 52526601, "comment_id": 91994529, "body": "Looks like a bug, and I couldn&#39;t find an existing report.  Do you want to <a href=\"https://github.com/Microsoft/TypeScript/issues\" rel=\"nofollow noreferrer\">submit a report</a> or shall I?"}, {"owner": {"reputation": 1939, "user_id": 395658, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cN5n2.jpg?s=128&g=1", "display_name": "Anupheaus", "link": "https://stackoverflow.com/users/395658/anupheaus"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538124375, "post_id": 52526601, "comment_id": 92042045, "body": "Thanks @MattMcCutchen, have submitted bug here: <a href=\"https://github.com/Microsoft/TypeScript/issues/27420\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/27420</a>"}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 6973249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a4dd336b8ae308e7a9fdda51c462ef?s=128&d=identicon&r=PG", "display_name": "igel", "link": "https://stackoverflow.com/users/6973249/igel"}, "is_accepted": false, "score": 0, "last_activity_date": 1538508642, "creation_date": 1538508642, "answer_id": 52615172, "question_id": 52526601, "link": "https://stackoverflow.com/questions/52526601/typescript-mixin-function-inferring-from-subclass-generic-type/52615172#52615172", "title": "Typescript mixin function inferring from subclass generic type", "body": "<p>Do you really need to restrict the <code>ApplyC</code> function to receive only subclasses of <code>A</code>?\nIf no you could replace <code>A</code> with <code>any</code>, e.g.:</p>\n\n<pre><code>    function ApplyC&lt;T extends ConstructorOf&lt;any&gt;&gt;(base: T) {\n</code></pre>\n\n<p>then <code>D.init()</code> will return just <code>IB</code> and nothing else.</p>\n"}], "owner": {"reputation": 1939, "user_id": 395658, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/cN5n2.jpg?s=128&g=1", "display_name": "Anupheaus", "link": "https://stackoverflow.com/users/395658/anupheaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538508642, "creation_date": 1537999290, "question_id": 52526601, "link": "https://stackoverflow.com/questions/52526601/typescript-mixin-function-inferring-from-subclass-generic-type", "title": "Typescript mixin function inferring from subclass generic type", "body": "<p>The following is an example of the problem I am experiencing at the moment.  I'm trying to write a mixin that properly infers and reflects the generic type from the subclass of the class provided to the mixin.</p>\n\n<pre><code>abstract class A&lt;T = {}&gt; {\n  public abstract init(): T;\n}\n\ninterface IB {\n  something: string;\n}\n\nclass B extends A&lt;IB&gt; {\n  public init(): IB {\n    return null;\n  }\n}\n\ntype ConstructorOf&lt;T = {}&gt; = new (...args: any[]) =&gt; T;\n\nfunction ApplyC&lt;T extends ConstructorOf&lt;A&gt;&gt;(base: T) {\n  abstract class C extends base {\n\n  }\n  return C;\n}\n\nclass D extends ApplyC(B) {\n  constructor() {\n    super();\n    // this.init()\n  }\n}\n</code></pre>\n\n<p>Where I written <code>this.init()</code>, the intellisense is telling me that I have an overload on <code>init()</code>, one is <code>init(): {}</code> and the other is <code>init(): IB</code>, the problem with this is that I don't want there to appear to be an overload, and I just want the IB one to appear.</p>\n\n<p>I need the <code>T</code> in <code>A&lt;T = {}&gt;</code> to be inferred somehow in the mixin and pass it to <code>ConstructorOf&lt;A&gt;</code> from the <code>base: T</code> provided.</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "edited": false, "score": 0, "creation_date": 1537999594, "post_id": 52526400, "comment_id": 91993035, "body": "I posted my answer second guessing your problem, but I think it would be beneficial to show how you are loading your data from the JSON file."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1537999929, "post_id": 52526400, "comment_id": 91993152, "body": "<code>DiskElement</code> does not contain a <code>size</code> property, <code>File</code> does. When you use <code>extends</code>, it is saying that <code>File</code> inherits everything from <code>DiskElement</code>, and <code>DiskElement</code> remains unchanged. I think you are thinking that extends means it will push properties to the parent, which is why it is causing confusion. <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">Here&#39;s a link to the docs with examples of how this works</a>"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1538001655, "post_id": 52526400, "comment_id": 91993590, "body": "It sounds like what you&#39;re actually trying to do is pull <code>File</code> and <code>Directory</code> into <code>DiskElement</code>, which you can do with <a href=\"https://www.typescriptlang.org/docs/handbook/mixins.html\" rel=\"nofollow noreferrer\">mixins</a>. Although maybe not exactly, since the added properties will be optional depending on the type?"}, {"owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1538003275, "post_id": 52526400, "comment_id": 91993994, "body": "@mhodges i&#39;d rather say that the OP is trying to uptype"}], "answers": [{"comments": [{"owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "edited": false, "score": 0, "creation_date": 1538035034, "post_id": 52526639, "comment_id": 92003482, "body": "Your second solution is what I did, but it still doesn&#39;t make sense to me.  File is a DiskElement to begin with. Why can&#39;t I add it to an array of DiskElement is beyond me."}], "tags": [], "owner": {"reputation": 105043, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999572, "creation_date": 1537999572, "answer_id": 52526639, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript/52526639#52526639", "title": "Array of abstract type in typescript", "body": "<p>You could just make <code>size</code> an optional property:</p>\n\n<pre><code> export abstract class DiskElement{\n    id:string;\n    filename:string;\n    size?: number;\n }\n</code></pre>\n\n<p>Or if there are multiple possible subclasses, e.g. <code>File</code> and <code>Blob</code>:</p>\n\n<pre><code>export abstract class DiskElement{\n   id:string;\n   filename:string;\n}\n\n class File extends DiskElement {\n  size: number;\n }\n\n class Blob extends DiskElement {\n   length: number;\n }\n</code></pre>\n\n<p>then you could use a union type to type something on the disk:</p>\n\n<pre><code> type Data = File | Blob;\n</code></pre>\n\n<p>that way you can use <code>Data</code> everywhere and add new types easily. To then access the size you have to add a typeguard:</p>\n\n<pre><code> var sth: Data = new File();\n\n if(sth instanceof File) { // sth: Data -&gt; File\n   console.log(sth.size); // works\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "is_accepted": false, "score": 0, "last_activity_date": 1538039059, "creation_date": 1538039059, "answer_id": 52533280, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript/52533280#52533280", "title": "Array of abstract type in typescript", "body": "<p>Ok I figured it out...</p>\n\n<p>In javascript there wasn't a huge difference between : </p>\n\n<pre><code>var users = { prop1:\"zzz\", prop2:\"aaaa\"}; //(json without quotes)\nvar users = JSON.parse(json); \n</code></pre>\n\n<p>Turns out it's obviously not true in typescript.\nSo my example above becomes : </p>\n\n<pre><code>users : User = JSON.parse(`\n{\n    shares: \n    [\n        {\n           id:\"{123-12312312-12312}\",\n           filename:\"test.jpg\",\n           size:123123000\n        },\n        {\n           id:\"{222-2222222-22222}\",\n           filename:\"testFolder\",\n           children:[{...},{...}]\n         }\n    ]\n}`);\n</code></pre>\n\n<p>And this way it works as expected.</p>\n"}], "owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538039059, "creation_date": 1537998156, "last_edit_date": 1538035551, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript", "title": "Array of abstract type in typescript", "body": "<p>I'm quite new with typescript and I'm facing an issue in the app i'm developping.</p>\n\n<pre><code>export abstract class DiskElement{\n    id:string;\n    filename:string;\n}\n\nexport class File extends DiskElement{\n    size:number;\n}\n\nexport class Directory extends DiskElement{\n    children:DiskElement[];\n}\n\nexport class User{\n    shares:DiskElement[];\n}\n</code></pre>\n\n<p>My issue is when I load my users from a Json file, it says that size property doesn't belong to type DiskElement.</p>\n\n<p>I fixed my issue by declaring shares/children as (File | Directory )[] but I don't feel like this solution is maintenable in the long run. I have multiple arrays of 'parent' classes in my application and having to modify each declaration of collections each time I add a new subType is gonna be exhausting.</p>\n\n<p>I'm pretty sure there's a very simple &amp; nice solution.</p>\n\n<p>How I load it is something like that : </p>\n\n<pre><code>users : User =  {\n    shares: \n    [\n        {\n           id:\"{123-12312312-12312}\",\n           filename:\"test.jpg\",\n           size:123123000\n        },\n        {\n           id:\"{222-2222222-22222}\",\n           filename:\"testFolder\",\n           children:[{...},{...}]\n         }\n   ]};\n</code></pre>\n\n<p>It's in a mock 'dataset' , but it doesn't compile with the error I explained above, size isn't a property of DiskElement.</p>\n\n<p>Changing User to :</p>\n\n<pre><code>export class User{\n    shares:(File|Directory)[];\n}\n</code></pre>\n\n<p>This works, and as @Jonas Wilms pointed out I could define a new union type that is File|Directory and make sure to update that type whenever I subclass DiskElement in the future, but I still feel like I'm missing something.</p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuejs2", "es6-modules"], "answers": [{"comments": [{"owner": {"reputation": 3909, "user_id": 2321515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4288126d574a1c7aa64045b3ced1f266?s=128&d=identicon&r=PG", "display_name": "Artur Grigio", "link": "https://stackoverflow.com/users/2321515/artur-grigio"}, "edited": false, "score": 2, "creation_date": 1538000374, "post_id": 52526440, "comment_id": 91993281, "body": "I found one gotcha: <code>Foo</code> has to be the <b>default export</b>, otherwise the other components won&#39;t see it."}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": true, "score": 12, "last_activity_date": 1538000962, "last_edit_date": 1538000962, "creation_date": 1537998350, "answer_id": 52526440, "question_id": 52526377, "link": "https://stackoverflow.com/questions/52526377/how-to-export-multiple-objects-from-a-vue-file/52526440#52526440", "title": "How to export multiple objects from a .vue file", "body": "<p>In your vue file write:</p>\n\n<pre><code>class Foo extends Vue {\n    foo: string = \"foo\";\n}\n\nconst Bar = { bar: \"bar\" };\n\nexport { Bar };\nexport default Foo;\n</code></pre>\n\n<p>You will then be able to import these using:</p>\n\n<pre><code>import Foo, { Bar } from 'FooBar.vue';\n</code></pre>\n\n<p>More detailed information on how export works can be found <a href=\"https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3909, "user_id": 2321515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4288126d574a1c7aa64045b3ced1f266?s=128&d=identicon&r=PG", "display_name": "Artur Grigio", "link": "https://stackoverflow.com/users/2321515/artur-grigio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6095, "favorite_count": 1, "accepted_answer_id": 52526440, "answer_count": 1, "score": 8, "last_activity_date": 1538000962, "creation_date": 1537998013, "last_edit_date": 1537998521, "question_id": 52526377, "link": "https://stackoverflow.com/questions/52526377/how-to-export-multiple-objects-from-a-vue-file", "title": "How to export multiple objects from a .vue file", "body": "<p>I'm using <code>typescript</code> with Vue. And for this specific use case, I'd like to export multiple items from my <code>.vue</code> file. Like this:</p>\n\n<p>// FooBar.vue</p>\n\n<pre><code>&lt;template&gt;\n    ...\n&lt;/template&gt;\n\nexport class Foo extends Vue {\n    foo: string = \"foo\";\n}\n\nexport const Bar = {bar: \"bar\"};\n</code></pre>\n\n<p>And then import them like this:</p>\n\n<p>// Baz.vue</p>\n\n<pre><code>import { Foo, Bar } from 'FooBar.vue';\n\n@Components({ components: { Foo }})\n... // rest of the code\n</code></pre>\n\n<p><strong>Is there a way to export multiple objects from a <code>.vue</code> file in Vue?</strong></p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular2-formbuilder"], "comments": [{"owner": {"reputation": 2380, "user_id": 4986641, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xx006.jpg?s=128&g=1", "display_name": "Callat", "link": "https://stackoverflow.com/users/4986641/callat"}, "edited": false, "score": 0, "creation_date": 1537995770, "post_id": 52525893, "comment_id": 91991814, "body": "This is just a guess but, should <code>formArray</code> be outside of <code>formGroupName</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 1, "creation_date": 1538002055, "post_id": 52526716, "comment_id": 91993681, "body": "Please take the relevant information from those links and put them in your answer. If those links die in the future, then this answer will become useless."}], "tags": [], "owner": {"reputation": 1118, "user_id": 10395768, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E51_QgOLMUQ/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXaFOFylQ9iX8Ti5A9m60yAGIxAaA/mo/photo.jpg?sz=128", "display_name": "Bal&#225;zs Tak&#225;cs", "link": "https://stackoverflow.com/users/10395768/bal%c3%a1zs-tak%c3%a1cs"}, "is_accepted": true, "score": 5, "last_activity_date": 1538002728, "last_edit_date": 1538002728, "creation_date": 1538000003, "answer_id": 52526716, "question_id": 52525893, "link": "https://stackoverflow.com/questions/52525893/angular-5-error-cannot-find-form-control-with-name/52526716#52526716", "title": "(Angular 5) Error: Cannot find form control with name:", "body": "<p>The error is caused by calling setValue(), because it performs strict checks.</p>\n\n<p>You are trying to assign an array of multiple items to FormArray having only one initial FormGroup at index 0.</p>\n\n<p>Assigning value at index 1 fails, as it does not exist.</p>\n\n<p>Steps to solve it:</p>\n\n<ol>\n<li><p>Define the form array:    </p>\n\n<pre><code>purchases: new FormArray([\n    new FormGroup({\n        product: new FormGroup({\n            categoryS: new FormControl(''),\n            location: new FormControl(''),\n            name: new FormControl(''),\n            price: new FormControl('')\n        }),\n        quantity: new FormControl('')\n    })\n])\n</code></pre></li>\n<li><p>Use <a href=\"https://angular.io/api/forms/FormGroup#patchValue\" rel=\"noreferrer\">patchValue</a> </p></li>\n<li><p>Clear the form array:</p>\n\n<pre><code>while (purchasesFormArray.length) {\n   purchasesFormArray.removeAt(0);\n}\n</code></pre></li>\n<li><p>Populate the form array in a loop</p>\n\n<pre><code>invoice.purchases.forEach(purchase =&gt; {\n    purchasesFormArray.push(this._fb.group(purchase));\n});  \n</code></pre></li>\n</ol>\n\n<p>Fixed code is here: <a href=\"https://stackblitz.com/edit/invoice-stackoverflow-ewmwwu\" rel=\"noreferrer\">View in StackBlitz</a>.</p>\n"}], "owner": {"reputation": 1401, "user_id": 4026786, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Rafael Corzo", "link": "https://stackoverflow.com/users/4026786/rafael-corzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3785, "favorite_count": 2, "accepted_answer_id": 52526716, "answer_count": 1, "score": 1, "last_activity_date": 1538002728, "creation_date": 1537995210, "last_edit_date": 1537996476, "question_id": 52525893, "link": "https://stackoverflow.com/questions/52525893/angular-5-error-cannot-find-form-control-with-name", "title": "(Angular 5) Error: Cannot find form control with name:", "body": "<p>I'm trying to edit a form and when I want to show the values to edit, using setValue I get an error \"<em>ERROR Error: Cannot find form control with name: purchases.</em>\"</p>\n\n<p><strong>component.ts</strong></p>\n\n<pre><code>ngOnInit() {\n  this.form = new FormGroup({\n      customer: new FormGroup({\n        name: new FormControl(),\n        lastname: new FormControl(),\n        address: new FormControl(),\n        phone: new FormControl()\n      }),\n      createdAt: new FormControl(),\n      purchases: new FormArray([])\n  });\n}\n</code></pre>\n\n<p><strong>my function to edit</strong></p>\n\n<pre><code>onEdit(invoice) {    \n  this.form.setValue(invoice)   \n}\n</code></pre>\n\n<p><strong>component.html</strong></p>\n\n<pre><code>&lt;div class=\"col-md-8\"&gt;\n    &lt;div formGroupName=\"customer\"&gt;\n      &lt;h3&gt;Customer&lt;/h3&gt;\n      &lt;label&gt;Name: &lt;input class=\"form-control\" type=\"text\" formControlName=\"name\"&gt; &lt;/label&gt;\n      &lt;label&gt;Last Name:&lt;input class=\"form-control\" type=\"text\" formControlName=\"lastname\"&gt;&lt;/label&gt;\n      &lt;label&gt;Phone:&lt;input class=\"form-control\" type=\"text\" formControlName=\"phone\"&gt;&lt;/label&gt;\n      &lt;label&gt;Address:&lt;input class=\"form-control\" type=\"text\" formControlName=\"address\"&gt;&lt;/label&gt;\n   &lt;/div&gt;\n   &lt;div&gt;&lt;li formArrayName=\"purchases\"&gt;&lt;/li&gt;&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/invoice-stackoverflow\" rel=\"nofollow noreferrer\"><strong>View in StackBlitz</strong></a></p>\n\n<p>values in console</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Ow9s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Ow9s.png\" alt=\"console\"></a></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1537995357, "post_id": 52525849, "comment_id": 91991644, "body": "What is your question?"}, {"owner": {"reputation": 434, "user_id": 5033499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d96e62809c807c54a23ec4849831df0?s=128&d=identicon&r=PG&f=1", "display_name": "HadidAli", "link": "https://stackoverflow.com/users/5033499/hadidali"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1538028288, "post_id": 52525849, "comment_id": 92000053, "body": "@JBNizet I want to find out why during the assignment to answer variable error occurs?"}], "answers": [{"tags": [], "owner": {"reputation": 434, "user_id": 5033499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d96e62809c807c54a23ec4849831df0?s=128&d=identicon&r=PG&f=1", "display_name": "HadidAli", "link": "https://stackoverflow.com/users/5033499/hadidali"}, "is_accepted": true, "score": 0, "last_activity_date": 1538033311, "creation_date": 1538033311, "answer_id": 52531685, "question_id": 52525849, "link": "https://stackoverflow.com/questions/52525849/typescript-peculiar-error-message-upon-variable-assignment/52531685#52531685", "title": "Typescript - peculiar error message upon variable assignment", "body": "<p>It turns out that when data is queried from DB with a specific condition no data is returned hence the coachDealerId is undefined. This appears to be related to a data issue rather than code.</p>\n"}], "owner": {"reputation": 434, "user_id": 5033499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d96e62809c807c54a23ec4849831df0?s=128&d=identicon&r=PG&f=1", "display_name": "HadidAli", "link": "https://stackoverflow.com/users/5033499/hadidali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52531685, "answer_count": 1, "score": 0, "last_activity_date": 1538033311, "creation_date": 1537994980, "last_edit_date": 1538002928, "question_id": 52525849, "link": "https://stackoverflow.com/questions/52525849/typescript-peculiar-error-message-upon-variable-assignment", "title": "Typescript - peculiar error message upon variable assignment", "body": "<p>I have this block of code:</p>\n\n<pre><code>survey = JSON.parse(JSON.stringify(survey));\nreturn Promise.all([\n   app.models.survey_answers.findOne({surveyId: survey.id, coachDealerId: coachDealer.id, wave: wave}),\n   app.models.survey_localizations.find({surveyId: survey.id})\n   ]);\n}).then(function(results){\nanswer = results[0];\n</code></pre>\n\n<p>For some reason, upon assignment to answer variable (last line in above code), I get following error:</p>\n\n<blockquote>\n  <p><em>message: \"coachDealerId is not defined\" stack: \"ReferenceError: coachDealerId is not defined\u21b5    at eval (eval at     at\n  \u21b5    at process._tickDomainCallback\n  (internal/process/next_tick.js:228:7)\"\n  <strong>proto</strong>: Error</em></p>\n</blockquote>\n\n<p>I have checked that coachDealerId is indeed defined in places where necessary.</p>\n"}, {"tags": ["javascript", "algorithm", "typescript", "d3.js", "tree"], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "is_accepted": false, "score": 0, "last_activity_date": 1537994599, "creation_date": 1537994599, "answer_id": 52525778, "question_id": 52525458, "link": "https://stackoverflow.com/questions/52525458/d3-collapsable-tree-collapse-one-level-at-a-time/52525778#52525778", "title": "D3 Collapsable Tree - Collapse one level at a time", "body": "<p>Figured it. Didn't notice d3 provides parent info.</p>\n\n<pre><code> private collpaseOneLevelNodes = (d) =&gt; {\nvar children = (d.children) ? d.children : d._children;\nif (!children || !d.children) {\n  if (!d.parent._children) {\n    d.parent._children = d.parent.children;\n    d.parent.children = null;\n  }\n  return;\n}\nif (d.children) {\n  children.forEach((node) =&gt; {\n    this.collpaseOneLevelNodes(node);\n  });\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code> public collapseOneLevel() {\n    this.collpaseOneLevelNodes(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n"}], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537994599, "creation_date": 1537992987, "last_edit_date": 1537993308, "question_id": 52525458, "link": "https://stackoverflow.com/questions/52525458/d3-collapsable-tree-collapse-one-level-at-a-time", "title": "D3 Collapsable Tree - Collapse one level at a time", "body": "<p>I have d3 collapsable tree. I have external button that controls expansion and collapsing of tree. I can expand all, collapsable all. And also, I can expand one level at a time. I am having trouble collapsing one level at a time.</p>\n\n<p>For any one without prior understanding of d3. <strong>If node is expanded then d.children is not empty &amp; d.<em>children is empty and if node is collapsed d</em>.children is not empty and d.children is empty</strong>.</p>\n\n<p>Here is my logic to expand one level :  </p>\n\n<pre><code>private expandNodeOneLevel(d) {\n    var children = (d.children) ? d.children : d._children;\n    if (!d.children) {\n       if (children) {\n           d.children = d._children;\n           d._children = null;\n       }\n       return;\n     }\n    if (children) {\n       children.forEach((node) =&gt; this.expandNodeOneLevel(node));\n     }\n}\n\n\n\n public expandOneLevelNodes() {\n    this.expandNodeOneLevel(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n\n<p>Here is my logic to collapse one level at a time, which is wrong as it is collapsing all the tree nodes. I am having trouble to break the recursion. </p>\n\n<pre><code>private collpaseOneLevelNodes = (d) =&gt; {\n    var children = (d.children) ? d.children : d._children;\n    if (!children) {\n      return;\n    }\n    children.forEach((node) =&gt; {\n      this.collpaseOneLevelNodes(node);\n    });\n    if (d.children) {\n        d._children = d.children;\n        d.children = null;\n    }\n    return;\n  }\n\n\n\n public collapseOneLevel() {\n    this.collpaseOneLevelNodes(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n\n<p>I would really appreciate if some one points out where my mistake is or any other better approach.</p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "pdf"], "comments": [{"owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "edited": false, "score": 0, "creation_date": 1537993008, "post_id": 52525404, "comment_id": 91990696, "body": "Why not try a component library like <a href=\"https://www.npmjs.com/package/ng2-pdf-viewer\" rel=\"nofollow noreferrer\">npmjs.com/package/ng2-pdf-viewer</a>"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "reply_to_user": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "edited": false, "score": 0, "creation_date": 1537993248, "post_id": 52525404, "comment_id": 91990782, "body": "I tried once, the display is off place, cause the page slow down considerably, and gave errors that I do not know how to fix.  I will try again if I do not have other options."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1537993474, "post_id": 52525404, "comment_id": 91990879, "body": "You could create a backend that proxies the request and adds the <code>application&#47;pdf</code> content type"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "edited": false, "score": 0, "creation_date": 1537993746, "post_id": 52525404, "comment_id": 91991009, "body": "Thank you, I will consider that. Can it be done in Angular only? Seems too much hassle to maintain a server for that purpose."}, {"owner": {"reputation": 1955, "user_id": 3942974, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7a172092b9581304bc6417560ac9eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Hirad Roshandel", "link": "https://stackoverflow.com/users/3942974/hirad-roshandel"}, "edited": false, "score": 0, "creation_date": 1537998864, "post_id": 52525404, "comment_id": 91992827, "body": "Does this work? <a href=\"https://github.com/mozilla/pdf.js\" rel=\"nofollow noreferrer\">github.com/mozilla/pdf.js</a>"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "edited": false, "score": 0, "creation_date": 1537999291, "post_id": 52525404, "comment_id": 91992960, "body": "Thank you I will take a look."}], "owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 503, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538152680, "creation_date": 1537992714, "last_edit_date": 1538152680, "question_id": 52525404, "link": "https://stackoverflow.com/questions/52525404/embedding-a-pdf-file-in-web-page-content-type-octet-steam", "title": "Embedding a PDF file in web-page: content-type octet-steam", "body": "<p>I am working on a Angular web application and it needs to display PDF files from remote servers inside a web page.</p>\n\n<p>I used <strong>iframe</strong> for this purpose. Here \"path\" being the URL for the pdf in remote server.</p>\n\n<pre><code>&lt;iframe class=\"embed-responsive-item\" [src]=\"path | safe\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>With test pdf files it works perfectly fine until I  moved into production environment. The PDFs are get downloaded instead of displayed when the page opens. A little digging shows that the problem is that the response header contains content-type: <strong>application/octet-stream</strong> instead of <strong>application/pdf</strong>.</p>\n\n<p>I've been trying to search for a solution. I find suggestions that change the content-type header will work. But in this case, it is a remote server that I do not have control on.</p>\n\n<p>I also tried other tags like <strong>embed</strong>. It can specify file type.</p>\n\n<pre><code>&lt;embed [src]=\"path | safe\" type=\"application/pdf\" width=\"300\" height=\"200\"&gt;\n</code></pre>\n\n<p>Still it does not work and displays a blank box. </p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p><strong>Update</strong>: I discovered that PDF file server also do not support CORS requests. How Exciting! </p>\n\n<p>I've revisited ng2-pdf-viewer and it seems not that bad, but it requires CORS. Same reason pdf.js does not work. Guess that left me with a proxy server solution. Thanks guys for your help.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-native", "higher-order-components"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538022054, "post_id": 52525133, "comment_id": 91997993, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/27385\" rel=\"nofollow noreferrer\">This bug</a> is part of the problem.  I will write more if I have a chance."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538041990, "post_id": 52525133, "comment_id": 92007566, "body": "Thanks for the effort, Matt McCutchen! I&#39;d love to hear from you soon."}], "answers": [{"comments": [{"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538134358, "post_id": 52544150, "comment_id": 92047409, "body": "Hi Matt, thanks a lot for the thorough explanation. The line <code>instead of declaring a type variable for the inner props type and defining the outer props type by excluding things, declare a type variable for the outer props type and define the inner props type as an intersection</code> in your other answer has removed the error from my code. Sadly, now the <code>onActionClicked</code> prop is usable by the end-user of the HOC. Have I misunderstood something about what you meant? If we return a <code>ComponentType&lt;P&gt;</code>, <code>P</code> will always include the <code>InjectedProps</code>, right? Whether we <code>P extends InjectedProps</code> or <code>&amp;</code>."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538144171, "post_id": 52544150, "comment_id": 92053086, "body": "I don&#39;t know exactly what you tried, but I went ahead and added my version of the solution.  Let me know if you have further issues or questions."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538403512, "post_id": 52544150, "comment_id": 92120997, "body": "Hi Matt, thanks again for all the effort. In your example, the end-user is still able to do the following: <code>&lt;DialogLoading onActionClicked={(_: any) =&gt; {}}   &#47;&gt;;</code>. I.e. the user of the HOC can still specify <code>onActionClicked</code> on the final HOC component. I remain uncertain as to how to prohibit this."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538425269, "post_id": 52544150, "comment_id": 92131293, "body": "There were several mistakes in my code; I thought I tested that it type-checked but apparently not.  Sorry.  Please try the updated version."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538439625, "post_id": 52544150, "comment_id": 92135375, "body": "This seems to work perfectly, thanks Matt! It&#39;s the middle of the night here, and I wont have time to properly test this out until wednesday. If everything works out by then, I&#39;ll mark your answer as accepted. Thanks again for all your diligent work! As a side node, I don&#39;t quite understand the comment on the &quot;fragile&quot; TypeScript rule you mention in your solution. If you could enlighten slightly on that, it would be much appreciated!"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538445616, "post_id": 52544150, "comment_id": 92136463, "body": "I realized that a trick I recently added to <a href=\"https://stackoverflow.com/a/52528669\">the other answer</a> to solve a different problem will also solve this &quot;fragility&quot; problem.  I&#39;ve added the trick here, added some explanation to the other answer, and added an example here of how the &quot;fragility&quot; problem can manifest if the trick isn&#39;t used."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538591514, "post_id": 52544150, "comment_id": 92200322, "body": "Your answer seems to be working! Thanks a lot for the help, I&#39;ll mark your answer as accepted!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1538445457, "last_edit_date": 1538445457, "creation_date": 1538077667, "answer_id": 52544150, "question_id": 52525133, "link": "https://stackoverflow.com/questions/52525133/react-native-higher-order-component-with-ref-callback-in-typescript-throws-com/52544150#52544150", "title": "React Native - Higher Order Component with ref callback in TypeScript throws compile error", "body": "<blockquote>\n  <p>Am I correct in assuming the ref callback did not work because the <code>Wrapped Component</code> type was <code>React.ComponentType&lt;P&gt;</code> instead of <code>React.ComponentClass&lt;P&gt;</code>?</p>\n</blockquote>\n\n<p>Roughly speaking, yes.  When you make a JSX element from the <code>WrappedComponent</code>, which has a union type (<code>React.ComponentType&lt;P&gt; = React.ComponentClass&lt;P&gt; | React.StatelessComponent&lt;P&gt;</code>), TypeScript finds the props type corresponding to each alternative of the union and then takes the union of the props types using subtype reduction.  From <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/0a97663843e11f745d9998d54db0970ee3bfb748/src/compiler/checker.ts\" rel=\"nofollow noreferrer\">checker.ts</a> (which is too big to link to the lines on GitHub):</p>\n\n<pre><code>    function resolveCustomJsxElementAttributesType(openingLikeElement: JsxOpeningLikeElement,\n        shouldIncludeAllStatelessAttributesType: boolean,\n        elementType: Type,\n        elementClassType?: Type): Type {\n\n        if (elementType.flags &amp; TypeFlags.Union) {\n            const types = (elementType as UnionType).types;\n            return getUnionType(types.map(type =&gt; {\n                return resolveCustomJsxElementAttributesType(openingLikeElement, shouldIncludeAllStatelessAttributesType, type, elementClassType);\n            }), UnionReduction.Subtype);\n        }\n</code></pre>\n\n<p>I'm not sure why this is the rule; an intersection would make more sense for ensuring that all required props are present regardless of which alternative of the union the component is.  In our example, the props type for <code>React.ComponentClass&lt;P&gt;</code> includes <code>ref</code> while the props type for <code>React.StatelessComponent&lt;P&gt;</code> does not.  Normally, a property is considered \"known\" for a union type if it is present in at least one constituent of the union.  However, in the example, the subtype reduction throws out the props type for <code>React.ComponentClass&lt;P&gt;</code> since it happens to be a subtype of (have more properties than) the props type for <code>React.StatelessComponent&lt;P&gt;</code>, so we're left with just <code>React.StatelessComponent&lt;P&gt;</code>, which does not have a <code>ref</code> property.  Again, this all seems weird, but it produced an error that pointed to an actual bug in your code, so I'm not inclined to file a bug against TypeScript.</p>\n\n<blockquote>\n  <p>Why does changing the <code>Wrapped Component</code> type to <code>React.ComponentClass&lt;P&gt;</code> result in a compile error on the <code>onActionClicked</code> prop of the <code>Wrapped Component</code>?</p>\n</blockquote>\n\n<p>The root cause of this error is that TypeScript is unable to reason that the combination <code>onActionClicked={this.onActionClicked} {...this.props}</code> of type <code>Readonly&lt;HocProps&lt;C, A, P&gt;&gt; &amp; { onActionClicked: (action: A) =&gt; void; }</code> provides the required props type <code>P</code>.  Your intent is that if you subtract <code>onActionClicked</code> from <code>P</code> and then add it back, you should be left with <code>P</code>, but TypeScript has no built-in rule to verify this.  (There is a potential issue that <code>P</code> could declare an <code>onActionClicked</code> property whose type is a subtype of <code>(action: A) =&gt; void</code>, but your use pattern is common enough that I expect that if TypeScript were to add such a rule, the rule would hack around this issue somehow.)</p>\n\n<p>It's confusing that TypeScript 3.0.3 reports the error on <code>onActionClicked</code> (though this may be due to the issue I mentioned).  I tested and at some point between 3.0.3 and 3.2.0-dev.20180926, the behavior changed to report the error on <code>WrappedComponent</code>, which seems more reasonable, so no further follow-up is needed here.</p>\n\n<p>The reason the error <em>doesn't</em> occur when the <code>WrappedComponent</code> type is <code>React.ComponentType&lt;P&gt;</code> is because for a stateless function component (unlike a component class), TypeScript only checks that you pass enough props to satisfy the constraint of the props type <code>P</code>, i.e., <code>InjectedProps&lt;A&gt;</code>, not actually <code>P</code>.  I believe this is a bug and have <a href=\"https://github.com/Microsoft/TypeScript/issues/27385\" rel=\"nofollow noreferrer\">reported it</a>.</p>\n\n<blockquote>\n  <p>Why does changing the type alias for <code>HocProps</code> remove said error on the <code>onActionClicked</code> prop? Aren't they completely unrelated?</p>\n</blockquote>\n\n<p>Because then <code>{...this.props}</code> by itself satisfies the required <code>P</code>.</p>\n\n<blockquote>\n  <p>Is the <code>Subtract</code> functionality I've cooked up correct? Is that where the errors are coming from?</p>\n</blockquote>\n\n<p>Your <code>Subtract</code> is correct, but as described above, TypeScript has very little support for reasoning about the underlying <code>Pick</code> and <code>Exclude</code>.</p>\n\n<p>To solve your original problem, I recommend using type aliases and intersections instead of subtractions as described in <a href=\"https://stackoverflow.com/a/52528669\">this answer</a>.  In your case, this would look like:</p>\n\n<pre><code>import * as React from \"react\";\n\ninterface InjectedProps&lt;A&gt; \n{   onActionClicked: (action: A) =&gt; void;}\n\ninterface ExternalProps&lt;C, A&gt;\n{   onActionClickListener?: (component: C | null, action: A) =&gt; void;}\n\n// See https://stackoverflow.com/a/52528669 for full explanation.\nconst hocInnerPropsMarker = Symbol();\ntype HocInnerProps&lt;P, A&gt; = P &amp; {[hocInnerPropsMarker]?: undefined} &amp; InjectedProps&lt;A&gt;;\n\ntype HocProps&lt;C, A, P&gt; = P &amp; ExternalProps&lt;C, A&gt;;\n\nconst hoc = &lt;C extends React.Component&lt;HocInnerProps&lt;P, A&gt;&gt;, A, P&gt;\n    (WrappedComponent: {new(props: HocInnerProps&lt;P, A&gt;, context?: any): C}) =&gt;\n{\n    const hoc = class WithActions extends React.Component&lt;HocProps&lt;C, A, P&gt;&gt;\n    {\n        onActionClickedListeners;  // dummy declaration\n\n        private onActionClicked = (action: A) =&gt;\n        {\n            this.onActionClickedListeners.forEach(listener =&gt; \n            {   listener(this.wrapped, action);});\n        }\n\n        private wrapped: C | null;\n\n        render()\n        {\n            // Workaround for https://github.com/Microsoft/TypeScript/issues/27484\n            let passthroughProps: Readonly&lt;P&gt; = this.props;\n            let innerProps: Readonly&lt;HocInnerProps&lt;P, A&gt;&gt; = Object.assign(\n                {} as {[hocInnerPropsMarker]?: undefined},\n                passthroughProps, {onActionClicked: this.onActionClicked});\n            return (\n                &lt;WrappedComponent ref={i =&gt; this.wrapped = i} {...innerProps} /&gt;\n            );\n        }\n    }\n\n    return hoc;\n}\n\ninterface DiagLoadingOwnProps {\n    title: string;\n    section: string;\n}\n\n// Comment out the `{[hocInnerPropsMarker]?: undefined} &amp;` in `HocInnerProps`\n// and uncomment the following two lines to see the inference mysteriously fail.\n\n//type Oops1&lt;T&gt; = DiagLoadingOwnProps &amp; InjectedProps&lt;string&gt;;\n//type Oops2 = Oops1&lt;number&gt;;\n\nclass DiagLoadingOrig extends React.Component&lt;\n    // I believe that the `A` type parameter is foiling the inference rule that\n    // throws out matching constituents from unions or intersections, so we are\n    // left to rely on the rule that matches up unions or intersections that are\n    // tagged as references to the same type alias.\n    HocInnerProps&lt;DiagLoadingOwnProps, string&gt;,\n    {}&gt; {}\nconst DialogLoading = hoc(DiagLoadingOrig);\n\nclass OtherComponent extends React.Component&lt;{}, {}&gt; {\n    onActionClickListener;\n    render() {\n        return &lt;DialogLoading onActionClickListener={this.onActionClickListener} title=\"Loading Data\" section=\"Connecting\" /&gt;;\n    }\n}\n</code></pre>\n\n<p>(Here I've also changed the type of <code>WrappedComponent</code> so that its instance type is <code>C</code> so that the assignment to <code>this.wrapped</code> type-checks.)</p>\n"}], "owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 52544150, "answer_count": 1, "score": 1, "last_activity_date": 1538445457, "creation_date": 1537991489, "question_id": 52525133, "link": "https://stackoverflow.com/questions/52525133/react-native-higher-order-component-with-ref-callback-in-typescript-throws-com", "title": "React Native - Higher Order Component with ref callback in TypeScript throws compile error", "body": "<h2>Intro</h2>\n\n<p>I am trying to create a <code>Higher Order Component</code> for a <code>Dialog</code> component in <code>React Native</code>. Sadly, I have some compile errors that I do not understand at all. I have followed <a href=\"https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb\" rel=\"nofollow noreferrer\">this tutorial</a> on <code>Higher Order Components</code> in <code>TypeScript</code>, but it does not show an example for getting <code>ref</code> to work.</p>\n\n<h2>Setup</h2>\n\n<p>I have a component called <code>DialogLoading</code>, and I export it through a <code>Higher Order Component</code>  called <code>withActions</code>. The <code>withActions</code>component defines two interfaces, to determine what props it injects and what additional props it takes in. In the following code, the type parameters <code>C</code>, <code>A</code> and <code>P</code> stand for <code>ComponentType</code>, <code>ActionType</code> and <code>PropType</code> respectively. </p>\n\n<p>The interfaces are:</p>\n\n<pre><code>interface InjectedProps&lt;A&gt; \n{   onActionClicked: (action: A) =&gt; void;}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>interface ExternalProps&lt;C, A&gt;\n{   onActionClickListener?: (component: C | null, action: A) =&gt; void;}\n</code></pre>\n\n<p>I also declare a type alias that denotes the final props type for the <code>HOC</code>. This type should have all the props of the wrapped component, all the props of the <code>ExternalProps&lt;C, A&gt;</code> interface, but not the props of the <code>InjectedProps&lt;A&gt;</code> interface. This is declared as follows:</p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype Subtract&lt;T, K&gt; = Omit&lt;T, keyof K&gt;;\n\ntype HocProps&lt;C, A, P extends InjectedProps&lt;A&gt;&gt; = Subtract&lt;P, InjectedProps&lt;A&gt;&gt; &amp; ExternalProps&lt;C, A&gt;;\n</code></pre>\n\n<p>The <code>Higher Order Component</code> is then declared as follows:</p>\n\n<pre><code>export default &lt;C, A, P extends InjectedProps&lt;A&gt;&gt; (WrappedComponent: React.ComponentType&lt;P&gt;) =&gt;\n{\n    const hoc = class WithActions extends React.Component&lt;HocProps&lt;C, A, P&gt;&gt;\n    {\n        ...Contents of class removed for breivity.\n\n        private onActionClicked = (action: A) =&gt;\n        {\n            this.onActionClickedListeners.forEach(listener =&gt; \n            {   listener(this.wrapped, action);});\n        }\n\n        private wrapped: C | null;\n\n        render()\n        {\n            return (\n                &lt;WrappedComponent ref={i =&gt; this.wrapped = i} onActionClicked={this.onActionClicked} {...this.props} /&gt;\n            );\n        }\n    }\n\n    return hoc;\n}\n</code></pre>\n\n<p>and can be used by:</p>\n\n<pre><code>&lt;DialogLoading onActionClickListener={this.onActionClickListener} title=\"Loading Data\" section=\"Connecting\" /&gt;;\n</code></pre>\n\n<h2>The Problem</h2>\n\n<p>On the ref callback inside the render function of the <code>HOC</code>, <code>TypeScript</code> gives me the following error messages:</p>\n\n<pre><code>[ts] Property 'ref' does not exist on type 'IntrinsicAttributes &amp; InjectedProps&lt;A&gt; &amp; { children?: ReactNode; }'.\n[ts] Type 'Component&lt;P, ComponentState, never&gt; | null' is not assignable to type 'C | null'.\n     Type 'Component&lt;P, ComponentState, never&gt;' is not assignable to type 'C'.\n</code></pre>\n\n<p>I suspect this is because the <code>WrappedComponent</code> that is passed in, is of type <code>React.ComponentType&lt;P&gt;</code>, which is a union type of <code>React.ComponentClass&lt;P&gt;</code> and <code>React.SFC&lt;P&gt;</code>. The error is thrown, because the stateless components in React do not accept a ref callback. A possible solution would then be to change it's type to be <strong>just</strong> <code>React.ComponentClass&lt;P&gt;</code>.</p>\n\n<p>This <em>kind of</em> fixes the problem, but strangely enough, a new error is now thrown on the <code>onActionClicked</code> prop of the wrapped component! The error is:</p>\n\n<pre><code>[ts] Type '(action: A) =&gt; void' is not assignable to type '(IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;P, ComponentState, never&gt;&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Readonly&lt;P&gt;)[\"onActionClicked\"]'.\nWithActions.tsx(7, 5): The expected type comes from property 'onActionClicked' which is declared here on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;P, ComponentState, never&gt;&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Readonly&lt;P&gt;'\n</code></pre>\n\n<p>This second error baffles me completely. What makes it <strong>even stranger</strong> is that when I adjust the type alias for the <code>HocProps</code> to the following (i.e. I no longer Subtract <code>InjectedProps&lt;A&gt;</code> from <code>P</code>):</p>\n\n<pre><code>type HocProps&lt;C, A, P extends InjectedProps&lt;A&gt;&gt; = P &amp; ExternalProps&lt;C, A&gt;;\n</code></pre>\n\n<p>The error on <code>onActionClicked</code> is removed! This seems strange to me, because the type definition of <code>HocProps</code> has nothing to do with the prop type of the wrapped component! This \"solution\", however, is undesirable to me, because now the <code>InjectedProps&lt;A&gt;</code> are injectable by the user of the <code>HOC</code> as well.</p>\n\n<h2>The Question</h2>\n\n<p>So where am I going wrong here? </p>\n\n<ul>\n<li><p>Am I correct in assuming the ref callback did not work because the <code>Wrapped Component</code> type was <code>React.ComponentType&lt;P&gt;</code> instead of <code>React.ComponentClass&lt;P&gt;</code>?</p></li>\n<li><p>Why does changing the <code>Wrapped Component</code> type to <code>React.ComponentClass&lt;P&gt;</code> result in a compile error on the <code>onActionClicked</code> prop of the <code>Wrapped Component</code>?</p></li>\n<li><p>Why does changing the type alias for <code>HocProps</code> remove said error on the <code>onActionClicked</code> prop? Aren't they completely unrelated?</p></li>\n<li><p>Is the <code>Subtract</code> functionality I've cooked up correct? Is that where the errors are coming from?</p></li>\n</ul>\n\n<p>Any help would be greatly appreciated, so thanks in advance!</p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "stackblitz"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "is_accepted": true, "score": 2, "last_activity_date": 1537992354, "creation_date": 1537992354, "answer_id": 52525316, "question_id": 52525096, "link": "https://stackoverflow.com/questions/52525096/replaysubject-behaves-different-on-angular-stackblitz-than-on-typescript-stackbl/52525316#52525316", "title": "ReplaySubject behaves different on Angular Stackblitz than on Typescript Stackblitz?", "body": "<p>You are subscribing in <code>addTodo</code> method. Every time it just adds a new listener. You should subscribe here only once in constructor or init</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52525316, "answer_count": 1, "score": -1, "last_activity_date": 1537992354, "creation_date": 1537991282, "last_edit_date": 1537991766, "question_id": 52525096, "link": "https://stackoverflow.com/questions/52525096/replaysubject-behaves-different-on-angular-stackblitz-than-on-typescript-stackbl", "title": "ReplaySubject behaves different on Angular Stackblitz than on Typescript Stackblitz?", "body": "<p>I'm developing <a href=\"https://github.com/fireflysemantics/slice\" rel=\"nofollow noreferrer\">this library</a> and when I test it on <a href=\"https://stackblitz.com/edit/slice-test?file=index.ts\" rel=\"nofollow noreferrer\">Stackblitz using pure typescript</a> it works fine.  In the linked demo, if you look at the console log, there's one logging statement generated for each post to the store.</p>\n\n<p>I'm also testing the same thing out in a mini Todo app with Angular, and each time the user enters a new Todo title, the console logs the number of entries in the store.  In other words if there are 10 entries in the store, the array of entries will be logged 10 times, instead of just once.  </p>\n\n<p>I'm trying to figure out if there's something wrong with my App / library or if it's something wrong with Stackblitz ....</p>\n\n<p>This is the Stackblits app:\n<a href=\"https://stackblitz.com/edit/slice-todo?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/slice-todo?file=src%2Fapp%2Fapp.component.ts</a></p>\n\n<p>Thoughts?  </p>\n"}, {"tags": ["typescript", "group-by", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "is_accepted": false, "score": 0, "last_activity_date": 1537993144, "creation_date": 1537993144, "answer_id": 52525496, "question_id": 52525046, "link": "https://stackoverflow.com/questions/52525046/how-to-transform-an-array-into-matrix-by-grouping-in-typescript/52525496#52525496", "title": "How to transform an array into matrix by grouping in typescript", "body": "<p>It's a basic function, most utility libs have. <a href=\"https://github.com/TylorS/typed/tree/master/packages/list#groupbykeys-extends-string-af-arity1a-keys-list-lista-readonlyrecordkeys-lista\" rel=\"nofollow noreferrer\">Here</a> is an example of it, it's very small and modular, properly typed and shows source.</p>\n"}], "owner": {"reputation": 297, "user_id": 1083238, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/abc83674d975d2a8f32e201ea613e485?s=128&d=identicon&r=PG", "display_name": "Jimmy.Bystrom", "link": "https://stackoverflow.com/users/1083238/jimmy-bystrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537993144, "creation_date": 1537991029, "question_id": 52525046, "link": "https://stackoverflow.com/questions/52525046/how-to-transform-an-array-into-matrix-by-grouping-in-typescript", "title": "How to transform an array into matrix by grouping in typescript", "body": "<p>How can I transform the following array or objects into a new array or objects where each key element has the key element from the grouping and a inner collection witht the elements from the grouping.</p>\n\n<p>i.e I want to turn this array</p>\n\n<pre><code>[\n { \"type\": \"1\", \"name\": \"a\", \"age\": \"10\" },\n { \"type\": \"1\", \"name\": \"b\", \"age\": \"11\" },\n { \"type\": \"2\", \"name\": \"c\", \"age\": \"12\" }\n]\n</code></pre>\n\n<p>into</p>\n\n<pre><code>[\n { \"key\": \"1\", \"elements\": [{\"name\": \"a\", \"age\": \"10\"},\n                         {\"name\": \"b\", \"age\": \"11\"}]},\n { \"key\": \"2\", \"elements\": [{\"name\": \"c\", \"age\": \"12\"}]}\n]\n</code></pre>\n\n<p>Is this possible and if so how?</p>\n\n<p>I also want to bind this new object twice to to an *ngFor so the inner element needs to be an array or can I do that in some other way?</p>\n"}, {"tags": ["typescript", "indexeddb", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 796, "user_id": 959847, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/40d3fdc131dbfeae3a893a354bcbcf67?s=128&d=identicon&r=PG", "display_name": "euclio", "link": "https://stackoverflow.com/users/959847/euclio"}, "is_accepted": true, "score": 3, "last_activity_date": 1537994706, "creation_date": 1537994706, "answer_id": 52525812, "question_id": 52524921, "link": "https://stackoverflow.com/questions/52524921/property-value-does-not-exist-on-type-idbcursor/52525812#52525812", "title": "Property &#39;value&#39; does not exist on type &#39;IDBCursor&#39;", "body": "<p>The <code>IDBCursor</code> interface does not have a <code>value</code> property. You should use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/IDBCursorWithValue\" rel=\"nofollow noreferrer\"><code>IDBCursorWithValue</code> interface</a>, which inherits from <code>IDBCursor</code>.</p>\n\n<p>This code compiles without error:</p>\n\n<pre><code>let cursor: IDBCursorWithValue;\ncursor.value;\n</code></pre>\n"}], "owner": {"reputation": 2272, "user_id": 1097618, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JWdkz.jpg?s=128&g=1", "display_name": "pouya", "link": "https://stackoverflow.com/users/1097618/pouya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 52525812, "answer_count": 1, "score": 1, "last_activity_date": 1537994706, "creation_date": 1537990504, "question_id": 52524921, "link": "https://stackoverflow.com/questions/52524921/property-value-does-not-exist-on-type-idbcursor", "title": "Property &#39;value&#39; does not exist on type &#39;IDBCursor&#39;", "body": "<p>Seems that typescirpt typings doesn't know about <code>value</code> property on <code>IDBCursor</code> interface.</p>\n\n<pre><code>let cursor: IDBCursor;\ncursor.value\n</code></pre>\n"}, {"tags": ["typescript", "unit-testing", "mocha.js", "jestjs"], "comments": [{"owner": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "edited": false, "score": 0, "creation_date": 1537989961, "post_id": 52524764, "comment_id": 91989265, "body": "It&#39;s likely that the error is in your test file, not in <code>Foo</code> or <code>myHelperFunction</code>. Node simply cannot use import. You need to either transpile everything to ES5, or use <a href=\"http://jamesknelson.com/testing-in-es6-with-mocha-and-babel-6/\" rel=\"nofollow noreferrer\">babel loader</a>, or <a href=\"https://stackoverflow.com/questions/45854169/how-can-i-use-an-es6-import-in-node\">enable experimental import support</a>."}, {"owner": {"reputation": 1448, "user_id": 4509338, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UdgWd.jpg?s=128&g=1", "display_name": "mkkekkonen", "link": "https://stackoverflow.com/users/4509338/mkkekkonen"}, "reply_to_user": {"reputation": 8361, "user_id": 439026, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb050c54b891309ffdd14a0e1fdd5e66?s=128&d=identicon&r=PG", "display_name": "zeh", "link": "https://stackoverflow.com/users/439026/zeh"}, "edited": false, "score": 0, "creation_date": 1537991970, "post_id": 52524764, "comment_id": 91990176, "body": "@zeh How would I do that? My test command now looks like this: <code>&quot;test&quot;: &quot;mocha --require babel-register src&#47;**&#47;test.ts&quot;</code> ...but I still get the same error, i.e.: <code>&#47;home&#47;maija&#47;ionic&#47;mobiilikasvio2&#47;node_modules&#47;@ionic-native&#47;&zwnj;&#8203;sqlite&#47;index.js:20 import { Injectable } from &#39;@angular&#47;core&#39;; ^^^^^^ SyntaxError: Unexpected token import</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1448, "user_id": 4509338, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UdgWd.jpg?s=128&g=1", "display_name": "mkkekkonen", "link": "https://stackoverflow.com/users/4509338/mkkekkonen"}, "is_accepted": false, "score": 0, "last_activity_date": 1538072037, "last_edit_date": 1538072037, "creation_date": 1537994385, "answer_id": 52525740, "question_id": 52524764, "link": "https://stackoverflow.com/questions/52524764/jest-mocha-typescript-jest-mocha-tries-to-read-js-dependencies-and-fails-u/52525740#52525740", "title": "Jest/Mocha + TypeScript: Jest/Mocha tries to read JS dependencies and fails - &quot;unexpected token import&quot;", "body": "<p>Problem solved, I switched to Jest.</p>\n\n<p>Actually I had some problems with it as well. The issue was that JavaScript files in node_modules weren't transpiled. The working configuration is below.</p>\n\n<p><strong>package.json</strong></p>\n\n<pre><code>{\n  \"name\": \"myApp\",\n  \"version\": \"0.0.1\",\n  \"author\": \"Ionic Framework\",\n  \"homepage\": \"http://ionicframework.com/\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"ionic-app-scripts serve\",\n    \"clean\": \"ionic-app-scripts clean\",\n    \"build\": \"ionic-app-scripts build\",\n    \"lint\": \"ionic-app-scripts lint\",\n    \"test\": \"jest\"\n  },\n  \"dependencies\": {\n    \"@angular/animations\": \"5.2.11\",\n    \"@angular/common\": \"5.2.11\",\n    \"@angular/compiler\": \"5.2.11\",\n    \"@angular/compiler-cli\": \"5.2.11\",\n    \"@angular/core\": \"5.2.11\",\n    \"@angular/forms\": \"5.2.11\",\n    \"@angular/http\": \"5.2.11\",\n    \"@angular/platform-browser\": \"5.2.11\",\n    \"@angular/platform-browser-dynamic\": \"5.2.11\",\n    \"@ionic-native/core\": \"~4.12.0\",\n    \"@ionic-native/splash-screen\": \"~4.12.0\",\n    \"@ionic-native/sqlite\": \"^4.15.0\",\n    \"@ionic-native/status-bar\": \"~4.12.0\",\n    \"@ionic/storage\": \"2.2.0\",\n    \"cordova-sqlite-storage\": \"^2.4.0\",\n    \"ionic-angular\": \"3.9.2\",\n    \"ionicons\": \"3.0.0\",\n    \"moment\": \"^2.22.2\",\n    \"rxjs\": \"5.5.11\",\n    \"sw-toolbox\": \"3.6.0\",\n    \"zone.js\": \"0.8.26\"\n  },\n  \"devDependencies\": {\n    \"@babel/core\": \"^7.1.0\",\n    \"@babel/preset-env\": \"^7.1.0\",\n    \"@ionic/app-scripts\": \"3.2.0\",\n    \"@types/jest\": \"^23.3.2\",\n    \"babel-core\": \"^7.0.0-bridge.0\",\n    \"babel-jest\": \"^23.6.0\",\n    \"jest\": \"^23.6.0\",\n    \"regenerator-runtime\": \"^0.12.1\",\n    \"ts-jest\": \"^23.10.2\",\n    \"typescript\": \"~2.6.2\"\n  },\n  \"description\": \"An Ionic project\",\n  \"cordova\": {\n    \"plugins\": {\n      \"cordova-sqlite-storage\": {}\n    }\n  }\n}\n</code></pre>\n\n<p><strong>babel.config.js</strong></p>\n\n<pre><code>'use strict';\n\nmodule.exports = {\n    presets: ['@babel/preset-env'],\n}\n</code></pre>\n\n<p><strong>jest.config.js</strong></p>\n\n<pre><code>module.exports = {\n  \"roots\": [\n    \"&lt;rootDir&gt;/src\"\n  ],\n  \"transform\": {\n    \"^.+\\\\.tsx?$\": \"ts-jest\",\n    \"^.+\\\\.js?$\": \"babel-jest\" // had to add this\n  },\n  \"testRegex\": \"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.tsx?$\",\n  \"moduleFileExtensions\": [\n    \"ts\",\n    \"tsx\",\n    \"js\",\n    \"jsx\",\n    \"json\",\n    \"node\"\n  ],\n  \"moduleDirectories\": [\n    \"node_modules\",\n    \"src\"\n  ],\n  \"transformIgnorePatterns\": [\n    \"node_modules/(?!(@ionic-native)/)\" // had to add this\n  ]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 479, "user_id": 6892466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47e1040da114ac4f2336475ac969bc9a?s=128&d=identicon&r=PG&f=1", "display_name": "mneumann", "link": "https://stackoverflow.com/users/6892466/mneumann"}, "edited": false, "score": 0, "creation_date": 1586469554, "post_id": 52525839, "comment_id": 108147703, "body": "You might have to install <a href=\"https://github.com/TypeStrong/ts-node\" rel=\"nofollow noreferrer\">ts-node</a> if you haven&#39;t already, that was the case for me."}], "tags": [], "owner": {"reputation": 34684, "user_id": 786718, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/50f15940066e1e6389a6c8bef60820fa?s=128&d=identicon&r=PG", "display_name": "DeeV", "link": "https://stackoverflow.com/users/786718/deev"}, "is_accepted": false, "score": 2, "last_activity_date": 1537994888, "creation_date": 1537994888, "answer_id": 52525839, "question_id": 52524764, "link": "https://stackoverflow.com/questions/52524764/jest-mocha-typescript-jest-mocha-tries-to-read-js-dependencies-and-fails-u/52525839#52525839", "title": "Jest/Mocha + TypeScript: Jest/Mocha tries to read JS dependencies and fails - &quot;unexpected token import&quot;", "body": "<p>To answer the original question, try <code>mocha -r ts-node/register src/**/test.ts</code>.  Mocha won't run TS files right off the bat. You have to use <code>ts-node/register</code> to run them as TS files. </p>\n"}], "owner": {"reputation": 1448, "user_id": 4509338, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/UdgWd.jpg?s=128&g=1", "display_name": "mkkekkonen", "link": "https://stackoverflow.com/users/4509338/mkkekkonen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538072599, "creation_date": 1537989679, "last_edit_date": 1538072599, "question_id": 52524764, "link": "https://stackoverflow.com/questions/52524764/jest-mocha-typescript-jest-mocha-tries-to-read-js-dependencies-and-fails-u", "title": "Jest/Mocha + TypeScript: Jest/Mocha tries to read JS dependencies and fails - &quot;unexpected token import&quot;", "body": "<p>So, I'm testing a TypeScript file with Mocha, I access a dependency in the file via <code>import</code>, and the function to test is in the same file, like below:</p>\n\n<pre><code>import { Foo } from 'foo-library';\n\n// I'm trying to test this\nexport const myHelperFunction = (a, b) =&gt; {\n  return a + b;\n  // Foo not used\n};\n\nexport class BigClass {\n  public doStuff() {\n    // uses Foo\n  }\n}\n</code></pre>\n\n<p>Then I have my test file:</p>\n\n<pre><code>import { myHelperFunction } from './my-file';\n\nit('does the right thing', () =&gt; {\n    expect(myHelperFunction(2, 3)).to.equal(5);\n});\n</code></pre>\n\n<p>Now, Mocha tries to parse <code>foo-library</code> contents while attempting to execute tests, and throws an error that says \"unexpected token import\", even though the import is not used in <code>myHelperFunction</code>. The file is in ES6 format and Mocha/Node is unable to parse it correctly.</p>\n\n<p>Should the dependency files be transpiled to ES5 somehow? Is it possible to skip the imports altogether while testing? I have tried to mock the imports with several libraries (Sinon etc.) and that hasn't worked either.</p>\n\n<p>I'd greatly appreciate any ideas.</p>\n"}, {"tags": ["typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1537989969, "post_id": 52524210, "comment_id": 91989267, "body": "You have to build the .js file, by pressing CMD/CTRL + Shift + B"}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1537990613, "post_id": 52524210, "comment_id": 91989559, "body": "Ah thank you,now i get <code>tsc: command not found</code> do i have to <code>npm i -g tsc</code>?"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1537996207, "post_id": 52524210, "comment_id": 91991961, "body": "you have to install typescript <code>npm install -g typescript</code>"}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 1, "creation_date": 1537998306, "post_id": 52524210, "comment_id": 91992661, "body": "Oh thank you so much it works!!"}], "owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1537987201, "creation_date": 1537987201, "question_id": 52524210, "link": "https://stackoverflow.com/questions/52524210/quick-debugging-typescript-in-vscode", "title": "Quick debugging typescript in vscode", "body": "<p>I can quick debug javascript in vscode by creating a file and the saving that file as <code>.js</code> and then hitting <code>F5</code>.</p>\n\n<p>However if I make the file <code>.ts</code> it is showing me dialog:</p>\n\n<blockquote>\n  <p>Cannot launch program '/Users/noit/Desktop/debugts/index.ts' because corresponding JavaScript cannot be found.</p>\n</blockquote>\n\n<p>Is there a way to quick debug typescript? Or do I have to setup a tsconfig.json or something?</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1605, "user_id": 5794430, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/l1xfc.jpg?s=128&g=1", "display_name": "Spencer Bigum", "link": "https://stackoverflow.com/users/5794430/spencer-bigum"}, "edited": false, "score": 1, "creation_date": 1537989525, "post_id": 52524308, "comment_id": 91989058, "body": "Thank you so much for explaining this. It all makes sense, however I still get the error that props does not exist on type ReactChild. Property does not exist on type string"}], "tags": [], "owner": {"reputation": 5535, "user_id": 9200817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91bdda21dbfbeabc9496aadb2d42d670?s=128&d=identicon&r=PG&f=1", "display_name": "casieber", "link": "https://stackoverflow.com/users/9200817/casieber"}, "is_accepted": false, "score": 6, "last_activity_date": 1537987798, "creation_date": 1537987798, "answer_id": 52524308, "question_id": 52524093, "link": "https://stackoverflow.com/questions/52524093/react-children-toarray-cant-find-props-on-children-using-typescript/52524308#52524308", "title": "React.Children.toArray can&#39;t find props on children using typescript", "body": "<p>Typescript is doing the right thing here. Take a look at the typings definition for ReactChild:</p>\n\n<pre><code>type ReactChild = ReactElement&lt;any&gt; | ReactText;\n</code></pre>\n\n<p>where <code>ReactText</code> is typed as <code>string | number</code>.</p>\n\n<p>By saying <code>const items: ReactChild[]</code> you are telling TypeScript that <code>items</code> is an array that has elements that are possibly strings. Obviously, a string does not have <code>props</code> as a property, and so it is complaining, rightly so, when you try and use <code>props</code>.</p>\n\n<p>If you are certain that your component's children will only ever be true elements containing the prop types you are looking for, then you can type the output as <code>ReactElement&lt;P&gt;</code> where <code>P</code> is the prop types you expect. However, doing so is essentially casting something that you haven't guaranteed. A better way might be to allow TypeScript type inference to come into play through somethign like the following:</p>\n\n<pre><code>const items = React.Children.toArray(this.props.children); // Will be ReactChild[]\n\nconst item = items[0];\nif (typeof item === 'string' || typeof item === 'number') {\n    console.error('Expecting component children to be of type ...');\n} else {\n    // At this point, TypeScript will know that item must be of type ReactElement\n    // since you have already taken care of the number and string case\n    const itemPaymentType = item.props['data-payment'];\n    // ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1605, "user_id": 5794430, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/l1xfc.jpg?s=128&g=1", "display_name": "Spencer Bigum", "link": "https://stackoverflow.com/users/5794430/spencer-bigum"}, "edited": false, "score": 0, "creation_date": 1537989954, "post_id": 52524445, "comment_id": 91989258, "body": "Perfect! Thank you so much. Very Helpful as well!"}, {"owner": {"reputation": 5414, "user_id": 1075534, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dAIQE.jpg?s=128&g=1", "display_name": "Savas Vedova", "link": "https://stackoverflow.com/users/1075534/savas-vedova"}, "edited": false, "score": 0, "creation_date": 1609016788, "post_id": 52524445, "comment_id": 115731767, "body": "I&#39;d say this is the correct answer, thanks a lot!"}], "tags": [], "owner": {"reputation": 1516, "user_id": 4543016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e822bbc793c234750d5c9b782f8f234e?s=128&d=identicon&r=PG&f=1", "display_name": "Uzi", "link": "https://stackoverflow.com/users/4543016/uzi"}, "is_accepted": false, "score": 10, "last_activity_date": 1537988415, "creation_date": 1537988415, "answer_id": 52524445, "question_id": 52524093, "link": "https://stackoverflow.com/questions/52524093/react-children-toarray-cant-find-props-on-children-using-typescript/52524445#52524445", "title": "React.Children.toArray can&#39;t find props on children using typescript", "body": "<p>casieber answer is correct. </p>\n\n<p>but in order to access your props with typescript, this is needed: </p>\n\n<pre><code>const item = items[0];\nif (React.isValidElement&lt;{prop1: boolean}&gt;(item)) {\n\n    // item.props.prop1 -- works\n}\n</code></pre>\n"}], "owner": {"reputation": 1605, "user_id": 5794430, "user_type": "registered", "accept_rate": 26, "profile_image": "https://i.stack.imgur.com/l1xfc.jpg?s=128&g=1", "display_name": "Spencer Bigum", "link": "https://stackoverflow.com/users/5794430/spencer-bigum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1980, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1537988415, "creation_date": 1537986654, "question_id": 52524093, "link": "https://stackoverflow.com/questions/52524093/react-children-toarray-cant-find-props-on-children-using-typescript", "title": "React.Children.toArray can&#39;t find props on children using typescript", "body": "<p>Typescript can't detect props object on children using React.Children.toArray\nI have to use any[] because if I use ReactChild[] - props is not detected on an array item. How do I correctly type this out?\nThanks!</p>\n\n<pre><code>const items: any[] = React.Children.toArray(this.props.children)\n\n// select whatever item was told to be onload first\nconst itemPaymentType = items[0].props['data-payment']\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/47TBV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47TBV.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "edited": false, "score": 1, "creation_date": 1538028909, "post_id": 52525625, "comment_id": 92000359, "body": "When using this, this first input is focused but when a new input is added, it doesn&#39;t changing the focus."}], "tags": [], "owner": {"reputation": 1509, "user_id": 4756279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ryRis.jpg?s=128&g=1", "display_name": "Peter Kim", "link": "https://stackoverflow.com/users/4756279/peter-kim"}, "is_accepted": false, "score": 1, "last_activity_date": 1538074139, "last_edit_date": 1538074139, "creation_date": 1537993809, "answer_id": 52525625, "question_id": 52523909, "link": "https://stackoverflow.com/questions/52523909/angular-change-focus-on-enter-in-reactive-forms/52525625#52525625", "title": "Angular change focus on enter in reactive forms", "body": "<p>You can use <code>ViewChildren</code>.</p>\n\n<pre><code>private inputToFocus: any;\n@ViewChildren('inputToFocus') set inputF(inputF: any) {\n  this.inputToFocus = inputF\n  this.inputToFocus.first.nativeElement.focus();\n}\n</code></pre>\n\n<p>Add <code>#inputToFocus</code> in your <code>input</code> tag. <code>&lt;input ... #inputToFocus&gt;</code></p>\n\n<h2>Edit</h2>\n\n<p>I don't know how you're adding a new input, but you can use the following code.</p>\n\n<p>.ts:</p>\n\n<pre><code>import { Component, ViewChildren } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: [ './app.component.css' ]\n})\nexport class AppComponent  {\n  name = 'Angular 6';\n  counts = [1];\n  private inputToFocus: any;\n  @ViewChildren('inputToFocus') set inputF(inputF: any) {\n    this.inputToFocus = inputF\n    this.inputToFocus.last.nativeElement.focus();\n  }\n\n  autoProduct(event) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      const inputs =\n        Array.prototype.slice.call(document.querySelectorAll('input'));\n      const index =\n        (inputs.indexOf(document.activeElement) + 1) % inputs.length;\n      this.addProduct(index);\n      const input = inputs[index];\n      input.focus();\n      input.select();\n    }\n  }\n  addProduct(i) {\n     this.counts.push(i)\n  }\n}\n</code></pre>\n\n<p>.html:</p>\n\n<pre><code>&lt;div *ngFor=\"let count of counts; let i=index\"&gt;\n  &lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Code\" tabindex=\"{{i+1}}\" (keyup.enter)=\"autoProduct($event)\" #inputToFocus&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Note that I'm using <code>.last</code> now.</p>\n"}, {"tags": [], "owner": {"reputation": 1312, "user_id": 1033326, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/544e259be531876393970779b7c25f28?s=128&d=identicon&r=PG", "display_name": "sancelot", "link": "https://stackoverflow.com/users/1033326/sancelot"}, "is_accepted": false, "score": 0, "last_activity_date": 1538401651, "last_edit_date": 1538401651, "creation_date": 1538401330, "answer_id": 52592486, "question_id": 52523909, "link": "https://stackoverflow.com/questions/52523909/angular-change-focus-on-enter-in-reactive-forms/52592486#52592486", "title": "Angular change focus on enter in reactive forms", "body": "<p>I am providing this sample code , that will permit you to take control over focus in a form.This sample code will focus next field each time you press enter or arrow Down key. It is up to you to customise it to your needs.\nThis sample code shows it works with bootstrap too .</p>\n\n<p>basically,any input fields are recorded in a table. Then, it is up to you to enable focus on which one you want.\nif you dynamically add an input field, the table will be updated.</p>\n\n<p>I have not found better way with angular.</p>\n\n<p>editor.component.html</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div &gt;\r\n&lt;form&gt;\r\n&lt;!-- container-fluid prend toute la largeur de la vue --&gt;\r\n&lt;div class=\"container-fluid\" *ngFor=\"let item of data; let i = index\"  &gt;\r\n  &lt;div class=\"form-group\"&gt;\r\n  &lt;div class=\"row\"&gt;\r\n  &lt;div class=\"col-md-3\"&gt;{{item.designation}}&lt;/div&gt; \r\n  &lt;div class=\"col-md-2\"&gt;{{item.type}} &lt;/div&gt;\r\n  \r\n  &lt;div *ngIf=\"item.type == 'float'\"class=\"col-md-2\"&gt;{{item.value  | number : '1.1-3'}} &lt;/div&gt;\r\n  &lt;div *ngIf=\"item.type == 'int'\"class=\"col-md-2\"&gt;{{item.value  | number }} &lt;/div&gt;\r\n\r\n&lt;div class=\"col-md-2\"&gt;\r\n&lt;input #input  type=\"number\"   class=\"form-control\" (keydown)=\"onKeydown($event,i)\"&gt;\r\n&lt;/div&gt;\r\n\r\n  &lt;div class=\"col-md-3\"&gt;{{item.commentaire}}  &lt;/div&gt;\r\n  &lt;/div&gt; &lt;!-- row --&gt;\r\n&lt;/div&gt; &lt;!-- form group --&gt;\r\n&lt;/div&gt; &lt;!--container-fluid--&gt;\r\n\r\n&lt;/form&gt;\r\n&lt;/div&gt; &lt;!--form--&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>editor.component.ts :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\r\nimport { ViewChildren, QueryList } from '@angular/core';\r\n@Component({\r\n  selector: 'app-editor',\r\n  templateUrl: './editor.component.html',\r\n  styleUrls: ['./editor.component.css']\r\n})\r\n\r\n\r\nexport class EditorComponent implements AfterViewInit {\r\n\r\n// Viewchildren\r\n// https://netbasal.com/understanding-viewchildren-contentchildren-and-querylist-in-angular-896b0c689f6e\r\n\r\n@ViewChildren(\"input\") inputs: QueryList&lt;any&gt;\r\n\r\nconstructor() { \r\n\t}\r\n\r\n\r\nprivate onKeydown(event,val)\r\n{\r\nconsole.log(event.key);\r\nif ((event.key == \"Enter\")  || (event.key == \"ArrowDown\"))\r\n{\r\n// focus next input field\r\nif (val +1 &lt; this.inputs.toArray().length)\r\n   this.inputs.toArray()[val+1].nativeElement.focus();\r\nelse this.inputs.toArray()[0].nativeElement.focus();\r\n}\r\n}\r\n\r\n\r\nprivate processChildren(): void {\r\n  console.log('Processing children. Their count:', this.inputs.toArray().length)\r\n}\r\n\r\n  ngAfterViewInit() {\r\n    console.log(\"AfterViewInit\");\r\n    console.log(this.inputs);\r\n    this.inputs.forEach(input =&gt; console.log(input));\r\n\r\n    // susbcribe to inputs changes, each time an element is added (very optional feature ...)\r\n    this.inputs.changes.subscribe(_ =&gt; \r\n      this.processChildren() // subsequent calls to processChildren\r\n  );\r\n}\r\n\r\n\r\n \r\n    \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 402, "user_id": 3504273, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wv8nP.jpg?s=128&g=1", "display_name": "Isurendrasingh", "link": "https://stackoverflow.com/users/3504273/isurendrasingh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2842, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1538401651, "creation_date": 1537985800, "question_id": 52523909, "link": "https://stackoverflow.com/questions/52523909/angular-change-focus-on-enter-in-reactive-forms", "title": "Angular change focus on enter in reactive forms", "body": "<p>I have created a table and a button which creates dynamic rows inside the table with inputs. When i press enter in the first input i want to create new row (which i have done) but not able to focus in the new input. Here is what I've tried</p>\n\n<pre><code>&lt;input type=\"text\" class=\"form-control\" placeholder=\"Product Code\" formControlName=\"product_code\" tabindex=\"{{i+1}}\" (keyup.enter)=\"autoProduct($event)\"&gt;\n</code></pre>\n\n<p>.ts code:</p>\n\n<pre><code>autoProduct(event) {\n    this.addProduct();\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      const inputs =\n        Array.prototype.slice.call(document.querySelectorAll('input'));\n      console.log(inputs);\n      const index =\n        (inputs.indexOf(document.activeElement) + 1) % inputs.length;\n      console.log(index);\n      const input = inputs[index];\n      console.log(input);\n      input.focus();\n      input.select();\n    }\n  }\n</code></pre>\n\n<p>I've tried <a href=\"https://stackoverflow.com/questions/31582113/how-can-i-set-focus-to-another-input\">this</a> and also <a href=\"https://stackoverflow.com/questions/24209588/how-to-move-focus-on-next-field-when-enter-is-pressed\">this</a> but not able to make it work. Please help.</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "ts-loader"], "comments": [{"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "edited": false, "score": 0, "creation_date": 1537992011, "post_id": 52523637, "comment_id": 91990194, "body": "Please provide your Webpack config file."}, {"owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "reply_to_user": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "edited": false, "score": 0, "creation_date": 1538047416, "post_id": 52523637, "comment_id": 92010971, "body": "whatelse do you need on my webpack config? there is already the needed piece (i.e: ts loader) there."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538093867, "post_id": 52523637, "comment_id": 92032994, "body": "Make a minimal test case and file an issue against ts-loader?"}, {"owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "edited": false, "score": 0, "creation_date": 1538095515, "post_id": 52523637, "comment_id": 92033254, "body": "i&#39;ll do that as soon as possible"}, {"owner": {"reputation": 4599, "user_id": 8330162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cDyyg.jpg?s=128&g=1", "display_name": "B--rian", "link": "https://stackoverflow.com/users/8330162/b-rian"}, "edited": false, "score": 0, "creation_date": 1568809370, "post_id": 52523637, "comment_id": 102392215, "body": "@PlayMa256 How did you resolve the issue?"}], "owner": {"reputation": 5668, "user_id": 2548746, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0ccce8d8768f2a8173e18c5f1ea329c5?s=128&d=identicon&r=PG", "display_name": "PlayMa256", "link": "https://stackoverflow.com/users/2548746/playma256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 956, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538007182, "creation_date": 1537984710, "last_edit_date": 1538007182, "question_id": 52523637, "link": "https://stackoverflow.com/questions/52523637/react-hot-reload-with-typescript", "title": "React-hot-reload with typescript", "body": "<p>I'm trying to add hot-reload with typescript on a codebase that is 90% <code>tsx</code>. For that, i'm following <a href=\"https://github.com/TypeStrong/ts-loader/tree/master/examples/react-hot-boilerplate\" rel=\"nofollow noreferrer\">https://github.com/TypeStrong/ts-loader/tree/master/examples/react-hot-boilerplate</a>.</p>\n\n<p>I've added </p>\n\n<pre><code> use: [\n          { loader: 'ts-loader', options: { happyPackMode: true } }\n],\n</code></pre>\n\n<p>So i started to get weird compilation errors:</p>\n\n<blockquote>\n  <p>ERROR in ./client/main.tsx // &lt;-- my entrypoint</p>\n  \n  <p>Module build failed\n  (from ./node_modules/ts-loader/index.js): TypeError: Cannot read\n  property 'getEmitOutput' of undefined\n      at Object.getEmitOutput (....../node_modules/ts-loader/dist/instances.js:190:41)</p>\n</blockquote>\n\n<p>No idea why... On my dependency tree, there are tsx, ts and also js files. Without these options, ts-loader compiles successfully.</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"allowJs\": true,\n        \"checkJs\": false,\n        \"allowSyntheticDefaultImports\": true,\n        \"esModuleInterop\": true,\n        \"target\": \"es5\",\n        \"jsx\": \"react\",\n        \"lib\": [\n            \"es2015\",\n            \"es2016\",\n            \"es2017\",\n            \"dom\",\n            \"es7\"\n        ],\n        \"downlevelIteration\": true,\n        \"typeRoots\": [\n            \"./@types\"\n        ],\n        \"sourceMap\": true,\n        \"noUnusedLocals\": true,\n        \"noUnusedParameters\": true\n    },\n    \"include\": [\n        \"./client/**/*\",\n        \"./@types/**/*\"\n    ],\n    \"exclude\": [\n        \".svn\"\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 0, "last_activity_date": 1538006482, "creation_date": 1538006482, "answer_id": 52527569, "question_id": 52523547, "link": "https://stackoverflow.com/questions/52523547/modify-a-typescript-type-alias-from-types-type/52527569#52527569", "title": "Modify a TypeScript type alias from @types type", "body": "<p>You can't overwrite a type alias using an augmentation.  Your only other option would be to fork the <code>@types/json-schema</code> package in your project; see <a href=\"https://stackoverflow.com/a/52503107\">this answer</a> for the possible ways of doing that.</p>\n"}], "owner": {"reputation": 2326, "user_id": 925782, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9c7511f7066d571cc62d19475eda6a18?s=128&d=identicon&r=PG", "display_name": "Mitchell Simoens", "link": "https://stackoverflow.com/users/925782/mitchell-simoens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 563, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538006482, "creation_date": 1537984352, "last_edit_date": 1537984748, "question_id": 52523547, "link": "https://stackoverflow.com/questions/52523547/modify-a-typescript-type-alias-from-types-type", "title": "Modify a TypeScript type alias from @types type", "body": "<p>Using Typescript 3, I'm using a definition from DefinitelyTyped but I need to edit a type alias. I am using @types/json-schema for the TS definitions which is easy to use. But since I want to add a custom schema type, when I have a type that isn't one of the defined types it will obviously complain. For example, I have this schema:</p>\n\n<pre><code>{\n    properties: {\n        foo: { type: 'myCustomFormat' }\n    },\n    required: [\n        'foo'\n    ],\n    type: 'object'\n}\n</code></pre>\n\n<p>And of course <code>myCustomFormat</code> is not a valid json schema type. @types/json-schema defines these types via:</p>\n\n<pre><code>export type JSONSchema4TypeName = 'string' | 'number' | 'integer' | 'boolean' | 'object' | 'array' | 'null' | 'any'\n</code></pre>\n\n<p>Is there a way to modify that type alias in my own type definition and have all uses of <code>JSONSchema4TypeName</code> updated since @types/json-schema obviously uses <code>JSONSchema4TypeName</code> further in it's definition? So like I'd like to do:</p>\n\n<pre><code>import { JSONSchema4TypeName } from 'json-schema';\n\nexport type JSONSchema4TypeName = JSONSchema4TypeName | 'myCustomFormat';\n</code></pre>\n\n<p>The closest I'm able to do is this:</p>\n\n<pre><code>import { JSONSchema4, JSONSchema4TypeName } from 'json-schema';\n\nexport type JSONSchema4TypeName = JSONSchema4TypeName | 'uuid';\n\nexport interface JSONSchema4 {\n    type?: JSONSchema4TypeName | JSONSchema4TypeName[];\n}\n</code></pre>\n\n<p>and I import that <code>JSONSchema4</code> from my definition instead of json-schema and that feels like it creates technical debt so wondering if there was a better way.</p>\n"}, {"tags": ["typescript", "kubernetes", "pulumi"], "answers": [{"comments": [{"owner": {"reputation": 5733, "user_id": 567779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f5279e356a105513701942b5b6af05f?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/567779/apc"}, "edited": false, "score": 0, "creation_date": 1538000837, "post_id": 52526243, "comment_id": 91993401, "body": "This is pretty much correct. You can also use <code>export secretData = secret.data;</code>, which will provide it as a &quot;stack output&quot;, allowing you to run <code>pulumi stack output secretData</code>, which will print the base64-encoded secret to stdout. Obviously: PLEASE BE CAREFUL, as this data is obviously supposed to be secret. :)"}, {"owner": {"reputation": 87, "user_id": 6641502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ECGH4.jpg?s=128&g=1", "display_name": "Korede Aderele", "link": "https://stackoverflow.com/users/6641502/korede-aderele"}, "edited": false, "score": 0, "creation_date": 1538005142, "post_id": 52526243, "comment_id": 91994410, "body": "Got it. The problem is that i can&#39;t then use those references in a plain-text config...  I suppose the solution is to have pulumi config secrets be the origin of those values that are then set in kubernetes but my current setup is just reading those values from the selected cluster on my machine (by reference as you have mentioned)."}], "tags": [], "owner": {"reputation": 48205, "user_id": 2989261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b03110b84c83464a58832d4d55ff4542?s=128&d=identicon&r=PG", "display_name": "Rico", "link": "https://stackoverflow.com/users/2989261/rico"}, "is_accepted": false, "score": 0, "last_activity_date": 1537997181, "creation_date": 1537997181, "answer_id": 52526243, "question_id": 52523443, "link": "https://stackoverflow.com/questions/52523443/pulumi-retrieve-kubernetes-secret-value/52526243#52526243", "title": "Pulumi: retrieve kubernetes secret value", "body": "<p>The short answer is that I think it doesn't let you see a secret but use a reference where you want to use it: Deployments, StatefulSets, DaemonSets, Pods, etc. It would make sense from the security point of view.</p>\n\n<p>You can see an example of create a secret <a href=\"https://github.com/pulumi/examples/blob/master/kubernetes-ts-jenkins/jenkins.ts#L117\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 87, "user_id": 6641502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ECGH4.jpg?s=128&g=1", "display_name": "Korede Aderele", "link": "https://stackoverflow.com/users/6641502/korede-aderele"}, "edited": false, "score": 0, "creation_date": 1538004593, "post_id": 52527194, "comment_id": 91994321, "body": "Thanks. More specifically, what i&#39;m looking for is the method that returns one of those core/v1.Secret objects based on the current cluster in the environment."}, {"owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "reply_to_user": {"reputation": 87, "user_id": 6641502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ECGH4.jpg?s=128&g=1", "display_name": "Korede Aderele", "link": "https://stackoverflow.com/users/6641502/korede-aderele"}, "edited": false, "score": 0, "creation_date": 1538006963, "post_id": 52527194, "comment_id": 91994780, "body": "I see.  Reading the documentation a little more this looks a little outside its core model, and @Rico&#39;s answer is much closer to an actual answer, unless declaring a secret reference in an object you&#39;re creating via Pulumi will work for you (that is: don&#39;t try to retrieve the secret at all, but tell Kubernetes that you&#39;d like to have it injected for you)."}, {"owner": {"reputation": 5733, "user_id": 567779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4f5279e356a105513701942b5b6af05f?s=128&d=identicon&r=PG", "display_name": "apc", "link": "https://stackoverflow.com/users/567779/apc"}, "edited": false, "score": 0, "creation_date": 1538070784, "post_id": 52527194, "comment_id": 92025053, "body": "This is right. Pulumi&#39;s SDK is generated from the Kubernetes OpenAPI spec, so the API is identical."}, {"owner": {"reputation": 3417, "user_id": 154870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b7708d2ae7f7bb866446e0459e3e156?s=128&d=identicon&r=PG", "display_name": "Dave White", "link": "https://stackoverflow.com/users/154870/dave-white"}, "edited": false, "score": 0, "creation_date": 1604775487, "post_id": 52527194, "comment_id": 114452035, "body": "This doesn&#39;t actually answer the question about how to do this via pulumi. @Dominik&#39;s answer is right."}], "tags": [], "owner": {"reputation": 64542, "user_id": 10008173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3ea5d6d5d63e054acb8cfa95a39240d?s=128&d=identicon&r=PG&f=1", "display_name": "David Maze", "link": "https://stackoverflow.com/users/10008173/david-maze"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003369, "creation_date": 1538003369, "answer_id": 52527194, "question_id": 52523443, "link": "https://stackoverflow.com/questions/52523443/pulumi-retrieve-kubernetes-secret-value/52527194#52527194", "title": "Pulumi: retrieve kubernetes secret value", "body": "<p>That API looks like it mirrors the <a href=\"https://kubernetes.io/docs/reference/using-api/api-overview/\" rel=\"nofollow noreferrer\">Kubernetes API</a>, and in particular there is a <a href=\"https://pulumi.io/reference/pkg/nodejs/@pulumi/kubernetes/core/v1/#Secret\" rel=\"nofollow noreferrer\">core/v1.Secret</a> object that includes the secret <code>data</code>.  The values are base64-encoded.</p>\n\n<p>(Unless RBAC forbids it, you can generally <code>kubectl get secret -o yaml secretname</code> to see the same thing...Kubernetes secrets are only so secret.)</p>\n\n<p>If you're running this in the context of a service it's probably easier to launch the service with <a href=\"https://kubernetes.io/docs/tasks/inject-data-application/distribute-credentials-secure/#create-a-pod-that-has-access-to-the-secret-data-through-environment-variables\" rel=\"nofollow noreferrer\">environment variables set from the relevant secret values</a>, using a YAML fragment like</p>\n\n<pre><code>env:\n- name: SECRET_USERNAME\n  valueFrom:\n    secretKeyRef:\n      name: test-secret\n      key: username\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3417, "user_id": 154870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b7708d2ae7f7bb866446e0459e3e156?s=128&d=identicon&r=PG", "display_name": "Dave White", "link": "https://stackoverflow.com/users/154870/dave-white"}, "edited": false, "score": 0, "creation_date": 1604775373, "post_id": 57826360, "comment_id": 114452010, "body": "The token value is base64 encoded (today) so you need to do a <code>return Buffer.from(v[&quot;token&quot;], &#39;base64&#39;).toString(&#39;ascii&#39;);</code> if you want the secret value decoded in your pulumi outputs."}], "tags": [], "owner": {"reputation": 1404, "user_id": 1168315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78dfc692c7f5fd63c7e3407f8c610c45?s=128&d=identicon&r=PG", "display_name": "Dominik", "link": "https://stackoverflow.com/users/1168315/dominik"}, "is_accepted": false, "score": 2, "last_activity_date": 1567795893, "last_edit_date": 1567795893, "creation_date": 1567790992, "answer_id": 57826360, "question_id": 52523443, "link": "https://stackoverflow.com/questions/52523443/pulumi-retrieve-kubernetes-secret-value/57826360#57826360", "title": "Pulumi: retrieve kubernetes secret value", "body": "<p>Use <code>k8s.core.v1.Secret.get(pulumiName, secretName)</code> (<a href=\"https://www.pulumi.com/docs/reference/pkg/nodejs/pulumi/kubernetes/core/v1/#Secret-get\" rel=\"nofollow noreferrer\"><code>secretName</code> can contain the <code>namespace/</code> as prefix</a>). </p>\n\n<p><a href=\"https://www.pulumi.com/blog/adopting-existing-cloud-resources-into-pulumi/#referencing-existing-resources\" rel=\"nofollow noreferrer\">Every Pulumi resource has a <code>get()</code> method</a>.</p>\n\n<p>For example: Get the <code>token</code> from a <code>kubernetes.io/service-account-token</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as k8s from \"@pulumi/kubernetes\";\n\u200b\ntype KubernetesSecretData = { [key: string]: string }\n\u200b\nconst namespace = 'kube-public'\nconst secretName = 'default-token-tdcdz'\n\u200b\nexport const token =\n    k8s.core.v1.Secret.get('testSecret',`${namespace}/${secretName}`)\n        .data.apply(v =&gt; {\n        return (&lt;KubernetesSecretData&gt; v)[\"token\"]\n    })\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 6641502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ECGH4.jpg?s=128&g=1", "display_name": "Korede Aderele", "link": "https://stackoverflow.com/users/6641502/korede-aderele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2693, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1567795893, "creation_date": 1537983900, "question_id": 52523443, "link": "https://stackoverflow.com/questions/52523443/pulumi-retrieve-kubernetes-secret-value", "title": "Pulumi: retrieve kubernetes secret value", "body": "<p>I have a service with an inline plaintext config that requires certain information that is stored in Kubernetes secrets. What <a href=\"https://pulumi.io/reference/pkg/nodejs/@pulumi/kubernetes/\" rel=\"nofollow noreferrer\"><code>@pulumi/kubernetes</code></a> API method can be used to access raw kubernetes secret values?</p>\n"}, {"tags": ["typescript", "build", "configuration", "configuration-files"], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 1456164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06e5d97880a27d2163cf8afc2b7fc8ab?s=128&d=identicon&r=PG", "display_name": "Tihomir", "link": "https://stackoverflow.com/users/1456164/tihomir"}, "is_accepted": false, "score": 0, "last_activity_date": 1537984466, "creation_date": 1537984466, "answer_id": 52523578, "question_id": 52523217, "link": "https://stackoverflow.com/questions/52523217/how-to-create-build-configurations-in-a-typescript-project/52523578#52523578", "title": "How to create build configurations in a TypeScript project?", "body": "<p>I think you need environment depending configuration.\nHere is a example how it is done in angular cli project: <a href=\"https://github.com/angular/angular-cli/wiki/stories-application-environments\" rel=\"nofollow noreferrer\">https://github.com/angular/angular-cli/wiki/stories-application-environments</a></p>\n\n<p>Similar for the nodejs project: <a href=\"https://medium.com/@jinmatt/config-management-for-node-js-based-on-runtime-environment-variables-55b3c6d82f5c\" rel=\"nofollow noreferrer\">https://medium.com/@jinmatt/config-management-for-node-js-based-on-runtime-environment-variables-55b3c6d82f5c</a> </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4301019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6a03cf90da385f8fcd4d3d85da80e8?s=128&d=identicon&r=PG", "display_name": "Sohail05", "link": "https://stackoverflow.com/users/4301019/sohail05"}, "is_accepted": false, "score": 0, "last_activity_date": 1537985181, "last_edit_date": 1537985181, "creation_date": 1537984541, "answer_id": 52523597, "question_id": 52523217, "link": "https://stackoverflow.com/questions/52523217/how-to-create-build-configurations-in-a-typescript-project/52523597#52523597", "title": "How to create build configurations in a TypeScript project?", "body": "<p>You can use environment variables.</p>\n\n<p>Environment variables are accessible in nodejs/typescript under the <code>env</code> property or <code>process</code> (<code>process.env</code>).</p>\n\n<pre><code>import * as fs from 'fs';\n//Print out all env vars\nconsole.log(process.env)\n// { MYCONFIGFILE: \"foo_dev.json\" }\nconst config = JSON.parse(fs.readFileSync(process.env.MYCONFIGFILE,'utf8'));\n</code></pre>\n\n<p>Different operating systems have different ways of setting them.<br>\nYou can use <code>cross-env</code> to resolve the differences.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/32446734/how-to-set-environment-variables-in-a-cross-platform-way/32446795\">Here</a> is a cross-platform solution.</p>\n"}], "owner": {"reputation": 1, "user_id": 5856203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36bdb7429b5fc648229b915cb458a00?s=128&d=identicon&r=PG&f=1", "display_name": "BooleanAssange", "link": "https://stackoverflow.com/users/5856203/booleanassange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 115, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537985181, "creation_date": 1537982874, "question_id": 52523217, "link": "https://stackoverflow.com/questions/52523217/how-to-create-build-configurations-in-a-typescript-project", "title": "How to create build configurations in a TypeScript project?", "body": "<p>I have a <strong>typescript node.js</strong> project where there are some <strong>parameters in code</strong> and in json configuration <strong>files</strong> that depend on whether I want to build a development or a release version.</p>\n\n<p>Up to now, I always change them by hand which is annoying when you forget something and upload it to a web platform that runs the app just to notice you have to do it again.</p>\n\n<p>How could I proceed so that I just have to pass a parameter when transpiling and I get the right values in code and the right json configs (like foo_dev.json and foo_release.json)?</p>\n"}, {"tags": ["javascript", "arrays", "angular", "typescript"], "comments": [{"owner": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 1, "creation_date": 1537982404, "post_id": 52522994, "comment_id": 91985692, "body": "<code>if (picture.id === this.model.id )</code>. Could this be the reason why? Maybe the picture id is different from the model ID, which is causing them to be skipped over.  If possible, could you please post more of your code. It&#39;s hard to know for sure what&#39;s going on here without some context."}, {"owner": {"reputation": 41, "user_id": 5112790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847321d920b489a771f30008ccaaf39a?s=128&d=identicon&r=PG&f=1", "display_name": "23908938", "link": "https://stackoverflow.com/users/5112790/23908938"}, "reply_to_user": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537982547, "post_id": 52522994, "comment_id": 91985766, "body": "yes will update now"}, {"owner": {"reputation": 41, "user_id": 5112790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847321d920b489a771f30008ccaaf39a?s=128&d=identicon&r=PG&f=1", "display_name": "23908938", "link": "https://stackoverflow.com/users/5112790/23908938"}, "reply_to_user": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537983995, "post_id": 52522994, "comment_id": 91986424, "body": "Hey I updated it with more code. @nmg49"}, {"owner": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537986007, "post_id": 52522994, "comment_id": 91987338, "body": "Can you post a console.log of your model?"}, {"owner": {"reputation": 41, "user_id": 5112790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847321d920b489a771f30008ccaaf39a?s=128&d=identicon&r=PG&f=1", "display_name": "23908938", "link": "https://stackoverflow.com/users/5112790/23908938"}, "reply_to_user": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537986099, "post_id": 52522994, "comment_id": 91987373, "body": "&quot;Cannot read property &#39;caption&#39; of undefined&quot;  that is the error but it is due to the nextPicture being undefined not caption"}, {"owner": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537986224, "post_id": 52522994, "comment_id": 91987430, "body": "Well that&#39;s your issue... Your next item in the model is undefined. The issue is most likely coming from the source of your model, rather than any code posted here."}, {"owner": {"reputation": 41, "user_id": 5112790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847321d920b489a771f30008ccaaf39a?s=128&d=identicon&r=PG&f=1", "display_name": "23908938", "link": "https://stackoverflow.com/users/5112790/23908938"}, "reply_to_user": {"reputation": 1266, "user_id": 3034741, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/9SQcM.jpg?s=128&g=1", "display_name": "nmg49", "link": "https://stackoverflow.com/users/3034741/nmg49"}, "edited": false, "score": 0, "creation_date": 1537986319, "post_id": 52522994, "comment_id": 91987485, "body": "it is because it is reaching the end of the array"}], "answers": [{"tags": [], "owner": {"reputation": 1832, "user_id": 8947748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35d73b489c80b662f62baccd4f8c4da4?s=128&d=identicon&r=PG&f=1", "display_name": "rhavelka", "link": "https://stackoverflow.com/users/8947748/rhavelka"}, "is_accepted": true, "score": 0, "last_activity_date": 1538063938, "last_edit_date": 1538063938, "creation_date": 1537992170, "answer_id": 52525282, "question_id": 52522994, "link": "https://stackoverflow.com/questions/52522994/need-to-properly-iterate-through-my-picture-array-angular-2/52525282#52525282", "title": "Need to properly iterate through my picture array angular 2", "body": "<p>Creating an <code>index</code> variable should help you by removing your costly loops. It's basically 2 bytes that will save your performance.</p>\n\n<pre><code>index = 0;\nmodel = {\n   servNum: '',\n   servDate: '',\n   caption: '',\n   url: '',\n   id: null,\n   pictures: []\n};\n\nconstructor(@Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef&lt;PictureModalComponent&gt;) {\n  this.model = data;\n  data.pictures.forEach((pic, index) =&gt;  {\n     if (pic.id === data.id) {\n       this.index = index;\n       break;\n    }\n  }\n}\n\n// update index with looping to the last picture if on first\nonPreviousClick() {\n  this.index = this.index === 0 ? this.model.pictures.length - 1 : this.index - 1;\n  this.updateModel(this.model.pictures[this.index]);\n}\n\n// updating index with looping to the first picture if on last\nonNextClick() {\n  this.index = this.index === this.model.pictures.length - 1 ? 0 : this.index + 1; \n  this.updateModel(this.model.pictures[this.index]);\n}\n\n// common logic into a single function\nupdateModel(pic: AccessApictures) {\n  this.model.caption = pic.caption;\n  this.model.servDate = pic.servDate;\n  this.model.servNum = pic.aservrecno;\n  this.model.url = pic.filename;\n  this.model.id = pic.id;\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5112790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847321d920b489a771f30008ccaaf39a?s=128&d=identicon&r=PG&f=1", "display_name": "23908938", "link": "https://stackoverflow.com/users/5112790/23908938"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 52525282, "answer_count": 1, "score": 1, "last_activity_date": 1538063938, "creation_date": 1537982052, "last_edit_date": 1537996013, "question_id": 52522994, "link": "https://stackoverflow.com/questions/52522994/need-to-properly-iterate-through-my-picture-array-angular-2", "title": "Need to properly iterate through my picture array angular 2", "body": "<p>So I have this function that is a 'next' button that is supposed to go to the next picture in my array. I have also a 'previous' button that has basically the same code but instead of index adding 1 it subtracts 1. That works fine. But this one won't work. When I hit the next button it automatically goes to the last picture in the array and doesn't see the next image. I thought maybe using the pop method but I am not sure, very new to this</p>\n\n<pre><code>export class PictureModalComponent {\n  model = {\n    servNum: '',\n    servDate: '',\n    caption: '',\n    url: '',\n    id: null,\n    pictures: []\n  };\n\n  constructor(@Inject(MAT_DIALOG_DATA) public data: any, public dialogRef: MatDialogRef&lt;PictureModalComponent&gt;) {\n    this.model=data;\n  }\n\n  onPreviousClick() {\n    this.model.pictures.forEach( (picture: AccessApictures, index: number) =&gt; {\n      if (picture.id === this.model.id)\n        {\n          let lastPicture: AccessApictures = this.model.pictures[index-1];\n          this.model.caption = lastPicture.caption;\n          this.model.servDate = lastPicture.servDate;\n          this.model.servNum = lastPicture.aservrecno;\n          this.model.url = lastPicture.filename;\n          this.model.id = lastPicture.id;\n        }\n    });\n  }\n\n  onNextClick() {\n\n    this.model.pictures.forEach( (picture: AccessApictures, index: number) =&gt; {\n      if (picture.id === this.model.id ) {\n        let nextPicture: AccessApictures = this.model.pictures[index+1];\n\n        this.model.caption = nextPicture.caption;\n        this.model.servDate = nextPicture.servDate;\n        this.model.servNum = nextPicture.aservrecno;\n        this.model.url = nextPicture.filename;\n        this.model.id =  nextPicture.id;\n      }\n    }); \n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 3, "creation_date": 1537980267, "post_id": 52522527, "comment_id": 91984655, "body": "Set <code>self = this</code> inside your class and exclusively call methods through <code>self.someMethod</code>. You don&#39;t need to call the variable <code>self</code> but it&#39;s a decent convention. Another convention is to call it <code>that</code> but I personally hate it - <code>that = this</code> seems a bit illogical."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1537981526, "post_id": 52522527, "comment_id": 91985260, "body": "Please show us how you are passing your method to the third party library"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1537981871, "post_id": 52522527, "comment_id": 91985426, "body": "Plenty questions on fat arrow and this."}, {"owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1537982587, "post_id": 52522527, "comment_id": 91985783, "body": "I&#39;ve updated the class based on @vlaz comment"}], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5267487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f42ba8882b0bfb13fcd7d9d430b55e4d?s=128&d=identicon&r=PG", "display_name": "AvcS", "link": "https://stackoverflow.com/users/5267487/avcs"}, "is_accepted": true, "score": 1, "last_activity_date": 1537983854, "last_edit_date": 1537983854, "creation_date": 1537983050, "answer_id": 52523252, "question_id": 52522527, "link": "https://stackoverflow.com/questions/52522527/conflict-using-the-this-keyword/52523252#52523252", "title": "Conflict using the &quot;this&quot; keyword", "body": "<pre><code>class CFoo {\n    private foo: Function;\n\n    constructor() {\n        const self = this;\n        this.foo = function (value?: number) {\n            // get the value of this (returned from the third-party library)\n            const model = this;\n\n            // call another method inside the class\n            self.anotherMethod();\n        }\n    }\n\n    private anotherMethod()\n    {\n    }\n }\n</code></pre>\n"}], "owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 52523252, "answer_count": 1, "score": 1, "last_activity_date": 1537983854, "creation_date": 1537980045, "last_edit_date": 1537982552, "question_id": 52522527, "link": "https://stackoverflow.com/questions/52522527/conflict-using-the-this-keyword", "title": "Conflict using the &quot;this&quot; keyword", "body": "<p>I'm having a problem with the <em>this</em> keyword. </p>\n\n<p>I've a method that will be called by a third-party JavaScript library <strong>(I cannot modify the library's code)</strong> and inside the method <em>this</em> is set to a specific context (from the third party library) so I've defined the TypeScript method like this:</p>\n\n<pre><code>class CFoo {\n   private foo(value?: number) {\n     // get the value of this (returned from the third-party library)\n     const model = this;\n\n     // call another method inside the class\n     this.anotherMethod();\n   }\n\n   private anotherMethod()\n   {\n   }\n}\n</code></pre>\n\n<p>but inside the method I need to call another method inside the same class.</p>\n\n<p>When I try to call the other method I get a JavaScript error \"anotherMethod\" is not a function.</p>\n\n<p>However if I declare the method in this way</p>\n\n<pre><code>private foo = (value?: number) =&gt; {\n}\n</code></pre>\n\n<p>I can get the correct this from the class point of view, I mean, I can access class members using <em>this.method()</em> but I cannot access the value provided by the third-party library through <em>this</em>.</p>\n\n<p>I need to access the <em>this</em> value provided by the third-party library and I need to be able to call another method inside the class.</p>\n\n<p>How can I solve this?</p>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>When the method is called</p>\n\n<p>this = {\n   name: \"xxx\",\n   age: 40\n};</p>\n\n<p>Updating the class based on the comment of @vlaz</p>\n\n<pre><code>class CFoo {\n   me = this;   // @vlaz suggestion\n\n   private foo(value?: number) {\n     // get the value of this (returned from the third-party library)\n     const model = this as any;\n\n     /*\n      * model = {\n      *    name: \"xxx\",\n      *    age: 40\n      * };\n      *\n      */\n\n     // call another method inside the class\n\n     me.anotherMethod();   // typescript error\n   }\n\n   private anotherMethod()\n   {\n   }\n}\n</code></pre>\n\n<p>When I try to call <em>anotherMethod()</em> the TypeScript compiler is showing the following error</p>\n\n<p>Cannot find name 'me'. Did you mean the instance member 'this.me'?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "edited": false, "score": 0, "creation_date": 1537980762, "post_id": 52522440, "comment_id": 91984878, "body": "Clarification: Do you want to change link but hide/show div, right?"}, {"owner": {"reputation": 17, "user_id": 8610414, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ad8e43504e1754fd9541a082bc237dd3?s=128&d=identicon&r=PG&f=1", "display_name": "betterel", "link": "https://stackoverflow.com/users/8610414/betterel"}, "reply_to_user": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "edited": false, "score": 0, "creation_date": 1537983452, "post_id": 52522440, "comment_id": 91986199, "body": "yes thats right"}, {"owner": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "edited": false, "score": 0, "creation_date": 1537985063, "post_id": 52522440, "comment_id": 91986897, "body": "But I will suggest you, don&#39;t. Because when user will refresh the page, it will not display the right div, if you really want in that way then you have to make a check on router as well."}, {"owner": {"reputation": 17, "user_id": 8610414, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ad8e43504e1754fd9541a082bc237dd3?s=128&d=identicon&r=PG&f=1", "display_name": "betterel", "link": "https://stackoverflow.com/users/8610414/betterel"}, "reply_to_user": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "edited": false, "score": 0, "creation_date": 1538031192, "post_id": 52522440, "comment_id": 92001488, "body": "thank you for your help, maybe I can seperate it into two components"}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 1203961, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/P4BjA.jpg?s=128&g=1", "display_name": "Ali Shahbaz", "link": "https://stackoverflow.com/users/1203961/ali-shahbaz"}, "is_accepted": true, "score": 0, "last_activity_date": 1537985710, "creation_date": 1537985710, "answer_id": 52523885, "question_id": 52522440, "link": "https://stackoverflow.com/questions/52522440/angular-different-routes-same-component/52523885#52523885", "title": "Angular Different routes same component", "body": "<p>For your desired result, you can change URL from component.\nImport <code>Router</code> from <code>@angular/router</code></p>\n\n<pre><code>import { Router } from '@angular/router';\n</code></pre>\n\n<p>then inject into constructor</p>\n\n<pre><code>constructor(private router:Router) {\n}\n</code></pre>\n\n<p>then navigate from <code>hide()</code> function based on some condition</p>\n\n<pre><code>this.router.navigate(['profile/test']);\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 8610414, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ad8e43504e1754fd9541a082bc237dd3?s=128&d=identicon&r=PG&f=1", "display_name": "betterel", "link": "https://stackoverflow.com/users/8610414/betterel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 52523885, "answer_count": 1, "score": 0, "last_activity_date": 1537985710, "creation_date": 1537979702, "question_id": 52522440, "link": "https://stackoverflow.com/questions/52522440/angular-different-routes-same-component", "title": "Angular Different routes same component", "body": "<p>i made this in my app.routing.ts: </p>\n\n<pre><code>{ path: 'profile/questionnaire', canActivate: [ AuthGuard], component: UprofileComponent},\n</code></pre>\n\n<p>And  this in my html file :</p>\n\n<pre><code>&lt;div id=\"testButton\"&gt;  \n    &lt;button class=\"col-md-3\" id=\"colorBBox\" routerLink=\"profile/test\" (click)=\"hide();\"&gt;Test1&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;div id=\"showTest1 style=\"display:none;&gt; ...&lt;/div&gt;\n</code></pre>\n\n<p>by clicking the button \"hide()\" is called:</p>\n\n<pre><code> hide(){\n    document.getElementById('testButton').style.display = 'none';\n    document.getElementById('showTest1').style.display = 'block';\n    this.showTest1();\n }\n</code></pre>\n\n<p>Problem:   should be routerLink=\"profile\" and  should be routerLink=\"profile/test\" ... both of them are routerLink=\"profile\".. any ideas? Both divs share one html an on .ts file</p>\n"}, {"tags": ["typescript", "debugging", "visual-studio-code", "jestjs"], "comments": [{"owner": {"reputation": 1982, "user_id": 7228427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSpEd.png?s=128&g=1", "display_name": "Herman Starikov", "link": "https://stackoverflow.com/users/7228427/herman-starikov"}, "edited": false, "score": 0, "creation_date": 1537986316, "post_id": 52522241, "comment_id": 91987482, "body": "try using <a href=\"https://github.com/kulshekhar/ts-jest\" rel=\"nofollow noreferrer\">github.com/kulshekhar/ts-jest</a> instead of jest"}, {"owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "reply_to_user": {"reputation": 1982, "user_id": 7228427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSpEd.png?s=128&g=1", "display_name": "Herman Starikov", "link": "https://stackoverflow.com/users/7228427/herman-starikov"}, "edited": false, "score": 0, "creation_date": 1537989756, "post_id": 52522241, "comment_id": 91989178, "body": "Changing the &quot;program&quot; to be <code>&quot;program&quot;:&quot;${workspaceFolder}&#47;node_modules&#47;.bin&#47;ts-jest&quot;</code> had no effect.  I updated my example with this change."}], "owner": {"reputation": 6857, "user_id": 755666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ea86c464319f512785c5b6e4e64c7f8e?s=128&d=identicon&r=PG", "display_name": "Steven Scott", "link": "https://stackoverflow.com/users/755666/steven-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1538147441, "creation_date": 1537978877, "last_edit_date": 1538147441, "question_id": 52522241, "link": "https://stackoverflow.com/questions/52522241/testing-typescript-with-jest-in-visual-studio-code-does-not-show-proper-source-c", "title": "Testing Typescript with Jest in Visual Studio code does not show proper source code lines", "body": "<p>I have tried to get Jest to run properly in Visual Studio code.  While I can debug Typescript without an issue, I am unable to get to the proper lines on included functions with Jest.</p>\n\n<p>I have a test file that imports my module:</p>\n\n<pre><code>import { Validate } from \"./validate\";\n\ndescribe('Test the Validate', () =&gt; {\n    it('should return true', () =&gt; {\n        expect(Validate('abc')).toBeTruthy();\n    });\n\n    it('should return false', () =&gt; {\n        expect(Validate('cba')).toBeFalsy();\n    });\n});\n</code></pre>\n\n<p>validate.ts:</p>\n\n<pre><code>export function Validate(Text:string):boolean {\n    if (Text === 'abc') {\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p>I place a break point on the <code>expect(Validate('abc')).toBeTruthy();</code> line, which does seem to cause the code to stop.  When I press F11 to step into the function, I do go to the source file, but my cursor is at the end of the file.  I can seem to move along with F10 to do the debugging, but I do not see a proper source line.</p>\n\n<p>I have added <code>sourceMaps: true,</code> to my launch.json.</p>\n\n<p>launch.json</p>\n\n<pre><code>{\n    \"type\": \"node\",\n    \"request\": \"launch\",\n    \"name\": \"Jest Current File\",\n    \"program\": \"${workspaceFolder}/node_modules/.bin/jest\",\n    \"args\": [\"${relativeFile}\"],\n    \"console\": \"integratedTerminal\",\n    \"internalConsoleOptions\": \"neverOpen\",\n    \"sourceMaps\": true,\n    \"windows\": {\n          \"program\": \"${workspaceFolder}/node_modules/jest/bin/jest\",\n    }\n}\n</code></pre>\n\n<p>Also, using ts-jest like below did not change the outcome:</p>\n\n<pre><code>{\n    \"type\": \"node\",\n    \"request\": \"launch\",\n    \"name\": \"Jest Current File\",\n    \"program\": \"${workspaceFolder}/node_modules/.bin/ts-jest\",\n    \"args\": [\"${relativeFile}\"],\n    \"console\": \"integratedTerminal\",\n    \"internalConsoleOptions\": \"neverOpen\",\n    \"sourceMaps\": true,\n    \"windows\": {\n          \"program\": \"${workspaceFolder}/node_modules/jest/bin/jest\",\n    }\n</code></pre>\n"}, {"tags": ["typescript", "narrowing"], "comments": [{"owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 0, "creation_date": 1537985085, "post_id": 52522175, "comment_id": 91986914, "body": "I don&#39;t understand what you&#39;re expecting and am confused by the purpose of including <code>getPersonWithUnknown</code>.  What&#39;s wrong with <code>getPerson</code> and omitting the (unnecessary) type declaration?  The if block at the end is going to make sure the Type of the returned object is correct.  Is your point that you don&#39;t want any code in your application mistakenly returning the wrong type and this is just an example?  If so use some kind of type guard after any function that returns any type like you do in the third function."}, {"owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "reply_to_user": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 0, "creation_date": 1537986554, "post_id": 52522175, "comment_id": 91987618, "body": "<code>getPersonWithUnknown</code> was just an example of a function that was properly throwing a type error (since <code>unknown</code> can&#39;t be assigned to <code>Person</code>). The final <code>getPerson</code> function builds off of that. What I&#39;m asking is if I have an interface for a function that is supposed to return a <code>Person</code> or <code>undefined</code>, how do I make TypeScript not say that a function that returns <code>any</code> is acceptable?"}, {"owner": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 1, "creation_date": 1537987563, "post_id": 52522175, "comment_id": 91988128, "body": "Slightly off-topic: how is <code>Person?</code> not a syntax error in the Playground?"}, {"owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 1, "creation_date": 1537989151, "post_id": 52522175, "comment_id": 91988879, "body": "The purpose of <code>any</code> is to skip compile-time tests, so I don&#39;t think what you want is possible.  It&#39;s a good question if I&#39;m wrong and there is actually a way."}, {"owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "reply_to_user": {"reputation": 37752, "user_id": 2225281, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/71156aec1325d8a1a20751655ef9be44?s=128&d=identicon&r=PG", "display_name": "Aaron Beall", "link": "https://stackoverflow.com/users/2225281/aaron-beall"}, "edited": false, "score": 0, "creation_date": 1537990743, "post_id": 52522175, "comment_id": 91989617, "body": "@Aaron it actually causes a function definition to disappear from compiled code, leaving only body as a block."}, {"owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "edited": false, "score": 1, "creation_date": 1537990952, "post_id": 52522175, "comment_id": 91989714, "body": "@AndrewO the third one would work with <code>any</code> but there is no question-mark in type syntax in TypeScript. In your case the type is <code>Person | undefined</code> and will be inferred."}, {"owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "reply_to_user": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "edited": false, "score": 0, "creation_date": 1537991002, "post_id": 52522175, "comment_id": 91989737, "body": "Good point, @DanielGimenez . I wonder if the basic issue is just that <code>JSON.parse</code>&#39;s return type should be more constrained. I overrode it be the <a href=\"https://github.com/Microsoft/TypeScript/issues/1897#issuecomment-424163618\" rel=\"nofollow noreferrer\"><code>JSONValue</code> type here</a> and it now requires the type guard in order to type check. That might be a solution. I&#39;m just not sure if I want to make a blanket change to a core function like that..."}, {"owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "edited": false, "score": 0, "creation_date": 1537991171, "post_id": 52522175, "comment_id": 91989824, "body": "I added the <code>?</code> as an after thought, so that might be causing issues. <code>Person | undefined</code> would be fine. Or, for the sake of this example, throwing an error if the type guard returns false. In the real world I might use an <code>Either</code> type or a <code>Promise</code> or something like that."}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "edited": false, "score": 0, "creation_date": 1537992651, "post_id": 52525130, "comment_id": 91990511, "body": "The function could return anything and it would type check. That&#39;s what I&#39;m trying to avoid. Ultimately, I want an interface that says &quot;here are functions that take input arguments and return well-typed results&quot;. Basically a service or DAO. I thought doing it straight on the function would be better as a minimal example. Would it help if I included an interface in the example and had it implement that instead?"}, {"owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "reply_to_user": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "edited": false, "score": 0, "creation_date": 1537992752, "post_id": 52525130, "comment_id": 91990560, "body": "@AndrewO inferred type is <code>Person | undefined</code>, so everything worked as expected. If you want to enforce it to yourself, specify the return type."}, {"owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "edited": false, "score": 0, "creation_date": 1537994035, "post_id": 52525130, "comment_id": 91991130, "body": "Updated example to include interface definition."}], "tags": [], "owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "is_accepted": false, "score": 1, "last_activity_date": 1537995880, "last_edit_date": 1537995880, "creation_date": 1537991478, "answer_id": 52525130, "question_id": 52522175, "link": "https://stackoverflow.com/questions/52522175/narrowing-function-return-type-with-type-guards/52525130#52525130", "title": "Narrowing function return type with type guards", "body": "<pre><code>const validPerson = `{\"firstName\": \"John\", \"lastName\": \"Doe\"}`;\nconst invalidPerson = `{\"foo\": 123}`;\n\ninterface Person {\n    firstName: string;\n    lastName: string;\n}\n\nfunction isPerson(o: any): o is Person {\n    return typeof o.firstName === \"string\" &amp;&amp; typeof o.lastName === \"string\";\n}\n\nfunction getPerson(json: string) {\n    const o = JSON.parse(json);\n\n    if (isPerson(o)) {\n        return o;\n    } else {\n        return undefined;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=const%20validPerson%20%3D%20%60%7B%22firstName%22%3A%20%22John%22%2C%20%22lastName%22%3A%20%22Doe%22%7D%60%3B%0D%0Aconst%20invalidPerson%20%3D%20%60%7B%22foo%22%3A%20123%7D%60%3B%0D%0A%0D%0Ainterface%20Person%20%7B%0D%0A%20%20%20%20firstName%3A%20string%3B%0D%0A%20%20%20%20lastName%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isPerson(o%3A%20any)%3A%20o%20is%20Person%20%7B%0D%0A%20%20%20%20return%20typeof%20o.firstName%20%3D%3D%3D%20%22string%22%20%26%26%20typeof%20o.lastName%20%3D%3D%3D%20%22string%22%3B%0D%0A%7D%0D%0A%0D%0Afunction%20getPerson(json%3A%20string)%20%7B%0D%0A%20%20%20%20const%20o%20%3D%20JSON.parse(json)%3B%0D%0A%0D%0A%20%20%20%20if%20(isPerson(o))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20o%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20undefined%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">Minimal playground</a>. Make sure to check turn on <code>strictNullChecks</code></p>\n"}, {"tags": [], "owner": {"reputation": 14424, "user_id": 2497335, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/208cc48458f7afeb5f9f6d3801686b07?s=128&d=identicon&r=PG", "display_name": "Daniel Gimenez", "link": "https://stackoverflow.com/users/2497335/daniel-gimenez"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997109, "creation_date": 1537997109, "answer_id": 52526230, "question_id": 52522175, "link": "https://stackoverflow.com/questions/52522175/narrowing-function-return-type-with-type-guards/52526230#52526230", "title": "Narrowing function return type with type guards", "body": "<p>JSON is declared in lib.es5.d.ts. Create your own type definition file in your project and declare a new global JSON instance with a definition that returns a dummy type from <code>parse()</code> instead of <code>any</code>.</p>\n\n<p>This way you will have to use a guard or cast the result in order to avoid a compilation error in functions and methods that have an explicitly defined return type.</p>\n\n<pre><code>interface JSONStrict extends JSON {\n    /**\n      * Converts a JavaScript Object Notation (JSON) string into an object.\n      * @param text A valid JSON string.\n      * @param reviver A function that transforms the results. \n      * This function is called for each member of the object.\n      * If a member contains nested objects, the nested objects are\n      * transformed before the parent object is.\n      */\n    parse(text: string, reviver?: (key: any, value: any) =&gt; any): { _dummyProp?: void };\n}\n// overide lib.es5 declaration of JSON\ndeclare const JSON: JSONStrict;\n\n/* ... */\nfunction parseAndThrowCompilationError(): Person {\n    var result = JSON.parse('{ \"x\": 1}');\n    return result; \n    // Type '{ _dummyProp?: void }' has no properties in common with type 'Person'\n}\n</code></pre>\n\n<p>I added <code>_dummyProp</code> to the result because just using an object would match an interface with only optional properties and not throw an error.  </p>\n\n<p>... Honestly, this is a bit of a rig and I wonder if the effort is really worth it.</p>\n"}], "owner": {"reputation": 1486, "user_id": 1603984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bdf2290f0b1d87cb0853966e7e51606b?s=128&d=identicon&r=PG", "display_name": "AndrewO", "link": "https://stackoverflow.com/users/1603984/andrewo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1537997109, "creation_date": 1537978594, "last_edit_date": 1537993781, "question_id": 52522175, "link": "https://stackoverflow.com/questions/52522175/narrowing-function-return-type-with-type-guards", "title": "Narrowing function return type with type guards", "body": "<p>I have a TypeScript function that parses some JSON and runs it through a type guard to ensure that the data was valid so that the rest of the compile-time code knows that it's dealing with an object that actually abides by the expected interface.</p>\n\n<p>However, I'm having a hard time making TypeScript enforce that a type guard has been run. Apparently <code>JSON.parse</code> returns <code>any</code>, which is assignable to any other type and therefore checks, even if I specify a non-<code>any</code> return type.</p>\n\n<pre><code>const validPerson = `{\"firstName\": \"John\", \"lastName\": \"Doe\"}`;\nconst invalidPerson = `{\"foo\": 123}`;\n\ninterface Person {\n    firstName: string;\n    lastName: string;\n}\n\ninterface PersonGetter {\n    (json: string): Person | undefined;\n}\n\nfunction isPerson(o: any): o is Person {\n    return typeof o.firstName === \"string\" &amp;&amp; typeof o.lastName === \"string\";\n}\n\n// BAD: Type checks, but it's overly permissive. `JSON.parse` could return anything.\nconst getPerson1: PersonGetter = (json) =&gt; {\n    const o = JSON.parse(json);\n    return o;\n}\n\n// GOOD (kinda): Requires type guard to pass.\n// `unknown` requires TS 3, which is fine in general, but bad for me.\n// Also, I feel like having to remember to case the return from `JSON.parse` is a responsibility the programmer shouldn't bear.\nconst getPerson2: PersonGetter = (json) =&gt; {\n    const o: unknown = JSON.parse(json);\n    if (isPerson(o)) {\n        return o;\n    } else {\n        return undefined;\n    }\n}\n\n// GOOD (kinda): Requires type guard to pass. Works in TS 2.8.\n// Still, not great that I have to cast the return value from `JSON.parse`, but I could probably work around that.\ntype JSONPrimitive = string | number | boolean | null;\ntype JSONValue = JSONPrimitive | JSONObject | JSONArray;\ntype JSONObject = { [member: string]: JSONValue };\ninterface JSONArray extends Array&lt;JSONValue&gt; {}\n\nconst getPerson3: PersonGetter = (json) =&gt; {\n    const o: JSONValue = JSON.parse(json);\n    if (isPerson(o)) {\n        return o;\n    } else {\n        return undefined;\n    }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/#src=const%20validPerson%20%3D%20%60%7B%22firstName%22%3A%20%22John%22%2C%20%22lastName%22%3A%20%22Doe%22%7D%60%3B%0D%0Aconst%20invalidPerson%20%3D%20%60%7B%22foo%22%3A%20123%7D%60%3B%0D%0A%0D%0Ainterface%20Person%20%7B%0D%0A%20%20%20%20firstName%3A%20string%3B%0D%0A%20%20%20%20lastName%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20PersonGetter%20%7B%0D%0A%20%20%20%20(json%3A%20string)%3A%20Person%20%7C%20undefined%3B%0D%0A%7D%0D%0A%0D%0Afunction%20isPerson(o%3A%20any)%3A%20o%20is%20Person%20%7B%0D%0A%20%20%20%20return%20typeof%20o.firstName%20%3D%3D%3D%20%22string%22%20%26%26%20typeof%20o.lastName%20%3D%3D%3D%20%22string%22%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20BAD%3A%20Type%20checks%2C%20but%20it&#39;s%20overly%20permissive.%20%60JSON.parse%60%20could%20return%20anything.%0D%0Aconst%20getPerson1%3A%20PersonGetter%20%3D%20(json)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20o%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20return%20o%3B%0D%0A%7D%0D%0A%0D%0A%2F%2F%20GOOD%20(kinda)%3A%20Requires%20type%20guard%20to%20pass.%0D%0A%2F%2F%20%60unknown%60%20requires%20TS%203%2C%20which%20is%20fine%20in%20general%2C%20but%20bad%20for%20me.%0D%0A%2F%2F%20Also%2C%20I%20feel%20like%20having%20to%20remember%20to%20case%20the%20return%20from%20%60JSON.parse%60%20is%20a%20responsibility%20the%20programmer%20shouldn&#39;t%20bear.%0D%0Aconst%20getPerson2%3A%20PersonGetter%20%3D%20(json)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20o%3A%20unknown%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20if%20(isPerson(o))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20o%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20undefined%3B%0D%0A%20%20%20%20%7D%0D%0A%7D%0D%0A%0D%0A%2F%2F%20GOOD%20(kinda)%3A%20Requires%20type%20guard%20to%20pass.%20Works%20in%20TS%202.8.%0D%0A%2F%2F%20Still%2C%20not%20great%20that%20I%20have%20to%20cast%20the%20return%20value%20from%20%60JSON.parse%60%2C%20but%20I%20could%20probably%20work%20around%20that.%0D%0Atype%20JSONPrimitive%20%3D%20string%20%7C%20number%20%7C%20boolean%20%7C%20null%3B%0D%0Atype%20JSONValue%20%3D%20JSONPrimitive%20%7C%20JSONObject%20%7C%20JSONArray%3B%0D%0Atype%20JSONObject%20%3D%20%7B%20%5Bmember%3A%20string%5D%3A%20JSONValue%20%7D%3B%0D%0Ainterface%20JSONArray%20extends%20Array%3CJSONValue%3E%20%7B%7D%0D%0A%0D%0Aconst%20getPerson3%3A%20PersonGetter%20%3D%20(json)%20%3D%3E%20%7B%0D%0A%20%20%20%20const%20o%3A%20JSONValue%20%3D%20JSON.parse(json)%3B%0D%0A%20%20%20%20if%20(isPerson(o))%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20o%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20return%20undefined%3B%0D%0A%20%20%20%20%7D%0D%0A%7D\" rel=\"nofollow noreferrer\">TypeScript Playground link</a></p>\n\n<p>Option 3 would work for me, but it uses <a href=\"https://github.com/Microsoft/TypeScript/issues/1897#issuecomment-424163618\" rel=\"nofollow noreferrer\">proposed JSON types that are still up for debate</a> and still puts the responsibility on the implementor (who could just as easily not use a type guard at all and still think they're abiding by the interface).</p>\n\n<p>It would appear that <code>JSON.parse</code> returning <code>any</code> is the source of my problem here. I'm already running in <code>strict</code> mode, but it would appear that it still allows something explicitly typed as <code>any</code> to be expanded to the explicit return type of the function.</p>\n\n<p>Is there another way to tell TypeScript that the return value of the function must be the return type specified in the interface that it implements and not <code>any</code>?</p>\n"}, {"tags": ["angular", "typescript", "asp.net-core", "nswag"], "comments": [{"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1537978461, "post_id": 52521974, "comment_id": 91983752, "body": "Yes, using a Multipart/form-data you can upload files and data in the same request"}], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537985764, "post_id": 52522424, "comment_id": 91987226, "body": "Hi @agua from mars, Thanks for your help, but in your answer, you are uploading only one File. In my situation in would like to send multiple files. Moreover, in the second case written with ChildSampleDetailsDto, how to know to which Child the File belongs?"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 1, "creation_date": 1537986458, "post_id": 52522424, "comment_id": 91987563, "body": "You can add as many files as you want (<code>sendable.append(&#39;file&#39; + i, files[i], files[i].name)</code>), and it&#39;s up to you to reference your file in your data."}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537986903, "post_id": 52522424, "comment_id": 91987790, "body": "You can for sample use the key of your data to reference it :  <code>sendable.append(&#39;fileData&#39; + i, JSON.stringify(datas[i]));</code>"}, {"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537988368, "post_id": 52522424, "comment_id": 91988489, "body": "So in my Case, it works with SampleDetailsDto, but when I want to add ChildSampleDetailsDto, i dont succeed, the Array is always empty (but not nul). For File, this solutions works, I can receive the data server side: content_.append(&#39;images[]&#39;, files[i], files[i].name); but not this one content_.append(&#39;images&#39;+i, files[i], files[i].name);"}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537989306, "post_id": 52522424, "comment_id": 91988958, "body": "Did you check the content-type? And the request body?"}, {"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537991580, "post_id": 52522424, "comment_id": 91990025, "body": "By using this function : <a href=\"https://stackoverflow.com/a/49388446/6123422\">stackoverflow.com/a/49388446/6123422</a> It works partially.The uploaded files are not linked to a child or parent but linked to all. I verify the content type and request body. It seems not possible to upload files for a child."}, {"owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1537992815, "post_id": 52522424, "comment_id": 91990598, "body": "But you can change your model to meet your requirement right ?"}, {"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "reply_to_user": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "edited": false, "score": 0, "creation_date": 1537993081, "post_id": 52522424, "comment_id": 91990717, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180834/discussion-between-cedric-arnould-and-agua-from-mars\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 12678, "user_id": 2940908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/E79WU.jpg?s=128&g=1", "display_name": "agua from mars", "link": "https://stackoverflow.com/users/2940908/agua-from-mars"}, "is_accepted": false, "score": 0, "last_activity_date": 1537987699, "last_edit_date": 1537987699, "creation_date": 1537979617, "answer_id": 52522424, "question_id": 52521974, "link": "https://stackoverflow.com/questions/52521974/how-to-upload-data-multiple-files-from-angular-to-net-core-web-api/52522424#52522424", "title": "How to upload data + multiple files from Angular to .net core Web Api", "body": "<p>Read answer fron <strong>maherjendoubi</strong> here : <a href=\"https://forums.asp.net/t/2099194.aspx?Net+Core+Web+API+How+to+upload+multi+part+form+data\" rel=\"nofollow noreferrer\">https://forums.asp.net/t/2099194.aspx?Net+Core+Web+API+How+to+upload+multi+part+form+data</a></p>\n\n<pre><code>public ActionResult CreateDocument()\n{\n      foreach(var key in Request.Form.Keys)\n        {\n            var data = JsonConvert.DeserializeObject&lt;ChildSampleDetailsDto&gt;(Request.Form[key]);\n            var file = Request.Form.Files[\"file\" + key];\n\n        }\n        return Ok();\n    }\n</code></pre>\n\n<p>For the angular part use an <code>HttpRequest</code>:</p>\n\n<pre><code>const sendable = new FormData();\n\nfor (let i; i &lt; files.length; i++) {\n    sendable.append('filedata' + i, files[i], files[i].name);\n    sendable.append('data' + i, JSON.stringify(data[i]));\n}\nconst request = new HttpRequest(item.method,\n      item.url,\n      sendable,\n      {\n        reportProgress: true\n      });\n// this._http: HttpClient\nthis._http.request(request)\n      .subscribe((event: any) =&gt; {\n        if (event.type === HttpEventType.UploadProgress) {\n          // on progress code\n        }\n        if (event.type === HttpEventType.Response) {\n          // on response code\n        }\n      }, error =&gt; {\n        // on error code\n      });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 1, "creation_date": 1538065785, "post_id": 52531824, "comment_id": 92022705, "body": "Hi, thanks for your help, but It doesnt work on my side, I created a bug on .net core which explaine more the issue: <a href=\"https://github.com/dotnet/core/issues/1967\" rel=\"nofollow noreferrer\">github.com/dotnet/core/issues/1967</a>  Maybe you know a way to patch the pb?"}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1538119672, "post_id": 52531824, "comment_id": 92039631, "body": "Then it must be your request. For me it works exactly that way."}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "reply_to_user": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "edited": false, "score": 0, "creation_date": 1538121580, "post_id": 52531824, "comment_id": 92040572, "body": "Posted a simple in your github issue."}, {"owner": {"reputation": 742, "user_id": 1356391, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/871cfefed056a45ab7e9bcd2e7f97692?s=128&d=identicon&r=PG", "display_name": "Gladen", "link": "https://stackoverflow.com/users/1356391/gladen"}, "edited": false, "score": 0, "creation_date": 1564146268, "post_id": 52531824, "comment_id": 100945544, "body": "I just spend about an hour trying to get it work, just to find out my parameter name was not spelled correctly and didn&#39;t match the Angular name. Thanks for this!"}, {"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "edited": false, "score": 0, "creation_date": 1564170874, "post_id": 52531824, "comment_id": 100956793, "body": "Been there! Glad I was able to help!"}], "tags": [], "owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "is_accepted": false, "score": 5, "last_activity_date": 1538033855, "creation_date": 1538033855, "answer_id": 52531824, "question_id": 52521974, "link": "https://stackoverflow.com/questions/52521974/how-to-upload-data-multiple-files-from-angular-to-net-core-web-api/52531824#52531824", "title": "How to upload data + multiple files from Angular to .net core Web Api", "body": "<p>Use <code>IFormFile</code> and <code>[FromForm]</code> and do not access the request to extract files. </p>\n\n<p>Angular code:</p>\n\n<pre><code>public sendFiles(files: File[], [...]): Observable&lt;any&gt; {\n   const formData = new FormData();\n   formData.append('files', files); // add all the other properties\n   return this.http.post('http://somehost/someendpoint/fileupload/', formData);\n}\n</code></pre>\n\n<p>ASP.NET Core code:</p>\n\n<pre><code>public class MyFileUploadClass\n{\n   public IFormFile[] Files { get; set; }\n   // other properties\n}\n\n[HttpPost(\"fileupload\")]\npublic async Task&lt;IActionResult&gt; FileUpload([FromForm] MyFileUploadClass @class)  // -&gt; property name must same as formdata key\n{\n   // do the magic here\n   return NoContent();\n}\n</code></pre>\n"}], "owner": {"reputation": 1254, "user_id": 6123422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10156720634995022/picture?type=large", "display_name": "Cedric Arnould", "link": "https://stackoverflow.com/users/6123422/cedric-arnould"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7614, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538033855, "creation_date": 1537977803, "question_id": 52521974, "link": "https://stackoverflow.com/questions/52521974/how-to-upload-data-multiple-files-from-angular-to-net-core-web-api", "title": "How to upload data + multiple files from Angular to .net core Web Api", "body": "<p>My server uses .Net Core 2.1.402</p>\n\n<p>Here is my C# class:</p>\n\n<pre><code>public class SampleDetailsDto\n{\n    public Guid Id{ get; set; }\n    public string Text { get; set; }\n    public IEnumerable&lt;string&gt; ImageUrls { get; set; }\n    public IFormCollection Images { get; set; }\n}\n</code></pre>\n\n<p>Here is my C# Controller</p>\n\n<pre><code>[HttpPut]\n[Route(\"{id:guid}\")]\npublic async Task&lt;IActionResult&gt; UpdateAsync([FromRoute]Guid id, [FromForm] SampleDetailsDtodto)\n{\n    Console.WriteLine(dto.Text); \n    Console.WriteLine(dto.Images.Length);\n    return OK();\n}\n</code></pre>\n\n<p>I use nswag to generate the client service, but there is currently a bug (<a href=\"https://github.com/RSuter/NSwag/issues/1421#issuecomment-424480418\" rel=\"nofollow noreferrer\">https://github.com/RSuter/NSwag/issues/1421#issuecomment-424480418</a>) with upload multiple files, so I extended the update method to create mine, here is the code:</p>\n\n<pre><code> public update(id: string, dto: SampleDetailsDto | null | undefined): Observable&lt;SampleDetailsDto | null&gt; {\n    let url_ = this._baseUrl + \"/api/v1/Sample/{id}\";\n    if (id === undefined || id === null)\n      throw new Error(\"The parameter 'id' must be defined.\");\n    url_ = url_.replace(\"{id}\", encodeURIComponent(\"\" + id));\n    url_ = url_.replace(/[?&amp;]$/, \"\");\n\n    let options_: any = {\n      observe: \"response\",\n      responseType: \"blob\",\n      headers: new HttpHeaders({\n        \"Accept\": \"application/json\"\n      })\n    };\n    return _observableFrom(this.transformOptions(options_)).pipe(_observableMergeMap(transformedOptions_ =&gt; {\n      return this._http.put&lt;SampleDetailsDto&gt;(url_,dto, transformedOptions_);\n    })).pipe(_observableMergeMap((response_: any) =&gt; {\n      return this.transformResult(url_, response_, (r) =&gt; this.processUpdate(&lt;any&gt;r));\n    })).pipe(_observableCatch((response_: any) =&gt; {\n      if (response_ instanceof HttpResponseBase) {\n        try {\n          return this.transformResult(url_, response_, (r) =&gt; this.processUpdate(&lt;any&gt;r));\n        } catch (e) {\n          return &lt;Observable&lt;SampleDetailsDto | null&gt;&gt;&lt;any&gt;_observableThrow(e);\n        }\n      } else\n        return &lt;Observable&lt;SampleDetailsDto | null&gt;&gt;&lt;any&gt;_observableThrow(response_);\n    }));\n  }\n</code></pre>\n\n<p>I would like to upload multiple files and data at the same time, in this case all the images are linked to SampleDetailsDto. But we can imagine have this case kind of case too:</p>\n\n<pre><code>public class SampleDetailsDto\n{\n    public Guid Id{ get; set; }\n    public string Text { get; set; }\n    public IEnumerable&lt;ChildSampleDetailsDto&gt; Children{ get; set; }\n}\n\npublic class ChildSampleDetailsDto\n{\n    public Guid Id{ get; set; }\n    public string Text { get; set; }\n    public IEnumerable&lt;string&gt; ImageUrls { get; set; }\n    public IFormCollection Images { get; set; }\n}\n</code></pre>\n\n<p>Is it possible to send Data + multiple files to a .net Core Web Api?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 1, "creation_date": 1537977002, "post_id": 52521363, "comment_id": 91982937, "body": "Can you please show the app.module file? it should work, as long as the module is correctly imported... Unless you&#39;re using the component in another module inside app.module"}, {"owner": {"reputation": 5310, "user_id": 2952213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ffNWh.jpg?s=128&g=1", "display_name": "Shakti Phartiyal", "link": "https://stackoverflow.com/users/2952213/shakti-phartiyal"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1537986414, "post_id": 52521363, "comment_id": 91987544, "body": "@briosheje I have added app.module.ts to the question"}, {"owner": {"reputation": 7230, "user_id": 4221083, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbb81063f5b67ee63b903a9c8b277964?s=128&d=identicon&r=PG", "display_name": "theblindprophet", "link": "https://stackoverflow.com/users/4221083/theblindprophet"}, "edited": false, "score": 0, "creation_date": 1537991472, "post_id": 52521363, "comment_id": 91989974, "body": "Are you trying use <code>hkdt</code> from another component that has it&#39;s own <code>module</code>?"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1538018422, "post_id": 52521363, "comment_id": 91997175, "body": "@ShaktiPhartiyal The import procedure seems correct, can you please explain where you are using the component? The only possible case that I can think about is you are using the component inside another module (which resides in app module, maybe)."}, {"owner": {"reputation": 5310, "user_id": 2952213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ffNWh.jpg?s=128&g=1", "display_name": "Shakti Phartiyal", "link": "https://stackoverflow.com/users/2952213/shakti-phartiyal"}, "reply_to_user": {"reputation": 7230, "user_id": 4221083, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cbb81063f5b67ee63b903a9c8b277964?s=128&d=identicon&r=PG", "display_name": "theblindprophet", "link": "https://stackoverflow.com/users/4221083/theblindprophet"}, "edited": false, "score": 0, "creation_date": 1538020300, "post_id": 52521363, "comment_id": 91997614, "body": "@theblindprophet yes I am using hkdt and yes it has its own module"}, {"owner": {"reputation": 5310, "user_id": 2952213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ffNWh.jpg?s=128&g=1", "display_name": "Shakti Phartiyal", "link": "https://stackoverflow.com/users/2952213/shakti-phartiyal"}, "reply_to_user": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "edited": false, "score": 0, "creation_date": 1538020413, "post_id": 52521363, "comment_id": 91997640, "body": "@briosheje I am importing HkdtModule in app.module and then using <code>&lt;hkdt&gt;&lt;&#47;hkdt&gt;</code> in app.component ."}], "owner": {"reputation": 5310, "user_id": 2952213, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ffNWh.jpg?s=128&g=1", "display_name": "Shakti Phartiyal", "link": "https://stackoverflow.com/users/2952213/shakti-phartiyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1537986386, "creation_date": 1537975766, "last_edit_date": 1537986386, "question_id": 52521363, "link": "https://stackoverflow.com/questions/52521363/custom-datatable-module-in-angular-4", "title": "Custom datatable module in angular 4", "body": "<p>I have been trying to create my own datatable, but facing issues.\nSo my app structure is like so:\n<a href=\"https://i.stack.imgur.com/o0HDE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o0HDE.png\" alt=\"enter image description here\"></a> </p>\n\n<p>where hkdt in my custom datatable module, I want to use this in my app module so that it is accessible everywhere.</p>\n\n<p>hkdt.component.ts is:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n    selector: 'hkdt',\n    exportAs: \"hkdt\",\n    templateUrl: './hkdt.html',\n    styleUrls: ['./hkdt.css']\n})\nexport class HkdtComponent {\n}\n</code></pre>\n\n<p>hkdt.module.ts is:</p>\n\n<pre><code>import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport {HkdtComponent} from \"./hkdt.component\";\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [HkdtComponent],\n    exports: [HkdtComponent]\n})\nexport class HkdtModule {\n}\n</code></pre>\n\n<p>index.ts is:</p>\n\n<pre><code>export * from './hkdt.component';\nexport * from './hkdt.module';\n</code></pre>\n\n<p>and I want to use it in my app.module.ts like so:</p>\n\n<p>In my imports array of app.module.ts I import HkdtModule from <code>import {HkdtModule} from \"./core/hkdt\";</code></p>\n\n<p>and using it in some module like so:\n<code>&lt;hkdt&gt;&lt;/hkdt&gt;</code></p>\n\n<p>below is my app.module.ts:</p>\n\n<pre><code>import {HkdtModule} from \"./core/hkdt\";\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SignInComponent,\n    HomeComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    FormsModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HkdtModule\n  ],\n  providers: [\n\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>but I get a console error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ehfMC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ehfMC.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anybody help me resolve me this problem.</p>\n\n<p><strong>Note:</strong> I do not want to import the component in the module and use it because I want to later publish my hkdt as a plugin and I want to make it work independently in a pluggable manner.</p>\n"}, {"tags": ["reactjs", "typescript", "google-api-js-client"], "answers": [{"comments": [{"owner": {"reputation": 4281, "user_id": 244568, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9646ff7c1c413f5934af8014ffa22057?s=128&d=identicon&r=PG", "display_name": "WtFudgE", "link": "https://stackoverflow.com/users/244568/wtfudge"}, "edited": false, "score": 1, "creation_date": 1573531504, "post_id": 52521913, "comment_id": 103902584, "body": "oh, my, god! You have absolutely saved my life here. I have been googling about this issue for 3 days now with no success. Even after adding all these types to tsconfig.app etc it didn&#39;t make any difference. I wish I could give you 100 points"}], "tags": [], "owner": {"reputation": 943, "user_id": 4653908, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tQZVb.png?s=128&g=1", "display_name": "Guido", "link": "https://stackoverflow.com/users/4653908/guido"}, "is_accepted": true, "score": 4, "last_activity_date": 1537977564, "creation_date": 1537977564, "answer_id": 52521913, "question_id": 52521349, "link": "https://stackoverflow.com/questions/52521349/property-calendar-does-not-exist-on-type-typeof-client/52521913#52521913", "title": "Property &#39;calendar&#39; does not exist on type &#39;typeof client&#39;", "body": "<p>I managed to fix my own problem. After performing <code>console.log(gapi.client)</code> I noticed that calender was already there, so I tried the following <code>gapi.client['calendar']</code> and it worked as it should. I don't know why Typescript does not recognize the <code>calendar</code> in the first place, so if anybody has an idea feel free to leave a comment.</p>\n"}, {"tags": [], "owner": {"reputation": 4442, "user_id": 234110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/2ZYqV.jpg?s=128&g=1", "display_name": "Anand Rockzz", "link": "https://stackoverflow.com/users/234110/anand-rockzz"}, "is_accepted": false, "score": 1, "last_activity_date": 1562015451, "creation_date": 1562015451, "answer_id": 56842502, "question_id": 52521349, "link": "https://stackoverflow.com/questions/52521349/property-calendar-does-not-exist-on-type-typeof-client/56842502#56842502", "title": "Property &#39;calendar&#39; does not exist on type &#39;typeof client&#39;", "body": "<p>Try the following</p>\n\n<ol>\n<li><p>Install types <code>npm i @types/gapi.client.calendar</code></p></li>\n<li><p>Include <code>https://apis.google.com/js/api.js</code> &amp; <code>https://apis.google.com/js/platform.js</code> in <code>index.html</code></p></li>\n<li><p>Add the following inside <code>types</code> in <code>tsconfig.app.json</code></p>\n\n<p>\"types\": [\n  \"gapi\",\n  \"gapi.auth2\",\n  \"gapi.client\",\n  \"gapi.client.calendar\"\n]</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 14691645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4cdb35a06e9c76bff393117a2f788d1?s=128&d=identicon&r=PG&f=1", "display_name": "River", "link": "https://stackoverflow.com/users/14691645/river"}, "is_accepted": false, "score": 0, "last_activity_date": 1610557206, "creation_date": 1610557206, "answer_id": 65706441, "question_id": 52521349, "link": "https://stackoverflow.com/questions/52521349/property-calendar-does-not-exist-on-type-typeof-client/65706441#65706441", "title": "Property &#39;calendar&#39; does not exist on type &#39;typeof client&#39;", "body": "<p>You have to add:</p>\n<pre><code>&quot;types&quot;: [&quot;gapi&quot;, &quot;gapi.auth2&quot;, &quot;gapi.client&quot;, &quot;gapi.client.calendar&quot;]\n</code></pre>\n<p>in tsconfig.app.js and in tsconfig.json.</p>\n"}], "owner": {"reputation": 943, "user_id": 4653908, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tQZVb.png?s=128&g=1", "display_name": "Guido", "link": "https://stackoverflow.com/users/4653908/guido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1452, "favorite_count": 0, "accepted_answer_id": 52521913, "answer_count": 3, "score": 0, "last_activity_date": 1610557206, "creation_date": 1537975724, "last_edit_date": 1537976390, "question_id": 52521349, "link": "https://stackoverflow.com/questions/52521349/property-calendar-does-not-exist-on-type-typeof-client", "title": "Property &#39;calendar&#39; does not exist on type &#39;typeof client&#39;", "body": "<p>I'm trying to connect my Google Calender to my React website. I've got a component called <code>Calendar</code>. I've used the <a href=\"https://developers.google.com/calendar/quickstart/js\" rel=\"nofollow noreferrer\">JS tutorial from Google</a> and I've changed it to work in Typescript. I've got the authentication and authorization already working, however fetching data from the calendar is not working. I'm getting the following error when compiling/editing.</p>\n\n<pre><code>[ts] Property 'calendar' does not exist on type 'typeof client'. Did you mean 'calendars'?\n</code></pre>\n\n<p>I've already downloaded the types for the gapi.client.calendar and as you can see in the image below, they are also found in the <code>@types</code> folder. I'm kind of stuck and I don't know how I can fix this issue..</p>\n\n<p><a href=\"https://i.stack.imgur.com/QHBAm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QHBAm.png\" alt=\"@Types folder\"></a></p>\n\n<p>Here is my code from my <strong>Calendar.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\nimport { Button } from 'semantic-ui-react'\nimport googleApiKey from '../googleapi-key.json';\n\nconst CLIENT_ID = googleApiKey.CLIENT_ID;\nconst API_KEY = googleApiKey.API_KEY;\nconst DISCOVERY_DOCS = [\"https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest\"];\nconst SCOPES = \"https://www.googleapis.com/auth/calendar.readonly\";\n\n\nclass Calendar extends React.Component {\n    constructor(props: any) {\n        super(props);\n\n        console.log(CLIENT_ID);\n        console.log(API_KEY);\n\n        this.handleClientLoad = this.handleClientLoad.bind(this);\n        this.handleAuthClick = this.handleAuthClick.bind(this);\n        this.handleSignoutClick = this.handleSignoutClick.bind(this);\n        this.initClient = this.initClient.bind(this);\n        this.updateSigninStatus = this.updateSigninStatus.bind(this);\n        this.listUpcomingEvents = this.listUpcomingEvents.bind(this);\n    }\n\n    componentDidMount() {\n        this.initClient();\n    }\n\n\n    public render() {\n        return (\n            &lt;div&gt;\n                &lt;Button onClick={this.handleAuthClick}&gt;\n                    authorizeButton\n                &lt;/Button&gt;\n\n                &lt;Button onClick={this.handleSignoutClick}&gt;\n                    signoutButton\n                &lt;/Button&gt;\n            &lt;/div&gt;\n        );\n    }\n\n    /**\n     *  On load, called to load the auth2 library and API client library.\n     */\n    public handleClientLoad() {\n        gapi.load('client:auth2', this.initClient);\n    }\n\n    /**\n *  Sign in the user upon button click.\n */\n    public handleAuthClick(event: any) {\n        gapi.auth2.getAuthInstance().signIn();\n    }\n\n    /**\n     *  Sign out the user upon button click.\n     */\n    public handleSignoutClick(event: any) {\n        gapi.auth2.getAuthInstance().signOut();\n    }\n\n    /**\n     *  Initializes the API client library and sets up sign-in state\n     *  listeners.\n     */\n    public async initClient() {\n        await gapi.client.init({\n            apiKey: API_KEY,\n            clientId: CLIENT_ID,\n            discoveryDocs: DISCOVERY_DOCS,\n            scope: SCOPES\n        })\n\n        // Listen for sign-in state changes.\n        gapi.auth2.getAuthInstance().isSignedIn.listen(this.updateSigninStatus);\n\n        // Handle the initial sign-in state.\n        this.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n\n    }\n\n    /**\n     *  Called when the signed in status changes, to update the UI\n     *  appropriately. After a sign-in, the API is called.\n     */\n    public updateSigninStatus(isSignedIn: any) {\n        if (isSignedIn) {\n            this.listUpcomingEvents();\n        }\n    }\n\n    /**\n     * Print the summary and start datetime/date of the next ten events in\n     * the authorized user's calendar. If no events are found an\n     * appropriate message is printed.\n     */\n    public listUpcomingEvents() {\n        console.log(gapi.client.calendar); // &lt;--- Compile error: Does not recognize calendar\n    }\n}\n\nexport default Calendar;\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>When performing <code>console.log(gapi.client)</code> I can see that the client contains a <code>calendar</code> object (see image). But why can't I reach it in my own code?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4aqj0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4aqj0.png\" alt=\"console.log(gapi.client)\"></a></p>\n"}, {"tags": ["angular", "typescript", "testing", "jasmine"], "comments": [{"owner": {"reputation": 5156, "user_id": 5913838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0df3c4aaad3d579b91cc5b38d1819b2?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/5913838/alex"}, "edited": false, "score": 0, "creation_date": 1537975068, "post_id": 52521059, "comment_id": 91981788, "body": "which version of jasmine you use?"}, {"owner": {"reputation": 5794, "user_id": 1867549, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/7ckLZ.jpg?s=128&g=1", "display_name": "Etienne Miret", "link": "https://stackoverflow.com/users/1867549/etienne-miret"}, "edited": false, "score": 0, "creation_date": 1537975182, "post_id": 52521059, "comment_id": 91981856, "body": "Where did you see it returns a promise? on <a href=\"https://jasmine.github.io/api/edge/matchers.html#toHaveBeenCalled\" rel=\"nofollow noreferrer\">jasmine.github.io/api/edge/matchers.html#toHaveBeenCalled</a> I see it&#39;s indeed supposed to return undefined."}, {"owner": {"reputation": 401, "user_id": 3202986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07bcc62d33f480314413e63a9ef9f9c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul H", "link": "https://stackoverflow.com/users/3202986/paul-h"}, "edited": false, "score": 0, "creation_date": 1538047338, "post_id": 52521059, "comment_id": 92010924, "body": "vscode showed me the typings and autocompletion results of <code>@types&#47;jasminewd2</code>, and not <code>@types&#47;jasmine</code> what would have been right afais. In jasminewd2 typings, there is a Promise as result of the <code>toHaveBeenCalled</code> functions."}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 3202986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07bcc62d33f480314413e63a9ef9f9c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul H", "link": "https://stackoverflow.com/users/3202986/paul-h"}, "edited": false, "score": 1, "creation_date": 1538047191, "post_id": 52522037, "comment_id": 92010829, "body": "thanks - I found out the problem why I thought I could use the promise result there: Typescript applied the typings of <code>jasminewd2</code>, not <code>jasmine</code> and therefore, the autocompletion of vscode told me that there would be a promise as result"}, {"owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "reply_to_user": {"reputation": 401, "user_id": 3202986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07bcc62d33f480314413e63a9ef9f9c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul H", "link": "https://stackoverflow.com/users/3202986/paul-h"}, "edited": false, "score": 0, "creation_date": 1538047610, "post_id": 52522037, "comment_id": 92011112, "body": "That makes sense!  In <code>jasminewd2</code> everything is a promise since the code runs on the remote process."}], "tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 3, "last_activity_date": 1541493788, "last_edit_date": 1541493788, "creation_date": 1537978029, "answer_id": 52522037, "question_id": 52521059, "link": "https://stackoverflow.com/questions/52521059/tohavebeencalled-returns-undefined/52522037#52522037", "title": "toHaveBeenCalled() returns undefined", "body": "<p><code>toHaveBeenCalled</code> is an assertion method (like <code>toBe</code> or <code>toEqual</code>).  It is a synchronous method that fails the test if the mock has not been called and it returns undefined.</p>\n\n<p>Usually you call it at the end of the test to verify your code did what it was supposed to.  It is not meant to be used for flow control.</p>\n"}], "owner": {"reputation": 401, "user_id": 3202986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07bcc62d33f480314413e63a9ef9f9c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul H", "link": "https://stackoverflow.com/users/3202986/paul-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 52522037, "answer_count": 1, "score": 0, "last_activity_date": 1541493788, "creation_date": 1537974829, "last_edit_date": 1537983521, "question_id": 52521059, "link": "https://stackoverflow.com/questions/52521059/tohavebeencalled-returns-undefined", "title": "toHaveBeenCalled() returns undefined", "body": "<p>As far as I understand, the <code>.toHaveBeenCalled()</code> Matcher of jasmine returns a Promise which is resolved when the function has been called. Actually for me, it returns undefined:</p>\n\n<pre><code>it('should show the first entries', () =&gt; {\n  expect(contentfulService.first)\n    .toHaveBeenCalled()\n    .then(() =&gt; {\n      expect(component.entries).toBe(entriesMock);\n    });\n});\n</code></pre>\n\n<p>The <code>first</code> method of the contentfulService is spied on like this: </p>\n\n<pre><code>contentfulService = TestBed.get(ContentfulService);\nspyOn(contentfulService, 'first').and.callThrough();\n</code></pre>\n\n<p>The spec fails telling me:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'then' of undefined</p>\n</blockquote>\n\n<p>I double checked it. It's definitely the result of <code>toHaveBeenCalled()</code> that returns undefined. Why? Am I getting something wrong?</p>\n"}, {"tags": ["typescript", "abstract-syntax-tree", "typescript-compiler-api"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 1, "creation_date": 1538007153, "post_id": 52521056, "comment_id": 91994839, "body": "I would definitely recommend using the type checker API for this rather than traversing the AST.  It looks like you would create a <code>Program</code>, call <code>getTypeChecker</code>, get the symbol of the interface (I&#39;m not sure how to do that part), then use <code>getDeclaredTypeOfSymbol</code> and <code>getPropertyOfType</code>.  I&#39;m not writing an answer because I don&#39;t have a complete answer."}, {"owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538039156, "post_id": 52521056, "comment_id": 92005761, "body": "Thanks Matt, that&#39;s a good start!"}], "answers": [{"tags": [], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "is_accepted": false, "score": 6, "last_activity_date": 1613467349, "last_edit_date": 1613467349, "creation_date": 1538047690, "answer_id": 52535939, "question_id": 52521056, "link": "https://stackoverflow.com/questions/52521056/using-typescript-compiler-api-to-get-interface-fields-type-information/52535939#52535939", "title": "Using typescript compiler API to get interface fields type information", "body": "<p>So the way to do it was to build a <code>Program</code> (need a <code>CompilerHost</code> to do it) and use the <code>TypeChecker</code> as @MattMcCutchen suggested:</p>\n<p>The <code>CompilerHost</code> (you don't need a class implementation, but I found it more convenient):</p>\n<pre><code>export const SAMPLE_FILE_NAME = 'sample.ts'\n\nexport class TestCompilerHost implements CompilerHost {\n  constructor(private readonly code: string) {}\n  fileExists = () =&gt; true\n  getCanonicalFileName = () =&gt; SAMPLE_FILE_NAME\n  getCurrentDirectory = () =&gt; ''\n  getDefaultLibFileName = () =&gt; 'lib.d.ts'\n  getDirectories = () =&gt; []\n  getNewLine = () =&gt; '\\n'\n  readFile = () =&gt; null\n  useCaseSensitiveFileNames = () =&gt; true\n  writeFile = () =&gt; {}\n  getSourceFile(filename: string): SourceFile {\n    return createSourceFile(filename, this.code, ScriptTarget.ES5, true)\n  }\n}\n</code></pre>\n<p>Build a <code>Program</code>:</p>\n<pre><code>const config: CompilerOptions = {\n  noResolve: true,\n  target: ScriptTarget.ES5,\n}\nconst sourceText = `interface X { x: string }`\nconst program = createProgram([SAMPLE_FILE_NAME], config, new TestCompilerHost(sourceText))\n</code></pre>\n<p>Find the interface and property like in the question (only difference is the way of accessing the SourceFile):</p>\n<pre><code>const ast = program.getSourceFile(SAMPLE_FILE_NAME)\nconst interfaceX = ast\n  .getChildAt(0)\n  .getChildren()\n  .find((child) =&gt; child.kind === SyntaxKind.InterfaceDeclaration) as InterfaceDeclaration\nconst propX = interfaceX.members.find((member) =&gt; (member.name as Identifier).escapedText === 'x')\n</code></pre>\n<p>Lastly get the type:</p>\n<pre><code>const typeChecker = program.getTypeChecker()\nconst type = typeChecker.getTypeAtLocation(propX.type)\nconst stringType = typeChecker.typeToString(type)\n</code></pre>\n<p>Where <code>propX</code> is the same variable as in my question.</p>\n"}], "owner": {"reputation": 11951, "user_id": 1126273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/XqyXV.png?s=128&g=1", "display_name": "Bal&#225;zs &#201;des", "link": "https://stackoverflow.com/users/1126273/bal%c3%a1zs-%c3%89des"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1410, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1613467349, "creation_date": 1537974826, "last_edit_date": 1537977775, "question_id": 52521056, "link": "https://stackoverflow.com/questions/52521056/using-typescript-compiler-api-to-get-interface-fields-type-information", "title": "Using typescript compiler API to get interface fields type information", "body": "<p>Consider the following interface: </p>\n\n<pre><code>interface X { \n  x: string \n}\n</code></pre>\n\n<p>I'm trying to use the typescript compiler API to get property <code>x</code>'s type. Here's what I have so far:</p>\n\n<pre><code>import {\n  PropertySignature,\n  createSourceFile,\n  ScriptTarget,\n  ScriptKind,\n  SyntaxKind,\n  InterfaceDeclaration,\n  Identifier,\n} from 'typescript'\n\ndescribe('Compiler test', () =&gt; {\n  it('should be able to find type information about X.x', () =&gt; {\n    const sourceText = 'interface X { x: string }'\n    const ast = createSourceFile('source.ts', sourceText, ScriptTarget.ES5, false, ScriptKind.TS)\n    const interfaceX = ast\n      .getChildAt(0)\n      .getChildren()\n      .find((child) =&gt; child.kind === SyntaxKind.InterfaceDeclaration) as InterfaceDeclaration\n    const propX = interfaceX.members.find((member) =&gt; (member.name as Identifier).escapedText === 'x')\n    console.log(JSON.stringify(propX, null, 2))\n  })\n})\n</code></pre>\n\n<p>Now the content of the <code>propX</code> node is the following:</p>\n\n<pre><code>{\n  \"pos\": 13,\n  \"end\": 23,\n  \"flags\": 0,\n  \"kind\": 151,\n  \"name\": {\n    \"pos\": 13,\n    \"end\": 15,\n    \"flags\": 0,\n    \"escapedText\": \"x\"\n  },\n  \"type\": {\n    \"pos\": 16,\n    \"end\": 23,\n    \"flags\": 0,\n    \"kind\": 137\n  }\n}\n</code></pre>\n\n<p>From which the name of the node is clearly extractable, however the type node doesn't seem to have any information that's useful.</p>\n\n<p><strong>How would I get the type information of the property?</strong> All I need is <code>\"string\"</code>.</p>\n"}, {"tags": ["javascript", "typescript", "testing", "pact"], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537996787, "post_id": 52525869, "comment_id": 91992144, "body": "Ok so here is my problem, that API does not exist yet, and I&#39;m working on the frontend code using production data. I can&#39;t run the backend services locally... am I out of luck or is there a way to accomplish this?"}, {"owner": {"reputation": 2503, "user_id": 1008568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ca6dc55ad8675eaea178f42926f608?s=128&d=identicon&r=PG", "display_name": "Matthew Fellows", "link": "https://stackoverflow.com/users/1008568/matthew-fellows"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537997081, "post_id": 52525869, "comment_id": 91992253, "body": "That&#39;s the whole point of Pact. It&#39;s job is to provide a fake of your provider that runs locally. It&#39;s not uncommon to build a consumer before even touching a line of code on the provider."}, {"owner": {"reputation": 2503, "user_id": 1008568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ca6dc55ad8675eaea178f42926f608?s=128&d=identicon&r=PG", "display_name": "Matthew Fellows", "link": "https://stackoverflow.com/users/1008568/matthew-fellows"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537997880, "post_id": 52525869, "comment_id": 91992524, "body": "But as per my answer, the hint is to NOT mock out axios, and have your consumer configured to hit the pact mock server host (e.g. via an environment var)"}, {"owner": {"reputation": 2503, "user_id": 1008568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ca6dc55ad8675eaea178f42926f608?s=128&d=identicon&r=PG", "display_name": "Matthew Fellows", "link": "https://stackoverflow.com/users/1008568/matthew-fellows"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537998534, "post_id": 52525869, "comment_id": 91992723, "body": "As a side note, tthere is even a stub server that pact provides so that you can do local dev against it once you have started creating contracts. Google pact stub server to find it"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1538502160, "post_id": 52525869, "comment_id": 92161641, "body": "I could not accomplish this, will check answer since I&#39;m sure this is correct. We&#39;ve decided to skip the frontend tests."}], "tags": [], "owner": {"reputation": 2503, "user_id": 1008568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32ca6dc55ad8675eaea178f42926f608?s=128&d=identicon&r=PG", "display_name": "Matthew Fellows", "link": "https://stackoverflow.com/users/1008568/matthew-fellows"}, "is_accepted": true, "score": 2, "last_activity_date": 1538002098, "last_edit_date": 1538002098, "creation_date": 1537995097, "answer_id": 52525869, "question_id": 52520827, "link": "https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest/52525869#52525869", "title": "PACT.io: Getting Missing requests error, when running npm run pactTest", "body": "<p>Quite simply - your test is <em>not</em> hitting the path <code>/frontoffice/api/liquidity-pool/get-total-payout</code> on the Pact Mock Server.</p>\n\n<p>You have setup Pact to run on <code>http://localhost:1234</code>, so your actual code needs to be configured to hit this server, instead of the real one.</p>\n\n<p>In your axios configuration, you are mocking out the http request library so it does nothing. So when your real code uses it, it doesn't make the http call and your Pact tests fail, because it was expecting a call with a certain shape and didn't get it.</p>\n\n<p>Here are the things that you need to change:</p>\n\n<ol>\n<li>Axios seems to be used, but is not in your package.json. I\u2019m guessing because you\u2019re mocking it out (2). You need an actual http request library, so you should probably just install axios</li>\n<li>Axios is mocked out to provide canned responses, DO NOT mock out axios during Pact testing (it\u2019s ok for local dev if you want) as this will prevent real calls being made to Pact. Pact needs real http calls to it so that it can check your code is doing the right thing, and then write what it found into a 'contract'</li>\n<li>Configure axios in tests to hit the Pact mock service. Something like the following should do, assuming you use axios:</li>\n</ol>\n\n<p>pactSetup.ts:</p>\n\n<pre><code>  // Configure axios to use the Pact mock server for Pact tests\n  import axios from \"axios\";\n  axios.defaults.baseURL = \"http://localhost:1234\";\n</code></pre>\n\n<ol start=\"4\">\n<li>Read the log files that Pact spits out. It tells you what\u2019s going on. To re-iterate: You\u2019ve told Pact that there should be an interaction on <code>/frontoffice/api/liquidity-pool/get-total-payout</code> but it never received it. Make your actual code hit this and then you'll be fine.</li>\n</ol>\n\n<p>Lastly and as an aside, you might want to use Pact as a local stub server for local development, once you\u2019ve started generating Pacts (after 1-4 are fixed). The binary is actually installed in your node_modules already and the docs for how it operates are at <a href=\"https://github.com/pact-foundation/pact-ruby-standalone/releases\" rel=\"nofollow noreferrer\">https://github.com/pact-foundation/pact-ruby-standalone/releases</a></p>\n\n<p>I typically have a script in package.json that looks something like:</p>\n\n<pre><code>  \"stubs\": \"$(find . -name pact-stub-service | head -n 1) pacts/* --port 4000\"\n</code></pre>\n\n<p>You can then run <code>npm run stubs</code> and have a local stub of the provider running on port 4000, with all of the request/responses you put into your tests.</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1718, "favorite_count": 1, "accepted_answer_id": 52525869, "answer_count": 1, "score": 1, "last_activity_date": 1538002098, "creation_date": 1537974141, "last_edit_date": 1592644375, "question_id": 52520827, "link": "https://stackoverflow.com/questions/52520827/pact-io-getting-missing-requests-error-when-running-npm-run-pacttest", "title": "PACT.io: Getting Missing requests error, when running npm run pactTest", "body": "<p><strong>Test Repo created: <a href=\"https://github.com/leongaban/pact-io-js-test\" rel=\"nofollow noreferrer\">https://github.com/leongaban/pact-io-js-test</a></strong></p>\n<p><a href=\"https://i.stack.imgur.com/JESkK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JESkK.jpg\" alt=\"enter image description here\" /></a></p>\n<h2>Expected</h2>\n<p>Run <code>npm run pactTest</code> which will create a Pact file for my <code>TotalPayout.test.pact.ts</code> file.</p>\n<h2>Results</h2>\n<pre><code>D, [#38238] DEBUG -- : {\n  &quot;description&quot;: &quot;a GET request with a user id&quot;,\n  &quot;request&quot;: {\n    &quot;method&quot;: &quot;GET&quot;,\n    &quot;path&quot;: &quot;/frontoffice/api/liquidity-pool/get-total-payout&quot;,\n    &quot;headers&quot;: {\n      &quot;Accept&quot;: &quot;application/json&quot;\n    }\n  },\n  &quot;response&quot;: {\n    &quot;status&quot;: 200,\n    &quot;headers&quot;: {\n      &quot;Content-Type&quot;: &quot;application/json&quot;\n    }\n  }\n}\nW, [#38238]  WARN -- : Verifying - actual interactions do not match expected interactions. \nMissing requests:\n  GET /frontoffice/api/liquidity-pool/get-total-payout\n\n\nW, [#38238]  WARN -- : Missing requests:\n  GET /frontoffice/api/liquidity-pool/get-total-payout\n</code></pre>\n<p><strong>Here is my Pact File</strong></p>\n<pre><code>// @ts-ignore\nimport path from 'path';\n// @ts-ignore\nimport { Pact } from '@pact-foundation/pact';\nimport { getTotalPayout } from './LiquidityPool';\n\n// const port = 12345;\nconst endpoint = '/frontoffice/api/liquidity-pool/get-total-payout';\n\nconst EXPECTED_BODY = {\n  total_payout: 100.21,\n};\n\nconst userId = 'foo';\n\ndescribe('The API', () =&gt; {\n  // Copy this block once per interaction under test\n  describe('getUsersTotalPayout', () =&gt; {\n    beforeEach(() =&gt; {\n      const interaction = {\n        uponReceiving: 'a GET request with a user id',\n        withRequest: {\n          method: 'GET',\n          path: endpoint,\n          headers: {\n            Accept: 'application/json',\n          },\n        },\n        willRespondWith: {\n          status: 200,\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: EXPECTED_BODY\n        },\n      };\n\n      // @ts-ignore\n      return provider.addInteraction(interaction);\n    });\n\u200b\n    // add expectations\n    it('Should call getUsersTotalPayout and return an object with the total_payout', done =&gt; {\n      getTotalPayout(userId)\n        .then((response: any) =&gt; {\n          console.log('response', response);\n          console.log('EXPECTED_BODY', EXPECTED_BODY);\n          expect(response).toEqual(EXPECTED_BODY);\n        })\n        .then(done);\n    });\n  });\n});\n</code></pre>\n<p><strong>Here is the service file that contains the</strong> <code>getTotalPayout</code> <strong>function:</strong></p>\n<p>This endpoint doesn't exist yet, but this Pact test should still work is my understanding.</p>\n<pre><code>// @TODO Note, this is the placeholder for LiquidityPool API endpoints\n// @ts-ignore\nimport axios, * as others from 'axios';\n\nconst endpoint = '/frontoffice/api/liquidity-pool/';\n\nexport const getTotalPayout = async (userId: string) =&gt; {\n  const response = await axios.get(`${endpoint}get-total-payout`, { params: userId });\n  return response.data;\n};\n</code></pre>\n<p><strong>Also my</strong> <code>axios</code> <strong>mock in</strong> <code>src/__mocks__/axios.ts</code></p>\n<pre><code>// tslint:disable-next-line:no-empty\nconst mockNoop = () =&gt; new Promise(() =&gt; {});\n\nexport default {\n  get: jest.fn(() =&gt; Promise.resolve({ data: { total_payout: 100.21 }})),\n  default: mockNoop,\n  post: mockNoop,\n  put: mockNoop,\n  delete: mockNoop,\n  patch: mockNoop\n};\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5258, "user_id": 3162724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833457f6ec5ea62785cd84e0c312a8a4?s=128&d=identicon&r=PG", "display_name": "Niladri", "link": "https://stackoverflow.com/users/3162724/niladri"}, "edited": false, "score": 3, "creation_date": 1537974236, "post_id": 52520777, "comment_id": 91981274, "body": "Any code to debug?"}, {"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1537974534, "post_id": 52520777, "comment_id": 91981449, "body": "Please include in the question the code of the modules where you import/export the component."}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1539092888, "post_id": 52520777, "comment_id": 92370558, "body": "So you want to use two module in your project?"}, {"owner": {"reputation": 19, "user_id": 7394420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ef497ce4059f10663d0af5fcecb43?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Singh", "link": "https://stackoverflow.com/users/7394420/neha-singh"}, "edited": false, "score": 0, "creation_date": 1539094152, "post_id": 52520777, "comment_id": 92371421, "body": "yes there are multiple modules."}, {"owner": {"reputation": 1042, "user_id": 1520750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jbqjv.jpg?s=128&g=1", "display_name": "Krishna Mohan", "link": "https://stackoverflow.com/users/1520750/krishna-mohan"}, "edited": false, "score": 0, "creation_date": 1539095985, "post_id": 52520777, "comment_id": 92372643, "body": "You can club shared components into a module and import this module in the target modules."}, {"owner": {"reputation": 135, "user_id": 8772425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb1e0e93097563e04a292c09c9329b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Q.Z", "link": "https://stackoverflow.com/users/8772425/q-z"}, "edited": false, "score": 0, "creation_date": 1539101852, "post_id": 52520777, "comment_id": 92375939, "body": "Have you tried to import Module1 in Module2Child?"}, {"owner": {"reputation": 19, "user_id": 7394420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ef497ce4059f10663d0af5fcecb43?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Singh", "link": "https://stackoverflow.com/users/7394420/neha-singh"}, "edited": false, "score": 0, "creation_date": 1539148395, "post_id": 52520777, "comment_id": 92390834, "body": "Have you tried to import Module1 in Module2Child? I tried to import Module 1 component into module 2"}], "owner": {"reputation": 19, "user_id": 7394420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08ef497ce4059f10663d0af5fcecb43?s=128&d=identicon&r=PG&f=1", "display_name": "Neha Singh", "link": "https://stackoverflow.com/users/7394420/neha-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1539095757, "creation_date": 1537973961, "last_edit_date": 1539095757, "question_id": 52520777, "link": "https://stackoverflow.com/questions/52520777/angular-5-use-component-of-one-module-into-the-other-module", "title": "Angular 5: Use Component of one Module into the Other module", "body": "<p>I have two Modules in my src folder lets say Module1 and Module2 (so basically both the modules in the same level no parent module for the two)\nIn my Module 2-- I again have One Module lets say Module2Child which consist of multiple components </p>\n\n<p>My Requirement is to Use One Component which is in the Module1, in the Component of the Module2Child whose parent module is Module2.</p>\n\n<p>I did try to export the component of the Module1 (in <strong>module.ts</strong> file) and  Import the Module 1 in Module 2 but it's not working saying unknown selector</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 3, "creation_date": 1537973927, "post_id": 52520678, "comment_id": 91981082, "body": "You can simplify <code>keyof Pick&lt;T, K&gt;</code> to just <code>K</code>."}, {"owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1537974209, "post_id": 52520678, "comment_id": 91981253, "body": "@jcalz Thanks! Corrected."}], "tags": [], "owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "is_accepted": true, "score": 19, "last_activity_date": 1537974007, "last_edit_date": 1537974007, "creation_date": 1537973678, "answer_id": 52520678, "question_id": 52520658, "link": "https://stackoverflow.com/questions/52520658/opposite-of-pick-in-typescript/52520678#52520678", "title": "Opposite of &quot;Pick&quot; in Typescript", "body": "<p>If we need to remove properties <code>key2</code> and <code>key4</code>, this will work:</p>\n\n<pre><code>type Without&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;\n\nlet obj: Without&lt;ObjectType, 'key2' | 'key4'&gt;\n</code></pre>\n\n<p><strong>Elaboration:</strong></p>\n\n<p><code>Exclude&lt;keyof T, K&gt;</code> returns <code>'key1' | 'key3'</code></p>\n\n<p><code>Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</code> returns the desired result <code>{ key1: number, key3: boolean }</code></p>\n"}, {"tags": [], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "is_accepted": false, "score": 1, "last_activity_date": 1553076533, "creation_date": 1553076533, "answer_id": 55258197, "question_id": 52520658, "link": "https://stackoverflow.com/questions/52520658/opposite-of-pick-in-typescript/55258197#55258197", "title": "Opposite of &quot;Pick&quot; in Typescript", "body": "<p>You can use 'utility-types' Omit generic.</p>\n\n<pre><code>import { Omit } from \"utility-types\"\n\ninterface IHouse {\n    rooms: number \n    gardenSize: number\n    toilets: number\n}\n\ntype Appartment = Omit&lt;IHouse, \"gardenSize\"&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5909, "user_id": 500207, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DsvTT.jpg?s=128&g=1", "display_name": "Ahmed Fasih", "link": "https://stackoverflow.com/users/500207/ahmed-fasih"}, "edited": false, "score": 1, "creation_date": 1565142925, "post_id": 56431909, "comment_id": 101255628, "body": "Oddly enough, <code>Omit</code> allows you to omit fields not in the original, i.e., in the example above, <code>let obj: Omit&lt;ObjectType, &#39;foo&#39; | &#39;bar&#39;&gt;</code> compiles leaving <code>obj</code> with type <code>ObjectType</code>. If you want to ensure the fields you omit make sense, modify the definition: <code>type ExactOmit&lt;T, K extends keyof T&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;</code> (i.e., change <code>any</code> to <code>T</code>)."}], "tags": [], "owner": {"reputation": 561, "user_id": 5364299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nYR61.jpg?s=128&g=1", "display_name": "Josiah Nunemaker", "link": "https://stackoverflow.com/users/5364299/josiah-nunemaker"}, "is_accepted": false, "score": 17, "last_activity_date": 1559582478, "creation_date": 1559582478, "answer_id": 56431909, "question_id": 52520658, "link": "https://stackoverflow.com/questions/52520658/opposite-of-pick-in-typescript/56431909#56431909", "title": "Opposite of &quot;Pick&quot; in Typescript", "body": "<p>As of TypeScript 3.5, there is an <code>Omit</code> helper that works as you describe.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type ObjectType = { \n    key1: number, \n    key2: string, \n    key3: boolean, \n    key4: number[] \n}\n\nlet obj: Omit&lt;ObjectType, 'key2' | 'key4'&gt; // type is { key1: number, key3: boolean }\n</code></pre>\n\n<hr>\n\n<p>For older versions of TypeScript (>2.8), you can use a combination of <code>Pick</code> and <code>Exclude</code> as mentioned by Eduard in his answer.</p>\n\n<p>I often make a helper type to make things a bit less verbose (note this is the exact definition used in TS 3.5)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Omit&lt;T, K extends keyof any&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\n</code></pre>\n"}], "owner": {"reputation": 5504, "user_id": 7741897, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/271c12ca9e7fa087a181657aebed1293?s=128&d=identicon&r=PG&f=1", "display_name": "Eduard", "link": "https://stackoverflow.com/users/7741897/eduard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4337, "favorite_count": 4, "accepted_answer_id": 52520678, "answer_count": 3, "score": 11, "last_activity_date": 1559582478, "creation_date": 1537973637, "question_id": 52520658, "link": "https://stackoverflow.com/questions/52520658/opposite-of-pick-in-typescript", "title": "Opposite of &quot;Pick&quot; in Typescript", "body": "<p>I am trying to compose a type, which, unlike <code>Pick</code>, would remove certain properties from the object type.</p>\n\n<p>It should work this way:</p>\n\n<pre><code>type ObjectType = { \n    key1: number, \n    key2: string, \n    key3: boolean, \n    key4: number[] \n}\n\nlet obj: Remove&lt;ObjectType, 'key2' | 'key4'&gt;\n</code></pre>\n\n<p>Here <code>obj</code>'s type should be: { key1: number, key3: boolean }</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1537972995, "post_id": 52520357, "comment_id": 91980397, "body": "These are errors from typescript compiler and not from tslint. You can use <i>// @ts-ignore</i> above the line with the error to suppress it. (You can&#39;t suppress errors for code block, but only for single line)"}], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 8357750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215385622d9b2c72e5f83e85ee43fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Hall", "link": "https://stackoverflow.com/users/8357750/hayden-hall"}, "is_accepted": false, "score": 3, "last_activity_date": 1537973162, "creation_date": 1537973162, "answer_id": 52520485, "question_id": 52520357, "link": "https://stackoverflow.com/questions/52520357/tslintdsiable-does-not-work-what-is-a-probable-reason/52520485#52520485", "title": "tslint:dsiable does not work. What is a probable reason?", "body": "<p>These errors are from the TypeScript compiler itself, as indicated by <code>[ts]</code> in the errors.</p>\n\n<p>The following will get rid of the errors, but you'll need to check anything using the function is doing so correctly. i.e. with a valid <code>options</code> parameter.</p>\n\n<pre><code>export async function fetchUrl(url: string, options: RequestInit) {\n  return fetch(url, options)\n    .then(async (response: Response) =&gt; response.json())\n    .then((data: any) =&gt; data.data);\n}\n</code></pre>\n"}], "owner": {"reputation": 12496, "user_id": 1283776, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/abb815001c365007d50d2bdb3226e70a?s=128&d=identicon&r=PG", "display_name": "user1283776", "link": "https://stackoverflow.com/users/1283776/user1283776"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537973162, "creation_date": 1537972733, "question_id": 52520357, "link": "https://stackoverflow.com/questions/52520357/tslintdsiable-does-not-work-what-is-a-probable-reason", "title": "tslint:dsiable does not work. What is a probable reason?", "body": "<p>Despite having set <code>tslint:disable</code> I get tslint warnings.</p>\n\n<p>The specific warnings I get are:</p>\n\n<pre><code>[ts] Argument of type 'string' is not assignable to parameter of type 'RequestInit | undefined'.\n(parameter) options: string\n\n[ts] Parameter 'response' implicitly has an 'any' type.\n(parameter) response: Response\n</code></pre>\n\n<p>This is my code.</p>\n\n<pre><code>/* tslint:disable */\n\n// imports \nexport async function fetchUrl(url: string, options: string) {\n  return fetch(url, options)\n    .then(async (response) =&gt; response.json())\n    .then((data: any) =&gt; data.data);\n}\n\n// other code\n\n/* tslint:enable */\n</code></pre>\n\n<p>Why do I get these warnings even if I have disabled tslint?</p>\n\n<p>How can I get rid of the error messages for this file?</p>\n"}, {"tags": ["angular", "typescript", "bulma"], "comments": [{"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1537972992, "post_id": 52520223, "comment_id": 91980396, "body": "Did you import css and js library correcly in your webpack ?"}, {"owner": {"reputation": 688, "user_id": 5639165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b56a28cbcec101d86c73bb42f5ea2bf7?s=128&d=identicon&r=PG&f=1", "display_name": "Diogo Santos", "link": "https://stackoverflow.com/users/5639165/diogo-santos"}, "reply_to_user": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1537973913, "post_id": 52520223, "comment_id": 91981068, "body": "Hello! What do you mean with webpack?"}, {"owner": {"reputation": 3024, "user_id": 5184658, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/zXZRq.jpg?s=128&g=1", "display_name": "OrcusZ", "link": "https://stackoverflow.com/users/5184658/orcusz"}, "edited": false, "score": 0, "creation_date": 1537974167, "post_id": 52520223, "comment_id": 91981232, "body": "Angular project 2 and above, have a webpack process to compile and serve the server. if you install bulma extensions from npm, you should integrate them in your webpack config to be available to use it correctly"}], "owner": {"reputation": 688, "user_id": 5639165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b56a28cbcec101d86c73bb42f5ea2bf7?s=128&d=identicon&r=PG&f=1", "display_name": "Diogo Santos", "link": "https://stackoverflow.com/users/5639165/diogo-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537972367, "creation_date": 1537972367, "question_id": 52520223, "link": "https://stackoverflow.com/questions/52520223/buttons-in-bulma-steps-doesnt-work-angular2", "title": "Buttons in bulma-steps doesn&#39;t work Angular2", "body": "<p>I have this HTML code in a child component:</p>\n\n<pre><code>&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bulma-steps@2.2.1/dist/css/bulma-steps.min.css\"&gt;\n\n&lt;div class=\"steps\" id=\"stepsDemo\"&gt;\n  &lt;div class=\"step-item is-active is-success\"&gt;\n    &lt;div class=\"step-marker\"&gt;1&lt;/div&gt;\n    &lt;div class=\"step-details\"&gt;\n      &lt;p class=\"step-title\"&gt;Account&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"step-item\"&gt;\n    &lt;div class=\"step-marker\"&gt;2&lt;/div&gt;\n    &lt;div class=\"step-details\"&gt;\n      &lt;p class=\"step-title\"&gt;Profile&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"step-item\"&gt;\n    &lt;div class=\"step-marker\"&gt;3&lt;/div&gt;\n    &lt;div class=\"step-details\"&gt;\n      &lt;p class=\"step-title\"&gt;Social&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"step-item\"&gt;\n    &lt;div class=\"step-marker\"&gt;4&lt;/div&gt;\n    &lt;div class=\"step-details\"&gt;\n      &lt;p class=\"step-title\"&gt;Finish&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"steps-content\"&gt;\n    &lt;div class=\"step-content has-text-centered is-active\"&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Username&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control\"&gt;\n              &lt;input class=\"input\" name=\"username\" id=\"username\" type=\"text\" placeholder=\"Username\" autofocus\n                data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Password&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control has-icon has-icon-right\"&gt;\n              &lt;input class=\"input\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Password\" data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Confirm password&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control has-icon has-icon-right\"&gt;\n              &lt;input class=\"input\" type=\"password\" name=\"password_confirm\" id=\"password_confirm\" placeholder=\"Confirm password\"\n                data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"step-content has-text-centered\"&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Firstname&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control\"&gt;\n              &lt;input class=\"input\" name=\"firstname\" id=\"firstname\" type=\"text\" placeholder=\"Firstname\" autofocus\n                data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Last name&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control has-icon has-icon-right\"&gt;\n              &lt;input class=\"input\" type=\"text\" name=\"lastname\" id=\"lastname\" placeholder=\"Last name\" data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Email&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control has-icon has-icon-right\"&gt;\n              &lt;input class=\"input\" type=\"email\" name=\"email\" id=\"email\" placeholder=\"Email\" data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"step-content has-text-centered\"&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Facebook account&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control\"&gt;\n              &lt;input class=\"input\" name=\"facebook\" id=\"facebook\" type=\"text\" placeholder=\"Facebook account url\"\n                autofocus data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field is-horizontal\"&gt;\n        &lt;div class=\"field-label is-normal\"&gt;\n          &lt;label class=\"label\"&gt;Twitter account&lt;/label&gt;\n        &lt;/div&gt;\n        &lt;div class=\"field-body\"&gt;\n          &lt;div class=\"field\"&gt;\n            &lt;div class=\"control\"&gt;\n              &lt;input class=\"input\" name=\"twitter\" id=\"twitter\" type=\"text\" placeholder=\"Twitter account url\" autofocus\n                data-validate=\"require\"&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"step-content has-text-centered\"&gt;\n      &lt;h1 class=\"title is-4\"&gt;Your account is now created!&lt;/h1&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"steps-actions\"&gt;\n    &lt;div class=\"steps-action\"&gt;\n      &lt;a data-nav=\"previous\" class=\"button is-light\"&gt;Previous&lt;/a&gt;\n    &lt;/div&gt;\n    &lt;div class=\"steps-action\"&gt;\n      &lt;a data-nav=\"next\" class=\"button is-light\"&gt;Next&lt;/a&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;script type=\"text/javascript\" src=\"https://wikiki.github.io/node_modules/bulma-extensions/bulma-steps/dist/js/bulma-steps.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;bulmaSteps.attach();&lt;/script&gt;\n</code></pre>\n\n<p>The issue here is that the \"previous\" and \"next\" buttons doesn't work, they take me to my default App route.\nThe weird thing is that copying this exact same code to a fiddle, it works as intended, as it can be visualized here: <a href=\"http://jsfiddle.net/ADukg/30159/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/ADukg/30159/</a>\nI have even tried to move this code to my <code>AppComponent.html</code> but with no luck.</p>\n\n<p>Any clue on what it might be the problem here?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1682, "user_id": 2847257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2a6ef225f60cff2e3f829c10dc54c0?s=128&d=identicon&r=PG&f=1", "display_name": "jlmt", "link": "https://stackoverflow.com/users/2847257/jlmt"}, "edited": false, "score": 0, "creation_date": 1538148516, "post_id": 52528669, "comment_id": 92055521, "body": "Many thanks for the above - this seems a much cleaner approach, but on implementing the pattern I&#39;m finding that eg. <code>this.props.isAuthenticated</code>, which ideally should be concealed as an implementation detail of <code>WithRestApi</code>, is exposed within <code>MyComponent</code>. Any thoughts on how this could be avoided?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 1682, "user_id": 2847257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2a6ef225f60cff2e3f829c10dc54c0?s=128&d=identicon&r=PG&f=1", "display_name": "jlmt", "link": "https://stackoverflow.com/users/2847257/jlmt"}, "edited": false, "score": 0, "creation_date": 1538154290, "post_id": 52528669, "comment_id": 92058270, "body": "Added to the answer."}, {"owner": {"reputation": 1682, "user_id": 2847257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2a6ef225f60cff2e3f829c10dc54c0?s=128&d=identicon&r=PG&f=1", "display_name": "jlmt", "link": "https://stackoverflow.com/users/2847257/jlmt"}, "edited": false, "score": 0, "creation_date": 1538409108, "post_id": 52528669, "comment_id": 92124141, "body": "Thanks for the addition - all works well, but with one odd case - if I have a version of <code>MyComponent</code> without its own props (eg. <code>type MyComponentProps = WithRestApiProps&lt;{}&gt;</code>), that component can&#39;t be used in <code>MyBase</code>&#39;s <code>render</code> function without a TypeScript error: <code>Property &#39;getResultOfApiCall&#39; is missing in type &#39;{}&#39;</code>. The only way I can find around this is to <code>export default withRestApi(MyComponentNoProps) as React.ComponentType;</code>, but again am back to type assertions. Is there a better way to do this?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 1682, "user_id": 2847257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2a6ef225f60cff2e3f829c10dc54c0?s=128&d=identicon&r=PG&f=1", "display_name": "jlmt", "link": "https://stackoverflow.com/users/2847257/jlmt"}, "edited": false, "score": 0, "creation_date": 1538419765, "post_id": 52528669, "comment_id": 92128854, "body": "Good catch.  Inferring from <code>T &amp; { getResultOfApiCall: () =&gt; string }</code> to <code>OrigProps &amp; { getResultOfApiCall: () =&gt; string }</code> normally throws out the matching intersection constituents to get <code>OrigProps = T</code>, but when <code>T = {}</code>, <code>T &amp; { getResultOfApiCall: () =&gt; string }</code> simplifies to just <code>{ getResultOfApiCall: () =&gt; string }</code> and the logic to throw out matching constituents doesn&#39;t trigger.  Unfortunately, I doubt we can change the inference logic without breaking other existing code.  I updated the answer to work around the problem by adding another dummy constituent to the intersection."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": false, "score": 1, "last_activity_date": 1538445092, "last_edit_date": 1538445092, "creation_date": 1538016495, "answer_id": 52528669, "question_id": 52520174, "link": "https://stackoverflow.com/questions/52520174/correct-typescript-type-for-return-value-of-nested-prop-injection-hocs-in-react/52528669#52528669", "title": "Correct Typescript type for return value of nested prop-injection-HOCs in React", "body": "<p>The first problem is that the component classes in the HOCs are defined incorrectly, as you'll see if you enable the <code>strictFunctionTypes</code> compiler option.  The props coming from the outside to <code>WithAuthentication</code> do not include <code>isAuthenticated</code>; <code>WithAuthentication</code> generates that prop itself.  So the props type of <code>WithAuthentication</code> should exclude <code>IWithAuthenticationProps</code>:</p>\n\n<pre><code>// ...\nclass WithAuthentication extends React.Component&lt;Pick&lt;P, Exclude&lt;keyof P, keyof IWithAuthenticationProps&gt;&gt;&gt; {\n    public render() {\n        const originalProps = this.props;\n        // ...\n    }\n}\n// ...\n</code></pre>\n\n<p>And similarly for <code>WithRestApi</code> (and remove the type assertion):</p>\n\n<pre><code>// ...\nwithAuthentication(class WithRestApi extends React.Component&lt;Pick&lt;P, Exclude&lt;keyof P, keyof IWithRestApiProps&gt;&gt; &amp; IWithAuthenticationProps&gt; {\n    public render() {\n        const originalProps = this.props;\n        // ...\n    }\n    // ...\n}\n// ...\n</code></pre>\n\n<p>Now you are in a world of hurt because TypeScript is unable to simplify complex combinations of <code>Pick</code> and <code>Exclude</code> types in <code>WithRestApi.tsx</code>.  The error (pretty printed by me) is:</p>\n\n<pre><code>Type 'ComponentType&lt;\n  Pick&lt;\n    Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;\n      &amp; IWithAuthenticationProps,\n    Exclude&lt;Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;, \"isAuthenticated\"&gt;\n  &gt;\n&gt;'\nis not assignable to type\n'ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;&gt;'.\n</code></pre>\n\n<p>We can look at this error message and realize that the two types will be equivalent for any choice of <code>P</code>, but TypeScript doesn't have the necessary algebraic rules to prove this.</p>\n\n<p>So I would suggest a different approach.  For each HOC, instead of declaring a type variable for the inner props type and defining the outer props type by excluding things, declare a type variable for the outer props type and define the inner props type as an intersection.  TypeScript is much better at simplifying and performing inference involving intersections.  The drawback is that the props type of <code>MyComponent</code> has to be written as an intersection of the matching form instead of just an interface.  You can define type aliases to generate the necessary intersections.  The solution:</p>\n\n<p><strong>WithAuthentication.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\n\n// The `{[withAuthenticationPropsMarker]?: undefined}` constituent ensures that\n// `WithAuthenticationProps&lt;{}&gt;` is still an intersection so that the inference\n// rule that throws out matching constituents between\n// `WithAuthenticationProps&lt;{}&gt;` and `WithAuthenticationProps&lt;OrigProps&gt;` still\n// works.  In case that rule isn't applicable, the checker tags each union or\n// intersection type with the first type alias reference it sees that produces\n// the union or intersection type, and there's an inference rule that matches up\n// the type arguments of union or intersection types produced by instantiating\n// the same type alias.  Normally this is fragile because it depends on the\n// desired type alias being the first one seen in the compilation, but our use\n// of a unique marker should ensure that nothing else can produce and tag the\n// intersection type before we do.\nconst withAuthenticationPropsMarker = Symbol();\nexport type WithAuthenticationProps&lt;OrigProps&gt; = OrigProps &amp;\n    {[withAuthenticationPropsMarker]?: undefined} &amp; {\n    isAuthenticated: () =&gt; boolean;\n};\n\nexport const withAuthentication = &lt;P extends {}&gt;(Component: React.ComponentType&lt;WithAuthenticationProps&lt;P&gt;&gt;):\n    React.ComponentType&lt;P&gt; =&gt;\n    class WithAuthentication extends React.Component&lt;P&gt; {\n        public render() {\n            return (\n                &lt;Component\n                    {...this.props}\n                    isAuthenticated={this.isAuthenticated}\n                /&gt;\n            );\n        }\n\n        private readonly isAuthenticated = (): boolean =&gt; {\n            return true;\n        }\n    }\n</code></pre>\n\n<p><strong>WithRestApi.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\n\nimport { WithAuthenticationProps, withAuthentication } from './WithAuthentication';\n\nconst withRestApiPropsMarker = Symbol();\nexport type WithRestApiProps&lt;OrigProps&gt; = OrigProps &amp;\n    {[withRestApiPropsMarker]?: undefined} &amp; {\n    getResultOfApiCall: () =&gt; string;\n}\n\nexport const withRestApi = &lt;P extends {}&gt;(Component: React.ComponentType&lt;WithRestApiProps&lt;P&gt;&gt;):\n    React.ComponentType&lt;P&gt; =&gt;\n    withAuthentication(class WithRestApi extends React.Component&lt;WithAuthenticationProps&lt;P&gt;&gt; {\n        public render() {\n            // @ts-ignore : \"Rest types may only be created from object types\"\n            // https://github.com/Microsoft/TypeScript/issues/10727\n            let {isAuthenticated, ...otherPropsUntyped} = this.props;\n            let otherProps: P = otherPropsUntyped;\n\n            return (\n                &lt;Component\n                    {...otherProps}\n                    getResultOfApiCall={this.getApiData}\n                /&gt;\n            );\n        }\n\n        private readonly getApiData = () =&gt; {\n            if (this.props.isAuthenticated()) {\n                return 'Some API result';\n            } else {\n                return 'Not authenticated';\n            }\n        }\n    });\n</code></pre>\n\n<p><strong>MyComponent.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\n\nimport { WithRestApiProps, withRestApi } from './WithRestApi';\n\ntype MyComponentProps = WithRestApiProps&lt;{\n    componentProp: string;\n}&gt;;\n\nclass MyComponent extends React.Component&lt;MyComponentProps&gt; {\n    public render() {\n        return (\n            &lt;&gt;\n                &lt;h2&gt;Component prop: {this.props.componentProp}&lt;/h2&gt;\n                &lt;h2&gt;API result: {this.props.getResultOfApiCall()}&lt;/h2&gt;\n            &lt;/&gt;\n        );\n    }\n}\n\nexport default withRestApi(MyComponent);\n</code></pre>\n\n<h2>Follow-up: hiding <code>isAuthenticated</code> from the <code>withRestApi</code> wrapped component</h2>\n\n<p>Hiding the prop in the typings is a matter of changing the definition of <code>WithRestApiProps</code> to:</p>\n\n<pre><code>export type WithRestApiProps&lt;OrigProps&gt; = OrigProps &amp; {\n    getResultOfApiCall: () =&gt; string;\n}\n</code></pre>\n\n<p>The prop will still be passed at runtime.  If you want to avoid that, you could change <code>WithRestApi.render</code> to:</p>\n\n<pre><code>    public render() {\n        // @ts-ignore : \"Rest types may only be created from object types\"\n        // https://github.com/Microsoft/TypeScript/issues/10727\n        let {isAuthenticated, ...otherPropsUntyped} = this.props;\n        let otherProps: P = otherPropsUntyped;\n\n        return (\n            &lt;Component\n                {...otherProps}\n                getResultOfApiCall={this.getApiData}\n            /&gt;\n        );\n    }\n</code></pre>\n"}], "owner": {"reputation": 1682, "user_id": 2847257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2a6ef225f60cff2e3f829c10dc54c0?s=128&d=identicon&r=PG&f=1", "display_name": "jlmt", "link": "https://stackoverflow.com/users/2847257/jlmt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1538445092, "creation_date": 1537972248, "question_id": 52520174, "link": "https://stackoverflow.com/questions/52520174/correct-typescript-type-for-return-value-of-nested-prop-injection-hocs-in-react", "title": "Correct Typescript type for return value of nested prop-injection-HOCs in React", "body": "<p>I'm wondering if I have the correct typing for an API HOC's return type in the following scenario:</p>\n\n<ul>\n<li><p>I have an Authentication HOC, <code>withAuthentication</code>, which injects auth services into a component's props.</p></li>\n<li><p>I have an API HOC, <code>withRestApi</code>, which injects API calls, and which itself uses <code>withAuthentication</code>.</p></li>\n<li><p><code>MyComponent</code> needs to make use of <code>withRestApi</code>'s injected functions, and has its own props.</p></li>\n</ul>\n\n<p>(In the actual app, <code>withAuthentication</code> also needs a react-router HOC, but am trying to keep things as simple as possible in this example.)</p>\n\n<p>I've based my code so far on <a href=\"https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb\" rel=\"nofollow noreferrer\">James Ravencroft's excellent post on HOCs and Typescript</a>, and additionally <a href=\"https://stackoverflow.com/questions/51083920/how-to-handle-props-injected-by-hoc-in-react-with-typescript\">this SO post on injected HOC props</a>, which helped to solve an issue in which HOC props were being exposed to the parent of the wrapped component.</p>\n\n<p>What I'm trying to achieve is:</p>\n\n<ul>\n<li>Access to <code>this.props.getResultOfApiCall</code> from within the <code>MyComponent</code> class, but hidden for any parent component.</li>\n<li>Access to <code>this.props.isAuthenticated</code> from within the <code>WithRestApi</code> class, but hidden for any parent component.</li>\n<li>Ability to set <code>componentProp</code> on <code>MyComponent</code> from a parent component.</li>\n</ul>\n\n<p>Code as follows:</p>\n\n<p><strong>MyBase.tsx</strong>, enclosing component purely to demonstrate use of <code>MyComponent</code>'s prop:</p>\n\n<pre><code>import * as React from 'react';\n\nimport MyComponent from './MyComponent';\n\nclass MyBase extends React.Component {\n    public render() {\n        return (\n            &lt;&gt;\n                &lt;h1&gt;RESULT&lt;/h1&gt;\n                &lt;MyComponent componentProp={'Prop belonging to MyComponent'} /&gt;\n            &lt;/&gt;\n        );\n    }\n}\n\nexport default MyBase;\n</code></pre>\n\n<p><strong>MyComponent.tsx</strong>, which uses the API:</p>\n\n<pre><code>import * as React from 'react';\n\nimport { IWithRestApiProps, withRestApi } from './WithRestApi';\n\ninterface IMyComponentProps extends IWithRestApiProps {\n    componentProp: string;\n}\n\nclass MyComponent extends React.Component&lt;IMyComponentProps&gt; {\n    public render() {\n        return (\n            &lt;&gt;\n                &lt;h2&gt;Component prop: {this.props.componentProp}&lt;/h2&gt;\n                &lt;h2&gt;API result: {this.props.getResultOfApiCall()}&lt;/h2&gt;\n            &lt;/&gt;\n        );\n    }\n}\n\nexport default withRestApi(MyComponent);\n</code></pre>\n\n<p><strong>WithAuthentication.tsx</strong> (putting this first because it's not the problem... as far as I can tell):</p>\n\n<pre><code>import * as React from 'react';\n\nexport interface IWithAuthenticationProps {\n    isAuthenticated: () =&gt; boolean;\n}\n\nexport const withAuthentication = &lt;P extends IWithAuthenticationProps&gt;(Component: React.ComponentType&lt;P&gt;):\n    React.ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, keyof IWithAuthenticationProps&gt;&gt;&gt; =&gt;\n    class WithAuthentication extends React.Component&lt;P&gt; {\n        public render() {\n\n            const { isAuthenticated, ...originalProps } = this.props as IWithAuthenticationProps; \n\n            return (\n                &lt;Component\n                    {...originalProps}\n                    isAuthenticated={this.isAuthenticated}\n                /&gt;\n            );\n        }\n\n        private readonly isAuthenticated = (): boolean =&gt; {\n            return true;\n        }\n    }\n</code></pre>\n\n<p><strong>WithRestApi.tsx</strong>, which contains the typing problem.</p>\n\n<pre><code>import * as React from 'react';\n\nimport { IWithAuthenticationProps, withAuthentication } from './WithAuthentication';\n\nexport interface IWithRestApiProps extends IWithAuthenticationProps {\n    getResultOfApiCall: () =&gt; string;\n}\n\nexport const withRestApi = &lt;P extends IWithRestApiProps&gt;(Component: React.ComponentType&lt;P&gt;):\n    React.ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, keyof IWithRestApiProps&gt;&gt;&gt; =&gt;\n    withAuthentication(class WithRestApi extends React.Component&lt;P&gt; {\n        public render() {\n\n            const { getResultOfApiCall, ...originalProps } = this.props as IWithRestApiProps; \n\n            return (\n                &lt;Component\n                    {...originalProps}\n                    getResultOfApiCall={this.getApiData}\n                /&gt;\n            );\n        }\n\n        private readonly getApiData = () =&gt; {\n            if (this.props.isAuthenticated()) {\n                return 'Some API result';\n            } else {\n                return 'Not authenticated';\n            }\n        }\n    }) as React.ComponentType&lt;P&gt;; // TODO - remove this type assertion...?\n</code></pre>\n\n<p>This code builds, but as you can see I've had to type-assert the return value of the <code>withApi</code> HOC to <code>React.ComponentType&lt;P&gt;</code>. Without that assertion I see this Typescript error:</p>\n\n<pre><code>[ts]\nType 'ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, \"isAuthenticated\"&gt;&gt;&gt;' is not assignable to type 'ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;&gt;'.\n  Type 'ComponentClass&lt;Pick&lt;P, Exclude&lt;keyof P, \"isAuthenticated\"&gt;&gt;, ComponentState&gt;' is not assignable to type 'ComponentType&lt;Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;&gt;'.\n    Type 'ComponentClass&lt;Pick&lt;P, Exclude&lt;keyof P, \"isAuthenticated\"&gt;&gt;, ComponentState&gt;' is not assignable to type 'ComponentClass&lt;Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;, ComponentState&gt;'.\n      Type 'Pick&lt;P, Exclude&lt;keyof P, \"isAuthenticated\"&gt;&gt;' is not assignable to type 'Pick&lt;P, Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;&gt;'.\n        Type 'Exclude&lt;keyof P, \"getResultOfApiCall\" | \"isAuthenticated\"&gt;' is not assignable to type 'Exclude&lt;keyof P, \"isAuthenticated\"&gt;'.\n</code></pre>\n\n<p>This is the first time I've run into a need for <code>Pick..Exclude</code>, so am a little hazy on exactly how the type is being matched in this case. I'm wondering if there's something about the way I'm using it here that could be improved to remove the need for the type assertion?</p>\n"}, {"tags": ["node.js", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1537971669, "post_id": 52519740, "comment_id": 91979449, "body": "getPolicyDetails you can call inside ngAfterViewInit only. No need of 2 life cycles"}], "answers": [{"tags": [], "owner": {"reputation": 14219, "user_id": 863, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f5256889a7f5add5559ec762b18c935?s=128&d=identicon&r=PG", "display_name": "Matt Dillard", "link": "https://stackoverflow.com/users/863/matt-dillard"}, "is_accepted": false, "score": 3, "last_activity_date": 1537972962, "creation_date": 1537972962, "answer_id": 52520414, "question_id": 52519740, "link": "https://stackoverflow.com/questions/52519740/how-to-wait-for-an-api-call-using-subscribe-to-finish-in-ngoninit/52520414#52520414", "title": "How to wait for an API call using subscribe to finish in ngOnInit?", "body": "<p>If you want <code>this.makePolicyTable()</code> to be called only after the web request (<code>getPolicyDetails</code>) completes, then you should place that call inside of the <code>.subscribe()</code> block:</p>\n\n<pre><code>ngOnInit() {\n  console.log('ngOnInit started');\n  this.route.params.subscribe(params =&gt; {\n    this.getPoliciesService.getPolicyDetails(params.policyNo)\n      .subscribe((data: PoliciesResponse) =&gt; {\n        this.policy = data.data[0];\n        this.flattenPolicy();\n        console.log('Here', Object.keys(this.policy).length);\n\n        this.makePolicyTable();\n      });\n  });\n}\n</code></pre>\n\n<p>You'll probably also want to move the table logic that's in <code>ngAfterViewInit()</code> inside the <code>subscribe()</code> block, too.</p>\n\n<p>Basically, any logic that needs to wait for the asynchronous call to complete should be triggered inside the <code>.subscribe()</code> block. Otherwise, as you're seeing, it can be run before the web request gets back.</p>\n\n<p>Finally, I would move this web service call into <code>ngAfterViewInit()</code> instead of <code>ngOnInit()</code>. Then you can be sure that the Angular components and views are all set up for you to manipulate them when the web service call completes.</p>\n"}, {"tags": [], "owner": {"reputation": 544, "user_id": 5580783, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/rg5bX.png?s=128&g=1", "display_name": "Pedro Bezanilla", "link": "https://stackoverflow.com/users/5580783/pedro-bezanilla"}, "is_accepted": false, "score": 0, "last_activity_date": 1550051955, "creation_date": 1550051955, "answer_id": 54667299, "question_id": 52519740, "link": "https://stackoverflow.com/questions/52519740/how-to-wait-for-an-api-call-using-subscribe-to-finish-in-ngoninit/54667299#54667299", "title": "How to wait for an API call using subscribe to finish in ngOnInit?", "body": "<p>You could also set a flag variable to false in the component and then when async calls finishes set it to true and render the HTML based on that flag variable with *ngIf syntax.</p>\n"}], "owner": {"reputation": 21, "user_id": 10411510, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zkuO_lZvb00/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWXgcZ-t1t7q_UHLeWAuyhjaI2NYA/mo/photo.jpg?sz=128", "display_name": "Viral Pasad", "link": "https://stackoverflow.com/users/10411510/viral-pasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2603, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1550051955, "creation_date": 1537970999, "question_id": 52519740, "link": "https://stackoverflow.com/questions/52519740/how-to-wait-for-an-api-call-using-subscribe-to-finish-in-ngoninit", "title": "How to wait for an API call using subscribe to finish in ngOnInit?", "body": "<p>Actual Log order:\n('ngOnInit started') \n('after me aaya', this.policydetails) \n('Here', Object.keys(this.policy).length)</p>\n\n<p>Expected Log order:\n('ngOnInit started') \n('Here', Object.keys(this.policy).length)\n('after me aaya', this.policydetails) </p>\n\n<p>Component.ts file snippet below:\n</p>\n\n<pre><code>ngOnInit() {\n    console.log('ngOnInit started');\n    this.route.params.subscribe(params =&gt; {\n      this.getPoliciesService.getPolicyDetails(params.policyNo)\n      .subscribe((data: PoliciesResponse) =&gt; {\n        this.policy = data.data[0];\n        this.flattenPolicy();\n        console.log('Here', Object.keys(this.policy).length);\n    });\n    });\n\n    this.makePolicyTable();\n\n  }\n\n  ngAfterViewInit() {\n    console.log('after me aaya', this.policydetails);\n    const table = this.policydetails.nativeElement;\n    table.innerHTML = '';\n    console.log(table);\n    console.log(this.table);\n    table.appendChild(this.table);\n    console.log(table);\n  }\n</code></pre>\n\n\n\n<p>Service.ts file snippet below:</p>\n\n<pre><code>getPolicyDetails(policyNo) {\n  const serviceURL = 'http://localhost:7001/getPolicyDetails';\n  console.log('getPolicyDetails service called, policyNo:', policyNo);\n  const params = new HttpParams()\n    .set('policyNo', policyNo);\n  console.log(params);\n  return this.http.get&lt;PoliciesResponse&gt;(serviceURL, {params} );\n}\n</code></pre>\n\n<p>JS file snippet corresponding to the API call below:</p>\n\n<pre><code>router.get('/getPolicyDetails', async function(req, res) {\n    let policyNo = (req.param.policyNo) || req.query.policyNo;\n    console.log('policyNo', typeof policyNo);\n    await helper.getPolicyDetails({'policyNo' : policyNo}, \n        function(err, data) {\n            console.log(err, data)\n            if (err) {\n                return res.send({status : false, msg : data});\n            }\n            return res.send({status : true, data : data});\n    });\n});\n</code></pre>\n\n<p>Can anyone please suggest where exactly do i need to async-await for expected log order? </p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1537970614, "post_id": 52519559, "comment_id": 91978741, "body": "why can&#39;t you emit the event after 1 second using setTimeout() function ?"}, {"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "edited": false, "score": 1, "creation_date": 1537970734, "post_id": 52519559, "comment_id": 91978827, "body": "that&#39;s not good practice with rxjs. there is an operator for his use case"}], "answers": [{"comments": [{"owner": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "edited": false, "score": 0, "creation_date": 1537971896, "post_id": 52519699, "comment_id": 91979613, "body": "Could the same thing be achieved by using a scheduler? I was hoping to keep it as a ReplaySubject type or at least a Subject rather than an Observable, which <code>pipe</code> converts it to."}, {"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "reply_to_user": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "edited": false, "score": 0, "creation_date": 1537972345, "post_id": 52519699, "comment_id": 91979912, "body": "The <code>scheduler</code> would be passed to the operator function as well, so you&#39;d still get an <code>Observable</code>. If you use the second approach from my post, you can cast into <code>ReplaySubject</code>"}, {"owner": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "edited": false, "score": 0, "creation_date": 1537972441, "post_id": 52519699, "comment_id": 91979990, "body": "No, the constructor for ReplaySubject allows passing in a scheduler immediately"}, {"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "reply_to_user": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "edited": false, "score": 0, "creation_date": 1537972574, "post_id": 52519699, "comment_id": 91980087, "body": "You are right, you can also supply it there, but <code>schedulers</code> just decide how to process scheduled taskes (like delay), they are not meant to replace the operators. <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/scheduler.md\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/master/doc/scheduler.md</a>"}, {"owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "reply_to_user": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "edited": false, "score": 0, "creation_date": 1537972660, "post_id": 52519699, "comment_id": 91980148, "body": "A third approach would be to extend <code>ReplaySubject</code> and overwrite the next method with a delayed observable. I&#39;ll add it to my post."}], "tags": [], "owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "is_accepted": false, "score": 5, "last_activity_date": 1537975589, "last_edit_date": 1537975589, "creation_date": 1537970852, "answer_id": 52519699, "question_id": 52519559, "link": "https://stackoverflow.com/questions/52519559/how-can-i-apply-a-delay-to-all-emissions-from-my-replaysubject/52519699#52519699", "title": "How can I apply a delay to all emissions from my ReplaySubject?", "body": "<p>You'd have to pipe the <code>Subject</code> with <code>delay</code> and use the resulting <code>Observable</code> for subscribing, while using the original <code>Subject</code> for emitting.</p>\n\n<p>It looks like this:</p>\n\n<pre><code>let replay = new ReplaySubject(1);\n\nlet delayedReplay = replay.pipe(delay(1000));\n\ndelayedReplay.subscribe((data) =&gt; {\n  console.log('Got:', data);\n});\n\nreplay.next('Test');\n</code></pre>\n\n<p>This should work in all cases, but as stated <a href=\"https://github.com/ReactiveX/rxjs/issues/3574#issuecomment-382357300\" rel=\"nofollow noreferrer\">in this comment</a>, its also possible to <code>lift</code> the subject and cast the result back to a Subject, because <code>lift</code> instantiates an <code>AnonymousSubject</code>. This may cause some leaky abstraction though as you'd have to know the implemention of Subject to be sure the type cast is valid.</p>\n\n<p>If you want to use it, that solution looks like this:</p>\n\n<pre><code>let delayedReplay = &lt;ReplaySubject&gt; new ReplaySubject(1).delay(1000);\n\n// without rxjs-compat in RxJS 6+: \n// let delayedReplay = &lt;ReplaySubject&gt; new ReplaySubject(1).lift(new DelayOperator(1000));\n\ndelayedReplay.subscribe((data) =&gt; {\n    console.log('Got:', data);\n});\n\ndelayedReplay.next('Test');\n</code></pre>\n\n<p>Note that <code>lift</code> may be removed in RxJS 7.</p>\n\n<p>Now, a last option would be to extend ReplaySubject, so you don't have to type cast. Note that this will increase coupling between your implementation and RxJS and neglect the advantanges of composable pipes.</p>\n\n<p>It could look like this:</p>\n\n<pre><code>class DelayedReplaySubject&lt;T&gt; extends ReplaySubject&lt;T&gt; {\n    constructor(buffer: number, private delay: number) {\n        super(delay);\n    }\n\n    next(value?: T): void {\n        of(value)\n            .pipe(delay(this.delay))\n            .subscribe(val =&gt; super.next(val));\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6512, "user_id": 744015, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/0e8c50c74582b4cb3cb75aa5bc546585?s=128&d=identicon&r=PG", "display_name": "Alexey", "link": "https://stackoverflow.com/users/744015/alexey"}, "is_accepted": false, "score": 0, "last_activity_date": 1590494064, "creation_date": 1590494064, "answer_id": 62021546, "question_id": 52519559, "link": "https://stackoverflow.com/questions/52519559/how-can-i-apply-a-delay-to-all-emissions-from-my-replaysubject/62021546#62021546", "title": "How can I apply a delay to all emissions from my ReplaySubject?", "body": "<p>If you want that when you subscribe both future and previous items get emitted with delay</p>\n\n<pre><code>    this.eventsQueue$ = new ReplaySubject&lt;AnalyticsEvent&gt;();\n    this.eventsQueue$.asObservable().pipe(\n      concatMap(value =&gt; of(value).pipe(delay(2000)))\n    ).subscribe((e: AnalyticsEvent) =&gt; {\n       console.log('event received', e.type);\n    });\n</code></pre>\n"}], "owner": {"reputation": 1081, "user_id": 113705, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ea06c92a5109f7ff2e9175328ff14a3a?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/113705/stewart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1590494064, "creation_date": 1537970417, "question_id": 52519559, "link": "https://stackoverflow.com/questions/52519559/how-can-i-apply-a-delay-to-all-emissions-from-my-replaysubject", "title": "How can I apply a delay to all emissions from my ReplaySubject?", "body": "<p>I want to make a <code>ReplaySubject</code> in my Angular app and I want to set it up so that there is always a delay between when an Observer subscribes to it and when it receives an update.</p>\n\n<pre><code>let delayedReplay = new ReplaySubject(1);\n\ndelayedReplay.subscribe((data) =&gt; {\n  console.log('Got:', data);\n});\n\ndelayedReplay.next('Test');\n</code></pre>\n\n<p>What I want is to apply a delay to the ReplaySubject itself so that the above code would log <code>'Got: Test'</code> after, say, 1 second.</p>\n"}, {"tags": ["arrays", "typescript", "arraylist"], "comments": [{"owner": {"reputation": 8852, "user_id": 1383240, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/41093f55db0d5feaa0012ed6b5c3ca5c?s=128&d=identicon&r=PG&f=1", "display_name": "NiVeR", "link": "https://stackoverflow.com/users/1383240/niver"}, "edited": false, "score": 0, "creation_date": 1537968805, "post_id": 52518963, "comment_id": 91977571, "body": "Explain in words what do you exactly need. As of now it is unclear."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 2, "creation_date": 1537968842, "post_id": 52518963, "comment_id": 91977600, "body": "Please review the guidelines for <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and what constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1537971253, "post_id": 52518963, "comment_id": 91979184, "body": "I wanna push data in array[ i ]"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537972034, "post_id": 52518963, "comment_id": 91979707, "body": "@Omar still not clear.. who is <code>List</code> ? When you say ` array[i]:data[i]` do mean <code>array</code> should be an array with a single element ? Could you give example input/output ? To push you just call <code>push</code> on an array"}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1537972215, "post_id": 52518963, "comment_id": 91979829, "body": "array[i].push(data) in Object"}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1537972458, "post_id": 52518963, "comment_id": 91980007, "body": "yes ......................."}, {"owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "edited": false, "score": 0, "creation_date": 1537972514, "post_id": 52518963, "comment_id": 91980051, "body": "I wanna store multi data in array[i]"}], "owner": {"reputation": 59, "user_id": 10177736, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-06tp5UagcYg/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rpFSnyOYdrgMKJIFqruZmveE9ccQ/mo/photo.jpg?sz=128", "display_name": "Omar", "link": "https://stackoverflow.com/users/10177736/omar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537968619, "creation_date": 1537968619, "question_id": 52518963, "link": "https://stackoverflow.com/questions/52518963/how-can-i-defined-array-in-array-in-typescript", "title": "How can I defined array in array in typescript?", "body": "<p>How can I defined array in array  in typescript?</p>\n\n<p>I wanna defined array and I need get data such as that :-</p>\n\n<pre><code>  for(let i = 0 ; i&lt; 5 ; i++) {\n     List: any = [{\n      name: 'data'\n      array[i]:data[i] &lt;----- my problem I wanna push data \n      phone: 2132139812\n    }]\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json", "angular", "typescript"], "comments": [{"owner": {"reputation": 6074, "user_id": 9132049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-s4THmh4Z9p4/AAAAAAAAAAI/AAAAAAAAAJY/MEXx5ikQuWk/photo.jpg?sz=128", "display_name": "Luis felipe De jesus Munoz", "link": "https://stackoverflow.com/users/9132049/luis-felipe-de-jesus-munoz"}, "edited": false, "score": 0, "creation_date": 1537968532, "post_id": 52518924, "comment_id": 91977418, "body": "May you add what you have tried so far please?"}, {"owner": {"reputation": 8011, "user_id": 3049127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f9ef44fca009f9f18ecaf67b5c53936?s=128&d=identicon&r=PG&f=1", "display_name": "Shilly", "link": "https://stackoverflow.com/users/3049127/shilly"}, "edited": false, "score": 0, "creation_date": 1537968645, "post_id": 52518924, "comment_id": 91977490, "body": "Will you fix the other loop as well, so it always returns only one &#39;array brace&#39;? That way the logic for getting the id values becomes very easy as well: <code>ary.map( item =&gt; item.attributes.id );</code>."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1537968916, "post_id": 52518924, "comment_id": 91977649, "body": "Please review the guidelines about <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> and what constitutes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 51, "user_id": 5835137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KyaNAR2MoLE/AAAAAAAAAAI/AAAAAAAAA8c/5jEqYnAwL0U/photo.jpg?sz=128", "display_name": "siva IT", "link": "https://stackoverflow.com/users/5835137/siva-it"}, "edited": false, "score": 0, "creation_date": 1538018270, "post_id": 52518924, "comment_id": 91997131, "body": "i&#39;ve added the function where i&#39;m getting the Array of JSON now above"}], "answers": [{"tags": [], "owner": {"reputation": 756, "user_id": 9246344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa3dd441d2676da67b36940c63938dca?s=128&d=identicon&r=PG&f=1", "display_name": "Azer", "link": "https://stackoverflow.com/users/9246344/azer"}, "is_accepted": false, "score": 0, "last_activity_date": 1537971232, "creation_date": 1537971232, "answer_id": 52519817, "question_id": 52518924, "link": "https://stackoverflow.com/questions/52518924/nested-array-of-json-looping-in-typescript/52519817#52519817", "title": "Nested Array Of JSON Looping in Typescript", "body": "<p>You can select the inner array in your loop with index 0 on the outer array, like this:</p>\n\n<pre><code>var myDoubleArray: any = [[{...}, {...}, {...}]];\nfor (let i = 0; i &lt; myDoubleArray[0].length; i++) {\n  console.log(myDoubleArray[0][i].attributes.id);\n}\n</code></pre>\n\n<p>If the arrays are still in JSON format, you need to first parse them to JavaScript before you can loop through the data. This can be done with JSON.parse().</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10419327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3df3b3ee71341b5b4b70aece79a0e5a3?s=128&d=identicon&r=PG&f=1", "display_name": "Milad Zai", "link": "https://stackoverflow.com/users/10419327/milad-zai"}, "is_accepted": false, "score": 0, "last_activity_date": 1537972435, "creation_date": 1537972435, "answer_id": 52520251, "question_id": 52518924, "link": "https://stackoverflow.com/questions/52518924/nested-array-of-json-looping-in-typescript/52520251#52520251", "title": "Nested Array Of JSON Looping in Typescript", "body": "<pre><code>var arr = [  \n   [  \n      {  \n        \"attributes\":{  \n           \"id\":\"Task_1yett21\"\n        },\n        \"incoming\":\"SequenceFlow_112bxv0\",\n        \"outgoing\":\"SequenceFlow_1gkdhq3\"\n     },\n     {  \n        \"attributes\":{  \n           \"id\":\"Task_0i5lteb\"\n        },\n        \"incoming\":\"SequenceFlow_1gkdhq3\",\n        \"outgoing\":\"SequenceFlow_1gjii2n\"\n     },\n     {  \n        \"attributes\":{  \n           \"id\":\"Task_1v37yfe\"\n        },\n        \"incoming\":\"SequenceFlow_1gjii2n\",\n        \"outgoing\":\"SequenceFlow_0bygyft\"\n     }\n  ]\n]\n\nfor (var i in arr[0]) {\n  //arr[0][i].attributes.id will give you the id\n  console.log(arr[0][i].attributes.id);\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 5835137, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KyaNAR2MoLE/AAAAAAAAAAI/AAAAAAAAA8c/5jEqYnAwL0U/photo.jpg?sz=128", "display_name": "siva IT", "link": "https://stackoverflow.com/users/5835137/siva-it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 918, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1538018199, "creation_date": 1537968471, "last_edit_date": 1538018199, "question_id": 52518924, "link": "https://stackoverflow.com/questions/52518924/nested-array-of-json-looping-in-typescript", "title": "Nested Array Of JSON Looping in Typescript", "body": "<p>I'm trying to get the value of \"id\" of the below mentioned array of json but i'm not able to get the result because it is surrounded by two \"[[\" array braces, can anybody please help me out, Also im getting these array of JSON from another loop if the loop runs single time i'm getting single array brace \"[\" , if the loop runs multiple times i'm gettin \"[[\" braces... </p>\n\n<pre><code>[  \n   [  \n      {  \n         \"attributes\":{  \n            \"id\":\"Task_1yett21\"\n         },\n         \"incoming\":\"SequenceFlow_112bxv0\",\n         \"outgoing\":\"SequenceFlow_1gkdhq3\"\n      },\n      {  \n         \"attributes\":{  \n            \"id\":\"Task_0i5lteb\"\n         },\n         \"incoming\":\"SequenceFlow_1gkdhq3\",\n         \"outgoing\":\"SequenceFlow_1gjii2n\"\n      },\n      {  \n         \"attributes\":{  \n            \"id\":\"Task_1v37yfe\"\n         },\n         \"incoming\":\"SequenceFlow_1gjii2n\",\n         \"outgoing\":\"SequenceFlow_0bygyft\"\n      }\n   ]\n]\n</code></pre>\n\n<p>I'm calling this function to get the JSON objects in the above array...</p>\n\n<pre><code>var getAllValuesOfKey = function (dataObj, queryKey) {\n      var resultArr = [];\n      if (!queryKey) {\n          return resultArr;\n      }\n\n      function execute(dataObj, queryKey) {\n          Object.keys(dataObj).forEach(function (key, index) {\n              if (typeof dataObj[key] == 'object' &amp;&amp; !(dataObj[key] instanceof Array)) {   \n                  if (key == queryKey) {\n                      resultArr.push(dataObj[key]);\n                  }\n                  execute(dataObj[key], queryKey);\n              } else if (key == queryKey) {\n                  resultArr.push(dataObj[key]);\n              }\n          });\n      }\n      execute(dataObj, queryKey);\n      return resultArr;\n  } \n  var searchKey = 'task';\n  var result=getAllValuesOfKey(obj1, searchKey);\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 417, "user_id": 4105715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dff7d9aba510084407157b95537b467?s=128&d=identicon&r=PG&f=1", "display_name": "MarkB", "link": "https://stackoverflow.com/users/4105715/markb"}, "edited": false, "score": 2, "creation_date": 1537968041, "post_id": 52518580, "comment_id": 91977083, "body": "Object.values(...).map(...) doesn&#39;t set values, only results in a array with the values"}, {"owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "reply_to_user": {"reputation": 417, "user_id": 4105715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dff7d9aba510084407157b95537b467?s=128&d=identicon&r=PG&f=1", "display_name": "MarkB", "link": "https://stackoverflow.com/users/4105715/markb"}, "edited": false, "score": 0, "creation_date": 1537968202, "post_id": 52518580, "comment_id": 91977192, "body": "So how can I fix it?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1537968280, "post_id": 52518580, "comment_id": 91977253, "body": "You probably want to change your <code>map</code>s to <code>forEach</code>es, and instead of doing <code>Object.values().map()</code>, you want <code>Object.keys(x).forEach(k =&gt; x[k] = ...)</code>.  Or just use for loops, if you don&#39;t understand how these functional programming methods work."}], "answers": [{"tags": [], "owner": {"reputation": 120, "user_id": 2886514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb572011732b280547180da0fa3077b4?s=128&d=identicon&r=PG", "display_name": "Anouar", "link": "https://stackoverflow.com/users/2886514/anouar"}, "is_accepted": true, "score": 2, "last_activity_date": 1537968232, "creation_date": 1537968232, "answer_id": 52518848, "question_id": 52518580, "link": "https://stackoverflow.com/questions/52518580/how-to-set-default-value-for-null-property-in-typescript/52518848#52518848", "title": "How to set default value for NULL property in TypeScript", "body": "<p>When using map operations, you should always return something. \nBut you could use forEach.</p>\n\n<pre><code>summaries.forEach(summary =&gt; {\n    Object.keys(summary).forEach(key =&gt; {\n    summary[key] = summary[key] || 0;\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 4018, "user_id": 5515945, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0dff377215259dc09c572ca2dbb0bbe1?s=128&d=identicon&r=PG&f=1", "display_name": "DiPix", "link": "https://stackoverflow.com/users/5515945/dipix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 854, "favorite_count": 0, "accepted_answer_id": 52518848, "answer_count": 1, "score": 0, "last_activity_date": 1537968232, "creation_date": 1537967427, "last_edit_date": 1537967781, "question_id": 52518580, "link": "https://stackoverflow.com/questions/52518580/how-to-set-default-value-for-null-property-in-typescript", "title": "How to set default value for NULL property in TypeScript", "body": "<p>I'm trying to set default value for all my <code>NULL</code> objects. \nHere's what I have</p>\n\n<pre><code>private setDisplayAmount(summaries: summary[]): void {\n    summaries.map(t =&gt; {\n        // do some magic, and then...\n        this.setDefaultValueForEmptyAmounts(t);\n    });\n}\n\nprivate setDefaultValueForEmptyAmounts(summary: Summary): void {\n    Object.values(summary.displayAmounts).map(property =&gt; property || 0);\n}\n</code></pre>\n\n<p>I've no idea why <code>setDefaultValueForEmptyAmounts</code> doesn't work properly...</p>\n\n<p>This will work but is less esthetic:</p>\n\n<pre><code>private setDisplayAmount(summaries: summary[]): void {\n    summaries.map(t =&gt; {\n        // do some magic, and then...\n        t.displayAmounts = {\n            OneAmount: t.oneAmt || 0,\n            TwoAmount: t.twoAmt || 0,\n            // ... for all properties\n        };\n\n    });\n}\n</code></pre>\n"}, {"tags": ["typescript", "firebase-realtime-database", "ionic3", "leaflet"], "comments": [{"owner": {"reputation": 1349, "user_id": 7689896, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VhIke.jpg?s=128&g=1", "display_name": "saperlipopette", "link": "https://stackoverflow.com/users/7689896/saperlipopette"}, "edited": false, "score": 1, "creation_date": 1537967179, "post_id": 52518184, "comment_id": 91976475, "body": "Instead of trying to get your marker eName value from the provider, you should set this value. Whenever there is a change on your marker name, just call your provider and set the value : this.MarkersProvider.ename = &quot;Name&quot;"}, {"owner": {"reputation": 1697, "user_id": 7332346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4JrPd.png?s=128&g=1", "display_name": "Sergio Escudero", "link": "https://stackoverflow.com/users/7332346/sergio-escudero"}, "edited": false, "score": 0, "creation_date": 1537969561, "post_id": 52518184, "comment_id": 91978053, "body": "Map.ts is the root component ?"}, {"owner": {"reputation": 221, "user_id": 9966041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c6090d6092c0a698b49918b14526c05?s=128&d=identicon&r=PG", "display_name": "Ruben Sala", "link": "https://stackoverflow.com/users/9966041/ruben-sala"}, "edited": false, "score": 0, "creation_date": 1537970158, "post_id": 52518184, "comment_id": 91978449, "body": "Have you tried to use localStorage?"}, {"owner": {"reputation": 83, "user_id": 10388189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77bd65107303db2f82225927de06cfd3?s=128&d=identicon&r=PG", "display_name": "Ha Hadi", "link": "https://stackoverflow.com/users/10388189/ha-hadi"}, "edited": false, "score": 0, "creation_date": 1537971428, "post_id": 52518184, "comment_id": 91979294, "body": "hi, i need an elaborate detail about that, i just started my ionic this month, map.ts is a page module, i dont know anymore implementation and how to use localstorage as this is from a tutorial, but i tweak it to satisfy my need"}, {"owner": {"reputation": 83, "user_id": 10388189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77bd65107303db2f82225927de06cfd3?s=128&d=identicon&r=PG", "display_name": "Ha Hadi", "link": "https://stackoverflow.com/users/10388189/ha-hadi"}, "reply_to_user": {"reputation": 1349, "user_id": 7689896, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VhIke.jpg?s=128&g=1", "display_name": "saperlipopette", "link": "https://stackoverflow.com/users/7689896/saperlipopette"}, "edited": false, "score": 0, "creation_date": 1537971878, "post_id": 52518184, "comment_id": 91979598, "body": "@saperlipopette, wait, is this correct? <code>getName(name) { this.eName = name}</code> on provider, and <code>this.markerProvider.getName(this.eName)</code> on MapPage"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10388189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77bd65107303db2f82225927de06cfd3?s=128&d=identicon&r=PG", "display_name": "Ha Hadi", "link": "https://stackoverflow.com/users/10388189/ha-hadi"}, "edited": false, "score": 0, "creation_date": 1537975730, "post_id": 52520089, "comment_id": 91982198, "body": "thank you this is so much better than what i have in mind"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 83, "user_id": 10388189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77bd65107303db2f82225927de06cfd3?s=128&d=identicon&r=PG", "display_name": "Ha Hadi", "link": "https://stackoverflow.com/users/10388189/ha-hadi"}, "edited": false, "score": 1, "creation_date": 1537984686, "post_id": 52520089, "comment_id": 91986722, "body": "No problem;) navParams are used for Pages (Components) since they don\u2019t exist in memory before you push such page into nav stack. Providers do exist in memory and they normally dont get destroyed so you can call methods and pass parameters as arguments."}], "tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1537972050, "creation_date": 1537972050, "answer_id": 52520089, "question_id": 52518184, "link": "https://stackoverflow.com/questions/52518184/accessing-navparams-inside-a-provider/52520089#52520089", "title": "Accessing NavParams inside a provider,", "body": "<p>You do not need navParams to pass values to provider. You need to just pass it to relevant method in your provider as simple argument of function.</p>\n\n<p>In your Map.ts:</p>\n\n<pre><code>public eName: string;\n\nconstructor (...) {\nthis.eName = this.navParams.get('eName');\n}\n\naddMarker() {\nlet prompt = this.alertCtrl.create({\n  title: 'Add Marker',\n  message: \"Enter Adress\",\n  inputs: [\n    {\n      name: 'Address',\n      placeholder: 'Enter Address'\n    },\n  ],\n  buttons: [\n    {\n      text: 'Cancel',\n      handler: data =&gt; {\n        console.log('Cancel clicked');\n      }\n    },\n    {\n      text: 'Save',\n      handler: data =&gt; {\n\n        this.geoCodeandAdd(data.address);\n        this.retrieveAddress(data.address);\n      }\n    }\n  ]\n});\nprompt.present();\n}\ngeoCodeandAdd(address) {\nthis.nativeGeocoder.forwardGeocode(address)\n  .then((coordinates: NativeGeocoderForwardResult[]) =&gt; {\n\n  // here pass eName as argument:\n  this.markersProvider.saveMarker(coordinates[0], this.eName); \n  // removed this: this.navCtrl.push('MarkerProvider', {eName: this.eName});\n})\n.catch((error: any) =&gt; console.log(error));\n}\n  loadMarkers() {\nthis.markersProvider.getAllMarkers().subscribe((markers: any) =&gt; {\n  markers.forEach(singlemarker =&gt; {\n    let markerGroup = leaflet.featureGroup();\n\n    let marker: any = leaflet\n      .marker([singlemarker.latitude, singlemarker.longitude])\n      .on(\"click\", () =&gt; {\n        alert(singlemarker.message);\n      });\n    markerGroup.addLayer(marker);\n    this.map.addLayer(markerGroup);\n  });\n});\n}\n</code></pre>\n\n<p>Now in your provider, modify the method that uses eName:</p>\n\n<pre><code>// remove this: import { NavController, NavParams } from 'ionic-angular';\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from \"angularfire2/firestore\";\n\n@Injectable()\nexport class MarkersProvider {\n  // remove this: public eName: string;\n  // modify injections as you don't need nav things in your provider:\n  constructor(private afs: AngularFirestore) {\n    console.log(\"Hello MarkersProvider Provider\");\n    // remove this: this.eName = this.navParams.get('eName');\n  }\n\n  // here in this method add argument:\n  saveMarker(coords, eName) {\n    this.afs\n      .collection(\"markers\")\n      .add({\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n        message: eName,\n      })\n      .then(() =&gt; {\n        alert(\"Added\");\n      });\n  }\n\n  getAllMarkers() {\n    return this.afs.collection(\"markers\").valueChanges();\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 10388189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77bd65107303db2f82225927de06cfd3?s=128&d=identicon&r=PG", "display_name": "Ha Hadi", "link": "https://stackoverflow.com/users/10388189/ha-hadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1138, "favorite_count": 0, "accepted_answer_id": 52520089, "answer_count": 1, "score": 0, "last_activity_date": 1537972050, "creation_date": 1537966247, "last_edit_date": 1537967569, "question_id": 52518184, "link": "https://stackoverflow.com/questions/52518184/accessing-navparams-inside-a-provider", "title": "Accessing NavParams inside a provider,", "body": "<p>I am trying to access NavParams inside a provider, but I know importing the NavParams wouldn't solve the problem. </p>\n\n<p>Short info about my application, the user input their name and address, there will be a pin on the map base on the address and when the user click on the pin, an alert saying the name of the pin.</p>\n\n<p>Here is my create-event.ts where I push the name.</p>\n\n<pre><code>toMap() {\n  this.navCtrl.push('MapPage', {eName: this.eventDetail.eventName});\n}\n</code></pre>\n\n<p>Retrieve on Map.ts and push to markers.ts</p>\n\n<pre><code>public eName: string;\n\nconstructor (...) {\nthis.eName = this.navParams.get('eName');\n}\n\naddMarker() {\nlet prompt = this.alertCtrl.create({\n  title: 'Add Marker',\n  message: \"Enter Adress\",\n  inputs: [\n    {\n      name: 'Address',\n      placeholder: 'Enter Address'\n    },\n  ],\n  buttons: [\n    {\n      text: 'Cancel',\n      handler: data =&gt; {\n        console.log('Cancel clicked');\n      }\n    },\n    {\n      text: 'Save',\n      handler: data =&gt; {\n\n        this.geoCodeandAdd(data.address);\n        this.retrieveAddress(data.address);\n      }\n    }\n  ]\n});\nprompt.present();\n}\ngeoCodeandAdd(address) {\nthis.nativeGeocoder.forwardGeocode(address)\n  .then((coordinates: NativeGeocoderForwardResult[]) =&gt; {\n\n  this.markersProvider.saveMarker(coordinates[0]);\n  this.navCtrl.push('MarkerProvider', {eName: this.eName});\n})\n.catch((error: any) =&gt; console.log(error));\n}\n  loadMarkers() {\nthis.markersProvider.getAllMarkers().subscribe((markers: any) =&gt; {\n  markers.forEach(singlemarker =&gt; {\n    let markerGroup = leaflet.featureGroup();\n\n    let marker: any = leaflet\n      .marker([singlemarker.latitude, singlemarker.longitude])\n      .on(\"click\", () =&gt; {\n        alert(singlemarker.message);\n      });\n    markerGroup.addLayer(marker);\n    this.map.addLayer(markerGroup);\n  });\n});\n}\n</code></pre>\n\n<p>My marker provider .ts</p>\n\n<pre><code>import { NavController, NavParams } from 'ionic-angular';\nimport { Injectable } from '@angular/core';\nimport { AngularFirestore } from \"angularfire2/firestore\";\n\n@Injectable()\nexport class MarkersProvider {\n  public eName: string;\n  constructor(private afs: AngularFirestore, public navCtrl: NavController, public navParams: NavParams) {\n    console.log(\"Hello MarkersProvider Provider\");\n    this.eName = this.navParams.get('eName');\n  }\n\n  saveMarker(coords) {\n    this.afs\n      .collection(\"markers\")\n      .add({\n        latitude: coords.latitude,\n        longitude: coords.longitude,\n        message: this.eName,\n      })\n      .then(() =&gt; {\n        alert(\"Added\");\n      });\n  }\n\n  getAllMarkers() {\n    return this.afs.collection(\"markers\").valueChanges();\n  }\n}\n</code></pre>\n\n<p>stack trace</p>\n\n<pre><code>Error: Uncaught (in promise): Error: StaticInjectorError(AppModule)[Content -&gt; NavController]: \n  StaticInjectorError(Platform: core)[Content -&gt; NavController]: \n    NullInjectorError: No provider for NavController!\nError: StaticInjectorError(AppModule)[Content -&gt; NavController]: \n  StaticInjectorError(Platform: core)[Content -&gt; NavController]: \n    NullInjectorError: No provider for NavController!\n    at _NullInjector.get (http://localhost:8100/build/vendor.js:1377:19)\n    at resolveToken (http://localhost:8100/build/vendor.js:1675:24)\n    at tryResolveToken (http://localhost:8100/build/vendor.js:1617:16)\n    at StaticInjector.get (http://localhost:8100/build/vendor.js:1485:20)\n    at resolveToken (http://localhost:8100/build/vendor.js:1675:24)\n    at tryResolveToken (http://localhost:8100/build/vendor.js:1617:16)\n    at StaticInjector.get (http://localhost:8100/build/vendor.js:1485:20)\n    at resolveNgModuleDep (http://localhost:8100/build/vendor.js:11270:25)\n    at _createClass (http://localhost:8100/build/vendor.js:11311:68)\n    at _createProviderInstance$1     (http://localhost:8100/build/vendor.js:11281:26)\nat c (http://localhost:8100/build/polyfills.js:3:19752)\nat Object.reject (http://localhost:8100/build/polyfills.js:3:19174)\nat NavControllerBase._fireError (http://localhost:8100/build/vendor.js:52760:16)\nat NavControllerBase._failed (http://localhost:8100/build/vendor.js:52753:14)\nat http://localhost:8100/build/vendor.js:52800:59\nat t.invoke (http://localhost:8100/build/polyfills.js:3:14976)\nat Object.onInvoke (http://localhost:8100/build/vendor.js:5134:33)\nat t.invoke (http://localhost:8100/build/polyfills.js:3:14916)\nat r.run (http://localhost:8100/build/polyfills.js:3:10143)\nat http://localhost:8100/build/polyfills.js:3:20242\n</code></pre>\n\n<p>Is there a way to use navparams inside the provider.</p>\n"}, {"tags": ["javascript", "typescript", "generics", "inheritance"], "answers": [{"comments": [{"owner": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 0, "creation_date": 1537972748, "post_id": 52519934, "comment_id": 91980224, "body": "This is interesting indeed! But yes, I feel I might run into a problem with the locally-declared type export issue. I will need to investigate that part further before getting back at this / accepting your answer :-)  On a side note, to me it feels like the Typescript guys should just allow for accessing type parameters in static methods."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 0, "creation_date": 1537973504, "post_id": 52519934, "comment_id": 91980773, "body": "Having the static side access the type parameters from the instance side unfortunately wouldn&#39;t make sense.  In <code>class A&lt;T&gt;</code>, the constructor <code>A</code> needs to be able to create an <code>A&lt;T&gt;</code> for any <code>T</code>.  That means that from the static side&#39;s point of view, the <code>T</code> is not a concrete type.  You can think of the static side of <code>A</code> like  <code>interface AStatic {new&lt;T&gt;(): AInstance&lt;T&gt;}</code>.  If you add other methods to <code>AStatic</code>, it simply doesn&#39;t make sense for them to have access to the <code>T</code> from <code>new</code>.  The scope of <code>T</code> doesn&#39;t make it there."}, {"owner": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 0, "creation_date": 1537973837, "post_id": 52519934, "comment_id": 91981006, "body": "&quot;In <code>class A&lt;T&gt;</code>, the constructor <code>A</code> needs to be able to create an <code>A&lt;T&gt;</code> for any <code>T</code>&quot;  =&gt; not if we have <code>abstract class A&lt;T&gt;</code>, right?  <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">Also, this these kind of patterns are perfectly normal in languages like C#</a> (which, I know, is different from javascript due to the prototypical inheritance). F-bound polymorphism.... sounds like fun, I know"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 0, "creation_date": 1537974347, "post_id": 52519934, "comment_id": 91981340, "body": "&quot;not if we have <code>abstract class A&lt;T&gt;</code>, right?&quot;  If the language had a way to refer to the abstract constructor type, then it would.  Even so, the absence of a newable signature for abstract classes still doesn&#39;t give the static side access to instance side type parameters.  This feels beside the point."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "reply_to_user": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 1, "creation_date": 1537974573, "post_id": 52519934, "comment_id": 91981473, "body": "I think in order for it to work so that static and instance side had access to the same type parameters, there would need to be one static side <i>for each</i> instance side.  In C++ (and maybe C#?) that works because template metaprogramming actually generates new code for each instantiation of the type parameter.   In Java and TypeScript you can&#39;t do this because there&#39;s only one actual static side in the type system for each class.  I can imagine changing that, but it don&#39;t know if such a suggestion would be well received."}, {"owner": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "edited": false, "score": 0, "creation_date": 1537974761, "post_id": 52519934, "comment_id": 91981597, "body": "OK that just blew my mind, not sure if i follow. You&#39;re probably right on your last sentence though. On topic: will get back at your answer after I have investigated the export issue. Thanks!"}, {"owner": {"reputation": 517, "user_id": 12061795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/daaf1d02c63c1d6fa92ce27682588e42?s=128&d=identicon&r=PG&f=1", "display_name": "U-Dev", "link": "https://stackoverflow.com/users/12061795/u-dev"}, "edited": false, "score": 0, "creation_date": 1588772681, "post_id": 52519934, "comment_id": 109027496, "body": "@jcalz i get <code>Type &#39;&lt;T&gt;() =&gt; typeof Resource&#39; is not a constructor function type.ts(2507)</code>, how to get rid of it?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1588773016, "post_id": 52519934, "comment_id": 109027719, "body": "<a href=\"https://www.typescriptlang.org/play/#code/HYQwtgpgzgDiDGEAEBhNAZJBvAUE-SAZgK7DwAuAlgPbBIBK01xATogDwAqAfABQCU2PAREgARlHIsE5JPAA2IKFAZNWiISK0EA9ACokkkFXhJI5ABbUAJir07h2kTGJj5lU0ZNJ3kgFxInADaALpIALxIoQDcjk74Lm4ehuTGyUoAnmREEOTwFgIBAAos1GCUUBBcodya8U4suax0wMTy8gCEsfUEAL5x8fr4lMBGZMjmVrZI9gNOie6eIABuEIVIJWUVVTx1PSKN5M1Ire0dc9r98VcNTSx0jFDMbBDdfUhxCkoqALI2EPIkBAAB7kCDAaaPZ4cP7WAF8QS4eILZJedJQLKmQi5fLrTblSrsWEAmp7eqHY5QYgwCAsAB02LyBX4b0ucRu+GJ8jpvnI0SQOh0SC5oTiXIZOOZ-MFG1KBKqIpC3DiwAgAHdhf95AI6VAVmsWQKhfjtkStcqcL0gA\" rel=\"nofollow noreferrer\">Where</a>? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?  Possibly in a new question?"}, {"owner": {"reputation": 418, "user_id": 6539857, "user_type": "registered", "profile_image": "https://graph.facebook.com/950007098402400/picture?type=large", "display_name": "Rafael Sofi-zada", "link": "https://stackoverflow.com/users/6539857/rafael-sofi-zada"}, "edited": false, "score": 0, "creation_date": 1602410956, "post_id": 52519934, "comment_id": 113706400, "body": "@jcalz I get a <code>error TS4060: Return type of exported function has or is using private name &#39;Paths&#39;.</code> I figured it&#39;s because, if you don&#39;t explicitly state function&#39;s return type, it will infer it from what it returns. This function returns a class defined inside the function&#39;s scope, hence the error. Any advice? Thanks!"}], "tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 16, "last_activity_date": 1537971614, "creation_date": 1537971614, "answer_id": 52519934, "question_id": 52518125, "link": "https://stackoverflow.com/questions/52518125/workaround-for-accessing-class-type-arguments-in-static-method-in-typescript/52519934#52519934", "title": "Workaround for accessing class type arguments in static method in Typescript", "body": "<p>You could do something like this:</p>\n\n<pre><code>function Resource&lt;T&gt;() {\n  abstract class Resource {\n    /* static methods */\n    public static list: T[] = [];\n    public static async fetch(): Promise&lt;T[]&gt; {\n      return null!;\n    }\n    /*  instance methods */\n    public save(): Promise&lt;T&gt; {\n      return null!\n    }\n  }\n  return Resource;\n}\n</code></pre>\n\n<p>In the above <code>Resource</code> is a generic function that returns a <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-6.html#local-type-declarations\" rel=\"noreferrer\">locally declared class</a>.  The returned class is <em>not</em> generic, so its static properties and methods have concrete types for <code>T</code>.  You can extend it like this:</p>\n\n<pre><code>class Model extends Resource&lt;Model&gt;() {\n  // overloading should also work\n  public static async fetch(): Promise&lt;Model[]&gt; {\n    return super.fetch();\n  }\n}\n</code></pre>\n\n<p>Everything has the types you expect:</p>\n\n<pre><code> Model.list; // Model[]\n Model.fetch(); // Promise&lt;Model[]&gt;\n new Model().save(); // Promise&lt;Model&gt;\n</code></pre>\n\n<p>So that might work for you.  </p>\n\n<p>The only caveats I can see right now:</p>\n\n<ul>\n<li><p>There's a bit of duplication in <code>class X extends Resource&lt;X&gt;()</code> which is less than perfect, but I don't think you can get contextual typing to allow the second <code>X</code> to be inferred.</p></li>\n<li><p>Locally-declared types tend not to be exportable or used as declarations, so you might need to be careful there or come up with workarounds (e.g., export some structurally-identical or structurally-close-enough type and declare that <code>Resource</code> is that type?).</p></li>\n</ul>\n\n<p>Anyway hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 819, "user_id": 4441216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/--qXY-_QsL08/AAAAAAAAAAI/AAAAAAAAB3U/7HHoZA4WJTE/photo.jpg?sz=128", "display_name": "Maurits Moeys", "link": "https://stackoverflow.com/users/4441216/maurits-moeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5862, "favorite_count": 6, "accepted_answer_id": 52519934, "answer_count": 1, "score": 13, "last_activity_date": 1537971614, "creation_date": 1537966051, "last_edit_date": 1537967229, "question_id": 52518125, "link": "https://stackoverflow.com/questions/52518125/workaround-for-accessing-class-type-arguments-in-static-method-in-typescript", "title": "Workaround for accessing class type arguments in static method in Typescript", "body": "<p>The following error</p>\n\n<blockquote>\n  <p>Static members cannot reference class type parameters.</p>\n</blockquote>\n\n<p>results from the following piece of code</p>\n\n<pre><code>abstract class Resource&lt;T&gt; {\n    /* static methods */\n    public static list: T[] = [];\n    public async static fetch(): Promise&lt;T[]&gt; {\n        this.list = await service.get();\n        return this.list;\n    }\n    /*  instance methods */ \n    public save(): Promise&lt;T&gt; {\n        return service.post(this);\n    }\n}\n\nclass Model extends Resource&lt;Model&gt; {\n}\n\n/* this is what I would like, but the because is not allowed because :\n\"Static members cannot reference class type parameters.\"\n*/\n\nconst modelList = await Model.fetch() // inferred type would be Model[]\nconst availableInstances = Model.list // inferred type would be Model[]\nconst savedInstance = modelInstance.save() // inferred type would be Model\n</code></pre>\n\n<p>I think it is clear from this example what I'm trying to achieve. I want be able to call instance and static methods on my inheriting class and have the inheriting class itself as inferred type. I found the following workaround to get what I want:</p>\n\n<pre><code>interface Instantiable&lt;T&gt; {\n    new (...args: any[]): T;\n}\ninterface ResourceType&lt;T&gt; extends Instantiable&lt;T&gt; {\n    list&lt;U extends Resource&gt;(this: ResourceType&lt;U&gt;): U[];\n    fetch&lt;U extends Resource&gt;(this: ResourceType&lt;U&gt;): Promise&lt;U[]&gt;;\n}\n\nconst instanceLists: any = {} // some object that stores list with constructor.name as key\n\nabstract class Resource {\n    /* static methods */\n    public static list&lt;T extends Resource&gt;(this: ResourceType&lt;T&gt;): T[] {\n        const constructorName = this.name;\n        return instanceLists[constructorName] // abusing any here, but it works :(\n    }\n    public async static fetch&lt;T extends Resource&gt;(this: ResourceType&lt;T&gt;): Promise&lt;T[]&gt; {\n        const result = await service.get()\n        store(result, instanceLists) // some fn that puts it in instanceLists\n        return result;\n    }\n    /*  instance methods */ \n    public save(): Promise&lt;this&gt; {\n        return service.post(this);\n    }\n}\nclass Model extends Resource {\n}\n/* now inferred types are correct */\nconst modelList = await Model.fetch() \nconst availableInstances = Model.list \nconst savedInstance = modelInstance.save()\n</code></pre>\n\n<p>The problem that I have with this is that overriding static methods becomes really tedious. Doing the following:</p>\n\n<pre><code>class Model extends Resource {\n\n    public async static fetch(): Promise&lt;Model[]&gt; {\n        return super.fetch();\n    } \n}\n</code></pre>\n\n<p>will result in an error because <code>Model</code> is no longer extending <code>Resource</code> correctly, because of the different signature. I can't think of a way to declare a fetch method without giving me errors, let alone having an intuitive easy way to overload.</p>\n\n<p>The only work around I could get to work is the following:</p>\n\n<pre><code>class Model extends Resource {\n    public async static get(): Promise&lt;Model[]&gt; {\n        return super.fetch({ url: 'custom-url?query=params' }) as Promise&lt;Model[]&gt;;\n    }\n}\n</code></pre>\n\n<p>In my opinion, this is not very nice. </p>\n\n<p>Is there a way to override the fetch method without having to manually cast to Model and do tricks with generics?</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "karma-jasmine"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1537965355, "post_id": 52517807, "comment_id": 91975274, "body": "Hard to see what the problem is, you don&#39;t have enough of the code. Can you reproduce it at <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a> I don&#39;t get an error when I try something close to what you have"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1537965872, "post_id": 52517807, "comment_id": 91975614, "body": "Can you tell us where are <code>this.prop1</code> and <code>this.prop2</code> defined? You defined local variables prop1/prop2 but used <code>this.prop1&#47;2</code> instead"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1537966041, "post_id": 52517807, "comment_id": 91975717, "body": "Also, what is the line that is causing the error? Is it the assignment into <code>obj1</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1537965263, "post_id": 52517837, "comment_id": 91975216, "body": "What if there are more properties? Doesn&#39;t scale, doesn&#39;t really answer the question, just offers a workaround, probably better off as a comment"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1537965757, "post_id": 52517837, "comment_id": 91975541, "body": "<code>objectContaining</code> is still a workaround. The problem is typing, you shouldn&#39;t use a different solution if you don&#39;t understand the problem and if you are forced to, it should be clear that you are using a sub par solution"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1537965436, "last_edit_date": 1537965436, "creation_date": 1537965098, "answer_id": 52517837, "question_id": 52517807, "link": "https://stackoverflow.com/questions/52517807/jasmine-testing-object-having-optional-properties/52517837#52517837", "title": "Jasmine testing object having optional properties", "body": "<p>check each individual properties instead of whole object</p>\n\n<pre><code>expect(obj1.prop1).toEqual('abc')\nexpect(obj1.prop2).toEqual('xyz')\n</code></pre>\n\n<p>Also can use <code>objectContaining</code> to compare the partial objects.</p>\n\n<pre><code>expect(obj1).objectContaining({\n            prop1: 'abc',\n            prop2: 'xyz' })\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8944102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a783bfbb228f8f01b263e0f8edf782?s=128&d=identicon&r=PG&f=1", "display_name": "Rohini", "link": "https://stackoverflow.com/users/8944102/rohini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537965436, "creation_date": 1537964983, "question_id": 52517807, "link": "https://stackoverflow.com/questions/52517807/jasmine-testing-object-having-optional-properties", "title": "Jasmine testing object having optional properties", "body": "<p>I have a interface IData with optional properties. </p>\n\n<pre><code>interface IData {\n prop1: string,\n prop2?: string\n}\nsetObj(){\n  prop1 = 'abc';\n  prop2 = 'xyz';\n  let obj1 : IData = {\n                       prop1: this.prop1,\n                       prop2: this.prop2\n                     }\n}\n</code></pre>\n\n<p>while unitTesting expecting value of obj1 throws error</p>\n\n<pre><code>expect(obj1).toEqual({\n                prop1: 'abc',\n                prop2: 'xyz' })\n</code></pre>\n\n<p>Argument of type '{prop1: string; prop2: string;}'is not assignable to parameter of type 'Expected</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1537967580, "creation_date": 1537967580, "answer_id": 52518624, "question_id": 52517682, "link": "https://stackoverflow.com/questions/52517682/how-to-look-for-a-key-with-value-in-typescript-enum/52518624#52518624", "title": "How to look for a key with value in Typescript Enum?", "body": "<p>If you look at <code>MyEnum</code> at runtime, it will essentially be an object like this:</p>\n\n<pre><code>{ YES: 'x', NO: 'y' }\n</code></pre>\n\n<p>There is no automatic reverse lookup for objects in JavaScript, so you need to write something like your <code>find()</code> function to do it. So I don't think there's anything simpler, no. </p>\n\n<p>Had your enum been <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#numeric-enums\" rel=\"noreferrer\">numeric</a>, TypeScript would give you those <a href=\"https://www.typescriptlang.org/docs/handbook/enums.html#reverse-mappings\" rel=\"noreferrer\">reverse mappings automatically</a>:</p>\n\n<pre><code>enum MyEnum {\n    YES = 1,\n    NO = 0\n}\nconst oneKey = MyEnum[1]; // \"YES\" (typed as string)\nconst zeroKey = MyEnum[0]; // \"NO\" (typed as string)\n</code></pre>\n\n<p>But alas, you are using a string enum, so there's no magical answer here.</p>\n\n<hr>\n\n<p><em>If</em> you often need to do a reverse lookup and don't want to keep iterating over arrays to do it, you can build a reverse-mapping object in advance with a helper function like this:</p>\n\n<pre><code>type ReverseMapping&lt;T extends Record&lt;keyof T, keyof any&gt;&gt; = {\n    [K in T[keyof T]]: { [P in keyof T]: K extends T[P] ? P : never }[keyof T]\n}\n\nfunction reverseMapping&lt;T extends Record&lt;keyof T, keyof any&gt;&gt;(t: T): ReverseMapping&lt;T&gt; {\n    const ret = {} as ReverseMapping&lt;T&gt;;\n    (Object.keys(t) as Array&lt;keyof T&gt;).forEach(k =&gt; ret[t[k]] = k as any);\n    return ret;\n}\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>// do this once\nconst reverseMyEnum = reverseMapping(MyEnum); // reverseMyEnum: { x: \"YES\", y: \"NO\" }\n\n// reuse reverseMyEnum for reverse lookups:\nconst xKey = reverseMyEnum.x; // xKey: \"YES\"\nconst yKey = reverseMyEnum.y; // yKey: \"NO\"\nconst randKey = reverseMyEnum[Math.random() &lt; 0.5 ? \"x\" : \"y\"]; // randKey: \"YES\" | \"NO\"\n</code></pre>\n\n<p>Of course, the <code>reverseMapping()</code> function is possibly more \"over-engineered\" than <code>find()</code>, so it's up to you whether it's worth it to you.  I would tend to keep using <code>find()</code> (although more strongly typed, not that you've asked for that) unless I was running into some kind of problem with it (e.g., performance from constantly iterating through a truly enormous enum... unlikely).</p>\n\n<p>Anyway hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 4927, "user_id": 2224454, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hzdEm.png?s=128&g=1", "display_name": "akcasoy", "link": "https://stackoverflow.com/users/2224454/akcasoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 761, "favorite_count": 1, "accepted_answer_id": 52518624, "answer_count": 1, "score": 3, "last_activity_date": 1537967580, "creation_date": 1537964574, "question_id": 52517682, "link": "https://stackoverflow.com/questions/52517682/how-to-look-for-a-key-with-value-in-typescript-enum", "title": "How to look for a key with value in Typescript Enum?", "body": "<p>I would like to search an Enum with value, and get the key of it. This is what i have now:</p>\n\n<pre><code>  private find(value: MyEnum): string {\n    for (const key in MyEnum) {\n      if (value === MyEnum[key]) {\n        return key;\n      }\n    }\n    return null;\n  }\n</code></pre>\n\n<p>Can we not make it simpler? It seems to be an overengineering..</p>\n\n<p>Actually all i want is value.name() in Java. </p>\n\n<p>EDIT: MyEnum is sth like this:</p>\n\n<pre><code>export enum MyEnum {\n  YES = 'x',\n  NO = 'y'\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular5", "ngmodel"], "comments": [{"owner": {"reputation": 752, "user_id": 9349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a38ec04ee4d974afab05148f6823b8c?s=128&d=identicon&r=PG&f=1", "display_name": "ak.leimrey", "link": "https://stackoverflow.com/users/9349240/ak-leimrey"}, "edited": false, "score": 0, "creation_date": 1537965026, "post_id": 52517624, "comment_id": 91975070, "body": "Did you try to check if in your child-component the ngOnChange is even triggered? I would assume the error is more basic than you would want to believe."}, {"owner": {"reputation": 91, "user_id": 10396133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a795a568dde574fef3028aa0730a3f?s=128&d=identicon&r=PG&f=1", "display_name": "JJkramar", "link": "https://stackoverflow.com/users/10396133/jjkramar"}, "reply_to_user": {"reputation": 752, "user_id": 9349240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a38ec04ee4d974afab05148f6823b8c?s=128&d=identicon&r=PG&f=1", "display_name": "ak.leimrey", "link": "https://stackoverflow.com/users/9349240/ak-leimrey"}, "edited": false, "score": 0, "creation_date": 1538038160, "post_id": 52517624, "comment_id": 92005213, "body": "I&#39;ve resolved using viewchild for calling the child&#39;s method with &quot;emit&quot; inside, thanks for the answer :)"}], "owner": {"reputation": 91, "user_id": 10396133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4a795a568dde574fef3028aa0730a3f?s=128&d=identicon&r=PG&f=1", "display_name": "JJkramar", "link": "https://stackoverflow.com/users/10396133/jjkramar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537964438, "creation_date": 1537964362, "last_edit_date": 1537964438, "question_id": 52517624, "link": "https://stackoverflow.com/questions/52517624/simple-binding-from-child-to-parent", "title": "Simple binding from child to parent", "body": "<p>I've got to pass data from a child component and a parent component in Angular 5, I made this classes looking at some tutorial and trying to replicate them on plunker (or stackblitz) the problem is that my parent component doesn't update with children's data when I call some children's function that fills (or rifles) children's form, when I write manually something inside these form, father component gets update correctly, this is children class:</p>\n\n<pre><code>import { Component, Input } from \"@angular/core\";\n\nimport * as components from '../../component';\n\nimport * as viewModels from \"viewmodel\";\n\nimport * as companyService from \"services/component/company.service\";\nimport * as userService from \"services/component/user.service\";\n\n@Component({\nselector: 'user-company',\ntemplateUrl: require('./user-company.component.html'),\nproviders: [userService.UserService, companyService.CompanyService]\n})\n\nexport class UserCompanyComponent {\n\n/** Object with form properties sended to father component*/\n\n@Input() CompanySelezionata: viewModels.CompanyViewModel;\n@Input() UtenteSelezionato: viewModels.UserViewModel;\n\nprivate _pIVA: string;\nprivate _userEmail: string;\n\n/** boolean variables for lock-unlock children's forms\nprivate _companyUnlock: boolean;\nprivate _userUnlock: boolean;\n\n/** boolean variables needed for showing some messages on DOM*/\nprivate _hideCompanyMessage: boolean;\nprivate _hideUserMessage: boolean;\n\n/** services for children component */\nconstructor(private _userService: userService.UserService, private \n_companyService: companyService.CompanyService) {\n\nthis.initUser();\nthis.initCompany();\n\nthis._companyUnlock = false;\nthis._userUnlock = false;\n\nthis._hideCompanyMessage = true;\nthis._hideUserMessage = true;\n\n} \n\n/** init user object */\n public initUser() {\n  this.UtenteSelezionato = new viewModels.UserViewModel();\n\n}\n\n/** init company object */\npublic initCompany() {\n this.CompanySelezionata = new viewModels.CompanyViewModel();\n}\n\n\n// Call API for searching company(children updated corrctly, father not \n updated)\npublic cercaCompany(company: string) {\n\n\nif (company == undefined || company == \"\") {\n  this.initCompany();\n  return;\n}\nthis._companyService.GetByVatCode(company)\n  .subscribe((result) =&gt; {\n\n\n    if (result == null) {\n      this._companyUnlock = true;\n      this._hideCompanyMessage = false;\n      this.initCompany();\n      this.CompanySelezionata.VatCode = this._pIVA;\n      return;\n    }\n    this.CompanySelezionata = result;\n  });\n\n }\n\n // Call API for searching user (children updated corrctly, father not \n updated)\n public cercaUtente(userEmail: string) {\n\n if (userEmail == undefined || userEmail == \"\") {\n\n  return this.initUser();\n }\n\n this._userService.GetByEmail(userEmail)\n  .subscribe((result) =&gt; {\n\n\n    if (result == null) {\n      this._userUnlock = true;\n      this._hideUserMessage = false;\n      this.initUser();\n      this.UtenteSelezionato.EMail = this._userEmail;\n      return;\n    }\n    this.UtenteSelezionato = result;\n  });\n\n  }\n\n  // CLEAN CHILDREN'S FORM, father gets no update when calls it\n  public cleanAll() {\n   this.cleanUser();\n   this.cleanCompany();\n }\n\n // Clean user's form, called by children it's ok (object updated only in \n   children)\n  public cleanUser() {\n  this._userEmail = '';\n  this._hideUserMessage = true;\n  this._userUnlock = false;\n  this.initUser();\n }\n\n  // Clean company's form, called by children it's ok (object updated only \n    in children)\n   public cleanCompany() {\n   this._pIVA = '';\n   this._hideCompanyMessage = true;\n   this._companyUnlock = false;\n   this.initCompany();\n }\n }\n</code></pre>\n\n<p>Inside the HTML file, I've binded fields like this (example of a company field):</p>\n\n<pre><code>  &lt;label class=\"k-form-field\"&gt;\n       &lt;span&gt;Nome&lt;/span&gt;\n       &lt;span class=\"required\"&gt;\n       &lt;input type=\"text\"  class=\"k-textbox\" name=\"nomeLegRap\" \n       [disabled]=\"this._companyUnlock == false\"\n       [(ngModel)]=\"CompanySelezionata.InformazioniAggiuntive.\n       LegaleRappresentante.Nome\" /&gt;\n       &lt;/span&gt;\n  &lt;/label&gt;\n</code></pre>\n\n<p>This is father's class:</p>\n\n<pre><code>  import { Component, ViewChild, Input } from \"@angular/core\";\n\n  import * as viewmodels from \"viewmodel\";\n  import { UserCompanyComponent } from \"../../../shared-component\";\n\n  @Component({\n  selector: 'app-tester-manager',\n  templateUrl: require('./tester-manager.component.html'),\n\n  })\n\n  export class TesterManagerComponent {\n\n  currentCompany: viewmodels.CompanyViewModel = new  \n  viewmodels.CompanyViewModel();\n\n  currentUser: viewmodels.UserViewModel = new viewmodels.UserViewModel();\n\n  // calls children's methods\n  @ViewChild(UserCompanyComponent) childUserCompany: UserCompanyComponent;\n\n\n  constructor() {\n\n   }\n  // Call method cleaning children's form\n  public cleanAll() {\n  this.childUserCompany.cleanAll();\n\n  }\n  }\n</code></pre>\n\n<p>And finally this is the father HTML:</p>\n\n<pre><code>              &lt;!DOCTYPE html&gt;\n              &lt;html&gt;\n              &lt;head&gt;\n                &lt;meta charset=\"utf-8\" /&gt;\n                &lt;title&gt;&lt;/title&gt;\n              &lt;/head&gt;\n              &lt;body&gt;\n\n                &lt;p&gt; Componente \"Contenitore\" di test per altri componenti &lt;/p&gt;\n                &lt;div class=\"col-12\" id=\"utilities\"&gt;\n                  &lt;button kendoButton (click)=\"cleanAll()\"&gt;Pulisci tutto&lt;/button&gt;\n                  &lt;button kendoButton (click)=\"getDati()\"&gt;Mostra dati&lt;/button&gt;\n\n                  &lt;p&gt;\n                    In parent - Nome utente: {{currentUser.FullName}}&lt;br /&gt;\n                    In parent - Nome company: {{currentCompany.Name}}&lt;br /&gt;\n                  &lt;/p&gt;\n\n                &lt;/div&gt;\n\n                &lt;div class=\"row\" name=\"componenteDaTestare\"&gt;\n\n                  &lt;!-- Inserire QUI il selettore HTML del componente che si vuole testare\n                  ricordarsi di dichiarare il componente da testare nel file tester.module sezione \"declarations\"--&gt;\n                  &lt;user-company [(UtenteSelezionato)]=\"currentUser\" [(CompanySelezionata)]=\"currentCompany\"&gt;&lt;/user-company&gt;\n\n                &lt;/div&gt;\n\n              &lt;/body&gt;\n              &lt;/html&gt;\n</code></pre>\n\n<p>So the problem is that father gets only update if I write (or delete) manually inside children's form, thanks in advance.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 1, "creation_date": 1537964111, "post_id": 52517519, "comment_id": 91974495, "body": "<a href=\"https://www.google.nl/search?q=TS2345%3A+Argument+of+type+is+not+assignable+to+parameter+of+type\" rel=\"nofollow noreferrer\">google.nl/&hellip;</a>"}, {"owner": {"reputation": 1401, "user_id": 9839191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Oram", "link": "https://stackoverflow.com/users/9839191/oram"}, "edited": false, "score": 0, "creation_date": 1537964219, "post_id": 52517519, "comment_id": 91974567, "body": "At first glance, it looks like the return type of the <code>ref.afterClosed()</code> doesn&#39;t match the expected type of <code>&#39;() =&gt; void | Subscribable&lt;never&gt; | Subscribable&lt;R&gt; | PromiseLike&lt;R&gt; | InteropObservable&lt;R&gt;&#39;</code>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1537964308, "post_id": 52517519, "comment_id": 91974623, "body": "You shouldn&#39;t return something that could be  <code>void</code> or <code>Subscribable&lt;never&gt;</code> or <code>Subscribable&lt;R&gt;</code>, or <code>PromiseLike&lt;R&gt;</code>, or <code>InteropObservable&lt;R&gt;</code> instead you should return a result that could be of type <code>Observable&lt;R&gt;</code> or <code>Observable&lt;undefined&gt;</code>. That&#39;s what the error message means. How you resolve it depens on your application, I guess."}, {"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "edited": false, "score": 0, "creation_date": 1537964622, "post_id": 52517519, "comment_id": 91974818, "body": "Thanks but the error is not explicit at all, I don&#39;t see what&#39;s wrong with my implementation at all. (and yes I googled and got to github before, not helping here)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1537965009, "post_id": 52517519, "comment_id": 91975059, "body": "<code>Thanks but the error is not explicit at all</code> I&#39;ve never seen it before and it was pretty clear to me. <code>I don&#39;t see what&#39;s wrong with my implementation at all</code> your function returns one types of responses. They do not match the expected, either It needs to be another kinds of responses or you need to convert them somehow. In Java it&#39;d be the equivalent to trying to pass something <code>List&lt;T&gt;</code> to a method that takes <code>Set&lt;T&gt;</code> or an otherwise incompatible type."}, {"owner": {"reputation": 4639, "user_id": 4641455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80516e0fdc6fbaaf574bf3d00fa60395?s=128&d=identicon&r=PG&f=1", "display_name": "JFPicard", "link": "https://stackoverflow.com/users/4641455/jfpicard"}, "edited": false, "score": 0, "creation_date": 1537965164, "post_id": 52517519, "comment_id": 91975155, "body": "Can you past the code of the afterClosed function ?"}, {"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "edited": false, "score": 0, "creation_date": 1537965274, "post_id": 52517519, "comment_id": 91975225, "body": "AfterClose is a function of the type MatDialogRef : <code>afterClosed(): Observable&lt;R | undefined&gt;;</code>"}, {"owner": {"reputation": 1519, "user_id": 1486848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KNtLf.jpg?s=128&g=1", "display_name": "ShamPooSham", "link": "https://stackoverflow.com/users/1486848/shampoosham"}, "edited": false, "score": 0, "creation_date": 1537965940, "post_id": 52517519, "comment_id": 91975651, "body": "<code>afterClosed()</code> returns <code>Observable&lt;R | undefined&gt;</code>, and your <code>open&lt;T, D, R&gt;()</code> method is defined to return <code>Observable&lt;R&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "is_accepted": false, "score": 0, "last_activity_date": 1537972980, "creation_date": 1537972980, "answer_id": 52520424, "question_id": 52517519, "link": "https://stackoverflow.com/questions/52517519/ts2345-argument-of-type-in-angular/52520424#52520424", "title": "TS2345: Argument&#160;of&#160;type&#160;&#39;()&#160;=&gt; in angular", "body": "<p>Ok so I found a solution : </p>\n\n<pre><code>  public open&lt;T, D, R&gt;(\n    templateOrComponentRef: TemplateRef&lt;T&gt; | ComponentType&lt;T&gt;,\n    config: MatDialogConfig&lt;D&gt;,\n  ): Observable&lt;R | undefined&gt; {\n    const ref = this.create&lt;T, D, R&gt;(templateOrComponentRef, config);\n    return ref.afterClosed();\n  }\n</code></pre>\n\n<p>As you can see I removed <code>defer()</code> to match the return type. Since only one dialog should be open at a time this should be ok.</p>\n"}], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1537972980, "creation_date": 1537963991, "last_edit_date": 1537965039, "question_id": 52517519, "link": "https://stackoverflow.com/questions/52517519/ts2345-argument-of-type-in-angular", "title": "TS2345: Argument&#160;of&#160;type&#160;&#39;()&#160;=&gt; in angular", "body": "<p>How can I resolve this : </p>\n\n<pre><code>TS2345: Argument\u00a0of\u00a0type\u00a0'()\u00a0=&gt;\u00a0Observable&lt;R\u00a0|\u00a0undefined&gt;'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0parameter\u00a0of\u00a0type\u00a0'()\u00a0=&gt;\u00a0void\u00a0|\u00a0Subscribable&lt;never&gt;\u00a0|\u00a0Subscribable&lt;R&gt;\u00a0|\u00a0PromiseLike&lt;R&gt;\u00a0|\u00a0InteropObservable&lt;R&gt;'. \u00a0\u00a0Type\u00a0'Observable&lt;R\u00a0|\u00a0undefined&gt;'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0'void\u00a0|\u00a0Subscribable&lt;never&gt;\u00a0|\u00a0Subscribable&lt;R&gt;\u00a0|\u00a0PromiseLike&lt;R&gt;\u00a0|\u00a0InteropObservable&lt;R&gt;'. \u00a0\u00a0\u00a0\u00a0Type\u00a0'Observable&lt;R\u00a0|\u00a0undefined&gt;'\u00a0is\u00a0not\u00a0assignable\u00a0to\u00a0type\u00a0'InteropObservable&lt;R&gt;'. \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0Property\u00a0'[Symbol.observable]'\u00a0is\u00a0missing\u00a0in\u00a0type\u00a0'Observable&lt;R|\u00a0undefined&gt;\n</code></pre>\n\n<p>This comes from this : </p>\n\n<pre><code>  public open&lt;T, D, R&gt;(\n    templateOrComponentRef: TemplateRef&lt;T&gt; | ComponentType&lt;T&gt;,\n    config: MatDialogConfig&lt;D&gt;,\n  ): Observable&lt;R&gt; {\n    return defer&lt;R&gt;(() =&gt; {\n      const ref = this.create&lt;T, D, R&gt;(templateOrComponentRef, config);\n      return ref.afterClosed();\n    });\n  }\n</code></pre>\n\n<p>precisly from the <code>() =&gt; {</code></p>\n\n<p>Where : </p>\n\n<pre><code>  public create&lt;T, D, R&gt;(\n    templateOrComponentRef: TemplateRef&lt;T&gt; | ComponentType&lt;T&gt;,\n    config: MatDialogConfig&lt;D&gt;,\n  ): MatDialogRef&lt;T, R&gt; {\n    return this.dialog.open&lt;T, D&gt;(templateOrComponentRef, config);\n  }\n</code></pre>\n\n<p>Using Angular <code>6.1.3</code> </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6", "angular-toastr"], "comments": [{"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1537964441, "post_id": 52517249, "comment_id": 91974708, "body": "What I think that happen is you are using some third party component. What will happen if you use a third party component is that <code>this</code> will be used inside that component. So to solve this you can put this <code>let me = this</code> above the toastr and then <code>me.hidepanel()</code>"}, {"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "reply_to_user": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1537965082, "post_id": 52517249, "comment_id": 91975108, "body": "Thanks, your idea worked"}, {"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "edited": false, "score": 0, "creation_date": 1537966046, "post_id": 52517249, "comment_id": 91975720, "body": "You&#39;re welcome :) Wasn&#39;t sure about the third party thing but I know this solution will work."}], "answers": [{"comments": [{"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963516, "post_id": 52517286, "comment_id": 91974115, "body": "it is not showing error on compile time, but when clicking but throws error _this.hidepanel is not a function"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963594, "post_id": 52517286, "comment_id": 91974174, "body": "you need to define the <code>hidepanel</code> function"}, {"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963654, "post_id": 52517286, "comment_id": 91974214, "body": "function is there, if it is not there it would be throwing at compile time also"}, {"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963731, "post_id": 52517286, "comment_id": 91974260, "body": "one more note. its typescript file so its defined like hidepanle() {} .. only no function keyword is there"}, {"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963801, "post_id": 52517286, "comment_id": 91974303, "body": "Typescript file"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537963944, "post_id": 52517286, "comment_id": 91974383, "body": "do you need to use the jquery code in here. try to call the function outside of the jquery parts"}, {"owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537964987, "post_id": 52517286, "comment_id": 91975052, "body": "Could you please help me writting this"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "edited": false, "score": 0, "creation_date": 1537965188, "post_id": 52517286, "comment_id": 91975173, "body": "ahh, right of course. you need to store the this into a variable so that state will not get change."}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 2, "last_activity_date": 1537963264, "creation_date": 1537963264, "answer_id": 52517286, "question_id": 52517249, "link": "https://stackoverflow.com/questions/52517249/call-other-function-in-toaster-onshown-event/52517286#52517286", "title": "call other function in toaster onShown event", "body": "<p>Assuming you have a function call <code>hidepanel</code>, use the <code>=&gt;</code> expression </p>\n\n<pre><code>toastr.success(\"&lt;br /&gt;&lt;br /&gt;&lt;button type='button' id='confirmationRevertYes' class='btn clear'&gt;Yes&lt;/button&gt;\",'delete item?',\n  {\n      closeButton: false,\n      allowHtml: true,\n      onShown: (toast) =&gt; {\n          $(\"#confirmationRevertYes\").click(() =&gt;{ \n            this.hidepanel();  \n          });\n        }\n  });\n</code></pre>\n"}], "owner": {"reputation": 3725, "user_id": 2508672, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/fBr6q.jpg?s=128&g=1", "display_name": "Md. Parvez Alam", "link": "https://stackoverflow.com/users/2508672/md-parvez-alam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538120418, "creation_date": 1537963169, "last_edit_date": 1538120418, "question_id": 52517249, "link": "https://stackoverflow.com/questions/52517249/call-other-function-in-toaster-onshown-event", "title": "call other function in toaster onShown event", "body": "<p>I have below code to for toaster</p>\n\n<pre><code>    toastr.success(\"&lt;br /&gt;&lt;br /&gt;&lt;button type='button' id='confirmationRevertYes' class='btn clear'&gt;Yes&lt;/button&gt;\",'delete item?',\n      {\n          closeButton: false,\n          allowHtml: true,\n          onShown: function (toast) {\n              $(\"#confirmationRevertYes\").click(function(){\n                hidepanel(); // not working\n                this.hidepanel(); // not working\n              });\n            }\n      });\n</code></pre>\n\n<p>I have one function outside</p>\n\n<pre><code>hidepanel(){\n}\n</code></pre>\n\n<p>When trying to call inside toaster onShown method it throws error</p>\n\n<blockquote>\n  <p>hidepanel does not exist on type 'HTMLElement'.</p>\n</blockquote>\n\n<p>How can this work?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["angular", "typescript", "ngrx", "ngrx-effects"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1537965396, "post_id": 52517209, "comment_id": 91975299, "body": "Damn me, I totally forgot I was ignoring empty values ! This alone resolved my issue. I&#39;m taking into account your remarks about <code>mapTo</code> and <code>switchMap</code> too, thank you ! Quick question if you know how : given I have two actions, how could I emit a <code>SetRaceAction</code> in my effect without triggering an infinite loop ? Do I have to create a new state for that ?"}, {"owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "edited": false, "score": 0, "creation_date": 1537965872, "post_id": 52517209, "comment_id": 91975613, "body": "Technically, you could have a filter in the effects <code>RxJs</code> pipe to prevent the infinite loop. But I would avoid effects that could trigger each others."}], "tags": [], "owner": {"reputation": 5970, "user_id": 8945135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mo1hF.png?s=128&g=1", "display_name": "ibenjelloun", "link": "https://stackoverflow.com/users/8945135/ibenjelloun"}, "is_accepted": true, "score": 1, "last_activity_date": 1537963007, "creation_date": 1537963007, "answer_id": 52517209, "question_id": 52516610, "link": "https://stackoverflow.com/questions/52516610/ngrx-effects-output-not-getting-added-to-the-actions-stream/52517209#52517209", "title": "Ngrx effects : output not getting added to the actions stream", "body": "<p>The <code>mapTo</code> maps the emission to a string, using <code>map</code> would map to an action which would be dispatched.</p>\n\n<p>To make your example work I changed two things :</p>\n\n<p>1- replace the <code>mapTo</code> by <code>map</code> in the effect :</p>\n\n<pre><code>@Effect()\nraceChange = this.actions\n   .pipe(\n     ofType(SET_RACE),\n     map(() =&gt; new SetSpecialtyAction(''))\n);\n</code></pre>\n\n<p>2- Change the reducer that was ignoring empty values :</p>\n\n<pre><code>export function specialtyReducer(state: string = undefined, action: SetSpecialtyAction): string {\n  return action.specialty;\n}\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const value = '' || 'Not Empty';\r\nconsole.log(value);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://stackblitz.com/edit/stackoverflow-52516610\" rel=\"nofollow noreferrer\">Here is a working fork.</a></p>\n\n<p>You can also map to multiple actions using <code>switchMap</code> and returning an array fo actions :</p>\n\n<pre><code>@Effect()\nraceChange = this.actions\n   .pipe(\n     ofType(SET_RACE),\n     switchMap(() =&gt; [new SetSpecialtyAction(''), ...])\n);\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1537964852, "post_id": 52517330, "comment_id": 91974948, "body": "This is exactly what I&#39;ve said I am already using, and I don&#39;t want to use because I&#39;m learning effects."}, {"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 1, "creation_date": 1537965680, "post_id": 52517330, "comment_id": 91975490, "body": "I want to defend my answer a bit here because you didn&#39;t say this and you aren&#39;t using the solution I wrote here. If you want to learn effects you should also know when to use effects and when you shouldn&#39;t. This case doesn&#39;t really &quot;do&quot; a side effect and simply changes state, thus makes it a fit to use  reducers. Also the accepted answer might introduce troubles later on when you introduce more actions, because the reducer will always clear the state when there is no <code>specialty</code> provided on the action."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "edited": false, "score": 0, "creation_date": 1537965946, "post_id": 52517330, "comment_id": 91975655, "body": "This is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not a real world case. I&#39;m trying to see how effects work and what they do. Thanks to the accepted answer, I do now. I implicitly said I was using this solution, which is linked in my question, that you apparently didn&#39;t read at all. Your answer is good, don&#39;t get me wrong, I have nothing against it : my issue is that you completely ignored the context of the question and basically created a duplicate. This question was about effects not working (because I did something stupid), and not about what is the best solution to use there."}, {"owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "edited": false, "score": 1, "creation_date": 1537967498, "post_id": 52517330, "comment_id": 91976706, "body": ":thumbsup: I must have understood your question wrong."}], "tags": [], "owner": {"reputation": 9151, "user_id": 10112124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e6297e8a8df7affbe897ed476212148?s=128&d=identicon&r=PG", "display_name": "timdeschryver", "link": "https://stackoverflow.com/users/10112124/timdeschryver"}, "is_accepted": false, "score": 0, "last_activity_date": 1537963442, "creation_date": 1537963442, "answer_id": 52517330, "question_id": 52516610, "link": "https://stackoverflow.com/questions/52516610/ngrx-effects-output-not-getting-added-to-the-actions-stream/52517330#52517330", "title": "Ngrx effects : output not getting added to the actions stream", "body": "<p>There is no need for an effect, you can listen to the race action inside the speciality reducer:</p>\n\n<pre><code>export function specialtyReducer(state: string = undefined, action: SetSpecialtyAction | SetRaceAction): string {\n  switch(action.type) {\n    case SET_RACE:\n      return '';\n    default:\n     return action.specialty || state;\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4676340"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 52517209, "answer_count": 2, "score": 0, "last_activity_date": 1537963442, "creation_date": 1537961045, "question_id": 52516610, "link": "https://stackoverflow.com/questions/52516610/ngrx-effects-output-not-getting-added-to-the-actions-stream", "title": "Ngrx effects : output not getting added to the actions stream", "body": "<p>The problem can be reoduced in <a href=\"https://stackblitz.com/edit/angular-jhbg7v?file=src%2Fapp%2Feffects.service.ts\" rel=\"nofollow noreferrer\">this stackblitz</a>.</p>\n\n<p>The example is simple : the user chooses a race and and a specialty. </p>\n\n<p>I want that when the race is chosen, the specialty is reset(ed ?).</p>\n\n<p>To do that, I created an effect : </p>\n\n<pre><code>@Effect()\nraceChange = this.actions\n  .pipe(\n    ofType(SET_RACE),\n    mapTo(new SetSpecialtyAction(''))\n  );\n</code></pre>\n\n<p>But the action is not being added to the stream. Could someone explain me why ? (I'm new to @ngrx, so please be thorough !)</p>\n\n<p>PS : I know I can use <a href=\"https://stackoverflow.com/questions/52498684/ngrx-dispatch-one-event-from-a-store-to-another/52499028\">the solution from my previous question</a>, but I'm trying to learn ngrx basics. </p>\n\n<p>code for stackblitz component : </p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Store, Action, ActionReducerMap } from '@ngrx/store';\n\n@Component({\n  selector: 'my-app',\n  template: \n`\n&lt;select #race (change)=\"dispatchRace(race.value)\" placeholder=\"Select a race\"&gt;\n  &lt;option value=\"Elf\"&gt;Elf&lt;/option&gt;  \n  &lt;option value=\"Orc\"&gt;Orc&lt;/option&gt;  \n  &lt;option value=\"Dwarf\"&gt;Dwarf&lt;/option&gt;\n&lt;/select&gt;\n\n  &lt;select #spec (change)=\"dispatchSpecialty(spec.value)\" placeholder=\"Select a specialty\"&gt;\n  &lt;option value=\"Warrior\"&gt;Warrior&lt;/option&gt;  \n  &lt;option value=\"Berzerkrer\"&gt;Berzerkrer&lt;/option&gt;  \n  &lt;option value=\"Healer\"&gt;Healer&lt;/option&gt;  \n&lt;/select&gt;\n\n&lt;p&gt;\n  Current race: {{ (currentRace | async) || 'None' }}\n&lt;/p&gt;\n&lt;p&gt;\n  Current Spec: {{ (currentSpecialty | async) || 'None' }}  \n&lt;/p&gt;  \n`\n})\nexport class AppComponent {\n\n  currentRace = this.raceStore.select('race');\n  currentSpecialty = this.specStore.select('specialty');\n\n  constructor(\n    public raceStore: Store&lt;RaceState&gt;,\n    public specStore: Store&lt;SpecialtyState&gt;,\n    ) {\n      this.currentRace.subscribe(x =&gt; console.log('race : ', x));\n      this.currentSpecialty.subscribe(x =&gt; console.log('spec : ', x))\n    }\n\n  dispatchRace(race) {\n    this.raceStore.dispatch(new SetRaceAction(race));\n  }\n\n  dispatchSpecialty(spec) {\n    this.specStore.dispatch(new SetSpecialtyAction(spec));\n  }\n}\n\n\nexport const SET_RACE = '[RACE] Set';\nexport const SET_SPECIALTY = '[CLASS] Set';\n\nexport class SetRaceAction implements Action {\n  readonly type = SET_RACE;\n  constructor(public race: string) { }\n}\n\nexport class SetSpecialtyAction implements Action {\n  readonly type = SET_SPECIALTY;\n  constructor(public specialty: string) { }\n}\n\nexport function raceReducer(state: string = undefined, action: SetRaceAction): string {\n  return action.race || state;\n}\n\nexport function specialtyReducer(state: string = undefined, action: SetSpecialtyAction): string {\n  return action.specialty || state;\n}\n\nexport interface RaceState {\n  readonly race: string;\n}\n\nexport interface SpecialtyState {\n  readonly specialty: string;\n}\n</code></pre>\n"}, {"tags": ["typescript", "angular6"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538012363, "post_id": 52516306, "comment_id": 91995985, "body": "The <code>forEach</code> method means something very different for an array and an observable (re observable, see <a href=\"https://stackoverflow.com/a/35399823\">this answer</a> found in a <a href=\"https://duckduckgo.com/?q=rxjs+observable+foreach\" rel=\"nofollow noreferrer\">web search</a>), so it doesn&#39;t make much sense to call <code>forEach</code> on a variable that might contain either an array or an observable.  Where are you getting <code>this.data</code> from that motivated you to give it that union type?"}, {"owner": {"reputation": 61, "user_id": 9709113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f86bf5b4b9685ba197c1de15ae4143e?s=128&d=identicon&r=PG&f=1", "display_name": "manish", "link": "https://stackoverflow.com/users/9709113/manish"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538115945, "post_id": 52516306, "comment_id": 92037902, "body": "actually it comes from a node module package of ngx-formly/core  and we are looping through templateoption of that . But i got solution of that. by doing type cast. like  var result = data as any[];"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 9709113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f86bf5b4b9685ba197c1de15ae4143e?s=128&d=identicon&r=PG&f=1", "display_name": "manish", "link": "https://stackoverflow.com/users/9709113/manish"}, "is_accepted": false, "score": 0, "last_activity_date": 1538116008, "creation_date": 1538116008, "answer_id": 52549539, "question_id": 52516306, "link": "https://stackoverflow.com/questions/52516306/getting-some-error-while-looping-array-angular6/52549539#52549539", "title": "Getting some error while looping array Angular6", "body": "<p>I got the solution by doing type cast as below</p>\n\n<pre><code>var result = this.data as any[];\nresult.forEach(function(d)\n{\n\n});\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 9709113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f86bf5b4b9685ba197c1de15ae4143e?s=128&d=identicon&r=PG&f=1", "display_name": "manish", "link": "https://stackoverflow.com/users/9709113/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538116008, "creation_date": 1537960003, "last_edit_date": 1537960153, "question_id": 52516306, "link": "https://stackoverflow.com/questions/52516306/getting-some-error-while-looping-array-angular6", "title": "Getting some error while looping array Angular6", "body": "<p>I have a piece of code where I have data variable with given declaration. But when I loop through data object I am getting error as below:</p>\n\n<blockquote>\n  <p>\"cannot invoke an expression whose type lacks a call signature\"</p>\n</blockquote>\n\n<hr>\n\n<pre><code>export class AppComponent {\n  title = 'app works!';\n  data : any[] | Observable&lt;any[]&gt;;\n\n  constructor()\n  {\n    this.data.forEach(function(d)\n    {\n\n    });\n  }\n}\n</code></pre>\n\n<p>Not sure it is typescript issue or due to incorrect type declaration. </p>\n"}, {"tags": ["angular", "typescript", "patch"], "comments": [{"owner": {"reputation": 8447, "user_id": 7932059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aedf69bb41128a68d2a556a279c7698a?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen You", "link": "https://stackoverflow.com/users/7932059/nguyen-you"}, "edited": false, "score": 0, "creation_date": 1537959539, "post_id": 52516102, "comment_id": 91971793, "body": "please provide the body of <code>homboxPGetAll()</code> function. I think I can solve this error by taking a look at it."}, {"owner": {"reputation": 8042, "user_id": 10154951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/icfyM.jpg?s=128&g=1", "display_name": "Suresh Kumar Ariya", "link": "https://stackoverflow.com/users/10154951/suresh-kumar-ariya"}, "edited": false, "score": 0, "creation_date": 1537959884, "post_id": 52516102, "comment_id": 91971983, "body": "might be homeboxsp variable is not an array. We are applying Array.map to null value."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10197973"}, "reply_to_user": {"reputation": 8447, "user_id": 7932059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aedf69bb41128a68d2a556a279c7698a?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen You", "link": "https://stackoverflow.com/users/7932059/nguyen-you"}, "edited": false, "score": 0, "creation_date": 1537962854, "post_id": 52516102, "comment_id": 91973710, "body": "@Nguy\u1ec5nThanhT&#250; I edit my post. Thank you!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10197973"}, "reply_to_user": {"reputation": 8447, "user_id": 7932059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aedf69bb41128a68d2a556a279c7698a?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen You", "link": "https://stackoverflow.com/users/7932059/nguyen-you"}, "edited": false, "score": 0, "creation_date": 1537970702, "post_id": 52516102, "comment_id": 91978801, "body": "@Nguy\u1ec5nThanhT&#250; Have you any idea please?"}, {"owner": {"reputation": 8447, "user_id": 7932059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aedf69bb41128a68d2a556a279c7698a?s=128&d=identicon&r=PG&f=1", "display_name": "Nguyen You", "link": "https://stackoverflow.com/users/7932059/nguyen-you"}, "edited": false, "score": 0, "creation_date": 1537970928, "post_id": 52516102, "comment_id": 91978953, "body": "I really want to help. However, it would be much easier if you also make this project available on CodeSandbox and share its link. This way, your question could be easily answered."}], "owner": {"user_type": "does_not_exist", "display_name": "user10197973"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537962817, "creation_date": 1537959341, "last_edit_date": 1537962817, "question_id": 52516102, "link": "https://stackoverflow.com/questions/52516102/error-typeerror-this-homeboxsp-map-is-not-a-function-at-patchform", "title": "ERROR TypeError: this.homeboxsp.map is not a function at patchForm", "body": "<p>I have this patchForm in my code:</p>\n\n<pre><code>populateForm() {\n    this.hsP.homeboxPGetAll().subscribe(\n      homeboxsp =&gt; {\n        this.homeboxsp = homeboxsp\n        let controls = {\n          'homeboxpackage_id': new FormControl('', Validators.required)\n        };\n        for (let i = 0; i &lt; this.homeboxsp.length; i++) {\n          controls['active-' + this.homeboxsp[i].homeboxpackage_id] = new FormControl(this.homeboxsp[i].active === 1, Validators.required)\n        }\n        this.activeHomeboxPForm = new FormGroup(controls);\n        this.patchForm();\n      }\n    )\n  }\n      patchForm() {\n        this.activeHomeboxPForm.patchValue({\n          homeboxpackage_id: this.homeboxsp.map(x =&gt; x.homeboxpackage_id),\n        });\n      }\n</code></pre>\n\n<p>Service.ta</p>\n\n<pre><code>public homeboxPGetAll(): Observable&lt;HomeboxP[]&gt; {\n    let headers = new Headers();\n    headers.append('x-access-token', this.auth.getCurrentUser().token);\n    return this.http.get(Api.getUrl(Api.URLS.homeboxPGetAll), {\n      headers: headers\n    })\n      .map((response: Response) =&gt; {\n        let res = response.json();\n        if (res.StatusCode === 1) {\n          this.auth.logout();\n        } else if (res.StatusCode === 4) {\n          return false;\n        } else if (res.StatusDescription === 'No result') {\n          return false;\n        } else {\n          return res.StatusDescription.map(homeboxP =&gt; {\n            return new HomeboxP(homeboxP);\n          });\n        }\n      });\n  }\n</code></pre>\n\n<p>When API get data this error doesn't show.\nWhen API get empty data in console show this error:</p>\n\n<blockquote>\n  <p>ERROR TypeError: this.homeboxsp.map is not a function\n      at HomeboxComponent.patchForm</p>\n</blockquote>\n\n<p>Can you ask me any idea please, how to solve this error?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "edited": false, "score": 0, "creation_date": 1537958735, "post_id": 52515819, "comment_id": 91971299, "body": "How do you initialize data in the first place?"}], "answers": [{"comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1537958973, "post_id": 52515872, "comment_id": 91971451, "body": "did u use <code>&lt;input [(ngModel)]=&quot;data?.value2&quot; &#47;&gt; </code>"}, {"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1537959167, "post_id": 52515872, "comment_id": 91971587, "body": "it should work <a href=\"https://stackblitz.com/edit/angular-4eqrhw?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1537958585, "creation_date": 1537958585, "answer_id": 52515872, "question_id": 52515819, "link": "https://stackoverflow.com/questions/52515819/ngmodel-cant-bind-to-async-property-angular/52515872#52515872", "title": "ngModel cant bind to async property Angular", "body": "<p>I think you need to initialize the data object at first.</p>\n\n<pre><code>data = {\n    value1: null,\n    value2: null,\n    value3: null,\n    value4: null,\n    value5: null, \n}\n\ngetData() {\n   this._dataService.getData().subscribe((result) =&gt; {\n     this.data = result\n   })\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1537959160, "post_id": 52516001, "comment_id": 91971579, "body": "not the most elegant solution but does work.. thanks"}, {"owner": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "reply_to_user": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "edited": false, "score": 0, "creation_date": 1537959275, "post_id": 52516001, "comment_id": 91971646, "body": "Doing so will make the form display only when data is filled up with the correct informations. Don&#39;t forget to check my answer as the correct answer please :)"}, {"owner": {"reputation": 1451, "user_id": 1517357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a44bdbb307be7e32af2550222d829c13?s=128&d=identicon&r=PG&f=1", "display_name": "tom van green", "link": "https://stackoverflow.com/users/1517357/tom-van-green"}, "edited": false, "score": 0, "creation_date": 1537959371, "post_id": 52516001, "comment_id": 91971701, "body": "Given your example this is probably the most elegent solution you will get besides initializing data with an empty object. If you don&#39;t want to use ngIf nor initialize data with an empty value you should have a look at resolvers. You can use resolvers to load data before your component is loaded."}], "tags": [], "owner": {"reputation": 1108, "user_id": 5573733, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/869ffbc18071db8d6dfc3e01d816147d?s=128&d=identicon&r=PG&f=1", "display_name": "GreatHawkeye", "link": "https://stackoverflow.com/users/5573733/greathawkeye"}, "is_accepted": true, "score": 2, "last_activity_date": 1537958999, "creation_date": 1537958999, "answer_id": 52516001, "question_id": 52515819, "link": "https://stackoverflow.com/questions/52515819/ngmodel-cant-bind-to-async-property-angular/52516001#52516001", "title": "ngModel cant bind to async property Angular", "body": "<p>Try to wrap your input inside a <code>*ngIf=\"data\"</code>.</p>\n\n<pre><code>&lt;form *ngIf=\"data\"&gt;\n    &lt;input [(ngModel)]=\"data.value1\" /&gt;\n    &lt;input [(ngModel)]=\"data.value2\" /&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1420, "user_id": 6706381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff5671b662c316b0e27d980cc6d58204?s=128&d=identicon&r=PG&f=1", "display_name": "Asanka", "link": "https://stackoverflow.com/users/6706381/asanka"}, "is_accepted": false, "score": 1, "last_activity_date": 1537962577, "creation_date": 1537962577, "answer_id": 52517055, "question_id": 52515819, "link": "https://stackoverflow.com/questions/52515819/ngmodel-cant-bind-to-async-property-angular/52517055#52517055", "title": "ngModel cant bind to async property Angular", "body": "<p>You have to check the getData method. result object can be undefined. you have to check it first. use console.log or network tab in the browser and check the response. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getData() {\n   this._dataService.getData().subscribe((result) =&gt; {\n\n     console.log(result)\n     this.data = result \n\n   })\n}\n</code></pre>\n\n\n\n<p>however you can simply do this for working. this will work but not the correct way.</p>\n\n<pre><code>getData() {\n   this._dataService.getData().subscribe((result) =&gt; {\n\n\n     this.data = result?result:this.data \n\n   })\n}\n</code></pre>\n"}], "owner": {"reputation": 6268, "user_id": 8724160, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mmcTl.jpg?s=128&g=1", "display_name": "Smokey Dawson", "link": "https://stackoverflow.com/users/8724160/smokey-dawson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 52516001, "answer_count": 3, "score": 0, "last_activity_date": 1537962577, "creation_date": 1537958437, "question_id": 52515819, "link": "https://stackoverflow.com/questions/52515819/ngmodel-cant-bind-to-async-property-angular", "title": "ngModel cant bind to async property Angular", "body": "<p>I have an issue, now when I start my app I have an async call like so..</p>\n\n<pre><code>getData() {\n   this._dataService.getData().subscribe((result) =&gt; {\n     this.data = result\n   })\n}\n</code></pre>\n\n<p>now the data I get back looks something like this</p>\n\n<pre><code>data = {\n    value1: null,\n    value2: null,\n    value3: null,\n    value4: null,\n    value5: null,\n    etc..\n}\n</code></pre>\n\n<p>now in my HTML I'm doing this..</p>\n\n<pre><code>&lt;input [(ngModel)]=\"data.value1\" /&gt;\n&lt;input [(ngModel)]=\"data.value2\" /&gt;\n</code></pre>\n\n<p>etc..</p>\n\n<p>so when I run my app, I get errors saying cant bind to undefined meaning that when the page renders data hasnt been retrieved yet</p>\n\n<p>now normally I would do something like this...</p>\n\n<pre><code>&lt;input [(ngModel)]=\"data?.value2\" /&gt;\n</code></pre>\n\n<p>but I get this error <code>Parser Error: The '?.' operator cannot be used in the assignment</code></p>\n\n<p>is there anyway around this?</p>\n\n<p>I dont really want to do the following </p>\n\n<pre><code>setData() {\n   this.value1 = this.data.value1;\n   etc...\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "oop", "google-visualization"], "comments": [{"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 1, "creation_date": 1537959027, "post_id": 52515416, "comment_id": 91971489, "body": "Assume that your compilation error is fixed somehow. Do you think your code <code>google.visualization.arrayTodata(temp)</code> will work by declaring <code>public google : any</code>? No it won&#39;t, because there is no way to tell that <code>google</code> is an instance or reference to <code>google-charts</code>. That is why compiler is giving a strict warning or error."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538012104, "post_id": 52515416, "comment_id": 91995926, "body": "Just install the type declaration files as per <a href=\"https://stackoverflow.com/q/44170660\">this question</a>, found by a <a href=\"https://duckduckgo.com/?q=google+charts+typescript\" rel=\"nofollow noreferrer\">web search</a>."}], "owner": {"reputation": 6272, "user_id": 2685914, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4bdXc.jpg?s=128&g=1", "display_name": "Deadpool", "link": "https://stackoverflow.com/users/2685914/deadpool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537957182, "creation_date": 1537957182, "question_id": 52515416, "link": "https://stackoverflow.com/questions/52515416/property-charts-does-not-exist-on-type-typeof-google-google-charts-in-angul", "title": "Property &#39;charts&#39; does not exist on type &#39;typeof google&#39; (Google Charts in Angular4)", "body": "<p>I've implemented google-charts in Angular4 with reference to following link: </p>\n\n<p><a href=\"https://developers.google.com/chart/\" rel=\"nofollow noreferrer\">https://developers.google.com/chart/</a></p>\n\n<p>Though chart is rendering properly and getting pie chart, but Type-Script compilation is showing error due to which project cannot be uploaded to server (deployment issues). </p>\n\n<p>In index.js I have included respective file. In abc.ts (typeScript file) I even tried using </p>\n\n<pre><code>public google: any; \n</code></pre>\n\n<p>or </p>\n\n<pre><code>let google: any; \n</code></pre>\n\n<p>But, still cannot remove this error. Can someone help me out. I do not want to install with npm-package or get any newer version as all work for pie-chart will go waste or will need alternation. </p>\n\n<p>index.html</p>\n\n<p><a href=\"https://i.stack.imgur.com/2iYgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2iYgG.png\" alt=\"enter image description here\"></a></p>\n\n<p>abc.ts</p>\n\n<p><a href=\"https://i.stack.imgur.com/VkON0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VkON0.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/F2BPg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F2BPg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can anyone help me out? </p>\n"}, {"tags": ["node.js", "typescript", "typescript-typings", "strong-typing", "fastify"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1537956881, "post_id": 52515196, "comment_id": 91970227, "body": "What do the definitions of <code>typings&#47;fastify-static&#47;index.d.ts</code> look like. You need to add the augmentation there"}, {"owner": {"reputation": 630, "user_id": 334264, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LyClo.jpg?s=128&g=1", "display_name": "Szopinski", "link": "https://stackoverflow.com/users/334264/szopinski"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537957446, "post_id": 52515196, "comment_id": 91970558, "body": "Its override module instead of augment it. I&#39;ve edited the question. Thanks for the tip."}], "answers": [{"tags": [], "owner": {"reputation": 630, "user_id": 334264, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LyClo.jpg?s=128&g=1", "display_name": "Szopinski", "link": "https://stackoverflow.com/users/334264/szopinski"}, "is_accepted": true, "score": 0, "last_activity_date": 1537964852, "creation_date": 1537964852, "answer_id": 52517762, "question_id": 52515196, "link": "https://stackoverflow.com/questions/52515196/how-to-augment-module-in-project-scope/52517762#52517762", "title": "How to augment module in project scope?", "body": "<p>Titian Cernicova-Dragomir was right. Module augmentation shout be in <code>typings/fastify-static/index.d.ts</code>, but not as separate module declaration.</p>\n\n<pre><code>// typings/fastify-static/index.d.ts\n\ndeclare module \"fastify-static\" {\n    import { Plugin } from \"fastify\";\n    import { Server, IncomingMessage, ServerResponse } from \"http\";\n\n    namespace fastifyStatic {\n        const instance: Plugin&lt;Server, IncomingMessage, ServerResponse, any&gt;;\n    }\n\n    export = fastifyStatic.instance\n\n    module \"fastify\" {\n        interface FastifyReply&lt;HttpResponse&gt; {\n            sendFile: (file: string) =&gt; FastifyReply&lt;HttpResponse&gt;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 630, "user_id": 334264, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/LyClo.jpg?s=128&g=1", "display_name": "Szopinski", "link": "https://stackoverflow.com/users/334264/szopinski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 52517762, "answer_count": 1, "score": 0, "last_activity_date": 1537964852, "creation_date": 1537956456, "last_edit_date": 1537957289, "question_id": 52515196, "link": "https://stackoverflow.com/questions/52515196/how-to-augment-module-in-project-scope", "title": "How to augment module in project scope?", "body": "<p>I'm using <a href=\"https://github.com/fastify/fastify\" rel=\"nofollow noreferrer\">fastify</a> with plugin <a href=\"https://github.com/fastify/fastify-static\" rel=\"nofollow noreferrer\">fastify-static</a>. I also provide my own TypeScript types declaration for this plugin in <code>typings/fastify-static/index.d.ts</code>:</p>\n\n<pre><code>declare module \"fastify-static\" {\n    import { Plugin } from \"fastify\";\n    import { Server, IncomingMessage, ServerResponse } from \"http\";\n\n    namespace fastifyStatic {\n        const instance: Plugin&lt;Server, IncomingMessage, ServerResponse, any&gt;;\n    }\n    export = fastifyStatic.instance\n}\n</code></pre>\n\n<p>Additionally plugin extends fastify <code>FastifyReply</code> with method <code>sendFile</code>.</p>\n\n<p>When I augment fastify module in module scope like this, works fine:</p>\n\n<pre><code>// server.js\nimport fastify from \"fastify\";\nimport fastifyStatic from \"fastify-static\";\n\ndeclare module \"fastify\" {\n    interface FastifyReply&lt;HttpResponse&gt; {\n        sendFile: (file: string) =&gt; FastifyReply&lt;HttpResponse&gt;\n    }\n}\n\nserver.get(\"/file\", async (request, reply) =&gt; {\n    reply.sendFile('file')\n});\n</code></pre>\n\n<p>Unfortunately it works only in this module.\nWhen I move declaration to <code>typings/fastify-static/index.d.ts</code> or <code>typings/fastify/index.d.ts</code> it override module instead of augment.\n<strong>How can I augment <code>fastify</code> module in project scope?</strong></p>\n"}, {"tags": ["angular", "typescript", "parsing"], "comments": [{"owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "edited": false, "score": 0, "creation_date": 1608860044, "post_id": 52515108, "comment_id": 115703341, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMParser\" rel=\"nofollow noreferrer\">DOMParser</a> is the simple and robust answer to this question, whereas stripping HTML is an arbitrary answer which may only work in specific circumstances"}], "answers": [{"tags": [], "owner": {"reputation": 2408, "user_id": 2451562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mGpTI.jpg?s=128&g=1", "display_name": "Pramod Patil", "link": "https://stackoverflow.com/users/2451562/pramod-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1537956895, "creation_date": 1537956895, "answer_id": 52515327, "question_id": 52515108, "link": "https://stackoverflow.com/questions/52515108/parse-data-from-html-response/52515327#52515327", "title": "Parse data from html response", "body": "<p>You can use parse through using tag name.</p>\n\n<pre><code>var pele = document.getElementsByTagName('p');\n\nfor(var i=0;i&lt; pele.length;i++) {\n  console.log(pele[i].innerHTML)\n}\n</code></pre>\n\n<p>But make sure if you are using jquery then put this code snippet under ready function.</p>\n"}, {"tags": [], "owner": {"reputation": 535, "user_id": 5879295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93cb66e124e134c48b97c05c4f211e4?s=128&d=identicon&r=PG&f=1", "display_name": "Andriy Klitsuk", "link": "https://stackoverflow.com/users/5879295/andriy-klitsuk"}, "is_accepted": true, "score": 3, "last_activity_date": 1537957211, "creation_date": 1537957211, "answer_id": 52515428, "question_id": 52515108, "link": "https://stackoverflow.com/questions/52515108/parse-data-from-html-response/52515428#52515428", "title": "Parse data from html response", "body": "<p>Strip all the html from the response with this regEx:</p>\n\n<pre><code>data.replace(/&lt;(?:.|\\n)*?&gt;/gm, '');\n</code></pre>\n\n<p>where data is your response string</p>\n\n<p>You will get this:</p>\n\n<pre><code>Temperature 16.6 \u00b0C\nTemperature 18.2 \u00b0C\n</code></pre>\n"}], "owner": {"reputation": 4516, "user_id": 4661692, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r0god.jpg?s=128&g=1", "display_name": "Runtime Terror", "link": "https://stackoverflow.com/users/4661692/runtime-terror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2385, "favorite_count": 1, "accepted_answer_id": 52515428, "answer_count": 2, "score": 1, "last_activity_date": 1537957373, "creation_date": 1537956230, "last_edit_date": 1537957373, "question_id": 52515108, "link": "https://stackoverflow.com/questions/52515108/parse-data-from-html-response", "title": "Parse data from html response", "body": "<p>I'm sending a <code>GET</code> request to a <code>WMS</code> service through angular's <code>HttpClient</code>. The response what I get is a html in string. How can I parse data from this string?</p>\n\n<p>The response looks like this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;p&gt;Temperature 16.6 \u00b0C&lt;/p&gt;\n&lt;p&gt;Temperature 18.2 \u00b0C&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I need to get the values inside the paragraph tags. I found solutions only to display data through <code>innerHtml</code> directive, but this is not my case.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I found one possible solution through <code>DOMParser</code>:</p>\n\n<pre><code>const parser = new DOMParser();\nconst doc = parser.parseFromString(myHtmlStringResponse, \"text/html\");\nconst values = [];\n\nconst p = doc.getElementsByTagName(\"p\");\n\nfor (const item of Array.from(p)) {\n     values.push(item.textContent);\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1537955893, "post_id": 52514956, "comment_id": 91969631, "body": "The first error is because <code>Color</code> isn&#39;t a type, it&#39;s an identifier. The second is because you&#39;ve explicitly typed it as <code>{}</code>, which indeed doesn&#39;t have a <code>RED</code> property."}], "answers": [{"comments": [{"owner": {"reputation": 1106, "user_id": 576523, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e02bb06c5a7596d3a7be21d47f58501?s=128&d=identicon&r=PG", "display_name": "Scrappy Cocco", "link": "https://stackoverflow.com/users/576523/scrappy-cocco"}, "edited": false, "score": 0, "creation_date": 1537956620, "post_id": 52515011, "comment_id": 91970086, "body": "sorry if my question seems silly...This explanation was exactly what i was looking for...Thankz a lot...."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1106, "user_id": 576523, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e02bb06c5a7596d3a7be21d47f58501?s=128&d=identicon&r=PG", "display_name": "Scrappy Cocco", "link": "https://stackoverflow.com/users/576523/scrappy-cocco"}, "edited": false, "score": 0, "creation_date": 1537956682, "post_id": 52515011, "comment_id": 91970116, "body": "@ScrappyCocco not silly, just a beginner question, that&#39;s why I included more info :)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1537956217, "last_edit_date": 1537956217, "creation_date": 1537955938, "answer_id": 52515011, "question_id": 52514956, "link": "https://stackoverflow.com/questions/52514956/assign-constant-value-to-a-variable/52515011#52515011", "title": "Assign constant value to a variable", "body": "<p>You use an explicit type annotation telling the typescript compiler that <code>Color</code> is an empty object (<code>: {}</code>). You just need to remove that and the compiler will infer the correct type of the variable.</p>\n\n<pre><code>const Color = {\n  RED: {\n    CODE: \"RCB\",\n    PRICE: 15.70\n  },\n  BLUE: {\n    CODE: \"BBC\",\n    PRICE: 18.70\n  },\n  GREEN: {\n    CODE: \"GTA\",\n    PRICE: 13.70\n  },\n};\nlet price  = Color.RED.PRICE;\nconsole.log(price);\n</code></pre>\n\n<p>Also <code>price</code> is a number and again you can just let the compiler infer that.</p>\n\n<p>If you want to declare a variable that is one of the properties in the <code>Color</code> object you can use a type query :</p>\n\n<pre><code>let red: typeof Color[keyof typeof Color]  = Color.RED;\n</code></pre>\n\n<p><code>typeof Color</code> gets the inferred type of the constant, and <code>[keyof typeof Color]</code> tells the compiler we want a union of all property types of <code>Color</code>.</p>\n\n<p>We can also put this type in an alias for later use:</p>\n\n<pre><code>type ColorMember = typeof Color[keyof typeof Color];\nlet red: ColorMember  = Color.RED;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 104, "user_id": 6874376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f3IH1.png?s=128&g=1", "display_name": "Jodeveloper8", "link": "https://stackoverflow.com/users/6874376/jodeveloper8"}, "is_accepted": false, "score": 1, "last_activity_date": 1537956151, "creation_date": 1537956151, "answer_id": 52515088, "question_id": 52514956, "link": "https://stackoverflow.com/questions/52514956/assign-constant-value-to-a-variable/52515088#52515088", "title": "Assign constant value to a variable", "body": "<p>do it like this :</p>\n\n<pre><code>const Color = {\n   RED: {\n     CODE: \"RCB\",\n     PRICE: 15.70\n   },\n   BLUE: {\n     CODE: \"BBC\",\n     PRICE: 18.70\n   },\n   GREEN: {\n     CODE: \"GTA\",\n     PRICE: 13.70\n   },\n };\nvar price = Color.RED.PRICE; \n\nconsole.log(price); //15.70\n</code></pre>\n"}], "owner": {"reputation": 1106, "user_id": 576523, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e02bb06c5a7596d3a7be21d47f58501?s=128&d=identicon&r=PG", "display_name": "Scrappy Cocco", "link": "https://stackoverflow.com/users/576523/scrappy-cocco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 52515011, "answer_count": 2, "score": 0, "last_activity_date": 1537956217, "creation_date": 1537955760, "last_edit_date": 1537955942, "question_id": 52514956, "link": "https://stackoverflow.com/questions/52514956/assign-constant-value-to-a-variable", "title": "Assign constant value to a variable", "body": "<p>I have a constant declared in my TypeScript file and later at some point\nI need to get them in a variable, but I can't figure out how it's done.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>const Color: {} = {\n  RED: {\n    CODE: \"RCB\",\n    PRICE: 15.70\n  },\n  BLUE: {\n    CODE: \"BBC\",\n    PRICE: 18.70\n  },\n  GREEN: {\n    CODE: \"GTA\",\n    PRICE: 13.70\n  },\n};\nlet price: Color = Color.RED.PRICE;\nconsole.log(price);\n</code></pre>\n\n<p><code>let price: Color = Color.RED.PRICE;</code> is not working, I am getting the following error messages:</p>\n\n<pre><code>Cannot find name Color\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>Property RED does not exist on type '{}'\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "highcharts", "height"], "comments": [{"owner": {"reputation": 5392, "user_id": 8376046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2fb47af033cf9995c0835d876d7b942?s=128&d=identicon&r=PG&f=1", "display_name": "ewolden", "link": "https://stackoverflow.com/users/8376046/ewolden"}, "edited": false, "score": 0, "creation_date": 1537955164, "post_id": 52514629, "comment_id": 91969115, "body": "Could you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please?"}, {"owner": {"reputation": 323, "user_id": 4729280, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-RACE_IUnYqQ/AAAAAAAAAAI/AAAAAAAAAH4/RDRdQRA8S2c/photo.jpg?sz=128", "display_name": "ill", "link": "https://stackoverflow.com/users/4729280/ill"}, "edited": false, "score": 0, "creation_date": 1537955875, "post_id": 52514629, "comment_id": 91969619, "body": "is redrawing an option?  than it would not be a smooth transition but you could return a new chart with the adjusted parameters."}, {"owner": {"reputation": 31, "user_id": 3513795, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219593813/picture?type=large", "display_name": "Yvicci", "link": "https://stackoverflow.com/users/3513795/yvicci"}, "edited": false, "score": 0, "creation_date": 1537956280, "post_id": 52514629, "comment_id": 91969865, "body": "When I add 100% height to each series, it seems to work well but the problem I have then is that they overlap and top:value is ignored. <a href=\"https://i.imgur.com/j6kfq6F.png\" rel=\"nofollow noreferrer\">i.imgur.com/j6kfq6F.png</a>"}, {"owner": {"reputation": 3259, "user_id": 8547775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ih5Wk.png?s=128&g=1", "display_name": "daniel_s", "link": "https://stackoverflow.com/users/8547775/daniel-s"}, "edited": false, "score": 0, "creation_date": 1538043515, "post_id": 52514629, "comment_id": 92008534, "body": "You could try to use <code>series.events.legendItemClick</code>, and inside of that events function, check how many series has <code>visible</code> flag set to <code>true</code>, then just iterate on all axes and adjust the height. Would be much easier to prepare the example if you would provide us with minimal example."}], "owner": {"reputation": 31, "user_id": 3513795, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003219593813/picture?type=large", "display_name": "Yvicci", "link": "https://stackoverflow.com/users/3513795/yvicci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537955532, "creation_date": 1537954804, "last_edit_date": 1537955532, "question_id": 52514629, "link": "https://stackoverflow.com/questions/52514629/angular-highcharts-dynamically-resize-series-height-when-selected", "title": "Angular Highcharts - Dynamically resize series height when selected", "body": "<p>I'd like to dynamically resize the chart yAxis series height when the other series are deselected.</p>\n\n<p>I've currently got each series set to 33% height each. From the dropdown, when one series is selected (for example RMS), I want it to become 100% height. When 2 (Peak &amp; RMS) are selected, 50% height each. When 3 selected (RMS, Peak &amp; Duration) 33% height each.</p>\n\n<p><a href=\"https://i.imgur.com/ojrPFlV.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/ojrPFlV.png</a> <br>\n<a href=\"https://i.imgur.com/LcqWmNR.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/LcqWmNR.png</a> &lt;-- Problem<br>\nWith 100% height <a href=\"https://i.imgur.com/INMsBOU.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/INMsBOU.png</a> &lt;-- Desired Result</p>\n\n<pre><code>yAxis: [\n  {\n    height: \"33%\",\n    id: \"rms\",\n    resize: {\n      enabled: true\n    }\n  },\n  {\n    top: \"33%\",\n    height: \"33%\",\n    id: \"peak\",\n    resize: {\n      enabled: true\n    }\n  },\n  {\n    top: \"66%\",\n    height: \"33%\",\n    id: \"duration\"\n  }\n],\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "webpack"], "comments": [{"owner": {"reputation": 6880, "user_id": 681548, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1010c8a32ba6615297b1904fca57b6de?s=128&d=identicon&r=PG", "display_name": "keul", "link": "https://stackoverflow.com/users/681548/keul"}, "edited": false, "score": 2, "creation_date": 1537955691, "post_id": 52514232, "comment_id": 91969485, "body": "Share your webpack configuration. Also, you don&#39;t need to use <code>import * as React</code>. Just call <code>import React from &#39;react&#39;</code>"}, {"owner": {"reputation": 18028, "user_id": 2039244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBkc.png?s=128&g=1", "display_name": "sdgluck", "link": "https://stackoverflow.com/users/2039244/sdgluck"}, "reply_to_user": {"reputation": 6880, "user_id": 681548, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1010c8a32ba6615297b1904fca57b6de?s=128&d=identicon&r=PG", "display_name": "keul", "link": "https://stackoverflow.com/users/681548/keul"}, "edited": false, "score": 1, "creation_date": 1537979419, "post_id": 52514232, "comment_id": 91984217, "body": "@LucaFabbri When using TypeScript <code>import * as React from &#39;react&#39;</code> is the correct way."}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 1, "creation_date": 1537983626, "post_id": 52514232, "comment_id": 91986275, "body": "I&#39;m dealing with exactly the same problem now. I found this <a href=\"http://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html\" rel=\"nofollow noreferrer\">link</a> that might help you, it said that it&#39;s necessary to create a new index.html adding the react dependencies. If I found a better answer I&#39;ll let you know"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538011840, "post_id": 52514232, "comment_id": 91995872, "body": "I made a React project based on the <a href=\"https://github.com/TypeStrong/ts-loader/tree/master/examples/vanilla\" rel=\"nofollow noreferrer\">ts-loader &quot;vanilla&quot; example</a> and React got bundled fine, so I don&#39;t think there&#39;s any universal requirement to use React as an external.  Can you publish a repository of your project that isn&#39;t working?"}, {"owner": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538015291, "post_id": 52514232, "comment_id": 91996493, "body": "@MattMcCutchen, do you know if there are any difference if it&#39;s used <code>awesome-typescript-loader</code> instead of <code>ts-loader</code>?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 35505, "user_id": 1394631, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ajAkr.jpg?s=128&g=1", "display_name": "octavioccl", "link": "https://stackoverflow.com/users/1394631/octavioccl"}, "edited": false, "score": 0, "creation_date": 1538015405, "post_id": 52514232, "comment_id": 91996516, "body": "@octavioccl I don&#39;t think there should be a difference.  Publish a repository that reproduces the problem and I will look."}], "answers": [{"tags": [], "owner": {"reputation": 455, "user_id": 2574461, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47533b911386e01b0de425b354c12b2f?s=128&d=identicon&r=PG", "display_name": "Cactusman07", "link": "https://stackoverflow.com/users/2574461/cactusman07"}, "is_accepted": false, "score": 1, "last_activity_date": 1551907567, "creation_date": 1551907567, "answer_id": 55032392, "question_id": 52514232, "link": "https://stackoverflow.com/questions/52514232/react-is-not-defined-when-bundling/55032392#55032392", "title": "React is not defined when bundling", "body": "<p>I've been having this issue too. After googling the error for a day or so, I stumbled across this page. </p>\n\n<p>Following the link provided by octavioccl in the comments - (<a href=\"http://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/react-&amp;-webpack.html</a>).</p>\n\n<p>I swear I've read this page a dozen or so times, and roughly tried following it while I've been converting my project across to TypeScript. Anyways, what helped me what this section here: </p>\n\n<p>\"We\u2019ll also need a page to display our Hello component. Create a file at the root of proj named index.html with the following contents:\"</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\" /&gt;\n        &lt;title&gt;Hello React!&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id=\"example\"&gt;&lt;/div&gt;\n\n        &lt;!-- Dependencies --&gt;\n        &lt;script src=\"./node_modules/react/umd/react.development.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"./node_modules/react-dom/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n\n        &lt;!-- Main --&gt;\n        &lt;script src=\"./dist/bundle.js\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>\"Notice that we\u2019re including files from within node_modules. React and React-DOM\u2019s npm packages include standalone .js files that you can include in a web page, and we\u2019re referencing them directly to get things moving faster. Feel free to copy these files to another directory, or alternatively, host them on a content delivery network (CDN). Facebook makes CDN-hosted versions of React available...\"</p>\n\n<p>I added the Dependancies to my index.html file and it sorted this issue. </p>\n\n<p>Hopefully that helps someone else who stumbles across this. </p>\n"}], "owner": {"reputation": 1011, "user_id": 298895, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/LusFB.jpg?s=128&g=1", "display_name": "DrogoNevets", "link": "https://stackoverflow.com/users/298895/drogonevets"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551908063, "creation_date": 1537953626, "last_edit_date": 1537979494, "question_id": 52514232, "link": "https://stackoverflow.com/questions/52514232/react-is-not-defined-when-bundling", "title": "React is not defined when bundling", "body": "<p>I am new to TypeScript and thought I would tray the product List demo from ReactJS website with it. I have got so far, but currently getting </p>\n\n<pre><code>external \"React\":1 Uncaught ReferenceError: React is not defined\n    at Object.react (external \"React\":1)\n    at __webpack_require__ (bootstrap:19)\n    at Object../src/client/app/index.tsx (index.tsx:1)\n    at __webpack_require__ (bootstrap:19)\n    at bootstrap:83\n    at bootstrap:83\n</code></pre>\n\n<p>and I am not too sure why, if I include it as an external in my <code>webpack.config.js</code> it works fine, but I am wanting to bundle it with the rest of the src ready for intranet applications that dont have access to the big bad world.</p>\n\n<p>Any help would be appreciated. </p>\n\n<p>I am importing thus <code>import * as React from 'react';</code></p>\n\n<p>webpack throws no errors</p>\n\n<p>INDEX.TSX</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import * as React from 'react';\r\nvar ReactDOM = require('react-dom');\r\n\r\nimport FilterableProductTable from './components/FilterableProductTable';\r\nimport Basket from './components/Basket';\r\n\r\nReactDOM.render(\r\n\t&lt;div&gt;\r\n\t\t&lt;FilterableProductTable /&gt;\r\n\t\t&lt;Basket /&gt;\r\n\t&lt;/div&gt;,\r\n\tdocument.getElementById('app')\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "typescript", "upload", "angular6"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 7815139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/30777bda1da37743acabf97cd0a8dc59?s=128&d=identicon&r=PG&f=1", "display_name": "T. Grumser", "link": "https://stackoverflow.com/users/7815139/t-grumser"}, "edited": false, "score": 0, "creation_date": 1538736120, "post_id": 52588472, "comment_id": 92257455, "body": "a small note: internet explorer will call the change method after the value is set to &#39;&#39; so the corrosponding method (in this case the uploadImage function) needs to be able to catch that"}], "tags": [], "owner": {"reputation": 167, "user_id": 7815139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/30777bda1da37743acabf97cd0a8dc59?s=128&d=identicon&r=PG&f=1", "display_name": "T. Grumser", "link": "https://stackoverflow.com/users/7815139/t-grumser"}, "is_accepted": true, "score": 0, "last_activity_date": 1538387357, "creation_date": 1538387357, "answer_id": 52588472, "question_id": 52514090, "link": "https://stackoverflow.com/questions/52514090/angular6-reuploading-same-image-wont-trigger-upload-method/52588472#52588472", "title": "Angular6: reuploading same Image wont trigger upload method", "body": "<p>Okay, i found a simple solution.</p>\n\n<pre><code>&lt;input hidden type=\"file\" #file\n (change)=\"uploadImage($event); file.value = ''\"&gt;\n</code></pre>\n\n<p>Right after choosing an image, you can just reset the path, the image was choosen from, so when reuploading the same image again the <code>(change)</code> method will still get triggered. I just had to add <code>file.value = ''</code>.</p>\n"}], "owner": {"reputation": 167, "user_id": 7815139, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/30777bda1da37743acabf97cd0a8dc59?s=128&d=identicon&r=PG&f=1", "display_name": "T. Grumser", "link": "https://stackoverflow.com/users/7815139/t-grumser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 52588472, "answer_count": 1, "score": 0, "last_activity_date": 1538387357, "creation_date": 1537953214, "question_id": 52514090, "link": "https://stackoverflow.com/questions/52514090/angular6-reuploading-same-image-wont-trigger-upload-method", "title": "Angular6: reuploading same Image wont trigger upload method", "body": "<p>I want to upload an image to my angular6 Website and display it, which works perfectly fine with this code.</p>\n\n<p>Html:</p>\n\n<pre><code>&lt;img #signatureImage src=\"{{imageSrc}}\"&gt;\n&lt;input hidden type=\"file\" #file (change)=\"uploadImage($event)\"/&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>@ViewChild('signatureImage') img: ElementRef;\n\n...\n\nuploadImage(input) {\n  if (input.target.files &amp;&amp; input.target.files[0]) {\n    var reader = new FileReader();\n\n    reader.onload = (e) =&gt; {\n      this.imageSrc = e.target.result;\n    };\n\n    reader.readAsDataURL(input.target.files[0]);\n  }\n}\n</code></pre>\n\n<p>After removing the image (<code>imageSrc = ''</code>) and reuploading the same file does not trigger the <code>(change)=\"uploadImage($event)\"</code>, since the file has no \"changed\" values or something like that. The result is that when selecting the same file nothing happens.</p>\n\n<p>So is there an alternative in Angular6, which calls my method regardless of choosing the same image twice?</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "duplicates"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537953464, "post_id": 52514026, "comment_id": 91967980, "body": "This <code>data.indexOf(item) == pos</code> will always be true in your case, since find will test Object identity. You need something like: <a href=\"https://jsfiddle.net/khrismuc/hnLowjy2/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/hnLowjy2</a>"}, {"owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 0, "creation_date": 1537953816, "post_id": 52514026, "comment_id": 91968221, "body": "how do you want to filter out the duplicate entries? Is it only based on the id key?"}, {"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "reply_to_user": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 0, "creation_date": 1537953981, "post_id": 52514026, "comment_id": 91968327, "body": "@Ashish either compare the ID or the String in &quot;Definition&quot;... both will work"}], "answers": [{"comments": [{"owner": {"reputation": 5734, "user_id": 415628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84d8280499418f22f42778cc40c20a12?s=128&d=identicon&r=PG", "display_name": "Ezequiel Muns", "link": "https://stackoverflow.com/users/415628/ezequiel-muns"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1537954023, "post_id": 52514152, "comment_id": 91968353, "body": "Ohh yes, fixed now :)"}], "tags": [], "owner": {"reputation": 5734, "user_id": 415628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84d8280499418f22f42778cc40c20a12?s=128&d=identicon&r=PG", "display_name": "Ezequiel Muns", "link": "https://stackoverflow.com/users/415628/ezequiel-muns"}, "is_accepted": false, "score": 0, "last_activity_date": 1537955191, "last_edit_date": 1537955191, "creation_date": 1537953401, "answer_id": 52514152, "question_id": 52514026, "link": "https://stackoverflow.com/questions/52514026/remove-duplicate-in-array-using-pure-javascript-or-typescript/52514152#52514152", "title": "Remove Duplicate In Array Using Pure Javascript Or Typescript", "body": "<p>If the ID is what determines identity, then you could use a Map or a plain Object to dedupe. Same IDs will take the same spot on the map, so you end up with unique objects (if the above assumptions about IDs hold).</p>\n\n<pre><code>let data = [{Id: 1, Definition: \"House\"}, {Id: 1, Definition: \"House\"}];\nlet idToObj = {};\ndata.forEach((o) =&gt; idToObj[o.Id] = o);\nlet uniqueArray = Object.values(idToObj);\n</code></pre>\n\n<p>EDIT: In case that you want the same but you may have objects with the same ID but differing in other fields, a Map comes in handy because it can take whole objects as keys:</p>\n\n<pre><code>let data = [{Id: 1, Definition: \"House1\"}, {Id: 1, Definition: \"House2\"}];\nlet map = new Map();\ndata.forEach((o) =&gt; map.set(o, true));\nlet uniqueArray = [...map.keys()];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1537954206, "post_id": 52514378, "comment_id": 91968454, "body": "sadly I get a syntax error [ts] Property &quot;values&quot; is not available for type &quot;ObjectConstructor&quot;"}, {"owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "reply_to_user": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1537954417, "post_id": 52514378, "comment_id": 91968585, "body": "You can use <code>Object.prototype.values = function(obj) {                                 var res = [];     for (var i in obj) {         if (obj.hasOwnProperty(i)) {             res.push(obj[i]);         }     }     return res; };</code>"}], "tags": [], "owner": {"reputation": 16310, "user_id": 4758494, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ywtVA.jpg?s=128&g=1", "display_name": "Hassan Imam", "link": "https://stackoverflow.com/users/4758494/hassan-imam"}, "is_accepted": false, "score": 1, "last_activity_date": 1537954032, "creation_date": 1537954032, "answer_id": 52514378, "question_id": 52514026, "link": "https://stackoverflow.com/questions/52514026/remove-duplicate-in-array-using-pure-javascript-or-typescript/52514378#52514378", "title": "Remove Duplicate In Array Using Pure Javascript Or Typescript", "body": "<p>You can use <code>Id</code> key of the object to get the unique object using <code>array#reduce</code> in an object accumulator and get all the object of this object using <code>Object.values()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = [{Id: 1, Definition: \"House\"},{Id: 1, Definition: \"House\"}, {Id: 2, Definition: \"House2\"}, {Id: 2, Definition: \"House2\"}],\r\n    result = Object.values(data.reduce((r, o) =&gt;  {\r\n      r[o.Id] = r[o.Id] || {...o};\r\n      return r;\r\n    },{}));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "edited": false, "score": 0, "creation_date": 1537954484, "post_id": 52514465, "comment_id": 91968616, "body": "Thank you, this finally worked!"}, {"owner": {"reputation": 5734, "user_id": 415628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/84d8280499418f22f42778cc40c20a12?s=128&d=identicon&r=PG", "display_name": "Ezequiel Muns", "link": "https://stackoverflow.com/users/415628/ezequiel-muns"}, "edited": false, "score": 0, "creation_date": 1537955491, "post_id": 52514465, "comment_id": 91969358, "body": "Do be aware that this method runs in O(n&#178;) or quadratic time, because hidden in here is a nested loop. This isn&#39;t a problem with small arrays, but gets slow if data.length becomes large. The other methods outlined in this answer run in O(n) or linear time and don&#39;t suffer the same fate."}, {"owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "edited": false, "score": 0, "creation_date": 1560850880, "post_id": 52514465, "comment_id": 99862206, "body": "I have updated the answer with new function to reduce O(n&#178;) complexity."}], "tags": [], "owner": {"reputation": 3441, "user_id": 7318037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VQ3AY.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/7318037/ashish"}, "is_accepted": true, "score": 5, "last_activity_date": 1555315834, "last_edit_date": 1555315834, "creation_date": 1537954309, "answer_id": 52514465, "question_id": 52514026, "link": "https://stackoverflow.com/questions/52514026/remove-duplicate-in-array-using-pure-javascript-or-typescript/52514465#52514465", "title": "Remove Duplicate In Array Using Pure Javascript Or Typescript", "body": "<p>You can achieve what you want in this way:</p>\n\n<p>You can check if the value is already there in your final array using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">'some'</a></p>\n\n<pre><code>data = [{Id: 1, Definition: \"House\"}, {Id: 1, Definition: \"House\"}]\n\nconst finalOut = []\ndata.forEach((value) =&gt; {\n    if (!finalOut.some(x=&gt; (x.Id === value.Id || x.Definition === value.Definition))) \n   {\n        finalOut.push(value)\n    }\n})\n</code></pre>\n\n<p>You can also achieve this by <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">'reduce'</a> in clean and elegant way:</p>\n\n<pre><code>const finalOut2 = data.reduce((acc, cur) =&gt; acc.some(x=&gt; (x.Id === cur.Id || x.Definition === cur.Definition)) ? acc : acc.concat(cur), [])\n</code></pre>\n\n<p>As suggested by @Ezequiel using <code>some</code> inside <code>forEach</code> or <code>reduce</code> making the time complexity of <em>order of n square</em>. For smaller sets of data using <code>reduce</code> and <code>some</code> is an elegant approach. But if you are dealing with arrays of very large length, you must avoid <em>order of n square time complexity</em> Here is one such approach with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter</code></a>:</p>\n\n<pre><code>//Here storing every value of data is inside lookupObj after filtering it. \n//And checking if value is filtered based on if key of the value inside lookupObj\n\nconst lookupObj = {} \nconst finalOut3 = data.filter(\n    x =&gt; {\n        const is_unique = !(lookupObj[`Id_${x.Id}`] || lookupObj[`Id_${x.Definition}`])\n        lookupObj[`Id_${x.Id}`] = true\n        lookupObj[`Id_${x.Definition}`] = true\n        return is_unique\n    }\n)\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 9485220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/472726d632a3c44d6f3303ffa6a84564?s=128&d=identicon&r=PG&f=1", "display_name": "bobdolan", "link": "https://stackoverflow.com/users/9485220/bobdolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5946, "favorite_count": 0, "closed_date": 1537955150, "accepted_answer_id": 52514465, "answer_count": 3, "score": 0, "last_activity_date": 1555315834, "creation_date": 1537953023, "last_edit_date": 1537955223, "question_id": 52514026, "link": "https://stackoverflow.com/questions/52514026/remove-duplicate-in-array-using-pure-javascript-or-typescript", "closed_reason": "Duplicate", "title": "Remove Duplicate In Array Using Pure Javascript Or Typescript", "body": "<p>I seem to only find ways to remove duplicates from an array using other JS libraries but I'm looking to do it in pure JS or typescript since I'm working on an Angular project.</p>\n\n<p>My problem is that I may get an array that has duplicate entries, such as this one:</p>\n\n<pre><code>data [0: {Id: 1, Definition: \"House\"},\n      1: {Id: 1, Definition: \"House\"}]\n</code></pre>\n\n<p>And I want to filter it out so that I only get</p>\n\n<pre><code>data [0: {Id: 1, Definition: \"House\"}]\n</code></pre>\n\n<p>I've tried it using this method but I still get duplicate entries</p>\n\n<pre><code>let uniqueArray = data.filter(function(item, pos) {\n    return data.indexOf(item) == pos;\n})\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "edited": false, "score": 0, "creation_date": 1537956470, "post_id": 52514102, "comment_id": 91969985, "body": "I didn&#39;t realize the difference between <code>Promise</code> and <code>PromiseLike</code>. Not sure what are the consequences for me for switching to <code>Promise</code>, but I will try and hope this works."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "edited": false, "score": 0, "creation_date": 1537956593, "post_id": 52514102, "comment_id": 91970069, "body": "<code>Promise</code> is the global promise constructor, so your augmenting a global object. <code>PromiseLike</code> is an interface, other libraries can provide Promisses and as long as the implement the <code>PromiseLike</code> interface thay will work with the builtin promises. You probably want to extend <code>Promise</code>, it should work :)"}, {"owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "edited": false, "score": 1, "creation_date": 1566303292, "post_id": 52514102, "comment_id": 101607079, "body": "How come this works? Is the <code>this</code> parameter elided at runtime? I&#39;ve not seen this in the TypeScript documentation, but it is really useful."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "edited": false, "score": 2, "creation_date": 1566313262, "post_id": 52514102, "comment_id": 101613149, "body": "@samvv the <code>this</code> parameter is taken out during compilation, so at rumtime the function above has no parameters."}, {"owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "edited": false, "score": 0, "creation_date": 1566315502, "post_id": 52514102, "comment_id": 101614486, "body": "@TitianCernicova-Dragomir Cool, thanks for the info!"}, {"owner": {"reputation": 6721, "user_id": 529892, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9496e2324a090a4bffb82d195f36d650?s=128&d=identicon&r=PG&f=1", "display_name": "hungryMind", "link": "https://stackoverflow.com/users/529892/hungrymind"}, "edited": false, "score": 0, "creation_date": 1592995892, "post_id": 52514102, "comment_id": 110622928, "body": "Can we do something like this for custom interface? As you mentioned interfaces are removed from compiled code, can we do by adding some class? Ex: declare global {   interface ValueFlavours {     changed?: number;     getValue: () =&gt; Number;   }  } ({} as ValueFlavours).getValue = () =&gt; 5* this.changed; export { } var result = ({ changed: 10 } as ValueFlavours).getValue(); console.log(result); Here data is coming from API and we dont need class. But seems we need to add class to make getValue available everywhere. Suggestion @TitianCernicova-Dragomir"}, {"owner": {"reputation": 6721, "user_id": 529892, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9496e2324a090a4bffb82d195f36d650?s=128&d=identicon&r=PG&f=1", "display_name": "hungryMind", "link": "https://stackoverflow.com/users/529892/hungrymind"}, "edited": false, "score": 0, "creation_date": 1592997250, "post_id": 52514102, "comment_id": 110623591, "body": "Able to achieve something like this declare global {   interface ValueFlavours {     changed: number;     getValue: () =&gt; Number;     } } export const changedFunc = function (this : ValueFlavours) {     return this.changed * 2; }  let data = { changed: 10 } as ValueFlavours; data.getValue = changedFunc.bind(data); var result = data.getValue(); alert(result);"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6721, "user_id": 529892, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9496e2324a090a4bffb82d195f36d650?s=128&d=identicon&r=PG&f=1", "display_name": "hungryMind", "link": "https://stackoverflow.com/users/529892/hungrymind"}, "edited": false, "score": 0, "creation_date": 1592997639, "post_id": 52514102, "comment_id": 110623770, "body": "@hungryMind nope, you can&#39;t do it for interfaces. Interfaces have no runtime semantics, so somthign like <code>({ changed: 10 } as ValueFlavours</code> in js will always just be <code>({ changed: 10 }</code>. You could add methods to <code>Object</code> but that will be really dangerous as those methods are available on ANY object"}, {"owner": {"reputation": 16010, "user_id": 373655, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/79ecfbfc7d0e81e22528daa8755e540a?s=128&d=identicon&r=PG", "display_name": "rob", "link": "https://stackoverflow.com/users/373655/rob"}, "edited": false, "score": 0, "creation_date": 1611200148, "post_id": 52514102, "comment_id": 116376247, "body": "Anyone have a link to the docs that describes how a <code>this</code> parameter works?"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 9, "last_activity_date": 1537953248, "creation_date": 1537953248, "answer_id": 52514102, "question_id": 52514013, "link": "https://stackoverflow.com/questions/52514013/how-to-add-a-method-to-a-prototype-of-a-generic-class-in-typescript/52514102#52514102", "title": "How to add a method to a prototype of a generic class in typescript", "body": "<p>Interfaces do not exist at runtime, they are erased during compilation, so setting the value of a function on an interface is not possible. What you are probably looking for is adding the function to <code>Promise</code>. You can do this similarly:</p>\n\n<pre><code>declare global {\n  interface Promise&lt;T&gt; {\n      handle(): Promise&lt;T&gt;;\n  }\n}\n\nPromise.prototype.handle = function&lt;T&gt;(this: Promise&lt;T&gt;): Promise&lt;T&gt; {\n  return this;\n}\n</code></pre>\n"}], "owner": {"reputation": 7775, "user_id": 423839, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87198e930e8a9974c207222c0e164174?s=128&d=identicon&r=PG", "display_name": "Archeg", "link": "https://stackoverflow.com/users/423839/archeg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1661, "favorite_count": 1, "accepted_answer_id": 52514102, "answer_count": 1, "score": 7, "last_activity_date": 1593105215, "creation_date": 1537953007, "question_id": 52514013, "link": "https://stackoverflow.com/questions/52514013/how-to-add-a-method-to-a-prototype-of-a-generic-class-in-typescript", "title": "How to add a method to a prototype of a generic class in typescript", "body": "<p>I'm trying to add a method to a prototype of <code>PromiseLike&lt;T&gt;</code>\nWith <code>String</code> it is not a problem:</p>\n\n<pre><code>declare global {\n    interface String {\n        handle(): void;\n    }\n}\n\nString.prototype.handle = function() {\n}\n</code></pre>\n\n<p>Compiles OK</p>\n\n<p>But if I try to do the same with <code>PromiseLike&lt;T&gt;</code>, I get a compile error <code>'PromiseLike' only refers to a type, but is being used as a value here.</code>:</p>\n\n<pre><code>declare global {\n    interface PromiseLike&lt;T&gt; {\n        handle(): PromiseLike&lt;T&gt;;\n    }\n}\n\nPromiseLike.prototype.handle = function&lt;T&gt;(this: T):T {\n    return this;\n}\n</code></pre>\n\n<p>Obviously the problem here is that <code>PromiseLike</code> is generic. How can I do this properly in typescript?</p>\n"}, {"tags": ["angular", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "edited": false, "score": 0, "creation_date": 1537952703, "post_id": 52513866, "comment_id": 91967520, "body": "specifying &quot;moduleResolution&quot;: &quot;node&quot; in the tsconfig."}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 2, "creation_date": 1537952768, "post_id": 52513866, "comment_id": 91967558, "body": "You should also show how you are currently using it. Show related code."}, {"owner": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "edited": false, "score": 0, "creation_date": 1537952825, "post_id": 52513866, "comment_id": 91967592, "body": "its there already"}, {"owner": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1537952909, "post_id": 52513866, "comment_id": 91967638, "body": "I do not see any related code in your question."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 3, "creation_date": 1537953025, "post_id": 52513866, "comment_id": 91967714, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36648231/how-can-moment-js-be-imported-with-typescript\">How can moment.js be imported with typescript?</a>"}, {"owner": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "reply_to_user": {"reputation": 22135, "user_id": 2079900, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/3dv63.jpg?s=128&g=1", "display_name": "Amit Chigadani", "link": "https://stackoverflow.com/users/2079900/amit-chigadani"}, "edited": false, "score": 0, "creation_date": 1537957929, "post_id": 52513866, "comment_id": 91970831, "body": "@Amit Im am using like this let date= moment(new Date());"}], "answers": [{"comments": [{"owner": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "edited": false, "score": 0, "creation_date": 1537952767, "post_id": 52513890, "comment_id": 91967556, "body": "did in the same way"}, {"owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "reply_to_user": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "edited": false, "score": 0, "creation_date": 1537952837, "post_id": 52513890, "comment_id": 91967597, "body": "use import  moment from &#39;moment&#39;; remove &quot;* as&quot;"}], "tags": [], "owner": {"reputation": 3405, "user_id": 4934481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b4EKF.jpg?s=128&g=1", "display_name": "Aniket Avhad", "link": "https://stackoverflow.com/users/4934481/aniket-avhad"}, "is_accepted": false, "score": 1, "last_activity_date": 1537952849, "last_edit_date": 1537952849, "creation_date": 1537952666, "answer_id": 52513890, "question_id": 52513866, "link": "https://stackoverflow.com/questions/52513866/how-to-call-moment-function-in-angular-app/52513890#52513890", "title": "How to call moment function in angular app", "body": "<p>import in your component</p>\n\n<pre><code>import moment from 'moment';\n</code></pre>\n\n<p>and you can call like this</p>\n\n<pre><code>moment(new Date)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4945473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8fa7d9da943b38b93b2edc144fe271d?s=128&d=identicon&r=PG&f=1", "display_name": "Girish Thanki", "link": "https://stackoverflow.com/users/4945473/girish-thanki"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1537967642, "post_id": 52514204, "comment_id": 91976816, "body": "thanks suraj yes just checked =&gt; Moment provides its own type definitions, so you don&#39;t need @types/moment installed now."}], "tags": [], "owner": {"reputation": 59, "user_id": 4945473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8fa7d9da943b38b93b2edc144fe271d?s=128&d=identicon&r=PG&f=1", "display_name": "Girish Thanki", "link": "https://stackoverflow.com/users/4945473/girish-thanki"}, "is_accepted": false, "score": 1, "last_activity_date": 1537953713, "last_edit_date": 1537953713, "creation_date": 1537953545, "answer_id": 52514204, "question_id": 52513866, "link": "https://stackoverflow.com/questions/52513866/how-to-call-moment-function-in-angular-app/52514204#52514204", "title": "How to call moment function in angular app", "body": "<p>Have you tried using the following:</p>\n\n<p><code>npm install moment --save</code></p>\n\n<p><code>npm install @types/moment --save</code></p>\n\n<p>Then in the angular-cli.json add to the scripts tag:</p>\n\n<p><code>\"scripts:\" [\"../node_modules/moment/min/moment/min\"]</code></p>\n\n<p>Then include in component:</p>\n\n<p><code>import * as moment from 'moment'</code></p>\n\n<p>Then use in the component method:</p>\n\n<p><code>let now = moment();</code></p>\n\n<p><code>console.log(now.format());</code></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 4301019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6a03cf90da385f8fcd4d3d85da80e8?s=128&d=identicon&r=PG", "display_name": "Sohail05", "link": "https://stackoverflow.com/users/4301019/sohail05"}, "edited": false, "score": 0, "creation_date": 1537956172, "post_id": 52515017, "comment_id": 91969813, "body": "This is for the latest moment v2.13.0+ which includes the typescript definitions."}, {"owner": {"reputation": 11, "user_id": 4301019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6a03cf90da385f8fcd4d3d85da80e8?s=128&d=identicon&r=PG", "display_name": "Sohail05", "link": "https://stackoverflow.com/users/4301019/sohail05"}, "reply_to_user": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "edited": false, "score": 0, "creation_date": 1537979779, "post_id": 52515017, "comment_id": 91984422, "body": "Try to use the <code>tsc</code> cli and show us your <code>tsconfig.json</code>. What version of typescript are you using?"}], "tags": [], "owner": {"reputation": 11, "user_id": 4301019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6a03cf90da385f8fcd4d3d85da80e8?s=128&d=identicon&r=PG", "display_name": "Sohail05", "link": "https://stackoverflow.com/users/4301019/sohail05"}, "is_accepted": false, "score": 1, "last_activity_date": 1537956268, "last_edit_date": 1537956268, "creation_date": 1537955951, "answer_id": 52515017, "question_id": 52513866, "link": "https://stackoverflow.com/questions/52513866/how-to-call-moment-function-in-angular-app/52515017#52515017", "title": "How to call moment function in angular app", "body": "<p>Firstly, make sure you have installed and saved <code>moment.js</code>.  </p>\n\n<pre><code>npm i moment --save\n</code></pre>\n\n<p>Within your <code>component.ts</code>, import moment as followed:</p>\n\n<pre><code>import * as moment from 'moment';\n\n//You should capable to use momentjs as followed.\nconsole.log(moment(moment.now())).format('YYYY-MM-DD')\n</code></pre>\n\n<blockquote>\n  <p>Note: If you have trouble importing moment, try adding \"allowSyntheticDefaultImports\": true in compilerOptions in your tsconfig.json file and then use the syntax</p>\n</blockquote>\n\n<pre><code>import moment from 'moment';\n</code></pre>\n\n<p><a href=\"https://momentjs.com/docs/#/use-it/typescript/\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}], "owner": {"reputation": 490, "user_id": 10019348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PwIc4ug7e8w/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fyKwjUwU6zBkN07kgWVMBfS_E0A/mo/photo.jpg?sz=128", "display_name": "Mohammed Ajmal", "link": "https://stackoverflow.com/users/10019348/mohammed-ajmal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1537956268, "creation_date": 1537952593, "last_edit_date": 1537955825, "question_id": 52513866, "link": "https://stackoverflow.com/questions/52513866/how-to-call-moment-function-in-angular-app", "title": "How to call moment function in angular app", "body": "<p>I have installed <code>moment.js</code> using</p>\n\n<pre><code> npm i  moment\n</code></pre>\n\n<p>Included it in scripts and also tried importing in module.ts</p>\n\n<p>When I am trying to call moment in <code>component.ts</code> it gives an error as </p>\n\n<blockquote>\n  <p>'cannot find name as moment'.</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript", "azure-application-insights"], "answers": [{"comments": [{"owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "edited": false, "score": 1, "creation_date": 1562682092, "post_id": 56938636, "comment_id": 100447724, "body": "what params would then be needed to resolve the Method: Unknown issue?"}], "tags": [], "owner": {"reputation": 11, "user_id": 3319288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L7YrL.png?s=128&g=1", "display_name": "DeadMan", "link": "https://stackoverflow.com/users/3319288/deadman"}, "is_accepted": false, "score": 1, "last_activity_date": 1562601553, "creation_date": 1562601553, "answer_id": 56938636, "question_id": 52513814, "link": "https://stackoverflow.com/questions/52513814/application-insights-js-trackexception-shows-failed-method-unkown/56938636#56938636", "title": "Application Insights JS trackException shows &quot;Failed method: &#39;Unkown&#39;&quot;", "body": "<p>you are not passing proper params. Follwoing is the updated method</p>\n\n<pre><code>trackException(exception: Error, handledAt?: string, properties?: {[string]:string}, measurements?: {[string]:number}, severityLevel?: AI.SeverityLevel)\n</code></pre>\n\n<p>For reference, check following link\n<a href=\"https://github.com/microsoft/ApplicationInsights-JS/blob/master/API-reference.md\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-JS/blob/master/API-reference.md</a></p>\n"}], "owner": {"reputation": 1558, "user_id": 2805121, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ace4b9329387f70674cb6ab39eb3b820?s=128&d=identicon&r=PG&f=1", "display_name": "Nsevens", "link": "https://stackoverflow.com/users/2805121/nsevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 865, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562601553, "creation_date": 1537952387, "last_edit_date": 1537954186, "question_id": 52513814, "link": "https://stackoverflow.com/questions/52513814/application-insights-js-trackexception-shows-failed-method-unkown", "title": "Application Insights JS trackException shows &quot;Failed method: &#39;Unkown&#39;&quot;", "body": "<p>I'm experimenting with AppInsights and use the following code:\n(fetch fails with a 500 reply)</p>\n\n<pre><code>private callMethod(): void {\n  this._callMethodInternal();\n}\n\nprivate async _callMethodInternal(): Promise&lt;void&gt; {\n  try {\n    await fetch(\"https://localhost:44369/api/values\", {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"text/json\"\n      }\n    });\n  } catch (err) {\n    AppInsights.trackException(err);\n\n    throw err;\n  }\n}\n</code></pre>\n\n<p>The exception is shown in Application Insights, but the \"Failed method\" property shows \"Unknown\" as value.\nIs there a way to show the correct method name?</p>\n\n<p>Thanks</p>\n\n<p>(<a href=\"https://github.com/Microsoft/ApplicationInsights-JS/issues/680\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/ApplicationInsights-JS/issues/680</a>)</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 434, "user_id": 5033499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d96e62809c807c54a23ec4849831df0?s=128&d=identicon&r=PG&f=1", "display_name": "HadidAli", "link": "https://stackoverflow.com/users/5033499/hadidali"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1537952189, "post_id": 52513625, "comment_id": 91967212, "body": "@JohnWeisz - structure of the array will be same for all instances but they will hold separate sets of data."}, {"owner": {"reputation": 675, "user_id": 4583018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RX7HV.jpg?s=128&g=1", "display_name": "The Segfault", "link": "https://stackoverflow.com/users/4583018/the-segfault"}, "edited": false, "score": 0, "creation_date": 1537952240, "post_id": 52513625, "comment_id": 91967241, "body": "var meta =    [&#39;Year&#39;, &#39;Month&#39;, &#39;Program&#39;, &#39;Region&#39;, &#39;Market&#39;, &#39;Country&#39;, &#39;Started&#39;, &#39;Completed&#39;];      var monthlySheetP = [].push(meta);  A better way would be to create a function that generate an array containing the  redundant metaData"}, {"owner": {"reputation": 675, "user_id": 4583018, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RX7HV.jpg?s=128&g=1", "display_name": "The Segfault", "link": "https://stackoverflow.com/users/4583018/the-segfault"}, "edited": false, "score": 0, "creation_date": 1537952667, "post_id": 52513625, "comment_id": 91967499, "body": "You can also add the meta data at the end of all logic using array.unshift([&#39;Year&#39;, &#39;Month&#39;, &#39;Program&#39;, &#39;Region&#39;, &#39;Market&#39;, &#39;Country&#39;, &#39;Started&#39;, &#39;Completed&#39;])"}], "answers": [{"tags": [], "owner": {"reputation": 224, "user_id": 10379675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bb18ee5c29990312949a9869f809a8?s=128&d=identicon&r=PG&f=1", "display_name": "domready", "link": "https://stackoverflow.com/users/10379675/domready"}, "is_accepted": true, "score": 2, "last_activity_date": 1537952297, "creation_date": 1537952297, "answer_id": 52513789, "question_id": 52513625, "link": "https://stackoverflow.com/questions/52513625/typescript-data-structure-and-organisation-to-limit-verbose-code-blocks/52513789#52513789", "title": "TypeScript - data structure and organisation to limit verbose code blocks", "body": "<p>Use a object to store your data:</p>\n\n<pre><code>var monthlySheet = {\n    'P': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n    'V': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n    'T': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n    'B': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n    'U': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n    'PV': ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed'],\n//...\n};\n</code></pre>\n\n<p>An then work with that object:</p>\n\n<pre><code>monthlySheet[dealer.buService].push(cells);\n</code></pre>\n"}], "owner": {"reputation": 434, "user_id": 5033499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d96e62809c807c54a23ec4849831df0?s=128&d=identicon&r=PG&f=1", "display_name": "HadidAli", "link": "https://stackoverflow.com/users/5033499/hadidali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 52513789, "answer_count": 1, "score": 0, "last_activity_date": 1537952297, "creation_date": 1537951782, "question_id": 52513625, "link": "https://stackoverflow.com/questions/52513625/typescript-data-structure-and-organisation-to-limit-verbose-code-blocks", "title": "TypeScript - data structure and organisation to limit verbose code blocks", "body": "<p>In my TypeScript module, I have a series of array structures where each of them will hold separate data.</p>\n\n<pre><code>var monthlySheetP = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetV = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetT = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetB = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetU = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetPV = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetPT = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetVT = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\nvar monthlySheetPVT = [\n    ['Year', 'Month', 'Program', 'Region', 'Market', 'Country', 'Started', 'Completed']\n];\n</code></pre>\n\n<p>I iterate through some other data and start populating these arrays in the following way;</p>\n\n<pre><code>if (dealer.buService == 'B') {\n    monthlySheetB.push(cells);\n} else if (dealer.buService == 'U') {\n    monthlySheetU.push(cells);\n} else if (dealer.buService == 'PVT') {\n    monthlySheetPVT.push(cells);\n}\n</code></pre>\n\n<p>Array declaration block at the top appears to be too verbose. Is there more elegant way of declaring these data structures?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 87, "user_id": 5559125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b389e3aeb7d23aab69188e6ffb71f87?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Daniel", "link": "https://stackoverflow.com/users/5559125/tom-daniel"}, "edited": false, "score": 0, "creation_date": 1609292793, "post_id": 52513147, "comment_id": 115803591, "body": "Did you ever figure out the answer to your updated question?"}], "answers": [{"comments": [{"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1538006854, "post_id": 52513270, "comment_id": 91994755, "body": "This works great! I have another question, that I&#39;ll follow up with an update on this question. Would be fantastic if you know that too!"}, {"owner": {"reputation": 87, "user_id": 5559125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b389e3aeb7d23aab69188e6ffb71f87?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Daniel", "link": "https://stackoverflow.com/users/5559125/tom-daniel"}, "edited": false, "score": 0, "creation_date": 1609289025, "post_id": 52513270, "comment_id": 115802956, "body": "@Titian I am also experiencing an issue like Kousha mentioned in his update when extending a class with a generic. The type ends up being the base class and not the subclass. Any insight would be greatly appreciated!"}, {"owner": {"reputation": 1798, "user_id": 4391298, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh3.googleusercontent.com/-HnoLQXIa8Io/AAAAAAAAAAI/AAAAAAAAAIY/Iqji42x6zyc/photo.jpg?sz=128", "display_name": "Danielle Madeley", "link": "https://stackoverflow.com/users/4391298/danielle-madeley"}, "edited": false, "score": 0, "creation_date": 1611442386, "post_id": 52513270, "comment_id": 116453965, "body": "But how do you access static properties from <code>Foo.someAction</code>. It now only knows <code>this</code> is a constructor. Declaring <code>this</code> as <code>extends typeof Foo</code> results instead in it saying abstract types are not constructable. Using an intersection seems to result in a lot of confusion regarding use of the constructor (I think due to how the generic is resolved)."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 13, "last_activity_date": 1537950506, "creation_date": 1537950506, "answer_id": 52513270, "question_id": 52513147, "link": "https://stackoverflow.com/questions/52513147/typescript-static-method-in-an-abstract-class-to-create-an-instance-of-self/52513270#52513270", "title": "Typescript static method in an abstract class to create an instance of self", "body": "<p>You can add an annotation for the <code>this</code> type of the static method. In this case <code>this</code> will refer to the class, and adding an annotation for the <code>this</code> parameter will make the static method visible only on classes that satisfy the constraint (in this case that a constructor with a single argument exists) and it will also help us extract the actual instance type of the class the method is invoked on :</p>\n\n<pre><code>abstract class Foo {\n  public static someAction&lt;T extends Foo&gt;(this: new (someVar: any) =&gt; T, someVar: any): T {\n    const self = new this(someVar);\n    return self;\n  }\n}\n\nclass Bar1 extends Foo {\n\n  constructor(someVar: any) {\n    super();\n  }\n}\n\nclass Bar2 extends Foo {\n  constructor(someVar: any) {\n    super();\n  }\n}\nlet bar1 = Bar1.someAction(0) // of type Bar1\nlet bar2 = Bar2.someAction(0) // of type Bar2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 87, "user_id": 5559125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b389e3aeb7d23aab69188e6ffb71f87?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Daniel", "link": "https://stackoverflow.com/users/5559125/tom-daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1609299106, "creation_date": 1609299106, "answer_id": 65501660, "question_id": 52513147, "link": "https://stackoverflow.com/questions/52513147/typescript-static-method-in-an-abstract-class-to-create-an-instance-of-self/65501660#65501660", "title": "Typescript static method in an abstract class to create an instance of self", "body": "<p>After some monkeying around I found a way to address your problem with generics.</p>\n<p>The key is to <em><strong>not</strong></em> use a type variable in the extends constraint for the base class <em><strong>but</strong></em> to add the base class with the type variable as an intersection of the return type.</p>\n<p>Use <code>any</code> instead of <code>T</code> here <code>static someAction&lt;A, T extends Foo&lt;any&gt;&gt;</code> <em><strong>and</strong></em> to add <code>&amp; Foo&lt;A&gt;</code> on the return type.</p>\n<pre><code>abstract class Foo&lt;M&gt; {...}\n\nclass Bar1 extends Foo&lt;SomeModel&gt; {...}\n</code></pre>\n<pre><code>public static someAction&lt;A, T extends Foo&lt;any&gt;&gt;(\n    this: new (someVar: any) =&gt; T, someVar: any\n): T &amp; Foo&lt;A&gt; {\n    return new this(someVar);\n}\n</code></pre>\n<p>I was facing the exact same issue while trying to create a user defined type guard, and the same technique above also solve this problem.</p>\n<pre><code>public static isThisType&lt;A, T extends Foo&lt;any&gt;&gt;(\n    this: new (...args: any) =&gt; T, value: unknown\n): value is T &amp; Foo&lt;A&gt; {\n    return value instanceof this;\n}\n</code></pre>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2333, "favorite_count": 1, "accepted_answer_id": 52513270, "answer_count": 2, "score": 7, "last_activity_date": 1609299106, "creation_date": 1537950075, "last_edit_date": 1538007006, "question_id": 52513147, "link": "https://stackoverflow.com/questions/52513147/typescript-static-method-in-an-abstract-class-to-create-an-instance-of-self", "title": "Typescript static method in an abstract class to create an instance of self", "body": "<p>Let's say I have</p>\n\n<pre><code>abstract class Foo {\n\n}\n\nclass Bar1 extends Foo {\n    constructor(someVar) { ... }\n}\n\nclass Bar2 extends Foo {\n    constructor(someVar) { ... }\n}\n</code></pre>\n\n<p>I'd like to be able to create a static method that creates an instance of the final class (all constructors would have the same signature). So I want something like:</p>\n\n<pre><code>abstract class Foo {\n    public static someAction(someVar) {\n        const self = new this(someVar);\n    }\n}\n</code></pre>\n\n<p>But this cannot be done because <code>Foo</code> is abstract. Is this at all possible?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>What if these classes have their own templates?</p>\n\n<pre><code>abstract class Foo&lt;M&gt; {\n\n}\n\nclass Bar1 extends Foo&lt;SomeModel&gt; {...}\n</code></pre>\n\n<p>Now I want the <code>someAction</code> to know of the type <code>SomeModel</code>. I tried</p>\n\n<pre><code>public static someAction&lt;A, T extends Foo&lt;A&gt;&gt;(this: new (someVar: any) =&gt; T, someVar: any): T {\n    const self = new this(someVar);\n    return self;\n  }\n</code></pre>\n\n<p>But unless I specifically do <code>Bar1.someAction&lt;SomeModel&gt;(\"blah\")</code> the returned result is not available of the type of the data, i.e. <code>Bar1.someAction(\"blah\")</code> doesn't know the data type</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537950603, "post_id": 52513044, "comment_id": 91966259, "body": "to do a deep merge use one of the lodash functions discussed here - <a href=\"https://stackoverflow.com/questions/19965844/lodash-difference-between-extend-assign-and-merge\" title=\"lodash difference between extend assign and merge\">stackoverflow.com/questions/19965844/&hellip;</a> - deep merge is not straightforward in vanilla JS"}], "answers": [{"comments": [{"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537951685, "post_id": 52513492, "comment_id": 91966884, "body": "If going with interfaces, do I then skip the mapping part in my service? Right now I use pipe and map, and add the object to the constructor for mapping, how do you do that with an interface with no constructor?"}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537951943, "post_id": 52513492, "comment_id": 91967045, "body": "I just tried changing the classes to interfaces and removed constructor and thereby mapping. Then an Object is returned and assetGroup still remains null."}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537953596, "post_id": 52513492, "comment_id": 91968067, "body": "I cannot quite follow what exactly in your code returns null. AssetGroup is the top level object, no?"}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537953676, "post_id": 52513492, "comment_id": 91968130, "body": "Yes its the top level."}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537953749, "post_id": 52513492, "comment_id": 91968173, "body": "So what is the output of the endpoint and what is null after you try mapping it?"}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537956560, "post_id": 52513492, "comment_id": 91970045, "body": "In my loasAsset function in my asset component. Setting this.assetGroup=data. assetGroup is null even if data has data."}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537962287, "post_id": 52513492, "comment_id": 91973372, "body": "You can see it all in my main post. There is a screenshot of the debugger."}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537963188, "post_id": 52513492, "comment_id": 91973904, "body": "Also notice that the top object is actually as expected, its just the child and child child arrays."}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537966779, "post_id": 52513492, "comment_id": 91976202, "body": "for me everything looks fine in your screenshot. it is an array with 13 objects?! the only thing you will probably need to change is <code>this.assetGroup = data</code> to new <code>this.assetGroup = new AssetGroup(data)</code> or just use interfaces ..."}, {"owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1537975594, "post_id": 52513492, "comment_id": 91982108, "body": "Just missing it all to be typed and not Object. But I key take away if I want nested strong typing it more compplex. So I stick with not everything being typed. Thanks."}, {"owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "reply_to_user": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "edited": false, "score": 0, "creation_date": 1538064442, "post_id": 52513492, "comment_id": 92021972, "body": "if you want to have the subtype also typed, you will need to also map it explicitly. see my code above, I changed it a little bit."}], "tags": [], "owner": {"reputation": 1882, "user_id": 1423259, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/KMTXr.png?s=128&g=1", "display_name": "tommueller", "link": "https://stackoverflow.com/users/1423259/tommueller"}, "is_accepted": true, "score": 1, "last_activity_date": 1538064391, "last_edit_date": 1538064391, "creation_date": 1537951262, "answer_id": 52513492, "question_id": 52513044, "link": "https://stackoverflow.com/questions/52513044/setting-typed-object-keeps-being-null-object-assign/52513492#52513492", "title": "Setting typed object keeps being null - Object.Assign?", "body": "<p>Yes you need to explicitly map the response to your classes. The generics in Typescript just work to ensure that you do not try to access any properties that do not exist, but HttpClient does not create instances of the classes for you.\nFor more also check this discussion on github: <a href=\"https://github.com/angular/angular/issues/20770\" rel=\"nofollow noreferrer\">https://github.com/angular/angular/issues/20770</a></p>\n\n<p>In order for you to work with this, you have two options:</p>\n\n<ul>\n<li>for now your classes can just be transferred into interfaces as they do not have any functionality but only describe a contract which properties have to exist. So your example is a perfect scenario for actually just using interfaces. For more on this check this link: <a href=\"https://medium.com/front-end-hacking/typescript-class-vs-interface-99c0ae1c2136\" rel=\"nofollow noreferrer\">https://medium.com/front-end-hacking/typescript-class-vs-interface-99c0ae1c2136</a></li>\n<li>if you actually do need the types to be classes you will have to explicitly create instances of them. </li>\n</ul>\n\n<p>You will need to write something like this:</p>\n\n<pre><code>export class AssetGroup {\n\n    constructor(obj: any) {\n        assetGroupId = obj.assetGroupId\n        code = obj.code;\n        name = obj.name;\n        assetSubGroupList = any.assetSubGroupList.map(\n            asset =&gt; new Asset(asset)\n        );\n    }\n\n    assetGroupId:number;\n    code: number;\n    name: string;\n    assetSubGroupList:Asset[];   \n</code></pre>\n\n<p>}</p>\n\n<p>Your code does not work, because Object.assign does not return an Object type <code>Asset</code> as it merges an Object of <code>Asset</code> with an Object of type <code>any</code> and thus cannot know what the output type can be described as.</p>\n"}], "owner": {"reputation": 3031, "user_id": 1406168, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f2cf32bec77cf244bcd35a997e44a22e?s=128&d=identicon&r=PG", "display_name": "Thomas Segato", "link": "https://stackoverflow.com/users/1406168/thomas-segato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 52513492, "answer_count": 1, "score": 0, "last_activity_date": 1538064391, "creation_date": 1537949734, "question_id": 52513044, "link": "https://stackoverflow.com/questions/52513044/setting-typed-object-keeps-being-null-object-assign", "title": "Setting typed object keeps being null - Object.Assign?", "body": "<p>I have the code shown below. When I try to set data returned from a service (the assetGroup variable) the value being set is null. My best bet is it is because not all nested arrays are typed, and needs to be mapped. So my question is two fold, is this the reason why the object continue being null after I set it? And if yes can you somehow do an assign that makes a deep mapping or whats the best approach here?</p>\n\n<pre><code>export class Asset {\n    constructor(obj: any) {\n        Object.assign({}, obj);\n    }\n    assetId:number;\n    assetSubGroupId:number;\n    code: number;\n    name: string;\n}\n\nexport class AssetGroup {\n\n    constructor(obj: any) {\n        Object.assign(this, obj);\n     }\n    assetGroupId:number;\n    code: number;\n    name: string;\n    assetSubGroupList:Asset[];   \n}\n\nexport class AssetSubGroup {\n\n    constructor(obj: any) {\n        Object.assign(this, obj);\n     }\n    assetSubGroupId:number;\n    assetGroupId:number;\n    code: number;\n    name: string;\n    assetList: Asset[];   \n}\n</code></pre>\n\n<p>This is my service:</p>\n\n<pre><code>getAssetGroup(id:number):Observable&lt;AssetGroup&gt;{\n    var url = `http://xxx.azurewebsites.net/api/assetgroups/${id}`;\n    return  this.httpClient.get&lt;AssetGroup&gt;(url).pipe(map(x =&gt; new AssetGroup(x)));    \n  }\n</code></pre>\n\n<p>My component:</p>\n\n<pre><code>private  assetGroup:  AssetGroup;\n\nloadAssets(id)\n{   \n  this.apiService.getAssetGroup(id).subscribe((data) =&gt; {\n    this.assetGroup  =  data;      \n    console.log(this.assetGroup);  // &lt;---- assetGroup is NULL?\n  });\n}\n</code></pre>\n\n<p>Debugger:\n<a href=\"https://i.stack.imgur.com/zmGIi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zmGIi.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537950639, "post_id": 52513013, "comment_id": 91966272, "body": "Your Application&#39;s memory management has nothing to do with TypeScript. TypeScript is a design time language and your code will actually transpile to JavaScript. So whatever you&#39;re writing will eventually be JavaScript. That being said, JavaScript being a high-level language has it&#39;s own Garbage Collector that frees up memory when not used. It uses algorithms like Mark and Sweep to collect up unused memory.  So there&#39;s nothing that you have to do while developing in JavaScript apart from avoiding any memory leaks."}, {"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537951052, "post_id": 52513013, "comment_id": 91966497, "body": "does this garbage collector will collect static variables too? if yes then can you provide example"}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1537952034, "post_id": 52513013, "comment_id": 91967103, "body": "If you go to <a href=\"https://www.typescriptlang.org/play/\" rel=\"nofollow noreferrer\">typescriptlang.org/play</a>, and type a class with a static and a non-static property on it, you&#39;ll notice that static members are nothing but properties on the Class and not on class&#39;s instance. So I think when the class is not used anywhere, it would be garbage collected and the static properties would be garbage collected with it."}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537950289, "post_id": 52513172, "comment_id": 91966074, "body": "1. can u provide me with an example or function scope and dereference, 2. is garbage collector is there in typescript , actually i have never heard of it"}, {"owner": {"reputation": 764, "user_id": 6386738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcVDG.jpg?s=128&g=1", "display_name": "Ussaid Iqbal", "link": "https://stackoverflow.com/users/6386738/ussaid-iqbal"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537950370, "post_id": 52513172, "comment_id": 91966118, "body": "You can read more about this <a href=\"http://qnimate.com/javascript-global-variables-and-memory-leakage/\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537950832, "post_id": 52513172, "comment_id": 91966378, "body": "i read about it but its about var , object ,but not mentioned about static as static is not based on object"}, {"owner": {"reputation": 764, "user_id": 6386738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcVDG.jpg?s=128&g=1", "display_name": "Ussaid Iqbal", "link": "https://stackoverflow.com/users/6386738/ussaid-iqbal"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 1, "creation_date": 1537950930, "post_id": 52513172, "comment_id": 91966426, "body": "Well as per my knowledge when you set a static var to null and its not being used anywhere garbage collector will free up the memory."}, {"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537951124, "post_id": 52513172, "comment_id": 91966534, "body": "okk actually i want a confirm info on it because my full project works on static only"}, {"owner": {"reputation": 764, "user_id": 6386738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcVDG.jpg?s=128&g=1", "display_name": "Ussaid Iqbal", "link": "https://stackoverflow.com/users/6386738/ussaid-iqbal"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537951196, "post_id": 52513172, "comment_id": 91966578, "body": "As @SiddAjmera  explained you don&#39;t have to worry about it, the garbage collector will do the job for you!"}], "tags": [], "owner": {"reputation": 764, "user_id": 6386738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LcVDG.jpg?s=128&g=1", "display_name": "Ussaid Iqbal", "link": "https://stackoverflow.com/users/6386738/ussaid-iqbal"}, "is_accepted": false, "score": 0, "last_activity_date": 1537950163, "creation_date": 1537950163, "answer_id": 52513172, "question_id": 52513013, "link": "https://stackoverflow.com/questions/52513013/destroy-static-variables-static-array-using-typescript/52513172#52513172", "title": "Destroy Static variables , Static Array using TypeScript", "body": "<p>Usually when you removes references to the object (assuming nobody else is using it). The garbage collector will free up the memory.</p>\n\n<p>There are basically 2 solutions to this problem, Use function scope or else dereference them manually.</p>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537951425, "post_id": 52513415, "comment_id": 91966719, "body": "u mean to say that if i write static o4 = null;  my static variable o4 will be garbage collected"}, {"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537951806, "post_id": 52513415, "comment_id": 91966953, "body": "Yes it will be recognized by the GC."}, {"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537952144, "post_id": 52513415, "comment_id": 91967182, "body": "<a href=\"https://blog.sessionstack.com/how-javascript-works-memory-management-how-to-handle-4-common-memory-leaks-3f28b94cfbec\" rel=\"nofollow noreferrer\">blog.sessionstack.com/&hellip;</a> this will be a nice read for you cause typescript is a superset of js."}, {"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537952193, "post_id": 52513415, "comment_id": 91967214, "body": "is there any way to cross check what you said is right ? i m not douting your answer is just little knowledge for me"}, {"owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "reply_to_user": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537952283, "post_id": 52513415, "comment_id": 91967279, "body": "Check the link I posted I learned it from there. It&#39;s about 30mins read."}, {"owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "edited": false, "score": 0, "creation_date": 1537952440, "post_id": 52513415, "comment_id": 91967368, "body": "ya sure i will have a glance at it"}], "tags": [], "owner": {"reputation": 3093, "user_id": 7672014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91fd0095c66b334d8946e1aa9cad8ea1?s=128&d=identicon&r=PG&f=1", "display_name": "Swoox", "link": "https://stackoverflow.com/users/7672014/swoox"}, "is_accepted": true, "score": 0, "last_activity_date": 1537950981, "creation_date": 1537950981, "answer_id": 52513415, "question_id": 52513013, "link": "https://stackoverflow.com/questions/52513013/destroy-static-variables-static-array-using-typescript/52513415#52513415", "title": "Destroy Static variables , Static Array using TypeScript", "body": "<p>I will quote this \"</p>\n\n<pre><code>o4 = null;`   \n// 'o4' has zero references to it. \n// It can be garbage collected.\"\n</code></pre>\n\n<p>What this means by make it \"null\" you make the object array or whatever ready for the GC and the GC will clear it out of your memory.</p>\n\n<p>So by making it null you will clear it out of the memory.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4301019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c6a03cf90da385f8fcd4d3d85da80e8?s=128&d=identicon&r=PG", "display_name": "Sohail05", "link": "https://stackoverflow.com/users/4301019/sohail05"}, "is_accepted": false, "score": 0, "last_activity_date": 1537953469, "creation_date": 1537953469, "answer_id": 52514178, "question_id": 52513013, "link": "https://stackoverflow.com/questions/52513013/destroy-static-variables-static-array-using-typescript/52514178#52514178", "title": "Destroy Static variables , Static Array using TypeScript", "body": "<p>Destroy or Set to <code>null</code>?</p>\n\n<p>If you are using the <code>delete</code> keyword, it will remove the property itself.  </p>\n\n<pre><code>let obj = {a:1, b:2}\ndelete obj.a\nconsole.log(obj)\n// {b:2}\n</code></pre>\n\n<p>If you are assigning a <code>null</code> to a property, it will remove reference to the object.<br>\n<strong>Note</strong>: However, it will not free up memory if other references to that object exists.</p>\n\n<pre><code>let obj = {a:1, b:2}\nobj.a = null\nconsole.log(obj)\n// {a:null, b:2}\n</code></pre>\n\n<p>To my knowledge, there is no guarantee to trigger the Garbage Collector in browsers.\nHere's a <a href=\"https://stackoverflow.com/questions/8032928/can-i-trigger-javascripts-garbage-collection\">reference</a>.</p>\n"}], "owner": {"reputation": 164, "user_id": 5925108, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-E3o9bawlixw/AAAAAAAAAAI/AAAAAAAAAEE/RT5eUj6h6ds/photo.jpg?sz=128", "display_name": "chokiChoki", "link": "https://stackoverflow.com/users/5925108/chokichoki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 774, "favorite_count": 0, "accepted_answer_id": 52513415, "answer_count": 3, "score": 3, "last_activity_date": 1537953469, "creation_date": 1537949623, "question_id": 52513013, "link": "https://stackoverflow.com/questions/52513013/destroy-static-variables-static-array-using-typescript", "title": "Destroy Static variables , Static Array using TypeScript", "body": "<p>From TypeScript point of View <br>\nI want to know is there any way to destroy static variables,static array in TypeScript<br>\nI know we can make it null but want to destroy in order to save memory.<br>\nThis question may be dumb little but need help because in my project i have a lot use of static variables and static array.<br></p>\n"}, {"tags": ["javascript", "html", "angular", "typescript", "sass"], "comments": [{"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537949060, "post_id": 52512828, "comment_id": 91965351, "body": "Any failing CSS requests in your browsers network tab? If no, what response is the request for CSS giving?"}, {"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "reply_to_user": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537949361, "post_id": 52512828, "comment_id": 91965520, "body": "No error in the browser console or in the network.  <code>what response is the request for CSS giving?</code> How can I test that ?"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537949602, "post_id": 52512828, "comment_id": 91965676, "body": "In the browser network tab just look at the HTTP response for the CSS request"}, {"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "reply_to_user": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537949816, "post_id": 52512828, "comment_id": 91965794, "body": "Nothing on first login, on refresh I have roboto <code>https:&#47;&#47;fonts.googleapis.com&#47;css?family=Roboto:100,400,700,9&zwnj;&#8203;00</code>. Edit just removed it completly, same behavior"}, {"owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537950184, "post_id": 52512828, "comment_id": 91966015, "body": "ok so its not even making the request for the css on the first login?"}, {"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "reply_to_user": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "edited": false, "score": 0, "creation_date": 1537951376, "post_id": 52512828, "comment_id": 91966690, "body": "Yes, when the site load on the login page no issue, everything load. But when The user login and there is the <code>router.navigate(&#39;&#47;&#39;)</code> : runtime.js, pollyfills.js, main.js, styles.js, vendor.js ..etc don&#39;t load unless I refresh. But what I don&#39;t understand is that a big part of the styles are here, like angular material and the component styles. But as in the images above you can nsee that some things are not displayed correctly :/"}], "answers": [{"comments": [{"owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "edited": false, "score": 0, "creation_date": 1537951632, "post_id": 52513237, "comment_id": 91966846, "body": "That&#39;s not the issue here. My main style file is imported like this."}], "tags": [], "owner": {"reputation": 57, "user_id": 7683776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4703ec4b3b0431aded88fe56798c34a?s=128&d=identicon&r=PG&f=1", "display_name": "Synops", "link": "https://stackoverflow.com/users/7683776/synops"}, "is_accepted": false, "score": 0, "last_activity_date": 1537950412, "creation_date": 1537950412, "answer_id": 52513237, "question_id": 52512828, "link": "https://stackoverflow.com/questions/52512828/angular-6-style-not-loading-properly-after-first-login-navigate/52513237#52513237", "title": "Angular 6 style not loading properly after first login/navigate", "body": "<p>In Angular 6 you have to import your css file in the angular.json file like this :</p>\n\n<pre><code>{\n  ...\n  projects: {\n    [project_name]: {\n      ...\n      architect: {\n        build: {\n          ...\n          options: {\n            styles:{\n              \"src/styles.scss\"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>This styles.scss is the main stylesheet file of your project, but you can also work on separate components by adding this on your component declaration :</p>\n\n<pre><code>@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "is_accepted": false, "score": 3, "last_activity_date": 1537952563, "creation_date": 1537952563, "answer_id": 52513860, "question_id": 52512828, "link": "https://stackoverflow.com/questions/52512828/angular-6-style-not-loading-properly-after-first-login-navigate/52513860#52513860", "title": "Angular 6 style not loading properly after first login/navigate", "body": "<p>Ok my bad, I've found the answer : </p>\n\n<p>In my LoginComponent I was using <code>ViewEncapsulation.NONE</code>, it was a relica of the previous developers so I removed it and it's working fine now.</p>\n\n<p>see: <a href=\"https://github.com/angular/angular/issues/16670\" rel=\"nofollow noreferrer\">Issue on github</a></p>\n"}], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2829, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1560156655, "creation_date": 1537948953, "question_id": 52512828, "link": "https://stackoverflow.com/questions/52512828/angular-6-style-not-loading-properly-after-first-login-navigate", "title": "Angular 6 style not loading properly after first login/navigate", "body": "<p>As said in the title the css styles don't seem to be loaded correctly. Only after a reload of the page.</p>\n\n<p>At first on login :</p>\n\n<p><a href=\"https://i.stack.imgur.com/CnfCY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CnfCY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then after page refresh : </p>\n\n<p><a href=\"https://i.stack.imgur.com/hh9d2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hh9d2.png\" alt=\"enter image description here\"></a></p>\n\n<p>My app routing : </p>\n\n<pre><code>const appRoutes: Routes = [\n  {\n    path: '',\n    canActivateChild: [AuthGuard],\n    children: [\n      {\n        path: 'auth',\n        component: UnauthenticatedContainerComponent,\n        data: { excludeLogin: true },\n        children: [\n          { path: 'login', component: LoginComponent },\n        ],\n      },\n      {\n        path: '',\n        component: AuthenticatedContainerComponent,\n        data: { requireLogin: true },\n        children: [\n          {\n            path: '',\n            component: RequestContainerComponent,\n            children: [\n              { path: 'requests/list', component: RequestListComponent },\n              { path: 'request', component: RequestComponent },\n              { path: 'results/:id', component: RequestResultListComponent, canActivate: [TabGuard] },\n            ],\n          },\n          {\n            path: 'maintenance',\n            component: MaintenanceComponent,\n          },\n          {\n            path: 'settings',\n            component: SettingsComponent,\n          },\n          {\n            path: 'administration',\n            component: AdminComponent,\n          },\n          {\n            path: 'train',\n            component: TrainComponent,\n          },\n        ],\n      },\n    ],\n  },\n  { path: '**', redirectTo: '/' },\n];\n</code></pre>\n"}, {"tags": ["typescript", "typescript-generics"], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 2622145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdea6624e6eb4c2bb612856e91d6a35b?s=128&d=identicon&r=PG", "display_name": "Nigel Nop", "link": "https://stackoverflow.com/users/2622145/nigel-nop"}, "edited": false, "score": 0, "creation_date": 1537948456, "post_id": 52512674, "comment_id": 91965002, "body": "Sorry for the lame answer :D  I recently had a similar problem and came up with that solution"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1537948800, "post_id": 52512674, "comment_id": 91965189, "body": "The problem with your answer is that <code>value</code> should be a type taht is a property type of <code>T</code> not <code>T</code> (ie <code>T[keyof T]</code>) And the problem OP wants to solve is to ensure the value is of the same type as the property specified by <code>K</code> .."}, {"owner": {"reputation": 172, "user_id": 2622145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdea6624e6eb4c2bb612856e91d6a35b?s=128&d=identicon&r=PG", "display_name": "Nigel Nop", "link": "https://stackoverflow.com/users/2622145/nigel-nop"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537949327, "post_id": 52512674, "comment_id": 91965499, "body": "Ah, I see. Thanks for pointing that out. @Titian&#39;s answer looks way better"}], "tags": [], "owner": {"reputation": 172, "user_id": 2622145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdea6624e6eb4c2bb612856e91d6a35b?s=128&d=identicon&r=PG", "display_name": "Nigel Nop", "link": "https://stackoverflow.com/users/2622145/nigel-nop"}, "is_accepted": false, "score": 1, "last_activity_date": 1537948437, "creation_date": 1537948437, "answer_id": 52512674, "question_id": 52512599, "link": "https://stackoverflow.com/questions/52512599/typescript-trying-to-infer-with-generics-for-objects/52512674#52512674", "title": "Typescript trying to infer with generics for objects", "body": "<p>Since only <code>number</code> and <code>string</code> are allowed in TypeScript, it might be simpler to just write everything two times - leaving your type parameter <code>K</code> out</p>\n\n<pre><code>type stringKeyPayload&lt;T&gt; = {prop: string, value: T}\ntype numberKeyPayload&lt;T&gt; = {prop: number, value: T}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1537949108, "creation_date": 1537949108, "answer_id": 52512871, "question_id": 52512599, "link": "https://stackoverflow.com/questions/52512599/typescript-trying-to-infer-with-generics-for-objects/52512871#52512871", "title": "Typescript trying to infer with generics for objects", "body": "<p>Unfortunately typescript doesn't allow partial inference for variables. If you want to ensure that the value is of the same type as the property specified by <code>key</code> you will need o use a helper function to get the apropriate inference behavior:</p>\n\n<pre><code>type payload&lt;T, K extends keyof T&gt; = {prop: K, value: T[K]};\n\nlet someObj!: {a: string, b: number};\n\nfunction getProp&lt;K extends keyof typeof someObj&gt;(o: payload&lt;typeof someObj, K&gt;) {\n  return o\n}\n\nconst someObjPayload = getProp({ prop: 'a', value: 'some string'}) // ok of type payload&lt;{ a: string; b: number; }, \"a\"&gt;\n\nconst someObjPayload2= getProp({prop: 'a', value: 100}) // error\n</code></pre>\n"}], "owner": {"reputation": 934, "user_id": 7266996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f671f26dca6ed03127bc42fc9c0a02?s=128&d=identicon&r=PG&f=1", "display_name": "Amol Gupta", "link": "https://stackoverflow.com/users/7266996/amol-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 52512871, "answer_count": 2, "score": 1, "last_activity_date": 1537949108, "creation_date": 1537948203, "question_id": 52512599, "link": "https://stackoverflow.com/questions/52512599/typescript-trying-to-infer-with-generics-for-objects", "title": "Typescript trying to infer with generics for objects", "body": "<p>This is what i am trying to accomplish but for an object with generics.\n<a href=\"https://stackoverflow.com/questions/49285864/is-there-a-valueof-similar-to-keyof-in-typescript\">Is there a `valueof` similar to `keyof` in TypeScript?</a>.</p>\n\n<pre><code>// Something on this lines. I know this is not supported but i am trying to convey the idea here.\n\ntype payload&lt;T&gt; = &lt;K extends keyof T&gt;{prop: K, value: T[K]};\n\nconst someObj = {a: string, b: number};\n\ntype someObjType = payload&lt;someObj&gt;;\n\nconst someObjPayload: someObjType = { prop: 'a', value: 'some string'} // should work.\n\nconst someObjPayload: someObjType = { prop: 'a', value: 200 } // should throw an error.\n</code></pre>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1537965751, "post_id": 52512204, "comment_id": 91975537, "body": "Try <code>val.dogsId</code> with a lowercase <code>d</code>."}, {"owner": {"reputation": 3, "user_id": 1594407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58beadf27dcdb336221bb2b55bd3be3?s=128&d=identicon&r=PG", "display_name": "zeyrkelian", "link": "https://stackoverflow.com/users/1594407/zeyrkelian"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538005822, "post_id": 52512204, "comment_id": 91994539, "body": "That was it. I defined my class with upper case. Why would it expect differently.export class Pages {     DogsId: number     PageName: string     SortId: number }"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538006011, "post_id": 52512204, "comment_id": 91994572, "body": "What is actually creating the <code>Pages</code> object?  If you are just doing <code>JSON.parse</code> of data from some server and assigning it to a <code>Pages</code> object, TypeScript can&#39;t check whether the data matches your class."}, {"owner": {"reputation": 3, "user_id": 1594407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58beadf27dcdb336221bb2b55bd3be3?s=128&d=identicon&r=PG", "display_name": "zeyrkelian", "link": "https://stackoverflow.com/users/1594407/zeyrkelian"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538023527, "post_id": 52512204, "comment_id": 91998417, "body": "return this.http.get&lt;Pages[]&gt;(url)"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538025814, "post_id": 52512204, "comment_id": 91999043, "body": "Right, then if the server returns a lowercase <code>d</code>, that is what you will get regardless of what the <code>Pages</code> class says."}, {"owner": {"reputation": 3, "user_id": 1594407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58beadf27dcdb336221bb2b55bd3be3?s=128&d=identicon&r=PG", "display_name": "zeyrkelian", "link": "https://stackoverflow.com/users/1594407/zeyrkelian"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538097430, "post_id": 52512204, "comment_id": 92033564, "body": "Thanks, that helped!"}], "owner": {"reputation": 3, "user_id": 1594407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b58beadf27dcdb336221bb2b55bd3be3?s=128&d=identicon&r=PG", "display_name": "zeyrkelian", "link": "https://stackoverflow.com/users/1594407/zeyrkelian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537946779, "creation_date": 1537946779, "question_id": 52512204, "link": "https://stackoverflow.com/questions/52512204/object-property-returns-undefined-using-observable-map", "title": "Object property returns undefined using observable .map", "body": "<p>Angular 5 Type Script.</p>\n\n<p>I'm having an issue where the property of an Dog[] is not accessible when using the map feature. My goal is to get a json response, parse the IDs and create several new requests with that response. I've written two http services that call two different endpoint.</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Dog } from '../dog'\nimport { DogService } from '../dog.service'\nimport { DogpagesService } from '../dogpages.service'\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/mergeMap';\nimport 'rxjs/add/operator/switch';\n\n@Component({\n  selector: 'app-girls',\n  templateUrl: './girls.component.html',\n  styleUrls: ['./girls.component.css']\n})\nexport class GirlsComponent implements OnInit {\n  dogs: Observable&lt;Dog[]&gt;;\n\n  constructor(\n    private dogService: DogService,\n    private dogpagesService: DogpagesService,\n  ) {\n  }\n\n  ngOnInit() {\n    this.dogpagesService.getPage('girls')\n      .map(res =&gt;\n        res.map((val) =&gt; {\n          console.log(val)\n          return val.DogsId\n        }))\n      .subscribe(obsNumbers =&gt; obsNumbers\n        .map(num =&gt; this.dogService\n          .getDog(num)\n          .subscribe(dog =&gt; console.log(dog)\n          )));\n  }\n\n}\n</code></pre>\n\n<p>The following gets logged to the console.</p>\n\n<pre><code>{dogsId: 159, pageName: \"Girls\", sortId: 2}\n{dogsId: 11, pageName: \"Girls\", sortId: 1}\n\nGET https://localhost:44342/api/dogs/undefined 400\nHttpErrorResponse\u00a0{headers: HttpHeaders, status: 400, statusText: \"OK\", url: \"https://localhost:44342/api/dogs/undefined\", ok: false,\u00a0\u2026}\n</code></pre>\n\n<p>Why is dogsID available during console.log(val), but NOT when I subscribe to it later?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1538015333, "post_id": 52528055, "comment_id": 91996499, "body": "That&#39;s the whole point of defining a <code>baseUrl</code> and <code>paths</code>. If it cannot use these to compile TS to JS, then what is the point of these properties in <code>tsconfig.json</code>?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1538015541, "post_id": 52528055, "comment_id": 91996538, "body": "No, <a href=\"https://github.com/Microsoft/TypeScript/issues/15479#issuecomment-300240856\" rel=\"nofollow noreferrer\">according to the TypeScript team</a>, the purpose of these options was to be able to tell TypeScript about the module resolution rules that your runtime environment will use.  For example, if you knew that you were going to set <code>NODE_PATH</code> at runtime, you could set <code>baseUrl</code> to match."}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 0, "last_activity_date": 1538010921, "creation_date": 1538010921, "answer_id": 52528055, "question_id": 52512141, "link": "https://stackoverflow.com/questions/52512141/compiled-typescript-path-is-not-resolved/52528055#52528055", "title": "Compiled Typescript path is not resolved", "body": "<p>TypeScript doesn't rewrite import paths: see <a href=\"https://github.com/Microsoft/TypeScript/issues/15479\" rel=\"nofollow noreferrer\">this declined suggestion</a>.  You'll have to either use relative import paths or add the <code>dist</code> directory to the <code>NODE_PATH</code> environment variable at runtime.</p>\n"}], "owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 52528055, "answer_count": 1, "score": 0, "last_activity_date": 1538010921, "creation_date": 1537946522, "question_id": 52512141, "link": "https://stackoverflow.com/questions/52512141/compiled-typescript-path-is-not-resolved", "title": "Compiled Typescript path is not resolved", "body": "<p>I have the following folder structure:</p>\n\n<pre><code>/src\n   /ts\n     /controllers\n        controller1.ts\n     /routes\n        route1.ts\n     index.ts\n</code></pre>\n\n<p>And my <code>tsconfig.json</code> is</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src/ts\",\n    \"outDir\": \"./dist\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es2015\",\n    \"sourceMap\": true,\n    \"removeComments\": false,\n    \"paths\": {\n      \"*\": [\n        \"*\",\n        \"dist/*\",\n        \"node_modules/*\"\n      ]\n    },\n    \"types\": [\n      \"node\",\n      \"express\"\n    ],\n    \"pretty\": false\n  },\n  \"include\":[\n    \"src/ts/**/*.ts\",\n    \"dist/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"coverage\"\n  ]\n}\n</code></pre>\n\n<p>As an example, my <code>route1.ts</code> has an import as</p>\n\n<pre><code>import controller1 from 'controllers/controller1';\n</code></pre>\n\n<p>Which resolves fine. However, when I compile <code>node_modules/.bin/tsc</code>, these files are compiled in the <code>dist</code> folder as </p>\n\n<pre><code>const controller1 = require(\"controllers/controller1\");\n</code></pre>\n\n<p>And when I run the server I get</p>\n\n<pre><code>error: uncaughtException: Cannot find module 'controllers/controller1'\n</code></pre>\n\n<p>How can I get the compiled typescript path to be resolved?</p>\n"}, {"tags": ["arrays", "typescript", "filter"], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 8357750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/215385622d9b2c72e5f83e85ee43fee5?s=128&d=identicon&r=PG&f=1", "display_name": "Hayden Hall", "link": "https://stackoverflow.com/users/8357750/hayden-hall"}, "is_accepted": true, "score": 3, "last_activity_date": 1537946024, "creation_date": 1537946024, "answer_id": 52511998, "question_id": 52511528, "link": "https://stackoverflow.com/questions/52511528/filter-an-array-where-the-values-in-the-first-array-contain-the-values-in-the-se/52511998#52511998", "title": "Filter an array where the values in the first array contain the values in the second array in typescript", "body": "<p>First I would suggest using the correct types for your arrays: <code>string[]</code></p>\n\n<p>You should be able to do the following: </p>\n\n<pre><code>var StarWarsChars: string[] = [\n  \"Jedi Yoda\",\n  \"Jedi Mace Windu\",\n  \"Jedi Qui-Gon Jinn\",\n  \"Jedi Qui-Gon Jinn\",\n  \"Jedi Obi-Wan Kenobi\",\n  \"Sith Count Dooku\",\n  \"Sith Darth Sidious\",\n  \"Droid R2-D2\",\n  \"Droid R2-D2\",\n  \"Droid C-3PO\",\n  \"Droid BB-8\"\n];\n\nvar StarWarsFilter: string[] = [\"Jedi\", \"Sith\"];\n\nvar StarWarsFiltered = StarWarsChars.filter(e =&gt;\n      StarWarsFilter.some(f =&gt; e.includes(f))\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 7125832, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wZBWHuInc7Q/AAAAAAAAAAI/AAAAAAAAAFM/0bVpUJZ-j2c/photo.jpg?sz=128", "display_name": "James Harrison", "link": "https://stackoverflow.com/users/7125832/james-harrison"}, "is_accepted": false, "score": 0, "last_activity_date": 1537948145, "creation_date": 1537948145, "answer_id": 52512583, "question_id": 52511528, "link": "https://stackoverflow.com/questions/52511528/filter-an-array-where-the-values-in-the-first-array-contain-the-values-in-the-se/52512583#52512583", "title": "Filter an array where the values in the first array contain the values in the second array in typescript", "body": "<p><code>const StarWarsFiltered = \n   StarWarsChars.filter(x =&gt; x.split(' ').some(y =&gt; StarWarsFilter.includes(y)));</code></p>\n\n<p>This will return all the items in StarWarsChars that contain a word in StarWarsFilter</p>\n"}], "owner": {"reputation": 1208, "user_id": 4374672, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E0Evb.png?s=128&g=1", "display_name": "Woody", "link": "https://stackoverflow.com/users/4374672/woody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 52511998, "answer_count": 2, "score": 1, "last_activity_date": 1537948145, "creation_date": 1537944386, "question_id": 52511528, "link": "https://stackoverflow.com/questions/52511528/filter-an-array-where-the-values-in-the-first-array-contain-the-values-in-the-se", "title": "Filter an array where the values in the first array contain the values in the second array in typescript", "body": "<p>In typescript I have two arrays:</p>\n\n<pre><code>var StarWarsChars: any = [\n      \"Jedi Yoda\",\n      \"Jedi Mace Windu\",\n      \"Jedi Qui-Gon Jinn\",\n      \"Jedi Qui-Gon Jinn\",\n      \"Jedi Obi-Wan Kenobi\",\n      \"Sith Count Dooku\",\n      \"Sith Darth Sidious\",\n      \"Droid R2-D2\",\n      \"Droid R2-D2\",\n      \"Droid C-3PO\",\n      \"Droid BB-8\"\n    ];\n\nvar StarWarsFilter: any = [\"Jedi\", \"Sith\"];\n</code></pre>\n\n<p>and I wish to create a third array consisting of values from the StarWarsChars array where the values contain the values in the StarWarsFilter. I know how to filter on a single value:</p>\n\n<pre><code>var StarWarsFiltered = StarWarsChars.filter(e =&gt;\n      e.includes(StarWarsFilter[0])\n    );\n</code></pre>\n\n<p>which returns: </p>\n\n<pre><code>0: \"Jedi Yoda\"\n1: \"Jedi Mace Windu\"\n2: \"Jedi Qui-Gon Jinn\"\n3: \"Jedi Qui-Gon Jinn\"\n4: \"Jedi Obi-Wan Kenobi\"\n</code></pre>\n\n<p>but I don't know how to perform this filter on all values in StarWarsFilter. I could try a loop but I imagine there is a better way of doing it.</p>\n"}, {"tags": ["html", "angular", "typescript"], "comments": [{"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1537942198, "post_id": 52510899, "comment_id": 91961889, "body": "Also if you use two way databinding, as the bottom answers mentioned keep in mind that two way databinding is pretty rxpensive, through the fact that you have to listen bidirectional. It&#39;s by far more efficient to use input and output events separately and provide them from a smart component."}], "answers": [{"tags": [], "owner": {"reputation": 28444, "user_id": 6428638, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eoaOn.jpg?s=128&g=1", "display_name": "Sachila Ranawaka", "link": "https://stackoverflow.com/users/6428638/sachila-ranawaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1537941680, "creation_date": 1537941680, "answer_id": 52510921, "question_id": 52510899, "link": "https://stackoverflow.com/questions/52510899/cannot-perform-two-way-binding-in-an-input-element-dynamically/52510921#52510921", "title": "Cannot Perform Two-way Binding in an Input Element Dynamically", "body": "<p>just use <code>[(ngModel)]=\"field.value\"</code></p>\n\n<pre><code>&lt;input type=\"text\" [(ngModel)]=\"field.value\" /&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-u5bkmr?file=src%2Fapp%2Fapp.component.html\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": true, "score": 3, "last_activity_date": 1537947328, "last_edit_date": 1537947328, "creation_date": 1537941794, "answer_id": 52510949, "question_id": 52510899, "link": "https://stackoverflow.com/questions/52510899/cannot-perform-two-way-binding-in-an-input-element-dynamically/52510949#52510949", "title": "Cannot Perform Two-way Binding in an Input Element Dynamically", "body": "<p>You don't need to pass the index anymore. You are looping thought an array of objects with the *ngFor</p>\n\n<pre><code>&lt;div *ngFor=\"let field of fields;\"&gt;\n    &lt;label&gt;{{ field.name }}&lt;/label&gt; &lt;!-- This one is rendered correctly. --&gt;\n    &lt;input type=\"text\" [(ngModel)]=\"field.value\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here's a working demo <a href=\"https://stackblitz.com/edit/angular-fre6m5\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-fre6m5</a></p>\n"}], "owner": {"reputation": 528, "user_id": 6435817, "user_type": "registered", "accept_rate": 96, "profile_image": "https://graph.facebook.com/10206502324139803/picture?type=large", "display_name": "Josh Monreal", "link": "https://stackoverflow.com/users/6435817/josh-monreal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 52510949, "answer_count": 2, "score": 1, "last_activity_date": 1537947328, "creation_date": 1537941610, "question_id": 52510899, "link": "https://stackoverflow.com/questions/52510899/cannot-perform-two-way-binding-in-an-input-element-dynamically", "title": "Cannot Perform Two-way Binding in an Input Element Dynamically", "body": "<p>I have the following object in my typescript class:</p>\n\n<pre><code>export class XComponent {\n    fields: [{ }];\n\n    constructor() {\n        this.fields = [\n        {\n            id: 'Id1',\n            name: 'Field 1',\n            value: 'lorem'\n        },\n        {\n            id: 'Id2',\n            name: 'Field 2',\n            value: 'ipsum'\n        },\n        {\n            id: 'Id3',\n            name: 'Field 3',\n            value: 'dolor'\n        },];\n    }\n}\n</code></pre>\n\n<p>When I try to bind the value dynamically in an input element it binds the last value which is <strong>dolor</strong>.</p>\n\n<pre><code>&lt;div *ngFor=\"let field of fields; index as i\"&gt;\n    &lt;label&gt;{{ field.name }}&lt;/label&gt; &lt;!-- This one is rendered correctly. --&gt;\n    &lt;input type=\"text\" [(ngModel)]=\"fields[i].value\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h2>Result</h2>\n\n<pre><code>    Label: Field 1\n    Input: dolor\n\n    Label: Field 2\n    Input: dolor\n\n    Label: Field 3\n    Input: dolor\n</code></pre>\n"}, {"tags": ["angular", "typescript", "calendar", "angular-material", "angular5"], "answers": [{"tags": [], "owner": {"reputation": 187, "user_id": 4711837, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/11f4b3529488f79f1273361bcb06ee43?s=128&d=identicon&r=PG&f=1", "display_name": "user12", "link": "https://stackoverflow.com/users/4711837/user12"}, "is_accepted": false, "score": 0, "last_activity_date": 1542200444, "creation_date": 1542200444, "answer_id": 53300860, "question_id": 52510875, "link": "https://stackoverflow.com/questions/52510875/highlight-date-in-mat-calendar/53300860#53300860", "title": "Highlight date in mat-calendar", "body": "<p><a href=\"https://stackoverflow.com/questions/44817296/event-calendar-in-angular-material-design\">Event calendar in Angular Material Design</a></p>\n\n<p>I think this is what you wanted. You can highlight date but Not possible to show events. I am also looking for alternatives.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 4011784, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1209885784/picture?type=large", "display_name": "Bakare Isaac Omotayo", "link": "https://stackoverflow.com/users/4011784/bakare-isaac-omotayo"}, "is_accepted": false, "score": 1, "last_activity_date": 1564223574, "last_edit_date": 1564223574, "creation_date": 1564222356, "answer_id": 57231129, "question_id": 52510875, "link": "https://stackoverflow.com/questions/52510875/highlight-date-in-mat-calendar/57231129#57231129", "title": "Highlight date in mat-calendar", "body": "<p>Its 2019. for anyone still looking for an answer</p>\n\n<pre><code>&lt;mat-calendar  [dateClass]=\"dateClass()\" \n(selectedChange)=\"getDayRequestsList($event)\"&gt; &lt;/mat-calendar&gt;\n\n\ndateClass() {    \nreturn (date: Date): MatCalendarCellCssClasses =&gt; {\n  const highlightDate = this.datesToMark // array of dates\n    .map(strDate =&gt; new Date(strDate)) // wrap with new Date if not in \n    date object\n    .some(d =&gt; d.getDate() === date.getDate() &amp;&amp; d.getMonth() === \n    date.getMonth() &amp;&amp; d.getFullYear() === date.getFullYear());\n  console.log(highlightDate);\n\n  const highlightCurrentDate = this.upcomingCalendarEvents\n  .map(strDate =&gt; new Date(+strDate.date))\n  .some(d =&gt; d.getDate() === date.getDate() &amp;&amp; currentDate.getDate() === \n    d.getDate() &amp;&amp; d.getMonth() === date.getMonth() &amp;&amp; d.getFullYear() === \ndate.getFullYear());\nconsole.log(highlightDate);\n  if(highlightCurrentDate) {\n    return 'highlight-current-date-class'\n  } else if(highlightDate) {\n    return 'highlight-date-class'\n  } else {\n    return ''\n  }\n\n\n};\n\n}\n</code></pre>\n"}], "owner": {"reputation": 952, "user_id": 9071245, "user_type": "registered", "accept_rate": 23, "profile_image": "https://lh6.googleusercontent.com/-0172LwUQdvU/AAAAAAAAAAI/AAAAAAAAAiY/9uGVEtD5A8k/photo.jpg?sz=128", "display_name": "Chris", "link": "https://stackoverflow.com/users/9071245/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1564223574, "creation_date": 1537941459, "question_id": 52510875, "link": "https://stackoverflow.com/questions/52510875/highlight-date-in-mat-calendar", "title": "Highlight date in mat-calendar", "body": "<p>I am using Angular material calendar (i.e) <strong>mat-calendar</strong>. I am trying to highlight some of the dates in the calendar. But I couldn't see any documentation on that. Can anyone help me on that.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;mat-card&gt;\n&lt;mat-calendar name=\"appoinment_date\" [selected]=\"selectedDate (selectedChange)=\"onSelect($event)\"&gt;&lt;/mat-calendar&gt;\n&lt;/mat-card&gt;\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code>  onSelect(event){\n    this.selectedDate= event;\n  }\n</code></pre>\n\n<p><strong>What I am Getting</strong> //Can only select dates\n<a href=\"https://i.stack.imgur.com/w93Sf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w93Sf.png\" alt=\"My output\"></a></p>\n\n<p><strong>What I want is</strong> // Should able to highlight dates </p>\n\n<p><a href=\"https://i.stack.imgur.com/vRxNd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vRxNd.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["angular", "typescript", "grid", "filtering"], "answers": [{"comments": [{"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1537941961, "post_id": 52510948, "comment_id": 91961799, "body": "if i use like this,it just show that string only....it will not show that function value.."}, {"owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "edited": false, "score": 0, "creation_date": 1537956057, "post_id": 52510948, "comment_id": 91969745, "body": "nooo, if i use #Template...it is not my custom filtertemplate"}], "tags": [], "owner": {"reputation": 1874, "user_id": 6623650, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/2NOJH.jpg?s=128&g=1", "display_name": "Amrit", "link": "https://stackoverflow.com/users/6623650/amrit"}, "is_accepted": false, "score": 0, "last_activity_date": 1537941793, "creation_date": 1537941793, "answer_id": 52510948, "question_id": 52510866, "link": "https://stackoverflow.com/questions/52510866/my-custom-filteritemtemplate-is-not-working/52510948#52510948", "title": "My custom &quot;filteritemTemplate&quot; is not working?", "body": "<p>whatever you want to fill you should just put it like this:</p>\n\n<pre><code> &lt;ng-template #filterItemTemplate let-data &gt;&lt;div&gt; hii {{getval(data)}}&lt;/div&gt;&lt;/ng-template&gt;\n</code></pre>\n\n<p>replace <strong>hii</strong> with your data</p>\n"}], "owner": {"reputation": 942, "user_id": 9764000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyRRv.jpg?s=128&g=1", "display_name": "kumaresan_sd", "link": "https://stackoverflow.com/users/9764000/kumaresan-sd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538374921, "creation_date": 1537941417, "last_edit_date": 1592644375, "question_id": 52510866, "link": "https://stackoverflow.com/questions/52510866/my-custom-filteritemtemplate-is-not-working", "title": "My custom &quot;filteritemTemplate&quot; is not working?", "body": "<p><strong>when using &quot;filteritemtemplate&quot;, i couldn't able to access function value inside the column.</strong></p>\n<blockquote>\n<p>sample which replicates my issue:</p>\n</blockquote>\n<p><a href=\"https://stackblitz.com/edit/angular-tyoezd?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz sample link</a></p>\n<p><strong>Reproducing method:</strong></p>\n<blockquote>\n<p>1.open stackblitz link</p>\n<p>2.filter shopcountry column</p>\n<p>3.you will see, filter value is not displayed</p>\n</blockquote>\n<p><strong>I think this screenshot shows my issue:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/2mfiY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mfiY.jpg\" alt=\"here it goes to that function but value is not getting updated\" /></a></p>\n<p><strong>But i can read the function  still not returning its value. i have attached screenshot here</strong></p>\n<p><a href=\"https://i.stack.imgur.com/sKcas.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sKcas.jpg\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["node.js", "typescript", "express", "debugging", "webstorm"], "answers": [{"tags": [], "owner": {"reputation": 72406, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 1, "last_activity_date": 1537968085, "creation_date": 1537968085, "answer_id": 52518796, "question_id": 52509952, "link": "https://stackoverflow.com/questions/52509952/webstorm-node-js-typescript-express-debug-stuck-on-connecting-to-localhost/52518796#52518796", "title": "WebStorm Node.js TypeScript Express debug stuck on connecting to localhost", "body": "<p>Works fine for me using your way to start the app/attach the debugger. What WebStorm version do you use?\nhere are 2 other ways to debug your app:</p>\n\n<ul>\n<li>using <strong>Node.js</strong> run configuration (create similar configuration and press <strong>Debug</strong>):</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/G3sqi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3sqi.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li><p>using <strong>NPM</strong> run configuration:</p>\n\n<ol>\n<li><p>change your script to <code>\"debug\": \"node %NODE_DEBUG_OPTION% --require ts-node/register -r tsconfig-paths/register server.ts\"</code> (if you are on Linux/Mac OSX, replace <code>%NODE_DEBUG_OPTION%</code> with <code>$NODE_DEBUG_OPTION</code></p></li>\n<li><p>click the arrow in the gutter, choose <strong>Debug</strong></p></li>\n</ol></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/I659C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I659C.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 10416572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d7725e45c31b0e72b25e79051cf6d5?s=128&d=identicon&r=PG&f=1", "display_name": "totalrandomness", "link": "https://stackoverflow.com/users/10416572/totalrandomness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 718, "favorite_count": 0, "accepted_answer_id": 52518796, "answer_count": 1, "score": 1, "last_activity_date": 1537968085, "creation_date": 1537936008, "last_edit_date": 1537956375, "question_id": 52509952, "link": "https://stackoverflow.com/questions/52509952/webstorm-node-js-typescript-express-debug-stuck-on-connecting-to-localhost", "title": "WebStorm Node.js TypeScript Express debug stuck on connecting to localhost", "body": "<p>I'm trying to debug my TypeScript Express app using WebStorm.</p>\n\n<p>I have this debug script in <code>package.json</code></p>\n\n<pre><code>\"scripts\": {\n    ...\n    \"debug\": \"node --inspect-brk=9229 --require ts-node/register -r tsconfig-paths/register server.ts\"\n}\n</code></pre>\n\n<p>I run <code>npm run debug</code> in the command line and the following loads</p>\n\n<pre><code>Debugger listening on ws://127.0.0.1:9229/&lt;somerandomid&gt;\nFor help see https://nodejs.org/en/docs/inspector\n</code></pre>\n\n<p>Now I am able to debug from Chrome inspector by going to Chrome, type in <code>chrome://inspect/</code> and <code>server.ts</code> would appear in Remote Target, and I can debug the TypeScript by clicking inspect. Hence I know that the problem is not my node.js configuration side. </p>\n\n<p>The problem is, I can't debug when using WebStorm.</p>\n\n<p>I tried the following WebStorm debug configuration:</p>\n\n<pre><code>Attach to Node.js/Chrome\nHost: localhost\nPort: 9229\nAttach to: Chrome or Node.js &gt; 6.3 started with --inspect\n</code></pre>\n\n<p>but when I debug in WebStorm the debugger keeps on saying <code>\"Connecting to localhost:9229\"</code> and nothing happens. It doesn't go to breakpoints even though I have set breakpoints in server.ts etc </p>\n\n<p>I tried disabling firewall, still doesn't work. Tried using <code>--inspect</code> instead of <code>--inspect-brk</code>, still doesn't work.</p>\n\n<p>What am I doing wrong, and how can I get WebStorm to debug into breakpoints using my node.js Express TypeScript configuration?  </p>\n"}, {"tags": ["angular", "typescript", "ng-bootstrap"], "comments": [{"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537933774, "post_id": 52509619, "comment_id": 91959388, "body": "can you create a stackbliz please?"}, {"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "reply_to_user": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 1, "creation_date": 1537934012, "post_id": 52509619, "comment_id": 91959441, "body": "Yes, check <a href=\"https://stackblitz.com/edit/typehead-ng-bootstrap?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">here</a>!"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537934020, "post_id": 52509619, "comment_id": 91959446, "body": "in your input change the <code>type=&quot;search&quot;</code> to  <code>type=&quot;text&quot;</code>"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 1, "creation_date": 1537934037, "post_id": 52509619, "comment_id": 91959449, "body": "let me check your code. give me a few"}, {"owner": {"reputation": 14745, "user_id": 7790376, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i3Pxbe4117Y/AAAAAAAAAAI/AAAAAAAAAEw/r6BT0yIo_4E/photo.jpg?sz=128", "display_name": "Chellappan \u0bb5", "link": "https://stackoverflow.com/users/7790376/chellappan-%e0%ae%b5"}, "edited": false, "score": 1, "creation_date": 1537934277, "post_id": 52509619, "comment_id": 91959509, "body": "check this also:<a href=\"https://ng-bootstrap.github.io/#/components/typeahead/examples#template\" rel=\"nofollow noreferrer\">ng-bootstrap.github.io/#/components/typeahead/examples#&zwnj;&#8203;template</a>"}], "answers": [{"comments": [{"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537935361, "post_id": 52509815, "comment_id": 91959730, "body": "Thanks, it works to show the products list. But how can obtain the id for the product selected and not the name (just like when we use the <code>&lt;option *ngFor=&quot;let product of products&quot; [value]=&quot;product.id_product&quot;&gt;                       {{ product.name_product}}                     &lt;&#47;option&gt;</code> in a select list for html"}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537937064, "post_id": 52509815, "comment_id": 91960139, "body": "there is an option in it&#39;s <a href=\"https://ng-bootstrap.github.io/#/components/typeahead/api\" rel=\"nofollow noreferrer\">API</a> . check that"}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537937620, "post_id": 52509815, "comment_id": 91960312, "body": "use id field in  <code>(click)=&quot;searchUrl(model.id_product)&quot;</code>"}], "tags": [], "owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "is_accepted": false, "score": 1, "last_activity_date": 1537935070, "creation_date": 1537935070, "answer_id": 52509815, "question_id": 52509619, "link": "https://stackoverflow.com/questions/52509619/im-not-getting-a-correct-value-of-my-object-list/52509815#52509815", "title": "I&#39;m not getting a correct value of my object list", "body": "<p>change this line as following within <code>&lt;ng-template&gt;</code></p>\n\n<pre><code>&lt;ng-template #rt let-r=\"result\" let-t=\"term\"&gt;\n  &lt;ngb-highlight [result]=\"r.name_product\" [term]=\"t\"&gt;&lt;/ngb-highlight&gt; \n   //or just to see the item you can use {{r.name_product}}\n&lt;/ng-template&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/typehead-ng-bootstrap-gajnfb?file=src/app/app.component.html\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537936962, "post_id": 52509916, "comment_id": 91960114, "body": "Yes, it works, but only in the first time (after you choose the object you get the id, but if you want to change the product, you get the firs id, no change), maybe using an event can works?"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537937118, "post_id": 52509916, "comment_id": 91960156, "body": "Click on it with your MOUISE. Not with the arrows or nor by clicking enter. the method is on click. If you want to use the enter you can do that by doing (keypress) etc"}, {"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 1, "creation_date": 1537937164, "post_id": 52509916, "comment_id": 91960174, "body": "ohh yes, that&#39;s right. I&#39;m so tired jaja I couldn&#39;t see that! Thanks!"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 1, "creation_date": 1537937245, "post_id": 52509916, "comment_id": 91960196, "body": "jajaj you good parce! I had fun answering this. Never used the typehead before"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537937288, "post_id": 52509916, "comment_id": 91960210, "body": "also you can combine both the (click) and the (keypress) etc in the same div ;)"}, {"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537971181, "post_id": 52509916, "comment_id": 91979137, "body": "Hey bro, I&#39;ve found that in a explorer as Mozilla the click event doesn&#39;t work, if I use it on Chrome I don&#39;t have any problem with that. Can you help me, again ?"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537971529, "post_id": 52509916, "comment_id": 91979346, "body": "@jecorrales. Let me try on my computer using firebox. Sounds like a polyfill issue."}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "reply_to_user": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537971640, "post_id": 52509916, "comment_id": 91979425, "body": "What version of Firefox do you have?"}, {"owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "edited": false, "score": 0, "creation_date": 1537971855, "post_id": 52509916, "comment_id": 91979576, "body": "I&#39;m using the Firefox Developer with Version 63.0b9 and the Mozilla Firefox Version 62.0, in both doesn&#39;t work (to get the ID with click event)"}], "tags": [], "owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "is_accepted": true, "score": 1, "last_activity_date": 1538006819, "last_edit_date": 1538006819, "creation_date": 1537935806, "answer_id": 52509916, "question_id": 52509619, "link": "https://stackoverflow.com/questions/52509619/im-not-getting-a-correct-value-of-my-object-list/52509916#52509916", "title": "I&#39;m not getting a correct value of my object list", "body": "<p>Your problem was in the <strong>Html</strong></p>\n\n<p>Also, im showing you how can you get the <code>id</code></p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-mrftun\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-mrftun</a></p>\n\n<pre><code> &lt;label for=\"typeahead-basic\"&gt;Search :&lt;/label&gt;\n\n&lt;ng-template #rt let-r=\"result\" let-t=\"term\"&gt;\n  &lt;div (click)='getId(r.id_product)'&gt;{{r.name_product}}&lt;/div&gt;\n&lt;/ng-template&gt;\n\n  &lt;input id=\"typeahead-template\" type=\"text\"  [(ngModel)]=\"model\" [ngbTypeahead]=\"search\" [resultTemplate]=\"rt\"\n  [inputFormatter]=\"formatter\" /&gt;\n\n  &lt;button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\" (click)=\"searchUrl(model.url)\"&gt;Search&lt;/button&gt;\n\n  &lt;pre&gt;Model: {{ model | json }}&lt;/pre&gt;\n\n  Id: {{id}}\n</code></pre>\n\n<p><strong>TS</strong></p>\n\n<pre><code> getId(id: number) {\n    this.id = id;\n}\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 8041208, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jeN5L.jpg?s=128&g=1", "display_name": "jecorrales", "link": "https://stackoverflow.com/users/8041208/jecorrales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 52509916, "answer_count": 2, "score": 0, "last_activity_date": 1538006819, "creation_date": 1537933491, "last_edit_date": 1537934076, "question_id": 52509619, "link": "https://stackoverflow.com/questions/52509619/im-not-getting-a-correct-value-of-my-object-list", "title": "I&#39;m not getting a correct value of my object list", "body": "<p>I'm trying to use the TYPEHEAD for my input with the library <a href=\"https://ng-bootstrap.github.io/#/components/typeahead/examples\" rel=\"nofollow noreferrer\">ng-bootstrap</a>, to show the list of objects (just like a select without a box):</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"search\"\n       #instance=\"ngbTypeahead\"\n       placeholder=\"Search\"\n       aria-label=\"Search\"\n       [(ngModel)]=\"model\"\n       [ngbTypeahead]=\"search\"\n       [resultTemplate]=\"rt\"\n       [inputFormatter]=\"formatter\"\n       (focus)=\"focus$.next($event.target.value)\"\n       (click)=\"click$.next($event.target.value)\"\n&gt;\n</code></pre>\n\n<p>When I'm writing a name of my object I'm only getting <code>empty value</code> seven times (all objects that I'm waiting for) if I choose an object the value on the input appears correctly (but in the box it's empty).</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>  search = (text$: Observable&lt;string&gt;) =&gt;\n    text$.pipe(\n      debounceTime(200),\n      distinctUntilChanged(),\n      merge(this.focus$),\n      merge(this.click$.pipe(filter(() =&gt; !this.instance.isPopupOpen()))),\n      map(term =&gt; (term === '' ? this.productList\n        : this.productList.filter(v =&gt; v.name_product.toLowerCase().indexOf(term.toLowerCase()) &gt; -1)).slice(0, 10))\n    );\n\n   formatter = (x: {name_product: string}) =&gt; x.name_product;\n\n    searchUrl(url){\n      if(url){\n        window.open(url,'_blank');\n      }\n    }\n</code></pre>\n\n<p><strong>JSON</strong></p>\n\n<pre><code>  productList =\n  [ \n    {\n        id_product:1,\n        name_product: 'Laptop Dell'\n    },\n    {\n        id_product:2,\n        name_product: 'Laptop HP'\n    },\n    {\n        id_product:3,\n        name_product: 'G-Shock Casio'\n    },\n    {\n        id_product:4,\n        name_product: 'Casio LR-T CALC'\n    },\n    {\n        id_product:5,\n        name_product: 'LG G3 Stylus'\n    },\n    {\n        id_product:6,\n        name_product: 'DYMO 450 Turbo'\n    },\n    {\n        id_product:7,\n        name_product: 'Brother QL 700'\n    }\n  ];\n</code></pre>\n\n<p>But, I need to show the name of my product <code>(name_product)</code>, but in my <code>[(ngModel)]=\"model\"</code> I hope to get the id <code>(id_product)</code>. How can Fix this bug?.</p>\n\n<p>Here it's my <a href=\"https://stackblitz.com/edit/typehead-ng-bootstrap?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a> of this bug.</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1537939827, "creation_date": 1537939827, "answer_id": 52510535, "question_id": 52509401, "link": "https://stackoverflow.com/questions/52509401/disallow-creating-a-class-object-with-braces-in-typescript/52510535#52510535", "title": "Disallow creating a class object with braces in TypeScript", "body": "<p>Typescript uses structural typing to determine  compatibility between types. If your class contains a just the field <code>a</code> then an object literal with that field will will be compatible with the class.</p>\n\n<p>The simplest way to make sure your class is not compatible with an object literal is to add a private field, even if you don't use it.</p>\n\n<pre><code>class Foo {\n    public a: number = 0;\n    private no:undefined;\n}\n\nconst foo1: Foo = { a: 1 } //error\n</code></pre>\n"}], "owner": {"reputation": 1140, "user_id": 3767132, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/209b800d202fee00fdbaaa5ab063b46d?s=128&d=identicon&r=PG&f=1", "display_name": "sunnyone", "link": "https://stackoverflow.com/users/3767132/sunnyone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 52510535, "answer_count": 1, "score": 2, "last_activity_date": 1537939827, "creation_date": 1537931589, "question_id": 52509401, "link": "https://stackoverflow.com/questions/52509401/disallow-creating-a-class-object-with-braces-in-typescript", "title": "Disallow creating a class object with braces in TypeScript", "body": "<p>Assigning to a variable of class with braces like { a: 1, b: 2 } does not cause a compile error.</p>\n\n<pre><code>@MyDecorator()\nclass Foo {\n    public a: number = 0;\n}\n\nconst foo1: Foo = { a: 1 }; // No Error\n</code></pre>\n\n<p>But foo1 is not decorated because it's not created with a constructor.\nI want to force to create an object with new ClassName().</p>\n\n<p>How to disallow creating an instance with { ... }?</p>\n"}, {"tags": ["javascript", "typescript", "sendbird"], "comments": [{"owner": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1537943003, "post_id": 52509158, "comment_id": 91962252, "body": "I tried other versions of SendBird and my code works with version 3.0.54 worked before sendUserParams was added. That is the only thing that has been added to SendBird SDK that would be causing this &quot;bug&quot; maybe. I also used version 3.0.78 and also got the same error."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1538137758, "post_id": 52548837, "comment_id": 92049248, "body": "In the newer versions of SendBird SDK, past 3.0.54, it kept giving me UserMessageParam error when I put a string in for message. I tried this on 3.0.78 and 3.0.81 I believe and still got the error saying mentioned user id&#39;s is invalid. I debugged through to to make sure message had a string value before the sendUserMessage was called. I even hard coded message and still got the same error."}, {"owner": {"reputation": 469, "user_id": 2809848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/05f1e344ecec9140b35721383477084b?s=128&d=identicon&r=PG&f=1", "display_name": "Imju", "link": "https://stackoverflow.com/users/2809848/imju"}, "reply_to_user": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1538234918, "post_id": 52548837, "comment_id": 92076471, "body": "Please check out the sample project, <a href=\"https://github.com/smilefam/SendBird-JavaScript\" rel=\"nofollow noreferrer\">github.com/smilefam/SendBird-JavaScript</a>.  SendUserMessage without the UserMessageParam is used successfully."}, {"owner": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1538327758, "post_id": 52548837, "comment_id": 92095660, "body": "The javascript SDK webwidget one is using v3.0.45. I am just saying that in the new v3.0.81 it didn&#39;t work."}, {"owner": {"reputation": 469, "user_id": 2809848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/05f1e344ecec9140b35721383477084b?s=128&d=identicon&r=PG&f=1", "display_name": "Imju", "link": "https://stackoverflow.com/users/2809848/imju"}, "reply_to_user": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1538423565, "post_id": 52548837, "comment_id": 92130549, "body": "Are you using the web widget sample?  That&#39;s when you are seeing this problem?  Can you clarify this?  The question was about the certain call but if it is a web widget sample having that issue, then it is a different topic.  Can you pinpoint to which file of the web widget sample?"}, {"owner": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "edited": false, "score": 0, "creation_date": 1538528467, "post_id": 52548837, "comment_id": 92170716, "body": "No, not the web widget sample, I made my own project using the newer versions of the SDK. The web widget sample uses an older SDK and words just fine. I&#39;m seeing the problem when I am using send message on my own project. It works perfectly in older versions of the JS SDK but not the new ones as in the v3.0.81. Everything is working now that I reverted to the older SDK I was just curious on the new versions , v3.0.81, why you still can&#39;t just use a string as the message input."}], "tags": [], "owner": {"reputation": 469, "user_id": 2809848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/05f1e344ecec9140b35721383477084b?s=128&d=identicon&r=PG&f=1", "display_name": "Imju", "link": "https://stackoverflow.com/users/2809848/imju"}, "is_accepted": false, "score": 0, "last_activity_date": 1538112348, "creation_date": 1538112348, "answer_id": 52548837, "question_id": 52509158, "link": "https://stackoverflow.com/questions/52509158/javascript-typescript-overload-selection-with-sendbird/52548837#52548837", "title": "Javascript/Typescript Overload Selection with SendBird", "body": "<p>SendBird doesn't use TypeScript.  The interface file is just written with that. \n<a href=\"https://github.com/smilefam/SendBird-SDK-JavaScript/blob/master/SendBird.d.ts\" rel=\"nofollow noreferrer\">https://github.com/smilefam/SendBird-SDK-JavaScript/blob/master/SendBird.d.ts</a>\nInside, it is vanilla JS.</p>\n\n<p>The code that you mentioned above should work without needing to define the <strong>UserMessageParam</strong>.</p>\n\n<pre><code>    channelList[i].sendUserMessage(message, function (message, error) {\n\n        if (error) {\n            console.error(error);\n            return;\n        }\n\n        console.log(message);\n        document.getElementById(url + \"ChatInput\").value = \"\";\n\n    });\n</code></pre>\n\n<p>Please try to debug stepping through.  Also, please check sample code that has similar implementation. <a href=\"https://github.com/smilefam/SendBird-JavaScript\" rel=\"nofollow noreferrer\">https://github.com/smilefam/SendBird-JavaScript</a></p>\n"}], "owner": {"reputation": 1, "user_id": 10406386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12666cfad6845f0df2b22e6250b942a0?s=128&d=identicon&r=PG&f=1", "display_name": "molinamos", "link": "https://stackoverflow.com/users/10406386/molinamos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538112348, "creation_date": 1537929422, "last_edit_date": 1537930535, "question_id": 52509158, "link": "https://stackoverflow.com/questions/52509158/javascript-typescript-overload-selection-with-sendbird", "title": "Javascript/Typescript Overload Selection with SendBird", "body": "<p>I am currently trying to use SendBird SDK and have been trying to call this function and getting errors back when I do. Below is there method they give on their documentation. </p>\n\n<pre><code>channel.sendUserMessage(message, data, customType, function(message, error){\n    if (error) {\n        console.error(error);\n        return;\n    }\n\n    console.log(message);\n});\n</code></pre>\n\n<p>Here is what I use:</p>\n\n<pre><code>channelList[i].sendUserMessage(message, function (message, error) {\n\n    if (error) {\n        console.error(error);\n        return;\n    }\n\n    console.log(message);\n    document.getElementById(url + \"ChatInput\").value = \"\";\n\n});\n</code></pre>\n\n<p>The error I get back is this:</p>\n\n<pre><code>I {name: \"SendBirdException\", code: 900025, message: \"Message is blocked due to invalid type of 'mentioned_user_ids'\"}\ncode: 900025\nmessage: \"Message is blocked due to invalid type of 'mentioned_user_ids'\"\nname: \"SendBirdException\"\n</code></pre>\n\n<p>Now I am only uploading a string and was really confused at first where mentioned_users_ids was coming from but I figured out why. I believe in the SendBird SDK they use Typescript and multiple overloads for different paramaters based on this file:</p>\n\n<p><a href=\"https://github.com/smilefam/SendBird-SDK-JavaScript/blob/master/SendBird.d.ts\" rel=\"nofollow noreferrer\">https://github.com/smilefam/SendBird-SDK-JavaScript/blob/master/SendBird.d.ts</a></p>\n\n<p>and specifically this part in that file:</p>\n\n<pre><code>sendUserMessage(userMessageParams: UserMessageParams, callback: messageCallback): UserMessage;\nsendUserMessage(message: string, callback: messageCallback): UserMessage;\nsendUserMessage(message: string, data: string, callback: messageCallback): UserMessage; // DEPRECATED\nsendUserMessage(message: string, data: string, customType: string, callback: messageCallback): UserMessage; // DEPRECATED\nsendUserMessage(\n   message: string,\n   data: string,\n   customType: string,\n   targetLanguages: Array&lt;string&gt;,\n   callback: messageCallback\n): UserMessage;\n</code></pre>\n\n<p>I believe since I am not using Typescript I believe its defaulting to the first function in that list that uses userMessageParams which consists of:</p>\n\n<pre><code>interface UserMessageParams {\n    message: string;\n    data: string;\n    customType: string;\n    targetLanguages: Array&lt;string&gt;;\n    mentionType: 'users' | 'channel';\n    mentionedUserIds: Array&lt;string&gt;;\n    mentionedUsers: Array&lt;User&gt;;\n    pushNotificationDeliveryOption: 'default' | 'suppress';\n}\n</code></pre>\n\n<p>Which includes the property that was mentions in the error before as 'mentioned_user_ids'.</p>\n\n<p>My question is if is possible to default it to the simple overload of just the string and callback function:</p>\n\n<pre><code>sendUserMessage(message: string, callback: messageCallback): UserMessage;\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>sendUserMessage(userMessageParams: UserMessageParams, callback: messageCallback): UserMessage;\n</code></pre>\n\n<p>without using Typescript. </p>\n\n<h1>What I tried</h1>\n\n<p>I tried to just make the object myself by doing:</p>\n\n<pre><code>var userMessageParams = new sb.UserMessageParams();\nuserMessageParams.message = message;\nuserMessageParams.mentionType = \"channel\";\n\nchannelList[i].sendUserMessage(userMessageParams, function (message, error) {\n    if (error) {\n        console.error(error);\n        return;\n    }\n\n    console.log(message);\n    document.getElementById(url + \"ChatInput\").value = \"\";\n});\n</code></pre>\n\n<p>But I still get the same error as mentioned above. </p>\n\n<pre><code>null_data:null\n_mentionType:\"channel\"\n_mentionedIds:[\"d155d9e51f3e4897988e39a8f33c89a6\"]\n_mentionedUserIds:[\"d155d9e51f3e4897988e39a8f33c89a6\"]\n_mentionedUsers:[]\n_message:\"message\"\n_pushNotificationDeliveryOption:null\n_targetLanguages:null\n</code></pre>\n\n<p>I manually set the values of the property inside userMessageParams:</p>\n\n<pre><code>userMessageParams.mentionedUserIds = [ channelList[0].members[1].userId, channelList[0].members[0].userId];\n\n_customType:null\n_data:null\n_mentionType:\"channel\"\n_mentionedIds:[\"d155d9e51f3e4897988e39a8f33c89a6\"]\n_mentionedUserIds:[\"d155d9e51f3e4897988e39a8f33c89a6\"]\n_mentionedUsers:[]\n_message:\"message\"\n_pushNotificationDeliveryOption:null\n_targetLanguages:null\n\n//Inside console in Chrome\nchannelList[0].members[1].userId\n\"d155d9e51f3e4897988e39a8f33c89a6\"\n\nchannelList[0].members[0].userId\n\"1924c64299284da6b8e6366a7f0b7a7c\"\n</code></pre>\n\n<p>(I don't know why it only added one of them inside userIds, I verified both had values in the console before and after adding it. Probably doesn't add values if it's the same as the senderId in the background or that is the best guess I have)\nAnd I still get the same errors.</p>\n\n<p>I don't want to mention certain users because this is just used for 1 on 1 chat so I don't really need it.</p>\n\n<h1>Solutions</h1>\n\n<p>The two possible solutions I see right now are: </p>\n\n<ul>\n<li>Figure out of who default to the string overload (I have never used Typescript and don't know how its transcompiled to java-script so I don't know if that's possible). </li>\n<li>Figure out where I am messing up on making the userMessageParams, and there I don't even want to mention any users. </li>\n</ul>\n\n<p>Sorry for the essay, if anyone has any information that could help out or need more clarification to help me, anything would be greatly appreciated, <strong>thanks</strong>! </p>\n\n<h1>Transcompiled code</h1>\n\n<p>...if anyone is crazy enough to look at this, (or what I think it is) located in the SendBird.min.js):</p>\n\n<pre><code>this.sendUserMessage = function(e, n, t, r, i) {\n                var a = this\n                  , s = le.MentionType.USERS\n                  , o = []\n                  , l = ue.PushNotificationDeliveryOption.DEFAULT;\n                if (\"function\" == typeof n &amp;&amp; (i = n,\n                n = \"\",\n                t = \"\",\n                r = [],\n                e instanceof ue)) {\n                    var u = e;\n                    e = u.message,\n                    n = u.data,\n                    t = u.customType,\n                    r = u.targetLanguages,\n                    s = u._mentionType,\n                    o = u._mentionedIds,\n                    l = u.pushNotificationDeliveryOption ? u.pushNotificationDeliveryOption : ue.PushNotificationDeliveryOption.DEFAULT\n                }\n                if (\"function\" == typeof t &amp;&amp; (i = t,\n                t = \"\",\n                r = []),\n                \"function\" == typeof r &amp;&amp; (i = r,\n                r = []),\n                r || (r = []),\n                \"string\" == typeof r &amp;&amp; (r = [r]),\n                null === n &amp;&amp; (n = \"\"),\n                null === t &amp;&amp; (t = \"\"),\n                \"string\" != typeof e || \"string\" != typeof n || \"string\" != typeof t || !Array.isArray(r) || [ue.PushNotificationDeliveryOption.DEFAULT, ue.PushNotificationDeliveryOption.SUPPRESS].indexOf(l) &lt; 0)\n                    return void U(null, new I(\"Invalid parameter.\",C.INVALID_PARAMETER), i);\n                var c = null;\n                if (!he.getInstance() || !he.getInstance().currentUser)\n                    return i &amp;&amp; U(null, new I(\"Connection should be made first.\",C.CONNECTION_REQUIRED), i),\n                    c;\n                var d = q.bMessage(this.url, e, n, t, s, o, r, l)\n                  , h = M.build(d.requestId, 0, he.getInstance().currentUser, this, e, n, t, r, (new Date).getTime(), null, s, null, o);\n                return c = new M(h),\n                he.getInstance().sendCommand(d, function(e, n) {\n                    if (n)\n                        return void U(null, new I(n.message,n.code), i);\n                    var t = new M(e.getJsonElement())\n                      , r = he.getInstance().currentUser;\n                    r &amp;&amp; t._sender &amp;&amp; r.userId === t._sender.userId &amp;&amp; (r.nickname !== t._sender.nickname &amp;&amp; (r.nickname = t._sender.nickname),\n                    r.profileUrl !== t._sender.profileUrl &amp;&amp; (r.profileUrl = t._sender.profileUrl)),\n                    a.isGroupChannel() &amp;&amp; F.getChannel(a.url, function(e, n) {\n                        if (R) {\n                            var r = e;\n                            e = n,\n                            n = r\n                        }\n                        if (n)\n                            return void U(null, n, i);\n                        e.lastMessage = t;\n                        for (var a in he.getInstance().channelHandlers) {\n                            he.getInstance().channelHandlers[a].onChannelChanged(e)\n                        }\n                    }),\n                    U(t, null, i)\n                }),\n                c\n            }\n</code></pre>\n"}, {"tags": ["typescript", "knockout.js", "kendo-ui", "gridstack"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10416028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZspW8Mkamz8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKxJkkUWpEsHl9BLuckQFsHH35GA/mo/photo.jpg?sz=128", "display_name": "Sac", "link": "https://stackoverflow.com/users/10416028/sac"}, "edited": false, "score": 0, "creation_date": 1538008067, "post_id": 52511993, "comment_id": 91995063, "body": "Hi Michael, Thanks for your response. Problem is I am using MetroJs and when a user changes the route, MetroJs is still attempting to process the data to show transaction on the tile. However, data is not present and it throws a timeout error can be seen in the attached screenshot. I need to make sure when route changes, metro js destroy method should be called."}], "tags": [], "owner": {"reputation": 16348, "user_id": 1287183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d77d4eb94f1394ff4da699b6f65b743?s=128&d=identicon&r=PG", "display_name": "Michael Best", "link": "https://stackoverflow.com/users/1287183/michael-best"}, "is_accepted": false, "score": 0, "last_activity_date": 1537946013, "creation_date": 1537946013, "answer_id": 52511993, "question_id": 52509048, "link": "https://stackoverflow.com/questions/52509048/unable-to-destroy-knockout-binding-metrojs-when-navigate-to-other-tabs/52511993#52511993", "title": "Unable to destroy knockout binding (MetroJS) when navigate to other tabs", "body": "<p>If you want to know when the user has switched to another tab (in general, out of the window), you can catch the <code>blur</code> event on <code>window</code>:</p>\n\n<pre><code>$(window).blur(() =&gt; console.log(\"window.blur\"));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10416028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZspW8Mkamz8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKxJkkUWpEsHl9BLuckQFsHH35GA/mo/photo.jpg?sz=128", "display_name": "Sac", "link": "https://stackoverflow.com/users/10416028/sac"}, "is_accepted": true, "score": 0, "last_activity_date": 1543287873, "creation_date": 1543287873, "answer_id": 53492130, "question_id": 52509048, "link": "https://stackoverflow.com/questions/52509048/unable-to-destroy-knockout-binding-metrojs-when-navigate-to-other-tabs/53492130#53492130", "title": "Unable to destroy knockout binding (MetroJS) when navigate to other tabs", "body": "<p>This piece of code is needed to be called inside dispose in required .ts file. So whenever user navigate, dispose method will be called and below code will ensure metrojs css will be removed.</p>\n\n<pre><code>$('.live-tile')['liveTile'](\"destroy\", true);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10416028, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZspW8Mkamz8/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUKxJkkUWpEsHl9BLuckQFsHH35GA/mo/photo.jpg?sz=128", "display_name": "Sac", "link": "https://stackoverflow.com/users/10416028/sac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 53492130, "answer_count": 2, "score": 0, "last_activity_date": 1543287873, "creation_date": 1537928449, "last_edit_date": 1538014407, "question_id": 52509048, "link": "https://stackoverflow.com/questions/52509048/unable-to-destroy-knockout-binding-metrojs-when-navigate-to-other-tabs", "title": "Unable to destroy knockout binding (MetroJS) when navigate to other tabs", "body": "<p>I am using typescript and Knockout. In my example, I can create tiles and set transactions using kendo custom editor such as fade in fade out or carousel. Based on the timer set for the tile, data will be displayed. However, when I navigate to other tabs, the timer event tries to find tile data which is no longer available, results in throwing an error. I want to ensure when navigated to other tabs, all the tiles having transaction events must be destroyed or unbind. I have tried using  ko.utils.domNodeDisposal.addDisposeCallback(element, function () but it never gets called.</p>\n\n<pre><code> init: (element: any, valueAccessor: any, allBindings: any, viewModel: any, bindingContext: any): void =&gt; {\n\n        tileState.editableTileInit(element, valueAccessor, viewModel);\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n            console.log(\"I have been called\");\n        });\n    },\n    update: (element: any, valueAccessor: any, allBindings: any, viewModel: any, bindingContext: any): void =&gt; {\n\n        tileState.editableTileUpdate(element, valueAccessor, viewModel);\n    }\n</code></pre>\n\n<p>init method will create tiles</p>\n\n<pre><code>if (viewModel.editMode() === true) LiveTiles.setupClickHandler(element, viewModel, true);\n\nvar sub = viewModel.editMode.subscribe(x =&gt; LiveTiles.setupClickHandler(element, viewModel, x));\n\nko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n    sub.dispose();\n    TileEditor.destroyEditor(element, viewModel);\n    LiveTiles.destroyTile(element, viewModel);\n});\n</code></pre>\n\n<p>update method will update the tiles if the user updates the tile at runtime. </p>\n\n<pre><code> TileEditor.destroyEditor(element, viewModel);\n    LiveTiles.createTile(element, viewModel);\n    if (LiveTiles.shouldRecreateClickHandler(viewModel) === true) {\n        LiveTiles.setupClickHandler(element, viewModel, viewModel.editMode());\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7GKsG.png\" rel=\"nofollow noreferrer\">Tile window</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wdXAu.png\" rel=\"nofollow noreferrer\">Error when navigated to other tabs</a></p>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 3776, "user_id": 2742156, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/TDxKk.jpg?s=128&g=1", "display_name": "Pratap A.K", "link": "https://stackoverflow.com/users/2742156/pratap-a-k"}, "edited": false, "score": 0, "creation_date": 1537930450, "post_id": 52509012, "comment_id": 91958646, "body": "where exactly you are getting undefined?"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1537933511, "post_id": 52509012, "comment_id": 91959329, "body": "where is btnAcoes declares and what is it holding?"}, {"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "edited": false, "score": 0, "creation_date": 1537960116, "post_id": 52509012, "comment_id": 91972122, "body": "I edited the code, it is now marked where it returns undefined."}, {"owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "edited": false, "score": 0, "creation_date": 1537960202, "post_id": 52509012, "comment_id": 91972174, "body": "btnAcoes is used in the condition to display the menu and is a Boolean in typescript"}], "owner": {"reputation": 59, "user_id": 9262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21d19a4654473692088dc13f9509c23a?s=128&d=identicon&r=PG&f=1", "display_name": "Guihenr1", "link": "https://stackoverflow.com/users/9262174/guihenr1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537960078, "creation_date": 1537928171, "last_edit_date": 1537960078, "question_id": 52509012, "link": "https://stackoverflow.com/questions/52509012/ngfor-with-index", "title": "ngFor with index", "body": "<p>I have an array that fills the information in the view with * ngFor, but for each of them I have a menu, I need to put an index on each one so that I can open the menu information corresponding to the item. I tried putting the index, however it only returns undefined.</p>\n\n<p>Page code:</p>\n\n<pre><code>&lt;div *ngFor=\"let aprovacao of lista_aprovacao; let i= index;\"&gt;\n    &lt;ion-card&gt;\n      &lt;ion-card-content&gt;\n        &lt;ion-grid&gt;\n          &lt;ion-row class=\"opcoes-card\" *ngIf=\"btnAcoes[i]\"&gt;\n            &lt;button ion-button class=\"btn-historico\"&gt;&lt;ion-icon name=\"md-paper\"&gt;&lt;/ion-icon&gt;&amp;nbsp; Hist\u00f3rico&lt;/button&gt;\n            &lt;button ion-button&gt;&lt;ion-icon name=\"md-attach\"&gt;&lt;/ion-icon&gt;&amp;nbsp; Anexo&lt;/button&gt;\n            &lt;button ion-button class=\"btn-editar\"&gt;&lt;ion-icon name=\"md-create\"&gt;&lt;/ion-icon&gt;&amp;nbsp; Editar&lt;/button&gt;\n            &lt;button ion-button color=\"danger\"&gt;&lt;ion-icon name=\"md-trash\"&gt;&lt;/ion-icon&gt;&amp;nbsp;Excluir&lt;/button&gt;\n          &lt;/ion-row&gt;\n          &lt;ion-row&gt;\n            &lt;ion-col col-2&gt;\n              &lt;ion-checkbox class=\"check-card\" [checked]=\"aprovacao.checked\"&gt;&lt;/ion-checkbox&gt;\n            &lt;/ion-col&gt;\n            &lt;ion-col col-5&gt;\n              &lt;ion-label stacked&gt;\n                &lt;ion-icon name=\"calendar\"&gt;&lt;/ion-icon&gt;&amp;nbsp; &lt;strong&gt;Data&lt;/strong&gt;\n              &lt;/ion-label&gt;\n              {{aprovacao.DataDespesa}}\n            &lt;/ion-col&gt;\n            &lt;ion-col col-4&gt;\n              &lt;ion-label stacked&gt;\n                &lt;ion-icon name=\"ios-cash-outline\"&gt;&lt;/ion-icon&gt;&amp;nbsp; &lt;strong&gt;Valor&lt;/strong&gt;\n              &lt;/ion-label&gt;R$ {{aprovacao.Valor}}\n            &lt;/ion-col&gt;\n            &lt;ion-col col-1 (click)=\"exibeMenu(i)\"&gt; \n              &lt;ion-icon name=\"md-more\" class=\"ico-more\"&gt;&lt;/ion-icon&gt;\n            &lt;/ion-col&gt;\n          &lt;/ion-row&gt;\n          &lt;ion-row&gt;\n            &lt;ion-col col-12&gt;\n              &lt;ion-label stacked&gt;\n                &lt;ion-icon name=\"md-person\"&gt;&lt;/ion-icon&gt;&amp;nbsp; &lt;strong&gt;Usu\u00e1rio&lt;/strong&gt;\n              &lt;/ion-label&gt;{{aprovacao.Usuario}}\n            &lt;/ion-col&gt;\n          &lt;/ion-row&gt;\n          &lt;ion-row&gt;\n            &lt;ion-col col-8&gt;\n              &lt;ion-label stacked&gt;\n                &lt;ion-icon name=\"ios-information-circle-outline\"&gt;&lt;/ion-icon&gt;&amp;nbsp; &lt;strong&gt;Natureza&lt;/strong&gt;\n              &lt;/ion-label&gt;{{aprovacao.Natureza}}\n            &lt;/ion-col&gt;\n          &lt;/ion-row&gt;\n        &lt;/ion-grid&gt;\n      &lt;/ion-card-content&gt;\n    &lt;/ion-card&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Function that fills the data:</p>\n\n<pre><code>listaAprovacao() {\n    this.aprovacaoProvider.listaAprovacao().then((data) =&gt; {\n      this.lista_aprovacao = data;\n    })\n  }\n</code></pre>\n\n<p>Function that hides the menu:</p>\n\n<pre><code>exibeMenu(n) { //&lt;--------- Undefined\n    if (this.btnAcoes[n] === false) {\n      this.btnAcoes[n] = true;\n    } else {\n      this.btnAcoes[n] = false;\n    }\n  }\n</code></pre>\n\n<p>HTTP Get, provider:</p>\n\n<pre><code>listaAprovacao() {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json; charset=UTF-8');\n    headers.append('Authorization', 'bearer ' + this.global.tokenGlobal);\n    let options = new RequestOptions({ headers: headers });\n    let url = 'http://10.10.10.82:8013/api/v1/administracao/aprovacao/listar/'\n      + this.global.numeroEmpresa + \"/\" + this.global.numeroFilial\n      + \"/\" + this.global.IDGlobal;\n\n    return this.http.get(url, options)\n      .toPromise()\n      .then((response) =&gt; {\n        var json_data = (response as any)._body;\n        var parsed = JSON.parse(json_data);\n\n        var arr_data = [];\n\n        for (var x in parsed) {\n          arr_data.push(parsed[x]);\n        }\n\n        return arr_data;\n      })\n      .catch((error) =&gt; {\n        var json_error = (error as any)._body;\n        var parsed = JSON.parse(json_error);\n\n        var arr = [];\n\n        for (var x in parsed) {\n          arr.push(parsed[x]);\n        }\n\n        return arr[0];\n      });\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "edited": false, "score": 0, "creation_date": 1537928296, "post_id": 52509007, "comment_id": 91958172, "body": "still returns undefined"}, {"owner": {"reputation": 3079, "user_id": 5952279, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oKmMZ6K3vVc/AAAAAAAAAAI/AAAAAAAAB4E/7jMHtIPfPcE/photo.jpg?sz=128", "display_name": "Vasyl Moskalov", "link": "https://stackoverflow.com/users/5952279/vasyl-moskalov"}, "reply_to_user": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "edited": false, "score": 1, "creation_date": 1537928644, "post_id": 52509007, "comment_id": 91958252, "body": "Looks like you need to add at <code>get(..)</code> not search but smtng like <code>let params=new HttpParams(); params.set(&quot;search&quot;,_id);</code> and replace your <code>{header:header,search:_id}</code> with <code>{header:header,params:params}</code>"}, {"owner": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "edited": false, "score": 0, "creation_date": 1537929286, "post_id": 52509007, "comment_id": 91958393, "body": "how to inerpret the value when the node.js receives it?"}, {"owner": {"reputation": 3079, "user_id": 5952279, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oKmMZ6K3vVc/AAAAAAAAAAI/AAAAAAAAB4E/7jMHtIPfPcE/photo.jpg?sz=128", "display_name": "Vasyl Moskalov", "link": "https://stackoverflow.com/users/5952279/vasyl-moskalov"}, "reply_to_user": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "edited": false, "score": 0, "creation_date": 1537932692, "post_id": 52509007, "comment_id": 91959132, "body": "As in proposed solution"}, {"owner": {"reputation": 3079, "user_id": 5952279, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oKmMZ6K3vVc/AAAAAAAAAAI/AAAAAAAAB4E/7jMHtIPfPcE/photo.jpg?sz=128", "display_name": "Vasyl Moskalov", "link": "https://stackoverflow.com/users/5952279/vasyl-moskalov"}, "reply_to_user": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "edited": false, "score": 0, "creation_date": 1537954701, "post_id": 52509007, "comment_id": 91968760, "body": "@CharlesEdwinIson Did you try to add <code>params</code> on client side as in previous comment?"}], "tags": [], "owner": {"reputation": 3079, "user_id": 5952279, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oKmMZ6K3vVc/AAAAAAAAAAI/AAAAAAAAB4E/7jMHtIPfPcE/photo.jpg?sz=128", "display_name": "Vasyl Moskalov", "link": "https://stackoverflow.com/users/5952279/vasyl-moskalov"}, "is_accepted": false, "score": 0, "last_activity_date": 1537928083, "creation_date": 1537928083, "answer_id": 52509007, "question_id": 52508968, "link": "https://stackoverflow.com/questions/52508968/i-want-to-pass-the-id-as-parameter-in-http-get-request-in-angular/52509007#52509007", "title": "I want to pass the _id as parameter in http get request in Angular", "body": "<p>Looks like you need <code>req.query.search</code> instead of <code>req.body.search</code>. From documentation</p>\n\n<blockquote>\n  <p><strong>req.query</strong></p>\n  \n  <p>query string parameter in the route. If there is no query string, it\n  is the empty object, {}.This property is an object containing a property for each</p>\n</blockquote>\n"}], "owner": {"reputation": 297, "user_id": 9901784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e05288613ff0a8f9e031af13804073a?s=128&d=identicon&r=PG&f=1", "display_name": "C.E James", "link": "https://stackoverflow.com/users/9901784/c-e-james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537928465, "creation_date": 1537927837, "last_edit_date": 1537928465, "question_id": 52508968, "link": "https://stackoverflow.com/questions/52508968/i-want-to-pass-the-id-as-parameter-in-http-get-request-in-angular", "title": "I want to pass the _id as parameter in http get request in Angular", "body": "<pre><code>  productSelect(_id){\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    return this.http.get('http://localhost:3000/api/productSelect', { headers: headers, search: _id }).pipe(map(res =&gt; res.json()));\n  }\n</code></pre>\n\n<p>index.js (node)</p>\n\n<pre><code>router.get('/productSelect', (req, res, next) =&gt;{\n    let _id = req.query.search;\n    console.log(_id);\n    productSchema.aggregate([   \n        { $lookup:\n            {\n                from: 'supplierschemas',\n                localField: 'supplierId',\n                foreignField: '_id',\n                as: 'supplier'\n            }\n        },\n        { $lookup:\n            {\n                from: 'brandschemas',\n                localField: 'brandId',\n                foreignField: '_id',\n                as: 'brand'\n            }\n        },\n        { $lookup:\n            {\n                from: 'categoryschemas',\n                localField: 'categoryId',\n                foreignField: '_id',\n                as: 'category'\n            }\n        }\n\n    ], (err, productSchema) =&gt;{\n        if(err) res.json(err);\n        else res.json(productSchema);\n    });\n});\n</code></pre>\n\n<p>this code return 'unknown'. how to fix this? and how to add pass the parameter to aggregate? i want to modify the select tags option based on the users selection</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 2151, "user_id": 8269581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab9472c4c69ebfc182fb7df8d3e29af?s=128&d=identicon&r=PG&f=1", "display_name": "vibhor1997a", "link": "https://stackoverflow.com/users/8269581/vibhor1997a"}, "edited": false, "score": 0, "creation_date": 1537930958, "post_id": 52508529, "comment_id": 91958761, "body": "<code>The problem is how can I write promise for the code below to be synchronous</code>. That&#39;d still be asynchronous with the promises."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537925197, "post_id": 52508608, "comment_id": 91957602, "body": "still it jumps to loopthroughvalue function which is not right, i dont know whats the problem with this. maybe because selectpresentweekdata is quering multiple table this is the file from my github <a href=\"https://github.com/kevinpallado/cost-return-bis/blob/master/src/pages/weekrecords/weekrecords.ts\" rel=\"nofollow noreferrer\">github.com/kevinpallado/cost-return-bis/blob/master/src/page&zwnj;&#8203;s/&hellip;</a>"}, {"owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "reply_to_user": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537927897, "post_id": 52508608, "comment_id": 91958079, "body": "It seems that your <code>selectPresentWeekData</code> method is not returning any promises."}, {"owner": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537928541, "post_id": 52508608, "comment_id": 91958225, "body": "thats the thing im trying to figure out that the function that queries database must stop on some part. I really dont have idea how to write promises since this is my first use of javascript"}, {"owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "reply_to_user": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537929670, "post_id": 52508608, "comment_id": 91958476, "body": "First, your function (<code>selectPresentWeekData</code>) should return the promise it creates (<code>this.sqlite.create</code>). Second, inside the <code>then</code> for that promise, you cannot have several promises created randomly, instead, they have to be chained, so once one is finished, then the other one is executed. Since your reusing the database object, once each inner promise is resolved, you should return the db object so that the next promise can reuse it."}, {"owner": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537930703, "post_id": 52508608, "comment_id": 91958716, "body": "can you check my repo again i updated the code, i dont really sure if the syntax is correct or i am dumb enough not to understand your answer"}], "tags": [], "owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "is_accepted": false, "score": 0, "last_activity_date": 1537927957, "last_edit_date": 1537927957, "creation_date": 1537924457, "answer_id": 52508608, "question_id": 52508529, "link": "https://stackoverflow.com/questions/52508529/how-to-write-promise-function/52508608#52508608", "title": "How to write promise function", "body": "<p>You can use async/await to solve this problem. You can make the outer function as an <code>async</code> function and then use the <code>await</code> keyword for any asynchronous calls inside that function.</p>\n\n<pre><code>async getTotalValues(){\n for(let weekrecords of this.week_records){\n   await this.selectPresentWeekData(weekrecords.weekid,weekrecords.croppingid); // asynchronous functions contains query in database\n   this.loopThroughValues(); // must get the value from the query\n   this.loopObjectAccess(); // calculates the total using the values from the query\n   this.pushDataToShow(weekrecords.weekid); // push the query data to a new object\n }\n}\n</code></pre>\n\n<p>Also, you have to make sure your <code>selectPresentWeekData</code> method is returning a promise, so <code>await</code> waits for that promise to resolve.</p>\n\n<p>You can read more about async/await in JS (and TS) here: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function</a></p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "edited": false, "score": 0, "creation_date": 1537932369, "post_id": 52509317, "comment_id": 91959049, "body": "this is the answer and also behrooz answer, it get what i want but still i get some errors. I might explore for more, thanks btw cheers!"}], "tags": [], "owner": {"reputation": 2428, "user_id": 1048342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hAO0A.jpg?s=128&g=1", "display_name": "ktilcu", "link": "https://stackoverflow.com/users/1048342/ktilcu"}, "is_accepted": true, "score": 1, "last_activity_date": 1537930803, "creation_date": 1537930803, "answer_id": 52509317, "question_id": 52508529, "link": "https://stackoverflow.com/questions/52508529/how-to-write-promise-function/52509317#52509317", "title": "How to write promise function", "body": "<p>@behrooz is right, you need to ensure you are returning a promise that resolves when all the async work is done. In your method <code>selectPresentWeekData</code> you have 3 queries. Each query returns a promise and you process the data. So you need to wait for all 3 to finish and then resolve. You can assign each of those queries to a variable. That way you are storing the promises.</p>\n\n<pre><code>const x = db.query(...).then(...).catch(...);\nconst y = db.query(...).then(...).catch(...);\nconst z = db.query(...).then(...).catch(...);\n</code></pre>\n\n<p>In this situation each one of those will execute concurrently and finish whenever. Using <code>Promise.all()</code> we can know when all 3 have finished.</p>\n\n<pre><code>return Promise.all([x, y, z]);\n</code></pre>\n\n<p>By returning the <code>Promise.all</code> you are effectively saying that you want to wait until all 3 operations are finished. Then you can use the code that @behrooz offered or if performance matters and you'd like each iteration to run concurrently:</p>\n\n<pre><code>async function getTotalValues() {\n  const presentWeekData = this.week_records.map(({ weekid, croppingid }) =&gt;\n    // for each record call your async, promise returning function\n    this.selectPresentWeekData(weekid, croppingid)\n      // when it finishes do these things\n      .then(() =&gt; this.loopThroughValues())\n      .then(() =&gt; this.loopObjectAccess())\n      .then(() =&gt; this.pushDataToShow(weekid))\n  );\n  // now return a promise that waits for all those operations to finish\n  return Promise.all(presentWeekData);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 83, "user_id": 10379651, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yi9ulD2Ta9Q/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMkMAXEnJjVnLjPm_Jz-HYlzz6wsQ/mo/photo.jpg?sz=128", "display_name": "Kevin Ren Budlao Pallado", "link": "https://stackoverflow.com/users/10379651/kevin-ren-budlao-pallado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 52509317, "answer_count": 2, "score": 1, "last_activity_date": 1537930803, "creation_date": 1537923813, "question_id": 52508529, "link": "https://stackoverflow.com/questions/52508529/how-to-write-promise-function", "title": "How to write promise function", "body": "<p>I have a function that query the database, as i know that query that the function that queries the data is asynchronous functions. The problem is how can I write promise for the code below to be synchronous where in I need to put parameters inside the query function. I partially know how promise function works but as a beginner its hard to write something like that.</p>\n\n<pre><code>getTotalValues(){\n for(let weekrecords of this.week_records){\n  this.selectPresentWeekData(weekrecords.weekid,weekrecords.croppingid); // asynchronous functions contains query in database\n  this.loopThroughValues(); // must get the value from the query \n  this.loopObjectAccess(); // calculates the total using the values from the query\n  this.pushDataToShow(weekrecords.weekid); // push the query data to a new object\n}}\n</code></pre>\n\n<p>the operation of this function is like this</p>\n\n<ul>\n<li>Query to database -> store to object -> object to be extracted -> then calculates -> the calculated values will be stored to a new object array</li>\n</ul>\n\n<p>Any suggestions will do thanks</p>\n"}, {"tags": ["angular", "typescript", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 1587, "user_id": 1053498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zHE1v.jpg?s=128&g=1", "display_name": "Greg Quinn", "link": "https://stackoverflow.com/users/1053498/greg-quinn"}, "edited": false, "score": 0, "creation_date": 1537922829, "post_id": 52508330, "comment_id": 91957152, "body": "Ok strange, I&#39;ll need to determine what&#39;s different in my source array then. There are no sub objects or anything. Thanks"}, {"owner": {"reputation": 2159, "user_id": 4848232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-57BrycnxHUA/AAAAAAAAAAI/AAAAAAAAAeY/OpAtvVAkKJA/photo.jpg?sz=128", "display_name": "Salih \u015eenol &#199;akarc\u0131", "link": "https://stackoverflow.com/users/4848232/salih-%c5%9eenol-%c3%87akarc%c4%b1"}, "reply_to_user": {"reputation": 1587, "user_id": 1053498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zHE1v.jpg?s=128&g=1", "display_name": "Greg Quinn", "link": "https://stackoverflow.com/users/1053498/greg-quinn"}, "edited": false, "score": 0, "creation_date": 1537923444, "post_id": 52508330, "comment_id": 91957255, "body": "you also do not need to use lodash you can do it simply by results.forEach((item) =&gt; item.mobileNumber = 2)"}], "tags": [], "owner": {"reputation": 2159, "user_id": 4848232, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-57BrycnxHUA/AAAAAAAAAAI/AAAAAAAAAeY/OpAtvVAkKJA/photo.jpg?sz=128", "display_name": "Salih \u015eenol &#199;akarc\u0131", "link": "https://stackoverflow.com/users/4848232/salih-%c5%9eenol-%c3%87akarc%c4%b1"}, "is_accepted": true, "score": 1, "last_activity_date": 1537922072, "creation_date": 1537922072, "answer_id": 52508330, "question_id": 52508263, "link": "https://stackoverflow.com/questions/52508263/lodash-set-not-applying-update-to-array/52508330#52508330", "title": "Lodash set not applying update to array", "body": "<p>What you have done is actually correct check here <a href=\"https://jsbin.com/fiyinahovi/edit?js,console\" rel=\"nofollow noreferrer\">https://jsbin.com/fiyinahovi/edit?js,console</a></p>\n\n<pre><code>let results = [{mobileNumber: 1}, {mobileNumber: 3}, {mobileNumber: 7}]\n_.each(results, function(item) {\n  _.set(item, 'mobileNumber', 2);\n});\n\nconsole.log(results);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1538027448, "last_edit_date": 1538027448, "creation_date": 1538016092, "answer_id": 52528618, "question_id": 52508263, "link": "https://stackoverflow.com/questions/52508263/lodash-set-not-applying-update-to-array/52528618#52528618", "title": "Lodash set not applying update to array", "body": "<p>Pardon me for asking but why the need for <code>_.set</code>? Usually you want to utilize <code>set</code> in scenarios where the property you want to change is passed as string etc. Looking at your code you have <code>mobileNumber</code> set/hardcoded inside of the <code>_.each</code> body ... or this is just for example purposes? </p>\n\n<p>Because otherwise it is more concise (and with no need for lodash) with just:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let results = [{mobileNumber: 1, foo: 2}, {mobileNumber: 3}, {mobileNumber: 7}]\r\n\r\nresults.forEach(x =&gt; x.mobileNumber = 2)\r\n\r\nconsole.log(results)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1587, "user_id": 1053498, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/zHE1v.jpg?s=128&g=1", "display_name": "Greg Quinn", "link": "https://stackoverflow.com/users/1053498/greg-quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1146, "favorite_count": 0, "accepted_answer_id": 52508330, "answer_count": 2, "score": 0, "last_activity_date": 1538027448, "creation_date": 1537921251, "last_edit_date": 1538011452, "question_id": 52508263, "link": "https://stackoverflow.com/questions/52508263/lodash-set-not-applying-update-to-array", "title": "Lodash set not applying update to array", "body": "<p>I am trying to update the 'mobileNumber' field of all elements in an array.\nI have tried the following suggestions here on StackOverflow, but none seem to update the field in the array.</p>\n\n<pre><code>_.each(results, function(item) {\n  _.set(item, 'mobileNumber', 2);\n});\n\nconst formattedResults = _.each(results, function(item) {\n  _.set(item, 'mobileNumber', 2);\n});\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT : It turns out in Typescript that even assigning my original array to a new array using let, somehow kept the new array readonly too. </p>\n\n<p>I ended up using lodash _clone, before setting the value, and then the update worked...</p>\n\n<pre><code>let formattedResults = _.map(results, _.clone);\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "edited": false, "score": 1, "creation_date": 1537937177, "post_id": 52509312, "comment_id": 91960178, "body": "i believe angular&#39;s HttpClient already parse the data in json format."}, {"owner": {"reputation": 576, "user_id": 9620606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttDjg.jpg?s=128&g=1", "display_name": "kashpatel", "link": "https://stackoverflow.com/users/9620606/kashpatel"}, "reply_to_user": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "edited": false, "score": 0, "creation_date": 1537959876, "post_id": 52509312, "comment_id": 91971977, "body": "I know that but @woody was asking how he can change Jason string into object."}], "tags": [], "owner": {"reputation": 576, "user_id": 9620606, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ttDjg.jpg?s=128&g=1", "display_name": "kashpatel", "link": "https://stackoverflow.com/users/9620606/kashpatel"}, "is_accepted": false, "score": 1, "last_activity_date": 1537930751, "creation_date": 1537930751, "answer_id": 52509312, "question_id": 52508227, "link": "https://stackoverflow.com/questions/52508227/how-can-i-sum-data-in-a-multidimensional-object-in-typescript/52509312#52509312", "title": "How can I sum data in a multidimensional object in typescript?", "body": "<p>Did you try JSON.Parse(myObject) method? That will convert your JSON object into the JS object.</p>\n"}, {"comments": [{"owner": {"reputation": 695, "user_id": 4521875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAE4o.jpg?s=128&g=1", "display_name": "Armando Perez", "link": "https://stackoverflow.com/users/4521875/armando-perez"}, "edited": false, "score": 0, "creation_date": 1538013732, "post_id": 52510233, "comment_id": 91996234, "body": "For the first example you gave, whenever you iterate an object, use this method in an if conditional inside the loop: hasOwnProperty. This method checks if the property belongs to the object. You can see more here: <a href=\"https://zellwk.com/blog/looping-through-js-objects/\" rel=\"nofollow noreferrer\">zellwk.com/blog/looping-through-js-objects</a>"}, {"owner": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "reply_to_user": {"reputation": 695, "user_id": 4521875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAE4o.jpg?s=128&g=1", "display_name": "Armando Perez", "link": "https://stackoverflow.com/users/4521875/armando-perez"}, "edited": false, "score": 1, "creation_date": 1538026726, "post_id": 52510233, "comment_id": 91999388, "body": "@ArmandoPerez: thanks for reminding me this. I&#39;m almost forgot about it."}, {"owner": {"reputation": 695, "user_id": 4521875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BAE4o.jpg?s=128&g=1", "display_name": "Armando Perez", "link": "https://stackoverflow.com/users/4521875/armando-perez"}, "edited": false, "score": 0, "creation_date": 1538041397, "post_id": 52510233, "comment_id": 92007181, "body": "Anytime pal! :)"}], "tags": [], "owner": {"reputation": 1659, "user_id": 5043190, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-1rQi8EU6mk4/AAAAAAAAAAI/AAAAAAAAAAw/LhRBahmCaak/photo.jpg?sz=128", "display_name": "Shadab Faiz", "link": "https://stackoverflow.com/users/5043190/shadab-faiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1537938032, "creation_date": 1537938032, "answer_id": 52510233, "question_id": 52508227, "link": "https://stackoverflow.com/questions/52508227/how-can-i-sum-data-in-a-multidimensional-object-in-typescript/52510233#52510233", "title": "How can I sum data in a multidimensional object in typescript?", "body": "<p>I can think of 2 different ways to solve this.\n<strong>1. Iterate over the json keys.</strong></p>\n\n<pre><code>var myObj = {\n\n  \"Record1\": {\n    \"CustomerName\": \"Obi Wan Kenobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Speeder Polish 250ml\",\n    \"QuantityPurchased\":2,\n    \"SalesTotal\":10.04\n  },\n    \"Record2\": {\n    \"CustomerName\": \"Oobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Speeder Polish 250ml\",\n    \"QuantityPurchased\":2,\n    \"SalesTotal\":10.04\n  },\n};\n\nfor (var values in myObj) {\n  console.log(myObj[values]['QuantityPurchased']);\n}\n</code></pre>\n\n<p><strong>2. Instead of sending json of Records, send array of Records</strong></p>\n\n<pre><code>var myObj: Records[] = [\n\n   {\n    \"CustomerName\": \"Obi Wan Kenobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Speeder Polish 250ml\",\n    \"QuantityPurchased\":2,\n    \"SalesTotal\":10.04\n  },\n {\n    \"CustomerName\": \"Oobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Speeder Polish 250ml\",\n    \"QuantityPurchased\":2,\n    \"SalesTotal\":10.04\n  },\n];\n\nmyObj.forEach(myRecord =&gt; {\n  // Do w/e you like.\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 1, "last_activity_date": 1538010672, "creation_date": 1538010672, "answer_id": 52528027, "question_id": 52508227, "link": "https://stackoverflow.com/questions/52508227/how-can-i-sum-data-in-a-multidimensional-object-in-typescript/52528027#52528027", "title": "How can I sum data in a multidimensional object in typescript?", "body": "<p>Based on your statement that you successfully used <code>map</code>, I'm assuming you intended <code>MyDataObject</code> to be an array instead of an object as shown in the question.  You can iterate over the keys of the first record using a for-in loop and check, for each key, whether you want a sum or <code>null</code>.</p>\n\n<pre><code>var MyDataObject = [\n  {\n    \"CustomerName\": \"Obi Wan Kenobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\": \"Speeder Polish 250ml\",\n    \"QuantityPurchased\": 2,\n    \"SalesTotal\": 10.04\n  },\n  {\n    \"CustomerName\": \"Darth Vader\",\n    \"TransactionDate\": \"2018-01-02\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\": \"Burn Cream 250ml\",\n    \"QuantityPurchased\": 200000,\n    \"SalesTotal\": 7523840.84\n  },\n  {\n    \"CustomerName\": \"Luke Skywalker\",\n    \"TransactionDate\": \"2018-01-02\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\": \"Power Converters\",\n    \"QuantityPurchased\": 5,\n    \"SalesTotal\": 1324.02\n  },\n  {\n    \"CustomerName\": \"Jabba the Hut\",\n    \"TransactionDate\": \"2019-01-05\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\": \"Dancing Slave Chick\",\n    \"QuantityPurchased\": 1,\n    \"SalesTotal\": 150000.00\n  }\n];\ntype MyRecord = typeof MyDataObject[number];\n\nvar SumColumns: Partial&lt;{ [K in keyof MyRecord]:\n  MyRecord[K] extends number ? true : never }&gt; = {\n  \"QuantityPurchased\": true,\n  \"SalesTotal\": true\n};\n\nvar Sum = &lt;{ [K in keyof MyRecord]: number | null }&gt;{};\nlet columnName: keyof MyRecord;\nfor (columnName in MyDataObject[0]) { \n  Sum[columnName] = SumColumns[columnName]\n    ? MyDataObject.map(a =&gt; &lt;number&gt;a[columnName]).reduce(function (a, b) { return a + b; })\n    : null;\n}\n</code></pre>\n"}], "owner": {"reputation": 1208, "user_id": 4374672, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E0Evb.png?s=128&g=1", "display_name": "Woody", "link": "https://stackoverflow.com/users/4374672/woody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 52528027, "answer_count": 3, "score": 0, "last_activity_date": 1538012983, "creation_date": 1537920905, "question_id": 52508227, "link": "https://stackoverflow.com/questions/52508227/how-can-i-sum-data-in-a-multidimensional-object-in-typescript", "title": "How can I sum data in a multidimensional object in typescript?", "body": "<p>I have the following code:</p>\n\n<pre><code>import { HttpClient } from \"@angular/common/http\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\n\n@Component({\n  styleUrls: [\"./styles.scss\"],\n  templateUrl: \"./template.html\"\n})\nexport class MyRouteData {\n  MyDataObject: object;\n  MyDataObjectTotals: object;\n\n  constructor(private http: HttpClient) {}\n\n  ngOnInit() {\n    this.http\n      .get(\"http://localhost:5000/MyRoute/GetMyData\")\n      .subscribe(response =&gt; {\n        console.log(response);\n        this.MyDataObject = response;\n      });\n  }\n}\n</code></pre>\n\n<p>which stores the following data in the MyDataObject object:</p>\n\n<pre><code>{\n  \"Record1\": {\n    \"CustomerName\": \"Obi Wan Kenobi\",\n    \"TransactionDate\": \"2018-01-01\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Speeder Polish 250ml\",\n    \"QuantityPurchased\":2,\n    \"SalesTotal\":10.04\n  },\n  \"Record2\": {\n    \"CustomerName\": \"Darth Vader\",\n    \"TransactionDate\": \"2018-01-02\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Burn Cream 250ml\",\n    \"QuantityPurchased\":200000,\n    \"SalesTotal\":7523840.84\n  },\n  \"Record3\": {\n    \"CustomerName\": \"Luke Skywalker\",\n    \"TransactionDate\": \"2018-01-02\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Power Converters\",\n    \"QuantityPurchased\":5,\n    \"SalesTotal\":1324.02\n  },\n  \"Record4\": {\n    \"CustomerName\": \"Jabba the Hut\",\n    \"TransactionDate\": \"2019-01-05\",\n    \"IsNewCustomer\": false,\n    \"ItemPuchased\":\"Dancing Slave Chick\",\n    \"QuantityPurchased\":1,\n    \"SalesTotal\":150000.00\n  }\n}\n</code></pre>\n\n<p>Please note that the GetMyData endpoint is running a SQL query that returns a table. I have just represented the data as JSON here so it can be viewed easily.\nThe columns the SQL query returns are CustomerName, TransactionDate, IsNewCustomer, ItemPuchased, QuantityPurchased, and SalesTotal.</p>\n\n<p>I would like to store the totals of each column (where relevant) into another object (the MyDataObjectTotals in the code above). </p>\n\n<p>I am able to total a single column with the following code:</p>\n\n<pre><code>var QuantityPurchasedColumn = MyDataObject.map(a =&gt; a.QuantityPurchased);\nvar QuantityPurchasedTotal = QuantityPurchasedColumn.reduce(function(a, b) {return a + b;});\n</code></pre>\n\n<p>Is there a generic method I can write to just give it an object (i.e MyDataObject) and it will return me an object with the following data (again, not a JSON string but an object with the CustomerName, TransactionDate, IsNewCustomer, ItemPuchased, QuantityPurchased, and SalesTotal columns):</p>\n\n<pre><code>{\n    \"CustomerName\": null,\n    \"TransactionDate\": null,\n    \"IsNewCustomer\": null,\n    \"ItemPuchased\":null,\n    \"QuantityPurchased\": 200008,\n    \"SalesTotal\": 7675174.90\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "character-encoding"], "answers": [{"tags": [], "owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "is_accepted": true, "score": 2, "last_activity_date": 1537994755, "last_edit_date": 1537994755, "creation_date": 1537994422, "answer_id": 52525749, "question_id": 52507976, "link": "https://stackoverflow.com/questions/52507976/should-i-avoid-using-non-latin-characters-in-my-code/52525749#52525749", "title": "Should I avoid using non-latin characters in my code?", "body": "<h2>Short answer</h2>\n\n<p>Yes, you should avoid using accents.</p>\n\n<h2>Long answer</h2>\n\n<p>Even if the language itself supports accents (I will refer to it as non-latin characters), it is usually good to avoid using them in code. All major browser today have Unicode support so it shouldn't be a problem for them to render code with non-latin characters, but it can be a problem when opening the files with code editors that doesn't recognize the character encoding. When that happens you might still get some problems with body text etc. but it won't break functionality.</p>\n\n<p>It can usually also a good practice to write code in English (meaning you don't have to worry about non-latin characters all together), when the syntax of the language is in English. It makes it easier in a semantic purpose to read <code>if remember_me is True</code> than mixing two languages with each other.</p>\n\n<p>If you ever plan on collaborate on projects with someone non-Brazilian/Portuguese, it might not be the case that everyone know the same language, and then English is the fallback/standard to write in. Also, if you are experienced in coding in English it won't be such a hassle to <a href=\"https://i.stack.imgur.com/D6Frn.jpg\" rel=\"nofollow noreferrer\">come up with good names</a> for classes, methods etc.</p>\n\n<h2>More reading</h2>\n\n<p>There is a some discussions and threads about this, I recommend reading from other sources:</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/113936/is-it-a-good-practice-to-code-in-english?noredirect=1&amp;lq=1\">Is it a good practice to code in English?</a> (<em>If you're only gonna read one, read this</em>)</li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/1483/do-people-in-non-english-speaking-countries-code-in-english\">Do people in non-English-speaking countries code in English?</a></li>\n<li><a href=\"https://www.quora.com/How-do-non-English-speaking-people-write-code-when-the-syntax-is-in-English-The-error-messages-are-also-in-English-How-would-they-know-what-those-mean-Some-errors-can-be-pretty-verbose\" rel=\"nofollow noreferrer\">How do non-English speaking people write code when the syntax is in\nEnglish?</a></li>\n</ul>\n\n<h2>Trivia</h2>\n\n<p>There are also <a href=\"https://en.wikipedia.org/wiki/Non-English-based_programming_languages\" rel=\"nofollow noreferrer\">Non-English based programming languages</a> as well, even though if they aren't as widely used. Some examples in Portuguese are:</p>\n\n<ul>\n<li><a href=\"https://potigol.github.io/\" rel=\"nofollow noreferrer\">potigol</a> - A functional programming language in Portuguese for beginners.</li>\n<li><a href=\"http://www.apoioinformatica.inf.br/produtos/visualg\" rel=\"nofollow noreferrer\">visualg</a> - A language designed to teach programming, in Portuguese, based in Pascal.</li>\n</ul>\n"}], "owner": {"reputation": 157, "user_id": 2170299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605bbc45755e47ceab3cc7c2e9f4de2c?s=128&d=identicon&r=PG", "display_name": "Rodrigo Mello", "link": "https://stackoverflow.com/users/2170299/rodrigo-mello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 1, "closed_date": 1538051116, "accepted_answer_id": 52525749, "answer_count": 1, "score": 2, "last_activity_date": 1538012500, "creation_date": 1537918778, "last_edit_date": 1538012500, "question_id": 52507976, "link": "https://stackoverflow.com/questions/52507976/should-i-avoid-using-non-latin-characters-in-my-code", "closed_reason": "Opinion-based", "title": "Should I avoid using non-latin characters in my code?", "body": "<p>I am Brazilian, I speak Portuguese, and in Portuguese there are many words with accents, there is a legacy in Brazil to avoid accents in programming, precisely because in the past accents gave much problems.</p>\n\n<p>I'm a front end programmer, I tend to accentuate each word properly for a clearer reading of methods and variables.</p>\n\n<p>I know that JavaScript, TypeScript and even CSS support accents (I know they support because browsers interpret the accented words I use). My question is if this would be considered bad practice. If in case I made an international web application, other countries could access my system normally or if the accents could break the application or not.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1537916944, "post_id": 52507725, "comment_id": 91955923, "body": "<code>window.location.reload();</code>"}, {"owner": {"reputation": 2067, "user_id": 8677015, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/2001690390075352/picture?type=large", "display_name": "ferhado", "link": "https://stackoverflow.com/users/8677015/ferhado"}, "edited": false, "score": 0, "creation_date": 1537917179, "post_id": 52507725, "comment_id": 91955977, "body": "<a href=\"https://stackoverflow.com/questions/40983055/how-to-reload-the-current-route-with-the-angular-2-router\">Here are some solutions to reload the current route:</a>"}], "answers": [{"comments": [{"owner": {"reputation": 16371, "user_id": 479251, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9870fa7c3f578b33976c7a770cbff4b2?s=128&d=identicon&r=PG", "display_name": "Pac0", "link": "https://stackoverflow.com/users/479251/pac0"}, "edited": false, "score": 0, "creation_date": 1537922035, "post_id": 52508296, "comment_id": 91957012, "body": "interesting answer. By the way, I just removed the &quot;Snippet&quot; markdown, because Angular is not executable as a snippet in Stack Overflow. To create an executable example, you can consider copying your code in a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">Stackblitz</a>"}], "tags": [], "owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "is_accepted": true, "score": 4, "last_activity_date": 1537921929, "last_edit_date": 1537921929, "creation_date": 1537921660, "answer_id": 52508296, "question_id": 52507725, "link": "https://stackoverflow.com/questions/52507725/navigating-to-the-current-route-in-angular-2/52508296#52508296", "title": "Navigating to the current route in Angular 2?", "body": "<p>You can use the <code>onSameUrlNavigation</code> from Angular router:</p>\n\n<pre><code>@ngModule({\n   imports: [RouterModule.forRoot(routes, {onSameUrlNavigation: \u2018reload\u2019})],\n   exports: [RouterModule],\n})\n</code></pre>\n\n<p>And then use the <code>runGuardsAndResolvers</code> on your route and set it to always:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export const routes: Routes = [\n {\n   path: 'my-path',\n   component: MyComponent,\n   children: [\n     {\n       path: '',\n       loadChildren: './pages/my-path/mycomponent.module#MyComponentModule',\n     },\n   ],\n   canActivate: [AuthenticationGuard],\n   runGuardsAndResolvers: 'always',\n }\n]\n</code></pre>\n\n<p>With these two changes your router is configured. Now you need to hook into <code>NavigationEnd</code> in your component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class MyComponent implements OnInit, OnDestroy{\n // ... your class variables here\n navigationSubscription;\n constructor(\n   // \u2026 your declarations here\n   private router: Router,\n  ) {\n   // subscribe to the router events - storing the subscription so\n   // we can unsubscribe later. \n   this.navigationSubscription = this.router.events.subscribe((e: any) =&gt; {\n     // If it is a NavigationEnd event re-initalise the component\n     if (e instanceof NavigationEnd) {\n       this.initialiseMyComponent();\n     }\n   });\n }\n\n initialiseMyComponent() {\n   // Set default values and re-fetch any data you need.\n }\n ngOnDestroy() {\n    // avoid memory leaks here by cleaning up after ourselves. If we  \n    // don't then we will continue to run our initialiseInvites()   \n    // method on every navigationEnd event.\n    if (this.navigationSubscription) {  \n       this.navigationSubscription.unsubscribe();\n    }\n  }\n}\n</code></pre>\n\n<p>And there you go, you have reload ability now. Hope this helps. Unfortunately docs are not very clear on these.</p>\n"}], "owner": {"reputation": 1079, "user_id": 1974753, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/9b87a8fc0bc7ec3c0c51f73a08d81481?s=128&d=identicon&r=PG", "display_name": "user1974753", "link": "https://stackoverflow.com/users/1974753/user1974753"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 0, "accepted_answer_id": 52508296, "answer_count": 1, "score": 3, "last_activity_date": 1537921929, "creation_date": 1537916664, "question_id": 52507725, "link": "https://stackoverflow.com/questions/52507725/navigating-to-the-current-route-in-angular-2", "title": "Navigating to the current route in Angular 2?", "body": "<p>I am trying to reload the current page in Angular.</p>\n\n<p>So when I reload the page, my root component is called and this line is executed:</p>\n\n<pre><code>console.log(this.router.routerState.snapshot.url)\n</code></pre>\n\n<p>which prints \"/component-x\"</p>\n\n<p>and then I execute this line of code:</p>\n\n<pre><code>this.router.navigate(['/component-x]')\n</code></pre>\n\n<p>And it does not work and I am logged out of my application.</p>\n\n<p>Is navigating to the current route in Angular supported?\nAnd how else can I achieve reloading the current page?</p>\n\n<p>Note my application is being hosted on Cloudfront on AWS, and I have rule set up that returns index.html when there is 404 error (i.e. when a page refresh occurs), and I have followed this guide around reloading the current route in Angular: <a href=\"https://medium.com/engineering-on-the-incline/reloading-current-route-on-click-angular-5-1a1bfc740ab2\" rel=\"nofollow noreferrer\">https://medium.com/engineering-on-the-incline/reloading-current-route-on-click-angular-5-1a1bfc740ab2</a></p>\n\n<p>But it is still not working. Can somebody please point out what I am missing?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["angular", "string", "typescript", "concat"], "comments": [{"owner": {"reputation": 1054, "user_id": 6121909, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209834475727135/picture?type=large", "display_name": "Tripp Cannella", "link": "https://stackoverflow.com/users/6121909/tripp-cannella"}, "edited": false, "score": 0, "creation_date": 1537915219, "post_id": 52507521, "comment_id": 91955519, "body": "What does it do? Any error messages?"}], "answers": [{"tags": [], "owner": {"reputation": 114, "user_id": 9339712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f36a603ca64f59f2d3acbb5a0a30bd?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej21592", "link": "https://stackoverflow.com/users/9339712/maciej21592"}, "is_accepted": false, "score": 0, "last_activity_date": 1537915248, "creation_date": 1537915248, "answer_id": 52507567, "question_id": 52507521, "link": "https://stackoverflow.com/questions/52507521/typescript-concat-string-to-draw-html/52507567#52507567", "title": "Typescript concat string to draw Html", "body": "<p>If you want to render HTML in your component you are expected to use <code>[innerHTML]=\"htmlhistory\"</code> not <code>{{}}</code> syntax.</p>\n\n<p>Here is a quick <a href=\"https://stackblitz.com/edit/angular-jnsyct?file=src%2Fapp%2Fhello.component.ts\" rel=\"nofollow noreferrer\">example</a>, in case you needed it.</p>\n"}, {"tags": [], "owner": {"reputation": 492, "user_id": 10408246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPBqm.jpg?s=128&g=1", "display_name": "Vash72", "link": "https://stackoverflow.com/users/10408246/vash72"}, "is_accepted": true, "score": 1, "last_activity_date": 1537915502, "creation_date": 1537915502, "answer_id": 52507591, "question_id": 52507521, "link": "https://stackoverflow.com/questions/52507521/typescript-concat-string-to-draw-html/52507591#52507591", "title": "Typescript concat string to draw Html", "body": "<p>Instead of </p>\n\n<pre><code>&lt;div&gt;\n  {{ this.htmlhistory }}\n&lt;/div&gt;\n</code></pre>\n\n<p>Use this</p>\n\n<pre><code>&lt;div [innerHTML]=\"htmlhistory\"&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 52507591, "answer_count": 2, "score": 0, "last_activity_date": 1537915502, "creation_date": 1537914968, "question_id": 52507521, "link": "https://stackoverflow.com/questions/52507521/typescript-concat-string-to-draw-html", "title": "Typescript concat string to draw Html", "body": "<p>In Angular2 v4 I have an array with multiple items. For example:</p>\n\n<pre><code>const array = ['1', '2', '3'];\narray.forEach(h =&gt; {\n  this.htmlhistory.concat('hello &lt;br&gt;');\n});\n</code></pre>\n\n<p>the <code>htmlhistory</code> item is a string</p>\n\n<p>and in my html component I have this:</p>\n\n<pre><code>&lt;div&gt;\n  {{ this.htmlhistory }}\n&lt;/div&gt;\n</code></pre>\n\n<p>So the result have to be:</p>\n\n<pre><code>&lt;div&gt;\n  hello &lt;br&gt;\n  hello &lt;br&gt;\n  hello &lt;br&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>BUT this doesn't works... What I'm doing wrong?\nIs there anothes solution without using <code>*ngFor</code>?</p>\n\n<p>I need a solution in the component.ts file ... not in the html file</p>\n\n<p>Please help</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911300, "post_id": 52506960, "comment_id": 91954441, "body": "private??? from my understanding JavaScript doesnt have any private keywords.  <a href=\"https://www.sitepoint.com/javascript-private-class-fields/\" rel=\"nofollow noreferrer\">sitepoint.com/javascript-private-class-fields</a>"}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 1, "creation_date": 1537911363, "post_id": 52506960, "comment_id": 91954462, "body": "I added typescript support"}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911442, "post_id": 52506960, "comment_id": 91954493, "body": "Oh that makes sense. Editing tags"}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911540, "post_id": 52506960, "comment_id": 91954527, "body": "thanks, I should have added typescript tag, but I do not think this behavior is causing by typescript"}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911599, "post_id": 52506960, "comment_id": 91954544, "body": "Just for readability. Not a lot of people can recognize type script."}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911643, "post_id": 52506960, "comment_id": 91954559, "body": "Can you show some pictures? That would be helpful."}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537911949, "post_id": 52506960, "comment_id": 91954657, "body": "@Demon added screenshot"}, {"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 1, "creation_date": 1537911980, "post_id": 52506960, "comment_id": 91954667, "body": "Alright I think the problem is that you are not binding the the button to the event handler."}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537912081, "post_id": 52506960, "comment_id": 91954697, "body": "@Demon, that I know how to fix it. My question is, what is happening with the <code>onClick</code> eventHandler, why is it losing the <code>this</code> context?"}], "answers": [{"comments": [{"owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537912513, "post_id": 52507176, "comment_id": 91954833, "body": "He already knows how to fix the problem. He just wanted to know why we have to bind <code>this</code> to object."}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "reply_to_user": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "edited": false, "score": 0, "creation_date": 1537912591, "post_id": 52507176, "comment_id": 91954854, "body": "@Demon as i said, because it&#39;s an asynchronous callback that&#39;s called from a global context. What is it you would like me to add to my answer?"}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "edited": false, "score": 0, "creation_date": 1537912811, "post_id": 52507176, "comment_id": 91954915, "body": "@NicholasTower, yes that is all I needed to know for now. Thanks for that. I was not aware of the information."}, {"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "reply_to_user": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "edited": false, "score": 0, "creation_date": 1537913774, "post_id": 52507176, "comment_id": 91955159, "body": "@ParnabSanyal, then consider accepting this answer."}, {"owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "reply_to_user": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 0, "creation_date": 1537914042, "post_id": 52507176, "comment_id": 91955219, "body": "Yes I will @devserkan"}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 6, "last_activity_date": 1537912425, "creation_date": 1537912425, "answer_id": 52507176, "question_id": 52506960, "link": "https://stackoverflow.com/questions/52506960/can-not-understand-context-of-this-in-the-code-example/52507176#52507176", "title": "Can not understand context of this in the code example", "body": "<p>An onclick event is asynchronous. When the callback is called, it's called from a global context, so <code>this</code> is set to the <code>window</code> object in non-strict mode, or undefined in strict mode.</p>\n\n<p>To fix this, either create an arrow function in the render method (arrow functions take their value of <code>this</code> from the context in which they are defined), and pass that in to the button:</p>\n\n<pre><code>&lt;button onClick={event =&gt; this.sayMyName(event)}&gt;Say My Name&lt;/button&gt;\n</code></pre>\n\n<p>Or create a bound version of sayMyName</p>\n\n<pre><code>constructor(props: any) {\n    super(props);\n    this.name = 'heisenberg';\n    this.sayMyName = this.sayMyName.bind(this);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 770, "user_id": 7729493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b6079be01437a0ec3ae804742fbf983?s=128&d=identicon&r=PG&f=1", "display_name": "Demon", "link": "https://stackoverflow.com/users/7729493/demon"}, "is_accepted": false, "score": 2, "last_activity_date": 1537912434, "creation_date": 1537912434, "answer_id": 52507177, "question_id": 52506960, "link": "https://stackoverflow.com/questions/52506960/can-not-understand-context-of-this-in-the-code-example/52507177#52507177", "title": "Can not understand context of this in the code example", "body": "<p><a href=\"https://medium.freecodecamp.org/this-is-why-we-need-to-bind-event-handlers-in-class-components-in-react-f7ea1a6f93eb\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/this-is-why-we-need-to-bind-event-handlers-in-class-components-in-react-f7ea1a6f93eb</a></p>\n\n<p>This person does a good article on your question. Basically, he's saying you can blame how JavaScript is like that. </p>\n\n<p>In short, <code>this</code> context isnt lost... it more or less pointing to the global object</p>\n"}], "owner": {"reputation": 644, "user_id": 5744883, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e17219364956c469a3a4c1dfa469d35?s=128&d=identicon&r=PG&f=1", "display_name": "Parnab Sanyal", "link": "https://stackoverflow.com/users/5744883/parnab-sanyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 52507176, "answer_count": 2, "score": 2, "last_activity_date": 1537912434, "creation_date": 1537911011, "last_edit_date": 1537912244, "question_id": 52506960, "link": "https://stackoverflow.com/questions/52506960/can-not-understand-context-of-this-in-the-code-example", "title": "Can not understand context of this in the code example", "body": "<p>In the below code snippet I am unclear on how <strong>this</strong> is being managed by React.</p>\n\n<pre><code>class Main extends React.Component {\n    private name: string\n\n    constructor(props: any) {\n        super(props)\n        this.name = 'heisenberg'\n    }\n    render() {\n        return (\n            &lt;div&gt;\n                {this.sayMyName()}\n                &lt;button onClick={this.sayMyName}&gt;Say My Name&lt;/button&gt;\n            &lt;/div&gt;\n        )\n    }\n    sayMyName(): string {\n        return this.name\n    }\n}\n</code></pre>\n\n<p>It is first printing <code>heisenberg</code> in the page and when I am clicking the button it saying <code>this</code> is <code>undefined</code>, which is clear to me, that <code>React</code> does not automatically bind <code>this</code> to all the methods.</p>\n\n<p>So, how exactly the context is getting changed once I am invoking the <code>sayMyName</code> method from directly inside <code>{}</code> and then from button click.</p>\n\n<p>Adding screenshot</p>\n\n<p>Before Button Click\n<a href=\"https://i.stack.imgur.com/2mWm6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2mWm6.png\" alt=\"enter image description here\"></a></p>\n\n<p>After Button Click\n<a href=\"https://i.stack.imgur.com/kjcQQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kjcQQ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "typescript", "indexof", "keyof"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1537908639, "post_id": 52506475, "comment_id": 91953392, "body": "If <code>c</code> is an  <code>ILPAsset</code> why is declared as a <code>string</code> ?"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537908759, "post_id": 52506475, "comment_id": 91953446, "body": "@TitianCernicova-Dragomir you are right, I&#39;ve reversed the keys, but error is still the same :( <code>(k: string, c: keyof ILPAsset)</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537908834, "post_id": 52506475, "comment_id": 91953479, "body": "How about <code>(k: keyof ILPAsset, c: ILPAsset)</code> is what I expect it should be based on how you are using it. <code>k</code> is used as a key to <code>c</code>. and you say <code>k</code> needs to be a key of <code>ILPAsset</code> so if <code>k</code> is a key of <code>ILPAsset</code> and <code>k</code> is used as a key to <code>c</code>, therefore <code>c</code> should be <code>ILPAsset</code>"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537908924, "post_id": 52506475, "comment_id": 91953513, "body": "@TitianCernicova-Dragomir ah so yeah that removed the error under the <code>k</code>, however I&#39;m getting an error on the <code>.toLowerCase()</code> now because it still thinks I&#39;m trying to do that on a <code>number</code>."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537908962, "post_id": 52506475, "comment_id": 91953536, "body": "Well .. that is a different issue... what is the definition of <code>ILPAsset</code> ?"}, {"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1537909066, "post_id": 52506475, "comment_id": 91953578, "body": "You are right, want to post your answer? And I&#39;ll create a new question, btw I added the interface above for ILPAsset."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1537909192, "post_id": 52506475, "comment_id": 91953628, "body": "I don&#39;t think you need another question, I&#39;ll answer shortly and we&#39;ll take it from there :)"}], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1537910120, "post_id": 52506747, "comment_id": 91954006, "body": "Whoa that is sexy! Didn&#39;t even know of a type of <code>never</code>... and I have to slowly read that type to see what is going on hehe. And you are right, I should just use <code>c.symbol</code>."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 1, "creation_date": 1537910421, "post_id": 52506747, "comment_id": 91954118, "body": "@LeonGaban conditional type magic :) <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/advanced-types.html</a>"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1537909814, "creation_date": 1537909814, "answer_id": 52506747, "question_id": 52506475, "link": "https://stackoverflow.com/questions/52506475/how-to-change-type-of-index-expression-ie-ck/52506747#52506747", "title": "How to change type of index expression? ie: c[k]", "body": "<p>The problem is caused because you are using <code>k</code> as the key to <code>c</code>. Since you mention you expect <code>k</code> to be a <code>keyof ILPAsset</code> that would mean <code>c</code> should be <code>ILPAsset</code>. So the signature should be:</p>\n\n<pre><code>const checkText = (k: keyof ILPAsset, c: ILPAsset) =&gt; (textMatch(txt, c[k].toLowerCase()) ? c : null);\n</code></pre>\n\n<p>The left over problem is that now the index access <code>c[k]</code> will not be of type <code>string</code> since <code>ILPAsset</code> contains both <code>number</code> and <code>string</code> keys.</p>\n\n<p>We have two solutions for this.</p>\n\n<p>We could check if <code>c[k]</code> is a <code>string</code> and if it not return <code>null</code>:</p>\n\n<pre><code>const checkText = (k: keyof ILPAsset, c: ILPAsset)  =&gt; {\n  const v = c[k];\n\n  return typeof v === 'string' ? (textMatch(txt, v.toLowerCase()) ? c : null): null;\n} \n</code></pre>\n\n<p>We could also filter the keys so <code>k</code> can only be a key taht would be a <code>string</code></p>\n\n<pre><code>type StringKeys&lt;T&gt; = { [P in keyof T] : T[P] extends string ? P: never}[keyof T]\nconst checkText = (k: StringKeys&lt;ILPAsset&gt;, c: ILPAsset)  =&gt; (textMatch(txt, c[k].toLowerCase()) ? c : null);\n</code></pre>\n\n<p><strong>Note</strong>: The only <code>string</code> key of <code>ILPAsset</code> is <code>symbol</code> so perhaps you should evaluate the need for the <code>k</code> parameter at all. Why not just access <code>c.symbol</code>?</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 52506747, "answer_count": 1, "score": 0, "last_activity_date": 1538054972, "creation_date": 1537908489, "last_edit_date": 1538054972, "question_id": 52506475, "link": "https://stackoverflow.com/questions/52506475/how-to-change-type-of-index-expression-ie-ck", "title": "How to change type of index expression? ie: c[k]", "body": "<p><strong>My Code</strong></p>\n\n<pre><code>import * as R from 'ramda';\n\nimport { ILPAsset } from 'shared/types/models';\n\ninterface TextMatchFunction {\n  (part: string, typed: string): boolean;\n}\n\nconst textMatch: TextMatchFunction = (part: string, typed: string) =&gt; typed.search(part) !== -1;\n\nexport const filterAssets = (txt: string, assets: ILPAsset[]): ILPAsset[] =&gt; {\n  const checkText = (k: string, c: keyof ILPAsset) =&gt; (textMatch(txt, c[k].toLowerCase()) ? c : null);\n  const curriedCheckText = R.curry(checkText);\n  // @ts-ignore\n  const bySymbol = R.map(curriedCheckText('symbol'), assets);\n  return R.reject(R.isNil, bySymbol);\n};\n</code></pre>\n\n<p><strong>IPAsset's interface</strong></p>\n\n<pre><code>export interface ILPAsset {\n  symbol: string;\n  lastPayout: number;\n  historical: number;\n}\n</code></pre>\n\n<hr>\n\n<p>Problem is on this line:</p>\n\n<pre><code>const checkText = (k: string, c: keyof ILPAsset) =&gt; (textMatch(txt, c[k].toLowerCase()) ? c : null);\n</code></pre>\n\n<p>Typescript expects k to be a number <code>c[k]</code>, when it's in fact a key for an object in ILPAsset, which is string that in my case will be <code>symbol</code>.</p>\n\n<p>How would this be handled in Typescript?</p>\n\n<h2>UPDATE</h2>\n\n<p>A much simpler approach to do this btw, however I got a great answer for future issues in regards to key checking :D</p>\n\n<pre><code>export const filterAssets = (typed: string, assets: ILPAsset[]): ILPAsset[] =&gt; {\n  const checkSymbol = (asset: ILPAsset) =&gt; \n    asset.symbol.includes(typed.toUpperCase());\n  return R.filter(checkSymbol, assets);\n};\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "npm", "stackblitz"], "answers": [{"tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": true, "score": 1, "last_activity_date": 1537908191, "creation_date": 1537908191, "answer_id": 52506407, "question_id": 52506324, "link": "https://stackoverflow.com/questions/52506324/resolving-exports-from-of-index-ts-published-to-npm/52506407#52506407", "title": "Resolving exports from of index.ts published to NPM?", "body": "<p>When you import a folder like you are doing with:</p>\n\n<pre><code>import {OStore} from '@fireflysemantics/slice/';\n</code></pre>\n\n<p>It will try to import the index.ts file in that folder. Hence, the error if its not a module or it does not exist.</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 52506407, "answer_count": 1, "score": 0, "last_activity_date": 1537911692, "creation_date": 1537907820, "last_edit_date": 1537911692, "question_id": 52506324, "link": "https://stackoverflow.com/questions/52506324/resolving-exports-from-of-index-ts-published-to-npm", "title": "Resolving exports from of index.ts published to NPM?", "body": "<p>I have <a href=\"https://github.com/fireflysemantics/slice\" rel=\"nofollow noreferrer\">this package</a> with an  index.ts file.  </p>\n\n<p>The corresponding <code>index.d.ts</code> file that is installed under <code>node_modules/@fireflysemantics/slice</code> looks like this:</p>\n\n<pre><code>export { EStore } from './EStore';\nexport { Slice } from './Slice';\nexport { OStore } from './OStore';\nexport * from './types';\n</code></pre>\n\n<p>The corresponding <code>index.js</code> looks like this:</p>\n\n<pre><code>\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EStore_1 = require(\"./EStore\");\nexports.EStore = EStore_1.EStore;\nvar Slice_1 = require(\"./Slice\");\nexports.Slice = Slice_1.Slice;\nvar OStore_1 = require(\"./OStore\");\nexports.OStore = OStore_1.OStore;\n__export(require(\"./types\"));\n//# sourceMappingURL=index.js.map\n</code></pre>\n\n<p>When I try to import the <code>OStore</code> using Stackblitz it will not resolve as a root import.  For example this work:</p>\n\n<pre><code>import {OStore} from '@fireflysemantics/slice/OStore';\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>import {OStore} from '@fireflysemantics/slice/';\n</code></pre>\n\n<p>Here's a stackblitz link in case that's helpful:</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-vj1vpa\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/typescript-vj1vpa</a></p>\n\n<p>The stackblitz error is:</p>\n\n<blockquote>\n  <p>Can't find module:\n  @fireflysemantics/slice/index.ts (@6.4.2)  Check your import statements &amp; ensure you're importing the correct module names.</p>\n</blockquote>\n\n<p>Should <code>index.ts</code> be copied to the distribution folder before installing to NPM?</p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 106, "user_id": 7007444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cRcHj.png?s=128&g=1", "display_name": "Dioux", "link": "https://stackoverflow.com/users/7007444/dioux"}, "edited": false, "score": 0, "creation_date": 1537906832, "post_id": 52506013, "comment_id": 91952659, "body": "You should assign the data to one of your component property --&gt; this.yourVarName = data"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 7411804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d06268a4276e54068d77276ae129c8?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bentson", "link": "https://stackoverflow.com/users/7411804/cody-bentson"}, "edited": false, "score": 0, "creation_date": 1538423334, "post_id": 52506133, "comment_id": 92130451, "body": "This is awesome, thank you. This is exactly the type of answer I was looking for. I knew my code was hacky and incorrect. Your solution makes perfect sense."}], "tags": [], "owner": {"reputation": 8791, "user_id": 7247920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bAqar.jpg?s=128&g=1", "display_name": "ggradnig", "link": "https://stackoverflow.com/users/7247920/ggradnig"}, "is_accepted": true, "score": 3, "last_activity_date": 1537907348, "last_edit_date": 1537907348, "creation_date": 1537906993, "answer_id": 52506133, "question_id": 52506013, "link": "https://stackoverflow.com/questions/52506013/what-is-the-proper-way-to-return-from-within-an-angular-subscription/52506133#52506133", "title": "What is the proper way to return from within an angular subscription?", "body": "<p>Actually, your code is kind of broken and this is not only about good programming practices. </p>\n\n<p>You are using an Observable, that makes your code <strong>asynchronous</strong>. Once your code is asynchronous, it will never become synchronous again and you have to use asynchronous types until the very last consumer of your function. In an Angular application this is usually a Component or Directive.</p>\n\n<p>This is a core concept of JavaScript and is most prominently applied with <strong>Observables</strong>, <strong>Promises</strong> and <strong>Callback Functions</strong>. It is vital to understand how asynchronous code execution and the JavaScript event loop works in order to work with this programming language.</p>\n\n<p>As for your code example, you need to change the return type of your function to <code>Observable&lt;string&gt;</code> and pass the observable on to your component class where you can assign it to a property and let Angular handle the rest.</p>\n\n<p>It looks like this:</p>\n\n<pre><code>private openModal() : Observable&lt;string&gt; {\n\n    // some setup code\n\n    return this.dialog.open(MyModalComponent, configModal)\n        .afterClosed();\n}\n</code></pre>\n\n<p>Then in your component...</p>\n\n<pre><code>private data: string;\n\nclickSomeButton()  {\n    this.openModal().subscribe(data =&gt; this.data = data);\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7411804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15d06268a4276e54068d77276ae129c8?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bentson", "link": "https://stackoverflow.com/users/7411804/cody-bentson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2180, "favorite_count": 0, "accepted_answer_id": 52506133, "answer_count": 1, "score": 0, "last_activity_date": 1537907348, "creation_date": 1537906406, "question_id": 52506013, "link": "https://stackoverflow.com/questions/52506013/what-is-the-proper-way-to-return-from-within-an-angular-subscription", "title": "What is the proper way to return from within an angular subscription?", "body": "<p><strong>Disclaimer:</strong> This is a \"good programming practices\" question rather than a \"fix my broken code\" question. </p>\n\n<p><strong>Environment</strong></p>\n\n<p>Angular 5.2.9, Angular Material 5.2.4, Typescript 2.4.2, Rxjs 5.5.8</p>\n\n<p><strong>Issue</strong></p>\n\n<p>I am using the mat-dialog component of the angular material library, and subscribing to the observable returned from afterClosed(). Inside of that subscription I have a simple if statement. If value is returned, return value, otherwise return null. My tslint is throwing a fit about returning from inside the async subscription. The exact error is, <em>\"TS2355: A function whose declared type is neither 'void' nor 'any' must return a value.\"</em></p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>private openModal() : string {\n\n    // some setup code\n\n    this.dialog.open(MyModalComponent, configModal)\n        .afterClosed()\n        .subscribe(( data : string ) =&gt; {\n            if ( data ) {\n                return data;\n            } else {\n                return null;\n            }\n        });\n\n    // cant put return here,  this will execute before modal returns data\n\n}\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>I want to specify a return type 'string' to my function, but that means I need to do the actual return from within the synchronous function openModal(), and not the async code inside the subscription. I am open to all suggestions on how to improve this code. Thanks!</p>\n"}, {"tags": ["javascript", "typescript", "rxjs", "angular6", "angular2-observables"], "comments": [{"owner": {"reputation": 5942, "user_id": 757391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e9ceced45a5080f99c783ef93a8229f?s=128&d=identicon&r=PG", "display_name": "Ludevik", "link": "https://stackoverflow.com/users/757391/ludevik"}, "edited": false, "score": 0, "creation_date": 1537908970, "post_id": 52505967, "comment_id": 91953543, "body": "can you add the source for the service functions?"}, {"owner": {"reputation": 39, "user_id": 10221441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2acd67826a5af5aa13867818741f91a?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/10221441/rocky"}, "reply_to_user": {"reputation": 5942, "user_id": 757391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e9ceced45a5080f99c783ef93a8229f?s=128&d=identicon&r=PG", "display_name": "Ludevik", "link": "https://stackoverflow.com/users/757391/ludevik"}, "edited": false, "score": 0, "creation_date": 1537909334, "post_id": 52505967, "comment_id": 91953687, "body": "Added. Thanks !!"}], "answers": [{"tags": [], "owner": {"reputation": 5942, "user_id": 757391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e9ceced45a5080f99c783ef93a8229f?s=128&d=identicon&r=PG", "display_name": "Ludevik", "link": "https://stackoverflow.com/users/757391/ludevik"}, "is_accepted": true, "score": 0, "last_activity_date": 1537909913, "creation_date": 1537909913, "answer_id": 52506768, "question_id": 52505967, "link": "https://stackoverflow.com/questions/52505967/how-to-retain-the-original-response-from-the-observable-in-angular-6/52506768#52506768", "title": "How to retain the original response from the observable in Angular 6?", "body": "<p>In <code>getFilteredEntryByProv</code> you are modifying the response itself. <code>provObj.data = _.filter</code> modifies the <code>res.fields.data</code>.</p>\n\n<p>You should just return filtered data from your function and leave original request as it is:</p>\n\n<pre><code>public getFilteredEntryByProv = (res, prov: string) =&gt; {\n    return _.filter(res.fields.data, obj =&gt; _.includes(obj.prov, prov));\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10221441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2acd67826a5af5aa13867818741f91a?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky", "link": "https://stackoverflow.com/users/10221441/rocky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 52506768, "answer_count": 1, "score": 0, "last_activity_date": 1537929598, "creation_date": 1537906176, "last_edit_date": 1537929598, "question_id": 52505967, "link": "https://stackoverflow.com/questions/52505967/how-to-retain-the-original-response-from-the-observable-in-angular-6", "title": "How to retain the original response from the observable in Angular 6?", "body": "<p>I am subscribing to an observable to get the response from an external API. Then I perform another filtering function on it. But when I do so, it also filters the original response. I want to preserve the original response and also get the new filtered response. When I subscribe without implementing the getFilteredEntryByProv function, I get the full response in my 'Header Entries' console log. Once I had the filter function, the 'Header Entries; console log also gets updated.....Any suggestions?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>this.subscription = this.contentfulService.getContentfulEntry(this.headerEntryId, {locale: this.lang.toLowerCase()})\r\n      .subscribe(res =&gt; {\r\n      console.log('Header Entries:: ', res);\r\n      this.filteredHeader = this.contentfulService.getFilteredEntryByProv(res, this.prov);\r\n      console.log('Filtered Header:: ', this.filteredHeader);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 59385, "user_id": 2630078, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UHzHh.png?s=128&g=1", "display_name": "Kirk Larkin", "link": "https://stackoverflow.com/users/2630078/kirk-larkin"}, "edited": false, "score": 1, "creation_date": 1537904806, "post_id": 52505665, "comment_id": 91951889, "body": "Just create an Angular service that caches the calls and talk to that from both components."}, {"owner": {"reputation": 325, "user_id": 8174439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfdb8ecf0918a322fd3ae67aa33c773a?s=128&d=identicon&r=PG&f=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/8174439/rod"}, "edited": false, "score": 0, "creation_date": 1537930223, "post_id": 52505665, "comment_id": 91958593, "body": "The official angular docs has a decent page on the topic of <a href=\"https://angular.io/guide/component-interaction#component-interaction\" rel=\"nofollow noreferrer\">Component Interaction</a>. It goes over several different ways to approach this problem."}], "answers": [{"tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 0, "last_activity_date": 1537907190, "last_edit_date": 1537907190, "creation_date": 1537905477, "answer_id": 52505829, "question_id": 52505665, "link": "https://stackoverflow.com/questions/52505665/how-to-pass-data-from-one-component-to-another-component-in-angular-2/52505829#52505829", "title": "how to pass data from one component to another component in angular 2?", "body": "<p>Yes, the best way and most professional way is to use a global store solution such as ngrx.</p>\n\n<p>ngrx is industry standard and is used to store data that is global to the app.</p>\n\n<p>It makes caching data real easy. I recommend the tutorials on Udemy but they are not free.</p>\n\n<p>Alternatively, if you just want to do a quick cowboy job then use a service and cache the HTTP response in the service like so:</p>\n\n<pre><code>private res: any\n\npublic getMyData() {\n  return (this.res) ? of(this.res) : this.http.get('/api/some/path')\n    .pipe(res =&gt; {\n      this.res=res\n    })\n}\n</code></pre>\n\n<p>and subscribe in the calling code as you would normally:</p>\n\n<pre><code>this.myService.getMyData().subscribe(res =&gt; {\n  console.log('res', res)\n})\n</code></pre>\n\n<p>You could tweak the <code>getMyData()</code> and pass a boolean to it, the boolean would indicate whether a cached response is sufficient or whether to make the HTTP request again. However, I didn't add this logic as I wanted to keep things simple for you.</p>\n\n<p>PS You would need to provide the service in the root module, or even better just inject the service with:</p>\n\n<pre><code>@Injectable({providedIn: 'root'})\n</code></pre>\n\n<p>I believe this syntax requires Angular 6.</p>\n"}, {"tags": [], "owner": {"reputation": 5942, "user_id": 757391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3e9ceced45a5080f99c783ef93a8229f?s=128&d=identicon&r=PG", "display_name": "Ludevik", "link": "https://stackoverflow.com/users/757391/ludevik"}, "is_accepted": true, "score": 3, "last_activity_date": 1537906220, "creation_date": 1537906220, "answer_id": 52505975, "question_id": 52505665, "link": "https://stackoverflow.com/questions/52505665/how-to-pass-data-from-one-component-to-another-component-in-angular-2/52505975#52505975", "title": "how to pass data from one component to another component in angular 2?", "body": "<p>You could simply cache the data in the service as others have suggested.</p>\n\n<p>Another solution that could be relevant based on use case is to resolve the data in the parent state and get the data from <code>ActivatedRoute</code> in your components. Now when you navigate between component one and two, then the resolvers won't be triggered again. They will be triggered again when the parent state activates again, this might or might not be what you want/need.</p>\n\n<pre><code>path: '',\nresolve: [\n   userDetails: UserDetailsResolver,\n   userPreferences: UserPreferencesResolver\n],\nchildren: [{\n   path: 'one',\n   component: ComponentOne,\n},{\n   path: 'two',\n   component: ComponentTwo,\n}]\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5431857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9085919719d5fbff1134f63f7548c796?s=128&d=identicon&r=PG&f=1", "display_name": "NaN", "link": "https://stackoverflow.com/users/5431857/nan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 52505975, "answer_count": 2, "score": 1, "last_activity_date": 1537911602, "creation_date": 1537904645, "last_edit_date": 1537911602, "question_id": 52505665, "link": "https://stackoverflow.com/questions/52505665/how-to-pass-data-from-one-component-to-another-component-in-angular-2", "title": "how to pass data from one component to another component in angular 2?", "body": "<p>I am having two components in angular 2 application(ComponentOne and ComponentTwo). ComponentOne needs user details and user preferences to perform some actions, so I get these details from backend services while initializing the ComponentOne.</p>\n\n<pre><code>@Component({\n    selector: 'componentOne',\n    template: 'componentOneTemplate',\n    styles: ['componentOneStyles'],\n    providers: []\n})\nexport class ComponentOneComponenet implements OnInit {\n    //getting user details\n    getUserDetails();\n\n    //getting user preferences\n    getUserPreferences();\n}\n</code></pre>\n\n<p>I user router to route from ComponentOne to ComponentTwo.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>Now again I want userDetails and userPreferences in ComponentTwo. Is there any way to share the data between these two components instead of calling the backend services again?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular6"], "comments": [{"owner": {"reputation": 16389, "user_id": 1938988, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/GPf1K.jpg?s=128&g=1", "display_name": "johnny 5", "link": "https://stackoverflow.com/users/1938988/johnny-5"}, "edited": false, "score": 0, "creation_date": 1537907807, "post_id": 52505148, "comment_id": 91953063, "body": "When you click the save button, create a timer, and pass a call back to set the show variable after 3 seconds"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9767407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gyTWbTa_nrU/AAAAAAAAAAI/AAAAAAAAAxw/Q2xWYVHbwVU/photo.jpg?sz=128", "display_name": "Hicham MARKUS", "link": "https://stackoverflow.com/users/9767407/hicham-markus"}, "edited": false, "score": 0, "creation_date": 1538072637, "post_id": 52506561, "comment_id": 92025855, "body": "It works. Than you danday74. I appreciate your help."}], "tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 2, "last_activity_date": 1537908961, "creation_date": 1537908961, "answer_id": 52506561, "question_id": 52505148, "link": "https://stackoverflow.com/questions/52505148/angular-6-how-to-show-message-after-button-is-clicked/52506561#52506561", "title": "Angular 6 How to show Message after button is clicked", "body": "<p>.html:</p>\n\n<pre><code>&lt;button (click)=\"showMessageSoon()\"&gt;Show Message&lt;/button&gt;\n&lt;p *ngIf=\"showMyMessage\"&gt;hello there&lt;/p&gt;\n</code></pre>\n\n<p>.ts:</p>\n\n<pre><code>public showMyMessage = false\n\nshowMessageSoon() {\n  setTimeout(() =&gt; {\n    this.showMyMessage = true\n  }, 3000)\n}\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 9767407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gyTWbTa_nrU/AAAAAAAAAAI/AAAAAAAAAxw/Q2xWYVHbwVU/photo.jpg?sz=128", "display_name": "Hicham MARKUS", "link": "https://stackoverflow.com/users/9767407/hicham-markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5533, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1537908961, "creation_date": 1537902182, "last_edit_date": 1537908761, "question_id": 52505148, "link": "https://stackoverflow.com/questions/52505148/angular-6-how-to-show-message-after-button-is-clicked", "title": "Angular 6 How to show Message after button is clicked", "body": "<p>I'm working in a project that includes a button to save a change. I just wanted a sample message shown after 3s after the button is clicked. smt like the below example</p>\n\n<pre><code>&lt;div&gt;\n&lt;button *ngIf=\"show\" class=\"fade in\" role=\"\"&gt;Save&lt;/button&gt;\n   &lt;p SOW THIS MESSAGE 3s AFTER CLICK SAVE&gt; &lt;strong&gt;just Saved!&lt;/strong&gt; Your changes has been saved.&lt;p&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["html", "css", "typescript"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1537902581, "post_id": 52505090, "comment_id": 91950914, "body": "currently it seems to working from the above code - <a href=\"https://stackblitz.com/edit/angular-nfdkzz?file=src/app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/angular-nfdkzz?file=src/app/&hellip;</a>"}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1537902619, "post_id": 52505090, "comment_id": 91950928, "body": "If the table is outputting a list with even number of elements, the last row will have a white background and you are trying to make it grey .. is it??"}], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 2515275, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d4459ef3a4b5b412f0aaa199bf0798d9?s=128&d=identicon&r=PG", "display_name": "Benny Powers", "link": "https://stackoverflow.com/users/2515275/benny-powers"}, "is_accepted": true, "score": 1, "last_activity_date": 1537902628, "last_edit_date": 1537902628, "creation_date": 1537902072, "answer_id": 52505121, "question_id": 52505090, "link": "https://stackoverflow.com/questions/52505090/set-border-of-last-element-of-a-table-based-on-background/52505121#52505121", "title": "Set border of last element of a table based on background", "body": "<p>You could use <code>:last-child:not(:nth-child(even))</code></p>\n\n<p>Also, instead of <code>:nth-child(2n)</code> and <code>:nth-child(2n+1)</code> you could use <code>:nth-child(even)</code> and <code>:nth-child(odd)</code></p>\n\n<p>Putting it together:</p>\n\n<pre><code>.table-container:nth-child(even) {\n  background: #FFFFFF;\n}\n\n.table-container:nth-child(odd) {\n  background: #F2F2F2;\n}\n\n/* .table-container:last-child:nth-child(odd) also obtains */\n.table-container:last-child:not(:nth-child(even)) {\n  border-bottom: 2px solid grey;\n}\n</code></pre>\n"}], "owner": {"reputation": 4561, "user_id": 1480052, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Ze3VS.jpg?s=128&g=1", "display_name": "Prakhar Mohan Srivastava", "link": "https://stackoverflow.com/users/1480052/prakhar-mohan-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 52505121, "answer_count": 1, "score": 1, "last_activity_date": 1537902628, "creation_date": 1537901954, "question_id": 52505090, "link": "https://stackoverflow.com/questions/52505090/set-border-of-last-element-of-a-table-based-on-background", "title": "Set border of last element of a table based on background", "body": "<p>I have a table which simply displays key-value pairs.\nThe HTML code for the same is:</p>\n\n<pre><code>&lt;div class=\"kvp-data-table\"&gt;\n&lt;div class=\"table-container\" *ngFor=\"let keyValuePair of keyValuePairs; let i = index\"&gt;\n    &lt;div class=\"key-value-container\"\n         fxFlex\n         fxLayout=\"row\"&gt;\n        &lt;div class=\"key-container\"\n             [fxFlex]=\"widthOfColumnInPercent\"&gt;\n            {{ keyValuePair.key | translate}}\n        &lt;/div&gt;\n        &lt;div class=\"separator\"&gt;\n        &lt;/div&gt;\n        &lt;div class=\"value-container\"\n             [fxFlex]=\"widthOfColumnInPercent\"&gt;\n            {{ keyValuePair.value | translate}}\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n\n<p>Now for this table I want to color the alternate rows with different color. For that I am using the <code>:nth-child()</code> CSS selector as follows:</p>\n\n<pre><code>.kvp-data-table {\n\n.separator {\n    width: 2px;\n    background: #E2E2E2;\n}\n\n.key-container {\n    padding: 12px;\n    font-family: '72';\n    word-wrap: break-spaces;\n}\n\n.value-container {\n    padding: 12px;\n    font-family: '72';\n    word-wrap: break-spaces;\n}\n\n.table-container:nth-child(2n) {\n    background: #FFFFFF;\n}\n\n.table-container:nth-child(2n+1) {\n    background: #F2F2F2;\n}\n}\n</code></pre>\n\n<p>In addition to this I want to end the table with a horizontal grey line if the last row has a white background. If the table is outputting a list with even number of elements, the last row will have a white background.</p>\n\n<p>Now I know that the <code>:last-child()</code> selector exists, but I don't know how it will be applied here conditionally.</p>\n\n<p>How do I achieve this?</p>\n"}, {"tags": ["angular", "typescript", "angular5", "angular-forms"], "comments": [{"owner": {"reputation": 2950, "user_id": 3365339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CWtGg.jpg?s=128&g=1", "display_name": "Franklin Pious", "link": "https://stackoverflow.com/users/3365339/franklin-pious"}, "edited": false, "score": 1, "creation_date": 1537901961, "post_id": 52504991, "comment_id": 91950604, "body": "since it a reactive form, you could subscribe to form value changes and do the necessary  <a href=\"https://kfarst.github.io/angular/2016/12/12/subscribing-to-form-value-changes-in-angular-2/\" rel=\"nofollow noreferrer\">kfarst.github.io/angular/2016/12/12/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 8086213, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8437a6d06dcd8705d3f5edf6feef5485?s=128&d=identicon&r=PG&f=1", "display_name": "hopeforall", "link": "https://stackoverflow.com/users/8086213/hopeforall"}, "edited": false, "score": 0, "creation_date": 1537963991, "post_id": 52505477, "comment_id": 91974418, "body": "Thanks for your guide. How can i use this sample with rxjs 5.5.2. I can&#39;t seem to get it to work"}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "reply_to_user": {"reputation": 305, "user_id": 8086213, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8437a6d06dcd8705d3f5edf6feef5485?s=128&d=identicon&r=PG&f=1", "display_name": "hopeforall", "link": "https://stackoverflow.com/users/8086213/hopeforall"}, "edited": false, "score": 0, "creation_date": 1537964089, "post_id": 52505477, "comment_id": 91974481, "body": "Instead of pipe you have to chain the calls for observables (but you should rather upgrade...)"}, {"owner": {"reputation": 305, "user_id": 8086213, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8437a6d06dcd8705d3f5edf6feef5485?s=128&d=identicon&r=PG&f=1", "display_name": "hopeforall", "link": "https://stackoverflow.com/users/8086213/hopeforall"}, "edited": false, "score": 0, "creation_date": 1537964662, "post_id": 52505477, "comment_id": 91974834, "body": "Please can you kindly guide on how to use chain instead of pipe. Thank you"}, {"owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "reply_to_user": {"reputation": 305, "user_id": 8086213, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8437a6d06dcd8705d3f5edf6feef5485?s=128&d=identicon&r=PG&f=1", "display_name": "hopeforall", "link": "https://stackoverflow.com/users/8086213/hopeforall"}, "edited": false, "score": 0, "creation_date": 1539609553, "post_id": 52505477, "comment_id": 92552702, "body": "Wondering why somebody just down voted my answer. I&#39;d be glad to get an explanation :)"}], "tags": [], "owner": {"reputation": 18470, "user_id": 2398593, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XQHYX.jpg?s=128&g=1", "display_name": "maxime1992", "link": "https://stackoverflow.com/users/2398593/maxime1992"}, "is_accepted": false, "score": 1, "last_activity_date": 1537903829, "creation_date": 1537903829, "answer_id": 52505477, "question_id": 52504991, "link": "https://stackoverflow.com/questions/52504991/angular-5-populate-form-fields-using-other-field-values-if-checkbox-is-selected/52505477#52505477", "title": "angular 5 populate form fields using other field values if checkbox is selected", "body": "<p>I've simplified a bit your example and used:<br>\n- sending address<br>\n- billing address  </p>\n\n<p>Otherwise I think it's pretty much the same :)</p>\n\n<p><strong>TS</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl } from '@angular/forms';\nimport { EMPTY } from 'rxjs';\nimport { tap, distinctUntilChanged, switchMap, startWith } from 'rxjs/operators';\n\ninterface Address {\n  street: string;\n  city: string;\n  country: string;\n}\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  public isSameAddressControl: FormControl = new FormControl(false);\n\n  public addresses: FormGroup = this.fb.group({\n    sendingAddress: this.fb.group({\n      street: '',\n      city: '',\n      country: ''\n    }),\n    billingAddress: this.fb.group({\n      street: '',\n      city: '',\n      country: ''\n    })\n  });\n\n  constructor(private fb: FormBuilder) { }\n\n  ngOnInit() {\n    this.isSameAddressControl\n      .valueChanges\n      .pipe(\n        distinctUntilChanged(),\n        switchMap(isSameAddress =&gt; {\n          if (isSameAddress) {\n            return this.addresses\n              .get('sendingAddress')\n              .valueChanges\n              .pipe(\n                // at the beginning fill the form with the current values\n                startWith(this.addresses.get('sendingAddress').value),\n                tap(value =&gt;\n                  // every time the sending address changes, update the billing address \n                  this.addresses\n                    .get('billingAddress')\n                    .setValue(value)\n                )\n              )\n          } else {\n            this.addresses\n              .get('billingAddress')\n              .reset();\n\n            return EMPTY;\n          }\n        })\n        // don't forget to unsubscribe when component's destroyed\n      )\n      .subscribe();\n  }\n}\n</code></pre>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;input type=\"checkbox\" [formControl]=\"isSameAddressControl\"&gt; Same address for sending/billing\n\n&lt;form [formGroup]=\"addresses\"&gt;\n  &lt;ng-container formGroupName=\"sendingAddress\"&gt;\n    Sending address&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"street\" placeholder=\"Street\" autocomplete=\"off\"&gt;&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"city\" placeholder=\"City\" autocomplete=\"off\"&gt;&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"country\" placeholder=\"Country\" autocomplete=\"off\"&gt;&lt;br&gt;\n  &lt;/ng-container&gt;\n\n  &lt;ng-container formGroupName=\"billingAddress\"&gt;\n    Billing address&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"street\" placeholder=\"Street\" autocomplete=\"off\"&gt;&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"city\" placeholder=\"City\" autocomplete=\"off\"&gt;&lt;br&gt;\n    &lt;input type=\"text\" formControlName=\"country\" placeholder=\"Country\" autocomplete=\"off\"&gt;&lt;br&gt;\n  &lt;/ng-container&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Here's a working example on Stackblitz: <a href=\"https://stackblitz.com/edit/angular-nyjsnt\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-nyjsnt</a></p>\n"}], "owner": {"reputation": 305, "user_id": 8086213, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8437a6d06dcd8705d3f5edf6feef5485?s=128&d=identicon&r=PG&f=1", "display_name": "hopeforall", "link": "https://stackoverflow.com/users/8086213/hopeforall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4061, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1539401452, "creation_date": 1537901546, "question_id": 52504991, "link": "https://stackoverflow.com/questions/52504991/angular-5-populate-form-fields-using-other-field-values-if-checkbox-is-selected", "title": "angular 5 populate form fields using other field values if checkbox is selected", "body": "<p>I've got two sections of forms - correspondence address and residential address. The goal is to copy/pass values from one field to another if a checkbox is checked. Kindly see below use case</p>\n\n<ul>\n<li>populate the correspondence address fields with the values of the residential address form fields iff a checkbox (same as residential address) is checked</li>\n<li>Should any form field in the residential address change after checking the checkbox, pass the change(s) realtime to the field in the correspondence<br>\naddress and </li>\n<li>lastly, clear the form values in the correspondence address if the checkbox is unchecked. Below is what i've tried</li>\n</ul>\n\n<blockquote>\n  <p>Component.ts</p>\n</blockquote>\n\n<pre><code>populateCorrespondenceAdd(event) {\n    //console.log(event.checked)\n    if (event.checked) {\n        [...]\n        this.correspondenceHouseNumber = \n        this.residentialHouseNumber;\n        this.correspondenceStreetName = \n        this.enrollee.residentialStreetName;\n        this.enrollee.correspondenceLGA = \n        this.enrollee.residentialLGA;\n        [...]\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>component.html</p>\n</blockquote>\n\n<pre><code>&lt;mat-checkbox [(ngModel)]=\"populateCorrespondenceaddress\" (change)=\"populateCorrespondenceAdd($event)\"\n                formControlName=\"populateCorrespondenceadd\" value=\"true\"&gt;Same as residential address?)&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>The code above doesn't quite meet expectation as (i) unchecking the checkbox doesn't clear the form fields (ii) after checking the checkbox, if there's any change(s) in any of the form fields in the residential address section, the correspondence form fields doesn't update to reflect the changes.\n<strong>N:B: The fields are in one form group</strong></p>\n\n<p>Kindly guide. </p>\n"}]