[{"tags": ["mongodb", "angular", "typescript", "ionic-framework", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3084735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2626413746e38bdbcf6990a86534a46b?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob K", "link": "https://stackoverflow.com/users/3084735/jacob-k"}, "edited": false, "score": 1, "creation_date": 1483526939, "post_id": 41273892, "comment_id": 70129256, "body": "It&#39;s been a while without any work, but i eventually decided to just do it properly and implement it server side. I still really appreciate the thorough answer, though!"}], "tags": [], "owner": {"reputation": 2602, "user_id": 3072366, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e05703551a89ed28e6950c498b6eea2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pezetter", "link": "https://stackoverflow.com/users/3072366/pezetter"}, "is_accepted": true, "score": 1, "last_activity_date": 1482367335, "last_edit_date": 1482367335, "creation_date": 1482365068, "answer_id": 41273892, "question_id": 41273584, "link": "https://stackoverflow.com/questions/41273584/filtering-object-by-multiple-values/41273892#41273892", "title": "Filtering object by multiple values", "body": "<p>I would solve this by, like you mentioned, querying the API. I'm not sure what the scale of your data is, but adding the filtering to your API makes your application more efficient at scale. </p>\n\n<p>If you do not want to go that route, then I would look at pipes. They are an extremely useful tool to know how to use and create. </p>\n\n<p><a href=\"https://angular.io/docs/ts/latest/guide/pipes.html\" rel=\"nofollow noreferrer\">https://angular.io/docs/ts/latest/guide/pipes.html</a> </p>\n\n<p>The angular 2 docs has a guide on how to create a pipe. Check out the <em>Flying Heroes pipe</em> section. There is a plunkr for it <a href=\"https://embed.plnkr.co/?show=preview\" rel=\"nofollow noreferrer\">here.</a> </p>\n\n<p><strong>template</strong></p>\n\n<pre><code>&lt;div *ngFor=\"let hero of (heroes | flyingHeroes)\"&gt;\n  {{hero.name}}\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>pipe</strong></p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { Flyer } from './heroes';\n\n@Pipe({ name: 'flyingHeroes' })\nexport class FlyingHeroesPipe implements PipeTransform {\n  transform(allHeroes: Flyer[]) {\n    return allHeroes.filter(hero =&gt; hero.canFly);\n  }\n}\n</code></pre>\n\n<p>Once youve created the pipe, you can transform the data anyway you want in the transform method. In their example, they use the filter function, only returning heroes the canFly. In your case, you can replace the <em>.canFly</em> check with something like:</p>\n\n<pre><code>let wantedChains = ['Costco', 'Walmart', 'etc...']\ntransform(stores: Store[]) {\n    return stores.filter(store =&gt; (wantedChaines.indexOf(store.chain) &gt; -1));\n}\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3084735, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2626413746e38bdbcf6990a86534a46b?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob K", "link": "https://stackoverflow.com/users/3084735/jacob-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 41273892, "answer_count": 1, "score": 2, "last_activity_date": 1482367335, "creation_date": 1482362700, "question_id": 41273584, "link": "https://stackoverflow.com/questions/41273584/filtering-object-by-multiple-values", "title": "Filtering object by multiple values", "body": "<p>I'm in the process of creating an app using the Ionic 2 with Angular 2 and i've hit a bit of a snag.</p>\n\n<p>My app is fetching data from an API that returns a mongo object using the <a href=\"https://docs.mongodb.com/manual/reference/command/geoNear/\" rel=\"nofollow noreferrer\">geonear</a> command. This object contains a bunch of different store with info on opening hours and such:</p>\n\n<pre><code>{ \n\"_id\" : ObjectId(\"585723490a60e14d8a41ffd3\"), \n\"storeID\" : NumberInt(1110), \n\"storeName\" : \"Kvickly Sundby\", \n\"chain\" : \"kvickly\", \n\"phone\" : NumberInt(32860111), \n\"openingDates\" : [\n    {\n        \"open\" : \"08.00\", \n        \"close\" : \"20.00\", \n        \"date\" : \"2016-12-13\", \n        \"_id\" : ObjectId(\"585723490a60e14d8a41ffef\")\n    }, \n    {\n        \"open\" : \"08.00\", \n        \"close\" : \"20.00\", \n        \"date\" : \"2016-12-14\", \n        \"_id\" : ObjectId(\"585723490a60e14d8a41ffee\")\n    }\n], \n\"location\" : {\n    \"address\" : \"Englandsvej 28\", \n    \"city\" : \"K\u00f8benhavn S\", \n    \"zip\" : NumberInt(2300), \n    \"coordinates\" : [\n        12.6048, \n        55.65654\n    ]\n}, \n\"__v\" : NumberInt(0)\n</code></pre>\n\n<p>}</p>\n\n<p>The data is passed on to my template, looped through and displayed on cards with an accordion function as well as a pagination function.</p>\n\n<p>Fetching form the API</p>\n\n<pre><code>getStores(lat, lng) {\n    this.fetchUrl = this.envVar.getEnvUrl() + '?lat=' + lat + '&amp;lng=' + lng;\n    console.log(this.fetchUrl);\n    this.http.get(this.fetchUrl)\n      .map(res =&gt; res.json())\n      .subscribe(data =&gt; {\n        this.stores = data;\n        this.loading.dismiss();\n        this.curPage = 1;\n    });\n  }\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;accordion&gt;\n        &lt;accordion-group *ngFor=\"let store of stores | paginate: { itemsPerPage: 15, currentPage: p }; let first = first\" [isOpened]=\"first\"&gt;\n            &lt;accordion-heading&gt;\n                &lt;ion-card class=\"store-card\" [style.border-color]=\"storeColor(store.obj.chain)\"&gt;\n                    &lt;ion-row&gt;\n                        &lt;ion-col width-67&gt;\n                            &lt;ion-col&gt;\n                                &lt;h2 class=\"store-name\"&gt;{{store.obj.storeName}}&lt;/h2&gt;\n                                &lt;p class=\"store-location\"&gt;{{store.obj.location.address}} &lt;br&gt; {{store.obj.location.city}}, {{store.obj.location.zip}}&lt;/p&gt;\n                                &lt;ion-icon  ios=\"ios-arrow-down\" md=\"ios-arrow-down\"&gt;&lt;/ion-icon&gt;\n                            &lt;/ion-col&gt;\n                        &lt;/ion-col&gt;\n                        &lt;ion-col width-33&gt;\n                            &lt;ion-col width-100 *ngFor=\"let date of store.obj.openingDates | where : {date : today}\" class=\"opening-hours\"&gt;&lt;p&gt;{{date.open}} - {{date.close}}&lt;/p&gt;&lt;/ion-col&gt;\n                            &lt;ion-col width-100 class=\"distance\"&gt;\n                                &lt;p&gt;{{store.dis |\u00a0formatDistance}} &lt;ion-icon name=\"pin\"&gt;&lt;/ion-icon&gt;&lt;/p&gt;\n                                &lt;p&gt;&lt;a target=\"_blank\" href=\"http://www.google.com/maps/place/{{store.obj.chain}} {{store.obj.location.address}}, {{store.obj.location.zip}} {{store.obj.location.city}}\"&gt;Rutevejledning&lt;/a&gt;&lt;/p&gt;\n                            &lt;/ion-col&gt;\n                        &lt;/ion-col&gt;\n                    &lt;/ion-row&gt;\n                &lt;/ion-card&gt;\n            &lt;/accordion-heading&gt;\n            &lt;div class=\"extra-info\"&gt;\n                &lt;ion-grid&gt;\n                    &lt;ion-row&gt;\n                        &lt;ion-col width-100&gt;\n                            &lt;p class=\"week\"&gt;Uge {{weekNumber}}&lt;/p&gt;\n                        &lt;/ion-col&gt;\n                    &lt;/ion-row&gt;\n                    &lt;ion-row width-100 *ngFor=\"let date of store.obj.openingDates | afterWhere: {date: tomorrow} | slice:0:leftInWeek\"&gt;\n                        &lt;ion-col width-50 class=\"weekday\"&gt;{{date.date | date: \"EEEE, d MMMM\"}}&lt;/ion-col&gt;\n                        &lt;ion-col width-50 class=\"hours\"&gt;{{date.open}} - {{date.close}}&lt;/ion-col&gt;\n                    &lt;/ion-row&gt;\n                &lt;/ion-grid&gt;\n            &lt;/div&gt;\n        &lt;/accordion-group&gt;\n    &lt;/accordion&gt;\n</code></pre>\n\n<p>This all works fine, but what i then wish do to being able to filter the results by the \"chain\" property in the object so that i only get some chains (Walmart, Costco, etc.)</p>\n\n<p>I just not sure how to handle this. In the Ionic provided navigation i have a collection of toggle switches for the different chain (they're hardcoded, don't worry) that i would like to use for the filtering:</p>\n\n<p>Navigation toggles</p>\n\n<pre><code>&lt;ion-content&gt;\n&lt;ion-item&gt;\n  &lt;ion-label&gt;Chain 1&lt;/ion-label&gt;\n  &lt;ion-toggle&gt;&lt;/ion-toggle&gt;\n&lt;/ion-item&gt;\n\n&lt;ion-item&gt;\n  &lt;ion-label&gt;Chain 2&lt;/ion-label&gt;\n  &lt;ion-toggle&gt;&lt;/ion-toggle&gt;\n&lt;/ion-item&gt;\n\n&lt;ion-item&gt;\n  &lt;ion-label&gt;Chain 3&lt;/ion-label&gt;\n  &lt;ion-toggle&gt;&lt;/ion-toggle&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p></p>\n\n<p>Initially i was hoping to use something like filterBy in Angular 2 version of <a href=\"https://github.com/a8m/angular-filter#filterby\" rel=\"nofollow noreferrer\">ng-pipes</a> but filterBy will only accept a single value to filter by and as such isn't really very useable in my scenario.</p>\n\n<p>So what's the best option here? Some sort of custom filter pipe? and do i sort in the final object or do i pass some parameters to the api and limit before the data is sent back?</p>\n\n<p>It's all a bit confusing, and this is my first Angular project so i'd really appreciate some guidance as to how i'll do this (in the best possible way)</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-template", "angular2-directives"], "comments": [{"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482364567, "post_id": 41273455, "comment_id": 69749085, "body": "I&#39;m facing the same issue. You&#39;re right, context is never passed. This is because template that you&#39;re passing as content to &lt;my-component&gt; is actually bound to the context of &lt;my-component&gt;&#39;s host. I&#39;d like to get this working as well, but I don&#39;t see any way yet."}, {"owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "reply_to_user": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482367719, "post_id": 41273455, "comment_id": 69749891, "body": "@AlexanderLeonov Look my answer. I&#39;ve found it."}], "answers": [{"tags": [], "owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "is_accepted": true, "score": 30, "last_activity_date": 1506440798, "last_edit_date": 1506440798, "creation_date": 1482367662, "answer_id": 41274221, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2/41274221#41274221", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>After a long time, I made it.</p>\n\n<p>Example with single value:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{isVisible: true}\"&gt;\n    &lt;/template&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){}\n}\n\n&lt;my-component&gt;\n    &lt;template let-isVisible=\"isVisible\"&gt;\n        {{isVisible ? 'yes!' : 'no'}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>Example with loop:</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;div *ngFor=\"let element of data\"&gt;\n        &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{element: element}\"&gt;\n        &lt;/template&gt;\n    &lt;/div&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){\n        this.data = [{name:'John'}, {name:'Jacob'}];\n    }\n}\n\n--- \n\n&lt;my-component&gt;\n    &lt;template let-element=\"element\"&gt;\n        {{element.name}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&lt;div&gt;John&lt;/div&gt;\n&lt;div&gt;Jacob&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "edited": false, "score": 2, "creation_date": 1509722977, "post_id": 47077689, "comment_id": 81148406, "body": "So why was this down voted? Just because I didn&#39;t short format the CHANGELOG link? Should I not post helpful information? Please help me understand as I am turned off to helping further"}, {"owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "edited": false, "score": 0, "creation_date": 1510242791, "post_id": 47077689, "comment_id": 81361118, "body": "My original comment has since been up voted. Encouraged to help again!"}], "tags": [], "owner": {"reputation": 319, "user_id": 6110290, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce6473132f0d0fde0b37464ae3399c85?s=128&d=identicon&r=PG", "display_name": "Acker Apple", "link": "https://stackoverflow.com/users/6110290/acker-apple"}, "is_accepted": false, "score": 14, "last_activity_date": 1509635537, "last_edit_date": 1509635537, "creation_date": 1509632805, "answer_id": 47077689, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2/47077689#47077689", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>Heads up ngOutletContext is deprecated and renamed as ngTemplateOutletContext.</p>\n\n<p>Search the change log for \"NgTemplateOutlet#ngTemplateOutletContext\"</p>\n\n<p><a href=\"https://github.com/angular/angular/blob/master/CHANGELOG.md\" rel=\"noreferrer\">CHANGELOG</a> </p>\n"}], "owner": {"reputation": 1351, "user_id": 2008950, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bb05f9ec4614bf1a99e4bb9748e02eba?s=128&d=identicon&r=PG", "display_name": "Tukkan", "link": "https://stackoverflow.com/users/2008950/tukkan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12046, "favorite_count": 5, "accepted_answer_id": 41274221, "answer_count": 2, "score": 15, "last_activity_date": 1509635537, "creation_date": 1482361744, "question_id": 41273455, "link": "https://stackoverflow.com/questions/41273455/passing-context-to-template-through-ngoutletcontext-in-angular2", "title": "Passing context to template through ngOutletContext in Angular2", "body": "<p>I have a component to which I am passing a template. Inside of this component I would like to pass context so that I could display data.</p>\n\n<pre><code>@Component({\n  selector: 'my-component',\n  providers: [],\n  template: `\n    &lt;template [ngTemplateOutlet]=\"templ\" [ngOutletContext]=\"{isVisible: true}\"&gt;\n    &lt;/template&gt;\n  `\n})\nexport class MyElementComponent implements OnInit {\n    @ContentChild(TemplateRef) templ;\n    constructor(){}\n}\n</code></pre>\n\n<p>Now when using component inside of other component:</p>\n\n<pre><code>&lt;my-component&gt;\n    &lt;template&gt;\n        {{isVisible ? 'yes!' : 'no'}}\n    &lt;/template&gt;\n&lt;/my-component&gt;\n</code></pre>\n\n<p>So in <code>my-component</code> I am passing a template which is handled in it's class by <code>@ContentChild</code> with name <code>templ</code>. </p>\n\n<p>Then, in <code>my-component</code>'s template i am passing <code>templ</code> to <code>ngTemplateOutlet</code> and additionally, I am passing context using <code>ngOutletContext</code> which has <code>isVisible</code> set to <code>true</code>.</p>\n\n<p>we should see <code>yes!</code> on the screen but it seems that context is never passed.</p>\n\n<p>My angular version:</p>\n\n<pre><code>\"@angular/common\": \"^2.3.1\",\n\"@angular/compiler\": \"^2.3.1\",\n\"@angular/core\": \"^2.3.1\",\n</code></pre>\n"}, {"tags": ["unit-testing", "angular", "typescript"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1483343004, "post_id": 41273391, "comment_id": 70051387, "body": "Have you tried to put MdDialogRef after OverlayRef in your providers array?"}, {"owner": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1483633433, "post_id": 41273391, "comment_id": 70185261, "body": "@yurzui Good guess! I hadn&#39;t tried that, but unfortunately, it didn&#39;t fix the problem."}], "answers": [{"comments": [{"owner": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "edited": false, "score": 0, "creation_date": 1483634004, "post_id": 41420775, "comment_id": 70185664, "body": "Interesting. For kicks, I removed the MdDialogRef provider in my test and got a different error: Can&#39;t resolve all parameters for OverlayRef: (?, ?, ?). This leads me to believe that the actual problem is with OverlayRef, not MdDialogRef. I&#39;ll see if this clue helps me track down the problem. Thanks."}, {"owner": {"reputation": 9164, "user_id": 1535443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvaFC.jpg?s=128&g=1", "display_name": "Jhankar Mahbub", "link": "https://stackoverflow.com/users/1535443/jhankar-mahbub"}, "reply_to_user": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "edited": false, "score": 0, "creation_date": 1483650491, "post_id": 41420775, "comment_id": 70195464, "body": "@Dr.C.Hilarius Please let me know if you got any solution. I am having same issue"}, {"owner": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "reply_to_user": {"reputation": 9164, "user_id": 1535443, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvaFC.jpg?s=128&g=1", "display_name": "Jhankar Mahbub", "link": "https://stackoverflow.com/users/1535443/jhankar-mahbub"}, "edited": false, "score": 0, "creation_date": 1483661918, "post_id": 41420775, "comment_id": 70200043, "body": "@KhanSharp Glad to know I&#39;m not the only one! Haven&#39;t figured it out yet, but I&#39;ll update this thread as soon as I do."}, {"owner": {"reputation": 53, "user_id": 2206217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3c3c6273778339e7be884fdedad6ce?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/2206217/ryan"}, "edited": false, "score": 0, "creation_date": 1483672587, "post_id": 41420775, "comment_id": 70202651, "body": "I tried adding &#39;OverlayRef&#39; in providers in my normal running code and also got the error &#39;Can&#39;t resolve all parameters for OverlayRef: (?, ?, ?)&#39;."}, {"owner": {"reputation": 53, "user_id": 2206217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3c3c6273778339e7be884fdedad6ce?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/2206217/ryan"}, "edited": false, "score": 0, "creation_date": 1483673068, "post_id": 41420775, "comment_id": 70202744, "body": "I followed <a href=\"https://plnkr.co/edit/n185tQbEHg1xGlNCAdxQ?p=preview\" rel=\"nofollow noreferrer\">this working example</a> and from other articles, it looks like MdDialogRef and OverlRef cannot be passed in as providers.   From the working example note how Material Module is imported and initialised  <code>import { MaterialModule } from &#39;@angular&#47;material&#39;;  ...  @NgModule({   imports: [ BrowserModule, MaterialModule.forRoot() ],   declarations: [ App, dialogs ],   entryComponents: dialogs,   bootstrap: [ App ] }) </code>  Hope this provides some clues."}, {"owner": {"reputation": 814, "user_id": 2962507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd475510f51619445b5235fe1dbe754?s=128&d=identicon&r=PG", "display_name": "dinvlad", "link": "https://stackoverflow.com/users/2962507/dinvlad"}, "edited": false, "score": 0, "creation_date": 1505165125, "post_id": 41420775, "comment_id": 79291624, "body": "They can, please try: <code>dialog = jasmine.createSpyObj(&#39;MdDialogRef&#39;, [&#39;close&#39;]);</code> and <code>{ provide: MdDialogRef, useValue: dialog },</code> in TestBed. That worked for me at least."}], "tags": [], "owner": {"reputation": 53, "user_id": 2206217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd3c3c6273778339e7be884fdedad6ce?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/2206217/ryan"}, "is_accepted": false, "score": 2, "last_activity_date": 1483324362, "creation_date": 1483324362, "answer_id": 41420775, "question_id": 41273391, "link": "https://stackoverflow.com/questions/41273391/cant-resolve-all-parameters-for-mddialogref-error-when-testing-ng2-mater/41420775#41420775", "title": "&quot;Can&#39;t resolve all parameters for MdDialogRef: (?)&quot; Error when testing NG2 Material Dialog component", "body": "<p>I was getting the same error when running my code normally, i.e. I did not write a test case. </p>\n\n<p>I found that the line <code>provides: [ MdDialogRef ]</code>in my main component was giving this exact same error, and everything worked without it.</p>\n"}, {"comments": [{"owner": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "edited": false, "score": 0, "creation_date": 1484005213, "post_id": 41511030, "comment_id": 70322875, "body": "Excellent! Defining the TestModule explicitly with the entryCompenents worked. My only change to your suggestion was that I had to define all my imports in the TestModule as well. Thanks!"}], "tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": false, "score": 7, "last_activity_date": 1505220028, "last_edit_date": 1505220028, "creation_date": 1483723849, "answer_id": 41511030, "question_id": 41273391, "link": "https://stackoverflow.com/questions/41273391/cant-resolve-all-parameters-for-mddialogref-error-when-testing-ng2-mater/41511030#41511030", "title": "&quot;Can&#39;t resolve all parameters for MdDialogRef: (?)&quot; Error when testing NG2 Material Dialog component", "body": "<p>There is an issue <em><a href=\"https://github.com/angular/angular/issues/10760\" rel=\"nofollow noreferrer\">ComponentFactoryResolver is not aware of components compiled via TestBed</a></em></p>\n\n<p>According to this problem angular2 team offers workaround by creating real module with <code>entryComponents</code> property\n<a href=\"https://github.com/angular/material2/blob/2.0.0-beta.1/src/lib/dialog/dialog.spec.ts#L387-L402\" rel=\"nofollow noreferrer\">https://github.com/angular/material2/blob/2.0.0-beta.1/src/lib/dialog/dialog.spec.ts#L387-L402</a></p>\n\n<p>So your test could write like this:</p>\n\n<pre><code>import { MdDialog, MdDialogModule } from '@angular/material';   \n\n@NgModule({\n    declarations: [TestComponent],\n    entryComponents: [TestComponent],\n    exports: [TestComponent],\n})\nclass TestModule { }\n\ndescribe('Component: Login', () =&gt; {\n    let component: TestComponent;\n    let dialog: MdDialog;\n\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({\n            imports: [TestModule, MdDialogModule]\n        });\n    });\n\n    beforeEach(() =&gt; {\n        dialog = TestBed.get(MdDialog);\n        let dialogRef = dialog.open(TestComponent);\n\n        component = dialogRef.componentInstance;\n    });\n\n    it('should create', () =&gt; {\n        expect(component).toBeTruthy();\n    });\n});\n</code></pre>\n\n<p><strong><a href=\"https://plnkr.co/edit/FeSbUGuqmqMiMq5qNATC?p=preview\" rel=\"nofollow noreferrer\">Plunker Example</a></strong></p>\n"}], "owner": {"reputation": 1044, "user_id": 524482, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e30ce5463f23f677183be7a402e3ae6d?s=128&d=identicon&r=PG", "display_name": "Dr. C. Hilarius", "link": "https://stackoverflow.com/users/524482/dr-c-hilarius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5478, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1505220028, "creation_date": 1482361372, "last_edit_date": 1484005411, "question_id": 41273391, "link": "https://stackoverflow.com/questions/41273391/cant-resolve-all-parameters-for-mddialogref-error-when-testing-ng2-mater", "title": "&quot;Can&#39;t resolve all parameters for MdDialogRef: (?)&quot; Error when testing NG2 Material Dialog component", "body": "<p>I have a login component as follows: </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { MdDialogRef } from '@angular/material';\n\nimport { AuthService } from '../../core/services/auth.service';\n\n@Component({\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginDialogComponent implements OnInit {\n\n  model: {\n    email: string,\n    password: string\n  };\n  error;\n\n  constructor(\n    private authService: AuthService,\n    private dialogRef: MdDialogRef&lt;LoginDialogComponent&gt;\n  ) { }\n\n  ngOnInit() {\n    this.model = {\n      email: '',\n      password: ''\n    };\n  }\n\n  signin() {\n    this.error = null;\n    this.authService.login(this.model.email, this.model.password).subscribe(data =&gt; {\n      this.dialogRef.close(data);\n    }, err =&gt; {\n      this.error = err.json();\n    });\n  }\n\n}\n</code></pre>\n\n<p>And I have a test spec for this component as follows:</p>\n\n<pre><code>import { async, ComponentFixture, TestBed } from '@angular/core/testing';\nimport { MdDialogRef, OverlayRef  } from '@angular/material';\n\nimport { AuthService } from '../../core/services/auth.service';\nimport { LoginDialogComponent } from './login.component';\n\ndescribe('Component: Login', () =&gt; {\n\n    let component: LoginDialogComponent;\n    let fixture: ComponentFixture&lt;LoginDialogComponent&gt;;\n\n    beforeEach(async(() =&gt; {\n        TestBed.configureTestingModule({\n            declarations: [\n                LoginDialogComponent\n            ],\n            imports: [],\n            providers: [\n                AuthService,\n                MdDialogRef,\n                OverlayRef\n            ]\n        })\n            .compileComponents();\n    }));\n\n    beforeEach(() =&gt; {\n        fixture = TestBed.createComponent(LoginDialogComponent);\n        component = fixture.componentInstance;\n        fixture.detectChanges();\n    });\n\n    it('should create', () =&gt; {\n        expect(component).toBeTruthy();\n    });\n});\n</code></pre>\n\n<p>I've tried a million different things, and no matter what I do, I get the following error:</p>\n\n<blockquote>\n  <p>Can't resolve all parameters for MdDialogRef: (?)</p>\n</blockquote>\n\n<p>Here's the code for MdDialogRef, which only has 1 parameter, OverlayRef. What am I missing?</p>\n\n<pre><code>import { OverlayRef } from '../core';\nimport { Observable } from 'rxjs/Observable';\n/**\n * Reference to a dialog opened via the MdDialog service.\n */\nexport declare class MdDialogRef&lt;T&gt; {\n    private _overlayRef;\n    /** The instance of component opened into the dialog. */\n    componentInstance: T;\n    /** Subject for notifying the user that the dialog has finished closing. */\n    private _afterClosed;\n    constructor(_overlayRef: OverlayRef);\n    /**\n     * Close the dialog.\n     * @param dialogResult Optional result to return to the dialog opener.\n     */\n    close(dialogResult?: any): void;\n    /** Gets an observable that is notified when the dialog is finished closing. */\n    afterClosed(): Observable&lt;any&gt;;\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> taking a clue from @Ryan's comment, I tried removing the MdDialogRef provider entirely and got the following error:</p>\n\n<blockquote>\n  <p>Can't resolve all parameters for OverlayRef: (?, ?, ?)</p>\n</blockquote>\n\n<p>This leads me to believe that the problem is actually w/MdDialogRef trying to resolve OverlayRef, not w/MdDialogRef itself.</p>\n\n<p><strong>WORKING EXAMPLE</strong> The code below is the actual working code, per Yurzui's suggestion.</p>\n\n<pre><code>    /* tslint:disable:no-unused-variable */\n\nimport { NgModule } from '@angular/core';\nimport { async, TestBed } from '@angular/core/testing';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule, MdDialogModule, MdToolbarModule, MdDialog, MdDialogRef } from '@angular/material';\n\nimport { CoreModule } from '../../core/core.module';\nimport { LoginDialogComponent } from './login.component';\n\n@NgModule({\n    declarations: [\n        LoginDialogComponent\n    ],\n    entryComponents: [\n        LoginDialogComponent\n    ],\n    exports: [\n        LoginDialogComponent\n    ],\n    imports: [\n        CommonModule,\n        CoreModule,\n        FormsModule,\n        MaterialModule.forRoot(),\n        MdDialogModule.forRoot(),\n        MdToolbarModule.forRoot()\n    ]\n})\nclass LoginDialogSpecModule { }\n\ndescribe('Component: Login Dialog', () =&gt; {\n    let component: LoginDialogComponent;\n    let dialog: MdDialog;\n\n    beforeEach(() =&gt; {\n        TestBed.configureTestingModule({\n            imports: [\n                LoginDialogSpecModule\n            ]\n        });\n    });\n\n    beforeEach(() =&gt; {\n        dialog = TestBed.get(MdDialog);\n        let dialogRef = dialog.open(LoginDialogComponent);\n        component = dialogRef.componentInstance;\n    });\n\n    it('should create', () =&gt; {\n        expect(component).toBeTruthy();\n    });\n});\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1482360966, "post_id": 41273278, "comment_id": 69748048, "body": "You may not have <code>var xxx</code> directly under a class. As the error message says: Unexpected token. A constructor, method, accessor, or property was expected. It&#39;s at line 16, which gives a strong hint."}, {"owner": {"reputation": 2154, "user_id": 5471063, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10207988347131565/picture?type=large", "display_name": "Jesper", "link": "https://stackoverflow.com/users/5471063/jesper"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1482363150, "post_id": 41273278, "comment_id": 69748761, "body": "@JBNizet Thanks I was not aware of that."}], "answers": [{"tags": [], "owner": {"reputation": 2602, "user_id": 3072366, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/e05703551a89ed28e6950c498b6eea2c?s=128&d=identicon&r=PG&f=1", "display_name": "Pezetter", "link": "https://stackoverflow.com/users/3072366/pezetter"}, "is_accepted": false, "score": 1, "last_activity_date": 1482378888, "creation_date": 1482378888, "answer_id": 41275534, "question_id": 41273278, "link": "https://stackoverflow.com/questions/41273278/angular-2-npm-start-error/41275534#41275534", "title": "Angular 2 npm start error", "body": "<p>As mentioned in the comments, angular 2 doesn't like <strong>var</strong> declarations within a class, line 16 and below.</p>\n"}], "owner": {"reputation": 2154, "user_id": 5471063, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/10207988347131565/picture?type=large", "display_name": "Jesper", "link": "https://stackoverflow.com/users/5471063/jesper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482378888, "creation_date": 1482360787, "question_id": 41273278, "link": "https://stackoverflow.com/questions/41273278/angular-2-npm-start-error", "title": "Angular 2 npm start error", "body": "<p>When i type 'npm start' in cmd, i get the following errors: </p>\n\n<pre><code>app/bidding.component.ts(16,5): error TS1068: Unexpected token. A constructor, method, accessor, or property was expected.\napp/bidding.component.ts(23,22): error TS1005: ',' expected.\napp/bidding.component.ts(23,36): error TS1005: ',' expected.\napp/bidding.component.ts(23,54): error TS1005: ';' expected.\napp/bidding.component.ts(38,15): error TS1005: ';' expected.\napp/bidding.component.ts(40,9): error TS1005: ':' expected.\napp/bidding.component.ts(43,43): error TS1005: ',' expected.\napp/bidding.component.ts(44,6): error TS1005: ',' expected.\napp/bidding.component.ts(46,9): error TS1005: ':' expected.\napp/bidding.component.ts(46,47): error TS1005: ',' expected.\napp/bidding.component.ts(49,15): error TS1005: ';' expected.\napp/bidding.component.ts(50,14): error TS1005: ',' expected.\napp/bidding.component.ts(50,20): error TS1005: ',' expected.\napp/bidding.component.ts(50,29): error TS1005: '=' expected.\napp/bidding.component.ts(70,1): error TS1128: Declaration or statement expected.\n</code></pre>\n\n<p>Here's the bidding component:</p>\n\n<pre><code>import { BiddingService, Bid  } from './bidding.service';\nimport { Component } from '@angular/core';\nimport * as Rx from 'rxjs/Rx';\n\n@Component({\nmoduleId: module.id,\nselector: 'my-bidding',\ntemplateUrl: 'bidding.component.html'\n})\n\nexport class BiddingComponent {  \n\n\nbidList = \"No bids submitted yet\";\nhighestBid = \"0\";\nvar popUpContainerDisplay = document.getElementById('popUpContainer');\nvar popUpAcceptContainerDisplay = document.getElementById('acceptPopUp');\nvar popUpDeclineContainerDisplay = document.getElementById('declinePopUp');\nvar popUpWarningContainerDisplay = document.getElementById('warningPopUp');\narrayReset = false;\n\n\nconstructor(private biddingService: BiddingService) {\n    biddingService.bids.subscribe(bid =&gt; {      \n\n        this.bidList = bid.bidderArrayText.join('');\n        this.highestBid = bid.bidLabelMessage;\n        this.popUpContainerDisplay.style.display = bid.popUpContainerDisplay;\n        this.popUpContainerDisplay.style.opacity = bid.popUpContainerOpacity;                        \n        this.popUpAcceptContainerDisplay = bid.popUpAcceptContainerDisplay;\n        this.popUpDeclineContainerDisplay = bid.popUpDeclineContainerDisplay;\n        this.popUpWarningContainerDisplay = bid.popUpWarningContainerDisplay;\n        this.arrayReset = bid.arrayReset; \n\n    });\n}\n\nsendToServer(): void{\n\nvar msgToServer = {\n    bid: document.getElementById('bidTextbox').value,\n    bidder: document.getElementById('bidderTextbox').value,\n    resetArrayBoolean: this.arrayReset;   \n};\n\nthis.biddingService.bids.next(msgToServer);\n}\n\npopUpFadeOut(): void{\nif(container.style.opacity == 0){\n    container.style.opacity = 1;\n    container.style.display = \"block\";\n\n    var fading = function fade() {\n        if ((container.style.opacity -= .01) &lt;= 0)\n        {\n            container.style.dispaly = \"none\";\n            container.style.opacity = 0;\n        }\n        else\n        {\n            requestAnimationFrame(fade);\n        }\n    }\n\n    setTimeout(fading, 1000); //popup box fades away after 1 seconds\n}\n}\n\n}\n</code></pre>\n\n<p>Since the errors don't make any sense, my guess is that there is a problem with a parenthesis or bracket, but I've checked and can't find any. What have I done wrong? Thanks. </p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-testing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482360697, "post_id": 41273244, "comment_id": 69747938, "body": "Altering passing tests and having them still pass isn&#39;t necessarily useful - what happens if you take a <i>failing</i> test using <code>async</code> and remove that call? Does it still fail?"}, {"owner": {"reputation": 251, "user_id": 2042765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0EIJ.jpg?s=128&g=1", "display_name": "Johannes Hoppe", "link": "https://stackoverflow.com/users/2042765/johannes-hoppe"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1482361213, "post_id": 41273244, "comment_id": 69748145, "body": "first example is basically wrong, <code>expect(&quot;THIS TEST IS FALSE POSITIVE&quot;).toEqual(false);</code> should never be green. it would work, if the code would run async. but it does not (anymore)."}, {"owner": {"reputation": 1407, "user_id": 8210113, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NXFR5.jpg?s=128&g=1", "display_name": "Phil Huhn", "link": "https://stackoverflow.com/users/8210113/phil-huhn"}, "edited": false, "score": 0, "creation_date": 1498828211, "post_id": 41273244, "comment_id": 76681434, "body": "I propose that the <b><i>mockResponse</i></b> is synchronous, but <b><i>MockConnection</i></b> does not seem to be synchronous. I added a second test to each test (reducing it to 2 videos, and the synchronous one failed and the async passed."}], "answers": [{"tags": [], "owner": {"reputation": 8363, "user_id": 1531806, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/FkpTG.jpg?s=128&g=1", "display_name": "Pascal Precht", "link": "https://stackoverflow.com/users/1531806/pascal-precht"}, "is_accepted": true, "score": 5, "last_activity_date": 1482420385, "creation_date": 1482420385, "answer_id": 41286502, "question_id": 41273244, "link": "https://stackoverflow.com/questions/41273244/angular-testing-http-with-mockbackend-is-async-really-required/41286502#41286502", "title": "Angular: Testing HTTP with MockBackend, is async() really required?", "body": "<p>you're completely right with your assumption, that <code>MockConnection.mockRespond()</code> emits synchronous. <code>async()</code> is not needed in this particular test.</p>\n\n<p>I'm the author of the article you've referred to in your question and I've updated it accordingly.</p>\n\n<p>Thank you so much for pointing this out!</p>\n"}], "owner": {"reputation": 251, "user_id": 2042765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T0EIJ.jpg?s=128&g=1", "display_name": "Johannes Hoppe", "link": "https://stackoverflow.com/users/2042765/johannes-hoppe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 41286502, "answer_count": 1, "score": 5, "last_activity_date": 1504003205, "creation_date": 1482360613, "last_edit_date": 1504003205, "question_id": 41273244, "link": "https://stackoverflow.com/questions/41273244/angular-testing-http-with-mockbackend-is-async-really-required", "title": "Angular: Testing HTTP with MockBackend, is async() really required?", "body": "<p>I'm using <code>MockBackend</code> to test code that depends in <code>@angular/http</code>.<br>\nAll the examples around the web use an asynchronous test setup, like here:<br>\n<a href=\"http://blog.thoughtram.io/angular/2016/11/28/testing-services-with-http-in-angular-2.html#making-the-test-asynchronous\" rel=\"nofollow noreferrer\">thoughtram: Testing Services with Http in Angular</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('getVideos()', () =&gt; {\n\n  it('should return an Observable&lt;Array&lt;Video&gt;&gt;',\n      async(inject([VideoService, MockBackend], (videoService, mockBackend) =&gt; {\n\n      videoService.getVideos().subscribe((videos) =&gt; {\n        expect(videos.length).toBe(4);\n        expect(videos[0].name).toEqual('Video 0');\n        expect(videos[1].name).toEqual('Video 1');\n        expect(videos[2].name).toEqual('Video 2');\n        expect(videos[3].name).toEqual('Video 3');\n\n        expect(\"THIS TEST IS FALSE POSITIVE\").toEqual(false); \n      });\n\n      const mockResponse = {\n        data: [\n          { id: 0, name: 'Video 0' },\n          { id: 1, name: 'Video 1' },\n          { id: 2, name: 'Video 2' },\n          { id: 3, name: 'Video 3' }\n        ]\n      };\n\n      mockBackend.connections.subscribe((connection) =&gt; {\n        connection.mockRespond(new Response(new ResponseOptions({\n          body: JSON.stringify(mockResponse)\n        })));\n      });\n  })));\n});\n</code></pre>\n\n<p>However, I tried that out and I\u2019m pretty sure that MockBackend executes completely synchronous:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('getVideos()', () =&gt; {\n\n  it('should return an Observable&lt;Array&lt;Video&gt;&gt;',\n    inject([VideoService, MockBackend], (videoService, mockBackend) =&gt; {\n\n      const mockResponse = {\n        data: [\n          { id: 0, name: 'Video 0' },\n          { id: 1, name: 'Video 1' },\n          { id: 2, name: 'Video 2' },\n          { id: 3, name: 'Video 3' },\n        ]\n      };\n\n      mockBackend.connections.subscribe((connection) =&gt; {\n        connection.mockRespond(new Response(new ResponseOptions({\n          body: JSON.stringify(mockResponse)\n        })));\n      });\n\n      let videos;\n      videoService.getVideos().subscribe(v =&gt; videos = v);\n\n      // synchronous code!?\n      expect(videos.length).toBe(4);\n      expect(videos[0].name).toEqual('Video 0');\n      expect(videos[1].name).toEqual('Video 1');\n      expect(videos[2].name).toEqual('Video 2');\n      expect(videos[3].name).toEqual('Video 3');\n    }));\n});\n</code></pre>\n\n<p>I created a full example on plunker here:\n<a href=\"https://plnkr.co/edit/I3N9zL?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/I3N9zL?p=preview</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4leLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4leLL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Something must have been changed since those articles were written.\nCan somebody point me to that breaking change? Or did I missed an important fact?</p>\n"}, {"tags": ["typescript", "typescript2.0"], "owner": {"reputation": 3171, "user_id": 843315, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jdgM0.png?s=128&g=1", "display_name": "Vern Jensen", "link": "https://stackoverflow.com/users/843315/vern-jensen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482359581, "creation_date": 1482359581, "question_id": 41273033, "link": "https://stackoverflow.com/questions/41273033/importing-a-class-definition-from-a-ts-file-into-a-tsd-d-ts-file", "title": "Importing a class definition from a .ts file into a tsd.d.ts file?", "body": "<p>When writing a tsd.d.ts file, I fine myself using \"any\" as the type for classes that I don't want to define twice: once in tsd.d.ts, and once in the class implementation file. It seems like there should be a way to import from MyClass.ts any exported classes right into the tsd.d.ts file. I tried this (based on another stack overflow answer) but when I add:</p>\n\n<pre><code>import { CRGlobals } from \"../src/globals\"\n</code></pre>\n\n<p>to my tsd.d.ts file, I get tons of compile errors in all my other files for things defined in tsd.d.ts -- as if this file no longer exists.</p>\n\n<p>Do I really have to describe complex classes TWICE? Surely there must be a better way.</p>\n"}, {"tags": ["typescript", "module"], "answers": [{"comments": [{"owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "edited": false, "score": 1, "creation_date": 1482447773, "post_id": 41275777, "comment_id": 69788535, "body": "Hi thanks for this, however I am not in a position to change the .d.ts file since this is a third party file."}], "tags": [], "owner": {"reputation": 1893, "user_id": 276960, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TXyfr.jpg?s=128&g=1", "display_name": "rodrigogq", "link": "https://stackoverflow.com/users/276960/rodrigogq"}, "is_accepted": false, "score": 0, "last_activity_date": 1482381084, "last_edit_date": 1482381084, "creation_date": 1482380697, "answer_id": 41275777, "question_id": 41272574, "link": "https://stackoverflow.com/questions/41272574/typescript-custom-d-ts-import-module-does-not-work/41275777#41275777", "title": "typescript custom .d.ts import module does not work", "body": "<p>To fix it, try using in your <strong><code>myOtherModule.d.ts</code></strong> file:</p>\n\n<pre><code>export interface MyInterface {\n  login();\n  logout();\n}\n</code></pre>\n\n<p>And your <strong><code>foo.ts</code></strong> file:</p>\n\n<pre><code>import { MyInterface } from '../modules/myOtherModule';\n</code></pre>\n\n<p>Please refer to the official TypeScript templates for writing .d.ts files.</p>\n\n<p>You can find some examples here:\n<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/templates.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/templates.html</a></p>\n\n<p>There is a lot of useful information in these templates if you want to write a .d.ts file for a custom module or a class-module. </p>\n\n<p>Also, there are a lot of useful information in here:\n<a href=\"https://www.typescriptlang.org/docs/handbook/declaration-files/deep-dive.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/declaration-files/deep-dive.html</a></p>\n"}], "owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3506, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482381084, "creation_date": 1482357393, "question_id": 41272574, "link": "https://stackoverflow.com/questions/41272574/typescript-custom-d-ts-import-module-does-not-work", "title": "typescript custom .d.ts import module does not work", "body": "<p>I have the following .d.ts file </p>\n\n<pre><code>interface MyInterface {\n    login();\n    logout();\n}\n\ndeclare module \"myOtherModule\" {\n    export = MyInterface\n}\n</code></pre>\n\n<p>Now in my .ts file I include the following</p>\n\n<pre><code>import { MyInterface } from '../modules/myOtherModule';\n</code></pre>\n\n<p>Here I get the error \"myOtherModule.d.ts\" is not a module.  Shouldn't this work? if not how do I fix this?</p>\n"}, {"tags": ["typescript", "module", "tsconfig"], "comments": [{"owner": {"reputation": 2121, "user_id": 1451296, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/jIpxd.jpg?s=128&g=1", "display_name": "httpete", "link": "https://stackoverflow.com/users/1451296/httpete"}, "edited": false, "score": 0, "creation_date": 1485790038, "post_id": 41272378, "comment_id": 71059303, "body": "I am having this exact same problem, and I have posted it. To me, typeRoots does not work. For a temp workaround I added a  postinstall script which copies the types from my nested directory to the @types directory at the root."}], "answers": [{"comments": [{"owner": {"reputation": 9680, "user_id": 2054671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/egwA7.jpg?s=128&g=1", "display_name": "gaurav5430", "link": "https://stackoverflow.com/users/2054671/gaurav5430"}, "edited": false, "score": 0, "creation_date": 1615748939, "post_id": 41969123, "comment_id": 117781806, "body": "this seems to work for global types (as introduced by the declare module syntax), but not for declaration files which contain modules ?"}], "tags": [], "owner": {"reputation": 2121, "user_id": 1451296, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/jIpxd.jpg?s=128&g=1", "display_name": "httpete", "link": "https://stackoverflow.com/users/1451296/httpete"}, "is_accepted": false, "score": 7, "last_activity_date": 1604945326, "last_edit_date": 1604945326, "creation_date": 1485903823, "answer_id": 41969123, "question_id": 41272378, "link": "https://stackoverflow.com/questions/41272378/tsconfig-json-typeroots-custom-path-not-picked-up/41969123#41969123", "title": "tsconfig.json typeroots custom path not picked up", "body": "<p>I found the config that fixes this. Note the <code>paths</code> and <code>baseUrl</code> properties:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;version&quot;: &quot;2.1.5&quot;,\n  &quot;compilerOptions&quot;: {\n    &quot;module&quot;: &quot;commonjs&quot;,\n    &quot;target&quot;: &quot;ES5&quot;,\n    &quot;removeComments&quot;: true,\n    &quot;preserveConstEnums&quot;: true,\n    &quot;inlineSourceMap&quot;: true,\n    &quot;lib&quot;: [&quot;es6&quot;, &quot;dom&quot;],\n    &quot;typeRoots&quot;: [&quot;src/subfolder/node_modules/@types&quot;],\n    &quot;moduleResolution&quot;: &quot;node&quot;,\n    &quot;baseUrl&quot;: &quot;./&quot;,\n    &quot;paths&quot;: {\n      &quot;*&quot;: [&quot;src/subfolder/node_modules/@types/*&quot;, &quot;*&quot;]\n    }\n  },\n  &quot;exclude&quot;: [&quot;node_modules&quot;, &quot;src/subfolder/node_modules&quot;]\n}\n</code></pre>\n"}], "owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5922, "favorite_count": 1, "answer_count": 1, "score": 10, "last_activity_date": 1604945326, "creation_date": 1482356601, "question_id": 41272378, "link": "https://stackoverflow.com/questions/41272378/tsconfig-json-typeroots-custom-path-not-picked-up", "title": "tsconfig.json typeroots custom path not picked up", "body": "<p>I have some custom .d.ts files and I want tsc to pick up these files when compiling.  In order to get this done I modify the tsconfig.file to include the following</p>\n\n<pre><code>\"typeRoots\": [\n      \"../node_modules/@types\",\n      \"./app/modules\"\n    ]\n</code></pre>\n\n<p>./app/modules is where my custom .d.ts file resides.  Inside the ./app/modules folder I have the following file myModule.d.ts</p>\n\n<pre><code>export declare module myModule {\n  function Login();\n  function Logout();\n}\n</code></pre>\n\n<p>Now inside my other typescript file I have the following import </p>\n\n<pre><code>import { myModule } from 'myModule';\n</code></pre>\n\n<p>Here I get the following error <strong>Cannot find module 'myModule'.</strong></p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 2, "creation_date": 1482356642, "post_id": 41272375, "comment_id": 69746213, "body": "Can&#39;t you just pass a <code>new AssignedTestType</code> instance as the first argument?"}, {"owner": {"reputation": 14296, "user_id": 2539720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V6F3N.jpg?s=128&g=1", "display_name": "putvande", "link": "https://stackoverflow.com/users/2539720/putvande"}, "edited": false, "score": 1, "creation_date": 1482356931, "post_id": 41272375, "comment_id": 69746321, "body": "Lodash <code>cloneDeep</code>?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482357009, "post_id": 41272375, "comment_id": 69746364, "body": "It can&#39;t copy what&#39;s not there. Type assertion affects type checking only, it does not add any actual properties to <code>{}</code> - <code>{} as AssignedTestType</code> is still an empty object at runtime. You have to provide something that implements all the methods you want to start with."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482357172, "post_id": 41272375, "comment_id": 69746443, "body": "No that would be too easy ;-) I have an editable test types table where each tr-tag has a reset/cancel button. Not making a copy and just passing the instance would break the reset/clear button."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482357230, "post_id": 41272375, "comment_id": 69746472, "body": "@artem the newTestType instance has the implementation of both functions."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1482357360, "post_id": 41272375, "comment_id": 69746530, "body": "Can you provide a reproducible sample of code"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1482357510, "post_id": 41272375, "comment_id": 69746606, "body": "It&#39;s iteration through prototypes and doing <code>assign</code>. It can also be <code>$.clone</code> or <code>_.cloneDeep</code>. It makes sense to explain why deep clone is required here. As it was already said, some code is desirable."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 1, "creation_date": 1482357701, "post_id": 41272375, "comment_id": 69746707, "body": "@Pascal Maybe these functions are defined in the class of newTestType, that is, in its prototype? <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\">The Object.assign() method only copies enumerable and own properties from a source object to a target object</a>. Try <code>Object.create(newTestType) as AssignedTestType</code> then."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482359017, "post_id": 41272375, "comment_id": 69747262, "body": "@artem that seemed to work but now my button reset feature is broken and I must investigate..."}], "answers": [{"comments": [{"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482358526, "post_id": 41272664, "comment_id": 69747077, "body": "Its not about properties. Functions() do not get copied!"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482359473, "post_id": 41272664, "comment_id": 69747479, "body": "@Pascal There is no difference between &quot;functions&quot; and properties. Functions in JS are first class objects, you simply assign them to a property of an object to create methods."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482359569, "post_id": 41272664, "comment_id": 69747517, "body": "As I mentioned in my answer, the properties that are not being copied (which you say contain functions), are probably on the prototype of the object, and hence will not ignored by <code>Object.assign</code>."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482360844, "post_id": 41272664, "comment_id": 69748006, "body": "The properties/functions I look for are directly put in the implementation of the newTestType instance of type AssignedTestType. Thus you mean they should get copied?"}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482361104, "post_id": 41272664, "comment_id": 69748096, "body": "@Pascal You can&#39;t &quot;implement&quot; an instance, you can only instantiate one. Please show your actual code, because otherwise it is impossible to decipher what you are doing. As naomik has demonstrated in his answer, <code>Object.assign</code> works just fine with own properties that are functions."}, {"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 0, "creation_date": 1482361426, "post_id": 41272664, "comment_id": 69748236, "body": "I have not said that I implement an instance. The instance is the implementation during runtime ;-) I can not put the code here as its too much. it would take days then to comment each line that you understand each feature that not each of your advise would break any of those..."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "reply_to_user": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 1, "creation_date": 1482361554, "post_id": 41272664, "comment_id": 69748282, "body": "@Pascal You said, &quot;are directly put in the implementation of the newTestType instance&quot;. As I said earlier, it makes no sense to speak of the implementation of an instance because instances are not something one &quot;implements&quot;. It would be more useful for you to simply provide a reproducible snippet of code instead of fencing with people trying to help you."}], "tags": [], "owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "is_accepted": false, "score": 7, "last_activity_date": 1482357767, "creation_date": 1482357767, "answer_id": 41272664, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41272664#41272664", "title": "object.assign does not copy functions", "body": "<p>If the properties you're looking to copy are in the prototype of <code>newTestType</code>, they will not be copied, since <code>Object.assign</code> only copies an object instance's <em>own</em> properties. </p>\n\n<p>The alternatives are to either instantiate whatever constructor you used to create <code>newTestType</code>, and assign the resulting instance to <code>this.selected</code>, or to create an empty object and set its prototype to <code>newTestType</code>. In either case, <code>Object.assign</code> is the wrong tool to use here.</p>\n"}, {"comments": [{"owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "edited": false, "score": 3, "creation_date": 1482361553, "post_id": 41272667, "comment_id": 69748281, "body": "Although the answer does not help me, I mark it as solution as it is theoretically correct. Just my code which I can not put on the table here behaves bogus..."}], "tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": true, "score": 8, "last_activity_date": 1482357775, "creation_date": 1482357775, "answer_id": 41272667, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41272667#41272667", "title": "object.assign does not copy functions", "body": "<blockquote>\n  <p>object.assign does not copy functions</p>\n</blockquote>\n\n<p>That's untrue</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let x = {a: y =&gt; y * 2}\r\nlet z = Object.assign({}, x)\r\nconsole.log(z.a(5)); // 10</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>the selected instance does not own that functions which are in the type AssignedTestType.</p>\n</blockquote>\n\n<p>Now this part is true. <code>Object.assign</code> will only do a shallow copy and will only enumerate own props</p>\n"}, {"tags": [], "owner": {"reputation": 45777, "user_id": 38522, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/4LCcx.png?s=128&g=1", "display_name": "Ben Aston", "link": "https://stackoverflow.com/users/38522/ben-aston"}, "is_accepted": false, "score": 1, "last_activity_date": 1482360241, "creation_date": 1482360241, "answer_id": 41273170, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/41273170#41273170", "title": "object.assign does not copy functions", "body": "<p>How much effort you spend on cloning an object will depend on what you want to do.</p>\n\n<p>First port of call should be <a href=\"https://lodash.com/docs/#clone\" rel=\"nofollow noreferrer\"><em>.clone</a> or <a href=\"https://lodash.com/docs/#cloneDeep\" rel=\"nofollow noreferrer\"></em>.cloneDeep</a>.</p>\n\n<p>Also, based on the discussion you might be talking about copying references to functions on the prototype. In that case the solution might be as simple as:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class MyClass { foo() {} }\r\nclass MyOtherClass extends MyClass {}\r\nconsole.log(new MyOtherClass().__proto__.foo); // foo from MyClass</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to see a hacky clone function, this is a (untested) start (but they can get complex quite fast depending on your requirements):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function clone(o) {\r\n    if(!isObject(o)) {\r\n        throw 'o must be a a non-function object';\r\n    }    \r\n    return (function inner(a, b = {}) {\r\n        Object.keys(a).forEach(k =&gt; {\r\n          isObject(a[k])? b[k] = inner(a[k]) : b[k] = a[k];\r\n        });    \r\n        return b;\r\n    }(o));\r\n}\r\n\r\nfunction isObject(o) {\r\n    return o !== null &amp;&amp; typeof o === 'object'\r\n}\r\n\r\nvar a = {\r\n    foo: 'foo',\r\n    bar: () =&gt; { console.log('bar'); },\r\n    bat: {\r\n        baz: () =&gt; { console.log('baz'); }\r\n    }\r\n};\r\n\r\nconsole.log(clone(a));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 3913394, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32026277ebe7f08067c8fc3288843bd3?s=128&d=identicon&r=PG&f=1", "display_name": "Farshad Bayat", "link": "https://stackoverflow.com/users/3913394/farshad-bayat"}, "is_accepted": false, "score": 0, "last_activity_date": 1595087709, "last_edit_date": 1595087709, "creation_date": 1595082522, "answer_id": 62969704, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions/62969704#62969704", "title": "object.assign does not copy functions", "body": "<p>Fast clone complex object:</p>\n<p><strong>Code</strong></p>\n<pre><code>public static deepClone&lt;T&gt;(obj: any) {\nif ( obj === null || obj === undefined) {\n  return obj;\n} else if ( Array.isArray(obj)) {\n  const array: T[] = [];\n  obj.forEach( item =&gt; array.push( this.deepClone&lt;typeof item&gt;(item) ));\n  return array as T[];\n} else {\n  const c = Object.assign({} as T, obj);\n  const fields: string[] = Object.getOwnPropertyNames(obj);\n  fields.forEach( f =&gt; {\n    const field = obj[f];\n    if ( typeof field === 'object' ) {\n      c[f] = this.deepClone&lt;typeof field&gt;(field);\n    }\n  });\n  return Object.assign({}, obj);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Example:</strong></p>\n<pre><code>const x = {myProp: 'befor change value', c: {a: 1 , b: 2}, d: [1, 2, 3], func: () =&gt; {console.log('befor change function'); }};\nconst y = Object.assign(x);\nconst z = Utils.deepClone&lt;any&gt;(x);\nconsole.log(x, y, z);\nx.c.a = 12;\nx.myProp = 'after change value';\nx.func = () =&gt; console.log('after change function');\nconsole.log(x, y, z);\n</code></pre>\n"}], "owner": {"reputation": 9977, "user_id": 401643, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89503845649598e0ea21e8e9d5b5f9ca?s=128&d=identicon&r=PG", "display_name": "Pascal", "link": "https://stackoverflow.com/users/401643/pascal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9691, "favorite_count": 0, "closed_date": 1603544570, "accepted_answer_id": 41272667, "answer_count": 4, "score": 6, "last_activity_date": 1595087709, "creation_date": 1482356585, "question_id": 41272375, "link": "https://stackoverflow.com/questions/41272375/object-assign-does-not-copy-functions", "closed_reason": "Duplicate", "title": "object.assign does not copy functions", "body": "<p>I have a common typescript class with some functions.</p>\n\n<p>When I do  <code>this.selected = Object.assign({} as AssignedTestType, newTestType);</code></p>\n\n<p>the selected instance does not own that <strong>functions</strong> which are in the <code>type AssignedTestType</code>.</p>\n\n<p>How can I make a 'deep' copy with object.assign? or any alternative method?</p>\n"}, {"tags": ["javascript", "arrays", "typescript"], "comments": [{"owner": {"reputation": 3819, "user_id": 4095476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9255e07a865a8af3777fd16a6d1b2f00?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Gatnar", "link": "https://stackoverflow.com/users/4095476/pavel-gatnar"}, "edited": false, "score": 0, "creation_date": 1482351484, "post_id": 41271199, "comment_id": 69743532, "body": "Use Map class, see <a href=\"http://stackoverflow.com/questions/37894517/typescript-map-how-to-use-strong-types\" title=\"typescript map how to use strong types\">stackoverflow.com/questions/37894517/&hellip;</a>"}, {"owner": {"reputation": 333, "user_id": 4656713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Dt6u2.jpg?s=128&g=1", "display_name": "Thomas Juranek", "link": "https://stackoverflow.com/users/4656713/thomas-juranek"}, "edited": false, "score": 0, "creation_date": 1482351792, "post_id": 41271199, "comment_id": 69743674, "body": "Another option is to have a object with subobjects."}, {"owner": {"reputation": 3819, "user_id": 4095476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9255e07a865a8af3777fd16a6d1b2f00?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel Gatnar", "link": "https://stackoverflow.com/users/4095476/pavel-gatnar"}, "edited": false, "score": 1, "creation_date": 1482352275, "post_id": 41271199, "comment_id": 69743967, "body": "<code>var myArray: {[key: string]: CustomObject} = {}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "is_accepted": true, "score": 1, "last_activity_date": 1482445794, "last_edit_date": 1482445794, "creation_date": 1482359615, "answer_id": 41273043, "question_id": 41271199, "link": "https://stackoverflow.com/questions/41271199/how-can-i-define-an-object-based-array-in-typescript/41273043#41273043", "title": "How can I define an object based array in TypeScript?", "body": "<p>If you have a fixed number of keys, the best thing to do is:</p>\n\n<pre><code>const myObject = {\n    \"some-key1\": new CustomObject(\"param1\"),\n    \"some-key2\": new CustomObject(\"param2\"),\n    \"some-key3\": new CustomObject(\"param3\"),\n}\n</code></pre>\n\n<p>Note that now even something like this typechecks:</p>\n\n<pre><code>myObject[\"some-key1\"] // TypeScript correctly infers the type to be CustomObject!\n</code></pre>\n\n<p>If you can't do that, the best way is to use an index type:</p>\n\n<pre><code>let myObject: { [key: string]: CustomObject };\n</code></pre>\n\n<p>which indicates to TypeScript that myObject maps strings to CustomObjects.</p>\n\n<blockquote>\n  <p>Another question, if I have 100 elements in one collection, what would be faster - storing these items in a classic array (myarray.push(instanceObj)), or storing them as properties of objects?</p>\n</blockquote>\n\n<p>It really depends on what you're planning to do with the array/object. What's your use case?</p>\n"}], "owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 41273043, "answer_count": 1, "score": 0, "last_activity_date": 1482445794, "creation_date": 1482351293, "last_edit_date": 1482354165, "question_id": 41271199, "link": "https://stackoverflow.com/questions/41271199/how-can-i-define-an-object-based-array-in-typescript", "title": "How can I define an object based array in TypeScript?", "body": "<p>In Javascript, I can define a collection using an object, something like this:</p>\n\n<pre><code>var myArray = {};\nmyArray['some-key1'] = new CustomObject('param1');\nmyArray['some-key2'] = new CustomObject('param2');\nmyArray['some-key3'] = new CustomObject('param3');\n</code></pre>\n\n<p>In TypeScript, can I have a collection based on object's properties, like in Javascript?</p>\n\n<p>Another question, if I have 100 elements in one collection, what would be faster - storing these items in a classic array (<code>myarray.push(instanceObj)</code>), or storing them as properties of objects?</p>\n"}, {"tags": ["angular", "typescript", "protractor", "typescript-typings"], "comments": [{"owner": {"reputation": 19602, "user_id": 1291428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/85d9cc8609ffd73e99a31a1120ccfdaa?s=128&d=identicon&r=PG", "display_name": "Sebas", "link": "https://stackoverflow.com/users/1291428/sebas"}, "edited": false, "score": 0, "creation_date": 1482351098, "post_id": 41271008, "comment_id": 69743325, "body": "sometimes modules are duplicate and it does this kind of things. Try to identify the culprit..."}], "answers": [{"tags": [], "owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "is_accepted": true, "score": 1, "last_activity_date": 1482351598, "creation_date": 1482351598, "answer_id": 41271262, "question_id": 41271008, "link": "https://stackoverflow.com/questions/41271008/angular2-build-error-ts2305/41271262#41271262", "title": "Angular2 build error TS2305", "body": "<p>Too long for a comment:</p>\n\n<p>I just took a like at an angular-cli package.json, and I see some differences. Note the import of @angular/compiler-cli. It's a guess, but \"compiler\" and all your problems with types could be related. Maybe your versions are old/off (I see in your script @angular/compiler instead of compiler-cli, etc).</p>\n\n<p>(Changed post to include the whole package.json contents):</p>\n\n<pre><code>{\n  \"name\": \"my-website\",\n  \"version\": \"0.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"lint\": \"tslint \\\"src/**/*.ts\\\"\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"^2.1.0\",\n    \"@angular/compiler\": \"^2.1.0\",\n    \"@angular/core\": \"^2.1.0\",\n    \"@angular/forms\": \"^2.1.0\",\n    \"@angular/http\": \"^2.1.0\",\n    \"@angular/platform-browser\": \"^2.1.0\",\n    \"@angular/platform-browser-dynamic\": \"^2.1.0\",\n    \"@angular/router\": \"^3.1.0\",\n    \"core-js\": \"^2.4.1\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\n  \"devDependencies\": {\n    \"@angular/compiler-cli\": \"^2.1.0\",\n    \"@types/jasmine\": \"^2.2.30\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.20-4\",\n    \"codelyzer\": \"~1.0.0-beta.3\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"protractor\": \"4.0.9\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"~2.0.3\",\n    \"webdriver-manager\": \"10.2.5\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 7438, "user_id": 6361127, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh4.googleusercontent.com/-Jf9g-h-yi7A/AAAAAAAAAAI/AAAAAAAAAAo/-cWTRC0VGDg/photo.jpg?sz=128", "display_name": "BlackHoleGalaxy", "link": "https://stackoverflow.com/users/6361127/blackholegalaxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 912, "favorite_count": 0, "accepted_answer_id": 41271262, "answer_count": 1, "score": 0, "last_activity_date": 1482351598, "creation_date": 1482350516, "question_id": 41271008, "link": "https://stackoverflow.com/questions/41271008/angular2-build-error-ts2305", "title": "Angular2 build error TS2305", "body": "<p>I tried to run build on an angular2 project, inside a .NET project (this part doesn't matter a lot i think).</p>\n\n<p>I encounter the following error when building my project. Already tried to delete typings directory and then do typings install with no change.</p>\n\n<blockquote>\n  <p>Package.json</p>\n</blockquote>\n\n<pre><code>{\n  \"name\": \"angular2project\",\n  \"version\": \"1.0.0\",\n  \"license\": \"MIT\",\n  \"angular-cli\": {},\n  \"scripts\": {\n    \"start\": \"ng serve\",\n    \"lint\": \"ng lint\",\n    \"test\": \"ng test\",\n    \"pree2e\": \"webdriver-manager update\",\n    \"e2e\": \"protractor\",\n    \"clean\": \"rimraf -- wwwroot\",\n    \"postclean\": \"ng build\",\n    \"prebuild\": \"npm run clean\",\n    \"build\": \"dotnet build\",\n    \"clean:prod\": \"rimraf -- wwwroot\",\n    \"postclean:prod\": \"ng build --prod\",\n    \"prebuild:prod\": \"npm run clean:prod\",\n    \"build:prod\": \"dotnet publish -c release\"\n  },\n  \"private\": true,\n  \"dependencies\": {\n    \"@angular/common\": \"~2.0.0\",\n    \"@angular/compiler\": \"~2.0.0\",\n    \"@angular/core\": \"~2.0.0\",\n    \"@angular/forms\": \"~2.0.0\",\n    \"@angular/http\": \"~2.0.0\",\n    \"@angular/platform-browser\": \"~2.0.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.0.0\",\n    \"@angular/router\": \"~3.0.0\",\n    \"core-js\": \"^2.4.1\",\n    \"ng2-datepicker\": \"^1.1.1\",\n    \"rxjs\": \"5.0.0-beta.12\",\n    \"ts-helpers\": \"^1.1.1\",\n    \"zone.js\": \"^0.6.23\"\n  },\n  \"devDependencies\": {\n    \"@types/jasmine\": \"^2.2.30\",\n    \"@types/node\": \"^6.0.42\",\n    \"angular-cli\": \"1.0.0-beta.17\",\n    \"codelyzer\": \"~0.0.26\",\n    \"jasmine-core\": \"2.4.1\",\n    \"jasmine-spec-reporter\": \"2.5.0\",\n    \"karma\": \"1.2.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-firefox-launcher\": \"^1.0.0\",\n    \"karma-ie-launcher\": \"^1.0.0\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-phantomjs-launcher\": \"^1.0.2\",\n    \"karma-remap-istanbul\": \"^0.2.1\",\n    \"karma-safari-launcher\": \"^1.0.0\",\n    \"protractor\": \"4.0.9\",\n    \"rimraf\": \"^2.5.4\",\n    \"ts-node\": \"1.2.1\",\n    \"tslint\": \"3.13.0\",\n    \"typescript\": \"2.0.2\"\n  },\n  \"-vs-binding\": {\n    \"BeforeBuild\": [\n      \"build\"\n    ]\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Angular-cli.json</p>\n</blockquote>\n\n<pre><code>{\n  \"project\": {\n    \"version\": \"1.0.0-beta.16\",\n    \"name\": \"angular-admin\"\n  },\n  \"apps\": [\n    {\n      \"root\": \"src\",\n      \"outDir\": \"wwwroot\",\n      \"assets\": \"assets\",\n      \"index\": \"index.html\",\n      \"main\": \"main.ts\",\n      \"test\": \"test.ts\",\n      \"tsconfig\": \"tsconfig.json\",\n      \"prefix\": \"app\",\n      \"mobile\": false,\n      \"styles\": [\n        \"styles.css\"\n      ],\n      \"scripts\": [],\n      \"environments\": {\n        \"source\": \"environments/environment.ts\",\n        \"dev\": \"environments/environment.ts\",\n        \"prod\": \"environments/environment.prod.ts\"\n      }\n    }\n  ],\n  \"addons\": [],\n  \"packages\": [],\n  \"e2e\": {\n    \"protractor\": {\n      \"config\": \"./protractor.conf.js\"\n    }\n  },\n  \"test\": {\n    \"karma\": {\n      \"config\": \"./karma.conf.js\"\n    }\n  },\n  \"defaults\": {\n    \"styleExt\": \"css\",\n    \"prefixInterfaces\": false\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>Error Output</p>\n</blockquote>\n\n<pre><code>1&gt;------ Build started: Project: Angular2, Configuration: Debug Any CPU ------ \n1&gt;C:\\Angular2\\e2e\\base.po.ts(1,10): error TS2305: Build:Module ''protractor'' has no exported member 'browser'. \n1&gt;C:\\Angular2\\e2e\\base.po.ts(1,19): error TS2305: Build:Module ''protractor'' has no exported member 'element'. \n1&gt;C:\\Angular2\\e2e\\base.po.ts(1,28): error TS2305: Build:Module ''protractor'' has no exported member 'by'. \n1&gt;C:\\Angular2\\e2e\\base.po.ts(1,32): error TS2305: Build:Module ''protractor'' has no exported member 'ProtractorBrowser'. \n1&gt;C:\\Angular2\\node_modules\\@types\\jasmine\\index.d.ts(74,9): error TS2375: Build:Duplicate number index signature. \n1&gt;C:\\Angular2\\node_modules\\@types\\jasmine\\index.d.ts(129,9): error TS2374: Build:Duplicate string index signature. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(70,5): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'main' must be of type 'any', but here has type 'NodeModule'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(81,5): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'parent' must be of type 'any', but here has type 'NodeModule'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(82,5): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'children' must be of type 'any[]', but here has type 'NodeModule[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(102,6): error TS2300: Build:Duplicate identifier 'BufferEncoding'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(553,26): error TS2300: Build:Duplicate identifier 'Buffer'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(553,50): error TS2300: Build:Duplicate identifier 'SlowBuffer'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(597,5): error TS2309: Build:An export assignment cannot be used in a module with other exported elements. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(742,18): error TS2300: Build:Duplicate identifier 'Agent'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(797,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'addressType' must be of type 'string', but here has type 'number | \"udp4\" | \"udp6\"'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(800,18): error TS2300: Build:Duplicate identifier 'Worker'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(1281,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'SNICallback' must be of type '(servername: string) =&gt; any', but here has type '(servername: string, cb: (err: Error, ctx: SecureContext) =&gt; any) =&gt; any'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(1481,17): error TS2300: Build:Duplicate identifier 'CompleterResult'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(1518,18): error TS2300: Build:Duplicate identifier 'Script'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(2770,16): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'StringDecoder' must be of type 'new (encoding: string) =&gt; NodeStringDecoder', but here has type 'new (encoding?: string) =&gt; NodeStringDecoder'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(2821,18): error TS2300: Build:Duplicate identifier 'TLSSocket'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3018,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'pfx' must be of type 'any', but here has type 'string | Buffer[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3019,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'key' must be of type 'any', but here has type 'string | any[] | string[] | Buffer'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3021,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'cert' must be of type 'any', but here has type 'string | string[] | Buffer | Buffer[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3022,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'ca' must be of type 'any', but here has type 'string | string[] | Buffer | Buffer[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3023,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'crl' must be of type 'any', but here has type 'string | string[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3025,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'honorCipherOrder' must be of type 'any', but here has type 'boolean'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3028,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'NPNProtocols' must be of type 'any', but here has type 'string[] | Buffer'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3029,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'SNICallback' must be of type '(servername: string) =&gt; any', but here has type '(servername: string, cb: (err: Error, ctx: SecureContext) =&gt; any) =&gt; any'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3045,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'key' must be of type 'string | Buffer', but here has type 'string | string[] | Buffer | Buffer[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3047,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'cert' must be of type 'string | Buffer', but here has type 'string | string[] | Buffer | Buffer[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3048,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'ca' must be of type '(string | Buffer)[]', but here has type 'string | Buffer | (string | Buffer)[]'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3287,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'padding' must be of type 'any', but here has type 'number'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3292,9): error TS2403: Build:Subsequent variable declarations must have the same type. Variable 'padding' must be of type 'any', but here has type 'number'. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3550,5): error TS2309: Build:An export assignment cannot be used in a module with other exported elements. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3633,5): error TS2300: Build:Duplicate identifier 'export='. \n1&gt;C:\\Angular2\\node_modules\\@types\\node\\index.d.ts(3655,18): error TS2300: Build:Duplicate identifier 'Domain'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\browser.d.ts(2,76): error TS2305: Build:Module ''selenium-webdriver'' has no exported member 'Options'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\browser.d.ts(2,116): error TS2305: Build:Module ''selenium-webdriver'' has no exported member 'TargetLocator'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(4,39): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(5,27): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(6,25): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(7,37): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(8,25): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(9,29): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(10,47): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(11,35): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\node_modules\\protractor\\built\\locators.d.ts(12,31): error TS2304: Build:Cannot find name 'By'. \n1&gt;C:\\Angular2\\src\\app\\app.service.ts(2,26): error TS2307: Build:Cannot find module 'angular2-hmr'. \n1&gt;C:\\Angular2\\src\\main.browser.ts(1,10): error TS2305: Build:Module '\"C:/Angular2/node_modules/@angular/platform-browser-dynamic/index\"' has no exported member 'browserDynamicPlatform'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(78,6): error TS2300: Build:Duplicate identifier 'BufferEncoding'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(503,9): error TS2502: Build:'BuffType' is referenced directly or indirectly in its own type annotation. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(504,9): error TS2502: Build:'SlowBuffType' is referenced directly or indirectly in its own type annotation. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(505,26): error TS2300: Build:Duplicate identifier 'Buffer'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(505,50): error TS2300: Build:Duplicate identifier 'SlowBuffer'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(567,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'EventEmitter' and 'Server'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(578,22): error TS2320: Build:Interface 'ServerResponse' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(606,22): error TS2320: Build:Interface 'ClientRequest' cannot simultaneously extend types 'EventEmitter' and 'Writable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(632,22): error TS2320: Build:Interface 'IncomingMessage' cannot simultaneously extend types 'EventEmitter' and 'Readable'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(682,18): error TS2300: Build:Duplicate identifier 'Agent'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(727,18): error TS2300: Build:Duplicate identifier 'Worker'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(980,22): error TS2300: Build:Duplicate identifier 'CompleterResult'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(1020,18): error TS2300: Build:Duplicate identifier 'Script'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(1298,22): error TS2320: Build:Interface 'Server' cannot simultaneously extend types 'Socket' and 'EventEmitter'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(1861,18): error TS2300: Build:Duplicate identifier 'TLSSocket'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(2159,18): error TS2420: Build:Class 'Readable' incorrectly implements interface 'ReadableStream'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(2196,18): error TS2420: Build:Class 'Duplex' incorrectly implements interface 'ReadWriteStream'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(2210,18): error TS2420: Build:Class 'Transform' incorrectly implements interface 'ReadWriteStream'. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(2301,5): error TS2300: Build:Duplicate identifier 'export='. \n1&gt;C:\\Angular2\\typings\\globals\\node\\index.d.ts(2323,18): error TS2300: Build:Duplicate identifier 'Domain'. ========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1482349903, "post_id": 41270828, "comment_id": 69742690, "body": "Same way you check if its undefined in JS:  <code>typeof blah === &quot;undefined&quot;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1241, "user_id": 1635042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PsAEm.jpg?s=128&g=1", "display_name": "Mete Cantimur", "link": "https://stackoverflow.com/users/1635042/mete-cantimur"}, "is_accepted": true, "score": 1, "last_activity_date": 1482350243, "creation_date": 1482350243, "answer_id": 41270948, "question_id": 41270828, "link": "https://stackoverflow.com/questions/41270828/is-there-a-way-to-check-if-an-object-is-undefined-in-typescript/41270948#41270948", "title": "Is there a way to check if an object is undefined in typescript?", "body": "<p>You can simply write the line in the constructor like that:</p>\n\n<pre><code>var middleInitial = (blah &amp;&amp; blah.middleInitial) || \"\";\n</code></pre>\n"}], "owner": {"reputation": 35619, "user_id": 84539, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/277f6eb5c0f422fa7bec5b1d2cb51e82?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/84539/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2473, "favorite_count": 0, "accepted_answer_id": 41270948, "answer_count": 1, "score": 1, "last_activity_date": 1482350243, "creation_date": 1482349745, "question_id": 41270828, "link": "https://stackoverflow.com/questions/41270828/is-there-a-way-to-check-if-an-object-is-undefined-in-typescript", "title": "Is there a way to check if an object is undefined in typescript?", "body": "<p>I have read a <a href=\"https://github.com/Microsoft/TypeScript/issues/7426#issuecomment-196500331\" rel=\"nofollow noreferrer\">Github</a> issue that says there was no consensus on using <code>T?</code> as a way to see if a type is <code>null | undefined</code> which is a shame. I also read recommendations not to use null so I've set <code>\"strictNullChecks\": true,</code> in my tsconfig but with the code below TS shows me that <code>blah</code> can be of type <code>Blah</code> or <code>undefined</code> therefore I have to check if it's undefined before using a property.  Is there a idiomatic way to do this check, I know <code>T?</code> doesnt exist (wish it did) but is there some other built in way of doing it without having to write something in a helper class in all my projects?</p>\n\n<pre><code>interface Blah {\n    middleInitial?: string;\n    age?: number;\n}\n\nclass Student {\n    fullName: string;\n    constructor(public firstName: string, public lastName: string, public blah?: Blah) {\n        var middleInitial = blah == undefined ? \"\" : blah.middleInitial;\n        this.fullName = firstName + \" \" + middleInitial + \" \" + lastName;\n    }\n}\n</code></pre>\n"}, {"tags": ["angularjs", "typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6566945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef8eaf024c53b953d9562d8bbfb7b34?s=128&d=identicon&r=PG&f=1", "display_name": "Uka Lpts", "link": "https://stackoverflow.com/users/6566945/uka-lpts"}, "edited": false, "score": 0, "creation_date": 1482426032, "post_id": 41273937, "comment_id": 69778765, "body": "Even if I give the FormattedString an Id to reference it from my ts code, Still any change I do to its properties doesn&#39;t affect the render.  If I update my XML like this:  <code>&lt;Button class=&quot;but_border but_text bluebg&quot; flexGrow=&quot;1&quot; (touch)=&quot;togglePress($event)&quot;&gt;     &lt;FormattedString #lol&gt;         &lt;Span text=&quot;&amp;#xf230;&quot; fontFamily=&quot;FontAwesome, fontawesome-webfont&quot; fontSize=&quot;20&quot;&gt;&lt;&#47;Span&gt;         &lt;Span text=&quot;    Identif&#237;cate con Facebook&quot; &gt;&lt;&#47;Span&gt;     &lt;&#47;FormattedString&gt; &lt;&#47;Button&gt;</code>  to be continued..."}, {"owner": {"reputation": 101, "user_id": 6566945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef8eaf024c53b953d9562d8bbfb7b34?s=128&d=identicon&r=PG&f=1", "display_name": "Uka Lpts", "link": "https://stackoverflow.com/users/6566945/uka-lpts"}, "edited": false, "score": 0, "creation_date": 1482426238, "post_id": 41273937, "comment_id": 69778906, "body": "and then in my class:  <code>@ViewChild(&#39;lol&#39;) lol: ElementRef;      togglePress = function(args: TouchGestureEventData) {         console.log(args.view + &#39;: &#39; + args.action);          let lol = &lt;any&gt;this.lol.nativeElement;         lol.foregroundColor = &#39;red&#39;;     } </code>  I get the events fired, but I dont get any rendering changes at all..."}], "tags": [], "owner": {"reputation": 2360, "user_id": 2037517, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/01534fdd95b0d0acc0627da5a1cc35eb?s=128&d=identicon&r=PG", "display_name": "dashman", "link": "https://stackoverflow.com/users/2037517/dashman"}, "is_accepted": false, "score": 2, "last_activity_date": 1482369449, "last_edit_date": 1482369449, "creation_date": 1482365415, "answer_id": 41273937, "question_id": 41270815, "link": "https://stackoverflow.com/questions/41270815/how-do-i-change-the-text-color-of-a-button-that-has-a-formattedstring-on-runtime/41273937#41273937", "title": "How do I change the text color of a button that has a FormattedString on runtime?", "body": "<p><code>FormattedString</code> has it's own set of attributes.</p>\n\n<p>For example in this case it's <code>foregroundColor</code>.</p>\n\n<p><a href=\"https://docs.nativescript.org/api-reference/classes/_text_formatted_string_.formattedstring.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 6566945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef8eaf024c53b953d9562d8bbfb7b34?s=128&d=identicon&r=PG&f=1", "display_name": "Uka Lpts", "link": "https://stackoverflow.com/users/6566945/uka-lpts"}, "is_accepted": false, "score": 0, "last_activity_date": 1482756761, "creation_date": 1482756761, "answer_id": 41331607, "question_id": 41270815, "link": "https://stackoverflow.com/questions/41270815/how-do-i-change-the-text-color-of-a-button-that-has-a-formattedstring-on-runtime/41331607#41331607", "title": "How do I change the text color of a button that has a FormattedString on runtime?", "body": "<p>After many many tries to pull this out, This is the way I managed to get things done and move on. Still this is not the answer I'm looking for (sadly).</p>\n\n<p>I had to replace my buttons XML for this XML:</p>\n\n<pre><code>&lt;GridLayout columns=\"auto\" rows=\"auto\" class=\"button_grid\"&gt;\n   &lt;Button class=\"but_border but_text bluebg pressed\"&gt;\n     &lt;FormattedString&gt;\n       &lt;Span text=\"&amp;#xf230;\" fontFamily=\"FontAwesome, fontawesome-webfont\" fontSize=\"20\"&gt;&lt;/Span&gt;\n       &lt;Span text=\"    Identif\u00edcate con Facebook\" &gt;&lt;/Span&gt;\n     &lt;/FormattedString&gt;\n   &lt;/Button&gt;\n   &lt;Button class=\"but_border but_text bluebg\"&gt;\n     &lt;FormattedString&gt;\n       &lt;Span text=\"&amp;#xf230;\" fontFamily=\"FontAwesome, fontawesome-webfont\" fontSize=\"20\"&gt;&lt;/Span&gt;\n       &lt;Span text=\"    Identif\u00edcate con Facebook\" &gt;&lt;/Span&gt;\n     &lt;/FormattedString&gt;\n   &lt;/Button&gt;\n &lt;/GridLayout&gt;\n</code></pre>\n\n<p>As you may notice, I used a GridLayout to overlap 2 identical buttons one over the other (using the same col and row) and then, using CSS I hide the top button on its :pressed state, and also, added an additional .pressed class to the bottom button, so that I can style it the way I want my button to look when the user is pressing it.</p>\n\n<p>So I don't consider this a clean solution, but nevertheless it's A solution. This will have to do until someone comes up with something better. If it remains this way, I guess I should open an Issue on the Nativescript github, and maybe try to pull off a native solution and make a PR.</p>\n\n<p>I hope this to be useful for someone else... I will leave my CSS below:</p>\n\n<pre><code>.button_grid {\n    margin: 5;\n    flex-grow: 1;\n}\n.but_text{\n    font-size:14\n    border-color:rgba(255, 0, 0, 0.0);\n    border-width: 1;\n    color: white;\n    height: 45;\n}\n.but_border {\n    border-radius: 50%;\n    border-width: 0;\n    border-color: transparent;\n    width: 100%;\n}\n.but_border:pressed {          /* I use this to hide the topmost  */\n    visibility: collapse;      /* button on :pressed state        */\n}\n.but_border.bluebg {\n    background-color: #007aff;\n}\n.but_border.bluebg.pressed {   /* I use this to style the bottom  */\n    background-color: #004999; /* button (visible when pressed)   */\n}\n</code></pre>\n\n<p>It's important to notice the difference between the <code>:pressed</code> and the <code>.pressed</code>, just read the comment beside it.</p>\n"}], "owner": {"reputation": 101, "user_id": 6566945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef8eaf024c53b953d9562d8bbfb7b34?s=128&d=identicon&r=PG&f=1", "display_name": "Uka Lpts", "link": "https://stackoverflow.com/users/6566945/uka-lpts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1505153265, "creation_date": 1482349698, "last_edit_date": 1505153265, "question_id": 41270815, "link": "https://stackoverflow.com/questions/41270815/how-do-i-change-the-text-color-of-a-button-that-has-a-formattedstring-on-runtime", "title": "How do I change the text color of a button that has a FormattedString on runtime?", "body": "<p>I have the following structure:</p>\n\n<pre><code>&lt;Button class=\"but_border but_text bluebg\" flexGrow=\"1\" #lol2&gt;\n    &lt;FormattedString&gt;\n        &lt;Span text=\"&amp;#xf230;\" fontFamily=\"FontAwesome, fontawesome-webfont\" fontSize=\"20\"&gt;&lt;/Span&gt;\n        &lt;Span text=\"    Identif\u00edcate con Facebook\" &gt;&lt;/Span&gt;\n    &lt;/FormattedString&gt;\n&lt;/Button&gt;\n</code></pre>\n\n<p>which gives me this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/icsPf.png\" rel=\"nofollow noreferrer\">Screen Capture of the Button</a></p>\n\n<p>And it certainly looks the way I want it to. But I want my buttons to have a :pressed css state with some change in background color and font color.</p>\n\n<p>It should be trivial to do this using css this way:</p>\n\n<pre><code>.but {\n    color: white;\n}\n\n.but:pressed {\n    color: red;\n}\n</code></pre>\n\n<p>And it works if I dont use a FormattedString, but if I do, it only works on the first render. After that it won't change on any event, or even if I change the class or the xml or css properties by hand, The render never gets updated.</p>\n\n<p>I'm using FormattedString as it's the only way I know to avoid Android CAPITALIZING all the text in a button. I've tried using text decorators to avoid it but I can only CAPITALIZE, lowercase, or Titleize, but I can't leave the text just the way it is, unless... I use a FormattedString!</p>\n\n<p>Another thing I am using FormattedString for is to embed different fonts in the text (I am using FontAwesome Icons on this example)</p>\n"}, {"tags": ["javascript", "node.js", "typescript"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6736861"}, "is_accepted": false, "score": 2, "last_activity_date": 1482355058, "last_edit_date": 1482355058, "creation_date": 1482354649, "answer_id": 41271962, "question_id": 41270800, "link": "https://stackoverflow.com/questions/41270800/how-to-import-use-reflect-in-typescript/41271962#41271962", "title": "How to import/use Reflect in typescript", "body": "<p>Typescript uses a Module loading paradigm that's a bit different than that of JavaScript.</p>\n\n<p>Say you have a module <code>Modulus</code> that defines three classes <code>A</code>, <code>B</code> and <code>C</code>.</p>\n\n<pre><code>import { A } from \"Modulus\"\n</code></pre>\n\n<p>will import the class (or function) <code>A</code> from the module <code>Modulus</code> and make it available in your current module. If Typescript finds no export named <code>A</code> in <code>Modulus</code> and error will be thrown.</p>\n\n<pre><code>// Equivalent to the following in JavaScript:\n// var ModuleNameOfYourChoice = require(\"Modulus\")\n\nimport * as ModuleNameOfYourChoice from \"Modulus\"\n</code></pre>\n\n<p>will import all the exports declared within <code>Modulus</code> and make them available to the current module under the name <code>ModuleNameOfYourChoice</code>.</p>\n\n<p>For your code, you need all the exports defined in <code>reflect-metadata</code> module and thus need to import it as</p>\n\n<pre><code>import * as Reflect from \"reflect-metadata\"\n</code></pre>\n\n<p>All the best!</p>\n\n<p>Typescript documentation: <a href=\"http://www.typescriptlang.org/docs/handbook/modules.html#import\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/docs/handbook/modules.html#import</a></p>\n"}, {"comments": [{"owner": {"reputation": 6680, "user_id": 484488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3816bd03efefc4a508ed3e3a84c7ba68?s=128&d=identicon&r=PG", "display_name": "jmilloy", "link": "https://stackoverflow.com/users/484488/jmilloy"}, "edited": false, "score": 0, "creation_date": 1482426719, "post_id": 41272084, "comment_id": 69779160, "body": "Thanks, the bundle update failed error is something else."}, {"owner": {"reputation": 2764, "user_id": 1177597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1864f945b6feb96544871d198597474d?s=128&d=identicon&r=PG", "display_name": "Viacheslav Dobromyslov", "link": "https://stackoverflow.com/users/1177597/viacheslav-dobromyslov"}, "edited": false, "score": 0, "creation_date": 1582087931, "post_id": 41272084, "comment_id": 106651787, "body": "import &quot;reflect-metadata&quot;; causes eslint to complain about &quot;Imported module should be assigned&quot;. Its not a good codding style."}, {"owner": {"reputation": 2907, "user_id": 3019006, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qodt7.jpg?s=128&g=1", "display_name": "Deb", "link": "https://stackoverflow.com/users/3019006/deb"}, "edited": false, "score": 0, "creation_date": 1612642521, "post_id": 41272084, "comment_id": 116832756, "body": "What about <code>isPresent()</code>?"}, {"owner": {"reputation": 2907, "user_id": 3019006, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qodt7.jpg?s=128&g=1", "display_name": "Deb", "link": "https://stackoverflow.com/users/3019006/deb"}, "edited": false, "score": 0, "creation_date": 1612642937, "post_id": 41272084, "comment_id": 116832872, "body": "function isPresent(obj: any): boolean {     return obj !== undefined &amp;&amp; obj !== null;   }"}], "tags": [], "owner": {"reputation": 8290, "user_id": 4733027, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/c4M05.jpg?s=128&g=1", "display_name": "hannes neukermans", "link": "https://stackoverflow.com/users/4733027/hannes-neukermans"}, "is_accepted": true, "score": 19, "last_activity_date": 1564740293, "last_edit_date": 1564740293, "creation_date": 1482355220, "answer_id": 41272084, "question_id": 41270800, "link": "https://stackoverflow.com/questions/41270800/how-to-import-use-reflect-in-typescript/41272084#41272084", "title": "How to import/use Reflect in typescript", "body": "<p><strong>you have to import the type declarations</strong> together with the (js) library</p>\n\n<pre><code>npm install reflect-metadata -D\n</code></pre>\n\n<p>inside your .ts file:</p>\n\n<pre><code> import \"reflect-metadata\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 711, "user_id": 3227332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb07bbd9b5ee87da05d0ff3b682eda10?s=128&d=identicon&r=PG", "display_name": "Gabriel G.", "link": "https://stackoverflow.com/users/3227332/gabriel-g"}, "is_accepted": false, "score": 10, "last_activity_date": 1533665531, "last_edit_date": 1533665531, "creation_date": 1527859098, "answer_id": 50644380, "question_id": 41270800, "link": "https://stackoverflow.com/questions/41270800/how-to-import-use-reflect-in-typescript/50644380#50644380", "title": "How to import/use Reflect in typescript", "body": "<p>As of today, <code>@types/reflect-metadata</code> is deprecated since <code>reflect-metadata</code> includes already its own typings.</p>\n\n<p>So, to use them you just need to import the library (Uses the global scope). That's it.</p>\n\n<ol>\n<li><p>Install it:<br>\n<code>npm install reflect-metadata --save</code></p></li>\n<li><p>Import it:<br>\n<code>import 'reflect-metadata';</code></p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 0, "creation_date": 1599763907, "post_id": 59185593, "comment_id": 112882792, "body": "@Jackie hmm it is weird for me that works. Can you provide any example ?"}, {"owner": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 0, "creation_date": 1599765566, "post_id": 59185593, "comment_id": 112883501, "body": "sure I am playing around with it now here <a href=\"https://github.com/jrgleason/rollup-ng-typescript-demo/tree/MJS_CALLING_TS\" rel=\"nofollow noreferrer\">github.com/jrgleason/rollup-ng-typescript-demo/tree/&hellip;</a>"}, {"owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "reply_to_user": {"reputation": 17329, "user_id": 125212, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/cc4c37d7b7bdfa395b2fcdad7aa86125?s=128&d=identicon&r=PG", "display_name": "Jackie", "link": "https://stackoverflow.com/users/125212/jackie"}, "edited": false, "score": 0, "creation_date": 1599806137, "post_id": 59185593, "comment_id": 112893239, "body": "@Jackie i am getting 404 if I try to open this link"}], "tags": [], "owner": {"reputation": 1529, "user_id": 9095988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyfWH.jpg?s=128&g=1", "display_name": "Krzysztof Kaczy\u0144ski", "link": "https://stackoverflow.com/users/9095988/krzysztof-kaczy%c5%84ski"}, "is_accepted": false, "score": 0, "last_activity_date": 1575585495, "last_edit_date": 1575585495, "creation_date": 1575499086, "answer_id": 59185593, "question_id": 41270800, "link": "https://stackoverflow.com/questions/41270800/how-to-import-use-reflect-in-typescript/59185593#59185593", "title": "How to import/use Reflect in typescript", "body": "<p>I found another solution if you can use es7+. So in your <code>tsconfig.json</code> file you need to change only one line. Change assigment of <code>\"target\"</code> to at least <strong>es2017</strong>. And that's all now you can use <code>Reflect</code> out of the box. I think it is very good solution because you do not have to care about additional dependencies</p>\n\n<p><strong>Example <code>tsconfig.json</code></strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"experimentalDecorators\": true,\n    \"outDir\": \"../dist\",\n    \"module\": \"umd\",\n    \"target\": \"es2017\",\n    \"sourceMap\": true,\n    \"noImplicitAny\": true,\n    \"strictNullChecks\": true,\n    \"removeComments\": false,\n    \"moduleResolution\": \"node\"\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"bower_components\",\n    \"dist\"\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 6680, "user_id": 484488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3816bd03efefc4a508ed3e3a84c7ba68?s=128&d=identicon&r=PG", "display_name": "jmilloy", "link": "https://stackoverflow.com/users/484488/jmilloy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13615, "favorite_count": 2, "accepted_answer_id": 41272084, "answer_count": 4, "score": 10, "last_activity_date": 1575585495, "creation_date": 1482349648, "last_edit_date": 1495541889, "question_id": 41270800, "link": "https://stackoverflow.com/questions/41270800/how-to-import-use-reflect-in-typescript", "title": "How to import/use Reflect in typescript", "body": "<p>I'm trying to use the code in <a href=\"https://stackoverflow.com/a/36837482/484488\">this SO answer</a>. It uses Reflect. Here's a copy:</p>\n\n<pre><code>export function CustomComponent(annotation: any) {\n  return function (target: Function) {\n    var parentTarget = Object.getPrototypeOf(target.prototype).constructor;\n    var parentAnnotations = Reflect.getMetadata('annotations', parentTarget);\n\n    var parentAnnotation = parentAnnotations[0];\n    Object.keys(parentAnnotation).forEach(key =&gt; {\n      if (isPresent(parentAnnotation[key])) {\n        annotation[key] = parentAnnotation[key];\n      }\n    });\n    var metadata = new ComponentMetadata(annotation);\n\n    Reflect.defineMetadata('annotations', [ metadata ], target);\n  }\n}\n</code></pre>\n\n<p>First, I got these two errors:</p>\n\n<pre><code>Property 'getMetadata' does not exist on type 'typeof Reflect'.\nProperty 'defineMetadata' does not exist on type 'typeof Reflect'.\n</code></pre>\n\n<p>Then I ran <code>npm install reflect-metadata</code>, but I don't know how to use it.</p>\n\n<pre><code>import { Reflect } from reflect-metadata;\n\nModule '\".../node_modules/reflect-metadata/index\"' has no exported\nmember 'Reflect'.\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>import { Reflect } from 'reflect-metadata/Reflect';\n\nCannot find name 'Record'. \nType '{}' is not assignable to type 'V'.\nFile '.../node_modules/reflect-metadata/Reflect.ts' is not a module.\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>import \"reflect-metadata\"\n\nrollup: Treating 'fs' as external dependency \nbundle update failed: Error transforming .../node_modules/typescript/lib/typescript.js\nwith 'commonjs' plugin: The keyword 'package' is reserved (57066:28) in\n.../node_modules/typescript/lib/typescript.js \n</code></pre>\n\n<p>Or</p>\n\n<pre><code>var reflect = require(\"reflect-metadata\");\n\nCannot find name 'require'.\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>declare var require: any;\nvar reflect = require(\"reflect-metadata\");\nvar Reflect = reflect.Reflect;\n\n    rollup: Treating 'fs' as external dependency \nbundle update failed: Error transforming .../node_modules/typescript/lib/typescript.js\nwith 'commonjs' plugin: The keyword 'package' is reserved (57066:28) in\n.../node_modules/typescript/lib/typescript.js\n</code></pre>\n\n<p>Surely I'm just missing something silly, even a typo. What can I do to use this code?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1988, "user_id": 186787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/badf07efb51b919ce95beb912e411e86?s=128&d=identicon&r=PG", "display_name": "MiKo", "link": "https://stackoverflow.com/users/186787/miko"}, "edited": false, "score": 0, "creation_date": 1482350334, "post_id": 41270612, "comment_id": 69742915, "body": "You can access the <code>WizardComponent</code> in your <code>SellComponent</code> by declaring a property on the <code>SellComponent</code>: <code>@ViewChild(WizardComponent) wizard;</code> And then emit an event by accessing the <code>wizard.stepChange</code>."}, {"owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "reply_to_user": {"reputation": 1988, "user_id": 186787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/badf07efb51b919ce95beb912e411e86?s=128&d=identicon&r=PG", "display_name": "MiKo", "link": "https://stackoverflow.com/users/186787/miko"}, "edited": false, "score": 0, "creation_date": 1482351100, "post_id": 41270612, "comment_id": 69743327, "body": "Wow i&#39;m very happy :)  Add it like answer ill mark  Thanks a lot for help!"}, {"owner": {"reputation": 1988, "user_id": 186787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/badf07efb51b919ce95beb912e411e86?s=128&d=identicon&r=PG", "display_name": "MiKo", "link": "https://stackoverflow.com/users/186787/miko"}, "edited": false, "score": 0, "creation_date": 1482353372, "post_id": 41270612, "comment_id": 69744560, "body": "You are welcome to add it as an answer with your own code to provide better context. I am a newbie in Angular and am not sure if what I suggested is the best possible solution. Glad it was helpful, though! :-)"}], "answers": [{"tags": [], "owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "is_accepted": false, "score": 0, "last_activity_date": 1482354184, "last_edit_date": 1495541857, "creation_date": 1482354184, "answer_id": 41271861, "question_id": 41270612, "link": "https://stackoverflow.com/questions/41270612/how-to-call-method-from-another-component-angular2/41271861#41271861", "title": "How to call method from another component angular2", "body": "<p>Found solution. Thanks to <a href=\"https://stackoverflow.com/users/186787/0x2d9a3\">0x2D9A3</a></p>\n\n<p>We can access the <code>WizardComponent</code> in our SellComponent by declaring a property on the <code>SellComponent: @ViewChild(WizardComponent) wizard;</code> And then emit an event by accessing the <code>wizard.stepChange.</code></p>\n"}], "owner": {"reputation": 1805, "user_id": 7134112, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4f1a7a8de736c47ddb84983b8ebe4d10?s=128&d=identicon&r=PG&f=1", "display_name": "\u0410\u043d\u0434\u0440\u0435\u0439 \u0413\u0443\u0437\u044e\u043a", "link": "https://stackoverflow.com/users/7134112/%d0%90%d0%bd%d0%b4%d1%80%d0%b5%d0%b9-%d0%93%d1%83%d0%b7%d1%8e%d0%ba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4630, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482354184, "creation_date": 1482348911, "question_id": 41270612, "link": "https://stackoverflow.com/questions/41270612/how-to-call-method-from-another-component-angular2", "title": "How to call method from another component angular2", "body": "<p>I'm newbie with angular2 that's why i need help \ni'm creating multi-step form and i need to call method from another component \nI have SellComponent in this component template i have </p>\n\n<pre><code>&lt;sell-wizard&gt;\n  &lt;sell-wizard-step&gt;&lt;/sell-wizard-step&gt;\n&lt;/sell-wizard&gt;\n</code></pre>\n\n<p>And i have to call method which is located in WizardComponent\nBelow codes from components </p>\n\n<p><strong>WizardComponent</strong></p>\n\n<pre><code>import { Component, Input, Output, EventEmitter } from '@angular/core';\n@Component({\nselector: 'sell-wizard',\ntemplate: \"\n&lt;ng-content&gt;&lt;/ng-content&gt;\n&lt;div\n  class=\"my-wizard__footer\"&gt;\n  &lt;button\n    [style.visibility]=\"isOnFirstStep() ? 'hidden' : 'visible'\"\n    (click)=\"stepChange.emit(step - 1)\"&gt;\n    Previous\n  &lt;/button&gt;\n  {{step}} / {{steps}}\n  &lt;button\n    *ngIf=\"!isOnFinalStep()\"\n    (click)=\"stepChange.emit(step + 1)\"&gt;\n    Next\n  &lt;/button&gt;\n  &lt;button\n    *ngIf=\"isOnFinalStep()\"\n    (click)=\"finish.emit(step + 1)\"&gt;\n    {{finishText}}\n  &lt;/button&gt;\n&lt;/div&gt;\",\n})\nexport class WizardComponent {\n@Input() finishText = 'Finish';\n@Input() step = 1;\n@Output() finish = new EventEmitter();\n@Output() stepChange = new EventEmitter();\nprivate steps = 0;\nprivate isOnFinalStep = () =&gt; this.step === this.steps;\nprivate isOnFirstStep = () =&gt; this.step === 1;\n\npublic addStep() {\n  const newSteps = this.steps + 1;\n  this.steps = newSteps;\n  return newSteps;\n}}\n</code></pre>\n\n<p><strong>WizardStepComponent</strong></p>\n\n<pre><code>import { Component, Input } from '@angular/core';\nimport { WizardComponent } from './wizard.component';\n\n@Component({\n  selector: 'sell-wizard-step',\n  host: {\n    '[style.display]': 'isCurrent ? \"block\" : \"none\"',\n  },\n  template: `&lt;ng-content&gt;&lt;/ng-content&gt;`,\n})\nexport class WizardStepComponent {\nprivate isCurrent;\nprivate step;\n\nconstructor(\n  private parent:WizardComponent\n  ) {}\n\nngOnInit() {\n  this.step = this.parent.addStep();\n\n  this.isCurrent = this.step === this.parent.step;\n\n  this.parent.stepChange.subscribe(step =&gt; {\n    this.isCurrent = this.step === step;\n  });\n }\n}\n</code></pre>\n\n<p><strong>SellComponent</strong></p>\n\n<pre><code>import { Component, Input} from '@angular/core';\n\n\n@Component({\n  moduleId: module.id,\n  selector: 'sell',\n  templateUrl: 'sell.component.html'\n})\nexport class SellComponent  {\n  private step = 1;\n\n  constructor(){}\n}\n</code></pre>\n\n<p>So in this SellComponent view i tried to call method from WizardComponent</p>\n\n<pre><code>&lt;button type=\"button\" (click)=\"stepChange.emit(step + 1)\"&gt;next&lt;/button&gt;\n</code></pre>\n\n<p>And it says <code>Cannot read property 'stepChange' of undefined</code>\nHow do i can call fucntion from another component? \nThanks for help</p>\n"}, {"tags": ["javascript", "node.js", "angular", "sharepoint", "typescript"], "comments": [{"owner": {"reputation": 6769, "user_id": 2701677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTtUi.png?s=128&g=1", "display_name": "Thriggle", "link": "https://stackoverflow.com/users/2701677/thriggle"}, "edited": false, "score": 0, "creation_date": 1482350351, "post_id": 41270455, "comment_id": 69742928, "body": "Doesn&#39;t the TypeScript compile down to pure JavaScript? I&#39;d think you&#39;d be able to use the compiled output (just not the TypeScript input) in your resulting HTML file."}, {"owner": {"reputation": 1, "user_id": 7298600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba4be55aeb2d7c4cfed7440a8ddc495?s=128&d=identicon&r=PG&f=1", "display_name": "ryne", "link": "https://stackoverflow.com/users/7298600/ryne"}, "reply_to_user": {"reputation": 6769, "user_id": 2701677, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NTtUi.png?s=128&g=1", "display_name": "Thriggle", "link": "https://stackoverflow.com/users/2701677/thriggle"}, "edited": false, "score": 0, "creation_date": 1482416916, "post_id": 41270455, "comment_id": 69772555, "body": "Yeah, but i have 90+ MBs in the node_modules folder that I&#39;m not really sure what to do with to still allow the app to run. I tried to copy them into Site Assets and I&#39;d just change the path but it gets stuck on the package.json files which is in each folder within node_modules"}], "owner": {"reputation": 1, "user_id": 7298600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba4be55aeb2d7c4cfed7440a8ddc495?s=128&d=identicon&r=PG&f=1", "display_name": "ryne", "link": "https://stackoverflow.com/users/7298600/ryne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482348279, "creation_date": 1482348279, "question_id": 41270455, "link": "https://stackoverflow.com/questions/41270455/how-to-run-an-angular-2-application-through-a-content-editor-webpart-on-sharepoi", "title": "How to run an Angular 2 application through a Content Editor webpart on SharePoint 2013?", "body": "<p>In the past, I was able to develop HTML/CSS/JS solutions by simply having the HTML file pull in the CSS and JS and using a content editor which references the files (hosted in the SiteAssets document library) to load the HTML in. </p>\n\n<p>I've been learning TypeScript for angular which I know is compiled which throws a wrinkle into things which is where I'm running into the problem conceptually. I know Angular has lots of dependencies that I installed with npm.</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 2324, "user_id": 7302869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dcvQ4.jpg?s=128&g=1", "display_name": "Diogo Sgrillo", "link": "https://stackoverflow.com/users/7302869/diogo-sgrillo"}, "edited": false, "score": 1, "creation_date": 1482346273, "post_id": 41269866, "comment_id": 69740697, "body": "Your assumption was almost correct. The <code>customers</code> function is returning an array of strings..."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1482346351, "post_id": 41269866, "comment_id": 69740740, "body": "You probably want <code>customer.push({name,id,age,city});</code> Your naming is very, very confusing. And you&#39;re returning customer, which is of type any[], from a function whose return type is string[]. That doesn&#39;t make much sense."}], "answers": [{"comments": [{"owner": {"reputation": 8221, "user_id": 4753897, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bdbfc2acf43541819ebac66b81649ac8?s=128&d=identicon&r=PG&f=1", "display_name": "Mike3355", "link": "https://stackoverflow.com/users/4753897/mike3355"}, "edited": false, "score": 3, "creation_date": 1482349876, "post_id": 41270313, "comment_id": 69742677, "body": "This helped in more ways than one."}, {"owner": {"reputation": 1439, "user_id": 2575069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45ibA.jpg?s=128&g=1", "display_name": "rotarydial", "link": "https://stackoverflow.com/users/2575069/rotarydial"}, "edited": false, "score": 2, "creation_date": 1523080073, "post_id": 41270313, "comment_id": 86421858, "body": "This is a really excellent answer. The interface example was especially helpful, I found."}], "tags": [], "owner": {"reputation": 5182, "user_id": 2757140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48000922680b510078188df438184dd?s=128&d=identicon&r=PG", "display_name": "Piotr Lewandowski", "link": "https://stackoverflow.com/users/2757140/piotr-lewandowski"}, "is_accepted": true, "score": 18, "last_activity_date": 1483104789, "last_edit_date": 1483104789, "creation_date": 1482347765, "answer_id": 41270313, "question_id": 41269866, "link": "https://stackoverflow.com/questions/41269866/property-id-does-not-exist-on-type-string/41270313#41270313", "title": "Property id does not exist on type string", "body": "<p>You have to wrap your properties inside of object:</p>\n\n<pre><code>function createCustomer(name: string, id: number, age: number, city: string) {\n        customer.push({ name, id, age, city });\n}\n</code></pre>\n\n<p>Where <code>{ name, id, age, city }</code> is ES2015 equivalence of:</p>\n\n<pre><code>{\n    id: id,\n    name: name,\n    age: age,\n    city: city\n}\n</code></pre>\n\n<p>To avoid this kind of mistakes, I tend to create interface that forces structure:</p>\n\n<pre><code>interface ICustomer {\n    id: number;\n    name: string;\n    age: number;\n    city: string;\n}\n</code></pre>\n\n<p>which you assign to your array:</p>\n\n<pre><code>let customer: ICustomer[];\n</code></pre>\n\n<p>Except better type checking, it gives you better syntax hints.</p>\n\n<hr>\n\n<p>Edit:\nI've reviewed your code and made few suggestions about practices:</p>\n\n<ul>\n<li>Always give return type to functions</li>\n<li>Try to not work on external variables inside functions, if needed pass them as parameters</li>\n<li>Don't mix function definitions with actual code</li>\n</ul>\n\n<p>Code worth more than 1000 words. Here is refactored version:</p>\n\n<pre><code>const allCustomers: ICustomer[] = customers();\n\ninterface ICustomer {\n    id: number;\n    name: string;\n    age: number;\n    city: string;\n}\n\nfunction customers(): ICustomer[] {\n    let id: number = 0;\n\n    return [\n        createCustomer(id++, \"Drew\", 22, \"Glassboro\"),\n        createCustomer(id++, \"Mike\", 40, \"Rineyville\"),\n        createCustomer(id++, \"Justin\", 19, \"Jonesboro\"),\n        createCustomer(id++, \"Alex\", 15, \"Paulsboro\"),\n        createCustomer(id++, \"Phil\", 32, \"Glassboro\")\n    ];\n}\n\nfunction createCustomer(id: number, name: string, age: number, city: string): ICustomer {\n    return { id, name, age, city };\n}\n\nfunction getCustomerInformation(customers: ICustomer[], id: number): ICustomer {\n    // Note undefined is returned if object not found\n    return customers.find(customer =&gt; customer.id === id);\n}\n</code></pre>\n"}], "owner": {"reputation": 8221, "user_id": 4753897, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bdbfc2acf43541819ebac66b81649ac8?s=128&d=identicon&r=PG&f=1", "display_name": "Mike3355", "link": "https://stackoverflow.com/users/4753897/mike3355"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53045, "favorite_count": 4, "accepted_answer_id": 41270313, "answer_count": 1, "score": 13, "last_activity_date": 1505936736, "creation_date": 1482346050, "last_edit_date": 1505936736, "question_id": 41269866, "link": "https://stackoverflow.com/questions/41269866/property-id-does-not-exist-on-type-string", "title": "Property id does not exist on type string", "body": "<p>I am getting the follow error in my IDE saying <code>Property id does not exist on type string typeScript</code> for this line of code:</p>\n\n<pre><code>if(customer.id === id) {//doesn't like customer.id\n            return customer;\n        }\n</code></pre>\n\n<p>full code:</p>\n\n<pre><code>let customer:any [];\n\nfunction Customers(): string[] {\n\n    let id = 0;\n\n    createCustomer(\"Drew\",id++,22,\"Glassboro\");\n    createCustomer(\"Mike\",id++,40,\"Rineyville\");\n    createCustomer(\"Justin\",id++,19,\"Jonesboro\");\n    createCustomer(\"Alex\",id++,15,\"Paulsboro\");\n    createCustomer(\"Phil\",id++,32,\"Glassboro\");\n\n    return customer;\n}\n\nfunction createCustomer(name:string,id:number,age:number,city:string){\n        customer.push(name,id,age,city);\n}\n\nconst allCustomers = Customers();\n\nfunction getCustomerInformation(id:number): string {\n\n    for (let customer of allCustomers) {\n\n        if(customer.id === id){\n            return customer;\n        }\n\n    }\n\n    return \"\";\n}\n</code></pre>\n\n<p>It was my assumption since I used <code>any</code> for <code>let customer:any [];</code> I could put different variables in there.</p>\n\n<p>----------------- Thanks for some help this is my new solution--------</p>\n\n<pre><code>interface ICustomer{\n    id: number;\n    name: string;\n    age: number\n    city: string\n}\n\nlet customers: Array&lt;ICustomer&gt;;\n\nfunction generateCustomers(): void {\n\n    let id: number = 0;\n\n    createCustomer(\"Drew\", id++, 22, \"Glassboro\");\n    createCustomer(\"Mike\", id++, 40, \"Rineyville\");\n    createCustomer(\"Justin\", id++, 19, \"Jonesboro\");\n    createCustomer(\"Alex\", id++, 15, \"Paulsboro\");\n    createCustomer(\"Phil\", id++, 32, \"Glassboro\");\n\n}\n\nfunction getAllCustomers(): ICustomer[]{\n\n    generateCustomers();\n\n    return customers;\n}\n\nfunction createCustomer(name:string,id:number,age:number,city:string): void {\n\n    let newCustomer:ICustomer = {id:id,name:name,age:age,city:city};\n\n    customers.push(newCustomer);\n}\n\nconst allCustomers = getAllCustomers;\n\nfunction getCustomerInformation(id:number): ICustomer {\n\n    for (let customer of allCustomers()) {\n\n        if(customer.id === id){\n            return customer;\n        }\n    }\n\n    return null;\n}\n\n\nconsole.log(getCustomerInformation(1));\n</code></pre>\n"}, {"tags": ["typescript", "npm"], "answers": [{"comments": [{"owner": {"reputation": 618, "user_id": 1033939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59b515035e39693b135b9195ab434e06?s=128&d=identicon&r=PG", "display_name": "Maxim Kulikov", "link": "https://stackoverflow.com/users/1033939/maxim-kulikov"}, "edited": false, "score": 0, "creation_date": 1495464656, "post_id": 43293752, "comment_id": 75251217, "body": "Git url solution has some limitation in versioning - you cannot use semver version ranges. You may point to specific tags or specific branches, but not version ranges. You may work around it by manually maintaining branches for each usable range (1.x, 1.1.x, 1.2.x, 1.3.x, 2.x, 2.1.x, 2.2.x, ...)."}], "tags": [], "owner": {"reputation": 9038, "user_id": 3552932, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2ae3a039bdc0348c262791d699c168d9?s=128&d=identicon&r=PG", "display_name": "mleko", "link": "https://stackoverflow.com/users/3552932/mleko"}, "is_accepted": false, "score": 7, "last_activity_date": 1491652677, "last_edit_date": 1491652677, "creation_date": 1491652331, "answer_id": 43293752, "question_id": 41269664, "link": "https://stackoverflow.com/questions/41269664/installing-a-private-package-to-types-typescript-npm/43293752#43293752", "title": "Installing a private package to @types - TypeScript &amp; NPM", "body": "<p>You don't have to send your typings anywhere. You can use <a href=\"https://docs.npmjs.com/files/package.json#git-urls-as-dependencies\" rel=\"noreferrer\">git url as dependency</a> or <a href=\"https://docs.npmjs.com/files/package.json#local-paths\" rel=\"noreferrer\">local path</a></p>\n\n<hr>\n\n<p>Assuming you want to create <code>@types/secret-library</code>. And your types are in file <code>index.d.ts</code>.</p>\n\n<p>Create <code>package.json</code> with <code>@types/secret-library</code> as a package name</p>\n\n<pre><code>// package.json\n{\n  \"name\": \"@types/secret-library\",\n  \"private\": true,\n  \"types:\" \"index.d.ts\"\n}\n</code></pre>\n\n<h2><em>git url</em></h2>\n\n<p>Push both <code>index.d.ts</code> and <code>package.json</code> to some repo e.g. <code>git.acme.com/secret-project.git</code>.</p>\n\n<p>Now in your other project you can reference this repository as a dependency</p>\n\n<pre><code>// package.json\n{\n  \"name\": \"doom-machine\",\n  \"private\": true,\n  \"dependencies\":{\n      \"@types/secret-library\": \"git://git.acme.com/secret-project.git\"\n  }\n}\n</code></pre>\n\n<h2><em>local path</em></h2>\n\n<p>If both <code>index.d.ts</code> and <code>package.json</code> are in directory <code>/home/evil-genius/doom-saucer</code></p>\n\n<p>You can reference this path as a dependency</p>\n\n<pre><code>// package.json\n{\n  \"name\": \"doom-machine\",\n  \"private\": true,\n  \"dependencies\":{\n      \"@types/secret-library\": \"file:/home/evil-genius/doom-saucer\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 6294, "user_id": 1369331, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ZFFPo.jpg?s=128&g=1", "display_name": "barndog", "link": "https://stackoverflow.com/users/1369331/barndog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2962, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1491652677, "creation_date": 1482345337, "question_id": 41269664, "link": "https://stackoverflow.com/questions/41269664/installing-a-private-package-to-types-typescript-npm", "title": "Installing a private package to @types - TypeScript &amp; NPM", "body": "<p>I have a repo that's compromised only of an <code>index.d.ts</code> file (TypeScript definition file) that I want to share among a number of repos I have. The only declaration in the type definition file is an interface like so:</p>\n\n<pre><code>interface MyInterface {\n    thisSuperCoolFunction(): void;\n}\n</code></pre>\n\n<p>Unfortunately, the definition repo and all other repos I'm using are private. Is it possible to submit a private npm typings project to <code>@types</code> so that installing it will just work but also not expose it to anyone else?</p>\n\n<p>Note: Not the <a href=\"https://github.com/typings/typings\" rel=\"noreferrer\">typings</a> repo, only <code>@types</code> on npm.</p>\n"}, {"tags": ["angular", "typescript"], "owner": {"reputation": 1858, "user_id": 2242564, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6421f665d70139f0599fdcce3cc7ba30?s=128&d=identicon&r=PG", "display_name": "pjlamb12", "link": "https://stackoverflow.com/users/2242564/pjlamb12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482345080, "creation_date": 1482345080, "question_id": 41269589, "link": "https://stackoverflow.com/questions/41269589/typescript-compiler-errors-in-gulp-typescript", "title": "TypeScript Compiler Errors in gulp-typescript", "body": "<p>I recently updated to Angular 2.4, and my <code>gulp-typescript</code> build step is throwing compiler errors. I've googled everything, and looked at every question I could find that seemed relevant. However, nothing has worked for me so far. I'm using <code>typescript</code> version 2.1.4 and <code>gulp-typescript</code> version 3.1.3. the following is the output with the compiler errors that I'm seeing.</p>\n\n<pre><code>/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(6,14): error TS2300: Duplicate identifier 'PropertyKey'.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(10,5): error TS2687: All declarations of 'value' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(248,5): error TS2687: All declarations of 'EPSILON' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(283,5): error TS2687: All declarations of 'MAX_SAFE_INTEGER' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(290,5): error TS2687: All declarations of 'MIN_SAFE_INTEGER' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(346,5): error TS2687: All declarations of 'flags' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(498,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(561,5): error TS2687: All declarations of 'size' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(570,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(581,5): error TS2687: All declarations of 'size' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(591,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(606,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/@types/es6-shim/index.d.ts(620,5): error TS2687: All declarations of 'prototype' must have identical modifiers.\n/Users/pjlamb12/projects/service-portal/node_modules/typescript/lib/lib.es2015.core.d.ts(21,14): error TS2300: Duplicate identifier 'PropertyKey'.\n</code></pre>\n\n<p>All the errors are in the node_modules file. <code>gulp-typescript</code> is being configured like this:</p>\n\n<pre><code>tsProject = ts.createProject('tsconfig.json', { typescript: require('typescript') });\n</code></pre>\n\n<p>and the <code>tsconfig.json</code>: </p>\n\n<pre><code>{\n    \"version\": \"1.8.9\",\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"lib\": [ \"es2015\", \"dom\" ],\n        \"removeComments\": false,\n        \"noImplicitAny\": true,\n        \"suppressImplicitAnyIndexErrors\": true\n},\n    \"exclude\": [\n        \"node_modules\",\n        \"bower_components\",\n        \"typings/main\",\n        \"typings/main.d.ts\",\n        \".tmp\"\n    ]\n}\n</code></pre>\n\n<p>I have the <code>node_modules</code> directory in the <code>exclude</code> array, but it appears to still be included. I read on one answer that any referenced file is compiled, regardless of if it's in the <code>exclude</code> array or not.</p>\n\n<p>Is there anything I can do to get rid of these compiler errors? Or are they things I can ignore and will be fixed by the maintainers of the packages?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["validation", "angular", "typescript"], "comments": [{"owner": {"reputation": 4150, "user_id": 1380739, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/9WOhZ.jpg?s=128&g=1", "display_name": "Jesse Kernaghan", "link": "https://stackoverflow.com/users/1380739/jesse-kernaghan"}, "edited": false, "score": 0, "creation_date": 1482356920, "post_id": 41269365, "comment_id": 69746315, "body": "I imagine that the problem lies with anywhere you&#39;re doing things like  <code>this.list.push(item);</code>. Since you are mutating the array instead of reassigning with a new array Angular2 probably doesn&#39;t know that a change occurred. Check <a href=\"http://stackoverflow.com/questions/40829951/angular2-ngfor-onpush-change-detection-with-array-mutations\">this answer</a> for possible solutions."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1902875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3524a6fd653b96bfacdcfc551bed2696?s=128&d=identicon&r=PG", "display_name": "HeikaHaku", "link": "https://stackoverflow.com/users/1902875/heikahaku"}, "is_accepted": false, "score": 0, "last_activity_date": 1482356229, "creation_date": 1482356229, "answer_id": 41272302, "question_id": 41269365, "link": "https://stackoverflow.com/questions/41269365/custom-angular2-validator-only-evaluates-when-the-page-loads-and-not-when-the-o/41272302#41272302", "title": "Custom Angular2 Validator only evaluates when the page loads, and not when the object is updated", "body": "<p>This seems to work.</p>\n\n<pre><code>...//Tags Component pushMethod\npushTag() {\n    let str = this.current;\n    this.current = '';\n    if(str.trim() != '') {\n      for(let s of str.split(',')) {\n        s = this.sanitize(s);\n        if(s.trim() != '') {\n          if(!this.tagsList.some(x =&gt; x.toLowerCase() === s.toLowerCase())) {\n            this.tagsList.push(s);\n            this.pushed.emit(s); // created an EventEmitter&lt;string&gt;\n          }\n        }\n      }\n    }\n  }\n</code></pre>\n\n<p>And in my main component:</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;form [formGroup]=\"myForm\"&gt;\n    &lt;div&gt;\n    (Comma Separated, no duplicates allowed. Enter also submits a tag.)\n    &lt;div tags formControlName=\"list\" (pushed)=\"update()\" [(ngModel)]=\"list\"&gt; &lt;/div&gt;\n       &lt;div *ngIf=\"myForm.get('list').valid\"&gt;List 1 Not Empty.&lt;/div&gt;\n    &lt;div tags formControlName=\"list2\" (pushed)=\"update()\" [(ngModel)]=\"list2\"&gt; &lt;/div&gt;\n       &lt;div *ngIf=\"myForm.get('list2').valid\"&gt;List 2 Not Empty.&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n  `,\n})\nexport class App {\n  list:Array&lt;string&gt;;\n  list2:Array&lt;string&gt;;\n  myForm:FormGroup;\n  myList:FormControl;\n  myList2:FormControl;\n  constructor(private fb: FormBuilder) {\n    this.list = [];\n    this.list2 = [\"test\"];\n    this.myList = fb.control('', notEmpty);\n    this.myList2 = fb.control('', notEmpty);\n    this.myForm = fb.group({\n      list: this.myList,\n      list2: this.myList2\n      });\n  }\n\n  update() {\n    this.myList.updateValueAndValidity();\n    this.myList2.updateValueAndValidity();\n  }\n\n  addItem(item:string) {\n    this.list.push(item);\n  }\n}\n</code></pre>\n\n<p>Seems kind of hacky, though, so I'd still like a better answer, if there is one.</p>\n"}], "owner": {"reputation": 1, "user_id": 1902875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3524a6fd653b96bfacdcfc551bed2696?s=128&d=identicon&r=PG", "display_name": "HeikaHaku", "link": "https://stackoverflow.com/users/1902875/heikahaku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482356229, "creation_date": 1482344268, "question_id": 41269365, "link": "https://stackoverflow.com/questions/41269365/custom-angular2-validator-only-evaluates-when-the-page-loads-and-not-when-the-o", "title": "Custom Angular2 Validator only evaluates when the page loads, and not when the object is updated", "body": "<p>I'm trying to validate a form with tags, where the list must contain at least one tag to be valid. But it's only evaluating when the page loads, and not updating.</p>\n\n<p><a href=\"https://plnkr.co/edit/umnhybKhNEjswrUJGh3q?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/umnhybKhNEjswrUJGh3q?p=preview</a></p>\n\n<p>Validation Function:</p>\n\n<pre><code>function notEmpty(control) {\n  if(control.value == null || control.value.length===0) {\n    return {\n      notEmpty: true\n    }\n  }\n\n  return null;\n}\n</code></pre>\n\n<p>Component and Template using the Validator:</p>\n\n<pre><code>@Component({\n  selector: 'my-app',\n  template: `\n    &lt;form [formGroup]=\"myForm\"&gt;\n    &lt;div&gt;\n    (Comma Separated, no duplicates allowed. Enter also submits a tag.)\n    &lt;div tags formControlName=\"list\" [(ngModel)]=\"list\"&gt; &lt;/div&gt;\n       &lt;div *ngIf=\"myForm.get('list').valid\"&gt;List 1 Not Empty.&lt;/div&gt;\n    &lt;div tags formControlName=\"list2\" [(ngModel)]=\"list2\"&gt; &lt;/div&gt;\n       &lt;div *ngIf=\"myForm.get('list2').valid\"&gt;List 2 Not Empty.&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n  `,\n})\nexport class App {\n  list:Array&lt;string&gt;;\n  list2:Array&lt;string&gt;;\n  myForm:FormGroup;\n  myList:FormControl;\n  myList2:FormControl;\n  constructor(private fb: FormBuilder) {\n    this.list = [];\n    this.list2 = [\"test\"];\n    this.myList = fb.control('', notEmpty);\n    this.myList2 = fb.control('', notEmpty);\n    this.myForm = fb.group({\n      list: this.myList,\n      list2: this.myList2\n      });\n  }\n\n  addItem(item:string) {\n    this.list.push(item);\n  }\n}\n</code></pre>\n\n<p>Tags Component and other child components:</p>\n\n<pre><code>const MY_PROVIDER = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(()=&gt; Tags),\n    multi: true\n  };\n\n@Component({\n  selector: 'tags, [tags]',\n  template: ` \n  &lt;div&gt;\n    &lt;tag-item *ngFor=\"let item of tagsList\" item=\"{{item}}\" (remove)=\"removeTag(item)\"&gt;&lt;/tag-item&gt;\n    &lt;input class=\"tagInput\" #tagInput\n         (focus)=\"focus()\"\n         [(ngModel)]=\"current\"\n         (keydown)=\"keyDown($event)\"\n         (keyup)=\"keyUp($event)\"\n         (blur)=\"blur()\"\n         placeholder=\"+ Tag\"/&gt;\n  &lt;/div&gt;\n  `,\n  providers: [MY_PROVIDER]\n})\nexport class Tags implements ControlValueAccessor {\n  tagsList : Array&lt;string&gt;;\n  current : string;\n  @ViewChild('tagInput') child;\n  inFocus : boolean = false;\n\n  constructor() {\n    this.current = \"\";\n    this.tagsList = new Array&lt;string&gt;();\n  }\n\n  focus() {\n    this.child.nativeElement.focus();\n    this.inFocus = true;\n  }\n\n  keyDown(event:KeyboardEvent) {\n    if (event.keyCode === 188 || event.keyCode === 13) { //188 is Comma, 13 is Enter, 32 is Space.\n      this.pushTag();\n    }  else if (event.keyCode === 8 &amp;&amp; this.current.length == 0 &amp;&amp; this.tagsList.length &gt; 0){\n      this.current = this.tagsList.pop();\n    }\n  }\n\n  keyUp(event:KeyboardEvent) {\n    if(event.keyCode === 188) {\n      this.current = '';\n    }\n  }\n\n  pushTag() {\n    let str = this.current;\n    this.current = '';\n    if(str.trim() != '') {\n      for(let s of str.split(',')) {\n        s = this.sanitize(s);\n        if(s.trim() != '') {\n          if(!this.tagsList.some(x =&gt; x.toLowerCase() === s.toLowerCase()))\n            this.tagsList.push(s);\n        }\n      }\n    }\n  }\n\n  sanitize(str: string) : string {\n    let s = str;\n    s = s.replace('\\'', '').replace('\"', '').replace(';', '');\n    return s;\n  }\n\n  blur() {\n    this.pushTag();\n    this.inFocus = false;\n  }\n\n  removeTag(value) {\n    let index = this.tagsList.indexOf(value, 0);\n    if (index &gt; -1) {\n       this.tagsList.splice(index, 1);\n     }\n  }\n\n  clear() {\n    this.tagsList = new Array&lt;string&gt;();\n  }\n\n    get value(): Array&lt;string&gt; { return this.tagsList; };\n    set value(v: Array&lt;string&gt;) {\n      if (v !== this.tagsList) {\n        this.tagsList = v;\n        this.onChange(v);\n        this.onTouched();\n      }\n    }\n\n    writeValue(value: Array&lt;string&gt;) {\n      this.tagsList = value;\n      this.onChange(value);\n    }\n\n    onChange = (_) =&gt; {};\n    onTouched = () =&gt; {};\n    registerOnChange(fn: (_: any) =&gt; void): void { this.onChange = fn; }\n    registerOnTouched(fn: () =&gt; void): void { this.onTouched = fn; }\n}\n\n@Component({\n  selector: 'tag-item, [tag-item]',\n  template: `{{item}}   &lt;delete-me (click)=\"removeTag(item)\"&gt;x&lt;/delete-me&gt;`\n})\nexport class TagItem {\n  @Input() item : string;\n  @Output() remove : EventEmitter&lt;string&gt; = new EventEmitter();\n\n  removeTag(item) {\n    this.remove.emit(item);\n  }\n}\n\n@Component({\n  selector:'delete-me',\n  template:'x'\n})\nexport class DeleteIcon {\n\n}\n</code></pre>\n"}, {"tags": ["jquery", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1241, "user_id": 1635042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PsAEm.jpg?s=128&g=1", "display_name": "Mete Cantimur", "link": "https://stackoverflow.com/users/1635042/mete-cantimur"}, "is_accepted": true, "score": 3, "last_activity_date": 1482351683, "creation_date": 1482351683, "answer_id": 41271275, "question_id": 41269009, "link": "https://stackoverflow.com/questions/41269009/compilation-error-after-integrating-jquery-in-angular-2-app/41271275#41271275", "title": "Compilation error after integrating JQuery in Angular 2 app", "body": "<p>Transpiler gives duplicate definition error because you seem to have installed the definition files into multiple locations in your project:</p>\n\n<pre><code>node_modules/@types/jquery/index.d.ts\ntypings/globals/jquery/index.d.ts\n</code></pre>\n\n<p>Try to uninstall <code>@types/jquery</code> module by typing this line:</p>\n\n<pre><code>npm remove @types/jquery --save-dev\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9858, "user_id": 1152809, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7bA0M.jpg?s=128&g=1", "display_name": "Travis Heeter", "link": "https://stackoverflow.com/users/1152809/travis-heeter"}, "is_accepted": false, "score": 0, "last_activity_date": 1538247931, "creation_date": 1538247931, "answer_id": 52571603, "question_id": 41269009, "link": "https://stackoverflow.com/questions/41269009/compilation-error-after-integrating-jquery-in-angular-2-app/52571603#52571603", "title": "Compilation error after integrating JQuery in Angular 2 app", "body": "<p>I had the same error. I was following a udemy class on typescript.</p>\n\n<p>He explained <code>typings</code> then <code>@types</code>, but really quick at the beginning of the @types video he says to </p>\n\n<h2>Delete 2 things:</h2>\n\n<ul>\n<li>the <code>typings</code> folder</li>\n<li><code>typings.json</code></li>\n</ul>\n\n<p>I totally missed him saying that the first time.</p>\n\n<p>Also, my SystemJS was missing the map part (I didn't think it was necessary, but I guess it is.)</p>\n\n<pre><code>SystemJS.config({\n    map: {\n        \"jQuery\": \"node_modules/jquery/dist/jquery.min.js\"\n    },\n    baseURL: '/',\n    packages: {\n        '/': {\n            defaultExtension: 'js'\n        }\n    }\n});\n</code></pre>\n\n<p>Once I had all that in place, everything worked.</p>\n"}], "owner": {"reputation": 1559, "user_id": 4790468, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/52aad6fa433fa59937b3b312d53444d3?s=128&d=identicon&r=PG&f=1", "display_name": "Emdee", "link": "https://stackoverflow.com/users/4790468/emdee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "accepted_answer_id": 41271275, "answer_count": 2, "score": 1, "last_activity_date": 1538247931, "creation_date": 1482342997, "last_edit_date": 1482344266, "question_id": 41269009, "link": "https://stackoverflow.com/questions/41269009/compilation-error-after-integrating-jquery-in-angular-2-app", "title": "Compilation error after integrating JQuery in Angular 2 app", "body": "<p>I have an Angular 2 project administered with npm and I recently ran</p>\n\n<pre><code>typings install dt~jquery --save --global\n</code></pre>\n\n<p>to add the JQuery type definition to my project.</p>\n\n<p>npm then downloaded this type definition file to the directory node_modules as expected.</p>\n\n<p>The problem is now that the Typescript compiler (using <code>npm run tsc:w</code>) complains:</p>\n\n<pre><code>$ npm run tsc:w\n</code></pre>\n\n<blockquote>\n  <p>node_modules/@types/jquery/index.d.ts(3246,5): error TS2300: Duplicate\n  identifier 'export='. typings/globals/jquery/index.d.ts(601,5): error\n  TS2374: Duplicate string index signature.\n  typings/globals/jquery/index.d.ts(2850,5): error TS2374: Duplicate\n  string index signature. typings/globals/jquery/index.d.ts(2851,5):\n  error TS2375: Duplicate number index signature.\n  typings/globals/jquery/index.d.ts(3224,5): error TS2300: Duplicate\n  identifier 'export='. 18:48:59 - Compilation complete. Watching for\n  file changes.</p>\n</blockquote>\n\n<p>Any ideas how to resolve this?</p>\n"}, {"tags": ["arrays", "typescript"], "comments": [{"owner": {"reputation": 108986, "user_id": 511529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YNRmY.jpg?s=128&g=1", "display_name": "GolezTrol", "link": "https://stackoverflow.com/users/511529/goleztrol"}, "edited": false, "score": 1, "creation_date": 1482342865, "post_id": 41268915, "comment_id": 69738738, "body": "Looks like you call <code>entries</code> as a function <code>this.ranks.percentages.entries()</code>. Shouldn&#39;t those parentheses be left out?"}, {"owner": {"reputation": 3356, "user_id": 397913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93242ed49320c150f879f5e515c1652?s=128&d=identicon&r=PG", "display_name": "Siva Gopal", "link": "https://stackoverflow.com/users/397913/siva-gopal"}, "edited": false, "score": 0, "creation_date": 1482342871, "post_id": 41268915, "comment_id": 69738740, "body": "Did you try putting <code>for</code> loop inside <code>try...catch</code>. I think it should throw proper exception."}, {"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1482343025, "post_id": 41268915, "comment_id": 69738812, "body": "When I don&#39;t use parentheses it throws an exception"}, {"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1482343264, "post_id": 41268915, "comment_id": 69738949, "body": "put getMax in a try catch and nothing was caught"}, {"owner": {"reputation": 16970, "user_id": 2079345, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lq0tx.png?s=128&g=1", "display_name": "chiliNUT", "link": "https://stackoverflow.com/users/2079345/chilinut"}, "edited": false, "score": 1, "creation_date": 1482343567, "post_id": 41268915, "comment_id": 69739142, "body": "I am not familiar with all of the colons you&#39;ve got in there. What is <code>getMax(i: number)</code> supposed to mean? (vs <code>getMax(i)</code>) or <code>ranks: any =</code> (vs <code>ranks =</code>) can you link to documentation of that syntax?"}, {"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1482343774, "post_id": 41268915, "comment_id": 69739265, "body": "It&#39;s just typescript with strongly typed variables <a href=\"https://www.typescriptlang.org/docs/handbook/basic-types.html\" rel=\"nofollow noreferrer\">typescriptlang.org/docs/handbook/basic-types.html</a>"}, {"owner": {"reputation": 16970, "user_id": 2079345, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lq0tx.png?s=128&g=1", "display_name": "chiliNUT", "link": "https://stackoverflow.com/users/2079345/chilinut"}, "edited": false, "score": 0, "creation_date": 1482343785, "post_id": 41268915, "comment_id": 69739274, "body": "javascript isn&#39;t typescript"}, {"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1482343873, "post_id": 41268915, "comment_id": 69739322, "body": "You&#39;re right, I&#39;m not doing anything besides some type checking that isn&#39;t in JavaScript though"}, {"owner": {"reputation": 16970, "user_id": 2079345, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lq0tx.png?s=128&g=1", "display_name": "chiliNUT", "link": "https://stackoverflow.com/users/2079345/chilinut"}, "edited": false, "score": 0, "creation_date": 1482344169, "post_id": 41268915, "comment_id": 69739502, "body": "If you are using typescript or some other language that compiles down to javascript, like coffeescript, you should tag the question that way."}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482345055, "post_id": 41268915, "comment_id": 69739978, "body": "Although I don&#39;t know why, you could try <code>for (entry of Array.from(this.ranks.percentages.entries()))</code>. I haven&#39;t had time to look into it further, but it seems that it could be a bug in TS."}], "answers": [{"comments": [{"owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "edited": false, "score": 0, "creation_date": 1482345972, "post_id": 41269727, "comment_id": 69740515, "body": "Just learned all this and took the exact steps you outlined. Started getting the compilation error after not getting it for a while, wtf TS, switched to a basic for loop and everything is working"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "is_accepted": true, "score": 2, "last_activity_date": 1482345523, "creation_date": 1482345523, "answer_id": 41269727, "question_id": 41268915, "link": "https://stackoverflow.com/questions/41268915/for-of-loop-not-being-entered/41269727#41269727", "title": "For of loop not being entered", "body": "<p>TS compiles the <code>for</code> statement as</p>\n\n<pre><code>for (var _i = 0, _a = ranks.percentages.entries(); _i &lt; _a.length; _i++) {\n</code></pre>\n\n<p><code>length</code> of an iterator is undefined, so the for loop becomes a no-op.</p>\n\n<p>In other words, it does not seem to know that <code>entries()</code> is yielding an iterable. Are you getting a compilation error about <code>entries</code>?</p>\n\n<p>If you compile down to ES6, this works.</p>\n\n<p>If you just want to get your code working, then just rewrite it as a basic for loop.</p>\n"}], "owner": {"reputation": 581, "user_id": 5910153, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1268645989818021/picture?type=large", "display_name": "Zack Lucky", "link": "https://stackoverflow.com/users/5910153/zack-lucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 41269727, "answer_count": 1, "score": 0, "last_activity_date": 1495586274, "creation_date": 1482342625, "last_edit_date": 1495586274, "question_id": 41268915, "link": "https://stackoverflow.com/questions/41268915/for-of-loop-not-being-entered", "title": "For of loop not being entered", "body": "<p>I have an issue using .entries on an array to get index and value in a for of loop</p>\n\n<pre><code>ranks: any = {\n    total: 100,    \n    percentages: [\n        {\n            percentage: 33\n        },\n        {\n            percentage: 33\n        },\n        {\n            percentage: 34\n        }\n    ]\n};\n\ngetMax(i: number){\n    var max: number = 100;\n    for (let [index,value] of this.ranks.percentages.entries()) {\n        console.log(index, value.percentage);\n        if(index !== i){\n            max -= value.percentage;\n        }\n    }\n    return max;\n}\n</code></pre>\n\n<p>The console log is never logged in this case. I made a simple example that works so I must be missing something clearly obvious. </p>\n\n<pre><code>array = [\n  { name:12 },\n  { name:23 },\n  { name:34 }\n]\n\nfor (let [index, value] of array.entries()) {\n  console.log(index, value.name);\n}\n</code></pre>\n\n<p>I'd normally try to console.log things to get at the issue but I'm not sure what to log or how I could use breakpoints since it skips over it. </p>\n"}, {"tags": ["arrays", "angular", "typescript", "angular2-forms", "angular-reactive-forms"], "answers": [{"tags": [], "owner": {"reputation": 414, "user_id": 5122461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aOzVO.jpg?s=128&g=1", "display_name": "Govind", "link": "https://stackoverflow.com/users/5122461/govind"}, "is_accepted": false, "score": 0, "last_activity_date": 1498243714, "creation_date": 1498243714, "answer_id": 44728145, "question_id": 41268769, "link": "https://stackoverflow.com/questions/41268769/how-to-add-an-element-in-nested-formarrays/44728145#44728145", "title": "How to add an element in nested FormArrays?", "body": "<p>Try to use get method,</p>\n\n<pre><code>controlSp = &lt;FormArray&gt; this.siteForm.get('site_source_pages');\n</code></pre>\n\n<p>FOr more details you can refer to the <a href=\"https://angular.io/api/forms/FormArrayName\" rel=\"nofollow noreferrer\">Angular document</a></p>\n"}, {"tags": [], "owner": {"reputation": 20813, "user_id": 4911842, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Wb3RO.png?s=128&g=1", "display_name": "developer033", "link": "https://stackoverflow.com/users/4911842/developer033"}, "is_accepted": false, "score": 0, "last_activity_date": 1498250500, "creation_date": 1498250500, "answer_id": 44729629, "question_id": 41268769, "link": "https://stackoverflow.com/questions/41268769/how-to-add-an-element-in-nested-formarrays/44729629#44729629", "title": "How to add an element in nested FormArrays?", "body": "<p>The problem is that <code>controlSp</code> is a <code>FormArray</code>, so to access <code>page_containers</code>, as any other <em>common</em> <code>array</code>, you have to specify the index.</p>\n\n<p>You can do it using <a href=\"https://angular.io/api/forms/FormArray#at\" rel=\"nofollow noreferrer\"><strong>FormArray#at</strong></a> <em>method</em>:</p>\n\n<pre><code>const controlSp = &lt;FormArray&gt;this.siteForm.controls['site_source_pages'];\nconst controlPc = &lt;FormArray&gt;controlSp.at(x).controls['page_containers'];\n</code></pre>\n\n<p>or even better using <a href=\"https://angular.io/api/forms/AbstractControl#get\" rel=\"nofollow noreferrer\"><strong><code>AbstractControl#get</code></strong></a> <em>method</em>:</p>\n\n<pre><code>addPageContainer(index: number) {\n  const controlPc = this.siteForm.get(`site_source_pages.${index}.page_containers`) as FormArray;\n  controlPc.push(this.initPageContainer());\n}\n</code></pre>\n\n<p>Also, as you may have noticed I changed the type cast from <code>&lt;variable&gt;</code> to <code>as variable</code>.</p>\n\n<p>Why? Because while the <code>as</code> <em>syntax</em> is fully compatible with JSX/TSX syntax, the other way isn't. </p>\n\n<p>Note that if you don't have any problem with this, you can use whatever you prefer.</p>\n\n<hr>\n\n<p>That said, as an advice, you can simplify your HTML a lot.</p>\n\n<p>Instead of (lines in order):</p>\n\n<pre><code>*ngFor=\"let site_source_page of siteForm.controls.site_source_pages.controls\"\n\n[hidden]=\"site_source_page.controls.page_containers.controls[i].controls.container_type.valid\n\n*ngIf=\"site_source_page.controls.page_containers.controls.length &gt; 1\n</code></pre>\n\n<p>You can have (lines in order):</p>\n\n<pre><code>*ngFor=\"let site_source_page of siteForm.get('site_source_pages').controls\"\n\n*ngIf=\"page_container.get('container_type').invalid\n\n*ngIf=\"site_source_page.get('page_containers').length &gt; 1\"\n</code></pre>\n\n<hr>\n\n<p>Also, just a minor note:</p>\n\n<p>The following line is actually commented, but it's invalid:</p>\n\n<pre><code>&lt;label *ngIf=\"!site_source_page.controls[x].controls.page_url.valid\" class=\"text-danger\"&gt;*&lt;/label&gt;\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>&lt;label *ngIf=\"!site_source_page.controls.page_url.valid\" class=\"text-danger\"&gt;*&lt;/label&gt;\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>&lt;label *ngIf=\"site_source_page.get('page_url').invalid\" class=\"text-danger\"&gt;*&lt;/label&gt;\n</code></pre>\n"}], "owner": {"reputation": 584, "user_id": 4663265, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ad0d37aa9ef12af6acc2c1006439becc?s=128&d=identicon&r=PG&f=1", "display_name": "LacOniC", "link": "https://stackoverflow.com/users/4663265/laconic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 450, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1498251524, "creation_date": 1482342053, "last_edit_date": 1498251524, "question_id": 41268769, "link": "https://stackoverflow.com/questions/41268769/how-to-add-an-element-in-nested-formarrays", "title": "How to add an element in nested FormArrays?", "body": "<p>I have an array in another array like that:</p>\n\n<pre><code>&lt;div class=\"col-sm-6\"&gt;\n  &lt;div formArrayName=\"site_source_pages\"&gt;\n    &lt;div *ngFor=\"let site_source_page of siteForm.controls.site_source_pages.controls; let x=index\"&gt;\n      &lt;div [formGroupName]=\"x\"&gt;\n        &lt;div class=\"card card-accent-success\"&gt;\n          &lt;div class=\"card-header\"&gt;\n            &lt;strong&gt;Yeni Kaynak Sayfa&lt;/strong&gt;\n          &lt;/div&gt;\n          &lt;div class=\"card-block\"&gt;\n            &lt;div class=\"row\"&gt;\n              &lt;!--Site Page Source Form Group--&gt;\n              &lt;div class=\"form-group\"&gt;\n                &lt;div class=\"form-group col-sm-6\"&gt;\n                  &lt;label for=\"page_url\"&gt;Sayfa Url&lt;/label&gt;\n                  &lt;!--&lt;label *ngIf=\"!site_source_page.controls[x].controls.page_url.valid\" class=\"text-danger\"&gt;*&lt;/label&gt;--&gt;\n                  &lt;input type=\"text\" class=\"form-control\" id=\"page_url\" placeholder=\"Badge-Manager\" formControlName=\"page_url\"&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div class=\"form-group col-sm-6\"&gt;\n                &lt;label for=\"postal-code\"&gt;Tarama Aral\u0131\u011f\u0131&lt;/label&gt;\n                &lt;input type=\"text\" class=\"form-control\" id=\"postal-code\" placeholder=\"Badge-Email\"&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"row\"&gt;\n              &lt;div formArrayName=\"page_containers\"&gt;\n                &lt;div *ngFor=\"let page_container of site_source_page.controls.page_containers.controls; let i=index\"&gt;\n                  &lt;div [formGroupName]=\"i\"&gt;\n                    &lt;div class=\"col-sm-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"ccnumber\"&gt;Container {{i + 1}} Type&lt;/label&gt;\n                        &lt;label [hidden]=\"site_source_page.controls.page_containers.controls[i].controls.container_type.valid\" class=\"text-danger\"&gt;*&lt;/label&gt;\n                        &lt;input type=\"text\" class=\"form-control\" id=\"container_type\" placeholder=\"Container Type\" formControlName=\"container_type\"&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"col-sm-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"ccnumber\"&gt;Container {{i + 1}} Selector Type&lt;/label&gt;\n                        &lt;input type=\"text\" class=\"form-control\" id=\"selector_type\" placeholder=\"Container Selector Type\" formControlName=\"selector_type\"&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"col-sm-4\"&gt;\n                      &lt;div class=\"form-group\"&gt;\n                        &lt;label for=\"ccnumber\"&gt;Container {{i + 1}} Css Query&lt;/label&gt;\n                        &lt;span class=\"glyphicon glyphicon-remove pull-right\" *ngIf=\"site_source_page.controls.page_containers.controls.length &gt; 1\" (click)=\"removePageContainer(i)\"&gt;x&lt;/span&gt;\n                        &lt;input type=\"text\" class=\"form-control\" id=\"container_css_query\" placeholder=\"Container Css Query\" formControlName=\"selector_css_query\"&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"col-sm-12\"&gt;\n                      &lt;button type=\"button\" class=\"btn btn-secondary btn-block\" (click)=\"addPageContainer(x)\"&gt;Container Ekle&lt;/button&gt;\n                    &lt;/div&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to add item to second array via typescript. I try to reach second array (page_containers) but get this error:</p>\n\n<blockquote>\n  <p>Cannot read property 'controls' of undefined</p>\n</blockquote>\n\n<p>My function is like that:</p>\n\n<pre><code>addPageContainer(x: number) {\n  // add container to the list    \n  const controlSp = &lt;FormArray&gt;this.siteForm.controls['site_source_pages'];\n  const controlPc = &lt;FormArray&gt;controlSp.controls['page_containers'];\n  controlPc.push(this.initPageContainer());\n}\n</code></pre>\n\n<p>Why can't I reach second array with this line?</p>\n\n<pre><code>const controlPc = &lt;FormArray&gt;controlSp.controls['page_containers'];\n</code></pre>\n\n<p>Any idea?</p>\n"}, {"tags": ["node.js", "typescript", "sequelize.js", "tedious"], "answers": [{"tags": [], "owner": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "is_accepted": true, "score": 1, "last_activity_date": 1489519900, "creation_date": 1489519900, "answer_id": 42794938, "question_id": 41268653, "link": "https://stackoverflow.com/questions/41268653/sequelize-connection-and-logging-issues/42794938#42794938", "title": "Sequelize connection and logging issues", "body": "<p>The problem was solved by including another NPM module: `sequelize-msnodesqlv8'</p>\n\n<p>And then the code to connect to Sequelize looked like:</p>\n\n<pre><code>var Sequelize = require('sequelize');\n\nvar seqConn = new Sequelize({\n    dialect: 'mssql',\n    dialectModulePath: 'sequelize-msnodesqlv8',\n    dialectOptions: {\n        connectionString: 'Driver={SQL Server Native Client 11.0};[REDACTED]'\n    }\n});\n\nseqConn\n    .authenticate()\n    .then(function(err) {\n        console.log('Connection has been established successfully.');\n    })\n    .catch(function (err) {\n        console.log('Unable to connect to the database:', err);\n});\n</code></pre>\n"}], "owner": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1458, "favorite_count": 0, "accepted_answer_id": 42794938, "answer_count": 1, "score": 1, "last_activity_date": 1489519900, "creation_date": 1482341645, "question_id": 41268653, "link": "https://stackoverflow.com/questions/41268653/sequelize-connection-and-logging-issues", "title": "Sequelize connection and logging issues", "body": "<p>I am trying to use Sequelize to connect with a SQL Server 2012 database.  When my connection string was clearly wrong, I was seeing ECONN REFUSED messages and timeout.  Now, I am not getting any response, despite logging on success and fail, per this code:</p>\n\n<pre><code>import * as Sequelize from 'sequelize';\n\n-- connection string redacted\nlet seqConn = new Sequelize(\"mssql://**;Initial Catalog=**;Persist Security Info=True;Integrated Security=SSPI; User ID=**; Password=**\")\n\nseqConn\n    .authenticate()\n    .then(function(err) {\n        console.log('Connection has been established successfully.');\n    })\n    .catch(function (err) {\n        console.log('Unable to connect to the database:', err);\n    });\n</code></pre>\n\n<p>I was previously using the syntax:</p>\n\n<pre><code>let seqConn = new Sequelize(\"DB\", \"Username\", \"Password\", \n    {\n        dialect: 'mssql',\n        dialectOptions: {\n            instanceName: 'dev'\n        },\n        host: '**'\n    };\n</code></pre>\n\n<p>But I couldn't find a setting for integrated security or other fancy SQL Server things.</p>\n\n<p>Regardless, my current connection string isn't erroring.  But also, it is not saying the connection was established.</p>\n\n<p>I tried passing my seqConn to a model to use it to retrieve a model:</p>\n\n<pre><code>getModel(seqConn): void {\n    console.log(\"Getting\");\n    var model = seqConn.define(\"dbo.Model\", {\n        modelID: Sequelize.INTEGER,\n        modelNo: Sequelize.INTEGER,\n        modelName: Sequelize.STRING(50),\n        modelAge: Sequelize.DATE\n    });\n\n    seqConn.sync().then(function() {\n        model.findOne()\n        .then( function (modelRes){\n            console.log(\"got a result!?\");\n            console.log(modelRes.get(\"modelName\"));\n        })\n        .catch( function (error){\n            console.log(\"it didn't work :( \");\n        });\n\n    });\n    console.log('after getter');\n    return;\n}\n</code></pre>\n\n<p>I'm not confident that this is the right way to use sequelize, and I'm still establishing my project structure, but for now I expect to either see a \"got a result\" or an error, but nothing is logging here from either the <code>then()</code> or the <code>catch()</code>. The before/after getter logs are logging fine.</p>\n\n<p>I have considered that it takes a long time to connect, but my IT says that he saw my successful connection in our SQL logs, and previously I was getting timeouts in about 15,000 ms, I think. </p>\n"}, {"tags": ["angular", "typescript", "npm"], "answers": [{"tags": [], "owner": {"reputation": 5187, "user_id": 2759075, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/OUIOd.png?s=128&g=1", "display_name": "Yaron Schwimmer", "link": "https://stackoverflow.com/users/2759075/yaron-schwimmer"}, "is_accepted": false, "score": 2, "last_activity_date": 1482341139, "creation_date": 1482341139, "answer_id": 41268520, "question_id": 41268446, "link": "https://stackoverflow.com/questions/41268446/setting-up-angular2-project/41268520#41268520", "title": "Setting up Angular2 project", "body": "<p>If you use <code>npm</code> package manager in your project (which you probably do, because you used <code>angular-cli</code>), then the <code>package.json</code> file is responsible for maintaining your dependencies.</p>\n\n<p>Every time you install a dependency using <code>npm install</code> you should make sure it is saved to your <code>package.json</code> file's dependencies (or dev dependencies) using the flag <code>--save</code> (or <code>--save-dev</code>).<br>\nFor example: <code>npm install moment --save</code>.</p>\n\n<p>After you clone your project, just run <code>npm install</code> in the project's directory, and everything should work properly.</p>\n"}], "owner": {"reputation": 119, "user_id": 5253297, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/60884f5bd733dee926e8beb3bde8ef83?s=128&d=identicon&r=PG&f=1", "display_name": "kater", "link": "https://stackoverflow.com/users/5253297/kater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482341497, "creation_date": 1482340837, "last_edit_date": 1482341497, "question_id": 41268446, "link": "https://stackoverflow.com/questions/41268446/setting-up-angular2-project", "title": "Setting up Angular2 project", "body": "<p>Recently I set up my first project in Angular2 on Ubuntu with few simple steps:</p>\n\n<p>Prep:</p>\n\n<pre><code>apt-get install nodejs\nnpm install -g typescript\nnpm install -g angular-cli\n</code></pre>\n\n<p>Start project</p>\n\n<pre><code>ng new app-name\ncd app-name\nng serve\n</code></pre>\n\n<p>That pretty much worked for me. I was learning the Angular, developing the app and pushing my code to github. During that I installed two more dependencies. Then I reinstalled my whole computer and cloned my code from github and here is where problems started. After preparing environment again lots of dependencies are missing, deprecated or are missing even though they are installed on my machine.</p>\n\n<p>After two days of googling I'm with not working project.</p>\n\n<p>Is there a way of maintaining project and it's dependencies' list like for example virtual env with Python?\nWhat are the good practices to keep project in order, store the informations about dependencies, just keep everything clear?</p>\n"}, {"tags": ["javascript", "html", "canvas", "typescript"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1482339681, "post_id": 41268029, "comment_id": 69737024, "body": "What are you trying to achieve? What do you mean &quot;make the content in your canvas responsive&quot;? If you&#39;re rendering things to a canvas, that&#39;s all dependent on you; that&#39;s kind of the point of using a canvas."}, {"owner": {"reputation": 2461, "user_id": 2768053, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/768611664/picture?type=large", "display_name": "Ruben Serrate", "link": "https://stackoverflow.com/users/2768053/ruben-serrate"}, "edited": false, "score": 0, "creation_date": 1482339768, "post_id": 41268029, "comment_id": 69737067, "body": "Are you sure you don&#39;t just want to read the width of the window?  document.body.offsetWidth will work in a decent browser"}, {"owner": {"reputation": 1194, "user_id": 7185314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z5zbj.png?s=128&g=1", "display_name": "TessavWalstijn", "link": "https://stackoverflow.com/users/7185314/tessavwalstijn"}, "edited": false, "score": 0, "creation_date": 1482340135, "post_id": 41268029, "comment_id": 69737273, "body": "If I make an object the size is by pixels. My laptop is 1600x900 pixels and my phone is 1920x1080 pixels. the size of my object is differently on my laptop and phone. but to the eye I want the same size."}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1482342016, "post_id": 41268029, "comment_id": 69738268, "body": "@R.Walstijn Then you need to perform your own scaling relative to the screen resolution. Since <i>you</i> handle the rendering in a canvas, <i>you</i> are responsible for sizing it accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 1194, "user_id": 7185314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z5zbj.png?s=128&g=1", "display_name": "TessavWalstijn", "link": "https://stackoverflow.com/users/7185314/tessavwalstijn"}, "is_accepted": true, "score": 0, "last_activity_date": 1521640426, "last_edit_date": 1521640426, "creation_date": 1486633391, "answer_id": 42133131, "question_id": 41268029, "link": "https://stackoverflow.com/questions/41268029/how-to-make-the-content-in-your-canvas-responsive/42133131#42133131", "title": "How to make the content in your canvas responsive?", "body": "<p>Hi I have found that you should make a calculation of the width and height.</p>\n\n<p>So that the <strong>content</strong> is responsive in the canvas.<br>\nSee the link for the end result:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getId(id) { return document.getElementById(id); }\r\n\r\nconst canvasA = getId('canvasA');\r\ncanvasA.ctx = canvasA.getContext(\"2d\");\r\n\r\nconst canvasB = getId('canvasB');\r\ncanvasB.ctx = canvasB.getContext(\"2d\");\r\n\r\nconst canvasC = getId('canvasC');\r\ncanvasC.ctx = canvasC.getContext(\"2d\");\r\n\r\nconst requestAnimation = window.requestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame;\r\nwindow.requestAnimationFrame = requestAnimation;\r\n\r\nclass Rectangle {\r\n  constructor(x = 0, y = 0, w = 5, h = 5, color = '#0ff') {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n    this.color = color;\r\n  }\r\n\r\n  Update(x, y, w, h) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n  }\r\n\r\n  Draw(cvs) {\r\n    let ctx = cvs.ctx;\r\n    ctx.beginPath();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fillRect(\r\n        //centers the width of the rectangle\r\n        this.x - this.w / 2,\r\n        //centers the height of the rectangle\r\n        this.y - this.h / 2,\r\n        this.w,\r\n        this.h);\r\n    ctx.stroke();\r\n    ctx.fill();\r\n    ctx.closePath();\r\n  }\r\n}\r\n\r\nlet rect,\r\n  fragmentA,\r\n  fragmentB,\r\n  fragmentC;\r\n\r\nfunction SetUp() {\r\n  Start();\r\n  Update();\r\n}\r\n\r\nfunction Start() {\r\n  rect = new Rectangle(50, 50, 100, 100);\r\n}\r\n\r\nfunction Update() {\r\n  canvasA.width = window.innerWidth * 0.9;\r\n  canvasA.height = 200;\r\n  canvasB.width = window.innerWidth * 0.5;\r\n  canvasB.height = 200;\r\n  canvasC.width = window.innerWidth * 0.4;\r\n  canvasC.height = 200;\r\n  \r\n  // Getting 1/10 of the width\r\n  fragmentA = canvasA.width * 0.1;\r\n  fragmentB = canvasB.width * 0.1;\r\n  fragmentC = canvasC.width * 0.1;\r\n\r\n  rect.Update(canvasA.width / 2, canvasA.height / 2, fragmentA * 2, fragmentA * 2)\r\n  rect.Draw(canvasA);\r\n  \r\n  rect.Update(canvasB.width / 2, canvasB.height / 2, fragmentB * 2, fragmentB * 2)\r\n  rect.Draw(canvasB);\r\n  \r\n  rect.Update(canvasC.width / 2, canvasC.height / 2, fragmentC * 2, fragmentC * 2)\r\n  rect.Draw(canvasC);\r\n  \r\n  requestAnimationFrame(Update);\r\n}\r\n\r\nSetUp();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  margin: -4px -5px;\r\n  border-style: solid;\r\n  left: 0px;\r\n  top: 0px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvasA'&gt;&lt;/canvas&gt;\r\n&lt;canvas id='canvasB'&gt;&lt;/canvas&gt;\r\n&lt;canvas id='canvasC'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1194, "user_id": 7185314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z5zbj.png?s=128&g=1", "display_name": "TessavWalstijn", "link": "https://stackoverflow.com/users/7185314/tessavwalstijn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1180, "favorite_count": 0, "accepted_answer_id": 42133131, "answer_count": 1, "score": 0, "last_activity_date": 1521640426, "creation_date": 1482339485, "last_edit_date": 1521639243, "question_id": 41268029, "link": "https://stackoverflow.com/questions/41268029/how-to-make-the-content-in-your-canvas-responsive", "title": "How to make the content in your canvas responsive?", "body": "<p>Hi I was trying to get the values out of the following meta tag:</p>\n\n<pre><code>&lt;meta name=\"viewport\" property=\"viewport\" content=\"width-device-width, initial-scale=1\"&gt;\n</code></pre>\n\n<p>I found to get content out of a meta tag with js:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getVieuwContent() {\r\nvar metas = document.getElementsByTagName('meta');\r\n\r\n    for (let i = 0; i &lt; metas.length; i++) {\r\n        if (metas[i].getAttribute(\"property\") == \"viewport\") {\r\n            return metas[i].getAttribute(\"content\");\r\n        }\r\n    }\r\n\r\n    return \"\";\r\n}\r\n\r\nconsole.log(getVieuwContent());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;meta name=\"viewport\" property=\"viewport\" content=\"width-device-width, initial-scale=1\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I just get <code>width-device-width, initial-scale=1</code> printed in my console.\nWhile I hoped that I got from a number from it. I want to make the content in the canvas responsive like css is responsive from the meta tag on mobile.</p>\n\n<p>What I have now: </p>\n\n<ul>\n<li>Full screen\n\n<ul>\n<li>Auto updates canvas width when the <code>window.innerWidth</code> changes </li>\n<li>Auto updates canvas height when the <code>window.innerHeight</code> changes</li>\n<li>css <code>{ position: fixed; left: 0px; top: 0px; }</code></li>\n</ul></li>\n<li>A centered rectangle <em>(the content that needs to be responsive)</em></li>\n</ul>\n\n<p>Working snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getId(id) { return document.getElementById(id); }\r\n\r\nconst canvas = getId('canvas');\r\ncanvas.ctx = canvas.getContext(\"2d\");\r\n\r\nconst requestAnimation = window.requestAnimationFrame ||\r\n    window.mozRequestAnimationFrame ||\r\n    window.webkitRequestAnimationFrame ||\r\n    window.msRequestAnimationFrame;\r\nwindow.requestAnimationFrame = requestAnimation;\r\n\r\nclass Rectangle {\r\n  constructor(x = 0, y = 0, w = 5, h = 5, color = '#0ff') {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n    this.color = color;\r\n  }\r\n\r\n  Update(x, y, w, h) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.w = w;\r\n    this.h = h;\r\n  }\r\n\r\n  Draw(cvs) {\r\n    let ctx = cvs.ctx;\r\n    ctx.beginPath();\r\n    ctx.fillStyle = this.color;\r\n    ctx.fillRect(\r\n        //centers the width of the rectangle\r\n        this.x - this.w / 2,\r\n        //centers the height of the rectangle\r\n        this.y - this.h / 2,\r\n        this.w,\r\n        this.h);\r\n    ctx.stroke();\r\n    ctx.fill();\r\n    ctx.closePath();\r\n  }\r\n}\r\n\r\nlet rect;\r\n\r\nfunction SetUp() {\r\n  Start();\r\n  Update();\r\n}\r\n\r\nfunction Start() {\r\n  rect = new Rectangle(canvas.width / 2, canvas.height / 2, 100, 100)\r\n}\r\n\r\nfunction Update() {\r\n  canvas.width = window.innerWidth;\r\n  canvas.height = window.innerHeight;\r\n\r\n  rect.Update(canvas.width / 2, canvas.height / 2, 100, 100)\r\n  rect.Draw(canvas);\r\n  \r\n  requestAnimationFrame(Update);\r\n}\r\n\r\nSetUp();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#canvas {\r\n  position: fixed;\r\n  left: 0px;\r\n  top: 0px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id='canvas'&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "ionic2", "algolia"], "comments": [{"owner": {"reputation": 11503, "user_id": 1561269, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef2d6d9c6295c5bb7e5d7807dfde8e58?s=128&d=identicon&r=PG", "display_name": "Jerska", "link": "https://stackoverflow.com/users/1561269/jerska"}, "edited": false, "score": 0, "creation_date": 1482340388, "post_id": 41267953, "comment_id": 69737407, "body": "I&#39;ve never used <code>typings</code>, but the command you showed isn&#39;t exactly the one in the README: <code>typings install dt~algoliasearch-client-javascript --save --global</code>"}, {"owner": {"reputation": 2141, "user_id": 2864735, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/RygVF.jpg?s=128&g=1", "display_name": "Stevie Star", "link": "https://stackoverflow.com/users/2864735/stevie-star"}, "reply_to_user": {"reputation": 11503, "user_id": 1561269, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef2d6d9c6295c5bb7e5d7807dfde8e58?s=128&d=identicon&r=PG", "display_name": "Jerska", "link": "https://stackoverflow.com/users/1561269/jerska"}, "edited": false, "score": 0, "creation_date": 1482345190, "post_id": 41267953, "comment_id": 69740068, "body": "Hm, even that one still gives me that same error :/ I did try <code>typings install algoliasearch --save --global</code> and it didn&#39;t give me an error but I still can&#39;t seem to use <code>algoliasearch</code> in my project"}, {"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1482350993, "post_id": 41267953, "comment_id": 69743268, "body": "Use typings search command to find your approriate library to install. It doesn&#39;t 100% corrolate to your normal depedency. It might not exist at all, in which case write it yourself and submit it to typings. Also check @types/algoliasearch-client-js maybe"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 1044172, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c8bff671348bf5b3039ab3f71cb432c2?s=128&d=identicon&r=PG", "display_name": "TomasMax", "link": "https://stackoverflow.com/users/1044172/tomasmax"}, "edited": false, "score": 0, "creation_date": 1482905601, "post_id": 41285647, "comment_id": 69914327, "body": "And how do you import algoliasearch-helper?"}, {"owner": {"reputation": 292, "user_id": 3490663, "user_type": "registered", "accept_rate": 14, "profile_image": "https://graph.facebook.com/704371236/picture?type=large", "display_name": "DanDuh", "link": "https://stackoverflow.com/users/3490663/danduh"}, "edited": false, "score": 0, "creation_date": 1492078902, "post_id": 41285647, "comment_id": 73840083, "body": "I&#39;m getting this error: <code>Module &#39;&quot;algoliasearch&quot;&#39; resolves to a non-module entity and cannot be imported using this construct.</code>"}], "tags": [], "owner": {"reputation": 66, "user_id": 7330663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2HVqK.jpg?s=128&g=1", "display_name": "Baptiste C", "link": "https://stackoverflow.com/users/7330663/baptiste-c"}, "is_accepted": true, "score": 4, "last_activity_date": 1482421138, "last_edit_date": 1482421138, "creation_date": 1482417738, "answer_id": 41285647, "question_id": 41267953, "link": "https://stackoverflow.com/questions/41267953/angular-2-algolia-search-error-when-installing-typings/41285647#41285647", "title": "Angular 2 + Algolia Search - Error when installing typings", "body": "<p>You can just import the typings via: <code>npm install --save @types/algoliasearch</code></p>\n\n<p>Now you can import the module via:  <code>import * as algoliasearch from 'algoliasearch'</code> and it should work properly. </p>\n\n<p>I tested it on a Ionic project, and had no issues.</p>\n"}], "owner": {"reputation": 2141, "user_id": 2864735, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/RygVF.jpg?s=128&g=1", "display_name": "Stevie Star", "link": "https://stackoverflow.com/users/2864735/stevie-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 707, "favorite_count": 0, "protected_date": 1541507735, "accepted_answer_id": 41285647, "answer_count": 1, "score": 1, "last_activity_date": 1541502087, "creation_date": 1482339191, "question_id": 41267953, "link": "https://stackoverflow.com/questions/41267953/angular-2-algolia-search-error-when-installing-typings", "title": "Angular 2 + Algolia Search - Error when installing typings", "body": "<p>I'm trying to get Algolia Search integrated with my Angular 2 app and as I've been following the install guide found here: <a href=\"https://github.com/algolia/algoliasearch-client-javascript#install\" rel=\"nofollow noreferrer\">https://github.com/algolia/algoliasearch-client-javascript#install</a>, I'm finding that when I run <code>typings install algoliasearch-client-javascript --save --global</code> in my terminal, I get this error:</p>\n\n<p><code>typings ERR! message Unable to find \"algoliasearch-client-javascript\" (\"npm\") in the registry.</code></p>\n\n<p>I'm not entirely sure what I've done wrong, because I'm following the guide step by step. I know I'm using webpack, because I'm actually utilizing Ionic 2, which uses Webpack. </p>\n\n<p>I checked my config.json and I have <code>\"algoliasearch\": \"^3.20.2\",</code> installed.</p>\n\n<p>Any clues to what I'm doing wrong here?</p>\n"}, {"tags": ["javascript", "typescript", "promise"], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1482347718, "post_id": 41268229, "comment_id": 69741470, "body": "What is a pro of making functions bivariant?"}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1482350605, "post_id": 41268229, "comment_id": 69743067, "body": "i&#39;m not convinced either :)  but they wrote this:  <a href=\"https://github.com/Microsoft/TypeScript/wiki/FAQ#why-are-function-parameters-bivariant\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/wiki/&hellip;</a>  The fact that you can&#39;t define your own variance and that things can be mutated in JS doesn&#39;t help"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1482354321, "post_id": 41268229, "comment_id": 69745051, "body": "Thanks for the link. I disagree with the conclusion and think their argument is flawed, but at least they have one :-)"}, {"owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1498691561, "post_id": 41268229, "comment_id": 76608426, "body": "Update: TS 2.4 now have proper contravariant function arguments!"}], "tags": [], "owner": {"reputation": 2671, "user_id": 941384, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6bb2c086a1c4aca9803526929d9b2428?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/941384/alexg"}, "is_accepted": true, "score": 4, "last_activity_date": 1482340888, "last_edit_date": 1482340888, "creation_date": 1482340108, "answer_id": 41268229, "question_id": 41267897, "link": "https://stackoverflow.com/questions/41267897/why-does-typescript-not-throw-a-compilation-error-for-this-promise-chain/41268229#41268229", "title": "Why does TypeScript not throw a compilation error for this promise chain?", "body": "<p>That's because in TS, the type of functions' arguments are bivariant.</p>\n\n<p>In the case of a Promise.then, any passed function will be accepted provided its argument is either a subtype or supertype of the required type. So an object (Object, {}) will always be accepted. Fortunately, it will still catch widely incompatible types of course; like expecting a <code>{  x: string}</code> but receiving a <code>{ y: number }</code> so it catches the majority of type errors.</p>\n\n<p>This is a design decision that has pros and cons; (personally, I think it was not worth it) they might even change it in the future since the last few versions of TS clearly take the direction of making TS more and more sound.</p>\n"}], "owner": {"reputation": 430, "user_id": 218250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0040fa3522ca103dc98d4e6613b49b7f?s=128&d=identicon&r=PG", "display_name": "Nitax", "link": "https://stackoverflow.com/users/218250/nitax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 0, "accepted_answer_id": 41268229, "answer_count": 1, "score": 1, "last_activity_date": 1482340888, "creation_date": 1482338984, "question_id": 41267897, "link": "https://stackoverflow.com/questions/41267897/why-does-typescript-not-throw-a-compilation-error-for-this-promise-chain", "title": "Why does TypeScript not throw a compilation error for this promise chain?", "body": "<p>I am still learning Typescript so maybe I am just fundamentally missing something but I do not understand why the following code throws a compilation error:</p>\n\n<pre><code>// An example without Promises (does not compile)\nfunction getAnObject(): Object {\n  return { value: 'Hello' };\n};\n\nfunction doSomethingWithAString(input: String) {\n  console.log(input);\n}\n\nconst result = getAnObject();\n// error TS2345: Argument of type 'Object' is not assignable to parameter of type 'String' \ndoSomethingWithAString(result);\n</code></pre>\n\n<p>But the following code does not:</p>\n\n<pre><code>// A similar example with Promises (compiles)\nfunction getAnObjectAsync(): Promise&lt;Object&gt; {\n  return Promise.resolve({ value: 'Hello' });\n};\n\ngetAnObjectAsync().then(function (result: String) {\n// Throws a runtime exception\nconsole.log(result.toUpperCase());\n});\n</code></pre>\n\n<p>Why does TypeScript not complain that the <code>onfulfilled</code> function of the <code>.then</code> in the Promise example will receive <code>result: Object</code>?  </p>\n\n<ul>\n<li>Am I doing something wrong?</li>\n<li>Is there something I do not understand about this example?</li>\n</ul>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482357703, "post_id": 41267761, "comment_id": 69746710, "body": "Cannot find name Observable"}, {"owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482358452, "post_id": 41267761, "comment_id": 69747046, "body": "i added import {Observable} from &#39;rxjs/Rx"}, {"owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482358761, "post_id": 41267761, "comment_id": 69747167, "body": "and another error received: Cannot find module angular2/router"}, {"owner": {"reputation": 3311, "user_id": 3007184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWg8.jpg?s=128&g=1", "display_name": "Chybie", "link": "https://stackoverflow.com/users/3007184/chybie"}, "reply_to_user": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482381900, "post_id": 41267761, "comment_id": 69753275, "body": "Somewhere in ur component u use routing? Then u need to include router in your app module"}, {"owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482405303, "post_id": 41267761, "comment_id": 69765266, "body": "i dont use any routes."}, {"owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "edited": false, "score": 0, "creation_date": 1482405393, "post_id": 41267761, "comment_id": 69765325, "body": "ive created a template called tabs in ionic2 and i changed the 2 existed tabs and tried to use the GET method.  i dont know whats wrong. do you want me to show you the content of any specific files?"}], "tags": [], "owner": {"reputation": 3311, "user_id": 3007184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/naWg8.jpg?s=128&g=1", "display_name": "Chybie", "link": "https://stackoverflow.com/users/3007184/chybie"}, "is_accepted": false, "score": 0, "last_activity_date": 1482338490, "creation_date": 1482338490, "answer_id": 41267761, "question_id": 41267654, "link": "https://stackoverflow.com/questions/41267654/http-get-request-error-on-angular2/41267761#41267761", "title": "http get request error on angular2", "body": "<p>it should be Observable.</p>\n\n<pre><code>get_heb_date():Observable&lt;string&gt; // http return Observable&lt;the_result_type&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "is_accepted": false, "score": 0, "last_activity_date": 1482421236, "creation_date": 1482421236, "answer_id": 41286787, "question_id": 41267654, "link": "https://stackoverflow.com/questions/41267654/http-get-request-error-on-angular2/41286787#41286787", "title": "http get request error on angular2", "body": "<p>The problem was inside the main.ts </p>\n\n<pre><code>platformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n\n<p>the name of the module was not set up.\nNow it works.\nThanks.</p>\n"}], "owner": {"reputation": 23, "user_id": 7326641, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/23141396f75d2e858139f99532f0ba3c?s=128&d=identicon&r=PG&f=1", "display_name": "user7326641", "link": "https://stackoverflow.com/users/7326641/user7326641"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1482421236, "creation_date": 1482338174, "question_id": 41267654, "link": "https://stackoverflow.com/questions/41267654/http-get-request-error-on-angular2", "title": "http get request error on angular2", "body": "<p>Im trying to use the http method get request and i have some issues to subscribe the respond.\nhere is my service:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport 'rxjs/Rx';\nimport 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ProfileService{\nhttp: any;\nurl: String;\ndate: Date;\n\nconstructor(http:Http){\nthis.http = http;\nthis.date = new Date();\n//this.baseurl = 'www.google.com';\n}\n\nget_heb_date():String{\nvar year = this.date.getFullYear();\nvar month = this.date.getMonth();\nvar day = this.date.getDay();\n//var after_sunset = 1;\n//var convert_from_gregorian_to_hebrew = 1;\nreturn this.http.get('http://www.hebcal.com/converter/?fg=json&amp;gy='+year+'&amp;gm='+month+'&amp;gd='+day+'&amp;g2h=1')\n.map(res =&gt; res.json());\n }}\n</code></pre>\n\n<p>here is my component where im trying to get the \"GET\" request.</p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { JewristService } from '../../app/services/jewrist.service';\nimport { NavController } from 'ionic-angular';\nimport { ProfileService } from '../../app/services/profile.service';\nimport 'rxjs/Rx';\n\n\n@Component({\nselector: 'page-profile',\ntemplateUrl: 'profile.html',\nproviders: [ProfileService]\n})\nexport class ProfilePage {\nusername: String;\nloggedin: Boolean;\ndate: String;\n\nconstructor(public navCtrl: NavController, private _httpservice: ProfileService) {\nthis.username = 'null';\n}\nngOnInit(){\nconsole.log('Profile component is running..');\nthis._httpservice.get_heb_date().subscribe(\ndata =&gt; this.date = JSON.stringify(data)\n ); }}\n</code></pre>\n\n<p>my IDE is ATOM on windows, and thats the problem it specify:\nProperty 'subscribe' does not exist on type 'String'.</p>\n"}, {"tags": ["typescript", "npm"], "comments": [{"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482342095, "post_id": 41267652, "comment_id": 69738318, "body": "On first glance, aren&#39;t you missing <code>export</code> for <code>namespace Tyr</code> in your <code>tyranid-gracl</code> typings?"}, {"owner": {"reputation": 2378, "user_id": 1718488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/st7L3.jpg?s=128&g=1", "display_name": "Ben Southgate", "link": "https://stackoverflow.com/users/1718488/ben-southgate"}, "reply_to_user": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1482343709, "post_id": 41267652, "comment_id": 69739233, "body": "the above works locally. I think for augmenting an existing namespace, the augmentation file doesn&#39;t export (or it overwrites?), at least that was what seemed to happen for me."}], "owner": {"reputation": 2378, "user_id": 1718488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/st7L3.jpg?s=128&g=1", "display_name": "Ben Southgate", "link": "https://stackoverflow.com/users/1718488/ben-southgate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1482338517, "creation_date": 1482338161, "last_edit_date": 1482338517, "question_id": 41267652, "link": "https://stackoverflow.com/questions/41267652/how-to-properly-include-a-declaration-file-with-module-augmentation-in-an-npm-pa", "title": "How to properly include a declaration file with module augmentation in an npm package written in TypeScript?", "body": "<p>I have an npm package -- <code>tyranid-gracl</code> <a href=\"https://github.com/tyranid-org/tyranid-gracl\" rel=\"nofollow noreferrer\">(link)</a> -- written in typescript and extending another package: <code>tyranid</code> <a href=\"https://github.com/tyranid-org/tyranid\" rel=\"nofollow noreferrer\">(link)</a>, written in javascript but <a href=\"https://github.com/tyranid-org/tyranid/blob/master/src/tyranid.d.ts\" rel=\"nofollow noreferrer\">including type definitions</a>.</p>\n\n<p>Within <code>tyranid-gracl</code> I use <a href=\"https://github.com/tyranid-org/tyranid-gracl/blob/master/src/tyranid-extensions.d.ts\" rel=\"nofollow noreferrer\">module augmentation to extend several interfaces in tyranid</a>. Additionally, I've exposed the <code>.d.ts</code> files generated for <code>tyranid-gracl</code> in the <code>typings</code> field of <code>package.json</code> in order to allow 3rd-party typescript libraries to have the typings for <code>tyranid-gracl</code>.</p>\n\n<p><strong>Question:</strong> How can I properly expose the module augmentation of <code>tyranid</code> made by <code>tyranid-gracl</code> to a 3rd library that installs <code>tyranid-gracl</code> via npm?</p>\n\n<p><strong>Basic distillation of the problem</strong></p>\n\n<p>Type definition file for first library <code>tyranid</code>:</p>\n\n<pre><code>/**\n*  Type definitions for tyranid.js\n*/\nexport = TyrStatic;\n\ndeclare namespace TyrStatic {\n\n  // declare properties of Tyr object\n  export namespace Tyr {\n\n    interface Document {\n      $id: string;\n    }\n\n  }\n}\n</code></pre>\n\n<p>Module extension by second library, <code>tyranid-gracl</code></p>\n\n<pre><code>import { documentMethods as dm } from './tyranid/documentMethods';\n\ndeclare module 'tyranid' {\n\n  namespace Tyr {\n    /**\n    * Add additional methods to Document interface\n    */\n    interface Document {\n      $allow: typeof dm.$allow;\n      $deny: typeof dm.$deny;\n    }\n  }\n\n}\n</code></pre>\n\n<p>I want the above modifications to occur when a developer installs <code>tyranid-gracl</code> via npm. Currently, I have a reference in <code>index.d.ts</code> of <code>tyranid-gracl</code> to the above modification, but it does not seem to work -- specifically, the added methods do not appear visible to the type system.</p>\n\n<p>Hope that makes sense -- thanks in advance!</p>\n"}, {"tags": ["typescript", "typescript2.1"], "answers": [{"comments": [{"owner": {"reputation": 2392, "user_id": 1143987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/59a60db57e7b4265f8ba27ad9c09dc15?s=128&d=identicon&r=PG", "display_name": "jkjustjoshing", "link": "https://stackoverflow.com/users/1143987/jkjustjoshing"}, "edited": false, "score": 0, "creation_date": 1482339508, "post_id": 41267710, "comment_id": 69736928, "body": "So it seems that the root issue is that the TS compiler doesn&#39;t thing <code>A[] | B[]</code> has a <code>map</code> property but thinks <code>(A | B)[]</code> does? That&#39;s a bummer (and seems like a bug) since the former type actually represents what&#39;s happening more than the latter."}, {"owner": {"reputation": 2392, "user_id": 1143987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/59a60db57e7b4265f8ba27ad9c09dc15?s=128&d=identicon&r=PG", "display_name": "jkjustjoshing", "link": "https://stackoverflow.com/users/1143987/jkjustjoshing"}, "edited": false, "score": 1, "creation_date": 1482340296, "post_id": 41267710, "comment_id": 69737365, "body": "Just created <a href=\"https://github.com/Microsoft/TypeScript/issues/13097\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/13097</a> since this seems like undesired behavior. We&#39;ll see what the community/core team says about it!"}], "tags": [], "owner": {"reputation": 15625, "user_id": 3786294, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o0RBY.png?s=128&g=1", "display_name": "Paleo", "link": "https://stackoverflow.com/users/3786294/paleo"}, "is_accepted": false, "score": 0, "last_activity_date": 1482338325, "creation_date": 1482338325, "answer_id": 41267710, "question_id": 41267494, "link": "https://stackoverflow.com/questions/41267494/typescript-inherited-interface-and-literal-string-type-key-error/41267710#41267710", "title": "Typescript inherited interface and literal string type key error", "body": "<p>It seems it is a limitation. But you can help the compiler by given it the type of the array: <code>(A | B | C)[]</code>.</p>\n\n<pre><code>function getCommon(thisKey: Key) {\n    let arr: (A | B | C)[] = item[thisKey];\n    return arr.map(a =&gt; a.common);\n}\n</code></pre>\n"}], "owner": {"reputation": 2392, "user_id": 1143987, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/59a60db57e7b4265f8ba27ad9c09dc15?s=128&d=identicon&r=PG", "display_name": "jkjustjoshing", "link": "https://stackoverflow.com/users/1143987/jkjustjoshing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482338325, "creation_date": 1482337632, "last_edit_date": 1482338007, "question_id": 41267494, "link": "https://stackoverflow.com/questions/41267494/typescript-inherited-interface-and-literal-string-type-key-error", "title": "Typescript inherited interface and literal string type key error", "body": "<p>I have 3 interfaces (<code>A</code>, <code>B</code>, and <code>C</code> below) that all extend from a common interface (<code>Common</code> below). I also have a container type that contains arrays of these 3 interfaces (<code>Container</code> below). </p>\n\n<p>I want to grab one of the arrays and pluck a common property from the objects, as shown in getCommon()`:</p>\n\n<pre><code>interface Common {\n    common: boolean;\n}\n\ninterface A extends Common {\n    a: A[];\n}\n\ninterface B extends Common {\n    b: B[];\n}\n\ninterface C extends Common {\n    c: C[];\n}\n\ntype Container = {\n    a: A[],\n    b: B[],\n    c: C[]\n};\n\nlet item: Container = {\n    a: [ { a: [], common: true } ],\n    b: [ { b: [], common: true } ],\n    c: [ { c: [], common: true } ]\n};\n\ntype Key = 'a' | 'b' | 'c';\n\nfunction getCommon (thisKey: Key) {\n    return item[thisKey].map(a =&gt; a.common); // This line has an error\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=interface%20Common%20%7B%0D%0A%20%20%20%20common%3A%20boolean%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20A%20extends%20Common%20%7B%0D%0A%20%20%20%20a%3A%20A%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20B%20extends%20Common%20%7B%0D%0A%20%20%20%20b%3A%20B%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20C%20extends%20Common%20%7B%0D%0A%20%20%20%20c%3A%20C%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Atype%20Key%20%3D%20&#39;a&#39;%20%7C%20&#39;b&#39;%20%7C%20&#39;c&#39;%3B%0D%0A%0D%0Atype%20Container%20%3D%20%7B%0D%0A%20%20%20%20a%3A%20A%5B%5D%2C%0D%0A%20%20%20%20b%3A%20B%5B%5D%2C%0D%0A%20%20%20%20c%3A%20C%5B%5D%0D%0A%7D%3B%0D%0A%0D%0Alet%20item%3A%20Container%20%3D%20%7B%0D%0A%20%20%20%20a%3A%20%5B%20%7B%20a%3A%20%5B%5D%2C%20common%3A%20true%20%7D%20%5D%2C%0D%0A%20%20%20%20b%3A%20%5B%20%7B%20b%3A%20%5B%5D%2C%20common%3A%20true%20%7D%20%5D%2C%0D%0A%20%20%20%20c%3A%20%5B%20%7B%20c%3A%20%5B%5D%2C%20common%3A%20true%20%7D%20%5D%0D%0A%7D%3B%0D%0A%0D%0Afunction%20getCommon%20(thisKey%3A%20Key)%20%7B%0D%0A%20%20%20%20return%20item%5BthisKey%5D.map(a%20%3D%3E%20a.common)%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">Typescript Playground link</a></p>\n\n<p>However, Typescript 2.1 is giving me a compile error:</p>\n\n<pre><code>Cannot invoke an expression whose type lacks a call signature. \nType '{ &lt;U&gt;(this: [A, A, A, A, A], callbackfn: (value: A, index: number, array: A[]) =&gt; U, \nthisArg?: an...' has no compatible call signatures.\n</code></pre>\n\n<p>Is this a bug/limitation in Typescript, or am I doing something wrong?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1482344291, "post_id": 41267313, "comment_id": 69739561, "body": "<code>__proto__</code> is not an ES5 standard, so TypeScript doesn&#39;t output it, if you&#39;re not targeting ES6. <a href=\"https://github.com/Microsoft/TypeScript/issues/1601\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/1601</a>"}, {"owner": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1482344656, "post_id": 41267313, "comment_id": 69739752, "body": "In any case, this is how I extend React components, and I haven&#39;t run into this. However I&#39;m on a different version of TypeScript with different React typings - one or the other might be the culprit."}, {"owner": {"reputation": 3147, "user_id": 22099, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/40ac5201d092eccee1f78e759a6f9df3?s=128&d=identicon&r=PG", "display_name": "miha", "link": "https://stackoverflow.com/users/22099/miha"}, "reply_to_user": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1482348945, "post_id": 41267313, "comment_id": 69742182, "body": "@Radio-, so you&#39;re saying you&#39;re doing the same thing and it works for you? Which versions and typings are you using?"}, {"owner": {"reputation": 2918, "user_id": 1952499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13763c57551eecc2128900953c3702d9?s=128&d=identicon&r=PG", "display_name": "Radio-", "link": "https://stackoverflow.com/users/1952499/radio"}, "edited": false, "score": 0, "creation_date": 1482354024, "post_id": 41267313, "comment_id": 69744901, "body": "Typescript: 1.8, react typings: definitelyTypes 0.14.4"}], "answers": [{"tags": [], "owner": {"reputation": 3147, "user_id": 22099, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/40ac5201d092eccee1f78e759a6f9df3?s=128&d=identicon&r=PG", "display_name": "miha", "link": "https://stackoverflow.com/users/22099/miha"}, "is_accepted": false, "score": 0, "last_activity_date": 1483353807, "last_edit_date": 1495542280, "creation_date": 1483353807, "answer_id": 41425274, "question_id": 41267313, "link": "https://stackoverflow.com/questions/41267313/extending-react-component-which-is-imported-from-a-npm-module-typescript/41425274#41425274", "title": "Extending React component which is imported from a NPM module (typescript)", "body": "<p>After digging some more, I found out that <code>repo1</code> definitions were not found by typescript, although they were not initially reported. The issue was in <code>repo1</code>'s <code>package.json</code> file, and I got a hint from here: <a href=\"https://stackoverflow.com/questions/41292559/could-not-find-a-declaration-file-for-module-module-name-path-to-module-nam\">Could not find a declaration file for module &#39;module-name&#39;. &#39;/path/to/module-name.js&#39; implicitly has an &#39;any&#39; type</a></p>\n\n<p>The point is, the <code>main: js/index.js</code> had to be changed to <code>main: js/index</code> (without suffix) and then <code>repo2</code> could properly resolve <code>repo1</code> and there would be no issues whatsoever.</p>\n\n<p>As @Radio- mentions, extending like this works without problems, once TS is able to get hold of relevant delarations.</p>\n"}], "owner": {"reputation": 3147, "user_id": 22099, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/40ac5201d092eccee1f78e759a6f9df3?s=128&d=identicon&r=PG", "display_name": "miha", "link": "https://stackoverflow.com/users/22099/miha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483353807, "creation_date": 1482336989, "question_id": 41267313, "link": "https://stackoverflow.com/questions/41267313/extending-react-component-which-is-imported-from-a-npm-module-typescript", "title": "Extending React component which is imported from a NPM module (typescript)", "body": "<p>I have a NPM module developed in typescript. This module is a simple, proof-of-concept react component:</p>\n\n<pre><code>import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\n\nexport class COne extends React.Component&lt;{}, {counter : number}&gt; {\n    constructor(props: {}, context: any) {\n        super(props, context);\n    }\n\n    render() {\n        return &lt;h1 ref=\"h1\"&gt;Test from comp one&lt;/h1&gt;;\n    }\n}\n</code></pre>\n\n<p>By using <code>tsc</code> and appropriate <code>tsconfig.json</code>, I generate js files.</p>\n\n<p>In another project, I import this npm module and I can render the component <code>COne</code> without issue. </p>\n\n<p>In the second project, I then created another component, <code>CTwo</code>, which extends <code>COne</code>:</p>\n\n<pre><code>import * as React from \"react\";\nimport { COne }  from \"repo1\";\n\nexport class CTwo extends COne {\n    constructor(props: {}, context: any) {\n        super(props, context);\n    }\n}\n</code></pre>\n\n<p>If I run <code>tsc --jsx react src/app.tsx</code>, where app.tsx imports and renders component <code>CTwo</code>, all is fine. But if I run <code>tsc --jsx react src/app.tsx typings/index.d.ts</code> where my typings file includes react and react-dom definitions (see below), I get this error</p>\n\n<pre><code>src/app.tsx(8,21): error TS2605: JSX element type 'CTwo' is not a constructor function for JSX elements.\n  Property 'render' is missing in type 'CTwo'.\n</code></pre>\n\n<p>My <code>typings.json</code> file contains current react definition and react-dom definition (I'm using the current typed-react because the official one is missing typings for JSX and it has problems when compiling with noImplicitAny):</p>\n\n<pre><code>{\n  \"name\": \"repo2\",\n  \"dependencies\": {\n    \"react\": \"github:cantide5ga/typed-react\",\n    \"react-dom\": \"registry:npm/react-dom#15.0.1+20160826174104\"\n  }\n}\n</code></pre>\n\n<p>I also installed <code>ts-node</code> and within a REPL, I imported <code>COne from \"repo1\"</code> and <code>CTwo</code>. I see that CTwo does not have a <code>render</code> method on the prototype (it does not have <code>__proto__</code> property).</p>\n\n<p>Even though I get the error, it works in the browser, when processed with <code>webpack</code>. Note, that even if I add a render method, I get another error, that <code>Property 'setState' is missing in type 'CTwo'.</code>.</p>\n\n<p>Here is the output from <code>ts-node</code>:</p>\n\n<pre><code>$ ts-node\n&gt; import { CTwo } from \"./src/CTwo\";\n'use strict'\n&gt; import { COne } from \"repo1\";\nundefined\n&gt; let x = new CTwo({}, {});\nundefined\n&gt; let y = new COne({}, {});\nundefined\n&gt; x.__proto__\n\u2a2f Unable to compile TypeScript\n[eval].ts (1,3): Property '__proto__' does not exist on type 'CTwo'. (2339)\n&gt; y.__proto__\nCOne { constructor: [Function: COne], render: [Function] }\n</code></pre>\n\n<p>So it seems that CTwo object is not properly extended. Should I be using a different syntax for extending react components?</p>\n\n<p>I am using typescript 2.1.4. The generated <code>CTwo.js</code> \"looks right\", despite the errors emitted:</p>\n\n<pre><code>\"use strict\";\nvar __extends = (this &amp;&amp; this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar repo1_1 = require(\"repo1\");\nvar CTwo = (function (_super) {\n    __extends(CTwo, _super);\n    function CTwo(props, context) {\n        return _super.call(this, props, context) || this;\n    }\n    return CTwo;\n}(repo1_1.COne));\nexports.CTwo = CTwo;\n</code></pre>\n"}, {"tags": ["angularjs", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 5255485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCyimtS4r00/AAAAAAAAAAI/AAAAAAAAIzQ/yCYOzASR4Fw/photo.jpg?sz=128", "display_name": "Ameer Akashe", "link": "https://stackoverflow.com/users/5255485/ameer-akashe"}, "edited": false, "score": 0, "creation_date": 1482336020, "post_id": 41266643, "comment_id": 69734736, "body": "I was thinking this, in that case might just use this <a href=\"https://wrapbootstrap.com/theme/sing-app-web-angular-2.0-dashboard-WB0J6BJ85\" rel=\"nofollow noreferrer\">wrapbootstrap.com/theme/&hellip;</a>"}], "tags": [], "owner": {"reputation": 198, "user_id": 3740430, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/4c2dd47463df6d8615356d8fcf26b464?s=128&d=identicon&r=PG&f=1", "display_name": "Rajan471", "link": "https://stackoverflow.com/users/3740430/rajan471"}, "is_accepted": false, "score": 0, "last_activity_date": 1482334954, "creation_date": 1482334954, "answer_id": 41266643, "question_id": 41266493, "link": "https://stackoverflow.com/questions/41266493/could-i-use-an-existing-angular-1-template-with-angular-2/41266643#41266643", "title": "Could I use an existing angular 1 template with angular 2?", "body": "<p>This theme is built with Angular 1.x. If you are planning for angular 2 then it will be of no use. Angular 2 is entirely at different level. For angular 2 you will need to use npm for installing dependencies and TypeScript compiler to compile typescript files. </p>\n\n<p>Another thing is as Angular 2 is built on TypeScript of it uses decorators, interfaces, etc. that are not in angular 1.x. Angular 1.x was like ember and backbone but angular2 needed a server to run itself</p>\n"}], "owner": {"reputation": 81, "user_id": 5255485, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCyimtS4r00/AAAAAAAAAAI/AAAAAAAAIzQ/yCYOzASR4Fw/photo.jpg?sz=128", "display_name": "Ameer Akashe", "link": "https://stackoverflow.com/users/5255485/ameer-akashe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482334954, "creation_date": 1482334486, "question_id": 41266493, "link": "https://stackoverflow.com/questions/41266493/could-i-use-an-existing-angular-1-template-with-angular-2", "title": "Could I use an existing angular 1 template with angular 2?", "body": "<p>I'm trying to build a real-time reactive admin dashboard for an admin Dashboard/POS system. I'm mainly a Java developer who's also developed using .net. I've just started practing using MEAN stack to create real-time web apps, I wanted to buy a theme though so that I can spend more time working on the model/controller. I was gonna buy this theme for use:</p>\n\n<p><a href=\"https://wrapbootstrap.com/theme/flatify-responsive-admin-web-app-WB0977873\" rel=\"nofollow noreferrer\">https://wrapbootstrap.com/theme/flatify-responsive-admin-web-app-WB0977873</a></p>\n\n<p>I was originally planning on using Angular 1, however after doing more research i'm now learning towards angular 2 so that I can use Typescript. This theme doesn't explicitly say it works with angular 2, but would it still be possible to use? Would there be alot to convert?</p>\n"}, {"tags": ["angular", "typescript", "angular2-template"], "comments": [{"owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "edited": false, "score": 0, "creation_date": 1482333846, "post_id": 41266228, "comment_id": 69733198, "body": "Post your template, that&#39;s where the error occured."}, {"owner": {"reputation": 1070, "user_id": 1680859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bb037a5df48b82e3783dcfaa5f02666b?s=128&d=identicon&r=PG", "display_name": "user1680859", "link": "https://stackoverflow.com/users/1680859/user1680859"}, "reply_to_user": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "edited": false, "score": 1, "creation_date": 1482333925, "post_id": 41266228, "comment_id": 69733263, "body": "The template is in the code above"}], "answers": [{"comments": [{"owner": {"reputation": 1070, "user_id": 1680859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bb037a5df48b82e3783dcfaa5f02666b?s=128&d=identicon&r=PG", "display_name": "user1680859", "link": "https://stackoverflow.com/users/1680859/user1680859"}, "edited": false, "score": 0, "creation_date": 1482334193, "post_id": 41266308, "comment_id": 69733452, "body": "excellent, it worked perfectly"}], "tags": [], "owner": {"reputation": 40137, "user_id": 6677986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cwYCn.jpg?s=128&g=1", "display_name": "Stefan Svrkota", "link": "https://stackoverflow.com/users/6677986/stefan-svrkota"}, "is_accepted": true, "score": 3, "last_activity_date": 1482334018, "creation_date": 1482334018, "answer_id": 41266308, "question_id": 41266228, "link": "https://stackoverflow.com/questions/41266228/exception-cannot-read-property-votes-of-undefined/41266308#41266308", "title": "EXCEPTION: Cannot read property &#39;votes&#39; of undefined", "body": "<p>This is where the error occured:</p>\n\n<pre><code>&lt;div class=\"value\"&gt;\n    {{ article.votes }}\n&lt;/div&gt;\n</code></pre>\n\n<p><code>article</code> is undefined at the moment of the template rendering, you can use safe navigation operator (<code>?</code>) to \"protect\" your template:</p>\n\n<pre><code>&lt;div class=\"value\"&gt;\n    {{ article?.votes }}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1070, "user_id": 1680859, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/bb037a5df48b82e3783dcfaa5f02666b?s=128&d=identicon&r=PG", "display_name": "user1680859", "link": "https://stackoverflow.com/users/1680859/user1680859"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "closed_date": 1482336417, "accepted_answer_id": 41266308, "answer_count": 1, "score": 1, "last_activity_date": 1482335240, "creation_date": 1482333811, "last_edit_date": 1482335240, "question_id": 41266228, "link": "https://stackoverflow.com/questions/41266228/exception-cannot-read-property-votes-of-undefined", "closed_reason": "Duplicate", "title": "EXCEPTION: Cannot read property &#39;votes&#39; of undefined", "body": "<p>I am trying to go through the first chapter code of the book Ang-Book2 (<a href=\"https://www.ng-book.com/2/\" rel=\"nofollow noreferrer\">https://www.ng-book.com/2/</a>), and everything is fine, it is gives me the same output as it is in the book, but in the console it is writing: </p>\n\n<pre><code>EXCEPTION: Error in ./ArticleComponent class ArticleComponent - inline template:3:27 caused by: Cannot read property 'votes' of undefined\n</code></pre>\n\n<p>This is the code of the main component:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\nclass Article {\n  title: string;\n  link: string;\n  votes: number;\n\n  constructor(title: string, link: string, votes: number) {\n    this.title = title;\n    this.link = link;\n    this.votes = votes;\n  }\n\n  domain(): string {\n    try {\n      const link: string = this.link.split('//')[1];\n      return link.split('/')[0];\n    } catch (err) {\n      return null;\n    }\n  }\n\n  voteUp(): void {\n    this.votes += 1;\n  }\n\n  voteDown(): void {\n    this.votes -= 1;\n  }\n}\n\n@Component({\n  selector: 'reddit-article',\n  inputs: ['article'],\n  host: {\n    class: 'row'\n  },\n  template: `\n    &lt;div class=\"four wide column center aligned votes\"&gt;\n      &lt;div class=\"ui statistic\"&gt;\n        &lt;div class=\"value\"&gt;\n          {{ article.votes }}\n        &lt;/div&gt;\n        &lt;div class=\"label\"&gt;\n          Points\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"twelve wide column\"&gt;\n      &lt;a class=\"ui large header\" href=\"{{ article.link }}\"&gt;\n        {{ article.title }}\n      &lt;/a&gt;\n      &lt;div class=\"meta\"&gt;({{ article.domain() }})&lt;/div&gt;\n      &lt;ul class=\"ui big horizontal list voters\"&gt;\n        &lt;li class=\"item\"&gt;\n          &lt;a href (click)=\"voteUp()\"&gt;\n            &lt;i class=\"arrow up icon\"&gt;&lt;/i&gt;\n              upvote\n            &lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"item\"&gt;\n          &lt;a href (click)=\"voteDown()\"&gt;\n            &lt;i class=\"arrow down icon\"&gt;&lt;/i&gt;\n            downvote\n          &lt;/a&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  `\n})\nexport class ArticleComponent {\n  article: Article;\n\n  voteUp(): boolean {\n    this.article.voteUp();\n    return false;\n  }\n\n  voteDown(): boolean {\n    this.article.voteDown();\n    return false;\n  }\n}\n\n@Component({\n  selector: 'reddit',\n  template: `\n    &lt;form class=\"ui large form segment\"&gt;\n      &lt;h3 class=\"ui header\"&gt;Add a Link&lt;/h3&gt;\n\n      &lt;div class=\"field\"&gt;\n        &lt;label for=\"title\"&gt;Title:&lt;/label&gt;\n        &lt;input name=\"title\" #newtitle&gt;\n      &lt;/div&gt;\n      &lt;div class=\"field\"&gt;\n        &lt;label for=\"link\"&gt;Link:&lt;/label&gt;\n        &lt;input name=\"link\" #newlink&gt;\n      &lt;/div&gt;\n\n      &lt;button (click)=\"addArticle(newtitle, newlink)\"\n              class=\"ui positive right floated button\"&gt;\n        Submit link\n      &lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;div class=\"ui grid posts\"&gt;\n      &lt;reddit-article\n        *ngFor=\"let article of sortedArticles()\"\n        [article]=\"article\"&gt;\n      &lt;/reddit-article&gt;\n    &lt;/div&gt;\n  `\n})\nexport class RedditApp {\n  articles: Article[];\n\n  constructor() {\n    this.articles = [\n      new Article('Angular 2', 'http://angular.io', 3),\n      new Article('Fullstack', 'http://fullstack.io', 2),\n      new Article('Angular Homepage', 'http://angular.io', 1),\n    ];\n  }\n\n  addArticle(title: HTMLInputElement, link: HTMLInputElement): boolean {\n    console.log(`Adding article title: ${title.value} and link: ${link.value}`);\n    this.articles.push(new Article(title.value, link.value, 0));\n    title.value = '';\n    link.value = '';\n    return false;\n  }\n\n  sortedArticles(): Article[] {\n    return this.articles.sort((a: Article, b: Article) =&gt; b.votes - a.votes);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-modules"], "comments": [{"owner": {"reputation": 428, "user_id": 3639575, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1dcf4cd49115ae4199253577aefbfd97?s=128&d=identicon&r=PG", "display_name": "lost_in_magento", "link": "https://stackoverflow.com/users/3639575/lost-in-magento"}, "edited": false, "score": 0, "creation_date": 1482332521, "post_id": 41264962, "comment_id": 69732280, "body": "Try adding SigninComponent in declaration of app/app.module.ts"}, {"owner": {"reputation": 2251, "user_id": 3919057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-pU9Kwp1Uo9A/AAAAAAAAAAI/AAAAAAAAAa8/qq35SZAPU60/photo.jpg?sz=128", "display_name": "Rohith K P", "link": "https://stackoverflow.com/users/3919057/rohith-k-p"}, "edited": false, "score": 0, "creation_date": 1510252194, "post_id": 41264962, "comment_id": 81367288, "body": "You may have some error in that module."}], "answers": [{"comments": [{"owner": {"reputation": 857, "user_id": 2416984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bce009d33f47320583bff235c769904?s=128&d=identicon&r=PG", "display_name": "user2416984", "link": "https://stackoverflow.com/users/2416984/user2416984"}, "edited": false, "score": 1, "creation_date": 1482394484, "post_id": 41272576, "comment_id": 69758501, "body": "this solved the issue thanks; the fact that the typescript compiler needs an explicit import feels however like the angular app is not fully modular..."}, {"owner": {"reputation": 71, "user_id": 4350791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ac5NF.jpg?s=128&g=1", "display_name": "Marshall-L-D", "link": "https://stackoverflow.com/users/4350791/marshall-l-d"}, "edited": false, "score": 1, "creation_date": 1545075112, "post_id": 41272576, "comment_id": 94492333, "body": "This answer will work but it &quot;hard-codes&quot; the reference to a specific location within the module.  I&#39;ve found a better way is to declare the export at the bottom of the module after export class module: <code>export class AuthModule {}</code> <code>export * from &#39;.&#47;components&#47;signin.component&#39;;</code>"}], "tags": [], "owner": {"reputation": 1216, "user_id": 2516349, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d6abeb1e7cd964e12b7d828c62a0d884?s=128&d=identicon&r=PG", "display_name": "Fjut", "link": "https://stackoverflow.com/users/2516349/fjut"}, "is_accepted": true, "score": 27, "last_activity_date": 1482357806, "last_edit_date": 1482357806, "creation_date": 1482357401, "answer_id": 41272576, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/41272576#41272576", "title": "Angular2 module has no exported member", "body": "<p>You do not need the line:</p>\n\n<pre><code>import { SigninComponent, RegisterComponent } from './auth/auth.module';\n</code></pre>\n\n<p>in your <code>app.component.ts</code> as you already included the <code>AuthModule</code> in your <code>app.module.ts</code>. <code>AutModule</code> import is sufficient to use your component in the app.</p>\n\n<p>The error that you get is a TypeScript error, not a Angular one, and it is correct in stating that there is no exported member, as it searches for a valid EC6 syntax for export, not angular module export. This line would  thus work in your <code>app.component.ts</code>:</p>\n\n<pre><code>import { SigninComponent } from './auth/components/signin.component';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 0, "creation_date": 1502992920, "post_id": 44270471, "comment_id": 78441622, "body": "What is the meaning of default keyword there? I also saw some examples with default keyword in some articles. If it creates problems for export, is there any real scenario where default keyword would be useful?"}, {"owner": {"reputation": 1600, "user_id": 4016158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7jNOnLAmbNE/AAAAAAAAAAI/AAAAAAAAHfE/9OTECGhhN4o/photo.jpg?sz=128", "display_name": "Hasan Daghash", "link": "https://stackoverflow.com/users/4016158/hasan-daghash"}, "reply_to_user": {"reputation": 710, "user_id": 569439, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5e95faa3ec08fd675b8436d6588a2e12?s=128&d=identicon&r=PG", "display_name": "rineez", "link": "https://stackoverflow.com/users/569439/rineez"}, "edited": false, "score": 1, "creation_date": 1503226103, "post_id": 44270471, "comment_id": 78519652, "body": "by adding the default keyword you tilling the route this will be the default Module incase i&#39;m not referring a Module in the route class by using #Module name"}], "tags": [], "owner": {"reputation": 1600, "user_id": 4016158, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-7jNOnLAmbNE/AAAAAAAAAAI/AAAAAAAAHfE/9OTECGhhN4o/photo.jpg?sz=128", "display_name": "Hasan Daghash", "link": "https://stackoverflow.com/users/4016158/hasan-daghash"}, "is_accepted": false, "score": 10, "last_activity_date": 1496172732, "creation_date": 1496172732, "answer_id": 44270471, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/44270471#44270471", "title": "Angular2 module has no exported member", "body": "<p>Also some of common cases :</p>\n\n<p>maybe you export class with \"default\" prefix like so </p>\n\n<pre><code>export default class Module {}\n</code></pre>\n\n<p>just remove it </p>\n\n<pre><code>export class Module {}\n</code></pre>\n\n<p>this is solve the issue for me </p>\n"}, {"tags": [], "owner": {"reputation": 5259, "user_id": 2002079, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/RPZ8A.jpg?s=128&g=1", "display_name": "ahmadalibaloch", "link": "https://stackoverflow.com/users/2002079/ahmadalibaloch"}, "is_accepted": false, "score": 6, "last_activity_date": 1498847721, "creation_date": 1498847721, "answer_id": 44852895, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/44852895#44852895", "title": "Angular2 module has no exported member", "body": "<p>This error can also occur if your interface name is different than the file it is contained in. Read about ES6 modules for details. If the <code>SignInComponent</code> was an interface, as was in my case, then </p>\n\n<pre><code>SignInComponent\n</code></pre>\n\n<p>should be in a file named <code>SignInComponent.ts</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2438, "user_id": 2759473, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/fkdGV.jpg?s=128&g=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/2759473/tomas"}, "is_accepted": false, "score": 7, "last_activity_date": 1507282001, "creation_date": 1507282001, "answer_id": 46602563, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/46602563#46602563", "title": "Angular2 module has no exported member", "body": "<p>For me such issue occur when I had multiple <code>export</code> statements in single <code>.ts</code> file...</p>\n"}, {"comments": [{"owner": {"reputation": 1267, "user_id": 1122880, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/f4a53c36aa92fe894632b0a26e7336d8?s=128&d=identicon&r=PG", "display_name": "TheCuBeMan", "link": "https://stackoverflow.com/users/1122880/thecubeman"}, "edited": false, "score": 13, "creation_date": 1524661148, "post_id": 46885573, "comment_id": 87062034, "body": "I was busting my brain over the error from the original question here, until I came by this answer... running &quot;ng serve&quot; again made this error go away! Thanks"}, {"owner": {"reputation": 11761, "user_id": 4964822, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTZqV.jpg?s=128&g=1", "display_name": "nice_dev", "link": "https://stackoverflow.com/users/4964822/nice-dev"}, "edited": false, "score": 0, "creation_date": 1539345340, "post_id": 46885573, "comment_id": 92479501, "body": "This worked for me too, but not sure about what is this strange behaviour. Maybe there is some issue with change detection scheme, again, not sure though."}], "tags": [], "owner": {"reputation": 12075, "user_id": 8757883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gQGYY.png?s=128&g=1", "display_name": "Akber Iqbal", "link": "https://stackoverflow.com/users/8757883/akber-iqbal"}, "is_accepted": false, "score": 55, "last_activity_date": 1508749598, "creation_date": 1508749598, "answer_id": 46885573, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/46885573#46885573", "title": "Angular2 module has no exported member", "body": "<p>Working with atom (1.21.1 ia32)... i got the same error, even though i added a reference to my pipe in the app.module.ts and in the declarations within app.module.ts</p>\n\n<p>solution was to restart my node instance... stopping the website and then doing <strong>ng serve</strong> again... going to localhost:4200 worked like a charm after this restart</p>\n"}, {"tags": [], "owner": {"reputation": 531, "user_id": 2661193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6935a25ab6ea078b6a723a0a43c9b31c?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/2661193/manoj"}, "is_accepted": false, "score": 0, "last_activity_date": 1534957653, "creation_date": 1534957653, "answer_id": 51971924, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/51971924#51971924", "title": "Angular2 module has no exported member", "body": "<p>I had the component name wrong(it is case sensitive) in either app.rounting.ts or app.module.ts.</p>\n"}, {"tags": [], "owner": {"reputation": 1036, "user_id": 2036828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AC1cA.jpg?s=128&g=1", "display_name": "Jitendra G2", "link": "https://stackoverflow.com/users/2036828/jitendra-g2"}, "is_accepted": false, "score": 2, "last_activity_date": 1539609785, "creation_date": 1539609785, "answer_id": 52817765, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/52817765#52817765", "title": "Angular2 module has no exported member", "body": "<p>I was facing same issue and I just started app with new port and everything looks good.</p>\n\n<p><code>ng serve --port 4201</code></p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 9404523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uhG97LjjWvQ/AAAAAAAAAAI/AAAAAAAAAAs/1gCO3HfwG00/photo.jpg?sz=128", "display_name": "Rohan Shenoy", "link": "https://stackoverflow.com/users/9404523/rohan-shenoy"}, "is_accepted": false, "score": 4, "last_activity_date": 1539691681, "creation_date": 1539691681, "answer_id": 52835118, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/52835118#52835118", "title": "Angular2 module has no exported member", "body": "<p>I got similar issue. The mistake i made was I did not add service in the providers array in app.module.ts.\nHope this helps, Thank You.</p>\n"}, {"tags": [], "owner": {"reputation": 2191, "user_id": 3564943, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000678923387/picture?type=large", "display_name": "Andris", "link": "https://stackoverflow.com/users/3564943/andris"}, "is_accepted": false, "score": 0, "last_activity_date": 1574840200, "last_edit_date": 1574840200, "creation_date": 1574422677, "answer_id": 58993507, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/58993507#58993507", "title": "Angular2 module has no exported member", "body": "<p>In my module i am exporting classes this way: </p>\n\n<pre><code>export { SigninComponent } from './SigninComponent';\nexport { RegisterComponent } from './RegisterComponent';\n</code></pre>\n\n<p>This allow me to import multiple classes in file from same module: </p>\n\n<pre><code>import { SigninComponent, RegisterComponent} from \"../auth.module\";\n</code></pre>\n\n<p>PS: Of course @Fjut answer is correct, but same time it doesn't support multiple imports from same file. I would suggest to use both answers for your needs. But importing from module makes folder structure refactorings more easier.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 7703556, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rF9zm.jpg?s=128&g=1", "display_name": "Amede Angel Aulerien", "link": "https://stackoverflow.com/users/7703556/amede-angel-aulerien"}, "is_accepted": false, "score": 0, "last_activity_date": 1587492780, "creation_date": 1587492780, "answer_id": 61350257, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member/61350257#61350257", "title": "Angular2 module has no exported member", "body": "<p>For my case, I restarted the <strong>server</strong> and it worked.</p>\n"}], "owner": {"reputation": 857, "user_id": 2416984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0bce009d33f47320583bff235c769904?s=128&d=identicon&r=PG", "display_name": "user2416984", "link": "https://stackoverflow.com/users/2416984/user2416984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175728, "favorite_count": 6, "accepted_answer_id": 41272576, "answer_count": 10, "score": 47, "last_activity_date": 1587492780, "creation_date": 1482330013, "last_edit_date": 1553578252, "question_id": 41264962, "link": "https://stackoverflow.com/questions/41264962/angular2-module-has-no-exported-member", "title": "Angular2 module has no exported member", "body": "<p>For a website with authentication in Angular2, I want to use a component of the authentication submodule in the main app component. However, I keep getting the following error: </p>\n\n<p><code>app/app.component.ts(3,10): error TS2305: Module '\"&lt;dir&gt;/app/auth/auth.module\"' has no exported member 'SigninComponent'.</code></p>\n\n<p>even after exporting SigninComponent.</p>\n\n<p>The project folder structure is as shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/XP2zz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XP2zz.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>app/auth/auth.module.ts:</strong> </p>\n\n<pre><code>import { NgModule }       from '@angular/core';\nimport { CommonModule }   from '@angular/common';\nimport { FormsModule }    from '@angular/forms';\n\nimport { RegisterComponent }    from './components/register.component';\nimport { SigninComponent }    from './components/signin.component';\nimport { HomeComponent }    from './components/home.component';\n\nimport { AuthService } from './services/auth.service';\nimport { AuthHttp } from './services/auth-http';\n\n@NgModule({\n  imports: [\n      CommonModule,\n      FormsModule\n  ],\n  declarations: [\n      RegisterComponent,\n      SigninComponent,\n      HomeComponent\n  ],\n  providers: [\n      AuthService,\n      AuthHttp\n  ],\n  exports: [\n      RegisterComponent,\n      SigninComponent,\n      HomeComponent\n  ]\n})\nexport class AuthModule {}\n</code></pre>\n\n<p><strong>app/auth/components/signin.component.ts:</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../services/auth.service';\n\n@Component({\n    selector: 'signin',\n    templateUrl: 'app/auth/signin.html'\n})\nexport class SigninComponent {\n    ...\n}\n</code></pre>\n\n<p><strong>app/app.component.ts:</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router, RouterOutlet } from '@angular/router';\nimport { SigninComponent, RegisterComponent } from './auth/auth.module';\nimport { AuthHttp } from './auth/services/auth-http';\nimport { AuthService } from './auth/services/auth.service';\n\n@Component({\n    selector: 'myapp',\n    templateUrl: 'app/app.html'\n})\n\nexport class AppComponent implements OnInit {\n    ...\n}\n</code></pre>\n\n<p><strong>app/app.module.ts:</strong></p>\n\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule }   from '@angular/forms';\nimport { HttpModule }    from '@angular/http';\nimport { RouterModule } from '@angular/router';\nimport { AppRoutingModule } from './app-routing.module';\nimport { AuthModule } from './auth/auth.module';\n\nimport { AppComponent } from './app.component';\n\nimport { AuthService } from './auth/services/auth.service';\nimport { AuthHttp } from './auth/services/auth-http';\n\n@NgModule({\n  declarations: [\n      AppComponent,\n      AuthService,\n      AuthHttp\n  ],\n  bootstrap: [ AppComponent ],\n  imports : [\n      BrowserModule,\n      FormsModule,\n      HttpModule,\n      AuthModule,\n      AppRoutingModule\n  ],\n  providers: [\n      AuthService,\n      AuthHttp\n  ]\n})\nexport class AppModule {\n}\n</code></pre>\n"}, {"tags": ["node.js", "angular", "typescript", "electron", "node-modules"], "owner": {"reputation": 765, "user_id": 5343268, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/d7ff2bec16cf3bcfd88d84f2f46a4029?s=128&d=identicon&r=PG&f=1", "display_name": "Fabian", "link": "https://stackoverflow.com/users/5343268/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 320, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1482330236, "creation_date": 1482329836, "last_edit_date": 1482330236, "question_id": 41264892, "link": "https://stackoverflow.com/questions/41264892/electron-angular2-import-modules", "title": "Electron + Angular2 - import modules", "body": "<p>I created an application with electron and Angular2 (Angular-CLI).\nUnfortunately, I can't import node modules like electron.</p>\n\n<pre><code>import {remote} from \"electron\";\n</code></pre>\n\n<p>Whenever I try to import node modules and use them I get the following errors:</p>\n\n<pre><code>Uncaught TypeError: fs.readFileSync is not a function\n</code></pre>\n\n<p>I've already found out that I can solve the problem if I add the following lines into my html</p>\n\n<pre><code>&lt;script&gt;\n   window.nodeRequire = require;\n   delete window.require;\n   delete window.exports;\n   delete window.module;\n&lt;/script&gt;\n</code></pre>\n\n<p>and use for the import</p>\n\n<pre><code>const remote = nodeRequire(\"electron\").remote;\n</code></pre>\n\n<p>But with this solution I can't use typings.</p>\n\n<p>I know it's due to how angular2 require modules.\nAngular2 has it's own require method. Thus, it works with nodeRequire.</p>\n\n<p>For packaging I use webpack with AngularCLI.\nAnd my tsconfig.json looks like the following</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n     \"baseUrl\": \"\",\n     \"declaration\": false,\n     \"emitDecoratorMetadata\": true,\n     \"experimentalDecorators\": true,\n     \"lib\": [\n       \"es6\",\n       \"dom\"\n     ],\n     \"mapRoot\": \"./\",\n     \"module\": \"commonjs\",\n     \"moduleResolution\": \"node\",\n     \"outDir\": \"../dist/out-tsc\",\n     \"sourceMap\": true,\n     \"target\": \"es5\",\n     \"typeRoots\": [\n       \"../node_modules/@types\"\n     ]\n  }\n}\n</code></pre>\n\n<p>So, is there any approach or solution how I can import node modules in an electron + angular2 project with typings?</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing", "angular2-services", "angular2-router"], "comments": [{"owner": {"reputation": 4353, "user_id": 4768968, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206870885874374/picture?type=large", "display_name": "Tim Consolazio", "link": "https://stackoverflow.com/users/4768968/tim-consolazio"}, "edited": false, "score": 0, "creation_date": 1482330083, "post_id": 41264722, "comment_id": 69730600, "body": "Possible simple solution, you could pass all your params as a single param, pipe delimited or something?  key_val|key_val|key_val   or some such. Then just grab that param value, split it on the pipe, then split each on the underscore. You could do this right up until whatever the limit is on the size of a router param (whatever that may be).  (I&#39;d think it wouldn&#39;t work, but you could even try it as a json string, that&#39;s a total longshot though I know)."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1488969413, "post_id": 41264722, "comment_id": 72462588, "body": "Do you need the URL to be distinct for different combinations of filters? If not, you can use a service hold the filters."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 1759826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147fff7157de39a34dd1af25d70956e2?s=128&d=identicon&r=PG", "display_name": "Tony Jackson", "link": "https://stackoverflow.com/users/1759826/tony-jackson"}, "edited": false, "score": 0, "creation_date": 1482442843, "post_id": 41282841, "comment_id": 69786780, "body": "Thank you for replying. I tried this quickly and yes it does work and yes the URL is indeed ugly!. I don&#39;t think I&#39;d like to go ahead with the URLs as they are in this solution,  so will wait to see if anyone else has another idea. I will also look into creating a filter service, if I can get that to work in the background instead.  Thank you again!!"}, {"owner": {"reputation": 1548, "user_id": 8480625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48fc0dd7f9a2fe23f217b531cf50066d?s=128&d=identicon&r=PG&f=1", "display_name": "Ifesinachi Bryan", "link": "https://stackoverflow.com/users/8480625/ifesinachi-bryan"}, "reply_to_user": {"reputation": 115, "user_id": 1759826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147fff7157de39a34dd1af25d70956e2?s=128&d=identicon&r=PG", "display_name": "Tony Jackson", "link": "https://stackoverflow.com/users/1759826/tony-jackson"}, "edited": false, "score": 0, "creation_date": 1536581601, "post_id": 41282841, "comment_id": 91462255, "body": "@TonyJackson, you could do this   this.router.navigate([&#39;/findlist&#39;], { queryParams: { param1: &#39;value1&#39;, &#39;param2&#39;: &#39;value2&#39; } });  and then the url would look like <a href=\"http://localhost:4200/findlist?param1=value1&amp;param2=value2\" rel=\"nofollow noreferrer\">localhost:4200/findlist?param1=value1&amp;param2=value2</a>"}], "tags": [], "owner": {"reputation": 6042, "user_id": 6942210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9kbgW.jpg?s=128&g=1", "display_name": "Philipp Kief", "link": "https://stackoverflow.com/users/6942210/philipp-kief"}, "is_accepted": false, "score": 4, "last_activity_date": 1482408360, "creation_date": 1482408360, "answer_id": 41282841, "question_id": 41264722, "link": "https://stackoverflow.com/questions/41264722/how-to-handle-multiple-queryparams-in-angular2/41282841#41282841", "title": "How to handle multiple queryParams in Angular2", "body": "<p>You could try it like this:</p>\n\n<p>Define an array with your query params:</p>\n\n<pre><code>myQueryParams = [\n    { id: 1, param: 'myParam' },\n    { id: 2, param: 'myParam' },\n    { id: 3, param: 'myParam' },\n    { id: 4, param: 'myParam' },\n    { id: 5, param: 'myParam' },\n];\n</code></pre>\n\n<p>Put this array into one single query param:</p>\n\n<pre><code>this.router.navigate(['/findlist'], {\n    queryParams: {\n        filter: JSON.stringify(this.myQueryParams)\n    }\n});\n</code></pre>\n\n<p>Read the query param like this:</p>\n\n<pre><code>this.route.queryParams.subscribe((p: any) =&gt; {\n    if (p.filter){\n        console.log(JSON.parse(p.filter));\n    }\n});\n</code></pre>\n\n<p>You'll see something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WJmii.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJmii.png\" alt=\"Screenshot of Chrome developer tools\"></a></p>\n\n<p>Now you can parse this object. I think the URL looks a little bit ugly, but it should be functional. Try it out, I hope it helps you ;)</p>\n"}, {"tags": [], "owner": {"reputation": 1548, "user_id": 8480625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48fc0dd7f9a2fe23f217b531cf50066d?s=128&d=identicon&r=PG&f=1", "display_name": "Ifesinachi Bryan", "link": "https://stackoverflow.com/users/8480625/ifesinachi-bryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1536581991, "creation_date": 1536581991, "answer_id": 52257678, "question_id": 41264722, "link": "https://stackoverflow.com/questions/41264722/how-to-handle-multiple-queryparams-in-angular2/52257678#52257678", "title": "How to handle multiple queryParams in Angular2", "body": "<p>Try this.</p>\n\n<pre><code>this.router.navigate(['/findlist'], { queryParams: { param1: 'value1', 'param2': 'value2' } }); \n</code></pre>\n\n<p>and then the url would look like </p>\n\n<pre><code>localhost:4200/findlist?param1=value1&amp;param2=value2 \n</code></pre>\n\n<p>Finally, you could get back the route params by using the snippet below,</p>\n\n<pre><code>this.route.queryParams.subscribe((p: any) =&gt; {\n    if (p.param1){\n        console.log(JSON.parse(p.param1));\n    }\n if (p.param2){\n        console.log(JSON.parse(p.param2));\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 1759826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147fff7157de39a34dd1af25d70956e2?s=128&d=identicon&r=PG", "display_name": "Tony Jackson", "link": "https://stackoverflow.com/users/1759826/tony-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8214, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1536581991, "creation_date": 1482329343, "question_id": 41264722, "link": "https://stackoverflow.com/questions/41264722/how-to-handle-multiple-queryparams-in-angular2", "title": "How to handle multiple queryParams in Angular2", "body": "<p>I'm trying to implement a filtering mechanism in a new Angular2 app, that would allow me to filter a list of entries in an array. The entries may have around 20 properties that could be filtered on. I have so far created a list of filters in one component and then a list component that is routed to, as a child.\nI then planned to pass the filters as queryParams through the router. Starting with just one filter this was fine:</p>\n\n<p>On the send side I had:</p>\n\n<pre><code>this.router.navigate(['/findlist'], {queryParams: {'g': myParam}});\n</code></pre>\n\n<p>The on the receive side, I had:</p>\n\n<pre><code>this.subscription = this.route.queryParams.subscribe(\n  (queryParam: any) =&gt; this.myFilter = queryParam['g']\n);\n</code></pre>\n\n<p>I then pass myFilter to a filter pipe to do the match and filter. All OK so far.</p>\n\n<p>However, I can't figure out how to scale this up to allow for multiple potential Params, most of which would be blank/not needed. </p>\n\n<p>I can imagine that I would need to define an array holding ALL of the active filters through the queryParam, but the only documentation I can find, only ever shows examples with just one parameter passed. I've tried playing around with:</p>\n\n<pre><code>{queryParams: { pass an array here! }}\n</code></pre>\n\n<p>But my IDE registers an error if I put anything in other than a key:value pair.</p>\n\n<p>I could probably just add in all the possible filters and their values each time, but that would create a URL string stupidly long each time, with most values blank or All etc., not very pretty.</p>\n\n<p>So I think my workflow should be that on the send side I maintain an array of all the filters and their states and then each time one of the filter buttons is clicked, I first update the relevant value in the array and then pass the whole array through queryParams. </p>\n\n<p>On the receive side somehow I have to receive and process the Param as an array and then extract each entry as variables to then process in the filter. I also want to be DRY, so don't really want several statements on the receive side effectively doing the same thing for different properties, simplistically it makes more sense to cycle through an array instead.</p>\n\n<p>I hope that makes sense, I'd be grateful if anyone has a suggestion, even if it means passing the data in a different way. For example, I'm currently now looking to see whether I can just pass the data by creating a separate filter service and passing it using @Input instead.</p>\n\n<p>Any ideas gratefully received\n(self taught amateur so probably missing something obvious !)</p>\n\n<p>Thanks</p>\n\n<p>Tony</p>\n"}, {"tags": ["angular", "typescript", "mouseevent", "rxjs", "observable"], "comments": [{"owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1482328854, "post_id": 41264465, "comment_id": 69729783, "body": "This error is related to static code analysis by TypeScript. Paste the code causing this error."}, {"owner": {"reputation": 865, "user_id": 930151, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/70b0af7cdcf5ff9985039eab0abd4cf9?s=128&d=identicon&r=PG", "display_name": "Shilpa Nagavara", "link": "https://stackoverflow.com/users/930151/shilpa-nagavara"}, "reply_to_user": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "edited": false, "score": 0, "creation_date": 1482329367, "post_id": 41264465, "comment_id": 69730114, "body": "Edited to add the code"}], "answers": [{"tags": [], "owner": {"reputation": 1362, "user_id": 1252155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc61bb0051d6c65ad3240d9c1eb87c2e?s=128&d=identicon&r=PG", "display_name": "Ionut Costica", "link": "https://stackoverflow.com/users/1252155/ionut-costica"}, "is_accepted": true, "score": 9, "last_activity_date": 1482328910, "creation_date": 1482328910, "answer_id": 41264582, "question_id": 41264465, "link": "https://stackoverflow.com/questions/41264465/angular-2-typescript-ts2322-type-subscription-is-not-assignable-to-type-o/41264582#41264582", "title": "Angular 2 - Typescript: TS2322: Type &#39;Subscription&#39; is not assignable to type &#39;Observable&lt;MouseEvent&gt;&#39;", "body": "<p>The error is in <code>click-outside.directive.ts</code>. <code>Observable.subscribe</code> returns a <code>Subscription</code> (in <code>ngOnInit</code>), not another <code>Observable</code>. Thus, the type of <code>private globalClick</code> should be <code>Subscription</code>.</p>\n\n<p>It works when types are removed, and as plunker doesn't show type errors it worked, but when compiling with <code>tsc</code> it will error out as you're trying to assign a <code>Subscription</code> object to an <code>Observable</code>.</p>\n"}], "owner": {"reputation": 865, "user_id": 930151, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/70b0af7cdcf5ff9985039eab0abd4cf9?s=128&d=identicon&r=PG", "display_name": "Shilpa Nagavara", "link": "https://stackoverflow.com/users/930151/shilpa-nagavara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13567, "favorite_count": 1, "accepted_answer_id": 41264582, "answer_count": 1, "score": 3, "last_activity_date": 1482329355, "creation_date": 1482328537, "last_edit_date": 1482329355, "question_id": 41264465, "link": "https://stackoverflow.com/questions/41264465/angular-2-typescript-ts2322-type-subscription-is-not-assignable-to-type-o", "title": "Angular 2 - Typescript: TS2322: Type &#39;Subscription&#39; is not assignable to type &#39;Observable&lt;MouseEvent&gt;&#39;", "body": "<p>I am using the click-outside directive from this plunk --> <a href=\"http://embed.plnkr.co/v7BMUv/\" rel=\"nofollow noreferrer\">http://embed.plnkr.co/v7BMUv/</a></p>\n\n<p>My TS compiler is throwing the following errors:</p>\n\n<p>TS2322: Type 'Subscription' is not assignable to type 'Observable'.\n  Property '_isScalar' is missing in type 'Subscription'.</p>\n\n<p>TS2339  Property 'unsubscribe' does not exist on type 'Observable'. </p>\n\n<p>My tsconfig.json:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n  \"compileOnSave\": false,\r\n  \"compilerOptions\": {\r\n    \"target\": \"es6\",\r\n    \"module\": \"system\",\r\n    \"moduleResolution\": \"node\",\r\n    \"sourceMap\": true,\r\n    \"emitDecoratorMetadata\": true,\r\n    \"experimentalDecorators\": true,\r\n    \"removeComments\": false,\r\n    \"suppressImplicitAnyIndexErrors\": true,\r\n    \"noImplicitAny\": false,\r\n    \"noEmitOnError\": false\r\n  },\r\n  \"exclude\": [\r\n    \"node_modules\",\r\n    \"wwwroot\"\r\n  ]\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The code causing error:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  ngOnInit() {\r\n    this.globalClick = Observable\r\n      .fromEvent(document, 'click')\r\n      .delay(1)\r\n      .do(() =&gt; {\r\n        this.listening = true;\r\n      }).subscribe((event:MouseEvent) =&gt; {\r\n        this.onGlobalClick(event);\r\n      });\r\n  }\r\n  </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How do I overcome this error?</p>\n"}, {"tags": ["typescript", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 17182, "user_id": 606821, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/X49xe.png?s=128&g=1", "display_name": "Remo H. Jansen", "link": "https://stackoverflow.com/users/606821/remo-h-jansen"}, "is_accepted": true, "score": 1, "last_activity_date": 1482333151, "creation_date": 1482333151, "answer_id": 41266009, "question_id": 41264197, "link": "https://stackoverflow.com/questions/41264197/how-to-upgrade-angular-dependency-using-typings-typescript-nwebie/41266009#41266009", "title": "how to upgrade angular dependency using typings (typescript nwebie)", "body": "<p>The number refers to a particular commit on GitHub.</p>\n\n<p>As you can see <a href=\"https://github.com/brechtbilliet/angular-typescript-webpack/blob/master/package.json#L15-L23\" rel=\"nofollow noreferrer\">here</a>, the example uses the new <code>@types</code> npm modules instead of typings. This means that you don't need typings at all. Just make sure you have installed the npm modules with:</p>\n\n<blockquote>\n  <p>$ npm install</p>\n</blockquote>\n\n<p>And also ensure that you are using typescript >= 2.0.</p>\n\n<blockquote>\n  <p>$ tsc -v</p>\n</blockquote>\n\n<p>You need to install angular first and then the typings.</p>\n"}], "owner": {"reputation": 2049, "user_id": 1282799, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c9e0eedda66ad0a55cb7aaced698edf2?s=128&d=identicon&r=PG", "display_name": "happyZZR1400", "link": "https://stackoverflow.com/users/1282799/happyzzr1400"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 41266009, "answer_count": 1, "score": 0, "last_activity_date": 1482333151, "creation_date": 1482327735, "question_id": 41264197, "link": "https://stackoverflow.com/questions/41264197/how-to-upgrade-angular-dependency-using-typings-typescript-nwebie", "title": "how to upgrade angular dependency using typings (typescript nwebie)", "body": "<p>i'm using following grate <a href=\"https://github.com/brechtbilliet/angular-typescript-webpack\" rel=\"nofollow noreferrer\">seed project</a>.</p>\n\n<p>my problem is that it uses angular 1.5.0 and I want to upgrade it to 1.6.0</p>\n\n<p>I know how to upgrade deps inside package.json file, \nthe problem is with typings -</p>\n\n<p>I can see following definitions in the project (typings.json)</p>\n\n<pre><code>{\n \"globalDependencies\": {\n     \"angular\": \"registry:dt/angular#1.5.0+20160517064839\",\n</code></pre>\n\n<p>so the problem is - where this <strong>20160517064839</strong> numbers taken from?\ni guess there must be some command like:</p>\n\n<p><strong>typings install angular@1.6.0</strong> </p>\n\n<p>but i didnt manage to find it in any place...</p>\n\n<p>Thanks forwards</p>\n"}, {"tags": ["javascript", "angular", "asynchronous", "typescript", "array-filter"], "comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 1, "creation_date": 1482324982, "post_id": 41263284, "comment_id": 69727154, "body": "filter is not the problem, <code>something()</code> might be. Please show that function. Nothing in the code you are showing is async"}, {"owner": {"reputation": 695, "user_id": 1904790, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c45bfa39e283580f65135dd23e571923?s=128&d=identicon&r=PG", "display_name": "SoS", "link": "https://stackoverflow.com/users/1904790/sos"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 0, "creation_date": 1482325299, "post_id": 41263284, "comment_id": 69727385, "body": "Actually the code looks like this: <code>let newTours = dbTours.filter(x =&gt; localTours.indexOf(x) &lt; 0);</code> and then <code>localTours.push(newTours);</code>. I will update the code in the question."}, {"owner": {"reputation": 8049, "user_id": 1447173, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Q0dKa.gif?s=128&g=1", "display_name": "Daniel B", "link": "https://stackoverflow.com/users/1447173/daniel-b"}, "edited": false, "score": 0, "creation_date": 1482325465, "post_id": 41263284, "comment_id": 69727495, "body": "Update your code to include where <code>localTours</code> is coming from."}, {"owner": {"reputation": 7834, "user_id": 955697, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/04b056e843c7f0e4c7e97e36174e43b4?s=128&d=identicon&r=PG", "display_name": "Deleteman", "link": "https://stackoverflow.com/users/955697/deleteman"}, "edited": false, "score": 0, "creation_date": 1482327402, "post_id": 41263284, "comment_id": 69728786, "body": "What about dbTours? Is that an array, or a db object? Something like an ORM? And the filter method is actually going against the db?"}, {"owner": {"reputation": 695, "user_id": 1904790, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c45bfa39e283580f65135dd23e571923?s=128&d=identicon&r=PG", "display_name": "SoS", "link": "https://stackoverflow.com/users/1904790/sos"}, "edited": false, "score": 0, "creation_date": 1482327450, "post_id": 41263284, "comment_id": 69728818, "body": "It&#39;s an array I get of the subscription of a <code>Observable&lt;Tour[]&gt;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 7834, "user_id": 955697, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/04b056e843c7f0e4c7e97e36174e43b4?s=128&d=identicon&r=PG", "display_name": "Deleteman", "link": "https://stackoverflow.com/users/955697/deleteman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482325316, "creation_date": 1482325316, "answer_id": 41263415, "question_id": 41263284, "link": "https://stackoverflow.com/questions/41263284/async-problems-whith-array-filter/41263415#41263415", "title": "Async problems whith Array.filter", "body": "<p>Either your filtering is wrong and is filtering EVERYTHING thus giving you an empty array as a result, OR your something function is async, in which case you would benefit from using something like the <a href=\"http://caolan.github.io/async/\" rel=\"nofollow noreferrer\">async.js</a> library and so something like:</p>\n\n<pre><code>oneArray.filter(something, (err, results) =&gt; {\n   otherArray.push(results);\n});\n</code></pre>\n\n<p>And your something function, looks like:</p>\n\n<pre><code>function something(item, callback) {\n  //your filtering logic needs to call the callback function to move onto the next item\n}\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 1904790, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/c45bfa39e283580f65135dd23e571923?s=128&d=identicon&r=PG", "display_name": "SoS", "link": "https://stackoverflow.com/users/1904790/sos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 368, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482325741, "creation_date": 1482324871, "last_edit_date": 1482325741, "question_id": 41263284, "link": "https://stackoverflow.com/questions/41263284/async-problems-whith-array-filter", "title": "Async problems whith Array.filter", "body": "<p>I'm using <code>Ionic2 / Angular2</code> with <code>typescript</code> and I have a problem while filtering an Array.</p>\n\n<p>I have </p>\n\n<pre><code>let localTours = [];\n...\nlet newTours = dbTours.filter(x =&gt; localTours.indexOf(x) &lt; 0);\nlocalTours.push(newTours);\n</code></pre>\n\n<p>In this example my <code>localTours</code> is always empty, because the <code>.push</code> is called before the filtering. Any idea how to solve this?</p>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"comments": [{"owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "reply_to_user": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "edited": false, "score": 0, "creation_date": 1482324764, "post_id": 41263119, "comment_id": 69727024, "body": "What do you mean?"}, {"owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "reply_to_user": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "edited": false, "score": 0, "creation_date": 1482324875, "post_id": 41263119, "comment_id": 69727087, "body": "@Funky you can use same approach with exported named function for it as well."}, {"owner": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "edited": false, "score": 0, "creation_date": 1482325296, "post_id": 41263119, "comment_id": 69727380, "body": "Not quite sure how?"}, {"owner": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "edited": false, "score": 0, "creation_date": 1482325880, "post_id": 41263119, "comment_id": 69727766, "body": "Thank you! Thank you! Thank you! Thank you! Thank you! Thank you! You are awesome!!!!!!!!!!!!!!!!!!!!!!!!!!!!"}], "tags": [], "owner": {"reputation": 11652, "user_id": 1377864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d77111560fa85ed47ad983a911647a3?s=128&d=identicon&r=PG", "display_name": "Yaroslav Admin", "link": "https://stackoverflow.com/users/1377864/yaroslav-admin"}, "is_accepted": true, "score": 3, "last_activity_date": 1482325697, "last_edit_date": 1482325697, "creation_date": 1482324227, "answer_id": 41263119, "question_id": 41263005, "link": "https://stackoverflow.com/questions/41263005/angular-2-error-encountered-resolving-symbol-values-statically-how-can-i-tu/41263119#41263119", "title": "Angular 2 : Error encountered resolving symbol values statically. - How can I turn this into a factory method?", "body": "<p>Do exactly as it suggested:</p>\n\n<pre><code>// named exported function\nexport function httpFactory(backend: XHRBackend, options: RequestOptions) {\n    return new HttpService(backend, options);\n}\n\nexport function configServiceFactory(config: AppConfigService) {\n    return () =&gt; config.load();\n}\n\n// after goes declaration of you module with `providers`\n// ... skipped ...\n{ provide: APP_INITIALIZER, useFactory: configServiceFactory, deps: [AppConfigService], multi: true },\n{\n    provide: HttpService,\n    useFactory: httpFactory,  // reference to the function\n    deps: [XHRBackend, RequestOptions]\n}\n// ... skipped ...\n</code></pre>\n"}], "owner": {"reputation": 11445, "user_id": 545877, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/6947e7dba4ebdd9df088183de3420a03?s=128&d=identicon&r=PG", "display_name": "Funky", "link": "https://stackoverflow.com/users/545877/funky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 41263119, "answer_count": 1, "score": 1, "last_activity_date": 1482325697, "creation_date": 1482323903, "last_edit_date": 1482324805, "question_id": 41263005, "link": "https://stackoverflow.com/questions/41263005/angular-2-error-encountered-resolving-symbol-values-statically-how-can-i-tu", "title": "Angular 2 : Error encountered resolving symbol values statically. - How can I turn this into a factory method?", "body": "<p>After installing Angular-cli I am getting this error:</p>\n\n<pre><code>Error encountered resolving symbol values statically. Function calls are not supported. Consider replacing the function or lambda with a refer\nence to an exported function (position 55:19 in the original .ts file), resolving symbol AppModule in C:/TM-2013/Debt/Debt Platform/Code/main/Think.Debt.Presentation/deb-explorer-with-angular\n-cli/src/app/app.module.ts    \n</code></pre>\n\n<p>In my App.Module.ts it does not like this section of code:</p>\n\n<p>providers: [</p>\n\n<pre><code>//   These are needed throughout the site    \nAppConfigService,\n\n{ provide: APP_INITIALIZER, useFactory: configServiceFactory, deps: [AppConfigService], multi: true },\n{\n  provide: HttpService,\n  useFactory: (backend: XHRBackend, options: RequestOptions) =&gt; {\n    return new HttpService(backend, options);\n  },\n  deps: [XHRBackend, RequestOptions]\n}\n</code></pre>\n\n<p>], </p>\n\n<p>EDIT:</p>\n\n<p>with the .load</p>\n\n<pre><code>  { provide: APP_INITIALIZER, useFactory: (config: AppConfigService) =&gt; () =&gt; config.load(), deps: [AppConfigService], multi: true },\n    {\n      provide: HttpService,\n      useFactory: (backend: XHRBackend, options: RequestOptions) =&gt; {\n        return new HttpService(backend, options);\n      },\n      deps: [XHRBackend, RequestOptions]\n    }\n</code></pre>\n\n<p>Is it possible to turn this into a factory class as it does not like this current usage?</p>\n"}, {"tags": ["angular", "typescript", "angular2-http"], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "is_accepted": true, "score": 1, "last_activity_date": 1483521895, "creation_date": 1483521895, "answer_id": 41460238, "question_id": 41262727, "link": "https://stackoverflow.com/questions/41262727/angular2-passing-api-data-to-another-component/41460238#41460238", "title": "Angular2 passing API data to another component", "body": "<p>Answer to my question was very simple but took me some time to put all together.</p>\n\n<p>To pass a variable to another component I use in parent template: Where  is an other component and blog.id an variable to pass to.</p>\n\n<pre><code>    &lt;my-comment [blogId]=\"blog.id\"&gt;&lt;/my-comment&gt;\n</code></pre>\n\n<p>In comments component I added import:</p>\n\n<pre><code>export class CommentsComponent implements OnInit, OnDestroy {        \n@Input() blogId:number;\n...\n</code></pre>\n\n<p>And then I can use a <code>blogId</code>variable in comment template and it's a exact copy of blog.id in post component.</p>\n"}], "owner": {"reputation": 524, "user_id": 6059796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5hBoQ.jpg?s=128&g=1", "display_name": "Ula", "link": "https://stackoverflow.com/users/6059796/ula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "accepted_answer_id": 41460238, "answer_count": 1, "score": 0, "last_activity_date": 1483521895, "creation_date": 1482322915, "last_edit_date": 1482391616, "question_id": 41262727, "link": "https://stackoverflow.com/questions/41262727/angular2-passing-api-data-to-another-component", "title": "Angular2 passing API data to another component", "body": "<p><strong>TL;DR:</strong>\nI want to pass a variable in html template from one component to another.\nSomething like this is described in docs: <code>&lt;my-comment (blogId)=\"blog.id\"&gt;&lt;/my-comment&gt;</code> and trows no error. But how to 'cach' this variable in other component? I want to pass blog Id as variable to API.</p>\n\n<p><strong>Long version:</strong>\nI've made an Angular2 with two components with Parent-Child and one separate. They are: blog list (list of post), one single post and comments.</p>\n\n<p>I try to pass a blog id retrieve from blog API to comments component and put to its API.</p>\n\n<p>So I have:\ncomments.service</p>\n\n<pre><code>(...)    \n@Injectable()\nexport class CommentsService {\n    constructor(private http: Http) {}\n        private headers = new Headers({'Content-Type': 'application/json'});\n\n    create(body: string, author: string, date: string, post: any): Promise&lt;Comments&gt; {\n        return this.http\n            .post(API_ENDPOINT, JSON.stringify({body: body, name: author, date: date, postId: post}), {headers: this.headers})\n            .toPromise()\n            .then(this.extractData);\n    }\n\n    (...)\n}\n</code></pre>\n\n<p>comments.component, where I've got a Ts error:\nSupplied parameters do not match any signature of call target.\nOn this line: (but application and API works fine).</p>\n\n<blockquote>\n  <p>this.commentsService.create(body, name, date, postId)</p>\n</blockquote>\n\n<pre><code>import {Component, ViewEncapsulation, OnInit, OnDestroy, NgModule, Input} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport 'rxjs/add/operator/toPromise';\nimport {CommentsService} from \"./comments.service\";\nimport {Comments} from \"./comments.model\";\nimport {PostComponent} from '../blog/post.component';\nimport { BlogService } from '../blog/blog.service';\n\n@Component({\n    selector: 'my-comment',\n    templateUrl: './comments.html',\n    styleUrls: ['./comments.scss'],\n    encapsulation: ViewEncapsulation.None,\n    providers: [CommentsService]\n})\n\n@NgModule({\n    declarations: [PostComponent]\n})\n\nexport class CommentsComponent implements OnInit, OnDestroy {\n    private postId: Comments;\n    private body: Comments;\n    private name: Comments;\n    private date: any = new Date().toLocaleString();\n    private postComponent: any = PostComponent;\n    private blog: any = BlogService;\n\n    constructor(\n        private route: ActivatedRoute,\n        private commentsService: CommentsService\n    ) {\n\n    }\n\n    ngOnInit(): void {\n        let id = +this.route.snapshot.params['id'];\n    }\n\n    ngOnDestroy(): void {}\n\n    add(body: string, name: string, date: string, postId: number): void {\n        body = body.trim();\n        name = name.trim();\n        if (!body || !postId || !name) { return; }\n        this.commentsService.create(body, name, date, postId);\n    }\n}\n</code></pre>\n\n<p>Comments.html template where I want to have an blog Id variable.</p>\n\n<pre><code>&lt;div ngclass=\"form\" class=\"form\"&gt;\n    &lt;!--&lt;input #name /&gt;--&gt;\n    &lt;p ngClass=\"form__title\"&gt;We are thrilled to hear your opinion:&lt;/p&gt;\n    &lt;input #body ngClass=\"form__body\" placeholder=\"Put your text here\" /&gt;\n    &lt;input #name placeholder=\"Your name\" /&gt;\n\n    &lt;button class=\"btn btn-1 btn-1d\" (click)=\"add(body.value, name.value, date, ????blogPostID????); body.value=''; name.value='';\"&gt;\n        Add\n    &lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Blog Post are retrieved from API with Id and iterate by *ngFor in its Parent Component. In post.component I provided a Comments Service, so this template works very well for one post (post.html):</p>\n\n<pre><code>    &lt;article *ngIf=\"blog\" class=\"post\"&gt;\n    &lt;header&gt;\n        &lt;h2&gt;{{ blog.id }}\\ {{ blog?.title }}&lt;/h2&gt;\n    &lt;/header&gt;\n    &lt;section class=\"article__content\"&gt;\n        {{ blog?.text }}\n        &lt;p class=\"author\"&gt; {{ blog?.name }}&lt;/p&gt;\n    &lt;/section&gt;\n    &lt;footer&gt;\n        &lt;a [routerLink]=\"['/blog']\" routerLinkActive=\"active\" class=\"btn btn-1 btn-1e\"&gt;Return&lt;/a&gt;\n    &lt;/footer&gt;\n&lt;/article&gt;\n\n&lt;section *ngIf=\"comments\" class=\"comment\"&gt;\n    &lt;h2&gt;Comments:&lt;/h2&gt;\n    &lt;main&gt;\n        &lt;div *ngFor=\"let comment of comments\"&gt;\n            &lt;div *ngIf=\"comment.postId == blog.id\"&gt;\n                &lt;p&gt;{{ comment.body }}&lt;/p&gt;\n                &lt;p&gt;{{ comment.postId }}&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;/main&gt;\n&lt;/section&gt;\n\n&lt;my-comment&gt;&lt;/my-comment&gt;\n</code></pre>\n\n<p>But I want to provide a blog.id from single post (*ngFor iterated component) to  somehow.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1242, "user_id": 1244730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f5f1c377b77b9c6d20ca30cf0ac02a0?s=128&d=identicon&r=PG", "display_name": "seveves", "link": "https://stackoverflow.com/users/1244730/seveves"}, "edited": false, "score": 0, "creation_date": 1482321647, "post_id": 41262278, "comment_id": 69725027, "body": "You should explain what you want to achieve because accessing DOM elements directly is most of the time not the most elegant way you can use in angular2."}, {"owner": {"reputation": 12785, "user_id": 6606630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/79IkN.jpg?s=128&g=1", "display_name": "Sandip - Full Stack Developer", "link": "https://stackoverflow.com/users/6606630/sandip-full-stack-developer"}, "edited": false, "score": 0, "creation_date": 1482321651, "post_id": 41262278, "comment_id": 69725029, "body": "which type of changes you wants to apply on element?"}, {"owner": {"reputation": 1279, "user_id": 3848616, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2016eac6cf35b3529435f5c18099f814?s=128&d=identicon&r=PG&f=1", "display_name": "sudhir", "link": "https://stackoverflow.com/users/3848616/sudhir"}, "edited": false, "score": 0, "creation_date": 1482322023, "post_id": 41262278, "comment_id": 69725248, "body": "Actually I&#39;m using third party framework and I have to implement its custom methods on it  after identifying the element."}, {"owner": {"reputation": 1242, "user_id": 1244730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f5f1c377b77b9c6d20ca30cf0ac02a0?s=128&d=identicon&r=PG", "display_name": "seveves", "link": "https://stackoverflow.com/users/1244730/seveves"}, "edited": false, "score": 0, "creation_date": 1482322446, "post_id": 41262278, "comment_id": 69725575, "body": "See my <a href=\"https://github.com/seveves/ng2-vis/blob/master/components/network/vis-network.directive.ts\" rel=\"nofollow noreferrer\">angular2 wrapper</a> of vis.js ... there I identify the network element as &#39;any&#39; and call the methods on it (no type safety of course)."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 1998592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5863740e94455413baf906681a19b6b?s=128&d=identicon&r=PG", "display_name": "Vinay Singh", "link": "https://stackoverflow.com/users/1998592/vinay-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1482326243, "creation_date": 1482326243, "answer_id": 41263692, "question_id": 41262278, "link": "https://stackoverflow.com/questions/41262278/how-to-identify-an-html-element-in-typescript-in-angular-2/41263692#41263692", "title": "How to identify an HTML element in Typescript in angular 2", "body": "<p>In angular 2 we use function or $event to provide logic.\nfor example-</p>\n\n<blockquote>\n  <p>(click)=\"func()\" or (ngModelChange)=\"func($event)\".</p>\n</blockquote>\n"}], "owner": {"reputation": 1279, "user_id": 3848616, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/2016eac6cf35b3529435f5c18099f814?s=128&d=identicon&r=PG&f=1", "display_name": "sudhir", "link": "https://stackoverflow.com/users/3848616/sudhir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 884, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482326243, "creation_date": 1482321381, "question_id": 41262278, "link": "https://stackoverflow.com/questions/41262278/how-to-identify-an-html-element-in-typescript-in-angular-2", "title": "How to identify an HTML element in Typescript in angular 2", "body": "<p>I have a div element and I need to find the element and apply some logic over it, how can I identify that element without jQuery or javascript??</p>\n\n<p>generally in jquery we do \n$('#elementID') but in typescript?? </p>\n\n<p>I tried below ways </p>\n\n<pre><code>&lt;div #myID&gt;&lt;/div&gt;\n</code></pre>\n\n<p>in ts file</p>\n\n<pre><code>@ViewChild('myID') myDiv: any;\n</code></pre>\n\n<p>and when I use</p>\n\n<pre><code>let element = this.myDiv.nativeElement\n</code></pre>\n\n<p>I'm getting my div directly and I cannot apply any operations on it again I have to write</p>\n\n<pre><code>let element = $(this.myDiv.nativeElement)\n</code></pre>\n\n<p>to apply any changes on that element</p>\n\n<p>I tried declaring it as HTMLElement instead any and other ways .</p>\n\n<p>Can any one help , how to find an element apply functions on it as we do in jquery without using <strong>$</strong></p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 1242, "user_id": 1244730, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8f5f1c377b77b9c6d20ca30cf0ac02a0?s=128&d=identicon&r=PG", "display_name": "seveves", "link": "https://stackoverflow.com/users/1244730/seveves"}, "edited": false, "score": 1, "creation_date": 1482322281, "post_id": 41262276, "comment_id": 69725439, "body": "I think <a href=\"http://blog.thoughtram.io/angular/2016/02/22/angular-2-change-detection-explained.html\" rel=\"nofollow noreferrer\">this</a> explains the change detection very well. Angular2 uses rxjs a lot and I think using an Observable would be a good way to start."}], "answers": [{"tags": [], "owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "is_accepted": false, "score": 2, "last_activity_date": 1482322353, "creation_date": 1482322353, "answer_id": 41262578, "question_id": 41262276, "link": "https://stackoverflow.com/questions/41262276/transactional-model-update-in-angular-2/41262578#41262578", "title": "Transactional model update in Angular 2", "body": "<p>I'm using a service like this to control UI:</p>\n\n<pre><code>@Injectable()\nexport class UIService {\n  private buffer: any = {};\n  private dispatcher: Subject&lt;any&gt; = new Subject();\n\n  constructor() {\n    this.dispatcher\n      .asObservable()\n      .map(state =&gt; this.buffer = { ...this.buffer, ...state })\n      .debounceTime(50)\n      .subscribe(() =&gt; { /* do something */));\n  }\n\n  set(key: string, value?: any) {\n    this.dispatcher.next({ [key]: value });\n  }\n}\n</code></pre>\n\n<p>and in different components in <code>ngOnInit()</code> I set different options:</p>\n\n<pre><code>this.uiService.set('footer', false); // in base component\nthis.uiService.set('footer', true); // in extended component\nthis.uiService.set('sidebar', true); // in other component\nthis.uiService.set('title', 'My Page'); // elsewhere...\n</code></pre>\n\n<p>This way I have only one object that reflects my current UI state...</p>\n"}, {"tags": [], "owner": {"reputation": 4537, "user_id": 1983583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdbeb02a7fe50b769e67e0c076b33c54?s=128&d=identicon&r=PG", "display_name": "mweststrate", "link": "https://stackoverflow.com/users/1983583/mweststrate"}, "is_accepted": true, "score": 1, "last_activity_date": 1482851230, "creation_date": 1482851230, "answer_id": 41347544, "question_id": 41262276, "link": "https://stackoverflow.com/questions/41262276/transactional-model-update-in-angular-2/41347544#41347544", "title": "Transactional model update in Angular 2", "body": "<p>Note that MobX can be used with Angular 2 as well: <a href=\"https://github.com/500tech/ng2-mobx\" rel=\"nofollow noreferrer\">https://github.com/500tech/ng2-mobx</a></p>\n"}], "owner": {"reputation": 5216, "user_id": 334904, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/30c2d3f79c4b55e1d8de2a950cee0869?s=128&d=identicon&r=PG", "display_name": "shadeglare", "link": "https://stackoverflow.com/users/334904/shadeglare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 41347544, "answer_count": 2, "score": 0, "last_activity_date": 1482851230, "creation_date": 1482321377, "question_id": 41262276, "link": "https://stackoverflow.com/questions/41262276/transactional-model-update-in-angular-2", "title": "Transactional model update in Angular 2", "body": "<p>I previously worked with React/Mobx with the <a href=\"https://mobxjs.github.io/mobx/refguide/action.html\" rel=\"nofollow noreferrer\">action</a> concept. This allows to change some model properties in one transaction without firing multiple events to update UI state (only one event will be triggered after an action method will be executed).</p>\n\n<p>Is there any approach or may be patterns to achieve the same behavior in Angular 2?</p>\n"}, {"tags": ["typescript", "tsc"], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 0, "last_activity_date": 1482344360, "creation_date": 1482344360, "answer_id": 41269394, "question_id": 41262094, "link": "https://stackoverflow.com/questions/41262094/typescript-not-compiling-when-expression-used-as-property-name-to-acess-function/41269394#41269394", "title": "TypeScript not compiling when expression used as property name to acess function with an argument who&#39;s type has optional fields. TS2349", "body": "<p>The reason is that <code>A</code> and <code>C</code> are incompatible because <code>prop1</code> is optional in <code>A</code> and required in <code>C</code>. So you can't use function that takes <code>C</code> in place where a function that takes <code>A</code> is needed:</p>\n\n<pre><code>let fa: (a: A) =&gt; void;\nlet fc: (c: C) =&gt; void;\n\nfa = fc;\nfc = fa;\n</code></pre>\n\n<p>errors:</p>\n\n<pre><code>test.ts(49,1): error TS2322: Type '(c: C) =&gt; void' is not assignable to type '(a: A) =&gt; void'.\n  Types of parameters 'c' and 'a' are incompatible.\n    Type 'A' is not assignable to type 'C'.\n      Property 'id' is optional in type 'A' but required in type 'C'.\ntest.ts(50,1): error TS2322: Type '(a: A) =&gt; void' is not assignable to type '(c: C) =&gt; void'.\n  Types of parameters 'a' and 'c' are incompatible.\n    Type 'C' is not assignable to type 'A'.\n      Property 'from' is missing in type 'C'.\n</code></pre>\n\n<p>When you declare a map with literal property names, type inference can figure out when you do <code>caller([], {type: TYPE_A, from: 2, to: 1});</code>, you are actually accessing a value with <code>\"type_a\"</code> key, so it knows that function parameter type is exactly <code>A</code>. It can't do that when map is declared with calculated keys, probably because it just does not evaluate expressions for keys at compile time, so it infers a union type for map values, and two members of the union are incompatible with each other because <code>A</code> and <code>C</code> are incompatible.</p>\n\n<p>You can also get around this by just explicitly declaring type for <code>map</code>:</p>\n\n<pre><code>const map: {[key: string]: (args:string[], action: Action) =&gt; string[]} = {\n    [TYPE_A]: (args: string[], action: A) =&gt; {\n        return [\"a\"];\n    },\n    [TYPE_B]: (args: string[], action: B) =&gt; {\n        return [\"b\"];\n    },\n    [TYPE_C]: (args: string[], action: C) =&gt; {\n        return [\"c\"];\n    }\n};\n</code></pre>\n\n<p>also works.</p>\n"}], "owner": {"reputation": 868, "user_id": 5074540, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Quv3Eq1753E/AAAAAAAAAAI/AAAAAAAAAO8/1eGwaJleRaM/photo.jpg?sz=128", "display_name": "David Blaney", "link": "https://stackoverflow.com/users/5074540/david-blaney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 0, "accepted_answer_id": 41269394, "answer_count": 1, "score": 0, "last_activity_date": 1482344360, "creation_date": 1482320772, "question_id": 41262094, "link": "https://stackoverflow.com/questions/41262094/typescript-not-compiling-when-expression-used-as-property-name-to-acess-function", "title": "TypeScript not compiling when expression used as property name to acess function with an argument who&#39;s type has optional fields. TS2349", "body": "<p>The following code will not compile in TypeScript 2.1.4 giving the error:</p>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Error:(6, 31) TS2349:Cannot invoke an expression whose type lacks a call signature. Type '((args: string[], action: A) => string[]) | ((args: string[], action: C) => string[])' has no compatible call signatures.</p>\n</blockquote>\n\n<p><strong>Code</strong></p>\n\n<pre><code>/*\n* Set up a function to take some arguments\n* and an action and use the map to run the appropriate\n* function bases on the type property of the action \n*/ \n\nconst caller = (args: string[] = [], action): string[] =&gt; {\n        return map[action.type] ? map[action.type](args, action) : args;\n };\n\ninterface Action {\n    type: any; \n}\n\nconst TYPE_A = \"type_a\";\n\ninterface A extends Action {\n    from: number;\n    to: number;\n    id?: number; // optional parameters causing the issue.\n    prop1?: number;\n}\n\nconst TYPE_B = \"type_b\";\n\ninterface B extends Action {\n    from: number;\n    to: number;\n}\n\nconst TYPE_C = \"type_c\";\n\ninterface C extends Action {\n    id: number;\n    prop1: number;\n}\n\nconst map = {\n    [TYPE_A]: (args: string[], action: A) =&gt; {\n        return [\"a\"];\n    },\n    [TYPE_B]: (args: string[], action: B) =&gt; {\n        return [\"b\"];\n    },\n    [TYPE_C]: (args: string[], action: C) =&gt; {\n        return [\"c\"];\n    }\n};\n\ncaller([], {type: TYPE_A, from: 2, to: 1});\n</code></pre>\n\n<p><strong>Motivation</strong></p>\n\n<p>My motivation for using an expression as the property in the map is so that I can change the value of the property constants without needing to refactor the map.</p>\n\n<p><strong>Solutions</strong></p>\n\n<p>There are two ways of solving this:</p>\n\n<p><strong>a)</strong> Remove the optional fields in <code>interface A</code>.</p>\n\n<pre><code>interface A extends Action {\n    from: number;\n    to: number;\n    id: number; // optional parameters causing the issue not optional.\n    prop1: number;\n}\n</code></pre>\n\n<p><strong>b)</strong> Change the map properties declarations to values and not expressions and keep optional fields.</p>\n\n<pre><code>const map = {\n    \"type_a\" : (args: string[], action: A) =&gt; {\n        return [\"a\"];\n    },\n    \"type_b\": (args: string[], action: B) =&gt; {\n        return [\"b\"];\n    },\n    \"type_c\": (args: string[], action: C) =&gt; {\n        return [\"c\"];\n    }\n};\n</code></pre>\n\n<p><strong>Question</strong></p>\n\n<p>My question is why is the error shown in the first place, can someone explain this to me?</p>\n"}, {"tags": ["angularjs", "typescript", "gulp", "requirejs", "amd"], "owner": {"reputation": 11, "user_id": 7325448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d79bcbbb6ca5be98ec8f308148775506?s=128&d=identicon&r=PG&f=1", "display_name": "CTG_DEV", "link": "https://stackoverflow.com/users/7325448/ctg-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1482320219, "creation_date": 1482320219, "question_id": 41261922, "link": "https://stackoverflow.com/questions/41261922/how-to-create-multiple-typescript-angularjs-1-project-and-references-them-with-m", "title": "How to create multiple typescript/angularjs 1 project and references them with module is AMD", "body": "<p>i have large project angular js 1 with typescript, and i use external module for this projects and my projects has core like a library and app, it will reference core lib and call service from core.</p>\n\n<p>my structure i design is</p>\n\n<pre><code>index.html\n----------- app\n---------------- my-core\n---------------- my-app\n----------- assets\n--------------libs\n</code></pre>\n\n<p>i use</p>\n\n<ol>\n<li>gulp for javascript task manager</li>\n<li>requirejs for loader module</li>\n</ol>\n\n<p>each folder i create an index.ts file to re-export module in folder</p>\n\n<p>my tsconfig for core:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n      \"module\": \"amd\",\n      \"target\": \"es6\",\n      \"noImplicitAny\": false,\n      \"baseUrl\": \".\",\n      \"moduleResolution\": \"node\",\n      \"outFile\": \"../my-core/app/references/myCore.js\",\n      \"rootDir\": \"../my-core\",\n      \"declaration\": true,\n      \"experimentalDecorators\": true,\n      \"inlineSourceMap\": true,\n      \"inlineSources\": true\n  }\n}\n</code></pre>\n\n<p>my tsconfig for my-app</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n      \"module\": \"amd\",\n      \"target\": \"es6\",\n      \"rootDir\": \"\",\n      \"noImplicitAny\": false,\n      \"sourceMap\": true,\n      \"baseUrl\": \".\",\n      \"moduleResolution\": \"node\",\n      \"experimentalDecorators\": true,\n      \"lib\": [\"dom\", \"es2015.promise\", \"es6\"]\n  }\n}\n</code></pre>\n\n<p>Can suggestion me for my structure. how to reference with core, and build, deploy??..</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "typescript", "dynamic-function"], "comments": [{"owner": {"reputation": 3890, "user_id": 4335507, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b6736076623ffcb3cd5625dfb9719dd7?s=128&d=identicon&r=PG", "display_name": "Elmer Dantas", "link": "https://stackoverflow.com/users/4335507/elmer-dantas"}, "edited": false, "score": 0, "creation_date": 1482320417, "post_id": 41261676, "comment_id": 69724265, "body": "I don&#39;t understand exactly what you&#39;re trying to do but, maybe <code>let dynamicFunction = existingFunction(&quot;asdf&quot;);</code> is what you want."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "edited": false, "score": 0, "creation_date": 1482324352, "post_id": 41262264, "comment_id": 69726760, "body": "Thank you. This explains why I can&#39;t access &quot;existingFunction&quot;, but that does not acutally solve my problem. Maybe have a look on my edit. I explained my problem more precisely."}, {"owner": {"reputation": 2177, "user_id": 645252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dc046c81b1cccaa8278a3116e7cf4ab?s=128&d=identicon&r=PG", "display_name": "alebianco", "link": "https://stackoverflow.com/users/645252/alebianco"}, "reply_to_user": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "edited": false, "score": 0, "creation_date": 1482335996, "post_id": 41262264, "comment_id": 69734715, "body": "I think it may be because of the modules. I&#39;ll have a look later tonight. In general i think you might have more luck in returning just a string and then using eval to execute it"}, {"owner": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "edited": false, "score": 0, "creation_date": 1482389477, "post_id": 41262264, "comment_id": 69756028, "body": "yes, eval with the formated string could work, but as I am dealing with sensitive data I would rather not use eval."}, {"owner": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "edited": false, "score": 0, "creation_date": 1482401653, "post_id": 41262264, "comment_id": 69762942, "body": "Thank you very much! I just tried that in my own project and now everything works just fine. It really bugs me that it would have been that simple."}], "tags": [], "owner": {"reputation": 2177, "user_id": 645252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2dc046c81b1cccaa8278a3116e7cf4ab?s=128&d=identicon&r=PG", "display_name": "alebianco", "link": "https://stackoverflow.com/users/645252/alebianco"}, "is_accepted": true, "score": 1, "last_activity_date": 1482400656, "last_edit_date": 1482400656, "creation_date": 1482321335, "answer_id": 41262264, "question_id": 41261676, "link": "https://stackoverflow.com/questions/41261676/typescript-call-function-in-dynamic-anonymous-function/41262264#41262264", "title": "TypeScript call function in dynamic (anonymous) function", "body": "<p>From the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function\" rel=\"nofollow noreferrer\">Function documentation</a></p>\n\n<blockquote>\n  <p>Functions created with the Function constructor do not create closures to their creation contexts; they always are created in the global scope. When running them, they will only be able to access their own local variables and global ones, not the ones from the scope in which the Function constructor was called. This is different from using eval with code for a function expression.</p>\n</blockquote>\n\n<p>so you'll have to pass <code>existingFunction</code> as an argument or define it in the global space.  </p>\n\n<p>try with </p>\n\n<pre><code>var existingFunction = function(name: string) {\n    console.log(name);\n}\n</code></pre>\n\n<p>Also have a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\" rel=\"nofollow noreferrer\"><code>eval</code></a> which will give you access to the current scope ...</p>\n\n<p>--- Update</p>\n\n<p>After the question update and considering your comment about not wanting to use eval because of security concerns (with which i totally agree)</p>\n\n<p>The problem is that in the generated function's scope, <code>this</code> is <code>undefined</code>. Making your <code>existingFunction</code> part of the global scope is already a bad idea and between Typescript and the modules architecture doesn't seem possible at all.</p>\n\n<p><em>So why not passing a context to the generated function?</em></p>\n\n<p>This will allow you to control how much of your application to expose to the generated function, while giving it access to external methods.</p>\n\n<p>Something along the lines of:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Parser {\r\n    static getFunction(expression) {\r\n        let condition = new Function(\"context\", \"context.existingFunction(\\\"VALUE\\\") == 1;\");\r\n        return condition;\r\n    }\r\n}\r\n\r\nclass Condition {\r\n    constructor() {\r\n        this._dynamicFunction = Parser.getFunction(\"VALUE==1\");\r\n    }\r\n\r\n    someFunctionInsideCondition() {\r\n        // Calling the DynamicFunction\r\n        this._dynamicFunction(this);\r\n    }\r\n\r\n    existingFunction(name) {\r\n        console.log(\"hello \" + name);\r\n\r\n        return 1;\r\n    };\r\n}\r\n\r\n\r\n\r\nlet c = new Condition();\r\nc.someFunctionInsideCondition();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Of course your <code>context</code> can be a different object instead of <code>this</code>, where you keep all your utility functions.</p>\n\n<blockquote>\n  <p>I had to <em>donwpile</em> (compile it down, my own word) to es2015 to make the example run here, but I made it originally in Typescript and works fine</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "edited": false, "score": 0, "creation_date": 1482389056, "post_id": 41268911, "comment_id": 69755840, "body": "That would work if the statements would always be that simple. The problem is, those statements can get very complex in combination with &amp;&amp; or || and of course braces and other functions (e.g. getCurrentDate, Multiplication/Division, Addition/Subtraction) But thank you anyway!"}], "tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 0, "last_activity_date": 1482342604, "creation_date": 1482342604, "answer_id": 41268911, "question_id": 41261676, "link": "https://stackoverflow.com/questions/41261676/typescript-call-function-in-dynamic-anonymous-function/41268911#41268911", "title": "TypeScript call function in dynamic (anonymous) function", "body": "<p>I would skip the usage of <code>new Function</code> and instead do it as follows.</p>\n\n<p>The <code>parser.ts</code> file would contain this:</p>\n\n<pre><code>export class FunctionGenerator {\n    constructor(private fn: Function) {}\n\n    makeFunction(args: string): Function {\n        const [variable, val] = args.split(\"==\");\n        return () =&gt; this.fn(variable) == val;\n    }\n}\n</code></pre>\n\n<p>This is basically a factory that allows creating a series of functions that call the function passed when the factory is created. You can then use <code>makeFunction</code> for the specific checks you want to perform. (Note that I used <code>==</code> like in your question. I much prefer using <code>===</code> unless there's a reason against it.)</p>\n\n<p>It can then be used like this:</p>\n\n<pre><code>import * as parser from \"./parser\";\n\nlet vars = {};\n\n// This is a simulation of your funciton. It just plucks values from `vars`.\nfunction existingFunction(name: string) {\n    return vars[name];\n}\n\nfunction resetVars() {\n   vars = {\n    \"VALUE\": 1,\n    \"FOO\": 2,\n    \"BAR\": 3,\n   };\n}\n\nfunction test(gen) {\n    const fn1 = gen.makeFunction(\"VALUE==1\");\n    console.log(fn1(), \"should be true\");\n\n    const fn2 = gen.makeFunction(\"BAR==3\");\n    console.log(fn2(), \"should be true\");\n\n    vars[\"BAR\"] = 7;\n    // Call the same function again, but with a new value in `vars`.\n    console.log(fn2(), \"should be false\");\n\n    const fn3 = gen.makeFunction(\"BAR==1000\");\n    console.log(fn3(), \"should be false\");\n}\n\nresetVars();\nconst gen = new parser.FunctionGenerator(existingFunction);\ntest(gen);\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7325017, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da72e603f1105e3c9d388d5267424800?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah", "link": "https://stackoverflow.com/users/7325017/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18163, "favorite_count": 0, "accepted_answer_id": 41262264, "answer_count": 2, "score": 1, "last_activity_date": 1482400656, "creation_date": 1482319452, "last_edit_date": 1482332326, "question_id": 41261676, "link": "https://stackoverflow.com/questions/41261676/typescript-call-function-in-dynamic-anonymous-function", "title": "TypeScript call function in dynamic (anonymous) function", "body": "<p>I am trying to create a dynamic function in TypeScript which calls an already existing function like:</p>\n\n<pre><code>let dynamicFunction = new Function(\"existingFunction(\\\"asdf\\\");\");\n\nfunction existingFunction(name: string) {\n    console.log(name);\n}\n</code></pre>\n\n<p>While debugging in chrome dynamicFunction looks like this:</p>\n\n<pre><code>(function() {\nexistingFunction(\"asdf\");\n})\n</code></pre>\n\n<p>When I try to execute dynamicFunction, it says \"Uncaught ReferenceError: existingFunction is not defined\", which is no surprise because it's a different scope, but how can I actually call exisitingFunction inside dynamicFunction?</p>\n\n<p>Any help would be greatly appreciated!</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>to be more precise: I've got a typescript file which contains one module.\nThis module exports a function which should return the created dynamic function.\nThe created dynamicFunction is then used in another module which actually contains the exisitingFunction.</p>\n\n<p>I've chosen this approach because I need to convert a given string to an executable condition, which will be executed many times.</p>\n\n<p>For example: convert string \"VALUE==1\" to: </p>\n\n<pre><code>function () {\n    return exisitingFunction(\"VALUE\") == 1;\n}\n</code></pre>\n\n<p>A short example of how it should look like:</p>\n\n<p>parser.ts:</p>\n\n<pre><code>export module Parser {\n   export function getFunction(expression: string) {\n      // Calculating condition...\n      let condition = \"existingFunction(\\\"VALUE\\\") == 1;\"\n      return new Function(condition);\n   }\n}\n</code></pre>\n\n<p>condition.ts:</p>\n\n<pre><code>import { Parser } from \"./parser\";\nclass Condition {\n    // getting the DynamicFunction\n    private _dynamicFunction = Parser.getFunction(\"VALUE==1\");\n\n    someFunctionInsideCondition() {\n       // Calling the DynamicFunction\n       this._dynamicFunction();\n    }\n}\n\n// Maybe this function should be somewhere else?\nfunction existingFunction(name: string) {\n    console.log(name);\n\n    return 1;\n}\n</code></pre>\n\n<p>I hope this explains my problem a little bit better.</p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482319854, "post_id": 41261512, "comment_id": 69723945, "body": "Doesn&#39;t sound like this error is coming from this code. Have you tried to hardcode the values like <code>&lt;a [routerLink]=&quot;[&#39;id&#39;, &#39;name&#39;]&quot;&gt;</code>?"}, {"owner": {"reputation": 449, "user_id": 2293313, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gn8H4.jpg?s=128&g=1", "display_name": "Rajesh Dan", "link": "https://stackoverflow.com/users/2293313/rajesh-dan"}, "edited": false, "score": 0, "creation_date": 1482321582, "post_id": 41261512, "comment_id": 69724973, "body": "can you try <code>&lt;a [routerLink]=&quot;[&#39;&#47;&#39;,list.id,list.name]&quot;&gt;</code>, if you are using relative route link. (<a href=\"https://angular.io/docs/ts/latest/guide/router.html#!#link-parameters-array\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/&hellip;</a>)"}], "owner": {"reputation": 5556, "user_id": 1393225, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MGcyh.png?s=128&g=1", "display_name": "Vnuuk", "link": "https://stackoverflow.com/users/1393225/vnuuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482318935, "creation_date": 1482318935, "question_id": 41261512, "link": "https://stackoverflow.com/questions/41261512/routerlink-directive-with-multiple-dynamic-parameters", "title": "routerLink directive with multiple dynamic parameters", "body": "<p>I need to build this route <strong>'id/name'</strong> where id and name are <strong>dynamic</strong> parameters. I've tried next code:</p>\n\n<pre><code>&lt;a [routerLink]=\"[list.id, list.name]\"&gt;\n</code></pre>\n\n<p>But this shows an error</p>\n\n<pre><code>Blank expressions are not allowed in interpolated strings at column 0 in [{{ }}]\n</code></pre>\n\n<p>How I can fix that?</p>\n"}, {"tags": ["generics", "typescript"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 0, "creation_date": 1482319127, "post_id": 41261472, "comment_id": 69723524, "body": "What does <code>response.json()</code> return? An object, or a string representation of that object? And if it returns an object directly, what are the differences between that object and <code>T</code> that you hope to resolve in your <code>doTheMambo</code>?"}, {"owner": {"reputation": 87, "user_id": 347903, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/fN6b2.jpg?s=128&g=1", "display_name": "BasicSide", "link": "https://stackoverflow.com/users/347903/basicside"}, "edited": false, "score": 0, "creation_date": 1482319559, "post_id": 41261472, "comment_id": 69723779, "body": "The response.json returns a json, an the doTheMambo will make some sort of parse between the two objects."}, {"owner": {"reputation": 87, "user_id": 347903, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/fN6b2.jpg?s=128&g=1", "display_name": "BasicSide", "link": "https://stackoverflow.com/users/347903/basicside"}, "edited": false, "score": 0, "creation_date": 1482319710, "post_id": 41261472, "comment_id": 69723862, "body": "The two objects can have major differences between thems"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1482320843, "post_id": 41261472, "comment_id": 69724531, "body": "There&#39;s no way to use <code>T</code> in runtime so you can&#39;t pass it. Can you please describe better what is the json you&#39;re using and what&#39;s the object you want to create?"}], "answers": [{"tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 2, "last_activity_date": 1482336746, "creation_date": 1482336746, "answer_id": 41267244, "question_id": 41261472, "link": "https://stackoverflow.com/questions/41261472/typescript-instantiate-generic-object/41267244#41267244", "title": "Typescript instantiate generic object", "body": "<p>In typescript, generic parameters are erased during the compilation and there is no trace of them in generated javascript code. So there's nothing like <code>CreateInstance</code> from c#.</p>\n\n<p>But, again unlike c#, classes in typescript can be used at runtime just like any other objects, so if all you need is to create an instance of a class at runtime you can do that pretty easily (note that it applies only to classes, not to any type in general).</p>\n\n<p>The syntax for <a href=\"https://www.typescriptlang.org/docs/handbook/generics.html#using-class-types-in-generics\" rel=\"nofollow noreferrer\">generic class type argument</a> looks a bit unusual: it's a literal type written as <code>{new(...args: any[]): T}</code></p>\n\n<p>Here is complete (it compiles) example that does something like you described in your question. For simplification, I supposed that all objects that need to be instantiated must conform to common <code>interface Result</code> (otherwise you have to do type cast to some known type in doTheMambo to do something useful).</p>\n\n<pre><code>interface Response { json(): any }\n\ninterface Result { kind: string }\n\nfunction handleResult&lt;T extends Result&gt;(tClass: { new (...args: any[]): T }, response: Response): T {\n    let jsonResp = response.json();\n    let obj = jsonResp;\n    let resp: T = new tClass();        \n    doTheMambo(resp, obj);\n    return resp;\n}\n\nclass Result1 {\n    kind = 'result1';\n}\n\nfunction doTheMambo&lt;T extends Result&gt;(response: T, obj: any) {\n    console.log(response.kind);\n}\n\nconst r: Result = handleResult(Result1, { json() { return null } });\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 347903, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/fN6b2.jpg?s=128&g=1", "display_name": "BasicSide", "link": "https://stackoverflow.com/users/347903/basicside"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1982, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482336746, "creation_date": 1482318800, "last_edit_date": 1482319444, "question_id": 41261472, "link": "https://stackoverflow.com/questions/41261472/typescript-instantiate-generic-object", "title": "Typescript instantiate generic object", "body": "<p>I have this problem, and search for hours and can't find the right solution for it.\nI'm trying to create a generic function that revives an type and an object and convert the object to that specific type. but I'm having troubles to instantiate the generic type. I would like to know if there are something like in c# Activator.CreateInstance</p>\n\n<pre><code>handleResult&lt;T&gt;(response: Response):T {\n    let jsonResp = response.json();\n    let obj = jsonResp as Object;\n    let resp: T = Object.CreateInstance(T); //        \n    doTheMambo(resp, obj);\n    return resp;\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "edited": false, "score": 0, "creation_date": 1482317426, "post_id": 41260850, "comment_id": 69722421, "body": "Thanks, This is exactly what i need."}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 7, "last_activity_date": 1482317026, "creation_date": 1482317026, "answer_id": 41260850, "question_id": 41260771, "link": "https://stackoverflow.com/questions/41260771/use-ng2-toastr-in-a-service/41260850#41260850", "title": "Use ng2-toastr in a service", "body": "<p>For Angular v2.2.x you need to add below in your Root component of your app :</p>\n\n<p>// AppComponent.ts (Root component of your app)</p>\n\n<pre><code>constructor(public toastr: ToastsManager, vRef: ViewContainerRef) {\n    this.toastr.setRootViewContainerRef(vRef);\n}\n</code></pre>\n"}], "owner": {"reputation": 1442, "user_id": 4365228, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/lb0Yh.jpg?s=128&g=1", "display_name": "Ranjith Varatharajan", "link": "https://stackoverflow.com/users/4365228/ranjith-varatharajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2829, "favorite_count": 1, "accepted_answer_id": 41260850, "answer_count": 1, "score": 2, "last_activity_date": 1482317026, "creation_date": 1482316736, "question_id": 41260771, "link": "https://stackoverflow.com/questions/41260771/use-ng2-toastr-in-a-service", "title": "Use ng2-toastr in a service", "body": "<p><strong>Scenario:</strong> I need to use <code>ng2-toaster</code> to display messages in all the components. Instead of writing the same toaster in every components. I need to write a component in a global service once and all the components make use of it. But I couldn't make it work. Any advice would be helpful. Thank you.</p>\n\n<p><strong>Here's my code:</strong></p>\n\n<p><strong>global.service.ts</strong></p>\n\n<pre><code>import { ToastsManager } from 'ng2-toastr/ng2-toastr';\n'''\nconstructor(public toastr: ToastsManager) { }\n...\nshowSuccess() {\n  this.toastr.success('Called from Global service', 'Success!', {toastLife: 3000});\n}\n</code></pre>\n\n<p><strong>some.component.ts</strong></p>\n\n<pre><code>import { GlobalService } from './services';\n...\nngInit(){\n   this.globalService.showSuccess()\n}\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<p>this is the error i'm getting. </p>\n\n<pre><code>Error: Application root component cannot be found. Try accessing application reference in the later life cycle of angular app.\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 4, "creation_date": 1482316336, "post_id": 41260616, "comment_id": 69721675, "body": "Try changing <code>boolean[]</code> with <code>Array&lt;boolean&gt;</code>"}, {"owner": {"reputation": 364568, "user_id": 114251, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sNLiB.jpg?s=128&g=1", "display_name": "Arun P Johny", "link": "https://stackoverflow.com/users/114251/arun-p-johny"}, "edited": false, "score": 2, "creation_date": 1482316562, "post_id": 41260616, "comment_id": 69721841, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/2340\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/2340</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1482318111, "post_id": 41260616, "comment_id": 69722909, "body": "@echonax What difference would that make? They are identical in meaning."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482318168, "post_id": 41260616, "comment_id": 69722944, "body": "@torazaburo I think it&#39;s a typescript issue sir. Maybe they haven&#39;t implemented it yet with that type. That&#39;s why I said &quot;try&quot; :P"}, {"owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482318196, "post_id": 41260616, "comment_id": 69722961, "body": "I no longer get the error so there definitely makes a diffrence"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482318197, "post_id": 41260616, "comment_id": 69722962, "body": "Is there some reason you would not just use <code>!valid.every(Boolean)</code>? Also, is there some reason for saying <code>if (b) return false; else return true;</code> instead of <code>return !b;</code>?"}, {"owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482318414, "post_id": 41260616, "comment_id": 69723095, "body": "It&#39;s not a code review but thanks for your suggestion"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482320572, "post_id": 41260893, "comment_id": 69724371, "body": "I&#39;m very doubtful that replacing <code>boolean[]</code> with <code>Array&lt;boolean&gt;</code> would make any difference. They are semantically identical."}, {"owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482321340, "post_id": 41260893, "comment_id": 69724836, "body": "OK so am 100% certain that when my code read boolean[] then it errored out on me, however when I changed it to Array&lt;boolean&gt; it didn&#39;t error and complied."}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482323243, "post_id": 41260893, "comment_id": 69726072, "body": "In the playground, when I use <code>boolean[]</code>, I get the error which you reported, namely &quot;Property &#39;includes&#39; does not exist on type &#39;boolean[]&#39;&quot;. When I change this to <code>Array&lt;boolean&gt;</code>, I get exactly the same error, demonstrating that to TS they are the same. According to the docs, <i>Array types can be written in one of two ways. In the first, you use the type of the elements followed by <code>[]</code> to denote an array of that element type. The second way uses a generic array type, <code>Array&lt;elemType&gt;</code></i>."}], "tags": [], "owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "is_accepted": false, "score": 2, "last_activity_date": 1482317124, "creation_date": 1482317124, "answer_id": 41260893, "question_id": 41260616, "link": "https://stackoverflow.com/questions/41260616/typescript-equivalent-of-javascript-includes/41260893#41260893", "title": "TypeScript equivalent of JavaScript includes()", "body": "<p>@echonax's comment worked for me.</p>\n\n<pre><code>validAttrs() {\n  let valid: Array&lt;boolean&gt; = this.required.map((value, index) =&gt; {\n    if(this.elm.nativeElement.getAttribute(value) === null) {\n      return false;\n    };\n    return true;\n  });\n  return valid.includes(false) ? false : true;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "is_accepted": false, "score": 2, "last_activity_date": 1482318483, "creation_date": 1482318483, "answer_id": 41261372, "question_id": 41260616, "link": "https://stackoverflow.com/questions/41260616/typescript-equivalent-of-javascript-includes/41261372#41261372", "title": "TypeScript equivalent of JavaScript includes()", "body": "<p>You don't even need <code>includes</code> for what you are trying to do. Your code can simply be</p>\n\n<pre><code>validAttrs() {\n  return this.required.every(value =&gt; this.elm.nativeElement.getAttribute(value) !== null);\n}\n</code></pre>\n\n<p>This also has the advantage that it will stop checking the minute it finds the first null value.</p>\n"}, {"tags": [], "owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "is_accepted": false, "score": 3, "last_activity_date": 1482320034, "last_edit_date": 1495542752, "creation_date": 1482320034, "answer_id": 41261860, "question_id": 41260616, "link": "https://stackoverflow.com/questions/41260616/typescript-equivalent-of-javascript-includes/41261860#41261860", "title": "TypeScript equivalent of JavaScript includes()", "body": "<p>As far as fixing the compilation error goes, fixed the compilation issue was adding <code>es2016</code> to the <code>lib</code> option in my <code>tsconfig.json</code>. This adds the necessary declaration of <code>includes</code> on arrays.</p>\n\n<p>I tried with TypeScript 2.1.4 the <a href=\"https://stackoverflow.com/a/41260893/1906307\">suggested fix</a> of replacing <code>boolean[]</code> with <code>Array&lt;boolean&gt;</code>. It made no difference whatsoever. Logically, it shouldn't make a difference because <code>boolean[]</code> and <code>Array&lt;boolean&gt;</code> <em>are the same thing</em>.</p>\n\n<hr>\n\n<p>This being said, I concur with <a href=\"https://stackoverflow.com/a/41261372/1906307\">torazaburo</a> that the OP's code should be implemented as:</p>\n\n<pre><code>validAttrs() {\n  return this.required.every(value =&gt; this.elm.nativeElement.getAttribute(value) !== null);\n}\n</code></pre>\n\n<p>Besides removing unnecessary logic, this also has the advantage that <code>every</code> stops inspecting the array as soon as the callback returns a falsy value. There's no point inspecting the rest because the return value will necessarily be <code>false</code> as soon as the callback returns a falsy value. On the other hand, the implementation in the question will <em>always</em> perform the test on all elements the of array. If the very first element fails the test, then it will inspect the rest of the array needlessly!!</p>\n"}], "owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5350, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1482320034, "creation_date": 1482316274, "last_edit_date": 1482317633, "question_id": 41260616, "link": "https://stackoverflow.com/questions/41260616/typescript-equivalent-of-javascript-includes", "title": "TypeScript equivalent of JavaScript includes()", "body": "<p>Getting a TypeScript error using includes on an array element. Of course once compiled down to js it works fine but I still get the following TypeScript error:</p>\n\n<blockquote>\n  <p>Property 'includes' does not exist on type 'boolean[]'</p>\n</blockquote>\n\n<p>Code:</p>\n\n<pre><code>validAttrs() {\n  let valid: boolean[] = this.required.map((value, index) =&gt; {\n    if(this.elm.nativeElement.getAttribute(value) === null) {\n      return false;\n    };\n    return true;\n  });\n  return valid.includes(false) ? false : true;\n}\n</code></pre>\n"}, {"tags": ["angular", "meteor", "typescript"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1482313114, "post_id": 41259384, "comment_id": 69719224, "body": "Your question is about subscriptions and header and left menu but I don&#39;t see any of this in your code."}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482314030, "post_id": 41259384, "comment_id": 69719907, "body": "My question is not about how subscriptions works. The problem is that for any reason, the subscription is not being called when I navigate directly to any children"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482314307, "post_id": 41259384, "comment_id": 69720110, "body": "@Alberto I don&#39;t see anyone saying the question is about how subscriptions work. It is simply related with subscriptions.. <b>about subscriptions</b>"}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482314436, "post_id": 41259384, "comment_id": 69720214, "body": "I added the subscription, but that part is not the problem. If you read all, you can see that the problem is about routing. Because navigating to &#39;/&#39; works perfect, but navigating to &#39;/app/dashboard&#39; or &#39;/app&#39;, it doesn&#39;t."}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482314597, "post_id": 41259384, "comment_id": 69720327, "body": "@Alberto so in order to investigate the error we need to see the components right? It wasn&#39;t included by the time that comment was made and you edited it 6 minutes ago."}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482314955, "post_id": 41259384, "comment_id": 69720583, "body": "Ok, but I think  that component is not necessary for the problem."}, {"owner": {"reputation": 599, "user_id": 5249363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uoxy4.jpg?s=128&g=1", "display_name": "St&#233;phane Eintrazi", "link": "https://stackoverflow.com/users/5249363/st%c3%a9phane-eintrazi"}, "edited": false, "score": 0, "creation_date": 1482316746, "post_id": 41259384, "comment_id": 69721964, "body": "Did you try to add an autorun inside the subscription like this: <code>MeteorObservable.subscribe(&#39;userNotifications&#39;, this.user.profile.empId ).subscribe(() =&gt; { MeteorObservable.autorun().zone().subscribe( () =&gt; { &#47;&#47;your stuff}) });</code>?"}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482319275, "post_id": 41259384, "comment_id": 69723620, "body": "Yes, but it doesn&#39;t work."}, {"owner": {"reputation": 599, "user_id": 5249363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uoxy4.jpg?s=128&g=1", "display_name": "St&#233;phane Eintrazi", "link": "https://stackoverflow.com/users/5249363/st%c3%a9phane-eintrazi"}, "edited": false, "score": 0, "creation_date": 1482326558, "post_id": 41259384, "comment_id": 69728233, "body": "The problem should come from the <code>LoadingService</code>. Is it a library that you developped ? If it&#39;s so, could you please post the <code>LoadingService</code> code ?"}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482332838, "post_id": 41259384, "comment_id": 69732501, "body": "I removed it this morning from the project, so it is not the problem. I&#39;m still thinking that it should be a problem of how meteor/angular 2 fires the subscriptions between parent and children. Also, something strange happens with routing, because it doesn&#39;t work either if I go to /app"}, {"owner": {"reputation": 5321, "user_id": 6717572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuWWj.jpg?s=128&g=1", "display_name": "Amit kumar", "link": "https://stackoverflow.com/users/6717572/amit-kumar"}, "edited": false, "score": 0, "creation_date": 1482369587, "post_id": 41259384, "comment_id": 69750299, "body": "plz add plnkr so we can check where is the error. put your this.userNotification outside of userNotificationSub . and access its value using this.userNotification.subscribe((data)=&gt;{});"}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482825770, "post_id": 41259384, "comment_id": 69884708, "body": "I can&#39;t belive I&#39;m the first one with this problem. This is a problem with angular routing. If I go to /login, it redirects to / and it doesn&#39;t work, but if I refresh, it goes directly to / because the user is already logged in, and it works..."}, {"owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "edited": false, "score": 0, "creation_date": 1482828712, "post_id": 41259384, "comment_id": 69885944, "body": "I edited the question adding another example. When I log in, it doesn&#39;t work, but refreshing having the Meteor.user all is working as expected"}], "owner": {"reputation": 23, "user_id": 6751105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bcdd4f8b0dde81592482f5eb1628f69?s=128&d=identicon&r=PG&f=1", "display_name": "Alberto", "link": "https://stackoverflow.com/users/6751105/alberto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486842411, "creation_date": 1482312852, "last_edit_date": 1482828646, "question_id": 41259384, "link": "https://stackoverflow.com/questions/41259384/parents-subscription-in-children-not-working", "title": "Parents subscription in children not working", "body": "<p>I have some problems with Meteor and Angular2.</p>\n\n<p>I have a parent module called Layout, where I have a header bar with the user name, a left menu with my routing and an empty content on the right for the children.</p>\n\n<p>The left menu works with a Directive to open/close the menu (it add/remove the class 'open' when the user clicks).\nAlso, in ngOnInit, I have a subscription to get Notifications.</p>\n\n<p>They way that I add the children HTML to the parent template is adding '' inside the layout HTML </p>\n\n<p>This is the routing</p>\n\n<pre><code>export const routes: Route[] = [\n    {path: '', component: LoginComponent, data: {title: 'Login'}, pathMatch: 'full'},\n    {\n        path: 'app', component: FullLayoutComponent, data: {title: 'Home'}, canActivate: [AuthGuard],\n        children: [\n            {path: '', redirectTo: 'dashboard', pathMatch: 'full'},\n            {path: 'dashboard', component: DashboardComponent, data: {title: 'Dashboard'}}\n        ]\n    },\n        {\n            path: 'employees', component: EmployeesComponent, data: {title: 'Employees'},\n            children: [\n                {path: '', redirectTo: 'list', pathMatch: 'full'},\n                {path: 'list', component: EmployeesListComponent, data: {title: 'List'}},\n                {path: 'new', component: EmployeeNewComponent, data: {title: 'New'}},\n                {path: 'edit/:empId', component: EmployeeEditComponent, data: {title: 'Edit'}},\n                {path: 'view/:empId', component: EmployeeDetailsComponent, data: {title: 'details'}}\n            ]\n        },\n    {path: '**', component: Error404Component, data: {title: 'Error'}}\n];\n</code></pre>\n\n<p>Imagine that my user is already logged. If I refresh the page with this url '<a href=\"http://localhost/#/\" rel=\"nofollow noreferrer\">http://localhost/#/</a>', it automatically redirects to '<a href=\"http://localhost/#/app/dashboard\" rel=\"nofollow noreferrer\">http://localhost/#/app/dashboard</a>' and the Directive and the subscription work as expected.</p>\n\n<p>FullLayout Component</p>\n\n<pre><code>@Component({\n    selector: 'app-dashboard',\n    template\n})\n@InjectUser(\"user\")\nexport class FullLayoutComponent implements OnInit, OnDestroy {\n    user: Meteor.User;\n    private userNotification : Observable&lt;Notification[]&gt;;\n    private _userNotificationSub: Subscription;\n    public ready: boolean;\n\n    constructor(private router: Router) {}\n\n    ngOnInit()\n    {\n        this._userNotificationSub = MeteorObservable.subscribe('userNotifications', this.user.profile.empId ).subscribe(\n            () =&gt; {\n                this.userNotification = Notifications.find({}).zone();\n                console.log(this.userNotification);\n            }\n        );\n    }\n\n    ngOnDestroy() {\n        this._userNotificationSub.unsubscribe();\n    }\n\n    logout() {\n        var self = this;\n        Meteor.logout(function(){\n            self.router.navigate(['/']);\n        });\n\n    }\n}\n</code></pre>\n\n<p>The problem is if the user refresh or navigate directly to '<a href=\"http://localhost/#/app/\" rel=\"nofollow noreferrer\">http://localhost/#/app/</a>', '<a href=\"http://localhost/#/app/dashboard\" rel=\"nofollow noreferrer\">http://localhost/#/app/dashboard</a>' or '<a href=\"http://localhost/#/app/employees/list\" rel=\"nofollow noreferrer\">http://localhost/#/app/employees/list</a>', I don't know why but the left menu is not working (the click event is working, but It doesn't add or remove the class) and also it is not subscribed to get the notifications.</p>\n\n<p>Obviously, I have subscription also inside all my children.</p>\n\n<p>How can I fix it?</p>\n\n<p>EDIT:</p>\n\n<p>I change the routing to work with this:</p>\n\n<pre><code>{path: 'login', component: LoginComponent, data: {title: 'Login'}, pathMatch: 'full'},\n    {\n        path: '', component: FullLayoutComponent, data: {title: 'Home'}, canActivate: [AuthGuard],\n        children: [\n            {path: '', redirectTo: 'dashboard', pathMatch: 'full'},\n            {path: 'dashboard', component: DashboardComponent, data: {title: 'Dashboard'}},]\n    },\n    {path: '**', component: Error404Component, data: {title: 'Error'}}\n];\n</code></pre>\n\n<p>I'm still having the same problem if I go to /login and then I insert my user and password. It redirects to /dashboard and it doesn't work. But if I refresh on /dashboard, all works perfect.</p>\n\n<p>Login.component.ts</p>\n\n<pre><code>@Component({\n    selector: 'app-login',\n    template\n})\n@InjectUser(\"user\")\nexport class LoginComponent implements OnInit {\n    loginForm: FormGroup;\n    error: string;\n    user: Meteor.User;\n    public submitted: boolean;\n    constructor(private router: Router, private zone: NgZone, private formBuilder: FormBuilder) {\n        Meteor.logout();\n    }\n\n    ngOnInit() {\n        var self = this;\n        this.loginForm = this.formBuilder.group({\n            email: ['', Validators.required],\n            password: ['', Validators.required]\n        });\n        this.error = '';\n    }\n\n    login() {\n        var self = this;\n        this.submitted = true;\n        successLogin('test@test.com', '1234);\n    }\n\n    successLogin(email, password)\n    {\n        Meteor.loginWithPassword(email, password, (err) =&gt; {\n            if (err) {\n                this.zone.run(() =&gt; {\n                    this.error = err;\n                    console.log(\"error en login With password\");\n                });\n            } else {\n                console.log('LoginWithPasword');\n                console.log(Meteor.user());\n                if(Meteor.user())\n                {\n                    this.router.navigate(['/dashboard']);\n                }\n                else\n                {\n                    alert(\"Error iniciando sesi\u00f3n\");\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "angular2-services"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482310973, "post_id": 41258817, "comment_id": 69717836, "body": "What error? How is this related to &quot;providers by string&quot;?"}, {"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482311086, "post_id": 41258817, "comment_id": 69717900, "body": "I am trying to say that I am injecting dynamically. I&#39;ll edit the to add the error."}], "answers": [{"tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 1, "last_activity_date": 1482311057, "last_edit_date": 1495541857, "creation_date": 1482311057, "answer_id": 41258846, "question_id": 41258817, "link": "https://stackoverflow.com/questions/41258817/injecting-and-resolving-angular2-providers-by-string/41258846#41258846", "title": "Injecting and resolving angular2 providers by string", "body": "<p>I guess what you want is to build an injector that also includes Angular2 providers when resolving</p>\n\n<pre><code>constructor(private injector:Injector) {}\n\n...\n\nsomeMethod() {    \n  let resolvedProviders = ReflectiveInjector.resolve([Car, Engine]);\n  let child = ReflectiveInjector.fromResolvedProviders(\n      resolvedProviders, \n      this.injector\n  );\n}\n</code></pre>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/40402169/inject-service-with-reflectiveinjector-without-specifying-all-classes-in-the-dep/40402201#40402201\">Inject service with ReflectiveInjector without specifying all classes in the dependency tree</a></p>\n"}], "owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 41258846, "answer_count": 1, "score": 1, "last_activity_date": 1482311114, "creation_date": 1482310915, "last_edit_date": 1482311114, "question_id": 41258817, "link": "https://stackoverflow.com/questions/41258817/injecting-and-resolving-angular2-providers-by-string", "title": "Injecting and resolving angular2 providers by string", "body": "<p>I am trying to inject providers based on run time data to my angular2 component.</p>\n\n<p>So far I have this:</p>\n\n<pre><code>  let type: PropertyDescriptor = Object.getOwnPropertyDescriptor(providers, provider.name);\n  if (!type) return;\n\n  let injector: Injector = ReflectiveInjector.resolveAndCreate([(&lt;any&gt;type).get()]);\n  let resolvedProvider: IAnalyticRepository = injector.get((&lt;any&gt;type).get());\n</code></pre>\n\n<p>This attemps to create the provider but because of its child dependencies it throws an error.</p>\n\n<p>The error I receive is: </p>\n\n<blockquote>\n  <p>Error: No provider for HttpHandler! (GoogleRepository -> HttpHandler)</p>\n</blockquote>\n\n<p>How would I go on about injecting the child providers to the resolved provider as well?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 2150, "user_id": 3160531, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/501097d9d9b4f54f0eff01d859f42901?s=128&d=identicon&r=PG&f=1", "display_name": "charlie_pl", "link": "https://stackoverflow.com/users/3160531/charlie-pl"}, "edited": false, "score": 0, "creation_date": 1482309873, "post_id": 41258476, "comment_id": 69717172, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/26274278/reference-javascript-file-inside-typescript\">Reference javascript file inside typescript</a>"}, {"owner": {"reputation": 799, "user_id": 6027810, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/815966cb31be125f1cd49368061c298e?s=128&d=identicon&r=PG&f=1", "display_name": "Teshtek", "link": "https://stackoverflow.com/users/6027810/teshtek"}, "edited": false, "score": 0, "creation_date": 1482309919, "post_id": 41258476, "comment_id": 69717193, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/40098443/importing-external-js-library-to-angular-2-cli-ngmodule\">Importing external JS Library to Angular 2 CLI @NgModule</a>"}], "answers": [{"comments": [{"owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482315990, "post_id": 41258551, "comment_id": 69721424, "body": "Thanks for that :)"}], "tags": [], "owner": {"reputation": 2150, "user_id": 3160531, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/501097d9d9b4f54f0eff01d859f42901?s=128&d=identicon&r=PG&f=1", "display_name": "charlie_pl", "link": "https://stackoverflow.com/users/3160531/charlie-pl"}, "is_accepted": true, "score": 0, "last_activity_date": 1482309956, "creation_date": 1482309956, "answer_id": 41258551, "question_id": 41258476, "link": "https://stackoverflow.com/questions/41258476/including-externaljs-libraries/41258551#41258551", "title": "Including externalJs libraries", "body": "<p>Just tell typescript, that indeed the methods you use do exist, for example: </p>\n\n<p><code>declare function escape(s: string): string</code></p>\n\n<p>Or if it is a variable:</p>\n\n<p><code>declare var Dropzone: any</code></p>\n"}, {"comments": [{"owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482315549, "post_id": 41258796, "comment_id": 69721049, "body": "It&#39;s an external file unfortunately and when I am importing it as suggested I get CORS errors"}, {"owner": {"reputation": 1379, "user_id": 2087238, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/h23RJ.jpg?s=128&g=1", "display_name": "Haris Hajdarevic", "link": "https://stackoverflow.com/users/2087238/haris-hajdarevic"}, "reply_to_user": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "edited": false, "score": 0, "creation_date": 1482392400, "post_id": 41258796, "comment_id": 69757483, "body": "Why you just simply don&#39;t copy code of that file and create your own ? @Johnwilliams"}, {"owner": {"reputation": 164, "user_id": 1669748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e3c34c9ecd5d9cbc331ef51695fb2bd?s=128&d=identicon&r=PG", "display_name": "Gedeon", "link": "https://stackoverflow.com/users/1669748/gedeon"}, "edited": false, "score": 0, "creation_date": 1562737869, "post_id": 41258796, "comment_id": 100465576, "body": "Looked for a solution for this problem for hours, this is the best way to do it and should be marked as the answer, thanks heaps."}], "tags": [], "owner": {"reputation": 1379, "user_id": 2087238, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/h23RJ.jpg?s=128&g=1", "display_name": "Haris Hajdarevic", "link": "https://stackoverflow.com/users/2087238/haris-hajdarevic"}, "is_accepted": false, "score": 1, "last_activity_date": 1482310828, "creation_date": 1482310828, "answer_id": 41258796, "question_id": 41258476, "link": "https://stackoverflow.com/questions/41258476/including-externaljs-libraries/41258796#41258796", "title": "Including externalJs libraries", "body": "<p>You can import and declare your external object. after then you can use it in your component.</p>\n\n<pre><code>import 'external.js'\ndeclare var myExtObject: any;\n</code></pre>\n\n<p>I made an example in plunker: <a href=\"https://plnkr.co/edit/b2kAztHntMuNjTfOv8jD?p=preview\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/b2kAztHntMuNjTfOv8jD?p=preview</a></p>\n"}], "owner": {"reputation": 570, "user_id": 2834703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/3cdc50bd4cfa4b140f891301c19bcfc5?s=128&d=identicon&r=PG&f=1", "display_name": "John williams", "link": "https://stackoverflow.com/users/2834703/john-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 41258551, "answer_count": 2, "score": 1, "last_activity_date": 1482312511, "creation_date": 1482309677, "last_edit_date": 1482312511, "question_id": 41258476, "link": "https://stackoverflow.com/questions/41258476/including-externaljs-libraries", "title": "Including externalJs libraries", "body": "<p>I have a Js library that I need to include into my project. I have currently added it into the head of main HTML document as I normally would. I have called methods from this library within my angular2 typescript app and it works fine, however, it always flags an error saying </p>\n\n<blockquote>\n  <p>Cannot find name 'TheJsLib'.</p>\n</blockquote>\n\n<p>Any ideas on how to prevent this? </p>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "answers": [{"tags": [], "owner": {"reputation": 23185, "user_id": 2013580, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/vPBfQ.jpg?s=128&g=1", "display_name": "zurfyx", "link": "https://stackoverflow.com/users/2013580/zurfyx"}, "is_accepted": false, "score": 1, "last_activity_date": 1482308746, "last_edit_date": 1495541857, "creation_date": 1482308746, "answer_id": 41258217, "question_id": 41258112, "link": "https://stackoverflow.com/questions/41258112/ngoninit-with-numeric-routes/41258217#41258217", "title": "ngOnInit with numeric routes", "body": "<p>If the component is already loaded you should subscribe to changes.</p>\n\n<p><a href=\"https://stackoverflow.com/a/33548895/2013580\">https://stackoverflow.com/a/33548895/2013580</a></p>\n\n<pre><code>router.events.subscribe((val) =&gt; {\n        // see also \n        console.log(val instanceof NavigationEnd) \n    });\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5556, "user_id": 1393225, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MGcyh.png?s=128&g=1", "display_name": "Vnuuk", "link": "https://stackoverflow.com/users/1393225/vnuuk"}, "edited": false, "score": 0, "creation_date": 1482309362, "post_id": 41258235, "comment_id": 69716865, "body": "That works great - Thanks! I have one question - if I remove comment from alert in your code and if my route (let&#39;s say) is /5 or /10 or whatever. When I refresh page using F5 button it says &quot;ReferenceError: alert is not defined&quot;"}, {"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "reply_to_user": {"reputation": 5556, "user_id": 1393225, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MGcyh.png?s=128&g=1", "display_name": "Vnuuk", "link": "https://stackoverflow.com/users/1393225/vnuuk"}, "edited": false, "score": 1, "creation_date": 1482309590, "post_id": 41258235, "comment_id": 69716997, "body": "<code>alert</code> is not part of JavaScript, it&#39;s part of the <code>window</code> object provided by web browsers so i think it doesn&#39;t exist in inside <code>subscribe</code> context and because of it its not working"}], "tags": [], "owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "is_accepted": true, "score": 1, "last_activity_date": 1482308810, "creation_date": 1482308810, "answer_id": 41258235, "question_id": 41258112, "link": "https://stackoverflow.com/questions/41258112/ngoninit-with-numeric-routes/41258235#41258235", "title": "ngOnInit with numeric routes", "body": "<p>You should take the <code>id</code> parameter from the <code>params</code> observable in the <code>ActivatedRoute</code> service.You can do this as follows :</p>\n\n<p>//Component </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Params }   from '@angular/router';\n\nconstructor(\n  private route: ActivatedRoute      \n) {}\n\nngOnInit(): void {\n  this.route.params.subscribe((params: Params) =&gt; {\n    console.log(params['id']);\n    // alert();\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 5556, "user_id": 1393225, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/MGcyh.png?s=128&g=1", "display_name": "Vnuuk", "link": "https://stackoverflow.com/users/1393225/vnuuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 41258235, "answer_count": 2, "score": 0, "last_activity_date": 1482308810, "creation_date": 1482308317, "question_id": 41258112, "link": "https://stackoverflow.com/questions/41258112/ngoninit-with-numeric-routes", "title": "ngOnInit with numeric routes", "body": "<p>I have a <strong>component</strong> that I need to be rendered for numeric routes like <strong>/1, /2, /3</strong> etc\n(where number is :id).</p>\n\n<p>In my component I've declared <strong>ngOnInit</strong> code</p>\n\n<pre><code>ngOnInit(){\n   alert();\n}\n</code></pre>\n\n<p>When <strong>first</strong> time route changes alert fires, <strong>but for other route changes it doesn't</strong>. I'm wondering why?</p>\n"}, {"tags": ["javascript", "validation", "angular", "typescript"], "comments": [{"owner": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "edited": false, "score": 1, "creation_date": 1482308922, "post_id": 41257700, "comment_id": 69716609, "body": "Where do you set the pattern? <code>PatternValidator</code> is a factory function and should be configured, e.g. <code>CustomValidators.PatternValidator(&#39;a-z&#39;)</code>."}, {"owner": {"reputation": 1838, "user_id": 1969353, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/tuXAi.jpg?s=128&g=1", "display_name": "Tobias Koller", "link": "https://stackoverflow.com/users/1969353/tobias-koller"}, "reply_to_user": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "edited": false, "score": 0, "creation_date": 1482315796, "post_id": 41257700, "comment_id": 69721247, "body": "I&#39;m sorry. I just added some example-code and forgot to call the validator properly. I just edited my first post."}], "owner": {"reputation": 1838, "user_id": 1969353, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/tuXAi.jpg?s=128&g=1", "display_name": "Tobias Koller", "link": "https://stackoverflow.com/users/1969353/tobias-koller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1482315749, "creation_date": 1482306730, "last_edit_date": 1482315749, "question_id": 41257700, "link": "https://stackoverflow.com/questions/41257700/angular-2-validator", "title": "angular 2 validator &quot;&quot;", "body": "<p>In angular2 I've created a custom validator to validate the value agains a regex.\nI know there is a build in one, but I'm facing errors and want to know what's going wrong.</p>\n\n<p>I'm getting this error:</p>\n\n<blockquote>\n  <p>Expression has changed after it was checked. Previous value: 'true'.\n  Current value: 'false'.</p>\n</blockquote>\n\n<p>this is my validator:</p>\n\n<pre><code>import { FormControl,Validator,AbstractControl,ValidatorFn } from '@angular/forms';\n\nexport const PatternValidator = (regex:any):ValidatorFn  =&gt; {\n\n  return (control:AbstractControl):{[key: string]: any} =&gt; {\n\n    var patt = new RegExp(regex);\n    if(!patt.test(control.value)){\n      return {\n        valid: {valid:false}\n      };\n    }\n    return null;\n  };\n};\n</code></pre>\n\n<p>in this case it's an regex. But I also tried it with simple string comparion with the same error-result.</p>\n\n<p>this is one of my fields I want to validate:</p>\n\n<pre><code> &lt;div *ngIf=\"Parameter.Type=='xyz'\"&gt;\n        &lt;input class=\"form-control\" [id]=\"FieldId\" type=\"text\" formControlName=\"{{FieldId}}\" /&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>and this is how I set the validator:</p>\n\n<pre><code>ngOnInit(){\n         this.InitField(); //need to set id in oninit\n         this.ValidationForm.addControl(this.FieldId,new FormControl(this.myValue,Validators.compose([Validators.required,CustomValidators.PatternValidator(\"^[a-zA-Z]?$\")])));\n    }\n</code></pre>\n\n<p>The error only occurs if the initial value (here this.myValue) is invalid on Startup. If it is valid and I make the value invalid through changing the input-field-value, the validator works just fine...</p>\n"}, {"tags": ["javascript", "typescript", "module", "npm", "flowtype"], "comments": [{"owner": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 1, "creation_date": 1482314034, "post_id": 41257181, "comment_id": 69719911, "body": "Example of library with npm typings is available here: <a href=\"https://github.com/magnetnation/mgCore\" rel=\"nofollow noreferrer\">github.com/magnetnation/mgCore</a> . Unfortunately I do not have any example for Flow typings, but they say typescript ones can be compatible with flow: <a href=\"http://michalzalecki.com/typescript-vs-flow/\" rel=\"nofollow noreferrer\">michalzalecki.com/typescript-vs-flow</a>"}, {"owner": {"reputation": 1411, "user_id": 3173246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TB6Qt.jpg?s=128&g=1", "display_name": "Marcel Mandatory", "link": "https://stackoverflow.com/users/3173246/marcel-mandatory"}, "reply_to_user": {"reputation": 18199, "user_id": 1035889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/F0tHt.png?s=128&g=1", "display_name": "Amid", "link": "https://stackoverflow.com/users/1035889/amid"}, "edited": false, "score": 0, "creation_date": 1482667230, "post_id": 41257181, "comment_id": 69845483, "body": "I have created small npm module where typescript and flow types were added. Sorry for a little self promo. <a href=\"https://github.com/marcelmokos/redux-create\" rel=\"nofollow noreferrer\">github.com/marcelmokos/redux-create</a>"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 9045918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80715b0ae982baa6ea8ac6bd966e4eb?s=128&d=identicon&r=PG&f=1", "display_name": "IdanILT", "link": "https://stackoverflow.com/users/9045918/idanilt"}, "is_accepted": true, "score": 2, "last_activity_date": 1512914064, "creation_date": 1512914064, "answer_id": 47739544, "question_id": 41257181, "link": "https://stackoverflow.com/questions/41257181/how-to-add-flow-and-typescript-typings-to-npm-module/47739544#47739544", "title": "How to add flow and typescript typings to NPM module", "body": "<p>The simple answer, right now seem there are no ready to use solutions.\nWhen you are creating a lib and you are exporting your module with index.js for example you can add index.d.ts and index.js.flow and it will work.</p>\n\n<p>If you already using for you lib types the process of creating definition can be very enoying, luckily there are some good people on it.\nFlow already have flow gen-flow-files, still not release under stable.\nFor typescript, I don't know if there is something similar, but TS more mature I hope they did something.</p>\n\n<p>Now the other painful process, you got one of the definitions you want to convert it to the other one. If you write you definition in TS there are few choices for you to convert it to flow (I don't have any experience with any of them).\nBut if you writing with flow, I didn't find anything that allows you to covert it to TS.</p>\n\n<p>I have started to create a boilerplate and playground focus on this specific problem.\n<a href=\"https://github.com/idanilt/flow_ts_lib\" rel=\"nofollow noreferrer\">https://github.com/idanilt/flow_ts_lib</a></p>\n\n<p>Right now this solution fit my needs, write flow lib and support TS and flow application (I convert flow to TS with very simple regex).\nBut I want to added to it as many cases as I can, so anybody want to write a lib will not need to face this issue again.</p>\n"}], "owner": {"reputation": 1411, "user_id": 3173246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/TB6Qt.jpg?s=128&g=1", "display_name": "Marcel Mandatory", "link": "https://stackoverflow.com/users/3173246/marcel-mandatory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 1, "accepted_answer_id": 47739544, "answer_count": 1, "score": 3, "last_activity_date": 1512914064, "creation_date": 1482304860, "question_id": 41257181, "link": "https://stackoverflow.com/questions/41257181/how-to-add-flow-and-typescript-typings-to-npm-module", "title": "How to add flow and typescript typings to NPM module", "body": "<p>Is there a guide how to add flow and typescript typings to NPM module simultaneously. </p>\n\n<p>I can not find a good guide and it is common problem for open source libraries that in issues people ask for adding typings.</p>\n"}, {"tags": ["angular", "typescript", "ionic2"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482306177, "post_id": 41257115, "comment_id": 69715269, "body": "Nothing changed"}, {"owner": {"reputation": 5321, "user_id": 6717572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuWWj.jpg?s=128&g=1", "display_name": "Amit kumar", "link": "https://stackoverflow.com/users/6717572/amit-kumar"}, "reply_to_user": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482306226, "post_id": 41257115, "comment_id": 69715305, "body": "add console.log in you function. i am using this method its working for me. or show your code plukr"}], "tags": [], "owner": {"reputation": 5321, "user_id": 6717572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuWWj.jpg?s=128&g=1", "display_name": "Amit kumar", "link": "https://stackoverflow.com/users/6717572/amit-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1482304573, "creation_date": 1482304573, "answer_id": 41257115, "question_id": 41256901, "link": "https://stackoverflow.com/questions/41256901/reset-selected-checkbox-when-toggle-off-using-angular2-and-ionic2/41257115#41257115", "title": "Reset selected checkbox when toggle off using angular2 and ionic2", "body": "<p>just add <code>(click)=\"function()\"</code> in your selectname row.\ncheck this code\ndeclare a variable called it filter</p>\n\n<pre><code>filter: boolean= false;\n</code></pre>\n\n<p>then use ngModel in html part to access and assign its value.</p>\n\n<pre><code>&lt;input type=\"checkbox\" [(ngModel)]=\"filter\" (click)=\"filterData()\"&gt;\n</code></pre>\n\n<p>it will call a function filterData() which you can use to do all your functionality</p>\n\n<pre><code>filter(){\n  this.filter = !this.filter;// this will change value of it true and false \n}\n</code></pre>\n\n<p>for more checkbox you can use declare more variable like filter1: boolean</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482305590, "post_id": 41257217, "comment_id": 69714950, "body": "If i clicked on a single checkbox, it is selecting all checkboxes together. I think ngModel consider all checkbox  with unique id."}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482305832, "post_id": 41257217, "comment_id": 69715076, "body": "you will have to give different ngModels for each as it is 2 way binding"}, {"owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482306110, "post_id": 41257217, "comment_id": 69715233, "body": "I am rendering those checkbox from json array, How can i give diffrent ngModels for each. I am new in angular2, can u explain how can i get this done this case"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482306373, "post_id": 41257217, "comment_id": 69715365, "body": "you could make selectedname an array  and traverse it..[(ngModel)]=selectedName[i]"}, {"owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482315014, "post_id": 41257217, "comment_id": 69720628, "body": "Thanks...it works.. but while toggle off, checkbox is getting disabled instead of clearing that"}, {"owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "reply_to_user": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "edited": false, "score": 0, "creation_date": 1482315077, "post_id": 41257217, "comment_id": 69720675, "body": "<code>[disabled]=&quot;checkboxDisabled&quot;</code> takes care disabling,  <code>[checked]=&quot;isChecked&quot; </code> is for checked or not"}, {"owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "reply_to_user": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "edited": false, "score": 0, "creation_date": 1482315456, "post_id": 41257217, "comment_id": 69720972, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/131146/discussion-between-annmary-and-suraj-rao\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": false, "score": 1, "last_activity_date": 1482304971, "creation_date": 1482304971, "answer_id": 41257217, "question_id": 41256901, "link": "https://stackoverflow.com/questions/41256901/reset-selected-checkbox-when-toggle-off-using-angular2-and-ionic2/41257217#41257217", "title": "Reset selected checkbox when toggle off using angular2 and ionic2", "body": "<p>You could use <a href=\"https://ionicframework.com/docs/v2/api/components/checkbox/Checkbox/\" rel=\"nofollow noreferrer\">ion-checkbox</a> instead.</p>\n\n<pre><code>&lt;ion-checkbox value=\"1\" [disabled]=\"checkboxDisabled\" [(ngModel)]=\"selectname\" [checked]=\"isChecked\"&gt;\n</code></pre>\n\n<p>and in component</p>\n\n<pre><code>toggleChange() {   \n  if (this.exploreOn != true) {\n  this.checkboxDisabled = true;  \nthis.isChecked= false;   //reset checkbox\n  this.selectname = false;\n }    \n else  {\n  this.checkboxDisabled = false;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 6920290, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/94f8cef4a6e91a69fc76a39795934a56?s=128&d=identicon&r=PG", "display_name": "AnnMary", "link": "https://stackoverflow.com/users/6920290/annmary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1482314286, "creation_date": 1482303570, "last_edit_date": 1482314286, "question_id": 41256901, "link": "https://stackoverflow.com/questions/41256901/reset-selected-checkbox-when-toggle-off-using-angular2-and-ionic2", "title": "Reset selected checkbox when toggle off using angular2 and ionic2", "body": "<p>I am using Angular2 and ionic2 for my application. Here, I am having a toggle.When toggle is off, I should not allow users to select checkbox. It is working fine for me.Problem is when I select the checkbox while toggle is on and if I turn it off again those checkboxes which are selected should get reset.</p>\n\n<p>Can any one help me out how to achieve this? </p>\n\n<p>My code lies below\n<strong>app.html</strong></p>\n\n<pre><code>&lt;ion-content&gt;\n&lt;ion-item class=\"toggle\"&gt;\n    &lt;ion-label&gt;App Explore&lt;/ion-label&gt;\n    &lt;ion-toggle class=\"center\" [(ngModel)]=\"exploreOn\" (ionChange)=\"toggleChange()\"&gt;&lt;/ion-toggle&gt;\n&lt;/ion-item&gt;\n&lt;div class=\"urban\"&gt;        \n          &lt;div class=\"ck-button\" *ngFor=\"let slide of tags; let i = index\"&gt;             \n        &lt;label&gt;                 \n            &lt;input type=\"checkbox\" value=\"1\" [disabled]=\"checkboxDisabled\" [(ngModel)]=\"selectname\"&gt;\n            &lt;span&gt;{{slide.tag}} &lt;/span&gt;\n        &lt;/label&gt;\n    &lt;/div&gt;        \n&lt;/div&gt;\n</code></pre>\n\n<p>\n<strong>app.ts</strong></p>\n\n<pre><code>export class AppPage {\nselectname: boolean = false;\nexploreOn: boolean = false;\ncheckboxDisabled = true;\ncheckboxEnabled = false;\npublic posts: any;\ntags: any;\nconstructor(public navCtrl: NavController, public http: Http) {    \nthis.http.get('./mockAPI/chatList.json').subscribe(\n  data =&gt; {\n    this.posts = data.json();\n    this.tags = this.posts.tags;\n    console.log(\"data\", this.tags);\n  });\n}\ntoggleChange() {   \n  if (this.exploreOn != true) {\n  this.checkboxDisabled = true;     \n  this.selectname = false;\n }    \n else  {\n  this.checkboxDisabled = false;\n  }\n}\n\n**My josn file lies below**\n \"tags\": [\n    {\n        \"id\": 1,\n        \"tag\": \"#jetset\"\n    },\n    {\n        \"id\": 2,\n        \"tag\": \"#retailtherapy\"\n    },\n    {\n        \"id\": 3,\n        \"tag\": \"#eatsipgroove\"\n    }\n]\n</code></pre>\n"}, {"tags": ["angular", "typescript", "es6-promise"], "answers": [{"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482303747, "post_id": 41256932, "comment_id": 69714020, "body": "Always the fastest :P"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 1, "creation_date": 1482303851, "post_id": 41256932, "comment_id": 69714075, "body": "Lots of practice ;-) Thanks for fixing the typo!"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482304125, "post_id": 41256932, "comment_id": 69714226, "body": "Yes.. it did resolve, :D, thanks guys, so i can look up <b>safe-navigator operator</b> so that i can understand it better and know when to use it, am i correct?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482304264, "post_id": 41256932, "comment_id": 69714290, "body": "All it does is that <code>.name</code> is not evaluated when <code>msg</code> is null. It&#39;s a bit more complicated if the expression is longer. You need to repeat it for <code>msg?.name?.given</code> or <code>msg?.name?.fullName()</code>. It does <b>not</b> support <code>[]</code> like <code>msg?.nameParts?[1]</code> (invalid)."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482304404, "post_id": 41256932, "comment_id": 69714348, "body": "The operator has many names (Elvis, null coalescing, safe-navigation, and probably others) See also <a href=\"https://github.com/Microsoft/TypeScript/issues/16\" rel=\"nofollow noreferrer\">github.com/Microsoft/TypeScript/issues/16</a>"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482304648, "post_id": 41256932, "comment_id": 69714469, "body": "Okay so &#39; It does not support [] like msg?.nameParts?[1]&#39;, then how would i get only one element in &#39;nameParts&#39; if it was an array and a key of msg?"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482304745, "post_id": 41256932, "comment_id": 69714512, "body": "You need a more elaborate syntax like <code>msg?.nameParts?.length &amp;&amp; msg.namParts[1]</code>. This way the part after <code>&amp;&amp;</code> is only evaluated if <code>msg.nameParts.length</code> &gt; 1."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482306245, "post_id": 41256932, "comment_id": 69715315, "body": "I meant <code>&gt; 0</code> instead of <code>&gt; 1</code> but I assume you got it :D"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 2, "last_activity_date": 1482303822, "last_edit_date": 1482303822, "creation_date": 1482303700, "answer_id": 41256932, "question_id": 41256889, "link": "https://stackoverflow.com/questions/41256889/component-class-variable-from-http-promise-is-undefined-when-interpolated-on-tem/41256932#41256932", "title": "Component class variable from HTTP promise is undefined when interpolated on template", "body": "<p>You can use the safe-navigation operator to avoid errors when Angular resolves the binding before the value becomes available:</p>\n\n<pre><code>template: '&lt;p&gt;{{msg?.name}}&lt;/p&gt;',\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482303888, "post_id": 41256953, "comment_id": 69714099, "body": "I dont have `providers: [ MyService ]&#39; in my root module, i only have it in that component"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482305188, "post_id": 41256953, "comment_id": 69714740, "body": "I will change the class to an interface thanks, that&#39;s good, but the actually issue has a working solution, read up."}], "tags": [], "owner": {"reputation": 1893, "user_id": 2223260, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5071efdc4b75172b161f42f9758a019?s=128&d=identicon&r=PG", "display_name": "anshuVersatile", "link": "https://stackoverflow.com/users/2223260/anshuversatile"}, "is_accepted": false, "score": 1, "last_activity_date": 1482303793, "creation_date": 1482303793, "answer_id": 41256953, "question_id": 41256889, "link": "https://stackoverflow.com/questions/41256889/component-class-variable-from-http-promise-is-undefined-when-interpolated-on-tem/41256953#41256953", "title": "Component class variable from HTTP promise is undefined when interpolated on template", "body": "<p><code>mma</code> should not a class defined twice it should be <code>interface</code></p>\n\n<pre><code>interface  mma {\n age: number;\n name: string;\n}\n</code></pre>\n\n<p>also remove `providers: [ MyService ]' from component which is creating multiple instances of service</p>\n"}], "owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 41256932, "answer_count": 2, "score": 1, "last_activity_date": 1482303822, "creation_date": 1482303553, "question_id": 41256889, "link": "https://stackoverflow.com/questions/41256889/component-class-variable-from-http-promise-is-undefined-when-interpolated-on-tem", "title": "Component class variable from HTTP promise is undefined when interpolated on template", "body": "<p>I have a promise returning an object from my service </p>\n\n<pre><code>export class mma {\n age: number;\n name: string;\n}\n@Injectable()\nexport class MyService {\n  constructor(private http: Http) { }\n  getMessage(): Promise&lt;mma&gt; {\nreturn this.http.get('/map-moving-agents')\n           .toPromise()\n           .then((res)=&gt; {\n             console.log(res.json().obj);\n              return res.json().obj;\n            })\n           .catch(this.handleError);\n}\n</code></pre>\n\n<p>and i have a component class method that assigns the returned promise object to a component class/instance variable that i would like to interpolate in my component template</p>\n\n<pre><code>export class mma {\n age: number;\n name: string;\n}\n@Component({\n moduleId:module.id,\n selector: 'map-moving-agents',\n template: '&lt;p&gt;{{msg.name}}&lt;/p&gt;',\n providers: [ MyService ]\n})\n\nexport class MapMovingAgents implements OnInit{\n\n msg : mma;\n\nconstructor(private myService: MyService ){}\ngetMessage(): void {\n    this.myService.getMessage().then((res) =&gt; {     \n         this.msg = res;\n         console.log(this.msg.name);  \n        })\n\n}\n\nngOnInit(): void {\n    this.getMessage();\n}\n}\n</code></pre>\n\n<p>I have logged the 'this.msg' in 'getMessage' and the promise 'then' but when i interpolate it, 'msg' like {{msg.name}} i get and error saying cannot read property 'name' of undefined,\n<a href=\"https://i.stack.imgur.com/iD1Z7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iD1Z7.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "rxjs5"], "answers": [{"tags": [], "owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "is_accepted": false, "score": 2, "last_activity_date": 1484320507, "last_edit_date": 1484320507, "creation_date": 1482301758, "answer_id": 41256466, "question_id": 41255718, "link": "https://stackoverflow.com/questions/41255718/combine-multiple-observable-arrays-into-new-object-array/41256466#41256466", "title": "Combine multiple observable arrays into new object array", "body": "<p>It's not clear what exactly your observables are emitting, so I considered two options.</p>\n\n<pre><code>let persons = [\n    {\n        \"firstName\":\"john\",\n        \"lastName\":\"public\",\n        \"locationID\":\"1\",\n        \"departmentID\":\"100\"\n    },\n    {\n        \"firstName\":\"sam\",\n        \"lastName\":\"smith\",\n        \"locationID\":\"2\",\n        \"departmentID\":\"101\"\n    }\n];\n\nlet departments = [\n    {\"departmentID\": \"100\", \"name\": \"development\"},\n    {\"departmentID\": \"101\", \"name\": \"sales\"}\n];\n\nlet locations = [\n    {\"locationID\": \"1\", \"name\": \"chicago\"},\n    {\"locationID\": \"2\", \"name\": \"ny\"}\n];\n\n// Option 1: first observable emits persons one by one, \n// locations and departments are emitted as whole arrays.\nlet o1: any = Observable.from(persons);\nlet o2: any = Observable.of(departments);\nlet o3: any = Observable.of(locations);\n\no1.withLatestFrom(o2, o3, (p, d, l) =&gt; {\n    // here it is probably better to convert array to some kind of map or dictionary,\n    // but I'm only showing Rxjs concept of doing such things.\n    let location = l.find(c =&gt; c.locationID === p.locationID);\n    let department = d.find(c =&gt; c.departmentID === p.departmentID);\n    return {\n        firstName: p.firstName,\n        lastName: p.lastName,\n        location: location ? location.name : \"\",\n        department: department ? department.name : \"\"\n    };\n}).subscribe((f) =&gt; {\n    console.log(f);\n});\n\n// Option 2: all observables emit elements one by one.\n// In this case we need to convert departments and locations to arrays.\no1 = Observable.from(persons);\no2 = Observable.from(departments);\no3 = Observable.from(locations);\n\no1.withLatestFrom(o2.toArray(), o3.toArray(), (p, d, l) =&gt; {\n    // this part of code is exactly the same as in previous case.\n    let location = l.find(c =&gt; c.locationID === p.locationID);\n    let department = d.find(c =&gt; c.departmentID === p.departmentID);\n    return {\n        firstName: p.firstName,\n        lastName: p.lastName,\n        location: location ? location.name : \"\",\n        department: department ? department.name : \"\"\n    };\n}).subscribe((f) =&gt; {\n    console.log(f);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2435, "user_id": 1079162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11723d808b7bb344259fe9491e6dd31e?s=128&d=identicon&r=PG", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/1079162/yousuf"}, "edited": false, "score": 0, "creation_date": 1482351262, "post_id": 41262155, "comment_id": 69743410, "body": "Thank you, I was able to get it working using forkJoin."}, {"owner": {"reputation": 8599, "user_id": 491245, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/4868ca7693fefbf515b0d3b60d693ccd?s=128&d=identicon&r=PG", "display_name": "PhoneixS", "link": "https://stackoverflow.com/users/491245/phoneixs"}, "edited": false, "score": 0, "creation_date": 1557750679, "post_id": 41262155, "comment_id": 98858271, "body": "Could you explain a bit more on why is needed the mergeMap or what it does?"}], "tags": [], "owner": {"reputation": 75411, "user_id": 310726, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/cc38ee5e151f1efb6470740c66262058?s=128&d=identicon&r=PG", "display_name": "martin", "link": "https://stackoverflow.com/users/310726/martin"}, "is_accepted": true, "score": 8, "last_activity_date": 1482321338, "last_edit_date": 1495540008, "creation_date": 1482320979, "answer_id": 41262155, "question_id": 41255718, "link": "https://stackoverflow.com/questions/41255718/combine-multiple-observable-arrays-into-new-object-array/41262155#41262155", "title": "Combine multiple observable arrays into new object array", "body": "<p>Since you'll very likely want to fetch lists of departments and locations from a remote service (make another HTTP request) I'd do it right away with Observables as well.</p>\n\n<pre><code>Observable.from(persons)\n    .mergeMap(person =&gt; {\n        let department$ = Observable.from(departments)\n            .filter(department =&gt; department.departmentID == person.departmentID);\n\n        let location$ = Observable.from(locations)\n            .filter(location =&gt; location.locationID == person.locationID);\n\n        return Observable.forkJoin(department$, location$, (department, location) =&gt; {\n            return {\n                'firstName': person.firstName,\n                'lastName': person.lastName,\n                'location': location.name,\n                'department': department.name,\n            };\n        });\n    })\n    .toArray()\n    .subscribe(result =&gt; console.log(result));\n</code></pre>\n\n<p>This prints to console:</p>\n\n<pre><code>[ { firstName: 'john',\n    lastName: 'public',\n    location: 'chicago',\n    department: 'development' },\n  { firstName: 'sam',\n    lastName: 'smith',\n    location: 'ny',\n    department: 'sales' } ]\n</code></pre>\n\n<p>There're two Observables <code>department$</code> and <code>location$</code> that are filtered with <code>filter()</code> operator to get the only item with matching ID. Then <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/core/operators/forkjoin.md\" rel=\"nofollow noreferrer\"><code>forkJoin()</code></a> operator waits until both of them are complete. Operator <code>mergeMap()</code> then reemits the value returned from <code>forkJoin()</code>. At the end with <code>toArray()</code> we collect all items into a single array.</p>\n\n<p>Instead of <code>Observable.from(...)</code> you can have whatever service you'll need (eg. <code>http.get(...)</code>).</p>\n\n<p>See live demo: <a href=\"https://jsbin.com/nenekup/4/edit?js,console\" rel=\"nofollow noreferrer\">https://jsbin.com/nenekup/4/edit?js,console</a></p>\n\n<p>Similar questions: <a href=\"https://stackoverflow.com/questions/40346728/merge-subarrays-using-observables/40347238\">Merge subarrays using Observables</a> and <a href=\"https://stackoverflow.com/questions/40250882/subscribing-to-a-nested-observable/40257871\">Subscribing to a nested Observable</a></p>\n"}, {"comments": [{"owner": {"reputation": 2435, "user_id": 1079162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11723d808b7bb344259fe9491e6dd31e?s=128&d=identicon&r=PG", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/1079162/yousuf"}, "edited": false, "score": 0, "creation_date": 1482351353, "post_id": 41263745, "comment_id": 69743458, "body": "interesting, I didnt know about zip function. I was able to get it working using forkJoin as martin suggested."}], "tags": [], "owner": {"reputation": 37317, "user_id": 1205871, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/eDE58.gif?s=128&g=1", "display_name": "danday74", "link": "https://stackoverflow.com/users/1205871/danday74"}, "is_accepted": false, "score": 2, "last_activity_date": 1482326405, "creation_date": 1482326405, "answer_id": 41263745, "question_id": 41255718, "link": "https://stackoverflow.com/questions/41255718/combine-multiple-observable-arrays-into-new-object-array/41263745#41263745", "title": "Combine multiple observable arrays into new object array", "body": "<p>i think the RxJS .zip operator may be your friend here.</p>\n\n<p>As far as I understand, .zip emits like this ...</p>\n\n<pre><code>.zip(\n   Observable.from[array1].switchMap( // map to http response here ),\n   Observable.from[array2].switchMap( // map to http response here ),\n   Observable.from[array3].switchMap( // map to http response here )\n).map((valueFromArray1, valueFromArray2, valueFromArray3) {\n   // Create your object here \n})\n</code></pre>\n\n<p>Something like that! Hopefully, puts you on the right track.</p>\n\n<p>.zip should emit the first time when all 3 have emitted (and it will emit a second time when all three stream have emitted twice, etc) - In your scenario I expect all three stream emit once only, which makes it a simple case for .zip</p>\n"}], "owner": {"reputation": 2435, "user_id": 1079162, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/11723d808b7bb344259fe9491e6dd31e?s=128&d=identicon&r=PG", "display_name": "Yousuf", "link": "https://stackoverflow.com/users/1079162/yousuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5855, "favorite_count": 1, "accepted_answer_id": 41262155, "answer_count": 3, "score": 4, "last_activity_date": 1484320507, "creation_date": 1482298003, "last_edit_date": 1482321004, "question_id": 41255718, "link": "https://stackoverflow.com/questions/41255718/combine-multiple-observable-arrays-into-new-object-array", "title": "Combine multiple observable arrays into new object array", "body": "<p>I have 3 observable arrays like below.</p>\n\n<pre><code>persons = [\n   {\n      \"firstName\":\"john\",\n      \"lastName\":\"public\",\n      \"locationID\":\"1\",\n      \"departmentID\":\"100\"\n   },\n   {\n      \"firstName\":\"sam\",\n      \"lastName\":\"smith\",\n      \"locationID\":\"2\",\n      \"departmentID\":\"101\"\n   }\n]\n\ndepartments = [{\"departmentID\": \"100\",\n               \"name\": \"development\"\n               },\n               {\"departmentID\": \"101\",\n                \"name\": \"sales\"\n               }]\n\nlocations = [{\"locationID\": \"1\", \"name\": \"chicago\"},\n              {\"locationID\":\"2\", \"name\": \"ny\"}]\n</code></pre>\n\n<p>I am trying to combine these 3 into below result ,</p>\n\n<pre><code>result = [\n   {\n      \"firstName\":\"john\",\n      \"lastName\":\"public\",\n      \"location\":\"development\",\n      \"department\":\"sales\"\n   },\n   {\n      \"firstName\":\"sam\",\n      \"lastName\":\"smith\",\n      \"location\":\"ny\",\n      \"department\":\"sales\"\n   }\n]\n</code></pre>\n\n<p>To get the desired result, I have used map function on persons observable to give new object array.</p>\n\n<pre><code>this.store&lt;Person&gt;('persons')\n.map(function(person){\n     let p = new personDetail()\n     p.firstName = person.firstName,\n     p.lastName = person.lastName\n     return p;\n})\n</code></pre>\n\n<p><code>PersonDetail</code> object has <code>firstName</code>, <code>lastName</code>, <code>location</code> and <code>department</code> properties. How do I do a lookup into departments observable and get a matching row for <code>departmentID</code> to get the department name ?</p>\n\n<p>I am new to rxjs library, please let me know if there is a better way to attain the desired result.</p>\n"}, {"tags": ["typescript", "module", "auth0"], "answers": [{"tags": [], "owner": {"reputation": 518, "user_id": 2154141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03146ce7ab963b55898c37c4511561bb?s=128&d=identicon&r=PG", "display_name": "jgranstrom", "link": "https://stackoverflow.com/users/2154141/jgranstrom"}, "is_accepted": false, "score": 2, "last_activity_date": 1492239176, "creation_date": 1492239176, "answer_id": 43423147, "question_id": 41255302, "link": "https://stackoverflow.com/questions/41255302/typescript-auth0-module/43423147#43423147", "title": "Typescript Auth0 module", "body": "<p>The <code>auth0-js</code> library does not export anything named <code>Auth0</code>. </p>\n\n<p>If you just want to import everything then change your import to <code>import * as Auth0 from 'auth0-js'</code>. Otherwise your can import the individual exports like <code>import { WebAuth } from 'auth0-js';</code></p>\n\n<p>Also, are you making your own typings? Otherwise you can just use the already available typings from <code>npm install @types/auth0-js</code>. </p>\n\n<p>Make sure your <code>tsconfig.json</code> is configured to lookup the typings:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    ...\n    \"typeRoots\": [\n      \"node_modules/@types\"\n    ],\n    ...\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5030551, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RiVsLgsQhPI/AAAAAAAAAAI/AAAAAAAABFo/Mi6cTs6U3kU/photo.jpg?sz=128", "display_name": "Sumit Dhameja", "link": "https://stackoverflow.com/users/5030551/sumit-dhameja"}, "is_accepted": false, "score": 0, "last_activity_date": 1501637215, "last_edit_date": 1501637215, "creation_date": 1492567036, "answer_id": 43485000, "question_id": 41255302, "link": "https://stackoverflow.com/questions/41255302/typescript-auth0-module/43485000#43485000", "title": "Typescript Auth0 module", "body": "<p>You can include auth0 script in index.html \n  </p>\n\n<p>and inside your auth.ts. You can use </p>\n\n<pre><code>declare var auth0: any;\n</code></pre>\n\n<p>That avoids any name not found errors that typescript might raise.</p>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 3833314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BDNu5.png?s=128&g=1", "display_name": "Vojtech", "link": "https://stackoverflow.com/users/3833314/vojtech"}, "is_accepted": false, "score": 2, "last_activity_date": 1496315940, "creation_date": 1496315940, "answer_id": 44306099, "question_id": 41255302, "link": "https://stackoverflow.com/questions/41255302/typescript-auth0-module/44306099#44306099", "title": "Typescript Auth0 module", "body": "<p>In our angular-cli project we successfully set it up by</p>\n\n<p><code>npm install auth0-js @types/auth0-js --save</code></p>\n\n<p>and importing paths that you need like <code>import { WebAuth } from 'auth0-js';</code></p>\n"}], "owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 913, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1501637215, "creation_date": 1482295873, "question_id": 41255302, "link": "https://stackoverflow.com/questions/41255302/typescript-auth0-module", "title": "Typescript Auth0 module", "body": "<p>I have the following .d.ts file (extract of it)</p>\n\n<pre><code>declare const Auth0: Auth0Static;\n\ndeclare module \"auth0-js\" {\n    export = Auth0\n}\n</code></pre>\n\n<p>Now in my .ts file I am using the following</p>\n\n<pre><code>import { Auth0 } from 'auth0-js';\n</code></pre>\n\n<p>I get the following error </p>\n\n<p><strong>auth0-js has no exported member Auth0</strong></p>\n\n<p>Whats going wrong here?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 607, "user_id": 6712483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/014a02423bc67af28dfa8ef3d33d6029?s=128&d=identicon&r=PG", "display_name": "Sunny Pun", "link": "https://stackoverflow.com/users/6712483/sunny-pun"}, "edited": false, "score": 0, "creation_date": 1482294627, "post_id": 41255119, "comment_id": 69710697, "body": "You may try using <code>String.concat()</code>. However in this case, you may want to use <code>String.repeat()</code> before joining"}, {"owner": {"reputation": 147, "user_id": 7319938, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-c3YH63-z_zg/AAAAAAAAAAI/AAAAAAAAAAA/az2H7pDKl6A/photo.jpg?sz=128", "display_name": "Rachmat Chang", "link": "https://stackoverflow.com/users/7319938/rachmat-chang"}, "reply_to_user": {"reputation": 607, "user_id": 6712483, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/014a02423bc67af28dfa8ef3d33d6029?s=128&d=identicon&r=PG", "display_name": "Sunny Pun", "link": "https://stackoverflow.com/users/6712483/sunny-pun"}, "edited": false, "score": 0, "creation_date": 1482294924, "post_id": 41255119, "comment_id": 69710777, "body": "please give me some example for your instruction, can u ?"}, {"owner": {"reputation": 5540, "user_id": 4814427, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/XIE7P.jpg?s=128&g=1", "display_name": "Rafaf Tahsin", "link": "https://stackoverflow.com/users/4814427/rafaf-tahsin"}, "edited": false, "score": 0, "creation_date": 1482296015, "post_id": 41255119, "comment_id": 69711098, "body": "Add your error text in a code block. <a href=\"http://meta.stackexchange.com/questions/88541/how-to-write-code-in-a-question-or-answer\" title=\"how to write code in a question or answer\">meta.stackexchange.com/questions/88541/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 7319938, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-c3YH63-z_zg/AAAAAAAAAAI/AAAAAAAAAAA/az2H7pDKl6A/photo.jpg?sz=128", "display_name": "Rachmat Chang", "link": "https://stackoverflow.com/users/7319938/rachmat-chang"}, "edited": false, "score": 0, "creation_date": 1482296358, "post_id": 41255265, "comment_id": 69711220, "body": "thank you so much for your answer, now my code really work"}], "tags": [], "owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "is_accepted": true, "score": 0, "last_activity_date": 1482296405, "last_edit_date": 1482296405, "creation_date": 1482295623, "answer_id": 41255265, "question_id": 41255119, "link": "https://stackoverflow.com/questions/41255119/cannot-join-string-in-angular-2-component/41255265#41255265", "title": "Cannot Join String in Angular 2 Component", "body": "<p>Change String to string.</p>\n\n<pre><code>setValuetoComboBox(test:string, lvl:number): void {    \n    let lastTest:string;\n    let spaceString:string;\n}\n</code></pre>\n\n<p>By the way , this is a typescript question and has nothing to do with Angular2 and components and ... .</p>\n\n<p>And you really should stop using var and replace them with let or const.</p>\n"}], "owner": {"reputation": 147, "user_id": 7319938, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-c3YH63-z_zg/AAAAAAAAAAI/AAAAAAAAAAA/az2H7pDKl6A/photo.jpg?sz=128", "display_name": "Rachmat Chang", "link": "https://stackoverflow.com/users/7319938/rachmat-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 41255265, "answer_count": 1, "score": 1, "last_activity_date": 1482548334, "creation_date": 1482294542, "last_edit_date": 1482548334, "question_id": 41255119, "link": "https://stackoverflow.com/questions/41255119/cannot-join-string-in-angular-2-component", "title": "Cannot Join String in Angular 2 Component", "body": "<p>I have some problem in my code might be type casting issue. I just want to join my String.</p>\n\n<pre><code>setValuetoComboBox(test:String, lvl:number){\n    var lastTest:String;\n    var spaceString:String;\n    //&amp;#160;\n    spaceString='&amp;#160';\n    for(var i = 1; i &lt;= lvl; i++){\n        spaceString=spaceString + '&amp;#160';\n    }\n    lastTest = spaceString + test;\n    return lastTest;\n}\n</code></pre>\n\n<p>usually, i use operator \"+\", but now it's error. the error is</p>\n\n<p><a href=\"https://i.stack.imgur.com/jLqDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLqDn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please help my problems, Thanks</p>\n"}, {"tags": ["typescript", "module"], "answers": [{"comments": [{"owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "edited": false, "score": 0, "creation_date": 1482295910, "post_id": 41255155, "comment_id": 69711074, "body": "I added the following to my tsconfig.json file     &quot;typeRoots&quot;: [       &quot;../node_modules/@types&quot;,       &quot;./app/modules&quot;     ]  ./app/modules is where my myModule.d.ts file is.  I have renamed the file to the following declare module myModule{   export function Login();   export function Logout(); }  However I still get the following cannot find module myModule"}, {"owner": {"reputation": 517, "user_id": 7312355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/57ce505140904fd60f4e0d002b9a842e?s=128&d=identicon&r=PG&f=1", "display_name": "599644", "link": "https://stackoverflow.com/users/7312355/599644"}, "reply_to_user": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "edited": false, "score": 0, "creation_date": 1482296028, "post_id": 41255155, "comment_id": 69711105, "body": "And? Did it work? If not, what&#39;s the error now? Same?"}], "tags": [], "owner": {"reputation": 517, "user_id": 7312355, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/57ce505140904fd60f4e0d002b9a842e?s=128&d=identicon&r=PG&f=1", "display_name": "599644", "link": "https://stackoverflow.com/users/7312355/599644"}, "is_accepted": false, "score": 1, "last_activity_date": 1482294790, "creation_date": 1482294790, "answer_id": 41255155, "question_id": 41254809, "link": "https://stackoverflow.com/questions/41254809/typescript-declare-module-error/41255155#41255155", "title": "Typescript declare module error", "body": "<pre><code> declare module myModule{\n</code></pre>\n\n<p>Also in you <code>tsconfig.json</code>:</p>\n\n<pre><code>\"types\": [\n    \"&lt;DIR_THAT_CONTAINS_MYMODLUE_D_TS&gt;\"\n]\n</code></pre>\n"}], "owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1482294790, "creation_date": 1482292282, "question_id": 41254809, "link": "https://stackoverflow.com/questions/41254809/typescript-declare-module-error", "title": "Typescript declare module error", "body": "<p>I have the following module declaration in myModule.d.ts file</p>\n\n<pre><code>declare module Auth0Wrapper{\n  export function Login();\n  export function Logout();\n}\n</code></pre>\n\n<p>Now I am trying to use this in my .ts file using the following code</p>\n\n<pre><code>import {Login} from '../modules/myModule';\n</code></pre>\n\n<p>Now I get the following error\n<strong>myModule.d.ts is not a module</strong>  How do I fix this?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic2"], "answers": [{"tags": [], "owner": {"reputation": 28036, "user_id": 4826457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXT0U.jpg?s=128&g=1", "display_name": "Suraj Rao", "link": "https://stackoverflow.com/users/4826457/suraj-rao"}, "is_accepted": true, "score": 1, "last_activity_date": 1482296053, "creation_date": 1482296053, "answer_id": 41255331, "question_id": 41254469, "link": "https://stackoverflow.com/questions/41254469/instance-type-on-inyected-services-in-ionic-2/41255331#41255331", "title": "instance type on inyected services in IONIC 2", "body": "<p>You have set your service as provider for each individual page.This is not the singleton pattern. This is used when you need the service available for only that component.</p>\n\n<p>For singleton pattern,you set it as provider in NgModule in app.module.ts.</p>\n\n<pre><code>@NgModule({\n declarations:[..]\n imports:[..],\n bootstrap:[IonicApp],\n entryComponents:[...],\n providers:[SVC1] //here\n})\nexport class AppModule { }\n</code></pre>\n\n<p>and then add the service in the constructor of any components you need.\n<a href=\"https://angular.io/docs/ts/latest/guide/dependency-injection.html#!#angular-dependency-injection\" rel=\"nofollow noreferrer\">here</a>\nAngular Official docs has information regarding the dependency injection</p>\n"}], "owner": {"reputation": 2415, "user_id": 4216714, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/1231298127/picture?type=large", "display_name": "Vladimir Venegas", "link": "https://stackoverflow.com/users/4216714/vladimir-venegas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 41255331, "answer_count": 1, "score": 1, "last_activity_date": 1482296053, "creation_date": 1482289658, "question_id": 41254469, "link": "https://stackoverflow.com/questions/41254469/instance-type-on-inyected-services-in-ionic-2", "title": "instance type on inyected services in IONIC 2", "body": "<p>I want to know how injected's services works on IONIC 2. Specifically, I want to know how many instances will be exists if one service is used in two or more controllers.</p>\n\n<p>In the past, i asked to a collegue, and he tell me that IONIC 2 works with singleton pattern, but in my test, i think it does not.</p>\n\n<p>I have two controllers, A and B; and one service SVC1. Is something like that.</p>\n\n<p>Controller A</p>\n\n<pre><code>import { NavController, Platform } from 'ionic-angular';\nimport { PageB } from '../pageb/pageB';\nimport { SVC1 } from '../../providers/svc1';\n\n@Component({\n  selector: 'page-a',\n  templateUrl: 'a.html',\n  providers: [SVC1]\n})\n\nexport class PageA {\n  constructor(public navCtrl: NavController, platform: Platform, public svc: SVC1) {\n  }\n\nonAddEventClicked(event): void {    \n  this.navCtrl.push(PageB);\n  }\n}\n</code></pre>\n\n<p>Controller B</p>\n\n<pre><code>import { NavController, Platform } from 'ionic-angular';\nimport { SVC1 } from '../../providers/svc1';\n\n@Component({\n  selector: 'page-b',\n  templateUrl: 'b.html',\n  providers: [SVC1]\n})\n\nexport class PageB {\n  constructor(public navCtrl: NavController, platform: Platform, public svc: SVC1) {\n  }\n}\n</code></pre>\n\n<p>Service</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\n@Injectable()\nexport class SVC1 {\n  constructor(public http: Http) { \n    console.log('creating another instance');\n  }\n}\n</code></pre>\n\n<p>This is very very simple. PageA has a button. When click it, it go to PageB. PageA and PageB use the same service.</p>\n\n<p>If this service were singleton, the message \"creating another instance\" will be appears only once. But it's appearing two times.</p>\n\n<p>Why occur this? IONIC use singleton pattern to inyect service reference? Is there a way to have onlye one instance of my service?</p>\n\n<p>Thanks a lot</p>\n\n<p>PS: Sorry for my bad english, hopefully I will improve with more time.</p>\n"}, {"tags": ["typescript", "webpack", "css-loader", "extract-text-plugin"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7188778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2NgOcKnoBLA/AAAAAAAAAAI/AAAAAAAAKME/q8VsqSkZcLU/photo.jpg?sz=128", "display_name": "Andrii Sikora", "link": "https://stackoverflow.com/users/7188778/andrii-sikora"}, "edited": false, "score": 0, "creation_date": 1482318764, "post_id": 41258373, "comment_id": 69723306, "body": "Thanks for your answer @dotcs, but I just recieved another error:   ERROR in ./src/main.ts Module not found: Error: Cannot resolve &#39;file&#39; or &#39;directory&#39; ./src/stylesheet/css/build.css in /home/andrii/WebstormProjects/pallybet_frontend_bvb/src  @ ./src/main.ts 20:0-41  I&#39;m writting require (&quot;./stylesheet/css/build.css&quot;) in typescript file main.ts (entry point), maybe I need to write it another place?   Thanks!"}, {"owner": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "reply_to_user": {"reputation": 21, "user_id": 7188778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2NgOcKnoBLA/AAAAAAAAAAI/AAAAAAAAKME/q8VsqSkZcLU/photo.jpg?sz=128", "display_name": "Andrii Sikora", "link": "https://stackoverflow.com/users/7188778/andrii-sikora"}, "edited": false, "score": 0, "creation_date": 1482319920, "post_id": 41258373, "comment_id": 69723982, "body": "This means that webpack cannot resolve the file path you have given. Can you add information about your file structure to the question? The path should be relative to the <code>main.ts</code> file. So if <code>main.ts</code> lives in the <code>src</code> folder and the stylesheet is located at <code>src&#47;stylesheet&#47;css&#47;build.css</code> the path should be <code>require(&#39;.&#47;stylesheet&#47;css&#47;build.css&#39;)</code>."}, {"owner": {"reputation": 21, "user_id": 7188778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2NgOcKnoBLA/AAAAAAAAAAI/AAAAAAAAKME/q8VsqSkZcLU/photo.jpg?sz=128", "display_name": "Andrii Sikora", "link": "https://stackoverflow.com/users/7188778/andrii-sikora"}, "edited": false, "score": 0, "creation_date": 1482331100, "post_id": 41258373, "comment_id": 69731327, "body": "I&#39;ve added structure of project.  I understand your answer and I can understand how it should wotk but, after I used require(&#39;./stylesheet/css/build.css&#39;), I still have an error:  &quot;ERROR in ./~/css-loader!./src/stylesheet/css/build.css Module build failed: Unknown word (5:1)&quot;  If you have more advises it would be pleasure for me to get them and solve this problem. Thanks"}, {"owner": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "reply_to_user": {"reputation": 21, "user_id": 7188778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2NgOcKnoBLA/AAAAAAAAAAI/AAAAAAAAKME/q8VsqSkZcLU/photo.jpg?sz=128", "display_name": "Andrii Sikora", "link": "https://stackoverflow.com/users/7188778/andrii-sikora"}, "edited": false, "score": 0, "creation_date": 1482345382, "post_id": 41258373, "comment_id": 69740174, "body": "You should not require the css file in the <code>webpack.dev.js</code> file, but for example in the <code>main.ts</code>. The reason is that <code>webpack.dev.js</code> describes the webpack pipeline, whereas <code>main.ts</code> is included and transformed by the pipeline. In case you have done this already it would be nice to see the <code>build.css</code>, because from the error &#39;Unknown word&#39; I&#39;d say that there is something in the file that should not be there."}], "tags": [], "owner": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "is_accepted": false, "score": 0, "last_activity_date": 1482309254, "creation_date": 1482309254, "answer_id": 41258373, "question_id": 41253346, "link": "https://stackoverflow.com/questions/41253346/webpack-cannot-find-module-source-map-module-build-failed/41258373#41258373", "title": "Webpack &quot;cannot find module&quot; source-map, module build failed", "body": "<p>You should configure the <a href=\"https://github.com/webpack/extract-text-webpack-plugin/blob/webpack-1/README.md\" rel=\"nofollow noreferrer\"><code>ExtractTextPlugin</code></a> as such:</p>\n\n<pre><code>// webpack.config.js\n\nvar ExtractTextPlugin = require(\"extract-text-webpack-plugin\");\n\nmodule.exports = {\n    module: {\n        loaders: [\n            { test: /\\.css$/, loader: ExtractTextPlugin.extract(\"style-loader\", \"css-loader\") }\n        ]\n    },\n    plugins: [\n        new ExtractTextPlugin(\"styles.css\")\n    ]\n}\n</code></pre>\n\n<p>Then you can require the CSS sheets as you have done already: </p>\n\n<pre><code>require(\"./stylesheet/css/build.css\");\nrequire(\"./src/stylesheet/css/zio.css\");\n// and so on ...\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7188778, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2NgOcKnoBLA/AAAAAAAAAAI/AAAAAAAAKME/q8VsqSkZcLU/photo.jpg?sz=128", "display_name": "Andrii Sikora", "link": "https://stackoverflow.com/users/7188778/andrii-sikora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1932, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482330789, "creation_date": 1482279954, "last_edit_date": 1482330789, "question_id": 41253346, "link": "https://stackoverflow.com/questions/41253346/webpack-cannot-find-module-source-map-module-build-failed", "title": "Webpack &quot;cannot find module&quot; source-map, module build failed", "body": "<p>I'm trying to bundle project with Webpack, but I recieve an error: \"Cannot find module './stylesheet/css/build.css'\"\nI'm using webpack 1.14.0 and yarn 0.17.10. \n<a href=\"https://i.stack.imgur.com/KZSyC.png\" rel=\"nofollow noreferrer\">webpack printscreen</a></p>\n\n<p>Please give me some advise how I should use require() to get result.</p>\n\n<p>Thanks in advise for your help!</p>\n\n<h2>webpack.dev.js</h2>\n\n<pre><code>  var config = {\n      cache: true,\n      devtool: 'source-map',\n      entry: {\n        polyfills: './src/polyfills',\n        vendor:    './src/vendor',\n        main:      './src/main'\n      },\n\n      output: {\n        path: path.join(__dirname, 'dist'),\n        filename: '[name].bundle.js',\n        sourceMapFilename: '[name].map',\n        chunkFilename: '[id].chunk.js'\n      },\n\n      module: {\n        loaders: [\n          { test: /\\.ts$/,   loader: 'awesome-typescript-loader' },\n          { test: /\\.json$/, loader: 'json-loader' },\n          { test: /\\.html/,  loader: 'raw-loader' },\n          { test: /\\.css$/,  loader: 'to-string-loader!css-loader' },\n          { test: /\\.css$/,  loader: ExtractTextPlugin.extract('css?minimize')}\n        ]\n      },\n      plugins: [\n          new webpack.optimize.CommonsChunkPlugin({ name: ['polyfills', 'vendor', 'main'].reverse(), minChunks: Infinity }),\n          new ExtractTextPlugin('/src/stylesheet/css/zio.css')\n      ],\n\n      resolve: {\n        extensions: ['', '.ts', '.js', '.json'],\n        modulesDirectories: ['node_modules', 'src']\n      }\n    };\n</code></pre>\n\n<h2>main.ts</h2>\n\n<pre><code>require(\"./stylesheet/css/build.css\");\n\n@NgModule({\n  declarations: [\n    App,\n    Main,\n    Auth,\n    AppHeader\n  ],\n  providers,\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule,\n    routes\n  ],\n  bootstrap: [App]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>Additional information -  <a href=\"https://i.stack.imgur.com/zRPRw.png\" rel=\"nofollow noreferrer\">structure of project</a></p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 1827594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/R5hPC.jpg?s=128&g=1", "display_name": "Ali Akbar Azizi", "link": "https://stackoverflow.com/users/1827594/ali-akbar-azizi"}, "edited": false, "score": 0, "creation_date": 1557616320, "post_id": 41253684, "comment_id": 98825861, "body": "What&#39;s happen when a be nullable ?"}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "edited": false, "score": 0, "creation_date": 1557621559, "post_id": 41253684, "comment_id": 98826542, "body": "Same or similar error because type <code>{ x: number; }</code> is still not assignment-compatible with the type of array element"}, {"owner": {"reputation": 2171, "user_id": 10706046, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-f1EJuD_WTVs/AAAAAAAAAAI/AAAAAAAAAHA/DoBrKXxPHzY/photo.jpg?sz=128", "display_name": "Artur Tagisow", "link": "https://stackoverflow.com/users/10706046/artur-tagisow"}, "edited": false, "score": 4, "creation_date": 1586249616, "post_id": 41253684, "comment_id": 108052235, "body": "It&#39;s also possible to do <code>YourArray[number]</code> which I think is more general than <code>YourArray[0]</code>"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": false, "score": 60, "last_activity_date": 1482283285, "last_edit_date": 1482283285, "creation_date": 1482282693, "answer_id": 41253684, "question_id": 41253310, "link": "https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type/41253684#41253684", "title": "Typescript: Retrieve element type information from array type", "body": "<p>Since 2.1, typescript supports [ ] operator for types. The official name is <a href=\"https://github.com/Microsoft/TypeScript/wiki/What&#39;s-new-in-TypeScript#keyof-and-lookup-types\" rel=\"noreferrer\">indexed access types, also called lookup types</a>, and it works like this:</p>\n\n<pre><code>type A = {a: string, b: number} [];\n\ntype AElement = A[0];\n\nlet e: AElement = {x: 0}; //error TS2322: Type '{ x: number; }' is not \n                       //assignable to type '{ a: string; b: number; }'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4467, "user_id": 1339963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3190ef75fe35414cbb7b3d0e6eba7e?s=128&d=identicon&r=PG", "display_name": "Will Madden", "link": "https://stackoverflow.com/users/1339963/will-madden"}, "reply_to_user": {"reputation": 543, "user_id": 3391092, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/104d8801a2deddf54204e23e34b33736?s=128&d=identicon&r=PG&f=1", "display_name": "nwarp", "link": "https://stackoverflow.com/users/3391092/nwarp"}, "edited": false, "score": 6, "creation_date": 1542712232, "post_id": 51399781, "comment_id": 93658716, "body": "This implementation infers the element type from the array type, while the accepted answer infers the type of the first element in the array. I just thought it was more elegant, but since the array is guaranteed (by its type definition) to only contain elements of the same type, there&#39;s no technical advantage to using this solution."}, {"owner": {"reputation": 4195, "user_id": 1889607, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/83b034c1431548fbb011f60771ee4042?s=128&d=identicon&r=PG", "display_name": "Vahid", "link": "https://stackoverflow.com/users/1889607/vahid"}, "edited": false, "score": 5, "creation_date": 1554170879, "post_id": 51399781, "comment_id": 97643513, "body": "Typescript supports indexed based array element types such as: <code>[number,string]</code>. So this answer has some advantages as <code>ArrayElement&lt;[number,string]&gt; -&gt; number | string</code>"}, {"owner": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "edited": false, "score": 1, "creation_date": 1611524201, "post_id": 51399781, "comment_id": 116473480, "body": "this should no longer be the accepted answer, as described <a href=\"https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type#comment113940662_57447842\">here</a>"}, {"owner": {"reputation": 4467, "user_id": 1339963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3190ef75fe35414cbb7b3d0e6eba7e?s=128&d=identicon&r=PG", "display_name": "Will Madden", "link": "https://stackoverflow.com/users/1339963/will-madden"}, "reply_to_user": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "edited": false, "score": 1, "creation_date": 1611853305, "post_id": 51399781, "comment_id": 116590265, "body": "I agree with @feihcsim. My answer may have issues if the <code>--noUncheckedIndexedAccess</code> flag is enabled, whereas @jerico&#39;s answer wouldn&#39;t. That&#39;d be enough of a reason for me to choose that answer over my one, which is a little sad since <code>ArrayType[number]</code> is much easier to read, especially for beginners."}], "tags": [], "owner": {"reputation": 4467, "user_id": 1339963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3190ef75fe35414cbb7b3d0e6eba7e?s=128&d=identicon&r=PG", "display_name": "Will Madden", "link": "https://stackoverflow.com/users/1339963/will-madden"}, "is_accepted": true, "score": 63, "last_activity_date": 1613555057, "last_edit_date": 1613555057, "creation_date": 1531909995, "answer_id": 51399781, "question_id": 41253310, "link": "https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type/51399781#51399781", "title": "Typescript: Retrieve element type information from array type", "body": "<p><strong>Update: based on @jerico's answer below</strong></p>\n<p>The following type alias will return the type of the elements in an array or tuple:</p>\n<pre><code>type ArrayElement&lt;ArrayType extends readonly unknown[]&gt; = \n  ArrayType extends readonly (infer ElementType)[] ? ElementType : never;\n</code></pre>\n<p>So these examples would work:</p>\n<pre><code>type A = ArrayElement&lt;string[]&gt;; // string\ntype B = ArrayElement&lt;readonly string[]&gt;; // string\ntype C = ArrayElement&lt;[string, number]&gt;; // string | number\ntype D = ArrayElement&lt;[&quot;foo&quot;, &quot;bar&quot;]&gt;; // &quot;foo&quot; | &quot;bar&quot;\ntype E = ArrayElement&lt;(P | (Q | R))[]&gt;; // P | Q | R\n\ntype Error1 = ArrayElement&lt;{ name: string }&gt;; \n//                         ^^^^^^^^^^^^^^^^\n// Error: Type '{ name: string; }' does not satisfy the constraint 'readonly unknown[]'.\n</code></pre>\n<p><strong>Explanation</strong></p>\n<p>The type guard (the bit in the angle brackets) <code>ArrayType extends readonly unknown[]</code> says that we expect the type parameter <code>ArrayType</code> to be at least a readonly array (it also accepts a mutable array) so that we can look at its element type.</p>\n<p>This prevents passing in a non-array value, as in the final example, which prevents <code>ArrayElement</code> ever returning <code>never</code>.</p>\n<p>Note that <code>readonly unknown[]</code> is syntax added in TypeScript 3.4; for earlier versions use <code>ReadonlyArray&lt;unknown&gt;</code>.</p>\n<p>On the right-hand side, the conditional expression asks the compiler to fill in the value of <code>ElementType</code> in the pattern <code>readonly ElementType[]</code> and return <code>ElementType</code> if it can, or <code>never</code> if it can't.</p>\n<p>Since the type guard at the beginning means we will only ever be passed a value which matches this pattern, it's guaranteed always to match and never to return <code>never</code>.</p>\n<p><strong>Previous answer</strong></p>\n<pre><code>type ArrayElement&lt;ArrayType extends readonly unknown[]&gt; = ArrayType[number];\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1108, "user_id": 3942699, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bVbLj.jpg?s=128&g=1", "display_name": "feihcsim", "link": "https://stackoverflow.com/users/3942699/feihcsim"}, "edited": false, "score": 1, "creation_date": 1603155647, "post_id": 57447842, "comment_id": 113940662, "body": "this is actually the only one true &quot;correct&quot; answer. i believe it&#39;s for this reason that <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-1-beta/#no-unchecked-indexed-access\" rel=\"nofollow noreferrer\">the TypeScript team is going to be releasing a <code>--noUncheckedIndexedAccess</code> flag</a>"}, {"owner": {"reputation": 656, "user_id": 1400623, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25f9a87e67ea7db19e63802f9c4c1964?s=128&d=identicon&r=PG&f=1", "display_name": "Phu Ngo", "link": "https://stackoverflow.com/users/1400623/phu-ngo"}, "edited": false, "score": 1, "creation_date": 1603352924, "post_id": 57447842, "comment_id": 114011571, "body": "it&#39;s also the only working way for complex types such as <code>P[] | (Q | R)[]</code>"}], "tags": [], "owner": {"reputation": 1174, "user_id": 1559912, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b13feda3aee0eedf2aea3a1ba519b9c9?s=128&d=identicon&r=PG", "display_name": "jerico", "link": "https://stackoverflow.com/users/1559912/jerico"}, "is_accepted": false, "score": 36, "last_activity_date": 1565505288, "creation_date": 1565505288, "answer_id": 57447842, "question_id": 41253310, "link": "https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type/57447842#57447842", "title": "Typescript: Retrieve element type information from array type", "body": "<p>Another alternative:</p>\n\n<pre><code>type ArrayElement&lt;A&gt; = A extends readonly (infer T)[] ? T : never\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2401, "user_id": 12695027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i74ZG.png?s=128&g=1", "display_name": "Scratte", "link": "https://stackoverflow.com/users/12695027/scratte"}, "edited": false, "score": 0, "creation_date": 1617394512, "post_id": 66891276, "comment_id": 118299917, "body": "How does one use it? Can you edit your post and give an example?"}, {"owner": {"reputation": 13, "user_id": 6207689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9FtX-c6VXQk/AAAAAAAAAAI/AAAAAAAAr_s/LNdM51HaYCM/photo.jpg?sz=128", "display_name": "lbesson", "link": "https://stackoverflow.com/users/6207689/lbesson"}, "reply_to_user": {"reputation": 2401, "user_id": 12695027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i74ZG.png?s=128&g=1", "display_name": "Scratte", "link": "https://stackoverflow.com/users/12695027/scratte"}, "edited": false, "score": 1, "creation_date": 1617791973, "post_id": 66891276, "comment_id": 118403401, "body": "sure, I updated my post"}], "tags": [], "owner": {"reputation": 13, "user_id": 6207689, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9FtX-c6VXQk/AAAAAAAAAAI/AAAAAAAAr_s/LNdM51HaYCM/photo.jpg?sz=128", "display_name": "lbesson", "link": "https://stackoverflow.com/users/6207689/lbesson"}, "is_accepted": false, "score": 1, "last_activity_date": 1617791948, "last_edit_date": 1617791948, "creation_date": 1617206510, "answer_id": 66891276, "question_id": 41253310, "link": "https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type/66891276#66891276", "title": "Typescript: Retrieve element type information from array type", "body": "<p>The utility-type library has a type for that <a href=\"https://github.com/piotrwitek/utility-types#valuestypet\" rel=\"nofollow noreferrer\">https://github.com/piotrwitek/utility-types#valuestypet</a> (along with many others)</p>\n<p>For example</p>\n<pre><code>import { ValuesType } from 'utility-types';\n\ntype NumberArray = number[];\n// Expect: number\ntype NumberItems = ValuesType&lt;NumberArray&gt;;\n</code></pre>\n"}], "owner": {"reputation": 2378, "user_id": 1718488, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/st7L3.jpg?s=128&g=1", "display_name": "Ben Southgate", "link": "https://stackoverflow.com/users/1718488/ben-southgate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30926, "favorite_count": 12, "accepted_answer_id": 51399781, "answer_count": 4, "score": 54, "last_activity_date": 1617791948, "creation_date": 1482279650, "question_id": 41253310, "link": "https://stackoverflow.com/questions/41253310/typescript-retrieve-element-type-information-from-array-type", "title": "Typescript: Retrieve element type information from array type", "body": "<p>Say I have some array type <code>T[]</code>, is it possible to extract the type <code>T</code> within another alias / interface? For example my (fake) ideal code would be as follows: </p>\n\n<pre><code>// for illustration only...\n\ntype ArrayElement&lt;T[]&gt; = T;\n\n// then, ArrayElement&lt;string[]&gt; === string\n</code></pre>\n\n<p>If no, are there general type theory reasons for not allowing such an operator? If no again, I might suggest it be added.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483659369, "post_id": 41253134, "comment_id": 70199330, "body": "How are your projects compiled? This is an everyday problem here and I can share my approach."}, {"owner": {"reputation": 9619, "user_id": 561519, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e0a406ede0fed2973a15edc378e5883d?s=128&d=identicon&r=PG", "display_name": "Ben Dilts", "link": "https://stackoverflow.com/users/561519/ben-dilts"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483659436, "post_id": 41253134, "comment_id": 70199352, "body": "Just with <code>tsickle</code> (a wrapped drop-in replacement for <code>tsc</code>) on the command line, actually via a makefile."}, {"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483659508, "post_id": 41253134, "comment_id": 70199378, "body": "I mean, what is the typescript output? Compiled into single file, or each file compiled in place?"}, {"owner": {"reputation": 9619, "user_id": 561519, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e0a406ede0fed2973a15edc378e5883d?s=128&d=identicon&r=PG", "display_name": "Ben Dilts", "link": "https://stackoverflow.com/users/561519/ben-dilts"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483724267, "post_id": 41253134, "comment_id": 70228269, "body": "Each file compiled independently; tsickle just changes the packaging output to be compatibile with the Closure compiler, which we use to package it up afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483725497, "post_id": 41511089, "comment_id": 70228932, "body": "Exactly what I do, although I also use <code>gulp.watch</code> (it synergizes well with <i>Compile on save</i>), which enables files to be synced across projects almost instantly. The notable side-effect here is the lack of inter-project refactoring. E.g. if you do a global rename on an object (i.e. <code>Ctrl + R + R</code> in VS), the change does not propagate beyond the project and its replicated files (although I feel this should not be a problem with well defined APIs and loosely coupled dependencies, where the public signature is only altered occasionally, if ever)."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 23145, "user_id": 2788872, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a2616878b8bfb95d8fbb8a63ad18d729?s=128&d=identicon&r=PG&f=1", "display_name": "John Weisz", "link": "https://stackoverflow.com/users/2788872/john-weisz"}, "edited": false, "score": 0, "creation_date": 1483725695, "post_id": 41511089, "comment_id": 70229055, "body": "Right, that is a downside, but if you look at the common more like a 3rd party library then it becomes clear that there are advantages to this approach, especially in the long run. Over time the <code>common</code> lib will mature enough so that (1) it&#39;s not required to make changes, and (2) if a change is necessary it will affect too many dependent projects to make this change a simple matter."}, {"owner": {"reputation": 9619, "user_id": 561519, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e0a406ede0fed2973a15edc378e5883d?s=128&d=identicon&r=PG", "display_name": "Ben Dilts", "link": "https://stackoverflow.com/users/561519/ben-dilts"}, "edited": false, "score": 0, "creation_date": 1483976375, "post_id": 41511089, "comment_id": 70308130, "body": "I actually tried something similar, but with symlinks instead of copying files, and found out that <code>tsc</code> actually noticed that the files were really coming from outside the <code>rootDir</code> and gave an error :-("}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 1, "creation_date": 1483977422, "post_id": 41511089, "comment_id": 70308892, "body": "Then try copying the js/d.ts files to be under the <code>rootDir</code>, it works pretty well"}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 2, "last_activity_date": 1483724476, "last_edit_date": 1483724476, "creation_date": 1483724019, "answer_id": 41511089, "question_id": 41253134, "link": "https://stackoverflow.com/questions/41253134/dependencies-among-typescript-projects-within-one-repo/41511089#41511089", "title": "Dependencies among Typescript projects (within one repo)", "body": "<p>I also had to deal with a similar structure and couldn't find an ideal way to do so.<br>\nThe best I managed to come up with is having a <code>lib</code> directory in <code>project1</code> and <code>project2</code> which contains the compiled <code>common</code> alongside the definition files.</p>\n\n<p>I used gulp to build the <code>common</code> project into the different <code>projectX/lib</code> directories:</p>\n\n<pre><code>gulp.task(\"common-project1\", function () {\n    var tsProject = ts.createProject(\"common/tsconfig.json\");\n\n    return tsProject.src(\"common/**/*.ts\")\n        .pipe(tsProject())\n        .pipe(gulp.dest(\"project1/lib/common\"));\n});\n</code></pre>\n\n<p>It's not the best solution because it requires you to run this gulp task every time you change the <code>common</code> source, but I'v discovered that it doesn't happen very often once that <code>common</code> is stable enough.</p>\n"}, {"tags": [], "owner": {"reputation": 1879, "user_id": 767288, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/21o5X.jpg?s=128&g=1", "display_name": "engineforce", "link": "https://stackoverflow.com/users/767288/engineforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1483857973, "last_edit_date": 1483857973, "creation_date": 1483730193, "answer_id": 41512748, "question_id": 41253134, "link": "https://stackoverflow.com/questions/41253134/dependencies-among-typescript-projects-within-one-repo/41512748#41512748", "title": "Dependencies among Typescript projects (within one repo)", "body": "<p>You can use <code>noResolve</code> compiler option in the tsconfig.json, please refer to the <a href=\"https://www.typescriptlang.org/docs/handbook/compiler-options.html\" rel=\"nofollow noreferrer\">Compiler Options</a>.</p>\n\n<p>For example: in your project2/tsconfig.json, you can set <code>noResolve</code> to true, and specify all required paths in <code>include</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// project2/tsconfig.json\n\n{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es5\",\n        \"noResolve\": true\n    },\n    \"include\": [\n        \"../common/**/*\",\n        \"**/*\"\n    ]\n}\n</code></pre>\n\n<p>With above settings, TypeScript will warn you about the wrong import of ProjectUtil1:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// project2/ProjectUtil2.ts\n\nimport ProjectUtil1 from \"../project1/ProjectUtil1\";    // TypeScript error\nimport StringUtil from \"../common/StringUtil\";\n\nexport class ProjectUtil2 {\n\n    static formatOutput(text: string) {\n        return \"Project 2: \" + ProjectUtil1.formatOutput(text);\n    }\n}\n\nexport default ProjectUtil2;\n</code></pre>\n"}], "owner": {"reputation": 9619, "user_id": 561519, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/e0a406ede0fed2973a15edc378e5883d?s=128&d=identicon&r=PG", "display_name": "Ben Dilts", "link": "https://stackoverflow.com/users/561519/ben-dilts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 6, "answer_count": 2, "score": 14, "last_activity_date": 1483857973, "creation_date": 1482278341, "question_id": 41253134, "link": "https://stackoverflow.com/questions/41253134/dependencies-among-typescript-projects-within-one-repo", "title": "Dependencies among Typescript projects (within one repo)", "body": "<p>I have a series of Typescript projects (each an actual compilable target, with its own tsconfig.json). They are sibling directories within one code repository, like this:</p>\n\n<pre><code>myrepo\n--/common\n--/project1\n--/project2\n</code></pre>\n\n<p>In order to share code between <code>project1</code> and <code>project2</code>, I've broken some shared code out into <code>common</code>. I would like to allow <code>project1</code> and <code>project2</code> code to import classes from <code>common</code>, but not from each other (and <code>common</code> should not be able to import classes from either of the other two).</p>\n\n<p>Ideally, code in <code>project1</code> might look like this:</p>\n\n<pre><code>import {CommonClass} from 'common/commonclass';\n</code></pre>\n\n<p>I have found a way to allow the importing to work correctly, by putting this into the tsconfig.json of <code>project1</code>:</p>\n\n<pre><code>  \"baseUrl\":\".\",\n  \"paths\":{\n    \"*\":[\"*\",\"../*\"]\n  }\n</code></pre>\n\n<p>However, I have not yet found a way to limit which of the other subprojects can be the subject of an <code>import</code>. I've tried using <code>rootDirs</code>, hoping that it would restrict the allowable source files in the same way <code>rootDir</code> does, but it actually does not.</p>\n\n<p>How could I whitelist what code is importable in each of my projects? Or is there just some better way of building subprojects in Typescript that I'm not aware of?</p>\n"}, {"tags": ["angular", "typescript", "angular2-formbuilder"], "comments": [{"owner": {"reputation": 6477, "user_id": 968003, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/3l2zr.jpg?s=128&g=1", "display_name": "Alex Klaus", "link": "https://stackoverflow.com/users/968003/alex-klaus"}, "edited": false, "score": 0, "creation_date": 1559819496, "post_id": 41253031, "comment_id": 99542956, "body": "Check out a contemporary answer to a similar question: <a href=\"https://stackoverflow.com/a/56476352/968003\">stackoverflow.com/a/56476352/968003</a>"}], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "edited": false, "score": 0, "creation_date": 1482285624, "post_id": 41253708, "comment_id": 69708587, "body": "but how can we use Observable&lt;string&gt; for a &quot;name: string&quot; property of a FormControl/FormBuilder of persons currently with manually created types, as FormControl/FormBuilder are untyped? If we subscribe to them we&#39;re subscribing to a any type."}, {"owner": {"reputation": 5321, "user_id": 6717572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuWWj.jpg?s=128&g=1", "display_name": "Amit kumar", "link": "https://stackoverflow.com/users/6717572/amit-kumar"}, "reply_to_user": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "edited": false, "score": 0, "creation_date": 1482288164, "post_id": 41253708, "comment_id": 69709212, "body": "in FormBuilder  name:string change to object of type FormControl so we don&#39;t need any type for it  and   in this.form.valueChanges.subscribe((data) =&gt; console.log(&#39;Form changes&#39;, data)); we can should try either using .map() on observable or putting condition (data: person[]) in this.form.valueChanges.subscribe"}, {"owner": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "edited": false, "score": 3, "creation_date": 1482307077, "post_id": 41253708, "comment_id": 69715716, "body": "This is the lack of type safeness that originated this post."}], "tags": [], "owner": {"reputation": 5321, "user_id": 6717572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuWWj.jpg?s=128&g=1", "display_name": "Amit kumar", "link": "https://stackoverflow.com/users/6717572/amit-kumar"}, "is_accepted": false, "score": 3, "last_activity_date": 1482282919, "last_edit_date": 1495541857, "creation_date": 1482282919, "answer_id": 41253708, "question_id": 41253031, "link": "https://stackoverflow.com/questions/41253031/angular-2-formbuilder-types/41253708#41253708", "title": "Angular 2 FormBuilder types", "body": "<p>Forms in angular are of two types </p>\n\n<ol>\n<li>template driven</li>\n</ol>\n\n<p>and</p>\n\n<ol start=\"2\">\n<li>reactive forms ( that use FormGroup/FormBuilder ).</li>\n</ol>\n\n<p>According to me Reactive forms are good because of custom validation option and can create dynamic forms. these two feature make reactive form more powerfull.</p>\n\n<p>reactive form link <a href=\"https://stackoverflow.com/questions/41138925/angular2-reactive-form-confirm-equality-of-values\">Angular2 reactive form confirm equality of values</a></p>\n\n<p>and i think for observables we already use type <code>Observable &lt;person[]&gt; ;</code></p>\n\n<p>for each object we can define its interface and use in component.</p>\n\n<p>but yes using mapped Types we will get more options like readonly, proxies....</p>\n\n<p>and nodbody talking about mapped types is because its in TypeScript 2.1 but for our angular app we are using <code>\"typescript\": \"~2.0.10\"</code> for keeping our app stable. </p>\n\n<p><strong>Mapped Types</strong></p>\n\n<p>One common task is to take an existing type and make each of its properties entirely optional. Let's say we have a `Person:</p>\n\n<pre><code>interface Person {\n    name: string;\n    age: number;\n    location: string;\n}\n</code></pre>\n\n<p>A partial version of it would be:</p>\n\n<pre><code>interface PartialPerson {\n    name?: string;\n    age?: number;\n    location?: string;\n}\n</code></pre>\n\n<p>with Mapped types, PartialPerson can be written as a generalized transformation on the type Person as:</p>\n\n<pre><code>type Partial&lt;T&gt; = {\n    [P in keyof T]?: T[P];\n};\n\ntype PartialPerson = Partial&lt;Person&gt;;\n</code></pre>\n\n<p>Mapped types are produced by taking a union of literal types, and computing a set of properties for a new object type. They're like list comprehensions in Python, but instead of producing new elements in a list, they produce new properties in a type.</p>\n\n<p>In addition to Partial, Mapped Types can express many useful transformations on types:</p>\n\n<pre><code>// Keep types the same, but make each property to be read-only.\n\n    type Readonly&lt;T&gt; = {\n        readonly [P in keyof T]: T[P];\n    };\n\n// Same property names, but make the value a promise instead of a concrete one\n\n    type Deferred&lt;T&gt; = {\n        [P in keyof T]: Promise&lt;T[P]&gt;;\n    };\n\n// Wrap proxies around properties of T\n\n    type Proxify&lt;T&gt; = {\n        [P in keyof T]: { get(): T[P]; set(v: T[P]): void }\n    };\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 550496, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/0c625b9f4b1a2e5fbf53ec87f30e8bd0?s=128&d=identicon&r=PG", "display_name": "Adriano dos Santos Fernandes", "link": "https://stackoverflow.com/users/550496/adriano-dos-santos-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2385, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1509937144, "creation_date": 1482277672, "last_edit_date": 1509937144, "question_id": 41253031, "link": "https://stackoverflow.com/questions/41253031/angular-2-formbuilder-types", "title": "Angular 2 FormBuilder types", "body": "<p>Learning Angular 2, I first saw ngModel, and now saw FormGroup/FormBuilder which would be better to make complex forms. But I noted that with FormBuilder we lose all the static type power given by TypeScript.</p>\n\n<p>All observables and the main object are typed as any. Is there something that could be done to avoid that?</p>\n\n<p>In relation to that, I saw that TypeScript 2.1 has \"mapped types\" which in my opinion would be something good to transform a standard interface in a interface of observables without lose the properties types, but I see nobody talking about this for Angular.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "is_accepted": true, "score": 3, "last_activity_date": 1482276759, "creation_date": 1482276759, "answer_id": 41252896, "question_id": 41252549, "link": "https://stackoverflow.com/questions/41252549/component-stylesheets-effect-other-components/41252896#41252896", "title": "Component stylesheets effect other components", "body": "<p>You should use encapsulation: ViewEncapsulation.Emulated for your login and generally any component that you don't want it's css to bleed out.</p>\n\n<p>And if you don't specify the encapsulation , the default is Emulated.</p>\n"}], "owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 41252896, "answer_count": 1, "score": 0, "last_activity_date": 1482276759, "creation_date": 1482274796, "question_id": 41252549, "link": "https://stackoverflow.com/questions/41252549/component-stylesheets-effect-other-components", "title": "Component stylesheets effect other components", "body": "<p>I have login page specific stylesheets so I include them in login.component.ts,\nand added all common css files in root index(\"index.html\") with tradational way.\nMy issue is after user logged in system I expect to app.component ccs file go in action and take control of body but background color still remains as it was in login..</p>\n\n<p><strong>When I refresh the page(page reload) its gone</strong> but main purpose of using angular2 is being no need of refresh its single page app so how can I handle it..</p>\n\n<p>here is my login.component.ts</p>\n\n<pre><code>import { Component,HostBinding,ViewEncapsulation } from '@angular/core';\nimport {Auth} from '../auth/auth.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: [\n  '../../assets/css/colors/cyan.css',// this is the css file used only for login page\n  '../../assets/css/login-page/form.css',\n  ],\n  encapsulation: ViewEncapsulation.None, \n})\nexport class LoginComponent {\n\n  @HostBinding('class') siteNavbarSmallClass = 'login-form login-form-second page-login-second';\n  constructor(private auth:Auth){}\n}\n\n\napp.component.ts\n\nimport { Component,HostBinding, ViewEncapsulation } from '@angular/core';\nimport {Auth} from './auth/auth.service';\n\n@Component({\n  selector: 'body',\n  templateUrl: './app.component.html',\n  styleUrls: [\n  'assets/css/global/slidePanel.min.css',\n  'assets/css/colors/default.css',// this is the css file I want to use for others.\n  ],\n  encapsulation: ViewEncapsulation.None, \n})\nexport class AppComponent {\n  @HostBinding('class') siteNavbarSmallClass = 'dashboard site-navbar-small';\n  constructor(private auth:Auth){\n  }\n}\n</code></pre>\n\n<p>EDITED:\nI think these screenshots make it more clear, css attributes for body element still exist after logged in this is why css properties coming by app.component hidden..</p>\n\n<p>LOGIN page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YZdkG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YZdkG.png\" alt=\"enter image description here\"></a></p>\n\n<p>after logged in:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I6csB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6csB.png\" alt=\"enter image description here\"></a></p>\n\n<p>and after reload(what I expected):</p>\n\n<p><a href=\"https://i.stack.imgur.com/JSjxm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JSjxm.png\" alt=\"enter image description here\"></a></p>\n\n<p>so how can I prevent login component css properties effect other components(app.component, I am searching about \"ViewEncapsulation\" stuff but still think need help)</p>\n"}, {"tags": ["typescript", "typescript-typings", "definitelytyped"], "answers": [{"comments": [{"owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "edited": false, "score": 0, "creation_date": 1482281332, "post_id": 41252749, "comment_id": 69707616, "body": "What is the typings.d.ts file, is this obsolete since by default typescript will look at particular folders based on what is said in the tsconfig.json?"}, {"owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "reply_to_user": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "edited": false, "score": 0, "creation_date": 1482282924, "post_id": 41252749, "comment_id": 69707998, "body": "@user3547774 I can&#39;t promise that it&#39;s obsolete, but I haven&#39;t had to use typings.d.ts since TypeScript 2.0, so it probably is."}, {"owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "edited": false, "score": 0, "creation_date": 1591020284, "post_id": 41252749, "comment_id": 109890668, "body": "Check the typescript official <i>modules resolution</i> documentation. At this time, it extends the node module resolution algorithm just a bit by including the file you set in package.json =&gt; &quot;types&quot;: &quot;dist/index.d.ts&quot; option (and this is just an example)."}], "tags": [], "owner": {"reputation": 6745, "user_id": 152796, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ffffd204ecbbae82a04f5b574d76746b?s=128&d=identicon&r=PG", "display_name": "thedayturns", "link": "https://stackoverflow.com/users/152796/thedayturns"}, "is_accepted": true, "score": 5, "last_activity_date": 1482275957, "creation_date": 1482275957, "answer_id": 41252749, "question_id": 41252454, "link": "https://stackoverflow.com/questions/41252454/typescript-typings-whats-the-typings-folder/41252749#41252749", "title": "typescript typings, whats the typings folder", "body": "<ol>\n<li>When you install typings with <code>npm install @types/my-favorite-library</code>, they are inserted by default into the @types/ folder. This is the default place for TypeScript to search for definition files.</li>\n<li>Yep, so long as you have <code>\"moduleResolution\": \"node\",</code> in your tsconfig.json file. This is the default value unless you have your \"module\" set to \"amd\", \"System\" or \"ES2015\". </li>\n</ol>\n"}], "owner": {"reputation": 1381, "user_id": 3547774, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/ca64cc4c8c5bba3b2dc72ebba0cefc98?s=128&d=identicon&r=PG&f=1", "display_name": "user3547774", "link": "https://stackoverflow.com/users/3547774/user3547774"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5250, "favorite_count": 0, "accepted_answer_id": 41252749, "answer_count": 1, "score": 7, "last_activity_date": 1482275957, "creation_date": 1482274193, "question_id": 41252454, "link": "https://stackoverflow.com/questions/41252454/typescript-typings-whats-the-typings-folder", "title": "typescript typings, whats the typings folder", "body": "<p>I am trying to wrap my head around typings and have the following questions</p>\n\n<ol>\n<li>What is the typings folder that you find under the node_modules root folder of the project.  Is this the default place tsc looks for .d.ts files and how do I use them in the source files.</li>\n<li>Some of the node_modules contains the .d.ts files in them.  Does tsc look in here by default again?</li>\n</ol>\n"}, {"tags": ["javascript", "jquery", "angular", "typescript"], "comments": [{"owner": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482291602, "post_id": 41252421, "comment_id": 69709975, "body": "Angular is intended to be used for single-page applications. So &#39;Multiple HTML&#39; approach along with PHP is actually misleading you. You need to pick one of them."}, {"owner": {"reputation": 687, "user_id": 1362858, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/9353370b4e12ab9e66df775e3e13cf78?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1362858/patrick"}, "reply_to_user": {"reputation": 4080, "user_id": 3547482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93615ed584db10b4cc59daa1437b7e1?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Leonov", "link": "https://stackoverflow.com/users/3547482/alexander-leonov"}, "edited": false, "score": 0, "creation_date": 1482577943, "post_id": 41252421, "comment_id": 69828721, "body": "It mostly works so why I should not do it like this way. Yes of course Angular is single page... But I only need to do have components which are not bootstrapped directly. A simple if elements.length &gt; 0 will be enough."}], "owner": {"reputation": 687, "user_id": 1362858, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/9353370b4e12ab9e66df775e3e13cf78?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1362858/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482274697, "creation_date": 1482273999, "last_edit_date": 1482274697, "question_id": 41252421, "link": "https://stackoverflow.com/questions/41252421/normal-website-body-as-angular-2-componentwithout-replacing-them", "title": "Normal website body as Angular 2 Componentwithout replacing them", "body": "<p>I want to make my website modern with some cool features.\nFor this I used jQuery and self made things. But that's slow and everything I developed is easier in Angular.</p>\n\n<p>So I started to implement the Angular 2 code into my normal website.\nThe things (app.component, main.ts, app.module) work. I have the angular functionality on my page.</p>\n\n<p>That's the first try.</p>\n\n<p>Now I found out that I can't use second and third components (this ones which are not in bootstrap array) not within the selector.\nSo the bootstrapped component is the root-element for everything I think.</p>\n\n<p>The next step was to replace the whole body as a component.\nFor example with angular 1 it was easy: <code>ng-controller=\"app\"</code> and finish.\nI can do this with <code>&lt;body&gt;</code> and everything.</p>\n\n<p>Now with Angular 2 I must define a template for the component. else I get this error <code>Uncaught Error: No template specified for component AppComponent</code></p>\n\n<p>So the questions are...</p>\n\n<ol>\n<li>Is it possible to use the  as selector for the app so that I can use components within the app without bootstrapping them?</li>\n<li>Or is there a way to use the components flexible?</li>\n</ol>\n\n<p>The main reason is:\n<strong>I want to define components globally which must not exist on each page. So I can have a component which is called <code>test-component</code> which is only used on test.html and a <code>about-component</code> which is only used on about.html</strong></p>\n\n<p>You understand?</p>\n\n<p>Currently the problem is that I get this error: <code>app.js:116448EXCEPTION: Error in :0:0 caused by: The selector \"my-app\" did not match any elements</code> and <code>ORIGINAL EXCEPTION: The selector \"my-app\" did not match any elements</code></p>\n\n<p>If I define them both it works. But if one component is missing then I get this error.</p>\n\n<p>Current scripts:</p>\n\n<p><strong>main.ts</strong></p>\n\n<pre><code>import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule }              from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n</code></pre>\n\n<p><strong>app.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport {Http} from \"@angular/http\";\n\n@Component({\n    selector: 'my-app',\n    template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt; &lt;a (click)=\"test()\"&gt;:)&lt;/a&gt;`\n})\nexport class AppComponent {\n    constructor (private http: Http) {}\n    name = 'Angular';\n    test() {\n        alert('Yay');\n        return this.http.get('/asd/aaa/test').subscribe((a) =&gt; {\n            console.log('A', a);\n        }, (b) =&gt; {\n            console.log('B', b);\n        });\n    }\n}\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import {NgModule}      from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {AppComponent}  from './app.component';\nimport {JsonpModule, HttpModule} from \"@angular/http\";\nimport {FormsModule} from \"@angular/forms\";\nimport {TestComponent} from \"./test.component\";\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        JsonpModule\n    ],\n    declarations: [\n        AppComponent,\n        TestComponent\n    ],\n    bootstrap: [\n        AppComponent,\n        // TestComponent // this shouldnt be a bootstrap because else the component MUST exist on the page!\n    ]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p><strong>test.component.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport {Http} from \"@angular/http\";\n\n@Component({\n    selector: 'test-app',\n    template: `&lt;h1&gt;Hello {{name}}&lt;/h1&gt; &lt;a (click)=\"test()\"&gt;:)&lt;/a&gt;`\n})\nexport class TestComponent {\n    constructor (private http: Http) {}\n    name = 'Angular !!!!!!!!!!!!';\n    test() {\n        alert('yyyyy');\n        return this.http.get('/asd/aaa/test').subscribe((a) =&gt; {\n            console.log('A', a);\n        }, (b) =&gt; {\n            console.log('B', b);\n        });\n    }\n}\n</code></pre>\n\n<p>As I said if I want to use the body as root element it replaces everything of the body. And this is not for my use case.</p>\n\n<p>It's only a normal website. Multiple HTML (background = PHP) pages.</p>\n\n<p>I could implement this <code>platformBrowserDynamic().bootstrapModule(AppModule);</code> on each page where I need something. Then I could write a module for each page. I think this could solve the problem, too. But it's bad... Having a lot of modules...</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "angular2-services", "angular2-di"], "comments": [{"owner": {"reputation": 4463, "user_id": 1769887, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YDowu.jpg?s=128&g=1", "display_name": "MikeDub", "link": "https://stackoverflow.com/users/1769887/mikedub"}, "edited": false, "score": 0, "creation_date": 1482273344, "post_id": 41252262, "comment_id": 69705308, "body": "If MyService is in the same module, I think it should be declared in the declarations as well, if it is in a seperate module, it should be in the imports array, have you tried that?"}, {"owner": {"reputation": 13, "user_id": 2072027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c5f907a1bb61329cba4b84fe6da33?s=128&d=identicon&r=PG", "display_name": "user2072027", "link": "https://stackoverflow.com/users/2072027/user2072027"}, "reply_to_user": {"reputation": 4463, "user_id": 1769887, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YDowu.jpg?s=128&g=1", "display_name": "MikeDub", "link": "https://stackoverflow.com/users/1769887/mikedub"}, "edited": false, "score": 0, "creation_date": 1482273863, "post_id": 41252262, "comment_id": 69705488, "body": "Tried adding MyService to the NgModule declarations array in the plunker and it produced the following Error: (SystemJS) Error: Unexpected value &#39;MyService&#39; declared by the module &#39;AppModule&#39;"}, {"owner": {"reputation": 4463, "user_id": 1769887, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YDowu.jpg?s=128&g=1", "display_name": "MikeDub", "link": "https://stackoverflow.com/users/1769887/mikedub"}, "edited": false, "score": 0, "creation_date": 1482274197, "post_id": 41252262, "comment_id": 69705589, "body": "Sorry scrap that, it&#39;s only applicable for components.  However, try adding providers: [MyService] in the AppComponent metadata under the selector / template."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2072027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c5f907a1bb61329cba4b84fe6da33?s=128&d=identicon&r=PG", "display_name": "user2072027", "link": "https://stackoverflow.com/users/2072027/user2072027"}, "edited": false, "score": 0, "creation_date": 1482300416, "post_id": 41252538, "comment_id": 69712609, "body": "WOW that did the trick! The tutorials never mention such a thing that the order in which classes are declared matters. Plus the error message is somewhat misleading - making you look into if you declared or provided the dependency right etc... anyway, thanks for the help!"}], "tags": [], "owner": {"reputation": 13770, "user_id": 218277, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/4fe7fa589daf9e5d90b6f97c9c8f2d8e?s=128&d=identicon&r=PG&f=1", "display_name": "Harry Ninh", "link": "https://stackoverflow.com/users/218277/harry-ninh"}, "is_accepted": true, "score": 1, "last_activity_date": 1482274710, "creation_date": 1482274710, "answer_id": 41252538, "question_id": 41252262, "link": "https://stackoverflow.com/questions/41252262/angular-2-dependency-injection-cant-resolve-all-parameters-no-dep-chain-no-b/41252538#41252538", "title": "Angular 2 Dependency Injection: Can&#39;t resolve all parameters (no dep chain, no barrel)", "body": "<p>If you are putting multiple classes in one file (I'm sure this is for testing only), the order of the files must be in check. Say your <code>AppComponent</code> is referencing your <code>MyService</code>, so the definition of <code>MyService</code> must be put on top of <code>AppComponent</code>. Hence, your code must look something like this:</p>\n\n<pre><code>import { Component, ReflectiveInjector, Injectable, Inject } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\n@Injectable()\nexport class MyService {\n    constructor() {}\n\n    getValue(): string {\n        return 'a value';\n    }\n}\n\n@Component({\n    selector: 'app-root',\n    template: `\n    &lt;button (click)=\"invokeService()\"&gt;Get Value&lt;/button&gt;\n    `\n})\nexport class AppComponent {\n    // private myService: MyService;\n\n    constructor(public myService: MyService) {\n        // let injector: any = ReflectiveInjector.resolveAndCreate([MyService]);\n        // this.myService = injector.get(MyService);\n        // console.log('Same instance? ', this.myService === injector.get(MyService));\n    }\n\n    invokeService() {\n        console.log(this.myService.getValue());\n    }\n}\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [MyService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 2072027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/181c5f907a1bb61329cba4b84fe6da33?s=128&d=identicon&r=PG", "display_name": "user2072027", "link": "https://stackoverflow.com/users/2072027/user2072027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1660, "favorite_count": 0, "accepted_answer_id": 41252538, "answer_count": 1, "score": 0, "last_activity_date": 1482274710, "creation_date": 1482273061, "question_id": 41252262, "link": "https://stackoverflow.com/questions/41252262/angular-2-dependency-injection-cant-resolve-all-parameters-no-dep-chain-no-b", "title": "Angular 2 Dependency Injection: Can&#39;t resolve all parameters (no dep chain, no barrel)", "body": "<p>I've been trying to follow one example in the ng-book 2 and ran into difficulties in the DI chapter. </p>\n\n<pre><code>@Component({\n    selector: 'app-root',\n    template: `\n        &lt;button (click)=\"invokeService()\"&gt;Get Value&lt;/button&gt;\n    `\n})\nexport class AppComponent {\n    constructor(public myService: MyService) {}\n\n    invokeService() {\n        console.log(this.myService.getValue());\n    }\n}\n@Injectable()\nexport class MyService {\n    getValue(): string {\n        return 'a value';\n    }\n}\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [MyService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>here's a plunker <a href=\"https://plnkr.co/edit/KSXE9tnRj4tffiISyp0i\" rel=\"nofollow noreferrer\">https://plnkr.co/edit/KSXE9tnRj4tffiISyp0i</a> it totally works when creating the ReflectiveInjector manually, but when i try to take the easy way and declare it in providers on the NgModule it fails giving me \"Can't resolve all dependencies for AppComponent\". I checked the other answers and as you see there are no circular deps or barrel-related problems - it's all in one file. Any hints would appreciated!</p>\n"}, {"tags": ["angular", "typescript", "rxjs5", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 2503, "user_id": 1010664, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/96adf9a826b9d98a2faf793443dbfbf4?s=128&d=identicon&r=PG", "display_name": "Sergey Sokolov", "link": "https://stackoverflow.com/users/1010664/sergey-sokolov"}, "is_accepted": true, "score": 3, "last_activity_date": 1482306814, "creation_date": 1482306814, "answer_id": 41257729, "question_id": 41251908, "link": "https://stackoverflow.com/questions/41251908/configure-an-observable-to-return-all-previous-values-as-an-array-when-a-new-val/41257729#41257729", "title": "Configure an Observable to return all previous values as an array when a new value is pushed?", "body": "<p>Try to use <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#instance-method-scan\" rel=\"nofollow noreferrer\">scan</a> operator:</p>\n\n<pre><code>this.logs$ = this.logs.asObservable()\n        ...\n        .merge(this.$loggerService.applicationLog$.map((x) =&gt; {                    \n            //return an array with one object { timestamp, message }\n            return [{ timestamp: new Date(parseFloat(x[0])), message: x[1] }];\n        }))\n        .scan((acc, x) =&gt; {\n            acc.push(...x);\n            return acc;\n        }, []);\n</code></pre>\n"}], "owner": {"reputation": 5706, "user_id": 158958, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4bc1afd5b05d56f17c098fac6499125d?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/158958/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 41257729, "answer_count": 1, "score": 3, "last_activity_date": 1482306814, "creation_date": 1482271047, "question_id": 41251908, "link": "https://stackoverflow.com/questions/41251908/configure-an-observable-to-return-all-previous-values-as-an-array-when-a-new-val", "title": "Configure an Observable to return all previous values as an array when a new value is pushed?", "body": "<p>Having a hard time with this. I'm new to working with RxJs Observables so I need some guidance.</p>\n\n<p>I'm trying to build an Observable logging stream that does two things.</p>\n\n<ol>\n<li>Whenever a new line/value is written to the log file, push that new value to the stream.</li>\n<li>Begin pre-populated with values from the log file.</li>\n</ol>\n\n<p>I've accomplished both of the above criteria. The challenge is now using it with an *ngFor. </p>\n\n<p>*ngFor requires an array from an Observable so it can do comparison to add/remove (my best guess). But my observable returns only an array of the last item pushed through. </p>\n\n<pre><code>//logviewer.page.ts constructor()\nthis.logs = Subject.create();\nthis.logs$ = this.logs.asObservable()\n            .startWith(\"logs\\\\error.log\")\n            .flatMap((fileName: string) =&gt; {\n                //start by reading the existing log files as a string\n                return this.$localStorageService.readAsStringAsync(fileName);\n            })\n            .map((contents: string) =&gt; {\n                //this part splits up the log file line-by-line into an log entry\n                let logs = contents.split(/\\r\\n|\\r|\\n/).filter(n =&gt; n.length &gt; 0);\n                logs.forEach((s, ix, parent) =&gt; {\n                    let x = JSON.parse(s);\n                    parent[ix] = { timestamp: new Date(parseFloat(x[0])), message: x[1] };\n                })\n                return logs; //an array of objects { timestamp, message }\n            })\n            //merge the existing application log stream\n            //throughout the application we log errors, info, etc\n            //if a new entry is made it will appear here\n            .merge(this.$loggerService.applicationLog$.map((x) =&gt; {                    \n                //return an array with one object { timestamp, message }\n                return [{ timestamp: new Date(parseFloat(x[0])), message: x[1] }];\n            }))\n</code></pre>\n\n<p>Now my template is very simple, for now.</p>\n\n<pre><code>//logviewer.template.ts\n&lt;div *ngFor=\"let entry of logs$ | async\"&gt;\n    {{entry|json}}\n&lt;/div&gt;\n</code></pre>\n\n<p>Now to test it, I have a button to add an entry</p>\n\n<pre><code>//logviewer.page.ts\naddEntry() {\n    this.$loggerService.error(\"this is a test\");\n}\n\n//LoggerService.service.ts\nprivate applicationLog: ReplaySubject&lt;any[]&gt;;\nget applicationLog$(): Observable&lt;any[]&gt; {\n    return this.applicationLog.asObservable();\n}\n\nerror(...args) {\n    let data = [Date.now().toString()].concat(args.map&lt;string&gt;((n, ix) =&gt; { return toString(n); }));\n\n    // ... write to file\n\n    // fire the subject\n    this.applicationLog.next(data);\n}\n</code></pre>\n\n<p>Now when I click <code>addEntry</code>, the plumbing all works, and the value is fired through the observable sequence correctly. But my *ngFor only updates with a single value. It doesn't keep the history of all the previous log entries. Just the last array returned, which makes sense.</p>\n\n<p>How do I make my observable sequence always return an array of all values. I can make it return one entry at a time, but I need to full history to satisfy *ngFor</p>\n\n<p>I had a lack of understanding of *ngFor and the async pipe. I thought that it subscribe to the observable, and automatically add any new entries to the ngFor, but this isn't the case.</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 5255, "user_id": 5335917, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2o3AAbwjmSM/AAAAAAAAAAI/AAAAAAAAAiE/vV2V2BeApvk/photo.jpg?sz=128", "display_name": "Yaser", "link": "https://stackoverflow.com/users/5335917/yaser"}, "is_accepted": true, "score": 0, "last_activity_date": 1482270698, "creation_date": 1482270698, "answer_id": 41251819, "question_id": 41251649, "link": "https://stackoverflow.com/questions/41251649/use-input-parameter-in-form/41251819#41251819", "title": "Use input parameter in form", "body": "<p>You need to use two way binding if you want to bind the user attributes to the form inputs and also want to submit the changed user info elsewhere on save:</p>\n\n<pre><code>&lt;input type=\"text\"  class=\"form-control\" id=\"name\" required\n   [(ngModel)]=\"selectedUser.name\" name=\"name\"&gt;\n</code></pre>\n\n<p>This way if anyone changes the name input when you access your <code>selectedUser</code> in <code>onSave()</code> method you will have the updated info.</p>\n\n<p>You can put as much validation as you want like the <code>required</code> which is used in there.</p>\n\n<p>For more info on forms take a look at <a href=\"https://angular.io/docs/ts/latest/guide/forms.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 12785, "user_id": 6606630, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/79IkN.jpg?s=128&g=1", "display_name": "Sandip - Full Stack Developer", "link": "https://stackoverflow.com/users/6606630/sandip-full-stack-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1482297158, "creation_date": 1482297158, "answer_id": 41255549, "question_id": 41251649, "link": "https://stackoverflow.com/questions/41251649/use-input-parameter-in-form/41255549#41255549", "title": "Use input parameter in form", "body": "<p>You can bind one-way and tow-way binding both in form asbelow:</p>\n\n<ul>\n<li>Form which pass parameter to other form:</li>\n</ul>\n\n<p><strong>One-Way Binding:</strong></p>\n\n<pre><code>&lt;widget [myName]=\"model.Name\"&gt;&lt;/widget&gt;\n</code></pre>\n\n<p><strong>Two-Way Binding:</strong></p>\n\n<pre><code>&lt;widget [(myName)]=\"model.Name\"&gt;&lt;/widget&gt;\n</code></pre>\n\n<ul>\n<li><p>Form which accept input parameter:</p>\n\n<p><code>import {Input} from \"@angular/core\";\n@Component({\n  selector: 'widget',\n  templateUrl:'content/Widget.html'\n})<br>\nexport class Widget {\n   @Input() myName: string= \"\";\n}</code></p></li>\n</ul>\n"}], "owner": {"reputation": 923, "user_id": 3719857, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/140412fa2ff4ab7166dc444376ef531d?s=128&d=identicon&r=PG&f=1", "display_name": "user3719857", "link": "https://stackoverflow.com/users/3719857/user3719857"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 41251819, "answer_count": 2, "score": 0, "last_activity_date": 1482297158, "creation_date": 1482269853, "last_edit_date": 1482270078, "question_id": 41251649, "link": "https://stackoverflow.com/questions/41251649/use-input-parameter-in-form", "title": "Use input parameter in form", "body": "<p>I have a dialog in which I have a form. To the form component I pass an object of type <code>User</code>. I want to use that object in the fields of the form. Meaning that when the form is opened (this happens after a click in which we also pass the object) the fields of the form will be populated with the values from the object. Also when I first construct the form component I make an ajax call to get some <code>Role</code> objects and use them to construct a dropdown select. I want the selected option of that dropdown to be the passed user's object role.</p>\n\n<pre><code>@Component({\n  inputs: ['selectedUser'],\n  outputs: ['editedUser'],\n  selector: 'user-form',\n  templateurl: 'user.form.themplate.html'\n})\nexport class UserForm {\n\n// user object has login , firstName, lastName, email and role properties\nselectedUser: User;    \nroles: Role[];    \ncontrolForm: FormGroup;\neditedUser: EventEmitter&lt;User&gt;\n\nloginControl: AbstractControl;\nfirstNameControl: AbstractControl;\nlastNameControl: AbstractControl;\nroleControl: AbstractControl;\nemailControl: AbstractControl;\n\nconstructor(fb: FormBuilder) {\n   this.controlForm = fb.group({\n      'loginControl': ['', Validators.required],\n      'firstNameControl': ['', Validators.required],\n      'lastNameControl': ['', Validators.required],\n      'roleControl': ['', Validators.required],\n      'emailControl': ['', Validators.compose(Validators.required, \n                                          MailValidator.validateMail]});\n\n   this.loginControl= this.myForm.controls['loginControl'];\n   this.firstNameControl= this.myForm.controls['firstNameControl'];\n   this.lastNameControl= this.myForm.controls['lastNameControl'];\n   this.emailControl= this.myForm.controls['emailControl'];\n   this.roleControl= this.myForm.controls['roleControl'];\n\n    // somehow fill this.roles with Role object\n });\n\n onSave() :void {\n    // or get the object from controlForm.value\n    // and send that one\n    this.editedUser.emit(this.selectedUser);\n }\n}\n</code></pre>\n\n<hr>\n\n<pre><code> &lt;form [formGroup]=\"controlForm\"&gt;\n &lt;div class=\"field\"&gt;\n   &lt;input type=\"text\"\n      [formControl]=\"loginContol\"&gt;\n &lt;/div&gt;\n &lt;div class=\"field\"&gt;\n   &lt;input type=\"text\"\n      [formControl]=\"firstNameControl\"&gt;\n &lt;/div&gt;\n &lt;div class=\"field\"&gt;\n   &lt;input type=\"text\"\n      [formControl]=\"lastNameContol\"&gt;\n &lt;/div&gt;\n &lt;div class=\"field\"&gt;\n   &lt;input type=\"text\"\n      [formControl]=\"emailContol\"&gt;\n &lt;/div&gt;\n\n&lt;select [formControl]=\"roleContol\"&gt;\n  &lt;option *ngFor=\"let r of roles\"\n      [selected] = \"some expression to select the role from the selectedUser object\"\n   &gt;{{r.name}}&lt;/option&gt;\n&lt;/select&gt;\n &lt;button type=\"save\" [disabled]=\"!controlForm.valid\" (click)=\"onSave()\"&gt;Save&lt;/button&gt;\n &lt;/form&gt;\n</code></pre>\n\n<p>What I want is when the form is showed all its fields to be populated with the data from the <code>selectedUser</code> object, this includes the role from the dropdown if the user has a role. After that when the <code>save</code> button is clicked I wan't to use the data that was in the form (only some fileds may have been changed) and send that data in the form of a <code>User</code> object to the event emitter. I saw that you can use <code>ngModel</code> and <code>ngForm</code> instead, but that doesn't seem the better aproach to me and also I don't know how the validators assignment works there.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 3711864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef6905ce501c174581e28b7fefd76c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3711864", "link": "https://stackoverflow.com/users/3711864/user3711864"}, "edited": false, "score": 1, "creation_date": 1482344434, "post_id": 41252607, "comment_id": 69739638, "body": "Neat trick! I would not have come up with this myself. It looks a bit hackish but it benefits our application by removing long declarations with 2 lines. It&#39;s a shame that it is not possible to use an expression after the typeof (something like typeof(ExtractReturnType(toast)) which would have been more readable than the variable declaration followed by the typeof."}, {"owner": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 1, "creation_date": 1484774229, "post_id": 41252607, "comment_id": 70653649, "body": "This won&#39;t work if <code>strictNullChecks</code> is turned on. There&#39;s going to be an error at <code>return null</code>."}, {"owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "reply_to_user": {"reputation": 127411, "user_id": 1906307, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kRxnP.jpg?s=128&g=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/1906307/louis"}, "edited": false, "score": 3, "creation_date": 1484775542, "post_id": 41252607, "comment_id": 70654310, "body": "@Louis fixed, thanks. This is one of rare cases when you&#39;ve got to use non-null assertion operator with <code>null</code>."}, {"owner": {"reputation": 322, "user_id": 2128308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IQdBt.jpg?s=128&g=1", "display_name": "ohsully", "link": "https://stackoverflow.com/users/2128308/ohsully"}, "edited": false, "score": 3, "creation_date": 1573838042, "post_id": 41252607, "comment_id": 104030693, "body": "Heads up to current users, the generic <code>ReturnType</code> is now built into the language!  Very convenient."}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 15, "last_activity_date": 1517812281, "last_edit_date": 1517812281, "creation_date": 1482275113, "answer_id": 41252607, "question_id": 41251531, "link": "https://stackoverflow.com/questions/41251531/export-return-type-of-function-in-typescript/41252607#41252607", "title": "Export return type of function in Typescript", "body": "<p>Yes it's possible. The trick is to have some value somewhere which is declared with the type you need (return type of <code>toast()</code>), without actually calling <code>toast()</code>. You can do that by introducing another function that returns a value of appropriate type (the actual value is null), then creating a variable and assigning it the value returned by that function, then getting <code>typeof</code> of that. </p>\n\n<p>I could not find a way without adding unused variable, but since the variable is initialized by <code>null</code> that's immediately returned from the function, I suppose that runtime overhead is negligible. Here is the code:</p>\n\n<pre><code>function toast() {\n  return {\n    a: \"a\",\n    b: \"b\"\n  }\n}\n\nfunction getReturnType&lt;R&gt; (f: (...args: any[]) =&gt; R): {returnType: R} {\n    return null!;\n}\n\n// dummy variable, used for retrieving toast return type only\nlet toastType = getReturnType(toast);\n\nexport type ToastReturnType = typeof toastType.returnType;\n</code></pre>\n\n<p><strong>UPDATE Feb 2018</strong></p>\n\n<p>In the upcoming 2.8 release, there are <a href=\"https://github.com/Microsoft/TypeScript/pull/21496\" rel=\"noreferrer\">some new language features</a> that make it possible without involving dummy variables and functions.</p>\n\n<p>This example compiles with typescript@next:</p>\n\n<pre><code>export function z() {\n    return {a: 1, b: '2'}\n}\n\nexport function v() {\n}\n\ntype ReturnType&lt;T extends (...args: any[]) =&gt; any&gt; = \n    T extends (...args: any[]) =&gt; infer R ? R : never;\n\nexport type RZ = ReturnType&lt;typeof z&gt;; // { a: number; b: string; }\nexport type RV = ReturnType&lt;typeof v&gt;; // void\n</code></pre>\n"}], "owner": {"reputation": 329, "user_id": 3711864, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fef6905ce501c174581e28b7fefd76c5?s=128&d=identicon&r=PG&f=1", "display_name": "user3711864", "link": "https://stackoverflow.com/users/3711864/user3711864"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3929, "favorite_count": 2, "accepted_answer_id": 41252607, "answer_count": 1, "score": 11, "last_activity_date": 1517812281, "creation_date": 1482269275, "question_id": 41251531, "link": "https://stackoverflow.com/questions/41251531/export-return-type-of-function-in-typescript", "title": "Export return type of function in Typescript", "body": "<p>I have a function that builds an object, like this:</p>\n\n<pre><code>function toast() {\n  return {\n    a: \"a\",\n    b: \"b\"\n  }\n}\n</code></pre>\n\n<p>I can define the type of the function as</p>\n\n<pre><code>type ToastFunctionType = typeof toast\n</code></pre>\n\n<p>This type would be</p>\n\n<pre><code>() =&gt; { a: string; b: string; }\n</code></pre>\n\n<p>However, I only want the type of the return value. Is it possible to extract the type of the return value of toast? In my use case, the actual values of the objects are using pretty verbose generic type arguments. Type inference gets them just right and I would like to avoid maintaining a very verbose interface (that I need to export).</p>\n\n<p>What I want in the case of toast is just</p>\n\n<pre><code>{ a: string; b: string; }\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "rxjs", "observable", "primitive-types"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1482267615, "post_id": 41251106, "comment_id": 69702792, "body": "Strings are immutable though."}, {"owner": {"reputation": 574, "user_id": 3328883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AL44U.jpg?s=128&g=1", "display_name": "ntaso", "link": "https://stackoverflow.com/users/3328883/ntaso"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1482267983, "post_id": 41251106, "comment_id": 69702999, "body": "Valid point. So RxJS doesn&#39;t take that into account?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1482269979, "post_id": 41251106, "comment_id": 69703877, "body": "Well in your sample code, there&#39;s the primitive string <i>value</i> <code>&quot;Hello World&quot;</code>, and then there&#39;s the <i>variable</i> <code>s</code>.  It seems like you want to have the variable be the thing you observe, and not so much the string value (which is good because the string value is not going to change)."}, {"owner": {"reputation": 574, "user_id": 3328883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AL44U.jpg?s=128&g=1", "display_name": "ntaso", "link": "https://stackoverflow.com/users/3328883/ntaso"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1482307215, "post_id": 41251106, "comment_id": 69715787, "body": "That&#39;s right. I meant the variable s, not the string."}], "answers": [{"comments": [{"owner": {"reputation": 574, "user_id": 3328883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AL44U.jpg?s=128&g=1", "display_name": "ntaso", "link": "https://stackoverflow.com/users/3328883/ntaso"}, "edited": false, "score": 0, "creation_date": 1482307051, "post_id": 41252913, "comment_id": 69715705, "body": "Thanks for the explanation. Just to be clear: RxJS doesn&#39;t have anything to do with the deprecated vanilla JS <code>Object.observe()</code> method and nothing with, say, observables in Knockout or Angular 2?! I guess I thought of RxJS as a replacement for these more traditional observers. After all, RxJS called itself the <i>Lodash for Observables</i>, although they removed that from the website apparently."}], "tags": [], "owner": {"reputation": 16833, "user_id": 2521865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r86Ji.jpg?s=128&g=1", "display_name": "paulpdaniels", "link": "https://stackoverflow.com/users/2521865/paulpdaniels"}, "is_accepted": true, "score": 5, "last_activity_date": 1482276865, "creation_date": 1482276865, "answer_id": 41252913, "question_id": 41251106, "link": "https://stackoverflow.com/questions/41251106/rxjs-how-to-wrap-and-observe-string-for-changes/41252913#41252913", "title": "RxJS: How to wrap and observe string for changes?", "body": "<p>You are thinking about streams incorrectly. The whole point of the stream is that you should <em>not</em> be mutating objects directly (strings can't actually be mutated as @Pointy already mentioned but this is a more general point).</p>\n\n<p>You need to shift your thinking to seeing data as immutable and the stream as representing the change which your react to in the subscriber.</p>\n\n<p>In your example, if you wanted to \"mutate\" a string, what you are really trying to do is capture a set of changes and surface them through the <code>next</code> handler of the <code>subscribe</code> method. Where those changes come from is irrelevant from the string's perspective, it only cares that events are being passed through it.</p>\n\n<p>i.e. I could do the following to emit different strings:</p>\n\n<pre><code>Rx.Observable.timer(1000)\n  .mapTo('Wat')\n  .startWith('Hello World!')\n  .subscribe(x =&gt; console.log(x));\n</code></pre>\n\n<p>What you need to determine is what the source of your changes is and what events it should emit. From there Rx can help you massage that data into something that you can use downstream.</p>\n"}, {"comments": [{"owner": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 0, "creation_date": 1590768728, "post_id": 44138820, "comment_id": 109815759, "body": "Your <code>this.stringVariable$</code> has to be a member variable ? Could it be a local variable and passed in as an argument to a method that would do the <code>subjectParam$.next()</code> call ?"}, {"owner": {"reputation": 1844, "user_id": 3598286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qLmYv.jpg?s=128&g=1", "display_name": "Giridhar Karnik", "link": "https://stackoverflow.com/users/3598286/giridhar-karnik"}, "reply_to_user": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 1, "creation_date": 1590843635, "post_id": 44138820, "comment_id": 109837305, "body": "it need not be a member variable."}], "tags": [], "owner": {"reputation": 1844, "user_id": 3598286, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qLmYv.jpg?s=128&g=1", "display_name": "Giridhar Karnik", "link": "https://stackoverflow.com/users/3598286/giridhar-karnik"}, "is_accepted": false, "score": 5, "last_activity_date": 1495552574, "creation_date": 1495552574, "answer_id": 44138820, "question_id": 41251106, "link": "https://stackoverflow.com/questions/41251106/rxjs-how-to-wrap-and-observe-string-for-changes/44138820#44138820", "title": "RxJS: How to wrap and observe string for changes?", "body": "<p>I do realize that this question has an accepted answer but here is the proper way to observer a string for changes using RxJS.</p>\n\n<p>Create a variable for type <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/replaysubject.md\" rel=\"noreferrer\">ReplaySubject</a></p>\n\n<pre><code>stringVariable$: ReplaySubject&lt;String&gt; = new ReplaySubject&lt;String&gt;();\n</code></pre>\n\n<p>Assign all new values to <code>stringVariable</code> via a function to catch the update event.</p>\n\n<pre><code>assignNewValue(newValue: String) {\n    this.stringVariable$.next(newValue);\n}\n</code></pre>\n\n<p>Subscribe to this Observable</p>\n\n<pre><code>stringVariable$.subscribe((newValue: String) =&gt; {\n    console.log(newValue);\n});\n</code></pre>\n\n<p>Alternatively you can use a <a href=\"https://github.com/Reactive-Extensions/RxJS/blob/master/doc/api/subjects/behaviorsubject.md\" rel=\"noreferrer\">BehaviourSubject</a> if your string variable has a initial value to start with.</p>\n"}], "owner": {"reputation": 574, "user_id": 3328883, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/AL44U.jpg?s=128&g=1", "display_name": "ntaso", "link": "https://stackoverflow.com/users/3328883/ntaso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4389, "favorite_count": 1, "accepted_answer_id": 41252913, "answer_count": 2, "score": 7, "last_activity_date": 1495552574, "creation_date": 1482267324, "question_id": 41251106, "link": "https://stackoverflow.com/questions/41251106/rxjs-how-to-wrap-and-observe-string-for-changes", "title": "RxJS: How to wrap and observe string for changes?", "body": "<p>RxJS: How do you wrap a primitive type such as a <em>string</em> in an <em>Observable</em> and <strong>listen to changes to that primitive</strong>?</p>\n\n<p>Consider the following example. <code>setTimeout</code> simulates some external event that changes the string <code>s</code>. However, the <code>console.log</code> only fires once and not after <code>setTimeout</code> is called. Why is that?</p>\n\n<pre><code>let s = \"Hello World\";\nObservable.of(s).subscribe(val =&gt; {\n    console.log(val);\n});\n// some external event changes variable s\nsetTimeout( () =&gt; {\n    s = \"Wat?\";\n}, 1000);\n// Output: prints \"Hello World\" to console, but not \"Wat?\"\n</code></pre>\n\n<p>This question might sound a bit dumb, but I searched for 2 hours through all kinds of RxJS docs and examples and most of them play with Arrays or Objects. This is not what I want. I don't want to change attributes, functions, arrays or anything like that. Just a plain string or boolean or number.</p>\n"}, {"tags": ["angular", "typescript", "visual-studio-code"], "comments": [{"owner": {"reputation": 1045, "user_id": 2133048, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8995f666bbd7bd3830864732bde25762?s=128&d=identicon&r=PG", "display_name": "deek", "link": "https://stackoverflow.com/users/2133048/deek"}, "edited": false, "score": 0, "creation_date": 1482268647, "post_id": 41251101, "comment_id": 69703307, "body": "Is the reference path set in index.d.ts in the typings folder?  Should have a bunch of lines like this:  /// &lt;reference path=&quot;globals/es6-shim/index.d.ts&quot; /&gt;"}, {"owner": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "reply_to_user": {"reputation": 1045, "user_id": 2133048, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8995f666bbd7bd3830864732bde25762?s=128&d=identicon&r=PG", "display_name": "deek", "link": "https://stackoverflow.com/users/2133048/deek"}, "edited": false, "score": 0, "creation_date": 1482269222, "post_id": 41251101, "comment_id": 69703552, "body": "@deek please view my edit. This drives me crazy, please help!"}], "answers": [{"comments": [{"owner": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "edited": false, "score": 1, "creation_date": 1482269457, "post_id": 41251517, "comment_id": 69703660, "body": "When I specify just &quot;md5&quot; it gives error: <code>Module &#39;&quot;&lt;path&gt;&#47;node_modules&#47;@types&#47;md5&#47;index&quot;&#39; resolves to a non-module entity  and cannot be imported using this construct.</code>"}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "reply_to_user": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "edited": false, "score": 0, "creation_date": 1482269555, "post_id": 41251517, "comment_id": 69703709, "body": "@Titan What is <code>&lt;path&gt;</code>? Did you configure your TS to to use node as the module resolution?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "edited": false, "score": 0, "creation_date": 1482269811, "post_id": 41251517, "comment_id": 69703814, "body": "Check my revised answer"}, {"owner": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "edited": false, "score": 0, "creation_date": 1482270810, "post_id": 41251517, "comment_id": 69704254, "body": "When I use <code>import md5 = require(&quot;md5&quot;);</code> syntax, I get this error: <code>Import assignment cannot be used when targeting ECMAScript 2015 modules.</code>"}, {"owner": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "edited": false, "score": 0, "creation_date": 1484563157, "post_id": 41251517, "comment_id": 70546183, "body": "Well I ended up using a different module specifically coded for TS, and importing it like this: <code>import { Md5 } from &#39;ts-md5&#47;dist&#47;md5&#39;</code>. But I&#39;m accepting your answer for any future readers."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": true, "score": 2, "last_activity_date": 1482271320, "last_edit_date": 1482271320, "creation_date": 1482269207, "answer_id": 41251517, "question_id": 41251101, "link": "https://stackoverflow.com/questions/41251101/import-from-installed-types/41251517#41251517", "title": "Import from installed @types?", "body": "<p>You don't need to specify the path inside the <code>node_modules</code>, it should be:</p>\n\n<pre><code>import * as md5 from \"md5\";\n</code></pre>\n\n<p>The compiler will look for the actual module in the <code>node_modules</code>, and will look for the definition files in <code>node_modules/@types</code>.</p>\n\n<p>There's a long doc page about it: <a href=\"https://www.typescriptlang.org/docs/handbook/module-resolution.html\" rel=\"nofollow noreferrer\">Module Resolution</a></p>\n\n<hr>\n\n<h3>Edit</h3>\n\n<p>That's because of how the <code>md5</code> module is exporting, as it does this:</p>\n\n<pre><code>declare function main(message: string | Buffer): string;\nexport = main;\n</code></pre>\n\n<p>This case is <a href=\"https://www.typescriptlang.org/docs/handbook/modules.html#export--and-import--require\" rel=\"nofollow noreferrer\">covered in the docs</a>:</p>\n\n<blockquote>\n  <p>The export = syntax specifies a single object that is exported from\n  the module. This can be a class, interface, namespace, function, or\n  enum.</p>\n  \n  <p>When importing a module using export =, TypeScript-specific import let\n  = require(\"module\") must be used to import the module.</p>\n</blockquote>\n\n<p>In your case it should be:</p>\n\n<pre><code>import md5 = require(\"md5\");\n</code></pre>\n\n<hr>\n\n<h3>2nd edit</h3>\n\n<p>If you're targetting <code>es6</code> then you need to do:</p>\n\n<pre><code>const md5 = require(\"md5\");\n</code></pre>\n\n<p>(or <code>let</code> or <code>var</code> of course).</p>\n"}], "owner": {"reputation": 2112, "user_id": 4866988, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4qbbY.jpg?s=128&g=1", "display_name": "Titan", "link": "https://stackoverflow.com/users/4866988/titan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "accepted_answer_id": 41251517, "answer_count": 1, "score": 1, "last_activity_date": 1482272600, "creation_date": 1482267303, "last_edit_date": 1482272600, "question_id": 41251101, "link": "https://stackoverflow.com/questions/41251101/import-from-installed-types", "title": "Import from installed @types?", "body": "<p>I've installed <code>md5</code> (also tried <code>blueimp-md5</code>) package with corresponding typings like this:</p>\n\n<p><code>nmp install --save md5 @types/md5</code></p>\n\n<p><code>nmp install --save blueimp-md5 @types/blueimp-md5</code></p>\n\n<p>When I try to import it like this:</p>\n\n<p><code>import { md5 } from '../../../node_modules/md5'</code></p>\n\n<p>I get an error: <code>Module &lt;path&gt; was resolved to &lt;path&gt;/md5.js, but '--allowJs' is not set.</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/G2nrg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G2nrg.png\" alt=\"Error in VS Code\"></a></p>\n\n<p>This makes me think that installed <code>@types/md5</code> typings are simply not discovered.\nIn tsconfig.json I have:</p>\n\n<pre><code>\"typeRoots\": [\n  \"../node_modules/@types\"\n]\n</code></pre>\n\n<p>So I think it should be detecting typings from <code>node_modules/@types</code> folder automatically, but it apparently does not. Exactly same thing with <code>blueimp-md5</code> package. The <code>md5</code> folder exists in <code>node_modules/@types</code> folder, so it has everything in place but still doesn't work.</p>\n\n<p>Visual Studio Code, TypeScript 2, Angular 2 project.</p>\n\n<p><strong>What am I doing wrong?</strong></p>\n\n<p>Edit: this is content of @types/md5/index.d.ts file:</p>\n\n<pre><code>/// &lt;reference types=\"node\" /&gt;\n\ndeclare function main(message: string | Buffer): string;\nexport = main;\n</code></pre>\n"}, {"tags": ["reactjs", "typescript", "react-jsx", "tsx"], "answers": [{"tags": [], "owner": {"reputation": 3336, "user_id": 2077250, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Tsgff.jpg?s=128&g=1", "display_name": "taylorc93", "link": "https://stackoverflow.com/users/2077250/taylorc93"}, "is_accepted": false, "score": 0, "last_activity_date": 1482267344, "creation_date": 1482267344, "answer_id": 41251110, "question_id": 41251020, "link": "https://stackoverflow.com/questions/41251020/how-to-use-mixins-with-typescript-and-react-jsx-tsx/41251110#41251110", "title": "How to use mixins with Typescript and React JSX (TSX)", "body": "<p>Unfortunately, React has officially moved away from the mixin pattern: <a href=\"https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html\" rel=\"nofollow noreferrer\">https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html</a>.  You can still use them if you're not using ES6 style react components.  However, if you really need it, you could use this library: <a href=\"https://github.com/brigand/react-mixin\" rel=\"nofollow noreferrer\">https://github.com/brigand/react-mixin</a></p>\n"}, {"tags": [], "owner": {"reputation": 637, "user_id": 2770500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de48bedaeda1bc08b3802152fe1776?s=128&d=identicon&r=PG", "display_name": "Stefan Yohansson", "link": "https://stackoverflow.com/users/2770500/stefan-yohansson"}, "is_accepted": false, "score": 1, "last_activity_date": 1482267666, "last_edit_date": 1482267666, "creation_date": 1482267346, "answer_id": 41251111, "question_id": 41251020, "link": "https://stackoverflow.com/questions/41251020/how-to-use-mixins-with-typescript-and-react-jsx-tsx/41251111#41251111", "title": "How to use mixins with Typescript and React JSX (TSX)", "body": "<p>I don't know if you know about mixins current state... so:\n<a href=\"https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html\" rel=\"nofollow noreferrer\">https://facebook.github.io/react/blog/2016/07/13/mixins-considered-harmful.html</a></p>\n\n<p>Consider update to React v15.4.0 and use High-order Components.</p>\n\n<p><strong>You've Been Warned</strong></p>\n\n<p>by the way, if you really need it. Install this mixin: <code>npm install react-addons-linked-state-mixin</code> and do something like this to accomplish what you want:</p>\n\n<pre><code>// choose one way :P\nimport LinkedStateMixin from 'react-addons-linked-state-mixin' // ES6\nvar LinkedStateMixin = require('react-addons-linked-state-mixin') // ES5 with npm\nvar LinkedStateMixin = React.addons.LinkedStateMixin; // ES5 with react-with-addons.js\n\n\nvar WithLink = React.createClass({\n  mixins: [LinkedStateMixin],\n  getInitialState: function() {\n    return {message: 'Hello!'};\n  },\n  render: function() {\n    return &lt;input type=\"text\" valueLink={this.linkState('message')} /&gt;;\n  }\n});\n</code></pre>\n\n<p><a href=\"https://facebook.github.io/react/docs/two-way-binding-helpers.html#linkedstatemixin-before-and-after\" rel=\"nofollow noreferrer\">https://facebook.github.io/react/docs/two-way-binding-helpers.html#linkedstatemixin-before-and-after</a></p>\n"}], "owner": {"reputation": 1056, "user_id": 797252, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/22f9641432c12889f25996c7e04bb34d?s=128&d=identicon&r=PG", "display_name": "cangosta", "link": "https://stackoverflow.com/users/797252/cangosta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1763, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1482267666, "creation_date": 1482266997, "question_id": 41251020, "link": "https://stackoverflow.com/questions/41251020/how-to-use-mixins-with-typescript-and-react-jsx-tsx", "title": "How to use mixins with Typescript and React JSX (TSX)", "body": "<p>I have a React component written in Typescript 2.0.6 + JSX (TSX) that needs to make use of the LinkedStateMixin. How do I include the mixin in my class definition? I have searched the official documentation without success. Is there a way to include a mixin in my component class?</p>\n\n<p>Note: I'm using ReactJS v0.14.6</p>\n"}, {"tags": ["angular", "typescript", "router"], "comments": [{"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 0, "creation_date": 1482265378, "post_id": 41250632, "comment_id": 69701602, "body": "You can put data you need in a service/store/event emitter from routed component and use it in your app component from there, for example"}, {"owner": {"reputation": 179, "user_id": 2379692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/311d7f8ac4cf7e03c35d61b159159526?s=128&d=identicon&r=PG", "display_name": "ZaksBack", "link": "https://stackoverflow.com/users/2379692/zaksback"}, "reply_to_user": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 0, "creation_date": 1482266404, "post_id": 41250632, "comment_id": 69702141, "body": "@Sasxa Then I have to add that to every component that needs to update the breadcrumb (12 pages) which is a lot of repetitive code and not a good solution."}, {"owner": {"reputation": 36624, "user_id": 1876949, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f9db9f1682b280cc87f52553bba0c75b?s=128&d=identicon&r=PG", "display_name": "Sasxa", "link": "https://stackoverflow.com/users/1876949/sasxa"}, "edited": false, "score": 0, "creation_date": 1482266670, "post_id": 41250632, "comment_id": 69702280, "body": "You can make base component that does this and extend it in your page components. Works quite well in Angular 2.3+"}, {"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "edited": false, "score": 0, "creation_date": 1497540310, "post_id": 41250632, "comment_id": 76131524, "body": "@ZaksBack would injecting your component with a Router instead, and subscribing to <code>router.events</code> be better for you?"}], "owner": {"reputation": 179, "user_id": 2379692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/311d7f8ac4cf7e03c35d61b159159526?s=128&d=identicon&r=PG", "display_name": "ZaksBack", "link": "https://stackoverflow.com/users/2379692/zaksback"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1519650411, "creation_date": 1482265214, "question_id": 41250632, "link": "https://stackoverflow.com/questions/41250632/angular2-activatedroute-in-root-component", "title": "Angular2 ActivatedRoute In Root Component", "body": "<p>My root component has a breadcrumb. The breadcrumb needs three things from the ActivatedRoute: path, params and data. This should be strait forward and in fact it works without a hitch when inside the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> as soon as I move it outside of the outlet into the root component (Because every page will have it) The ActivatedRoute no longer triggers the observers.</p>\n\n<p>Does any one know how to either use the ActivatedRoute outside of the outlet or know of an alternative to access the path, params and data of the route?</p>\n"}, {"tags": ["javascript", "angularjs", "asynchronous", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 2293177, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/23da812b7c128b36543d65c8ca02953b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2293177/chris"}, "edited": false, "score": 0, "creation_date": 1482261396, "post_id": 41249489, "comment_id": 69699520, "body": "Utlizing .then((response) =&gt; this.studyTermsConditionsService.getTermsConditions(response&zwnj;&#8203;)) fixed the issue! Thank you! What exactly is occurring here that fixes the problem? By adding (response) =&gt; function(response) am I essentially telling angular to not process the next function until the response is fulfilled?"}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 413, "user_id": 2293177, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/23da812b7c128b36543d65c8ca02953b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2293177/chris"}, "edited": false, "score": 0, "creation_date": 1482261624, "post_id": 41249489, "comment_id": 69699645, "body": "@Wikster2014 no.. Its nothing related to angular, Its about ES6, by having <code>Arrow</code> function you are making sure that, <code>this</code> will be the current controller <code>this</code>(context) while executing function. Earlier <code>this</code> was lost while executing callback function.."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "reply_to_user": {"reputation": 413, "user_id": 2293177, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/23da812b7c128b36543d65c8ca02953b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2293177/chris"}, "edited": false, "score": 0, "creation_date": 1482261652, "post_id": 41249489, "comment_id": 69699668, "body": "@Wikster2014 have you tried other suggestion? That should also work"}, {"owner": {"reputation": 413, "user_id": 2293177, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/23da812b7c128b36543d65c8ca02953b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2293177/chris"}, "edited": false, "score": 0, "creation_date": 1482261986, "post_id": 41249489, "comment_id": 69699830, "body": "I tried adding arrow functions to the methods as recommended in your second suggestion, but it caused errors, and made my methods unreachable. Not sure as to why, but the error says, &quot;Unreachable code detected. Cannot find (functionName)&quot; But your first suggestion worked perfectly!"}], "tags": [], "owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "is_accepted": true, "score": 2, "last_activity_date": 1482260684, "creation_date": 1482260684, "answer_id": 41249489, "question_id": 41249195, "link": "https://stackoverflow.com/questions/41249195/passing-a-promise-from-one-service-call-to-another-in-angular/41249489#41249489", "title": "Passing a Promise from one Service Call To Another in Angular", "body": "<p>I guess you are messed up with <code>this</code>. As you directly pass the function reference as parameter it lost with the context. You should call them explicitly like below.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>this.newTemplate.copyId = 0;\nthis.newTemplate.id = 0;\nthis.newTemplate.isLibrary = true;\nthis.newTemplate.studyFacilityScheduleId = this.studyFacilityScheduleId;\nthis.studyTermsConditionsService.saveTcTemplate((response) =&gt; this.newTemplate(response))\n    .then((response) =&gt; this.studyTermsConditionsService.getTermsConditions(response))\n    .then((response) =&gt; this.setTemplateData(response));\n</code></pre>\n\n<hr>\n\n<p>Otherwise you could make your <code>function</code> to use of <code>arrow function</code> which would help to available <code>this</code> context inside function.</p>\n\n<pre><code>saveTcTemplate(item: ITermsConditionsTemplate): ng.IPromise&lt;number&gt; { .. }\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>saveTcTemplate = (item: ITermsConditionsTemplate): ng.IPromise&lt;number&gt; =&gt; { .. }\n</code></pre>\n\n<p>And</p>\n\n<pre><code>getTermsConditions(id: number): ng.IPromise&lt;ITermsConditionsTemplate&gt; { .. }\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>getTermsConditions = (id: number): ng.IPromise&lt;ITermsConditionsTemplate&gt; =&gt; { .. }\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 2293177, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/23da812b7c128b36543d65c8ca02953b?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/2293177/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "accepted_answer_id": 41249489, "answer_count": 1, "score": 2, "last_activity_date": 1482260684, "creation_date": 1482259473, "question_id": 41249195, "link": "https://stackoverflow.com/questions/41249195/passing-a-promise-from-one-service-call-to-another-in-angular", "title": "Passing a Promise from one Service Call To Another in Angular", "body": "<p>So I've got a service call going out to the back end and saving an object, the call has a promise set up to return a number. </p>\n\n<p>That call looks like this</p>\n\n<pre><code>    saveTcTemplate(item: ITermsConditionsTemplate): ng.IPromise&lt;number&gt; {\n        item.modifiedDate = new Date();\n        return this.$http.post(this.api + '/SaveTcTemplate', item)\n            .then(this.returnData); \n    }\n\n    returnData = (response: any) =&gt; {\n        return response.data;\n    };\n</code></pre>\n\n<p>This is when creating a new object, all the fields are set to their needed values, passed to save in, then called to be displayed.</p>\n\n<p>This is the get function used to pull the object after it's been saved.</p>\n\n<pre><code>    getTermsConditions(id: number): ng.IPromise&lt;ITermsConditionsTemplate&gt; {\n        return this.$http.get(this.api + '/GetTermsConditions',\n            {\n                params: {\n                    id: id\n                }\n            }).then(this.returnData);\n    }\n</code></pre>\n\n<p>This is the initial construction, saving, and getting, of the object</p>\n\n<pre><code>                this.newTemplate.copyId = 0;\n                this.newTemplate.id = 0;\n                this.newTemplate.isLibrary = true;\n                this.newTemplate.studyFacilityScheduleId = this.studyFacilityScheduleId;\n                this.studyTermsConditionsService.saveTcTemplate(this.newTemplate)\n                    .then(this.studyTermsConditionsService.getTermsConditions)\n                    .then(this.setTemplateData);\n</code></pre>\n\n<p>When set up like this I can successfully save a new item, and have its id (the ng.IPromise part) returned to me, and passed into my Get service call.</p>\n\n<p>The problem is, when set up this way, this.$http.get comes back undefined. From what I think I understand from other stack overflow issues that are similar, it is happening because I called the function without explicitly passing anything into it's parameter when I say</p>\n\n<pre><code>.then(this.studyTermsConditionsService.getTermsConditions)\n</code></pre>\n\n<p>To test this I also set up the save and get like this</p>\n\n<pre><code>                var data: any;\n                data = this.studyTermsConditionsService.saveTcTemplate(this.newTemplate);\n                this.studyTermsConditionsService.getTermsConditions(data)\n                    .then(this.setTemplateData);\n</code></pre>\n\n<p>And that worked, sort of. $http.Get was recognized, and could be used, but the problem with this setup was; due to the asynchronous nature of ng.IPromise the data isn't being sent to my Get function as the promised number value. It's being sent as type $$promise which results in the parameter in my get function being NaN.</p>\n\n<p>So one way I'm passing a usable value, i.e. 32, but I'm not explicitly passing this value, so $http.get is undefined.</p>\n\n<p>The other way, I am explicitly passing a parameter, so $http.get is recognized, and usable, but the explicitly called parameter is of type $$promise, not type number, It seems, unfortunately, the ng.IPromise&lt; number > is not resolved by time I call my Get function.</p>\n\n<p>How do I proceed from here??</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1119, "user_id": 2846450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKbVY.jpg?s=128&g=1", "display_name": "Devansh", "link": "https://stackoverflow.com/users/2846450/devansh"}, "edited": false, "score": 0, "creation_date": 1482259760, "post_id": 41249161, "comment_id": 69698646, "body": "Can you share @Component decorator of your components..."}], "answers": [{"comments": [{"owner": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 0, "creation_date": 1591094999, "post_id": 41249285, "comment_id": 109919056, "body": "Can you explain what did you do here? Is this a new component with a selector &#39;body&#39;? or did you change the AppComponent to be the body?? Please add some additional explanations. I want to make this code valid: <code>&lt;body [ngClass]=&quot;...&quot;&gt;</code> how does you answer make this work?"}, {"owner": {"reputation": 1119, "user_id": 2846450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKbVY.jpg?s=128&g=1", "display_name": "Devansh", "link": "https://stackoverflow.com/users/2846450/devansh"}, "reply_to_user": {"reputation": 5568, "user_id": 2658683, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Pa1qO.jpg?s=128&g=1", "display_name": "Gil Epshtain", "link": "https://stackoverflow.com/users/2658683/gil-epshtain"}, "edited": false, "score": 0, "creation_date": 1591117961, "post_id": 41249285, "comment_id": 109932108, "body": "@GilEpshtain As it was written 4-years ego, I was learning Angular2. What I remember it that changes the selector to <code>body</code> of <code>AppComponent</code> and <code>&lt;body [ngClass]=&quot;...&quot;&gt;</code> this will add your class to the <code>body</code> element. Thanks for your concern I also wanted that valid code should be their."}], "tags": [], "owner": {"reputation": 1119, "user_id": 2846450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKbVY.jpg?s=128&g=1", "display_name": "Devansh", "link": "https://stackoverflow.com/users/2846450/devansh"}, "is_accepted": false, "score": 5, "last_activity_date": 1482259885, "creation_date": 1482259885, "answer_id": 41249285, "question_id": 41249161, "link": "https://stackoverflow.com/questions/41249161/how-to-change-class-of-body-in-angular2typescript-project/41249285#41249285", "title": "how to change class of body in angular2&amp;typescript project", "body": "<p>One way is to use make the <code>&lt;body&gt;</code> tag the app element by using <code>body</code> as selector and use host-binding to update the app elements classes.</p>\n\n\n\n<pre class=\"lang-ts prettyprint-override\"><code>@Component({\n   selector: 'body',\n   host:     {'[class.someClass]':'someField'}\n})\nexport class AppComponent implements AfterViewInit {\n  someField: bool = false;\n  // alternatively to the host parameter in `@Component`\n  // @HostBinding('class.someClass') someField: bool = false;\n\n  ngAfterViewInit() {\n    someField = true; // set class `someClass` on `&lt;body&gt;`\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "edited": false, "score": 0, "creation_date": 1482262625, "post_id": 41249296, "comment_id": 69700155, "body": "Hi, can you eloborate your answer? I edited post regarding to your answer"}, {"owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "edited": false, "score": 0, "creation_date": 1482262781, "post_id": 41249296, "comment_id": 69700235, "body": "how can I add class with have multiple values it throws exceptions when I try this document.body.classList.add(&#39;login-form login-form-second&#39;);"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "reply_to_user": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "edited": false, "score": 0, "creation_date": 1482265004, "post_id": 41249296, "comment_id": 69701416, "body": "<code>add(&#39;login-form&#39;, &#39;login-form-second&#39;);</code> <a href=\"https://developer.mozilla.org/en/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">developer.mozilla.org/en/docs/Web/API/Element/classList</a>"}, {"owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "edited": false, "score": 1, "creation_date": 1482268846, "post_id": 41249296, "comment_id": 69703391, "body": "@HostBinding(&#39;class&#39;) siteNavbarSmallClass = &#39;my-login-class&#39;; works perfect thanks!"}], "tags": [], "owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "is_accepted": true, "score": 7, "last_activity_date": 1482259935, "creation_date": 1482259935, "answer_id": 41249296, "question_id": 41249161, "link": "https://stackoverflow.com/questions/41249161/how-to-change-class-of-body-in-angular2typescript-project/41249296#41249296", "title": "how to change class of body in angular2&amp;typescript project", "body": "<p>Bindings outside <code>&lt;app-root&gt;</code> are not supported. </p>\n\n<p>What you can do is to use <code>selector: 'body'</code> in you <code>AppComponent</code> and</p>\n\n<pre><code>@HostBinding('class.dashboard')\ndashboardClass = false;\n\n@HostBinding('class.site-navbar-small')\nsiteNavbarSmallClass = false;\n\n...\n</code></pre>\n\n<p>and then set the properties to <code>true</code> to get the classes added.</p>\n\n<p>or just </p>\n\n<pre><code>document.body.classList.add('dashboard');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17054, "user_id": 1210071, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4c43752049a61b677819432a8444a20d?s=128&d=identicon&r=PG", "display_name": "Adrian Ber", "link": "https://stackoverflow.com/users/1210071/adrian-ber"}, "is_accepted": false, "score": 1, "last_activity_date": 1553084077, "creation_date": 1553084077, "answer_id": 55260549, "question_id": 41249161, "link": "https://stackoverflow.com/questions/41249161/how-to-change-class-of-body-in-angular2typescript-project/55260549#55260549", "title": "how to change class of body in angular2&amp;typescript project", "body": "<p>You can also use <a href=\"https://angular.io/api/core/Renderer2\" rel=\"nofollow noreferrer\">Renderer2</a> to modify the body class.</p>\n\n<pre><code>renderer.addClass(document.body, \"myClass\"); \n</code></pre>\n\n<p>or </p>\n\n<pre><code>renderer.removeClass(document.body, \"myClass\"); \n</code></pre>\n"}], "owner": {"reputation": 3960, "user_id": 2959783, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545d34855fbece473e6df31c29b22c43?s=128&d=identicon&r=PG&f=1", "display_name": "TyForHelpDude", "link": "https://stackoverflow.com/users/2959783/tyforhelpdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4459, "favorite_count": 0, "accepted_answer_id": 41249296, "answer_count": 3, "score": 5, "last_activity_date": 1553084077, "creation_date": 1482259278, "last_edit_date": 1482262596, "question_id": 41249161, "link": "https://stackoverflow.com/questions/41249161/how-to-change-class-of-body-in-angular2typescript-project", "title": "how to change class of body in angular2&amp;typescript project", "body": "<p>I have diffirent classes for login page and other pages in application so after user logged in I need to change class of body element. Here how I am trying to accomplish this.. </p>\n\n<p>index.html</p>\n\n<pre><code>&lt;body [ngClass]=\"{\n  'dashboard site-navbar-small' :isAuthenticated,\n  'login-form login-form-second page-login-second' :!isAuthenticated\n}\"&gt;\n  &lt;app-root&gt;Loading...&lt;/app-root&gt;\n</code></pre>\n\n<p>login.component.ts</p>\n\n<pre><code>export class LoginComponent {\n  @HostBinding('class.login-form.login-form-second.page-login-second')\n  siteNavbarSmallClass = false;\n  constructor(private auth:Auth){\n    this.siteNavbarSmallClass=this.auth.authenticated();\n  }\n}\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code> export class AppComponent {\n  @HostBinding('class.dashboard.site-navbar-small')\n  dashboardClass = false;\n  constructor(private auth:Auth){\n      this.dashboardClass=this.auth.authenticated();\n  }\n}\n</code></pre>\n\n<p>I am trying to bind ngClass directive to isAuthenticated field.. but I doesnt affected.  I heard we are not able to change body element via ts, how can I handle it with anyway ? </p>\n"}, {"tags": ["angular", "typescript", "firebase", "rxjs", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 4983899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/484f408730ebbd555500b66a44e6f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/4983899/nilo"}, "edited": false, "score": 0, "creation_date": 1482259743, "post_id": 41249043, "comment_id": 69698636, "body": "Thanks, this helped me very much. My view now enumerates the messages, yet I still can not bind to properties of a message in my template without getting the former &quot;getView failed&quot;-exception. Any ideas on that?"}, {"owner": {"reputation": 330, "user_id": 4983899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/484f408730ebbd555500b66a44e6f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/4983899/nilo"}, "edited": false, "score": 0, "creation_date": 1482271378, "post_id": 41249043, "comment_id": 69704536, "body": "Fixed it like Nick Iliev suggested"}], "tags": [], "owner": {"reputation": 15213, "user_id": 1518765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YUfY8.jpg?s=128&g=1", "display_name": "olsn", "link": "https://stackoverflow.com/users/1518765/olsn"}, "is_accepted": true, "score": 2, "last_activity_date": 1482258753, "creation_date": 1482258753, "answer_id": 41249043, "question_id": 41248588, "link": "https://stackoverflow.com/questions/41248588/display-messages-from-firebase-asynchronously-in-nativescript-listview/41249043#41249043", "title": "Display messages from Firebase asynchronously in NativeScript ListView", "body": "<p>Your firebase-connector is running outside the angular-zone, maybe wrapping your next-call in an <code>ngZone.run</code> helps:</p>\n\n<pre><code>import { Component, OnInit, EventEmitter, NgZone } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport * as firebase from \"nativescript-plugin-firebase\";\nimport { Message } from \"./shared/message.model\";\n@Component({\n    selector: \"my-app\",\n    templateUrl: \"app.component.html\"\n})\nexport class AppComponent implements OnInit {\n    public messages: Observable&lt;Array&lt;Message&gt;&gt;;\n\n    constructor(private ngZone: NgZone) {}\n\n    ngOnInit() {\n        this.init()\n            .then(() =&gt; this.login())\n            .then(() =&gt; this.getMessages());\n    }\n\n   // ... implementations for init() and login(), also post()-method\n\n    getMessages = () =&gt; {\n        let msgs = [];\n        // initialize with asynchronous behaviour\n        let emitter = new EventEmitter(true);\n        this.messages = emitter;\n        // shows messages getting added to array\n        this.messages.subscribe((a) =&gt; console.log(JSON.stringify(a)));\n\n        firebase.addChildEventListener((result) =&gt; {\n            this.ngZone.run(() =&gt; {\n                msgs.push(new Message(result.value.text, result.value.timestamp));\n                emitter.next(msgs);\n            });\n        }, \"/messages\");\n    }\n}\n</code></pre>\n\n<p>Also this might help: <a href=\"https://github.com/NathanWalker/angular-seed-advanced/wiki/How-to-integrate-Firebase-across-all-platforms-(web-nativescript-desktop)\" rel=\"nofollow noreferrer\">https://github.com/NathanWalker/angular-seed-advanced/wiki/How-to-integrate-Firebase-across-all-platforms-(web-nativescript-desktop)</a></p>\n"}, {"comments": [{"owner": {"reputation": 330, "user_id": 4983899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/484f408730ebbd555500b66a44e6f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/4983899/nilo"}, "edited": false, "score": 1, "creation_date": 1482271347, "post_id": 41250183, "comment_id": 69704522, "body": "You are correct, I made it work by naming it &quot;item&quot; in some step but I didn&#39;t quite grasp what I did to fix it. Thank you very much for your help, sadly I can only accept one answer as correct."}], "tags": [], "owner": {"reputation": 9265, "user_id": 4936697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXfbA.png?s=128&g=1", "display_name": "Nick Iliev", "link": "https://stackoverflow.com/users/4936697/nick-iliev"}, "is_accepted": false, "score": 3, "last_activity_date": 1482263386, "last_edit_date": 1495540926, "creation_date": 1482263386, "answer_id": 41250183, "question_id": 41248588, "link": "https://stackoverflow.com/questions/41248588/display-messages-from-firebase-asynchronously-in-nativescript-listview/41250183#41250183", "title": "Display messages from Firebase asynchronously in NativeScript ListView", "body": "<p>Apart from the ngZone related issue there is also a syntax mistake in the item template. Change this <code>&lt;template let-item=\"msg\"&gt;</code> to</p>\n\n<pre><code>&lt;template let-msg=\"item\"&gt;\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/41184518/4936697\">this thread</a> for details.</p>\n"}], "owner": {"reputation": 330, "user_id": 4983899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/484f408730ebbd555500b66a44e6f7d5?s=128&d=identicon&r=PG&f=1", "display_name": "nilo", "link": "https://stackoverflow.com/users/4983899/nilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 626, "favorite_count": 0, "accepted_answer_id": 41249043, "answer_count": 2, "score": 1, "last_activity_date": 1482263386, "creation_date": 1482256885, "question_id": 41248588, "link": "https://stackoverflow.com/questions/41248588/display-messages-from-firebase-asynchronously-in-nativescript-listview", "title": "Display messages from Firebase asynchronously in NativeScript ListView", "body": "<p>I am trying to display simple messages asynchronously in a ListView. The messages are fetched from Firebase via <a href=\"https://github.com/EddyVerbruggen/nativescript-plugin-firebase\" rel=\"nofollow noreferrer\">the de-facto standard NativeScript Plugin</a>. I do not think there is anything wrong with my plugin interaction as I am able to initialize, login and even recieve the messages. I just can not get them to display in a ListView. </p>\n\n<p>I managed to map the event-callback from the Firebase message pushing to an observable by creating an EventEmitter. Im not sure if this is the right way to go but it has shown the best results as I can see the messages being pushed through my observable.</p>\n\n<p><strong>Here's what I am doing:</strong></p>\n\n<pre><code>import { Component, OnInit, EventEmitter } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport * as firebase from \"nativescript-plugin-firebase\";\nimport { Message } from \"./shared/message.model\";\n@Component({\n    selector: \"my-app\",\n    templateUrl: \"app.component.html\"\n})\nexport class AppComponent implements OnInit {\n    public messages: Observable&lt;Array&lt;Message&gt;&gt;;\n\n    ngOnInit() {\n        this.init()\n            .then(() =&gt; this.login())\n            .then(() =&gt; this.getMessages());\n    }\n\n   // ... implementations for init() and login(), also post()-method\n\n    getMessages = () =&gt; {\n        let msgs = [];\n        // initialize with asynchronous behaviour\n        let emitter = new EventEmitter(true);\n        this.messages = emitter;\n        // shows messages getting added to array\n        this.messages.subscribe((a) =&gt; console.log(JSON.stringify(a)));\n\n        firebase.addChildEventListener((result) =&gt; {\n            msgs.push(new Message(result.value.text, result.value.timestamp));\n            emitter.next(msgs);\n        }, \"/messages\");\n    }\n}\n</code></pre>\n\n<p><strong>And this is the view:</strong></p>\n\n<pre><code>&lt;GridLayout rows=\"auto, *\"&gt;\n    &lt;GridLayout row=\"0\" columns=\"*, auto\"&gt;\n        &lt;TextField #textInput hint=\"Type message...\" col=\"0\"&gt;&lt;/TextField&gt;\n        &lt;Button text=\"Post\" (tap)=\"post(textInput)\" col=\"1\"&gt;&lt;/Button&gt;\n    &lt;/GridLayout&gt;\n\n    &lt;ListView row=\"1\" [items]=\"messages | async\"&gt;\n        &lt;template let-item=\"msg\"&gt;\n            &lt;StackLayout&gt;\n                &lt;Label text=\"a message\"&gt;&lt;/Label&gt; &lt;!-- displays after button click --&gt;\n                &lt;Label [text]=\"msg.text\"&gt;&lt;/Label&gt; &lt;!-- results in exception when there even are items --&gt;\n            &lt;/StackLayout&gt;\n        &lt;/template&gt;\n    &lt;/ListView&gt;\n&lt;/GridLayout&gt;\n</code></pre>\n\n<p>I can see that the subscription is working so far as every array variant gets logged incrementally, but my view is not displaying them. I tried different modes for the ChangeDetectionStragety, which did not seem to make a difference.</p>\n\n<p>I found out that when I have a button in my view which calls a component-function I can see the elements after clicking it. Yet, if there are bindings to the let-variable in my view like <code>[text]=\"msg.text\"</code> the application crashes with the following error:</p>\n\n<pre><code>An uncaught Exception occurred on \"main\" thread.\ncom.tns.NativeScriptException: \nCalling js method getView failed\n[object Object]\nFile: \"/data/data/org.nativescript.firebasetest/files/app/tns_modules/@angular/core/bundles/core.umd.js, line: 9464, column: 20\nStackTrace: \nFrame: function:'ListViewComponent.detectChangesOnChild', file:'/data/data/org.nativescript.firebasetest/files/app/tns_modules/nativescript-angular/directives/list-view-comp.js', line: 134, column: 29\nFrame: function:'ListViewComponent.onItemLoading', file:'/data/data/org.nativescript.firebasetest/files/app/tns_modules/nativescript-angular/directives/list-view-comp.js', line: 114, column: 14\nFrame: function:'Observable.notify', file:'/data/data/org.nativescript.firebasetest/files/app/tns_modules/data/observable/observable.js', line: 146, column: 32\nFrame: function:'ListViewAdapter.getView', file:'/data/data/org.nativescript.firebasetest/files/app/tns_modules/ui/list-view/list-view.js', line: 199, column: 28  \n// ... native stacktrace\n</code></pre>\n\n<p>What am I doing wrong? Why does it have to be so hard to implement an async list in NativeScript when it is arguably easy in Angular? The documentation is a bit weak here..</p>\n"}, {"tags": ["node.js", "angular", "express", "typescript", "es6-promise"], "comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482258321, "post_id": 41247964, "comment_id": 69697888, "body": "Can you add the screenshot of the network tab with the response?"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482258810, "post_id": 41247964, "comment_id": 69698151, "body": "i have just added the screenshots"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482259051, "post_id": 41247964, "comment_id": 69698264, "body": "That is not the network tab"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "reply_to_user": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "edited": false, "score": 0, "creation_date": 1482259163, "post_id": 41247964, "comment_id": 69698312, "body": "i have both of them now sorry about that"}], "answers": [{"tags": [], "owner": {"reputation": 17837, "user_id": 1923190, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D0JyZ.jpg?s=128&g=1", "display_name": "Simon H", "link": "https://stackoverflow.com/users/1923190/simon-h"}, "is_accepted": false, "score": 1, "last_activity_date": 1482254916, "creation_date": 1482254916, "answer_id": 41248059, "question_id": 41247964, "link": "https://stackoverflow.com/questions/41247964/i-can-see-node-express-server-response-but-i-cannot-use-it-in-my-angular2-promis/41248059#41248059", "title": "I can see node-express server response but i cannot use it in my angular2 promise service", "body": "<p>You need to return the final value for the rest of your code to use</p>\n\n<pre><code>  return this.http.get('/map-moving-agents')\n       .toPromise()\n       .then((res)=&gt; {\n         console.log(res.json().data);\n         return res.json().data;    &lt;--------------\n        })\n       .catch(this.handleError);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482258251, "post_id": 41248141, "comment_id": 69697848, "body": "@Teebo how about combining my answer with @SimonH&#39;s ? Add the return statement to the <code>res.json().data</code> and <code>console.log</code> it like mine"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482258334, "post_id": 41248141, "comment_id": 69697894, "body": "That is exactly what i did"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 1, "creation_date": 1482259837, "post_id": 41248141, "comment_id": 69698687, "body": "Hahaha! i really appreciate it bro,yay!"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482260562, "post_id": 41248141, "comment_id": 69699076, "body": "Oh yes the blurred tick, i just did that, :D but its not green"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482260642, "post_id": 41248141, "comment_id": 69699112, "body": "@Teebo you clicked it and it didn&#39;t turn green? :O"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482260727, "post_id": 41248141, "comment_id": 69699156, "body": "Yes it first said an error occurred and then when i try again it seems like its disabled and i got a notification saying i&#39;ve earned a hat"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482296504, "post_id": 41248141, "comment_id": 69711262, "body": "@Teebo Was there a problem with my answer?"}, {"owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482302342, "post_id": 41248141, "comment_id": 69713354, "body": "no!, i thought i can mark both answers as helpful because remember i used both suggestions to work out the issue, i marked back yours since you are the one who really guided me through, thanks, i have another problem when interpolating the instance variable of my component class though, i&#39;ll ask a question again"}, {"owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "reply_to_user": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "edited": false, "score": 0, "creation_date": 1482302399, "post_id": 41248141, "comment_id": 69713378, "body": "@Teebo ah, okay :) you can still upvote Simons answer too :)"}], "tags": [], "owner": {"reputation": 33279, "user_id": 5706293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Dyrv.jpg?s=128&g=1", "display_name": "eko", "link": "https://stackoverflow.com/users/5706293/eko"}, "is_accepted": true, "score": 1, "last_activity_date": 1482259452, "last_edit_date": 1482259452, "creation_date": 1482255233, "answer_id": 41248141, "question_id": 41247964, "link": "https://stackoverflow.com/questions/41247964/i-can-see-node-express-server-response-but-i-cannot-use-it-in-my-angular2-promis/41248141#41248141", "title": "I can see node-express server response but i cannot use it in my angular2 promise service", "body": "<pre><code>getMessage(): void {\n    this.myService.getMessage().then((res) =&gt; { this.msg = res;})\n     console.log(this.msg);\n}\n</code></pre>\n\n<p>will log <code>undefined</code> because <code>getMessage()</code> function is an <code>async</code> function. </p>\n\n<p>Change it to </p>\n\n<pre><code>getMessage(): void {\n    this.myService.getMessage().then((res) =&gt; { \n        this.msg = res;\n        console.log(this.msg);\n    });         \n}\n</code></pre>\n\n<p>And your response doesn't have a <code>data</code> field so <code>res.json().data;</code> wil be <code>undefined</code> return only <code>res.json()</code> or <code>res.json().obj</code></p>\n"}], "owner": {"reputation": 973, "user_id": 4536345, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/b9e194c9d0d1f18cd1918e605a8986da?s=128&d=identicon&r=PG&f=1", "display_name": "teebo", "link": "https://stackoverflow.com/users/4536345/teebo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 41248141, "answer_count": 2, "score": 0, "last_activity_date": 1482260473, "creation_date": 1482254572, "last_edit_date": 1482260473, "question_id": 41247964, "link": "https://stackoverflow.com/questions/41247964/i-can-see-node-express-server-response-but-i-cannot-use-it-in-my-angular2-promis", "title": "I can see node-express server response but i cannot use it in my angular2 promise service", "body": "<p><a href=\"https://i.stack.imgur.com/d3Kqu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d3Kqu.jpg\" alt=\"enter image description here\"></a><a href=\"https://i.stack.imgur.com/XMtPr.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMtPr.jpg\" alt=\"enter image description here\"></a>I have my object returned from the server response, which i can see in the networks tab response on google chrome dev tools.</p>\n\n<pre><code>module.exports = (req, res) =&gt; {   \nvar obj = {\n    name: \"Thabo\",\n    age: 23\n};\nres.json({obj})\n};\n</code></pre>\n\n<p>And I have the angular2-typescript service that uses a promise to get the response observable from the server</p>\n\n<pre><code>export class MyService {\n  constructor(private http: Http) { }\n  getMessage(): Promise&lt;any&gt; {\nreturn this.http.get('/map-moving-agents')\n           .toPromise()\n           .then((res)=&gt; {\n             console.log(res.json().data);\n             res.json().data;\n            })\n           .catch(this.handleError);\n}\n\nprivate handleError(error: any): Promise&lt;any&gt; {\nconsole.error('An error occurred', error); \nreturn Promise.reject(error.message || error);\n}\n}\n</code></pre>\n\n<p>I even logged the response on the 'then' of the promise and it logs undefined.</p>\n\n<p>And this is the component that uses the service</p>\n\n<pre><code>export class MapMovingAgents implements OnInit{\n\nmsg: {};\nconstructor(private myService: MyService){}\n\ngetMessage(): void {\n    this.myService.getMessage().then((res) =&gt; { this.msg = res;})\n     console.log(this.msg);\n}\n\nngOnInit(): void {\n    this.getMessage();\n}\n}\n</code></pre>\n"}, {"tags": ["angular", "d3.js", "typescript"], "comments": [{"owner": {"reputation": 1, "user_id": 7235907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306f49ede697647187cb6386ff6a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "alex blaza", "link": "https://stackoverflow.com/users/7235907/alex-blaza"}, "edited": false, "score": 0, "creation_date": 1482319238, "post_id": 41246929, "comment_id": 69723589, "body": "Just to add, i&#39;m using d3 v4 and Datum is the following interface:"}, {"owner": {"reputation": 1, "user_id": 7235907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306f49ede697647187cb6386ff6a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "alex blaza", "link": "https://stackoverflow.com/users/7235907/alex-blaza"}, "edited": false, "score": 0, "creation_date": 1482319243, "post_id": 41246929, "comment_id": 69723591, "body": "interface Datum {     category: string;     quantity: number; }"}, {"owner": {"reputation": 1, "user_id": 7235907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306f49ede697647187cb6386ff6a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "alex blaza", "link": "https://stackoverflow.com/users/7235907/alex-blaza"}, "edited": false, "score": 0, "creation_date": 1482480159, "post_id": 41246929, "comment_id": 69797303, "body": "Also everything works apart (i.e if I take it out the piechart will display albeit without labels) from:                selection.enter().append(&quot;text&quot;) .attr(&quot;transform&quot;, function(d) {     return &quot;translate(&quot; + labelArc.centroid(d) + &quot;)&quot;;   })   .attr(&quot;dy&quot;, &quot;.35em&quot;)   .text(function(d) { return d.data.category; });"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7235907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306f49ede697647187cb6386ff6a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "alex blaza", "link": "https://stackoverflow.com/users/7235907/alex-blaza"}, "is_accepted": false, "score": 0, "last_activity_date": 1482490187, "creation_date": 1482490187, "answer_id": 41299984, "question_id": 41246929, "link": "https://stackoverflow.com/questions/41246929/d3-angular-2-pie-chart-d3-arc-type-error/41299984#41299984", "title": "d3 angular 2 pie chart d3.arc type error", "body": "<p>Got it to work, explicitly cast the radius as a number and used an array of numbers for the data instead of the the Datum datatype. The code now reads as</p>\n\n<pre><code>private data: Array&lt;number&gt;;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var radius:number = Math.min(this.width, this.height) / 2;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>var labelArc = d3.arc()\n.innerRadius(radius-40)\n.outerRadius(radius);\n\nthis.pieChart.selectAll(\"text\").data(piedata).enter().append(\"text\")\n.attr(\"transform\", function(d) {\n    return \"translate(\" + labelArc.centroid(d) + \")\";\n  })\n  .attr(\"dy\", \".35em\")\n  .text(function(d) { return d.value});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7235907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306f49ede697647187cb6386ff6a33ce?s=128&d=identicon&r=PG&f=1", "display_name": "alex blaza", "link": "https://stackoverflow.com/users/7235907/alex-blaza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1482490187, "creation_date": 1482251174, "question_id": 41246929, "link": "https://stackoverflow.com/questions/41246929/d3-angular-2-pie-chart-d3-arc-type-error", "title": "d3 angular 2 pie chart d3.arc type error", "body": "<p>I get this error: <em>'PieArcDatum' is not assignable to parameter of type 'DefaultArcObject.'</em> at this line of code Argument of type \n <em>return \"translate(\" + labelArc.centroid(d) + \")\";</em> Please help!</p>\n\n<p>Everything works apart from the labeling which this code should accomplish.</p>\n\n<p>Running angular 2 with the cli interface (webpack).</p>\n\n<p>Please see code below. </p>\n\n<pre><code>let element = this.chartContainer.nativeElement;\n\n// finds the width\nthis.width = element.offsetWidth - this.margin.left - this.margin.right;\nthis.height = element.offsetHeight - this.margin.top - this.margin.bottom;\n\n// gets the html object for d3 to manipuluate\nlet svg = d3.select(element).append('svg')\n  .attr('width', this.width)\n  .attr('height', this.height);\n\n// creates the pie chart object\nvar pieChart = svg.append(\"g\").attr(\"transform\", \"translate(\" + this.width / 2 + \",\" + this.height / 2 + \")\");\n\n// finds the maximum width or height - whichever is smallest\nvar radius = Math.min(this.width, this.height) / 2;\n\n// creates the information to create the pie chart circle\nvar arc = d3.arc()\n  .innerRadius(0)\n  .outerRadius(radius);\n\n// creates a function to read in data and deduce the correct angles\nlet pie = d3.pie&lt;Datum&gt;().sort(null).value((d: Datum):number =&gt; d.quantity);\n\n// uses the pie function to work out the correct angles for the pie chart\nvar piedata = pie(this.data);\n\n\n// used to edit the pie chart colours\nvar colour = d3.scaleOrdinal(d3.schemeCategory20b);\n\n//uses the arc and pie data functions to create the pie chart\npieChart.selectAll(\"path\")\n  .data(piedata)\n  .enter()\n  .append(\"path\")\n  .attr(\"d\",  &lt;any&gt;arc)\n  .attr('fill', function(d) {\n        return colour(d.data.category);\n      });\n  ;\n\n  var labelArc = d3.arc()\n  .innerRadius(0)\n  .outerRadius(radius);\n\nvar selection = pieChart.selectAll(\"text\").data(piedata);\nselection.enter().append(\"text\")\n.attr(\"transform\", function(d) {\n    return \"translate(\" + labelArc.centroid(d) + \")\";\n  })\n  .attr(\"dy\", \".35em\")\n  .text(function(d) { return d.data.category; });\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["node.js", "typescript", "typescript2.0", "compiler-options"], "answers": [{"tags": [], "owner": {"reputation": 285, "user_id": 2672083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62e62ac71213b0221de207bafe179f2a?s=128&d=identicon&r=PG", "display_name": "user2672083", "link": "https://stackoverflow.com/users/2672083/user2672083"}, "is_accepted": true, "score": 0, "last_activity_date": 1482327888, "last_edit_date": 1592644375, "creation_date": 1482249331, "answer_id": 41246343, "question_id": 41246294, "link": "https://stackoverflow.com/questions/41246294/using-typescripts-baseurl-compiler-option-with-node/41246343#41246343", "title": "Using Typescript&#39;s baseUrl compiler option with node", "body": "<h2>Yes!</h2>\n<p>Appreciating TS's position, here's a simple solution to the 90% use case for those of us using <code>node</code>, but wanting the convenience of using <code>baseUrl</code> relative <code>require()</code> calls without any fuss.</p>\n<p>This solution hooks <code>node</code>'s <code>require()</code> call, and resolves requests using the <code>dirname</code> of &quot;main&quot; to mimic <code>baseUrl</code>. It therefore assumes the <code>baseUrl</code> compiler option was also set to the same directory where the source &quot;main.ts&quot; was located.</p>\n<p>To use, paste this tiny chunk of code at the top of your &quot;main.ts&quot;.</p>\n<pre><code>import * as path from 'path'\nimport * as fs from 'fs'\n(function() {\n  const CH_PERIOD = 46\n  const baseUrl = path.dirname(process['mainModule'].filename)\n  const existsCache = {d:0}; delete existsCache.d\n  const moduleProto = Object.getPrototypeOf(module)\n  const origRequire = moduleProto.require\n  moduleProto.require = function(request) {\n    let existsPath = existsCache[request]\n    if(existsPath === undefined) {\n      existsPath = ''\n      if(!path.isAbsolute(request) &amp;&amp; request.charCodeAt(0) !== CH_PERIOD) {\n        const ext = path.extname(request)\n        const basedRequest = path.join(baseUrl, ext ? request : request + '.js')\n        if(fs.existsSync(basedRequest)) existsPath = basedRequest\n        else {\n          const basedIndexRequest = path.join(baseUrl, request, 'index.js')\n          existsPath = fs.existsSync(basedIndexRequest) ? basedIndexRequest : ''\n        }\n      }\n      existsCache[request] = existsPath\n    }\n    return origRequire.call(this, existsPath || request)\n  }\n})()\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 2672083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/62e62ac71213b0221de207bafe179f2a?s=128&d=identicon&r=PG", "display_name": "user2672083", "link": "https://stackoverflow.com/users/2672083/user2672083"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 1, "accepted_answer_id": 41246343, "answer_count": 1, "score": 2, "last_activity_date": 1482327888, "creation_date": 1482249188, "last_edit_date": 1592644375, "question_id": 41246294, "link": "https://stackoverflow.com/questions/41246294/using-typescripts-baseurl-compiler-option-with-node", "title": "Using Typescript&#39;s baseUrl compiler option with node", "body": "<h2>Can <code>node</code>'s module loader support TS's <code>baseUrl</code> compiler option?</h2>\n<p>TS 2 introduced the <code>baseUrl</code> compiler option, to effectively enable project relative <code>require()</code> and <code>import</code> requests.</p>\n<p>However, this requires the module loader to support the same thing, as TS doesn't actually rewrite the request during transpilation. For tools like webpack, this is fairly straightforward.</p>\n<p>Unfortunately, when using TS to develop <code>node</code> applications (.i.e backend services, command line tools, electron desktop apps) there didn't seem to be a way to change node's module loader behavior.</p>\n<p>Is there a way?</p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1482245875, "post_id": 41245122, "comment_id": 69690224, "body": "Do you have a definition of <code>uiMessage</code> in TypeScript?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user663031"}, "edited": false, "score": 0, "creation_date": 1482260835, "post_id": 41245122, "comment_id": 69699218, "body": "Please provide the format of the array you are trying to create. <code>uiMessages</code> is an object with keys and values--there&#39;s no obvious mapping from that to an array, which is just an indexed list of values."}, {"owner": {"reputation": 245, "user_id": 276984, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/857f36f55758798611dd13bfc12e0828?s=128&d=identicon&r=PG", "display_name": "Ronny176", "link": "https://stackoverflow.com/users/276984/ronny176"}, "edited": false, "score": 0, "creation_date": 1482301640, "post_id": 41245122, "comment_id": 69713063, "body": "the uiMessage would be a simple key-value object, where the key would be for instance &quot;ui.downtime.search.title&quot; and the value &quot;Search Message&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 6090, "user_id": 138288, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/632aae842ea41e8d99f412927f2d0f3d?s=128&d=identicon&r=PG", "display_name": "Robba", "link": "https://stackoverflow.com/users/138288/robba"}, "is_accepted": true, "score": 0, "last_activity_date": 1482260562, "creation_date": 1482260562, "answer_id": 41249453, "question_id": 41245122, "link": "https://stackoverflow.com/questions/41245122/convert-json-object-to-typescript-array/41249453#41249453", "title": "convert json object to typescript array", "body": "<p>Try this:</p>\n\n<pre><code>@Injectable()\nexport class BootstrapService {\n\n    constructor(private http: Http) {}\n\n    getBootstrapInfo() {\n        return this.http.get('api/foo')\n            .map(response =&gt; {\n                var responseData = response.json();\n                var result = [];\n                for (let item in responseData.uiMessages) {\n                    // Create the uiMessage object here, not sure what its structure is\n                    result.push({\n                        field: item,\n                        message: responseData.uiMessages[item]\n                    });\n                }\n                return result;\n            });\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 276984, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/857f36f55758798611dd13bfc12e0828?s=128&d=identicon&r=PG", "display_name": "Ronny176", "link": "https://stackoverflow.com/users/276984/ronny176"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3491, "favorite_count": 0, "accepted_answer_id": 41249453, "answer_count": 1, "score": 0, "last_activity_date": 1482260562, "creation_date": 1482245582, "question_id": 41245122, "link": "https://stackoverflow.com/questions/41245122/convert-json-object-to-typescript-array", "title": "convert json object to typescript array", "body": "<p>For my current project I need to convert a json object to a typescript array. the json is as follows:</p>\n\n<pre><code>{\n  \"uiMessages\" : {\n    \"ui.downtime.search.title\" : \"Search Message\",\n    \"ui.user.editroles.sodviolation.entries\" : \"Violated SOD entries\"\n  },\n  \"userInfo\" : {\n    \"login\" : \"fooUser\",\n    \"firstName\" : \"Foo\",\n    \"lastName\" : \"Bar\",\n    \"language\" : \"en\"\n  },\n  \"appInfo\" : {\n    \"applicationName\" : \"foo\",\n    \"applicationVersion\" : \"6.1.0\"\n  }\n}\n</code></pre>\n\n<p>The json is a serialized java object and the uiMessages variable is a Hashmap in java. I need to parse the uiMessages to a Typescript Array of uiMessage objects. </p>\n\n<p>So far, I got to this:</p>\n\n<pre><code>@Injectable()\nexport class BootstrapService {\n\n  constructor(private http: Http) {}\n\n  getBootstrapInfo() {\n    return this.http.get('api/foo')\n      .map(response =&gt; {\n        response.json()\n      })\n  }\n}\n</code></pre>\n\n<p>How would I best do this?</p>\n"}, {"tags": ["typescript", "webpack", "aurelia"], "comments": [{"owner": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "edited": false, "score": 0, "creation_date": 1482254920, "post_id": 41244960, "comment_id": 69696114, "body": "They shouldn&#39;t. This is why in <code>test&#47;spec.bundle.js</code> all spec files are imported: <code>var testContext = require.context(&#39;.&#47;unit&#39;, true, &#47;\\.spec\\.(ts|js)$&#47;);</code>. Can you break things down and give more information about your file structure and main imports? The skeleton that you provided should not be affected from weird imports IMHO."}, {"owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "reply_to_user": {"reputation": 2206, "user_id": 434227, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/BtEWa.jpg?s=128&g=1", "display_name": "dotcs", "link": "https://stackoverflow.com/users/434227/dotcs"}, "edited": false, "score": 0, "creation_date": 1482410133, "post_id": 41244960, "comment_id": 69768192, "body": "@dotcs made an edit to my question. Does this mean the issue is in <code>aurelia-loader-webpack</code>? I guess not right? I must be missing something."}], "answers": [{"tags": [], "owner": {"reputation": 6529, "user_id": 35954, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pNSQi.jpg?s=128&g=1", "display_name": "Alexander Taran", "link": "https://stackoverflow.com/users/35954/alexander-taran"}, "is_accepted": false, "score": 0, "last_activity_date": 1521105495, "creation_date": 1521105495, "answer_id": 49295467, "question_id": 41244960, "link": "https://stackoverflow.com/questions/41244960/webpack-exclude-spec-files/49295467#49295467", "title": "Webpack exclude spec files", "body": "<p>No longer the case with webpack-plugin moved forward unless you specify includeAll option for it.\nWhen you specify your entry point webpack will trace only referenced modules so spec files won't get into any bundles. unless you specifically import them.</p>\n"}], "owner": {"reputation": 179, "user_id": 1914261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43cacdba81516141184af39101b5bbcd?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/1914261/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1081, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1521105495, "creation_date": 1482245078, "last_edit_date": 1482306369, "question_id": 41244960, "link": "https://stackoverflow.com/questions/41244960/webpack-exclude-spec-files", "title": "Webpack exclude spec files", "body": "<p>I am using Webpack combined with Aurelia and Typescript. For my project setup I used the Aurelia skeleton: <a href=\"https://github.com/aurelia/skeleton-navigation/tree/master/skeleton-typescript-webpack\" rel=\"nofollow noreferrer\">https://github.com/aurelia/skeleton-navigation/tree/master/skeleton-typescript-webpack</a>\nI did not like the spec files to live under a separate directory from the app files. So I moved all the spec files to the same folder. This led to having all the spec files being bundled together with my app files into the app bundle which is undesirable of course.</p>\n\n<p>I was under the impression that Webpack only loads the entry file (in the Skeleton project this is the ./src/main file) which on his turn loads in all other necessary files. This would mean that my spec files should not get included, but they do...</p>\n\n<p>Am I wrong or am I missing something here?</p>\n\n<p><strong>EDIT</strong>: Made a dependency graph of my app and found out that this file is loading all my spec files:\n<code>./~/aurelia-loader-webpack/dist/commonjs/aurelia-loader-webpack.js</code></p>\n\n<p>This file is running this RegEx which matches all files: <code>./src ^\\.\\/.*$</code></p>\n"}, {"tags": ["javascript", "angular", "typescript", "intellij-idea"], "answers": [{"comments": [{"owner": {"reputation": 31387, "user_id": 2674303, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/411d782b77899035a96abb71b64e062a?s=128&d=identicon&r=PG", "display_name": "gstackoverflow", "link": "https://stackoverflow.com/users/2674303/gstackoverflow"}, "edited": false, "score": 0, "creation_date": 1482394037, "post_id": 41249435, "comment_id": 69758280, "body": "but my imports coorect"}], "tags": [], "owner": {"reputation": 5252, "user_id": 1026271, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c8f1c932fadbd0eb676c5903e5421725?s=128&d=identicon&r=PG", "display_name": "Alon", "link": "https://stackoverflow.com/users/1026271/alon"}, "is_accepted": false, "score": 2, "last_activity_date": 1482260482, "creation_date": 1482260482, "answer_id": 41249435, "question_id": 41244770, "link": "https://stackoverflow.com/questions/41244770/idea-doesnt-see-imports/41249435#41249435", "title": "Idea doesn&#39;t see imports", "body": "<p>It's because you have missed two things: mentioning what you want to import from 'rxjs/add/operator/switchMap', and the 'from' keyword.</p>\n\n<p>Change this:</p>\n\n<pre><code>import 'rxjs/add/operator/switchMap'\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>import {switchMap} from 'rxjs/add/operator/switchMap'\n</code></pre>\n\n<p>or, it might work for you this way:</p>\n\n<pre><code>import * as switchMap from 'rxjs/add/operator/switchMap'\n</code></pre>\n"}], "owner": {"reputation": 31387, "user_id": 2674303, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/411d782b77899035a96abb71b64e062a?s=128&d=identicon&r=PG", "display_name": "gstackoverflow", "link": "https://stackoverflow.com/users/2674303/gstackoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482260482, "creation_date": 1482244544, "question_id": 41244770, "link": "https://stackoverflow.com/questions/41244770/idea-doesnt-see-imports", "title": "Idea doesn&#39;t see imports", "body": "<p>I try to work with angular2 in Idea IDE.</p>\n\n<p>My code valid(I tried  compile and execute it), but ide shows this:\n<a href=\"https://i.stack.imgur.com/w6wIj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6wIj.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Is there way to configure Idea  to hide this erros?</p>\n"}, {"tags": ["angular", "typescript", "dependency-injection", "systemjs", "typescript2.0"], "comments": [{"owner": {"reputation": 3666, "user_id": 3503019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/dezfV.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/3503019/akash"}, "edited": false, "score": 0, "creation_date": 1482244868, "post_id": 41244739, "comment_id": 69689452, "body": "Could you also share code where this RestClientService  is being used?"}, {"owner": {"reputation": 1241, "user_id": 4525364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/35b785ca9c0dff9b375ef70791f2b751?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/4525364/david"}, "reply_to_user": {"reputation": 3666, "user_id": 3503019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/dezfV.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/3503019/akash"}, "edited": false, "score": 0, "creation_date": 1482246976, "post_id": 41244739, "comment_id": 69691040, "body": "alright, I just added an example of the RestClientService being used in a service that calls the service&#39;s &quot;getSysInfo&quot; method."}, {"owner": {"reputation": 1241, "user_id": 4525364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/35b785ca9c0dff9b375ef70791f2b751?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/4525364/david"}, "reply_to_user": {"reputation": 3666, "user_id": 3503019, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/dezfV.jpg?s=128&g=1", "display_name": "Akash", "link": "https://stackoverflow.com/users/3503019/akash"}, "edited": false, "score": 0, "creation_date": 1482262764, "post_id": 41244739, "comment_id": 69700225, "body": "Just a follow-up to this question: eventually I bit the bullet and just went through and put Inject statements everywhere.  This can&#39;t be right, but it got the app up and running so I can continue development.  If anyone knows how to accomplish this feat without Inject, I&#39;d still love to know, but it&#39;s not as time sensitive."}], "owner": {"reputation": 1241, "user_id": 4525364, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/35b785ca9c0dff9b375ef70791f2b751?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/4525364/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1482249078, "creation_date": 1482244454, "last_edit_date": 1495540008, "question_id": 41244739, "link": "https://stackoverflow.com/questions/41244739/angular-2-unhandled-promise-rejection-systemjs-cant-resolve-all-parameters-f", "title": "Angular 2 Unhandled Promise rejection: (SystemJS) Can&#39;t resolve all parameters for FooService: (?) - how to fix without using @Inject everywhere?", "body": "<p>when I run \"npm run start\" I get this error in the browser's console:</p>\n\n<blockquote>\n  <p>Unhandled Promise rejection: (SystemJS) Can't resolve all parameters for RestClientService: (?).\n      Error: Can't resolve all parameters for RestClientService: (?).</p>\n</blockquote>\n\n<p>Here is the relevant code from that class:</p>\n\n<pre><code>import { Http } from \"@angular/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\n\nimport { extractData, handleError } from \"./helpers\";\nimport { Notification, Slide, Spot } from \"./models\";\nimport \"./rxjs-operators\";\n\n@Injectable()\nexport class RestClientService {\n    constructor (private http: Http) {}\n// methods in the class\n}\n</code></pre>\n\n<p>I tried the solution here:\n<a href=\"https://stackoverflow.com/questions/35370405/angular-2-http-cannot-resolve-all-parameters-for-appservice\">Angular 2 HTTP &quot;Cannot resolve all parameters for &#39;AppService&#39;&quot;</a></p>\n\n<p>At that point, my RestClientService had a constructor that looked like this:</p>\n\n<pre><code>constructor (@Inject(Http) private http: Http) {}\n</code></pre>\n\n<p>So that DID help get rid of the error for that class, however now pretty much all my other classes are having the same problem.</p>\n\n<p><strong>HOW CAN I AVOID HAVING TO USE @Inject EVERYWHERE?</strong></p>\n\n<p>Here's what I hope is relevant:</p>\n\n<p>package.json:</p>\n\n<pre><code>    {\n  \"name\": \"my broken app\",\n  \"version\": \"1.0.1\",\n  \"scripts\": {\n    \"start\": \"tsc &amp;&amp; concurrently \\\"tsc -w\\\" \\\"lite-server\\\" \\\"npm run generate-css\\\" \\\"npm run watch-css\\\" \",\n    \"pree2e\": \"npm run webdriver:update\",\n    \"e2e\": \"tsc &amp;&amp; concurrently \\\"http-server -s\\\" \\\"protractor protractor.config.js\\\" --kill-others --success first\",\n    \"lint\": \"tslint ./app/**/*.ts -t verbose\",\n    \"generate-css\": \"node-sass -r app --output ./generated-css\",\n    \"watch-css\": \"node-sass -w -r app --output ./generated-css\",\n    \"lite\": \"lite-server\",\n    \"test\": \"tsc &amp;&amp; concurrently \\\"tsc -w\\\" \\\"karma start karma.conf.js\\\"\",\n    \"test-once\": \"tsc &amp;&amp; karma start karma.conf.js --single-run\",\n    \"tsc\": \"tsc\",\n    \"tsc:w\": \"tsc -w\"\n  },\n  \"license\": \"\",\n  \"author\": \"me\",\n  \"dependencies\": {\n    \"@angular/common\": \"~2.3.0\",\n    \"@angular/compiler\": \"~2.3.0\",\n    \"@angular/core\": \"~2.3.0\",\n    \"@angular/forms\": \"~2.3.0\",\n    \"@angular/http\": \"~2.3.0\",\n    \"@angular/platform-browser\": \"~2.3.0\",\n    \"@angular/platform-browser-dynamic\": \"~2.3.0\",\n    \"@angular/router\": \"~3.3.0\",\n    \"angular-in-memory-web-api\": \"~0.2.0\",\n    \"bootstrap\": \"^3.3.7\",\n    \"core-js\": \"^2.4.1\",\n    \"lodash\": \"^4.17.2\",\n    \"mydatepicker\": \"0.0.36\",\n    \"ng2-translate\": \"^4.2.0\",\n    \"reflect-metadata\": \"^0.1.8\",\n    \"rxjs\": \"5.0.0-rc.4\",\n    \"socket.io\": \"^1.4.8\",\n    \"socket.io-client\": \"^1.4.8\",\n    \"systemjs\": \"0.19.40\",\n    \"zone.js\": \"^0.7.2\"\n  },\n  \"devDependencies\": {\n    \"@types/core-js\": \"^0.9.35\",\n    \"@types/jasmine\": \"^2.5.38\",\n    \"@types/lodash\": \"^4.14.43\",\n    \"@types/node\": \"^6.0.46\",\n    \"@types/selenium-webdriver\": \"^2.53.33\",\n    \"canonical-path\": \"0.0.2\",\n    \"codelyzer\": \"0.0.25\",\n    \"concurrently\": \"^3.1.0\",\n    \"http-server\": \"^0.9.0\",\n    \"jasmine-core\": \"~2.5.2\",\n    \"karma\": \"^1.3.0\",\n    \"karma-chrome-launcher\": \"^2.0.0\",\n    \"karma-cli\": \"^1.0.1\",\n    \"karma-htmlfile-reporter\": \"^0.3.4\",\n    \"karma-jasmine\": \"^1.0.2\",\n    \"karma-jasmine-html-reporter\": \"^0.2.2\",\n    \"lite-server\": \"^2.2.2\",\n    \"live-server\": \"^1.0.0\",\n    \"lodash\": \"^4.16.2\",\n    \"node-sass\": \"^3.10.1\",\n    \"nodemon\": \"^1.11.0\",\n    \"protractor\": \"^3.3.0\",\n    \"rimraf\": \"^2.5.4\",\n    \"tslint\": \"^3.15.1\",\n    \"typescript\": \"~2.0.10\"\n  }\n}\n</code></pre>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"mapRoot\": \"./\",\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"lib\": [ \"es2015\", \"dom\" ],\n    \"noEmitOnError\": true,\n    \"noImplicitAny\": false,\n    \"outDir\": \"../dist/out-tsc\",\n    \"sourceMap\": true,\n    \"target\": \"es5\",\n    \"suppressImplicitAnyIndexErrors\": true,\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"dist\"\n  ]\n}\n</code></pre>\n\n<p>systemjs.config.js</p>\n\n<pre><code>(function (global) {\n    System.config({\n        paths: {\n            // paths serve as alias\n            'npm:': 'node_modules/'\n        },\n        // map tells the System loader where to look for things\n        map: {\n            // our app is within the app folder\n            app: 'app',\n            // angular bundles\n            '@angular/core': 'npm:@angular/core/bundles/core.umd.js',\n            '@angular/common': 'npm:@angular/common/bundles/common.umd.js',\n            '@angular/compiler': 'npm:@angular/compiler/bundles/compiler.umd.js',\n            '@angular/platform-browser': 'npm:@angular/platform-browser/bundles/platform-browser.umd.js',\n            '@angular/platform-browser-dynamic': 'npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js',\n            '@angular/http': 'npm:@angular/http/bundles/http.umd.js',\n            '@angular/router': 'npm:@angular/router/bundles/router.umd.js',\n            '@angular/forms': 'npm:@angular/forms/bundles/forms.umd.js',\n\n            // other libraries\n            'rxjs':                      'npm:rxjs',\n            'angular-in-memory-web-api': 'npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js',\n            'ng2-translate':             'npm:ng2-translate/bundles',\n            'lodash':                    'npm:lodash',\n            'socket.io-client':          'npm:socket.io-client/socket.io.js',\n            'mydatepicker':              'npm:mydatepicker'\n        },\n        // packages tells the System loader how to load when no filename and/or no extension\n        packages: {\n            app: {\n                main: './main.js',\n                defaultExtension: 'js'\n            },\n            rxjs: {\n                defaultExtension: 'js'\n            },\n            'ng2-translate': {\n                main: 'ng2-translate',\n                defaultExtension: 'umd.js'\n            },\n            'socket.io-client': {\n                defaultExtension: 'js'\n            },\n            'mydatepicker': {\n                main: './dist/index.js',\n                defaultExtension: 'js'\n            },\n            lodash: {\n                main: './index.js',\n                defaultExtension: 'js'\n            }\n        }\n    });\n})(this);\n</code></pre>\n\n<p>app.module.ts:</p>\n\n<pre><code>import { BrowserModule } from \"@angular/platform-browser\";\nimport { CUSTOM_ELEMENTS_SCHEMA } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { HttpModule }     from \"@angular/http\";\nimport { NgModule } from \"@angular/core\";\n\nimport { DashboardComponent } from \"./components/dashboard/dashboard.component\";\nimport { AcquisitionComponent } from \"./components/acquisition/acquisition.component\";\nimport { AlarmsAlertsService } from \"./shared/notification-manager.service\";\nimport { AuditService, Logger } from \"./shared/log.service\";\nimport { AuthGuard } from \"./shared/auth-guard.service\";\nimport { AuthService } from \"./shared/auth.service\";\nimport { ConfigurationComponent } from \"./components/configuration/configuration.component\";\nimport { ConfirmService } from \"./shared/confirm/confirm.service\";\nimport { PopOverComponent } from \"./shared/pop-over/pop-over.component\";\nimport { InstrumentStatusService } from \"./shared/notification-manager.service\";\nimport { LoginComponent } from \"./components/login/login.component\";\nimport { ReportsComponent } from \"./components/reports/reports.component\";\nimport { routing } from \"./app.routing\";\nimport { MyDatePickerModule } from \"mydatepicker/dist/my-date-picker.module\";\nimport { MyDatePicker } from \"./shared/date-picker/my-date-picker.component\";\nimport { RestClientService } from \"./shared/rest-client.service\";\nimport { SearchComponent } from \"./components/search/search.component\";\nimport { SupervisionComponent } from \"./components/supervision/supervision.component\";\nimport { TranslateModule } from \"ng2-translate\";\nimport { HelpComponent } from \"./components/help/help.component\";\nimport { ConfirmComponent } from \"./shared/confirm/confirm.component\";\nimport { InteractiveSlideComponent } from \"./components/interactive-slide/interactive-slide.component\";\nimport { SlidesTableComponent } from \"./components/slides-table/slides-table.component\";\nimport { SoundBarComponent } from \"./components/sound-bar/sound-bar.component\";\nimport { VolumeControlComponent } from \"./components/volume-control/volume-control.component\";\nimport { SortArrowsComponent } from \"./components/sort-arrows/sort-arrows.component\";\nimport { NotificationsTableComponent } from \"./components/notifications-table/notifications-table.component\";\nimport { StatusIndicatorComponent } from \"./components/status-indicator/component-status-indicator.component\";\nimport { TabComponent } from \"./components/tab/tab.component\";\nimport { TabsComponent } from \"./components/tabs/tabs.component\";\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        MyDatePickerModule,\n        routing,\n        TranslateModule.forRoot()\n    ],\n    providers: [\n        AuditService,\n        AlarmsAlertsService,\n        AuthGuard,\n        AuthService,\n        ConfirmService,\n        InstrumentStatusService,\n        Logger,\n        RestClientService\n    ],\n    entryComponents: [\n        AcquisitionComponent,\n        ConfigurationComponent,\n        LoginComponent,\n        ReportsComponent,\n        SearchComponent,\n        SupervisionComponent\n    ],\n    declarations: [\n        AcquisitionComponent,\n        ConfigurationComponent,\n        ConfirmComponent,\n        MyDatePicker,\n        PopOverComponent,\n        DashboardComponent,\n        HelpComponent,\n        InteractiveSlideComponent,\n        LoginComponent,\n        NotificationsTableComponent,\n        ReportsComponent,\n        SearchComponent,\n        SlidesTableComponent,\n        SortArrowsComponent,\n        SoundBarComponent,\n        StatusIndicatorComponent,\n        SupervisionComponent,\n        TabComponent,\n        TabsComponent,\n        VolumeControlComponent\n    ],\n    bootstrap: [ DashboardComponent ],\n    schemas: [ CUSTOM_ELEMENTS_SCHEMA ]\n})\nexport class AppModule {}\n</code></pre>\n\n<p>And here is an example of the RestClientService in use:</p>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport { RestClientService } from \"./rest-client.service\";\nimport { Slide, Spot } from \"./models\";\nimport { AuthService } from \"./auth.service\";\nimport * as _ from \"lodash\";\n\n@Injectable()\nexport class DataManagerService {\n    sysInfo;\n    dataHandle: Observable&lt;any&gt;;\n    errorMessage;\n    sysInfoArray = [];\n    currentlySelectedSlide: Slide = null;\n    currentSlides: Slide[];\n    foundSlides: Observable&lt;Slide[]&gt;;\n    currentExports: Object[];\n    foundExports: Observable&lt;Object[]&gt;;\n    currentSpotImages: Object[];\n    foundSpotImages: Observable&lt;Object[]&gt;;\n    removeExportCall: Observable&lt;any&gt;;\n\n    constructor(private rest: RestClientService, private authService: AuthService) {}\n\n    initSysInfo() {\n        // get and process the current alarms from the database\n        this.dataHandle = this.rest.getSysInfo();\n        this.dataHandle.subscribe(\n            data =&gt; {\n                this.sysInfo = data;\n            },\n            error =&gt;  this.errorMessage = &lt;any&gt;error);\n    }\n   // more code here\n}\n</code></pre>\n\n<p>Please let me know if you need to see any other files.  Clearly, I'm not sure where the problem might be.</p>\n"}, {"tags": ["angularjs", "typescript", "checkbox"], "comments": [{"owner": {"reputation": 1510, "user_id": 5799145, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6Wwfz.jpg?s=128&g=1", "display_name": "CraigR8806", "link": "https://stackoverflow.com/users/5799145/craigr8806"}, "edited": false, "score": 1, "creation_date": 1482244101, "post_id": 41244597, "comment_id": 69688939, "body": "What?.........."}, {"owner": {"reputation": 6814, "user_id": 5022249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7c1a913048ddae1f9a326fced1f96c1e?s=128&d=identicon&r=PG", "display_name": "Panda", "link": "https://stackoverflow.com/users/5022249/panda"}, "edited": false, "score": 1, "creation_date": 1482244132, "post_id": 41244597, "comment_id": 69688967, "body": "What&#39;s your question?"}, {"owner": {"reputation": 4587, "user_id": 1363927, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/FvtNG.png?s=128&g=1", "display_name": "Merlin", "link": "https://stackoverflow.com/users/1363927/merlin"}, "edited": false, "score": 0, "creation_date": 1482244454, "post_id": 41244597, "comment_id": 69689189, "body": "Edit your question please"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5313293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0867a0d09437440b9b6dda75ca41d982?s=128&d=identicon&r=PG&f=1", "display_name": "DPA", "link": "https://stackoverflow.com/users/5313293/dpa"}, "is_accepted": false, "score": 0, "last_activity_date": 1482245108, "creation_date": 1482245108, "answer_id": 41244971, "question_id": 41244597, "link": "https://stackoverflow.com/questions/41244597/check-one-checkbox-should-not-select-the-whole-checkbox-group/41244971#41244971", "title": "Check one checkbox should not select the whole checkbox group", "body": "<p><a href=\"https://vitalets.github.io/checklist-model/\" rel=\"nofollow noreferrer\">https://vitalets.github.io/checklist-model/</a></p>\n\n<p>This link worked for me!</p>\n\n<p>1) set checklist-model instead of ng-model <br/>\n2) set checklist-value instead of ng-value</p>\n"}, {"tags": [], "owner": {"reputation": 1510, "user_id": 5799145, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/6Wwfz.jpg?s=128&g=1", "display_name": "CraigR8806", "link": "https://stackoverflow.com/users/5799145/craigr8806"}, "is_accepted": false, "score": 0, "last_activity_date": 1482245122, "creation_date": 1482245122, "answer_id": 41244976, "question_id": 41244597, "link": "https://stackoverflow.com/questions/41244597/check-one-checkbox-should-not-select-the-whole-checkbox-group/41244976#41244976", "title": "Check one checkbox should not select the whole checkbox group", "body": "<p>You're attaching the same externalized variable <code>vm.selectedItem</code> to every checkbox.  Because of this, when you check one it changes that variable to <code>true</code> in turn selecting all of the checkboxes because they are bound to the same variable which is now <code>true</code>.</p>\n\n<p>My advice to you would be to attach a <code>selected</code> property to each item in <code>ItemList</code>.  Then have that attached to the ng-model as shown below.</p>\n\n<pre><code>&lt;label class=\"checkbox-inline\" ng-repeat=\"item in vm.ItemList track by item .id\"&gt;\n     &lt;input type=\"checkbox\" name =\"item \" ng-value=\"item .id\" ng-model= \"item.selected\" /&gt;{{item.name}}\n&lt;/label&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5313293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0867a0d09437440b9b6dda75ca41d982?s=128&d=identicon&r=PG&f=1", "display_name": "DPA", "link": "https://stackoverflow.com/users/5313293/dpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1482245122, "creation_date": 1482244036, "last_edit_date": 1482244461, "question_id": 41244597, "link": "https://stackoverflow.com/questions/41244597/check-one-checkbox-should-not-select-the-whole-checkbox-group", "title": "Check one checkbox should not select the whole checkbox group", "body": "<p>Following is the code I am using to populate the checkbox list.</p>\n\n<pre><code>&lt;label class=\"checkbox-inline\" ng-repeat=\"item in vm.ItemList track by item .id\"&gt;\n&lt;input type=\"checkbox\" name =\"item \" ng-value=\"item .id\" ng-model =\"vm.selecteditem\" /&gt;{{item.name}}\n&lt;/label&gt;\n</code></pre>\n\n<p>The above code selects all the items in ItemList. I need to select only one item from itemList. How do I do that?</p>\n"}, {"tags": ["javascript", "testing", "typescript", "mqtt", "paho"], "answers": [{"comments": [{"owner": {"reputation": 733, "user_id": 3063191, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KXqpt.jpg?s=128&g=1", "display_name": "jlang", "link": "https://stackoverflow.com/users/3063191/jlang"}, "edited": false, "score": 0, "creation_date": 1574782026, "post_id": 52942683, "comment_id": 104348211, "body": "I thought this is what <a href=\"https://github.com/jsdom/jsdom\" rel=\"nofollow noreferrer\">jsdom</a> is all about? Do you have a clue why this is not working in my example?"}], "tags": [], "owner": {"reputation": 2046, "user_id": 6478277, "user_type": "registered", "profile_image": "https://graph.facebook.com/1229096863781238/picture?type=large", "display_name": "Jimi Pajala", "link": "https://stackoverflow.com/users/6478277/jimi-pajala"}, "is_accepted": false, "score": 1, "last_activity_date": 1540277382, "last_edit_date": 1540277382, "creation_date": 1540277004, "answer_id": 52942683, "question_id": 41244084, "link": "https://stackoverflow.com/questions/41244084/window-is-not-defined-when-testing-paho-mqtt-client-with-mocha-and-typescript/52942683#52942683", "title": "&#39;window is not defined&#39; when testing Paho MQTT Client with mocha and typescript", "body": "<p><a href=\"https://www.npmjs.com/package/mochify\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/mochify</a> You could be using similiar NPM module like this. Like you might expect Node.js environment dosen't have browser globals itself so use some library which can integrate these globals to your testing environment.</p>\n\n<p>I am not very familiar with mocha but here's one more library I have played around in Karma as reference <a href=\"https://www.npmjs.com/package/karma-browserify\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/karma-browserify</a></p>\n\n<p><strong>Or</strong> simply using some external service like BrowserStack <a href=\"https://www.npmjs.com/package/browserstack\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/browserstack</a></p>\n"}], "owner": {"reputation": 733, "user_id": 3063191, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KXqpt.jpg?s=128&g=1", "display_name": "jlang", "link": "https://stackoverflow.com/users/3063191/jlang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1540277382, "creation_date": 1482242333, "last_edit_date": 1482255639, "question_id": 41244084, "link": "https://stackoverflow.com/questions/41244084/window-is-not-defined-when-testing-paho-mqtt-client-with-mocha-and-typescript", "title": "&#39;window is not defined&#39; when testing Paho MQTT Client with mocha and typescript", "body": "<p>I googled for days but can't find anything about how to test the <a href=\"https://eclipse.org/paho/clients/js/\" rel=\"noreferrer\">Paho MQTT Client</a>. I tried it in a sort of naive way, like that:</p>\n\n<pre><code>import { suite, test, slow, timeout, skip, only } from 'mocha-typescript';\nimport chai = require('chai');\n\nvar jsdom = require('jsdom');\nvar Paho: any;\nconst expect: any = chai.expect;\nconst host: string = '127.0.0.1';\nconst port: number = 1384;\nconst clientId1: string = 'testid1';\nconst clientId2: string = 'testid2';\n\nlet client1;\nlet client2;\n\ndescribe('test', function () {\n  it('should', function (done) {\n    // emulate browser window, which is required by Paho\n    jsdom.env(\"&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;\", [],\n      function (err: any, window: any) {\n        // when window is ready, require Paho and\n        // initialize with built window\n        Paho = require('ng2-mqtt/mqttws31').jsdom(window);\n        // This does not work -&gt; exception in mqttws31.js: window is not defined\n        client1 = new Paho.MQTT.Client(host, port, clientId1);\n        client1.connect({ onSuccess: () =&gt; { expect(true).to.be.true; done(); }, onFailure: () =&gt; { expect(false).to.be.true; } })\n        done();\n      });\n  });\n});\n</code></pre>\n\n<p>However the <code>Paho = require(...)</code>-Part inside the callback function of <code>jsdom.env(...)</code> throws the exception in mqttws31.js: \"window is not defined\". Has anyone an idea how to solve that, in order to get the Paho Client running in a non-browser  environment?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["angular", "typescript", "module", "components"], "comments": [{"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482242149, "post_id": 41243958, "comment_id": 69687601, "body": "Are you using lazy loading?"}, {"owner": {"reputation": 520, "user_id": 2151116, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e893d298ce2567e5a3fe8470e65f028c?s=128&d=identicon&r=PG", "display_name": "Grigor Aleksanyan", "link": "https://stackoverflow.com/users/2151116/grigor-aleksanyan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482243583, "post_id": 41243958, "comment_id": 69688596, "body": "@G&#252;nterZ&#246;chbauer, if i know right, angular2 use lazy loading by default."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482243663, "post_id": 41243958, "comment_id": 69688648, "body": "No, lazy loading is used when you use <code>loadChildren</code> in routes."}, {"owner": {"reputation": 520, "user_id": 2151116, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e893d298ce2567e5a3fe8470e65f028c?s=128&d=identicon&r=PG", "display_name": "Grigor Aleksanyan", "link": "https://stackoverflow.com/users/2151116/grigor-aleksanyan"}, "reply_to_user": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 0, "creation_date": 1482246259, "post_id": 41243958, "comment_id": 69690519, "body": "@G&#252;nterZ&#246;chbauer, Yes, I&#39;m using lazy loading"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 2, "creation_date": 1482246535, "post_id": 41243958, "comment_id": 69690729, "body": "That&#39;s what causes multiple instance to be generated. By default all providers from all imported modules are registered in the applications root scope, but lazy loaded modules get their own root scope (which is a child scope of the application root scope). When a component or service from a lazy loaded module injects some service and the lazy loaded module has it register an instance from there is injected, only if the lazy loaded module doesn&#39;t have a provider DI checks with the application root scope. All non-lazy loaded modules that request the same dependency get one from the app root"}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1482246592, "post_id": 41243958, "comment_id": 69690766, "body": "Check <a href=\"https://angular.io/docs/ts/latest/guide/ngmodule.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/guide/ngmodule.html</a>. I never dived into that topic about how to ensure services of lazy loaded modules get registered at the application root scope but I guess it is possible. Also check the link at the bottom (<a href=\"https://angular.io/docs/ts/latest/cookbook/ngmodule-faq.html\" rel=\"nofollow noreferrer\">angular.io/docs/ts/latest/cookbook/ngmodule-faq.html</a>)"}, {"owner": {"reputation": 1104, "user_id": 2806801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f6354e14068236101d56be3d5243af7b?s=128&d=identicon&r=PG", "display_name": "Radu Dumbr\u0103veanu", "link": "https://stackoverflow.com/users/2806801/radu-dumbr%c4%83veanu"}, "edited": false, "score": 0, "creation_date": 1499928609, "post_id": 41243958, "comment_id": 77119137, "body": "<a href=\"https://github.com/ngx-translate/core/issues/209\" rel=\"nofollow noreferrer\">github.com/ngx-translate/core/issues/209</a>"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 3170856, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000114115176/picture?type=large", "display_name": "user3170856", "link": "https://stackoverflow.com/users/3170856/user3170856"}, "is_accepted": false, "score": 1, "last_activity_date": 1488444735, "creation_date": 1488444735, "answer_id": 42550707, "question_id": 41243958, "link": "https://stackoverflow.com/questions/41243958/angular2-one-instance-of-module-in-multiple-modules/42550707#42550707", "title": "Angular2: One instance of module in multiple modules", "body": "<p>You need to define a forRoot function in module 'MyTranslateModule'</p>\n\n<pre><code>export class MyTranslateModule {\n\nstatic forRoot(): ModuleWithProviders {\n    return {\n      ngModule: MyTranslateModule ,\n      providers: [TranslateService,TRANSLATION_PROVIDERS]\n    };\n  }\n\n}\n</code></pre>\n\n<p>then import MyTranslateModule in appModule\nas following</p>\n\n<pre><code>@NgModule({\n  bootstrap: [App],\n  declarations: [\n    App\n  ],\n  imports: [ // import Angular's modules\n    BrowserModule,\n    MyTranslateModule.forRoot(),\n    PagesModule,\n    TopPanelModule\n  ],\n  providers: [ // expose our Services and Providers into Angular's dependency ]\n})\n</code></pre>\n\n<p>in this case translate service will be created as singleton \"one instance along the application\" </p>\n"}], "owner": {"reputation": 520, "user_id": 2151116, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e893d298ce2567e5a3fe8470e65f028c?s=128&d=identicon&r=PG", "display_name": "Grigor Aleksanyan", "link": "https://stackoverflow.com/users/2151116/grigor-aleksanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1488444735, "creation_date": 1482241941, "last_edit_date": 1482241983, "question_id": 41243958, "link": "https://stackoverflow.com/questions/41243958/angular2-one-instance-of-module-in-multiple-modules", "title": "Angular2: One instance of module in multiple modules", "body": "<p>Let's make example for <code>ng2-translate</code>  plugin.</p>\n\n<p>I have root <code>AppModule</code>, and children <code>TopPanelModule</code> and <code>PagesModule</code>.</p>\n\n<hr>\n\n<p>I configure <code>ng2-translate</code> for <code>AppModule</code>.</p>\n\n<pre><code>@NgModule({\n  imports: [TranslateModule.forRoot({\n    provide: TranslateLoader,\n    useFactory: (http: Http) =&gt; new TranslateStaticLoader(http, '/assets/i18n', '.json'),\n    deps: [Http]\n  })],\n  exports: []\n})\nexport class AppModule {\n  constructor(translateService: TranslateService) {    \n  }\n}\n</code></pre>\n\n<hr>\n\n<p>In <code>AppComponent</code> I set languages and basic configuration for <code>TranslateModule</code>.</p>\n\n<pre><code>@Component(...)\nexport class AppComponent {\n  constructor(translateService: TranslateService) {\n    translateService.addLangs([\"en\", \"fr\"]);\n    translateService.setDefaultLang('fr');\n\n    const browserLang = 'fr';\n    translateService.use(browserLang.match(/en|fr/) ? browserLang : 'en');    \n  }\n}\n</code></pre>\n\n<hr>\n\n<p>And then I'm trying to use <code>TranslateModule</code> in children modules components - <code>TopPanelComponent</code>, <code>PagesComponent</code>. It does'n work. Pipe not exists error, no translate etc..</p>\n\n<hr>\n\n<p>For resolving this problem, I create a separate module <code>MyTranslateModule</code>, configure <code>TranslateModule</code> on it, and use this module in my <code>PagesModule</code> and <code>TopPanelModule</code>.</p>\n\n<pre><code>@NgModule({\n  imports: [TranslateModule.forRoot({\n    provide: TranslateLoader,\n    useFactory: (http: Http) =&gt; new TranslateStaticLoader(http, '/assets/i18n', '.json'),\n    deps: [Http]\n  })],\n  exports: [TranslateModule]\n})\nexport class MyTranslateModule {\n  constructor(translateService: TranslateService) {\n    translateService.addLangs([\"en\", \"fr\"]);\n    translateService.setDefaultLang('fr');\n\n    const browserLang = 'fr';\n    translateService.use(browserLang.match(/en|fr/) ? browserLang : 'en');\n\n    console.log('AdminTrModule: calling');\n  }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@NgModule({\n  imports: [MyTranslateModule]\n})\nexport class PagesModule{\n\n}\n\n@NgModule({\n  imports: [MyTranslateModule]\n})\nexport class TopPanelModule{\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong>This is important part.</strong> It works! But I think it creates a two instances of TranslateModule, so, when I change transalte langauge by calling in <code>TopComponent</code> <code>translateService.use('en')</code>, it change language in <code>TopPanelModule</code>, but not in <code>PagesModule</code>.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 12071, "user_id": 4395301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j34br9qqF6U/AAAAAAAAAAI/AAAAAAAAAFA/tAovpM_weSo/photo.jpg?sz=128", "display_name": "ranakrunal9", "link": "https://stackoverflow.com/users/4395301/ranakrunal9"}, "edited": false, "score": 0, "creation_date": 1482241171, "post_id": 41243613, "comment_id": 69686877, "body": "share code of <code>UsersService</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1072, "user_id": 5479532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-fMvcUw1-IV0/AAAAAAAAAAI/AAAAAAAAABY/1AoXOByGS8M/photo.jpg?sz=128", "display_name": "Rumes Shyaman", "link": "https://stackoverflow.com/users/5479532/rumes-shyaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1482241539, "creation_date": 1482241539, "answer_id": 41243836, "question_id": 41243613, "link": "https://stackoverflow.com/questions/41243613/angular2-router-gets-me-other-url-route/41243836#41243836", "title": "Angular2 router gets me other url route", "body": "<p>Set your app modul's path for validation as</p>\n\n<pre><code>{\n    path: 'validate/:id/:token', loadChildren: () =&gt; System.import('./validate/validate.module')\n}\n</code></pre>\n\n<p>and then check</p>\n"}], "owner": {"reputation": 14794, "user_id": 3227319, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d0dfcc684d444bcbd4b48734230d5b11?s=128&d=identicon&r=PG&f=1", "display_name": "Jordi", "link": "https://stackoverflow.com/users/3227319/jordi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1482242006, "creation_date": 1482240827, "last_edit_date": 1482242006, "question_id": 41243613, "link": "https://stackoverflow.com/questions/41243613/angular2-router-gets-me-other-url-route", "title": "Angular2 router gets me other url route", "body": "<p>I'm handling these routes on my Angular2 web application: <code>''</code>, <code>'/app'</code>, <code>'/login'</code>, <code>'/signin'</code>, <code>'/validate'</code>, <code>'/error'</code>, <code>'**'</code>:</p>\n\n<p>I've created a route configuration on <code>app.router.ts</code>:</p>\n\n<pre><code>import { Routes } from '@angular/router';\nimport { ErrorComponent } from './error/error.component';\n\nexport const ROUTES: Routes = [{\n   path: '', redirectTo: 'login', pathMatch: 'full'\n  }, {\n    path: 'app',   loadChildren: () =&gt; System.import('./layout/layout.module')\n  }, {\n    path: 'login', loadChildren: () =&gt; System.import('./login/login.module')\n  }, {\n    path: 'signin', loadChildren: () =&gt; System.import('./signin/signin.module')\n  }, {\n    path: 'validate', loadChildren: () =&gt; System.import('./validate/validate.module')\n  }, {\n    path: 'error', component: ErrorComponent\n  }, {\n    path: '**',    component: ErrorComponent\n  }\n];\n</code></pre>\n\n<p>Only <code>'/validate'</code> route have to recollect query parameters. Take a look on <code>Validate</code> module and component:</p>\n\n<pre><code>export const routes = [\n  {path: '', component: Validate}\n];\n\n@NgModule({\n  declarations: [\n    // Components / Directives/ Pipes\n    Validate\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    RouterModule.forChild(routes),\n  ]\n})\nexport default class ValidateModule {\n  static routes = routes;\n}\n\n----------------\n\nimport { Component, ViewEncapsulation, OnInit, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nimport { UsersService, UserDTO } from 'cest/ts';\n\n@Component({\n  selector: '[validate]',\n  templateUrl: './validate.template.html',\n  encapsulation: ViewEncapsulation.None,\n  styleUrls: ['./validate.style.scss'],\n  providers: [ UsersService ]\n})\nexport class Validate implements OnInit, OnDestroy {\n\n  private id: string;\n  private token: string;\n\n  constructor(private router: Router, private route: ActivatedRoute, private userService: UsersService) { }\n\n  ngOnInit():void {\n    this.sub = this.route.queryParams.subscribe(params =&gt; {\n      this.id = params['id'] || undefined;\n      this.token = params['token'] || undefined;\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n}\n</code></pre>\n\n<p>I'm facing up with a trouble related with how <code>router</code> tries to get the correct module/component.</p>\n\n<p>The problem is I'm trying to get this url: <code>http://localhost:3002/validate?id=am9yZGkxMEBsaXZpbmctZGlnaXRhbC13YXkuY29t&amp;token=Ra8i4mrGbz1tf9y9vJHLAd-TKHNH0Ig8o699jXU1YU4%3D-</code>.</p>\n\n<p>As you can see this url is composed by two query parameters: <code>id</code> and <code>token</code>. I don't know why Angular2 router after having set this url on browser url location it's redirected to this url: <code>http://localhost:3002/validate?id=am9yZGkxMEBsaXZpbmctZGlnaXRhbC13YXkuY29t&amp;token=Ra8i4mrGbz1tf9y9vJHLAd-TKHNH0Ig8o699jXU1YU4%3D-#/login</code>.</p>\n\n<p>The last one is the firstone appending <code>#/login</code> path.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["javascript", "http", "angular", "typescript", "dependency-injection"], "comments": [{"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1482240696, "post_id": 41243410, "comment_id": 69686555, "body": "Check this <a href=\"http://stackoverflow.com/questions/40525850/circular-dependency-injection-angular-2/40525992#40525992\" title=\"circular dependency injection angular 2\">stackoverflow.com/questions/40525850/&hellip;</a>"}, {"owner": {"reputation": 239, "user_id": 7304035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0014b601aff8e53cd2fa003792a830ba?s=128&d=identicon&r=PG&f=1", "display_name": "baidario", "link": "https://stackoverflow.com/users/7304035/baidario"}, "reply_to_user": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1482240878, "post_id": 41243410, "comment_id": 69686667, "body": "I saw that answer, but maybe there is better way than use setTimeout"}, {"owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "edited": false, "score": 0, "creation_date": 1482240987, "post_id": 41243410, "comment_id": 69686741, "body": "<a href=\"http://stackoverflow.com/questions/40826073/pass-parameter-to-mddialog-in-angular-material-2/40828423#40828423\" title=\"pass parameter to mddialog in angular material 2\">stackoverflow.com/questions/40826073/&hellip;</a>"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1482241171, "post_id": 41243410, "comment_id": 69686876, "body": "I don&#39;t think you should use <code>AuthService</code> in your <code>CustomXHRBackend</code>, as <code>XHRBackend</code> is lower level than your <code>AuthService</code>. That looks like an anti-pattern, even if it&#39;s convenient to handle errors only once, if there is a solution it might be a bit &quot;hacky&quot;."}, {"owner": {"reputation": 239, "user_id": 7304035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0014b601aff8e53cd2fa003792a830ba?s=128&d=identicon&r=PG&f=1", "display_name": "baidario", "link": "https://stackoverflow.com/users/7304035/baidario"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1482242765, "post_id": 41243410, "comment_id": 69688060, "body": "@n00dl3 to handle http error globally I found two ways, first i described above and second is extend Http class and add rxjs catch method for request method. Does second way ok or it is bad practise?"}, {"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1482242945, "post_id": 41243410, "comment_id": 69688188, "body": "extending <code>Http</code> sounds like a better solution to me. But you will end up with same problem because <code>AuthService</code> will need <code>Http</code> and vice versa. Maybe you could add a 3rd service like <code>AuthErrorHandler</code> that will handle the errors without depending neither on <code>Http</code> nor <code>AuthService</code>."}, {"owner": {"reputation": 483726, "user_id": 217408, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/IlnZm.jpg?s=128&g=1", "display_name": "G&#252;nter Z&#246;chbauer", "link": "https://stackoverflow.com/users/217408/g%c3%bcnter-z%c3%b6chbauer"}, "edited": false, "score": 1, "creation_date": 1482243465, "post_id": 41243410, "comment_id": 69688525, "body": "So what about the answer in the first comment? (or <a href=\"http://stackoverflow.com/questions/40860202/di-with-cyclic-dependency-with-custom-http-and-configservice/40860233#40860233\" title=\"di with cyclic dependency with custom http and configservice\">stackoverflow.com/questions/40860202/&hellip;</a>)"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1513377101, "post_id": 41243410, "comment_id": 82645613, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/40860202/di-with-cyclic-dependency-with-custom-http-and-configservice\">DI with cyclic dependency with custom HTTP and ConfigService</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6992, "user_id": 495157, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/UFMPn.png?s=128&g=1", "display_name": "JGFMK", "link": "https://stackoverflow.com/users/495157/jgfmk"}, "is_accepted": false, "score": 1, "last_activity_date": 1500764787, "last_edit_date": 1500764787, "creation_date": 1500763692, "answer_id": 45259935, "question_id": 41243410, "link": "https://stackoverflow.com/questions/41243410/angular-2-cannot-instantiate-cyclic-dependency/45259935#45259935", "title": "Angular 2 - Cannot instantiate cyclic dependency", "body": "<p>How about HTTP Interceptors... There's a blog post <a href=\"https://scotch.io/@kashyapmukkamala/using-http-interceptor-with-angular2\" rel=\"nofollow noreferrer\">here</a>.<br/>\nIf you Google you'll find more...\n<a href=\"https://angular.io/api/common/http/HTTP_INTERCEPTORS\" rel=\"nofollow noreferrer\">Here's</a> how you hook one into you App Module\nyou can clone the request in you interceptor and add <code>X-CustomAuthHeader</code> into headers etc.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7298407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e149bbc34eac7a77bc905189c96934ec?s=128&d=identicon&r=PG", "display_name": "Maxim", "link": "https://stackoverflow.com/users/7298407/maxim"}, "is_accepted": false, "score": 0, "last_activity_date": 1588760869, "creation_date": 1588760869, "answer_id": 61632886, "question_id": 41243410, "link": "https://stackoverflow.com/questions/41243410/angular-2-cannot-instantiate-cyclic-dependency/61632886#61632886", "title": "Angular 2 - Cannot instantiate cyclic dependency", "body": "<p>Please see in your constructor where you inject dependency. You can't inject in a few Services the same dependency.Example: CustomXHRBackend => AuthService, AuthService => CustomXHRBackend</p>\n"}], "owner": {"reputation": 239, "user_id": 7304035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0014b601aff8e53cd2fa003792a830ba?s=128&d=identicon&r=PG&f=1", "display_name": "baidario", "link": "https://stackoverflow.com/users/7304035/baidario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7761, "favorite_count": 0, "answer_count": 2, "score": 15, "last_activity_date": 1591758260, "creation_date": 1482240219, "last_edit_date": 1482243358, "question_id": 41243410, "link": "https://stackoverflow.com/questions/41243410/angular-2-cannot-instantiate-cyclic-dependency", "title": "Angular 2 - Cannot instantiate cyclic dependency", "body": "<p>I create custom XHRBackend class to catch 401 error globally. In AuthService I have 2 methods which use http - login and refreshToken. So i have dependency chain like that: Http -> customXHRBackend -> AuthService -> Http. How can I fix this?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class CustomXHRBackend extends XHRBackend {\n  constructor(browserXHR: BrowserXhr,\n              baseResponseOptions: ResponseOptions,\n              xsrfStrategy: XSRFStrategy,\n              private router: Router,\n              private authService: AuthService) {\n    super(browserXHR, baseResponseOptions, xsrfStrategy);\n  }\n\n  createConnection(request: Request): XHRConnection {\n    let connection: XHRConnection = super.createConnection(request);\n    connection.response = connection.response\n      .catch(this.handleError.bind(this));\n\n    return connection;\n  }\n\n  handleError(error: Response | any) {\n    console.log('ERROR',error['status']);\n    if(error['status'] === 401) {\n      this.authService.logout();\n      this.router.navigate(['/']);\n    }\n\n    return Observable.throw(error);\n  }\n}\n</code></pre>\n\n<p><strong>AuthService.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Injectable()\nexport class AuthService {\n  private loggedIn: boolean = false;\n\n  constructor(private http: Http) {\n    this.loggedIn = !!localStorage.getItem('authToken');\n  }\n\n  login(email: string, password: string): Observable&lt;Response&gt; {\n    let headers: Headers = new Headers();\n    headers.set('Content-Type', 'application/json');\n\n    return this.http.post('https://httpbin.org/post',\n      {\n        email: email,\n        password: password\n      },\n      {\n        headers: headers\n      })\n      .map((response) =&gt; {\n        let res = response.json();\n\n        // if (res['success']) {\n        if (res) {\n          localStorage.setItem('authToken', res['token']);\n          localStorage.setItem('refreshToken', res['refreshToken']);\n          console.log('logged');\n          this.loggedIn = true;\n        }\n\n        return response;\n      }\n    );\n  }\n\n  logout(): void {\n    localStorage.removeItem('authToken');\n    this.loggedIn = false;\n\n    console.log('Logged out');\n  }\n\n  isLogged(): boolean {\n    return this.loggedIn;\n  }\n\n  refreshToken(): Observable&lt;Response&gt; {\n    let headers: Headers = new Headers();\n    headers.set('token', localStorage.getItem('token'));\n    headers.set('refreshToken', localStorage.getItem('refreshToken'));\n\n    return this.http.get('https://httpbin.org/get', {\n      headers: headers\n    });\n  }\n\n}\n</code></pre>\n\n<p><strong>Include CustomXHRBackend in app.module.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{\n      provide: XHRBackend,\n      useFactory: (browserXHR: BrowserXhr,\n                   baseResponseOptions: ResponseOptions,\n                   xsrfStrategy: XSRFStrategy,\n                   router: Router,\n                   authService: AuthService) =&gt; {\n        return new CustomXHRBackend(browserXHR, baseResponseOptions, xsrfStrategy, router, authService);\n      },\n      deps: [BrowserXhr, ResponseOptions, XSRFStrategy, Router, AuthService]\n    }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 4575, "user_id": 5463904, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DKN09.jpg?s=128&g=1", "display_name": "Lo&#239;cR", "link": "https://stackoverflow.com/users/5463904/lo%c3%afcr"}, "edited": false, "score": 2, "creation_date": 1482237229, "post_id": 41242451, "comment_id": 69684339, "body": "Provide us code, not screenshot of code."}, {"owner": {"reputation": 127321, "user_id": 2435473, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8hKGc.jpg?s=128&g=1", "display_name": "Pankaj Parkar", "link": "https://stackoverflow.com/users/2435473/pankaj-parkar"}, "edited": false, "score": 0, "creation_date": 1482238273, "post_id": 41242451, "comment_id": 69684957, "body": "You don&#39;t need to import <code>ROUTER_DIRECTIVES</code> now, they will available to use view as you already imported <code>RouterModule</code>"}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 1, "creation_date": 1482238525, "post_id": 41242451, "comment_id": 69685101, "body": "If you remove the &lt;router-outlet&gt;&lt;/router-outlet&gt; from your home.component.html, it works? Only leaving the router-outlet on your app.component.html."}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1482239334, "post_id": 41242451, "comment_id": 69685668, "body": "@user1841787 I&#39;ll add that as the answer"}], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 1841787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b3355e0ec19d86b3388269a8a8146e4b?s=128&d=identicon&r=PG", "display_name": "user1841787", "link": "https://stackoverflow.com/users/1841787/user1841787"}, "edited": false, "score": 0, "creation_date": 1482238423, "post_id": 41242810, "comment_id": 69685047, "body": "Actually, i did, like i said, i put in the template html the tag <code>&lt;router-outlet&gt;&lt;&#47;router-outlet&gt;</code>"}, {"owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "edited": false, "score": 0, "creation_date": 1482238458, "post_id": 41242810, "comment_id": 69685063, "body": "check last line of routes.ts"}, {"owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "edited": false, "score": 0, "creation_date": 1482238486, "post_id": 41242810, "comment_id": 69685080, "body": "Yes you have, but when you don&#39;t import the router module , the router-outlet doesn&#39;t mean anything to angular but just a html tag"}, {"owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "edited": false, "score": 2, "creation_date": 1482238576, "post_id": 41242810, "comment_id": 69685134, "body": "Alright , you&#39;re right , this is because of the screenshots :D my mistake"}], "tags": [], "owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "is_accepted": false, "score": -1, "last_activity_date": 1482238669, "last_edit_date": 1482238669, "creation_date": 1482238281, "answer_id": 41242810, "question_id": 41242451, "link": "https://stackoverflow.com/questions/41242451/angular-2-and-routing-issue/41242810#41242810", "title": "Angular 2 and routing issue", "body": "<p>This error mean's you've defined the routes, but you've never defined the  router-outlet or you've defined it in a child component ( home.component ) but you haven't defined the child route for it , <strong>so Angular is confused to find the primary router-outlet.</strong></p>\n\n<p>So , you should remove the router-outlet from home.component , or if you need it there , you should define child routes.</p>\n"}, {"tags": [], "owner": {"reputation": 3543, "user_id": 3763916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5jbLK.jpg?s=128&g=1", "display_name": "dlcardozo", "link": "https://stackoverflow.com/users/3763916/dlcardozo"}, "is_accepted": true, "score": 2, "last_activity_date": 1482239397, "creation_date": 1482239397, "answer_id": 41243155, "question_id": 41242451, "link": "https://stackoverflow.com/questions/41242451/angular-2-and-routing-issue/41243155#41243155", "title": "Angular 2 and routing issue", "body": "<p>Remove the <code>&lt;router-outlet&gt;&lt;/router-outlet&gt;</code> from your <strong>home.component.html</strong></p>\n\n<p>Happy coding!</p>\n"}], "owner": {"reputation": 129, "user_id": 1841787, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b3355e0ec19d86b3388269a8a8146e4b?s=128&d=identicon&r=PG", "display_name": "user1841787", "link": "https://stackoverflow.com/users/1841787/user1841787"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 510, "favorite_count": 0, "accepted_answer_id": 41243155, "answer_count": 2, "score": 1, "last_activity_date": 1482239397, "creation_date": 1482237131, "last_edit_date": 1482238541, "question_id": 41242451, "link": "https://stackoverflow.com/questions/41242451/angular-2-and-routing-issue", "title": "Angular 2 and routing issue", "body": "<p>I have a problem, related to routings : </p>\n\n<blockquote>\n  <p>EXCEPTION: Uncaught (in promise): Error: Cannot find primary outlet to load 'HomeComponent'</p>\n</blockquote>\n\n<p>Here is the package.json file :</p>\n\n<p><a href=\"https://i.stack.imgur.com/1j9tE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1j9tE.png\" alt=\"package.json file\"></a></p>\n\n<p>So, the router version is 3.2.0.</p>\n\n<p>My app.module.ts file :</p>\n\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\nimport { Location, LocationStrategy, HashLocationStrategy } from '@angular/common';\nimport { Headers, RequestOptions, BaseRequestOptions} from '@angular/http';\n\nimport { AppComponent }  from './app.component';\nimport { HomeComponent } from './components/home.component';\nimport { MonitoringComponent } from './components/monitoring.component';\nimport { MonitoringApiComponent } from './components/monitoringApi.component';\nimport { PerfComponent } from './components/perf.component';\nimport { TaciteComponent } from './components/tacite.component';\n\nimport { routing } from './routes';\n\nclass AppBaseRequestOptions extends BaseRequestOptions {\n    headers: Headers = new Headers();\n\n    constructor() {\n        super();\n        this.headers.append('Content-Type', 'application/json');\n        this.body = '';\n    }\n}\n\n@NgModule({\n    imports: [\n        BrowserModule,\n        FormsModule,\n        HttpModule,\n        routing\n    ],\n    declarations: [AppComponent, HomeComponent, MonitoringComponent, MonitoringApiComponent, PerfComponent, TaciteComponent],\n    providers: [\n        { provide: LocationStrategy, useClass: HashLocationStrategy },\n        { provide: RequestOptions, useClass: AppBaseRequestOptions }],\n    bootstrap: [AppComponent]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>My routes.ts file :</p>\n\n<pre><code>import { ModuleWithProviders }  from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomeComponent } from './components/home.component';\nimport { MonitoringComponent } from './components/monitoring.component';\nimport { MonitoringApiComponent } from './components/monitoringApi.component';\nimport { PerfComponent } from './components/perf.component';\nimport { TaciteComponent } from './components/tacite.component';\n\nconst appRoutes: Routes = [\n    {\n        path: '',\n        component: HomeComponent\n    },\n    {\n        path: 'home',\n        component: HomeComponent\n    },\n    {\n        path: 'monitoring',\n        component: MonitoringComponent\n    },\n    {\n        path: 'monitoringapi',\n        component: MonitoringApiComponent\n    },\n    {\n        path: 'perf',\n        component: PerfComponent\n    },\n    {\n        path: 'tacite',\n        component: TaciteComponent\n    }\n];\n\nexport const routing: ModuleWithProviders = RouterModule.forRoot(appRoutes);\n</code></pre>\n\n<p>My home.component.ts file :</p>\n\n<pre><code>import { Component } from '@angular/core';\n//import { ROUTER_DIRECTIVES } from '@angular/router';\n\n@Component({\n    selector: 'home',\n    templateUrl: 'app/components/home.component.html'\n})\nexport class HomeComponent {\n\n    constructor() {}\n}\n</code></pre>\n\n<p>And in my app.component.html and home.component.html, i just add :</p>\n\n<pre><code>&lt;router-outlet&gt;&lt;/router-outlet&gt;\n</code></pre>\n\n<p>I heard that some people said that we have to add this code :</p>\n\n<pre><code>import { ROUTER_DIRECTIVES } from '@angular/router';\n</code></pre>\n\n<p>but unfortunately it seems deprecated on that component version.</p>\n\n<p>Any advice/solution please ?\nRegards</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 2485, "user_id": 3812888, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/blosZ.jpg?s=128&g=1", "display_name": "The Head Rush", "link": "https://stackoverflow.com/users/3812888/the-head-rush"}, "edited": false, "score": 0, "creation_date": 1482237185, "post_id": 41242413, "comment_id": 69684311, "body": "Your app is not loading. The cause is impossible to diagnose without more info. Check the browser console for error messages and edit them into your post."}, {"owner": {"reputation": 4538, "user_id": 809830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdd9801d2717096282258b192edc7793?s=128&d=identicon&r=PG", "display_name": "Alex Kojin", "link": "https://stackoverflow.com/users/809830/alex-kojin"}, "edited": false, "score": 0, "creation_date": 1482237723, "post_id": 41242413, "comment_id": 69684619, "body": "<code>data-remote=&quot;true&quot;</code> and <code>onFocus=&quot;geolocate()&quot;</code> can give errors. check console logs"}], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 3414454, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fEmJf.jpg?s=128&g=1", "display_name": "calistus", "link": "https://stackoverflow.com/users/3414454/calistus"}, "edited": false, "score": 0, "creation_date": 1482238891, "post_id": 41242662, "comment_id": 69685350, "body": "I have that defined in an external JS file and I called this file in my index.html"}, {"owner": {"reputation": 884, "user_id": 1530567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Dv8xJ.png?s=128&g=1", "display_name": "Ashok Shah", "link": "https://stackoverflow.com/users/1530567/ashok-shah"}, "reply_to_user": {"reputation": 664, "user_id": 3414454, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fEmJf.jpg?s=128&g=1", "display_name": "calistus", "link": "https://stackoverflow.com/users/3414454/calistus"}, "edited": false, "score": 0, "creation_date": 1482238978, "post_id": 41242662, "comment_id": 69685412, "body": "you need to utilize that function here."}], "tags": [], "owner": {"reputation": 884, "user_id": 1530567, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Dv8xJ.png?s=128&g=1", "display_name": "Ashok Shah", "link": "https://stackoverflow.com/users/1530567/ashok-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1482237818, "creation_date": 1482237818, "answer_id": 41242662, "question_id": 41242413, "link": "https://stackoverflow.com/questions/41242413/angular-2-multiple-html-lines-of-codetemplate-not-rendering-in-browser/41242662#41242662", "title": "Angular 2: Multiple html lines of code(template) not rendering in browser", "body": "<p>you missed to define the function in class. Define <strong>geolocate</strong> method in class. it should fix your problem</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n    geolocate() {\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 664, "user_id": 3414454, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fEmJf.jpg?s=128&g=1", "display_name": "calistus", "link": "https://stackoverflow.com/users/3414454/calistus"}, "edited": false, "score": 0, "creation_date": 1482239334, "post_id": 41242686, "comment_id": 69685669, "body": "@calistus Great! Well, check my post again, added picture. Check the dev tools in browser, it shows errors. So here the error is pointed out. Makes your life so much easier! :)"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "reply_to_user": {"reputation": 664, "user_id": 3414454, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fEmJf.jpg?s=128&g=1", "display_name": "calistus", "link": "https://stackoverflow.com/users/3414454/calistus"}, "edited": false, "score": 0, "creation_date": 1482239455, "post_id": 41242686, "comment_id": 69685735, "body": "@calistus No problem, glad I could help! :) Please accept answer, so that no other people need to look at this question since it&#39;s solved!  :)"}], "tags": [], "owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "is_accepted": true, "score": 1, "last_activity_date": 1482239250, "last_edit_date": 1482239250, "creation_date": 1482237870, "answer_id": 41242686, "question_id": 41242413, "link": "https://stackoverflow.com/questions/41242413/angular-2-multiple-html-lines-of-codetemplate-not-rendering-in-browser/41242686#41242686", "title": "Angular 2: Multiple html lines of code(template) not rendering in browser", "body": "<pre><code>&lt;input class=\"form-control\" id=\"autocomplete\" placeholder=\"Enter your address\"\n                 onFocus=\"geolocate()\" type=\"text\"&gt;&lt;/input&gt; &lt;!-- error here --&gt; \n</code></pre>\n\n<p>Remove <code>&lt;/input&gt;</code></p>\n\n<p>After that it renders, at least for me.</p>\n\n<p>EDIT. Check the dev tools in browser, it tells where the error is!\n<a href=\"https://i.stack.imgur.com/gU4lO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gU4lO.jpg\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 664, "user_id": 3414454, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fEmJf.jpg?s=128&g=1", "display_name": "calistus", "link": "https://stackoverflow.com/users/3414454/calistus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41242686, "answer_count": 2, "score": 0, "last_activity_date": 1482240308, "creation_date": 1482237056, "last_edit_date": 1482240308, "question_id": 41242413, "link": "https://stackoverflow.com/questions/41242413/angular-2-multiple-html-lines-of-codetemplate-not-rendering-in-browser", "title": "Angular 2: Multiple html lines of code(template) not rendering in browser", "body": "<p>I have a block of HTML code as my template in my <code>app.component.html</code>  file. This code refused to render on the browser. But when I replace the entire content of that file with shorter lines of code, the browser displays that. By shorter lines of code, I mean something like<br>\n<code>&lt;h1&gt;Hello there&lt;/h1&gt;\n &lt;p&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,&lt;/p&gt;</code>.</p>\n\n<p>Below is my code: <code>app.component.html</code></p>\n\n<pre><code>&lt;div class=\"locator\"&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"col-md-12\"&gt;\n        &lt;header class=\"inner-page-header landing-page-header\"&gt;\n          &lt;span&gt;Welcome to&lt;/span&gt;\n          &lt;h1 class=\"start\"&gt;Food&lt;/h1&gt;\n          &lt;p&gt;Daily new menus of breakfast, lunch, evening snacks and dinner; prepared by expert chefs.&lt;/p&gt;\n          &lt;p&gt;\n          &lt;/p&gt;\n        &lt;/header&gt;\n        &lt;div class=\"holder landing-page-form\"&gt;\n          &lt;form accept-charset=\"UTF-8\" action=\"/localities/set_locality\"\n                class=\"location-form col-xs-12 col-sm-6 col-sm-offset-3\" data-remote=\"true\" id=\"zip_form\"\n                method=\"get\"&gt;\n            &lt;div style=\"display:none\"&gt;\n              &lt;input name=\"utf8\" type=\"hidden\" value=\"\u2713\"&gt;\n            &lt;/div&gt;\n            &lt;p&gt;SELECT LOCATION &lt;/p&gt;\n            &lt;hr class=\"small-line\"&gt;\n            &lt;div id=\"locationField\"&gt;\n              &lt;input class=\"form-control\" id=\"autocomplete\" placeholder=\"Enter your address\"\n                     onFocus=\"geolocate()\" type=\"text\"&gt;&lt;/input&gt;\n            &lt;/div&gt;\n            &lt;div class=\" text-center\"&gt;\n              &lt;button id=\"singlebutton\" name=\"findfood\" class=\"btn btn-lg btn-space btn-primary\"&gt;Find food&lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><code>app.component.ts</code>:</p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n})\nexport class AppComponent {\n\n}\n</code></pre>\n\n<p><code>index.html</code>:</p>\n\n<pre><code>......\n  &lt;div class=\"page-content\"&gt;\n\n    &lt;app-root&gt;Loading...&lt;/app-root&gt;\n\n  &lt;/div&gt;\n.......\n</code></pre>\n\n<p>All I see as output is: <code>Loading</code> </p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "electron", "systemjs"], "comments": [{"owner": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 0, "creation_date": 1482236444, "post_id": 41241971, "comment_id": 69683877, "body": "I&#39;m not sure, but are DEV-dependencies available in electron at runtime? Have you tried installing it as a normal dependency: <code>npm install xml-js --save</code> - instead of <code>npm install xml-js --save-dev</code> or moving it to the &lt;dependencies&gt; zone?"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "reply_to_user": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 0, "creation_date": 1482236612, "post_id": 41241971, "comment_id": 69683984, "body": "@OvidiuDolha: tried installing with --save but nothing changed. All the other modules are visible though, so I really can&#39;t guess what is happening here. If I try to force a main file in the systemjs config it throws another error though, like if it&#39;s trying to resolve another file. (it says it can&#39;t find lib.js, though lib is a directory, it looks like it is importing it as an ES6 module instead of regular nodejs ECMAscript5 one)."}, {"owner": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 0, "creation_date": 1482237182, "post_id": 41241971, "comment_id": 69684309, "body": "it is odd indeed... you could try installing it from the github repo and see if there&#39;s a difference, but probably not; also you could try mapping systemjs more direct:  <code>map: { &#39;xml-js&#39;: &#39;.&#47;node_modules&#47;xml-js&#47;index.js&#39; }</code> or even into its lib sub-folder <code>map: { &#39;xml-js&#39;: &#39;.&#47;node_modules&#47;xml-js&#47;lib&#47;index.js&#39; }</code>"}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "reply_to_user": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 0, "creation_date": 1482244537, "post_id": 41241971, "comment_id": 69689240, "body": "@OvidiuDolha: Unluckily it still doesn&#39;t work and throws the same error. Surprisingly, now, regardless the module is mapped or not it throws me the error anyway, so my guess is that the problem is rather related to system-js itself looking for all the modules installed in node_modules."}, {"owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "reply_to_user": {"reputation": 4583, "user_id": 5379496, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9fOgDREqOyM/AAAAAAAAAAI/AAAAAAAAAU8/8dNQx8FK4hY/photo.jpg?sz=128", "display_name": "Ovidiu Dolha", "link": "https://stackoverflow.com/users/5379496/ovidiu-dolha"}, "edited": false, "score": 0, "creation_date": 1482246829, "post_id": 41241971, "comment_id": 69690936, "body": "@OvidiuDolha: I&#39;ve found the issue: there is NO way to include xml-js with systemjs directly (at least not without relying on jspm). The reason is that systemjs does not support natively the modules format exported by nodejs. The only solution, to me, is to find another module which is &quot;UDM&quot; (universal module definition), so that you can import it regularly with no issues."}], "answers": [{"tags": [], "owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "is_accepted": true, "score": 1, "last_activity_date": 1482247289, "creation_date": 1482247289, "answer_id": 41245698, "question_id": 41241971, "link": "https://stackoverflow.com/questions/41241971/systemjs-cannot-find-xml-js-module-with-typescript-and-electron/41245698#41245698", "title": "SystemJS cannot find xml-js module with typescript and electron", "body": "<p>After a couple of hours of documentation and, being honest, disappointment, I've found out that you <strong>can't</strong> directly include node modules with systems, because systemjs cannot interprete them directly.</p>\n\n<p>I had to change the whole library, and relied on this one:\n<a href=\"https://www.npmjs.com/package/jxon\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/jxon</a>\nwhich says \"A complete, bidirectional, JXON (lossless JavaScript XML Object Notation) library. <strong>Packed as UMD.</strong>\". I've check what \"UMD\" means, which means \"Universal Module Definition\": <a href=\"https://github.com/umdjs/umd\" rel=\"nofollow noreferrer\">https://github.com/umdjs/umd</a></p>\n\n<p>So, you likely can use the UMD tools to wrap the modules in your application, else you can rely on existing ones available somewhere.</p>\n\n<p>In my case, using jxon, I had to change my code a bit:</p>\n\n<ol>\n<li>First of all, in package.json I've removed xml-js and added jxon</li>\n<li>In my systemjs.config.js file I've added the module in the map list (along with the other ones): <code>'jxon':'npm:jxon'</code></li>\n<li>Still in the systemjs.config.js file, I had to tell in the \"packages\" section that the defaultextension was JS and that the main file was jxon.min.js: <code>packages: { jxon: { defaultExtension: 'js', main: 'jxon.min.js' } }</code></li>\n<li>Last but not least, I could include it regularly in my typescript file with no errors, and could use the prototypes it offered to accomplish my goals (I've required it using \"require\", not \"import\", but it should work aswell with something like <code>import * as jxonparser from 'jxon'</code>, though I've used: <code>const jxon_parser = require('jxon');</code></li>\n</ol>\n\n<p>So, in a very concise nutshell: <strong>you can't include node modules with systemjs unless they are either as UMD or that can be interpreted from systemjs</strong>. If you want to check the formats supported by systemjs, check this: <a href=\"https://github.com/systemjs/systemjs/blob/master/docs/module-formats.md\" rel=\"nofollow noreferrer\">https://github.com/systemjs/systemjs/blob/master/docs/module-formats.md</a></p>\n"}], "owner": {"reputation": 6538, "user_id": 2275797, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lg0K6.jpg?s=128&g=1", "display_name": "briosheje", "link": "https://stackoverflow.com/users/2275797/briosheje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 41245698, "answer_count": 1, "score": 0, "last_activity_date": 1482247289, "creation_date": 1482235531, "question_id": 41241971, "link": "https://stackoverflow.com/questions/41241971/systemjs-cannot-find-xml-js-module-with-typescript-and-electron", "title": "SystemJS cannot find xml-js module with typescript and electron", "body": "<p>I'm trying to require the <code>xml-js</code> module (<a href=\"https://www.npmjs.com/package/xml-js\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/xml-js</a>) to do some XML parsing in my existing Electron + Typescript project.</p>\n\n<p>What I'm slightly confused about is why it is throwing an error.</p>\n\n<p>First of all, the <code>tsconfig.json</code> file is the following:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"module\": \"commonjs\",\n        \"moduleResolution\": \"node\",\n        \"sourceMap\": true,\n        \"emitDecoratorMetadata\": true,\n        \"experimentalDecorators\": true,\n        \"removeComments\": false,\n        \"noImplicitAny\": false,\n        \"outDir\":   \"dist\"\n    },\n    \"exclude\": [\n        \"node_modules\"\n    ]\n}\n</code></pre>\n\n<p>the relevant part of the systemjs config is here:</p>\n\n<pre><code>    paths: {\n      'npm:': 'node_modules/'\n    },\n    map: {\n      'xml-js': 'npm:xml-js'\n    },\n    packages: {\n      app: {\n        main: './main.js',\n        defaultExtension: 'js'\n      },\n    rxjs: {\n       defaultExtension: 'js'\n     }\n    }\n</code></pre>\n\n<p>So the module is located in node_modules/xml-js (like many others).</p>\n\n<p>When I build my application, I get the following error:</p>\n\n<pre><code>file://&lt;path&gt;/Documents/projectFolder/electron-angular2-rc6/ng2-electron/node_modules/xml-js Failed to load resource: net::ERR_FILE_NOT_FOUND\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>index.html:18 Error: (SystemJS) XHR error loading file://&lt;path&gt;/Documents/projectFolder/electron-angular2-rc6/ng2-electron/node_modules/xml-js\n</code></pre>\n\n<p>I'm attempting to load the module through:</p>\n\n<pre><code>const parser = require(\"xml-js\");\n</code></pre>\n\n<p>(so, as vanilla JS), in my typescript component (application.component.ts).</p>\n\n<p>The relevant part of my index.html is:</p>\n\n<pre><code>&lt;script src=\"systemjs.config.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n        System.import('app').catch(function(err){ console.error(err); });\n\n        document.addEventListener('dragover',function(event){\n            event.preventDefault();\n            return false;\n        },false);\n\n        document.addEventListener('drop',function(event){\n            event.preventDefault();\n            return false;\n        },false);\n    &lt;/script&gt;\n</code></pre>\n\n<p>The module has been installed through:</p>\n\n<pre><code>npm install xml-js --save-dev\n</code></pre>\n\n<p>And exists in the directory <code>node_modules/xml-js</code></p>\n\n<p>I have tons of other modules (including rxjs and angular-in-memory-web-api) along with the regular @angular ones: all of them are working properly and throwing no error, but the xml-js one seems to be not working whatsoever.</p>\n"}, {"tags": ["angular", "typescript", "router"], "comments": [{"owner": {"reputation": 20897, "user_id": 1169519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/j4Iyy.png?s=128&g=1", "display_name": "Teemu", "link": "https://stackoverflow.com/users/1169519/teemu"}, "edited": false, "score": 3, "creation_date": 1482234138, "post_id": 41241477, "comment_id": 69682485, "body": "If this is an example of <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, I&#39;ll quit ..."}, {"owner": {"reputation": 7202, "user_id": 2491, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/00f2c9b243b278d2ba50bc1aeeccc642?s=128&d=identicon&r=PG&f=1", "display_name": "Svend", "link": "https://stackoverflow.com/users/2491/svend"}, "edited": false, "score": 0, "creation_date": 1482333214, "post_id": 41241477, "comment_id": 69732776, "body": "To be fair, it&#39;s not really minimal, all the auths and all that isnt required. Even the simplest use of routes will fail when using zone.js 0.7.3. But yeah, and frankly its becoming more and more important to be explicit about everything. Guess it&#39;s my own fault for just installing zone.js like a moron, instead of checking what version angular2 actually used themselves in their plunkers."}], "answers": [{"comments": [{"owner": {"reputation": 974, "user_id": 2289514, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UpWuW.jpg?s=128&g=1", "display_name": "Alex Kalmikov", "link": "https://stackoverflow.com/users/2289514/alex-kalmikov"}, "edited": false, "score": 1, "creation_date": 1482249060, "post_id": 41242638, "comment_id": 69692443, "body": "WTF is happened ? Same issue for me and 0.7.2 solved the issue. Is 0.7.3 their dev-master ?!"}, {"owner": {"reputation": 7516, "user_id": 1066915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89d475fb9dc14a3f4f84f876f812fb50?s=128&d=identicon&r=PG", "display_name": "Fabien Sa", "link": "https://stackoverflow.com/users/1066915/fabien-sa"}, "edited": false, "score": 1, "creation_date": 1482256813, "post_id": 41242638, "comment_id": 69697130, "body": "The related issue is here: <a href=\"https://github.com/angular/zone.js/issues/554\" rel=\"nofollow noreferrer\">github.com/angular/zone.js/issues/554</a>"}, {"owner": {"reputation": 18666, "user_id": 684869, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b5e4af3b89fcb27368ecf0af31c3ca06?s=128&d=identicon&r=PG", "display_name": "cgatian", "link": "https://stackoverflow.com/users/684869/cgatian"}, "edited": false, "score": 1, "creation_date": 1482257436, "post_id": 41242638, "comment_id": 69697449, "body": "Jesus why... I feel like breaking changes like this are getting incredibly unwielding to manage."}, {"owner": {"reputation": 111, "user_id": 3267022, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/gId7H.jpg?s=128&g=1", "display_name": "Namone", "link": "https://stackoverflow.com/users/3267022/namone"}, "edited": false, "score": 1, "creation_date": 1482262014, "post_id": 41242638, "comment_id": 69699842, "body": "Yep, struggled with this problem for a couple hours... couldn&#39;t find any problem in my code. This fixed it. EDIT: this also works...  &quot;zone.js&quot;: &quot;0.7.4&quot;"}, {"owner": {"reputation": 427, "user_id": 3163675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHmuO.jpg?s=128&g=1", "display_name": "Blockchain Nerd", "link": "https://stackoverflow.com/users/3163675/blockchain-nerd"}, "edited": false, "score": 0, "creation_date": 1482276075, "post_id": 41242638, "comment_id": 69706190, "body": "Yes, zone.js has upgraded to 0.7.4 fixed this bug."}, {"owner": {"reputation": 93, "user_id": 7320545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3488a186fc88417bedc516233385e0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Shmily Lin", "link": "https://stackoverflow.com/users/7320545/shmily-lin"}, "edited": false, "score": 0, "creation_date": 1482283884, "post_id": 41242638, "comment_id": 69708202, "body": "Yes, zone.js has upgraded to 0.7.4 fixed this bug, 0.7.3 can not fixed."}], "tags": [], "owner": {"reputation": 427, "user_id": 3163675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sHmuO.jpg?s=128&g=1", "display_name": "Blockchain Nerd", "link": "https://stackoverflow.com/users/3163675/blockchain-nerd"}, "is_accepted": true, "score": 23, "last_activity_date": 1482237888, "last_edit_date": 1482237888, "creation_date": 1482237729, "answer_id": 41242638, "question_id": 41241477, "link": "https://stackoverflow.com/questions/41241477/angular2-typeerror-cannot-set-property-name-of-undefined/41242638#41242638", "title": "angular2 TypeError: Cannot set property &#39;name&#39; of undefined", "body": "<p>Did you use <code>zone.js</code> 0.7.3 in <code>package.json</code>? if so please change to 0.7.2 to try:</p>\n\n<pre><code>\"zone.js\": \"0.7.2\"\n</code></pre>\n\n<p>run <code>npm install</code> to try.</p>\n"}, {"tags": [], "owner": {"reputation": 621, "user_id": 2445248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2de8cafe5d88ee872476a7e8bb301af?s=128&d=identicon&r=PG", "display_name": "mizdler", "link": "https://stackoverflow.com/users/2445248/mizdler"}, "is_accepted": false, "score": 3, "last_activity_date": 1484313164, "creation_date": 1484313164, "answer_id": 41635460, "question_id": 41241477, "link": "https://stackoverflow.com/questions/41241477/angular2-typeerror-cannot-set-property-name-of-undefined/41635460#41635460", "title": "angular2 TypeError: Cannot set property &#39;name&#39; of undefined", "body": "<p>Currently best way is to downgrade/upgrade zone.js to 0.7.4</p>\n\n<pre><code>npm install --save zone.js@0.7.4\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2430, "user_id": 1762493, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pEEmF.jpg?s=128&g=1", "display_name": "Mikeumus", "link": "https://stackoverflow.com/users/1762493/mikeumus"}, "is_accepted": false, "score": 1, "last_activity_date": 1497636215, "creation_date": 1497636215, "answer_id": 44595427, "question_id": 41241477, "link": "https://stackoverflow.com/questions/41241477/angular2-typeerror-cannot-set-property-name-of-undefined/44595427#44595427", "title": "angular2 TypeError: Cannot set property &#39;name&#39; of undefined", "body": "<p>Zone 0.8.x is out now and has much better stack traces and also has this bug fixed:</p>\n\n<pre><code>\"zone.js\": \"&gt;=0.8.12\"\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 7320545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3488a186fc88417bedc516233385e0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Shmily Lin", "link": "https://stackoverflow.com/users/7320545/shmily-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10040, "favorite_count": 1, "accepted_answer_id": 41242638, "answer_count": 3, "score": 8, "last_activity_date": 1497636215, "creation_date": 1482233948, "last_edit_date": 1482237004, "question_id": 41241477, "link": "https://stackoverflow.com/questions/41241477/angular2-typeerror-cannot-set-property-name-of-undefined", "title": "angular2 TypeError: Cannot set property &#39;name&#39; of undefined", "body": "<p>I have an Angular2 project, created at Mac OS and it running. But when I git it at Windows, it can not run.\nIn Chrome, i get this error:</p>\n\n<pre><code>core.umd.js:3491 EXCEPTION: Uncaught (in promise): TypeError: Cannot set property 'name' of undefined\nTypeError: Cannot set property 'name' of undefined\n    at new EmptyError (http://localhost:3000/node_modules/rxjs/util/EmptyError.js:21:30)\n    at FirstSubscriber._complete (http://localhost:3000/node_modules/rxjs/operator/first.js:148:31)\n    at FirstSubscriber.Subscriber.complete (http://localhost:3000/node_modules/rxjs/Subscriber.js:114:18)\n    at MergeAllSubscriber._complete (http://localhost:3000/node_modules/rxjs/operator/mergeAll.js:94:30)\n    at MergeAllSubscriber.Subscriber.complete (http://localhost:3000/node_modules/rxjs/Subscriber.js:114:18)\n    at MapSubscriber.Subscriber._complete (http://localhost:3000/node_modules/rxjs/Subscriber.js:132:26)\n    at MapSubscriber.Subscriber.complete (http://localhost:3000/node_modules/rxjs/Subscriber.js:114:18)\n    at EmptyObservable._subscribe (http://localhost:3000/node_modules/rxjs/observable/EmptyObservable.js:69:24)\n    at EmptyObservable.Observable.subscribe (http://localhost:3000/node_modules/rxjs/Observable.js:45:27)\n    at Observable._subscribe (http://localhost:3000/node_modules/rxjs/Observable.js:103:28)\n    at MapOperator.call (http://localhost:3000/node_modules/rxjs/operator/map.js:54:23)\n    at Observable.subscribe (http://localhost:3000/node_modules/rxjs/Observable.js:42:22)\n    at Observable._subscribe (http://localhost:3000/node_modules/rxjs/Observable.js:103:28)\n    at MergeAllOperator.call (http://localhost:3000/node_modules/rxjs/operator/mergeAll.js:63:23)\n    at Observable.subscribe (http://localhost:3000/node_modules/rxjs/Observable.js:42:22)\ncore.umd.js:3496 ORIGINAL STACKTRACE:ErrorHandler.handleError @ core.umd.js:3496next @ core.umd.js:8449schedulerFn @ core.umd.js:4118SafeSubscriber.__tryOrUnsub @ Subscriber.ts:238SafeSubscriber.next @ Subscriber.ts:190Subscriber._next @ Subscriber.ts:135Subscriber.next @ Subscriber.ts:95Subject.next @ Subject.ts:61EventEmitter.emit @ core.umd.js:4104NgZone.triggerError @ core.umd.js:4465onHandleError @ core.umd.js:4426ZoneDelegate.handleError @ zone.js:246Zone.runGuarded @ zone.js:129_loop_1 @ zone.js:429drainMicroTaskQueue @ zone.js:438ZoneTask.invoke @ zone.js:349\ncore.umd.js:3497 Error: Uncaught (in promise): TypeError: Cannot set property 'name' of undefined\nTypeError: Cannot set property 'name' of undefined\n    at new EmptyError (EmptyError.ts:14)\n    at FirstSubscriber._complete (first.ts:161)\n    at FirstSubscriber.Subscriber.complete (Subscriber.ts:122)\n    at MergeAllSubscriber._complete (mergeAll.ts:91)\n    at MergeAllSubscriber.Subscriber.complete (Subscriber.ts:122)\n    at MapSubscriber.Subscriber._complete (Subscriber.ts:144)\n    at MapSubscriber.Subscriber.complete (Subscriber.ts:122)\n    at EmptyObservable._subscribe (EmptyObservable.ts:74)\n    at EmptyObservable.Observable.subscribe (Observable.ts:98)\n    at Observable._subscribe (Observable.ts:158)\n    at MapOperator.call (map.ts:50)\n    at Observable.subscribe (Observable.ts:96)\n    at Observable._subscribe (Observable.ts:158)\n    at MergeAllOperator.call (mergeAll.ts:61)\n    at Observable.subscribe (Observable.ts:96)\n    at resolvePromise (zone.js:486) [angular]\n    at resolvePromise (zone.js:471) [angular]\n    at :3000de_modules/zone.js/dist/zone.js:520:17 [angular]\n    at Object.onInvokeTask (core.umd.js:4396) [angular]\n    at ZoneDelegate.invokeTask (zone.js:274) [angular]\n    at Zone.runTask (zone.js:151) [&lt;root&gt; =&gt; angular]\n    at drainMicroTaskQueue (zone.js:418) [&lt;root&gt;]\n    at XMLHttpRequest.ZoneTask.invoke (zone.js:349) [&lt;root&gt;]ErrorHandler.handleError @ core.umd.js:3497next @ core.umd.js:8449schedulerFn @ core.umd.js:4118SafeSubscriber.__tryOrUnsub @ Subscriber.ts:238SafeSubscriber.next @ Subscriber.ts:190Subscriber._next @ Subscriber.ts:135Subscriber.next @ Subscriber.ts:95Subject.next @ Subject.ts:61EventEmitter.emit @ core.umd.js:4104NgZone.triggerError @ core.umd.js:4465onHandleError @ core.umd.js:4426ZoneDelegate.handleError @ zone.js:246Zone.runGuarded @ zone.js:129_loop_1 @ zone.js:429drainMicroTaskQueue @ zone.js:438ZoneTask.invoke @ zone.js:349\nzone.js:405 Unhandled Promise rejection: TypeError: Cannot set property 'name' of undefined(\u2026) ; Zone: angular ; Task: Promise.then ; Value: TypeError: Cannot set property 'name' of undefined(\u2026) undefined\n</code></pre>\n\n<p>In Firefox, I get this error:</p>\n\n<pre><code>EXCEPTION: Uncaught (in promise): TypeError: err is undefined\nEmptyError@http://localhost:3000/node_modules/rxjs/util/EmptyError.js:21:9\n    FirstSubscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/operator/first.js:148:31\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    MergeAllSubscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/operator/mergeAll.js:94:13\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    Subscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:132:9\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    EmptyObservable.prototype._subscribe@http://localhost:3000/node_modules/rxjs/observable/EmptyObservable.js:69:13\n    Observable.prototype.subscribe@http://localhost:3000/node_modules/rxjs/Observable.js:45:22\n    Observable.prototype._subscribe@http://localhost:3000/node_modules/rxjs/Observable.js:10[\u2026]\nORIGINAL STACKTRACE:  core.umd.js:3496:17\n    resolvePromise@http://localhost:3000/node_modules/zone.js/dist/zone.js:486:31 [angular]\n    resolvePromise@http://localhost:3000/node_modules/zone.js/dist/zone.js:471:17 [angular]\n    scheduleResolveOrRejecthttp://localhost:3000/node_modules/zone.js/dist/zone.js:520:17 [angular]\n    NgZone&lt;/NgZone.prototype.forkInnerZoneWithAngularBehavior/this.inner&lt;.onInvokeTask@http://localhost:3000/node_modules/@angular/core/bundles/core.umd.js:4396:32 [angular]\n    ZoneDelegate.prototype.invokeTask@http://localhost:3000/node_modules/zone.js/dist/zone.js:274:21 [angular]\n    Zone.prototype.runTask@http://localhost:3000/node_modules/zone.js/dist/zone.js:151:28 [&lt;root&gt; =&gt; angular]\n    drainMicroTaskQueue@http://localhost:3000/node_modules/zone.js/dist/zone.js:418:25 [&lt;root&gt;]\n    ZoneTask/this.invoke@http://localhost:3000/node_modules/zone.js/dist/zone.js:349:25 [&lt;root&gt;]\ncore.umd.js:3497:17\nUnhandled Promise rejection: TypeError: err is undefined\n\u5806\u6808\u8ddf\u8e2a\uff1a\n    [object Object] ; Zone: angular ; Task: Promise.then ; Value: TypeError: err is undefined\n\u5806\u6808\u8ddf\u8e2a\uff1a\n    [object Object] undefined  zone.js:405:13\nObject { message: \"Uncaught (in promise): TypeError: err is undefined\nEmptyError@http://localhost:3000/node_modules/rxjs/util/EmptyError.js:21:9\n    FirstSubscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/operator/first.js:148:31\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    MergeAllSubscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/operator/mergeAll.js:94:13\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    Subscriber.prototype._complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:132:9\n    Subscriber.prototype.complete@http://localhost:3000/node_modules/rxjs/Subscriber.js:114:13\n    EmptyObservable.prototype._subscribe@http://localhost:3000/node_modules/rxjs/observable/EmptyObservable.js:69:13\n    Observable.prototype.subscribe@http://localhost:3000/node_modules/rxjs/Observable.js:45:22\n    Observable.prototype._subscribe@http://localhost:3000/node_modules/rxjs/Observable.js:103:16\n    MapOpe\"[\u2026], originalStack: \"ZoneAwareError@http://localhost:300\u2026\", zoneAwareStack: \"resolvePromise@http://localhost:300\u2026\", stack: \"resolvePromise@http://localhost:300\u2026\", rejection: TypeError, promise: Object, zone: Object, task: Object }\n</code></pre>\n\n<p>Why?\nThese is my code:</p>\n\n<p>app.module.ts</p>\n\n<pre><code>import { NgModule }      from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { CookieService } from 'angular2-cookie/core';\nimport './rxjs-operators';\n\nimport { LoginModule } from './login/login.module';\nimport { HomeModule } from './home/home.module';\n\nimport { AppComponent }  from './app.component';\nimport { LoadingComponent } from './loading/loading.component';\nimport { NavigationComponent } from './navigation/navigation.component';\n\nimport { LoginTransferService } from './service/transfer/login-transfer.service';\n\nimport { AppRoutingModule } from './app-routing.module';\n\nimport { AppRouteGuardsService } from './app-route-guards.service';\n\n\n@NgModule({\n    imports:      [\n        BrowserModule,\n        AppRoutingModule,\n        LoginModule,\n        HomeModule,\n    ],\n    declarations: [\n        AppComponent,\n        LoadingComponent,\n        NavigationComponent,\n    ],\n    providers: [\n        CookieService,\n        AppRouteGuardsService,\n        LoginTransferService\n    ],\n    bootstrap:    [ AppComponent ]\n})\nexport class AppModule { }\n</code></pre>\n\n<p>app.component.ts</p>\n\n<pre><code>import { Component } from '@angular/core';\n\nimport './rxjs-operators';\n\n@Component({\n    selector: 'my-app',\n    template: `\n        &lt;ArrowIMWP-navigation&gt;&lt;/ArrowIMWP-navigation&gt;\n        &lt;router-outlet&gt;&lt;/router-outlet&gt;\n    `,\n    styleUrls: ['app/app.component.css']\n})\nexport class AppComponent  {  } \n</code></pre>\n\n<p>app-routing.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoadingComponent } from './loading/loading.component';\nimport { AppRouteGuardsService } from './app-route-guards.service';\n\nconst routes: Routes = [{\n    path: '',\n    component: LoadingComponent,\n    canActivate : [ AppRouteGuardsService ]\n}];\n\n@NgModule({\n    imports: [ RouterModule.forRoot(routes) ],\n    exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}\n</code></pre>\n\n<p>app-route-guards.service.ts</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport {\n    Router,\n    CanActivate,\n    ActivatedRouteSnapshot,\n    RouterStateSnapshot\n} from '@angular/router';\nimport { CookieService } from 'angular2-cookie/core';\n\n@Injectable()\nexport class AppRouteGuardsService implements CanActivate {\n    constructor(private cookieService:CookieService, private router:Router) {};\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        let tempIsLogined = this.cookieService.getObject(\"ArrowIMWP-IsLogined\");\n        if (tempIsLogined &amp;&amp; tempIsLogined == true) {\n            if (state.url == \"/\") {\n                this.router.navigate(['/home']);\n                return false;\n            }\n            return true;\n        }else {\n            if (state.url == \"/login\") {\n                return true;\n            }\n            this.router.navigate(['/login']);\n            return false;\n        }\n    }\n}\n</code></pre>\n\n<p>navigation.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'angular2-cookie/core';\nimport { LoginTransferService } from '../service/transfer/login-transfer.service';\n\n@Component({\n    moduleId: module.id,\n    selector: 'ArrowIMWP-navigation',\n    templateUrl: 'navigation.component.html',\n    styleUrls: ['navigation.component.css']\n})\n\nexport class NavigationComponent implements OnInit {\n\n    isShowNavigationItems = false;\n\n    constructor(\n        private router:Router,\n        private cookieService:CookieService,\n        private loginTransferService:LoginTransferService\n    ) {\n        let tempIsLogined = cookieService.getObject(\"ArrowIMWP-IsLogined\");\n        if (tempIsLogined &amp;&amp; tempIsLogined == true) {\n            this.isShowNavigationItems = true;\n        }else {\n            this.isShowNavigationItems = false;\n        }\n\n        loginTransferService.loginSuccessed$.subscribe(\n            data =&gt; {\n                console.log(data);\n                if (data == \"Logined\") {\n                    this.isShowNavigationItems = true;\n                }\n            }\n        )\n    }\n}\n</code></pre>\n\n<p>login.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { BrowserModule }  from '@angular/platform-browser';\nimport { CookieService } from 'angular2-cookie/services/cookies.service';\nimport '../rxjs-operators';\nimport { LoginComponent } from './login.component';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginRouteGuardsService } from './login-route-guards.service';\n\n@NgModule({\n    imports:      [\n        BrowserModule,\n        LoginRoutingModule\n    ],\n    declarations: [ LoginComponent ],\n    providers: [\n        CookieService,\n        LoginRouteGuardsService\n    ],\n    bootstrap:    [ LoginComponent ]\n})\n\nexport class LoginModule {}\n</code></pre>\n\n<p>login.component.ts</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { CookieService } from 'angular2-cookie/core';\nimport { Router } from '@angular/router';\nimport '../rxjs-operators';\nimport { LoginTransferService } from '../service/transfer/login-transfer.service';\n\n@Component({\n    moduleId: module.id,\n    selector: 'ArrowIMWP-login',\n    templateUrl: 'login.component.html',\n    styleUrls : ['login.component.css']\n})\n\nexport class LoginComponent implements OnInit {\n\n    constructor(\n        private cookieService:CookieService,\n        private router:Router,\n        private loginTransferService:LoginTransferService\n    ) {}\n\n    loginButtonClicked() {\n        this.cookieService.putObject(\"ArrowIMWP-IsLogined\", true);\n        this.router.navigate(['/home']);\n        this.loginTransferService.loginSuccessedNext(\"Logined\");\n    }\n}\n</code></pre>\n\n<p>login-routing.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LoginComponent } from './login.component';\nimport { LoginRouteGuardsService } from './login-route-guards.service';\n\n@NgModule({\n    imports: [ RouterModule.forChild([{\n        path: 'login',\n        component: LoginComponent,\n        canActivate : [ LoginRouteGuardsService ]\n    }]) ],\n    exports: [ RouterModule ]\n})\n\nexport class LoginRoutingModule {}\n</code></pre>\n\n<p>login-route-guards.service.ts</p>\n\n<pre><code>import { Injectable, OnInit } from '@angular/core';\nimport {\n    Router,\n    CanActivate,\n    ActivatedRouteSnapshot,\n    RouterStateSnapshot\n} from '@angular/router';\nimport { CookieService } from 'angular2-cookie/core';\n\n@Injectable()\nexport class LoginRouteGuardsService implements OnInit,CanActivate {\n    constructor(private cookieService:CookieService, private router:Router) {};\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n        let tempIsLogined = this.cookieService.getObject(\"ArrowIMWP-IsLogined\");\n        if (tempIsLogined &amp;&amp; tempIsLogined == true) {\n            this.router.navigate(['/home']);\n            return false;\n        }else {\n        return true;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 352, "user_id": 5607958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2WMr.png?s=128&g=1", "display_name": "NRP", "link": "https://stackoverflow.com/users/5607958/nrp"}, "edited": false, "score": 1, "creation_date": 1482242085, "post_id": 41241941, "comment_id": 69687547, "body": "you are right. Considering your explanation, I changed my code. I passed the variable to the ngIf rather than passing the function and it resolves the problem. :D"}, {"owner": {"reputation": 352, "user_id": 5607958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2WMr.png?s=128&g=1", "display_name": "NRP", "link": "https://stackoverflow.com/users/5607958/nrp"}, "edited": false, "score": 0, "creation_date": 1482327544, "post_id": 41241941, "comment_id": 69728889, "body": "Yes It did. I just tried. But I was wondering if Ig want to use ngIf twice in a component then what am I supposed to do? Will it be convenient to make a function call or something else ?"}, {"owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "reply_to_user": {"reputation": 352, "user_id": 5607958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2WMr.png?s=128&g=1", "display_name": "NRP", "link": "https://stackoverflow.com/users/5607958/nrp"}, "edited": false, "score": 0, "creation_date": 1502269126, "post_id": 41241941, "comment_id": 78130914, "body": "@NRJ yes, you actually should do that, it&#39;s a better practice, and if you use .OnPush for your changeDetectionStrategy, that ngIf will be called much less"}], "tags": [], "owner": {"reputation": 22537, "user_id": 3198804, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/roYbX.jpg?s=128&g=1", "display_name": "Milad", "link": "https://stackoverflow.com/users/3198804/milad"}, "is_accepted": true, "score": 4, "last_activity_date": 1502269051, "last_edit_date": 1502269051, "creation_date": 1482235433, "answer_id": 41241941, "question_id": 41241026, "link": "https://stackoverflow.com/questions/41241026/function-inside-ngif-is-called-multiple-times-after-a-single-click-event-angul/41241941#41241941", "title": "Function inside ngIf is called multiple times, after a single click event- Angular2_Typescript", "body": "<p>It's actually quite easy.</p>\n\n<p>When ever you define an <strong>ngIf</strong> , you put an expression inside it right ? </p>\n\n<p>That means every time there is an update inside that component , Angular needs to make sure that the expression inside the <code>ngIf</code> is evaluated. ( This is what you expect from Angular right ? other wise why would you use <code>ngIf</code> ?)</p>\n\n<p>So every time there is an update in the model , or rather , every time there is something that triggers the changeDetection, Angular evaluates that expression , which in your case is a function ( isUploaderEmpty ).</p>\n\n<p>Generally , events are one of the things that fire a changeDetection( it's more complicated than this ).</p>\n\n<p>So that's why :D. </p>\n"}], "owner": {"reputation": 352, "user_id": 5607958, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a2WMr.png?s=128&g=1", "display_name": "NRP", "link": "https://stackoverflow.com/users/5607958/nrp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6156, "favorite_count": 1, "accepted_answer_id": 41241941, "answer_count": 1, "score": 7, "last_activity_date": 1502269051, "creation_date": 1482232441, "last_edit_date": 1482235647, "question_id": 41241026, "link": "https://stackoverflow.com/questions/41241026/function-inside-ngif-is-called-multiple-times-after-a-single-click-event-angul", "title": "Function inside ngIf is called multiple times, after a single click event- Angular2_Typescript", "body": "<p>Hello this is the first time I qm putting question on stackoverflow. \nI am developing an application in angular2: v2.1.0 (typescript- v2.0.10). I am using \"ng2-file-upload\" for file upload. The HTML code is as follows:</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n    &lt;h5 class=\"titleCenter\"&gt; File Upload &lt;/h5&gt;\n    &lt;div class=\"drop-zone\" ng2FileDrop\n         [ngClass]=\"{'nv-file-over': hasBaseDropZoneOver, 'pointerBan': testDisablDropZone}\"\n         (fileOver)=\"fileOverBase($event)\"\n         [uploader]=\"uploader\"&gt;\n        &lt;span *ngIf=\"isUploaderEmpty(uploader.queue)\"&gt;Drop Down box for the CSV file only...!!!&lt;/span&gt;\n        &lt;span *ngFor=\"let item of uploader.queue\" &gt;\n            &lt;p class=\"row\" &gt;\n                &lt;i class=\"fileIcon\"&gt;&lt;/i&gt;\n                &lt;strong&gt;{{ item?.file?.name }}&lt;/strong&gt;\n                &lt;a class=\"fileUploadRemoveButton fa fa-times-circle\" (click)=\"item.remove()\"&gt;&lt;/a&gt;\n            &lt;/p&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n    &lt;div  [ngClass]=\"{'activeCheckButton': testDisablDropZone}\" class=\"CheckboxZone\" (click)=\"disableDropZone($event)\" style=\"margin-top: 10px\"&gt;\n        &lt;span&gt;Click here to disable the dropdown box.&lt;/span&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;button type=\"button\" (click)=\"test($event)\"&gt;click&lt;/button&gt;\n</code></pre>\n\n<p>Here when I clicked on the div with the class 'CheckboxZone' it calls the function 'disableDropZone($event)' but after that it calls the function 'idUploadEmpty()' too.  The same case with the button Click too. \nThe code of the component is as follows:</p>\n\n<pre><code>const URL = 'https://evening-anchorage-3159.herokuapp.com/api/';\n@Component({\n    selector: 'fileupload',\n    templateUrl: './fileupload.component.html',\n    styleUrls: ['./fileupload.component.scss']\n})\nexport default class FileuploadComponent {\npublic uploader:FileUploader = new FileUploader({url: URL, autoUpload:true, allowedMimeType:['text/csv'] });\npublic hasBaseDropZoneOver:boolean = false;\npublic hasAnotherDropZoneOver:boolean = false;\nprivate fileType =['json'];\nprivate flagFile = false;\nprivate testDisablDropZone = false;\nprivate fileNotAccepted = false;\npublic fileOverBase(e:any):void {\n    this.hasBaseDropZoneOver = e;\n    console.log('EVENT fileOverBase : ', e);\n}\n\npublic fileOverAnother(e:any):void {\n    this.hasAnotherDropZoneOver = e;\n    console.log('fileOverAnother : ', e);\n}\n\nisUploaderEmpty (uploaderQueue): boolean {\n    console.log('Queue pqssed from View : ',this.uploader.queue);\n    let qLength = uploaderQueue.length;\n    if(uploaderQueue.length==0){\n        this.fileNotAccepted = true;\n        return true;}\n\n    if (qLength &gt; 1){\n        uploaderQueue.pop();\n        this.flagFile = true;\n        let timer = Observable.timer(3000,10000);\n        timer.subscribe(t=&gt;{\n            this.flagFile = false\n        });\n    }\n    return false;\n}\n\ndisableDropZone () {\n    console.log('disableDropZone clicked...!!!');\n    this.testDisablDropZone =! this.testDisablDropZone;\n}\n\ntest(event)  {\n    console.log('OK')\n}\n}\n</code></pre>\n\n<p>Hard to understand why it is calling the function 'isUploaderEmpty()' all the time when an event is triggered.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "clearinterval"], "comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 0, "creation_date": 1482230839, "post_id": 41240259, "comment_id": 69680474, "body": "Are you <i>quite sure</i> it&#39;s the <code>clearInterval</code> call that has the error you quote?"}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 2, "last_activity_date": 1482230918, "last_edit_date": 1482230918, "creation_date": 1482230217, "answer_id": 41240305, "question_id": 41240259, "link": "https://stackoverflow.com/questions/41240259/clearinterval-not-working-with-handle/41240305#41240305", "title": "clearInterval not working with handle", "body": "<blockquote>\n  <p>Can I do this instead of clearInterval ?</p>\n</blockquote>\n\n<p>No. Doing that would have no effect on the interval timer. It just sets the <code>timer</code> variable to <code>null</code>.</p>\n\n<blockquote>\n  <p>In Typescript it is highlighted red \"argument types do not match parameters\".</p>\n</blockquote>\n\n<p>Make it match. One would have expected <a href=\"http://www.typescriptlang.org/docs/handbook/type-inference.html\" rel=\"nofollow noreferrer\">type inference</a> to be correctly assigning <code>timer</code> the type <code>number</code>, but the error you've quoted suggests that's not happening. You can do it explicitly:</p>\n\n<pre><code>var timer : number = setInterval(() =&gt; {\n// -------^^^^^^^^\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 5512815, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ee65808e0f50ecb5ffb305f82d787fa2?s=128&d=identicon&r=PG&f=1", "display_name": "Knight", "link": "https://stackoverflow.com/users/5512815/knight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 41240305, "answer_count": 1, "score": 0, "last_activity_date": 1482230918, "creation_date": 1482230090, "question_id": 41240259, "link": "https://stackoverflow.com/questions/41240259/clearinterval-not-working-with-handle", "title": "clearInterval not working with handle", "body": "<p>I have a problem with clearInterval function. In Typescript it is highlighted red \"argument types do not match parameters\". So I am unable to log out user.\nHere is the function:</p>\n\n<pre><code>private check() {\n    if (this.isLogged) {\n        var timer = setInterval(() =&gt; {\n            if(this.Expiration &lt; new Date()) {\n                this.signOut.emit(true);\n                clearInterval(timer);\n            }\n        }, 3000);\n    }\n}\n</code></pre>\n\n<p>Can I do this instead of clearInterval ?</p>\n\n<pre><code>timer = null;\n</code></pre>\n"}]