[{"tags": ["angular", "typescript", "protractor", "tsconfig"], "comments": [{"owner": {"reputation": 860, "user_id": 3080299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C4uFd.jpg?s=128&g=1", "display_name": "wilsonhobbs", "link": "https://stackoverflow.com/users/3080299/wilsonhobbs"}, "edited": false, "score": 0, "creation_date": 1563414055, "post_id": 57085319, "comment_id": 100694847, "body": "node modules are generally supposed to be bundled in advance. can you just compile (or have the developer) compile the library in advance?"}, {"owner": {"reputation": 27, "user_id": 4751061, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GZmK_rtKkfo/AAAAAAAAAAI/AAAAAAAAAGg/UXC9UpZ2HGI/photo.jpg?sz=128", "display_name": "Kevin Tsang", "link": "https://stackoverflow.com/users/4751061/kevin-tsang"}, "reply_to_user": {"reputation": 860, "user_id": 3080299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C4uFd.jpg?s=128&g=1", "display_name": "wilsonhobbs", "link": "https://stackoverflow.com/users/3080299/wilsonhobbs"}, "edited": false, "score": 1, "creation_date": 1563474113, "post_id": 57085319, "comment_id": 100722193, "body": "Yep, that did it.  I ran tsc on the accessibility-check.ts file to transpile it in the original packaged library and the error went away. If you submit your comment as an answer, I&#39;ll accept it."}], "answers": [{"tags": [], "owner": {"reputation": 860, "user_id": 3080299, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C4uFd.jpg?s=128&g=1", "display_name": "wilsonhobbs", "link": "https://stackoverflow.com/users/3080299/wilsonhobbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1563563670, "creation_date": 1563563670, "answer_id": 57118461, "question_id": 57085319, "link": "https://stackoverflow.com/questions/57085319/syntaxerror-unexpected-token-tsconfig-not-recognizing-file-within-node-mod/57118461#57118461", "title": "&quot;SyntaxError: Unexpected token {&quot;: tsconfig not recognizing file within node_modules as valid typescript", "body": "<p>node modules are generally supposed to be bundled in advance. when you get this type of error, ask the library developer to transpile in advance, and include declarations to keep the type safety.</p>\n"}], "owner": {"reputation": 27, "user_id": 4751061, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GZmK_rtKkfo/AAAAAAAAAAI/AAAAAAAAAGg/UXC9UpZ2HGI/photo.jpg?sz=128", "display_name": "Kevin Tsang", "link": "https://stackoverflow.com/users/4751061/kevin-tsang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 57118461, "answer_count": 1, "score": 0, "last_activity_date": 1563563670, "creation_date": 1563407035, "last_edit_date": 1563432343, "question_id": 57085319, "link": "https://stackoverflow.com/questions/57085319/syntaxerror-unexpected-token-tsconfig-not-recognizing-file-within-node-mod", "title": "&quot;SyntaxError: Unexpected token {&quot;: tsconfig not recognizing file within node_modules as valid typescript", "body": "<p>I am referencing a simple function from a custom package in my node_modules folder and realized that it is attempting to read the file as javascript instead of typescript. What settings would I need to modify in my tsconfig.json in order for this to work properly?</p>\n\n<p>I have tried wrapping the accessibilityCheck function inside a class and making it part of a module and exporting the module from the custom package for use in my test. Also tried swapping out the import statements for require statements.</p>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\n      \"es2016\"\n    ],\n    \"module\": \"commonjs\",\n    \"moduleResolution\": \"node\",\n    \"outDir\": \"../dist/out-tsc-e2e\",\n    \"sourceMap\": true,\n    \"target\": \"es6\",\n    \"typeRoots\": [\n      \"../node_modules/@types\"\n    ]\n  },\n  \"include\": [\"../node_modules/e2e-utilities/*.ts\"]\n}\n</code></pre>\n\n<p>e2e-utilities is a custom package that we import to the current project</p>\n\n<p><strong>node_modules/e2e-utilties/accessibility-check.ts</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { browser } from 'protractor';\nimport { AxeResults } from 'axe-core';\nimport { SarifLog, convertAxeToSarif } from 'axe-sarif-converter';\nconst util = require('util');\nconst fs = require('fs');\nconst path = require('path');\nconst axeBuilder = require('axe-webdriverjs');\n\nexport async function accessibilityCheck(\n    fileName: string,\n    selectorsToExclude?: string[],\n    selectorsToInclude?: string[]): Promise&lt;AxeResults&gt; {\n    const builder = axeBuilder(browser.driver);\n    if (selectorsToInclude) {\n        selectorsToInclude.forEach(selector =&gt; builder.include(selector));\n    }\n    if (selectorsToExclude) {\n        selectorsToExclude.forEach(selector =&gt; builder.exclude(selector));\n    }\n    const axeResults: AxeResults = await builder.analyze();\n\n    const sarifResults: SarifLog = convertAxeToSarif(axeResults);\n    const a11yResultsFilepath = path.join(__dirname, '../..', 'accessibilityresults');\n    if (!fs.existsSync(a11yResultsFilepath)) {\n        await util.promisify(fs.mkdir)(a11yResultsFilepath);\n    }\n    const filepath = path.join(a11yResultsFilepath, fileName);\n    await util.promisify(fs.writeFile)(filepath, JSON.stringify(sarifResults));\n    return axeResults;\n}\n</code></pre>\n\n<p><strong>test file</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>describe('Accessibility demo', () =&gt; {\n    it('Running accessibility check on dashboard', async () =&gt; {\n        const results = await accessibilityCheck('attract-dashboard.sarif', ['#talent-header'], []);\n    });\n});\n</code></pre>\n\n<p><strong>protractor.conf.js</strong></p>\n\n<pre><code>const { SpecReporter } = require('jasmine-spec-reporter');\nconst VideoReporter = require('protractor-video-reporter');\nconst Path = require('path');\n\nexports.config = {\n    allScriptsTimeout: 11000,\n    useAllAngular2AppRoots: true,\n    specs: [\n        Path.join('../../../../../', '/e2e/accessibility/**/*.a11y-spec.ts')\n    ],\n    capabilities: {\n        'browserName': 'chrome',\n        chromeOptions: {\n            args: [\n                '--start-maximized'\n            ]\n        }\n    },\n    chromeOnly: true,\n    directConnect: true,\n    baseUrl: 'https://localhost:443/',\n    framework: 'jasmine',\n    jasmineNodeOpts: {\n        showColors: true,\n        defaultTimeoutInterval: 110000,\n        print: function () { }\n    },\n    beforeLaunch: function () {\n        require('ts-node').register({\n            project: 'e2e/tsconfig.json'\n        });\n    },\n    onPrepare: function () {\n\n        // Overrides default format of .mov to .avi to work in windows\n        VideoReporter.prototype.jasmineStarted = function() {\n            var self = this;\n            if (self.options.singleVideo) {\n                var videoPath = Path.join(self.options.baseDirectory, 'protractor-accessibility-specs.avi');\n                self._startScreencast(videoPath);\n\n                if (self.options.createSubtitles) {\n                    self._subtitles = [];\n                    self._jasmineStartTime = new Date();\n                }\n            }\n        };\n\n        console.log(process.env.DISPLAY)\n\n        jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n        var failFast = require('jasmine-fail-fast');\n        jasmine.getEnv().addReporter(failFast.init());\n        jasmine.getEnv().addReporter(new VideoReporter({\n            baseDirectory: Path.join(__dirname, 'a11y_report', Date.now().toString()),\n            createSubtitles: true,\n            singleVideo: true,\n            ffmpegCmd: Path.normalize('C:/ffmpeg/bin/ffmpeg.exe'),\n            ffmpegArgs: [\n                '-f', 'gdigrab',\n                '-framerate', '30',\n                '-i', 'desktop',\n                '-q:v','5'\n            ]\n          }));\n    }\n};\n</code></pre>\n\n<pre><code>e2e-utilities\\accessibility-check.ts:7\nimport { browser } from 'protractor';\nSyntaxError: Unexpected token {\n</code></pre>\n\n<p>I instead expect this file to be parsed like a normal typescript file instead of a javascript file and failing.</p>\n"}, {"tags": ["typescript", "union-types"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10113085, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYZzp40nn3Y/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2fy5lIUAOaydPOErVhDBIbgubqRw/mo/photo.jpg?sz=128", "display_name": "DDDDDD", "link": "https://stackoverflow.com/users/10113085/dddddd"}, "edited": false, "score": 0, "creation_date": 1563408206, "post_id": 57085300, "comment_id": 100693828, "body": "Why is that needed?"}, {"owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 53, "user_id": 10113085, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYZzp40nn3Y/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2fy5lIUAOaydPOErVhDBIbgubqRw/mo/photo.jpg?sz=128", "display_name": "DDDDDD", "link": "https://stackoverflow.com/users/10113085/dddddd"}, "edited": false, "score": 0, "creation_date": 1563408783, "post_id": 57085300, "comment_id": 100693935, "body": "@DDDDDD: Probably because allowing two index signatures would get strange if there are conflicting names (whereas intersection types already handle that)."}], "tags": [], "owner": {"reputation": 796429, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "is_accepted": false, "score": 3, "last_activity_date": 1563406898, "creation_date": 1563406898, "answer_id": 57085300, "question_id": 57085281, "link": "https://stackoverflow.com/questions/57085281/how-to-use-key-in-type-two-times/57085300#57085300", "title": "How to use key in Type two times", "body": "<p>Use intersection types:</p>\n\n<pre><code>export type MyTime = {\n  [key in UnionTypeOne]?: {\n    [name: string]: boolean\n  }\n} &amp; {\n  [key in UnionTypeTwo]: boolean\n};\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10113085, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYZzp40nn3Y/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2fy5lIUAOaydPOErVhDBIbgubqRw/mo/photo.jpg?sz=128", "display_name": "DDDDDD", "link": "https://stackoverflow.com/users/10113085/dddddd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563406898, "creation_date": 1563406725, "question_id": 57085281, "link": "https://stackoverflow.com/questions/57085281/how-to-use-key-in-type-two-times", "title": "How to use key in Type two times", "body": "<p>Is it possible to use <code>key in Type</code> two times in a type?</p>\n\n<p>For example:</p>\n\n<pre><code>type UnionTypeOne = '1' | '2'\ntype UnionTypeTwo = '3' | '4'\n\nexport type MyTime = {\n  [key in UnionTypeOne]?: {\n    [name: string]: boolean\n  }\n  [key in UnionTypeTwo]: boolean\n}\n</code></pre>\n\n<p>Right now the compilation fails because the second (<code>[key in UnionTypeTwo]: boolean</code>) is not allowed.</p>\n"}, {"tags": ["reactjs", "typescript", "design-patterns"], "answers": [{"tags": [], "owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1563407620, "creation_date": 1563407620, "answer_id": 57085378, "question_id": 57085048, "link": "https://stackoverflow.com/questions/57085048/best-way-to-pass-in-a-react-component/57085378#57085378", "title": "Best way to pass in a React component?", "body": "<p>If the item detail components are all identical in terms of what props they take, then the simplest approach would be to pass the component type as a prop to the list.</p>\n\n<p>In terms of the second question, there's no golden rule, it's whatever really makes sense with your components. Based on what you've described though, it sounds like your list component should be a <a href=\"https://medium.com/@learnreact/container-components-c0e67432e005\" rel=\"nofollow noreferrer\">container</a>, and should manage the deletes (possibly also the loading as well) e.g.</p>\n\n<pre><code>const AnchorListItem = ({ onDelete, id, text }) =&gt; (\n  &lt;li&gt;\n    &lt;a data-id={id} onClick={onDelete}&gt;{text}&lt;/a&gt;\n  &lt;/li&gt;\n);\nconst ButtomListItem = ({ onDelete, id, text }) =&gt; (\n  &lt;li&gt;\n    &lt;button data-id={id} onClick={onDelete}&gt;{text}&lt;/button&gt;\n  &lt;/li&gt;\n);\nclass List extends React.Component {\n  handleDeleteItem = e =&gt; {\n    // Delete item (you can grab ID from e.target.dataset.id)\n  }\n  render() {\n    const { data, component: Item } = this.props;\n    const items = data.map((x, i) =&gt; &lt;Item key={i} {...x} onDelete={handleDeleteItem} /&gt;);\n    return &lt;ul&gt;{items}&lt;/ul&gt;;\n  }\n};\nconst PageA = () =&gt; &lt;List component={AnchorListItem} data={...} /&gt;;\nconst PageB = () =&gt; &lt;List component={ButtonListItem} data={...} /&gt;;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 4595141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c86b3154463770587f44ee867993308?s=128&d=identicon&r=PG&f=1", "display_name": "xjinx", "link": "https://stackoverflow.com/users/4595141/xjinx"}, "edited": false, "score": 0, "creation_date": 1563485575, "post_id": 57085405, "comment_id": 100726760, "body": "Hey!  Thank you!  This is exactly what I was looking for and helps a lot."}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": true, "score": 0, "last_activity_date": 1563407872, "creation_date": 1563407872, "answer_id": 57085405, "question_id": 57085048, "link": "https://stackoverflow.com/questions/57085048/best-way-to-pass-in-a-react-component/57085405#57085405", "title": "Best way to pass in a React component?", "body": "<p>For first part of question I suggest to use children props (this called <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">composition</a> in official documentation).</p>\n\n<p>For example</p>\n\n<pre><code>function MyPage () {\n    return &lt;MyList&gt;\n        &lt;MyItem name='item1'/&gt;\n        &lt;MyItem name='item2'/&gt;\n    &lt;/MyList&gt;\n}\n</code></pre>\n\n<p>And <code>MyList</code> component will look like</p>\n\n<pre><code>function MyList (props) {\n    return &lt;div&gt;This is list!\n        {props.children}\n    &lt;/div&gt;\n}\n</code></pre>\n\n<p><code>props.children</code> will contain all elements which are present between <code>&lt;MyList&gt;</code> and <code>&lt;/MyList&gt;</code> tags. (In above example they are <code>&lt;MyItem name='item1'/&gt;</code> and <code>&lt;MyItem name='item2'/&gt;</code>). You can also manipulate childrens props from <code>MyList</code> component using <a href=\"https://reactjs.org/docs/react-api.html#reactchildren\" rel=\"nofollow noreferrer\">React.children</a>.</p>\n\n<p>For second part of your question, in general state should be <a href=\"https://reactjs.org/docs/lifting-state-up.html\" rel=\"nofollow noreferrer\">lifted up</a>. This approach helps in most cases. How high it should be moved depends on several factors. For example, if you will query list items from backend and pass modified list to backend, this can be done in <code>MyList</code> component. But if you'll use list items in other components, for example in left side menu, to show favorites, it can be a good idea to lift state higher to <code>Page</code> component. </p>\n"}], "owner": {"reputation": 85, "user_id": 4595141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c86b3154463770587f44ee867993308?s=128&d=identicon&r=PG&f=1", "display_name": "xjinx", "link": "https://stackoverflow.com/users/4595141/xjinx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 57085405, "answer_count": 2, "score": 1, "last_activity_date": 1563407872, "creation_date": 1563404793, "question_id": 57085048, "link": "https://stackoverflow.com/questions/57085048/best-way-to-pass-in-a-react-component", "title": "Best way to pass in a React component?", "body": "<p>I was hoping to get some advice for best practices / design patterns to use to pass in a component into another component.  My example is, I have a page that has a list component which iterates through a map and renders an items detail component.  I would like to reuse this list component but when it's on different pages, render the data with different item details components.  The one requirement is that, the child component takes in the list item as props and renders it.</p>\n\n<p>My second question is, this child component has a button to delete itself.  Should this be a callback function passed in from the \"page\" component or the list component?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 523, "user_id": 10551540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35psh.png?s=128&g=1", "display_name": "Robert garcia", "link": "https://stackoverflow.com/users/10551540/robert-garcia"}, "edited": false, "score": 0, "creation_date": 1563406309, "post_id": 57085003, "comment_id": 100693464, "body": "I dont understand your problem, i think you need to clarify it a bit, also i noticed in your code you are trying to get a value from a formGroup i think, for that you need to access it via formgroup.value.yourcontrolname"}, {"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1563422029, "post_id": 57085003, "comment_id": 100696331, "body": "Additionally, move your code to the question and remove the screenshots of the code"}], "owner": {"reputation": 30, "user_id": 10547332, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/efVEi.jpg?s=128&g=1", "display_name": "Leonardo B", "link": "https://stackoverflow.com/users/10547332/leonardo-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 139, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563460754, "creation_date": 1563404385, "last_edit_date": 1563460754, "question_id": 57085003, "link": "https://stackoverflow.com/questions/57085003/save-id-from-select-box-from-two-posible-forms-in-angular", "title": "save id from &lt;select-box&gt; from two posible forms in angular", "body": "<p>I need to get the id from one select box, the thing is that the select box change from one form to another depending the option, the problem is that im using the same metho change for the two  and the id disappear when i change from one form to another.</p>\n\n<p>I've been trying to change to set manually the form to the correspond id but then have problems of 'undefined'</p>\n\n<h1><a href=\"https://i.stack.imgur.com/k5iYJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5iYJ.png\" alt=\"Form 1, when id is ok\"></a></h1>\n\n<p><a href=\"https://i.stack.imgur.com/mYpV6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mYpV6.png\" alt=\"Here the id it&#39;s loses\"></a></p>\n\n<pre><code>ticket.html\n\n&lt;div class=\"row animated fadeIn\" [hidden]=\"isSugerir\"&gt;\n      &lt;div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"&gt;\n        &lt;div class=\"row\" [formGroup]=\"formaTicket\" &gt;\n\n      &lt;div class=\"col-lg-3 col-md-4 col-sm-6 col-xs-4\"&gt;\n\n        &lt;div class=\"control\"&gt;\n            &lt;span &gt;Categoria:\n              &lt;dx-select-box formControlName=\"fcCategoriaTicketId\" [dataSource]=\"categoriasTicketsBd\" noDataText=\"No hay datos que mostrar\"\n              displayExpr=\"nombre\" valueExpr=\"id\" [searchEnabled]=\"true\" placeholder=\"Seleccione una Categoria\"\n              (displayValueChange)=\"OnChangeScreenByCategory($event)\"&gt;\n              &lt;/dx-select-box&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n\n&lt;div class=\"row animated fadeIn\" [hidden]=\"!isSugerir\"&gt;\n      &lt;div class=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"&gt;\n        &lt;div class=\"row\" [formGroup]=\"formaSugerirEmpresa\" &gt;\n\n      &lt;div class=\"col-lg-3 col-md-4 col-sm-6 col-xs-4\" &gt;\n\n        &lt;div class=\"control\"&gt;\n            &lt;span style=\"padding: 20px;\"&gt;Categoria:\n              &lt;dx-select-box formControlName=\"fcCategoriaSugId\" [dataSource]=\"categoriasTicketsBd\" noDataText=\"No hay datos que mostrar\"\n              displayExpr=\"nombre\" valueExpr=\"id\" [searchEnabled]=\"true\" placeholder=\"Seleccione una Categoria\"\n              (displayValueChange)=\"OnChangeScreenByCategory($event)\"&gt;\n              &lt;/dx-select-box&gt;\n            &lt;/span&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n\nticket.ts\nOnChangeScreenByCategory(event) {\n        this.nombreCategoria = event;\n        console.log(this.nombreCategoria);\n        console.log(this.formaTicket.controls.fcCategoriaTicketId.value);\n\n\n        if (this.nombreCategoria === 'Sugerencia de Empresa') {\n\n          this.isSugerir = true;\n\n        } else {\n          this.isSugerir = false;\n        }\n\n        console.log('Sugerir Empresa? ', this.isSugerir);\n       }\n</code></pre>\n"}, {"tags": ["typescript", "vue.js", "nuxt.js", "storybook"], "owner": {"reputation": 76, "user_id": 3180377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0b40fc44c32eccbe7db989b1d4dd46?s=128&d=identicon&r=PG&f=1", "display_name": "Creis", "link": "https://stackoverflow.com/users/3180377/creis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 661, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1563984849, "creation_date": 1563404114, "last_edit_date": 1563984849, "question_id": 57084962, "link": "https://stackoverflow.com/questions/57084962/storybook-shows-vue-warn-unknown-custom-element-my-button-and-does-not-mou", "title": "Storybook shows [Vue warn]: Unknown custom element: &lt;my-button&gt; and does not mount Typescript component", "body": "<p>I'm trying to make a project using Nuxt, Typescript, and Storybook. I have a one component, which is a simple button. However, when I run Storybook, the component doesn't mount for the first two stories and I get the following error in the console:</p>\n\n<blockquote>\n  <p>[Vue warn]: Unknown custom element: &lt;my-button&gt; - did you register the component correctly? For recursive components, make sure to provide the \"name\" option.</p>\n</blockquote>\n\n<p>I've tried the component both with and without the name, and variations of the name. I've attempted to add the component to each story, but that results in different errors.</p>\n\n<p>I think there might be something wrong with how the file or how I've included typescript, because the styles/scss isn't loading for the component I don't get the error for either. But that's a bug for later...</p>\n\n<p>MyButton.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;button class=\"button-style\" @click=\"onClick\"&gt;\n    &lt;slot&gt;&lt;/slot&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n  import { Vue, Component, Emit } from 'vue-property-decorator'\n\n@Component({ name: 'MyButton' })\nexport default class MyButton extends Vue {\n\n  @Emit('click')\n  onClick(e){\n    return e;\n  }\n\n}\n&lt;/script&gt;\n\n&lt;style lang=\"scss\"&gt;\n.button-style {\n  border: 1px solid #eee;\n  border-radius: 3;\n  background-color: #FFFFFF;\n  cursor: pointer;\n  font-size: 15;\n  padding: 3px 10px;\n  margin: 10;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>MyButton.stories.tsx</p>\n\n<pre><code>import Vue from 'vue';\nimport { storiesOf } from '@storybook/vue';\n\nimport MyButton from './MyButton.vue';\n\nstoriesOf('MyButton', module)\n  .add('with text', () =&gt; '&lt;my-button&gt;with text&lt;/my-button&gt;')\n  .add('with emoji', () =&gt; '&lt;my-button&gt;\ud83d\ude00 \ud83d\ude0e \ud83d\udc4d \ud83d\udcaf&lt;/my-button&gt;')\n  .add('as a component', () =&gt; ({\n    components: { \n        'my-button': MyButton \n    },\n    template: '&lt;my-button :rounded=\"true\"&gt;rounded&lt;/my-button&gt;',\n    summary: 'Summary for MyButton'\n  }));\n</code></pre>\n\n<p>webpack.config.ts</p>\n\n<pre><code>module.exports = ({ config }) =&gt; {\n  config.module.rules.push({\n    test: /\\.(ts|tsx)$/,\n    use: [\n      {\n        loader: require.resolve('ts-loader'),\n        options: {\n          appendTsSuffixTo: [/\\.vue$/],\n          transpileOnly: true\n        }\n      }\n    ],\n  });\n\n  config.module.rules.push({\n    test: /\\.vue$/,\n    loader: 'storybook-addon-vue-info/loader',\n    enforce: 'post'\n  });\n\n  config.module.rules.push({\n    test: /\\.scss$/,\n    use: ['style-loader', 'css-loader', 'sass-loader']\n  });\n\n  config.resolve.extensions.push('.ts', '.tsx', '.js');\n  return config;\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "typescript"], "comments": [{"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1563403499, "post_id": 57084876, "comment_id": 100692832, "body": "Have a look at the white space rule."}, {"owner": {"reputation": 5741, "user_id": 1063035, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8314573837f30a9aed6193630ffe8566?s=128&d=identicon&r=PG", "display_name": "Bryce", "link": "https://stackoverflow.com/users/1063035/bryce"}, "edited": false, "score": 0, "creation_date": 1563405146, "post_id": 57084876, "comment_id": 100693209, "body": "This seems to work as-is just by removing the block-level <code>&lt;div&gt;</code> in your sample: <a href=\"https://plnkr.co/edit/gOPdQjhKi9KgQ4EmN2QW?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/gOPdQjhKi9KgQ4EmN2QW?p=preview</a>"}], "answers": [{"tags": [], "owner": {"reputation": 643, "user_id": 9724409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3edb519d2b9fab0359d0b506ab4dd6?s=128&d=identicon&r=PG&f=1", "display_name": "mullac", "link": "https://stackoverflow.com/users/9724409/mullac"}, "is_accepted": false, "score": 0, "last_activity_date": 1563407484, "creation_date": 1563407484, "answer_id": 57085371, "question_id": 57084876, "link": "https://stackoverflow.com/questions/57084876/how-can-i-make-a-div-with-long-text-go-to-next-line-as-it-was-only-text-overflow/57085371#57085371", "title": "How can I make a div with long text go to next line as it was only text-overflow?", "body": "<p>You can wrap the each of the span elements inside a <code>&lt;p&gt;</code> element, that is assuming that those three span elements are meant to read like one sentence/paragraph.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.parent {\r\n  width: 300px;\r\n}\r\n\r\n.makeItOverflow {\r\n  background-color: orange;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"parent\"&gt;\r\n  &lt;p&gt;\r\n    &lt;span&gt; Some text before &lt;/span&gt;\r\n    &lt;span class=\"makeItOverflow\"&gt;Loooong text ...&lt;/span&gt;\r\n    &lt;span&gt; Some text after &lt;/span&gt;\r\n  &lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 171, "user_id": 2997809, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c2520db2be469c16e14a972abffbd297?s=128&d=identicon&r=PG&f=1", "display_name": "cristi.gherghina", "link": "https://stackoverflow.com/users/2997809/cristi-gherghina"}, "is_accepted": true, "score": 1, "last_activity_date": 1563468694, "creation_date": 1563468694, "answer_id": 57099332, "question_id": 57084876, "link": "https://stackoverflow.com/questions/57084876/how-can-i-make-a-div-with-long-text-go-to-next-line-as-it-was-only-text-overflow/57099332#57099332", "title": "How can I make a div with long text go to next line as it was only text-overflow?", "body": "<p>I found the answer. For me it was a combination of <code>display: inline</code> and <code>white-space: initial</code> and <code>word-break: break-all</code>. The structure that I had was more complicated, but having inline to elements down the tree did the trick!</p>\n\n<p>Thank you for your answers!</p>\n"}], "owner": {"reputation": 171, "user_id": 2997809, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c2520db2be469c16e14a972abffbd297?s=128&d=identicon&r=PG&f=1", "display_name": "cristi.gherghina", "link": "https://stackoverflow.com/users/2997809/cristi-gherghina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 57099332, "answer_count": 2, "score": 0, "last_activity_date": 1563468694, "creation_date": 1563403398, "question_id": 57084876, "link": "https://stackoverflow.com/questions/57084876/how-can-i-make-a-div-with-long-text-go-to-next-line-as-it-was-only-text-overflow", "title": "How can I make a div with long text go to next line as it was only text-overflow?", "body": "<p>I would like to make a div or a span inside a div behave like it was only text so that the overflow goes to the next line.</p>\n\n<p>I am not sure what css properties to use for this. </p>\n\n<p>I already tried to use</p>\n\n<pre><code>overflow-wrap: break-word;\nword-break: break-all;\n</code></pre>\n\n<p>This is my structure.</p>\n\n<pre><code>&lt;div class=\"parent\"&gt;\n   &lt;span&gt; Some text before &lt;/span&gt;\n   &lt;span class=\"makeItOverflow\"&gt; &lt;div&gt;Loooong text ...&lt;/div&gt; &lt;/span&gt;\n   &lt;span&gt; Some text after &lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Expected to have something like this image: <a href=\"https://ibb.co/P1XcMh7\" rel=\"nofollow noreferrer\">https://ibb.co/P1XcMh7</a>.</p>\n"}, {"tags": ["javascript", "typescript", "mocha.js", "webdriver-io"], "answers": [{"comments": [{"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1563403392, "post_id": 57084872, "comment_id": 100692817, "body": "...yeah, I already tried that too; forgot to put it in the question O:)"}], "tags": [], "owner": {"reputation": 766, "user_id": 4838893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4becb137e77ce3b2675af0a1717c4e70?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Cheng", "link": "https://stackoverflow.com/users/4838893/bill-cheng"}, "is_accepted": false, "score": 0, "last_activity_date": 1563403563, "last_edit_date": 1563403563, "creation_date": 1563403336, "answer_id": 57084872, "question_id": 57084848, "link": "https://stackoverflow.com/questions/57084848/mocha-tests-finish-before-completely-then-running-its/57084872#57084872", "title": "Mocha tests \u2013 finish &quot;before&quot; completely, then running &quot;it&quot;s", "body": "<p>Try this</p>\n\n<pre><code>beforeEach(async () =&gt; {\n  const service: TheService = new TheService();\n  await service.setUp(); // ...superagent returns a Promise\n});\n</code></pre>\n"}], "owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1563403563, "creation_date": 1563403133, "last_edit_date": 1563403340, "question_id": 57084848, "link": "https://stackoverflow.com/questions/57084848/mocha-tests-finish-before-completely-then-running-its", "title": "Mocha tests \u2013 finish &quot;before&quot; completely, then running &quot;it&quot;s", "body": "<p>I'm running some tests using Mocha <code>6.1.4</code> (under WebdriverIO <code>5.11.6</code>). I want to <em>complete the execution of something</em> in <code>before</code> (read: store some values via an HTTP call) and then start running the tests \u2013 the <code>it</code> fellows. Basically, do everythig as if it were synchronous calls. This is (an excerpt of) the (TypeScript) code that I'm using:</p>\n\n<pre><code>// file: ./test/service.spec.ts\n\ndescribe(\"#this stuff\", () =&gt; {\n  before(() =&gt; {\n    browser.url(\"login-url\");\n  });\n\n  beforeEach(() =&gt; {\n    const service: TheService = new TheService();\n    return service.setUp(); // ...superagent returns a Promise\n  });\n\n  it(\"should-do-it\", () =&gt; {\n      // ...test + expectations here\n    });\n  });\n});\n</code></pre>\n\n<hr>\n\n<pre><code>// ./src/the-service.ts\n\nimport * as superagent from \"superagent\";\n\n// ...\n\npublic setUp() {\n  return superagent.post(this.uri)\n      .accept(\"application/json\")\n      .set(\"Content-Type\", \"application/json\")\n      .send(body)\n      .then();\n}\n</code></pre>\n\n<p>If I understood correctly the Mocha <a href=\"https://mochajs.org/#asynchronous-code\" rel=\"nofollow noreferrer\">docs</a> (and some questions/answers also here in StackOverflow), returning a <code>Promise</code> inside <code>beforeEach</code> it is all I need to accomplish this, but so far, it doesn't work.</p>\n\n<p>The only consistent way I've found is to execute the content of the <code>it</code> method as a <code>setUp()</code>'s callback:</p>\n\n<pre><code>// ...inside `it`\nservice.setUp().then(() =&gt; {\n  // ...test + expectations here\n});\n</code></pre>\n\n<p>Can somebody versed on the ECMAScript / TypeScript world shed some light here?</p>\n"}, {"tags": ["angular", "typescript", "rest"], "comments": [{"owner": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 3, "creation_date": 1563402292, "post_id": 57084518, "comment_id": 100692531, "body": "Perhaps *ngIf=&quot;isNavigationDataLoaded&quot; - set a boolean when your data is loaded. Hide your navigation until then."}, {"owner": {"reputation": 41, "user_id": 4725646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9bf5588abc61d884add519fed26ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Bogu", "link": "https://stackoverflow.com/users/4725646/bogu"}, "reply_to_user": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 0, "creation_date": 1563403129, "post_id": 57084518, "comment_id": 100692742, "body": "What happens is the navigation loads eventually, but not fast enough if I were to do a refresh. Since refreshing the page will clear the navigation from memory, I have to retrieve it again. Since I have to retrieve it again, I need a way to wait until it&#39;s fully retrieve before checking the access still. Let&#39;s say if I navigate the &#39;/usermanagement&#39; page and refresh. It should bring me back to the &#39;/usermanagement&#39; page, but is unable to verify the permissions on load since the menu items haven&#39;t been loaded into memory yet."}, {"owner": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 1, "creation_date": 1563403918, "post_id": 57084518, "comment_id": 100692923, "body": "Every time the service is called to get the data set isNavigationDataLoaded=false until the data is returned. Then set it to true again."}, {"owner": {"reputation": 176, "user_id": 2391758, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f919d13cc701004f8e52cb4affbb0c08?s=128&d=identicon&r=PG", "display_name": "Where&#39;s-the-pi", "link": "https://stackoverflow.com/users/2391758/wheres-the-pi"}, "edited": false, "score": 1, "creation_date": 1563404034, "post_id": 57084518, "comment_id": 100692953, "body": "How are you storing the component and routeguardservice inside the json object. I&#39;m trying to replicate the problem so I can help work on a solution."}, {"owner": {"reputation": 41, "user_id": 4725646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9bf5588abc61d884add519fed26ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Bogu", "link": "https://stackoverflow.com/users/4725646/bogu"}, "reply_to_user": {"reputation": 2854, "user_id": 3749219, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bxHeq.jpg?s=128&g=1", "display_name": "Mathias", "link": "https://stackoverflow.com/users/3749219/mathias"}, "edited": false, "score": 0, "creation_date": 1563404258, "post_id": 57084518, "comment_id": 100693009, "body": "@Mathias I have tried this but seems to check the permissions still before the load of the data"}, {"owner": {"reputation": 41, "user_id": 4725646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9bf5588abc61d884add519fed26ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Bogu", "link": "https://stackoverflow.com/users/4725646/bogu"}, "edited": false, "score": 0, "creation_date": 1563404486, "post_id": 57084518, "comment_id": 100693075, "body": "I have editted the post to give a better idea of what&#39;s going on, sorry if I hadn&#39;t included this before"}], "owner": {"reputation": 41, "user_id": 4725646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9bf5588abc61d884add519fed26ecf0?s=128&d=identicon&r=PG&f=1", "display_name": "Bogu", "link": "https://stackoverflow.com/users/4725646/bogu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563404430, "creation_date": 1563400512, "last_edit_date": 1563404430, "question_id": 57084518, "link": "https://stackoverflow.com/questions/57084518/how-to-get-data-from-a-rest-api-call-before-the-application-loads", "title": "How to get data from a REST api call before the application loads", "body": "<p>I'm trying to make a REST api call before the application loads. From what I believe there are no synchronize REST api calls in Angular/Typescript. So I am unable to get this data before I want to use that data. The reason I'm trying to get data from the REST api call before the application loads is because I have menu items that requires me to check their permissions before I even get those menu items. </p>\n\n<p>For example, in the JSON object below I have a menu item object that is retrieved through a REST api call. Using a RouteGuardService, I navigate to a page, but before I do I check their access by comparing the permissions they have in their token to the permissions that come with the menu item JSON object. </p>\n\n<p>In the second JSON object below is the definition of a route. In the 'canActivate' property it references the RouteGuardService which handles if the user has access to a certain menu.</p>\n\n<p>I've tried checking the permissions on the callback of the REST api call, but am unable to do so since the navigation has already started on load. </p>\n\n<p>JSON Object 1</p>\n\n<pre><code>{\n                Text: 'Users',\n                Tooltip: null,\n                Target: '/administration/usermanagement',\n                AccessPermissions: ['sys.a'],\n                Order: 3,\n                CollapsedIcon: 'fa fa-user',\n                ExpandedIcon: 'fa fa-user',\n                Children: []\n            }\n</code></pre>\n\n<p>JSON Object 2</p>\n\n<pre><code>{\n                        path: 'usermanagement',\n                        component: GridUserManagementComponent,\n                        data: { title: \"User Management\" },\n                        canActivate: [RouteGuardService]\n                    },\n</code></pre>\n\n<p>What I'd hope to happen is have the menu items data load into memory before I go to check if the user is able to access that page. What happens is it goes to a blank gray screen which occurs when it doesn't have access to that page. I recorded the loaded menu items data at the time of the check for access and found it hasn't been filled yet.</p>\n\n<p>EDIT:\nRoutes definition included in the 'app-routing.module.ts'</p>\n\n<pre><code>export const appRoutes: Routes =\n[\n    {\n        path: '',\n        component: AppMasterLayoutComponent,\n        children: [\n            /* Dashboard */\n            {\n                path: 'dashboard',\n                component: DashboardComponent,\n                data: { title: \"Dashboard\" },\n                canActivate: [RouteGuardService]\n            },\n\n            /* Administration */\n            {\n                path: 'administration',\n                children: [\n                    {\n                        path: 'security',\n                        component: SecurityComponent,\n                        data: { title: \"Security\" },\n                        canActivate: [RouteGuardService]\n                    },\n                    {\n                        path: 'localization',\n                        component: LocalizationComponent,\n                        data: { title: \"Localization\" },\n                        canActivate: [RouteGuardService]\n                    },\n                    {\n                        path: 'template-management',\n                        component: TemplateManagementComponent,\n                        data: { title: \"Template Management\" },\n                        canActivate: [RouteGuardService]\n                    },\n                    {\n                        path: 'usermanagement',\n                        component: GridUserManagementComponent,\n                        data: { title: \"User Management\" },\n                        canActivate: [RouteGuardService]\n                    },\n...\n</code></pre>\n\n<p>Method called to check access in the 'route-guard.service.ts'</p>\n\n<pre><code>@Injectable()\nexport class RouteGuardService implements CanActivate {\n\n    constructor(private jwtService: JwtService, private ccRestApiService: CCRestAPIService) { }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n        let url: string = state.url;\n\n        console.log('AuthGuard canActivate called. url: ' + url);\n\n        return this.isIdentityTokenValid(url) &amp;&amp; this.hasAccess(url)\n    }\n...\n</code></pre>\n"}, {"tags": ["typescript", "dynamic", "runtime", "typechecking"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563400529, "post_id": 57084427, "comment_id": 100692152, "body": "<i>I&#39;m having trouble getting typechecking on the method calls</i>: what does that mean, precisely? Post the exact and complete error you get. Note that: 1. your class use a string as argument to helpText(), but your interface uses an ILang; 2. you&#39;re calling helpText() without passing any argument."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563402170, "post_id": 57084427, "comment_id": 100692507, "body": "means there is no typechecking available at compile time. i can type anything and it compiles, added an example to clarify (and cleaned up demo code above to match codebase, good catch)"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563402410, "post_id": 57084427, "comment_id": 100692556, "body": "Your <code>tixy</code>variable is probably declared as <code>any</code> instead of <code>IBot</code> or <code>TixBot</code>. Post a complete minimal example reproducing the problem."}, {"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563402857, "post_id": 57084427, "comment_id": 100692665, "body": "no the instance is declared: <code>public actions: BotActions</code>. The code is part of a large codebase so a little hard to isolate. the above is accurate though."}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1563408420, "post_id": 57084427, "comment_id": 100693870, "body": "If you can&#39;t produce a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> it&#39;s hard for anyone who isn&#39;t at your computer to figure it out.  Try reproducing your issue in a standalone/web IDE. If you can do that, post your code here.  If not, then your environment differs in some way you should be able to debug.  Good luck!"}], "owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563402085, "creation_date": 1563399926, "last_edit_date": 1563402085, "question_id": 57084427, "link": "https://stackoverflow.com/questions/57084427/how-to-get-typechecking-on-dynamic-methods", "title": "how to get typechecking on dynamic methods?", "body": "<p>I have a TS object that delegates some actions to another class instance. But since this instance is created at runtime, I'm having trouble getting typechecking on the method calls.\nSomething like:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\n    // main bot class\n    class TixBot extends BaseBot implements IBot  {\n\n      public actions: BotActions\n\n      constructor(room: IRoom) {\n        super()\n        // based on situation we may delegate to a different actions bot\n        this.actions = new TixyActions(this)\n      }\n\n    }\n\n    // class to handle actions varies by bot\n    class TixyActions implements BotActions {\n\n      public helpText(lang: ILang): string {\n        return \"something\"\n      }\n    }\n\n</code></pre>\n\n<p>so in other code I have an instance of the TixBot \nand try to call the <code>actions.helpText()</code> of its internal reference:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    tixbotInstance.actions.helpText('en')\n</code></pre>\n\n<p>But I can't get any typechecking on this method.\nThe typedefs so far look a bit like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    //types/index.d.ts\n\n    export interface BotActions {\n      helpText(lang: ILang): string\n    }\n\n    export interface IBot {\n      actions: IBotActions\n</code></pre>\n\n<p>So is there a way to use casting or type guards or something to allow me to see inside VScode all of the actions?</p>\n\n<p>There is no actual error thrown but just no typechecking or VSCode intellisense on the method.</p>\n\n<p>eg I can type this with no compile time issues, a method that doesn't exist on the dynamic instance.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    const introText:string = tixy.actions.foo() // no error!!\n</code></pre>\n\n<p>So <code>tixy.actions</code> even though it's created at runtime, does have a declared type/interface so I would have thought TS would be able to peek in and stop me from typing stupid stuff.</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 3136, "user_id": 1596460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fwyxG.jpg?s=128&g=1", "display_name": "0112", "link": "https://stackoverflow.com/users/1596460/0112"}, "edited": false, "score": 0, "creation_date": 1563399816, "post_id": 57084272, "comment_id": 100691953, "body": "Welcome to stackoverflow!  Be sure and research questions on your own before asking them here, we as a community can be a bit stingy when it comes to that sort of thing. A quick google search pops up <a href=\"https://github.com/mooz/node-pdf-image\" rel=\"nofollow noreferrer\">github.com/mooz/node-pdf-image</a>, a library that does exactly what you want.  Congratulations on asking your first question, and feel free to read through the FAQ and tour pages to get a better idea of how the site works."}, {"owner": {"reputation": 3136, "user_id": 1596460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fwyxG.jpg?s=128&g=1", "display_name": "0112", "link": "https://stackoverflow.com/users/1596460/0112"}, "edited": false, "score": 0, "creation_date": 1563399905, "post_id": 57084272, "comment_id": 100691978, "body": "<a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 3, "user_id": 11799810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac968b9edaa2c82061f4e9a922cf1513?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Morales", "link": "https://stackoverflow.com/users/11799810/sergio-morales"}, "reply_to_user": {"reputation": 3136, "user_id": 1596460, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/fwyxG.jpg?s=128&g=1", "display_name": "0112", "link": "https://stackoverflow.com/users/1596460/0112"}, "edited": false, "score": 0, "creation_date": 1563459854, "post_id": 57084272, "comment_id": 100714872, "body": "Thx for the answer. I had searched, but when trying to implement some &quot;solutions&quot; using the pdfjs package, these did not give good results. Thanks for the link, I&#39;ll try this way :)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11799810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac968b9edaa2c82061f4e9a922cf1513?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Morales", "link": "https://stackoverflow.com/users/11799810/sergio-morales"}, "edited": false, "score": 0, "creation_date": 1563893113, "post_id": 57133582, "comment_id": 100847140, "body": "Thank you! I will try this"}], "tags": [], "owner": {"reputation": 18, "user_id": 10756434, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oNy_CR-L4jg/AAAAAAAAAAI/AAAAAAAAAA8/cCpYyq2quLU/photo.jpg?sz=128", "display_name": "Tal Admon", "link": "https://stackoverflow.com/users/10756434/tal-admon"}, "is_accepted": true, "score": 0, "last_activity_date": 1563715019, "creation_date": 1563715019, "answer_id": 57133582, "question_id": 57084272, "link": "https://stackoverflow.com/questions/57084272/react-convert-pdf-to-pngs-and-upload-the-images-to-cloudinary/57133582#57133582", "title": "React: Convert PDF to PNGs and upload the images to Cloudinary", "body": "<p>You can easily convert the PDF to images using Cloudinary - \nJust upload the PDF as you would have done with photos, and use any transformation that you would like to generate any image format:</p>\n\n<p>Example:\n<a href=\"https://res.cloudinary.com/demo/image/upload/single_page_pdf.pdf\" rel=\"nofollow noreferrer\">https://res.cloudinary.com/demo/image/upload/single_page_pdf.pdf</a></p>\n\n<p>Transformation:\n<a href=\"https://res.cloudinary.com/demo/image/upload/f_png/w_500/e_make_transparent/e_replace_color:red:50:darkgray/b_yellow/bo_3px_solid_blue/single_page_pdf.pdf\" rel=\"nofollow noreferrer\">https://res.cloudinary.com/demo/image/upload/f_png/w_500/e_make_transparent/e_replace_color:red:50:darkgray/b_yellow/bo_3px_solid_blue/single_page_pdf.pdf</a></p>\n\n<p>Breakdown:</p>\n\n<ul>\n<li><p><code>f_png</code> - Transforming to PNG</p></li>\n<li><p><code>w_500</code> - Setting result image width to 500px</p></li>\n<li><p><code>e_make_transparent</code> - Removing the white background</p></li>\n<li><p><code>e_replace_color:red:50:darkgray</code> - Replacing the text color from dark gray to red</p></li>\n<li><p><code>b_yellow</code> - Setting the background yellow</p></li>\n<li><p><code>bo_3px_solid_blue</code> - Setting a solid blue border of 3px around the image</p></li>\n</ul>\n\n<p>More transformations here:</p>\n\n<p><a href=\"https://cloudinary.com/documentation/image_transformation_reference?query=e_replace_color&amp;c_query=Image%20transformation%20reference#e_replace_color\" rel=\"nofollow noreferrer\">https://cloudinary.com/documentation/image_transformation_reference?query=e_replace_color&amp;c_query=Image%20transformation%20reference#e_replace_color</a></p>\n"}], "owner": {"reputation": 3, "user_id": 11799810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac968b9edaa2c82061f4e9a922cf1513?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio Morales", "link": "https://stackoverflow.com/users/11799810/sergio-morales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 57133582, "answer_count": 1, "score": 0, "last_activity_date": 1563715019, "creation_date": 1563398833, "last_edit_date": 1563408968, "question_id": 57084272, "link": "https://stackoverflow.com/questions/57084272/react-convert-pdf-to-pngs-and-upload-the-images-to-cloudinary", "title": "React: Convert PDF to PNGs and upload the images to Cloudinary", "body": "<p>I'm working with react typescript and I want to choose a PDF file, convert the PDF into an image, and upload the result in Cloudinary. I already have a service that will upload images in my Cloudinary media library, but I don't know how to convert a pdf to images.</p>\n"}, {"tags": ["typescript", "types", "interface"], "comments": [{"owner": {"reputation": 9029, "user_id": 2663692, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/LOx4z.png?s=128&g=1", "display_name": "Tal Avissar", "link": "https://stackoverflow.com/users/2663692/tal-avissar"}, "edited": false, "score": 0, "creation_date": 1563398040, "post_id": 57084097, "comment_id": 100691365, "body": "type Browser = &#39;chrome&#39; | &#39;firefox&#39; | string;"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1563398666, "creation_date": 1563398666, "answer_id": 57084240, "question_id": 57084097, "link": "https://stackoverflow.com/questions/57084097/how-to-use-union-type-as-property-name-of-interface-type/57084240#57084240", "title": "How to use union type as property name of interface/type", "body": "<p>If you want to allow any <code>boolean</code> property you can use an index signature:</p>\n\n<pre><code>type Browser = 'chrome' | 'firefox'\n\ntype IM = {\n  [key in Browser]: {\n    [name: string]: boolean\n  }\n}\n</code></pre>\n\n<p>The custom mapped type is not really necessary, you can use <code>Record</code> instead:</p>\n\n<pre><code>type IM = Record&lt;Browser, {\n    [name: string]: boolean\n}&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 10113085, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CYZzp40nn3Y/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2fy5lIUAOaydPOErVhDBIbgubqRw/mo/photo.jpg?sz=128", "display_name": "DDDDDD", "link": "https://stackoverflow.com/users/10113085/dddddd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 1, "accepted_answer_id": 57084240, "answer_count": 1, "score": 1, "last_activity_date": 1563398666, "creation_date": 1563397806, "question_id": 57084097, "link": "https://stackoverflow.com/questions/57084097/how-to-use-union-type-as-property-name-of-interface-type", "title": "How to use union type as property name of interface/type", "body": "<p>I have a union type:</p>\n\n<pre><code>type Browser = 'chrome' | 'firefox'\n</code></pre>\n\n<p>and I want to create an interface/type where the valid properties can only be chrome and firefox. I came up with this:</p>\n\n<pre><code>type IM {\n  [key in Browser]: {\n    string: boolean\n  }\n}\n</code></pre>\n\n<p>The problem is that I want allow any property within the <code>chrome</code> and <code>firefox</code> properties. Is it possible? I was trying to use bracket notion:</p>\n\n<pre><code>[string]: boolean\n</code></pre>\n\n<p>But unsurprisingly doesn't work.</p>\n"}, {"tags": ["reactjs", "typescript", "generics", "react-redux"], "comments": [{"owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1563411575, "post_id": 57083627, "comment_id": 100694427, "body": "<code>export default connect()(ItemBar&lt;T&gt;);</code> what happens if you pass in generic to it."}, {"owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "reply_to_user": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "edited": false, "score": 0, "creation_date": 1563414223, "post_id": 57083627, "comment_id": 100694877, "body": "This gives me a new error - <code>Value of type &#39;typeof ItemBar&#39; is not callable. Did you mean to include &#39;new&#39;?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4660, "user_id": 4556423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29dafcfc51c18a4c97540e884a7ddba5?s=128&d=identicon&r=PG&f=1", "display_name": "Rikin", "link": "https://stackoverflow.com/users/4556423/rikin"}, "is_accepted": false, "score": 0, "last_activity_date": 1563827077, "last_edit_date": 1563827077, "creation_date": 1563499979, "answer_id": 57104475, "question_id": 57083627, "link": "https://stackoverflow.com/questions/57083627/passing-typescript-generics-on-react-component-through-connect-from-react-redux/57104475#57104475", "title": "Passing Typescript generics on React component through connect from react-redux", "body": "<pre><code>class ItemBar&lt;T&gt; extends React.PureComponent {\n  // ...\n}\n\nconst connected = connect()(ItemBar);\n\nexport class ItemBar&lt;T&gt; extends connected {}\n</code></pre>\n\n<p>You may have to disable tslint at last line if you have one class rule per file.</p>\n"}], "owner": {"reputation": 355, "user_id": 1014381, "user_type": "registered", "profile_image": "https://graph.facebook.com/214871/picture?type=large", "display_name": "Chubacca", "link": "https://stackoverflow.com/users/1014381/chubacca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563827077, "creation_date": 1563395166, "question_id": 57083627, "link": "https://stackoverflow.com/questions/57083627/passing-typescript-generics-on-react-component-through-connect-from-react-redux", "title": "Passing Typescript generics on React component through connect from react-redux", "body": "<p>I'm trying to use generics in a component that gets passed through react-redux's connect. Here's a stripped down version:</p>\n\n<pre><code>export default class ItemBar&lt;T&gt; extends React.PureComponent{\n  // ...\n}\n</code></pre>\n\n<p>When I use ItemBar with no connect, it looks like this:</p>\n\n<pre><code>export default class Component extends React.PureComponent {\n   render() {\n      return &lt;ItemBar&lt;number&gt; /&gt;;\n   }\n}\n</code></pre>\n\n<p>This works properly. When I \"connect\" the ItemBar class as such:</p>\n\n<pre><code>class ItemBar&lt;T&gt; extends React.PureComponent {\n  // ...\n}\n\nexport default connect()(ItemBar);\n</code></pre>\n\n<p>I now get <code>Expected 0 type arguments, but got 1.</code> from Typescript. I think this is because the connect (and probably any other higher component) doesn't pass through the generics. Is there any way I can get this to work?</p>\n"}, {"tags": ["node.js", "mongodb", "typescript", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 11255107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced6c4d995607f7cc4e6fec30805bd57?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/11255107/ryan-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1563456616, "creation_date": 1563456616, "answer_id": 57095695, "question_id": 57083181, "link": "https://stackoverflow.com/questions/57083181/how-to-achieve-strongly-typed-static-schema-functions-using-mongoose-with-typesc/57095695#57095695", "title": "How to achieve strongly typed static schema functions using Mongoose with Typescript?", "body": "<p>Move your model typing to your interfaces:</p>\n\n<pre><code>export interface Player {\n  name: string;\n  password: string;\n}\n\nexport interface PlayerModel extends Model&lt;Player &amp; Document&gt; {\n   findByName: (name: string) =&gt; any;\n}\n</code></pre>\n\n<p>Now when you create the model, give it two types: the document, and the model:</p>\n\n<pre><code>const playerModel = model&lt;Player, PlayerStatics&gt;('Player', playerSchema);\n\nplayerModel.findByName('foo');\n</code></pre>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/mongoose#static-methods\" rel=\"nofollow noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/mongoose#static-methods</a></li>\n<li><a href=\"https://stackoverflow.com/a/45675548/11255107\">https://stackoverflow.com/a/45675548/11255107</a></li>\n</ul>\n"}], "owner": {"reputation": 199, "user_id": 2027441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/794e555df54efd0824e73b83aebf0852?s=128&d=identicon&r=PG&f=1", "display_name": "Erlend Ellingsen", "link": "https://stackoverflow.com/users/2027441/erlend-ellingsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 57095695, "answer_count": 1, "score": 0, "last_activity_date": 1563456616, "creation_date": 1563392975, "last_edit_date": 1563393760, "question_id": 57083181, "link": "https://stackoverflow.com/questions/57083181/how-to-achieve-strongly-typed-static-schema-functions-using-mongoose-with-typesc", "title": "How to achieve strongly typed static schema functions using Mongoose with Typescript?", "body": "<p>I am wondering what's the best way to achieve strongly typed static functions for Mongoose Schemas when using TypeScript. </p>\n\n<p>I have a solution right now, but it feels messy and adds a lot of extra code if it has to be done for each schema. I will present it at the bottom of this post, but will show the current setup first:</p>\n\n<p>I have the following interfaces:</p>\n\n<p><code>interfaces/Player.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export interface Player {\n  name: string\n  password: string\n}\n\nexport interface PlayerDocument extends Player, Document {\n   // statics\n   findByName(name: string): any\n};\n</code></pre>\n\n<p>The reason I have two interfaces here is because I want to be able to use the Player interface without the Mongoose-bindings as well other places in the app. PlayerDocument here represent the schema-ready interface, which we will use here:</p>\n\n<p><code>schemas/Player.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nconst playerSchema = new mongoose.Schema({\n  name:  { type: String, required: true, unique: true },\n  password: String,\n});\n\n// Not using arrow functions because they prevent binding this. \n// See mongoose-docs\nplayerSchema.statics.findByName = function(name: string) {\n  return this.find({ name: new RegExp(name, 'i') });\n}\n\ninterface test {\n  findByName(name: string): any\n}\n\nexport default mongoose.model&lt;PlayerDocument&gt;('Player', playerSchema);\n\n</code></pre>\n\n<p>The problem here, is that whenever I am now using the schema in other places of the app, I am not getting the static function <code>findByName(name: string): any</code> present in the type.</p>\n\n<p><code>app.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import PlayerSchema from './schemas/Player';\nconst test = async () =&gt; {\n    const x = await PlayerSchema.findByName('Erlend');\n    console.log(x);\n}\n</code></pre>\n\n<p>This gives:</p>\n\n<p><a href=\"https://i.stack.imgur.com/w6weT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w6weT.png\" alt=\"code hint not appearing\"></a></p>\n\n<h2>My solution, which seems hacky</h2>\n\n<p>I managed to solve the issue by creating the following combined type:</p>\n\n<p><code>schemas/Player.ts</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface test {\n    findByName(name: string): any\n}\ntype something = mongoose.Model&lt;PlayerDocument&gt; &amp; test;\nexport default (mongoose.model&lt;PlayerDocument&gt;('Player', playerSchema)) as something;\n</code></pre>\n\n<p>Aand finally:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Khm7Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Khm7Q.png\" alt=\"code hint appearing\"></a></p>\n\n<p>But as explained above, I feel like there should be a better way.. Ideas?</p>\n"}, {"tags": ["node.js", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "is_accepted": true, "score": 4, "last_activity_date": 1563389897, "creation_date": 1563389897, "answer_id": 57082550, "question_id": 57082477, "link": "https://stackoverflow.com/questions/57082477/variable-declaration-expected-in-nodejs-typescript-app/57082550#57082550", "title": "&quot;Variable declaration expected&quot; in Nodejs typescript app", "body": "<p><code>delete</code> is a reserved keyword you cannot use <code>delete</code> for variable name. Change it to something else like <code>remove</code> and it will work.</p>\n\n<pre><code>const remove: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void = (dirName, fileName, callback) =&gt; {\n  fs.unlink(baseDataDir + dirName + \"/\" + fileName + \".json\", (error) =&gt; {\n    if (!error) {\n      callback(false);\n    } else {\n      callback(error);\n    }\n  });\n};\n</code></pre>\n"}], "owner": {"reputation": 3399, "user_id": 8936320, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vF3VX.jpg?s=128&g=1", "display_name": "Ishan Patel", "link": "https://stackoverflow.com/users/8936320/ishan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2373, "favorite_count": 0, "accepted_answer_id": 57082550, "answer_count": 1, "score": 1, "last_activity_date": 1563389897, "creation_date": 1563389517, "question_id": 57082477, "link": "https://stackoverflow.com/questions/57082477/variable-declaration-expected-in-nodejs-typescript-app", "title": "&quot;Variable declaration expected&quot; in Nodejs typescript app", "body": "<p>Created a method to delete the file in directory.</p>\n\n<pre><code>const delete: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void = (dirName, fileName, callback) =&gt; {\n  fs.unlink(baseDataDir + dirName + \"/\" + fileName + \".json\", (error) =&gt; {\n    if (!error) {\n      callback(false);\n    } else {\n      callback(error);\n    }\n  });\n};\n\nconst fsHandler: IFSHandler = {\n  create,\n  read,\n  update,\n  delete\n};\n\nmodule.exports = fsHandler;\n</code></pre>\n\n<p>Interface defined for <code>fsHandler</code>:</p>\n\n<pre><code>export interface IFSHandler {\n  create: (dirName: string, fileName: string, data: any, callback: (error: string | boolean) =&gt; void) =&gt; void;\n  read: (dirName: string, fileName: string, callback: (error: string | boolean, data: any) =&gt; void) =&gt; void;\n  update: (dirName: string, fileName: string, data: any, callback: (error: string | boolean, fileDesc: any) =&gt; void) =&gt; void;\n  delete: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void;\n}\n</code></pre>\n\n<p>Typescript Errors: </p>\n\n<pre><code>yarn run v1.13.0\n$ tsc &amp;&amp; node dist/index.js\nsrc/services/fsHandler.ts:69:7 - error TS1134: Variable declaration expected.\n\n69 const delete: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void = (dirName, fileName, callback) =&gt; {\n         ~~~~~~\n\nsrc/services/fsHandler.ts:69:13 - error TS1109: Expression expected.\n\n69 const delete: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void = (dirName, fileName, callback) =&gt; {\n               ~\n\nsrc/services/fsHandler.ts:69:104 - error TS1109: Expression expected.\n\n69 const delete: (dirName: string, fileName: string, callback: (error: string | boolean) =&gt; void) =&gt; void = (dirName, fileName, callback) =&gt; {\n                                                                                                          ~\n\nsrc/services/fsHandler.ts:84:1 - error TS1005: ':' expected.\n\n84 };\n   ~\n\n\nFound 4 errors.\n\nerror Command failed with exit code 2.\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1563389587, "post_id": 57082447, "comment_id": 100687830, "body": "You can&#39;t check <i>before</i> you&#39;ve called it. Check the <i>methods</i> the result has?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1563390209, "post_id": 57082447, "comment_id": 100688113, "body": "<code>isSaved() =&gt; {}</code> isn&#39;t valid syntax..."}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1563390408, "post_id": 57082447, "comment_id": 100688211, "body": "you&#39;re correct, my bad. fixing it..."}], "answers": [{"comments": [{"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1563392757, "post_id": 57082683, "comment_id": 100689205, "body": "up-voted you both. your answers are kind of the same. I would say that the key point of both answers is that I need to execute the <code>save</code> function first, and than check its type. I will mark pascalpuetz&#39;s answer as correct answer just because it&#39;s not depending or rxjs function and it is just javascript. 10x to you both pascal and @bryan60."}, {"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "reply_to_user": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1563394179, "post_id": 57082683, "comment_id": 100689860, "body": "Whichever is your pref, but FYI the RxJS function uses instanceof under the hood but also adds what\u2019s known as a typeguard and has some secondary checks that I\u2019m assuming are important in some cases though I honestly don\u2019t know them <a href=\"https://github.com/ReactiveX/rxjs/blob/6.3.3/src/internal/util/isObservable.ts\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/blob/6.3.3/src/internal/util/&hellip;</a>"}], "tags": [], "owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "is_accepted": false, "score": 3, "last_activity_date": 1563391932, "last_edit_date": 1563391932, "creation_date": 1563390570, "answer_id": 57082683, "question_id": 57082447, "link": "https://stackoverflow.com/questions/57082447/what-is-the-runtime-type-of-my-union-function-variable-is-it-returning-a-promis/57082683#57082683", "title": "What is the runtime type of my union function variable? Is it returning a Promise or an Observable?", "body": "<p>easiest way is to use rxjs inbuilt isObservable test:</p>\n\n<pre><code>import { isObservable } from \"rxjs\";\n\nexecuteSave(): void {\n  const toSave = this.save();\n  if (isObservable(toSave)) { // checks if observable\n    toSave.subscribe(isSaved =&gt; { ... });\n  } else { // only 2 options so this is a promise\n    toSave.then(isSaved =&gt; { ... });\n  }\n}\n</code></pre>\n\n<p>also don't need the forced typings anymore</p>\n"}, {"comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1563391970, "post_id": 57082731, "comment_id": 100688865, "body": "actually, if the return type is only 2 options, and you rule one out, TS is smart enough to infer that it must be the other type, so the secondary check isn&#39;t needed."}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1563392408, "post_id": 57082731, "comment_id": 100689058, "body": "<code>else { toSave.then(isSaved =&gt; { &#47;* omitted *&#47; }); }</code> is working. no need to typecast"}, {"owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "reply_to_user": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1563392720, "post_id": 57082731, "comment_id": 100689183, "body": "up-voted you both. your answers are kind of the same. I would say that the key point of both answers is that I need to execute the <code>save</code> function first, and than check its type. I will mark this as correct answer just because it&#39;s not depending or rxjs function and it is just javascript. 10x to you both pascal and @bryan60."}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "edited": false, "score": 0, "creation_date": 1563393074, "post_id": 57082731, "comment_id": 100689354, "body": "@benshabatnoam Thank you very much. I adjusted the example accordingly."}], "tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": true, "score": 2, "last_activity_date": 1563393046, "last_edit_date": 1563393046, "creation_date": 1563390842, "answer_id": 57082731, "question_id": 57082447, "link": "https://stackoverflow.com/questions/57082447/what-is-the-runtime-type-of-my-union-function-variable-is-it-returning-a-promis/57082731#57082731", "title": "What is the runtime type of my union function variable? Is it returning a Promise or an Observable?", "body": "<p>That can be achieved using the handy <code>instanceof</code> operator. This also gives you the benefit that the type of your variable (in your case <code>toSave</code>) will be automatically inferred to the type of the right-hand side of your <code>instanceof</code> operation inside the if-block. So you won't need to typecast.</p>\n\n<pre><code>import { Observable } from \"rxjs\";\n\nexecuteSave(): void {\n    const toSave = this.save();\n    if (toSave instanceof Observable) { \n        // Since you used \"instanceof\" here, typescript knows that \"toSave\" is of type \"Observable\" inside this if\n        toSave.subscribe(isSaved =&gt; { /* omitted */ });\n    } else if (toSave instanceof Promise) { // else would be enough, since there are only two possible types for \"toSave\"\n        // Same goes for the Promise\n        toSave.then(isSaved =&gt; { /* omitted */ });\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> As stated in comments, second typecheck is not needed. I adjusted the comment in code accordingly.</p>\n"}], "owner": {"reputation": 5335, "user_id": 2342414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSR39.jpg?s=128&g=1", "display_name": "benshabatnoam", "link": "https://stackoverflow.com/users/2342414/benshabatnoam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 57082731, "answer_count": 2, "score": 0, "last_activity_date": 1563393046, "creation_date": 1563389383, "last_edit_date": 1563390432, "question_id": 57082447, "link": "https://stackoverflow.com/questions/57082447/what-is-the-runtime-type-of-my-union-function-variable-is-it-returning-a-promis", "title": "What is the runtime type of my union function variable? Is it returning a Promise or an Observable?", "body": "<p>I have this abstract variable in my class:</p>\n\n<pre><code>abstract save(): Promise&lt;boolean&gt; | Observable&lt;boolean&gt;;\n</code></pre>\n\n<p>I have a function that runs this <code>save</code> function that the derived class implemented. How can I check if it is a promise or an observable?</p>\n\n<pre><code>executeSave(): void {\n  if (///// is this a promise??? /////) {\n    (&lt;Promise&lt;boolean&gt;&gt;this.save()).then(isSaved =&gt; { ... });\n  } else {\n    (&lt;Observable&lt;boolean&gt;&gt;this.save()).subscribe(isSaved =&gt; { ... });\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1563388393, "post_id": 57081838, "comment_id": 100687286, "body": "Errors often explain what&#39;s wrong.  What&#39;s your error?  If it&#39;s something like <code>the property &quot;title&quot; doesn&#39;t exist on type {}</code>, then the type system is helping you.  If you want <code>madeObject</code> to have a <code>title</code> property, you need to give it a type like <code>let madeObject: {title?: string} = {}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563391037, "post_id": 57082492, "comment_id": 100688453, "body": "Are you saying the alternative way is fine or is it still not recommended"}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563391526, "post_id": 57082492, "comment_id": 100688667, "body": "@MatthewGuo It is still not recommended. Typescript&#39;s main purpose is to document your types and find mistakes based on types. Imagine you had a typo in your <code>fieldName</code> string: <code>const fieldName = &#39;tiiiitle&#39;</code>. If you used the first way, the typescript compiler will tell you that &#39;tiiiitle&#39; is not a property key of <code>MyObject</code> - whereas, if you used any, it would compile and you&#39;d only notice the error during runtime."}, {"owner": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563391994, "post_id": 57082492, "comment_id": 100688877, "body": "I get that. However, with my other problem which I added on above, I am trying to build an interface from a string[]. I don&#39;t know how to circumvent this issue because I don&#39;t have the interface to work off of to begin with."}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563392156, "post_id": 57082492, "comment_id": 100688957, "body": "@MatthewGuo Ah okay, so you want to dynamically add keys to an object and you only know at runtime which keys are available? If you know the possible keys at build time, then building the interface yourself is best practice. If you DON&#39;T know them at build time but only at runtime, then you can use another alternative (I&#39;ll add that to my answer)."}, {"owner": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563392396, "post_id": 57082492, "comment_id": 100689052, "body": "I really appreciate your help here. I am trying to auto generate type interfaces based on an input to a function that asks for a type from a database (i.e. if there is a type in the database called QueryInput, I want to auto create an interface for that) So while I know what I need, I can&#39;t just hard code it."}, {"owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "reply_to_user": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "edited": false, "score": 0, "creation_date": 1563392738, "post_id": 57082492, "comment_id": 100689194, "body": "@MatthewGuo You&#39;re very welcome. I should mention though that types in typescript are only present during compile time. During run time, the interfaces will be gone."}], "tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": true, "score": 2, "last_activity_date": 1563392616, "last_edit_date": 1563392616, "creation_date": 1563389574, "answer_id": 57082492, "question_id": 57081838, "link": "https://stackoverflow.com/questions/57081838/convert-string-to-object-property-name/57082492#57082492", "title": "Convert string to object property name", "body": "<p>That's because typescript infers the type of <code>madeObject</code> to be <code>{}</code> (empty object). Just give it a more explicit type</p>\n\n<pre><code>interface MyObject {\n    title:string;\n}\n\nlet madeObject:Partial&lt;MyObject&gt; = {};\nconst fieldName:keyof MyObject = 'title';\nmadeObject[fieldName] = 'hello';\n</code></pre>\n\n<p>If you know that an object will have keys, but you don't know the name of the keys (maybe because they are only known at runtime), then you can use typescripts dynamic keys</p>\n\n<pre><code>interface MyObject {\n    // left side is the type of the key (usually string or symbol)\n    // right side is the type of the property (use \"any\" if you don't know)\n    [key:string]: string; \n}\n\nlet madeObject:MyObject = {};\nconst fieldName:string = 'title';\nmadeObject[fieldName] = 'hello';\n\n// Or you can make the interface Generic, if you have this situation a lot:\n\ninterface MyObjectGeneric &lt;V = any, K = string&gt; {\n    [key:K]: V; \n}\n\nlet madeObject:MyObjectGeneric/* &lt;string&gt; */ = {}; // Adding &lt;string&gt; would narrow the return type down to string\nconst fieldName:string = 'title';\nmadeObject[fieldName] = 'hello';\n</code></pre>\n\n<p>Another way to solve this would be to remove the type safety all together (this is NOT recommended and makes typescript lose its purpose)</p>\n\n<pre><code>let madeObject:any = {}; // declares that madeObject could be anything\nconst fieldName = 'title';\nmadeObject[fieldName] = 'hello';\n\n// alternatively:\n\nlet madeObject2 = {}; // Type inferred as \"{}\"\n(madeObject2 as any)[fieldName] = 'hello'; // Removes type safety only temporarily for this statement\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10844762, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4532mRlwa5Y/AAAAAAAAAAI/AAAAAAAAALg/sqGYUDRmQEg/photo.jpg?sz=128", "display_name": "Matthew Guo", "link": "https://stackoverflow.com/users/10844762/matthew-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 57082492, "answer_count": 1, "score": 0, "last_activity_date": 1563392616, "creation_date": 1563386666, "last_edit_date": 1563389725, "question_id": 57081838, "link": "https://stackoverflow.com/questions/57081838/convert-string-to-object-property-name", "title": "Convert string to object property name", "body": "<p>I have seen a similar question asked about this problem for javascript. However, I need the answer in typescript and I can't figure out how to do it. <a href=\"https://stackoverflow.com/questions/12164764/convert-string-value-to-object-property-name?noredirect=1&amp;lq=1\">Convert string value to object property name</a></p>\n\n<pre><code>let madeObject = {};\nconst fieldName = 'title';\nmadeObject[fieldName] = 'hello';\n</code></pre>\n\n<p>Also, I am trying to create an interface from a <code>string[]</code> where each element is a string with the desired property name and value type. <a href=\"https://stackoverflow.com/questions/57078666/use-elements-of-an-array-to-set-the-fields-of-a-new-object\">Use elements of an array to set the fields of a new object</a>. Because of this, I won't know before hand what my properties are going to be, hence why I am trying to find a way to create a new interface with the given properties.</p>\n"}, {"tags": ["javascript", "typescript", "tabs"], "comments": [{"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1563422393, "post_id": 57081671, "comment_id": 100696396, "body": "Even if you could, you really probably shouldn&#39;t. But, if state is all your worried about, what about storing it in localstorage or a cookie?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3670677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322a8399cb95bbc02e1c9558859f4b80?s=128&d=identicon&r=PG&f=1", "display_name": "user3670677", "link": "https://stackoverflow.com/users/3670677/user3670677"}, "edited": false, "score": 0, "creation_date": 1563387283, "post_id": 57081856, "comment_id": 100686755, "body": "It would work only if the user didn&#39;t open another one in the meanwhile...We can&#39;t guarantee that the previous one is actually the one where website A is open. But thanks anyway!"}], "tags": [], "owner": {"reputation": 2285, "user_id": 3126323, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/625654da2ba9a5a082c1e4f8917a0774?s=128&d=identicon&r=PG", "display_name": "farvilain", "link": "https://stackoverflow.com/users/3126323/farvilain"}, "is_accepted": false, "score": 0, "last_activity_date": 1563386716, "creation_date": 1563386716, "answer_id": 57081856, "question_id": 57081671, "link": "https://stackoverflow.com/questions/57081671/is-there-a-way-to-change-between-browser-tabs-programatically/57081856#57081856", "title": "Is there a way to change between browser tabs programatically?", "body": "<p>There is no way to perform such action in JS, it would be a nightmare for everyone.</p>\n\n<p>But... link on website B can just be a <code>window.close()</code>... Previous one will be re-focused.</p>\n\n<p>Is it good for you?</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 3670677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322a8399cb95bbc02e1c9558859f4b80?s=128&d=identicon&r=PG&f=1", "display_name": "user3670677", "link": "https://stackoverflow.com/users/3670677/user3670677"}, "edited": false, "score": 0, "creation_date": 1563387419, "post_id": 57081927, "comment_id": 100686817, "body": "Thanks for you reply! Actually that&#39;s the proper approach, let&#39;s see if it&#39;s worth it to pursue this or just drop the feature."}], "tags": [], "owner": {"reputation": 105, "user_id": 11588215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hQgRp.jpg?s=128&g=1", "display_name": "JohnL", "link": "https://stackoverflow.com/users/11588215/johnl"}, "is_accepted": false, "score": 0, "last_activity_date": 1563386979, "creation_date": 1563386979, "answer_id": 57081927, "question_id": 57081671, "link": "https://stackoverflow.com/questions/57081671/is-there-a-way-to-change-between-browser-tabs-programatically/57081927#57081927", "title": "Is there a way to change between browser tabs programatically?", "body": "<p>You can't change the browser tab that the user is looking at, due to security concerns. Instead, consider redirecting the user and persisting the data in some appropriate way (e.g. a service)</p>\n"}], "owner": {"reputation": 21, "user_id": 3670677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322a8399cb95bbc02e1c9558859f4b80?s=128&d=identicon&r=PG&f=1", "display_name": "user3670677", "link": "https://stackoverflow.com/users/3670677/user3670677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563389232, "creation_date": 1563385941, "last_edit_date": 1563389232, "question_id": 57081671, "link": "https://stackoverflow.com/questions/57081671/is-there-a-way-to-change-between-browser-tabs-programatically", "title": "Is there a way to change between browser tabs programatically?", "body": "<p>I'm trying to implement the following feature:</p>\n\n<ol>\n<li>You are on website A</li>\n<li>You open a link with <code>target=_blank</code> that goes to website B, in a new tab of course</li>\n<li>On website B, there is a link that will make refocus on tab for website A.</li>\n</ol>\n\n<p>Please note that I'm developing both websites and both are in Angular. Is there a way to implement this?</p>\n\n<p>The purpose is not to lose the website state, otherwise I could just redirect the user by the website urls, however I'd lose state.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1563385216, "post_id": 57081387, "comment_id": 100685866, "body": "It looks like the type of <code>EVENT_NAMES.TEST_EVENT</code> is <code>string</code>. Have you tried setting the value to <code>&#39;HELLO_WORLD&#39; as &#39;HELLO_WORLD&#39;</code>?"}, {"owner": {"reputation": 112, "user_id": 5212923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc86e137c5e72a37a737ba5ee5cdd2b?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5212923/kyle"}, "reply_to_user": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 0, "creation_date": 1563385657, "post_id": 57081387, "comment_id": 100686072, "body": "@Wex that wouldn&#39;t work, as <code>type &#39;HELLO_WORLD&#39; is not assignable to type &#39;TEST_EVENT&#39; | &#39;THIS_IS&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 5212923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc86e137c5e72a37a737ba5ee5cdd2b?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5212923/kyle"}, "edited": false, "score": 0, "creation_date": 1563387223, "post_id": 57081705, "comment_id": 100686731, "body": "Thanks for your answer! However, I&#39;d really like to avoid repetition of the values if possible. I&#39;ll be looking for a solution to this problem and will update the post if I find one."}, {"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "reply_to_user": {"reputation": 112, "user_id": 5212923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc86e137c5e72a37a737ba5ee5cdd2b?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5212923/kyle"}, "edited": false, "score": 0, "creation_date": 1563401534, "post_id": 57081705, "comment_id": 100692373, "body": "Updated my answer with the new <code>as const</code> syntax introduced in TypeScript 3.4"}, {"owner": {"reputation": 112, "user_id": 5212923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc86e137c5e72a37a737ba5ee5cdd2b?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5212923/kyle"}, "edited": false, "score": 0, "creation_date": 1563483631, "post_id": 57081705, "comment_id": 100726040, "body": ":D! Thanks a ton, this is very helpful to me. Cheers!"}], "tags": [], "owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "is_accepted": true, "score": 1, "last_activity_date": 1563401532, "last_edit_date": 1563401532, "creation_date": 1563386095, "answer_id": 57081705, "question_id": 57081387, "link": "https://stackoverflow.com/questions/57081387/how-to-use-all-property-values-of-an-object-as-a-type/57081705#57081705", "title": "How to use all property values of an object as a type?", "body": "<p>First, your definition of <code>EventName</code> sets you up to use the keys from <code>EVENT_NAMES</code> as your argument, not the values. Second, the type of the values are strings. You can cast those using <code>as</code>:</p>\n\n<pre><code>const EVENT_NAMES = {\n  TEST_EVENT: 'HELLO_WORLD',\n  THIS_IS: 'REALLY_HARD'\n} as const;\n\n// 'HELLO_WORLD' | 'REALLY_HARD'\nexport type EventName = typeof EVENT_NAMES[keyof typeof EVENT_NAMES];\n</code></pre>\n\n<p>Now, this should work:</p>\n\n<pre><code>Events.on(EventNames.HELLO_WORLD, () =&gt; {});\n</code></pre>\n"}], "owner": {"reputation": 112, "user_id": 5212923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc86e137c5e72a37a737ba5ee5cdd2b?s=128&d=identicon&r=PG", "display_name": "Kyle", "link": "https://stackoverflow.com/users/5212923/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57081705, "answer_count": 1, "score": 2, "last_activity_date": 1563401532, "creation_date": 1563384704, "last_edit_date": 1563386959, "question_id": 57081387, "link": "https://stackoverflow.com/questions/57081387/how-to-use-all-property-values-of-an-object-as-a-type", "title": "How to use all property values of an object as a type?", "body": "<p>I'm trying to create a class to handle <code>CustomEvent</code>s in my app. Here's what it looks like so far:</p>\n\n<pre><code>export const EVENT_NAMES = {\n  TEST_EVENT: 'HELLO_WORLD',\n  THIS_IS: 'REALLY_HARD'\n};\n\nexport type EventName = keyof typeof EVENT_NAMES;\n\nexport class Events {\n  static on(eventName: EventName, eventHandler: Function): void {\n    document.addEventListener(eventName, (e: CustomEvent): void =&gt; {\n      eventHandler(e.detail);\n    });\n  }\n}\n\n/* \n    Want to do this, but TypeScript complains:\n    Argument of type 'string' is not assignable to parameter of type \n    '\"TEST_EVENT\" | \"THIS_IS\"'. ts(2345)\n*/   \nEvents.on(EVENT_NAMES.TEST_EVENT, () =&gt; {\n  // handle the event\n});\n</code></pre>\n\n<p>I want to enforce that any value passed to the <code>eventName</code> argument in <code>Events.on</code> is a valid event that belongs in <code>EVENT_NAMES</code>, which is the <strong>value</strong> of any property in that object, not the <strong>key</strong> of any prop. I can't quite figure out how to accomplish this, and if anyone has any pointers, that'd be greatly appreciated!</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563384617, "post_id": 57081250, "comment_id": 100685572, "body": "The dialog component is not a routed component. It doesn&#39;t have access to the activated route, and even then, it&#39;s opened from the list, which displays many customers and doesn&#39;t have any &#39;id&#39; parameter. Pass the customer ID to the openDialog() method, and use <a href=\"https://material.angular.io/components/dialog/overview#sharing-data-with-the-dialog-component-\" rel=\"nofollow noreferrer\">material.angular.io/components/dialog/&hellip;</a> to pass this ID to the dialog component."}, {"owner": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "edited": false, "score": 0, "creation_date": 1563385043, "post_id": 57081250, "comment_id": 100685782, "body": "@Martin you can send data like this <code>openDialog(): void {     const dialogRef = this.dialog.open(DialogOverviewExampleDialog, {       width: &#39;250px&#39;,       data: {name: this.name, animal: this.animal}     });</code>"}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563388654, "post_id": 57081250, "comment_id": 100687396, "body": "@JBNizet Thanks for a response, if I got it right, I suppose to pass id from CustomeSingleComponent to CustomerDetailsDialog, right? What do you mean, that I should pass id to openDialog() method? There is no need to use the id in this method. I&#39;m sorry for the meticulous questions, but I&#39;m not with this technology."}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 1439, "user_id": 7321113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwGHF.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/7321113/abhishek"}, "edited": false, "score": 0, "creation_date": 1563388956, "post_id": 57081250, "comment_id": 100687526, "body": "@Abhishek Thanks for a response, I found that solution but is there an option to pass an entire object without dividing it to the parts?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1563391454, "post_id": 57081250, "comment_id": 100688637, "body": "Your list component displays a table. Each row of this table displays a different customer. In each row, you have a button which calls openDialog(). And this method opens a dialog which shows the detail of a customer. So how could this method know <b>which</b> customer to display in a modal if you don&#39;t pass the customer ID as argument?"}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "edited": false, "score": 0, "creation_date": 1563391703, "post_id": 57081250, "comment_id": 100688750, "body": "I understand the assumption where we need to know the specific id of the client. According to the example:  <a href=\"https://stackblitz.com/angular/oyxlkogvgvbp?file=app%2Fdialog-data-example.ts=app%2Fdialog-data-example.ts\" rel=\"nofollow noreferrer\">example</a>  we should pass the id to the open method but it is puzzling to me how then this id will be extracted by the superior component in order to identify a specific client for us."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563392105, "post_id": 57081250, "comment_id": 100688927, "body": "By &quot;superior component&quot;, do you mean the component displayed inside the modal dialog? If so, just look at the example, and at the documentation I linked to: it&#39;s extracted from the data injected in the component constructor."}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563392868, "post_id": 57081250, "comment_id": 100689261, "body": "@JBNizet You right. This passing value works out of the box. I thought that I need another ,,trick&#39;&#39; to make it happened. Now after this modification i have a method openDialog() like:     <code>openDialog() {     const dialog = this.dialog.open(CustomerDetailsDialog, {         data: {           id: this.customerDetails$         }       }     );      dialog.afterClosed().subscribe(result =&gt; {       console.log(</code>Dialog result: ${result}<code>);     });    } </code>  How to extract id from this observable?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563396274, "post_id": 57081250, "comment_id": 100690752, "body": "Again: pass the id of the customer to display as argument to openDialog() method. In the view: <code>(click)=&quot;openDialog(customer.id)</code>. In the component: <code>openDialog(customerId: number)</code>."}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563399945, "post_id": 57081250, "comment_id": 100691992, "body": "@JBNizet I applied your tips. Including  <code>@Inject(MAT_DIALOG_DATA) public data: CustomerDetails</code> in Dialog component with customerId in openDialog() method. I think that after all the problem is with:  ` data: {           id: this.customerDetails$         } `.  Anyway, I modified the previous version of the code to clarify it a little.  Thank you so much for your commitment."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563400184, "post_id": 57081250, "comment_id": 100692062, "body": "Don&#39;t pass customerDetails$. Pass the customerID that you now have as the argument of your method, and load the details from withing the dialog. Or load the details first in openDialog(), and once you have the details, pass them to the dialog. It seems you&#39;re trying random things without undrstanding what you&#39;re doing. Passing an argument to a method but not using it in the method makes no sense."}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563401361, "post_id": 57081250, "comment_id": 100692335, "body": "@JBNizet You right, I am struggling with it and after all, I want to check every possibility to archive the goal. The situation is not improved by the fact that these are my first steps with angular and the syntax is slightly different from the typical Java I deal with every day. <code>and load the details from withing the dialog</code> You mean that I suppose to call again method getOne() or something another? Thank you so much for your commitment and patient. Enough for today, fatigue takes over. GN"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563401595, "post_id": 57081250, "comment_id": 100692387, "body": "It&#39;s just like in Java: if a method takes an argument, it should use it. If a method openDialog receives a customer ID and must call another method that displays the customer, either openDialog() gets the customer and calls the other method with the customer as argument, or it passes the customerID to the other method, and this other method will load the customer on its own."}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563434337, "post_id": 57081250, "comment_id": 100700271, "body": "@JBNizet It&#39;s clear, so in this scenario, now I suppose to call method  <code>this.customerDetails$ = this.customerService.getOne(customerId);</code> right? Honestly, I don&#39;t know what does it mean, a method which displays customer, You mean, a method which will load data to our observable declared previously or other staff?"}, {"owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563696962, "post_id": 57081250, "comment_id": 100779049, "body": "@JBNizet I finally founded a workaround for this problem. I used the localStorage to keep customerId and after usage, I am removing it. Now it&#39;s working perfectly but I suppose to find out why the previous solution was not working. Thanks for your commitment."}], "answers": [{"tags": [], "owner": {"reputation": 2849, "user_id": 4279704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yygmz.png?s=128&g=1", "display_name": "Riad Baghbanli", "link": "https://stackoverflow.com/users/4279704/riad-baghbanli"}, "is_accepted": false, "score": 1, "last_activity_date": 1563385073, "creation_date": 1563385073, "answer_id": 57081484, "question_id": 57081250, "link": "https://stackoverflow.com/questions/57081250/how-to-pass-object-id-to-angular-material-dialog/57081484#57081484", "title": "How to pass object id to angular material dialog", "body": "<p>Use MatDialogRef template like this:</p>\n\n<pre><code>@Component({\n  templateUrl: 'customer-details-dialog.html',\n})\nexport class CustomerDetailsDialog {\n\n  customer$: Observable&lt;CustomerDetails&gt;;\n\n  constructor(public dialog_ref: MatDialogRef&lt; CustomerDetailsDialog &gt;,\n        private router: Router,\n        @Inject( MAT_DIALOG_DATA ) public data?: string) {\n  }\n\n  ngOnInit() {\n    if ( this.data )\n          this.customer$ = this.customerService.getOne(this.data);\n  }\n\n  static open( dialog: MatDialog, id: string ): Observable&lt; boolean&gt; {\n    return dialog.open(CustomerDetailsDialog,\n      { data: id, disableClose: true }).afterClose();\n  }\n\n}\n</code></pre>\n\n<p>Then just call CustomerDetailsDialog.open from your component and pass dialog and id.</p>\n"}], "owner": {"reputation": 685, "user_id": 10596295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hxes2.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/10596295/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2764, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563399691, "creation_date": 1563384186, "last_edit_date": 1563399691, "question_id": 57081250, "link": "https://stackoverflow.com/questions/57081250/how-to-pass-object-id-to-angular-material-dialog", "title": "How to pass object id to angular material dialog", "body": "<p>Today, I met a problem with passing object(customer) id to angular modal. In the beginning, I was passing customer id to another component like:</p>\n\n<pre><code>&lt;a [routerLink]=\"['/customers/single', this.customer.id]\"&gt;&lt;/a&gt;\n</code></pre>\n\n<p>and after this, I was redirecting to another component with customer details. Everything that's I want to archive is passed id to modal component and print customer details in this particular modal without redirecting to another component.</p>\n\n<p>customer details: </p>\n\n<pre><code>export interface CustomerDetails {\n  id?: number;\n  name: string;\n  surname: string,\n  email: string;\n  phoneNumber: string;\n  status: string;\n  username: string;\n}\n</code></pre>\n\n<p>customer-single.component.ts</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {CustomerService} from \"../shared/customer.service\";\nimport {Observable} from \"rxjs\";\nimport {CustomerDetails} from \"../model/customer-details\";\n\n@Component({\n  selector: 'app-customer-single',\n  templateUrl: './customer-single.component.html',\n  styleUrls: ['./customer-single.component.css']\n})\nexport class CustomerSingleComponent implements OnInit {\n\n  customer$: Observable&lt;CustomerDetails&gt;;\n  customerDetails$: Observable&lt;CustomerDetails&gt;;\n  customer: CustomerDetails;\n\n  constructor(private customerService: CustomerService,\n              private activatedRoute: ActivatedRoute,\n              private router: Router) {\n  }\n\n  ngOnInit() {\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.customer$ = this.customerService.getOne(id);\n  }\n\n  onPreDetailsCustomer() {\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.customerDetails$ = this.customerService.getOne(id);\n  }\n\n}\n</code></pre>\n\n<p>customer-list.component.html</p>\n\n<pre><code>&lt;div&gt;\n  &lt;table class=\"table\" style=\"width: 90%\"&gt;\n    &lt;thead class=\"table\"&gt;\n    &lt;tr&gt;\n      &lt;th scope=\"col\"&gt;No.&lt;/th&gt;\n      &lt;th scope=\"col\" width=\"10%\"&gt;Name&lt;/th&gt;\n      &lt;th scope=\"col\" width=\"10%\"&gt;Surname&lt;/th&gt;\n      &lt;th scope=\"col\" width=\"10%\"&gt;Phone number&lt;/th&gt;\n      &lt;th scope=\"col\" width=\"10%\"&gt;Email&lt;/th&gt;\n      &lt;th scope=\"col\" width=\"10%\"&gt;NIP&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;&amp;nbsp;&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;&amp;nbsp;&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;&amp;nbsp;&lt;/th&gt;\n      &lt;th scope=\"col\"&gt;&amp;nbsp;&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n    &lt;tr *ngFor=\"let customer of ( customers$ | async ); let i = index\"&gt;\n      &lt;td scope=\"row\"&gt;{{i + 1}}&lt;/td&gt;\n      &lt;td&gt;{{customer.name}}&lt;/td&gt;\n      &lt;td&gt;{{customer.surname}}&lt;/td&gt;\n      &lt;td&gt;{{customer.phoneNumber}}&lt;/td&gt;\n      &lt;td&gt;{{customer.email}}&lt;/td&gt;\n      &lt;td&gt;{{customer.nip}}&lt;/td&gt;\n      &lt;td&gt;\n        &lt;a [routerLink]=\"['/customers/modify', customer.id]\"&gt;\n          &lt;button mat-raised-button color=\"primary\"&gt;Modify&lt;/button&gt;\n        &lt;/a&gt;\n          &lt;button mat-raised-button color=\"accent\" (click)=\"openDialog(customer.id)\"&gt;Details&lt;/button&gt;\n        &lt;a (click)=\"onRemove(customer.id)\"&gt;\n          &lt;button mat-raised-button color=\"warn\"&gt;Remove&lt;/button&gt;\n        &lt;/a&gt;\n        &lt;button type=\"button\" class=\"btn btn-dark\" routerLink=\"products\"&gt;\n          &lt;span class=\"btn-label\"&gt;&lt;i class=\"fas fa-cart-plus\"&gt;&lt;/i&gt;&lt;/span&gt;Compose basket\n        &lt;/button&gt;\n      &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>customer-list.component.ts</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {CustomerService} from \"../shared/customer.service\";\nimport {Customer} from '../model/customer';\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {Observable} from \"rxjs\";\nimport {CustomerDetails} from \"../model/customer-details\";\nimport {CustomerDetailsDialog} from \"../modal/customer-details/customer-details-dialog\";\nimport {MatDialog} from \"@angular/material\";\n\n@Component({\n  selector: 'app-customer-list',\n  templateUrl: './customer-list.component.html',\n  styleUrls: ['./customer-list.component.css']\n})\nexport class CustomerListComponent implements OnInit {\n\n  customers$: Observable&lt;Customer[]&gt;;\n  customerDetails$: Observable&lt;CustomerDetails&gt;;\n\n\n  constructor(private customerService: CustomerService, private router: Router, private activatedRoute: ActivatedRoute, public dialog: MatDialog) {\n  }\n\n  ngOnInit() {\n    this.customers$ = this.customerService.customersView();\n  }\n\n  onRemove(id: number) {\n    this.customerService\n    .remove(id)\n    .subscribe(\n      customer =&gt; console.log('Customer ' + customer + ' successfully removed'),\n      error =&gt; console.log('Something went terribly wrong: ' + error.message),\n      () =&gt; setTimeout(() =&gt; this.ngOnInit(), 150)\n    );\n  }\n\n  onPreDetailsCustomer(id: number) {\n    this.customerDetails$ = this.customerService.getOne(id);\n  }\n\n  openDialog(customerId: number) {\n    const dialog = this.dialog.open(CustomerDetailsDialog, {\n        data: {\n          id: this.customerDetails$\n        }\n      }\n    );\n\n    dialog.afterClosed().subscribe(result =&gt; {\n      console.log(`Dialog result: ${result}`);\n    });\n\n}\n</code></pre>\n\n<p>Additionally, I created a modal directory for modal components.</p>\n\n<p>customer-details-dialog.ts looks like:</p>\n\n<pre><code>@Component({\n  selector: 'customer-details-dialog',\n  templateUrl: 'customer-details-dialog.html',\n})\nexport class CustomerDetailsDialog {\n\n  customer$: Observable&lt;CustomerDetails&gt;;\n\n  constructor(public dialog: MatDialog,\n              private customerService: CustomerService,\n              private activatedRoute: ActivatedRoute,\n              private router: Router,\n              @Inject(MAT_DIALOG_DATA) public data: CustomerDetails) {\n  }\n\n  ngOnInit() {\n\n    const id = this.activatedRoute.snapshot.params['id'];\n    this.customer$ = this.customerService.getOne(id);\n  }\n\n}\n</code></pre>\n\n<p>customer-details-dialog.html looks like:</p>\n\n<pre><code>&lt;div *ngIf=\"(this.customer$ | async) as customer; else loading\"&gt;\n  {{customer.name}}\n&lt;/div&gt;\n\n&lt;div *ngIf=\"(this.customer$ | async) as customer; else loading\"&gt;\n  {{customer.email}}\n&lt;/div&gt;\n\n&lt;div *ngIf=\"(this.customer$ | async) as customer; else loading\"&gt;\n  {{customer.phoneNumber}}\n&lt;/div&gt;\n\n&lt;ng-template #loading&gt;\n  Loading stuff in ngIf...\n&lt;/ng-template&gt;\n\n</code></pre>\n\n<p>After clicking on the details button I am receiving: \n<code>Loading stuff in ngIf...</code> in modal window because particular information about the customer is not loaded and we are trying to load #loading component because we can not receive id from the object. </p>\n\n<p>Moreover, in the console, I am receiving:</p>\n\n<p><code>GET http://localhost:8080/api/customer/undefined 400</code></p>\n\n<p>Thanks in advance for the help.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1563383661, "post_id": 57080984, "comment_id": 100685175, "body": "Show your project tree, what is the image location? <code>assets</code> in <code>src</code> or in <code>public</code>?"}, {"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "reply_to_user": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1563384644, "post_id": 57080984, "comment_id": 100685589, "body": "Hi @DennisVash see my screenshot."}], "owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1563384631, "creation_date": 1563383122, "last_edit_date": 1563384631, "question_id": 57080984, "link": "https://stackoverflow.com/questions/57080984/i-am-unable-to-import-images-to-my-modules-on-react-typescript-only-require-w", "title": "I am unable to import images to my modules on React / Typescript, only require works", "body": "<p>This works without issues at a UI level:</p>\n\n<p><code>import profileImg from '../../assets/murdoch.jpg';</code></p>\n\n<p>But I get this error on VSCode:</p>\n\n<blockquote>\n  <p>Cannot find module '../../assets/murdoch.jpg'.ts(2307)</p>\n</blockquote>\n\n<p>And this works without issues on the UI and also on VSCode:</p>\n\n<p><code>const profileImg = require('../../assets/murdoch.jpg');</code></p>\n\n<p>But I want to import it because the test is not passing</p>\n\n<pre><code>    SyntaxError: Invalid or unexpected token\n\n      3 | import ProfilePicture from './ProfilePicture';\n      4 |\n    &gt; 5 | const profileImg = require('../../assets/murdoch.jpg');\n</code></pre>\n\n<p>This is my <code>tsconfig.json</code></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"sourceMap\": true,\n    \"noImplicitAny\": false,\n    \"module\": \"commonjs\",\n    \"removeComments\": true,\n    \"baseUrl\": \"./\",\n    \"allowJs\": true,\n    \"allowSyntheticDefaultImports\": true,\n    \"esModuleInterop\": true,\n    \"isolatedModules\": false,\n    \"jsx\": \"react\",\n    \"lib\": [\"es6\", \"dom\"],\n    \"moduleResolution\": \"node\",\n    \"noEmit\": true,\n    \"strict\": true,\n    \"target\": \"esnext\"\n  },\n  \"exclude\": [\"node_modules\", \"jest.config.js\", \"webpack.config.js\"]\n}\n</code></pre>\n\n<p>What am I missing?</p>\n\n<p>EDIT:</p>\n\n<p>Project tree</p>\n\n<p><a href=\"https://i.stack.imgur.com/hXHoU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hXHoU.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 1, "creation_date": 1564015834, "post_id": 57181736, "comment_id": 100895057, "body": "Thanks for all the research. I hadn&#39;t grasped that the return value of my tsx elements was the <code>JSX.Element</code> type, so that was really helpful. I&#39;ll have to decide if using <code>as Option&lt;number&gt;</code> so that the compiler will complain is worth the trade-off."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "edited": false, "score": 1, "creation_date": 1564041706, "post_id": 57181736, "comment_id": 100902614, "body": "Yeah, or you could just append the parameterized type for each <code>OptionB</code> like this:       &lt;SelectB value=&quot;Text&quot; onClick={this.onClick}&gt;         &lt;OptionB&lt;number&gt; value={5}&gt;Five&lt;/OptionB&gt;        ...       &lt;/SelectB&gt;  Its a bit redundant, maybe you could further compose all the OptionB components in an aggregate component."}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": false, "score": 4, "last_activity_date": 1564008639, "last_edit_date": 1564008639, "creation_date": 1563967288, "answer_id": 57181736, "question_id": 57080875, "link": "https://stackoverflow.com/questions/57080875/react-tsx-child-unable-to-infer-correct-generic-type-from-parent/57181736#57181736", "title": "React/tsx: child unable to infer correct generic type from parent", "body": "<p>Up to now, unfortunately you cannot enforce type constraints on <code>children</code> props like illustrated in your example. Before, I actually thought that this kind of type checking <em>would</em> be possible. Being curious, I researched a bit:</p>\n\n<p>TypeScript will convert your JSX code to a vanilla <code>React.createElement</code> statement via the default <a href=\"https://www.typescriptlang.org/docs/handbook/jsx.html#factory-functions\" rel=\"nofollow noreferrer\">JSX factory function</a>. The return type of <code>React.createElement</code> is <code>JSX.Element</code> (global JSX namespace), which extends <code>React.ReactElement&lt;any&gt;</code>. </p>\n\n<p>What that means is, when you render <code>SelectB&lt;T&gt;</code>, your <code>OptionB</code> components will be represented as <code>JSX.Element[]</code> aka <code>React.ReactElement&lt;any&gt;[]</code>.</p>\n\n<p>Given your props type</p>\n\n<pre><code>type SelectBProps&lt;T&gt; = {\n  value: T;\n  children: React.ReactElement&lt;OptionBProps&lt;T&gt;&gt;[];\n  onClick: (value: T) =&gt; void;\n}\n</code></pre>\n\n<p>, TypeScript is fine with comparing <code>ReactElement&lt;OptionBProps&lt;T&gt;&gt;[]</code> to <code>ReactElement&lt;any&gt;[]</code> and compiles successfully (given some concrete type for <code>T</code>).</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/jsx.html#the-jsx-result-type\" rel=\"nofollow noreferrer\">What TypeScript docs say</a></p>\n\n<blockquote>\n  <p>By default the result of a JSX expression is typed as any. You can customize the type by specifying the JSX.Element interface. However, it is not possible to retrieve type information about the element, attributes or children of the JSX from this interface. It is a black box.</p>\n</blockquote>\n\n<p>You can prove this behavior (that JSX expressions resolve to <code>JSX.Element</code>): Simply replace <code>SelectBProps</code> by:</p>\n\n<pre><code>type SelectBProps&lt;T&gt; = {  ... ;  children: number[]; ... };\n</code></pre>\n\n<p>For each OptionB, you now get the error:</p>\n\n<blockquote>\n  <p>Type 'Element' is not assignable to type 'number'</p>\n</blockquote>\n\n<h2>Locally scoped JSX namespaces (additional info)</h2>\n\n<p>Since TypeScript 2.8, locally scoped JSX namespaces are supported, which can help to use custom types/type checking for <code>JSX.Element</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-8.html?source=post_page---------------------------#locally-scoped-jsx-namespaces\" rel=\"nofollow noreferrer\">TypeScript docs on locally scoped JSX namespaces</a></p>\n\n<blockquote>\n  <p>JSX type checking is driven by definitions in a JSX namespace, for instance JSX.Element for the type of a JSX element, and JSX.IntrinsicElements for built-in elements. Before TypeScript 2.8 the JSX namespace was expected to be in the global namespace, and thus only allowing one to be defined in a project. Starting with TypeScript 2.8 the JSX namespace will be looked under the jsxNamespace (e.g. React) allowing for multiple jsx factories in one compilation. </p>\n</blockquote>\n\n<p>In addition, one quote from this very helpful <a href=\"https://medium.com/@martin_hotell/10-typescript-pro-tips-patterns-with-or-without-react-5799488d6680\" rel=\"nofollow noreferrer\">article</a>:</p>\n\n<blockquote>\n  <p>TypeScript supports locally scoped JSX to be able to support various JSX factory types and proper JSX type checking per factory. While current react types use still global JSX namespace, it\u2019s gonna change in the future. </p>\n</blockquote>\n\n<p>-</p>\n\n<p>Finally, it may be also reasonable to declare <code>children</code> types </p>\n\n<ul>\n<li>for documentation purposes</li>\n<li>to mark it as mandatory (default is optional property)</li>\n<li>to distinguish a single <code>JSX.Element</code> from an array of elements.</li>\n</ul>\n\n<p>If you still want to have extensive type checking, maybe sticking to your previous solution with props may be a valid idea? At last, <code>children</code> are just another form of <code>props</code> and Render Props have established as a solid concept.</p>\n\n<p>While that does not solve your original <code>children</code> type checking case, I hope to have cleared things up a bit (as for me, it did \ud83d\ude0a)!</p>\n\n<p>Cheers</p>\n"}, {"comments": [{"owner": {"reputation": 714, "user_id": 5657142, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RYu6D.jpg?s=128&g=1", "display_name": "Ryan Castner", "link": "https://stackoverflow.com/users/5657142/ryan-castner"}, "edited": false, "score": 0, "creation_date": 1564431896, "post_id": 57241153, "comment_id": 101020992, "body": "Unfortunate that this was downvoted without a comment explaining the rationale. The above is a working solution that uses a much more established react pattern than React.Children mapping."}], "tags": [], "owner": {"reputation": 714, "user_id": 5657142, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RYu6D.jpg?s=128&g=1", "display_name": "Ryan Castner", "link": "https://stackoverflow.com/users/5657142/ryan-castner"}, "is_accepted": false, "score": 0, "last_activity_date": 1564318866, "creation_date": 1564318866, "answer_id": 57241153, "question_id": 57080875, "link": "https://stackoverflow.com/questions/57080875/react-tsx-child-unable-to-infer-correct-generic-type-from-parent/57241153#57241153", "title": "React/tsx: child unable to infer correct generic type from parent", "body": "<p>I think that passing type information down through <code>React.Children.map</code> is what is causing type inference to get messed up. If you look at the type of <code>this.props.children</code> in your <code>React.Children.map</code> you will see that it has the <code>React.ReactElement&lt;OptionBPropts&lt;T&gt;&gt;</code> type, but also a host of other possible types with <code>any</code>'s.</p>\n\n<p>I would use a render props approach instead.</p>\n\n<pre><code>import * as React from \"react\";\n\ntype OptionA&lt;T&gt; = {\n  value: T;\n  text: string;\n};\n\ntype SelectAProps&lt;T&gt; = {\n  value: T;\n  options: OptionA&lt;T&gt;[];\n  onClick: (value: T) =&gt; void;\n};\n\nclass SelectA&lt;T&gt; extends React.Component&lt;SelectAProps&lt;T&gt;&gt; {\n  renderOption = (option: OptionA&lt;T&gt;) =&gt; {\n    const { value, text } = option;\n    const onClick = () =&gt; {\n      this.props.onClick(value);\n    };\n    return &lt;div onClick={onClick}&gt;{text}&lt;/div&gt;;\n  };\n\n  render(): React.ReactNode {\n    return &lt;div&gt;{this.props.options.map(this.renderOption)}&lt;/div&gt;;\n  }\n}\n\ntype OptionBProps&lt;T&gt; = {\n  value: T;\n  children: string;\n};\n\ntype SelectBProps&lt;T&gt; = {\n  value: T;\n  children: ({\n    renderOption\n  }: {\n    renderOption: (\n      option: OptionBProps&lt;T&gt;\n    ) =&gt; React.ReactElement&lt;OptionBProps&lt;T&gt;&gt;;\n  }) =&gt; React.ReactElement&lt;OptionBProps&lt;T&gt;&gt;;\n  onClick: (value: T) =&gt; void;\n};\n\nclass SelectB&lt;T&gt; extends React.Component&lt;SelectBProps&lt;T&gt;&gt; {\n  renderOption = (option: OptionBProps&lt;T&gt;) =&gt; {\n    const { value, children } = option;\n    const onClick = () =&gt; {\n      this.props.onClick(value);\n    };\n    return &lt;div onClick={onClick}&gt;{children}&lt;/div&gt;;\n  };\n\n  render() {\n    return this.props.children({ renderOption: this.renderOption });\n  }\n}\n\nclass Main extends React.Component {\n  onClick(value: string) {\n    console.log(value);\n  }\n\n  renderA(): React.ReactNode {\n    const options = [{ value: 5, text: \"Five\" }, { value: 10, text: \"Ten\" }];\n    return &lt;SelectA value=\"Text\" options={options} onClick={this.onClick} /&gt;;\n  }\n\n  renderB(): React.ReactNode {\n    return (\n      &lt;SelectB&lt;string&gt; value=\"Text\" onClick={this.onClick}&gt;\n        {({ renderOption }) =&gt; (\n          &lt;&gt;\n            {renderOption({ value: 5, children: \"Five\" })}\n            {renderOption({ value: 10, children: \"Ten\" })}\n          &lt;/&gt;\n        )}\n      &lt;/SelectB&gt;\n    );\n  }\n}\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/thirsty-galois-rgcog?fontsize=14\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit thirsty-galois-rgcog\"></a></p>\n\n<p><a href=\"https://codesandbox.io/embed/thirsty-galois-rgcog\" rel=\"nofollow noreferrer\">https://codesandbox.io/embed/thirsty-galois-rgcog</a></p>\n"}], "owner": {"reputation": 14845, "user_id": 522877, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/23600761a82cabda402d13f1bf45bfff?s=128&d=identicon&r=PG", "display_name": "Wex", "link": "https://stackoverflow.com/users/522877/wex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 671, "favorite_count": 4, "answer_count": 2, "score": 6, "last_activity_date": 1564318866, "creation_date": 1563382629, "question_id": 57080875, "link": "https://stackoverflow.com/questions/57080875/react-tsx-child-unable-to-infer-correct-generic-type-from-parent", "title": "React/tsx: child unable to infer correct generic type from parent", "body": "<p>I'd like to take some code that is able to correctly determine when my types are incompatible, and use <code>children</code> instead of a prop. Here's the baseline that errors correctly:</p>\n\n<pre><code>type Option&lt;T&gt; = {\n  value: T;\n  text: string;\n}\n\ntype SelectProps&lt;T&gt; = {\n  value: T;\n  options: Option&lt;T&gt;[];\n}\n</code></pre>\n\n<pre><code>const options = [\n  { value: 5, text: 'Five' },\n  { value: 10, text: 'Ten'}\n];\nreturn &lt;Select value=\"Text\" options={options} /&gt;; // ERROR: value isn't type number\n</code></pre>\n\n<p>However I can't seem to get this to error when I use children:</p>\n\n<pre><code>type OptionProps&lt;T&gt; = {\n  value: T;\n  children: string;\n}\n\ntype SelectProps&lt;T&gt; {\n  value: T;\n  children: React.ReactElement&lt;OptionProps&lt;T&gt;&gt;;\n}\n</code></pre>\n\n<pre><code>/* No errors here */\n\n&lt;Select value=\"Text\"&gt;\n  &lt;Option value={5}&gt;Five&lt;/Option&gt;\n  &lt;Option value={10}&gt;Ten&lt;/Option&gt;\n&lt;/Select&gt;\n</code></pre>\n\n<p>I put together a more complete example in this codesandbox (the code from the sandbox can be found below): <a href=\"https://codesandbox.io/s/throbbing-sun-tg48b\" rel=\"noreferrer\">https://codesandbox.io/s/throbbing-sun-tg48b</a> - Note how <code>renderA</code> correctly identifies the error, where as <code>renderB</code> incorrectly has no errors.</p>\n\n<pre><code>import * as React from 'react';\n\ntype OptionA&lt;T&gt; = {\n  value: T;\n  text: string;\n}\n\ntype SelectAProps&lt;T&gt; = {\n  value: T;\n  options: OptionA&lt;T&gt;[];\n  onClick: (value: T) =&gt; void;\n}\n\nclass SelectA&lt;T&gt; extends React.Component&lt;SelectAProps&lt;T&gt;&gt; {\n  renderOption = (option: OptionA&lt;T&gt;) =&gt; {\n    const { value, text } = option;\n    const onClick = () =&gt; {\n      this.props.onClick(value)\n    };\n    return &lt;div onClick={onClick}&gt;{text}&lt;/div&gt;\n  }\n\n  render(): React.ReactNode {\n    return &lt;div&gt;{this.props.options.map(this.renderOption)}&lt;/div&gt;\n  }\n}\n\ntype OptionBProps&lt;T&gt; = {\n  value: T;\n  children: string;\n}\n\nclass OptionB&lt;T&gt; extends React.Component&lt;OptionBProps&lt;T&gt;&gt; {}\n\ntype SelectBProps&lt;T&gt; = {\n  value: T;\n  children: React.ReactElement&lt;OptionBProps&lt;T&gt;&gt;[];\n  onClick: (value: T) =&gt; void;\n}\n\nclass SelectB&lt;T&gt; extends React.Component&lt;SelectBProps&lt;T&gt;&gt; {\n  renderOption = (option: OptionB&lt;T&gt;) =&gt; {\n    const { value, children } = option.props;\n    const onClick = () =&gt; {\n      this.props.onClick(value)\n    };\n    return &lt;div onClick={onClick}&gt;{children}&lt;/div&gt;\n  }\n\n  render(): React.ReactNode {\n    return &lt;div&gt;{React.Children.map(this.props.children, this.renderOption)}&lt;/div&gt;\n  }\n}\n\nclass Main extends React.Component {\n  onClick(value: string) {\n    console.log(value);\n  }\n\n  renderA(): React.ReactNode {\n    const options = [\n      { value: 5, text: 'Five' },\n      { value: 10, text: 'Ten'}\n    ]\n    return &lt;SelectA value=\"Text\" options={options} onClick={this.onClick} /&gt;\n  }\n\n  renderB(): React.ReactNode {\n    return (\n      &lt;SelectB value=\"Text\" onClick={this.onClick}&gt;\n        &lt;OptionB value={5}&gt;Five&lt;/OptionB&gt;\n        &lt;OptionB value={10}&gt;Ten&lt;/OptionB&gt;\n      &lt;/SelectB&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1563382083, "post_id": 57080736, "comment_id": 100684480, "body": "getUser() expects a string. But you&#39;re converting the string parameter to a number using <code>+</code>. So, either remove the <code>+</code>, or fix the getUser() method to take a number as argument rather than a string."}, {"owner": {"reputation": 1610, "user_id": 2658652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GFL1k.jpg?s=128&g=1", "display_name": "katwhocodes", "link": "https://stackoverflow.com/users/2658652/katwhocodes"}, "edited": false, "score": 0, "creation_date": 1563382577, "post_id": 57080736, "comment_id": 100684698, "body": "what&#39;s your response from this.userService.getUser? is the response data contains id with number format?"}, {"owner": {"reputation": 75, "user_id": 8846615, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sRqP4mfUPsE/AAAAAAAAAAI/AAAAAAAADfo/CDSdPGLmWJg/photo.jpg?sz=128", "display_name": "Groovy", "link": "https://stackoverflow.com/users/8846615/groovy"}, "edited": false, "score": 0, "creation_date": 1563382776, "post_id": 57080736, "comment_id": 100684766, "body": "Thank for the solution, it&#39;s work"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 8846615, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sRqP4mfUPsE/AAAAAAAAAAI/AAAAAAAADfo/CDSdPGLmWJg/photo.jpg?sz=128", "display_name": "Groovy", "link": "https://stackoverflow.com/users/8846615/groovy"}, "is_accepted": false, "score": 0, "last_activity_date": 1563383037, "creation_date": 1563383037, "answer_id": 57080965, "question_id": 57080736, "link": "https://stackoverflow.com/questions/57080736/i-have-problem-argument-of-type-number-is-not-assignable-to-parameter-of-type/57080965#57080965", "title": "I have problem Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>getUser() expects a string. But you're converting the string parameter to a number using +. So, either remove the +, or fix the getUser() method to take a number as argument rather than a string. \u2013 [JB Nizet][1], <em>It's Works</em></p>\n\n<p>Thanks</p>\n"}], "owner": {"reputation": 75, "user_id": 8846615, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-sRqP4mfUPsE/AAAAAAAAAAI/AAAAAAAADfo/CDSdPGLmWJg/photo.jpg?sz=128", "display_name": "Groovy", "link": "https://stackoverflow.com/users/8846615/groovy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563383037, "creation_date": 1563381975, "last_edit_date": 1563382026, "question_id": 57080736, "link": "https://stackoverflow.com/questions/57080736/i-have-problem-argument-of-type-number-is-not-assignable-to-parameter-of-type", "title": "I have problem Argument of type &#39;number&#39; is not assignable to parameter of type &#39;string&#39;", "body": "<p>I have problem in this case, the problem is \nArgument of type 'number' is not assignable to parameter of type 'string'.</p>\n\n<p><strong>This is my Component</strong></p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { User } from './../../_models/user';\nimport { UserService } from './../../_services/user.service';\nimport { AlertifyService } from './../../_services/alertify.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-member-detail',\n  templateUrl: './member-detail.component.html',\n  styleUrls: ['./member-detail.component.css']\n})\nexport class MemberDetailComponent implements OnInit {\n  user: User;\n\n  constructor(private userService: UserService, private alertify: AlertifyService, private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    this.loadUser();\n  }\n\n  loadUser() {\n    this.userService.getUser(+this.route.snapshot.params['id']).subscribe((user: User) =&gt; {  //error Argument of type 'number' is not assignable to parameter of type 'string'.\n      this.user = user;\n    }, error =&gt; {\n      this.alertify.error(error);\n    });\n  }\n\n}\n</code></pre>\n\n<p><strong>And</strong></p>\n\n<p><strong>This is my _model</strong></p>\n\n<pre><code>import { Photo } from './photo';\n\nexport interface User {\n    id: number;\n    username: string;\n    knownAs: string;\n    age: number;\n    gender: string;\n    created: Date;\n    lastActive: Date;\n    photoUrl: string;\n    city: string;\n    country: string;\n    interests?: string;\n    introduction?: string;\n    lookingFor?: string;\n    photos?: Photo[];\n}\n</code></pre>\n\n<p>I expect the ['id'] can be a number argument</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 12065, "user_id": 367865, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/78bdafae5cf469e2abebad372bb4e222?s=128&d=identicon&r=PG", "display_name": "Ouroborus", "link": "https://stackoverflow.com/users/367865/ouroborus"}, "edited": false, "score": 0, "creation_date": 1563384752, "post_id": 57080728, "comment_id": 100685639, "body": "<a href=\"https://stackoverflow.com/a/34695900/367865\">stackoverflow.com/a/34695900/367865</a>"}], "answers": [{"tags": [], "owner": {"reputation": 826, "user_id": 9929306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62458cdeb6f62e913d47d41d5b0c16a?s=128&d=identicon&r=PG&f=1", "display_name": "Max Travis", "link": "https://stackoverflow.com/users/9929306/max-travis"}, "is_accepted": true, "score": 6, "last_activity_date": 1569231819, "creation_date": 1569231819, "answer_id": 58059659, "question_id": 57080728, "link": "https://stackoverflow.com/questions/57080728/property-srcset-does-not-exist-on-type-detailedhtmlpropsimghtmlattributesht/58059659#58059659", "title": "Property &#39;srcset&#39; does not exist on type &#39;DetailedHTMLProps&lt;ImgHTMLAttributes&lt;HTMLImageElement&gt;, HTMLImageElement&gt;&#39;", "body": "<p>The solution is to use <code>srcSet</code> instead of <code>srcset</code> -> <a href=\"https://stackoverflow.com/questions/34695899/why-is-react-js-removing-the-srcset-tag-on-img/34695900#34695900\">Why is React.js removing the srcset tag on &lt;img /&gt;?</a></p>\n"}], "owner": {"reputation": 826, "user_id": 9929306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62458cdeb6f62e913d47d41d5b0c16a?s=128&d=identicon&r=PG&f=1", "display_name": "Max Travis", "link": "https://stackoverflow.com/users/9929306/max-travis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "accepted_answer_id": 58059659, "answer_count": 1, "score": 2, "last_activity_date": 1569231819, "creation_date": 1563381930, "question_id": 57080728, "link": "https://stackoverflow.com/questions/57080728/property-srcset-does-not-exist-on-type-detailedhtmlpropsimghtmlattributesht", "title": "Property &#39;srcset&#39; does not exist on type &#39;DetailedHTMLProps&lt;ImgHTMLAttributes&lt;HTMLImageElement&gt;, HTMLImageElement&gt;&#39;", "body": "<p>Can someone help with the TypeScript error:</p>\n\n<pre><code>Property 'srcset' does not exist on type 'DetailedHTMLProps&lt;ImgHTMLAttributes&lt;HTMLImageElement&gt;, HTMLImageElement&gt;'.\n</code></pre>\n\n<p>I can't figure out what is going wrong. I also tried this solution, but no result:</p>\n\n<pre><code>declare global {\n  namespace JSX {\n      interface IntrinsicElements {\n        srcset: React.DetailedHTMLProps&lt;ImgHTMLAttributes&lt;HTMLImageElement&gt;, HTMLImageElement&gt;\n      }\n  }\n}\n</code></pre>\n"}, {"tags": ["typescript", "visual-studio-code", "vscode-extensions"], "comments": [{"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563442248, "post_id": 57080666, "comment_id": 100704463, "body": "Do you have a complete code example of something that doesn&#39;t work as expected?"}, {"owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "reply_to_user": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563457814, "post_id": 57080666, "comment_id": 100713481, "body": "@Gama11 I just added in an example of the async function that isn&#39;t working as expected"}, {"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563459491, "post_id": 57080666, "comment_id": 100714628, "body": "You might have some misconception about what <code>update()</code> does? From the code comment, it sounds like you expect it to modify your extension&#39;s <code>package.json</code> file. It modifies <code>settings.json</code>."}, {"owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "reply_to_user": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563459802, "post_id": 57080666, "comment_id": 100714831, "body": "Cheers @Gama11, certainly a misconception on my part. Was hoping that would be a quick fix. I went through some GitHub issues around this, doesn&#39;t seem to be a method to change the config values that way. Will have to see what else exists. I guess I could just target the extension&#39;s package.json with <code>fs</code>"}, {"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563459983, "post_id": 57080666, "comment_id": 100714938, "body": "You&#39;re not really meant to modify the <code>package.json</code>, not quite sure what you&#39;re trying to accomplish here. Maybe storing something in <code>globalState</code> would make more sense? <a href=\"https://stackoverflow.com/questions/51821924/how-to-persist-information-for-a-vscode-extension/51822055\" title=\"how to persist information for a vscode extension\">stackoverflow.com/questions/51821924/&hellip;</a>"}, {"owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "reply_to_user": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563460206, "post_id": 57080666, "comment_id": 100715052, "body": "@Gama11 I&#39;ll have to look at <code>globalState</code>. What I&#39;m trying to do is just establish a connection to Salesforce through JSForce. The goal is ultimately to make a file deploy to SF when a save event happens, and the JSForce connection requires a password, so I&#39;m just trying to devise a way to get it from the user if there&#39;s nothing in the config via InputBox, otherwise pull it from a file so the user doesn&#39;t have to enter it each time"}, {"owner": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563460475, "post_id": 57080666, "comment_id": 100715221, "body": "Sounds like persisting it to <code>globalState</code> would solve your issue, though I&#39;m not sure that&#39;s necessarily the best / safest way to store passwords.. Looks like it was once consisdered to provide something for that out of the box in the VSCode API, but then decided against: <a href=\"https://github.com/Microsoft/vscode/issues/15414\" rel=\"nofollow noreferrer\">github.com/Microsoft/vscode/issues/15414</a>"}, {"owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "reply_to_user": {"reputation": 24360, "user_id": 2631715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25382df099e692f409929ce3bf4e9961?s=128&d=identicon&r=PG", "display_name": "Gama11", "link": "https://stackoverflow.com/users/2631715/gama11"}, "edited": false, "score": 0, "creation_date": 1563461223, "post_id": 57080666, "comment_id": 100715730, "body": "@Gama11 that&#39;s more what I was afraid of. It looks like Salesforce&#39;s DX CLI (what I&#39;m building on top of) stores json files on Windows in %USERPROFILE%\\.sfdx. It stores the Id, loginUrl, and clientId that I&#39;m after, along with an access and refresh token, but still would have to get the password and store somewhere to avoid a bad user experience"}], "owner": {"reputation": 1711, "user_id": 2734259, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KGX0h.jpg?s=128&g=1", "display_name": "trebleCode", "link": "https://stackoverflow.com/users/2734259/treblecode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563457789, "creation_date": 1563381652, "last_edit_date": 1563457789, "question_id": 57080666, "link": "https://stackoverflow.com/questions/57080666/vscode-extension-updating-value-of-extension-configuration", "title": "VSCode Extension - Updating Value of Extension Configuration", "body": "<p>Working on a VS Code extension, I am trying to add functionality inside of an async function that will update a value of the configuration from the extension.</p>\n\n<p>Relevant part of the package.json:</p>\n\n<pre><code>    \"contributes\": {\n        \"configuration\": {\n            \"title\": \"Extension Features\",\n            \"properties\": {\n                \"myextension.currentOrg\": {\n                    \"type\": \"object\",\n                    \"orgId\": \"\",\n                    \"orgUsername\": \"\",\n                    \"orgSecret\": \"\",\n                    \"orgLoginUrl\": \"\",\n                    \"description\": \"myextension.currentOrg description\",\n                    \"default\": {\n                        \"orgId\": \"\",\n                        \"orgUsername\": \"\",\n                        \"orgSecret\": \"\",\n                        \"orgLoginUrl\": \"https://login.salesforce.com\"\n                    } \n                },\n                \"myextension.saveOrgData\": {\n                    \"type\": \"boolean\",\n                    \"default\": true,\n                    \"description\": \"myextension.saveOrgData description\"\n                }\n            }\n        }\n     }\n</code></pre>\n\n<p>In my async function, I am trying to do the equivalent of this:</p>\n\n<pre><code>let currentSecret = vscode.workspace.getConfiguration(\"myextension.currentOrg\").get(\"orgSecret\");\n\nif(currentSecret == \"\") {\n  vscode.workspace.getConfiguration(\"myextension.currentOrg\").update(\"orgSecret\", \"1234\");\n}\n</code></pre>\n\n<p>Since <code>.update()</code> return a <code>Thenable</code>, can someone help explain how to wrap this correctly in a promise?</p>\n\n<p>If I even try running the <code>.update()</code> command above from the REPL in debug mode, the configuration does not change, and I'm not clear as to why.</p>\n\n<p>Here's a sample of my function</p>\n\n<pre><code>  public async run(): Promise&lt;any&gt; {\n\n    let clientSecret: string;\n    const currentDoc = this.getCurrentDocument();\n    const currentWorkspace = this.getWorkspaceRoot();\n    const orgData = customUtils.getConnectedOrgSync();\n\n    let clientIdPreSplit = orgData.split(\"\\n\")[7].split(' ');\n    let clientId = clientIdPreSplit[clientIdPreSplit.length - 1];\n    // check the extension config\n\n    // extension's default value for myextension.currentOrg.orgSecret is set to \"\"\n    let currentSecret = vscode.workspace.getConfiguration(\"wfdx.currentOrg\").get(\"orgSecret\");\n\nif(currentSecret == \"\") {\n  vscode.window.showInformationMessage(\"updating config...\");\n\n  // this does not appear to update the extension's config in the 'contributes' section of package.json\n  await vscode.workspace.getConfiguration(\"myextension.currentOrg\").update(\"orgSecret\", \"1234\");\n} else {\n    clientSecret = await showInputBox();\n}\n\n    const jsonProjectInfo = fs.readFileSync(`${currentWorkspace}`+'/sfdx-project.json', \"utf-8\");\n    let projectAsJSON = JSON.parse(jsonProjectInfo);\n    let loginURL = projectAsJSON[\"sfdcLoginUrl\"];\n\n    const jsf = new jsforce.Connection({\n      loginUrl: loginURL,\n      clientId: clientId,\n      clientSecret: clientSecret\n    });\n...\n// more file manipulation logic\nreturn jsf;\n}\n</code></pre>\n\n<p>Any and all help appreciated. Thanks!</p>\n"}, {"tags": ["json", "typescript", "angular7"], "comments": [{"owner": {"reputation": 1017, "user_id": 5088925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5954ebba774f9bdb6161f16855e77b58?s=128&d=identicon&r=PG&f=1", "display_name": "Nenroz", "link": "https://stackoverflow.com/users/5088925/nenroz"}, "edited": false, "score": 0, "creation_date": 1563379918, "post_id": 57080220, "comment_id": 100683403, "body": "You should show at least what you tried"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1563380001, "post_id": 57080220, "comment_id": 100683457, "body": "Angular apps executes in the brower. Bowser apps aren&#39;t allowed to write files."}, {"owner": {"reputation": 479, "user_id": 6892466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47e1040da114ac4f2336475ac969bc9a?s=128&d=identicon&r=PG&f=1", "display_name": "mneumann", "link": "https://stackoverflow.com/users/6892466/mneumann"}, "edited": false, "score": 0, "creation_date": 1563380071, "post_id": 57080220, "comment_id": 100683505, "body": "That is true, but NodeJS used to offer the <code>fs</code> module (or was it angular? anyway, it worked.) you could use <code>fs.writeFile()</code> for example."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1563380155, "post_id": 57080220, "comment_id": 100683563, "body": "Well, it&#39;s important to understand what environment you&#39;re running your code on, otherwise you run into exactly these types of situations."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563380175, "post_id": 57080220, "comment_id": 100683579, "body": "Yes, but NodeJS is used to write server applications, not browser applications."}, {"owner": {"reputation": 479, "user_id": 6892466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47e1040da114ac4f2336475ac969bc9a?s=128&d=identicon&r=PG&f=1", "display_name": "mneumann", "link": "https://stackoverflow.com/users/6892466/mneumann"}, "edited": false, "score": 0, "creation_date": 1563380224, "post_id": 57080220, "comment_id": 100683604, "body": "Sorry about the confusion. I am running Node v10.16. I must confess I learned all this by doing, so my understanding is lacking."}, {"owner": {"reputation": 523, "user_id": 10551540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35psh.png?s=128&g=1", "display_name": "Robert garcia", "link": "https://stackoverflow.com/users/10551540/robert-garcia"}, "edited": false, "score": 0, "creation_date": 1563380736, "post_id": 57080220, "comment_id": 100683845, "body": "What do you need to do with the json file?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563380747, "post_id": 57080220, "comment_id": 100683847, "body": "If you&#39;re running an Angular application, then you&#39;re not running Node at all. The browser executes your Angular application, not NodeJS."}], "answers": [{"comments": [{"owner": {"reputation": 479, "user_id": 6892466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47e1040da114ac4f2336475ac969bc9a?s=128&d=identicon&r=PG&f=1", "display_name": "mneumann", "link": "https://stackoverflow.com/users/6892466/mneumann"}, "edited": false, "score": 0, "creation_date": 1563448131, "post_id": 57082987, "comment_id": 100707688, "body": "Exactly, sorry. I am running Angular CLI."}], "tags": [], "owner": {"reputation": 4134, "user_id": 6513723, "user_type": "registered", "profile_image": "https://graph.facebook.com/1164703250267724/picture?type=large", "display_name": "pascalpuetz", "link": "https://stackoverflow.com/users/6513723/pascalpuetz"}, "is_accepted": false, "score": 1, "last_activity_date": 1563391999, "creation_date": 1563391999, "answer_id": 57082987, "question_id": 57080220, "link": "https://stackoverflow.com/questions/57080220/best-way-to-write-to-json-file-in-node-10-angular-7/57082987#57082987", "title": "Best way to write to JSON file in Node 10/Angular 7?", "body": "<p>Calling <code>fs</code> from within Angular is not possible - and usually not what you want to do.</p>\n\n<p>Angular is a Front-End Framework that is used to bind data to a UI. This happens in a Browser environment, not NodeJS.</p>\n\n<p>What you are most likely doing is serving your Angular application using some kind of NodeJS Server (like express, or the Angular CLI). </p>\n"}], "owner": {"reputation": 479, "user_id": 6892466, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/47e1040da114ac4f2336475ac969bc9a?s=128&d=identicon&r=PG&f=1", "display_name": "mneumann", "link": "https://stackoverflow.com/users/6892466/mneumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1607, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563391999, "creation_date": 1563379872, "last_edit_date": 1563380185, "question_id": 57080220, "link": "https://stackoverflow.com/questions/57080220/best-way-to-write-to-json-file-in-node-10-angular-7", "title": "Best way to write to JSON file in Node 10/Angular 7?", "body": "<p>I'm not sure if this question belongs here, but this is driving me insane.\n<strong>I am running Node v10.16.0. Sorry!</strong></p>\n\n<p>Since in Angular 7 <code>fs</code> no longer works - what is the best way to write to a JSON file?</p>\n\n<p>Importing a JSON file now works nice and easy, but how do I write to it?</p>\n\n<p>Edit: Adding what I tried.</p>\n\n<p><code>component.ts</code>:</p>\n\n<pre><code>import * as fs from 'fs';\n[...]\nsaveChanges(changes) {\n    fs.writeFile('config.json', JSON.stringify(config), null);\n\nError: `Module not found: Error: Can't resolve 'fs' `\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 2083576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e315a74098fe0a99aa351b760459dcc7?s=128&d=identicon&r=PG", "display_name": "Marcus R&#229;dell", "link": "https://stackoverflow.com/users/2083576/marcus-r%c3%a5dell"}, "edited": false, "score": 0, "creation_date": 1563401362, "post_id": 57083963, "comment_id": 100692336, "body": "Nice! I like <code>type Chart = Mutable&lt;typeof chart&gt;</code> the most. It&#39;s like your first alternative with <code>typeof</code> inlined. Thanks for the help!"}], "tags": [], "owner": {"reputation": 61, "user_id": 11672963, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ttK8eZWc3XY/AAAAAAAAAAI/AAAAAAAAAEE/BnYDXlQeibg/photo.jpg?sz=128", "display_name": "kschaer", "link": "https://stackoverflow.com/users/11672963/kschaer"}, "is_accepted": true, "score": 1, "last_activity_date": 1563396974, "creation_date": 1563396974, "answer_id": 57083963, "question_id": 57080215, "link": "https://stackoverflow.com/questions/57080215/reduce-boilerplate-when-narrowing-down-string-array-type-into-tuple-of-string-li/57083963#57083963", "title": "Reduce boilerplate when narrowing down string array type into tuple of string literals", "body": "<p>You can use <code>as const</code>, as you described, and then use a mapped type modifier to remove <code>readonly</code> from all the properties. </p>\n\n<pre><code>const chart = {\n  started: [\"count\"],\n  counting: [\"count\", \"end\"],\n  ended: [\"restart\"]\n} as const;\n\ntype ChartReadonly = typeof chart;\n\n// you can use a basic generic to help here.\ntype Mutable&lt;T&gt; = {\n  -readonly[P in keyof T]: T[P];\n};\n\ntype Chart = Mutable&lt;ChartReadonly&gt;;\n\n// or without generics\ntype Chart2 = {\n  -readonly[P in keyof ChartReadonly]: ChartReadonly[P];\n};\n\n// or all at once:\ntype Chart3 = {\n  -readonly[P in keyof typeof chart]: typeof chart[P];\n};\n</code></pre>\n"}], "owner": {"reputation": 562, "user_id": 2083576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e315a74098fe0a99aa351b760459dcc7?s=128&d=identicon&r=PG", "display_name": "Marcus R&#229;dell", "link": "https://stackoverflow.com/users/2083576/marcus-r%c3%a5dell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 57083963, "answer_count": 1, "score": 1, "last_activity_date": 1563396974, "creation_date": 1563379849, "question_id": 57080215, "link": "https://stackoverflow.com/questions/57080215/reduce-boilerplate-when-narrowing-down-string-array-type-into-tuple-of-string-li", "title": "Reduce boilerplate when narrowing down string array type into tuple of string literals", "body": "<p>I have the same code written twice. Once for the type, and once for the value.\nHow can I reduce the boilerplate in a way that is easy to understand?</p>\n\n<pre><code>type Chart = {\n  started: [\"count\"];\n  counting: [\"count\", \"end\"];\n  ended: [\"restart\"];\n};\n\nconst chart: Chart = {\n  started: [\"count\"],\n  counting: [\"count\", \"end\"],\n  ended: [\"restart\"]\n};\n</code></pre>\n\n<p>Note: <code>as const</code> almost works, but adds <code>readonly</code>, making other types mismatch unless basically all code is written with <code>readonly</code>.</p>\n\n<p>Here's a playground with other alternatives for inspiration: <a href=\"https://www.typescriptlang.org/play/index.html#code/PTAEAUCcHsCMBsCmBbAXKALgTwA6IM6iyIDG0yio+GkAlgHYDmA2gLoB0AUGfdaJIngBDAB6IAJgGEAFkMgZQAXlABvTqA1UMcjBPTMARInriDrADTrNx8XtCGB1HWc4BfANycvIUJICukAL0CvjQ8H4YtND06PRyMADumNKU2HiE4tAJ9KAJtBjSoEKYuIhcPgBCEaD5oBRCvLl0kUzJlPhCFMkMjJh5JGWcaZQAcvFZEjI6SqpWGk7ydoY2Zp6aoDZLBo7a8qtunpw+ACrStIQJ0JAA1vhcPHxxgRNSsvLoY88Jk28KymrrBa6cT6IwmMyWdabEH2bYEXYYFwebxgU7nXJXW7mIjVdFCeChUAAN0QkCwxNJsGg+EQ2Ia4iKBOgoCQ+EIDAwfnytBJmGZxwAykREIwGPRSXduNE+CTIFSaVN5DMAZogVsVqwioRluDNZDrCYtjtnJqhNq4UCzKADijQGjCPjkNSFJcbvhsbBqgVKAIhJl6PByTgYHh5LQCLlaPB4HVzsghBgSIU8gU2vx4aBoAAzNNkWz3aUKX3+wOKv6zQEI9W6-UaaGg417VhuLWgB4YQ5AA\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/play/index.html#code/PTAEAUCcHsCMBsCmBbAXKALgTwA6IM6iyIDG0yio+GkAlgHYDmA2gLoB0AUGfdaJIngBDAB6IAJgGEAFkMgZQAXlABvTqA1UMcjBPTMARInriDrADTrNx8XtCGB1HWc4BfANycvIUJICukAL0CvjQ8H4YtND06PRyMADumNKU2HiE4tAJ9KAJtBjSoEKYuIhcPgBCEaD5oBRCvLl0kUzJlPhCFMkMjJh5JGWcaZQAcvFZEjI6SqpWGk7ydoY2Zp6aoDZLBo7a8qtunpw+ACrStIQJ0JAA1vhcPHxxgRNSsvLoY88Jk28KymrrBa6cT6IwmMyWdabEH2bYEXYYFwebxgU7nXJXW7mIjVdFCeChUAAN0QkCwxNJsGg+EQ2Ia4iKBOgoCQ+EIDAwfnytBJmGZxwAykREIwGPRSXduNE+CTIFSaVN5DMAZogVsVqwioRluDNZDrCYtjtnJqhNq4UCzKADijQGjCPjkNSFJcbvhsbBqgVKAIhJl6PByTgYHh5LQCLlaPB4HVzsghBgSIU8gU2vx4aBoAAzNNkWz3aUKX3+wOKv6zQEI9W6-UaaGg417VhuLWgB4YQ5AA</a></p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563380484, "post_id": 57080198, "comment_id": 100683736, "body": "Replace <code>this.dropdownService.getInputModes</code> by <code>(arg: string) =&gt; this.dropdownService.getInputModes(arg)</code>"}, {"owner": {"reputation": 87, "user_id": 7776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da91e04e59cb7bc7be583749d3f215ef?s=128&d=identicon&r=PG&f=1", "display_name": "Wayward Entity", "link": "https://stackoverflow.com/users/7776896/wayward-entity"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1563391093, "post_id": 57080198, "comment_id": 100688481, "body": "This worked! thanks @JBNizet"}], "owner": {"reputation": 87, "user_id": 7776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da91e04e59cb7bc7be583749d3f215ef?s=128&d=identicon&r=PG&f=1", "display_name": "Wayward Entity", "link": "https://stackoverflow.com/users/7776896/wayward-entity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1563380504, "answer_count": 0, "score": 0, "last_activity_date": 1563379768, "creation_date": 1563379768, "question_id": 57080198, "link": "https://stackoverflow.com/questions/57080198/angular-7-passing-object-as-context-in-callback-function", "closed_reason": "Duplicate", "title": "Angular 7 passing object as context in callback function", "body": "<p>I have a component that talks to an API. I want to systematically call methods from the API depending on an input variable, eg. I want to call the method to get all languages when 'language' is the input. My issue is when I call the API, the object in which I mapped the variables to the functions is used as the context for the API's 'get' method. </p>\n\n<p>To illustrate, first, here is the map object:</p>\n\n<pre><code>getMap = {\n        'modes': this.dropdownService.getInputModes,\n        'regions': this.dropdownService.getRegions,\n        'languages': this.dropdownService.getLanguages\n      };\n</code></pre>\n\n<p>Then, this method is from the component. It takes the input value dropdownName, gets the appropriate method from the map and calls that method with the params as the parameters for the API call.</p>\n\n<pre><code>populateDropdown(dropdownName : string, params: string ) : void\n  {\n    var values: string[];\n    var func = () =&gt; \n    {\n      return this.getMap[dropdownName](params).subscribe(\n      values =&gt; this[dropdownName] = values,\n      error =&gt; this.errorMessage = &lt;any&gt;error\n      );\n    }\n      func();\n  }\n</code></pre>\n\n<p>And here is one of the API calls:</p>\n\n<pre><code>getInputModes(otherDropdowns?: string): Observable&lt;string[]&gt; \n    {\n      var func = () =&gt; {\n        return this.http.get&lt;string[]&gt;(this.httpUrl3, \n          { params: new HttpParams().set('otherdropdowns', otherDropdowns)}).pipe(\n          tap(data =&gt; console.log('All: ' + JSON.stringify(data))),\n          catchError(this.handleError)\n          );\n        }\n      return func();\n    }\n</code></pre>\n\n<p>In this API method, instead of 'this' referring to DropDownService, it refers to the getMap object. Of course my object doesn't have a 'get' method so an error is thrown. I've tried using the fat arrow function to retain the value of 'this' but it isn't working so far. I tried this on both the component side and the service side, as you can see. </p>\n\n<p>Any idea why the context changed and how to fix it?</p>\n"}, {"tags": ["typescript", "browser", "content-security-policy"], "comments": [{"owner": {"reputation": 646, "user_id": 4810862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU892.png?s=128&g=1", "display_name": "Billy Willoughby", "link": "https://stackoverflow.com/users/4810862/billy-willoughby"}, "edited": false, "score": 0, "creation_date": 1564489401, "post_id": 57079956, "comment_id": 101041171, "body": "Was there an issue with this question that caused it to get no comments or suggested answers, even with a bounty?"}], "owner": {"reputation": 646, "user_id": 4810862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tU892.png?s=128&g=1", "display_name": "Billy Willoughby", "link": "https://stackoverflow.com/users/4810862/billy-willoughby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1563649115, "creation_date": 1563378930, "last_edit_date": 1563649035, "question_id": 57079956, "link": "https://stackoverflow.com/questions/57079956/browser-cross-domain-issue-in-infor-m3-ios-infor-operating-system", "title": "Browser Cross Domain issue in Infor M3 / IOS (Infor Operating System)", "body": "<p>I have an application I've written using the M3 TypeScript SDK for H5 <em>(The M3 web client)</em>.  The program is being run in M3/H5 in Chrome on Windows.  It's for processing a credit card payment, and accesses the processor's site in an iFrame inside M3/H5.  It passes messages back to M3/H5 using dispatchEvent.  The hosting domain and the serving domain are the same.</p>\n\n<p>The form, iFrame, and dialog are dynamically built using TypeScript, and add the appropriate CSC headers to them when generated.  Adding the CSC header frame-ancestors <strong>solved</strong> any issues with Cross-Domain errors I had during development <strong>when running in the M3 BE directly</strong>.  </p>\n\n<p>However, when I open M3 in IOS <em>(Infor Operating System)</em>, I get the error <em>\"Blocked a frame with origin [x] from accessing a cross-orgin frame.\"</em>, even with the headers added.  I've tried adding https:// to the domain names, self, localhost, and all related domains.</p>\n\n<p><strong>Example of CSC frame-ancestors from code:</strong>\n<a href=\"https://i.stack.imgur.com/Oh6pe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oh6pe.png\" alt=\"CSC Policy Example\"></a></p>\n\n<p><strong>Error:</strong> (Note the origin and function called are the same domain)\n<a href=\"https://i.stack.imgur.com/EDFbI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EDFbI.png\" alt=\"Example Error from Console Log\"></a></p>\n\n<p>When this occurs, of course the calls back to M3/H5 are not completed.  </p>\n\n<p>If I run the same code <strong>outside</strong> of IOS, directly in M3/H5 Business Engine, no errors occur.  The dispatchEvent works, and M3 processes the transaction.</p>\n\n<p>I've tried setting various IOS Grid settings, to no avail.  I've also opened a ticket with Infor, but they are still working on it.</p>\n\n<p><strong>Grid Settings Tested</strong>\n<a href=\"https://i.stack.imgur.com/g2WAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g2WAy.png\" alt=\"Grid Configuration Screen\"></a></p>\n\n<p>The actual code is dead simple, but for clarity I'll provide it too.  I've tried using postMessage as well as setting the targetOrigin parameter to '*'.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>        function callParentFunction(str) {\n            if (str &amp;&amp; str.length &gt; 0)\n            {\n                //Errors indicate a mismatch in domain between the page containing the iframe and this page.\n\n                console.log(\"callParentFunction:\" + str);\n\n                var event2M3 = new CustomEvent(\"adn2m3\", { detail: str });\n                event2M3.bubbles = true;\n                event2M3.initCustomEvent(\"adn2m3\", true, false, { detail: str });\n\n                top.ccPaymentDiag.dispatchEvent(event2M3);\n            }\n        }\n\n        function receiveMessage(event) {\n            //console.log(\"receiveMessage\");\n            if (event &amp;&amp; event.data) {\n                console.log(\"call Event Origin: \" + event.origin);\n                callParentFunction(event.data);\n            }\n        }\n\n        if (window.addEventListener) {\n            window.addEventListener(\"message\", receiveMessage, false);\n        } else if (window.attachEvent) {\n            window.attachEvent(\"onmessage\", receiveMessage);\n        }\n\n        if (window.location.hash &amp;&amp; window.location.hash.length &gt; 1) {\n            callParentFunction(window.location.hash.substring(1));\n        }\n</code></pre>\n\n<p>At this point, I'm not sure how to proceed.  Any suggestions are greatly appreciated.</p>\n\n<p>Thanks;</p>\n\n<p>Billy</p>\n"}, {"tags": ["javascript", "typescript", "accessibility", "screen-readers", "wcag2.0"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1563379081, "post_id": 57079897, "comment_id": 100682889, "body": "<code>I also need to support screen-readers</code> That means following the guidelines of <a href=\"https://developer.mozilla.org/en-US/docs/Learn/Accessibility/WAI-ARIA_basics#Enter_WAI-ARIA\" rel=\"nofollow noreferrer\">WAI-ARIA</a> and allowing the built-in screen reader to read the page the way it&#39;s supposed to based on the values of these properties in conjunction with the actual text content."}, {"owner": {"reputation": 1528, "user_id": 284718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8TC3.png?s=128&g=1", "display_name": "Andrew Coonce", "link": "https://stackoverflow.com/users/284718/andrew-coonce"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1563379315, "post_id": 57079897, "comment_id": 100683055, "body": "@PatrickRoberts I&#39;ve added a clarification to my question, but I know how the screen readers are working (correctly) but I still require the ability to query what the elements would read for a different purpose. Edit: and my reading of the WAI-ARIA guidelines, to date, hasn&#39;t uncovered any APIs I can use for this purpose, nor does it seem like the kind of document that would contain such a thing."}, {"owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "edited": false, "score": 0, "creation_date": 1563380104, "post_id": 57079897, "comment_id": 100683527, "body": "I don&#39;t believe a web api exists. If you test with screenreaders that are open source, i would suggest to dig into the source and figure out what they are doing."}, {"owner": {"reputation": 2060, "user_id": 6002174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zco4v.jpg?s=128&g=1", "display_name": "Tsundoku", "link": "https://stackoverflow.com/users/6002174/tsundoku"}, "edited": false, "score": 1, "creation_date": 1563385651, "post_id": 57079897, "comment_id": 100686067, "body": "You mention &quot;device where there is no screen reader&quot;. Could you add what sort of device this is, especially what operating system it runs?"}, {"owner": {"reputation": 1528, "user_id": 284718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8TC3.png?s=128&g=1", "display_name": "Andrew Coonce", "link": "https://stackoverflow.com/users/284718/andrew-coonce"}, "reply_to_user": {"reputation": 2060, "user_id": 6002174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zco4v.jpg?s=128&g=1", "display_name": "Tsundoku", "link": "https://stackoverflow.com/users/6002174/tsundoku"}, "edited": false, "score": 0, "creation_date": 1563389704, "post_id": 57079897, "comment_id": 100687886, "body": "@ChristopheStrobbe: The device is a kiosk running in a single-application mode, where the sole application is my application. Think: an ATM, but running Windows 10."}, {"owner": {"reputation": 2060, "user_id": 6002174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zco4v.jpg?s=128&g=1", "display_name": "Tsundoku", "link": "https://stackoverflow.com/users/6002174/tsundoku"}, "edited": false, "score": 0, "creation_date": 1563439585, "post_id": 57079897, "comment_id": 100703008, "body": "If the ATM is running Windows 10, it should have the built-in <a href=\"https://support.microsoft.com/en-us/help/22798/windows-10-complete-guide-to-narrator\" rel=\"nofollow noreferrer\">Narrator</a>, unless it has been removed. What is perhaps more important is that the relevant accessibility API is the one in <a href=\"https://docs.microsoft.com/en-us/windows/win32/winauto/microsoft-active-accessibility-and-ui-automation-compared\" rel=\"nofollow noreferrer\">UI Automation</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1528, "user_id": 284718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8TC3.png?s=128&g=1", "display_name": "Andrew Coonce", "link": "https://stackoverflow.com/users/284718/andrew-coonce"}, "edited": false, "score": 0, "creation_date": 1563379447, "post_id": 57079966, "comment_id": 100683124, "body": "I&#39;ve added clarification to my question, but I have already confirmed the behavior with multiple screen readers and am not concerned about that aspect, but I still require a JavaScript API that will allow me to query the text that would be spoken for my own purposes."}], "tags": [], "owner": {"reputation": 1615, "user_id": 1794480, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fa3bf3155fd14bb91b96a32c913075f4?s=128&d=identicon&r=PG", "display_name": "frontend_dev", "link": "https://stackoverflow.com/users/1794480/frontend-dev"}, "is_accepted": false, "score": 4, "last_activity_date": 1563378955, "creation_date": 1563378955, "answer_id": 57079966, "question_id": 57079897, "link": "https://stackoverflow.com/questions/57079897/how-can-i-determine-with-javascript-what-a-screen-reader-would-read/57079966#57079966", "title": "How can I determine with JavaScript what a screen reader would read?", "body": "<p>I think the best way is to actually install / enable a screenreader (macOS has one built in for example), then close your eyes and hear for yourself.</p>\n"}, {"comments": [{"owner": {"reputation": 1528, "user_id": 284718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8TC3.png?s=128&g=1", "display_name": "Andrew Coonce", "link": "https://stackoverflow.com/users/284718/andrew-coonce"}, "edited": false, "score": 0, "creation_date": 1563389828, "post_id": 57082161, "comment_id": 100687950, "body": "My fingers are crossed that someone has already written something like this, but I&#39;m expecting that you&#39;re right. I&#39;ll leave this question open for a few days before accepting your answer just in case there is a solution."}], "tags": [], "owner": {"reputation": 3065, "user_id": 1604592, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rxTAF.jpg?s=128&g=1", "display_name": "Andre Polykanine", "link": "https://stackoverflow.com/users/1604592/andre-polykanine"}, "is_accepted": false, "score": 2, "last_activity_date": 1563387965, "creation_date": 1563387965, "answer_id": 57082161, "question_id": 57079897, "link": "https://stackoverflow.com/questions/57079897/how-can-i-determine-with-javascript-what-a-screen-reader-would-read/57082161#57082161", "title": "How can I determine with JavaScript what a screen reader would read?", "body": "<h2>TL;DR: No Way</h2>\n\n<p>Basically, you have no possibility to get a string spoken by a particular screen reader, neither can you determine whether a screen reader is launched at all.<br>\nMore than that, different screen readers convey information in different ways, and even moreover, a user can adjust his/her screen reader so it would say, following your example, <em>next button</em>, <em>button next</em> or just <em>next</em> (or play a sound instead of saying \"Button\"). Thus, you have no real opportunity to get what you need, it seems.</p>\n"}, {"tags": [], "owner": {"reputation": 126, "user_id": 10494842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwd8X.png?s=128&g=1", "display_name": "Tobias Christian Jensen", "link": "https://stackoverflow.com/users/10494842/tobias-christian-jensen"}, "is_accepted": false, "score": 1, "last_activity_date": 1563396558, "creation_date": 1563396558, "answer_id": 57083882, "question_id": 57079897, "link": "https://stackoverflow.com/questions/57079897/how-can-i-determine-with-javascript-what-a-screen-reader-would-read/57083882#57083882", "title": "How can I determine with JavaScript what a screen reader would read?", "body": "<p>What you\u2019re looking for is the <a href=\"https://www.w3.org/TR/accname-1.1/\" rel=\"nofollow noreferrer\">accessible name computation</a>. Jump to section 4.3.1 \u201cTerminology\u201d and you\u2019ll find the algorithm step by step.</p>\n\n<p>It\u2019s quite a mouthful. I have yet to find a good open-source implementation of it. And even if you follow it correctly, you will find that established screen-reader software doesn\u2019t always.</p>\n\n<p>You could also wait until the Accessibility API (or the <a href=\"http://wicg.github.io/aom/explainer.html\" rel=\"nofollow noreferrer\">AOM Project</a>) gains wide support, and just utilize that, but who knows when that will happen.</p>\n\n<p>However, if you completely control the speech output, why not optimize the experience in collaboration with visually impaired users, instead of aiming for what the software would come up with?</p>\n"}, {"tags": [], "owner": {"reputation": 11136, "user_id": 1244884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79435cc2571ffa23dfcef703f8d762e0?s=128&d=identicon&r=PG", "display_name": "customcommander", "link": "https://stackoverflow.com/users/1244884/customcommander"}, "is_accepted": false, "score": 1, "last_activity_date": 1563399238, "creation_date": 1563399238, "answer_id": 57084327, "question_id": 57079897, "link": "https://stackoverflow.com/questions/57079897/how-can-i-determine-with-javascript-what-a-screen-reader-would-read/57084327#57084327", "title": "How can I determine with JavaScript what a screen reader would read?", "body": "<p>Perhaps you could use <a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v1.18.1&amp;show=api-class-accessibility\" rel=\"nofollow noreferrer\">Puppeteer's accessibility API</a> to work out what the accessibility tree for a given node looks like.</p>\n\n<blockquote>\n  <p>The Accessibility class provides methods for inspecting Chromium's accessibility tree. The accessibility tree is used by assistive technology such as screen readers or switches.</p>\n</blockquote>\n\n<p>I'm not sure you can work out exactly the output for each screen readers but it may be worth a shot.</p>\n"}], "owner": {"reputation": 1528, "user_id": 284718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g8TC3.png?s=128&g=1", "display_name": "Andrew Coonce", "link": "https://stackoverflow.com/users/284718/andrew-coonce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1563399238, "creation_date": 1563378768, "last_edit_date": 1563380191, "question_id": 57079897, "link": "https://stackoverflow.com/questions/57079897/how-can-i-determine-with-javascript-what-a-screen-reader-would-read", "title": "How can I determine with JavaScript what a screen reader would read?", "body": "<p>I have a web application that is already accessible using iOS and Android devices, but I'm trying to make the same thing work on a device where there is no screen reader. I have a solution in the form of an application shell that I can launch my web app within; the shell can navigate through/manipulate the elements just like Talk Back, without problem...effectively, I've already achieved accessibility for the mobility impaired using alternative screen manipulation devices.</p>\n\n<p>I also need to support screen-readers, and what I don't know is whether there's a way (in JavaScript/Typescript) to retrieve what should be read for a given button. For example, if presented with an button titled \"Next\", I would like to retrieve the text \"next, button\" or something like it.</p>\n\n<p>Is there a standard-based way to do this? Alternatively, is there a third-party library that others have successfully used to solve a similar problem? Or am I destined to write my own?</p>\n\n<p>To clarify: I have access to JAWS and NVDA and have validated my solution on both of them.</p>\n\n<p><strong>TL;DR:</strong> I am looking for a way for JavaScript to query an element and retrieve the content that would be spoke, not for my own edification, but so that I can pass the information that is being spoken to another tool of my own creation.</p>\n"}, {"tags": ["angular", "typescript", "google-chrome", "debugging", "google-chrome-devtools"], "answers": [{"comments": [{"owner": {"reputation": 3108, "user_id": 2066039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/DwwXh.jpg?s=128&g=1", "display_name": "lorless", "link": "https://stackoverflow.com/users/2066039/lorless"}, "edited": false, "score": 0, "creation_date": 1606753449, "post_id": 57079659, "comment_id": 115050215, "body": "Hi, I think im having the same problem. How exactly did you solve this? I didn&#39;t really understand what you meant by having another project directory loaded in dev tools. How would I fix this?"}, {"owner": {"reputation": 1416, "user_id": 3443552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3761a957bafde55f553663c9fa9ebc7?s=128&d=identicon&r=PG", "display_name": "KMJungersen", "link": "https://stackoverflow.com/users/3443552/kmjungersen"}, "reply_to_user": {"reputation": 3108, "user_id": 2066039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/DwwXh.jpg?s=128&g=1", "display_name": "lorless", "link": "https://stackoverflow.com/users/2066039/lorless"}, "edited": false, "score": 0, "creation_date": 1606862093, "post_id": 57079659, "comment_id": 115090538, "body": "@lorless check out <a href=\"https://developers.google.com/web/tools/chrome-devtools/workspaces/?utm_source=devtools\" rel=\"nofollow noreferrer\">this link in the google dev docs</a>.  I had more than one &quot;Workspace&quot; set up in dev tools, or in other words I had multiple local filesystem directories mapped to the chrome debugger.  E.g. <code>app.component.ts</code> is a component in both project A and B.  When loading project B in the debugger though, dev tools says &quot;Oh, well here&#39;s <code>app.component.ts</code> on the local filesystem, let&#39;s use this for debugging&quot;, but it&#39;s looking at the file from Project A.  Does that make sense?"}, {"owner": {"reputation": 1416, "user_id": 3443552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3761a957bafde55f553663c9fa9ebc7?s=128&d=identicon&r=PG", "display_name": "KMJungersen", "link": "https://stackoverflow.com/users/3443552/kmjungersen"}, "reply_to_user": {"reputation": 3108, "user_id": 2066039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/DwwXh.jpg?s=128&g=1", "display_name": "lorless", "link": "https://stackoverflow.com/users/2066039/lorless"}, "edited": false, "score": 0, "creation_date": 1606862181, "post_id": 57079659, "comment_id": 115090565, "body": "And in case is wasn&#39;t clear, I resolved by removing the workspace for the project I&#39;m not actively working on.  All this means though is that Chrome Dev tools are no longer looking in that specific local filesystem directory."}], "tags": [], "owner": {"reputation": 1416, "user_id": 3443552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3761a957bafde55f553663c9fa9ebc7?s=128&d=identicon&r=PG", "display_name": "KMJungersen", "link": "https://stackoverflow.com/users/3443552/kmjungersen"}, "is_accepted": true, "score": 2, "last_activity_date": 1563377990, "creation_date": 1563377990, "answer_id": 57079659, "question_id": 57079658, "link": "https://stackoverflow.com/questions/57079658/angular-ts-sourcemaps-not-working-in-chrome-debugger/57079659#57079659", "title": "Angular TS SourceMaps Not Working In Chrome Debugger", "body": "<p>After writing this all up, I realized the issue was <strong>caused by having another Angular project directory loaded into Dev Tools</strong>.  The automatic mapping was looking at the <code>src</code> directory of this other project rather than the current project I was working on.</p>\n\n<ul>\n<li>The CSS was mapping because the other project uses <code>.scss</code> instead of <code>.css</code>, so no match was found there</li>\n<li>TS debugging working in Safari because the other project had not been added to Safari Dev Tools</li>\n</ul>\n\n<p>If anyone knows of a way to avoid this problem moving forward, please let me know!  I work on multiple projects simultaneously very frequently, so it would be nice to not have to remove each project when switching to a new one.</p>\n"}], "owner": {"reputation": 1416, "user_id": 3443552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3761a957bafde55f553663c9fa9ebc7?s=128&d=identicon&r=PG", "display_name": "KMJungersen", "link": "https://stackoverflow.com/users/3443552/kmjungersen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2004, "favorite_count": 0, "accepted_answer_id": 57079659, "answer_count": 1, "score": 0, "last_activity_date": 1563391792, "creation_date": 1563377990, "question_id": 57079658, "link": "https://stackoverflow.com/questions/57079658/angular-ts-sourcemaps-not-working-in-chrome-debugger", "title": "Angular TS SourceMaps Not Working In Chrome Debugger", "body": "<p>Without any change in configuration, I can no longer debug Angular TS files in Chrome, either by setting manual breakpoints in Dev Tools or by <code>debugger;</code> statements.  Facts of the situation:</p>\n\n<ul>\n<li>I am running Angular in <code>Development</code>, <strong>not</strong> <code>Production</code></li>\n<li>My <code>tsconfig</code> has <code>\"sourceMap\": true</code></li>\n<li>CSS maps are working properly (see below)</li>\n<li><code>debugger;</code> lines aren't being hit at all</li>\n<li>\"Enable JavaScript source maps\" is enabled in Dev Tools settings</li>\n<li>I've also tried adding the local directory to Dev Tools, but only the CSS files map.</li>\n</ul>\n\n<p>What's strange, however, is that when I open the app in <strong>Safari, the <code>debugger;</code> breakpoints are hit, and I can set manual breakpoints in TS files just fine</strong>.  So that leads me to believe that this is a Chrome issue and not an Angular configuration issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/a9bzR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a9bzR.png\" alt=\"enter image description here\"></a>\nSpecs =>\nChrome: Version 75.0.3770.142 (up-to-date as of this post),\nAngular: 6.1.2 (Project requirement, so this can't be updated)</p>\n"}, {"tags": ["reactjs", "typescript", "office-js", "outlook-web-addins"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 3395471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676db5679f45cc7596af810269094bf1?s=128&d=identicon&r=PG&f=1", "display_name": "shumach5", "link": "https://stackoverflow.com/users/3395471/shumach5"}, "edited": false, "score": 0, "creation_date": 1563401817, "post_id": 57083033, "comment_id": 100692431, "body": "Thanks Michael. It worked! But do you know why this is working? It seems so magical as you mentioned. And any plan to solve this issue so that we do not have to add the magical tag?"}, {"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "reply_to_user": {"reputation": 349, "user_id": 3395471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676db5679f45cc7596af810269094bf1?s=128&d=identicon&r=PG&f=1", "display_name": "shumach5", "link": "https://stackoverflow.com/users/3395471/shumach5"}, "edited": false, "score": 0, "creation_date": 1563415518, "post_id": 57083033, "comment_id": 100695100, "body": "It has to do with the create-react-app output and the eslint rules that it relies on.  The reason the workaround works is that Office is a global namespace, which eslint is unhappy about (since in the modern web world, you generally import packages rather than rely on globals; but Office.js is special in this regard).  It looks like there is a package that lets you configure the eslint rules, maybe it would work? <a href=\"https://www.npmjs.com/package/eslint-config-react-app\" rel=\"nofollow noreferrer\">npmjs.com/package/eslint-config-react-app</a>"}, {"owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "reply_to_user": {"reputation": 349, "user_id": 3395471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676db5679f45cc7596af810269094bf1?s=128&d=identicon&r=PG&f=1", "display_name": "shumach5", "link": "https://stackoverflow.com/users/3395471/shumach5"}, "edited": false, "score": 0, "creation_date": 1563467398, "post_id": 57083033, "comment_id": 100719224, "body": "@shumach5, update:  i tried the eslint-config-react-app, but still couldn&#39;t get the rules picked up.  This article might explain why:  <a href=\"http://rahulgaba.com/front-end/2019/02/17/Use-custom-eslint-config-in-create-react-app-using-three-simple-steps-No-external-dependencies.html\" rel=\"nofollow noreferrer\">rahulgaba.com/front-end/2019/02/17/&hellip;</a>"}, {"owner": {"reputation": 349, "user_id": 3395471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676db5679f45cc7596af810269094bf1?s=128&d=identicon&r=PG&f=1", "display_name": "shumach5", "link": "https://stackoverflow.com/users/3395471/shumach5"}, "edited": false, "score": 0, "creation_date": 1563493218, "post_id": 57083033, "comment_id": 100728535, "body": "Thank you for the update. mmm. So the only solution seems like putting the comment &quot;/* global Excel, Office */&quot; as you explained, Thank you!"}], "tags": [], "owner": {"reputation": 7861, "user_id": 678505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7b9065fef0cccc753b39d877e8bd1ac?s=128&d=identicon&r=PG", "display_name": "Michael Zlatkovsky - Microsoft", "link": "https://stackoverflow.com/users/678505/michael-zlatkovsky-microsoft"}, "is_accepted": true, "score": 4, "last_activity_date": 1563392230, "creation_date": 1563392230, "answer_id": 57083033, "question_id": 57079285, "link": "https://stackoverflow.com/questions/57079285/an-error-message-office-is-not-defined-no-undef-happens-if-react-script-is-n/57083033#57083033", "title": "An error message &quot;&#39;Office&#39; is not defined no-undef&quot; happens if react-script is newer than 3.0.0", "body": "<p>One workaround is to just put the comment \"/* global Excel, Office */\" into the JS/TS/TSX file that it complains about, and things will magically work.</p>\n\n<p>Note:  The solution is taken from a comment at <a href=\"https://github.com/OfficeDev/office-js-docs-pr/issues/691\" rel=\"nofollow noreferrer\">https://github.com/OfficeDev/office-js-docs-pr/issues/691</a>.  If anyone knowns of a better solution, please share it with the community!</p>\n"}], "owner": {"reputation": 349, "user_id": 3395471, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/676db5679f45cc7596af810269094bf1?s=128&d=identicon&r=PG&f=1", "display_name": "shumach5", "link": "https://stackoverflow.com/users/3395471/shumach5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 873, "favorite_count": 1, "accepted_answer_id": 57083033, "answer_count": 1, "score": 3, "last_activity_date": 1565676343, "creation_date": 1563376874, "last_edit_date": 1565676343, "question_id": 57079285, "link": "https://stackoverflow.com/questions/57079285/an-error-message-office-is-not-defined-no-undef-happens-if-react-script-is-n", "title": "An error message &quot;&#39;Office&#39; is not defined no-undef&quot; happens if react-script is newer than 3.0.0", "body": "<p>I am creating outlook add-in with react/typescript. When I run my code with <code>npm run start</code>, following message appeared and I was not able to run my react app.</p>\n\n<pre><code>Failed to compile.\n./src/index.tsx\n  Line 9:  'Office' is not defined  no-undef\n\nSearch for the keywords to learn more about each error.\n</code></pre>\n\n<p>In package.json, if react-script version is newer than 3.0.0, This error happens. If it is lower(e.x. 2.8.8), we can execute the react app without errors. Does anyone give me some workarounds?</p>\n\n<p>Index.tsx</p>\n\n<pre><code>import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { AppContainer } from './components';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\nOffice.onReady(() =&gt; {\n  ReactDOM.render(\n    &lt;Provider store={store}&gt;\n        &lt;AppContainer /&gt;\n    &lt;/Provider&gt;,\n    document.getElementById('root')\n  );\n});\n</code></pre>\n\n<p>package.json</p>\n\n<pre><code>  \"name\": \"outlookApp\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"dependencies\": {\n    \"@microsoft/office-js\": \"^1.1.29\",\n    \"@microsoft/office-js-helpers\": \"^1.0.2\",\n    \"@types/jest\": \"24.0.11\",\n    \"@types/node\": \"11.13.6\",\n    \"@types/react\": \"16.8.23\",\n    \"@types/react-dom\": \"16.8.4\",\n    \"office-ui-fabric-react\": \"^6.190.1\",\n    \"react\": \"^16.8.6\",\n    \"react-app-polyfill\": \"^1.0.1\",\n    \"react-dom\": \"^16.8.6\",\n    \"react-redux\": \"^7.1.0\",\n    \"react-router-dom\": \"^5.0.1\",\n    \"react-scripts\": \"3.0.0\",\n    \"redux\": \"^4.0.1\",\n    \"redux-thunk\": \"^2.3.0\",\n    \"typescript\": \"3.4.4\",\n    \"uuid\": \"^3.3.2\"\n  },\n  \"devDependencies\": {\n    \"@types/gtag.js\": \"0.0.0\",\n    \"@types/office-js\": \"1.0.1\",\n    \"@types/react-redux\": \"^7.1.0\",\n    \"@types/react-router-dom\": \"^4.3.4\",\n    \"@types/uuid\": \"^3.4.5\",\n    \"redux-devtools-extension\": \"^2.13.8\"\n  },\n  \"scripts\": {\n    \"start\": \"react-scripts start\",\n    \"win\": \"set HTTPS=true&amp;&amp;set BROWSER=none&amp;&amp;react-scripts start\",\n    \"mac\": \"export HTTPS=true&amp;&amp;export BROWSER=none&amp;&amp;react-scripts start\",\n    \"build\": \"react-scripts build\",\n    \"test\": \"react-scripts test\",\n    \"test-win-ci\": \"set CI=true&amp;&amp;npm test\",\n    \"test-mac-ci\": \"CI=true npm test\",\n    \"eject\": \"react-scripts eject\"\n  },\n  \"eslintConfig\": {\n    \"extends\": \"react-app\"\n  },\n  \"browserslist\": [\n    \"&gt;0.2%\",\n    \"not dead\",\n    \"not ie &lt;= 11\",\n    \"not op_mini all\"\n  ],\n  \"proxy\": \"http://localhost:7071\"\n}\n\n</code></pre>\n"}, {"tags": ["angular", "typescript", "unit-testing", "karma-jasmine"], "comments": [{"owner": {"reputation": 43, "user_id": 8703999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed81a8f5265563a451df624dcf5ad5f3?s=128&d=identicon&r=PG&f=1", "display_name": "Josephvinoth", "link": "https://stackoverflow.com/users/8703999/josephvinoth"}, "reply_to_user": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 0, "creation_date": 1565864657, "post_id": 57079153, "comment_id": 101484233, "body": "yes it worked thank you. sry for late reply"}, {"owner": {"reputation": 43, "user_id": 8703999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed81a8f5265563a451df624dcf5ad5f3?s=128&d=identicon&r=PG&f=1", "display_name": "Josephvinoth", "link": "https://stackoverflow.com/users/8703999/josephvinoth"}, "reply_to_user": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 0, "creation_date": 1565864768, "post_id": 57079153, "comment_id": 101484273, "body": "do you know how to write test case for ElementRef"}, {"owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "edited": false, "score": 0, "creation_date": 1565865367, "post_id": 57079153, "comment_id": 101484462, "body": "Awesome ! Yeah, I think can help you with that. Let me know the question url, I&#39;ll try to answer. Feel free to upvote my answer as well. <a href=\"https://medium.com/@shashankvivek.7/say-hi-to-jasmine-karma-in-angular-intro-d728d669a1c7\" rel=\"nofollow noreferrer\">Here</a> is series of articles which can help you more to write better <code>karma</code> test cases. :)"}], "answers": [{"tags": [], "owner": {"reputation": 13470, "user_id": 3092377, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/8lUZ9.jpg?s=128&g=1", "display_name": "Shashank Vivek", "link": "https://stackoverflow.com/users/3092377/shashank-vivek"}, "is_accepted": true, "score": 1, "last_activity_date": 1563430577, "creation_date": 1563430577, "answer_id": 57088128, "question_id": 57079153, "link": "https://stackoverflow.com/questions/57079153/how-to-write-a-mock-data-for-getting-the-value-from-service-in-angular/57088128#57088128", "title": "how to write a mock data for getting the value from service in angular", "body": "<p>You dont need to worry about <code>component1</code> when you are testing <code>component2</code>.You can isolate it for below function as :</p>\n\n<pre><code>public saveCustomerName() {\n    this.showSpinner = true;\n    let name = this.customerService.getCustomerName();\n    this.customerService.saveCustomerName(name).subscribe(\n      (success) =&gt; {\n        this.showSpinner = false; // or something similar variable assignment.\n      },\n      (fail) =&gt; {\n      }\n    );\n  }\n\n</code></pre>\n\n<p>and in spec file:</p>\n\n<pre><code>it('should set customer name on calling function \"saveCustomerName()\"', () =&gt; {\n   spyOn(component.customerService,'getCustomerName').and.returnValue('testName');\n   spyOn(component.customerService,'saveCustomerName').and.returnValue(of('saved'));\n   component.showSpinner = true;\n   component.saveCustomerName();\n   expect(component.customerService.getCustomerName).toHaveBeenCalled();\n   expect(component.customerService.saveCustomerName).toHaveBeenCalledWith('testName);\n   expect(component.showSpinner).toBeFalsy();\n});\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8703999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed81a8f5265563a451df624dcf5ad5f3?s=128&d=identicon&r=PG&f=1", "display_name": "Josephvinoth", "link": "https://stackoverflow.com/users/8703999/josephvinoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 57088128, "answer_count": 1, "score": 3, "last_activity_date": 1563430577, "creation_date": 1563376491, "last_edit_date": 1563425735, "question_id": 57079153, "link": "https://stackoverflow.com/questions/57079153/how-to-write-a-mock-data-for-getting-the-value-from-service-in-angular", "title": "how to write a mock data for getting the value from service in angular", "body": "<p>i have a customer details like customerName i have to use that in 2 pages so am using getter and setter in service file, i set the customerName in service(component 1) and getting it in where ever need (component 2) facing error while writing test case (component 2) for  getting the value (in component 2)</p>\n\n<p>i have tried like below</p>\n\n<pre><code>const customerSpy = jasmine.createSpyObj('customerService', ['getCustomerName', 'setCustomerName']);\n\n\nit('should tests save customer name function', () =&gt; {\n      customerSpy.setCustomerName('xxx'); - I have tried to adding like this\n        let response = {\n            'response': 'success'\n        };\n        customerSpy.saveCustomerName.and.returnValue(of(response));\n        fixture.detectChanges();\n        component.saveCustomerName();\n    });\n</code></pre>\n\n<p>Spec file:</p>\n\n<pre><code>const customerSpy = jasmine.createSpyObj('customerService', ['getCustomerName', 'setCustomerName', 'saveCustomerName']);\n\nit('should tests save customer name function', () =&gt; {\n\n        let response = {\n            'response': 'success'\n        };\n        customerSpy.saveCustomerName.and.returnValue(of(response));\n        fixture.detectChanges();\n        component.saveCustomerName();\n    });\n</code></pre>\n\n<p>component code:</p>\n\n<p>component 1:  </p>\n\n<pre><code>public dummyFunc(){\n  this.customerService.setCustomerName('xxx');\n}\n</code></pre>\n\n<p>component 2:</p>\n\n<pre><code>public saveCustomerName() {\n    let name = this.customerService.getCustomerName();\n    this.customerService.saveCustomerName(name).subscribe(\n      (success) =&gt; {\n\n      },\n      (fail) =&gt; {\n      }\n    );\n  }\n</code></pre>\n\n<p>while Running the testcase for component 2 i should get the customer name in component 2 to pass it to the mockservice</p>\n"}, {"tags": ["angular", "typescript", "angular-reactive-forms", "large-data", "formarray"], "comments": [{"owner": {"reputation": 6133, "user_id": 3277581, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5782f76788b57a66b19a27b7e6ab42fe?s=128&d=identicon&r=PG", "display_name": "Serginho", "link": "https://stackoverflow.com/users/3277581/serginho"}, "edited": false, "score": 3, "creation_date": 1563376362, "post_id": 57078974, "comment_id": 100681311, "body": "Why don&#39;t you paginate it? using infinityscroll or just a load more button."}, {"owner": {"reputation": 4363, "user_id": 2040569, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78834c6b2f1bb61025b0d29ae59af530?s=128&d=identicon&r=PG&f=1", "display_name": "Austin T French", "link": "https://stackoverflow.com/users/2040569/austin-t-french"}, "edited": false, "score": 0, "creation_date": 1563376379, "post_id": 57078974, "comment_id": 100681321, "body": "Surely, all 10k rows at the same time is not a requirement? Is it a school project? If it&#39;s real world, paging would be the answer."}, {"owner": {"reputation": 1183, "user_id": 1866298, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93910e4dda7a1cfdabb136d714451d0d?s=128&d=identicon&r=PG", "display_name": "lmarcelocc", "link": "https://stackoverflow.com/users/1866298/lmarcelocc"}, "edited": false, "score": 0, "creation_date": 1563376796, "post_id": 57078974, "comment_id": 100681550, "body": "I would go for pagination with virtual Scroll"}, {"owner": {"reputation": 11, "user_id": 8126440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b83279e7e80cf9f17f7ce04d5e3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Chen", "link": "https://stackoverflow.com/users/8126440/allen-chen"}, "edited": false, "score": 0, "creation_date": 1563405115, "post_id": 57078974, "comment_id": 100693202, "body": "Unfortunately\uff0cthe pagination is not allowed \uff0c that&#39;s user&#39;s specific requirements to show and modify these data in one page"}], "answers": [{"tags": [], "owner": {"reputation": 786, "user_id": 8133866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef94f23bef0fc51c79b769d90534e589?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8133866/luis"}, "is_accepted": false, "score": 0, "last_activity_date": 1563463073, "last_edit_date": 1563463073, "creation_date": 1563423987, "answer_id": 57087117, "question_id": 57078974, "link": "https://stackoverflow.com/questions/57078974/angular-render-formarray-with-10k-rows-15-columns-per-row-data-in-one-page/57087117#57087117", "title": "Angular render FormArray with 10k+ rows (15 columns per row) data in one page", "body": "<p>In the <strong>ng-container</strong>, you have an <strong>ngIf</strong> that is calling a function to validate the data. As you may know, the ngIf is reevaluated every time there is a change (or event) detected by Angular. That validation over 10K+ rows for every time a UI event is detected will hit your performance badly. I Think you should run that validation when you receive the data and display some message (i.e. \"Processing...\")  indicating that you are waiting for a something to finish, then (after the validation is finished) display your data.</p>\n\n<p>You can accomplish this by setting a boolean property that you set to <strong>true</strong> after the validation is done.</p>\n\n<p>It may look like this:</p>\n\n<pre><code>&lt;table [formGroup]=\"validateForm\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th *ngFor=\"let column of columns\"&gt;{{column.name}}&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody *ngIf=\"!canDisplay\"&gt;\n       &lt;tr&gt;&lt;td&gt;Processing...&lt;/td&gt;&lt;/tr&gt;\n    &lt;/tbody&gt;\n    &lt;ng-container formArrayName=\"rows\"\n                  *ngIf=\"canDisplay\"&gt;\n      &lt;tbody *cdkVirtualFor=\"let row of rowDatas; let rowIndex = index; \"\n             [formGroupName]=\"rowIndex\"\n             class=\"example-item\"\n             &gt;\n        &lt;tr&gt;\n          &lt;td *ngFor=\"let column of columns;\"&gt;\n            &lt;input type=\"text\"\n                   [formControlName]=\"column.prop\"\n                   *ngIf=\"column.controlType === controlTypes.TEXT\"&gt;\n            &lt;select name=\"\"\n                    id=\"\"\n                    [formControlName]=\"column.prop\"\n                    *ngIf=\"column.controlType === controlTypes.SELECT\"&gt;\n                &lt;!-- options --&gt;\n            &lt;/select&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n   &lt;/ng-container&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>Here <strong>canDisplay</strong> is a boolean property that (i.e. after validation is finished) is set to true when the data is ready to be displayed.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8126440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b83279e7e80cf9f17f7ce04d5e3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Chen", "link": "https://stackoverflow.com/users/8126440/allen-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1563464756, "creation_date": 1563464756, "answer_id": 57098301, "question_id": 57078974, "link": "https://stackoverflow.com/questions/57078974/angular-render-formarray-with-10k-rows-15-columns-per-row-data-in-one-page/57098301#57098301", "title": "Angular render FormArray with 10k+ rows (15 columns per row) data in one page", "body": "<p>I give up to use <strong>FormArray</strong> to modify the data, instead, use the  <a href=\"https://www.primefaces.org/primeng/#/treetable\" rel=\"nofollow noreferrer\">TreeTable with TreeTableCellEditor in the library of Primeng</a>, of course, with virtual scroll</p>\n"}, {"tags": [], "owner": {"reputation": 536, "user_id": 2662234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7ec4a906a4f645a7a5818865a658a24?s=128&d=identicon&r=PG", "display_name": "Jeff E", "link": "https://stackoverflow.com/users/2662234/jeff-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1585322790, "creation_date": 1585322790, "answer_id": 60889065, "question_id": 57078974, "link": "https://stackoverflow.com/questions/57078974/angular-render-formarray-with-10k-rows-15-columns-per-row-data-in-one-page/60889065#60889065", "title": "Angular render FormArray with 10k+ rows (15 columns per row) data in one page", "body": "<p>I am trying to solve a similar problem.  Using Chrome profiler, I found much time is spent on running validations repetitively.  Creating the form without validation helps, but still a bit too slow.</p>\n\n<p>Disable the form array:</p>\n\n<p><code>validateForms.rows.disable({emitEvent: false});</code></p>\n\n<p>When creating each FormGroup row, disable each control:</p>\n\n<pre><code>FormBuilder.group({\n    col1: [{value: 'value1', disabled: true }, validators... ],\n    col2: [{value: 'value2', disabled: true }, validators... ],\n});\n</code></pre>\n\n<p>Then after all groups are added to the array, enable the array:</p>\n\n<p><code>validateForm.rows.enable({onlySelf: false, emitEvent: false});</code></p>\n"}], "owner": {"reputation": 11, "user_id": 8126440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a33b83279e7e80cf9f17f7ce04d5e3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Allen Chen", "link": "https://stackoverflow.com/users/8126440/allen-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 735, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1585322790, "creation_date": 1563375837, "last_edit_date": 1563409488, "question_id": 57078974, "link": "https://stackoverflow.com/questions/57078974/angular-render-formarray-with-10k-rows-15-columns-per-row-data-in-one-page", "title": "Angular render FormArray with 10k+ rows (15 columns per row) data in one page", "body": "<p>I have a requirement to render a form which include a FormArray with 10k+ rows data (15+ FormControls per row) in one page in my Angular 8 web application. Because of these large amount of data, there have a big render problem, can anyone help me to improve the render performance? Thank you</p>\n\n<p>I have tried to use virtualScroll with <code>@angular/cdk</code>, but still works bad</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;table [formGroup]=\"validateForm\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th *ngFor=\"let column of columns\"&gt;{{column.name}}&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;ng-container formArrayName=\"rows\"\n                  *ngIf=\"inputDataValid(rowDatas, columns)\"&gt;\n      &lt;tbody *cdkVirtualFor=\"let row of rowDatas; let rowIndex = index; \"\n             [formGroupName]=\"rowIndex\"\n             class=\"example-item\"\n             &gt;\n        &lt;tr&gt;\n          &lt;td *ngFor=\"let column of columns;\"&gt;\n            &lt;input type=\"text\"\n                   [formControlName]=\"column.prop\"\n                   *ngIf=\"column.controlType === controlTypes.TEXT\"&gt;\n            &lt;select name=\"\"\n                    id=\"\"\n                    [formControlName]=\"column.prop\"\n                    *ngIf=\"column.controlType === controlTypes.SELECT\"&gt;\n&lt;!-- options --&gt;\n&lt;/select&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n   &lt;/ng-container&gt;\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 4698, "user_id": 604063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c278b7144feb496c731ee0514355548c?s=128&d=identicon&r=PG", "display_name": "David Foster", "link": "https://stackoverflow.com/users/604063/david-foster"}, "edited": false, "score": 0, "creation_date": 1564110302, "post_id": 57177812, "comment_id": 100930733, "body": "Thanks for the research and the helpful link!"}, {"owner": {"reputation": 4988, "user_id": 344527, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/785a8c350db7560d6f44eba003661ade?s=128&d=identicon&r=PG", "display_name": "Wojciech Bednarski", "link": "https://stackoverflow.com/users/344527/wojciech-bednarski"}, "reply_to_user": {"reputation": 4698, "user_id": 604063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c278b7144feb496c731ee0514355548c?s=128&d=identicon&r=PG", "display_name": "David Foster", "link": "https://stackoverflow.com/users/604063/david-foster"}, "edited": false, "score": 0, "creation_date": 1595108638, "post_id": 57177812, "comment_id": 111362361, "body": "<a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-beta/#build-and-noemitonerror\" rel=\"nofollow noreferrer\">devblogs.microsoft.com/typescript/&hellip;</a> @DavidFoster"}, {"owner": {"reputation": 4698, "user_id": 604063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c278b7144feb496c731ee0514355548c?s=128&d=identicon&r=PG", "display_name": "David Foster", "link": "https://stackoverflow.com/users/604063/david-foster"}, "edited": false, "score": 0, "creation_date": 1595259194, "post_id": 57177812, "comment_id": 111405751, "body": "Based on the link above, TypeScript 4.0 now allows --incremental with --noEmit."}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "reply_to_user": {"reputation": 4698, "user_id": 604063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c278b7144feb496c731ee0514355548c?s=128&d=identicon&r=PG", "display_name": "David Foster", "link": "https://stackoverflow.com/users/604063/david-foster"}, "edited": false, "score": 0, "creation_date": 1595261363, "post_id": 57177812, "comment_id": 111406847, "body": "@DavidFoster yeah, this combination is finally possible and good news for TS 4.0 users! For older TS versions, there is a workaround posted <a href=\"https://stackoverflow.com/questions/60563961/option-noemit-cannot-be-specified-with-option-incremental/62622318#62622318\">here</a> in the meanwhile. Thanks for notifying"}], "tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 3, "last_activity_date": 1595261508, "last_edit_date": 1595261508, "creation_date": 1563954554, "answer_id": 57177812, "question_id": 57078953, "link": "https://stackoverflow.com/questions/57078953/incremental-compilation-with-typescript-while-using-noemit/57177812#57177812", "title": "Incremental compilation with TypeScript while using --noEmit?", "body": "<p>Update: The combination of <code>incremental</code> and <code>noEmit</code> is finally possible with <a href=\"https://devblogs.microsoft.com/typescript/announcing-typescript-4-0-beta/#noemit-and-incremental\" rel=\"nofollow noreferrer\">TS 4.0</a>.</p>\n<hr />\n<p>Up to now, unfortunately there is no way to have <code>incremental</code> builds with <code>noEmit</code> option enabled for faster type checking runs. E.g. this would be useful, when there is a separate typescript compile step with <code>@babel/preset-typescript</code> or similar.</p>\n<p>Developer's statement regarding your question:</p>\n<blockquote>\n<p>The problem here is that incremental is on by default if composite is on, so this is an actual risky change because it's going to mean new build artifacts in unexpected places for people using --noEmit today.</p>\n<p>If the build info file path is specified manually, then writing it out does seem OK</p>\n</blockquote>\n<p>So hopefully there is a chance, that such a feature will be implemented in future releases. You may follow <a href=\"https://github.com/Microsoft/TypeScript/issues/30661\" rel=\"nofollow noreferrer\">here</a> for progress tracking.</p>\n"}], "owner": {"reputation": 4698, "user_id": 604063, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c278b7144feb496c731ee0514355548c?s=128&d=identicon&r=PG", "display_name": "David Foster", "link": "https://stackoverflow.com/users/604063/david-foster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3397, "favorite_count": 0, "accepted_answer_id": 57177812, "answer_count": 1, "score": 3, "last_activity_date": 1595261508, "creation_date": 1563375797, "question_id": 57078953, "link": "https://stackoverflow.com/questions/57078953/incremental-compilation-with-typescript-while-using-noemit", "title": "Incremental compilation with TypeScript while using --noEmit?", "body": "<p>I would like to use TypeScript's <code>--incremental</code> mode to make it faster on repeated runs. However my <code>tsconfig.json</code> sets <code>\"noEmit\": true</code> because I'm currently only using TypeScript for type checking and not code generation.</p>\n\n<p>If I run <code>tsc --incremental --outDir ~/tmp/typescript --noEmit</code> it doesn't appear to output a <code>tsconfig.tsbuildinfo</code> file and therefore doesn't actually incrementally compile on repeated runs.</p>\n\n<p>I suppose I could actually enable emit and run <code>tsc --incremental --outDir ~/tmp/typescript --noEmit false</code> but then it generates not just <code>tsconfig.tsbuildinfo</code> but also a bunch of JS files I don't need, which isn't ideal.</p>\n\n<p>Is there a way I can run <code>tsc --incremental --noEmit</code>, actually incrementally compile, and only generate the <code>tsconfig.tsbuildinfo</code> file needed for incremental compilation?</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 74246, "user_id": 80911, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9e9b4f80c65dc6076d74cd421084e4fc?s=128&d=identicon&r=PG", "display_name": "Evert", "link": "https://stackoverflow.com/users/80911/evert"}, "is_accepted": false, "score": 0, "last_activity_date": 1563378729, "creation_date": 1563378729, "answer_id": 57079890, "question_id": 57078761, "link": "https://stackoverflow.com/questions/57078761/check-if-an-object-exist-into-another-array/57079890#57079890", "title": "check if an object exist into another array", "body": "<p>Javascript doesn't have a built-in way to compare the value of different objects.</p>\n\n<p>When you compare 2 objects, Javascript will check if they are 'the same' object, but not by value, by identity.</p>\n\n<p>As an example, these 2 objects are not the same object.</p>\n\n<pre><code>const a = { foo: 'bar' };\nconst b = ( foo: 'bar' };\n\na === b // false\n</code></pre>\n\n<p>These 2 are the same:</p>\n\n<pre><code>const a = { foo: 'bar' };\nconst b = a;\n\na === b // true\n</code></pre>\n\n<p>In the second example, if you add a property to <code>a</code>, it also appears on <code>b</code>.</p>\n\n<p>To compare 2 objects <em>by value</em>, you need to go through every property and see if they all match.</p>\n"}, {"tags": [], "owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "is_accepted": false, "score": 0, "last_activity_date": 1563379186, "creation_date": 1563379186, "answer_id": 57080033, "question_id": 57078761, "link": "https://stackoverflow.com/questions/57078761/check-if-an-object-exist-into-another-array/57080033#57080033", "title": "check if an object exist into another array", "body": "<p>Checking equality between objects in JavaScript is quite tricky. There is no a built-in function that can give you a straight answer. So first, you have to define what \"equals\" or \"exists\" means in your context.</p>\n\n<p>For example, if you know that the objects you are going to check always have the same keys, you can say that they are equal if their values match. Given your example</p>\n\n<pre><code>function isEqual(a, b) {\n    return (\n        a.code === b.code &amp;&amp; a.value === b.value\n    )\n}\n</code></pre>\n\n<p>Then you can create a function that will check that equality for every element on a list.</p>\n\n<pre><code>function listIsEqual(a, b) {\n  return a.every(objA =&gt; \n    b.reduce((acc, objB) =&gt; \n      acc || isEqual(objA, objB)\n    , false)\n  );\n}\n</code></pre>\n\n<p>You could check <code>event</code> against <code>event1</code> which would return <code>true</code>.</p>\n\n<pre><code>listIsEqual(event, event1)\n&gt; true\n</code></pre>\n\n<p>And you could use that function to check if the <code>event</code> exists on a list of <code>events</code>.</p>\n\n<pre><code>function objIsInList(target, list) {\n  return list.some(object =&gt; listIsEqual(target, object));\n}\n\nobjIsInList(event, combination)\n&gt; false\n\nobjIsInList(event1, combination)\n&gt; false\n\nobjIsInList(combination[0], combination)\n&gt; true\n</code></pre>\n\n<p>But, if your equality checks are more complicated, it would be best to use one of the existing solutions provided by libraries like lodash. Lodash provides a function called <code>isEqual</code> and <code>isEqualDeep</code> that can check equality between any objects. <a href=\"https://lodash.com/docs/4.17.11#isEqual\" rel=\"nofollow noreferrer\">Here is its documentation</a></p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 1227, "user_id": 4739210, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100004607761385/picture?type=large", "display_name": "Aymen Kanzari", "link": "https://stackoverflow.com/users/4739210/aymen-kanzari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563379186, "creation_date": 1563375263, "last_edit_date": 1563378036, "question_id": 57078761, "link": "https://stackoverflow.com/questions/57078761/check-if-an-object-exist-into-another-array", "title": "check if an object exist into another array", "body": "<p>I want to check if an object inside an array exist in another array, so for the below example the event array returns true, but the event1 array returns false.</p>\n\n<blockquote>\n  <p>combination.some(a => event.every((v, i) => v.code == a[i].code))</p>\n</blockquote>\n\n<pre><code>let combination = [\n  [\n    { code: \"repeatAdh\", value: null },\n    { code: \"duplicatePartner\", value: null }\n  ]\n];\n\nlet event = [\n  { code: \"repeatAdh\", value: \"R\u00e9p\u00e9ter adh\u00e9rent par carte\" },\n  { code: \"duplicatePartner\", value: \"R\u00e9p\u00e9ter conjoint\" }\n];\n\nlet event1 = [\n  { code: \"duplicatePartner\", value: \"R\u00e9p\u00e9ter conjoint\" },\n  { code: \"repeatAdh\", value: \"R\u00e9p\u00e9ter adh\u00e9rent par carte\" }\n];\n</code></pre>\n"}, {"tags": ["angular", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 2013, "user_id": 1124580, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6499f559b15cb3daea31652c8341098a?s=128&d=identicon&r=PG", "display_name": "bgmaster", "link": "https://stackoverflow.com/users/1124580/bgmaster"}, "edited": false, "score": 0, "creation_date": 1563376768, "post_id": 57078909, "comment_id": 100681538, "body": "Thanks...yeah I&#39;ve gone the encapsulation route for simple components, but when the component is complex, it becomes a real pain. I was hoping there was an easier, more straightforward way to do it, but I guess not :/"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 0, "last_activity_date": 1563376326, "last_edit_date": 1563376326, "creation_date": 1563375650, "answer_id": 57078909, "question_id": 57078596, "link": "https://stackoverflow.com/questions/57078596/how-can-i-create-a-wrapper-around-an-angular-component-that-only-renames-the-com/57078909#57078909", "title": "How can I create a wrapper around an Angular Component that only renames the component selector?", "body": "<p>Isn't functional programming great? </p>\n\n<p>You have to go the object oriented way with Angular. You can <em>extend</em> a component class and just update the component metadata that you want to change.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({selector: 'my-app-table'})\nexport class MyAppTableComponent extends LibraryTableComponent { \n     constructor() {\n        super()\n     }\n}\n</code></pre>\n\n<p>You will have to match the constructor arguments of the base class. Otherwise Angular doesn't know what the dependency injections are.</p>\n\n<p>This is a bit of an <em>anti-pattern</em> in object oriented programming. If the base class is updated to a new version this might break the functionality unless you update the derived classes.</p>\n\n<p>So the preferred approach is called encapsulation. Which basically means to <em>wrap</em> around the other component, but there is nothing easy about that.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@Component({\n    selector: 'my-app-table',\n    template: `&lt;library-table [input]=\"input\"&gt;&lt;/library-table&gt;`\n})\nexport class MyAppTableComponent {\n    @Input() input: any;\n}\n</code></pre>\n\n<p>The above requires more work but is <em>safer</em> from a code point of view.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/742341/difference-between-abstraction-and-encapsulation\">Difference between abstraction and encapsulation?</a></p>\n"}], "owner": {"reputation": 2013, "user_id": 1124580, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6499f559b15cb3daea31652c8341098a?s=128&d=identicon&r=PG", "display_name": "bgmaster", "link": "https://stackoverflow.com/users/1124580/bgmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563376326, "creation_date": 1563374681, "question_id": 57078596, "link": "https://stackoverflow.com/questions/57078596/how-can-i-create-a-wrapper-around-an-angular-component-that-only-renames-the-com", "title": "How can I create a wrapper around an Angular Component that only renames the component selector?", "body": "<p>Coming from a React background, you can abstract out a library component in your app by renaming it like this:</p>\n\n<p><code>const MyAppTable = (props) =&gt; &lt;LibraryTable ...props /&gt;;</code></p>\n\n<p>I want to do something similar in Angular, but am not sure how to get the 1:1 mapping of the component's behaviors. E.g., I want to do this:</p>\n\n<p><code>&lt;my-app-table [input]=\"input\" &gt;&lt;/my-app-table&gt;</code></p>\n\n<p>is the same as</p>\n\n<p><code>&lt;library-table [input]=\"input\" &gt;&lt;/library-table&gt; (plus all additional behavior found in component)</code></p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1563375069, "post_id": 57078576, "comment_id": 100680537, "body": "@T.J.Crowder Answering this one? Don&#39;t want to steal it \ud83d\ude0a"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1563375282, "post_id": 57078576, "comment_id": 100680666, "body": "@TitianCernicova-Dragomir - Your answer would probably be better. :-)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 2, "creation_date": 1563375444, "post_id": 57078576, "comment_id": 100680758, "body": "@T.J.Crowder actually in this case since the object props are all of the same type my answer was needlessly complicated, yours is better :)"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 0, "creation_date": 1563375497, "post_id": 57078576, "comment_id": 100680795, "body": "@TitianCernicova-Dragomir - <i>(Makes note in diary... ;-) )</i>"}, {"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "reply_to_user": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "edited": false, "score": 1, "creation_date": 1563375611, "post_id": 57078576, "comment_id": 100680874, "body": "@T.J.Crowder you&#39;re totally right, I meant <code>persons</code> to be a value, NOT a type. Completely missed that, really sorry."}], "answers": [{"comments": [{"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 1, "creation_date": 1563375658, "post_id": 57078741, "comment_id": 100680898, "body": "Sadly I mixed up type and value in the example. <code>persons</code> is not a type but a value (in the example a simple <code>[name: string]: string</code>, but way more complicated in the application I&#39;m working on)."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1563375942, "post_id": 57078741, "comment_id": 100681072, "body": "@nehalist - No worries and thanks for clarifying. I&#39;ve updated the answer with two options for you."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1563376349, "post_id": 57078741, "comment_id": 100681300, "body": "Wouldn&#39;t <code>interface Persons {   [key: string]: string; }</code> make more sense as the definition...?"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1563377850, "post_id": 57078741, "comment_id": 100682153, "body": "@PatrickRoberts - The OP wants to avoid having keys that aren&#39;t <code>john</code> or <code>bob</code>, apparently, since they want <code>&#39;someonenotincluded&#39;</code> to cause an error."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1563378235, "post_id": 57078741, "comment_id": 100682388, "body": "Ah, I overlooked that. Fair enough."}, {"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1563378689, "post_id": 57078741, "comment_id": 100682667, "body": "@T.J.Crowder Ahh, I&#39;ve tried <code>keyof PersonList.persons</code> instead of <code>[]</code>. Thanks!"}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 1, "creation_date": 1563378890, "post_id": 57078741, "comment_id": 100682784, "body": "@nehalist - Happy to help! At least part of the credit goes to Titian Cernicova-Dragomir, who taught me this trick a little while back."}, {"owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1563439740, "post_id": 57078741, "comment_id": 100703084, "body": "@T.J.Crowder One additional question: is it possible to implement this in an abstract class? See <a href=\"https://gist.github.com/nehalist/dd01964dffa2e396cd45abe8969899bc\" rel=\"nofollow noreferrer\">gist.github.com/nehalist/dd01964dffa2e396cd45abe8969899bc</a> - it would be awesome to implement the getter in the abstract class, but I haven&#39;t found a solution so far."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "edited": false, "score": 0, "creation_date": 1563444134, "post_id": 57078741, "comment_id": 100705580, "body": "@nehalist - I think you can do that if you parameterize <code>AbstractPersonList</code>, I&#39;ve added to the end of the answer."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 3, "last_activity_date": 1563444114, "last_edit_date": 1563444114, "creation_date": 1563375205, "answer_id": 57078741, "question_id": 57078576, "link": "https://stackoverflow.com/questions/57078576/lookup-type-within-object-in-typescript/57078741#57078741", "title": "Lookup type within object in TypeScript", "body": "<p>I'd take that inline type and name it (but keep reading, you don't <em>have</em> to):</p>\n\n<pre><code>interface Persons {\n  john: string;\n  bob: string;\n}\n</code></pre>\n\n<p>Then you can use <code>keyof Persons</code> as the parameter type in <code>getPerson</code>:</p>\n\n<pre><code>class PersonList {\n  persons: Persons = {\n    john: 'description of john',\n    bob: 'description of bob'\n  };\n\n  getPerson(name: keyof Persons) {\n    return this.persons[name];\n  }\n}\n</code></pre>\n\n<p>So then if <code>pl</code> is a <code>PersonList</code>:</p>\n\n<pre><code>console.log(pl.getPerson('john')); // Works\nconsole.log(pl.getPerson('someonenotincluded')); // Error\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#code/JYOwLgpgTgZghgYwgAgArQM4HsQeQbwChlkArLACxAC5kMwpQBzAbmOQCMsPb7GRWhAL6EEAGzgY86KNhAAZYPQLsADphwZaMuXgC8KkiXJVaAcgAmEDAkaqwwHMiwwylEGYA07Elx7JLa1tge0cQZ1c-M3YhNnYmCDAdHAAKEDgAWwhaAGsIAE8XNA1cAEpDIyhEgFcocLAKJQA6dVlNAG10rIBdNhIREVFNMGRVMWQDEAgAd2K2hSUwFNK2BE0sMQgmsSwmFLGmhKSSlLMTD1KV5AB6a+QAdSwoHIwh3A2tnb2Do+SQU+wWRwEBAWAcIHE1SsFjMlxYNzuAFEoFAnkA\" rel=\"nofollow noreferrer\">Live on the playground</a>.</p>\n\n<p><strong>But</strong>, if you prefer to keep it inline, you can by using <code>keyof PersonList['persons']</code> as the parameter type:</p>\n\n<pre><code>class PersonList {\n  persons = {\n    john: 'description of john',\n    bob: 'description of bob'\n  };\n\n  getPerson(name: keyof PersonList['persons']) {\n    return this.persons[name];\n  }\n}\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#code/MYGwhgzhAEAKCmAnCB7AdgGQJYQC7QG8AoaaAByVTRgF5CTToArFACzQC5oByAE3gjBEWMrizpoKAGbM2abgBoGpAEYoVXPgKEixE6dDUruDAL4BuIgwDm8XAmToAFGjABbeFwDW8AJ4GHKmw8AG1uCkdqbgBdAEp6RmhEOwBXRDRoXFYcADoIqggQ1w9oy1JTIgqiYHQ8chBoOjR4AHc4SnRg3CdYyxrqFBB4HJAUaycyEBzbew60J24Wdm5Y3ugAenXoAHUURC8IatrB4dHxyem7QOduVA90eDQUMTRQFP5eFbXN6ABRREQeyAA\" rel=\"nofollow noreferrer\">Live on the playground</a>.</p>\n\n<hr>\n\n<p>In a comment you've asked:</p>\n\n<blockquote>\n  <p>is it possible to implement this in an abstract class? ... it would be awesome to implement the getter in the abstract class, but I haven't found a solution so far.</p>\n</blockquote>\n\n<p>...with a link to this code template:</p>\n\n<pre><code>abstract class AbstractPersonList {\n  protected abstract persons: { [name: string]: string };\n}\n\nclass Persons extends AbstractPersonList {\n  persons = {\n    john: 'this is john',\n  }\n}\n\nclass MorePersons extends AbstractPersonList {\n  persons = {\n    bob: 'this is bob',\n  }\n}\n</code></pre>\n\n<p>You can parameterize <code>AbstractPersonList</code>:</p>\n\n<pre><code>abstract class AbstractPersonList&lt;T extends {[name: string]: string}&gt; {\n// ------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  protected abstract persons: T;\n  public getPerson(name: keyof T): string {\n    return this.persons[name];\n  }\n}\n</code></pre>\n\n<p>Then you'd have:</p>\n\n<pre><code>class Persons extends AbstractPersonList&lt;{john: string}&gt; {\n// -------------------------------------^^^^^^^^^^^^^^^^\n  persons = {\n    john: 'this is john',\n  }\n}\n\nclass MorePersons extends AbstractPersonList&lt;{bob: string}&gt; {\n// -----------------------------------------^^^^^^^^^^^^^^^\n  persons = {\n    bob: 'this is bob',\n  }\n}\n</code></pre>\n\n<p>Which leads to these results, which I think are what you're looking for:</p>\n\n<pre><code>let n = Math.random() &lt; 0.5 ? 'john' : 'bob';\n\nconst p = new Persons();\nconsole.log(p.getPerson('john'));  // Works\nconsole.log(p.getPerson('bob'));   // FAILS: Argument of type '\"bob\"' is not assignable to parameter of type '\"john\"'.\nconsole.log(p.getPerson(n));       // FAILS: Argument of type 'string' is not assignable to parameter of type '\"john\"'.\n\nconst mp = new MorePersons();\nconsole.log(mp.getPerson('john')); // FAILS: Argument of type '\"john\"' is not assignable to parameter of type '\"bob\"'.\nconsole.log(mp.getPerson('bob'));  // Works\nconsole.log(mp.getPerson(n));      // FAILS: Argument of type 'string' is not assignable to parameter of type '\"bob\"'.\n</code></pre>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#code/IYIwzgLgTsDGEAJYBthjAgguacIAUBTKMAewDsAZAS0gB4AVBQgDwkPIBMMBvAbXLAAtoQBcCSFGrkA5gF1xk6TIC+APgQ8AUAgQAHKKXbxCnBKEl59xMuTDiGAbh36AriGTVYCGYQI2KAApBEXEAa0IAT1IAMwQGAEpFaGVNF10oP1cocgQIAAtaADo9ALsBYUI5Z10VLTqtFDQMIhIKDFZ2LgxsS3hW2xp6HgArUnzyZKlZdTTdUra7BABeOd0EMYnxAHIC2gR9zfJtgBoXOoam9AQAWVJMgfbmNg5uLBwYfrKhiDoeEFIICmylm2nmZQwqzB6wBQIQu0KGH2sNO53qWi0yD8CFyqxuwAKRRgXFIQkCCQQdAQAAYigBWBAAfnhR22CB2KOcjXaiD0KxxhAA7ghHnZyc5YO1SFiishSDJAnoir5-ItAttWQkEo4EAB6XUIADq9zCYG5dmlhFl8sVyr8ovVKK1Ov1CAAYsBqMgzZKLTK5QqlSqHeRnXqDR6vWbzZAEEI+atyELbvdCKKwOKY5brQr43bVbZ1ZrteH3Z7vVn-Ta88Gyo7Adsw67jVBTZWrQHAjX7XXQyXXZHvUA\" rel=\"nofollow noreferrer\">Live on the playground</a>.</p>\n"}], "owner": {"reputation": 1236, "user_id": 3795530, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/d59d84cee19e6d6009e67a18cd000d37?s=128&d=identicon&r=PG", "display_name": "nehalist", "link": "https://stackoverflow.com/users/3795530/nehalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1229, "favorite_count": 0, "accepted_answer_id": 57078741, "answer_count": 1, "score": 2, "last_activity_date": 1563444114, "creation_date": 1563374625, "last_edit_date": 1563375554, "question_id": 57078576, "link": "https://stackoverflow.com/questions/57078576/lookup-type-within-object-in-typescript", "title": "Lookup type within object in TypeScript", "body": "<p>I'm trying to introduce a lookup type within an object. Let's say my object looks like</p>\n\n<pre><code>class PersonList {\n  persons = {\n    john: 'description of john',\n    bob: 'description of bob'\n  }\n}\n</code></pre>\n\n<p>I'd like to have a getter to get a person from <code>persons</code> but without specifying the the <code>persons</code> object.</p>\n\n<p>The <code>getProperty</code> from the docs</p>\n\n<pre><code>function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {\n  return obj[key];  // Inferred type is T[K]\n}\n</code></pre>\n\n<p>Wants to have an <code>obj</code> which I want to get rid of in my getter. I've tried proxying the getter, but that didn't work out:</p>\n\n<pre><code>class PersonList {\n  persons = {\n    john: 'description of john',\n    bob: 'description of bob'\n  };\n\n  getPerson(name) {\n    return this.getProperty(this.persons, name);\n  }\n\n  private getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {\n    return obj[key];  // Inferred type is T[K]\n  }\n}\n</code></pre>\n\n<p>This sadly doesn't throw an error when trying to do something like <code>personList.getPerson('someonenotincluded');</code> - and additionally autocomplete doesn't work either.</p>\n"}, {"tags": ["html", "typescript", "ionic-framework", "ionic4"], "answers": [{"comments": [{"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1563457265, "post_id": 57078730, "comment_id": 100713082, "body": "Yes, it should work right?. But it doesn&#39;t for ion-select"}, {"owner": {"reputation": 43, "user_id": 11769558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/588377e48a41bb008f677e7468b81041?s=128&d=identicon&r=PG&f=1", "display_name": "louloulfx", "link": "https://stackoverflow.com/users/11769558/louloulfx"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1563457815, "post_id": 57078730, "comment_id": 100713484, "body": "Yes, it is working, but i think is more complexe with ion-select its why i propose an alternative !"}, {"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1563458378, "post_id": 57078730, "comment_id": 100713893, "body": "Thanks for the help, but this is not alternative, I need an ion-select, it needs to contain items, this is just an alert, of couse I could implement something like <a href=\"https://www.freakyjolly.com/ionic-4-how-to-select-all-unselect-all-checkboxes-with-ideterminate-in-ionic-4/\" rel=\"nofollow noreferrer\">this</a>, it looks good, and I will use it if I have no other options."}], "tags": [], "owner": {"reputation": 43, "user_id": 11769558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/588377e48a41bb008f677e7468b81041?s=128&d=identicon&r=PG&f=1", "display_name": "louloulfx", "link": "https://stackoverflow.com/users/11769558/louloulfx"}, "is_accepted": false, "score": 0, "last_activity_date": 1563433623, "last_edit_date": 1563433623, "creation_date": 1563375177, "answer_id": 57078730, "question_id": 57078470, "link": "https://stackoverflow.com/questions/57078470/add-select-all-button-to-ion-select/57078730#57078730", "title": "Add &quot;Select All&#39;&#39; button to ion-select", "body": "<p>i am working with AlertController from ionic and i can custom it, just take a look at <a href=\"https://i.stack.imgur.com/dniWU.png\" rel=\"nofollow noreferrer\">my screen </a>.</p>\n\n<p>You just need to import AlertController and after you can do something like this for exemple :</p>\n\n<p><strong>home.page.ts</strong></p>\n\n<pre><code>async addAlertHome(adresse: string, lat: string, lon: string) {\n    const alert = await this.alertController.create({\n      header: 'Ajouter aux favoris',\n      message: '\u00cates vous s\u00fbr de vouloir ajouter cette adresse \u00e0 vos favoris ?',\n      buttons: [\n        {\n          text: 'Non',\n          role: 'cancel',\n          cssClass: 'secondary'\n        }, {\n          text: 'Oui',\n          handler: () =&gt; {\n            alert.dismiss().then(() =&gt; {\n              this.addFavoriteHome(adresse, lat, lon);\n            });\n            console.log('Confirm Okay');\n\n          }\n        }\n      ]\n    });\n\n\n    await alert.present();\n  }\n</code></pre>\n\n<p>And use it where you want on html :\n<strong>home.page.html</strong></p>\n\n<pre><code>&lt;ion-icon name=\"heart-empty\" (click)=\"addAlert(location.display_name, location.lat, location.lon)\" end&gt;\n            &lt;/ion-icon&gt;\n</code></pre>\n\n<p>And don't forget on your constructor :</p>\n\n<pre><code>public alertController: AlertController\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1563540616, "post_id": 57105946, "comment_id": 100744510, "body": "Thanks, Is there like a &quot;popular&quot; workaround? I was thinking something like copy the whole component from the code in Github to my project and modify it there, avoiding that override"}, {"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "reply_to_user": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "edited": false, "score": 0, "creation_date": 1563553348, "post_id": 57105946, "comment_id": 100751288, "body": "It&#39;s something that I have become curious about but not tried yet. A lot of questions are people trying to do things where they are bumping up against whats supported. The move to web components gave a lot of positives but the tough part about it is that if the component doesnt support it out of the box you can&#39;t tweak it because its insides are hidden from view when on the page. I would be interested to know how difficult it is to extract a single component from Ionic core."}], "tags": [], "owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "is_accepted": false, "score": 1, "last_activity_date": 1563513616, "creation_date": 1563513616, "answer_id": 57105946, "question_id": 57078470, "link": "https://stackoverflow.com/questions/57078470/add-select-all-button-to-ion-select/57105946#57105946", "title": "Add &quot;Select All&#39;&#39; button to ion-select", "body": "<p>What you are trying to do isn't possible from what I can see.</p>\n\n<p>The documentation actually only says you can set the buttons text:</p>\n\n<ul>\n<li><a href=\"https://ionicframework.com/docs/api/select#select-buttons\" rel=\"nofollow noreferrer\">ion-select#select-buttons - Ionic Documentation</a></li>\n</ul>\n\n<blockquote>\n  <p>By default, the alert has two buttons: <code>Cancel</code> and <code>OK</code>. Each button's text can be customized using the <code>cancelText</code> and <code>okText</code> properties.</p>\n</blockquote>\n\n<p>It doesn't say that the buttons can be customised.</p>\n\n<p>You can pass in the <code>interfaceOptions</code> but its overridden later by the default button set:</p>\n\n<ul>\n<li><a href=\"https://github.com/ionic-team/ionic/blob/master/core/src/components/select/select.tsx#L339\" rel=\"nofollow noreferrer\">https://github.com/ionic-team/ionic/blob/master/core/src/components/select/select.tsx#L339</a></li>\n</ul>\n\n<p>The code looks like this:</p>\n\n<pre><code>const alertOpts: AlertOptions = {\n  mode,\n  ...interfaceOptions,\n\n  header: interfaceOptions.header ? interfaceOptions.header : labelText,\n  inputs: this.createAlertInputs(this.childOpts, inputType),\n  buttons: [\n    {\n      text: this.cancelText,\n      role: 'cancel',\n      handler: () =&gt; {\n        this.ionCancel.emit();\n      }\n    },\n    {\n      text: this.okText,\n      handler: (selectedValues: any) =&gt; {\n        this.value = selectedValues;\n      }\n    }\n  ],\n  cssClass: ['select-alert', interfaceOptions.cssClass,\n             (this.multiple ? 'multiple-select-alert' : 'single-select-alert')]\n};\nreturn alertController.create(alertOpts);\n</code></pre>\n\n<p>So as you can see the <code>...interfaceOptions,</code> is passed in at the start, then the buttons are set to the defaults, with the only customisation options being the ok or cancel text.</p>\n"}], "owner": {"reputation": 3631, "user_id": 3596441, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eOkgD.jpg?s=128&g=1", "display_name": "The One", "link": "https://stackoverflow.com/users/3596441/the-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563540668, "creation_date": 1563374306, "last_edit_date": 1563540668, "question_id": 57078470, "link": "https://stackoverflow.com/questions/57078470/add-select-all-button-to-ion-select", "title": "Add &quot;Select All&#39;&#39; button to ion-select", "body": "<p>I'm using ionic 4 and I want to set custom buttons on ion-select through interfaceOptions</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ion-item&gt;\n  &lt;ion-label&gt;Lines&lt;/ion-label&gt;\n  &lt;ion-select multiple=\"true\" [(ngModel)]=\"SelectedLines\" [interfaceOptions]=\"customAlertOptions\"&gt;\n    &lt;ion-select-option [value]=\"line\" *ngFor=\"let line of Lines\"&gt;{{linea.Name}}&lt;/ion-select-option&gt;\n  &lt;/ion-select&gt;\n&lt;/ion-item&gt;\n</code></pre>\n\n<p>TS</p>\n\n<pre><code>customAlertOptions: any = {\nbuttons: [\n  {\n    text: 'Select All',\n    handler: (blah) =&gt; {\n      console.log('Select All Clicked');\n    },\n  {\n    text: 'No',\n    handler: (blah) =&gt; {\n      console.log('Confirm Cancel: blah');\n    }\n  }, {\n    text: 'Okay',\n    handler: () =&gt; {\n      console.log('Confirm Okay');\n    }\n  }\n]\n</code></pre>\n\n<p>};</p>\n\n<p>However, only the default buttons are showing (Ok and Cancel)</p>\n\n<p>Docs say it should be possible</p>\n\n<p><a href=\"https://ionicframework.com/docs/api/select\" rel=\"nofollow noreferrer\">https://ionicframework.com/docs/api/select</a></p>\n\n<p>I can see this has been reported for previous versions of Ionic</p>\n\n<p><a href=\"https://forum.ionicframework.com/t/custom-button-for-ion-select-through-selectoptions-not-working/157305\" rel=\"nofollow noreferrer\">https://forum.ionicframework.com/t/custom-button-for-ion-select-through-selectoptions-not-working/157305</a></p>\n\n<p>Is it possible to make this work on Ionic 4? Is there a workaround?</p>\n\n<p>EDIT: I tried with the PopOver interface with the same results</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1190, "user_id": 6853068, "user_type": "registered", "profile_image": "https://graph.facebook.com/1234074719957575/picture?type=large", "display_name": "Akshay Rana", "link": "https://stackoverflow.com/users/6853068/akshay-rana"}, "edited": false, "score": 0, "creation_date": 1563375801, "post_id": 57078375, "comment_id": 100681005, "body": "Your console.log should be console.log(data);"}], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 6853068, "user_type": "registered", "profile_image": "https://graph.facebook.com/1234074719957575/picture?type=large", "display_name": "Akshay Rana", "link": "https://stackoverflow.com/users/6853068/akshay-rana"}, "is_accepted": false, "score": 2, "last_activity_date": 1563375302, "creation_date": 1563375302, "answer_id": 57078783, "question_id": 57078375, "link": "https://stackoverflow.com/questions/57078375/how-do-i-subscribe-and-stay-in-sync-to-the-data-from-a-resolver-service/57078783#57078783", "title": "How do I subscribe and stay in sync to the data from a Resolver Service", "body": "<p>Once you subscribe to the service and then return the data, it's no longer an Observable, you are returning an object of type Subscription. Your \"resolve\" function must result either Documentary, Observale&lt;Documentary&gt; or Promise&lt;Documentary&gt;.</p>\n\n<p>Instead of subscribing, just return the Observable,</p>\n\n<pre><code>return this.documentaryService.get(slug);\n</code></pre>\n\n<p>Here's the Resolver API with example : \n<a href=\"https://angular.io/api/router/Resolve\" rel=\"nofollow noreferrer\">https://angular.io/api/router/Resolve</a></p>\n"}, {"tags": [], "owner": {"reputation": 455, "user_id": 327238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ECmb.jpg?s=128&g=1", "display_name": "mrdeleon", "link": "https://stackoverflow.com/users/327238/mrdeleon"}, "is_accepted": false, "score": 0, "last_activity_date": 1563375322, "creation_date": 1563375322, "answer_id": 57078790, "question_id": 57078375, "link": "https://stackoverflow.com/questions/57078375/how-do-i-subscribe-and-stay-in-sync-to-the-data-from-a-resolver-service/57078790#57078790", "title": "How do I subscribe and stay in sync to the data from a Resolver Service", "body": "<p>To get the resolve data you need to add it into your AdminDocumentaryDetailComponent route</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: AdminDocumentaryDetailComponent,\n    resolve: {\n       documentary: DocumentaryResolverService\n    }\n  }\n];\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11694027, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qHQPGycDqqg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3_OuLkJK4b1Sv0flJX40l1ANPCg/mo/photo.jpg?sz=128", "display_name": "JonnyD", "link": "https://stackoverflow.com/users/11694027/jonnyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563375322, "creation_date": 1563374050, "question_id": 57078375, "link": "https://stackoverflow.com/questions/57078375/how-do-i-subscribe-and-stay-in-sync-to-the-data-from-a-resolver-service", "title": "How do I subscribe and stay in sync to the data from a Resolver Service", "body": "<p>What's the best way to implement this, I get an error when I do this:</p>\n\n<blockquote>\n  <p>\"Property 'resolve' in type 'DocumentaryResolverService' is not assignable >to the same property in base type 'Resolve'.\"</p>\n</blockquote>\n\n<pre><code>import { Documentary } from './../models/documentary.model';\nimport { DocumentaryService } from './documentary.service';\nimport { Injectable } from '@angular/core';\nimport {\n  Resolve,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot\n} from '@angular/router';\n\n@Injectable({ providedIn: 'root' })\nexport class DocumentaryResolverService implements Resolve&lt;Documentary&gt; {\n  constructor(private documentaryService: DocumentaryService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    let slug = route.params['slug'];\n    let documentary: Documentary;\n    return this.documentaryService.get(slug).subscribe(result =&gt; {\n        documentary = &lt;Documentary&gt; result;\n        return documentary;\n    });\n  }\n}\n</code></pre>\n\n<p>but if I do this I don't get an error but I want to wait until the  subscribe to observable is finish before returning documentary.</p>\n\n<pre><code>import { Documentary } from './../models/documentary.model';\nimport { DocumentaryService } from './documentary.service';\nimport { Injectable } from '@angular/core';\nimport {\n  Resolve,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot\n} from '@angular/router';\n\n@Injectable({ providedIn: 'root' })\nexport class DocumentaryResolverService implements Resolve&lt;Documentary&gt; {\n  constructor(private documentaryService: DocumentaryService) {}\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    let slug = route.params['slug'];\n    let documentary: Documentary;\n    this.documentaryService.get(slug).subscribe(result =&gt; {\n        documentary = &lt;Documentary&gt; result;\n    });\n    return documentary;\n  }\n}\n</code></pre>\n\n<p>I've tried to do this using async and await but it doesn't work</p>\n\n<pre><code>import { Documentary } from './../models/documentary.model';\nimport { DocumentaryService } from './documentary.service';\nimport { Injectable } from '@angular/core';\nimport {\n  Resolve,\n  ActivatedRouteSnapshot,\n  RouterStateSnapshot\n} from '@angular/router';\n\n@Injectable({ providedIn: 'root' })\nexport class DocumentaryResolverService implements Resolve&lt;Documentary&gt; {\n  constructor(private documentaryService: DocumentaryService) {}\n\n  async resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    let slug = route.params['slug'];\n    console.log(slug);\n    console.log(\"resolver\");\n    let documentary: Documentary;\n    await this.documentaryService.get(slug).subscribe(result =&gt; {\n        return &lt;Documentary&gt; result;\n    });\n    return documentary;\n  }\n}\n</code></pre>\n\n<p>The resolver is called here:</p>\n\n<pre><code>import { DocumentaryService } from './../../../services/documentary.service';\nimport { Documentary } from './../../../models/documentary.model';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Router, Params } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-admin-documentary-detail',\n  templateUrl: './admin-documentary-detail.component.html',\n  styleUrls: ['./admin-documentary-detail.component.css']\n})\nexport class AdminDocumentaryDetailComponent implements OnInit, OnDestroy {\n  documentary: any;\n  slug: string;\n  documentarySubscription: Subscription;\n\n  constructor(\n    private documentaryService: DocumentaryService,\n    private route: ActivatedRoute,\n    private router: Router) { }\n\n  ngOnInit() {\n    this.route.data.subscribe(data =&gt; {\n      this.documentary = data;\n      console.log(this.route.data);\n    })\n    }\n\n    ngOnDestroy() {\n      this.documentarySubscription.unsubscribe();\n    }\n}\n</code></pre>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "edited": false, "score": 0, "creation_date": 1563373588, "post_id": 57078209, "comment_id": 100679627, "body": "I&#39;m OK with importing everything, I just can&#39;t figure out how do I use this class at all."}, {"owner": {"reputation": 4889, "user_id": 773259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbxQI.jpg?s=128&g=1", "display_name": "SparK", "link": "https://stackoverflow.com/users/773259/spark"}, "reply_to_user": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "edited": false, "score": 0, "creation_date": 1563392497, "post_id": 57078209, "comment_id": 100689094, "body": "Oh, <code>import * as Foo from &#39;foo&#39;</code>"}], "tags": [], "owner": {"reputation": 4889, "user_id": 773259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VbxQI.jpg?s=128&g=1", "display_name": "SparK", "link": "https://stackoverflow.com/users/773259/spark"}, "is_accepted": true, "score": 1, "last_activity_date": 1563392585, "last_edit_date": 1563392585, "creation_date": 1563373518, "answer_id": 57078209, "question_id": 57077988, "link": "https://stackoverflow.com/questions/57077988/import-class-that-has-the-same-name-as-a-namespace/57078209#57078209", "title": "Import class that has the same name as a namespace", "body": "<p>Your class is a constructor function. They will essentially merge as the namespaced objects are appended to the constructor function definition and you will have something like nested classes.\nIf you want to import only the Foo class, then you tricked yourself.</p>\n\n<p>I can't say if it's good practice or not, but I use it to emulate nested classes.</p>\n\n<p>The namespace and class can be imported by using:</p>\n\n<pre><code>import * as Foo from 'foo';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "edited": false, "score": 0, "creation_date": 1563381643, "post_id": 57079925, "comment_id": 100684270, "body": "I&#39;ve tried that before posting the question, obviously. <code>Module &#39;&quot;...&#47;node_modules&#47;@types&#47;node-telegram-bot-api&#47;index&quot;&#39; can only be default-imported using the &#39;esModuleInterop&#39; flag</code>. And I deliberately changed the names to Foo in context of this question for better readability."}, {"owner": {"reputation": 41, "user_id": 11255107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced6c4d995607f7cc4e6fec30805bd57?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/11255107/ryan-w"}, "edited": false, "score": 0, "creation_date": 1563388225, "post_id": 57079925, "comment_id": 100687220, "body": "You need to add <code>&quot;esModuleInterop&quot;: true</code> to the compiler options in your tsconfig.json"}, {"owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "edited": false, "score": 0, "creation_date": 1563408262, "post_id": 57079925, "comment_id": 100693841, "body": "@RyanW. it&#39;s clear that it&#39;s an option, but given the fact that I don&#39;t import an ES module but, with type declarations, a typescript module, it does not seem as a correct option, but just a hack."}], "tags": [], "owner": {"reputation": 41, "user_id": 11255107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced6c4d995607f7cc4e6fec30805bd57?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan W.", "link": "https://stackoverflow.com/users/11255107/ryan-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1563389429, "last_edit_date": 1563389429, "creation_date": 1563378849, "answer_id": 57079925, "question_id": 57077988, "link": "https://stackoverflow.com/questions/57077988/import-class-that-has-the-same-name-as-a-namespace/57079925#57079925", "title": "Import class that has the same name as a namespace", "body": "<p>Add <code>\"esModuleInterop\": true</code> to the compiler options in your tsconfig.json file.</p>\n\n<p>Then import as normal:</p>\n\n<pre><code>import TelegramBot from 'node-telegram-bot-api';\n\nconst foo = new TelegramBot();\n</code></pre>\n"}], "owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 57078209, "answer_count": 2, "score": 0, "last_activity_date": 1563392585, "creation_date": 1563372839, "last_edit_date": 1563373187, "question_id": 57077988, "link": "https://stackoverflow.com/questions/57077988/import-class-that-has-the-same-name-as-a-namespace", "title": "Import class that has the same name as a namespace", "body": "<p>I'm using third-party library with separate @types definition that looks like this:</p>\n\n<pre><code>declare namespace Foo { /* ... */ }\n\ndeclare class Foo { /* ... */ }\n\nexport = Foo;\n</code></pre>\n\n<p>How can I import the class Foo in my code?</p>\n\n<p>Also, is this such weird name duplication a good practice in Typescript? (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/node-telegram-bot-api/index.d.ts\" rel=\"nofollow noreferrer\">Here's the actual definition file I'm using</a>).</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 31483, "user_id": 502381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/74b99e687909be449e0130a50950eac7?s=128&d=identicon&r=PG&f=1", "display_name": "JJJ", "link": "https://stackoverflow.com/users/502381/jjj"}, "is_accepted": true, "score": 1, "last_activity_date": 1563373401, "creation_date": 1563373401, "answer_id": 57078174, "question_id": 57077917, "link": "https://stackoverflow.com/questions/57077917/tokenize-date-format-string/57078174#57078174", "title": "Tokenize date-format string", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let pattern = \"%d/%m/%Y %H:%n\";\r\nlet tokens = pattern.match(/%.|[^%]+/g);\r\n\r\nconsole.log(tokens);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The regex picks either % plus one character (<code>%.</code>) or anything else until the reaches next % character (<code>[^%]+</code>). The <code>g</code> modifier keeps doing that until the end of the string.</p>\n"}], "owner": {"reputation": 2052, "user_id": 3176495, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/64fe67b095e1b41c34bbea6916cd2540?s=128&d=identicon&r=PG&f=1", "display_name": "user66875", "link": "https://stackoverflow.com/users/3176495/user66875"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57078174, "answer_count": 1, "score": -1, "last_activity_date": 1563373401, "creation_date": 1563372661, "question_id": 57077917, "link": "https://stackoverflow.com/questions/57077917/tokenize-date-format-string", "title": "Tokenize date-format string", "body": "<p>I'm trying to build a function that can convert a date format string like</p>\n\n<pre><code>%d/%m/%Y %H:%n\n</code></pre>\n\n<p>(variables are always % and one character) into an token array:</p>\n\n<pre><code>[\"%d\", \"/\", \"%m\", \"/\", \"%Y\", \" \", \"%H\", \":\", \"%n\"]\n</code></pre>\n\n<p>But I fail to see how I can do that in an easy way.</p>\n\n<p>Is there any technique / pattern / similar code to realize that?</p>\n"}, {"tags": ["angular", "typescript", "momentjs"], "comments": [{"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 1, "creation_date": 1563372967, "post_id": 57077855, "comment_id": 100679200, "body": "Out of curiosity, why would you write a <code>getQueryStringParameters</code> function in the first place, instead of relying on Angular&#39;s own methods of forming the query params string out of an object (both for Angular Router and HttpClient)?"}, {"owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 1, "creation_date": 1563373031, "post_id": 57077855, "comment_id": 100679250, "body": "check this answer: <a href=\"https://stackoverflow.com/a/38330983/2050306\">stackoverflow.com/a/38330983/2050306</a>"}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 1, "creation_date": 1563373067, "post_id": 57077855, "comment_id": 100679274, "body": "what does this output <code>typeof value</code>"}, {"owner": {"reputation": 13227, "user_id": 151829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87cd4cdc47216fe0f1e6c9129e991b56?s=128&d=identicon&r=PG", "display_name": "Botond B&#233;res", "link": "https://stackoverflow.com/users/151829/botond-b%c3%a9res"}, "reply_to_user": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "edited": false, "score": 0, "creation_date": 1563375515, "post_id": 57077855, "comment_id": 100680809, "body": "@robert Thanks, changing it to that fixed the compile problem. If you add it as an answer I&#39;ll accept it."}, {"owner": {"reputation": 13227, "user_id": 151829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87cd4cdc47216fe0f1e6c9129e991b56?s=128&d=identicon&r=PG", "display_name": "Botond B&#233;res", "link": "https://stackoverflow.com/users/151829/botond-b%c3%a9res"}, "reply_to_user": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 0, "creation_date": 1563375553, "post_id": 57077855, "comment_id": 100680839, "body": "@mbojko I&#39;m not sure, I didn&#39;t write this code. But I&#39;ll look into it."}], "answers": [{"tags": [], "owner": {"reputation": 3921, "user_id": 2050306, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/38d3c3d6d1dcea96cbe01afbba90c6d3?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/2050306/robert"}, "is_accepted": true, "score": 1, "last_activity_date": 1563395570, "creation_date": 1563395570, "answer_id": 57083704, "question_id": 57077855, "link": "https://stackoverflow.com/questions/57077855/momentjs-property-toisostring-does-not-exist-on-type/57083704#57083704", "title": "Momentjs, Property &#39;toISOString&#39; does not exist on type &#39;{}&#39;", "body": "<p>Instead of:</p>\n\n<pre><code>value instanceof moment\n</code></pre>\n\n<p>Try using <strong>isMoment</strong> method:</p>\n\n<pre><code>moment.isMoment(value)\n</code></pre>\n\n<p>See the <a href=\"https://momentjs.com/docs/#/query/is-a-moment/\" rel=\"nofollow noreferrer\">docs</a> and <a href=\"https://stackblitz.com/edit/angular-xxhtzh?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a> demo.</p>\n"}], "owner": {"reputation": 13227, "user_id": 151829, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/87cd4cdc47216fe0f1e6c9129e991b56?s=128&d=identicon&r=PG", "display_name": "Botond B&#233;res", "link": "https://stackoverflow.com/users/151829/botond-b%c3%a9res"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 57083704, "answer_count": 1, "score": 0, "last_activity_date": 1563395570, "creation_date": 1563372466, "question_id": 57077855, "link": "https://stackoverflow.com/questions/57077855/momentjs-property-toisostring-does-not-exist-on-type", "title": "Momentjs, Property &#39;toISOString&#39; does not exist on type &#39;{}&#39;", "body": "<p>I have the following code which worked until now but now <code>value.toISOString()</code> throws a compiler error. I have upgraded from Angular 7 -> 8 which brought with itself an upgrade to Typescript 3.4.5.\nAny idea what is causing this?</p>\n\n<pre><code>    import * as moment from 'moment';    \n    ...\n\n    private getQueryStringParameters(parameters: any) {\n        if (!parameters) {\n            return '';\n        }\n\n        let queryString = '?';\n\n        // tslint:disable-next-line:forin\n        for (const key in parameters) {\n            const value = parameters[key];\n\n            if (value !== undefined) {\n                if (value instanceof Array) {\n                    value.forEach(\n                        item =&gt;\n                            (queryString +=\n                                key + '=' + encodeURIComponent('' + item) + '&amp;')\n                    );\n                } else if (value instanceof moment) {\n                    queryString +=\n                        key +\n                        '=' +\n                        encodeURIComponent('' + value.toISOString()) +\n                        '&amp;';\n                } else {\n                    queryString +=\n                        key + '=' + encodeURIComponent('' + value) + '&amp;';\n                }\n            }\n        }\n</code></pre>\n\n<p>Thanks in advance for any input!</p>\n"}, {"tags": ["typescript", "office-js", "excel-addins"], "comments": [{"owner": {"reputation": 740, "user_id": 5239952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apFx6.jpg?s=128&g=1", "display_name": "Keyur Patel - MSFT", "link": "https://stackoverflow.com/users/5239952/keyur-patel-msft"}, "edited": false, "score": 0, "creation_date": 1563426653, "post_id": 57077473, "comment_id": 100697387, "body": "Hi, which version/platform of office are you testing on?"}, {"owner": {"reputation": 5, "user_id": 9405704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1iP71.jpg?s=128&g=1", "display_name": "margosmat", "link": "https://stackoverflow.com/users/9405704/margosmat"}, "reply_to_user": {"reputation": 740, "user_id": 5239952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apFx6.jpg?s=128&g=1", "display_name": "Keyur Patel - MSFT", "link": "https://stackoverflow.com/users/5239952/keyur-patel-msft"}, "edited": false, "score": 0, "creation_date": 1563434359, "post_id": 57077473, "comment_id": 100700284, "body": "@KeyurPatel-MSFT Office 365 on Windows, version 1906 (build 11727.20244)"}, {"owner": {"reputation": 740, "user_id": 5239952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apFx6.jpg?s=128&g=1", "display_name": "Keyur Patel - MSFT", "link": "https://stackoverflow.com/users/5239952/keyur-patel-msft"}, "edited": false, "score": 0, "creation_date": 1563573377, "post_id": 57077473, "comment_id": 100758329, "body": "Hi sorry for delay. so this is a bug in the April fork. Team is trying to get it deployed out, it is tracked here: <a href=\"https://github.com/OfficeDev/office-js/issues/626\" rel=\"nofollow noreferrer\">github.com/OfficeDev/office-js/issues/626</a>"}], "owner": {"reputation": 5, "user_id": 9405704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1iP71.jpg?s=128&g=1", "display_name": "margosmat", "link": "https://stackoverflow.com/users/9405704/margosmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563371323, "creation_date": 1563371323, "question_id": 57077473, "link": "https://stackoverflow.com/questions/57077473/how-to-persist-setting-in-document", "title": "How to persist setting in document?", "body": "<p>I'm developing Excel Add-in with the office-js. I want to flag documents that are using add-in's taskpane, so that when user will open this document next time, the task pane will open automaticaly.</p>\n\n<p>I used the <a href=\"https://docs.microsoft.com/en-us/office/dev/add-ins/develop/automatically-open-a-task-pane-with-a-document#tag-the-document-on-the-client-side\" rel=\"nofollow noreferrer\">docs</a> to solve my problem, but the <code>Office.AutoShowTaskpaneWithDocument</code> setting is not persisting in the document.\nI've tried to log the setting by simple </p>\n\n<pre><code>console.log(Office.context.document.settings.get('Office.AutoShowTaskpaneWithDocument'));\n</code></pre>\n\n<p>right after settting it, and it returns <code>true</code>, but after saving/closing and opening the document again, when I log it, it returns <code>null</code>. I even unzipped the .xlsx file and searched for the <code>Office.AutoShowTaskpaneWithDocument</code> string, but couldn't find it.</p>\n\n<p>Am I doing something wrong or is it a bug in office-js?</p>\n"}, {"tags": ["asp.net-mvc", "typescript", "razor"], "answers": [{"tags": [], "owner": {"reputation": 20818, "user_id": 4964569, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153480747890827/picture?type=large", "display_name": "Hien Nguyen", "link": "https://stackoverflow.com/users/4964569/hien-nguyen"}, "is_accepted": true, "score": 1, "last_activity_date": 1563372185, "creation_date": 1563372185, "answer_id": 57077766, "question_id": 57077463, "link": "https://stackoverflow.com/questions/57077463/how-to-get-listt-from-razor-page-using-typescript/57077766#57077766", "title": "How to get List&lt;T&gt; from Razor Page using typescript?", "body": "<p>The <code>@Model.Items</code> is collection, you need change to this</p>\n\n<pre><code>@if(Model.Items != null){\n  &lt;li&gt;&lt;a id=\"item-id-link\" href=\"#\" data-items=\"@string.Join(\", \", Model.Items.Select(c=&gt;c.Id))\"&gt; ...  \n   // assume Item class has Id property\n}\n</code></pre>\n"}], "owner": {"reputation": 1287, "user_id": 1306271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5BGFH.png?s=128&g=1", "display_name": "Uladz Kha", "link": "https://stackoverflow.com/users/1306271/uladz-kha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 57077766, "answer_count": 1, "score": 0, "last_activity_date": 1563372185, "creation_date": 1563371294, "question_id": 57077463, "link": "https://stackoverflow.com/questions/57077463/how-to-get-listt-from-razor-page-using-typescript", "title": "How to get List&lt;T&gt; from Razor Page using typescript?", "body": "<p>I have ViewModel and Items collection within:</p>\n\n<pre><code>public class ItemViewModel{\n   public List&lt;Item&gt; Items {get;set;}\n}\n</code></pre>\n\n<p>On my <code>Index.cshtml</code> i have:</p>\n\n<pre><code>@if(Model.Items != null){\n     &lt;li&gt;&lt;a id=\"item-id-link\" href=\"#\" data-items=\"@Model.Items\"&gt; ...\n}\n</code></pre>\n\n<p>Trying to get data using typescript:</p>\n\n<pre><code>function getData(context: Jquery){\n....\n     context.find(\"item-id-link\").click(e =&gt; {\n          const items = #(e.target).data('data-items');\n     });\n}\n</code></pre>\n\n<p>As result within items i have list of item datatype not a list of items:</p>\n\n<pre><code>\"System.Collections.Generic.List`1[ItemViewModel]\"\n</code></pre>\n\n<p>I've tried to enumerate it using <code>for of</code> to check elements within this list:</p>\n\n<pre><code>for (let item of items) {\n     console.log(item);\n}\n</code></pre>\n\n<p>but it returns me  each word of <code>\"System.Collections.Generic.List'1[ItemViewModel]\"</code></p>\n\n<p>I also tired to add <code>.ToList()</code> in Razor Page but it didn't help.</p>\n\n<p>Could you please tell me what can i do in this case ?</p>\n"}, {"tags": ["javascript", "typescript", "webpack"], "comments": [{"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1563373516, "post_id": 57077433, "comment_id": 100679571, "body": "Typescript documentation says that in order for TypeScript to understand JSX the file extension must be <code>.tsx</code>"}, {"owner": {"reputation": 4094, "user_id": 7284779, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/762004967281605/picture?type=large", "display_name": "Martin Nordstr&#246;m", "link": "https://stackoverflow.com/users/7284779/martin-nordstr%c3%b6m"}, "reply_to_user": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1563373873, "post_id": 57077433, "comment_id": 100679836, "body": "@MinusFour So I should change my entry file to be <code>.tsx</code>?"}, {"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1563376095, "post_id": 57077433, "comment_id": 100681166, "body": "Any file that uses JSX really"}, {"owner": {"reputation": 511, "user_id": 9161843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a564e624863f0705aab66cba62cf8f?s=128&d=identicon&r=PG&f=1", "display_name": "Nafis", "link": "https://stackoverflow.com/users/9161843/nafis"}, "edited": false, "score": 0, "creation_date": 1579657429, "post_id": 57077433, "comment_id": 105836548, "body": "Good solution to know <a href=\"https://stackoverflow.com/questions/47508564/migrating-create-react-app-from-javascript-to-typescript/47674979#47674979\" title=\"migrating create react app from javascript to typescript\">stackoverflow.com/questions/47508564/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 8551915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zbtkw.jpg?s=128&g=1", "display_name": "Domenico Ruggiano", "link": "https://stackoverflow.com/users/8551915/domenico-ruggiano"}, "is_accepted": false, "score": 0, "last_activity_date": 1617954898, "creation_date": 1617954898, "answer_id": 67017174, "question_id": 57077433, "link": "https://stackoverflow.com/questions/57077433/adding-typescript-to-existing-react-webpack-and-babel-project/67017174#67017174", "title": "Adding Typescript to existing React, Webpack and Babel project", "body": "<p>webpack.config.js example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>module.exports = {\n  entry: './src/index.js',\n  output: {\n    filename: 'bundle.js',\n    path: path.resolve(__dirname, 'dist'),\n    publicPath: '/dist/',\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: ['babel-loader'],\n      },\n      { test: /\\.tsx?$/, loader: 'ts-loader' },\n    ],\n  },\n  resolve: {\n    extensions: ['*', '.js', '.jsx', '.ts', '.tsx'],\n  },\n  plugins: [new webpack.HotModuleReplacementPlugin()],\n  devServer: {\n    contentBase: path.resolve(__dirname, './dist'),\n    hot: true,\n  },\n}\n</code></pre>\n<p>also, in tsconfig:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  ...\n  &quot;jsx&quot;: &quot;react&quot;,\n  ...\n}\n</code></pre>\n<p>Full article: <a href=\"https://www.polynique.com/web-development/how-to-add-typescript-to-an-existing-webpack-project/#webpack-config-with-typescript\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 4094, "user_id": 7284779, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/762004967281605/picture?type=large", "display_name": "Martin Nordstr&#246;m", "link": "https://stackoverflow.com/users/7284779/martin-nordstr%c3%b6m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1617954898, "creation_date": 1563371203, "question_id": 57077433, "link": "https://stackoverflow.com/questions/57077433/adding-typescript-to-existing-react-webpack-and-babel-project", "title": "Adding Typescript to existing React, Webpack and Babel project", "body": "<p>I'm trying to add Typescript to a current React, Webpack and Babel project. I'd like to be able to have support for filetypes such as, <code>[.js, .ts, .tsx]</code> in my project since I want to successively migrate to Typescript.</p>\n\n<p>I've made some progress, but currently, I can't solve this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fosZF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fosZF.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm also not 100% certain if I need to keep Babel, or if I can remove it after this setup is completed.</p>\n\n<p>My <code>tsconfig.json</code> looks like this:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"target\": \"es5\",\n        \"lib\": [\"es6\", \"dom\", \"esnext.asynciterable\", \"es2015\"],\n        \"allowJs\": true,\n        \"skipLibCheck\": true,\n        \"esModuleInterop\": true,\n        \"allowSyntheticDefaultImports\": true,\n        \"strict\": true,\n        \"forceConsistentCasingInFileNames\": true,\n        \"module\": \"esnext\",\n        \"moduleResolution\": \"node\",\n        \"resolveJsonModule\": true,\n        \"isolatedModules\": true,\n        // \"noEmit\": true,\n        \"strictNullChecks\": true,\n        // \"noImplicitAny\": false,\n        \"jsx\": \"preserve\"\n    },\n    \"include\": [\"src\"],\n    \"exclude\": [\"node_modules\", \"build\", \"scripts\", \"jest\"]\n}\n</code></pre>\n\n<p>And my <code>webpack.conf.js</code> is here: <a href=\"https://gist.github.com/Martinnord/981769791c3e5e3a261af459b81f2733\" rel=\"nofollow noreferrer\">https://gist.github.com/Martinnord/981769791c3e5e3a261af459b81f2733</a></p>\n\n<p>All help is greatly appriciated since I'm pretty stuck.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 9055053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Omn_gGYIey0/AAAAAAAAAAI/AAAAAAAAAEo/pPj3VLFL_u0/photo.jpg?sz=128", "display_name": "Nikola Stekovic", "link": "https://stackoverflow.com/users/9055053/nikola-stekovic"}, "reply_to_user": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "edited": false, "score": 0, "creation_date": 1563373813, "post_id": 57077397, "comment_id": 100679797, "body": "@MaximeAlza it will first time you emit some value to subject <code>serviceSource.next(&#39;foo&#39;)</code>"}, {"owner": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "reply_to_user": {"reputation": 515, "user_id": 9055053, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Omn_gGYIey0/AAAAAAAAAAI/AAAAAAAAAEo/pPj3VLFL_u0/photo.jpg?sz=128", "display_name": "Nikola Stekovic", "link": "https://stackoverflow.com/users/9055053/nikola-stekovic"}, "edited": false, "score": 0, "creation_date": 1563374365, "post_id": 57077397, "comment_id": 100680160, "body": "@NikolaStekovic so if I declare affaireSource as a Subject, and call the function data.changeAffaire(d.affaire) in my first component and this.data.currentAffaire.subscribe(affaire =&gt; console.log(affaire)); in my second component, it had to return me something ?  Because now it returns me nothing."}], "tags": [], "owner": {"reputation": 176, "user_id": 8341672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c89721f53520964876a6496f0e34eed1?s=128&d=identicon&r=PG&f=1", "display_name": "mingliang94", "link": "https://stackoverflow.com/users/8341672/mingliang94"}, "is_accepted": false, "score": 2, "last_activity_date": 1563371110, "creation_date": 1563371110, "answer_id": 57077397, "question_id": 57077296, "link": "https://stackoverflow.com/questions/57077296/pass-data-from-one-component-to-another/57077397#57077397", "title": "Pass data from one component to another", "body": "<p><code>BehaviourSubject</code> will return initial values when it is first subscribed. If you dont want this behavior, you can use <code>Subject</code> instead which can be imported from rxjs as well. </p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "edited": false, "score": 0, "creation_date": 1563373798, "post_id": 57078112, "comment_id": 100679788, "body": "I have tried this but when it doesn&#39;t log me nothing in affecter.component."}], "tags": [], "owner": {"reputation": 56, "user_id": 11769900, "user_type": "registered", "profile_image": "https://graph.facebook.com/667992167000086/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/11769900/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1563373258, "creation_date": 1563373258, "answer_id": 57078112, "question_id": 57077296, "link": "https://stackoverflow.com/questions/57077296/pass-data-from-one-component-to-another/57078112#57078112", "title": "Pass data from one component to another", "body": "<p>use new Subject will resolve your trouble. behaviorSubject emit initial value everytime than you first subscribe him. subject emit value which you emit use method next()</p>\n"}], "owner": {"reputation": 75, "user_id": 11703452, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SAagd6FTe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcfwt7VeH-3SbCJ1Mn5h2lEW62Jw/photo.jpg?sz=128", "display_name": "Maxime Alza", "link": "https://stackoverflow.com/users/11703452/maxime-alza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563375766, "creation_date": 1563370840, "last_edit_date": 1563375766, "question_id": 57077296, "link": "https://stackoverflow.com/questions/57077296/pass-data-from-one-component-to-another", "title": "Pass data from one component to another", "body": "<p>I have two components, one called encours.component and the second called affecter.component</p>\n\n<p>I try to pass data from encours.component to the seconde one with a service, but when I call the service to retrieve the data in the second component, I always get initial data and not the actual data, like I want</p>\n\n<p>So first, this is my data.service.ts file : </p>\n\n<pre><code>export class DataService{\n\n  private serviceSource = new BehaviorSubject(3);\n  currentService = this.serviceSource.asObservable();\n\n  private affaireSource = new BehaviorSubject(\"eee\");\n  currentAffaire = this.affaireSource.asObservable();\n\n  constructor(){}\n\n  changeService(service: number){\n    this.serviceSource.next(service);\n  }\n\n  changeAffaire(affaire : string){\n    this.affaireSource.next(affaire);\n  }\n\n}\n</code></pre>\n\n<p>Secondly, this is my EncoursComponent file : </p>\n\n<pre><code>export class EncoursComponent implements OnInit, OnChanges{\n\n//Fonction qui permet de dessiner les lignes et les points\n  draw(id: any, events: any, options: any) {\n\n var svg = d3.select(id).append('svg').attr(\"width\", cfg.width).attr(\"height\", cfg.height);\n\n svg.selectAll(\"circle\")\n      .data(events).enter()\n\n//Lorsqu'on clique sur 1 point\n      .on(\"click\", function(d: any) {\n        var data : DataService = new DataService();\n        var af : any;\n        //data.currentAffaire.subscribe(affaire =&gt; af = affaire);\n        var select = document.getElementById(\"service\") as HTMLSelectElement;\n        var choice = select.selectedIndex;\n        var service = select.options[choice].value;\n        data.changeService(d.affaire);\n        data.currentService.subscribe(affaire =&gt; d.affaire = affaire);\n        self.location.href = 'affecter/' + service + '/' + d.operateur + '/' + d.affaire;\n      });\n</code></pre>\n\n<p>And to finish, here is where I want to get my new data : </p>\n\n<pre><code>export class AffecterComponent implements OnInit {\n\n\n  constructor(private data : DataService) {}\n\n  ngOnInit() {\n//Here, I only get \"eee\"\n    this.data.currentAffaire.subscribe(affaire =&gt; console.log(affaire));\n  }\n</code></pre>\n\n<p><strong>EDIT 1 :</strong></p>\n\n<p>I have changed my affaire source property and make it a subject, like this :</p>\n\n<pre><code>import {Injectable} from '@angular/core';\nimport {BehaviorSubject} from 'rxjs';\nimport {Subject} from 'rxjs';\n\n@Injectable()\nexport class DataService{\n\n  private serviceSource = new BehaviorSubject(3);\n  currentService = this.serviceSource.asObservable();\n\n  public affaireSource = new Subject();\n  currentAffaire = this.affaireSource.asObservable();\n\n  constructor(){}\n\n  changeService(service: number){\n    this.serviceSource.next(service);\n  }\n\n  changeAffaire(affaire : number){\n    this.affaireSource.next(affaire);\n  }\n\n}\n</code></pre>\n\n<p>And now,if I do this :</p>\n\n<pre><code>export class EncoursComponent{\n\n//Fonction qui permet de dessiner les lignes et les points\n  draw(id: any, events: any, options: any) {\n\n var svg = d3.select(id).append('svg').attr(\"width\", cfg.width).attr(\"height\", cfg.height);\n\n svg.selectAll(\"circle\")\n      .data(events).enter()\n\n//Lorsqu'on clique sur 1 point\n      .on(\"click\", function(d: any) {\n        var data : DataService = new DataService();\n    data.affaireSource.next(d.affaire);\n    data.affaireSource.asObservable().subscribe(affaire =&gt; console.log(affaire));\n    data.currentAffaire.subscribe(affaire =&gt;console.log(affaire));\n      });\n</code></pre>\n\n<p>And this log me nothing.</p>\n"}, {"tags": ["node.js", "typescript", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 4667, "user_id": 1836506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/peCt5.jpg?s=128&g=1", "display_name": "Eric Simonton", "link": "https://stackoverflow.com/users/1836506/eric-simonton"}, "edited": false, "score": 0, "creation_date": 1568765184, "post_id": 57077038, "comment_id": 102375764, "body": "I ran into this <i>exact</i> problem. Thank you so much!"}, {"owner": {"reputation": 675, "user_id": 5254735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b77987c16923c7bb360ce84039390b?s=128&d=identicon&r=PG", "display_name": "javier Cuervas", "link": "https://stackoverflow.com/users/5254735/javier-cuervas"}, "edited": false, "score": 0, "creation_date": 1573750862, "post_id": 57077038, "comment_id": 103995101, "body": "same problem here, awesome answer!"}], "tags": [], "owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "is_accepted": true, "score": 7, "last_activity_date": 1614887651, "last_edit_date": 1614887651, "creation_date": 1563370089, "answer_id": 57077038, "question_id": 57076892, "link": "https://stackoverflow.com/questions/57076892/google-cloud-function-deploy-error-provided-function-is-not-a-loadable-module/57077038#57077038", "title": "Google Cloud Function deploy error: provided function is not a loadable module", "body": "<p>Turns out, <code>.gitignore</code> by default is imported in GCF's <code>.gcloudignore</code> file, and since I ignore js files in my <code>.gitignore</code>, they never make it to GCF.</p>\n<p>To fix it, just remove this line:</p>\n<pre><code>#!include:.gitignore\n</code></pre>\n<p>I have also created a <a href=\"https://github.com/golergka/gcf-typescript-template/\" rel=\"nofollow noreferrer\">small template project</a> for using Typescript with GCF.</p>\n"}, {"tags": [], "owner": {"reputation": 3496, "user_id": 4541492, "user_type": "registered", "accept_rate": 35, "profile_image": "https://lh5.googleusercontent.com/-cOlHMb569P8/AAAAAAAAAAI/AAAAAAAADvQ/wlBHgpWKq7w/photo.jpg?sz=128", "display_name": "Vince Varga", "link": "https://stackoverflow.com/users/4541492/vince-varga"}, "is_accepted": false, "score": 3, "last_activity_date": 1574341807, "last_edit_date": 1574341807, "creation_date": 1574341357, "answer_id": 58975721, "question_id": 57076892, "link": "https://stackoverflow.com/questions/57076892/google-cloud-function-deploy-error-provided-function-is-not-a-loadable-module/58975721#58975721", "title": "Google Cloud Function deploy error: provided function is not a loadable module", "body": "<p><strong>Add <code>!/dist</code> after <code>#!include:.gitignore</code> in your <code>.gcloudignore</code> file.</strong></p>\n\n<p>In my opinion, it's better to leave the <code>#!include:.gitnore</code> line in your <code>.gcloudignore</code> file, so that when people add something to <code>.gitignore</code>, it will be automatically included in the <code>.gcloudignore</code>, too.</p>\n\n<p>For files and directories where you want them to be ignored by <code>git</code> but not by <code>gcloud</code>, I would add them explicitly in the <code>.gcloudignore</code> file.</p>\n\n<p>Let's take my example, where I have a TypeScript project. I don't want the output of <code>tsc</code> to be version-controlled, but I do want those files to include for <code>gcloud</code> for obvious reasons: the files in the <code>built</code> (or <code>dist</code>) folder is actually my function (app).</p>\n\n<pre><code>### .gitignore\nnode_modules\nbuilt\n\n### .gcloudignore file's content\n#!include:.gitignore\n# Do not ignore built (or dist) folder for gcloud:\n!/built\n!/dist\n</code></pre>\n\n<p>I prefer this solution because, by default, the ignored files from git are also ignored by gcloud, so I don't need to worry that people forget that we have multiple ignore files.</p>\n"}], "owner": {"reputation": 9968, "user_id": 312725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/9GV9q.jpg?s=128&g=1", "display_name": "Max Yankov", "link": "https://stackoverflow.com/users/312725/max-yankov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3009, "favorite_count": 1, "accepted_answer_id": 57077038, "answer_count": 2, "score": 4, "last_activity_date": 1614887651, "creation_date": 1563369682, "last_edit_date": 1563377849, "question_id": 57076892, "link": "https://stackoverflow.com/questions/57076892/google-cloud-function-deploy-error-provided-function-is-not-a-loadable-module", "title": "Google Cloud Function deploy error: provided function is not a loadable module", "body": "<p>I'm trying to build my GCF project with Typescript from the ground up. My goal with this project (and this question) is to understand how cloud functions work and to perform all the setup steps manually, so that's why I'm not copying any sample code or using an automated tool.</p>\n\n<p>First, here's my <code>src/index.ts</code> file:</p>\n\n<pre><code>export const helloWorld = (req: any, res: any) =&gt; {\n    res.send('Hello, world 4');\n}\n</code></pre>\n\n<p>After I run typescript compiler, I get this <code>dist/index.js</code> file, which seems perfectly reasonable:</p>\n\n<pre><code>\"use strict\";\nexports.__esModule = true;\nexports.helloWorld = function (req, res) {\n    res.send('Hello, world 4');\n};\n</code></pre>\n\n<p>My <code>package.json</code> is set up to point to this file:</p>\n\n<pre><code>{\n  \"main\": \"dist/index.js\",\n  \"scripts\": {\n    \"start\": \"npx tsc-watch --onSuccess 'npx @google-cloud/functions-framework --target=helloWorld'\",\n    \"deploy\": \"gcloud functions deploy helloWorld --runtime nodejs10 --trigger-http\"\n  },\n  \"dependencies\": {\n    \"@google-cloud/functions-framework\": \"^1.1.2\",\n    \"tsc-watch\": \"^2.2.1\",\n    \"typescript\": \"^3.5.3\"\n  }\n}\n</code></pre>\n\n<p>I wanted to setup local testing environment first, so I used <a href=\"https://github.com/GoogleCloudPlatform/functions-framework-nodejs\" rel=\"nofollow noreferrer\">functions framework</a>. When I run it, it all works perfectly:</p>\n\n<pre><code>$ npx @google-cloud/functions-framework --target=helloWorld\nServing function...\nFunction: helloWorld\nURL: http://localhost:8080/\n</code></pre>\n\n<p>However, when I try to deploy, I get this error:</p>\n\n<pre><code>$ gcloud functions deploy helloWorld --runtime nodejs10 --trigger-http\nCreated .gcloudignore file. See `gcloud topic gcloudignore` for details.\nDeploying function (may take a while - up to 2 minutes)...failed.\nERROR: (gcloud.functions.deploy) OperationError: code=3, message=Function failed on loading user code. Error message: Provided code is not a loadable module.\nCould not load the function, shutting down.\n</code></pre>\n\n<p>Why does it say that my <code>index.js</code> is not a loadable module and how can I fix this error?</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>Turns out the <code>gcloud</code> doesn't respect <code>package.json</code>'s <code>main</code> field. When I specified that it should take <code>dist</code> folder explicitly with the <code>--source</code> flag, it deployed the file:</p>\n\n<pre><code>gcloud functions deploy helloWorld --source=dist/ --runtime nodejs10 --trigger-http\n</code></pre>\n\n<p>However, it still doesn't work because it seems to assume that <strong>everything</strong>, including package.json, is contained in this directory - so it doesn't link any of the library dependencies.</p>\n"}, {"tags": ["typescript", "google-cloud-firestore", "firebase-admin"], "answers": [{"comments": [{"owner": {"reputation": 992, "user_id": 9577792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ej9s.jpg?s=128&g=1", "display_name": "pepe", "link": "https://stackoverflow.com/users/9577792/pepe"}, "edited": false, "score": 0, "creation_date": 1563375097, "post_id": 57078629, "comment_id": 100680551, "body": "Yeah,it is showing an object with two properties seconds and nanoseconds.But i can create new timestamp from server side by using admin.firestore.Timestamp.fromMilli(milliseconds);"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1563374826, "creation_date": 1563374826, "answer_id": 57078629, "question_id": 57076887, "link": "https://stackoverflow.com/questions/57076887/firestore-timestamp-in-nodejs-admin-sdk/57078629#57078629", "title": "firestore timestamp in nodejs admin SDK", "body": "<p>Callable functions don't retain data types when passing values from the client to the server.  When you pass <code>date: doc.data().date</code> to the function, you might be passing a Timestamp type object on the client, but it's not going to show up as a Timestamp type object in the function.  It's probably showing up as a serialized version of that Timestamp, which will just be an object with two properties, seconds and nanoseconds.  If you want to treat this object as a Timestamp, you'll have to manually convert that object to one.</p>\n"}], "owner": {"reputation": 992, "user_id": 9577792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Ej9s.jpg?s=128&g=1", "display_name": "pepe", "link": "https://stackoverflow.com/users/9577792/pepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1588963346, "creation_date": 1563369677, "last_edit_date": 1588963346, "question_id": 57076887, "link": "https://stackoverflow.com/questions/57076887/firestore-timestamp-in-nodejs-admin-sdk", "title": "firestore timestamp in nodejs admin SDK", "body": "<p>I am trying to convert a timestamp from firestore to Date object inside NodeJS admin SDK. But i am always getting the error that toDate() is not a function.Why? How can i convert a timestamp to Date object in admin SDK.?</p>\n\n<p>Here is the code what i have tried.</p>\n\n<pre><code>this.getService.sample()\n  .then(doc =&gt; {\n    const callable = this.fns.httpsCallable('myTestFn');\n    const data$ = callable({ text: 'google', arraySize: 10, date: doc.data().date });\n    data$.toPromise()\n      .then(e1 =&gt; {\n        console.log(e1);\n      }).catch(err =&gt; {\n        console.log(err);\n      })\n  });\n</code></pre>\n\n<p>onCall function:</p>\n\n<pre><code>const original = data.text;\n    const arraySize: number = data.arraySize;\n    if (arraySize &gt; 100) {\n        // Throwing an HttpsError so that the client gets the error details.\n        throw new functions.https.HttpsError('unknown', 'invalid request,input is above the permistted range!');\n    }\n    const date = data.date.toDate();\n    console.log('--- This is the date---', date);\n    const numberArray = [];\n    for (let i = 1; i &lt;= arraySize; i++) {\n        await numberArray.push(i);\n    }\n    const sum = await numberArray.reduce((acc, curr) =&gt; acc + curr, 0);\n    console.log('-----------sum-------------', sum)\n    const writeResult = await admin.firestore().collection('messages').add({ original: original,sum, createdAt: admin.firestore.FieldValue.serverTimestamp() });\n    return { wish: 'A wish from function', original, writeResult: writeResult.id, numberArray, sum };\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1563369715, "post_id": 57076844, "comment_id": 100677019, "body": "How would you reference a field with a variable? bracket notation....."}, {"owner": {"reputation": 879, "user_id": 10688712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f6d36c91913f4b6776525a09d131d0?s=128&d=identicon&r=PG&f=1", "display_name": "Contentop", "link": "https://stackoverflow.com/users/10688712/contentop"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1563370954, "post_id": 57076844, "comment_id": 100677807, "body": "So true, idk how I forgot this. Thanks"}], "owner": {"reputation": 879, "user_id": 10688712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f6d36c91913f4b6776525a09d131d0?s=128&d=identicon&r=PG&f=1", "display_name": "Contentop", "link": "https://stackoverflow.com/users/10688712/contentop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1563369831, "answer_count": 0, "score": 0, "last_activity_date": 1563369557, "creation_date": 1563369557, "question_id": 57076844, "link": "https://stackoverflow.com/questions/57076844/get-class-field-from-function-input-javascript-typescript", "closed_reason": "Duplicate", "title": "get class field from function input | Javascript / Typescript", "body": "<p>Say that I have a class with public fields field1 and field2 which are strings</p>\n\n<p>I want to have a function that takes 2 parameters, the first is the field and the second is the new string.</p>\n\n<p>Can I create an enum for field1 and field2 and someone link the enum to the field so that whenever I use the function </p>\n\n<pre><code>function(FIELDS.field1, \"newString\")\n</code></pre>\n\n<p>It will know that FIELDS.field1 relates to this.field1 and FIELDS.field2 relates to this.field2.</p>\n\n<p>basically my question is can I create a dynamic setter? because sure I can do</p>\n\n<p>field1Setter and field2Setter but I will have a let of fields and do not want to create a setter for each</p>\n"}, {"tags": ["angular", "typescript", "angular-animations"], "comments": [{"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1563531427, "post_id": 57076565, "comment_id": 100739952, "body": "You can use the Animation Start &amp; Done Event to see what is happening behind the scenes inside your animation. This could might help you fixing your issue.  <a href=\"https://angular.io/api/animations/AnimationEvent\" rel=\"nofollow noreferrer\">angular.io/api/animations/AnimationEvent</a>"}, {"owner": {"reputation": 2651, "user_id": 6324775, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3NiV.jpg?s=128&g=1", "display_name": "Jonathan Stellwag", "link": "https://stackoverflow.com/users/6324775/jonathan-stellwag"}, "edited": false, "score": 0, "creation_date": 1563961488, "post_id": 57076565, "comment_id": 100870977, "body": "Please provide us the event informations to be able to help you."}], "owner": {"reputation": 2143, "user_id": 11397070, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZvsX6QPbv40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfTpb79ZM_-uLtDAEQM-Fq8R-Xokw/mo/photo.jpg?sz=128", "display_name": "Tom", "link": "https://stackoverflow.com/users/11397070/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563368744, "creation_date": 1563368744, "question_id": 57076565, "link": "https://stackoverflow.com/questions/57076565/angular-animation-from-void-to-state-wont-work", "title": "Angular Animation from void to state won&#39;t work", "body": "<p>I have the following animation:</p>\n\n<pre><code>trigger('EnterLeave', [\n    transition('start =&gt; void', [\n      animate('300ms ease-out', style({ transform: 'translateX(-100%)' }))\n    ]),\n    transition('void =&gt; stop', [\n      state('void', style({ transform: 'translateX(-100%)' })),\n      animate('300ms ease-out', style({ transform: 'translateX(0%)' }))\n    ]),\n    transition('stop =&gt; void', [\n      animate('300ms ease-out', style({ transform: 'translateX(100%)' }))\n    ])\n  ]);\n</code></pre>\n\n<pre><code>&lt;div *ngFor=\"let task of tasks\" class=\"row mt-5\" [@EnterLeave]=\"animation\"&gt;\n&lt;/div&gt;\n\nIn .ts:\nanimation = 'stop';\n</code></pre>\n\n<p>The only transition not working is void => stop. I've also tried void => *, but this wouldn't work as well.</p>\n\n<p>All I want is the content to come in from the left. </p>\n\n<p>Does anyone see the issue here? I've tried to solve this for a while now.</p>\n"}, {"tags": ["angular", "typescript", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 4481, "user_id": 5939058, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/m438e.jpg?s=128&g=1", "display_name": "Surjeet Bhadauriya", "link": "https://stackoverflow.com/users/5939058/surjeet-bhadauriya"}, "edited": false, "score": 0, "creation_date": 1563369065, "post_id": 57076577, "comment_id": 100676534, "body": "Hi Harun, Is there a need of +=? I think we can assign it directly."}, {"owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "edited": false, "score": 0, "creation_date": 1563369135, "post_id": 57076577, "comment_id": 100676584, "body": "Yes, indeed.<code>textoFormat</code> is initialized like this: <code>public textoFormat: string = &#39;F&#243;rmula \\n&#39;;</code> And the output contains <code>Formula \\n</code> in the beginning"}], "tags": [], "owner": {"reputation": 6768, "user_id": 1331040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRC2U.png?s=128&g=1", "display_name": "Harun Yilmaz", "link": "https://stackoverflow.com/users/1331040/harun-yilmaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1563368765, "creation_date": 1563368765, "answer_id": 57076577, "question_id": 57076370, "link": "https://stackoverflow.com/questions/57076370/concatenating-string-array/57076577#57076577", "title": "Concatenating string array", "body": "<p>You can use <code>join</code> method of <code>Array</code> like following:</p>\n\n<pre><code>this.textoFormat += this.texto.join('\\n');\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11730147, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BsqlBDR7H0I/AAAAAAAAAAI/AAAAAAAAA2g/HtF_4IruusY/photo.jpg?sz=128", "display_name": "Gabriel Jaques", "link": "https://stackoverflow.com/users/11730147/gabriel-jaques"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 1, "accepted_answer_id": 57076577, "answer_count": 1, "score": 2, "last_activity_date": 1563369070, "creation_date": 1563368148, "last_edit_date": 1563368597, "question_id": 57076370, "link": "https://stackoverflow.com/questions/57076370/concatenating-string-array", "title": "Concatenating string array", "body": "<p>I have an array of strings, with the following values;</p>\n\n<pre><code>public texto: string[] = []; =&gt;\n\n0: \"Tacrolimus em adultos\"\n1: \"Sugest\u00e3o - p07\"\n2: \"Anti-aging - B (oral)\"\n3: \"Tomar duas vezes ao dia.\"\n</code></pre>\n\n<p>I need to concatenate each element of the array by jumping a line into a variable. This variable will be used to insert value into a textarea field. I am using logic for this, but without success.</p>\n\n<pre><code>this.texto.forEach(e =&gt; {\n      const str = `${e} \\n`;\n      this.textoFormat.concat(str);\n    });\n</code></pre>\n\n<p>Typescript =></p>\n\n<pre><code>public formula: any;\n  public medicamento: string[] = [];\n  public sugestao: string[] = [];\n  public composto: string[] = [];\n  public texto: string[] = [];\n  public textoFormat: string = 'F\u00f3rmula \\n';\n\nngOnInit() {\n    this.formula = this._formulaService.formulaSugeridaTexto;\n\n    this.formula.medicamento.forEach(medicamento =&gt; {\n      this.medicamento.push(medicamento.nome);\n    });\n\n    this.formula.sugestao.forEach(sugestao =&gt; {\n      this.sugestao = sugestao.nome;\n    });\n\n    this.texto.push(this.formula.nome);\n    this.texto.push(this.sugestao.toString());\n    this.texto.push(this.medicamento.toString());\n    this.texto.push(this.formula.modo_uso);\n\n    this.texto.forEach(e =&gt; {\n      const str = `${e} \\n`;\n      this.textoFormat.concat(str);\n    });\n  }\n</code></pre>\n\n<hr>\n\n<p>HTML =></p>\n\n<pre><code>&lt;ion-textarea rows=\"15\" cols=\"20\" [value]=\"textoFormat\"&gt; &lt;/ion-textarea&gt;\n</code></pre>\n\n<p>I hope the output is:</p>\n\n<pre><code>F\u00f3rmula\n    Tacrolimus em adultos\n    Sugest\u00e3o - p07\n    Anti-aging - B (oral)\n    Tomar duas vezes ao dia.\n</code></pre>\n\n<p>but nothing is being shown, only the string set by default \"Formula\"... :(</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 2083576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e315a74098fe0a99aa351b760459dcc7?s=128&d=identicon&r=PG", "display_name": "Marcus R&#229;dell", "link": "https://stackoverflow.com/users/2083576/marcus-r%c3%a5dell"}, "edited": false, "score": 1, "creation_date": 1563374530, "post_id": 57076568, "comment_id": 100680268, "body": "I did have to change the order so the single-argument reducer comes before the two-argument reducer. Otherwise it caused the two-argument reducer to pattern match every time, and making the second argument <code>unknown</code> when matching a single-argument reducer as input."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 2, "last_activity_date": 1563368745, "creation_date": 1563368745, "answer_id": 57076568, "question_id": 57076303, "link": "https://stackoverflow.com/questions/57076303/infer-types-from-reducer-function/57076568#57076568", "title": "Infer types from reducer function", "body": "<p>You can use conditional types to extract the type parameters from the reducer functions:</p>\n\n<pre><code>type ActionFromReducer&lt;T extends (s: any, ctx?: any) =&gt; any&gt; =  \n  T extends (s: infer TStore, ctx: infer TContext) =&gt; infer TReturnStore ? Action&lt;TStore, TReturnStore, TContext&gt; : \n  T extends (s: infer TStore) =&gt; infer TReturnStore ? Action&lt;TStore, TReturnStore, &gt; : \n  never;\ntype Actions = {\n  count: ActionFromReducer&lt;CountReducer&gt;;\n  end: ActionFromReducer&lt;EndReducer&gt;;\n  restart: ActionFromReducer&lt;RestartReducer&gt;;\n};\n\n</code></pre>\n"}], "owner": {"reputation": 562, "user_id": 2083576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e315a74098fe0a99aa351b760459dcc7?s=128&d=identicon&r=PG", "display_name": "Marcus R&#229;dell", "link": "https://stackoverflow.com/users/2083576/marcus-r%c3%a5dell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 57076568, "answer_count": 1, "score": 1, "last_activity_date": 1563368745, "creation_date": 1563367905, "question_id": 57076303, "link": "https://stackoverflow.com/questions/57076303/infer-types-from-reducer-function", "title": "Infer types from reducer function", "body": "<p>I have a reducer type that is based on 2-3 types. The <code>Store</code>, the <code>ReturnStore</code>, and the <code>Context</code> which is <code>void</code> by default.</p>\n\n<p>How can I reuse the <code>CountReducer</code> type as type parameter in the <code>Action</code> type?</p>\n\n<p>Right now, <code>Action</code> requires the same 2-3 types that <code>CountReducer</code> does, creating duplicate code, and makes the API confusing.</p>\n\n<p>Current code:</p>\n\n<pre><code>type CountingStore = {\n  state: \"counting\";\n  ctx: number;\n};\n\ntype Store = StartedStore | CountingStore | EndedStore;\n\ntype CountReducer = (s: Store, toAdd: number) =&gt; CountingStore;\n\nconst CountReducer: CountReducer = (s, toAdd) =&gt; ({\n  state: \"counting\",\n  ctx: s.ctx + toAdd\n});\n</code></pre>\n\n<pre><code>type Action&lt;Store, ReturnStore, Context = void&gt; = {\n  act: (() =&gt; void) | ((ctx: Context) =&gt; void);\n  stream: Observable&lt;Context&gt;;\n  reducer: Reducer&lt;Store, ReturnStore, Context&gt;;\n};\n\n</code></pre>\n\n<pre><code>type Actions = {\n  count: Action&lt;Store, CountingStore, number&gt;;\n  end: Action&lt;Store, EndedStore&gt;;\n  restart: Action&lt;Store, StartedStore&gt;;\n};\n</code></pre>\n\n<p>Possible future API design:</p>\n\n<pre><code>type Action&lt;MyReducer extends Reducer&gt; = \"???\";\n</code></pre>\n\n<p>You can find the relevant source code in a runnable project here: <a href=\"https://github.com/marcusnielsen/rx-machine/blob/master/src/index.test.ts\" rel=\"nofollow noreferrer\">https://github.com/marcusnielsen/rx-machine/blob/master/src/index.test.ts</a> </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1563367847, "post_id": 57076181, "comment_id": 100675680, "body": "Millions? Each drop down has 100,000 potential options?"}, {"owner": {"reputation": 419, "user_id": 1106835, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a8c5953dfe6a51c4a23d92ad9d739acc?s=128&d=identicon&r=PG", "display_name": "millenion", "link": "https://stackoverflow.com/users/1106835/millenion"}, "edited": false, "score": 0, "creation_date": 1563368235, "post_id": 57076181, "comment_id": 100675959, "body": "Hi, sorry for asking but: Dropdowns with &quot;millions&quot; of options are kinda useless in realworld... Is this what you really wanna do ?"}], "answers": [{"tags": [], "owner": {"reputation": 920, "user_id": 1673227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tbgZ.jpg?s=128&g=1", "display_name": "M.Elkady", "link": "https://stackoverflow.com/users/1673227/m-elkady"}, "is_accepted": false, "score": 0, "last_activity_date": 1563368841, "creation_date": 1563368841, "answer_id": 57076612, "question_id": 57076181, "link": "https://stackoverflow.com/questions/57076181/what-is-best-way-to-iterate-millions-of-records-in-angular-or-type-script/57076612#57076612", "title": "What is best way to iterate millions of records in angular or type script", "body": "<p>you shouldn't do this on the frontend side it's impossible to be efficient.</p>\n\n<ul>\n<li>retrieval of millions of records by one API call will be very slow</li>\n<li>Loading all this data in one page will make the page very slow and use much memory. and you won't be able to do operations on it. </li>\n</ul>\n\n<p>So it's needed to be changed from the API side to use pagination or to query only the needed part of data on change by sending a new API request  </p>\n"}], "owner": {"reputation": 13, "user_id": 760999, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/914306d2370b7e97b6a57d7b944a96d9?s=128&d=identicon&r=PG", "display_name": "Dwarika Nath", "link": "https://stackoverflow.com/users/760999/dwarika-nath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1563368841, "creation_date": 1563367509, "question_id": 57076181, "link": "https://stackoverflow.com/questions/57076181/what-is-best-way-to-iterate-millions-of-records-in-angular-or-type-script", "title": "What is best way to iterate millions of records in angular or type script", "body": "<p>Need to load multiple multi select drop-down with cascading effect that are related.   </p>\n\n<p>I have millions of records coming from API that are duplicate in some column but unique if we consider all columns.</p>\n\n<p>Need to fill 10-12 multi-select drop-down with API data. And In on-change event of drop-down I need to apply cascading effect by iterating millions of records.   </p>\n\n<p>What is best way to solve this kind of problem.</p>\n"}, {"tags": ["angular", "typescript", "service", "angular-services", "angular-library"], "comments": [{"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1563366861, "post_id": 57075890, "comment_id": 100675064, "body": "Did you try to add <code>providedIn: &quot;root&quot;</code> in your <code>ApiService</code>?"}, {"owner": {"reputation": 347, "user_id": 1079460, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/3661ed272533063171dd772317dceb0a?s=128&d=identicon&r=PG", "display_name": "Okyo", "link": "https://stackoverflow.com/users/1079460/okyo"}, "edited": false, "score": 1, "creation_date": 1563367109, "post_id": 57075890, "comment_id": 100675223, "body": "Did you register the ApiService in the providers array too?"}, {"owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "reply_to_user": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1563367948, "post_id": 57075890, "comment_id": 100675740, "body": "@youri I tried it, but it didn&#39;t help. Also it should not be provided as abstract service class, I think."}, {"owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "reply_to_user": {"reputation": 347, "user_id": 1079460, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/3661ed272533063171dd772317dceb0a?s=128&d=identicon&r=PG", "display_name": "Okyo", "link": "https://stackoverflow.com/users/1079460/okyo"}, "edited": false, "score": 0, "creation_date": 1563368011, "post_id": 57075890, "comment_id": 100675795, "body": "@Okyo do I have to do that, when I add <code>providedIn: &quot;root&quot;</code>? I tried to provide it on the web application&#39;s <code>AppModule</code>, but that did not help. EDIT: In fact, I cannot provide it anyway because it&#39;s abstract."}, {"owner": {"reputation": 1320, "user_id": 6196099, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-45hNp81idDE/AAAAAAAAAAI/AAAAAAAAAB4/OLaZOd7rtF0/photo.jpg?sz=128", "display_name": "Florian", "link": "https://stackoverflow.com/users/6196099/florian"}, "edited": false, "score": 0, "creation_date": 1563368517, "post_id": 57075890, "comment_id": 100676158, "body": "The weird thing is that it <i>used</i> to work without explicit call. I see nothing wrong to explicitly call <code>super()</code>"}, {"owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "edited": false, "score": 0, "creation_date": 1563368696, "post_id": 57075890, "comment_id": 100676273, "body": "I have around 20 services, so I would need to implement duplicate code a lot. It is calming though that we know how to fix it. But, to be honest, I don&#39;t understand why it would be needed to explicitly call <code>super()</code> in the child&#39;s class constructor."}, {"owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "edited": false, "score": 0, "creation_date": 1563368819, "post_id": 57075890, "comment_id": 100676357, "body": "I added a remark at the end of the post, which might help to find the issue."}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1563369741, "post_id": 57075890, "comment_id": 100677035, "body": "It should work. I just try an example and it is working as expected... How did you instanciate <code>NewsService</code> and call its methods?"}, {"owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "edited": false, "score": 0, "creation_date": 1563374737, "post_id": 57075890, "comment_id": 100680370, "body": "I&#39;m injecting <code>NewsService</code> into any component of the project, for example into the constructor of <code>HomeComponent</code>. As I have used <code>providedIn: &quot;root&quot;</code>, I do not provide it at the module level."}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1563378438, "post_id": 57075890, "comment_id": 100682530, "body": "As it is working when importing your library, I think there is an error during your upgrade. Maybe an error in the <code>package.config</code> or a corrupted package. Try removing your package folder and clearing npm cache (<code>npm cache clean</code>) and then reinstall your packages."}, {"owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "edited": false, "score": 0, "creation_date": 1563378539, "post_id": 57075890, "comment_id": 100682585, "body": "@andreas also check <a href=\"https://github.com/angular/angular/issues/30881\" rel=\"nofollow noreferrer\">this issue</a> on Github."}], "owner": {"reputation": 7222, "user_id": 516864, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04a1f8061efeb6812b07329e91a5fc4e?s=128&d=identicon&r=PG", "display_name": "andreas", "link": "https://stackoverflow.com/users/516864/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1496, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1563368787, "creation_date": 1563366576, "last_edit_date": 1563368787, "question_id": 57075890, "link": "https://stackoverflow.com/questions/57075890/dependency-injection-issues-after-upgrade-to-angular-8", "title": "Dependency injection issues after upgrade to Angular 8", "body": "<p>I have an Angular project that contains a web application and a library, both generated by the Angular CLI.</p>\n\n<p>To explain my issue, I broke it down to make it as simple as possible. Assume that the library has two services, the first is a generic service that performs http calls:</p>\n\n<pre><code>@Injectable()\nexport abstract class ApiService { \n\n    protected constructor(public httpClient: HttpClient) {\n        console.log(httpClient);\n    }\n\n}\n</code></pre>\n\n<p>The second service actually implements methods for the project, for example </p>\n\n<pre><code>@Injectable({\n    providedIn: \"root\"\n})\nexport abstract class NewsService extends ApiService { \n\n    /* THERE IS NO CONSTRUCTOR HERE! */\n\n    getNews() { ... }\n\n}\n</code></pre>\n\n<p>So until now (before Angular 8), I had no issues calling <code>getNews()</code> from the web application. Since Angular 8, I get an error that says <code>ERROR TypeError: Cannot read property 'get' of undefined</code>. I found that the property <code>httpClient</code> remains undefined forever. Thus, <code>console.log</code> above in the <code>ApiService</code> prints <code>undefined</code>. Until Angular 7, the injection of the <code>HttpClient</code> class worked as expected.</p>\n\n<p>Imagine now that I adjust the <code>NewsService</code> as follows:</p>\n\n<pre><code>@Injectable({\n    providedIn: \"root\"\n})\nexport abstract class NewsService extends ApiService { \n\n    protected constructor(public httpClient: HttpClient) {\n        super(httpClient);\n    }\n\n    getNews() { ... }\n\n}\n</code></pre>\n\n<p>Now, <code>httpClient</code> is not undefined anymore in the constructor of <code>ApiService</code>.</p>\n\n<p>According to my understanding, this behavior is really weird. If I don't provide a constructor in the child class, it should use the parent constructor instead and thus behave the same. Since Angular 8, this is not the case anymore.</p>\n\n<p>Do you know why this happened and if there is another way to fix this issue?</p>\n\n<p>EDIT: I have to add one remark: The injection issue does NOT appear when I install the library through NPM in another project. It only appears when I directly use it in the same Angular project.</p>\n"}, {"tags": ["angular", "typescript", "date", "ngx-bootstrap"], "comments": [{"owner": {"reputation": 1055, "user_id": 5724584, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed0f7d757209d03b9142fc728dbc0602?s=128&d=identicon&r=PG&f=1", "display_name": "Vahid", "link": "https://stackoverflow.com/users/5724584/vahid"}, "edited": false, "score": 0, "creation_date": 1563366831, "post_id": 57075856, "comment_id": 100675044, "body": "obviously, your <code>ts.startDateTime</code> is in ISO string format. You can make a Date object out of it by passing it to the Date() constructor: <code>Date(this.ts.startDateTime)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 725, "user_id": 386619, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Ykwhm.jpg?s=128&g=1", "display_name": "Jay Cummins", "link": "https://stackoverflow.com/users/386619/jay-cummins"}, "edited": false, "score": 0, "creation_date": 1563368177, "post_id": 57076135, "comment_id": 100675918, "body": "I ended up finding a DateService in the Angular application that was essentially doing this (although <code>startDateTime</code> is a Date with a string value). So it was <code>let stringDate  = new String(date);</code> then <code>let validDate = new Date(stringDate.toString());</code>"}], "tags": [], "owner": {"reputation": 1015, "user_id": 3371440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a27111109c2195f5a0b46e52b0be6b?s=128&d=identicon&r=PG&f=1", "display_name": "youri", "link": "https://stackoverflow.com/users/3371440/youri"}, "is_accepted": true, "score": 1, "last_activity_date": 1563367391, "creation_date": 1563367391, "answer_id": 57076135, "question_id": 57075856, "link": "https://stackoverflow.com/questions/57075856/how-to-resolve-date-is-not-instanceof-date-issue/57076135#57076135", "title": "How to resolve &quot;Date&quot; is not instanceof Date issue?", "body": "<p><code>ts.startDateTime</code> is a string so you have to convert to a Date object:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let myDate = new Date(this.ts.startDateTime);\n</code></pre>\n\n<p>Remember to stick to a standard like you have (ISO 8601) to avoid to break the above code.</p>\n"}], "owner": {"reputation": 725, "user_id": 386619, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Ykwhm.jpg?s=128&g=1", "display_name": "Jay Cummins", "link": "https://stackoverflow.com/users/386619/jay-cummins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 57076135, "answer_count": 1, "score": 0, "last_activity_date": 1563368033, "creation_date": 1563366474, "last_edit_date": 1563368033, "question_id": 57075856, "link": "https://stackoverflow.com/questions/57075856/how-to-resolve-date-is-not-instanceof-date-issue", "title": "How to resolve &quot;Date&quot; is not instanceof Date issue?", "body": "<p>While troubleshooting an \"Invalid date\" in my ngx-bootstrap-bsDatepicker control and FormGroup, I've uncovered an issue with a date value on the object that I'm using (<code>this.ts.startDateTime</code>). When compared to a <code>new Date()</code> object.</p>\n\n<pre><code>08:11:03.723 ts-form.component.ts:240 HZyWZhwowB - this.ts.startDateTime 2019-07-16T20:18:24.9133333\n08:11:03.724 ts-form.component.ts:242 HZyWZhwowB - testDate Wed Jul 17 2019 08:11:03 GMT-0400 (Eastern Daylight Time)\n08:11:03.724 ts-form.component.ts:244 HZyWZhwowB - this.ts.startDateTime instanceof Date false\n08:11:03.725 ts-form.component.ts:246 HZyWZhwowB - testDate instanceof Date true\n</code></pre>\n\n<p>The property in question is:  </p>\n\n<pre><code>/**\n  * Gets or sets the start date.\n  */\nstartDateTime: Date;\n</code></pre>\n\n<p>It's pretty easy to see that the values are different. My object is data received from an HTTP Request to a WebAPI controller and the typescript interface is generated from models in the WebAPI.  And for most of the application, the object's Date value works in its current state.</p>\n\n<p>What is the best approach to resolve this issue within the Angular application--and to convert this value to an actual date?</p>\n\n<p>Angular 5 - ASP.NET API<br>\n<em>momentjs exists in the application</em>, but not currently used in my component.</p>\n"}, {"tags": ["angular", "typescript", "angular-material"], "comments": [{"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1563364570, "post_id": 57075165, "comment_id": 100673723, "body": "sample data of <code>areas</code>? Or you can share the code with StackBlitz"}, {"owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "reply_to_user": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1563364804, "post_id": 57075165, "comment_id": 100673848, "body": "added sample data for areas"}, {"owner": {"reputation": 8669, "user_id": 7124761, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LwwM-Cj7GLE/AAAAAAAAAAI/AAAAAAAAAJw/32uCg85dMvg/photo.jpg?sz=128", "display_name": "Prashant Pimpale", "link": "https://stackoverflow.com/users/7124761/prashant-pimpale"}, "edited": false, "score": 0, "creation_date": 1563365006, "post_id": 57075165, "comment_id": 100673958, "body": "What is expected output and where is the code of <code>&lt;accordion-item&gt;</code>"}, {"owner": {"reputation": 6901, "user_id": 7436489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f27318e4582da71b5ed0f0dc453100?s=128&d=identicon&r=PG&f=1", "display_name": "Roberto Zvjerkovi\u0107", "link": "https://stackoverflow.com/users/7436489/roberto-zvjerkovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1563366058, "post_id": 57075165, "comment_id": 100674538, "body": "So just move <code>mat-accordion</code> out of the <code>ngFor</code>.."}, {"owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "edited": false, "score": 0, "creation_date": 1563367159, "post_id": 57075165, "comment_id": 100675246, "body": "Moved out of for loop now accordion is working, but the other contents are not displaying"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "edited": false, "score": 0, "creation_date": 1563367767, "post_id": 57075760, "comment_id": 100675624, "body": "accordion seems to be working, but <code>&lt;ng-template #section&gt;   &lt;template [area]=&quot;area&quot; class=&quot;{{ area.type }}&quot;&gt;   &lt;&#47;area-template&gt; &lt;&#47;ng-template&gt;</code>  it&#39;s throwing error as <code>area</code> in not defined in area-template"}, {"owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "edited": false, "score": 0, "creation_date": 1563371540, "post_id": 57075760, "comment_id": 100678230, "body": "I&#39;ve implemented, but it throws template phase error. I&#39;ve updated my question"}, {"owner": {"reputation": 538, "user_id": 11363925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc765c8d4e5ca7f4f81abe7044e90693?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Rico", "link": "https://stackoverflow.com/users/11363925/luis-rico"}, "reply_to_user": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "edited": false, "score": 0, "creation_date": 1563372150, "post_id": 57075760, "comment_id": 100678639, "body": "you have added let-name=&quot;name&quot;, that is for that particular case, you have to change name for the property you want"}, {"owner": {"reputation": 538, "user_id": 11363925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc765c8d4e5ca7f4f81abe7044e90693?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Rico", "link": "https://stackoverflow.com/users/11363925/luis-rico"}, "reply_to_user": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "edited": false, "score": 0, "creation_date": 1563787330, "post_id": 57075760, "comment_id": 100800788, "body": "@user007 I&#39;ve edited the answer so it doesn&#39;t use a ng-template anymore, since I suppose you don&#39;t want anything other than the accordion items inside the accordion. Just doing two loops is way simpler"}], "tags": [], "owner": {"reputation": 538, "user_id": 11363925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc765c8d4e5ca7f4f81abe7044e90693?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Rico", "link": "https://stackoverflow.com/users/11363925/luis-rico"}, "is_accepted": false, "score": 1, "last_activity_date": 1563443725, "last_edit_date": 1563443725, "creation_date": 1563366153, "answer_id": 57075760, "question_id": 57075165, "link": "https://stackoverflow.com/questions/57075165/loading-mat-accordion-dynamically/57075760#57075760", "title": "Loading mat accordion dynamically", "body": "<pre><code>&lt;mat-accordion&gt;\n   &lt;ng-container *ngFor=\"let area of areas\" &gt;\n      &lt;accordion-item *ngIf=\"area.type === 'accordion-item'\"  [item]=\"area\"&gt;&lt;/accordion-item&gt;\n   &lt;/ng-container&gt;\n&lt;/mat-accordion&gt;\n\n&lt;ng-container *ngFor=\"let area of areas\" #section&gt;\n   &lt;ng-container *ngIf=\"!area.type === 'accordion-item'\" #section&gt;\n      YOUR TEMPLATE\n   &lt;/ng-container &gt;\n&lt;/ng-container &gt;\n</code></pre>\n"}], "owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563443725, "creation_date": 1563364310, "last_edit_date": 1563371483, "question_id": 57075165, "link": "https://stackoverflow.com/questions/57075165/loading-mat-accordion-dynamically", "title": "Loading mat accordion dynamically", "body": "<p>Based on the JSON structure, I wanted to render the accordion. Below is how it looks like.</p>\n\n<pre><code>const area = [{\n  type: 'column',\n  text: ''\n}, {\n  type: 'accordion-item',\n  text: 'accordion-item 1'\n},\n{\n  type: 'accordion-item',\n  text: 'accordion-item 2'\n},\n{\n  type: 'accordion-item',\n  text: 'accordion-item 3'\n},\n{\n  type: 'column',\n  text: ''\n}]\n</code></pre>\n\n<p>So my component html looks like this,</p>\n\n<pre><code> &lt;ng-container *ngFor=\"let area of areas\"&gt;\n  &lt;ng-container *ngIf=\"area.type === 'accordion-item'; else section\"&gt;\n    &lt;mat-accordion&gt;\n      &lt;accordion-item [item]=\"area\"&gt;&lt;/accordion-item&gt;\n    &lt;/mat-accordion&gt;\n  &lt;/ng-container&gt;\n  &lt;ng-template #section&gt;&lt;/ng-template&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><strong>Accordion Item component</strong> </p>\n\n<pre><code>&lt;mat-expansion-panel&gt;\n    &lt;mat-expansion-panel-header&gt;\n        &lt;mat-panel-title&gt;\n             {{title}}\n        &lt;/mat-panel-title&gt;\n    &lt;/mat-expansion-panel-header&gt;\n&lt;/mat-expansion-panel&gt;\n</code></pre>\n\n<p>I could able to load the accordion component. But the issue is native functionality is not working as expected .</p>\n\n<p>Because for each <code>accordion-item</code> I loading this tag <code>&lt;mat-accordion&gt;</code> again n again.</p>\n\n<p>So How to avoid this ? Please help</p>\n\n<hr>\n\n<p><strong>Update.</strong></p>\n\n<p>After implementing the solution, my template looks like this</p>\n\n<pre><code>&lt;mat-accordion&gt;\n  &lt;ng-container *ngFor=\"let area of areas\" *ngTemplateOutlet=\"section; context:area\"&gt;\n    &lt;accordion-item *ngIf=\"area.type === 'accordion-item'; else section\" [item]=\"area\"&gt;\n    &lt;/accordion-item&gt;\n  &lt;/ng-container&gt;\n&lt;/mat-accordion&gt;\n\n&lt;ng-template #section let-name=\"name\"&gt;\n  &lt;area-template [area]=\"area\" class=\"{{ area.type }}\"&gt;\n  &lt;/area-template&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>It's throwing template phase error. please help</p>\n"}, {"tags": ["angular", "typescript", "chart.js"], "owner": {"reputation": 33, "user_id": 10037875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4AcfEk9vqBc/AAAAAAAAAAI/AAAAAAAAGPo/3xx_Ht4iXEo/photo.jpg?sz=128", "display_name": "Lucas U.", "link": "https://stackoverflow.com/users/10037875/lucas-u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1563364782, "creation_date": 1563363855, "question_id": 57075043, "link": "https://stackoverflow.com/questions/57075043/bar-position-between-2-x-axis-value-in-time-type-bar-chart", "title": "Bar position between 2 x-axis value in time type bar chart", "body": "<p>I would like to vertically align the bars of my chart between each couple of values in the x-axis. </p>\n\n<p>The current version of my bar chart is : <a href=\"https://image.noelshack.com/fichiers/2019/29/3/1563363518-barchartscreenshot.png\" rel=\"nofollow noreferrer\">https://image.noelshack.com/fichiers/2019/29/3/1563363518-barchartscreenshot.png</a></p>\n\n<p>What I would like to do is : <a href=\"https://image.noelshack.com/fichiers/2019/29/3/1563363518-centeredbarsobjective.png\" rel=\"nofollow noreferrer\">https://image.noelshack.com/fichiers/2019/29/3/1563363518-centeredbarsobjective.png</a></p>\n\n<p>This is for an Angular 7 application with the following dependencies to use chart.js : \"chart.js\": \"^2.8.0\", \"chartjs-plugin-datalabels\": \"^0.6.0\", \"ng2-charts\": \"^2.2.0\"</p>\n\n<p>Here is the configuration of my bar chart :</p>\n\n<pre><code>  public barChartOptions: ChartOptions = {\n    responsive: true,\n    scales: {\n      xAxes: [\n        {\n          barPercentage: 0.9,\n          categoryPercentage: 1.0,\n          stacked: true,\n          type: 'time',\n          time: {\n            parser: 'HH',\n            unit: 'hour',\n            unitStepSize: 1,\n            displayFormats: {\n                hour: 'HH',\n            }\n          }\n        },\n      ],\n      yAxes: [{\n          stacked: true\n        }\n      ]\n    },\n    legend: { \n      position: 'bottom' \n    },\n    title: {\n      display: true,\n      text: 'Data distribution',\n      position: 'top'\n    },\n    plugins: {\n      datalabels: {\n        display: true,\n        align: 'center',\n        anchor: 'center'\n      }\n    }\n  };\n  public barChartLabels: Label[] = ['12','13','14','15'];\n  public barChartType: ChartType = 'bar';\n  public barChartLegend = true;\n  public barChartPlugins = [pluginDataLabels];\n  public barChartData: ChartDataSets[] = [{\n    data: [40, 80, 60], \n    label: 'Series A' \n  },\n  {\n    data: [10, 30, 50], \n    label: 'Series B'\n\n  }];\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular7-chartjs-barchart-verticalalign\" rel=\"nofollow noreferrer\">Stackblitz of the problem</a></p>\n\n<p>Thanks for your help :)</p>\n\n<p>Lucas</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic4"], "comments": [{"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "edited": false, "score": 0, "creation_date": 1563511413, "post_id": 57074968, "comment_id": 100731554, "body": "please show the code that you are using to progress <code>elapsed</code>. Is it part of a library?"}, {"owner": {"reputation": 460, "user_id": 11604356, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c6Cm1qOmgyA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reuUoEgfT0OWulnNt1BZvHXa1Eb-A/mo/photo.jpg?sz=128", "display_name": "AbdulAzeez Olanrewaju", "link": "https://stackoverflow.com/users/11604356/abdulazeez-olanrewaju"}, "reply_to_user": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "edited": false, "score": 0, "creation_date": 1564150515, "post_id": 57074968, "comment_id": 100947943, "body": "no, sir... i&#39;m getting error trying to post to stackoverflow"}, {"owner": {"reputation": 12294, "user_id": 156388, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/6811db2b37e824fdf6c5c4fcdddd4146?s=128&d=identicon&r=PG", "display_name": "rtpHarry", "link": "https://stackoverflow.com/users/156388/rtpharry"}, "edited": false, "score": 0, "creation_date": 1564206929, "post_id": 57074968, "comment_id": 100962790, "body": "you don&#39;t show enough to answer at the moment, your timer library should have some kind of update function which you can use to update the <code>circle-progress</code> and stop when it reaches a certain amount."}], "owner": {"reputation": 460, "user_id": 11604356, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c6Cm1qOmgyA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reuUoEgfT0OWulnNt1BZvHXa1Eb-A/mo/photo.jpg?sz=128", "display_name": "AbdulAzeez Olanrewaju", "link": "https://stackoverflow.com/users/11604356/abdulazeez-olanrewaju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563364613, "creation_date": 1563363577, "last_edit_date": 1563364613, "question_id": 57074968, "link": "https://stackoverflow.com/questions/57074968/time-recorder-using-ionic-4-angular", "title": "Time Recorder Using Ionic 4 + angular", "body": "<p>I'm creating a time recorder using ionic 4, I added an ng plugin called circle progress. When my circle reach 100 % which is equal to the time set, I want the display time counter to stop.</p>\n\n<p><strong>The typescript codes:</strong></p>\n\n<p>\n       \n         Reset Duration\n         \n         \n       </p>\n\n<pre><code>   &lt;circle-progress (click)=\"startTime()\" [percent]=\"percent\" [radius]=\"radius\" [maxPercent]=\"100\" [showTitle]=\"false\"\n     [showSubtitle]=\"false\" [showUnits]=\"false\" [outerStrokeWidth]=\"16\" [outerStrokeColor]=\"'#8000FF'\"\n     [showZeroOuterStroke]=\"false\" [backgroundStroke]=\"'#33003F'\" [backgroundStrokeWidth]=\"3\"\n     [outerStrokeGradient]=\"true\" [outerStrokeGradientStopColor]=\"'#FF00CB'\" [showInnerStroke]=\"false\"&gt;\n   &lt;/circle-progress&gt;\n\n   &lt;p&gt;{{ elapsed.h }}: {{ elapsed.m}}: {{ elapsed.s}}&lt;/p&gt;\n\n   &lt;ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\"&gt;\n     &lt;ng-container *ngIf=\"timer == false; else running\"&gt;\n       &lt;ion-fab-button (click)=\"startTime()\"&gt;\n         &lt;ion-icon name=\"play\"&gt;&lt;/ion-icon&gt;\n       &lt;/ion-fab-button&gt;\n     &lt;/ng-container&gt;\n     &lt;ng-template #running&gt;\n       &lt;ion-fab-button (click)=\"stopTime()\"&gt;\n         &lt;ion-icon name=\"square\"&gt;&lt;/ion-icon&gt;\n       &lt;/ion-fab-button&gt;\n     &lt;/ng-template&gt;\n   &lt;/ion-fab&gt;\n\n &lt;/ion-content&gt;\n</code></pre>\n\n<p>I don't know what to do.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "file", "download"], "answers": [{"tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1563363333, "creation_date": 1563363333, "answer_id": 57074907, "question_id": 57074868, "link": "https://stackoverflow.com/questions/57074868/angular-10-download-file-from-bytearray-data/57074907#57074907", "title": "Angular 10 - Download file from ByteArray data", "body": "<p>You can use <a href=\"https://www.npmjs.com/package/file-saver\" rel=\"nofollow noreferrer\">file-saver</a></p>\n\n<p><code>import { saveAs } from 'file-saver';</code></p>\n\n<pre><code>const file = new Blob([content], {type: 'text/plain'});\nFileSaver.saveAs(file, \"test.txt\");\n</code></pre>\n"}], "owner": {"reputation": 1358, "user_id": 10143290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zHY4o.jpg?s=128&g=1", "display_name": "I&#241;igo", "link": "https://stackoverflow.com/users/10143290/i%c3%b1igo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4564, "favorite_count": 0, "accepted_answer_id": 57074907, "answer_count": 1, "score": 1, "last_activity_date": 1599131277, "creation_date": 1563363191, "last_edit_date": 1599131277, "question_id": 57074868, "link": "https://stackoverflow.com/questions/57074868/angular-10-download-file-from-bytearray-data", "title": "Angular 10 - Download file from ByteArray data", "body": "<p>I get a <code>byte[]</code> file from my server with the content of a file. I know the name and the <code>content-type</code>. So far I have tried the following for downloading the file:</p>\n\n<pre><code>const a = document.createElement('a');\ndocument.body.appendChild(a);\na.style.display = 'none';\n\nconst file = new Blob([content], {type: 'text/plain'});\nconst url = window.URL.createObjectURL(file);\na.href = url;\na.download = \"test.txt\";\na.click();\nwindow.URL.revokeObjectURL(url);\n</code></pre>\n\n<p>But this solution just downloads a text file with the binary content in it. How can I convert the binary data to the correspondent file type in the client side using JavaScript/Typescript? Thanks!</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 1, "creation_date": 1563361856, "post_id": 57074429, "comment_id": 100672321, "body": "You can use intersection <code>Partial&lt;CitiesTabViewData &amp; MacroRegionsTabViewData&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1563362804, "post_id": 57074493, "comment_id": 100672833, "body": "Or <code>interface State extends Partial&lt;CitiesTabViewData &amp; MacroRegionsTabViewData&gt;  { showModal: boolean }</code>"}], "tags": [], "owner": {"reputation": 459, "user_id": 5264261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tGZma.png?s=128&g=1", "display_name": "ArslanIqbal", "link": "https://stackoverflow.com/users/5264261/arslaniqbal"}, "is_accepted": false, "score": 1, "last_activity_date": 1563363168, "last_edit_date": 1563363168, "creation_date": 1563361762, "answer_id": 57074493, "question_id": 57074429, "link": "https://stackoverflow.com/questions/57074429/how-to-combine-multiple-interfaces-in-typescript/57074493#57074493", "title": "How to combine multiple interfaces in typescript?", "body": "<p>try this</p>\n\n<pre><code>interface State extends Partial&lt;CitiesTabViewData&gt;, Partial&lt;MacroRegionsTabViewData&gt; \n{\n    showModal: boolean\n}\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 10889553, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-T98MARCubFs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZneAZ6GFGGLni1Gox8_u9Cnfc6kw/mo/photo.jpg?sz=128", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u043e\u0441", "link": "https://stackoverflow.com/users/10889553/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%9a%d0%be%d1%81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563363168, "creation_date": 1563361542, "question_id": 57074429, "link": "https://stackoverflow.com/questions/57074429/how-to-combine-multiple-interfaces-in-typescript", "title": "How to combine multiple interfaces in typescript?", "body": "<p>I have several interfaces:</p>\n\n<pre><code>interface TabViewData {\n    constTypeList: Object,\n    materialList: Object,\n    ownerList: Object | null,\n    creativeList: Object | null,\n    dataList: {}[]\n}\n\nexport interface CitiesTabViewData extends TabViewData {\n    cityList: : Object,\n    dataByCity: Object\n}\n\nexport interface MacroRegionsTabViewData extends TabViewData {\n    macroRegionList:: Object\n    dataByMacroRegion: Object,\n}\n\nexport interface TotalTabViewData extends TabViewData {\n    dataTotal: Object,\n}\n</code></pre>\n\n<p>How to create an interface that would combine them all (given that they may have the same properties)? I tried:</p>\n\n<pre><code>interface State extends Partial&lt;CitiesTabViewData, MacroRegionsTabViewData&gt; \n{\nshowModal: boolean\n}\n</code></pre>\n\n<p>but Partial takes only one argument(((</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11786942"}, "edited": false, "score": 0, "creation_date": 1563361624, "post_id": 57074140, "comment_id": 100672191, "body": "Console returns something like this: [Array(2)] 0: Array(2)   0: { name: &quot;one&quot; },   1: { name: &quot;two&quot; }"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1563361871, "post_id": 57074140, "comment_id": 100672328, "body": "I am unable to understand the array, Please add <code>{{data | json}}</code> in HTML, copy the result and add it in the comment"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1563363175, "last_edit_date": 1563363175, "creation_date": 1563360562, "answer_id": 57074140, "question_id": 57074112, "link": "https://stackoverflow.com/questions/57074112/angular-ngfor-only-showing-1-data-item/57074140#57074140", "title": "Angular *ngFor only showing 1 data item", "body": "<p>To iterate using <code>ngFor</code>, no need to add index. Replace <code>dat[i].name</code> with <code>dat.name</code></p>\n\n<p>Try this:</p>\n\n<p>Since it is unclear the format of data, there are 2 possibilities:</p>\n\n<p>For,</p>\n\n<pre><code> data = [\n    { name: \"one\" },\n    { name: \"two\" }\n  ]\n\n &lt;ul *ngFor=\"let dat of data; let i = index\"&gt;\n   &lt;li&gt;{{ dat.name }} - {{ i }}&lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>For,</p>\n\n<pre><code> data = [\n    [\n      { name: \"one\" },\n      { name: \"two\" }\n    ]\n  ]\n\n &lt;ul *ngFor=\"let dat of data[0]; let i = index\"&gt;\n   &lt;li&gt;{{ dat.name }} - {{ i }}&lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "is_accepted": false, "score": 0, "last_activity_date": 1563366819, "last_edit_date": 1563366819, "creation_date": 1563362401, "answer_id": 57074653, "question_id": 57074112, "link": "https://stackoverflow.com/questions/57074112/angular-ngfor-only-showing-1-data-item/57074653#57074653", "title": "Angular *ngFor only showing 1 data item", "body": "<p>From what you're presenting, <code>data</code> is a 1-element array, it's <code>dat</code> (<code>data</code>'s element) that has length (so, <code>data</code> would be something like <code>[[obj1, obj2, obj3]]</code>, instead of <code>[obj1, obj2, obj3]</code>). Hence you should iterate over's <code>data</code>'s 0-th - and only - element, like this:</p>\n\n<pre><code>&lt;ul *ngFor=\"let dat of data[0]; let i = index\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 11769900, "user_type": "registered", "profile_image": "https://graph.facebook.com/667992167000086/picture?type=large", "display_name": "\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u0412\u0430\u0441\u0438\u043b\u044c\u043a\u043e\u0432", "link": "https://stackoverflow.com/users/11769900/%d0%94%d0%bc%d0%b8%d1%82%d1%80%d0%b8%d0%b9-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d1%8c%d0%ba%d0%be%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1563374038, "creation_date": 1563374038, "answer_id": 57078370, "question_id": 57074112, "link": "https://stackoverflow.com/questions/57074112/angular-ngfor-only-showing-1-data-item/57078370#57078370", "title": "Angular *ngFor only showing 1 data item", "body": "<p>if data it's array, you dont need use [i] on iterable elems dat. use only dat.name</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11786942"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1391, "favorite_count": 0, "accepted_answer_id": 57074140, "answer_count": 3, "score": 1, "last_activity_date": 1563374038, "creation_date": 1563360475, "last_edit_date": 1563360724, "question_id": 57074112, "link": "https://stackoverflow.com/questions/57074112/angular-ngfor-only-showing-1-data-item", "title": "Angular *ngFor only showing 1 data item", "body": "<p>I have some data which I need to list using <code>ngFor</code> like this:</p>\n\n<pre><code> &lt;ul *ngFor=\"let dat of data; let i = index\"&gt;\n   &lt;li&gt;{{ dat[i].name }} - {{ i }}&lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>The problem with the code above is it's only showing 1 item.</p>\n\n<p>But I know that the items are there because when I do this:</p>\n\n<pre><code>  {{ dat[0].name }}\n\n  {{ dat[1].name }}\n</code></pre>\n\n<p>The above gives me different items as expected but when I try to loop like this:</p>\n\n<pre><code>  {{ dat[i].name }}\n</code></pre>\n\n<p>It will only show the first one.</p>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1563360785, "post_id": 57074102, "comment_id": 100671774, "body": "B extends A, and thats why it is ok. If I understand the question correctly"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 0, "creation_date": 1563362406, "post_id": 57074102, "comment_id": 100672619, "body": "@John That is why the compiler allows it, but OP is right, it does break liskov:"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 6216, "user_id": 1471485, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8qRCk.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/1471485/john"}, "edited": false, "score": 1, "creation_date": 1563362411, "post_id": 57074102, "comment_id": 100672621, "body": "@John <a href=\"https://typescript-play.js.org/#code/JYOwLgpgTgZghgYwgAgILIN4Chm+XALmRAFcBbAI2gG4sBfLLUSWRFAIWQgA9IQATAM5pMOPBSKlKNeowQAbOIOHslKbHmQAHEhXnAEyGAHtjACjhQA5gAYiqAJRFOGZGM24oEMCSghM+EQ2ADTIEsgALABMyHS0mgwMWApKwgAi0MAAbhD8XLwQAipqopo6egZGphbWdsjsTvUBAPTNyAjGWZbAcODalnBk3tDIwMJw8vLGAO65oSDGYMgA8gDS7h5ePn4BhMgA1Ja2AHRwx2DGAApeCGPAxiBmUQ6h4Ye1xxTnVzd3D08OWLUZCtZBQEjgYBDLhQKDGKCvUbCCH8CAwUBzfDyMAAC2MJCsOOQgjxJHkeRxcByYQghTBEBIwC8-A2iUY8m8YWcJQAvMQINNkBkoNlcmYHMDQahlMArP44MTdO1FMpkBd8GESilVST8fx5FjpnAAJ7CKjIYwAazcXxM5lcewAjDY6BKQW0FvzcmrjP1VaAwqERYSlgB+IA\" rel=\"nofollow noreferrer\">typescript-play.js.org/#code/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 1, "creation_date": 1563362374, "post_id": 57074605, "comment_id": 100672597, "body": "You may want to add this to your post: <a href=\"https://github.com/microsoft/TypeScript/issues/10717\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/10717</a>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 20930, "user_id": 6881240, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/dc1e27d7e9a3de2ca8e257cb7c72ff4a?s=128&d=identicon&r=PG&f=1", "display_name": "kabanus", "link": "https://stackoverflow.com/users/6881240/kabanus"}, "edited": false, "score": 0, "creation_date": 1563362510, "post_id": 57074605, "comment_id": 100672673, "body": "@kabanus that is a nice proposal, too bad it&#39;s been open since 2016. Probably will not see the light of say any time soon \ud83d\ude1e"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1563362577, "last_edit_date": 1563362577, "creation_date": 1563362204, "answer_id": 57074605, "question_id": 57074102, "link": "https://stackoverflow.com/questions/57074102/why-arent-method-parameters-contravariant-in-typescript/57074605#57074605", "title": "Why aren&#39;t method parameters contravariant in typescript", "body": "<p>Methods parameters behave bivariantly in typescript. There is a <a href=\"https://github.com/microsoft/TypeScript/issues/10717\" rel=\"nofollow noreferrer\">proposal</a> to make them behave contravariantly, but since it's been open since 2016, it probably isn't a priority. </p>\n\n<p>There is an option (<code>strictFunctionTypes</code>) to make parameters of function signatures not originating in methods behave contravariantly but methods are explicitly exempt from the stricter checks. From the <a href=\"https://github.com/microsoft/TypeScript/pull/18654\" rel=\"nofollow noreferrer\">PR</a> introducing this stricter mode for functions we get an idea of the reasoning behind the method exemption: </p>\n\n<blockquote>\n  <p>Methods are excluded specifically to ensure generic classes and interfaces (such as Array) continue to mostly relate covariantly. The impact of strictly checking methods would be a much bigger breaking change as a large number of generic types would become invariant (even so, we may continue to explore this stricter mode).</p>\n</blockquote>\n"}], "owner": {"reputation": 521, "user_id": 5860619, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ba6577881df7b0cd6d8896dcfae228d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Godyaev", "link": "https://stackoverflow.com/users/5860619/andrey-godyaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 1, "accepted_answer_id": 57074605, "answer_count": 1, "score": 4, "last_activity_date": 1563362993, "creation_date": 1563360437, "last_edit_date": 1563362993, "question_id": 57074102, "link": "https://stackoverflow.com/questions/57074102/why-arent-method-parameters-contravariant-in-typescript", "title": "Why aren&#39;t method parameters contravariant in typescript", "body": "<p>In Typescript you are allowed to have a covariant method parameter in the derived class.<br>\nIt looks like a blatant violation of LSP.<br>\nWhat is an intention for this piece of the language design, is it deliberate or a design limitation?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>interface A {\n    a: number;\n}\n\ninterface B extends A {\n    b: number;\n}\n\nclass Base {\n    public foo(arg0: A): B { \n        return { a: 0, b: 42 };\n    }\n}\n\nclass Derived extends Base {\n    public foo(arg0: B): B { // covariant parameter is allowed, not OK\n        return { a: +arg0.a.toPrecision(2), b: +arg0.b.toPrecision(2) }; // runtime error, b is undefined, although should have been required\n    }\n}\n\nlet b: Base = new Derived(); // Assign a sub class to a base class should always be ok \nb.foo({ a: 10}); // no need to pass in b, right ?\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563360535, "post_id": 57074054, "comment_id": 100671635, "body": "So, can I add a new observable to forkJoin at any time? For example, forkJoin acceps a observable list. I have start forkjoin with interval, then I&#39;ve add new observable to observable list. In this state, data will be received for new observable in the forkjoin?"}, {"owner": {"reputation": 523, "user_id": 10551540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35psh.png?s=128&g=1", "display_name": "Robert garcia", "link": "https://stackoverflow.com/users/10551540/robert-garcia"}, "reply_to_user": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563360895, "post_id": 57074054, "comment_id": 100671837, "body": "I think what you can do in this case is create a BehaviourSubject, and then emit a forkJoin observable each time you update your list of observables, this way you will subscribe always to the last list of observables, remember to manage your unsubscriptions to avoid memory leaks"}, {"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563361669, "post_id": 57074054, "comment_id": 100672218, "body": "But these observables are different than others. So, one observable result musn&#39;t wait other observable results"}, {"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563369647, "post_id": 57074054, "comment_id": 100676975, "body": "Thank you so much. I accept another answer for my requirements."}], "tags": [], "owner": {"reputation": 523, "user_id": 10551540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/35psh.png?s=128&g=1", "display_name": "Robert garcia", "link": "https://stackoverflow.com/users/10551540/robert-garcia"}, "is_accepted": false, "score": 0, "last_activity_date": 1563363003, "last_edit_date": 1563363003, "creation_date": 1563360292, "answer_id": 57074054, "question_id": 57073941, "link": "https://stackoverflow.com/questions/57073941/how-to-manage-multiple-observable-in-angular-7/57074054#57074054", "title": "How to manage multiple observable in angular 7", "body": "<p>You can use rxjs <a href=\"https://www.learnrxjs.io/operators/combination/forkjoin.html\" rel=\"nofollow noreferrer\">forkJoin</a></p>\n\n<p>It combines all your observables into one which emits all the values, so you subscribe to the forkJoin emitted observable, you can add pipe operators to it etc</p>\n\n<p>something like: </p>\n\n<pre><code>let sensors = forkJoin(observable1, observable2)\n\nsensors.subscribe(\n   sensorData =&gt; {\n      // You receive an object with your observables data\n   }\n)\n</code></pre>\n\n<p>If you need to get a variable amount of observables which emits different values, you can use BehaviorSubject this way:</p>\n\n<pre><code>let sensors = new BehaviorSubject&lt;Array&lt;Observables&lt;yourType&gt;&gt;([])\n\nsensors.next([newArrayOfObservables])\n\nsensors.subscribe(\n    sensors$ =&gt; {\n      sensor$.forEach(sensor =&gt; {\n        sensor.subscribe( // Do your logic)\n      }\n    }\n)\n</code></pre>\n\n<p>This way you can add/remove observables, since ForkJoin only emits values when observables completes it only emits values once.</p>\n\n<p>Again remember to manage your unsubscriptions.</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563369602, "post_id": 57076108, "comment_id": 100676939, "body": "Firstly, thank you so much for your great response! I just have to get relevent data from subscribe method, then I must update the related chart series. But, I wonder what happens a lot of subscriber attacks update the same chart. Is this operation is thread safe?"}, {"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563369890, "post_id": 57076108, "comment_id": 100677137, "body": "Also, can I subscribe to directly interval() ? In this state, I can update chart int the related subscribe method without I don&#39;t know which data is received instead of merged subscribe method."}, {"owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "edited": false, "score": 0, "creation_date": 1563369982, "post_id": 57076108, "comment_id": 100677203, "body": "And another requirements, I can delete any sensor at any time. Thus, I must unsubscribe of related sensor when required."}], "tags": [], "owner": {"reputation": 2207, "user_id": 8578281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/384fd.jpg?s=128&g=1", "display_name": "Goga Koreli", "link": "https://stackoverflow.com/users/8578281/goga-koreli"}, "is_accepted": true, "score": 1, "last_activity_date": 1563367309, "creation_date": 1563367309, "answer_id": 57076108, "question_id": 57073941, "link": "https://stackoverflow.com/questions/57073941/how-to-manage-multiple-observable-in-angular-7/57076108#57076108", "title": "How to manage multiple observable in angular 7", "body": "<p>I would suggest using Subject and mergeMap.</p>\n\n<p>As for explanation, you will have 1 Subject where you will emit new sensorIds when user selects one from the UI. Then you need to subscribe to that exact Subject and with the help of mergeMap you will have all of the sensor values in your subscribe method.</p>\n\n<p>Lets look at demo code:</p>\n\n<pre><code>private sensorIdSubject = new Subject();\n\nngOnInit() {\n  this.sensorIdSubject.pipe(\n    mergeMap(sensorId =&gt; \n      interval(5000).pipe(switchMap(() =&gt; this.getSensorData(sensorId)))\n  ).subscribe(sensorData =&gt; {\n    // Every 5 second, each of the sensorIds that have been selected in UI will \n    // get sensor data and emit new value here in subscribe, because all of them\n    // have been merged.\n  })\n}\n\npublic chooseSensor(sensorId) {\n  this.sensorIdSubject.next(sensorId);\n}\n</code></pre>\n\n<p>Does this fit? I will update my code according to your needs, just tell me in the comment section.</p>\n"}], "owner": {"reputation": 39, "user_id": 11636162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8043773f484ee5d6c74cb3d5cbcf0cc4?s=128&d=identicon&r=PG&f=1", "display_name": "ago", "link": "https://stackoverflow.com/users/11636162/ago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 57076108, "answer_count": 2, "score": 1, "last_activity_date": 1563367309, "creation_date": 1563359925, "question_id": 57073941, "link": "https://stackoverflow.com/questions/57073941/how-to-manage-multiple-observable-in-angular-7", "title": "How to manage multiple observable in angular 7", "body": "<p>I have a angualr 7 application, and totally 20 sensor data. I want to receive data every 5 seconds using observable for selected sensor id. For example;</p>\n\n<pre><code>var sensorId = \"\"; // dynamically selected from the web UI\nvar sensorData$ = interval(5000).pipe()\nsensorData$.subscribe() // etc..\n</code></pre>\n\n<p>I'll select  multiple sensor, and start to get data with subscribe using interval. How can I keep these observables? How can I manage it?</p>\n\n<p>Also, I can add any sensor at any time.</p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 3855048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b780497343d7fe29e3766b7fc2ca5c7?s=128&d=identicon&r=PG&f=1", "display_name": "yashpatelyk", "link": "https://stackoverflow.com/users/3855048/yashpatelyk"}, "is_accepted": true, "score": 0, "last_activity_date": 1563358397, "creation_date": 1563358397, "answer_id": 57073518, "question_id": 57073368, "link": "https://stackoverflow.com/questions/57073368/angular-8-why-does-value-load-to-alert-only-after-2-clicks/57073518#57073518", "title": "Angular 8: why does value load to alert only after 2 clicks", "body": "<p>Observables are async meaning you don't get the response immediately but once they are resolved.</p>\n\n<p>So if you want to use the latest data emitted from your observable put your logic inside subscribe.</p>\n\n<pre><code>fillCompanyDetails(){\n    this.httpClient.get&lt;Company&gt;(`${this.companyService.baseUrl}admin/company/${this.companyId}`)\n      .subscribe((res) =&gt; {\n          this.originalCompany = res;\n          alert(this.originalCompany.password);\n       },\n          err =&gt; alert(err)\n       );\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1563358466, "creation_date": 1563358466, "answer_id": 57073534, "question_id": 57073368, "link": "https://stackoverflow.com/questions/57073368/angular-8-why-does-value-load-to-alert-only-after-2-clicks/57073534#57073534", "title": "Angular 8: why does value load to alert only after 2 clicks", "body": "<p>Try writing it like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  fillCompanyDetails(){\r\n    this.httpClient.get&lt;Company&gt;(`${this.companyService.baseUrl}admin/company/${this.companyId}`)\r\n    .subscribe(res =&gt; {\r\n    this.originalCompany = res;\r\n    alert(this.originalCompany.password);\r\n    }, err =&gt; alert(err));\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The alert is being called before the originalCompany is set. Because its async it would make sense that the value isnt set until the second time.</p>\n"}, {"tags": [], "owner": {"reputation": 5149, "user_id": 3916831, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/f90af7b8dd05556ba7b4a3c99b3412d7?s=128&d=identicon&r=PG&f=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/3916831/kenny"}, "is_accepted": false, "score": 0, "last_activity_date": 1563358541, "creation_date": 1563358541, "answer_id": 57073556, "question_id": 57073368, "link": "https://stackoverflow.com/questions/57073368/angular-8-why-does-value-load-to-alert-only-after-2-clicks/57073556#57073556", "title": "Angular 8: why does value load to alert only after 2 clicks", "body": "<p>Your <code>fillCompanyDetails</code> function should look like this</p>\n\n<pre><code>fillCompanyDetails(){\n    this.httpClient.get&lt;Company&gt;(`${this.companyService.baseUrl}admin/company/${this.companyId}`)\n.subscribe(res =&gt; { \n     this.originalCompany = res;\n     alert(this.originalCompany.password);\n }, err =&gt; {alert(err)}\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10945170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2GOn.jpg?s=128&g=1", "display_name": "SpringIntoJava", "link": "https://stackoverflow.com/users/10945170/springintojava"}, "edited": false, "score": 1, "creation_date": 1563445280, "post_id": 57073898, "comment_id": 100706228, "body": "Thanks for the explanation - now I understand the &#39;behind the scenes&#39; better."}, {"owner": {"reputation": 53, "user_id": 2492292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e41ec2e1eb163ba85e146a43881cd71?s=128&d=identicon&r=PG", "display_name": "PrajwolCE", "link": "https://stackoverflow.com/users/2492292/prajwolce"}, "reply_to_user": {"reputation": 33, "user_id": 10945170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2GOn.jpg?s=128&g=1", "display_name": "SpringIntoJava", "link": "https://stackoverflow.com/users/10945170/springintojava"}, "edited": false, "score": 0, "creation_date": 1563560800, "post_id": 57073898, "comment_id": 100754241, "body": "Glad to help :)"}], "tags": [], "owner": {"reputation": 53, "user_id": 2492292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e41ec2e1eb163ba85e146a43881cd71?s=128&d=identicon&r=PG", "display_name": "PrajwolCE", "link": "https://stackoverflow.com/users/2492292/prajwolce"}, "is_accepted": false, "score": 0, "last_activity_date": 1563359768, "creation_date": 1563359768, "answer_id": 57073898, "question_id": 57073368, "link": "https://stackoverflow.com/questions/57073368/angular-8-why-does-value-load-to-alert-only-after-2-clicks/57073898#57073898", "title": "Angular 8: why does value load to alert only after 2 clicks", "body": "<p>When you use, subscribe, you are telling the program, hey HttpClient i'm sending a request to get companies, let me know when you have got back the response  i need (subscribe to the response). I'll do other things in the mean time (the other thing being the alert it calls it right away, hence you get nothing). The next time you click it, the request is already processed so you get the right value. Moving the alert inside your subscribe part should do the trick, as it will only alert once there is a response. </p>\n\n<pre><code>fillCompanyDetails(){\n    this.httpClient.get&lt;Company&gt; \n    (`${this.companyService.baseUrl}admin/company/${this.companyId}`)\n    .subscribe((res:company) =&gt;{\n                this.originalCompany = res;  \n                alert(this.originalCompany.password);\n              },         \n              err =&gt; alert(err));\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10945170, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2GOn.jpg?s=128&g=1", "display_name": "SpringIntoJava", "link": "https://stackoverflow.com/users/10945170/springintojava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 57073518, "answer_count": 4, "score": 0, "last_activity_date": 1563359768, "creation_date": 1563357863, "last_edit_date": 1563358431, "question_id": 57073368, "link": "https://stackoverflow.com/questions/57073368/angular-8-why-does-value-load-to-alert-only-after-2-clicks", "title": "Angular 8: why does value load to alert only after 2 clicks", "body": "<p>I give the user a list of company id's to choose from, and according to the one he choose I want the company password to display in an alert button (later to show in a table).<br>\nThe first click brings the correct values through the network (i see it in the request and response details), but the alert displays the correct password only after 2 clicks.<br>\nthe list of available companies comes from a service called <code>companyService</code>.</p>\n\n<p>I'm using Angular version 8.  I tried debugging through the browser to see what the <code>httpRequest</code> returns but it is okay on the first click.  the <code>companyId</code> is also initialized well after the first click.  </p>\n\n<p>Html code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h1&gt;Select the company you wish to update:&lt;/h1&gt;\n&lt;select [(ngModel)]=\"companyId\"&gt;\n    &lt;option *ngFor=\"let c of companyService.allCompanies\"&gt;{{c.id}}&lt;/option&gt;\n&lt;/select&gt;\n&lt;br&gt;\n&lt;button (click)=\"fillCompanyDetails()\"&gt;Find this company&lt;/button&gt;\n</code></pre>\n\n<p>TS code: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component, OnInit } from '@angular/core';\nimport { CompanyService } from 'src/app/shared/services/company.service';\nimport { Company } from 'src/app/shared/models/company';\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-update-company',\n  templateUrl: './update-company.component.html',\n  styleUrls: ['./update-company.component.css']\n})\nexport class UpdateCompanyComponent implements OnInit {\n\ncompanyId:number;\noriginalCompany:Company;\n\n  constructor(public companyService:CompanyService, public httpClient:HttpClient) { }\n\n  ngOnInit() {\n  }\n\n  fillCompanyDetails(){\n    this.httpClient.get&lt;Company&gt;(`${this.companyService.baseUrl}admin/company/${this.companyId}`)\n    .subscribe(res =&gt; this.originalCompany = res, err =&gt; alert(err));\n    alert(this.originalCompany.password);\n  }\n\n}\n\n</code></pre>\n\n<p>This is the companyService which contains the baseUrl and allCompanies:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Company } from '../models/company';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class CompanyService {\n\n    baseUrl: string = \"http://localhost:8080/CouponSystem/sec/\";\n\n    public allCompanies: Company[];\n    public companyToUpdate:Company;\n\n    public constructor(private httpClient: HttpClient) {\n        //adding this into constructor since this data is frequently needed.\n        this.httpClient.get&lt;Company[]&gt;(`${this.baseUrl}admin/companies`)\n            .subscribe(res =&gt; this.allCompanies = res, err =&gt; this.errorString = err);\n    }\n\n</code></pre>\n\n<p>This is the Company model: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Company{\n\npublic constructor(\n    public id?: number,\n    public name?: string,\n    public password?: string,\n    public email?: string\n){}\n\n}\n</code></pre>\n\n<p>When clicked the first time, the button shows what companyId held previously (if it's the first time I get an error of 'undefined'.  The second time shows correctly.<br>\nI expect the companyId chosen to be already in the variable upon the first click.</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 217, "user_id": 5050094, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-luwW5-TAKt8/AAAAAAAAAAI/AAAAAAAAAT8/cORTcKH8BiE/photo.jpg?sz=128", "display_name": "Amaldev ps", "link": "https://stackoverflow.com/users/5050094/amaldev-ps"}, "edited": false, "score": 1, "creation_date": 1563357062, "post_id": 57073074, "comment_id": 100669822, "body": "<code>quantityPiani</code> should be an array"}, {"owner": {"reputation": 14058, "user_id": 6139527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3NWl.jpg?s=128&g=1", "display_name": "Nicholas K", "link": "https://stackoverflow.com/users/6139527/nicholas-k"}, "edited": false, "score": 0, "creation_date": 1563357092, "post_id": 57073074, "comment_id": 100669832, "body": "What does <code>quantpiani</code> contain?"}, {"owner": {"reputation": 740, "user_id": 6363660, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead12c29fc29a3ff94e7a5504e935ba8?s=128&d=identicon&r=PG&f=1", "display_name": "Gohel Dhaval", "link": "https://stackoverflow.com/users/6363660/gohel-dhaval"}, "edited": false, "score": 0, "creation_date": 1563357310, "post_id": 57073074, "comment_id": 100669954, "body": "your are saying fragment of html code for select input?"}, {"owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "edited": false, "score": 0, "creation_date": 1563357448, "post_id": 57073074, "comment_id": 100670033, "body": "if its an array *ngFor should work... It looks like you are using reactive forms are you using a FormArray for that variable? is that the problem?"}, {"owner": {"reputation": 1, "user_id": 11593252, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215342051118639/picture?type=large", "display_name": "Marco Casaccia", "link": "https://stackoverflow.com/users/11593252/marco-casaccia"}, "edited": false, "score": 0, "creation_date": 1563357799, "post_id": 57073074, "comment_id": 100670274, "body": "<code>quantpiani</code> is a number like 4 or 10, I have to repeat that fragment as many times as the number is inside the variable"}, {"owner": {"reputation": 538, "user_id": 11363925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc765c8d4e5ca7f4f81abe7044e90693?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Rico", "link": "https://stackoverflow.com/users/11363925/luis-rico"}, "edited": false, "score": 0, "creation_date": 1563360014, "post_id": 57073074, "comment_id": 100671367, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/36535629/repeat-html-element-multiple-times-using-ngfor-based-on-a-number\">Repeat HTML element multiple times using ngFor based on a number</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18261, "user_id": 4185234, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/hjhi2.png?s=128&g=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/4185234/charlie"}, "is_accepted": false, "score": 0, "last_activity_date": 1563357785, "creation_date": 1563357785, "answer_id": 57073334, "question_id": 57073074, "link": "https://stackoverflow.com/questions/57073074/how-can-i-repeat-a-fragment-of-code-in-angular/57073334#57073334", "title": "how can I repeat a fragment of code in angular", "body": "<p>The <code>ngFor</code> works with a collection. So, if you want to use it as a for loop, creating a mock array for the directive is one of the possible ways. </p>\n\n<p>Convert the <code>quantityPiani</code> variable to an array which hold symbolic values in your component.</p>\n\n<pre><code>quantityPiani = new Array(quantityPiani).fill(0);     //Create an array of quantityPiani number of elements\n</code></pre>\n\n<p>Use this array in your <code>ngFor</code> directive:</p>\n\n<pre><code>&lt;div class=\"d-flex alert alert-primary sub-container\" *ngFor=\"let q of quantPiani\" role=\"alert\"&gt;\n</code></pre>\n\n<p>Note: the caps in the <code>quantityPiani</code> variable is corrected in your template code.</p>\n"}], "owner": {"reputation": 1, "user_id": 11593252, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215342051118639/picture?type=large", "display_name": "Marco Casaccia", "link": "https://stackoverflow.com/users/11593252/marco-casaccia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563359599, "creation_date": 1563356976, "last_edit_date": 1563357582, "question_id": 57073074, "link": "https://stackoverflow.com/questions/57073074/how-can-i-repeat-a-fragment-of-code-in-angular", "title": "how can I repeat a fragment of code in angular", "body": "<p>I have a fragment of html code that has to repeat as many times as it comes from a variable, I tried with a ngFor but it doesn't work for me. \nThe variable <code>quantityPiani</code> contains a number (integer) that is passed to it by a service </p>\n\n<pre><code>&lt;form [formGroup]=\"formPiano\"&gt;\n  &lt;div class=\"tab\"&gt;\n    &lt;div class=\"d-flex alert alert-primary sub-container\" *ngFor=\"let q of quantpiani\" role=\"alert\"&gt;\n      &lt;!-- qui va inserito il ciclo for a seconda della quantit\u00e0 sopra riportata --&gt;\n      &lt;div class=\"scheda\"&gt;\n        &lt;div&gt;\n          &lt;h3&gt;PIANO&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;h5&gt;Livello del piano:&lt;/h5&gt;\n          &lt;input type=\"number\" name=\"\" id=\"piano\" formControlName=\"piano\" required&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;h5&gt;quantit\u00e0 stanze:&lt;/h5&gt;\n          &lt;select formControlName=\"stanze\"&gt;\n            &lt;option [ngValue]=\"1\"&gt;1&lt;/option&gt;\n            &lt;option value=\"2\"&gt;2&lt;/option&gt;\n            &lt;option value=\"3\"&gt;3&lt;/option&gt;\n            &lt;option value=\"4\"&gt;4&lt;/option&gt;\n            &lt;option value=\"5\"&gt;5&lt;/option&gt;\n            &lt;option value=\"6\"&gt;6&lt;/option&gt;\n          &lt;/select&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n&lt;div&gt;\n  &lt;button [routerLink]=\"['/ufficio']\" routerLinkActive=\"router-link-active\"&gt;Indietro&lt;/button&gt;\n  &lt;button [routerLink]=\"['/stanza']\" routerLinkActive=\"router-link-active\"&gt;Avanti&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 1, "creation_date": 1563427909, "post_id": 57072524, "comment_id": 100697760, "body": "This <a href=\"https://stackoverflow.com/questions/52768852/how-does-spa-useangularcliserver-middleware-serve-a-webpage\">link</a> might be helpful!"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11581390, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDoQROUZeNs/AAAAAAAAAAI/AAAAAAAAAAc/IEIzr89AME0/photo.jpg?sz=128", "display_name": "Lee", "link": "https://stackoverflow.com/users/11581390/lee"}, "edited": false, "score": 0, "creation_date": 1563410747, "post_id": 57078343, "comment_id": 100694259, "body": "When deployed to IIS/Azure, we didn&#39;t need install node js/angular cli right? so how the code start angular cli server?(in development env, we installed node js and angular cli) thanks."}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 5, "user_id": 11581390, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDoQROUZeNs/AAAAAAAAAAI/AAAAAAAAAAc/IEIzr89AME0/photo.jpg?sz=128", "display_name": "Lee", "link": "https://stackoverflow.com/users/11581390/lee"}, "edited": false, "score": 0, "creation_date": 1563415093, "post_id": 57078343, "comment_id": 100695038, "body": "If you have CI CD like azure devops you can build it to prod mode (including npm install and ng build prod). In Azure cloud Prod mode will not start angular cli server it is just simply serve your index.html to run your web app"}, {"owner": {"reputation": 5, "user_id": 11581390, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDoQROUZeNs/AAAAAAAAAAI/AAAAAAAAAAc/IEIzr89AME0/photo.jpg?sz=128", "display_name": "Lee", "link": "https://stackoverflow.com/users/11581390/lee"}, "edited": false, "score": 0, "creation_date": 1563430063, "post_id": 57078343, "comment_id": 100698452, "body": "Got it, missing the code if (env.IsDevelopment()){spa.UseAngularCliServer(npmScript: &quot;start&quot;);}.  Thanks."}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 0, "last_activity_date": 1563373960, "creation_date": 1563373960, "answer_id": 57078343, "question_id": 57072524, "link": "https://stackoverflow.com/questions/57072524/spa-useangularcliservernpmscript-start/57078343#57078343", "title": "spa.UseAngularCliServer(npmScript: &quot;start&quot;);", "body": "<p>When you publish your solution into production mode angular will run <code>ng build --prod</code> command to generate production code and output everything into dist folder.</p>\n\n<p>Then when we deploy to server like Azure the server will boost your index.html inside your dist folder to run your angular app.</p>\n\n<p>Let me know if you still not clear</p>\n"}], "owner": {"reputation": 5, "user_id": 11581390, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mDoQROUZeNs/AAAAAAAAAAI/AAAAAAAAAAc/IEIzr89AME0/photo.jpg?sz=128", "display_name": "Lee", "link": "https://stackoverflow.com/users/11581390/lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1343, "favorite_count": 0, "accepted_answer_id": 57078343, "answer_count": 1, "score": 0, "last_activity_date": 1565680714, "creation_date": 1563355199, "last_edit_date": 1565680714, "question_id": 57072524, "link": "https://stackoverflow.com/questions/57072524/spa-useangularcliservernpmscript-start", "title": "spa.UseAngularCliServer(npmScript: &quot;start&quot;);", "body": "<p>I created a .NET core project with an Angular template and deployed it to my local IIS, and it's working fine.</p>\n\n<p>I want to know the back-end process of</p>\n\n<pre><code>spa.UseAngularCliServer(npmScript: \"start\")\n\n</code></pre>\n\n<p>after I deployed to IIS, the angular project the (html/js/css) files are bundled . how angular server started?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 21257, "user_id": 3783478, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fMtGE.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/3783478/rajesh"}, "edited": false, "score": 0, "creation_date": 1563354985, "post_id": 57072381, "comment_id": 100668603, "body": "<code>this</code> should represent an object and not a function like in this interface <code>(this: (this: T, ...args: AX[]) =&gt; R</code>"}, {"owner": {"reputation": 4677, "user_id": 836048, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2a312e355997bcdddd7b97fa93cadd45?s=128&d=identicon&r=PG", "display_name": "Ahmet Can G&#252;ven", "link": "https://stackoverflow.com/users/836048/ahmet-can-g%c3%bcven"}, "reply_to_user": {"reputation": 21257, "user_id": 3783478, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fMtGE.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/3783478/rajesh"}, "edited": false, "score": 0, "creation_date": 1563355279, "post_id": 57072381, "comment_id": 100668801, "body": "@Rajesh Please see my edit, it works well with 4 initial paramaters."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 1, "creation_date": 1563358311, "post_id": 57072381, "comment_id": 100670551, "body": "Related: <a href=\"https://stackoverflow.com/questions/54637404/type-definition-of-promise-all-doesnt-match-with-the-docs\">Type definition of Promise.all doesn&#39;t handle more than 10 elements</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4649, "user_id": 1658458, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/dc5d638443908cf7ae97690a4e2a045b?s=128&d=identicon&r=PG", "display_name": "yndolok", "link": "https://stackoverflow.com/users/1658458/yndolok"}, "edited": false, "score": 0, "creation_date": 1574088586, "post_id": 57072988, "comment_id": 104095858, "body": "It looks like spreading has type definitions now, so that&#39;s not working anymore unfortunately :("}], "tags": [], "owner": {"reputation": 4677, "user_id": 836048, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2a312e355997bcdddd7b97fa93cadd45?s=128&d=identicon&r=PG", "display_name": "Ahmet Can G&#252;ven", "link": "https://stackoverflow.com/users/836048/ahmet-can-g%c3%bcven"}, "is_accepted": true, "score": 2, "last_activity_date": 1563356691, "creation_date": 1563356691, "answer_id": 57072988, "question_id": 57072381, "link": "https://stackoverflow.com/questions/57072381/typescript-bind-gives-type-error-when-using-more-than-4-parameters/57072988#57072988", "title": "Typescript .bind() gives type error when using more than 4 parameters", "body": "<p>Typescript <code>CallableFunction</code> interface with <code>bind</code> method supports at most 4 parameters with unique type definitions.</p>\n\n<pre><code>interface CallableFunction extends Function {\n    bind &lt; T &gt; (this: T, thisArg: ThisParameterType &lt; T &gt; ): OmitThisParameter &lt; T &gt; ;\n    bind &lt; T, A0, A extends any[], R &gt; (this: (this: T, arg0: A0, ...args: A) =&gt; R, thisArg: T, arg0: A0): (...args: A) =&gt; R;\n    bind &lt; T, A0, A1, A extends any[], R &gt; (this: (this: T, arg0: A0, arg1: A1, ...args: A) =&gt; R, th\nisArg: T, arg0: A0, arg1: A1): (...args: A) =&gt; R;\n    bind &lt; T, A0, A1, A2, A extends any[], R &gt; (this: (this: T, arg0: A0, arg1: A1, arg2: A2, ...args: A) =&gt; R, thisArg: T, arg0: A0, arg1: A1, arg2: A2): (...args: A) =&gt; R;\n    bind &lt; T, A0, A1, A2, A3, A extends any[], R &gt; (this: (this: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3, ...args: A) =&gt; R, thisArg: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3): (...args: A) =&gt; R;\n    bind &lt; T, AX, R &gt; (this: (this: T, ...args: AX[]) =&gt; R, thisArg: T, ...args: AX[]): (...args: AX[]) =&gt; R;\n}\n</code></pre>\n\n<p>As you can see the <code>bind(context, arg1, arg2, arg3, arg4)</code> is supported with the type:</p>\n\n<pre><code>bind &lt; T, A0, A1, A2, A3, A extends any[], R &gt; (this: (this: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3, ...args: A) =&gt; R, thisArg: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3): (...args: A) =&gt; R;\n</code></pre>\n\n<p>But whenever you use more than 4 initial parameters it will use this type:</p>\n\n<pre><code>bind &lt; T, AX, R &gt; (this: (this: T, ...args: AX[]) =&gt; R, thisArg: T, ...args: AX[]): (...args: AX[]) =&gt; R;\n</code></pre>\n\n<p>And this type expects all initial arguments to be generic type <code>AX</code> which means: all the parameters you will use should be the same type as your first parameter. To give an example:</p>\n\n<p>This will give an error. Because the type of arg4 is not same as arg1</p>\n\n<pre><code>arg1: string;\narg2: string;\narg3: string;\narg4: number;\narg5: string;\narg6: string;\nbind(context, arg1, arg2, arg3, arg4, arg5, arg6);\n</code></pre>\n\n<p>Spreading solved my issue because spreading doesn't have any type definitions on typescript yet. </p>\n\n<p>I hope it helps for others too.</p>\n"}], "owner": {"reputation": 4677, "user_id": 836048, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2a312e355997bcdddd7b97fa93cadd45?s=128&d=identicon&r=PG", "display_name": "Ahmet Can G&#252;ven", "link": "https://stackoverflow.com/users/836048/ahmet-can-g%c3%bcven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 827, "favorite_count": 0, "accepted_answer_id": 57072988, "answer_count": 1, "score": 3, "last_activity_date": 1563356691, "creation_date": 1563354701, "last_edit_date": 1563356248, "question_id": 57072381, "link": "https://stackoverflow.com/questions/57072381/typescript-bind-gives-type-error-when-using-more-than-4-parameters", "title": "Typescript .bind() gives type error when using more than 4 parameters", "body": "<p>Using typescript 3.5.2 I have encountered a problem related with <code>.bind()</code>.</p>\n\n<p>I am trying to bind a function with some initial parameters.</p>\n\n<pre><code>async foo(arg1: any,\n    arg2: any,\n    arg3: any,\n    arg4: any,\n    arg5: any,\n    arg6: any,\n    arg7: any) {\n    //some fancy tasks\n}\n</code></pre>\n\n<p>I am trying to bind the function with a context and some initial paramaters.</p>\n\n<pre><code>private buildHandler(arg1: Function, arg2: IReplaceSet[], arg3: IReplaceSet[] = [], arg4: IReplaceAsset[] = [], arg5: boolean) {\n    return this.foo.bind(this, arg1, arg2, arg3, arg4, arg5);\n}\n</code></pre>\n\n<p>Typescript resolves <code>.bind</code> as this type.</p>\n\n<pre><code>bind&lt;T, AX, R&gt;(this: (this: T, ...args: AX[]) =&gt; R, thisArg: T, ...args: AX[]): (...args: AX[]) =&gt; R;\n</code></pre>\n\n<p>And the error compiler gives:</p>\n\n<blockquote>\n  <p>return this.foo.bind(this, arg1, (error)arg2, arg3, arg4, arg5);</p>\n  \n  <p>Error:(401, 64) TS2345: Argument of type 'any' is not assignable to parameter of type 'Function'.\n    Type 'IReplaceSet[]' is missing the following properties from type 'Function': apply, call, bind, prototype, and 4 more.</p>\n</blockquote>\n\n<hr>\n\n<p>Edit1:\nWhenever I remove any of these initial parameters from bind errors fixes</p>\n\n<pre><code>return this.foo.bind(this, arg1, arg2, arg3, ag4);\n</code></pre>\n\n<p>Why there is a parameter limit on typescript .bind() definition? Because it matches the type</p>\n\n<pre><code>bind&lt;T, A0, A1, A2, A3, A extends any[], R&gt;(this: (this: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3, ...args: A) =&gt; R, thisArg: T, arg0: A0, arg1: A1, arg2: A2, arg3: A3): (...args: A) =&gt; R;\n</code></pre>\n\n<hr>\n\n<p>Edit2:\nSpreading also fixes the problem but why?</p>\n\n<pre><code>return this.foo.bind(this, ...[arg1, arg2, arg3, arg4, arg5]);\n</code></pre>\n\n<hr>\n\n<p>Edit3:\nNow I am thinking that this is a typescript related issue and I solved the problem. I will submit an answer to this because it is an important issue.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1563354613, "post_id": 57072313, "comment_id": 100668394, "body": "what is <code>col</code>...?"}, {"owner": {"reputation": 777, "user_id": 9042256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842cbd80d238af6bf9464e6ee58d8360?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/9042256/ramesh"}, "reply_to_user": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1563354653, "post_id": 57072313, "comment_id": 100668420, "body": "Sorry, read it as property"}, {"owner": {"reputation": 21257, "user_id": 3783478, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/fMtGE.jpg?s=128&g=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/3783478/rajesh"}, "edited": false, "score": 2, "creation_date": 1563354696, "post_id": 57072313, "comment_id": 100668447, "body": "If the code works and objective of this post is optimization/ improvements, CodeReviews is the right forum for it"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1563354836, "post_id": 57072313, "comment_id": 100668516, "body": "You could loop through the keys of first object and get the min and max for the array for each property <code>for(const key in arr[0]) if(&lt;check value type&gt;)Math.max(...array.map(o =&gt; o[key])</code>. But the problem is if any of the properties are null, then it will be hard to know if it is a <code>string</code> or a <code>number</code>."}, {"owner": {"reputation": 777, "user_id": 9042256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842cbd80d238af6bf9464e6ee58d8360?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/9042256/ramesh"}, "reply_to_user": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1563354853, "post_id": 57072313, "comment_id": 100668528, "body": "@NickParsons, I want to perform these operations for every property. I given example, if property is number then some action else string, some action. But it should repeat for every property in myArray."}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1563356070, "creation_date": 1563356070, "answer_id": 57072778, "question_id": 57072313, "link": "https://stackoverflow.com/questions/57072313/code-reduce-reusability-technique-in-javascript-typescript/57072778#57072778", "title": "Code reduce/reusability technique in javascript/typescript", "body": "<p>Just come up with some config object. it would look something like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const config = {\r\n  propertyName: string,\r\n  propertyType: string,\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Then have a function that takes in your data and an array of these config objects... one config for each property in the object. Then have a compare function for each type of propertyType. when you pass ur data and the config in choose what kind of compare function to use with a switch statement depending on the property type. Then plug that into a reduce function and youll get what you want. There is a lot of missing details because this question is not meant for this site and its pretty involved but thats kinda how you would do it.</p>\n"}, {"comments": [{"owner": {"reputation": 777, "user_id": 9042256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842cbd80d238af6bf9464e6ee58d8360?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/9042256/ramesh"}, "edited": false, "score": 0, "creation_date": 1563365452, "post_id": 57072882, "comment_id": 100674187, "body": "id1 has null property. It should return 0 as minLength."}], "tags": [], "owner": {"reputation": 14808, "user_id": 8053274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3b63d7d92b7c13a683e3763941972e7?s=128&d=identicon&r=PG&f=1", "display_name": "User863", "link": "https://stackoverflow.com/users/8053274/user863"}, "is_accepted": true, "score": 1, "last_activity_date": 1563366243, "last_edit_date": 1563366243, "creation_date": 1563356363, "answer_id": 57072882, "question_id": 57072313, "link": "https://stackoverflow.com/questions/57072313/code-reduce-reusability-technique-in-javascript-typescript/57072882#57072882", "title": "Code reduce/reusability technique in javascript/typescript", "body": "<p>Instead of traversing multiple time using <code>map()</code>, you can get all minimum and maximum values once as an object like this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myArray = [\r\n  { id: 20, id1: 'Captain Piett', idn: 2000 },\r\n  { id: 24, id1: null, idn: 5000 },\r\n  { id: 56, id1: 'Admiral Ozzel', idn: 2500 },\r\n  { id: 88, id1: 'Commander Jerjerrod', idn: 1000 }\r\n];\r\n\r\nconst getExtremes = (arr) =&gt; {\r\n  return arr.reduce((a, v) =&gt; {\r\n    for (let k in v) {\r\n      let len = 0\r\n      if (typeof v[k] === 'string') len = v[k].length\r\n      else if (typeof v[k] === 'number') len = v[k]\r\n      a['max'][k] = Math.max(len, a['max'][k] === undefined ? -Infinity : a['max'][k])\r\n      a['min'][k] = Math.min(len, a['min'][k] === undefined ? Infinity : a['min'][k])\r\n    }\r\n    return a\r\n  }, { min: {}, max: {} })\r\n}\r\n\r\nconsole.log(getExtremes(myArray))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1563357210, "creation_date": 1563357210, "answer_id": 57073141, "question_id": 57072313, "link": "https://stackoverflow.com/questions/57072313/code-reduce-reusability-technique-in-javascript-typescript/57073141#57073141", "title": "Code reduce/reusability technique in javascript/typescript", "body": "<p>You could take some functions and get the array with the wanted key and types and take later the min and max values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const\r\n    getKey = k =&gt; o =&gt; o[k],\r\n    getLength = k =&gt; o =&gt; o[k] ? o[k].length : 0; \r\n    map = fn =&gt; array =&gt; array.map(fn);\r\n\r\nvar myArray = [{ id: 20, id1: 'Captain Piett', idn: 2000 }, { id: 24, id1: null, idn: 5000 }, { id: 56, id1: 'Admiral Ozzel', idn: 2500 }, { id: 88, id1: 'Commander Jerjerrod', idn: 1000 }],\r\n    ids = map(getKey('id'))(myArray),\r\n    stringLengths = map(getLength('id1'))(myArray);\r\n\r\nconsole.log(Math.min(...ids));\r\nconsole.log(Math.max(...ids));\r\n\r\nconsole.log(Math.min(...stringLengths));\r\nconsole.log(Math.max(...stringLengths));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 777, "user_id": 9042256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/842cbd80d238af6bf9464e6ee58d8360?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/9042256/ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 57072882, "answer_count": 3, "score": 0, "last_activity_date": 1563366243, "creation_date": 1563354447, "question_id": 57072313, "link": "https://stackoverflow.com/questions/57072313/code-reduce-reusability-technique-in-javascript-typescript", "title": "Code reduce/reusability technique in javascript/typescript", "body": "<p>Code reduce/reusability technique in javascript/typescript</p>\n\n<p>I have array object as follows.</p>\n\n<pre><code>var myArray = [\n  { id: 20, id1: 'Captain Piett', idn: 2000 },\n  { id: 24, id1: null, idn: 5000 },\n  { id: 56, id1: 'Admiral Ozzel', idn: 2500 },\n  { id: 88, id1: 'Commander Jerjerrod', idn: 1000 }\n];\n</code></pre>\n\n<p>From above, I want to perform below operations for every property.</p>\n\n<ol>\n<li>For number col, get min, max values</li>\n<li>For string col, get minLength, maxLength</li>\n</ol>\n\n<p>I could write as below</p>\n\n<p>For number property</p>\n\n<pre><code>const m = Math.min(...(this.myArray.map(el =&gt; el.id)));\nconst m = Math.max(...(this.myArray.map(el =&gt; el.id)));\n</code></pre>\n\n<p>For string property</p>\n\n<pre><code>const m = Math.min(...(this.myArray.map(el =&gt; el.id1 ? el.id1.length : 0)));\nconst m = Math.max(...(this.myArray.map(el =&gt; el.id1 ? el.id1.length : 0)));\n</code></pre>\n\n<p>I have almost 50 properties in myArray. Is there any code reusability technique to achieve this, instead of writing 50 * 2 statements?</p>\n"}, {"tags": ["reactjs", "typescript"], "comments": [{"owner": {"reputation": 4912, "user_id": 6162420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31F2B.jpg?s=128&g=1", "display_name": "Akhil Aravind", "link": "https://stackoverflow.com/users/6162420/akhil-aravind"}, "edited": false, "score": 1, "creation_date": 1563355025, "post_id": 57072283, "comment_id": 100668627, "body": "Please check this, this might show you a lead  <a href=\"https://stackoverflow.com/questions/47508564/migrating-create-react-app-from-javascript-to-typescript\" title=\"migrating create react app from javascript to typescript\">stackoverflow.com/questions/47508564/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 58, "user_id": 2151892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f471e9d3c5209932772c29eb3b2e7446?s=128&d=identicon&r=PG", "display_name": "rasfuranku", "link": "https://stackoverflow.com/users/2151892/rasfuranku"}, "is_accepted": true, "score": 1, "last_activity_date": 1563358320, "creation_date": 1563358320, "answer_id": 57073498, "question_id": 57072283, "link": "https://stackoverflow.com/questions/57072283/how-to-migrate-ejected-react-app-to-typescript/57073498#57073498", "title": "How to migrate ejected React app to TypeScript?", "body": "<p><code>create-react-app</code> already has support for Typescript, if you didn't use the flag <code>--typescript</code> when creating your app, you can just install some new dependencies and change the extensions of your files to <code>ts</code> or <code>tsx</code> to put it to work, the rest is basically configured on Webpack.</p>\n\n<p>Dependencies to install: <code>typescript</code>, <code>@types/react</code>, <code>@types/react-dom</code>, <code>@types/node</code>.</p>\n\n<p>You can find more information here: <a href=\"https://facebook.github.io/create-react-app/docs/adding-typescript\" rel=\"nofollow noreferrer\">https://facebook.github.io/create-react-app/docs/adding-typescript</a></p>\n"}], "owner": {"reputation": 131, "user_id": 9721437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/raLYH.jpg?s=128&g=1", "display_name": "bpGusar", "link": "https://stackoverflow.com/users/9721437/bpgusar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 57073498, "answer_count": 1, "score": 1, "last_activity_date": 1563358320, "creation_date": 1563354358, "question_id": 57072283, "link": "https://stackoverflow.com/questions/57072283/how-to-migrate-ejected-react-app-to-typescript", "title": "How to migrate ejected React app to TypeScript?", "body": "<p>I have ejected React project and me need integrate Typescript to him. \nHow can I do this?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1563353140, "post_id": 57071850, "comment_id": 100667541, "body": "What does your import for <code>RoutingService</code> look like?"}, {"owner": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "edited": false, "score": 1, "creation_date": 1563353207, "post_id": 57071850, "comment_id": 100667575, "body": "have you tried replacing method defination to &quot;getRequestedPage(): string&quot;"}, {"owner": {"reputation": 172, "user_id": 11601362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a60d17f237bebb210ec8a61b950bed4?s=128&d=identicon&r=PG&f=1", "display_name": "keesjanbertus", "link": "https://stackoverflow.com/users/11601362/keesjanbertus"}, "reply_to_user": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "edited": false, "score": 0, "creation_date": 1563353280, "post_id": 57071850, "comment_id": 100667625, "body": "@Viqas edited post and added import statement"}, {"owner": {"reputation": 172, "user_id": 11601362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a60d17f237bebb210ec8a61b950bed4?s=128&d=identicon&r=PG&f=1", "display_name": "keesjanbertus", "link": "https://stackoverflow.com/users/11601362/keesjanbertus"}, "reply_to_user": {"reputation": 3839, "user_id": 9429059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt79X.jpg?s=128&g=1", "display_name": "Mihir Dave", "link": "https://stackoverflow.com/users/9429059/mihir-dave"}, "edited": false, "score": 0, "creation_date": 1563353401, "post_id": 57071850, "comment_id": 100667699, "body": "@MihirDave this worked! could you explain why?"}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 11601362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a60d17f237bebb210ec8a61b950bed4?s=128&d=identicon&r=PG&f=1", "display_name": "keesjanbertus", "link": "https://stackoverflow.com/users/11601362/keesjanbertus"}, "edited": false, "score": 2, "creation_date": 1563353502, "post_id": 57071981, "comment_id": 100667749, "body": "This worked, could you maybe explain why this does work and the other doesn\u2019t?"}, {"owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "reply_to_user": {"reputation": 172, "user_id": 11601362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a60d17f237bebb210ec8a61b950bed4?s=128&d=identicon&r=PG&f=1", "display_name": "keesjanbertus", "link": "https://stackoverflow.com/users/11601362/keesjanbertus"}, "edited": false, "score": 0, "creation_date": 1563353830, "post_id": 57071981, "comment_id": 100667936, "body": "Im not exactly sure because Ive always used the method I described but if I had to guess I would say that the &quot;providedIn: &#39;root&#39;&quot; would allow you to add it to ANY modules providers array and it would achieve the same as putting it in the app.module.ts providers. Not sure though so you would have to try to confirm."}], "tags": [], "owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "is_accepted": true, "score": 3, "last_activity_date": 1563353316, "creation_date": 1563353316, "answer_id": 57071981, "question_id": 57071850, "link": "https://stackoverflow.com/questions/57071850/angular-7-typeerror-service-x-is-not-a-function/57071981#57071981", "title": "Angular 7 TypeError: service.x is not a function", "body": "<p>Instead of putting the providedIn part just put @Injectable() then in your app.module.ts file add the service under providers. Then when you write </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>constructor(private whateverService: WhateverService) {\r\n}</code></pre>\r\n</div>\r\n</div>\r\n\nIn any component you should have access without errors. I see you have it as private in the snippet but thats one that always trips me up so make sure its private when injecting into the constructor.</p>\n"}], "owner": {"reputation": 172, "user_id": 11601362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a60d17f237bebb210ec8a61b950bed4?s=128&d=identicon&r=PG&f=1", "display_name": "keesjanbertus", "link": "https://stackoverflow.com/users/11601362/keesjanbertus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5084, "favorite_count": 0, "accepted_answer_id": 57071981, "answer_count": 1, "score": 1, "last_activity_date": 1563353316, "creation_date": 1563352822, "last_edit_date": 1563353256, "question_id": 57071850, "link": "https://stackoverflow.com/questions/57071850/angular-7-typeerror-service-x-is-not-a-function", "title": "Angular 7 TypeError: service.x is not a function", "body": "<p>I made a routing service and want to inject it into my nav component. But when i call a method on it it throws <code>TypeError: routingService.getRequestedPage is not a function</code>. Yesterday I had a very similar problem with another service, unfortunately I forgot how I solved this. I generated the service it with the terminal. </p>\n\n<p><code>src/app/nav/nav.component.ts</code> constructor:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>constructor(private templateService: TemplateService, private routingService: RoutingService) {\n    this.getTemplates();\n    if (this.routingService.getRequestedPage() === 'home') {\n      this.showHome();\n    }\n  }\n</code></pre>\n\n<p><code>src/app/nav/nav.component.ts</code> import:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {RoutingService} from '../shared/routing.service';\n</code></pre>\n\n<p><code>src/app/shared/routing.service.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RoutingService {\n\n  private requestedPage: string;\n\n  constructor() {\n    this.requestedPage = 'home';\n  }\n\n  requestPage(page: string) {\n    this.requestedPage = page;\n  }\n\n  getRequestedPage() {\n    return this.requestedPage;\n  }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "web"], "comments": [{"owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "edited": false, "score": 0, "creation_date": 1563352507, "post_id": 57071633, "comment_id": 100667239, "body": "What are the URL paths for B and C."}], "answers": [{"tags": [], "owner": {"reputation": 1739, "user_id": 6561293, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/RusOP.jpg?s=128&g=1", "display_name": "Akash Agrawal", "link": "https://stackoverflow.com/users/6561293/akash-agrawal"}, "is_accepted": false, "score": 0, "last_activity_date": 1563352421, "creation_date": 1563352421, "answer_id": 57071754, "question_id": 57071633, "link": "https://stackoverflow.com/questions/57071633/different-routes-same-component-in-angular-7/57071754#57071754", "title": "Different routes same component in Angular 7", "body": "<p>This is happening because Angular doesn't maintain the state by default. However, you can make it do it by the following:</p>\n\n<pre><code>ngOnInit(){\n    window.history.pushState( {} , 'ComponentName', '/path' );\n}\n</code></pre>\n\n<p>You can write a service which will push the new state everytime you navigate to some component. Once you maintain the state, then pressing the back button will take you to that component.</p>\n\n<p>I've not tested this but it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 321, "user_id": 11133494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad1748cbfa371d61d910f4a5ea27f0d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/11133494/matt"}, "is_accepted": false, "score": 0, "last_activity_date": 1563352838, "creation_date": 1563352838, "answer_id": 57071853, "question_id": 57071633, "link": "https://stackoverflow.com/questions/57071633/different-routes-same-component-in-angular-7/57071853#57071853", "title": "Different routes same component in Angular 7", "body": "<p>One way to fix this in a somewhat angular way is to create two new components and have the only html in each just the selector for the desired component. Then in the router just define the component as one of the two new components and Angular will register them as different components and fix the issue. Ive ran into this problem before and this was the easiest most straightforward solution I found.</p>\n"}], "owner": {"reputation": 11, "user_id": 11796314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe535271c3f986c3a8bf25e22071a02?s=128&d=identicon&r=PG&f=1", "display_name": "avatarAng", "link": "https://stackoverflow.com/users/11796314/avatarang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1563352838, "creation_date": 1563351998, "question_id": 57071633, "link": "https://stackoverflow.com/questions/57071633/different-routes-same-component-in-angular-7", "title": "Different routes same component in Angular 7", "body": "<p>I use the same component for different routes but when I navigate between routes of the same component the URL is getting changed but page content is the same. </p>\n\n<p>I used this solution:</p>\n\n<pre><code>constructor(route:ActivatedRoute) {\n  route.url.subscribe(val =&gt; {\n     //Code Here\n  });\n}\n</code></pre>\n\n<p>I now have the expected behavior but another problem: Angular does not save the previous URL in the browser history.</p>\n\n<p>If the flow is: A -> B -> C where B and C are the same component, if I click on the back button in the browser, I navigate to A instead of B.</p>\n"}, {"tags": ["angular", "typescript", "angular-datatables"], "comments": [{"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "edited": false, "score": 0, "creation_date": 1563351862, "post_id": 57071542, "comment_id": 100666906, "body": "Can you share in stackbiltz"}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 0, "creation_date": 1563363016, "post_id": 57071542, "comment_id": 100672928, "body": "There are some issues in your html file."}, {"owner": {"reputation": 21, "user_id": 11796301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZyogkeI_bQ4/AAAAAAAAAAI/AAAAAAAAAIc/1xJXA7qzhbU/photo.jpg?sz=128", "display_name": "Shashikant Maurya", "link": "https://stackoverflow.com/users/11796301/shashikant-maurya"}, "reply_to_user": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 0, "creation_date": 1563363301, "post_id": 57071542, "comment_id": 100673084, "body": "@MukeshKumar can you guide me what is the issue"}, {"owner": {"reputation": 496, "user_id": 1314769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42c212be732b7c16a123d893a706cf16?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Kumar", "link": "https://stackoverflow.com/users/1314769/mukesh-kumar"}, "edited": false, "score": 0, "creation_date": 1563363670, "post_id": 57071542, "comment_id": 100673258, "body": "I have updated the html code. Also check the browser console after clicking the rerender button. If there is an error in the console then share that too."}], "answers": [{"tags": [], "owner": {"reputation": 3238, "user_id": 7404943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/364eff21ecce181be48b17e7208397e2?s=128&d=identicon&r=PG&f=1", "display_name": "barbsan", "link": "https://stackoverflow.com/users/7404943/barbsan"}, "is_accepted": false, "score": 0, "last_activity_date": 1563366705, "last_edit_date": 1563366705, "creation_date": 1563366161, "answer_id": 57075763, "question_id": 57071542, "link": "https://stackoverflow.com/questions/57071542/unable-to-refresh-the-angular-datatable-after-filter/57075763#57075763", "title": "Unable to Refresh the Angular Datatable after filter?", "body": "<p>Your <code>.filter</code>'s callback doesn't return any value.\n<br> \nTry one of following options (they all return the same result):</p>\n\n<pre><code>this.tableFilterData = this.auditDetails.filter((obj) =&gt; {\n    return obj.action == 'Create'; \n});\n</code></pre>\n\n<p>or </p>\n\n<pre><code>this.auditDetails.filter((obj) =&gt; (obj.action == 'Create'));\n</code></pre>\n\n<p>or </p>\n\n<pre><code>this.auditDetails.filter(({action}) =&gt; (action == 'Create'));\n</code></pre>\n\n<p>PS. Seems that your <code>*ngFor</code> is missing closing quotation mark:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr *ngFor='let audit of tableFilterData' id=\"audit_{{audit.id}}\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11796301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ZyogkeI_bQ4/AAAAAAAAAAI/AAAAAAAAAIc/1xJXA7qzhbU/photo.jpg?sz=128", "display_name": "Shashikant Maurya", "link": "https://stackoverflow.com/users/11796301/shashikant-maurya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563366705, "creation_date": 1563351682, "last_edit_date": 1563365363, "question_id": 57071542, "link": "https://stackoverflow.com/questions/57071542/unable-to-refresh-the-angular-datatable-after-filter", "title": "Unable to Refresh the Angular Datatable after filter?", "body": "<p>I am using Angular Datatable in my angular 4, I am triggering a function on button click which filter the data, but the table is not updated. Any suggestion?</p>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button (click)=\"filterData()\"&gt;Rerender&lt;/button&gt;\n\n&lt;table datatable [dtOptions]=\"dtOptions\" [dtTrigger]=\"dtTrigger\" id=\"activity\" class=\"table table-bordered table-hover\"&gt;\n    &lt;thead #stickyMenu [class.sticky] =\"sticky\"&gt;\n        &lt;tr&gt;\n          &lt;th&gt;Time&lt;/th&gt;\n          &lt;th&gt;Entity&lt;/th&gt;\n          &lt;th&gt;Action&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;tr *ngFor = 'let audit of tableFilterData id=\"audit_{{audit.id}}\"&gt;\n          &lt;td&gt;{{audit.time}}&lt;/td&gt;\n          &lt;td&gt;{{audit.entity}}&lt;/td&gt;\n          &lt;td&gt;{{audit.action}}&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p><strong>TS FILE</strong></p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>dtElement: DataTableDirective; \n\nfilterData() {\n    this.tableFilterData = this.auditDetails.filter((obj) =&gt; {\n        obj.action == 'Create'; \n    });\n    this.rerender()\n}\n\nrerender(): void {\n    this.dtElement.dtInstance.then((dtInstance: DataTables.Api) =&gt; {\n        // Destroy the table first\n        dtInstance.destroy();\n        // Call the dtTrigger to rerender again\n        this.dtTrigger.next();\n    });\n} \n</code></pre>\n"}, {"tags": ["angular", "typescript", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 0, "creation_date": 1563350640, "post_id": 57071125, "comment_id": 100666264, "body": "i just tried it and its return me : ERROR TypeError: this.competence.sortArrayByKey is not a function [...]"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 0, "creation_date": 1563350774, "post_id": 57071125, "comment_id": 100666333, "body": "<code>sortArrayByKey </code> is a seperate function. Try adding in after constructor function or at the end"}, {"owner": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 0, "creation_date": 1563350978, "post_id": 57071125, "comment_id": 100666427, "body": "Yes i know its exactly what i did, regardless of the function used after the competence variable, the console returns to me that it is not defined"}, {"owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "reply_to_user": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 0, "creation_date": 1563351412, "post_id": 57071125, "comment_id": 100666685, "body": "Modified the answer, please check"}, {"owner": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 0, "creation_date": 1563355529, "post_id": 57071125, "comment_id": 100668964, "body": "any of your solution working for me, I got this error in my log : ERROR Error: Cannot find a differ supporting object &#39;[object Object]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays. But with your solution my site compiles, but the items are not sorted"}, {"owner": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "edited": false, "score": 1, "creation_date": 1563356155, "post_id": 57071125, "comment_id": 100669343, "body": "I edited your first solution (service) its now working! I just had to return directly the formation variable. Thanks :)"}], "tags": [], "owner": {"reputation": 17679, "user_id": 7603109, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BoIE4.png?s=128&g=1", "display_name": "Adrita Sharma", "link": "https://stackoverflow.com/users/7603109/adrita-sharma"}, "is_accepted": true, "score": 2, "last_activity_date": 1563351396, "last_edit_date": 1563351396, "creation_date": 1563350280, "answer_id": 57071125, "question_id": 57071062, "link": "https://stackoverflow.com/questions/57071062/how-to-order-firestore-collection-in-angular-typescript/57071125#57071125", "title": "How to order FireStore collection in angular Typescript", "body": "<p>Try like this:</p>\n\n<p>My firebase.service :</p>\n\n<pre><code>this.competence = this.firestore.collection(path, ref =&gt; ref.orderBy('pos'));\n</code></pre>\n\n<p>or sort in component.</p>\n\n<p>My component ts :</p>\n\n<pre><code> getComp = () =&gt;\n    this.firebaseService\n      .getCompetence()\n      .subscribe(res =&gt; (this.competence = this.sortArrayByKey(res,'pos'));\n</code></pre>\n\n<p>and add <code>sortArrayByKey</code> function:</p>\n\n<pre><code>sortArrayByKey(Array:any[], Key:string) {\n    return Array.sort(function (a, b) {\n      return a[Key] - b[Key];\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11743069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f_hfX2Q3Jdo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rctqC3_fnohsmj0IGp716V-yalS9w/photo.jpg?sz=128", "display_name": "Nassim El gazzah", "link": "https://stackoverflow.com/users/11743069/nassim-el-gazzah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 57071125, "answer_count": 1, "score": 1, "last_activity_date": 1563352697, "creation_date": 1563350093, "last_edit_date": 1563352697, "question_id": 57071062, "link": "https://stackoverflow.com/questions/57071062/how-to-order-firestore-collection-in-angular-typescript", "title": "How to order FireStore collection in angular Typescript", "body": "<p>I am using Firestore in angular, I would like to show a collection ordered by an attribute <code>pos</code>, I have no issue with importing the collection but I have no idea how to order it.</p>\n\n<p>I tried to follow some tutorial which uses the function <code>orderBy('pos')</code> but the console return me : </p>\n\n<pre><code>ERROR TypeError: this.competence.orderBy is not a function\n    at FirebaseService.fireBaseRequest (main.js:401)\n    at FirebaseService.getCompetence (main.js:405)\n    at HomePageComponent.getComp (main.js:298)\n    at HomePageComponent.ngOnInit (main.js:305)\n    at checkAndUpdateDirectiveInline (vendor.js:87496)\n    at checkAndUpdateNodeInline (vendor.js:98156)\n    at checkAndUpdateNode (vendor.js:98095)\n    at prodCheckAndUpdateNode (vendor.js:98949)\n    at Object.eval [as updateDirectives] (ng:///AppModule/Home\u2026ost.ngfactory.js:10)\n    at Object.updateDirectives (vendor.js:98569)\ndefaultErrorLogger  @   vendor.js:70180\n\n</code></pre>\n\n<p>My firebase.service :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nimport {Injectable} from '@angular/core';\nimport {HttpClient, HttpErrorResponse} from '@angular/common/http';\nimport {AngularFirestore} from '@angular/fire/firestore';\n\n\n@Injectable({\n  providedIn: 'root'\n})\n\nexport class FirebaseService {\n\n\n  competence;\n\n  constructor(private firestore: AngularFirestore) {\n  }\n\n  fireBaseRequest(path) {\n    this.competence = this.firestore.collection(path);\n    this.competence = this.competence.orderBy('pos').get();\n    return this.firestore.collection(path).snapshotChanges();\n\n\n  getFormation() {\n    return this.fireBaseRequest('formations');\n  }\n  }\n\n}\n</code></pre>\n\n<p>My component Html : </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>      &lt;!--      Formation--&gt;\n      &lt;mat-card *ngFor=\"let formation of filterBy('pos') \" class=\"mb-3\"&gt;\n        &lt;mat-card-title&gt;\n          {{formation.payload.doc.data().titre}}\n        &lt;/mat-card-title&gt;\n        &lt;mat-card-subtitle&gt;\n          {{formation.payload.doc.data().lieu}}\n          &lt;p&gt;{{formation.payload.doc.data().date}}&lt;/p&gt;\n        &lt;/mat-card-subtitle&gt;\n        &lt;mat-card-content&gt;\n          {{formation.payload.doc.data().description}}\n        &lt;/mat-card-content&gt;\n\n\n      &lt;/mat-card&gt;\n</code></pre>\n\n<p>My component ts : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {Component, OnInit} from '@angular/core';\nimport {FirebaseService} from '../services/firebase.service';\n\n@Component({\n  selector: 'app-home-page',\n  templateUrl: './home-page.component.html',\n  styleUrls: ['./home-page.component.css']\n})\nexport class HomePageComponent implements OnInit {\n  competence;\n  formations;\n\n\n  getComp = () =&gt;\n    this.firebaseService\n      .getCompetence()\n      .subscribe(res =&gt; (this.competence = res));\n\n  getFormation = () =&gt;\n    this.firebaseService\n      .getFormation()\n      .subscribe(res =&gt; (this.formations = res));\n\n\n  constructor(private firebaseService: FirebaseService) {\n  }\n\n  ngOnInit() {\n    this.competence = this.getComp();\n    this.formations = this.getFormation();\n    if (window.innerWidth &lt; 768) {\n      this.cols = '4';\n      this.rowHeight = '4:5';\n    }\n\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1563348743, "post_id": 57070672, "comment_id": 100665272, "body": "please add you test code, or a stackblitz"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1563348859, "post_id": 57070672, "comment_id": 100665323, "body": "It is probably just a mismatch of data types. Maybe you can show us the structure of the data you are receiving?"}, {"owner": {"reputation": 2342, "user_id": 8325761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x3NZk.jpg?s=128&g=1", "display_name": "bubbles", "link": "https://stackoverflow.com/users/8325761/bubbles"}, "edited": false, "score": 0, "creation_date": 1563349513, "post_id": 57070672, "comment_id": 100665693, "body": "is this <code>rjf: [RJFData]; correct</code>in <code>SectionData</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 1897055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95f5564c5c05206372bf89d92c8f138f?s=128&d=identicon&r=PG", "display_name": "Haim Houri", "link": "https://stackoverflow.com/users/1897055/haim-houri"}, "is_accepted": true, "score": 0, "last_activity_date": 1563348995, "creation_date": 1563348995, "answer_id": 57070772, "question_id": 57070672, "link": "https://stackoverflow.com/questions/57070672/types-of-property-sections-are-incompatible/57070772#57070772", "title": "Types of property &#39;sections&#39; are incompatible", "body": "<p>Your rjft under sections is not enclosed in [].</p>\n\n<p>Either add the item to an array or change the typings to be rjft: RFJTData</p>\n"}], "owner": {"reputation": 169, "user_id": 11537272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-spgk5kzBfzg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3resAubbUhQb_fcCEqQREATzcfXUSA/mo/photo.jpg?sz=128", "display_name": "user007", "link": "https://stackoverflow.com/users/11537272/user007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 408, "favorite_count": 0, "accepted_answer_id": 57070772, "answer_count": 1, "score": 0, "last_activity_date": 1563349059, "creation_date": 1563348612, "last_edit_date": 1563349059, "question_id": 57070672, "link": "https://stackoverflow.com/questions/57070672/types-of-property-sections-are-incompatible", "title": "Types of property &#39;sections&#39; are incompatible", "body": "<p>I'm working on an angular app. My program is working fine.</p>\n\n<p>But in my spec file I'm getting the below error.</p>\n\n<pre><code>Argument of type '{ type: string; sections: { rjf: { type: string; text: string; depth: number; inlineEntityRanges: any[]; inlineStyleRanges: any[]; }[]; type: string; }[]; }[]' is not assignable to parameter of type 'AreasData[]'.\n  Type '{ type: string; sections: { rjf: { type: string; text: string; depth: number; inlineEntityRanges: any[]; inlineStyleRanges: any[]; }[]; type: string; }[]; }' is not assignable to type 'AreasData'.\n    Types of property 'sections' are incompatible.\n      Property '0' is missing in type '{ rjf: { type: string; text: string; depth: number; inlineEntityRanges: any[]; inlineStyleRanges: any[]; }[]; type: string; }[]' but required in type '[SectionData]'.ts(2345)\n</code></pre>\n\n<p>This is function,   <code>contentDataGrouping(content: Array&lt;AreasData&gt;) {}</code> no error in ts file.</p>\n\n<p>My spec, </p>\n\n<pre><code>  it('should group all list and accordion items', () =&gt; {\n    const obj = contentService.contentDataGrouping(CONTENT_SERVICE_INPUT);\n    expect(JSON.stringify(obj)).toEqual(JSON.stringify(CONTENT_SERVICE_OUTPUT));\n  });\n</code></pre>\n\n<p>This is the mock which i'm sending it as input to <code>contentDataGrouping</code></p>\n\n<pre><code>export const CONTENT_SERVICE_INPUT=[{type:\"column\",sections:[{rjf:[{type:\"heading-1\",text:\"This is sample\",depth:0,inlineEntityRanges:[],inlineStyleRanges:[]}],type:\"title\"}]},{type:\"accordion-item\",sections:[{type:\"accordion-title\",rjf:[{type:\"heading-1\",text:\"This is Accordion Heading 1\"}]},{type:\"accordion-body\",value:\"accordion-body2\",rjf:[{type:\"paragraph\",text:\"This is Accordion paragraph\"}]}]},{type:\"accordion-item\",sections:[{type:\"accordion-title\",rjf:[{type:\"heading-1\",text:\"This is Accordion Heading 2\"}]},{type:\"accordion-body\",value:\"accordion-body2\",rjf:[{type:\"paragraph\",text:\"This is Accordion paragraph 2\"}]}]}];\n</code></pre>\n\n<p>Below are my types,</p>\n\n<pre><code>export interface AreasData {\n  type?: string | null;\n  sections: [SectionData];\n  items?: (AreasData)[] | null;\n}\n\nexport interface SectionData {\n  type?: string | null;\n  rjf: [RJFData];\n}\n\nexport interface RJFData {\n  depth?: number | null;\n  inlineEntityRanges?: EntityData[];\n  inlineStyleRanges?: StyleData[];\n  text: string | null;\n  type: string | null;\n  data?: any;\n}\n</code></pre>\n\n<p>Please help what I'm doing wrong here.</p>\n"}, {"tags": ["html", "css", "angular", "typescript"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1563347543, "post_id": 57070319, "comment_id": 100664609, "body": "Attach <code>mouseenter</code> and <code>mouseleave</code> events to the image. In the events, change the app state. In the template, add a class like <code>underlined</code> to your div based on the app state. In your CSS, put <code>.underlined { text-decoration: underline }</code>"}, {"owner": {"reputation": 310, "user_id": 8703627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OZu3b.jpg?s=128&g=1", "display_name": "Viktor1903", "link": "https://stackoverflow.com/users/8703627/viktor1903"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1563347637, "post_id": 57070319, "comment_id": 100664667, "body": "If its possible, can you show me a small example?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1563348221, "post_id": 57070319, "comment_id": 100664986, "body": "Very basic one: <a href=\"https://codesandbox.io/s/angular-l51os\" rel=\"nofollow noreferrer\">codesandbox.io/s/angular-l51os</a> (check the <code>app</code> folder)"}, {"owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "edited": false, "score": 0, "creation_date": 1563348422, "post_id": 57070319, "comment_id": 100665108, "body": "@ChriG, sorry, I didn&#39;t see you were answering in the comment :("}], "answers": [{"tags": [], "owner": {"reputation": 23496, "user_id": 5468463, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eafc92b719d65512cded4c5087892ff?s=128&d=identicon&r=PG&f=1", "display_name": "Vega", "link": "https://stackoverflow.com/users/5468463/vega"}, "is_accepted": true, "score": 2, "last_activity_date": 1563348319, "creation_date": 1563348319, "answer_id": 57070601, "question_id": 57070319, "link": "https://stackoverflow.com/questions/57070319/hover-over-an-element-to-put-effect-on-another-element-that-is-not-adjacent-or-a/57070601#57070601", "title": "Hover over an element to put effect on another element that is not adjacent or a sibling", "body": "<p>Indeed, you don't need jquery, Angular has it all :)</p>\n\n<p>You would need to add mouseneter and mouseleave events to the img tag with a property to set hovered state and change the class attribute on the title tag. The rest is in CSS</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class='big class'&gt;\n     &lt;div class='title' [class.foo]=\"hovered\"&gt;\n          &lt;p&gt; This is a text that I want to be underlined when hovering over the img element &lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;img class='image' (mouseenter)=\"hovered=true\" (mouseleave)=\"hovered=false\" \n [src]=\"some image source\"/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>.foo{\n  text-decoration: underline;\n  text-decoration-color: red\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-b7ao6g\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 310, "user_id": 8703627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OZu3b.jpg?s=128&g=1", "display_name": "Viktor1903", "link": "https://stackoverflow.com/users/8703627/viktor1903"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57070601, "answer_count": 1, "score": 1, "last_activity_date": 1563348319, "creation_date": 1563347271, "last_edit_date": 1563348003, "question_id": 57070319, "link": "https://stackoverflow.com/questions/57070319/hover-over-an-element-to-put-effect-on-another-element-that-is-not-adjacent-or-a", "title": "Hover over an element to put effect on another element that is not adjacent or a sibling", "body": "<p>I know that it is possible to achieve this using jquery but I want an approach it without jquery since I am working with an angular app. What I want to do is when I hover over an <code>img</code> element, I want to put <code>text-decoration: underline</code> in div with class <code>title</code>. Keep in mind however that the elements are neither siblings nor adjacent to each other. Is it possible to achieve this in any way using CSS or maybe something of Angular?</p>\n\n<pre><code>&lt;div class='big class'&gt;\n     &lt;div class='title'&gt;\n          &lt;p&gt; This is a text that I want to be underlined when hovering over the img element &lt;/p&gt;\n     &lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;div&gt;..........&lt;/div&gt;\n     &lt;img class='image' [src]=\"some image source\"/&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "vue.js"], "comments": [{"owner": {"reputation": 3246, "user_id": 7126139, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/tRZYM.jpg?s=128&g=1", "display_name": "yuval.bl", "link": "https://stackoverflow.com/users/7126139/yuval-bl"}, "edited": false, "score": 0, "creation_date": 1563346531, "post_id": 57070091, "comment_id": 100664063, "body": "Have you tried writing <code>orderedRegions</code> as an arrow function?"}, {"owner": {"reputation": 4291, "user_id": 5122581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lx09Q.png?s=128&g=1", "display_name": "Phillip", "link": "https://stackoverflow.com/users/5122581/phillip"}, "edited": false, "score": 0, "creation_date": 1563346970, "post_id": 57070091, "comment_id": 100664284, "body": "Yes either use arrow functions or shorthand function definitions in your <code>computed</code>-object"}, {"owner": {"reputation": 1, "user_id": 11795762, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fhuWNmv3mPE/AAAAAAAAAAI/AAAAAAAAAC8/afiD33k4uwo/photo.jpg?sz=128", "display_name": "Jeff Halverson", "link": "https://stackoverflow.com/users/11795762/jeff-halverson"}, "edited": false, "score": 0, "creation_date": 1563350512, "post_id": 57070091, "comment_id": 100666207, "body": "I think I have tried both the arrow functions and the shorthand function, as per the edited above, but I still get the same problems.  Typescript seems to think my scope is the function, not the Vue object.  Am I doing something wrong here?"}], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 8769328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/893c61079c7f944dbb51d3e3f211441c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Walters", "link": "https://stackoverflow.com/users/8769328/jeremy-walters"}, "is_accepted": false, "score": 0, "last_activity_date": 1563455527, "creation_date": 1563455527, "answer_id": 57095341, "question_id": 57070091, "link": "https://stackoverflow.com/questions/57070091/problem-using-computed-property-with-typescript-to-sort-array/57095341#57095341", "title": "Problem using computed property with Typescript to sort array", "body": "<p>Well for my typescript project I use class based api. If you use class based api, you can just have a <code>get function</code> which order the list. The getter get identified as computed function.</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;div v-for=\"item of orderedList\" :key=\"item\" xs3&gt;{{ item }}&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script lang=\"ts\"&gt;\n/** TODO: This component is very similar than the all orders component\n * We can really merge these 2 components some time in the future\n */\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\n@Component\nexport default class List extends Vue {\n    private unorderedList = [\"zTest\", \"fTest\", \"aTest\", \"gTest\"];\n\n    get orderedList() {\n        return this.unorderedList.sort();\n    }\n}\n&lt;/script&gt;\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2110, "user_id": 1617550, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f331f3542df8f3eb2522375f8f789a1?s=128&d=identicon&r=PG", "display_name": "mwarren", "link": "https://stackoverflow.com/users/1617550/mwarren"}, "is_accepted": false, "score": 0, "last_activity_date": 1589544919, "last_edit_date": 1589544919, "creation_date": 1589535227, "answer_id": 61816117, "question_id": 57070091, "link": "https://stackoverflow.com/questions/57070091/problem-using-computed-property-with-typescript-to-sort-array/61816117#61816117", "title": "Problem using computed property with Typescript to sort array", "body": "<p>You can just pass the regions to the <code>orderedRegions</code> function, then you don't have the <code>this</code> problem when in the function itself.</p>\n\n<pre><code>orderedRegions(myRegions: Region[]) : Region[] {\n    function compare(x : Region, y: Region) {\n        if (x.name &lt; y.name) {\n            return -1;\n        }\n        if (x.name &gt; y.name) {\n            return 1;\n        }\n        return 0;\n    }\n    return myRegions.sort(compare);\n}\n</code></pre>\n\n<p>I have tested this and it works. In fact I have used your sorting function.</p>\n\n<p>It's also better for testing since you don't have to worry about the <code>this</code> context.</p>\n"}], "owner": {"reputation": 1, "user_id": 11795762, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fhuWNmv3mPE/AAAAAAAAAAI/AAAAAAAAAC8/afiD33k4uwo/photo.jpg?sz=128", "display_name": "Jeff Halverson", "link": "https://stackoverflow.com/users/11795762/jeff-halverson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 598, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1589544919, "creation_date": 1563346309, "last_edit_date": 1563350165, "question_id": 57070091, "link": "https://stackoverflow.com/questions/57070091/problem-using-computed-property-with-typescript-to-sort-array", "title": "Problem using computed property with Typescript to sort array", "body": "<p>I am trying to use Vue in a typescript single page application, where a series of arrays need shown in lists on screen but need to be shown sorted. Seems like a simple and straightforward problem, but none of the examples I have seem to work in Typescript. Can someone give me a working example on how you can get typescript to accept a Vue computed function from an array in the Vue data?</p>\n\n<p>I have made an orderedRegions computed function in the Vue config.  This is supposed to return a sorted version of the Vue data object called \"Regions\".  The intended result is that ordredRegions will return the same list sorted alphabetically.</p>\n\n<pre><code>    computed: {\n      orderedRegions: function () : Region[] {\n        function compare(x : Region, y: Region) {\n          if (x.name &lt; y.name) {\n            return -1;\n          }\n          if (x.name &gt; y.name) {\n            return 1;\n          }\n          return 0;\n        }\n        return this.Regions.sort(compare);\n      }\n    }\n</code></pre>\n\n<p>I have determined that if I strip out the typescript parts, and insert this into my compiled javascript file it does indeed work, but the typescript will not compile because the \"this.Regions\" object is shown as an error as not existing.  It appears Typescript in Visual Studio Code is expecting \"this\" to refer to the function scope, not the Vue scope.</p>\n\n<p>Any thoughts on how I make Typescript happy with this?</p>\n\n<p>..additional attempts based on feedback:\n1) I tried using \"shorthand\" as per below, but appears to have same results. \"this\" is referring to the function, not Vue, and Typescript gives the error : \"Property 'Regions' does not exist on type '{ sortedRegions: () => any; orderedRegions(): Region[]; }\" </p>\n\n<pre><code>orderedRegions() : Region[] {\n    function compare(x : Region, y: Region) {\n        if (x.name &lt; y.name) {\n            return -1;\n        }\n            if (x.name &gt; y.name) {\n            return 1;\n        }\n            return 0;\n        }\n        return this.Regions.sort(compare);\n    }\n</code></pre>\n\n<p>2) I have also tried the arrow function, and again the same error from Typescript:</p>\n\n<pre><code>orderedRegions: () =&gt; {\n    function compare(x : Region, y: Region) {\n        if (x.name &lt; y.name) {\n            return -1;\n        }\n            if (x.name &gt; y.name) {\n            return 1;\n        }\n            return 0;\n    }\n    return this.Regions.sort(compare);\n}\n</code></pre>\n"}, {"tags": ["typescript", "create-react-app"], "comments": [{"owner": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1563348209, "post_id": 57070052, "comment_id": 100664974, "body": "do you using custom webpack?"}, {"owner": {"reputation": 5791, "user_id": 236243, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NKBCs.jpg?s=128&g=1", "display_name": "Raffaeu", "link": "https://stackoverflow.com/users/236243/raffaeu"}, "reply_to_user": {"reputation": 1796, "user_id": 9955460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8554e7f4c93d6a15bf478e1e64e0e131?s=128&d=identicon&r=PG&f=1", "display_name": "Juraj Kocan", "link": "https://stackoverflow.com/users/9955460/juraj-kocan"}, "edited": false, "score": 0, "creation_date": 1563348379, "post_id": 57070052, "comment_id": 100665080, "body": "Yes, I do use react-app-rewired to customize webpacks"}], "answers": [{"tags": [], "owner": {"reputation": 1532, "user_id": 1336754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KVVE8.jpg?s=128&g=1", "display_name": "Marcus", "link": "https://stackoverflow.com/users/1336754/marcus"}, "is_accepted": false, "score": 6, "last_activity_date": 1584719999, "last_edit_date": 1584719999, "creation_date": 1572004432, "answer_id": 58558041, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias/58558041#58558041", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p><strong>Edit - 20/3/20 - Above answer has a solution with a plugin.</strong> </p>\n\n<p>Had the same problem. At the time of posting it is currently not supported as is. </p>\n\n<p>This feature is still in development with the CRA team:\n<a href=\"https://github.com/facebook/create-react-app/pull/6116\" rel=\"noreferrer\">https://github.com/facebook/create-react-app/pull/6116</a></p>\n\n<p>If you edit the tsconfig CRA removes changes: <a href=\"https://github.com/facebook/create-react-app/issues/6269\" rel=\"noreferrer\">https://github.com/facebook/create-react-app/issues/6269</a></p>\n\n<p>There are some hacks in this thread: <a href=\"https://github.com/facebook/create-react-app/issues/5118\" rel=\"noreferrer\">https://github.com/facebook/create-react-app/issues/5118</a> to get aliases working however require customization to the CRA setup which isn't suitable for my use case (using CRA as is). </p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 2322079, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f926eced649b116059d40f856a73064?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/2322079/brad"}, "edited": false, "score": 0, "creation_date": 1589341587, "post_id": 60598134, "comment_id": 109252477, "body": "I run into the same issue of path alias not working. I&#39;m trying to create a new file under the root folder &quot;config-overrides.js&quot; and did the above.  But when I did yarn start configuring to &quot;react-app-rewired start&quot; it throws &quot;react-app-rewire-alias:configPaths: array expected for paths&quot;. Pls advise"}, {"owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "reply_to_user": {"reputation": 121, "user_id": 2322079, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f926eced649b116059d40f856a73064?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/2322079/brad"}, "edited": false, "score": 0, "creation_date": 1603461805, "post_id": 60598134, "comment_id": 114053178, "body": "Hi @Brad, it is good that you resolved the problem and clarify that <a href=\"https://stackoverflow.com/a/61766504/2969544\">here</a> - I add here the link to others"}, {"owner": {"reputation": 151, "user_id": 8138591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HBggw.jpg?s=128&g=1", "display_name": "Son Xuan Nguyen", "link": "https://stackoverflow.com/users/8138591/son-xuan-nguyen"}, "edited": false, "score": 1, "creation_date": 1613286304, "post_id": 60598134, "comment_id": 117025293, "body": "react-app-rewire-alias also requires you to modify the npm scripts in package.json. Here is my code example if anyone interested: <a href=\"https://github.com/GW-Web-Enterprise/ReactJS/commit/c15eb084596ea8c7c258529ba9117bc88f3071b8\" rel=\"nofollow noreferrer\">github.com/GW-Web-Enterprise/ReactJS/commit/&hellip;</a>. This code example removes the baseUrl compiler option and still keeps back the relative import for files at the src/* root to prevent any confusion might have such as import routes from &#39;src/routes&#39; instead of import routes from &#39;./routes&#39;. Because &#39;src&#39; might make you think there is an external NPM package named &#39;src&#39;"}], "tags": [], "owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "is_accepted": true, "score": 5, "last_activity_date": 1612810381, "last_edit_date": 1612810381, "creation_date": 1583747799, "answer_id": 60598134, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias/60598134#60598134", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p>The solution is <strong><a href=\"https://github.com/oklas/react-app-rewire-alias\" rel=\"nofollow noreferrer\">react-app-rewire-alias</a></strong> (for <a href=\"https://github.com/timarney/react-app-rewired\" rel=\"nofollow noreferrer\">react-app-rewired</a> or <a href=\"https://github.com/arackaf/customize-cra\" rel=\"nofollow noreferrer\">customize-cra</a> or <a href=\"https://github.com/gsoft-inc/craco/blob/master/packages/craco\" rel=\"nofollow noreferrer\">craco</a>) :</p>\n<p>According docs replace <code>react-scripts</code> in <code>package.json</code> and configure next:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// config-overrides.js\nconst {alias, configPaths} = require('react-app-rewire-alias')\n\nmodule.exports = function override(config) {\n  return alias(configPaths('./tsconfig.paths.json'))(config)\n}\n</code></pre>\n<p>Configure aliases in json like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// tsconfig.paths.json\n{\n  &quot;compilerOptions&quot;: {\n    &quot;baseUrl&quot;: &quot;.&quot;,\n    &quot;paths&quot;: {\n      &quot;example/*&quot;: [&quot;example/src/*&quot;],\n      &quot;@library/*&quot;: [&quot;library/src/*&quot;]\n    }\n  }\n}\n</code></pre>\n<p>And add this file in <code>extends</code> section of main typescript config file:</p>\n<pre class=\"lang-js prettyprint-override\"><code>// tsconfig.json\n{\n  &quot;extends&quot;: &quot;./tsconfig.paths.json&quot;,\n  // ...\n}\n</code></pre>\n<p>The worked example using create-reat-app 4.0 with typescript imports file NearSrc.tsx outside of src demonstrate worked solution is <strong><a href=\"https://github.com/oklas/react-app-rewire-alias/tree/2f1888e56ae48057cda6ba87f0af2aab66514372/example/main\" rel=\"nofollow noreferrer\">here</a></strong></p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 8644236, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-wcHwXnvnQ2A/AAAAAAAAAAI/AAAAAAAAAwM/UhMOKPi7uS4/photo.jpg?sz=128", "display_name": "Mike Vargas", "link": "https://stackoverflow.com/users/8644236/mike-vargas"}, "edited": false, "score": 0, "creation_date": 1602393763, "post_id": 61766504, "comment_id": 113702952, "body": "Thanks this working only need add base-tsconfig.json path! testing with React 16.13.1"}], "tags": [], "owner": {"reputation": 121, "user_id": 2322079, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9f926eced649b116059d40f856a73064?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/2322079/brad"}, "is_accepted": false, "score": 1, "last_activity_date": 1615403635, "last_edit_date": 1615403635, "creation_date": 1589344397, "answer_id": 61766504, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias/61766504#61766504", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p>@oklas. I've resolved using the following in config-overrides.js which is the same as above. But Thanks a lot for sharing this answer:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const { alias, configPaths } = require(&quot;react-app-rewire-alias&quot;);\n\nmodule.exports = function override(config) {\n  alias({\n    ...configPaths(&quot;base-tsconfig.json&quot;),\n  })(config);\n  return config;\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1526, "user_id": 1847734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09edd7b8858b53abdc98cfc8d094f5f9?s=128&d=identicon&r=PG", "display_name": "Jon G", "link": "https://stackoverflow.com/users/1847734/jon-g"}, "edited": false, "score": 0, "creation_date": 1597333389, "post_id": 63385127, "comment_id": 112104800, "body": "And then you should be able to use e.g: <code>import Bla from &#39;@components&#47;Bla&#39;;</code>? Where I have created a file at <code>.&#47;components&#47;Bla.tsx</code>."}, {"owner": {"reputation": 1526, "user_id": 1847734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09edd7b8858b53abdc98cfc8d094f5f9?s=128&d=identicon&r=PG", "display_name": "Jon G", "link": "https://stackoverflow.com/users/1847734/jon-g"}, "edited": false, "score": 0, "creation_date": 1597339503, "post_id": 63385127, "comment_id": 112107832, "body": "I turned your steps into a script: <a href=\"https://pastebin.com/KkPUjZBU\" rel=\"nofollow noreferrer\">pastebin.com/KkPUjZBU</a> with the addition of my above comment. Unfortunately it fails with <code>Can&#39;t resolve &#39;@components&#47;Bla&#39;</code>. Did I make a mistake?"}, {"owner": {"reputation": 418, "user_id": 10039155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfS2s.jpg?s=128&g=1", "display_name": "\u0418\u0432\u0430\u043d \u042f\u043a\u043e\u0432\u043b\u0435\u0432", "link": "https://stackoverflow.com/users/10039155/%d0%98%d0%b2%d0%b0%d0%bd-%d0%af%d0%ba%d0%be%d0%b2%d0%bb%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 1526, "user_id": 1847734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09edd7b8858b53abdc98cfc8d094f5f9?s=128&d=identicon&r=PG", "display_name": "Jon G", "link": "https://stackoverflow.com/users/1847734/jon-g"}, "edited": false, "score": 0, "creation_date": 1597348037, "post_id": 63385127, "comment_id": 112111320, "body": "did you create components dir in src directory? If not , you need change absolute path in configs <code>&quot;baseUrl&quot;: &quot;.&#47;src&quot;</code>"}, {"owner": {"reputation": 418, "user_id": 10039155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfS2s.jpg?s=128&g=1", "display_name": "\u0418\u0432\u0430\u043d \u042f\u043a\u043e\u0432\u043b\u0435\u0432", "link": "https://stackoverflow.com/users/10039155/%d0%98%d0%b2%d0%b0%d0%bd-%d0%af%d0%ba%d0%be%d0%b2%d0%bb%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 1526, "user_id": 1847734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09edd7b8858b53abdc98cfc8d094f5f9?s=128&d=identicon&r=PG", "display_name": "Jon G", "link": "https://stackoverflow.com/users/1847734/jon-g"}, "edited": false, "score": 0, "creation_date": 1597348145, "post_id": 63385127, "comment_id": 112111364, "body": "or 61 line <code>cat &gt; components&#47;Bla.tsx</code> change on <code>cat &gt; src&#47;components&#47;Bla.tsx</code>"}, {"owner": {"reputation": 1526, "user_id": 1847734, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/09edd7b8858b53abdc98cfc8d094f5f9?s=128&d=identicon&r=PG", "display_name": "Jon G", "link": "https://stackoverflow.com/users/1847734/jon-g"}, "edited": false, "score": 1, "creation_date": 1597399136, "post_id": 63385127, "comment_id": 112126219, "body": "Ah, got it, thanks. Yes, I am trying to have a components package outside of src. I will try editing <code>&quot;baseUrl&quot;</code>."}], "tags": [], "owner": {"reputation": 418, "user_id": 10039155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZfS2s.jpg?s=128&g=1", "display_name": "\u0418\u0432\u0430\u043d \u042f\u043a\u043e\u0432\u043b\u0435\u0432", "link": "https://stackoverflow.com/users/10039155/%d0%98%d0%b2%d0%b0%d0%bd-%d0%af%d0%ba%d0%be%d0%b2%d0%bb%d0%b5%d0%b2"}, "is_accepted": false, "score": 11, "last_activity_date": 1603682472, "last_edit_date": 1603682472, "creation_date": 1597268812, "answer_id": 63385127, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias/63385127#63385127", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p>In my case ,i solved this issue using <a href=\"https://github.com/gsoft-inc/craco/blob/master/packages/craco\" rel=\"noreferrer\">craco</a> and <a href=\"https://github.com/risenforces/craco-alias\" rel=\"noreferrer\">craco-alias</a></p>\n<ol>\n<li><p>Install <a href=\"https://github.com/gsoft-inc/craco/blob/master/packages/craco\" rel=\"noreferrer\">craco</a> and <a href=\"https://github.com/risenforces/craco-alias\" rel=\"noreferrer\">craco-alias</a> <code>npm install @craco/craco --save</code> and <code>npm i -D craco-alias</code></p>\n</li>\n<li><p>Create <code>tsconfig.paths.json</code> in root directory</p>\n<pre><code>{\n    &quot;compilerOptions&quot;: {\n        &quot;baseUrl&quot;: &quot;./src&quot;,\n        &quot;paths&quot;: {\n           &quot;@components/*&quot; : [&quot;./components/*&quot;]\n         }\n    }\n}\n</code></pre>\n</li>\n<li><p>Extend <code>tsconfig.paths.json</code> in <code>tsconfig.json</code></p>\n<pre><code>{\n    &quot;extends&quot;: &quot;./tsconfig.paths.json&quot;,\n    //default configs...\n} \n</code></pre>\n</li>\n<li><p>Create <code>craco.config.js</code> in root direcory</p>\n<pre><code>  const CracoAlias = require(&quot;craco-alias&quot;);\n\n  module.exports = {\n     plugins: [\n       {\n          plugin: CracoAlias,\n          options: {\n             source: &quot;tsconfig&quot;,\n             // baseUrl SHOULD be specified\n             // plugin does not take it from tsconfig\n             baseUrl: &quot;./src&quot;,\n             /* tsConfigPath should point to the file where &quot;baseUrl&quot; and &quot;paths&quot; \n             are specified*/\n             tsConfigPath: &quot;./tsconfig.paths.json&quot;\n          }\n       }\n    ]\n  };\n</code></pre>\n</li>\n<li><p>in <code>package.json</code> swap <code>&quot;start&quot;: &quot;react-scripts start&quot;</code> with <code>&quot;start&quot;: &quot;craco start&quot;</code></p>\n</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 10813908, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RX2IbOndafg/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hU5rnSDGLYOR71KEuqfGURQkIOxA/mo/photo.jpg?sz=128", "display_name": "Zeeshan", "link": "https://stackoverflow.com/users/10813908/zeeshan"}, "is_accepted": false, "score": -1, "last_activity_date": 1598177133, "creation_date": 1598177133, "answer_id": 63545687, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias/63545687#63545687", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p>Have also solved the solution using <a href=\"https://github.com/gsoft-inc/craco\" rel=\"nofollow noreferrer\">craco</a> with <code>ts-loader</code> - described here: <a href=\"https://stackoverflow.com/a/63545611/10813908\">https://stackoverflow.com/a/63545611/10813908</a></p>\n<p>The stated setup essentially allows CRA to be extended upon by overidding the build-in webpack config via craco and also allows CRA code to directly reference typescript files in the external/shared packages in your mono-repo.</p>\n"}], "owner": {"reputation": 5791, "user_id": 236243, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/NKBCs.jpg?s=128&g=1", "display_name": "Raffaeu", "link": "https://stackoverflow.com/users/236243/raffaeu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17317, "favorite_count": 6, "accepted_answer_id": 60598134, "answer_count": 5, "score": 23, "last_activity_date": 1615403635, "creation_date": 1563346193, "question_id": 57070052, "link": "https://stackoverflow.com/questions/57070052/create-react-app-typescript-3-5-path-alias", "title": "create-react-app Typescript 3.5, Path Alias", "body": "<p>I am trying to setup Path alias in my project by adding these values to tsconfig.json:</p>\n\n<pre><code>  \"compilerOptions\": {\n    \"baseUrl\": \"src\",\n    \"paths\": {\n      \"@store/*\": [\"store/*\"]\n    },\n</code></pre>\n\n<p>And if I create an import, neither IntelliJ or VSCode bother me:</p>\n\n<pre><code>import { AppState } from '@store/index';\n</code></pre>\n\n<p>But when I compile the application I get this warning:</p>\n\n<pre><code>The following changes are being made to your tsconfig.json file:\n  - compilerOptions.paths must not be set (aliased imports are not supported)\n</code></pre>\n\n<p>And it bombs saying it cannot find the reference:</p>\n\n<pre><code>TypeScript error in C:/xyz.tsx(2,26):\nCannot find module '/store'.  TS2307\n</code></pre>\n\n<p>Is there any workaround or it is not supported by <code>create-react-app --typescript</code>?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "edited": false, "score": 0, "creation_date": 1563345934, "post_id": 57069971, "comment_id": 100663756, "body": "i want to filter it at third level using id value. when the id matches the matched object must be removed"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1563346236, "post_id": 57069971, "comment_id": 100663913, "body": "please add the wanted result to the question along with the error, you get."}, {"owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1563346286, "post_id": 57069971, "comment_id": 100663944, "body": "or can we filter the complete nested array by id.. if id matches matched object must be removed"}, {"owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1563346355, "post_id": 57069971, "comment_id": 100663979, "body": "i want the result as whenever id matches the matched id object must be removed from given array"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "edited": false, "score": 0, "creation_date": 1563354710, "post_id": 57070317, "comment_id": 100668456, "body": "hi, thanks for the answer.. when i tried to replicate the answer in angular 6 i&#39;m getting error at 4th line of your code at remove... saying cannot find name remove..."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "edited": false, "score": 1, "creation_date": 1563356174, "post_id": 57070317, "comment_id": 100669356, "body": "did you take the function?"}, {"owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "edited": false, "score": 0, "creation_date": 1563367291, "post_id": 57070317, "comment_id": 100675340, "body": "I did and made few changes as per my requirement.. its working perfect... thanks  for the answer..."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1563348350, "last_edit_date": 1563348350, "creation_date": 1563347269, "answer_id": 57070317, "question_id": 57069971, "link": "https://stackoverflow.com/questions/57069971/filter-is-not-working-for-third-child-level-nested-level/57070317#57070317", "title": "filter is not working for third child level (nested level)", "body": "<p>You could take a dynamic approach and take the children out of the object, check the <code>id</code> and if found, ignore the object.</p>\n\n<p>Otherwise take the children and get a subset with a recursive call and rebuild a new object and push this one to the result set.</p>\n\n<p>This approach does not mutate the original data, but returns all new objects and works for an arbitrary count of levels.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function remove(array, id) {\r\n    return array.reduce((r, { children, ...o }) =&gt; {\r\n        if (o.id === id) return r;\r\n        children = remove(children || [], id);\r\n        if (children.length) o.children = children;\r\n        r.push(o);\r\n        return r;\r\n    }, []);\r\n}\r\n\r\nvar data = [{ children: [{ children: [{ children: [], id: 2694, name: \"Some Random data\" }, { children: [], id: 2695, name: \"Another Random Data\" }], id: 2574, name: \"Test data\", }], id: 2530, name: \"Main Test data\" }, { children: [{ children: [{ children: [], id: 2696, name: \"Secondary test Data\" }, { children: [], id: -1, name: \"Random Text\" }], id: 2575, name: \"Another random Text\" }], id: 2531, name: \"New Data\" }],\r\n    result = remove(data, 2574);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1631, "user_id": 8090014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25b9fa1f4e1d861cace597ca5004227?s=128&d=identicon&r=PG", "display_name": "ahmeticat", "link": "https://stackoverflow.com/users/8090014/ahmeticat"}, "is_accepted": false, "score": 1, "last_activity_date": 1563366086, "creation_date": 1563366086, "answer_id": 57075737, "question_id": 57069971, "link": "https://stackoverflow.com/questions/57069971/filter-is-not-working-for-third-child-level-nested-level/57075737#57075737", "title": "filter is not working for third child level (nested level)", "body": "<p>You can use recursive function.</p>\n\n<p>For example, like this</p>\n\n<pre><code>function removeById(_id,arr){\n    if(arr.id === _id){\n    return true;\n  }else{\n    arr.children.forEach(currentItem =&gt; {\n        if(getById(_id,currentItem)){\n            arr.children = arr.children.filter(x=&gt;x.id !== _id);\n        }\n    });\n  }\n}\n</code></pre>\n\n<p>and using this function </p>\n\n<pre><code>removeById(2694,array[0]);\nremoveById(2694,array[1]);\n</code></pre>\n\n<p>please examine <a href=\"https://jsfiddle.net/hybersoar/mfw9o845/\" rel=\"nofollow noreferrer\">example</a></p>\n"}], "owner": {"reputation": 45, "user_id": 11088031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95b746230efbe7681d50e1ec91607cf?s=128&d=identicon&r=PG&f=1", "display_name": "Phani Kumar Devu", "link": "https://stackoverflow.com/users/11088031/phani-kumar-devu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 57070317, "answer_count": 2, "score": 1, "last_activity_date": 1563366086, "creation_date": 1563345857, "last_edit_date": 1563350299, "question_id": 57069971, "link": "https://stackoverflow.com/questions/57069971/filter-is-not-working-for-third-child-level-nested-level", "title": "filter is not working for third child level (nested level)", "body": "<p>I'm trying to filter an array having nested level of 3.. I have to filter this array at the last level.  </p>\n\n<pre><code>array = [{\n    children: [{\n        children: [{\n            children: [],\n            id: 2694,\n            name: \"Some Random data\"\n        }, {\n            children: [],\n            id: 2695,\n            name: \"Another Random Data\"\n        }],\n        id: 2574,\n        name: \"Test data\",\n    }],\n    id: 2530,\n    name: \"Main Test data\"\n}, {\n    children: [{\n        children: [{\n            children: [],\n            id: 2696,\n            name: \"Secondary test Data\"\n        }, {\n            children: [],\n            id: -1,\n            name: \"Random Text\"\n        }],\n        id: 2575,\n        name: \"Another random Text\"\n    }],\n    id: 2531,\n    name: \"New Data\"\n}]\n</code></pre>\n\n<p>I have tried this function</p>\n\n<pre><code>function(random){\n\nlet array3=[];\nthis.array.forEach(cap=&gt;{\n     let tempparent={...cap};\n     let child1= tempparent.children.forEach(ch=&gt;{\n       let tempfeat={...ch};\n       let tempchildren = tempfeat.children.filter(fe=&gt;{\n        if(fe.id!=random.id){\n          return fe\n        }\n       });\n     //  console.log(tempchildren)\n       tempfeat.children = tempchildren;\n     //  console.log(tempfeat.children)\n     });\n     console.log(child1)\n     tempparent.children= child1;\n     console.log(tempparent.children)\n     nodes3.push(tempparent)\n   })\n   this.array= array3\n   console.log(this.array);\n}\n</code></pre>\n\n<p>I want to filter it at third level using id value. when the id matches the matched object must be removed.</p>\n"}, {"tags": ["typescript", "typescript-typings"], "comments": [{"owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "edited": false, "score": 0, "creation_date": 1563345592, "post_id": 57069802, "comment_id": 100663603, "body": "Are you sure you can export as <code>const</code>, which has special meaning in Typescript?"}, {"owner": {"reputation": 910, "user_id": 2484110, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0e3ed8a51571424f6b12eb7de44770a6?s=128&d=identicon&r=PG", "display_name": "Justin AnyhowStep", "link": "https://stackoverflow.com/users/2484110/justin-anyhowstep"}, "edited": false, "score": 1, "creation_date": 1563346537, "post_id": 57069802, "comment_id": 100664066, "body": "No easy way at the moment but here is an issue tracking a feature request that will help, <a href=\"https://github.com/microsoft/TypeScript/issues/31062\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/issues/31062</a>"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "reply_to_user": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "edited": false, "score": 0, "creation_date": 1563347616, "post_id": 57069802, "comment_id": 100664654, "body": "@zmbq, My experience is that I can export. Anyway I&#39;ll delete the export statement as it&#39;s irrelevant to the question :-)"}], "answers": [{"comments": [{"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1563351804, "post_id": 57070473, "comment_id": 100666872, "body": "Thanks! The function returned from asConst expects 3 type params, but for <code>COST_FILTER</code> it only receives one type param. Am I missing something?"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 1, "creation_date": 1563352252, "post_id": 57070473, "comment_id": 100667115, "body": "@BenCarp it&#39;s a curried function. Since we don&#39;t have partial type argument inference we need to specify the target interface in the first call <code>asConst&lt;IFilterBase&gt;()</code> and then call the returned function"}, {"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1576487378, "post_id": 57070473, "comment_id": 104901848, "body": "Is there a way for as const to call the inner function imediately, so it&#39;s usage is more friendly? Something like: <code>const COST_FILTER = asConst&lt;IFilterBase&gt;({objLiteral})</code>"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 1, "creation_date": 1576487573, "post_id": 57070473, "comment_id": 104901934, "body": "@BenCarp unfortunately no. I use a bunch of generic type parameters on the inner function, putting all of them on <code>asConst</code> means we either let all of them be inferred or all of the are specified, what we want is to specify <code>IFilterBase</code> while letting the compiler infer the rest which is not possible without the fabled partial argument inference (<a href=\"https://github.com/microsoft/TypeScript/pull/26349\" rel=\"nofollow noreferrer\">github.com/microsoft/TypeScript/pull/26349</a>)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": false, "score": 6, "last_activity_date": 1563357213, "last_edit_date": 1563357213, "creation_date": 1563347832, "answer_id": 57070473, "question_id": 57069802, "link": "https://stackoverflow.com/questions/57069802/as-const-is-ignored-when-there-is-a-type-definition/57070473#57070473", "title": "As const is ignored when there is a type definition", "body": "<p>If you specify the type explicitly typescript will only check for compatibility with the interface. There is a proposal as outlined in comments to support this in the language.</p>\n\n<p>Until that happens, we can play around with the inference rules for a functions and tuples and literals:</p>\n\n<ul>\n<li>A literal type will be inferred (or better said preserved) if it is assigned in a position that is typed as a generic type parameter constrained to a type that can have literals</li>\n<li>A tuple will be inferred if an array is assigned to a position that is typed as a generic type parameter constrained to <code>[unknown] | unknown[]</code>.</li>\n</ul>\n\n<p>With these rules, we can just create a recursive mapped type to map the properties of the original type to a new type that contains such generic type parameters. We don't separate type parameters for every property, one parameter will do for literals and one for tuples. This is just enough to hint to the compiler what we want.</p>\n\n<pre><code>\ntype WithLiterals&lt;T, L, LTuple&gt; =  \n    T extends string| number | boolean | null | undefined ? T &amp; L :\n    {\n        [P in keyof T]: \n            WithLiterals&lt;T[P], L, LTuple&gt; &amp; (T[P] extends Array&lt;any&gt; ? LTuple: unknown)\n    }\n\ntype DeepReadonly&lt;T&gt; = {\n    readonly [P in keyof T]: DeepReadonly&lt;T[P]&gt;\n}\n\nfunction asConst&lt;TInterface&gt;()\n{\n    return function&lt;\n        LTuple extends [unknown] | unknown[],\n        L extends string | boolean | number, T extends WithLiterals&lt;TInterface, L, LTuple&gt;&gt;(o: T): DeepReadonly&lt;T&gt; {\n        return o as any\n    }\n}\n\ntype IFilterBase = {\n    type: \"cost\" | \"other\",\n    displayName: string | undefined,\n    nr: number,\n    nrUnion: 1 | 2,\n    subObj : {\n        a: string;\n    }\n    arr: string[]\n    larr: (\"A\" | \"B\")[]\n    mixedarr: (number | string)[],\n    oArray: Array&lt;{\n        a: string\n    }&gt;\n}\n\nexport const COST_FILTER = asConst&lt;IFilterBase&gt;()({\n   type: \"other\",\n   nr: 1,\n   nrUnion: 1,\n   displayName: \"Cost\",\n   subObj: {\n       a: \"A\"\n   },\n   arr: [\"A\", \"B\"],\n   larr: [\"A\"],\n   mixedarr: [1, \"\"],\n   oArray: [\n       { a: \"\"}\n   ]\n})\n\n</code></pre>\n\n<p>Typed as :</p>\n\n<pre><code>export const COST_FILTER : DeepReadonly&lt;{\n    type: \"other\";\n    nr: 1;\n    nrUnion: 1;\n    displayName: \"Cost\";\n    subObj: {\n        a: \"A\";\n    };\n    arr: [\"A\", \"B\"];\n    larr: [\"A\"];\n    mixedarr: [1, \"\"];\n    oArray: [{\n        a: \"\";\n    }];\n}&gt;\n</code></pre>\n\n<p><a href=\"https://typescript-play.js.org/#code/FDAuE8AcFMAIHUCWoAWAZZ0BOBDANgM4A8AKgDSxoVokCuke0AfLALyyzAccmzQAeoaADsAJgVgFQWRMIDmAH1jDaAWwBG2WEvUB7XYxzDty2njwnaY6ADNZ0UbAD8sXgDJKsAFxduAb19ubgBtAAVYWVgAa2hwXRtXAF0vTiC07iRUDCFcQlIwxOpqOgZmWA8AChICvkERcVgAQSxccCIjcBYXGnpGFKso4V0Ad2EASkDYAF8QCBhYABFoaEgAJWgcUV1hPDaSFnYAoKwNrZ3wWDCI4xi4hJJkxeW10+3d-NDEpmAZ4BsrADGoEQ21gOAIAGFtlJSABJYQ5Gw4AHMCoTI7cE6gWhYYz-YRAkHCIiTII9Uq1IRiCTBAZDUaJSzCQYjYTBQqk7hoSn1CRSGTyEx6AwbYxKFQabAUXgCKkNTLoTC5YiwgBiiDwOQAQuDoEVKCVGEwmBVdCkSGMUksVutNm89iwMeksTjjLowRIOpMZr85nA1Rrtbq2LAnbA-SkAEQA3RSSMmSO6VDYSNkSaiRAEBg4cAAORwqmgKX5sjkTNEtnsojTQWEWBSEs0WBr3DrAFVhESUgBGEwAJhbHAItHUAHl1AArbyhzkcHDF6SlgDc3smOBaC4FcnZkzw6-rsAqkca8aUka1kbGO6CqkQ-Ac+5SFUbWiUJfkV45QV0zVaKV-OZEGGQTzpIi7yN63y-AIkC6FgoCwDGwhSLAEKjgAyiQAD6qqwjQACiqwhuCULIaARABpq2A6gQqJjBUToRrAibJlgqaBHWPaDu2nbbFxgQZlme55gWRbMVCcaDsOY6TikwFzlGJ6BFMg6Ppcx6psxF5fhwe4bupJ46bAt73qIanBN2FCRpGRk-i0OYpMEs5+GCUaRjM3CJD8EwgEAA\" rel=\"nofollow noreferrer\">Link</a></p>\n"}, {"comments": [{"owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "edited": false, "score": 0, "creation_date": 1576488893, "post_id": 59353711, "comment_id": 104902639, "body": "@TitianCernicova-Dragomir, What do you think? Seems to work just as well."}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1576585806, "post_id": 59353711, "comment_id": 104940942, "body": "Yeah, that works, if you don&#39;t mind the check being separate from the initialization."}], "tags": [], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "is_accepted": false, "score": 1, "last_activity_date": 1576488391, "creation_date": 1576488391, "answer_id": 59353711, "question_id": 57069802, "link": "https://stackoverflow.com/questions/57069802/as-const-is-ignored-when-there-is-a-type-definition/59353711#59353711", "title": "As const is ignored when there is a type definition", "body": "<p>This could be achieved using a dummy validating function.</p>\n\n<pre><code>const validateType = &lt;T&gt; (obj:T) =&gt; undefined \n</code></pre>\n\n<p>All that is left is to call it with the type and object: </p>\n\n<pre><code>const COST_FILTER: IFilterBase = {\n   type: \"cost\",\n   displayName: \"Cost\",\n   fields: costFilterFields,\n} as const\n\nvalidateType&lt;FilterBase&gt;(COST_FILTER) // Will show an error if types don't match. \n</code></pre>\n"}], "owner": {"reputation": 13503, "user_id": 7224430, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh6.googleusercontent.com/-1_ktQ-Cjhr4/AAAAAAAAAAI/AAAAAAAAAAA/Ne8jKTCsVP0/photo.jpg?sz=128", "display_name": "Ben Carp", "link": "https://stackoverflow.com/users/7224430/ben-carp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1576584080, "creation_date": 1563345163, "last_edit_date": 1576584080, "question_id": 57069802, "link": "https://stackoverflow.com/questions/57069802/as-const-is-ignored-when-there-is-a-type-definition", "title": "As const is ignored when there is a type definition", "body": "<p>I'd like to constrain an object to be of a certain type, but also to cast it \"as const\", so that certain properties could be typed literally. However, when I use \"as const\" with a type definition as in the code below, the inferred type isn't literal - \"as const\" is ignored. </p>\n\n<pre><code>interface IFilterBase {\n   type: string\n   ...\n}\n\nconst COST_FILTER: IFilterBase = {\n   type: \"cost\",\n   ...\n} as const\n</code></pre>\n\n<p>In the code above, \"as const\" is ignored. <code>COST_FILTER.type</code> is inferred as a <code>string</code>, not as <code>\"cost\"</code>. </p>\n\n<p>Is there a way to constrain <code>COST_FILTER</code> to be implement <code>IFilterBase</code> type, yet for it's properties to be inferred \"as const\"?</p>\n"}, {"tags": ["javascript", "arrays", "node.js", "json", "typescript"], "comments": [{"owner": {"reputation": 225, "user_id": 11538964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OK3LDXcPUsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxh1pd06c62OLj1oSEjG-GwJ6pww/mo/photo.jpg?sz=128", "display_name": "Kunal Dholiya", "link": "https://stackoverflow.com/users/11538964/kunal-dholiya"}, "reply_to_user": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1563342964, "post_id": 57069128, "comment_id": 100662631, "body": "No this is a simple object and by the way @mplungjan this is not duplicate."}, {"owner": {"reputation": 225, "user_id": 11538964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OK3LDXcPUsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxh1pd06c62OLj1oSEjG-GwJ6pww/mo/photo.jpg?sz=128", "display_name": "Kunal Dholiya", "link": "https://stackoverflow.com/users/11538964/kunal-dholiya"}, "reply_to_user": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1563344216, "post_id": 57069128, "comment_id": 100663085, "body": "yes it is a typescript thing like this -- { id: 6, url: &#39;<a href=\"https://google.com\" rel=\"nofollow noreferrer\">google.com</a>&#39;, title: &#39;abc&#39;, actions: 63, status: &#39;active&#39;, method: &#39;GET&#39;, response_type: &#39;json&#39; }"}, {"owner": {"reputation": 225, "user_id": 11538964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OK3LDXcPUsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxh1pd06c62OLj1oSEjG-GwJ6pww/mo/photo.jpg?sz=128", "display_name": "Kunal Dholiya", "link": "https://stackoverflow.com/users/11538964/kunal-dholiya"}, "reply_to_user": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1563344631, "post_id": 57069128, "comment_id": 100663235, "body": "Yes I&#39;m sure about this"}], "answers": [{"tags": [], "owner": {"reputation": 3561, "user_id": 5651109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c983c72e0f6564470dec5c14967eb894?s=128&d=identicon&r=PG&f=1", "display_name": "Navoneel Talukdar", "link": "https://stackoverflow.com/users/5651109/navoneel-talukdar"}, "is_accepted": true, "score": 3, "last_activity_date": 1563346230, "creation_date": 1563346230, "answer_id": 57070062, "question_id": 57069128, "link": "https://stackoverflow.com/questions/57069128/how-to-add-an-element-to-an-existing-object/57070062#57070062", "title": "How to add an element to an existing object", "body": "<p>If you want to do this by most simplistic way</p>\n\n<pre><code>var obj = {\nid: 6,\nurl: 'https://google.com',\ntitle: 'abc',\nactions: 63,\nstatus: 'active',\nmethod: 'GET',\nresponse_type: 'json' \n}\n</code></pre>\n\n<p>then use <code>obj.new_ele = 'new data'</code> or if your key is dynamic then you can use\n<code>obj[new_ele] = 'new data'</code>.</p>\n\n<p>Otheriwse if your environment supports ES6/later version of ES* syntax</p>\n\n<p>use <code>Object.assign(obj, {new_ele: \"new data\"});</code></p>\n\n<p>Even with spread operator this becomes</p>\n\n<pre><code>let newObj = { ...obj, new_ele: 'new data' };\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 11538964, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OK3LDXcPUsY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxh1pd06c62OLj1oSEjG-GwJ6pww/mo/photo.jpg?sz=128", "display_name": "Kunal Dholiya", "link": "https://stackoverflow.com/users/11538964/kunal-dholiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 57070062, "answer_count": 1, "score": 0, "last_activity_date": 1563347354, "creation_date": 1563341890, "last_edit_date": 1563347354, "question_id": 57069128, "link": "https://stackoverflow.com/questions/57069128/how-to-add-an-element-to-an-existing-object", "title": "How to add an element to an existing object", "body": "<p>I've got an object as per below:</p>\n\n<pre><code>{\nid: 6,\nurl: 'https://google.com',\ntitle: 'abc',\nactions: 63,\nstatus: 'active',\nmethod: 'GET',\nresponse_type: 'json' \n}\n</code></pre>\n\n<p>Now I want to push one more element in this object, the expected output is as per below:</p>\n\n<pre><code>{\nid: 6,\nurl: 'https://google.com',\ntitle: 'abc',\nactions: 63,\nstatus: 'active',\nmethod: 'GET',\nresponse_type: 'json',\nnew_ele: 'new_data'\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 25033, "user_id": 1113002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CgW7b.png?s=128&g=1", "display_name": "Aleksey L.", "link": "https://stackoverflow.com/users/1113002/aleksey-l"}, "edited": false, "score": 0, "creation_date": 1563340455, "post_id": 57068695, "comment_id": 100661788, "body": "<code>dummyReports</code> is of type <code>Report[]</code> (<code>Array</code>) and you&#39;re trying to put it in place where single <code>Report</code> is expected"}], "answers": [{"tags": [], "owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "is_accepted": false, "score": 0, "last_activity_date": 1563340496, "creation_date": 1563340496, "answer_id": 57068916, "question_id": 57068695, "link": "https://stackoverflow.com/questions/57068695/typescript-error-when-declaring-array-type-report-is-missing-the-following/57068916#57068916", "title": "Typescript error when declaring array: Type &#39;Report[]&#39; is missing the following properties from type \u2026", "body": "<p>You have set <code>dummyReportsArr</code> to be of type <code>Report[]</code>. But, you're assigning this 2D array to it</p>\n\n<pre><code>dummyReportsArr = [\n  [ {}, {}, {} ], // dummyReports\n  { 0: {}, 1: {}, 2: {}, id: 9000 } // an object with numeric indices\n]\n</code></pre>\n\n<p>The first item in the array is <code>dummyReports</code> array. The second one is an object. Spreading an array inside <code>{}</code> creates an object with indices of the array as the keys of the object. Neither of these are of type <code>Report</code></p>\n"}], "owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1563340496, "creation_date": 1563338997, "question_id": 57068695, "link": "https://stackoverflow.com/questions/57068695/typescript-error-when-declaring-array-type-report-is-missing-the-following", "title": "Typescript error when declaring array: Type &#39;Report[]&#39; is missing the following properties from type \u2026", "body": "<p>I have this dummy data and I want type:</p>\n\n<pre><code>export default interface Report {\n  id: number;\n  name: string;\n  lastName: string;\n}\n\nexport const dummyReports: Report[] = [\n  { id: 23, name: 'Carlo', lastName: 'Magno' },\n  { id: 11, name: 'Albert', lastName: 'Camus' },\n  { id: 51, name: 'Oliver', lastName: 'Khan' }\n];\n\nexport const dummyReportsArr: Report[] = [\n  dummyReports, // THIS IS THE LINE THROWING THE ERROR\n  { ...dummyReports, id: 9000 }\n];\n</code></pre>\n\n<p><code>Type 'Report[]' is missing the following properties from type 'Report': id, name, lastName ts(2739)</code></p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 3958295, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b2d5361a429385afadca9cdf54edfcfa?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3958295/tom"}, "edited": false, "score": 0, "creation_date": 1568168760, "post_id": 57070868, "comment_id": 102185755, "body": "Thanks for your answer and sorry I&#39;m late to reply. I&#39;m afraid your code does not work for me. Please let me know if I&#39;m doing it wrong.  ``` interface A {     a: number;     b: number; }  type B = Pick&lt;A, &quot;a&quot;&gt;;  const a = { a: 1, b: 2 } as A; console.log(a); // {a: 1, b: 2}  const b = ((keys: B) =&gt; (keys))(a) console.log(b); // {a: 1, b: 2} &lt;= I don&#39;t need b  type C = { a: number } const c = ((keys: C) =&gt; (keys))(a) console.log(c); // {a: 1, b: 2} &lt;= I don&#39;t need b ```"}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1563349328, "creation_date": 1563349328, "answer_id": 57070868, "question_id": 57068687, "link": "https://stackoverflow.com/questions/57068687/extract-specific-properties-from-variable-keys/57070868#57070868", "title": "Extract specific properties from variable keys", "body": "<p>This string <code>(({id, name}) =&gt; ({id, name}))(user)</code> is a arrow function which accepts object and destructs it in argument list and returns the same object. After definition, this function is immediately called with object <code>user</code>.</p>\n\n<p>The typescript is about typing, so if you've declared <code>user</code> something like this</p>\n\n<pre><code>let user = { id: 1, name: '2' };\n</code></pre>\n\n<p>arrow function will know, that object, passed as argument will have typing like this</p>\n\n<pre><code>{ id: number, name: string }\n</code></pre>\n\n<p>and will work.</p>\n\n<p>You can rewrite your arrow function like you want</p>\n\n<pre><code>((keys) =&gt; (keys))(user)\n</code></pre>\n\n<p>and it will work the same. <code>keys</code> will be object of type <code>{ id: number, name: string }</code>.</p>\n\n<p>It may be good idea to type your arrow function, so you;ll be able to reuse it. For example</p>\n\n<pre><code>((keys: { id: number, name: string }) =&gt; (keys))(user)\n</code></pre>\n\n<p>so <code>keys</code> will have specific type and it will be checked with type of <code>user</code> argument.</p>\n\n<p>You may also pre-define type of <code>keys</code> in advance like this</p>\n\n<pre><code>type Keys = { id: number, name: string }\n</code></pre>\n\n<p>And use it to type your function</p>\n\n<pre><code>((keys: Keys) =&gt; (keys))(user)\n</code></pre>\n\n<p>This is similar to what you want to achieve, but in place of <code>const keys</code> we use <code>type Keys</code> to define type</p>\n"}], "owner": {"reputation": 387, "user_id": 3958295, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b2d5361a429385afadca9cdf54edfcfa?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/3958295/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563349328, "creation_date": 1563338952, "question_id": 57068687, "link": "https://stackoverflow.com/questions/57068687/extract-specific-properties-from-variable-keys", "title": "Extract specific properties from variable keys", "body": "<p>Is there a way to rewrite TypeScript like this?</p>\n\n<h1>Before</h1>\n\n<pre><code>(({id, name}) =&gt; ({id, name}))(user)\n</code></pre>\n\n<h1>After</h1>\n\n<pre><code>const keys = {id, name}\n((keys) =&gt; (keys))(user)\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-cli"], "answers": [{"tags": [], "owner": {"reputation": 9429, "user_id": 4159572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/h25zb.png?s=128&g=1", "display_name": "Bazinga", "link": "https://stackoverflow.com/users/4159572/bazinga"}, "is_accepted": true, "score": 1, "last_activity_date": 1563349040, "creation_date": 1563349040, "answer_id": 57070790, "question_id": 57068549, "link": "https://stackoverflow.com/questions/57068549/angular-cli-library-typescript-paths-dont-work/57070790#57070790", "title": "Angular cli library typescript paths don&#39;t work", "body": "<p>You can use a file. You just have a typo. It should be:</p>\n\n<pre><code>\"@scope/name\": [\"projects/test/src/public-api.ts\"]\n</code></pre>\n"}], "owner": {"reputation": 4264, "user_id": 7330592, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/08ff85e692b55924933f9d78a837bc4d?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/7330592/undefined"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 57070790, "answer_count": 1, "score": 0, "last_activity_date": 1563349040, "creation_date": 1563337860, "question_id": 57068549, "link": "https://stackoverflow.com/questions/57068549/angular-cli-library-typescript-paths-dont-work", "title": "Angular cli library typescript paths don&#39;t work", "body": "<p>I have an angular cli project, and created a new library:</p>\n\n<pre><code>ng g library test\n</code></pre>\n\n<p>Now, in the <code>tsconfig.json</code> file, I added the following <code>paths</code> options:</p>\n\n<pre><code>{\n  \"compileOnSave\": false,\n  \"compilerOptions\": {\n    \"resolveJsonModule\": true,\n    \"esModuleInterop\": true,\n    \"baseUrl\": \".\",\n    \"outDir\": \"./dist/out-tsc\",\n    \"sourceMap\": true,\n    \"declaration\": false,\n    \"downlevelIteration\": true,\n    \"experimentalDecorators\": true,\n    \"module\": \"esnext\",\n    \"moduleResolution\": \"node\",\n    \"importHelpers\": true,\n    \"target\": \"es2015\",\n    \"typeRoots\": [\"node_modules/@types\"],\n    \"lib\": [\"es2018\", \"dom\"],\n    \"paths\": {\n      \"@scope/name\": [\"projects/test/src/public_api.ts\"]\n    }\n  },\n  \"angularCompilerOptions\": {\n    \"fullTemplateTypeCheck\": true,\n    \"strictInjectionParameters\": true\n  }\n}\n</code></pre>\n\n<p>But now when I try to use it in the application:</p>\n\n<pre><code>import { SomeComponent } from '@scope/name';\n\n@NgModule({\n  ...\n})\nexport class AppModule {}\n</code></pre>\n\n<p>I get the error:</p>\n\n<blockquote>\n  <p>error TS2307: Cannot find module '@scope/name'.</p>\n</blockquote>\n"}, {"tags": ["typescript", "request-promise"], "comments": [{"owner": {"reputation": 522, "user_id": 10335860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVk65.png?s=128&g=1", "display_name": "Chandan Y S", "link": "https://stackoverflow.com/users/10335860/chandan-y-s"}, "edited": false, "score": 0, "creation_date": 1563337209, "post_id": 57068440, "comment_id": 100661055, "body": "The value of &#39;Username&#39; from the JSON response? but the username is not there rite?"}, {"owner": {"reputation": 87, "user_id": 8267843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a965f6126546015d044e0b8b1e2b77?s=128&d=identicon&r=PG&f=1", "display_name": "Wicki", "link": "https://stackoverflow.com/users/8267843/wicki"}, "reply_to_user": {"reputation": 522, "user_id": 10335860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVk65.png?s=128&g=1", "display_name": "Chandan Y S", "link": "https://stackoverflow.com/users/10335860/chandan-y-s"}, "edited": false, "score": 0, "creation_date": 1563416087, "post_id": 57068440, "comment_id": 100695216, "body": "Hi @ChandanYS , &#39;nUsername : michelle@test.com.test&#39; will be like this."}], "answers": [{"tags": [], "owner": {"reputation": 14180, "user_id": 2358409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RMJS4.png?s=128&g=1", "display_name": "uminder", "link": "https://stackoverflow.com/users/2358409/uminder"}, "is_accepted": true, "score": 0, "last_activity_date": 1563340890, "creation_date": 1563340890, "answer_id": 57068960, "question_id": 57068440, "link": "https://stackoverflow.com/questions/57068440/how-to-filter-specific-text-from-the-json-response-array-using-typescript/57068960#57068960", "title": "How to filter specific text from the JSON response array using typescript?", "body": "<p>In case you expect <em>Username</em> to appear in the log attribute only, one possible solution could look as follows. This creates a <code>string array</code> of all usernames found in your response.</p>\n\n<pre><code>const label = 'Username :';\nconst usernames = response\n    .map(r =&gt; r.log)\n    .filter(log =&gt; log.includes(label))\n    .map(log =&gt; log.split(label).splice(-1)[0])\n    .map(user =&gt; user.trim());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1563348786, "creation_date": 1563348786, "answer_id": 57070710, "question_id": 57068440, "link": "https://stackoverflow.com/questions/57068440/how-to-filter-specific-text-from-the-json-response-array-using-typescript/57070710#57070710", "title": "How to filter specific text from the JSON response array using typescript?", "body": "<p>Make it a string and return everything that matches:</p>\n\n<pre><code>JSON.stringify(response)\n.match(/(?&lt;=Username : )(.*@.*)(?= )/)\n</code></pre>\n\n<p>The regex can be improved but i think you geht the idea.</p>\n"}], "owner": {"reputation": 87, "user_id": 8267843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a965f6126546015d044e0b8b1e2b77?s=128&d=identicon&r=PG&f=1", "display_name": "Wicki", "link": "https://stackoverflow.com/users/8267843/wicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 57068960, "answer_count": 2, "score": 0, "last_activity_date": 1563348786, "creation_date": 1563336936, "question_id": 57068440, "link": "https://stackoverflow.com/questions/57068440/how-to-filter-specific-text-from-the-json-response-array-using-typescript", "title": "How to filter specific text from the JSON response array using typescript?", "body": "<p>Want to filter some specific text from following rest response</p>\n\n<p>My response is similar to </p>\n\n<pre><code> [ { time: '03:45:55',\n   absolute_time: '2019-07-17T03:45:55Z',\n   log:\n    '/home/ec2-user/soapui-report/2019-07-17/154513482/Project Report.pdf',\n   level: 'NORMAL',\n   user: 'ec2-user',\n   stepctx: '1',\n   node: 'QA-Server-jmeter' },\n { time: '03:45:55',\n   absolute_time: '2019-07-17T03:45:55Z',\n   log:\n    'Login:https://training-labs.com/\\\\nUsername : michelle@test.com.test ',\n   level: 'NORMAL',\n   user: 'ec2-user',\n   stepctx: '1',\n   node: 'QA-Server-jmeter' },\n { time: '03:45:55',\n   absolute_time: '2019-07-17T03:45:55Z',\n   log: '221 2.0.0 Bye',\n   level: 'ERROR',\n   user: 'ec2-user',\n   stepctx: '1',\n   node: 'QA-Server-jmeter' } ]\n</code></pre>\n\n<p>I want to get the value of 'Username' from the JSON response. That is 'michelle@test.com.test'. I am using TypeScripts. Help much appreciated. Thanks</p>\n"}, {"tags": ["typescript", "unit-testing"], "comments": [{"owner": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "edited": false, "score": 1, "creation_date": 1563395359, "post_id": 57068169, "comment_id": 100690377, "body": "Your question is a little bit opinion based. Also, the way you design your package API and what may happens with the wrong type as an input would change the answer. IMO, about 99% of the cases I won&#39;t add a type checking for a <code>Typescript</code> package. About the tool, Facebook has released a <a href=\"https://flow.org/\" rel=\"nofollow noreferrer\">tool for static type checking name Flow</a>."}, {"owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "reply_to_user": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "edited": false, "score": 0, "creation_date": 1563406957, "post_id": 57068169, "comment_id": 100693584, "body": "@Old Fox Thanks for your comment. The most common problem I&#39;m referring to is warning the user if they don&#39;t provide the right args to the exposed public functions (e.g. React components). If they are developing with TS it&#39;s solved, but not if they are using JS. Also, since I&#39;m building a library of React components, I&#39;ve found it necessary to have a separate app like Storybook to manually test the consumer interface. Of course it&#39;s useful for the visual anyway, but if I could automate some of this in a test runner, it seems faster."}, {"owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "reply_to_user": {"reputation": 8171, "user_id": 4332059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xs05E.png?s=128&g=1", "display_name": "Old Fox", "link": "https://stackoverflow.com/users/4332059/old-fox"}, "edited": false, "score": 0, "creation_date": 1563407109, "post_id": 57068169, "comment_id": 100693615, "body": "In some ways yes I am asking for opinions, although I&#39;m also specifically asking how to achieve things. But even if I weren&#39;t, I&#39;m sorry you feel that way. IMO &quot;best practices&quot; questions have been some of the hands down most valuable type of questions for me on SO. It is a big shame that they are discouraged, but I&#39;m frankly glad ppl ask them anyway and that they show up easily in Google. I&#39;ve learned a ton from them."}, {"owner": {"reputation": 447, "user_id": 9724628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU8Rp.jpg?s=128&g=1", "display_name": "MrSegFaulty", "link": "https://stackoverflow.com/users/9724628/mrsegfaulty"}, "edited": false, "score": 0, "creation_date": 1617904358, "post_id": 57068169, "comment_id": 118446947, "body": "I&#39;m sad that no real discussion came up in this thread. I&#39;ve been wondering about this topic for a couple of days now."}, {"owner": {"reputation": 447, "user_id": 9724628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU8Rp.jpg?s=128&g=1", "display_name": "MrSegFaulty", "link": "https://stackoverflow.com/users/9724628/mrsegfaulty"}, "edited": false, "score": 0, "creation_date": 1617904453, "post_id": 57068169, "comment_id": 118446990, "body": "@unleash.it Have you come up with an answer to you question withing those nearly 2 years?"}, {"owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "reply_to_user": {"reputation": 447, "user_id": 9724628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU8Rp.jpg?s=128&g=1", "display_name": "MrSegFaulty", "link": "https://stackoverflow.com/users/9724628/mrsegfaulty"}, "edited": false, "score": 0, "creation_date": 1617993684, "post_id": 57068169, "comment_id": 118476856, "body": "@MrSegFaulty because it was censored. Sadly this site and by extension our world today doesn&#39;t celebrate free thought or critical thinking. &quot;Best practices&quot; posts are some of the best on SO. Luckily, a few the better ones are allowed to live despite the &quot;rulez&quot; if they get lucky and have someone with a high enough score answer."}, {"owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "reply_to_user": {"reputation": 447, "user_id": 9724628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU8Rp.jpg?s=128&g=1", "display_name": "MrSegFaulty", "link": "https://stackoverflow.com/users/9724628/mrsegfaulty"}, "edited": false, "score": 0, "creation_date": 1617994066, "post_id": 57068169, "comment_id": 118477004, "body": "@MrSegFaulty I have come across some libraries that can convert some Typescript checks into runtime (I believe through a compile time process), but I&#39;ve never used them and couldn&#39;t recommend you anything in particular. For my use when I&#39;m writing a library (and from what I&#39;ve seen others do) is to continue to write them manually."}, {"owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "edited": false, "score": 0, "creation_date": 1617996731, "post_id": 57068169, "comment_id": 118477921, "body": "Oh and you could always use a schema validator like Yup/Joi if you have a lot of user input and want to cut back on some boilerplate."}, {"owner": {"reputation": 447, "user_id": 9724628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gU8Rp.jpg?s=128&g=1", "display_name": "MrSegFaulty", "link": "https://stackoverflow.com/users/9724628/mrsegfaulty"}, "edited": false, "score": 0, "creation_date": 1618083713, "post_id": 57068169, "comment_id": 118497018, "body": "@unleash.it Cool. Thanks for the answer. I guess my approach would be: if I have time to make runtime type checks, I will do them."}], "owner": {"reputation": 301, "user_id": 6138731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe446af999d454aed01e7387f87acde0?s=128&d=identicon&r=PG&f=1", "display_name": "unleash.it", "link": "https://stackoverflow.com/users/6138731/unleash-it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563334817, "creation_date": 1563334508, "last_edit_date": 1563334817, "question_id": 57068169, "link": "https://stackoverflow.com/questions/57068169/runtime-type-checks-in-typescript-library-worth-it", "title": "Runtime type checks in Typescript library - worth it?", "body": "<p>Still somewhat new to Typescript (and Type checking) and wondering what the best practices are involved around runtime type checks on things like arguments and props.</p>\n\n<p>I'm currently creating a library of React components and while testing them it occurred to me that because I'm using Typescript, I skipped doing run time checks that I normally would do in vanilla JS. While it's great that TS handles it for TS consumers, regular JS consumers won't get any warnings if they don't provide the right types.</p>\n\n<p>Should I take the lazy route and shun the non-Typescript user, or would it be better to manually add runtime support, plus write the tests for that support? If I do this, it's obviously substantial work and seems like it would partly defeat the purpose of using Typescript...</p>\n\n<p>Related question: is there a way to write a test based on the TS compiler? Non working example assuming Jest:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>formatTags(tags: string[]): string {\n  return tags.join(', ');\n}\n\nit('formatTags() fails with the wrong args', () =&gt; {\n  let tagList: string = formatTags(); // TS Error (missing param)\n  expect(tagList).toThrowTypescriptError('Property `tags` is missing on type...') // pseudo code\n\n  taglist = formatTags(['a', 'b', 'c'], 'something else'); // TS Error (extra param)\n  expect(tagList).toThrowTypescriptError('Argument of type `something else` is not assignable...') // psuedo code\n}\n\n</code></pre>\n\n<p>The idea is to have an automated test consuming the API (without runtime checks). Right now I'm basically doing it via a demo app. </p>\n"}, {"tags": ["angular", "typescript", "http", "angular7", "angular-services"], "comments": [{"owner": {"reputation": 766, "user_id": 4838893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4becb137e77ce3b2675af0a1717c4e70?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Cheng", "link": "https://stackoverflow.com/users/4838893/bill-cheng"}, "edited": false, "score": 0, "creation_date": 1563333053, "post_id": 57067936, "comment_id": 100660331, "body": "It is the response you are expecting"}], "answers": [{"tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1563332377, "creation_date": 1563332377, "answer_id": 57067946, "question_id": 57067936, "link": "https://stackoverflow.com/questions/57067936/how-to-write-a-post-call-in-an-angular-service/57067946#57067946", "title": "How to write a post call in an angular service", "body": "<pre><code>post&lt;ResponseType&gt;\n</code></pre>\n\n<p>Strongly types the observable that is returned. So calling this method return an Observable so when you subscribe to the observable the observer receives an object of ResponseType.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8795699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60f1f867406138815d92c616aacfe775?s=128&d=identicon&r=PG&f=1", "display_name": "Salim Ansari", "link": "https://stackoverflow.com/users/8795699/salim-ansari"}, "is_accepted": false, "score": 0, "last_activity_date": 1563336854, "creation_date": 1563336854, "answer_id": 57068432, "question_id": 57067936, "link": "https://stackoverflow.com/questions/57067936/how-to-write-a-post-call-in-an-angular-service/57068432#57068432", "title": "How to write a post call in an angular service", "body": "<pre><code> // pass postbody object from your component to service method, so service will read \n // parameter value in reqBody .\n //Then it will pass to post call API \n\n let postBody = {\n        \"overviewPreferences\": {\n            \"selectedRole\": [{\n                \"code\": \"PRACTITIONER\"\n            }],\n            \"selectedDomainList\": [{\n                \"code\": \"2\",\n                \"name\": \"HR\"\n            },\n            {\n                \"code\": \"3\",\n                \"name\": \"PAYROLL\"\n            }]\n          }\n } \n\nservicename.updateUserSelectedDomains(postBody).subscribe( (response)=&gt;{\n       console.log(response);\n })\n\n\n\n\n// =============== Service code ====================\nupdateUserSelectedDomains(reqBody): Observable&lt;any&gt; {\n   return this.http.post&lt;UserDomain&gt;(`/adpi/rest/core/v2/business- \n   intelligence/workers/${aoId}/preferences\" `, reqBody)                    \n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6044625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f73f6d4c21e7626d2e6173a07b3cebe?s=128&d=identicon&r=PG&f=1", "display_name": "pleasent", "link": "https://stackoverflow.com/users/6044625/pleasent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1563342920, "creation_date": 1563332254, "last_edit_date": 1563342920, "question_id": 57067936, "link": "https://stackoverflow.com/questions/57067936/how-to-write-a-post-call-in-an-angular-service", "title": "How to write a post call in an angular service", "body": "<p>I have a service that takes my input as below,</p>\n\n<pre><code>{\n  \"overviewPreferences\": {\n    \"selectedRole\": [{\n      \"code\": \"PRACTITIONER\"\n    }],\n    \"selectedDomainList\": [{\n      \"code\": \"2\",\n      \"name\": \"HR\"\n    },\n    {\n      \"code\": \"3\",\n      \"name\": \"PAYROLL\"\n    }]\n  }\n}\n</code></pre>\n\n<p>I declared my interface as follows,</p>\n\n<pre><code>export interface UserDomain {\n  code: string;\n  value: string;\n  selected: boolean;\n}\n</code></pre>\n\n<p>My service,</p>\n\n<pre><code>updateUserSelectedDomains(code: String): Observable&lt;any&gt; {\n  return this.http.post&lt;UserDomain&gt;(`/adpi/rest/core/v2/business-intelligence/workers/${aoId}/preferences\") `, request)\n    .pipe(\n      map(data =&gt; this.data = data),\n    );  \n}\n</code></pre>\n\n<p>Here I want know what should be the interface?Is it the request I am sending or the response I am getting.I am not sure whether I did it correctly.can anyone please review my code.Thanks.</p>\n"}, {"tags": ["typescript", "angular7"], "answers": [{"comments": [{"owner": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332469, "post_id": 57067888, "comment_id": 100660227, "body": "If &#39;OnlyNumber&#39; is a directive input, make sure the directive is imported by the current module. (&quot;t&#39;).dirty || editForm.get(&#39;amount&#39;).touched)&quot; [value]=&quot;editForm.get(&#39;amount&#39;).value | numberFormat&quot; [ERROR -&gt;][OnlyNumber]=&quot;true&quot;/&gt; &lt;div *ngIf=&quot;editForm.get(&#39;amount&#39;).invalid &amp;&amp; (editForm.get(&#39;amount&#39;).dirty || &quot;): ng:///KhanbankCpmsGrantModule/GrantUpdateComponent.html@0:97&zwnj;&#8203;6"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332602, "post_id": 57067888, "comment_id": 100660248, "body": "Make sure you add it to the current module and then add it to the provides section?"}, {"owner": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332644, "post_id": 57067888, "comment_id": 100660258, "body": "Yes, I added it with shared module. And using it on app module"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332666, "post_id": 57067888, "comment_id": 100660264, "body": "If you use the Angular cli to biolerplate you directives this is done for you &quot;ng g d OnlyNumber&quot;"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332696, "post_id": 57067888, "comment_id": 100660270, "body": "You need to make sure that the shared module exports it as well as provides it."}, {"owner": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332769, "post_id": 57067888, "comment_id": 100660283, "body": "Can you give me an example ?"}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "reply_to_user": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "edited": false, "score": 0, "creation_date": 1563332897, "post_id": 57067888, "comment_id": 100660300, "body": "<a href=\"https://github.com/adriandavidbrand/ngx-ez/blob/master/projects/ngx-ez/src/lib/ez-forms/ez-forms.module.ts\" rel=\"nofollow noreferrer\">github.com/adriandavidbrand/ngx-ez/blob/master/projects/ngx-&zwnj;&#8203;ez/&hellip;</a> this module provied and exports many components and directives."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1563331687, "creation_date": 1563331687, "answer_id": 57067888, "question_id": 57067820, "link": "https://stackoverflow.com/questions/57067820/angular-7-bind-directive/57067888#57067888", "title": "Angular 7 bind directive", "body": "<pre><code>OnlyNumber=\"true\"\n</code></pre>\n\n<p>will set the value to a string, use property binding rather than attribute binding.</p>\n\n<pre><code>[OnlyNumber]=\"true\"\n</code></pre>\n\n<p>You should not be creating directives like this as it is against accessibility guidelines. Input fields should take all key strokes and provide an easy to understand validation message if the value does not pass validation.</p>\n"}], "owner": {"reputation": 754, "user_id": 9282381, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f4ae9dfe85d463dcca2356b564a2997b?s=128&d=identicon&r=PG&f=1", "display_name": "batgerel.e", "link": "https://stackoverflow.com/users/9282381/batgerel-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563331687, "creation_date": 1563331104, "question_id": 57067820, "link": "https://stackoverflow.com/questions/57067820/angular-7-bind-directive", "title": "Angular 7 bind directive", "body": "<p>I have a problem with using directive. When its already imported. Here is the example:</p>\n\n<pre><code>import { Directive, ElementRef, HostListener, Input } from '@angular/core';\n\n@Directive({\n    selector: '[OnlyNumber]',\n})\nexport class OnlyNumber {\n\n    regexStr = '^[0-9]*$';\n    constructor(private el: ElementRef) { }\n\n    @Input() OnlyNumber: boolean;\n\n    @HostListener('keydown', ['$event']) onKeyDown(event) {\n        let e = &lt;KeyboardEvent&gt;event;\n        if (this.OnlyNumber) {\n            if ([46, 8, 9, 27, 13, 110, 190].indexOf(e.keyCode) !== -1 ||\n                // Allow: Ctrl+A\n                (e.keyCode == 65 &amp;&amp; e.ctrlKey === true) ||\n                // Allow: Ctrl+C\n                (e.keyCode == 67 &amp;&amp; e.ctrlKey === true) ||\n                // Allow: Ctrl+V\n                (e.keyCode == 86 &amp;&amp; e.ctrlKey === true) ||\n                // Allow: Ctrl+X\n                (e.keyCode == 88 &amp;&amp; e.ctrlKey === true) ||\n                // Allow: home, end, left, right\n                (e.keyCode &gt;= 35 &amp;&amp; e.keyCode &lt;= 39)) {\n                // let it happen, don't do anything\n                return;\n            }\n            let ch = String.fromCharCode(e.keyCode);\n            let regEx = new RegExp(this.regexStr);\n            if (regEx.test(ch))\n                return;\n            else\n                e.preventDefault();\n        }\n    }\n}\n</code></pre>\n\n<p>And using it with like:</p>\n\n<pre><code> &lt;input\n                  type=\"text\"\n                  class=\"form-control\"\n                  name=\"amount\"\n                  id=\"field_amount\"\n                  min=\"1\"\n                  formControlName=\"amount\"\n                  [class.is-invalid]=\"editForm.get('amount').invalid &amp;&amp; (editForm.get('amount').dirty || editForm.get('amount').touched)\"\n                  [value]=\"editForm.get('amount').value | numberFormat\"\n                  OnlyNumber=\"true\"\n                /&gt;\n</code></pre>\n\n<p>But my directive not working it still getting strings. Any advice ? What i exactly want is when user type something on input it should be accept only numbers not string.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 1, "creation_date": 1563330587, "post_id": 57067713, "comment_id": 100659916, "body": "Please create a Working Sample Stackblitz replicating this issue. There are a lot of unknowns as of now. Without those, it&#39;s hard to figure out what the issue is."}, {"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 2, "creation_date": 1563330639, "post_id": 57067713, "comment_id": 100659928, "body": "You can fork <b><a href=\"https://stackblitz.com/edit/angular-gbel4v?file=app/form-field-overview-example.ts\" rel=\"nofollow noreferrer\">this StackBlitz</a></b> to get started."}], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 0, "creation_date": 1563333446, "post_id": 57068038, "comment_id": 100660386, "body": "that the problem... thank you so much dude... it work... you save my day"}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 1, "creation_date": 1563333620, "post_id": 57068038, "comment_id": 100660420, "body": "@Shah You are welcome! If you are still unclear, you can refer to the demo I created above."}, {"owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 0, "creation_date": 1563334170, "post_id": 57068038, "comment_id": 100660509, "body": "Sorry.. I have 1 more question... why submit button still disable. Although I have filled all the form.."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 1, "creation_date": 1563334405, "post_id": 57068038, "comment_id": 100660542, "body": "Hmm... Are you sure you have filled in all the forms? And the password fields are valid? I have tried it on the demo I made, and it seems to work.."}, {"owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "reply_to_user": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "edited": false, "score": 1, "creation_date": 1563334597, "post_id": 57068038, "comment_id": 100660566, "body": "No worries :) Glad to help! Let me know if you are facing more issues"}, {"owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "reply_to_user": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "edited": false, "score": 0, "creation_date": 1563335187, "post_id": 57068038, "comment_id": 100660665, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/196547/discussion-between-shah-and-wentjun\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 26417, "user_id": 10959940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfe2af4009a4fe0acb46a707c8d5eab3?s=128&d=identicon&r=PG&f=1", "display_name": "wentjun", "link": "https://stackoverflow.com/users/10959940/wentjun"}, "is_accepted": true, "score": 1, "last_activity_date": 1563333610, "last_edit_date": 1563333610, "creation_date": 1563333170, "answer_id": 57068038, "question_id": 57067713, "link": "https://stackoverflow.com/questions/57067713/angular-7-formgroup-is-undefined/57068038#57068038", "title": "Angular 7 formGroup is undefined", "body": "<p>The problem with your code is that, <code>passwordValidator</code> access multiple FormControls, <code>password</code> and <code>confirmPassword</code>, thus you should bind that validator to the entire FormGroup, rather than the <code>confirmPassword</code> FormControl itself.</p>\n\n<p>Therefore, on your component.ts, on the createForm method, this is what you should be using:</p>\n\n<pre><code>createForm() {\n  let emailregex: RegExp = /^(([^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  this.formGroup = this.formBuilder.group({\n    email: [\"\", [Validators.required, Validators.pattern(emailregex)]],\n    name: [\"\", Validators.required],\n    role: [\"\", Validators.required],\n    orgId: [\"\", Validators.required],\n    orgName: [\"\", Validators.required],\n    password: [\"\", [Validators.required, Validators.minLength(5)]],\n    confirmPassword: [\"\", [Validators.required]]\n  }, {\n    validator: this.passwordValidator\n  });\n}\n</code></pre>\n\n<p>And then, on your validator method,</p>\n\n<pre><code>passwordValidator(form: FormGroup) {\n  const condition =\n    form.value.password !==\n    form.value.confirmPassword;\n\n  return condition ? { passwordsDoNotMatch: true } : null;\n}\n</code></pre>\n\n<p>I have replicated a <a href=\"https://stackblitz.com/edit/angular-gbel4v-bgpfwy?file=app/form-field-overview-example.ts\" rel=\"nofollow noreferrer\">demo</a> for you, as well as adding a flag on the component.html that actually displays the error message if the passwords do not match.</p>\n"}], "owner": {"reputation": 517, "user_id": 9097559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4346ebb2e24b52684a2dfabc815c5ba9?s=128&d=identicon&r=PG&f=1", "display_name": "Shah", "link": "https://stackoverflow.com/users/9097559/shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1532, "favorite_count": 0, "accepted_answer_id": 57068038, "answer_count": 1, "score": 1, "last_activity_date": 1563333610, "creation_date": 1563330177, "last_edit_date": 1563333212, "question_id": 57067713, "link": "https://stackoverflow.com/questions/57067713/angular-7-formgroup-is-undefined", "title": "Angular 7 formGroup is undefined", "body": "<p>I am using angular 7 and creating a modal as a component to be used on related part of my SPA. when i click the button that opens the modal i receive an error;\nI am using angular 7 and creating a modal as a component to be used on related part of my SPA. when i click the button that opens the modal i receive an error;</p>\n\n<blockquote>\n  <p>ERROR TypeError: \"_co.formGroup is undefined\"</p>\n</blockquote>\n\n<p>this is my code</p>\n\n<p>html</p>\n\n<pre><code>    &lt;form [formGroup]=\"formGroup\" (ngSubmit)=\"onSubmit(formGroup.value)\"&gt;\n  &lt;h2 class=\"dialog-form-title\"&gt;SIGN UP&lt;/h2&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput placeholder=\"Email\" formControlName=\"email\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['email'].valid &amp;&amp; formGroup.controls['email'].touched\"&gt;\n      {{ getErrorEmail() }}\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput placeholder=\"Full Name\" formControlName=\"name\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['name'].valid &amp;&amp; formGroup.controls['name'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput formControlName=\"role\" placeholder=\"Role\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['role'].valid &amp;&amp; formGroup.controls['role'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput formControlName=\"orgId\" placeholder=\"Organization Id\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['orgId'].valid &amp;&amp; formGroup.controls['orgId'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput formControlName=\"orgName\" placeholder=\"Organization Name\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['orgName'].valid &amp;&amp; formGroup.controls['orgName'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput type=\"password\" formControlName=\"password\" placeholder=\"Password\"&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['password'].valid &amp;&amp; formGroup.controls['password'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;mat-form-field&gt;\n    &lt;input matInput type=\"password\" formControlName=\"confirmPassword\" placeholder=\"Confirm Password\" ngModel required&gt;\n    &lt;mat-error *ngIf=\"!formGroup.controls['confirmPassword'].valid &amp;&amp; formGroup.controls['confirmPassword'].touched\"&gt;\n\n    &lt;/mat-error&gt;\n  &lt;/mat-form-field&gt;\n\n  &lt;input type=\"hidden\" name=\"enable\" id=\"enable\" value=\"true\"&gt;\n\n  &lt;div class=\"dialog-form-footer\"&gt;\n\n    &lt;div class=\"clearfix\"&gt;&lt;button mat-flat-button class=\"green-button\" type=\"submit\"\n        [disabled]=\"formGroup.invalid\"&gt;Submit&lt;/button&gt;&lt;/div&gt;\n\n  &lt;/div&gt;\n  &lt;div class=\"top\"&gt;&lt;a id=\"closeT\" (click)=\"close()\"&gt;\n      &lt;mat-icon&gt;close&lt;/mat-icon&gt;\n    &lt;/a&gt;&lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>and this is my ts code</p>\n\n<p>TS</p>\n\n<pre><code>  submitted = false;\n  formGroup: FormGroup;\n  titleAlert: string = \"This field is required\";\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private element: ElementRef,\n    private dialog: MatDialog,\n    private service: AuthService,\n    private snackBar: MatSnackBar,\n    private dialogRef: MatDialogRef&lt;SignupComponent&gt;\n  ) {}\n\n  ngOnInit() {\n    this.createForm();\n  }\n\n  createForm() {\n    let emailregex: RegExp = /^(([^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+(\\.[^&lt;&gt;()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    this.formGroup = this.formBuilder.group({\n      email: [\"\", [Validators.required, Validators.pattern(emailregex)]],\n      name: [\"\", Validators.required],\n      role: [\"\", Validators.required],\n      orgId: [\"\", Validators.required],\n      orgName: [\"\", Validators.required],\n      password: [\"\", [Validators.required, Validators.minLength(5)]],\n      confirmPassword: [\"\", [Validators.required, this.passwordValidator]]\n    });\n  }\n\n  get name() {\n    return this.formGroup.get(\"name\") as FormControl;\n  }\n\n  passwordValidator(form) {\n    const condition =\n      this.formGroup.get(\"password\").value !==\n      this.formGroup.get(\"confirmPassword\").value;\n\n    return condition ? { passwordsDoNotMatch: true } : null;\n  }\n\n\n  onSubmit(post) {\n    console.log(post.value);\n    // console.log(form.value);\n    const test = post.controls.orgName.value;\n    console.log(\"test sigup:\" + test);\n\n\n    this.service.signupform(post.value).subscribe(\n      res =&gt; {\n        this.dialogRef.close();\n        this.snackBar.open(`Success!`, \"OK\", snackBarConfig);\n      },\n      err =&gt; {\n        this.dialogRef.close();\n        this.snackBar.open(`Cannot Proses!` + err, \"OK\", snackBarConfig);\n        console.log(\"check error:\" + err);\n      }\n    );\n  }\n  close() {\n    this.dialogRef.close();\n  }\n</code></pre>\n\n<p>Hope you all can help</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have fork in <a href=\"https://stackblitz.com/edit/angular-gbel4v-atdkzn\" rel=\"nofollow noreferrer\">stackblitz</a> and just got error</p>\n\n<blockquote>\n  <p>Unexpected value 'undefined' declared by the module 'AppModule'</p>\n</blockquote>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1563329434, "post_id": 57067614, "comment_id": 100659735, "body": "What version of Rxjs are you using? Can you please check it in your package.json and update the question?"}, {"owner": {"reputation": 151, "user_id": 6404253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCSh55YyGfc/AAAAAAAAAAI/AAAAAAAAAGM/BVRuikfYCH0/photo.jpg?sz=128", "display_name": "raf", "link": "https://stackoverflow.com/users/6404253/raf"}, "reply_to_user": {"reputation": 31296, "user_id": 2622292, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZKLxE.jpg?s=128&g=1", "display_name": "SiddAjmera", "link": "https://stackoverflow.com/users/2622292/siddajmera"}, "edited": false, "score": 0, "creation_date": 1563329591, "post_id": 57067614, "comment_id": 100659760, "body": "@SiddAjmera I am using rxjs 5.0.1"}, {"owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "edited": false, "score": 0, "creation_date": 1563331032, "post_id": 57067614, "comment_id": 100659988, "body": "@RafrafdelaCruz Are you using above code in some guard [i.e. canActivate method]?"}, {"owner": {"reputation": 151, "user_id": 6404253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCSh55YyGfc/AAAAAAAAAAI/AAAAAAAAAGM/BVRuikfYCH0/photo.jpg?sz=128", "display_name": "raf", "link": "https://stackoverflow.com/users/6404253/raf"}, "reply_to_user": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "edited": false, "score": 0, "creation_date": 1563331337, "post_id": 57067614, "comment_id": 100660038, "body": "@user2216584 yes exactly i was using it in guard."}, {"owner": {"reputation": 4639, "user_id": 2216584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca1683e1100877238b0eaa085639562?s=128&d=identicon&r=PG", "display_name": "user2216584", "link": "https://stackoverflow.com/users/2216584/user2216584"}, "edited": false, "score": 0, "creation_date": 1563332634, "post_id": 57067614, "comment_id": 100660255, "body": "@raf if it is guard and your canActivate returning promise then you should not throwError instead you should resolve the promise with false value. Looks like Angular\u2019s guard implementation is not handling the exception. Once you resolve the promise with false it should be fine. Looks like you are returning an observable then simply return false wrapper in an observable instead of throwError. Can you share the code for guard?"}, {"owner": {"reputation": 151, "user_id": 6404253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCSh55YyGfc/AAAAAAAAAAI/AAAAAAAAAGM/BVRuikfYCH0/photo.jpg?sz=128", "display_name": "raf", "link": "https://stackoverflow.com/users/6404253/raf"}, "edited": false, "score": 0, "creation_date": 1563337692, "post_id": 57067614, "comment_id": 100661141, "body": "I&#39;m sorry I didn&#39;t get it. Can you explain more."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 6404253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCSh55YyGfc/AAAAAAAAAAI/AAAAAAAAAGM/BVRuikfYCH0/photo.jpg?sz=128", "display_name": "raf", "link": "https://stackoverflow.com/users/6404253/raf"}, "edited": false, "score": 0, "creation_date": 1563336763, "post_id": 57067902, "comment_id": 100660972, "body": "I see. This helps a lot. Thanks."}], "tags": [], "owner": {"reputation": 786, "user_id": 8133866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef94f23bef0fc51c79b769d90534e589?s=128&d=identicon&r=PG&f=1", "display_name": "Luis", "link": "https://stackoverflow.com/users/8133866/luis"}, "is_accepted": false, "score": 0, "last_activity_date": 1563331840, "creation_date": 1563331840, "answer_id": 57067902, "question_id": 57067614, "link": "https://stackoverflow.com/questions/57067614/error-uncaught-in-promise-object-object-in-authguard/57067902#57067902", "title": "Error: Uncaught (in promise): [object Object] in authGuard", "body": "<p>It appears to be a misunderstanding of how Promises work or how to handle error inside them.</p>\n\n<p>In the provided sample code, when you receive the response (401 error) you are handling that one in the \"catch\" handler, but when the <strong>if</strong> condition is met (you received a 401 error) you throw another error <strong>which is not being handled</strong>, since there is not other catch handler after that. Thus, leaving an error unhandled in an still not resolved promise.</p>\n\n<p>It looks like you wanted to throw the error (when 401 is received) to be captured by the code calling the function where you make the http get, but you are throwing the error inside the promise, making the promise fail because of the unhandled error. </p>\n"}], "owner": {"reputation": 151, "user_id": 6404253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pCSh55YyGfc/AAAAAAAAAAI/AAAAAAAAAGM/BVRuikfYCH0/photo.jpg?sz=128", "display_name": "raf", "link": "https://stackoverflow.com/users/6404253/raf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 257, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563416856, "creation_date": 1563329313, "last_edit_date": 1563416856, "question_id": 57067614, "link": "https://stackoverflow.com/questions/57067614/error-uncaught-in-promise-object-object-in-authguard", "title": "Error: Uncaught (in promise): [object Object] in authGuard", "body": "<p>I am implementing authGuard on my app. But i keep getting error.</p>\n\n<p>This is my guard</p>\n\n<pre><code>canActivate(route: ActivatedRouteSnapshot): Observable&lt;boolean&gt; {\n    /**\n     * returning an observable of type boolean is the correct way\n     * to handle can activate that needs to wait for an observable result.\n     */\n    // 1. Select the authConfig from the store\n    return this.getAuthentication()\n      .pipe(\n        // 2. Take the first instance.\n        take(1),\n        // 3. map the observable to an observable of type boolean\n        // !! turns the value into a booleanca\n        map((auth: AuthConfig) =&gt; !!(auth &amp;&amp; auth.success === true)),\n        // 4. if not authenticated then redirect the user.\n        tap((auth: boolean) =&gt; this.redirectUserIfUnauthenticated(auth, this.getRedirectUrl(route))),\n        // catch any errors and handle them.\n        catchError((...args) =&gt; this.handleError.apply(this, args))\n      )\n  }\n</code></pre>\n\n<p>This is my getAuthentication</p>\n\n<pre><code>private getAuthentication(): Observable&lt;AuthConfig&gt; {\n    return zip(\n      this.store.select(ngrxTypes.authConfig),\n      this.store.select(ngrxTypes.optionsConfig)\n    ).pipe(\n      mergeMap((configurations: [AuthConfig, OptionsConfig]) =&gt; this.getAuthenticationStatus(configurations)),\n      mergeMap((authConfig: AuthConfig) =&gt; this.setAuthenticationStatus(authConfig))\n    );\n  }\n</code></pre>\n\n<p>This is where i perform http get method</p>\n\n<pre><code>private getAuthenticationStatus([auth, config]: [AuthConfig, OptionsConfig]): Observable&lt;AuthConfig&gt; {\n    if (auth) {\n      return this.store.select(ngrxTypes.authConfig);\n    } else {\n      const token = this.storageService.getCookie('token');\n      const apiUrl = `${environment.user_profile_domain_url || config.user_profile_domain_url}/widgets/api/auth`;\n      if (config &amp;&amp; token) {\n        return this.http.get(apiUrl, this.storageService.getHeader('Bearer', token))\n          .map(login =&gt; login.json())\n      } else {\n        this.store.dispatch(this.authActions.setAuthConfig({success: false}));\n        return this.store.select(ngrxTypes.authConfig);\n      }\n    }\n  }\n</code></pre>\n\n<p>As I go with the process it keeps me having this error. I don't have idea why this happens everytime.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oCa4U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCa4U.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "is_accepted": true, "score": 2, "last_activity_date": 1563327023, "creation_date": 1563327023, "answer_id": 57067367, "question_id": 57067346, "link": "https://stackoverflow.com/questions/57067346/restrict-field-type-based-on-another-field-value/57067367#57067367", "title": "Restrict field type based on another field value", "body": "<p>Your best chance would probably be to use discriminated unions:</p>\n\n<pre><code>type Action = {\n    type: 'action1' | 'action2';\n    value: number;\n} | {\n    type: 'action3';\n    value: Date;\n}\n</code></pre>\n"}], "owner": {"reputation": 6902, "user_id": 678477, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e50ed182939143af7fa26c9018f75615?s=128&d=identicon&r=PG", "display_name": "Alaa Masoud", "link": "https://stackoverflow.com/users/678477/alaa-masoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57067367, "answer_count": 1, "score": 0, "last_activity_date": 1563327023, "creation_date": 1563326785, "question_id": 57067346, "link": "https://stackoverflow.com/questions/57067346/restrict-field-type-based-on-another-field-value", "title": "Restrict field type based on another field value", "body": "<p>Given the following:</p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>type ActionType = \n    'action1' |\n    'action2' |\n    'action3';\n\ninterface Action {\n    type: ActionType;\n    value?: number | Date;\n}\n</code></pre>\n\n<p>Is there a way in typescript to restrict the type of <code>value</code> based on the value of <code>type</code>?</p>\n\n<p>For example, if <code>type</code> equals <code>action1</code> or <code>action2</code>, I want the <code>value</code> field to be of type <code>number</code> but if <code>type</code> is <code>action3</code> then I want the value to be of type <code>Date</code>.</p>\n\n<p>It's probably not possibly but just checking..</p>\n"}, {"tags": ["typescript", "interface", "polymorphism"], "answers": [{"comments": [{"owner": {"reputation": 790, "user_id": 1946418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c6eaa268d9cbf2d460dabe3899ea5671?s=128&d=identicon&r=PG", "display_name": "scorpion35", "link": "https://stackoverflow.com/users/1946418/scorpion35"}, "edited": false, "score": 1, "creation_date": 1563359076, "post_id": 57068035, "comment_id": 100670925, "body": "Generics! I use a ton of these in my C# API but it didn&#39;t cross my mind in TypeScript. Thank you very much for the tip :) (Recently started playing with Angular)"}], "tags": [], "owner": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "is_accepted": true, "score": 1, "last_activity_date": 1563333774, "last_edit_date": 1563333774, "creation_date": 1563333147, "answer_id": 57068035, "question_id": 57067343, "link": "https://stackoverflow.com/questions/57067343/typescript-polymorphism-with-data-model-interfaces/57068035#57068035", "title": "Typescript - Polymorphism with data model interfaces", "body": "<p>At what point are you setting the <code>this.appVersion.platform</code> variable? Could you parameterize the fetch call of your <code>appService</code> with a generic like <code>appsService.fetch&lt;T&gt;</code> and when you call it, parameterize it with your platform specific interface?</p>\n\n<p>That way if you do something like this:\n<code>appService.fetch&lt;IAppleApp&gt;(...)</code>\nYou could have the return type be the generic <code>T</code> and access that interface's structure.</p>\n"}], "owner": {"reputation": 790, "user_id": 1946418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c6eaa268d9cbf2d460dabe3899ea5671?s=128&d=identicon&r=PG", "display_name": "scorpion35", "link": "https://stackoverflow.com/users/1946418/scorpion35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 57068035, "answer_count": 1, "score": 0, "last_activity_date": 1563333774, "creation_date": 1563326774, "last_edit_date": 1563327219, "question_id": 57067343, "link": "https://stackoverflow.com/questions/57067343/typescript-polymorphism-with-data-model-interfaces", "title": "Typescript - Polymorphism with data model interfaces", "body": "<p>I think I am looking for a design pattern here. Here is what I have - </p>\n\n<p><strong>IApp.ts</strong></p>\n\n<pre><code>export interface IApp {\n   platform: PlatformEnum;\n   version: string;\n   islive: boolean;\n   title: string;\n   iconurl: string;\n}\n</code></pre>\n\n<p><strong>IAppleApp.ts</strong></p>\n\n<pre><code>export interface IAppleApp extends IApp {\n   buildversion: string;\n   versionstatus: string;\n   sku: boolean;\n   category: string;\n   accountid: string;\n}\n</code></pre>\n\n<p><strong>IAndroidApp.ts</strong></p>\n\n<pre><code>export interface IAndroidApp extends IApp {\n   versioncodes: string;\n   track: string;\n   rolloutpercentage: boolean;\n   acccountname: string;\n}\n</code></pre>\n\n<p>Pretty simple models to represent incoming data, nothing fancy.</p>\n\n<p>Now I have a service which makes the API calls and fetches the data as <code>IApp</code>.</p>\n\n<p><strong>apps.service.ts</strong></p>\n\n<pre><code>appVersion: IApp;\nappiOSVersion: IAppleApp;\nappAndroidVersion: IAndroidApp;\n\nif (this.appVersion.platform === PlatformEnum.ios) {\n   this.appiOSVersion = this.appVersion as IAppleApp;\n} else if (this.appVersion.platorm === PlatformEnum.android) {\n   this.appAndroidVersion = this.appVersion as IAndroidApp;\n}\n</code></pre>\n\n<p>And then I use <code>appsService.appiOSVersion</code> in <code>Apple</code> component, and <code>appsService.appAndroidVersion</code> in <code>Android</code> component. Both <code>Apple</code> and <code>Android</code> components have different logic. I tried to use <code>appsService.appVersion</code> in each component, but as it's of the base <code>IApp</code> type, the object doesn't have platform-specific properties; so have to use two different variables.</p>\n\n<p>My question: Is it possible to reuse <code>appsService.appVersion</code> in both <code>Apple</code> and <code>Android</code> components? (I need this variable to be in <code>apps.service.ts</code> for state management). Having two different variables is not crazy, right?</p>\n\n<p>Apologies if this doesn't make sense. Please let me know if you need more details. </p>\n\n<p>Many thanks in advance!</p>\n"}, {"tags": ["typescript", "inheritance"], "comments": [{"owner": {"reputation": 473, "user_id": 7957792, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JEWdQRna4SE/AAAAAAAAAAI/AAAAAAAAACc/UjLDoUn8mng/photo.jpg?sz=128", "display_name": "AsukaSong", "link": "https://stackoverflow.com/users/7957792/asukasong"}, "edited": false, "score": 0, "creation_date": 1563329961, "post_id": 57067234, "comment_id": 100659817, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/41385059/possible-to-extend-types-in-typescript\" title=\"possible to extend types in typescript\">stackoverflow.com/questions/41385059/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 3705060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40b411770556383cb88afa5aeb39a5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3705060", "link": "https://stackoverflow.com/users/3705060/user3705060"}, "edited": false, "score": 0, "creation_date": 1563379779, "post_id": 57067769, "comment_id": 100683332, "body": "Thanks, this works. I think I prefer @Henrik &#39;s answer using intersection types because when creating a Student with an misshapen object literal, the message is more succinct: <code>Type &#39;...&#39; is not assignable to type &#39;Student&#39;</code>, with the intermediate interface the message is `Type &#39;...&#39; is not assignable to type &#39;Readonly&lt;InternalStudent&gt;&#39;"}], "tags": [], "owner": {"reputation": 7026, "user_id": 7141073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b0f2e16c86753e559fdd61cce2051b1?s=128&d=identicon&r=PG&f=1", "display_name": "Fyodor", "link": "https://stackoverflow.com/users/7141073/fyodor"}, "is_accepted": false, "score": 0, "last_activity_date": 1563330625, "creation_date": 1563330625, "answer_id": 57067769, "question_id": 57067234, "link": "https://stackoverflow.com/questions/57067234/inheritance-with-readonly-types/57067769#57067769", "title": "Inheritance with Readonly&lt;&gt; types", "body": "<p>You need intermediate interface, say <code>InternalStudent</code>, which will extends <code>Person</code></p>\n\n<pre><code>type Person = Readonly&lt;{\n    name: string\n}&gt;\n\ninterface InternalStudent extends Person {\n    school: string\n}\n\ntype Student = Readonly&lt;InternalStudent&gt;;\n\nlet student: Student = { school: '1', name: '2' }  // OK\nstudent.name = '1';    // Error\nstudent.school = '2';  // Error\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9293, "user_id": 63621, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1698e0dceda985e2b71b15b5567dd795?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/63621/henrik"}, "is_accepted": true, "score": 0, "last_activity_date": 1563349174, "creation_date": 1563349174, "answer_id": 57070827, "question_id": 57067234, "link": "https://stackoverflow.com/questions/57067234/inheritance-with-readonly-types/57070827#57070827", "title": "Inheritance with Readonly&lt;&gt; types", "body": "<p>You could do this</p>\n\n<pre><code>type Person = Readonly&lt;{\n  name : string\n}&gt;\n\ntype Student = Person &amp; Readonly&lt;{\n  school : string\n}&gt;\n\nfunction x(s: Student) {\n  s.name = \"\" // error\n  s.school = \"\" // error\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 3705060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40b411770556383cb88afa5aeb39a5d?s=128&d=identicon&r=PG&f=1", "display_name": "user3705060", "link": "https://stackoverflow.com/users/3705060/user3705060"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 57070827, "answer_count": 2, "score": 1, "last_activity_date": 1563349174, "creation_date": 1563325746, "question_id": 57067234, "link": "https://stackoverflow.com/questions/57067234/inheritance-with-readonly-types", "title": "Inheritance with Readonly&lt;&gt; types", "body": "<p>I'm trying to setup an immutable, nested data structure with inheritance. Types are built with the Readonly generic type and need one of such Readonly types to extend another.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type Person = Readonly&lt;{\n  name : string\n}&gt;\n\ntype Student = Readonly&lt;{\n  school : string\n}&gt;\n</code></pre>\n\n<p>I need Student to extend Person and have the readonly name property.</p>\n"}, {"tags": ["typescript", "rxjs"], "comments": [{"owner": {"reputation": 3306, "user_id": 2888753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4f46021e22a612af73b4b980bf91c6?s=128&d=identicon&r=PG", "display_name": "miqh", "link": "https://stackoverflow.com/users/2888753/miqh"}, "edited": false, "score": 0, "creation_date": 1563324987, "post_id": 57067130, "comment_id": 100659004, "body": "From the snippet you&#39;ve provided, why not simply have one return statement and then use <code>hasArea</code> as a ternary condition (i.e. <code>template.AreaId.toString()</code> or <code>&#39;&#39;</code>) for the <code>AreaPathId</code> property you&#39;re mapping to? The names of properties in <code>template</code> don&#39;t appear to match the names of the object you&#39;re mapping it to (e.g. <code>AreaPathId</code> is mapped to <code>AreaId</code>), otherwise you could probably take advantage of <code>Object.keys()</code> to dynamically map based on name alone."}, {"owner": {"reputation": 1333, "user_id": 430620, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cb76a3a4ac562137bb5a6a7102b8bb09?s=128&d=identicon&r=PG", "display_name": "Jennifer S", "link": "https://stackoverflow.com/users/430620/jennifer-s"}, "reply_to_user": {"reputation": 3306, "user_id": 2888753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4f46021e22a612af73b4b980bf91c6?s=128&d=identicon&r=PG", "display_name": "miqh", "link": "https://stackoverflow.com/users/2888753/miqh"}, "edited": false, "score": 0, "creation_date": 1563326350, "post_id": 57067130, "comment_id": 100659211, "body": "@miqh  Thanks for the suggestion.  It makes sense conceptually, but I&#39;m new to typescript and rxjs, so I don&#39;t know how to implement what you are suggesting syntax-wise.  What would a ternary condition look like?"}], "answers": [{"comments": [{"owner": {"reputation": 1333, "user_id": 430620, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cb76a3a4ac562137bb5a6a7102b8bb09?s=128&d=identicon&r=PG", "display_name": "Jennifer S", "link": "https://stackoverflow.com/users/430620/jennifer-s"}, "edited": false, "score": 0, "creation_date": 1563331238, "post_id": 57067626, "comment_id": 100660025, "body": "Thanks so much for the clear explanation.  I&#39;ve learned a lot here.  I&#39;m sure this will be part of the refactoring."}, {"owner": {"reputation": 3306, "user_id": 2888753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4f46021e22a612af73b4b980bf91c6?s=128&d=identicon&r=PG", "display_name": "miqh", "link": "https://stackoverflow.com/users/2888753/miqh"}, "reply_to_user": {"reputation": 1333, "user_id": 430620, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cb76a3a4ac562137bb5a6a7102b8bb09?s=128&d=identicon&r=PG", "display_name": "Jennifer S", "link": "https://stackoverflow.com/users/430620/jennifer-s"}, "edited": false, "score": 0, "creation_date": 1563333012, "post_id": 57067626, "comment_id": 100660324, "body": "No problem\u2014glad that helped. :-)"}], "tags": [], "owner": {"reputation": 3306, "user_id": 2888753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4f46021e22a612af73b4b980bf91c6?s=128&d=identicon&r=PG", "display_name": "miqh", "link": "https://stackoverflow.com/users/2888753/miqh"}, "is_accepted": true, "score": 1, "last_activity_date": 1563329415, "creation_date": 1563329415, "answer_id": 57067626, "question_id": 57067130, "link": "https://stackoverflow.com/questions/57067130/rxjs-how-to-deal-with-null-values-in-map-operation/57067626#57067626", "title": "rxjs How to deal with null values in map operation?", "body": "<p>Expanding out from my comment, my suggestion about using the ternary operator would look like the following:</p>\n\n<pre><code>getTaskFromTemplate(extraChildTask:string) : Observable&lt;Task&gt;{\nreturn this.templateService.getTemplateByName(extraChildTask).pipe(\n    map(template =&gt; {\n      return {\n        WorkItemId:'',\n        WorkItemType:'Task',\n        Title: template.Title,\n        Description: template.Description,\n        AssignedTo: '',\n        TeamProject: template.TeamProjectName,\n        // Just use a ternary to prevent the `toString()` call if the property\n        // does not exist on the template\n        AreaPathId: template.AreaId != null ? template.AreaId.toString() : '',\n        IterationPathId: '',\n        Application:'',\n        State:'',\n        TargetDate: null,\n        OriginalEstimate: 0,\n        CompletedWork: 0,\n        RemainingWork:0,\n        BusinessPriority: '',\n        CreatedBy:'',\n        CreatedDate: null,\n        Priority:'',\n        Notes:'',\n        AreaPathName:'',\n        IterationPathName:'',\n      }; \n    }),\n    catchError((error: HttpErrorResponse) =&gt; { return throwError(error); })\n  )\n}\n</code></pre>\n\n<p>Also expanding on what I said about the potential to dynamically map properties (i.e. to avoid explicitly specifying the mapping of each property in involved), a demonstration of a possible solution might look like the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { of } = rxjs;\r\nconst { map } = rxjs.operators;\r\n\r\nconst baseTask = {\r\n    Title: '',\r\n    Description: '',\r\n    TeamProjectName: '',\r\n    AreaPathId: '',\r\n    WorkItemId: '',\r\n    WorkItemType: 'Task',\r\n    // ...\r\n};\r\n\r\nfunction getTaskFromTemplate(extraChildTask, hasArea) {\r\n  return getTemplateByName(extraChildTask).pipe(\r\n    map(template =&gt; {\r\n      // Merges properties the acquired template with those in the base task\r\n      // with the properties in the template taking precedence\r\n      return Object.assign({}, baseTask, template);\r\n    }),\r\n  );\r\n}\r\n\r\n// Stub implementation that just returns a fixed template\r\nfunction getTemplateByName(extraChildTask) {\r\n  return of({\r\n    Title: 'Title',\r\n    Description: 'Description',\r\n    TeamProjectName: 'Team Project Name',\r\n    AreaPathId: 'Area Path ID',\r\n    // ...\r\n  });\r\n}\r\n\r\n// Example usage in action\r\ngetTaskFromTemplate('something').subscribe(task =&gt; {\r\n  console.log(task);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/rxjs@6.5.2/bundles/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As I noted, if some task property names don't match names from the template you need to map from, this can be solved by setting up some additional mapping steps.</p>\n"}], "owner": {"reputation": 1333, "user_id": 430620, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/cb76a3a4ac562137bb5a6a7102b8bb09?s=128&d=identicon&r=PG", "display_name": "Jennifer S", "link": "https://stackoverflow.com/users/430620/jennifer-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1556, "favorite_count": 0, "accepted_answer_id": 57067626, "answer_count": 1, "score": 0, "last_activity_date": 1563329415, "creation_date": 1563324378, "last_edit_date": 1563324844, "question_id": 57067130, "link": "https://stackoverflow.com/questions/57067130/rxjs-how-to-deal-with-null-values-in-map-operation", "title": "rxjs How to deal with null values in map operation?", "body": "<p>I have an angular service that gets values from an http get, and then maps the values to an Observable of a specific object type as it returns.  Sometimes the value of one of the properties is a string, and sometimes it is a null value that I want to set to a default empty string. </p>\n\n<p>Is there a more elegant way to do this than what I have?  </p>\n\n<p>I have tried passing in a boolean value for the specific field that is of interest to me, the template.AreaId attribute, but I am concerned as more attributes  may have this issue over time as there are more template objects created.</p>\n\n<pre><code>getTaskFromTemplate(extraChildTask:string, hasArea: boolean) : Observable&lt;Task&gt;{\n    if (hasArea){\n      return this.templateService.getTemplateByName(extraChildTask).pipe(\n        map(template =&gt; {\n          return {\n            WorkItemId:'',\n            WorkItemType:'Task',\n            Title: template.Title,\n            Description: template.Description,\n            AssignedTo: '',\n            TeamProject: template.TeamProjectName,\n            AreaPathId: template.AreaId.toString(),\n            IterationPathId: '',\n            Application:'',\n            State:'',\n            TargetDate: null,\n            OriginalEstimate: 0,\n            CompletedWork: 0,\n            RemainingWork:0,\n            BusinessPriority: '',\n            CreatedBy:'',\n            CreatedDate: null,\n            Priority:'',\n            Notes:'',\n            AreaPathName:'',\n            IterationPathName:'',\n          }; \n        }),\n        catchError((error: HttpErrorResponse) =&gt; { return throwError(error); })\n      )\n    }\n    return this.templateService.getTemplateByName(extraChildTask).pipe(\n      map(template =&gt; {\n        return {\n          WorkItemId:'',\n          WorkItemType:'Task',\n          Title: template.Title,\n          Description: template.Description,\n          AssignedTo: '',\n          TeamProject: template.TeamProjectName,\n          AreaPathId: '',\n          IterationPathId: '',\n          Application:'',\n          State:'',\n          TargetDate: null,\n          OriginalEstimate: 0,\n          CompletedWork: 0,\n          RemainingWork:0,\n          BusinessPriority: '',\n          CreatedBy:'',\n          CreatedDate: null,\n          Priority:'',\n          Notes:'',\n          AreaPathName:'',\n          IterationPathName:'',\n        }; \n      }),\n      catchError((error: HttpErrorResponse) =&gt; { return throwError(error); })\n    )\n  }\n\n}\n</code></pre>\n\n<p>This works, but I would prefer to have a way to better handle situations where a field is null, or does not have a string value.</p>\n\n<p>Here is what I had before I had an issue with the template.AreaId value being null.</p>\n\n<pre><code>getTaskFromTemplate(extraChildTask:string) : Observable&lt;Task&gt;{\nreturn this.templateService.getTemplateByName(extraChildTask).pipe(\n    map(template =&gt; {\n      return {\n        WorkItemId:'',\n        WorkItemType:'Task',\n        Title: template.Title,\n        Description: template.Description,\n        AssignedTo: '',\n        TeamProject: template.TeamProjectName,\n        AreaPathId: template.AreaId.toString(),\n        IterationPathId: '',\n        Application:'',\n        State:'',\n        TargetDate: null,\n        OriginalEstimate: 0,\n        CompletedWork: 0,\n        RemainingWork:0,\n        BusinessPriority: '',\n        CreatedBy:'',\n        CreatedDate: null,\n        Priority:'',\n        Notes:'',\n        AreaPathName:'',\n        IterationPathName:'',\n      }; \n    }),\n    catchError((error: HttpErrorResponse) =&gt; { return throwError(error); })\n  )\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular6"], "answers": [{"tags": [], "owner": {"reputation": 712, "user_id": 3960278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808701ff88147f3c54750b3154728068?s=128&d=identicon&r=PG&f=1", "display_name": "Surya", "link": "https://stackoverflow.com/users/3960278/surya"}, "is_accepted": true, "score": 0, "last_activity_date": 1563324536, "creation_date": 1563324536, "answer_id": 57067148, "question_id": 57067052, "link": "https://stackoverflow.com/questions/57067052/after-initialize-an-array-it-shows-me-that-he-is-undefined-inside-then-of-a-pr/57067148#57067148", "title": "After initialize an array it shows me that he is undefined inside &quot;then&quot; of a promise function", "body": "<p>That is because 'this' is different in both the scopes.</p>\n\n<pre><code>console.log(this.arr);\nmyService.getData(). then(data =&gt;{\n      console.log(this.arr);\n      this.arr[0].myData = data;\n }.bind(this));\n</code></pre>\n\n<p>OR, even better:</p>\n\n<pre><code>var self = this;\nconsole.log(self.arr);\nmyService.getData(). then(data =&gt;{\n      console.log(self.arr);\n      self.arr[0].myData = data;\n });\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9767023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ebay Eliav", "link": "https://stackoverflow.com/users/9767023/ebay-eliav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57067148, "answer_count": 1, "score": 1, "last_activity_date": 1563324866, "creation_date": 1563323555, "last_edit_date": 1563324866, "question_id": 57067052, "link": "https://stackoverflow.com/questions/57067052/after-initialize-an-array-it-shows-me-that-he-is-undefined-inside-then-of-a-pr", "title": "After initialize an array it shows me that he is undefined inside &quot;then&quot; of a promise function", "body": "<p>My code:</p>\n\n<p>Typescript:</p>\n\n<pre><code>console.log(this.arr);\nmyService.getData(). then(data =&gt;{\n      console.log(this.arr);\n      this.arr[0].myData = data;\n });\n</code></pre>\n\n<p>the logs in chrome\n1. arr.length=1 - the array is Initialized\n2. undefined</p>\n"}, {"tags": ["typescript"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1563324031, "creation_date": 1563324031, "answer_id": 57067096, "question_id": 57067022, "link": "https://stackoverflow.com/questions/57067022/why-always-true-conditional-type-in-return-does-not-type-check-in-this-case/57067096#57067096", "title": "Why always true conditional type in return does not type check in this case", "body": "<p>It's more like you know more than it does... the compiler doesn't try to do any deep analysis of conditional types that depend on unresolved generic type parameters.  That is, the conditional type <code>F extends B ? F[K] : undefined</code> isn't really evaluated inside the function implementation, where <code>F</code> has yet to be specified with a concrete type.  So while it's easy enough for you to see that <code>F extends B ? F[K] : undefined</code> must be the same as <code>F[K]</code>, because the condition <code>F extends B</code> is the same as the generic constraint <code>F extends B</code>, the compiler doesn't even begin to do this (likely for performance reasons).  </p>\n"}], "owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 2, "accepted_answer_id": 57067096, "answer_count": 1, "score": 3, "last_activity_date": 1563324031, "creation_date": 1563323288, "question_id": 57067022, "link": "https://stackoverflow.com/questions/57067022/why-always-true-conditional-type-in-return-does-not-type-check-in-this-case", "title": "Why always true conditional type in return does not type check in this case", "body": "<p>I find</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type B = { \n  foo: string;\n  bar: number;\n};\n\nfunction get&lt;F extends B, K extends keyof B&gt;(f: F, k: K): F[K] {\n  return f[k];\n}\n</code></pre>\n\n<p>intuitively identical to</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function get&lt;F extends B, K extends keyof B&gt;(f: F, k: K): F extends B ? F[K] : undefined {\n  return f[k];\n}\n</code></pre>\n\n<p>but the latter does not type check: </p>\n\n<pre><code>Type 'F[K]' is not assignable to type 'F extends B ? F[K] : undefined'.\n  Type 'F[\"foo\"] | F[\"bar\"]' is not assignable to type 'F extends B ? F[K] : undefined'.\n    Type 'F[\"foo\"]' is not assignable to type 'F extends B ? F[K] : undefined'.\n      Type 'string' is not assignable to type 'F extends B ? F[K] : undefined'.\n</code></pre>\n\n<p>Hence a question: what does TS compiler know about types that is not obvious to me?</p>\n\n<p>Playground: <a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAQlC8UDeUBQUoDMD22BcUAzsAE4CWAdgOYDc6UARgIYkEUCuAtgxCXQL51M7CgGNgZbBShUIwADwAxKBAAewCBQAmhWABooAaRXrNOqAGsIIbJlgA+ABSYCigxYKGAlK5MbtunAA-FCKANqGALpQBCJaEJiUEFrI9CRy7CTSmGEWkQKoQA\" rel=\"nofollow noreferrer\">http://www.typescriptlang.org/play/#code/C4TwDgpgBAQlC8UDeUBQUoDMD22BcUAzsAE4CWAdgOYDc6UARgIYkEUCuAtgxCXQL51M7CgGNgZbBShUIwADwAxKBAAewCBQAmhWABooAaRXrNOqAGsIIbJlgA+ABSYCigxYKGAlK5MbtunAA-FCKANqGALpQBCJaEJiUEFrI9CRy7CTSmGEWkQKoQA</a></p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-props"], "comments": [{"owner": {"reputation": 8698, "user_id": 4897779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3fOc.png?s=128&g=1", "display_name": "jered", "link": "https://stackoverflow.com/users/4897779/jered"}, "edited": false, "score": 1, "creation_date": 1563325763, "post_id": 57066739, "comment_id": 100659110, "body": "You need to provide more detail for us to be of any use. What error are you currently seeing? Is it a build error or a live console error? What have you tried so far? What is your expected behavior?"}, {"owner": {"reputation": 45, "user_id": 7401830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BUdm5YNbxrk/AAAAAAAAAAI/AAAAAAAAAAw/OUhPrgM_bhU/photo.jpg?sz=128", "display_name": "Assaf petronio", "link": "https://stackoverflow.com/users/7401830/assaf-petronio"}, "reply_to_user": {"reputation": 8698, "user_id": 4897779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3fOc.png?s=128&g=1", "display_name": "jered", "link": "https://stackoverflow.com/users/4897779/jered"}, "edited": false, "score": 0, "creation_date": 1563351226, "post_id": 57066739, "comment_id": 100666590, "body": "I think most of them are typescript  or declarations errors, I tried making it a prop but I think I&#39;m not doing it right."}], "owner": {"reputation": 45, "user_id": 7401830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BUdm5YNbxrk/AAAAAAAAAAI/AAAAAAAAAAw/OUhPrgM_bhU/photo.jpg?sz=128", "display_name": "Assaf petronio", "link": "https://stackoverflow.com/users/7401830/assaf-petronio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1563334736, "creation_date": 1563320360, "last_edit_date": 1563334736, "question_id": 57066739, "link": "https://stackoverflow.com/questions/57066739/passing-function-as-a-react-prop", "title": "Passing function as a react prop", "body": "<p>I've recently started a project with a friend, now I'm trying to pass a click function of a popover from the popover component to a button component in a different place.\nI know I'm suppose to pass the function as a prop and use it in the button component, but since I'm new to react and TypeScript I am having trouble doing that and I encounter a new error with every step.</p>\n\n<pre><code>function rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles((theme: Theme) =&gt;\n  createStyles({\n    paper: {\n      position: \"absolute\",\n      width: 400\n    }\n  })\n);\n\nconst SimpleModal = () =&gt; {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n  const [open, setOpen] = React.useState(false);\n\n  const handleOpen = () =&gt; {\n    setOpen(true);\n  };\n\n  const handleClose = () =&gt; {\n    setOpen(false);\n  };\n\n  return (\n    &lt;div&gt;\n      &lt;button type=\"button\" onClick={handleOpen}&gt;\n        a\n      &lt;/button&gt;\n      &lt;Modal\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n        open={open}\n        onClose={handleClose}\n      &gt;\n        &lt;div style={modalStyle} className={classes.paper}&gt;\n          &lt;Popover /&gt;\n        &lt;/div&gt;\n      &lt;/Modal&gt;\n    &lt;/div&gt;\n  );\n};\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1563320714, "post_id": 57066689, "comment_id": 100658255, "body": "Does @company/core have the aws-sdk registered in the package.json? Is it in depedencies or devDependencies?"}, {"owner": {"reputation": 4688, "user_id": 1794925, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d93645aa27646106a37b3cd64f77b9ae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1794925/shawn"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1563373392, "post_id": 57066689, "comment_id": 100679492, "body": "<code>aws-sdk</code> is in the package.json as dependency for <code>@company&#47;core</code>"}], "owner": {"reputation": 4688, "user_id": 1794925, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d93645aa27646106a37b3cd64f77b9ae?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1794925/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1563319961, "creation_date": 1563319961, "question_id": 57066689, "link": "https://stackoverflow.com/questions/57066689/webpack-complains-module-not-found", "title": "webpack complains module not found", "body": "<p>I just added an external package nameed <code>@company\\core</code> to my react app. that external package has a dependency on <code>aws-sdk</code></p>\n\n<p><code>@company\\core</code> is written in typescript and built/transpiled into js.</p>\n\n<p>After npm i the folder structure looks like this</p>\n\n<pre><code>\\react-app\\node_modules\\aws-sdk\n\\react-app\\node_modules\\@company\\core\\node_modules\\aws-sdk\n</code></pre>\n\n<p>But it failed at</p>\n\n<pre><code>import * as Core  from '@company/core';\n</code></pre>\n\n<p>The error reads:</p>\n\n<pre><code>Uncaught Error: Cannot find module 'aws-sdk'\n    at webpackEmptyContext (:3000/static/js/main.chunk.js:11)\n    at :3000/static/js/17.chunk.js:44252\n    at :3000/static/js/17.chunk.js:44231\n    at Object.&lt;anonymous&gt; (:3000/static/js/17.chunk.js:44239)\n    at Object../node_modules/@company/core/lib/index.js (:3000/static/js/17.chunk.js:44438)\n    at __webpack_require__ (:3000/static/js/bundle.js:787)\n    at fn (:3000/static/js/bundle.js:150)\n    at Module../src/utilities/amplifyInit.js (:3000/static/js/main.chunk.js:3118)\n    at __webpack_require__ (:3000/static/js/bundle.js:787)\n    at fn (:3000/static/js/bundle.js:150)\n    at Module../src/App.js (:3000/static/js/main.chunk.js:121)\n    at __webpack_require__ (:3000/static/js/bundle.js:787)\n    at fn (:3000/static/js/bundle.js:150)\n    at Module../src/index.js (:3000/static/js/main.chunk.js:2470)\n    at __webpack_require__ (:3000/static/js/bundle.js:787)\n    at fn (:3000/static/js/bundle.js:150)\n    at Object.0 (:3000/static/js/main.chunk.js:3284)\n    at __webpack_require__ (:3000/static/js/bundle.js:787)\n    at checkDeferredModules (:3000/static/js/bundle.js:46)\n    at Array.webpackJsonpCallback [as push] (:3000/static/js/bundle.js:33)\n    at :3000/static/js/main.chunk.js:1\n</code></pre>\n\n<p>Why aws-sdk is invisible? Any idea?</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1563319623, "post_id": 57066633, "comment_id": 100658062, "body": "What\u2019s the error message exactly?"}, {"owner": {"reputation": 737, "user_id": 4104734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dc86de1205d77de61cbb2a111fcc663?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4104734/john"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1563319717, "post_id": 57066633, "comment_id": 100658080, "body": "@deceze updated post with error message"}, {"owner": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1563319923, "post_id": 57066633, "comment_id": 100658116, "body": "So, nothing to do with special characters. It\u2019s just that the property could be one of three different types, two of which don\u2019t have a property <code>signupContext</code>. You need to tell Typescript that you\u2019re very sure which of the three types your value is for it to ignore that potential error."}, {"owner": {"reputation": 737, "user_id": 4104734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dc86de1205d77de61cbb2a111fcc663?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4104734/john"}, "reply_to_user": {"reputation": 469147, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1563320384, "post_id": 57066633, "comment_id": 100658188, "body": "@deceze I see now. I have updated the post to include another option but this time I am getting stuck on the special characters in the key name. Any insight?"}, {"owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1563323516, "post_id": 57066633, "comment_id": 100658767, "body": "put quotes around a key with special characters like <code>interface Foo { unspecial: string; &quot;!!special!!&quot;: string }</code>."}, {"owner": {"reputation": 737, "user_id": 4104734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dc86de1205d77de61cbb2a111fcc663?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4104734/john"}, "reply_to_user": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "edited": false, "score": 0, "creation_date": 1563323561, "post_id": 57066633, "comment_id": 100658773, "body": "@jcalz thanks that worked! honestly can&#39;t believe the answer was so obvious (face palm emoji)"}], "owner": {"reputation": 737, "user_id": 4104734, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dc86de1205d77de61cbb2a111fcc663?s=128&d=identicon&r=PG&f=1", "display_name": "john", "link": "https://stackoverflow.com/users/4104734/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "closed_date": 1563323646, "answer_count": 0, "score": 0, "last_activity_date": 1563320335, "creation_date": 1563319414, "last_edit_date": 1563320335, "question_id": 57066633, "link": "https://stackoverflow.com/questions/57066633/typescript-accessing-nested-object-values-of-interface-keys-with-special-charac", "closed_reason": "Duplicate", "title": "Typescript: accessing nested object values of interface keys with special characters", "body": "<p>I have an AuthProfile object that returns a dynamic range of keys:</p>\n\n<pre><code>interface appMetadataProps  {\n  signupContext: string\n}\n\ninterface AuthProfileProps {\n [key: string]: string | boolean | appMetadataProps \n\n}\nconst authProfile: AuthProfileProps = Auth.getProfile();\n</code></pre>\n\n<p>I know that the authProfile will contain one key that is a string url. I also know that that the url key will have an object as its value which will contain the key 'signupContext'</p>\n\n<pre><code>let context =\n      authProfile['http://myapp.com/app_metadata'].signupContext\n</code></pre>\n\n<p>^^ However I am getting an error when trying to access the .signupContext value. My initial thought was that since the the dynamic keys in the AuthProfileProps interface can have a type of appMetaDataProps then typescript should not give me any issues accessing the value of the signupContext key.</p>\n\n<p>What I am I doing wrong here?</p>\n\n<p>I get the following error message:</p>\n\n<pre><code>Property 'signupContext' does not exist on type 'string | boolean | appMetadataProps'.\n  Property 'signupContext' does not exist on type 'string'.ts(2339)\n</code></pre>\n\n<p>--- Other Option ----</p>\n\n<p>My other option is to explicitly to define '<a href=\"http://myapp.com/app_metadata\" rel=\"nofollow noreferrer\">http://myapp.com/app_metadata</a>' as a key in the AuthProfileProps Interface. But typescript doesn't recognize it as a key because of the colon (:) in the key name. How do I specify key names with special characters? </p>\n\n<pre><code>interface AuthProfileProps {\n [key: string]: string | boolean ,\n http://myapp.com/app_metadata : appMetaDataProps\n\n}\n</code></pre>\n"}, {"tags": ["node.js", "typescript"], "comments": [{"owner": {"reputation": 4981, "user_id": 788054, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/989182d5e6c87c3c10c2939ff01ec503?s=128&d=identicon&r=PG&f=1", "display_name": "blitzmann", "link": "https://stackoverflow.com/users/788054/blitzmann"}, "reply_to_user": {"reputation": 253913, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1563320117, "post_id": 57066610, "comment_id": 100658150, "body": "If it was a normal method, I could just use <code>super.method()</code>."}], "answers": [{"comments": [{"owner": {"reputation": 4981, "user_id": 788054, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/989182d5e6c87c3c10c2939ff01ec503?s=128&d=identicon&r=PG&f=1", "display_name": "blitzmann", "link": "https://stackoverflow.com/users/788054/blitzmann"}, "edited": false, "score": 0, "creation_date": 1563370901, "post_id": 57068153, "comment_id": 100677767, "body": "hrm, I thought I got the return type from some other tutorial on generators, guess it was wrong? Anyways, this makes loads of sense, thanks!"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 4981, "user_id": 788054, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/989182d5e6c87c3c10c2939ff01ec503?s=128&d=identicon&r=PG&f=1", "display_name": "blitzmann", "link": "https://stackoverflow.com/users/788054/blitzmann"}, "edited": false, "score": 1, "creation_date": 1563374390, "post_id": 57068153, "comment_id": 100680177, "body": "@blitzmann the return type of generator functions do implement the iterator interface, but it&#39;s important for this particular example that they implement the iterable interface as well, otherwise they&#39;re not a valid target of the <code>yield*</code> operator (or <code>for...of</code> loop)."}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 1, "last_activity_date": 1563334740, "last_edit_date": 1563334740, "creation_date": 1563334311, "answer_id": 57068153, "question_id": 57066610, "link": "https://stackoverflow.com/questions/57066610/how-to-call-parent-classs-symbol-iterator-from-within-childs-symbol-iterator/57068153#57068153", "title": "How to call parent class&#39;s Symbol.iterator from within child&#39;s Symbol.iterator", "body": "<p>Generator functions have a return type of <code>IterableIterator&lt;T&gt;</code>, not <code>Iterator&lt;T&gt;</code>. This was preventing TypeScript from being able to consume the method from the super class as an iterable. In general, you should let TypeScript infer the return value of your functions unless it warns you that it is not able to.</p>\n\n<pre><code>class BaseIter {\n  constructor(public a: number, public b: number, public c: number, public d: number) {}\n\n  * [Symbol.iterator] () {\n    yield this.a;\n    yield this.b;\n    yield this.c;\n    yield this.d;\n  }\n}\n\nclass MyIter extends BaseIter {\n  get total () {\n    return this.a + this.b + this.c + this.d;\n  }\n\n  * [Symbol.iterator] () {\n    yield * super[Symbol.iterator]();\n    yield this.total;\n  }\n}\n\nconst myIter = new MyIter(1, 2, 3, 4);\n\nfor (const n of myIter) {\n  console.log(n);\n}\n</code></pre>\n"}], "owner": {"reputation": 4981, "user_id": 788054, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/989182d5e6c87c3c10c2939ff01ec503?s=128&d=identicon&r=PG&f=1", "display_name": "blitzmann", "link": "https://stackoverflow.com/users/788054/blitzmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 1, "accepted_answer_id": 57068153, "answer_count": 1, "score": 2, "last_activity_date": 1563334740, "creation_date": 1563319200, "question_id": 57066610, "link": "https://stackoverflow.com/questions/57066610/how-to-call-parent-classs-symbol-iterator-from-within-childs-symbol-iterator", "title": "How to call parent class&#39;s Symbol.iterator from within child&#39;s Symbol.iterator", "body": "<p>I have the following two classes in TypeScript.</p>\n\n<pre><code>class BaseIter {\n  constructor(public a: number, public b: number, public c: number, public d: number){}\n  *[Symbol.iterator](): Iterator&lt;number&gt; {\n    yield this.a\n    yield this.b\n    yield this.c\n    yield this.d\n  }\n}\n\nclass MyIter extends BaseIter {\n  get total() {\n    return this.a + this.b + this.c + this.d\n  }\n\n  *[Symbol.iterator](): Iterator&lt;number&gt; {\n    for(let x of this){\n      yield x  \n    }\n    yield this.total\n  }\n}\n\nconst myIter = new MyIter(1, 2, 3, 4);\n\nfor (let n of myIter){\n  console.log(n);\n}\n</code></pre>\n\n<p>The <code>BaseIter</code> class takes in four arguments, and yields those four argument back when iterated. I have child class that extends <code>BaseIter</code> which is supposed to use the parents iteration function but also yield an extra value (the total). The current code doesn't work - it causes an infinite recursion (iterating over <code>this</code> calls the same function, instead of the base function). I've tried various methods of <code>super</code> without luck.</p>\n\n<p>I expect it to produce </p>\n\n<pre><code>1\n2\n3\n4\n10\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["typescript", "mocha.js", "chai"], "answers": [{"comments": [{"owner": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "edited": false, "score": 0, "creation_date": 1563328408, "post_id": 57067023, "comment_id": 100659549, "body": "Yes, but this shouldn&#39;t be necessary. I guess another way to phrase my question is how can we make <code>expect(reticulatedSpline).to.not.be.null;</code> to behave like an <code>if</code> as far as TypeScript is concerned and/or help the typechecker detect this?"}, {"owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "reply_to_user": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "edited": false, "score": 0, "creation_date": 1563329398, "post_id": 57067023, "comment_id": 100659728, "body": "Ok, so what you would like to happen is not to need to modify the line <code>expect(reticulatedSpline.reticulatedCount).to.eq(1);</code> since you have already validated that <code>reticulatedSpline</code> is not null with the previous assert. Because if this is the case, then the issue is that the compiler can&#39;t infer this from the assertion. You have to help it somehow. And you can do this using the <code>non-null</code> operator or typecasting the <code>reticulatedSpline</code> variable to a Spline with <code>reticulatedSpline as Spline</code>."}, {"owner": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "edited": false, "score": 0, "creation_date": 1563332077, "post_id": 57067023, "comment_id": 100660172, "body": "Why can&#39;t it infer it? The assertion ultimately raises an exception on a <code>null</code>. Is this a bug/feature request to TS?"}, {"owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "reply_to_user": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "edited": false, "score": 0, "creation_date": 1563332203, "post_id": 57067023, "comment_id": 100660187, "body": "I say it can&#39;t infer it because whose doing the assertion is <code>mocha</code> in its way. But you could propose it, though I don&#39;t think its going to fly."}, {"owner": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "edited": false, "score": 0, "creation_date": 1563333381, "post_id": 57067023, "comment_id": 100660378, "body": "So currently the options are to do <code>const reticulatedSpline = spline.reticulate() as Spline</code>, to use <code>!</code> or to check explicitly, to define a helper:  ``` function expectNotNull(value: any) {   if (value) {     return value;   } else {     expect(value).to.not.be.null;   } } ``` and use it with <code>const reticulatedSpline = expectNotNull(spline.reticulate());</code>.  I think this answer (use <code>!</code>) is the most elegant so far."}], "tags": [], "owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "is_accepted": true, "score": 2, "last_activity_date": 1563323300, "creation_date": 1563323300, "answer_id": 57067023, "question_id": 57066536, "link": "https://stackoverflow.com/questions/57066536/how-can-i-avoid-an-if-else-in-typescript-with-mocha-and-undefined-returns/57067023#57067023", "title": "How can I avoid an if/else in TypeScript with mocha and undefined returns?", "body": "<p>You can use the <code>non-null</code> (<code>!</code>) operator.</p>\n\n<pre><code>it(\"always can be reticulated again\", () =&gt; {\n  const reticulatedSpline = spline.reticulate();\n  expect(reticulatedSpline).to.not.be.null;\n  expect(reticulatedSpline!.reticulatedCount).to.eq(1);\n});\n</code></pre>\n\n<p>As the documentation says:</p>\n\n<blockquote>\n  <p>[You] may be used to assert that its operand is non-null and non-undefined in contexts where the type checker is unable to conclude that fact</p>\n</blockquote>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-0.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"}, {"tags": [], "owner": {"reputation": 3553, "user_id": 385754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f116cb3be23153ec08b94e8bd4dbcfeb?s=128&d=identicon&r=PG", "display_name": "orta", "link": "https://stackoverflow.com/users/385754/orta"}, "is_accepted": false, "score": 0, "last_activity_date": 1563553352, "creation_date": 1563553352, "answer_id": 57116310, "question_id": 57066536, "link": "https://stackoverflow.com/questions/57066536/how-can-i-avoid-an-if-else-in-typescript-with-mocha-and-undefined-returns/57116310#57116310", "title": "How can I avoid an if/else in TypeScript with mocha and undefined returns?", "body": "<p>Because <code>.to.not.be.null</code> doesn't affect code flow in these examples, TS can't currently infer that it makes changes to params passed into it. There is a code-flow dependent way to do this using <a href=\"https://basarat.gitbooks.io/typescript/docs/types/typeGuard.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">user-defined type guards</a>.</p>\n\n<pre><code>function assertNotNull&lt;T&gt;(v: T | null): v is NonNullable&lt;T&gt; {\n    if (!v) throw new Error();\n    return true\n}\n\ndeclare const maybeAString: string | undefined\n\nfunction ex() {\n    // Doesn't work because TS has no way to know that this will throw\n    assertNotNull(maybeAString)\n    maybeAString\n\n    // Control flow analysis knows that this function will validate that maybeAString is definitely not null\n    if(assertNotNull(maybeAString)) {\n        maybeAString // now definitely a string\n    }\n\n    // control flow analysis knows that the branch where maybeAString isn't not null (aka is null) returns, so the main path must be non-null\n    if(!assertNotNull(maybeAString)) return\n\n    maybeAString // now definitely a string\n}\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/play/index.html#code/MYewdgzgLgBAhgLhgOXMgrgG03ARpgUwB5oAnASzAHMYAfGdMAEwIDNKCmA+GAXhgBEEJqwEAoCa0bAo5cPAgQCpKKlVZMRACpcAFADckWujDAaAlEn0xyEFGg15C2ngG8xMTzdYxdAQn1zGCgAC1IQAHdTAiiAUVJw0l1zAG4PL1ICKHRSMGDSdAIxAF8JFmAcTJhQSFhcJDJKGnpGFnYwTjFyyoJq8GhqpDMAW1xlE1a2DiZJaVl5AgAPZJh3LxgAeg2YABEQAggwAHJYCJBSAGsYMeA4dCUYLQBlGBC4OzAQGAi4AE9gr4XT5RUJwWChWzfcjYYJhSLpTzvJQqNQYbC6XDmBHXCTrLYwADC4Cg4UwMFYmEi8DAcEwvwgkKBkTsoPBIUhUjAMjkeQi0LJ+lp5CYYN6rJgADUbHY2pRyFACHTTCBYGZsNjyKxdEjlKoVWjMBjzEE1usvLgYNjStj8TUSSAyRSqXAaXSGXYmREWW82b1cKQXcAQt8Qso-dLjqqVaYNDBMtlchAADQwCBfUK9YZwSgwAAOYODw3udTFBSK601-h1KP1GiNQXjOTA2NwJTEQA\" rel=\"nofollow noreferrer\">playground</a></p>\n"}, {"comments": [{"owner": {"reputation": 594, "user_id": 5051165, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-GwtWi5OOBvs/AAAAAAAAAAI/AAAAAAAAfsg/kqASETNy-G4/photo.jpg?sz=128", "display_name": "Matt Welke", "link": "https://stackoverflow.com/users/5051165/matt-welke"}, "edited": false, "score": 0, "creation_date": 1606926509, "post_id": 65099907, "comment_id": 115112670, "body": "Not a big fan of workarounds, but this seems like a particularly clean one. Nice job!"}], "tags": [], "owner": {"reputation": 11, "user_id": 14745303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a018719f717f775684dcedc2ce0c12?s=128&d=identicon&r=PG", "display_name": "Christopher Bonhage", "link": "https://stackoverflow.com/users/14745303/christopher-bonhage"}, "is_accepted": false, "score": 1, "last_activity_date": 1606863965, "creation_date": 1606863965, "answer_id": 65099907, "question_id": 57066536, "link": "https://stackoverflow.com/questions/57066536/how-can-i-avoid-an-if-else-in-typescript-with-mocha-and-undefined-returns/65099907#65099907", "title": "How can I avoid an if/else in TypeScript with mocha and undefined returns?", "body": "<p>Updated example for Typescript 3.7 which introduced &quot;assertion signatures&quot;:</p>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Use in place of `expect(value).to.exist`\n *\n * Work-around for Chai assertions not being recognized by TypeScript's control flow analysis.\n * @param {any} value\n */\nexport function expectToExist&lt;T&gt;(value: T): asserts value is NonNullable&lt;T&gt; {\n  expect(value).to.exist;\n  if (value === null || value === undefined) {\n    throw new Error('Expected value to exist');\n  }\n}\n</code></pre>\n<p><strong>References:</strong></p>\n<ul>\n<li><a href=\"https://github.com/microsoft/TypeScript/pull/32695\" rel=\"nofollow noreferrer\">https://github.com/microsoft/TypeScript/pull/32695</a></li>\n<li><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html</a></li>\n</ul>\n"}], "owner": {"reputation": 4397, "user_id": 123094, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3d925b45ac07ec0ae5bd04888f6c5b61?s=128&d=identicon&r=PG", "display_name": "dB.", "link": "https://stackoverflow.com/users/123094/db"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 1, "accepted_answer_id": 57067023, "answer_count": 3, "score": 3, "last_activity_date": 1606863965, "creation_date": 1563318485, "question_id": 57066536, "link": "https://stackoverflow.com/questions/57066536/how-can-i-avoid-an-if-else-in-typescript-with-mocha-and-undefined-returns", "title": "How can I avoid an if/else in TypeScript with mocha and undefined returns?", "body": "<p>A spline that can be reticulated and return another spline. Most of the time at least.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export default class Spline {\n  public reticulatedCount: number;\n\n  constructor(parent?: Spline) {\n    this.reticulatedCount = parent &amp;&amp; parent.reticulatedCount + 1 || 0;\n  }\n\n  public reticulate(): Spline | undefined {\n    return new Spline(this);\n  }\n}\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { assert, expect } from 'chai';\nimport Spline from '../src/spline';\n\ndescribe(\"Spline\", () =&gt; {\n  const spline = new Spline();\n\n  it(\"returns a new spline\", () =&gt; {\n    const reticulatedSpline = spline.reticulate();\n    expect(reticulatedSpline).to.not.be.null;\n    expect(reticulatedSpline.reticulatedCount).to.eq(1);\n  });\n});\n</code></pre>\n\n<p>Fails with <code>error TS2532: Object is possibly 'undefined'.</code></p>\n\n<pre><code>/Users/dblock/source/ts/typescript-mocha/node_modules/ts-node/src/index.ts:245\n    return new TSError(diagnosticText, diagnosticCodes)\n           ^\nTSError: \u2a2f Unable to compile TypeScript:\ntest/spline.spec.ts:18:12 - error TS2532: Object is possibly 'undefined'.\n\n18     expect(reticulatedSpline.reticulatedCount).to.eq(1);\n</code></pre>\n\n<p>The workaround is an anti-pattern in tests, an <code>if</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  it(\"returns a new spline\", () =&gt; {\n    const reticulatedSpline = spline.reticulate();\n    if (reticulatedSpline) {\n      expect(reticulatedSpline.reticulatedCount).to.eq(1);\n    } else {\n      expect(reticulatedSpline).to.not.be.null;\n    }\n  });\n</code></pre>\n\n<p>How can this be solved without disabling <code>strictNullChecks</code>?</p>\n\n<p>Code in <a href=\"https://github.com/dblock/typescript-mocha-strict-null-checks\" rel=\"nofollow noreferrer\">https://github.com/dblock/typescript-mocha-strict-null-checks</a>.</p>\n"}]