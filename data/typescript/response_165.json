[{"tags": ["angular", "typescript", "observable", "angular2-services"], "comments": [{"owner": {"reputation": 1239, "user_id": 4941860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71c9260582b15c5fea01710b424fda73?s=128&d=identicon&r=PG&f=1", "display_name": "matmo", "link": "https://stackoverflow.com/users/4941860/matmo"}, "edited": false, "score": 1, "creation_date": 1520466888, "post_id": 49162923, "comment_id": 85332029, "body": "&quot;Item&#39;s are not being generated.&quot; - What do you mean? Is this subscribe block running? Have you tried debugging it?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1520478539, "post_id": 49162923, "comment_id": 85334914, "body": "Are you asking how to set it up so that as the object changes, you subscribe to it so you know the new value?"}, {"owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520514252, "post_id": 49162923, "comment_id": 85352450, "body": "@DanielWStrimpel exactly!!  Updated my question as per your comment"}], "answers": [{"comments": [{"owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 0, "creation_date": 1520518779, "post_id": 49174631, "comment_id": 85355603, "body": "So the reason observable won&#39;t work is  because I keep changing my Assets array and not just adding/subtracting from it?"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 1, "creation_date": 1520519065, "post_id": 49174631, "comment_id": 85355825, "body": "Yeah, if you made changes directly to the object (in this case array) they would propagate throughout the app. It isn&#39;t ideal in most cases to modify the original object behind the scenes because some code that used those properties (items in this case) will not know that it was changed and will not trigger code that needs to run."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 1, "creation_date": 1520519679, "post_id": 49174631, "comment_id": 85356232, "body": "If you don&#39;t want to broadcast changes as they are made, there really is no reason to use an observable in this case."}, {"owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 0, "creation_date": 1520520650, "post_id": 49174631, "comment_id": 85356995, "body": "However, what I really am trying to achieve is to load the static data while I wait for the http.get call to be loaded (something that can take 0.5-10 seconds, or never)."}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "reply_to_user": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 1, "creation_date": 1520522645, "post_id": 49174631, "comment_id": 85358485, "body": "In that case then yeah, go take a look at that blog post"}, {"owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 0, "creation_date": 1520523634, "post_id": 49174631, "comment_id": 85359166, "body": "Much appreciated. If that works, I&#39;ll mark that as the answer.  Thanks!"}, {"owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "edited": false, "score": 0, "creation_date": 1520525336, "post_id": 49174631, "comment_id": 85360394, "body": "I ended up using &quot;startWith&quot; which will do exactly what I wanted.  That being said, YOUR answer did provide lots of information."}], "tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": false, "score": 1, "last_activity_date": 1520516689, "creation_date": 1520516689, "answer_id": 49174631, "question_id": 49162923, "link": "https://stackoverflow.com/questions/49162923/subscribing-to-a-static-data-change-angular-2-typescript/49174631#49174631", "title": "Subscribing to a static data change Angular 2 TypeScript", "body": "<p>You'll want to use some sort of <code>Subject</code> to hold onto the value and push new values onto it. Specifically, you'll want to use a <code>BehaviorSubject</code> probably.</p>\n\n<p>It looks like the property <code>assets</code> and method <code>getAssets</code> are in the same class. You'll want to have a new private variable in that class that is the <code>Subject</code> to hold onto the assets as time changes (whenever a change is made to assets you'll push another value on your subject). You can then simply return your subject as an observable in your <code>getAssets</code> method.</p>\n\n<p>There are tons of examples on StackOverflow and across Google of doing just this. One such example can be found <a href=\"https://blog.angular-university.io/how-to-build-angular2-apps-using-rxjs-observable-data-services-pitfalls-to-avoid/\" rel=\"nofollow noreferrer\">at this blog</a>.</p>\n"}], "owner": {"reputation": 166, "user_id": 587293, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fd544bd436495d2a2a361d58af5145dd?s=128&d=identicon&r=PG", "display_name": "Devaffair", "link": "https://stackoverflow.com/users/587293/devaffair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1520516689, "creation_date": 1520465002, "last_edit_date": 1520514381, "question_id": 49162923, "link": "https://stackoverflow.com/questions/49162923/subscribing-to-a-static-data-change-angular-2-typescript", "title": "Subscribing to a static data change Angular 2 TypeScript", "body": "<p>I have an object that gets updated from various locations.  I'd like to subscribe to it.\nProblem is - Item's are not being generated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bbjja.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bbjja.png\" alt=\"enter image description here\"></a></p>\n\n<p>And I'm subscribing to it that way:\n<a href=\"https://i.stack.imgur.com/FO5pR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FO5pR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to get the subscriber to know when data on my object (AppData.SelectedUser.assets) changes.  Any suggestions?</p>\n\n<p>I'd greatly appreciate some help on this manner (Kinda new to Angular).</p>\n"}, {"tags": ["typescript", "tslint"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520473453, "post_id": 49162702, "comment_id": 85333722, "body": "TSLint rule is <code>no-any</code>. The rest is what the answer says."}], "answers": [{"comments": [{"owner": {"reputation": 305, "user_id": 1069871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bb52449b714ad72600903da11d06aba9?s=128&d=identicon&r=PG", "display_name": "cafesanu", "link": "https://stackoverflow.com/users/1069871/cafesanu"}, "edited": false, "score": 0, "creation_date": 1520519179, "post_id": 49163348, "comment_id": 85355902, "body": "Hmm thanks @Behrooz, my issue is actually not as simple as the case I put, I just simplified it. I am using a library (AngularJs ui-router, but this is not that important) . Basically I am injecting an object of type <code>$stateService</code> and this object has properties of type any, and I can&#39;t control that. Actually, I have via tslint the <code>no-any</code> rule, so in reality my code looks something like <code>let var2: number = $state.params.thePropOfTypeAnyWhichICantControl;</code> `. In any case, seems that I just can&#39;t do much about it. Thanks!"}], "tags": [], "owner": {"reputation": 1289, "user_id": 3486500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b69018d8998aa40d898db0f8bd769fad?s=128&d=identicon&r=PG&f=1", "display_name": "Behrooz", "link": "https://stackoverflow.com/users/3486500/behrooz"}, "is_accepted": true, "score": 3, "last_activity_date": 1520467826, "last_edit_date": 1592644375, "creation_date": 1520467826, "answer_id": 49163348, "question_id": 49162702, "link": "https://stackoverflow.com/questions/49162702/forbid-assigning-a-variable-of-type-any-to-a-variable-of-other-type-in-typescrip/49163348#49163348", "title": "Forbid assigning a variable of type any to a variable of other type in Typescript", "body": "<p>Based on the TypeScript language specification under the section &quot;3.11.4 Assignment Compatibility&quot; (<a href=\"https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3.11.4\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md#3.11.4</a>):</p>\n<blockquote>\n<p>S is assignable to a type T, and T is assignable from S, if S has no excess properties with respect to T (3.11.5) and one of the following is true:</p>\n<ul>\n<li>S and T are identical types.</li>\n<li>S or T is the Any type.</li>\n</ul>\n</blockquote>\n<p>This indicates that any type is assignable to &quot;any&quot; and &quot;any&quot; is assignable to any other type.</p>\n<p>The best practice is to never use type &quot;any&quot; in your code unless you are moving an existing JS code base to TS. In that case, you can start with &quot;any&quot; for all types and over time change them to more specific types.</p>\n<p>In case your variable has a complex type that cannot be captured with simple TS types, you can either manually define a more specific type or use unions to allow for multiple types. For example:</p>\n<pre><code>let var1: number | string;\nvar1 = 'hello';\nlet var2: number = var1;\n</code></pre>\n<p>Now, the above code will properly throw an error that you cannot assign a possibly string typed <code>var1</code> to <code>var2</code>.</p>\n"}], "owner": {"reputation": 305, "user_id": 1069871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bb52449b714ad72600903da11d06aba9?s=128&d=identicon&r=PG", "display_name": "cafesanu", "link": "https://stackoverflow.com/users/1069871/cafesanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 0, "accepted_answer_id": 49163348, "answer_count": 1, "score": 3, "last_activity_date": 1520520351, "creation_date": 1520463830, "last_edit_date": 1520520351, "question_id": 49162702, "link": "https://stackoverflow.com/questions/49162702/forbid-assigning-a-variable-of-type-any-to-a-variable-of-other-type-in-typescrip", "title": "Forbid assigning a variable of type any to a variable of other type in Typescript", "body": "<p>So I have this piece of code</p>\n\n<pre><code>let var1: any;\nvar1 = 'hello';\nlet var2: number = var1;\n</code></pre>\n\n<p>For some reason typescript is NOT complaining that I am trying to assign a variable of type <code>any</code> to a <code>number</code>. Does anybody know is there is a compiler or tslint rule that forbids this?. Yes I now I can disallow <code>any</code>, but even if it is disallowed the error would happen in <code>line 1</code>, not in <code>line 3</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=let%20var1%3A%20any%3B%0D%0Avar1%20%3D%20&#39;hello&#39;%3B%0D%0Alet%20var2%3A%20number%20%3D%20var1%3B%0D%0A%0D%0Aclass%20StateParams%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20any%3B%0D%0A%7D%0D%0A%0D%0Afunction%20myFunc(theVar%3A%20StateParams)%20%7B%0D%0A%20%20%20%20%2F%2F%20I%20know%20myParam%20is%20a%20number%2C%20but%20all%20typescript%20knows%20is%20that%20myParam%20is%20of%20type%20any%0D%0A%20%20%20%20let%20otherVar%3A%20number%20%3D%20theVar.myParam%3B%0D%0A%7D\" rel=\"nofollow noreferrer\">Typescript playground example</a></p>\n\n<hr>\n\n<p><em>Adding more detail to my original question</em></p>\n\n<p>My specific case is when using a third-party library that has a definition like </p>\n\n<pre><code>// Definition file\nexport declare class StateParams {\n    [key: string]: any;\n}\n\n... later on in my own code\n\nfunction myFunc(theVar: StateParams) {\n    // I know myParam is a number, but all typescript knows is that myParam is of type any\n    let otherVar: number = theVar.myParam;\n}\n</code></pre>\n\n<p>So, even if I have the tsLint <code>no-any</code> rule, this won't help and typescript won't complain, and I can't do anything about <code>StateParams</code> as I can't control it</p>\n"}, {"tags": ["javascript", "typescript", "highcharts", "angular5"], "comments": [{"owner": {"reputation": 9106, "user_id": 3898339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/k2GV8.png?s=128&g=1", "display_name": "Deep 3015", "link": "https://stackoverflow.com/users/3898339/deep-3015"}, "edited": false, "score": 0, "creation_date": 1520488280, "post_id": 49162461, "comment_id": 85337832, "body": "check this integration <a href=\"https://stackblitz.com/edit/highcharts-angular-dual-axis?embed=1&amp;file=app/app.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a>"}, {"owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "reply_to_user": {"reputation": 9106, "user_id": 3898339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/k2GV8.png?s=128&g=1", "display_name": "Deep 3015", "link": "https://stackoverflow.com/users/3898339/deep-3015"}, "edited": false, "score": 0, "creation_date": 1520536920, "post_id": 49162461, "comment_id": 85367310, "body": "This is exactly what I needed. Thanks a lot :)"}], "answers": [{"tags": [], "owner": {"reputation": 9106, "user_id": 3898339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/k2GV8.png?s=128&g=1", "display_name": "Deep 3015", "link": "https://stackoverflow.com/users/3898339/deep-3015"}, "is_accepted": false, "score": 0, "last_activity_date": 1520583276, "creation_date": 1520583276, "answer_id": 49189306, "question_id": 49162461, "link": "https://stackoverflow.com/questions/49162461/integrate-highcharts-with-angular5-without-any-3rd-party-library/49189306#49189306", "title": "Integrate Highcharts with Angular5 without any 3rd Party library", "body": "<p>Check official <a href=\"https://www.npmjs.com/package/highcharts\" rel=\"nofollow noreferrer\">npm package</a> webpage for more details</p>\n\n<p>Steps</p>\n\n<p>1>Install from npm</p>\n\n<p><code>npm install --save highcharts</code></p>\n\n<p>2> In <code>app.component.ts</code> import as </p>\n\n<pre><code>import  Highcharts from 'highcharts';\nimport Exporting from 'highcharts/modules/exporting';\nimport funnel from 'highcharts/modules/funnel';\nExporting(Highcharts);\nfunnel(Highcharts);\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-highcharts-funnel?embed=1&amp;file=app/app.component.ts\" rel=\"nofollow noreferrer\">Stackblitz</a> demo</p>\n"}], "owner": {"reputation": 19, "user_id": 3242013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9762bfbcb9a3b646846410d72b9ed16?s=128&d=identicon&r=PG&f=1", "display_name": "user3242013", "link": "https://stackoverflow.com/users/3242013/user3242013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520583276, "creation_date": 1520462677, "last_edit_date": 1520464680, "question_id": 49162461, "link": "https://stackoverflow.com/questions/49162461/integrate-highcharts-with-angular5-without-any-3rd-party-library", "title": "Integrate Highcharts with Angular5 without any 3rd Party library", "body": "<p>I am trying to integrate Highcharts with an Angular5 project. I know there are libraries such as <code>angular2-highcharts</code> but I am looking not to use any 3rd party and use the official highcharts.</p>\n\n<p>Installed highcharts in the project using <code>npm install highcharts --save</code>. </p>\n\n<p>What are the steps after to follow? I couldn't find any in the documentation.</p>\n\n<p>Can someone help me please?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1778, "user_id": 1277159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/oGFIg.jpg?s=128&g=1", "display_name": "guzmanoj", "link": "https://stackoverflow.com/users/1277159/guzmanoj"}, "is_accepted": false, "score": 7, "last_activity_date": 1549371283, "creation_date": 1549371283, "answer_id": 54534922, "question_id": 49162076, "link": "https://stackoverflow.com/questions/49162076/material-angular-io-mat-autocomplete-displaywith-function-update-scope-variabl/54534922#54534922", "title": "Material.Angular.io mat-autocomplete [displayWith] function update scope variables", "body": "<p>You have two options, the first one is just calling <code>[displayWith]=\"displayFn.bind(this)\"</code> which looks awful but I can confirm that this works (although I got an Error on my WebStorm saying \"ng: Unknow Method bind\")\nAnd the second one is to use an arrow function in order to preserve the context.\nSomething like this:</p>\n\n<pre><code>displayFn(offer?: Offer): string | undefined {\n    return offer &amp;&amp; offer.name == this.currentOffer.name ? offer.name : undefined;\n}\n\ndisplayFnWrapper() {\n   return (offer) =&gt; this.displayFn(offer);\n}\n</code></pre>\n\n<p>And in the template:</p>\n\n<pre><code>&lt;mat-autocomplete #auto=\"matAutocomplete\" [displayWith]=\"displayFnWrapper()\" (optionSelected)='assign($event.option.value)'&gt;\n    &lt;mat-option *ngFor=\"let offer of filteredOffers$ | async\" [value]=\"offer\"&gt;{{ offer.name }}&lt;/mat-option&gt;\n&lt;/mat-autocomplete&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5548055, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-W1j28WVtyOU/AAAAAAAAAAI/AAAAAAAAElQ/zpgH3T-c-Z8/photo.jpg?sz=128", "display_name": "Nigel Alford", "link": "https://stackoverflow.com/users/5548055/nigel-alford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1634, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1549371283, "creation_date": 1520460860, "question_id": 49162076, "link": "https://stackoverflow.com/questions/49162076/material-angular-io-mat-autocomplete-displaywith-function-update-scope-variabl", "title": "Material.Angular.io mat-autocomplete [displayWith] function update scope variables", "body": "<p>I'm running into an issue where I can access locally declared variables in the component controller instantiating the mat-autocomplete. The problem I'm facing is the local variables are stuck in this scope and I can't update them. </p>\n\n<h2>Any ideas or thoughts on updating the mat-autocomplete scope variables.</h2>\n\n<p>Ultimately what I'm doing is concatenating the display string and a variable bound to the input model. This is giving me an autocomplete input that adds helper text for the user, ideally the text is up to date with clearing the input. The text is currently continuously concatenating, creating unusable text pretty quickly</p>\n\n<p>html</p>\n\n<pre><code>  &lt;input\n   [(ngModel)]=\"filter&gt;\n\n  mat-autocomplete\n    #auto=\"matAutocomplete\" \n    [displayWith]=\"displayFn\"&gt;\n    &lt;mat-option\n      *ngFor=\"let option of filteredOptions | async\"\n      [value]=\"option\"&gt;\n      {{ option }}\n    &lt;/mat-option&gt;\n  &lt;/mat-autocomplete&gt;\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>  displayFn(search): string | undefined {\n    if(!search) return; //check if the search isn't already populated\n    if(!search.match(/(=|\\*)/)){\n      if(this.filter){\n        this.filter += ' ' + search + '==*term*';\n      }else{\n        this.filter = search +'==*term*';\n\n      }\n      return this.filter; //this isn't persisting across the lifecycle\n    }\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1520459521, "post_id": 49161793, "comment_id": 85329310, "body": "Was that not what you expected? <code>Observable.map</code> is mapping over each item <i>in the stream</i>, not in the array that stream happens to contain. You may be confusing it with <code>Array.map</code>."}, {"owner": {"reputation": 759, "user_id": 3942851, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-nIkq4wdsg6g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMtFLuG4ftgrUKJVYOo8SEwFsosuQ/mo/photo.jpg?sz=128", "display_name": "sfdcnoob", "link": "https://stackoverflow.com/users/3942851/sfdcnoob"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1520459657, "post_id": 49161793, "comment_id": 85329358, "body": "@jonrsharpe Oh i thought it&#39;s similar to lodash&#39;s map"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1520459788, "post_id": 49161793, "comment_id": 85329416, "body": "That is also basically <code>Array.map</code>, by the looks of it. See e.g. <a href=\"https://stackoverflow.com/q/42482705/3001761\">stackoverflow.com/q/42482705/3001761</a>."}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1520667787, "post_id": 49161793, "comment_id": 85418115, "body": "The edited question is still weird. I doubt that you want an array of observables. I think you don&#39;t yet understand the concept of observables and would encourage you to read more about it first."}], "answers": [{"tags": [], "owner": {"reputation": 3008, "user_id": 78804, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1506664e7181bebc6fd6f0e3b91dd2c7?s=128&d=identicon&r=PG", "display_name": "Kevin Doyon", "link": "https://stackoverflow.com/users/78804/kevin-doyon"}, "is_accepted": true, "score": 4, "last_activity_date": 1520460315, "creation_date": 1520460315, "answer_id": 49161963, "question_id": 49161793, "link": "https://stackoverflow.com/questions/49161793/rxjs-map-parameter-is-the-entire-array/49161963#49161963", "title": "rxjs map parameter is the entire array", "body": "<p>I think you misunderstand how observables work.</p>\n\n<p>You are getting the whole array because that's what the observable is working with. It's a <code>Observable&lt;Array&lt;any&gt;&gt;</code>, so the <code>map</code> operator will get a <code>Array&lt;any&gt;</code>. If you want to work on one object at a time, your observable should be of type <code>Observable&lt;any&gt;</code> (or better, using a concrete class like <code>Observable&lt;TestClass&gt;</code>)</p>\n\n<p>You can create an <code>Observable&lt;T&gt;</code> from an <code>Array&lt;T&gt;</code> using <code>from</code>, see this page:\n<a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-from\" rel=\"nofollow noreferrer\">http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-from</a></p>\n\n<p>I don't know how this can be applied to you since you didn't post how <code>observableA</code> works.</p>\n\n<p>Here's some resources I used when I learned RxJs:</p>\n\n<ul>\n<li><a href=\"https://gist.github.com/staltz/868e7e9bc2a7b8c1f754\" rel=\"nofollow noreferrer\">https://gist.github.com/staltz/868e7e9bc2a7b8c1f754</a></li>\n<li><a href=\"https://toddmotto.com/rxjs-observables-observers-operators\" rel=\"nofollow noreferrer\">https://toddmotto.com/rxjs-observables-observers-operators</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 759, "user_id": 3942851, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-nIkq4wdsg6g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMtFLuG4ftgrUKJVYOo8SEwFsosuQ/mo/photo.jpg?sz=128", "display_name": "sfdcnoob", "link": "https://stackoverflow.com/users/3942851/sfdcnoob"}, "edited": false, "score": 0, "creation_date": 1520634816, "post_id": 49162366, "comment_id": 85411745, "body": "this x is the entire array so I&#39;m not able to access the element&#39;s property values. I think if observableA returns Observable.from, this would work"}, {"owner": {"reputation": 4514, "user_id": 2640467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UJJQ.jpg?s=128&g=1", "display_name": "Luillyfe", "link": "https://stackoverflow.com/users/2640467/luillyfe"}, "reply_to_user": {"reputation": 759, "user_id": 3942851, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-nIkq4wdsg6g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMtFLuG4ftgrUKJVYOo8SEwFsosuQ/mo/photo.jpg?sz=128", "display_name": "sfdcnoob", "link": "https://stackoverflow.com/users/3942851/sfdcnoob"}, "edited": false, "score": 0, "creation_date": 1520661925, "post_id": 49162366, "comment_id": 85416930, "body": "My bad, I was using the wrong creator (of). Observable.of and Observable.from are synchronous by default (that is  why you are getting the whole array from once). But you can change Observable.from to be asynchronous by adding an Scheduler as a second parameter (async)."}], "tags": [], "owner": {"reputation": 4514, "user_id": 2640467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7UJJQ.jpg?s=128&g=1", "display_name": "Luillyfe", "link": "https://stackoverflow.com/users/2640467/luillyfe"}, "is_accepted": false, "score": 0, "last_activity_date": 1520661683, "last_edit_date": 1520661683, "creation_date": 1520462184, "answer_id": 49162366, "question_id": 49161793, "link": "https://stackoverflow.com/questions/49161793/rxjs-map-parameter-is-the-entire-array/49162366#49162366", "title": "rxjs map parameter is the entire array", "body": "<p>I do not see the need for a second Observable, maybe this what you want to achieve but let me know if I am wrong, I will update accordingly:</p>\n\n<p><a href=\"https://stackblitz.com/edit/typescript-2c87sb\" rel=\"nofollow noreferrer\">live example</a></p>\n\n<pre><code>import { Observable } from 'rxjs/Observable';\nimport { async } from 'rxjs/scheduler/async';\nimport { from } from 'rxjs/observable/from';\n\nimport { map } from 'rxjs/operators';\n\nconst metroId: string = \"IamAnId\";\nconst arry: Array&lt;myClass&gt; = [];\nconst observableA: (id: string) =&gt; Observable&lt;any&gt; = (id: string) =&gt; {\n    // use your id whatever you want\n    return from([\n        {\n            FacilityName: 'name',\n            ID: 'IamAnotherId'\n        },\n        {\n            FacilityName: 'AnotherName',\n            ID: 'AlsoHere'\n        }\n    ], asyn);\n}\n\nobservableA(metroId)\n    .pipe(map(x =&gt; {\n        return new myClass(\n            x.FacilityName,\n            x.ID)\n    }))\n    .subscribe(itemClass =&gt; {\n        arry.push(itemClass);\n    })\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 3942851, "user_type": "registered", "accept_rate": 47, "profile_image": "https://lh4.googleusercontent.com/-nIkq4wdsg6g/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMtFLuG4ftgrUKJVYOo8SEwFsosuQ/mo/photo.jpg?sz=128", "display_name": "sfdcnoob", "link": "https://stackoverflow.com/users/3942851/sfdcnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2914, "favorite_count": 0, "accepted_answer_id": 49161963, "answer_count": 2, "score": 3, "last_activity_date": 1520661683, "creation_date": 1520459361, "last_edit_date": 1520460893, "question_id": 49161793, "link": "https://stackoverflow.com/questions/49161793/rxjs-map-parameter-is-the-entire-array", "title": "rxjs map parameter is the entire array", "body": "<pre><code>public observableA = (id: string): Observable&lt;Array&lt;any&gt;&gt;=&gt;{\n\n}\n\npublic observableB = (id: string): Observable&lt;Array&lt;myClass&gt;&gt;=&gt;{\n    observableA(metroId).map((x)=&gt;{\n         return new myClass(\n            x.FacilityName,\n            x.ID)\n    };\n}\n\nexport class myClass{\n    ID: string;\n    Name: string;\n    constructor(id: string, name: string){this.ID=id;this.Name=name;}\n}\n</code></pre>\n\n<p>ObservableA returns an array of objects,  I'm writing a function ObservableB to return an array of myClass using the returned array of ObservableA.</p>\n\n<p>When I debug this code,\nWhat I can see is 'x' in the map parameter is the entire array from ObservableA, rather than the object elements of the array. </p>\n\n<p>so the properties can't be accessed.</p>\n\n<p>What could be wrong?</p>\n\n<p><strong>Update:\nIs there a way to make the single Observable of Array to an array of Observables so I can process the elements?</strong> </p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520457833, "post_id": 49161382, "comment_id": 85328508, "body": "you have to do it inside subscribe(). this.http.get(uri).subscribe((myjson: ?) =&gt; {let user =  myjson._embedded[&#39;users&#39;]})"}, {"owner": {"reputation": 5459, "user_id": 513393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e5079487cac336376845f7f66f2116?s=128&d=identicon&r=PG", "display_name": "Skip", "link": "https://stackoverflow.com/users/513393/skip"}, "reply_to_user": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520457923, "post_id": 49161382, "comment_id": 85328543, "body": "But I need the Observable, to use it for <code>ngFor</code>"}, {"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520457954, "post_id": 49161382, "comment_id": 85328567, "body": "see the updated comment"}, {"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520458091, "post_id": 49161382, "comment_id": 85328632, "body": "can you post the template code as well"}, {"owner": {"reputation": 5459, "user_id": 513393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e5079487cac336376845f7f66f2116?s=128&d=identicon&r=PG", "display_name": "Skip", "link": "https://stackoverflow.com/users/513393/skip"}, "reply_to_user": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520458371, "post_id": 49161382, "comment_id": 85328770, "body": "posted the template"}, {"owner": {"reputation": 1536, "user_id": 6193288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43b6a3db79886cdd16afd13128a15ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz Witkowski", "link": "https://stackoverflow.com/users/6193288/mateusz-witkowski"}, "edited": false, "score": 1, "creation_date": 1520461441, "post_id": 49161382, "comment_id": 85330127, "body": "The code that you&#39;ve tried looks perfectly fine (besides the question mark). Is there any error in the console?"}, {"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "edited": false, "score": 0, "creation_date": 1520464565, "post_id": 49161382, "comment_id": 85331352, "body": "post me where you assign the response to users object"}], "answers": [{"comments": [{"owner": {"reputation": 5459, "user_id": 513393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e5079487cac336376845f7f66f2116?s=128&d=identicon&r=PG", "display_name": "Skip", "link": "https://stackoverflow.com/users/513393/skip"}, "edited": false, "score": 0, "creation_date": 1520493452, "post_id": 49161962, "comment_id": 85339947, "body": "Thanks. Check the answer of esthus. His version allows to return the Observalbe directly, without explicitely change to the data. In the template you then have to use <code>async</code>."}], "tags": [], "owner": {"reputation": 1371, "user_id": 4206178, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1295708890/picture?type=large", "display_name": "Anjil Dhamala", "link": "https://stackoverflow.com/users/4206178/anjil-dhamala"}, "is_accepted": false, "score": 0, "last_activity_date": 1520460310, "creation_date": 1520460310, "answer_id": 49161962, "question_id": 49161382, "link": "https://stackoverflow.com/questions/49161382/map-in-httpclient-api/49161962#49161962", "title": "Map in HttpClient api", "body": "<p><code>map()</code> is called on an Observable if you want to change the oncoming stream of data before you <code>subscribe</code> to it. What you are doing seems right in the first chunk of code you posted. However, you have yet to subscribe to the observable. You could either subscribe to it or you could <code>.toPromise()</code> after the response and promisify it. </p>\n\n<pre><code>httpGet()\n.map((response) =&gt; return changes made to http response)\n.toPromise()\n.then((response) =&gt; {\n   this.users = response;\n})\n</code></pre>\n\n<p>And then in the html, I'd </p>\n\n<pre><code>&lt;tr *ngFor=\"let user of users\"&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8755208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b88b418ffeb75a7423d4be04013b53?s=128&d=identicon&r=PG&f=1", "display_name": "AnanKassis", "link": "https://stackoverflow.com/users/8755208/anankassis"}, "is_accepted": false, "score": -2, "last_activity_date": 1520504832, "last_edit_date": 1520504832, "creation_date": 1520469498, "answer_id": 49163591, "question_id": 49161382, "link": "https://stackoverflow.com/questions/49161382/map-in-httpclient-api/49163591#49163591", "title": "Map in HttpClient api", "body": "<p>First of all, remove the <code>.json</code> , from the map response, because what is actually <code>HttpClient</code> is doing, is receiving back the information as json, even if you don't specify that it might fix your problem without making other changes.</p>\n\n<p>Thanks</p>\n"}, {"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1520473147, "creation_date": 1520473147, "answer_id": 49164027, "question_id": 49161382, "link": "https://stackoverflow.com/questions/49161382/map-in-httpclient-api/49164027#49164027", "title": "Map in HttpClient api", "body": "<p>The main practical difference between <code>Http</code> and <code>HttpClient</code> is that <code>res.json()</code> and other <code>res</code> methods aren't needed (<code>responseType</code> option is used in <code>HttpClient</code> instead and it defaults to <code>json</code>).</p>\n\n<p>This works best when there is separate <code>.map((response: Response) =&gt; response.json())</code> operator.</p>\n\n<p>Considering that there is:</p>\n\n<pre><code>let observable: Observable&lt;User[]&gt; = this.http.get(uri)\n.map((response: Response) =&gt; response.json())\n.map((json: { _embedded: { users: User[] } }) =&gt; json._embedded.users));\n</code></pre>\n\n<p>It will be:</p>\n\n<pre><code>let observable: Observable&lt;User[]&gt; = this.httpClient.get&lt;{ _embedded: { users: User[] } }&gt;(uri)\n.map((json) =&gt; json._embedded.users));\n.catch(this.handleError);\n</code></pre>\n"}], "owner": {"reputation": 5459, "user_id": 513393, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/64e5079487cac336376845f7f66f2116?s=128&d=identicon&r=PG", "display_name": "Skip", "link": "https://stackoverflow.com/users/513393/skip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 757, "favorite_count": 0, "accepted_answer_id": 49164027, "answer_count": 3, "score": 1, "last_activity_date": 1520504832, "creation_date": 1520457603, "last_edit_date": 1520493492, "question_id": 49161382, "link": "https://stackoverflow.com/questions/49161382/map-in-httpclient-api", "title": "Map in HttpClient api", "body": "<p>I am using angular4.\nHow would I modify the following code, when moving from <code>@angular/http</code> <code>Http</code> to <code>HttpClient</code> (<a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a>) ?</p>\n\n<pre><code>let observable: Observable&lt;User[]&gt; =\n  this.http.get(uri)\n    .map((response: Response) =&gt; response.json()._embedded['users'])\n    .catch(this.handleError);\n</code></pre>\n\n<p>The JSON returned by the get has the following form</p>\n\n<pre><code>{\n  \"_embedded\": {\n    \"users\": [\n      {\n        \"id\": \"doe_jo\",\n        \"name\": \"John Doe\",\n        \"email\": \"john@doe.com\",\n        \"_links\": {\n          \"self\": {\n            \"href\": \"http://localhost/api/users/doe_jo\"\n          },\n          \"user\": {\n            \"href\": \"http://localhost/api/users/doe_jo\"\n          }\n        }\n      }, ...\n</code></pre>\n\n<p>Especially the map part I can not translate to the HttpClient api</p>\n\n<pre><code>.map((response: Response) =&gt; response.json()._embedded['users'])\n</code></pre>\n\n<p>I guess I have to do something like following, but cant figure out, \nhow exactly to do this. Here the <code>?</code> stands for the JSON type, returned by the request.</p>\n\n<pre><code>let observable: Observable&lt;User[]&gt; =\n  this.http.get&lt;?&gt;(uri)\n    .map((myjson: ?) =&gt; myjson._embedded['users'])\n    .catch(this.handleError);\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;tbody&gt;\n&lt;tr *ngFor=\"let user of users | async\"&gt;\n  &lt;td style=\"text-align: left; width:10%\"&gt;{{user.id}}&lt;/td&gt;\n  &lt;td style=\"text-align: left; width:20%\"&gt;{{user.name}}&lt;/td&gt;\n  &lt;td style=\"text-align: left; width:70%\"&gt;{{user.email}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520456064, "post_id": 49160802, "comment_id": 85327594, "body": "Because the userId property is the one that isn&#39;t resolving before this depends on it. This is the issue I&#39;m having"}, {"owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "reply_to_user": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520456147, "post_id": 49160802, "comment_id": 85327636, "body": "do you get the value for userId?"}, {"owner": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520456343, "post_id": 49160802, "comment_id": 85327737, "body": "No. As I just said, userId isn&#39;t being resolved before the above method begins. It&#39;s only initialised after this tries to run"}], "tags": [], "owner": {"reputation": 1761, "user_id": 2340159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaCQq.jpg?s=128&g=1", "display_name": "VithuBati", "link": "https://stackoverflow.com/users/2340159/vithubati"}, "is_accepted": false, "score": 0, "last_activity_date": 1520455164, "creation_date": 1520455164, "answer_id": 49160802, "question_id": 49160657, "link": "https://stackoverflow.com/questions/49160657/wait-for-async-value-before-running-other-function/49160802#49160802", "title": "Wait for async value before running other function", "body": "<p>why don't you try like this </p>\n\n<pre><code>this.db.collection('/users').doc(this.userId).collection('/invoices').doc(this.invoiceId).ref.get().then(snapshot =&gt; {\n        this.invoice = snapshot.data() as Observable&lt;Invoice&gt;.subscribe(invoice =&gt; {\n            this.itemsData.data = invoice.items;\n        })\n    })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520503034, "post_id": 49163178, "comment_id": 85345533, "body": "Thanks, but it&#39;s not based on the route observable, it it&#39;s the userId that needs to be initialised before populating this.invoice. It also returns the following error in the console: &#39;You provided an invalid object where a stream was expected. You can provide an Observable, Promise, Array, or Iterable&#39;"}, {"owner": {"reputation": 3966, "user_id": 2459831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c887b4a3449776373e111e8779dfdb7c?s=128&d=identicon&r=PG", "display_name": "No&#233;mi Sala&#252;n", "link": "https://stackoverflow.com/users/2459831/no%c3%a9mi-sala%c3%bcn"}, "reply_to_user": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520503247, "post_id": 49163178, "comment_id": 85345682, "body": "In your code, <code>...doc(this.invoiceId)...</code> use the variable taken from the route param <code>invoiceId</code>, so it is based on the route. Where does this error occur ?"}, {"owner": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "edited": false, "score": 0, "creation_date": 1520503457, "post_id": 49163178, "comment_id": 85345802, "body": "I&#39;ve just said that the problem is not with the invoiceId. The problem is that the method containing the subscribe is running before the userId is resolved at the top of the constructor. The method containing the subscribe is dependent on the userId"}], "tags": [], "owner": {"reputation": 3966, "user_id": 2459831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c887b4a3449776373e111e8779dfdb7c?s=128&d=identicon&r=PG", "display_name": "No&#233;mi Sala&#252;n", "link": "https://stackoverflow.com/users/2459831/no%c3%a9mi-sala%c3%bcn"}, "is_accepted": false, "score": 0, "last_activity_date": 1520466667, "creation_date": 1520466667, "answer_id": 49163178, "question_id": 49160657, "link": "https://stackoverflow.com/questions/49160657/wait-for-async-value-before-running-other-function/49163178#49163178", "title": "Wait for async value before running other function", "body": "<p>To create the firebase observable based on the result of the router observable, you can use an operator from the <a href=\"https://namitamalik.github.io/Map-vs-FlatMap/\" rel=\"nofollow noreferrer\"><code>flatMap</code></a> familly (<code>mergeMap</code>, <code>switchMap</code>, <code>concatMap</code>, etc.)</p>\n\n<p>In your case, I think <a href=\"https://www.learnrxjs.io/operators/transformation/switchmap.html\" rel=\"nofollow noreferrer\"><code>switchMap</code></a> would be the best choice, it take an observable, and when it emits, it create a new observable based on the emitted value.</p>\n\n<pre><code>this.route.params\n    .switchMap(params =&gt; {\n        // Async fetch on firebase, based on the route param\n        const invoiceId = params.id;\n        return Observable.fromPromise(\n            this.db.collection('/users')\n                .doc(this.userId)\n                .collection('/invoices')\n                .doc(invoiceId)\n                .ref.get()\n        );\n    }).switchMap(snapshot =&gt; {\n        // Async observable of the snapshot.\n        return snapshot.data() as Observable&lt;Invoice&gt;;\n    }).subscribe(invoice =&gt; {\n        this.itemsData.data = invoice.items;\n    })\n</code></pre>\n\n<p><em>I wrote the code based on your type hint, it won't work if you mess with the types, but the logic is here.</em></p>\n"}], "owner": {"reputation": 1581, "user_id": 8780680, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b066dfdad3577054d2f9a644789d2f35?s=128&d=identicon&r=PG&f=1", "display_name": "nick.cook", "link": "https://stackoverflow.com/users/8780680/nick-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1520466667, "creation_date": 1520454490, "last_edit_date": 1520454608, "question_id": 49160657, "link": "https://stackoverflow.com/questions/49160657/wait-for-async-value-before-running-other-function", "title": "Wait for async value before running other function", "body": "<p>I am trying to initialise 2 different values in a component, both of which are retrieved asynchronously from firestore, but the snapshot method that I'm using to get the second requires the value of the first.</p>\n\n<p>Because these are asynchronous, the method to get the second is running before the value it depends upon is actually retrieved, so this results in the following error, as this.invoice is trying to be initialised before the request to get this.userId is complete:</p>\n\n<pre><code>\"Property 'items' does not exist on type 'Observable&lt;Invoice&gt;'\"...\n</code></pre>\n\n<p><strong>Component:</strong></p>\n\n<pre><code>import { Component, OnInit, AfterViewInit, ViewChild, Input } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MatPaginator, MatTableDataSource, MatSort } from '@angular/material';\nimport { Observable } from 'rxjs/Observable';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFirestore, AngularFirestoreCollection, AngularFirestoreDocument } from 'angularfire2/firestore';\n\nimport { AuthService } from '../../services/auth.service';\nimport { InvoiceService } from '../invoice.service';\n\nimport { Invoice } from '../invoiceModel';\n\n@Component({\n  selector: 'app-view-invoice',\n  templateUrl: './view-invoice.component.html',\n  styleUrls: ['./view-invoice.component.scss']\n})\n\nexport class ViewInvoiceComponent implements OnInit, AfterViewInit {\n\n  userId: string;\n  invoiceId: string;\n  invoice: Observable&lt;Invoice&gt;;\n  items: object[];\n\n  itemsData = new MatTableDataSource();\n\n  tableColumns = [\n    'description'\n  ]\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(private authService: AuthService, private invoiceService: InvoiceService, private db: AngularFirestore, private route: ActivatedRoute) {\n    this.userId = this.authService.user.uid;\n\n    this.route.params.subscribe(params =&gt; {\n        this.invoiceId = params.id;\n    })\n\n    this.db.collection('/users').doc(this.userId).collection('/invoices').doc(this.invoiceId).ref.get().then(snapshot =&gt; {\n        this.invoice = snapshot.data() as Observable&lt;Invoice&gt;;\n        this.invoice.subscribe(invoice =&gt; {\n            this.itemsData.data = invoice.items;\n        })\n    })\n\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngAfterViewInit() {\n    this.itemsData.paginator = this.paginator;\n    this.itemsData.sort = this.sort;\n  }\n\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 3, "creation_date": 1520454544, "post_id": 49160651, "comment_id": 85326804, "body": "Try: <code>import { ProductList } from &#39;..&#47;shop&#47;productList.component&#39;;</code>, or move the <code>shop</code> folder under <code>ClientApp&#47;app</code>."}, {"owner": {"reputation": 353, "user_id": 8179257, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/05fd4f9463535a7e3bd7cb1ee15137f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/8179257/sami"}, "reply_to_user": {"reputation": 57675, "user_id": 1009922, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/K0eeL.jpg?s=128&g=1", "display_name": "ConnorsFan", "link": "https://stackoverflow.com/users/1009922/connorsfan"}, "edited": false, "score": 0, "creation_date": 1520454716, "post_id": 49160651, "comment_id": 85326905, "body": "Worked, thank you! Wow."}], "owner": {"reputation": 353, "user_id": 8179257, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/05fd4f9463535a7e3bd7cb1ee15137f9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami", "link": "https://stackoverflow.com/users/8179257/sami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520454449, "creation_date": 1520454449, "question_id": 49160651, "link": "https://stackoverflow.com/questions/49160651/import-statement-fails-in-angular-module-ts-file", "title": "Import statement fails in Angular module.ts file", "body": "<p>I will start by naming three key files in my angular project with their paths:</p>\n\n<blockquote>\n  <p>ClientApp/app/app.module.ts </p>\n  \n  <p>ClientApp/app/app.component.ts</p>\n  \n  <p>ClientApp/shop/productList.component.ts</p>\n</blockquote>\n\n<p>In my app.module.ts file, the second of two import statements fails:</p>\n\n<pre><code>import { AppComponent } from './app.component';\nimport { ProductList } from './shop/productList.component';\n</code></pre>\n\n<blockquote>\n  <p>Build:Cannot find module './shop/productList.component'.</p>\n</blockquote>\n\n<p>As seen from the list of paths I gave, there IS actually an export class ProductList found in Clientapp/shop/productList.component.ts, so why cannot the file be found? </p>\n\n<p>Is there any settings file that restricts the search of ts files to specific folders? I do have the following include:</p>\n\n<pre><code>\"include\": [\n    \"./ClientApp\",\n    \"./wwwroot/ts\"\n  ],\n</code></pre>\n\n<p>... in the tsconfig.json, in case this is relevant. Any ideas please?</p>\n"}, {"tags": ["angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 332, "user_id": 4003323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1887147a0a4a604b02da358dd2ecd404?s=128&d=identicon&r=PG&f=1", "display_name": "Jimq", "link": "https://stackoverflow.com/users/4003323/jimq"}, "is_accepted": true, "score": 1, "last_activity_date": 1520456401, "last_edit_date": 1520456401, "creation_date": 1520455917, "answer_id": 49160981, "question_id": 49160327, "link": "https://stackoverflow.com/questions/49160327/how-to-create-a-sales-contract-in-pdf-with-the-data-generated-by-ws-and-downloa/49160981#49160981", "title": "How to create a sales contract in pdf, with the data generated by ws and download in Typescript", "body": "<p>Assuming that your webservices is sending back some kind of json response you can use :</p>\n\n<blockquote>\n  <p>jsPDF - <a href=\"https://github.com/MrRio/jsPDF\" rel=\"nofollow noreferrer\">https://github.com/MrRio/jsPDF</a>.</p>\n</blockquote>\n\n<p>Its a simple and easy to use library, here is an plunker which may help you ~ illustrating a small similar example for all the 3 points that you have mentioned:</p>\n\n<pre><code>https://embed.plnkr.co/plunk/a1zal2\n</code></pre>\n\n<p>You can also visit their github page where they have mentioned various other methods that you may use as per your need / requirement.</p>\n"}], "owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 1, "accepted_answer_id": 49160981, "answer_count": 1, "score": 1, "last_activity_date": 1520456401, "creation_date": 1520453023, "question_id": 49160327, "link": "https://stackoverflow.com/questions/49160327/how-to-create-a-sales-contract-in-pdf-with-the-data-generated-by-ws-and-downloa", "title": "How to create a sales contract in pdf, with the data generated by ws and download in Typescript", "body": "<p>Can you tell me about your experience,</p>\n\n<ol>\n<li>how to create a sales contract in pdf format with the data obtained\nfrom the webservice</li>\n<li>how to print this contract</li>\n<li>how to download a pdf format for this contract</li>\n</ol>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "edited": false, "score": 0, "creation_date": 1520452350, "post_id": 49160107, "comment_id": 85325665, "body": "That&#39;s a function type. So it means that the <code>onChange</code> field holds a function which accepts a string as its parameter and returns void. Read more <a href=\"https://www.typescriptlang.org/docs/handbook/functions.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 2218, "user_id": 1527778, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/cZKLJ.jpg?s=128&g=1", "display_name": "Marcogomesr", "link": "https://stackoverflow.com/users/1527778/marcogomesr"}, "edited": false, "score": 0, "creation_date": 1520452499, "post_id": 49160107, "comment_id": 85325749, "body": "&#39;=&gt;&#39; is it a ES6 ...(value:string) =&gt; void same as function(value){return void}"}], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 4, "last_activity_date": 1520452391, "creation_date": 1520452391, "answer_id": 49160158, "question_id": 49160107, "link": "https://stackoverflow.com/questions/49160107/typescript-unknown-arrow-syntax/49160158#49160158", "title": "typescript unknown arrow syntax", "body": "<p><code>(value : string ) =&gt; void</code> is a function type, a function accepting a <code>string</code> parameter and returning <code>void</code>. The class declares a field <code>onChange</code> of this type. So we could do things like :</p>\n\n<pre><code>this.onChange = function (value) { console.log(value); };\nthis.onChange = (value) =&gt; { console.log(value); };\nthis.onChange(\"\");\n</code></pre>\n\n<p>You are right the return type of a function declaration is introduced with <code>:</code>, bot for function types it is introduced with <code>=&gt;</code></p>\n"}], "owner": {"reputation": 18897, "user_id": 8059459, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/9f0fc0fd607fc44a4597cacb7f034ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Willem van der Veen", "link": "https://stackoverflow.com/users/8059459/willem-van-der-veen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 49160158, "answer_count": 1, "score": -1, "last_activity_date": 1520452391, "creation_date": 1520452163, "question_id": 49160107, "link": "https://stackoverflow.com/questions/49160107/typescript-unknown-arrow-syntax", "title": "typescript unknown arrow syntax", "body": "<p>Reading some TS code and came across the following:</p>\n\n<pre><code>  private onChange : ( value : string ) =&gt; void;\n</code></pre>\n\n<p>I get it that we have a private onchange variable which is an object with a property that is a string (correct me if I'm wrong plz). However, what is the <code>=&gt;</code>? </p>\n\n<p>I thought that in typescript return type of a function was declared like this:</p>\n\n<pre><code>function add(x: number, y: number): number {\n    return x + y;\n}\n</code></pre>\n\n<p>Is it just ES6 arrow function syntax stating that function will return void or something else?</p>\n"}, {"tags": ["javascript", "typescript", "visual-studio-code", "comments", "jsdoc"], "comments": [{"owner": {"reputation": 3794, "user_id": 803398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a594408dfe75da824757ca107a42a1?s=128&d=identicon&r=PG", "display_name": "Darlesson", "link": "https://stackoverflow.com/users/803398/darlesson"}, "edited": false, "score": 0, "creation_date": 1520448985, "post_id": 49159149, "comment_id": 85323720, "body": "It doesn&#39;t seem VSCode has a setting for that other than the theme settings. Check <a href=\"https://code.visualstudio.com/docs/getstarted/theme-color-reference\" rel=\"nofollow noreferrer\">theme-color-reference</a>, <a href=\"https://code.visualstudio.com/docs/extensions/themes-snippets-colorizers\" rel=\"nofollow noreferrer\">themes-snippets-colorizers</a> and <a href=\"https://code.visualstudio.com/docs/getstarted/themes\" rel=\"nofollow noreferrer\">themes</a> for more information."}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 1320382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300b67e837d41141ba072cbdb1313946?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1320382/magnus"}, "is_accepted": false, "score": 3, "last_activity_date": 1520454057, "creation_date": 1520454057, "answer_id": 49160555, "question_id": 49159149, "link": "https://stackoverflow.com/questions/49159149/comment-highlighting-in-visual-studio-code-when-using-jsdoc/49160555#49160555", "title": "Comment highlighting in Visual Studio Code when using JSDoc", "body": "<p><a href=\"https://stackoverflow.com/questions/48774920/vs-code-disable-jsdoc-comment-coloring\">From an older post</a></p>\n\n<p>Add this to your Settings (File -> Preferences -> Settings)</p>\n\n<pre><code>{\n    \"editor.tokenColorCustomizations\": {\n        \"textMateRules\": [\n          {\n            \"name\": \"storage.type.class.jsdoc\",\n            \"scope\":\n              \"storage.type.class.jsdoc,entity.name.type.instance.jsdoc,variable.other.jsdoc\",\n            \"settings\": {\n              \"foreground\": \"#608b4e\"\n            }\n          }\n        ]\n      }\n}\n</code></pre>\n"}], "owner": {"reputation": 13367, "user_id": 795016, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f4eceabd04689ba173a89c3384b05901?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/795016/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 906, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520454057, "creation_date": 1520448239, "question_id": 49159149, "link": "https://stackoverflow.com/questions/49159149/comment-highlighting-in-visual-studio-code-when-using-jsdoc", "title": "Comment highlighting in Visual Studio Code when using JSDoc", "body": "<p>In Visual Studio Code, when using <a href=\"http://usejsdoc.org/\" rel=\"nofollow noreferrer\">JSDoc</a> comments, how can I ensure that the whole comment block is displayed in <em>green</em> (default comment color)? </p>\n\n<p>As is, mine looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bLAYH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bLAYH.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I would like it to look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tTSJ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tTSJ7.png\" alt=\"enter image description here\"></a></p>\n\n<p>If it helps, I have installed the <a href=\"https://marketplace.visualstudio.com/items?itemName=joelday.docthis\" rel=\"nofollow noreferrer\">DocumentThis</a> extension, which is where the second screenshot is from.</p>\n"}, {"tags": ["function", "typescript", "asynchronous", "dynamic", "call"], "comments": [{"owner": {"reputation": 331, "user_id": 1320382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300b67e837d41141ba072cbdb1313946?s=128&d=identicon&r=PG", "display_name": "Magnus", "link": "https://stackoverflow.com/users/1320382/magnus"}, "edited": false, "score": 1, "creation_date": 1520455401, "post_id": 49158976, "comment_id": 85327252, "body": "Can you provide more code? The given example seems fine."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1520480894, "post_id": 49158976, "comment_id": 85335457, "body": "Need to know the version of typescript. That syntax has been supported for a long long time. Either you&#39;re in another context as the previous comment or hinted at, or you&#39;re using an old old version"}, {"owner": {"reputation": 1, "user_id": 9458337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207817387222271/picture?type=large", "display_name": "Dominik Morzynski", "link": "https://stackoverflow.com/users/9458337/dominik-morzynski"}, "edited": false, "score": 0, "creation_date": 1520502193, "post_id": 49158976, "comment_id": 85344977, "body": "Node version is v9.8.0"}, {"owner": {"reputation": 1, "user_id": 9458337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207817387222271/picture?type=large", "display_name": "Dominik Morzynski", "link": "https://stackoverflow.com/users/9458337/dominik-morzynski"}, "edited": false, "score": 0, "creation_date": 1520510957, "post_id": 49158976, "comment_id": 85350365, "body": "It came out that the issue is NativeScript / TypeScript related..."}], "owner": {"reputation": 1, "user_id": 9458337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207817387222271/picture?type=large", "display_name": "Dominik Morzynski", "link": "https://stackoverflow.com/users/9458337/dominik-morzynski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520493878, "creation_date": 1520447583, "last_edit_date": 1520493878, "question_id": 49158976, "link": "https://stackoverflow.com/questions/49158976/dynamic-async-function-call-gives-javascript-runtime-error", "title": "Dynamic async function call gives javascript runtime error", "body": "<p>I use this in for loop to assign to variable in order to have flexible configurable solution.</p>\n\n<p>The code below:</p>\n\n<pre><code>   defineRestApi (api, methodName, options = {}) {\n\n        for (const type of Object.keys (api)) {\n            for (const httpMethod of Object.keys (api[type])) {\n\n                let paths = api[type][httpMethod]\n                for (let i = 0; i &lt; paths.length; i++) {\n                    let path = paths[i].trim ()\n                    let splitPath = path.split (/[^a-zA-Z0-9]/)\n\n                    let uppercaseMethod  = httpMethod.toUpperCase ()\n                    let lowercaseMethod  = httpMethod.toLowerCase ()\n                    let camelcaseMethod  = this.capitalize (lowercaseMethod)\n                    let camelcaseSuffix  = splitPath.map (this.capitalize).join ('')\n                    let underscoreSuffix = splitPath.map (x =&gt; x.trim ().toLowerCase ()).filter (x =&gt; x.length &gt; 0).join ('_')\n\n                    let camelcase  = type + camelcaseMethod + this.capitalize (camelcaseSuffix)\n                    let underscore = type + '_' + lowercaseMethod + '_' + underscoreSuffix\n\n                    if ('suffixes' in options) {\n                        if ('camelcase' in options['suffixes'])\n                            camelcase += options['suffixes']['camelcase']\n                        if ('underscore' in options.suffixes)\n                            underscore += options['suffixes']['underscore']\n                    }\n\n                    if ('underscore_suffix' in options)\n                        underscore += options.underscoreSuffix;\n                    if ('camelcase_suffix' in options)\n                        camelcase += options.camelcaseSuffix;\n\n                    let partial = async params =&gt; this[methodName] (path, type, uppercaseMethod, params || {})\n\n                    this[camelcase]  = partial\n                    this[underscore] = partial\n                }\n            }\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>Typescript 2.7.2, NativeScript</p>\n</blockquote>\n\n<pre><code>let partial = async params =&gt; this[methodName] (path, type, uppercaseMethod, params || {})\n</code></pre>\n\n<p>gives error</p>\n\n<p>JS ERROR SyntaxError: Unexpected identifier 'params'. Expected ';' after variable declaration.</p>\n\n<p>tsc --version 2.7.2</p>\n\n<p>tsconfig:</p>\n\n<pre><code>{\n    \"compilerOptions\": {\n        \"module\": \"commonjs\",\n        \"target\": \"es6\",\n        \"experimentalDecorators\": true,\n        \"emitDecoratorMetadata\": true,\n        \"noEmitHelpers\": true,\n        \"noEmitOnError\": true,\n        \"lib\": [\n            \"es7\",\n            \"es6\",\n            \"dom\",\n            \"es2015.iterable\"\n        ],\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"*\": [\n                \"./node_modules/tns-core-modules/*\",\n                \"./node_modules/*\"\n            ]\n        }\n    },\n    \"exclude\": [\n        \"node_modules\",\n        \"platforms\",\n        \"**/*.aot.ts\"\n    ]\n}\n</code></pre>\n\n<p>It looks like function expression with async is somehow wrong.</p>\n"}, {"tags": ["angular", "typescript", "nativescript", "angular2-template", "nativescript-angular"], "answers": [{"comments": [{"owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "edited": false, "score": 0, "creation_date": 1521090340, "post_id": 49159170, "comment_id": 85586504, "body": "we cant sure how many messages we will be getting in services. it may be two or three or four, etc.. so i&#39;m looking for dynamic way of marks[i]. But its overlapping the label one after another. Not able to use two listview in single template"}, {"owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "reply_to_user": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "edited": false, "score": 0, "creation_date": 1521134497, "post_id": 49159170, "comment_id": 85613364, "body": "Just make it a for loop then. <code>*ngFor=&quot;let obj of item.marks&quot;</code> then within the for loop add labels using <code>&lt;Label [text]=obj.body.first ....</code>"}], "tags": [], "owner": {"reputation": 15257, "user_id": 1409312, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4TCzB.jpg?s=128&g=1", "display_name": "Syntactic Fructose", "link": "https://stackoverflow.com/users/1409312/syntactic-fructose"}, "is_accepted": false, "score": 1, "last_activity_date": 1520448298, "creation_date": 1520448298, "answer_id": 49159170, "question_id": 49158931, "link": "https://stackoverflow.com/questions/49158931/how-to-parse-nested-array-values-from-json-and-show-it-in-listview-template-nati/49159170#49159170", "title": "How to parse nested array values from json and show it in listview template nativescript angular2", "body": "<p>Since <code>marks</code> is an array of Objects, you should be able to access these values via array access followed by field access:</p>\n\n<pre><code>&lt;StackLayout&gt;\n    &lt;Label [text]=\"item.marks[0].body.first\" class=\"user-title\"&gt;&lt;/Label&gt;\n    &lt;Label [text]=\"item.marks[0].body.second\" class=\"item-title\" textWrap=\"true\"&gt;&lt;/Label&gt;\n    &lt;Label [text]=\"item.marks[0].body.third\" class=\"item-title\" textWrap=\"true\"&gt;&lt;/Label&gt;\n&lt;/StackLayout&gt;\n</code></pre>\n\n<p>But if you want to show <em>all</em> marks without manually specifying an index for <code>marks</code>, you'll need one more for loop.</p>\n"}], "owner": {"reputation": 9074, "user_id": 3960700, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/DM9BO.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/3960700/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520448298, "creation_date": 1520447378, "question_id": 49158931, "link": "https://stackoverflow.com/questions/49158931/how-to-parse-nested-array-values-from-json-and-show-it-in-listview-template-nati", "title": "How to parse nested array values from json and show it in listview template nativescript angular2", "body": "<ul>\n<li><p>In below json structure if you see <code>marks array</code>. I have to get and\nshow the mark array body value : first, second and third.</p></li>\n<li><p>These first, second and third values placed inside marks Array. I\ndon't know how to fetch this value and show it in listview template.</p></li>\n<li><p>I just want to show all the three values in every listview item\nposition</p></li>\n</ul>\n\n<p><strong>students.json:</strong></p>\n\n<pre><code>[\n    {\n        \"id\": 1,\n        \"name\": \"denver\",\n        \"marks\": [\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Pollard\",\n                    \"second\": \"Bravo\",\n                    \"third\": \"Kevin\"\n                } \n            },\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Michael\",\n                    \"second\": \"Waugh\",\n                    \"third\": \"Stone\"\n                }\n            }\n        ]\n    },\n    {\n        \"id\": 2,\n        \"name\": \"kallis\",\n        \"marks\": [\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Yuvi\",\n                    \"second\": \"Maxwell\",\n                    \"third\": \"Rock\"\n                }\n            },\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Steve\",\n                    \"second\": \"Laughlin\",\n                    \"third\": \"Jeff\"\n                }\n            }\n        ]\n    },\n\n    {\n        \"id\": 3,\n        \"name\": \"younis\",\n        \"marks\": [\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Ben\",\n                    \"second\": \"Stokes\",\n                    \"third\": \"Smith\"\n                }\n            },\n            {\n                \"identity\": [],\n                \"body\": {\n                    \"first\": \"Archer\",\n                    \"second\": \"Matt\",\n                    \"third\": \"Glenn\"\n                }\n            }\n        ]\n    }\n\n]\n</code></pre>\n\n<p><strong>app.component.html:</strong></p>\n\n<pre><code>&lt;StackLayout height=\"100%\"&gt;\n\n    &lt;ListView [items]=\"studentList\" class=\"list-group\" height=\"70%\"&gt;\n        &lt;ng-template let-item=\"item\" let-i=\"index\"&gt;\n            &lt;StackLayout class=\"input-border\"&gt;\n\n                &lt;Label [text]=\"item.name\" class=\"module-title\"&gt;&lt;/Label&gt;\n\n             &lt;!--   &lt;StackLayout&gt;\n                    &lt;Label [text]=\"item.first\" class=\"user-title\"&gt;&lt;/Label&gt;\n                    &lt;Label [text]=\"item.second\" class=\"item-title\" textWrap=\"true\"&gt;&lt;/Label&gt;\n                    &lt;Label [text]=\"item.third\" class=\"item-title\" textWrap=\"true\"&gt;&lt;/Label&gt;\n\n                &lt;/StackLayout&gt;  --&gt;\n\n            &lt;/StackLayout&gt;\n        &lt;/ng-template&gt;\n\n    &lt;/ListView&gt;\n</code></pre>\n\n<p>App.component.ts:</p>\n\n<pre><code>import { Component, OnInit } from \"@angular/core\";\nimport { ObservableArray } from 'data/observable-array'\nimport { Student } from './model/Student';\nimport * as Application from \"application\";\nimport { AppService } from './app.service'\n\n@Component({\n    selector: \"app\",\n    moduleId: module.id,\n    providers: [AppService],\n    templateUrl: \"./app.component.html\",\n    styleUrls: [\"./app.component.css\"]\n})\n\nexport class AppComponent implements OnInit {\n    private studentList: ObservableArray&lt;Student&gt;;\n\n    constructor(private appService: AppService) {\n    }\n    ngOnInit() {\n        this.studentList = this.appService.getStudent();\n    }\n\n}\n</code></pre>\n\n<p><strong>app.service.ts:</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core'\nimport { Student } from './model/Student'\nimport { ObservableArray } from 'data/observable-array'\n\nvar getData = require(\"./model/student.json\");\n\n@Injectable()\nexport class AppService {\n\n    getStudent(): ObservableArray&lt;Student&gt; {\n        var studentList: ObservableArray&lt;Student&gt; = new ObservableArray&lt;Student&gt;();\n\n        console.log(\"StudentArray\", JSON.stringify(getData));\n\n        for (var i = 0; i &lt;getData.length; i++) {\n            var student = new Student();\n            student.name = getData[i].name;\n            console.log(\"nameStudent\", getData[i].name);\n\n\n        studentList.push(student);\n\n        }\n\n        return studentList;\n\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1520446232, "post_id": 49158605, "comment_id": 85322113, "body": "This is a <i>primarily opinion-based</i> question because you&#39;re going to get a lot of <b>opinions</b> based of experiences, Etc.  Therefore, this question should be closed."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520446298, "post_id": 49158605, "comment_id": 85322161, "body": "So will the new key names apply to all objects or will they change based on the object itself? Will every object in array go from name to naam and age to umra and subject to vishay?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1520446556, "post_id": 49158605, "comment_id": 85322299, "body": "Efficient how? Speed? Memory usage? I/O? Also, have you tried anything that you found to be not &quot;efficient&quot; enough?"}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 1, "creation_date": 1520446589, "post_id": 49158605, "comment_id": 85322314, "body": "10000 is a tiny array, it starts to matter when there&#39;s millions :) So I&#39;d just go with .map, though a simple mutating for loop would be more efficient in every way."}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1520446706, "post_id": 49158605, "comment_id": 85322371, "body": "@Ryan yes all the object will contain the same keys as i mentioned ,it will apply to all objects , efficient enough in terms of  speed as well as memory so the page wont be  irresponsive."}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520446825, "post_id": 49158605, "comment_id": 85322449, "body": "@funkizer I just given you the starting figure it could go beyond the 50000 or more objects , do you have any idea how we can get the solution ,i mean javascript cant handle much data at client side right?"}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1520446954, "post_id": 49158605, "comment_id": 85322534, "body": "@Mike McCaughan Efficient enough in terms of speed as well as memory so the page wont be irresponsive"}, {"owner": {"reputation": 2248, "user_id": 3116805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d9cae31b42b7645470258dffcd88c?s=128&d=identicon&r=PG&f=1", "display_name": "Hoyen", "link": "https://stackoverflow.com/users/3116805/hoyen"}, "edited": false, "score": 0, "creation_date": 1520447104, "post_id": 49158605, "comment_id": 85322627, "body": "Why do you need to mutate the object?"}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520447177, "post_id": 49158605, "comment_id": 85322671, "body": "Yeah i think the simplest possible for loop would do it. Beyond maybe 100-200k you can start to see a freeze of a second or few on lower end machines. Nothing except going webworkers or webasm can totally get rid of blocking."}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520447230, "post_id": 49158605, "comment_id": 85322703, "body": "Mutating instead of copying will save memory. Not sure about cpu but probably that too"}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 2248, "user_id": 3116805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d9cae31b42b7645470258dffcd88c?s=128&d=identicon&r=PG&f=1", "display_name": "Hoyen", "link": "https://stackoverflow.com/users/3116805/hoyen"}, "edited": false, "score": 0, "creation_date": 1520447252, "post_id": 49158605, "comment_id": 85322716, "body": "@Hoyen I m passing an array to excell service which takes object keys as excell header names and i want different excell header names thats why ."}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520447425, "post_id": 49158605, "comment_id": 85322823, "body": "I&#39;m putting arrays of 50k+ things thourgh multiple .filter, .map and even rxjs/groupBy calls in one project actually when a user creates an xlsx, and the pause is barely noticable :)"}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520447519, "post_id": 49158605, "comment_id": 85322871, "body": "@funkizer can you share code how i can achieve the same as you did?"}, {"owner": {"reputation": 2248, "user_id": 3116805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d9cae31b42b7645470258dffcd88c?s=128&d=identicon&r=PG&f=1", "display_name": "Hoyen", "link": "https://stackoverflow.com/users/3116805/hoyen"}, "edited": false, "score": 0, "creation_date": 1520447531, "post_id": 49158605, "comment_id": 85322879, "body": "@AdityaVashishtha are you able to update the excell service? If you can, you can probably create a Mapping table that maps the new key names with the original key names."}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "edited": false, "score": 0, "creation_date": 1520447616, "post_id": 49158605, "comment_id": 85322925, "body": "I&#39;m doing nothing special, that&#39;s the point. Lots of piped rxjs operators and array.map etc :) It&#39;s not a concern unless you&#39;re targeting mobile users and got hundreds of thousands long arrays."}, {"owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "reply_to_user": {"reputation": 2248, "user_id": 3116805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d9cae31b42b7645470258dffcd88c?s=128&d=identicon&r=PG&f=1", "display_name": "Hoyen", "link": "https://stackoverflow.com/users/3116805/hoyen"}, "edited": false, "score": 0, "creation_date": 1520447648, "post_id": 49158605, "comment_id": 85322954, "body": "@Hoyen thing is that my api returning those array and for some reason api cant change object structure so we need to do this at client side,I am using angular 2 excell module  for same."}, {"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 0, "creation_date": 1520448924, "post_id": 49158605, "comment_id": 85323682, "body": "I&#39;d suggest you write a working implementation, which <i>you think</i> is optimal, and then send it to <a href=\"https://codereview.stackexchange.com\">Code Review</a> (note that the way to ask there is different than hear, check their tour page - particularly, you want to include specific things you want to have reviewed, memory/time etc)."}], "answers": [{"tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 1, "last_activity_date": 1520449471, "last_edit_date": 1520449471, "creation_date": 1520446816, "answer_id": 49158787, "question_id": 49158605, "link": "https://stackoverflow.com/questions/49158605/deleting-object-keys-and-reassign-different-keys-is-good-approach-on-iteration-o/49158787#49158787", "title": "deleting object keys and reassign different keys is good approach on iteration of thousands of objects loop?", "body": "<p>The <em>fastest</em> way is to iterate them with raw <code>for</code> loop:</p>\n\n<pre><code>for (let i = 0; i &lt; arr.length; i++) {\n  const item = arr[i];\n  if (item.hasOwnProperty('umra')) {\n    item.age = item.umra;\n    delete item.umra;\n  }\n  ...\n}\n</code></pre>\n\n<p>If there is too much to process, the array can be processed in chunks, separated with zero timeouts. This allows to not block main thread with lengthy loop. Intermediate <code>setTimeout</code> or other async functions should run with <code>ngZone.runOutsideAngular</code> in Angular to not trigger change detection:</p>\n\n<pre><code>const CHUNK_LENGTH = 1000;\n\nngZone.runOutsideAngular(async () =&gt; {\n  for (let i = 0; i &lt; arr.length; i++) {\n    if (i &gt; 0 &amp;&amp; !(i % CHUNK_LENGTH)) {\n      // new chunk\n      await null;\n    }\n\n    const item = arr[i];\n\n    if (item.hasOwnProperty('umra')) {\n      item.age = item.umra;\n      delete item.umra;\n    }\n    // ...\n  }\n\n  return arr;\n})\n.then(arr =&gt; {\n  // .then triggers change detection after runOutsideAngular\n})\n</code></pre>\n\n<p>Since promises have some overhead, it makes sense to switch to raw <code>for</code> and <code>setTimeout</code> for smaller chunks.</p>\n\n<p>Compute-intensive tasks are supposed to be performed in web workers, but this is not the case, since there's not much computation, and same amount of loop cycles has to be performed after receiving results from web worker.</p>\n\n<p>The <em>efficient</em> way is to not let this happen. If the object is received from API request and requires to be processed, API possibly should be changed.</p>\n"}, {"comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520449403, "post_id": 49159069, "comment_id": 85323992, "body": "Unfortunately, web worker won&#39;t help here, because property change isn&#39;t a costly operation, and performance impact comes from iteration itself. Same amount of resources (if not greater) will be spent on parsing serialized message from a worker."}, {"owner": {"reputation": 1430, "user_id": 9368649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zl97C.jpg?s=128&g=1", "display_name": "Abhijit Kar \u30c4", "link": "https://stackoverflow.com/users/9368649/abhijit-kar-%e3%83%84"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520450573, "post_id": 49159069, "comment_id": 85324678, "body": "@estus I beg to differ. The property key change can be a costly operation in case of converting a JSON that contains, name spaced, SOAP API era response. i.e. &lt;ns3:name&gt;, here a split or a regex needs to remove anything before a colon, (I was facing this problem in a project, with adamant back end programmers), which are fairly heavy operations and that too repeating for every key of every object."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520450824, "post_id": 49159069, "comment_id": 85324832, "body": "I agree. But it won&#39;t in case of an object described in the OP. Any way, we&#39;ll never know what the case really was."}], "tags": [], "owner": {"reputation": 1430, "user_id": 9368649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zl97C.jpg?s=128&g=1", "display_name": "Abhijit Kar \u30c4", "link": "https://stackoverflow.com/users/9368649/abhijit-kar-%e3%83%84"}, "is_accepted": false, "score": 1, "last_activity_date": 1520450065, "last_edit_date": 1520450065, "creation_date": 1520447920, "answer_id": 49159069, "question_id": 49158605, "link": "https://stackoverflow.com/questions/49158605/deleting-object-keys-and-reassign-different-keys-is-good-approach-on-iteration-o/49159069#49159069", "title": "deleting object keys and reassign different keys is good approach on iteration of thousands of objects loop?", "body": "<blockquote>\n  <p>Use <strong>Web Workers</strong> to prevent UI from Freezing</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var worker = run(function() {\r\n  // Better than using if else for each key\r\n  var keyMaps = {\r\n    a: \"x\",\r\n    b: \"y\",\r\n    c: \"z\"\r\n  };\r\n\r\n  // Start when objects are available\r\n  onmessage = function(e) {\r\n    objs = e.data;\r\n\r\n    // Loop through each object of objects list\r\n    objs = objs.map(function(obj) {\r\n      var o = {};\r\n\r\n      // Loop through each key in each object\r\n      for (k in obj) {\r\n        o[keyMaps[k]] = obj[k]\r\n      }\r\n\r\n      return o;\r\n    });\r\n\r\n    // Let the main program know about the transformation\r\n    postMessage(objs);\r\n    self.close();\r\n  };\r\n});\r\n\r\n// Just a wrapper to help create a Web Worker\r\nfunction run(func) {\r\n  return new Worker(URL.createObjectURL(new Blob([`(${func})()`])));\r\n}\r\n\r\n// Response from API\r\nvar objs = [{\r\n    a: 1,\r\n    b: 2,\r\n    c: 3\r\n  },\r\n  {\r\n    a: 4,\r\n    b: 5,\r\n    c: 6\r\n  }\r\n];\r\n\r\n// Pass in objs received from API\r\nworker.postMessage(objs);\r\n\r\n// Do whatever you want with the output\r\nworker.onmessage = event =&gt; console.log(event.data);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Explanation:</p>\n</blockquote>\n\n<ol>\n<li>It doesn't matter if the objects are laid out flat, or nested within each other. The program will need to traverse each property <code>(p)</code> of each object <code>{o}</code>. There's no way to avoid <code>O(o * p)</code> time complexity.</li>\n<li>Each object needs to be traversed, and within each object, each property needs to be traversed.</li>\n<li>And only way to prevent UI from freezing is to write the logic within a Web Worker.</li>\n<li>Use key map instead of if-else or switch statements, makes life easier!</li>\n</ol>\n"}], "owner": {"reputation": 136, "user_id": 8618959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-cYiCwYXn5sE/AAAAAAAAAAI/AAAAAAAAATc/yTSFvwPtP8I/photo.jpg?sz=128", "display_name": "Aditya Vashishtha", "link": "https://stackoverflow.com/users/8618959/aditya-vashishtha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "closed_date": 1520448858, "answer_count": 2, "score": -1, "last_activity_date": 1520851674, "creation_date": 1520446131, "last_edit_date": 1520851674, "question_id": 49158605, "link": "https://stackoverflow.com/questions/49158605/deleting-object-keys-and-reassign-different-keys-is-good-approach-on-iteration-o", "closed_reason": "Opinion-based", "title": "deleting object keys and reassign different keys is good approach on iteration of thousands of objects loop?", "body": "<p>I was having array as example :-</p>\n\n<p>for an example </p>\n\n<pre><code> var a =[{name :\"Adi\", age:23},{name:\"aman\" ,age : 23},{name : rob,age:52}];\n</code></pre>\n\n<p>should i delete the keys name or should i assign it as undefined ,which approach is good ?\nI means delete operator takes  much time or setting undefined should be good for so many iterations ?</p>\n"}, {"tags": ["javascript", "json", "typescript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1520446996, "post_id": 49158592, "comment_id": 85322557, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#Deep_Clone\" rel=\"nofollow noreferrer\"><code>Object.assign</code></a> does a shallow copy of object properties."}], "owner": {"reputation": 11, "user_id": 9458237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OJHyLQjRm1M/AAAAAAAAAAI/AAAAAAAAAAA/vS9t0c-2E1E/photo.jpg?sz=128", "display_name": "Camila Roj&#237;", "link": "https://stackoverflow.com/users/9458237/camila-roj%c3%ad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520446256, "creation_date": 1520446087, "last_edit_date": 1520446256, "question_id": 49158592, "link": "https://stackoverflow.com/questions/49158592/create-typescript-object-delete-json-data", "title": "Create Typescript object delete json data", "body": "<p>When creating an object from a json, part of the json is deleted. </p>\n\n<p>The original json has the following values:</p>\n\n<pre><code>error = {\n    \"Status\": 0,\n    \"Code\": 200,\n    \"Message\": \"\",\n    \"Data\": {\n        \"Id\": 2326,\n        \"IdUsuario\": 2,\n        \"Adenda\": {\n            \"Id\": 2326,\n            \"Texto\": \"\",\n            \"CFE_Id\": 0,\n            \"CamposDinamicos\": []\n        },\n        \"CAE\": [],\n        \"DescuentoRecargo\": [], \n        \"CompFiscal\": {\n            \"Id\": 2326,\n            \"RUCEmisor\": \"aaaaa\",\n            \"CodTipoDocMandante\": 2,\n            \"CodigoPais\": \"UY\",\n            \"NroDocMandante\": \"aaaa\",\n            \"DenominacionMandante\": \"Complemento fiscal\",\n            \"CFE_Id\": 0\n        }\n    }\n}\n</code></pre>\n\n<p>Now we create an object that receives this json in the constructor:</p>\n\n<pre><code>export class RespuestaAPI {\n    public constructor(init?: Partial&lt;RespuestaAPI&gt;) {\n        Object.assign(this, init);\n    }\n    Status: number;\n    Code: HttpCode;\n    Message: string;\n    Data: any;\n}\n</code></pre>\n\n<p>when we print the object created there is a missing part:</p>\n\n<pre><code>let r =  new RespuestaAPI(error.json());\nconsole.log(r);\n</code></pre>\n\n<p>and the printed value is the following:</p>\n\n<pre><code>{\n    \"Status\": 0,\n    \"Code\": 200,\n    \"Message\": \"\",\n    \"Data\": {\n        \"Id\": 2326,\n        \"IdUsuario\": 2,\n        \"Adenda\": {\n            \"Id\": 2326,\n            \"Texto\": \"\",\n            \"CFE_Id\": 0,\n            \"CamposDinamicos\": []\n        },\n        \"CAE\": [],\n        \"DescuentoRecargo\": [], \n        \"CompFiscal\": {}\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "datepicker", "components", "ngx-bootstrap"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 4868507, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SVGNw4wjoAk/AAAAAAAAAAI/AAAAAAAAAI4/Phz7JbUyv4w/photo.jpg?sz=128", "display_name": "Gabriel Ferraz", "link": "https://stackoverflow.com/users/4868507/gabriel-ferraz"}, "is_accepted": true, "score": 3, "last_activity_date": 1520447848, "creation_date": 1520447848, "answer_id": 49159047, "question_id": 49158539, "link": "https://stackoverflow.com/questions/49158539/how-do-i-change-the-npx-bootstrap-datepicker-language-to-pt-br/49159047#49159047", "title": "How do I change the npx bootstrap datepicker language to pt-br?", "body": "<p>The problem with your code is that you put the call to change the locale inside another function and you are not calling it.</p>\n\n<p>Try removing the applyLocale function and putting the call to change the locale inside the constructor like this:</p>\n\n<pre><code>@Component({\n selector: 'demo-datepicker-change-locale',\n templateUrl: './cancelar-agendamentos-consulta.component.html'\n})\nexport class DemoDatepickerChangeLocaleComponent {\n  locale = 'pt-br';\n  locales = listLocales();\n\n  constructor(private _localeService: BsLocaleService) {\n    this._localeService.use(this.locale);\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 7220620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dBPC6.jpg?s=128&g=1", "display_name": "Enea Jahollari", "link": "https://stackoverflow.com/users/7220620/enea-jahollari"}, "is_accepted": false, "score": 2, "last_activity_date": 1576599035, "creation_date": 1576599035, "answer_id": 59378076, "question_id": 49158539, "link": "https://stackoverflow.com/questions/49158539/how-do-i-change-the-npx-bootstrap-datepicker-language-to-pt-br/59378076#59378076", "title": "How do I change the npx bootstrap datepicker language to pt-br?", "body": "<p>So I wanted the language to be in italian and I changed the language with this code: </p>\n\n<p>I imported: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { BsLocaleService, defineLocale, itLocale } from 'ngx-bootstrap';\n</code></pre>\n\n<p>Code in example.component.ts </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  // set language of datepicker\n  setDatepickerLanguage() {\n    defineLocale('it', itLocale);\n    this.localeService.use('it');\n  }\n</code></pre>\n\n<p><em>and called the function on the constructor()</em>\nand it worked.</p>\n\n<p>Screenshot: </p>\n\n<p><img src=\"https://i.imgur.com/HbtqAZ0.png\" alt=\"screenshot\"></p>\n"}], "owner": {"reputation": 65, "user_id": 8856533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d13e9dfde996ef122ca4d46590518a7?s=128&d=identicon&r=PG", "display_name": "Guilherme Sester", "link": "https://stackoverflow.com/users/8856533/guilherme-sester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1636, "favorite_count": 0, "accepted_answer_id": 49159047, "answer_count": 2, "score": 2, "last_activity_date": 1576599035, "creation_date": 1520445863, "question_id": 49158539, "link": "https://stackoverflow.com/questions/49158539/how-do-i-change-the-npx-bootstrap-datepicker-language-to-pt-br", "title": "How do I change the npx bootstrap datepicker language to pt-br?", "body": "<p>I am doing a project in Angular 4, I installed the ngx bootstrap and the date picker is in English. I inserted the following lines in app.module.ts:</p>\n\n<pre><code>import { defineLocale } from 'ngx-bootstrap/chronos';\nimport { ptBrLocale } from 'ngx-bootstrap/locale';\ndefineLocale('pt-br', ptBrLocale); \n</code></pre>\n\n<p>Then I went into the component of the page where I'm calling my datepicker, I made the imports and I declared: </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { BsDatepickerConfig, BsLocaleService } from 'ngx-bootstrap/datepicker';\nimport { listLocales } from 'ngx-bootstrap/chronos';\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Component({\n  selector: 'demo-datepicker-change-locale',\n  templateUrl: './cancelar-agendamentos-consulta.component.html'\n})\nexport class DemoDatepickerChangeLocaleComponent {\n  locale = 'pt-br';\n  locales = listLocales();\n\n  constructor(private _localeService: BsLocaleService) {\n  }\n\n  applyLocale(pop: any) {\n    this._localeService.use(this.locale);\n    pop.hide();\n    pop.show();\n  }\n}\n</code></pre>\n\n<p>And it still did not work. What am I doing wrong?</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 238, "user_id": 6566006, "user_type": "registered", "profile_image": "https://graph.facebook.com/789835067751736/picture?type=large", "display_name": "Jefferson Carvalho", "link": "https://stackoverflow.com/users/6566006/jefferson-carvalho"}, "edited": false, "score": 0, "creation_date": 1520450712, "post_id": 49159162, "comment_id": 85324766, "body": "Thanks, it worked, but I modified your solution a little bit. I&#39;ve changed the declaration of <code>TreeNode</code>, putting the extra properties in a separated <code>interface</code>, doing  <code>TreeNode&lt;T&gt;</code>, and then used the intersection type <code>data: T &amp; NodeData&lt;T&gt;;</code> when declaring the attribute. I was stuck here because I didin&#39;t realize that you can name your functions in interfaces, as the docs weren&#39;t really clear about that. Another thing was the conditionals to verify if the attribute exists, mine were different and they won&#39;t work in this situation."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 1, "last_activity_date": 1520448278, "creation_date": 1520448278, "answer_id": 49159162, "question_id": 49158489, "link": "https://stackoverflow.com/questions/49158489/calling-an-object-function-if-it-exists-in-typescript/49159162#49159162", "title": "Calling an object function if it exists in TypeScript", "body": "<p>You can define a type constrain for <code>T</code> and have the two members as optional:</p>\n\n<pre><code>class TreeNode&lt;T extends { equals?(o: T): boolean; greaterThan?(o: T): boolean }&gt; {\n    /* A node used in the tree. */\n    data: T;\n    left: TreeNode&lt;T&gt; | undefined;\n    right: TreeNode&lt;T&gt; | undefined;\n\n    constructor(data: T) {\n        this.data = data;\n        this.left = undefined;\n        this.right = undefined;\n    }\n\n    equals(obj: TreeNode&lt;T&gt;): boolean {\n        /* Checks whether an equals function exists in the object. If it doesnt,\n        tries to use === operator to perform equality check instead. */\n\n        if (this.data.equals)\n            return &lt;boolean&gt;this.data.equals(obj.data);\n        else\n            return this.data === obj.data;\n    }\n\n    greaterThan(obj: TreeNode&lt;T&gt;): boolean {\n        /* Checks whether an greaterThan function exists in the object. If it doesnt,\n        tries to use &gt; operator to check if this.data is greater than obj.data */\n\n        if (this.data.greaterThan)\n            return &lt;boolean&gt;this.data.greaterThan(obj.data);\n        else\n            return this.data &gt; obj.data;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 238, "user_id": 6566006, "user_type": "registered", "profile_image": "https://graph.facebook.com/789835067751736/picture?type=large", "display_name": "Jefferson Carvalho", "link": "https://stackoverflow.com/users/6566006/jefferson-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "accepted_answer_id": 49159162, "answer_count": 1, "score": 2, "last_activity_date": 1520448278, "creation_date": 1520445670, "last_edit_date": 1592644375, "question_id": 49158489, "link": "https://stackoverflow.com/questions/49158489/calling-an-object-function-if-it-exists-in-typescript", "title": "Calling an object function if it exists in TypeScript", "body": "<p>I am implementing a binary search tree class in <code>Typescript</code> as an exercise to learn the language, and I'm trying to make it using <code>generics</code>.</p>\n<p>In the algorithms of the class I've implemented so far, I'll need to do two logical operations with whatever object I'm dealing with: Check if they're equal, and check of one is greater than the other.\nThis is easy when manipulating primitive types like <code>number</code>, since I can just use the operators <code>===</code> and <code>&gt;</code> to compare the objects, but as I want to make a generic class, things start to get complicated here.</p>\n<p>In order to achieve this, I came up with this &quot;solution&quot;, where the user's object need to have two methods defined: <code>equals</code> and <code>greaterThan</code>. Based on that, I created this code for my tree's node:</p>\n<pre><code>class TreeNode&lt;T&gt; {\n  /* A node used in the tree. */\n  data: T;\n  left: TreeNode&lt;T&gt; | undefined;\n  right: TreeNode&lt;T&gt; | undefined;\n\n  constructor(data: T) {\n    this.data = data;\n    this.left = undefined;\n    this.right = undefined;\n  }\n\n  equals(obj: TreeNode&lt;T&gt;): boolean {\n    /* Checks whether an equals function exists in the object. If it doesnt,\n    tries to use === operator to perform equality check instead. */\n\n    if ('equals' in obj.data)\n      return &lt;boolean&gt;this.data.equals(obj.data);\n    else\n      return this.data === obj.data;\n  }\n\n  greaterThan(obj: TreeNode&lt;T&gt;): boolean {\n    /* Checks whether an greaterThan function exists in the object. If it doesnt,\n    tries to use &gt; operator to check if this.data is greater than obj.data */\n\n    if ('greaterThan' in obj.data)\n      return &lt;boolean&gt;this.data.greaterThan(obj.data);\n    else\n      return this.data &gt; obj.data;\n  }\n}\n</code></pre>\n<p>As you can see, my code is meant to compare the nodes(the <code>TreeNode</code>'s functions <code>equals</code> and <code>greaterThan</code> will be called by the <code>BinarySearchTree</code> class, which I hadn't included here), and when comparing the nodes, it will check whether the mentioned methods are defined in the user's object, stored in the <code>data</code> attribute. If they are, I'll use them to compare. If they aren't, I'll assume that the object is a number, using the relational operators instead.\nHappy with my solution, I tried to compile the code, which resulted in the following errors:</p>\n<blockquote>\n<p>TS2339: Property 'equals' does not exist on type 'T'.</p>\n<p>TS2339: Property 'greaterThan' does not exist on type 'T'.</p>\n</blockquote>\n<p>So, even though I've checked if the methods exists, the compiler refuses to compile the code. How can I solve that?</p>\n"}, {"tags": ["typescript", "conditional-types", "typescript2.8"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 3, "last_activity_date": 1520449088, "creation_date": 1520449088, "answer_id": 49159349, "question_id": 49158195, "link": "https://stackoverflow.com/questions/49158195/conditional-types-returntype-function-signature-overload-resolution/49159349#49159349", "title": "Conditional types ReturnType function signature overload resolution", "body": "<p>A smaller reproduction of your problem with no conditional types:</p>\n\n<pre><code>declare function acceptSomeOperationB(x: SomeOperationB): void;\nacceptSomeOperationB(() =&gt; Promise.resolve('hello')); // \u274c Type 'string' is not assignable to type 'Wrapped&lt;string&gt;'.\n</code></pre>\n\n<p>It is clear that TypeScript does not consider the arrow function to be compatible with <code>SomeOperationB</code> because it fails to meet one of the overloaded signatures.  Indeed, if you pass <code>true</code> as the second parameter to that function, it will <em>not</em> return a <code>Promise&lt;Wrapped&lt;string&gt;&gt;</code>, as required by the second signature for <code>SomeOperationB</code>.  </p>\n\n<p>Once you decide how to resolve that, it should start working (or you can at least move on to issues with conditional types.)</p>\n\n<p>Good luck.</p>\n"}], "owner": {"reputation": 17887, "user_id": 162273, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/430cb584ada70347d6bdaabdcf67390c?s=128&d=identicon&r=PG", "display_name": "Jason Kleban", "link": "https://stackoverflow.com/users/162273/jason-kleban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "accepted_answer_id": 49159349, "answer_count": 1, "score": 2, "last_activity_date": 1520452175, "creation_date": 1520444673, "last_edit_date": 1592644375, "question_id": 49158195, "link": "https://stackoverflow.com/questions/49158195/conditional-types-returntype-function-signature-overload-resolution", "title": "Conditional types ReturnType function signature overload resolution", "body": "<p>I'm trying to use typescript 2.8's new <a href=\"https://github.com/Microsoft/TypeScript/pull/21316\" rel=\"nofollow noreferrer\">conditional types</a>, (not yet released version 2.8.0-dev.20180307) and I don't know if this is a bug or just a misuse.  My focus is on my declaration of <code>MockedImplementation&lt;F&gt;</code> which can be a full function matching <code>F</code>, the return type of <code>F</code>, and if the return type of <code>F</code> is a <code>Promise</code>, then it could also be what the promise resolves to - all to be wrapped accordingly by <code>mockIt()</code>.</p>\n<pre><code>type MockedImplementation&lt;F&gt; = \n    F | // The function signature\n    ((ReturnType&lt;F extends (...args: any[]) =&gt; any ? F : any&gt;) extends infer T \n        ? T extends Promise&lt;infer R&gt; \n            ? (T | R) // Or the promise or just the type that the promise resolves to\n            : T // or whatever type this is\n        : never);\n\ninterface Wrapped&lt;T&gt; {\n    result: T\n}\n\nfunction mockIt&lt;F&gt;(pretend : MockedImplementation&lt;F&gt;) : F {\n    throw new Error('Not Implemented'); // doesn't matter\n}\n\ninterface SomeOperationA {\n    (parameters : { 'a': number[], 'b'?: string }) : Promise&lt;string&gt;;\n}\n\nmockIt&lt;SomeOperationA&gt;(() =&gt; Promise.resolve('hello')); // \ud83d\udc4d OK\nmockIt&lt;SomeOperationA&gt;(Promise.resolve('hello')); // \ud83d\udc4d OK\nmockIt&lt;SomeOperationA&gt;('hello'); // \ud83d\udc4d OK\nmockIt&lt;SomeOperationA&gt;(42); // \ud83d\udc4d Type error.\n</code></pre>\n<p><code>mockIt</code> of <code>SomeOperationA</code> works, perhaps directly because there are no function signature overrides.  But <code>mockIt</code> of <code>SomeOperationB</code> fails:</p>\n<pre><code>interface SomeOperationB {\n    (parameters : { 'a': number[], 'b'?: string }) : Promise&lt;string&gt;;\n    (parameters : { 'a': number[], 'b'?: string }, rawResponse : true) : Promise&lt;Wrapped&lt;string&gt;&gt;;\n    (parameters : { 'a': number[], 'b'?: string }, rawResponse : false) : Promise&lt;string&gt;;\n}\n\nmockIt&lt;SomeOperationB&gt;(() =&gt; Promise.resolve('hello')); // \u274c Type 'string' is not assignable to type 'Wrapped&lt;string&gt;'.\nmockIt&lt;SomeOperationB&gt;(Promise.resolve('hello')); // \ud83d\udc4d OK\nmockIt&lt;SomeOperationB&gt;('hello'); // \ud83d\udc4d OK\nmockIt&lt;SomeOperationB&gt;(42); // \ud83d\udc4d Type error.\n</code></pre>\n<p>It seems to be intersecting types instead of unioning them?  But I'm sure it is more nuanced than that.</p>\n<p>I saw a note somewhere about &quot;considers the last overload because presumably it is the most generalized&quot;, but I don't think it is relevant here because it doesn't seem to behave as though it matters.</p>\n<h3>Edit</h3>\n<p>@jcalz is right, makes sense:</p>\n<pre><code>interface SomeOperationB {\n    (wrapped : true) : Promise&lt;Wrapped&lt;string&gt;&gt;;\n    (wrapped : false) : Promise&lt;string&gt;;\n}\n\ninterface Wrapped&lt;T&gt; { result: T }\n\ndeclare function acceptSomeOperationB(x: SomeOperationB): void;\n\nacceptSomeOperationB(() =&gt; Promise.resolve('hello')); // \u274c Type 'string' is not assignable to type 'Wrapped&lt;string&gt;'.\nacceptSomeOperationB(() =&gt; Promise.resolve({ result: 'hello' })); // \u274c Type '{ result: string; }' is not assignable to type 'string'.\n</code></pre>\n"}, {"tags": ["angular", "typescript", "cors", "access-control"], "answers": [{"comments": [{"owner": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "edited": false, "score": 0, "creation_date": 1520444895, "post_id": 49158232, "comment_id": 85321335, "body": "I have tried it with proxy as mentioned. Is it correct way?"}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "reply_to_user": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "edited": false, "score": 0, "creation_date": 1520444946, "post_id": 49158232, "comment_id": 85321369, "body": "That&#39;s not a proxy server, you&#39;re just telling angular to swap the baseurl of all http requests it makes."}, {"owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "reply_to_user": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "edited": false, "score": 0, "creation_date": 1520445131, "post_id": 49158232, "comment_id": 85321490, "body": "Something like <a href=\"https://github.com/nodejitsu/node-http-proxy\" rel=\"nofollow noreferrer\">github.com/nodejitsu/node-http-proxy</a>"}], "tags": [], "owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "is_accepted": false, "score": 2, "last_activity_date": 1520444786, "creation_date": 1520444786, "answer_id": 49158232, "question_id": 49158186, "link": "https://stackoverflow.com/questions/49158186/enable-access-control-allow-origin-in-angular-5-from-client-side/49158232#49158232", "title": "Enable Access-Control-Allow-Origin in angular 5 from Client side", "body": "<p>You can't set response headers on client, only the server can do that. Ie. if you can't change the server side, your only option is adding a proxy server that you control in between.</p>\n"}], "owner": {"reputation": 1243, "user_id": 4512634, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-QvUvj7DyNMs/AAAAAAAAAAI/AAAAAAAAA5s/bbpmpXLIJpE/photo.jpg?sz=128", "display_name": "Umair Jameel", "link": "https://stackoverflow.com/users/4512634/umair-jameel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5877, "favorite_count": 1, "closed_date": 1537848064, "answer_count": 1, "score": 2, "last_activity_date": 1537848110, "creation_date": 1520444650, "last_edit_date": 1520444792, "question_id": 49158186, "link": "https://stackoverflow.com/questions/49158186/enable-access-control-allow-origin-in-angular-5-from-client-side", "closed_reason": "Duplicate", "title": "Enable Access-Control-Allow-Origin in angular 5 from Client side", "body": "<p>I am using httpClient angular package for get requests. I am using <a href=\"https://api.independentreserve.com/Public/GetValidPrimaryCurrencyCodes\" rel=\"nofollow noreferrer\">https://api.independentreserve.com/Public/GetValidPrimaryCurrencyCodes</a> url for fetching data. It is giving CORS error in console.</p>\n\n<p>I don't have access to server side code, but still I want to enalbe CORS in angular service. This is my service function</p>\n\n<pre><code>myfunction() {\n  let head = new HttpHeaders();\n  head.append('Access-Control-Allow-Headers', 'Content-Type');\n  head.append('Access-Control-Allow-Methods', 'GET');\n  head.append('Access-Control-Allow-Origin', '*');\n  return this.http.get(\"https://api.independentreserve.com/Public/GetValidPrimaryCurrencyCodes\", {headers: head}).toPromise();\n}\n</code></pre>\n\n<p><strong>I have tried it with <a href=\"https://chrome.google.com/webstore/detail/allow-control-allow-origi/nlfbmbojpeacfghkpbjhddihlkkiljbi?hl=en\" rel=\"nofollow noreferrer\">chrome cors extension</a>, and it works fine. But I want this to be enabled from angular code.</strong></p>\n\n<p>I have also tried working with proxies, following <a href=\"https://github.com/angular/angular-cli/blob/master/docs/documentation/stories/proxy.md\" rel=\"nofollow noreferrer\">tutorial</a>. BUt it is still not working. This is my object in <strong>proxy.conf.json</strong> file.</p>\n\n<pre><code>{\n  \"/api\": {\n    \"target\": \"https://www.independentreserve.com/Public/GetValidPrimaryCurrencyCodes\",\n    \"secure\": false\n  },\n  \"changeOrigin\": true\n}\n</code></pre>\n\n<p>and added <strong>\"start\": \"ng serve --proxy-config proxy.conf.json\"</strong>  in package.json file. It is not working this way either.</p>\n\n<p>Can any body give me some solution?</p>\n"}, {"tags": ["javascript", "typescript", "angular5"], "answers": [{"comments": [{"owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "edited": false, "score": 0, "creation_date": 1520452868, "post_id": 49158782, "comment_id": 85325935, "body": "That did the trick! Knew I was on the right track but am still new to Angular stuff. I had to tack on <code>implements OnInit</code> to my directive but that was no big deal. Thanks!"}], "tags": [], "owner": {"reputation": 2237, "user_id": 4441879, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d31e6dc28f59813540fafb902902070?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/4441879/sachin"}, "is_accepted": true, "score": 1, "last_activity_date": 1520446805, "creation_date": 1520446805, "answer_id": 49158782, "question_id": 49158156, "link": "https://stackoverflow.com/questions/49158156/angular-5-component-variable-undefined-in-single-page-app-without-browser-refres/49158782#49158782", "title": "Angular 5 Component Variable Undefined In Single Page App Without Browser Refresh", "body": "<p><strong>Try getting the promise response inside <code>ngOnInit</code></strong></p>\n\n<pre><code>  ngOnInit() {\n    System.import('required-js-lib-1.js').then(()=&gt;{\n      System.import('required-js-lib-2.js').then(()=&gt;{\n        this.attach()\n      })\n    })\n  }\n</code></pre>\n"}], "owner": {"reputation": 3366, "user_id": 100534, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7669ca80c4655a18e463b42a4238fa19?s=128&d=identicon&r=PG", "display_name": "Doctor Blue", "link": "https://stackoverflow.com/users/100534/doctor-blue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 49158782, "answer_count": 1, "score": 0, "last_activity_date": 1520446805, "creation_date": 1520444567, "last_edit_date": 1520445398, "question_id": 49158156, "link": "https://stackoverflow.com/questions/49158156/angular-5-component-variable-undefined-in-single-page-app-without-browser-refres", "title": "Angular 5 Component Variable Undefined In Single Page App Without Browser Refresh", "body": "<p>I have a Directive defined in my Angular application that exposes an <code>@Input()</code> to be set:</p>\n\n<pre><code>@Directive({\n  selector: '[options]'\n})\n\nexport class ExampleDirective {\n\n  [...]\n\n  @Input() options:any;\n\n  constructor(private el:ElementRef) {\n    System.import('required-js-lib-1.js').then(()=&gt;{\n      System.import('required-js-lib-2.js').then(()=&gt;{\n        this.attach()\n      })\n    })\n  }\n\n  attach() {\n    console.log(this.options); // problem is here\n  }\n}\n</code></pre>\n\n<p>On components that have an HTML <code>form</code> tag, I can use this directive and supply the appropriate options:</p>\n\n<p><code>&lt;form id=\"my-form\" [options]=\"validationOptions\"&gt;</code></p>\n\n<p>In the component's TypeScript (<code>ts</code>) file, I define <code>validationOptions</code>:</p>\n\n<pre><code>export class ExampleComponent implements OnInit {\n\n  [...]\n\n  validationOptions: any = { /* Some values here */ }\n\n  [...]\n\n}\n</code></pre>\n\n<p>If I navigate to this page directly, (e.g. <code>http://localhost:4000/#/Example/</code>), then everything works as expected. <strong>However, if I click a link within my Single Page Application to navigate to that component, <code>validationOptions</code> is undefined within the directive.</strong></p>\n\n<p>I added some <code>console.log</code> statements within the component's constructor and in <code>ngOnInit</code>, as well as within the directive itself when it first reads its <code>options</code> variable.</p>\n\n<ul>\n<li>When I go to the component directly in the browser, all three areas show that <code>validationOptions</code> / <code>options</code> have the value.</li>\n<li>When I navigate to the component from within my Single Page Application, the component constructor and <code>ngOnInit</code> show that <code>validationOptions</code> has a value, but within the directive, <code>options</code> is <code>undefined</code>.</li>\n</ul>\n\n<p>How do I make it so that my <code>validationOptions</code> variable within my component is always passed to <code>options</code> within my directive, regardless of whether or not I visit the component directly versus navigating to it within Single Page Application land?</p>\n\n<p>EDIT: More information. The order of directive/component constructor/init varies based on the two scenarios, which could be related.</p>\n\n<p><strong>When the component is loaded directly in browser and it works</strong></p>\n\n<pre><code>component.ctor: [object Object]\ndirective.ctor: undefined\ncomponent.init: [object Object]\ndirective.attach(): [object Object]\n</code></pre>\n\n<p><strong>When the component is loaded via Single Page App navigation and fails</strong></p>\n\n<pre><code>component.ctor: [object Object]\ndirective.ctor: undefined\ndirective.attach(): undefined\ncomponent.init: [object Object]\n</code></pre>\n\n<p>The component's <code>ngOnInit</code> method is getting called later in the second case (after the directive's constructor/attach() methods are called (attach() being where the value is accessed), which may be the cause of this... But I'm not sure why.</p>\n"}, {"tags": ["javascript", "node.js", "angular", "typescript"], "comments": [{"owner": {"reputation": 3146, "user_id": 1116622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GnGdo.jpg?s=128&g=1", "display_name": "th3n3wguy", "link": "https://stackoverflow.com/users/1116622/th3n3wguy"}, "edited": false, "score": 0, "creation_date": 1520444357, "post_id": 49158057, "comment_id": 85321002, "body": "Are you using the <code>HttpModule</code> or the <code>HttpClientModule</code>?"}, {"owner": {"reputation": 551, "user_id": 506508, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3271e7e2cb8883501f5c3ab4b2d6d0d4?s=128&d=identicon&r=PG", "display_name": "Nathan Fowler", "link": "https://stackoverflow.com/users/506508/nathan-fowler"}, "reply_to_user": {"reputation": 3146, "user_id": 1116622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GnGdo.jpg?s=128&g=1", "display_name": "th3n3wguy", "link": "https://stackoverflow.com/users/1116622/th3n3wguy"}, "edited": false, "score": 0, "creation_date": 1520444615, "post_id": 49158057, "comment_id": 85321163, "body": "HttpClientModule"}, {"owner": {"reputation": 3146, "user_id": 1116622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/GnGdo.jpg?s=128&g=1", "display_name": "th3n3wguy", "link": "https://stackoverflow.com/users/1116622/th3n3wguy"}, "edited": false, "score": 0, "creation_date": 1520444790, "post_id": 49158057, "comment_id": 85321273, "body": "Then @funkizer&#39;s answer below is correct."}], "answers": [{"tags": [], "owner": {"reputation": 3164, "user_id": 8327383, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-I_IZA88az08/AAAAAAAAAAI/AAAAAAAAAlQ/EeJMXgiGPiQ/photo.jpg?sz=128", "display_name": "funkizer", "link": "https://stackoverflow.com/users/8327383/funkizer"}, "is_accepted": false, "score": 2, "last_activity_date": 1520444351, "creation_date": 1520444351, "answer_id": 49158105, "question_id": 49158057, "link": "https://stackoverflow.com/questions/49158057/convert-observableobject-to-observabletask/49158105#49158105", "title": "convert observable&lt;object&gt; to observable&lt;task[]&gt;", "body": "<p>Assuming you're using HttpClient:</p>\n\n<pre><code>return this.http.get&lt;Task[]&gt;('http://localhost:3000/tasks');\n</code></pre>\n"}], "owner": {"reputation": 551, "user_id": 506508, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3271e7e2cb8883501f5c3ab4b2d6d0d4?s=128&d=identicon&r=PG", "display_name": "Nathan Fowler", "link": "https://stackoverflow.com/users/506508/nathan-fowler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520444648, "creation_date": 1520444203, "last_edit_date": 1520444648, "question_id": 49158057, "link": "https://stackoverflow.com/questions/49158057/convert-observableobject-to-observabletask", "title": "convert observable&lt;object&gt; to observable&lt;task[]&gt;", "body": "<pre><code>return  this.http.get('http://localhost:3000/tasks');\n\n//Returns Observable&lt;Object&gt;, but I want it to return or convert into Observable&lt;Task[]&gt;.\n</code></pre>\n\n<p>Task is just an interface that matches the JSON object from the /tasks endpoint.</p>\n"}, {"tags": ["typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 7092982, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334345786589962/picture?type=large", "display_name": "Sebastian Straburzy\u0144ski", "link": "https://stackoverflow.com/users/7092982/sebastian-straburzy%c5%84ski"}, "is_accepted": false, "score": 2, "last_activity_date": 1520448138, "creation_date": 1520448138, "answer_id": 49159124, "question_id": 49157893, "link": "https://stackoverflow.com/questions/49157893/alertcontroller-with-radio-buttons/49159124#49159124", "title": "AlertController with Radio buttons", "body": "<p>unfortunately you can't mix radio button with other input types like text in Ionic AlertController. The simplest solution is creating modal page with this form and pass data back from this modal to your page. I made simple example for you on stackblitz:</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-jum7ch\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-jum7ch</a> </p>\n\n<p><strong>In your page:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>openAlert(){\n let addModal = this.modalCtrl.create(ParticipantModalPage);\n     addModal.onDidDismiss((participant) =&gt; {\n     if(participant){\n     // handle participant date here\n     this.participant = participant;\n     console.log('data from modal: ', participant);\n     }\n });\n addModal.present();\n}\n</code></pre>\n\n<p><strong>In modal page:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>returnParticipant() {\n    let participant = {\n    name: this.name,\n    surname: this.surname,\n    sex: this.sex\n    };\n    this.view.dismiss(participant);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 284, "user_id": 8249335, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y59Q3fh5elQ/AAAAAAAAAAI/AAAAAAAAAS8/yW54bmi4Sws/photo.jpg?sz=128", "display_name": "EDISON J", "link": "https://stackoverflow.com/users/8249335/edison-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1520474926, "last_edit_date": 1520474926, "creation_date": 1520474467, "answer_id": 49164201, "question_id": 49157893, "link": "https://stackoverflow.com/questions/49157893/alertcontroller-with-radio-buttons/49164201#49164201", "title": "AlertController with Radio buttons", "body": "<p>I follow ionic3 official document for how to show radio button with alert box.</p>\n\n<pre><code>import { AlertController } from 'ionic-angular';\n\nexport class MyPage {\n  constructor(public alertCtrl: AlertController) {\n  }\n\n  showRadio() {\n    let alert = this.alertCtrl.create();\n    alert.setTitle('Lightsaber color');\n\n    alert.addInput({\n      type: 'radio',\n      label: 'Blue',\n      value: 'blue',\n      checked: true\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'OK',\n      handler: data =&gt; {\n        this.testRadioOpen = false;\n        this.testRadioResult = data;\n      }\n    });\n    alert.present();\n  }\n}\n</code></pre>\n\n<p><strong>This <a href=\"https://ionicframework.com/docs/api/components/alert/AlertController/\" rel=\"nofollow noreferrer\">document</a> help you for change styles according to your wise and come end of page and follow material design styles.</strong></p>\n"}], "owner": {"reputation": 9, "user_id": 2485699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f034674ab5676efc05528a9d2ee6edd?s=128&d=identicon&r=PG", "display_name": "TaBa94", "link": "https://stackoverflow.com/users/2485699/taba94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520474926, "creation_date": 1520443661, "last_edit_date": 1520444113, "question_id": 49157893, "link": "https://stackoverflow.com/questions/49157893/alertcontroller-with-radio-buttons", "title": "AlertController with Radio buttons", "body": "<p>I want put 2 radio buttons for male and female on an alertcontroller. I've got this: </p>\n\n<pre><code>let prompt = this.alertCtrl.create({\n  title: 'Add Participant',\n  inputs: [\n    {\n      name: 'name',\n      placeholder: 'Name'\n    },\n    {\n      name: 'surname',\n      placeholder: 'Surname'\n    },\n    {\n      name: 'radiom',\n      type: 'radio',\n      label: 'Male',\n      value: 'M'\n    },\n    {\n      name: 'radiof',\n      type: 'radio',\n      label: 'Female',\n      value: 'F'\n    }\n  ],\n  buttons: [\n    {\n      text: 'Cancel',\n      handler: data =&gt; {\n        console.log('Cancel clicked');\n      }\n    },\n    {\n      text: 'Add',\n      handler: data =&gt; {\n        const newParticipant = this.participantsList.push([]);\n\n        newParticipant.set({\n          id: newParticipant.key,\n          name: data.name,\n          surname: data.surname,\n          paid: false,\n          sex: data.radiom\n        });\n      }\n    }\n  ]\n});\n</code></pre>\n\n<p>But it doesn't look like something I've already see: I can't see the labels 'Male' and 'Female' and the radio buttons seem to be \"old\", I can select both of them, something completly different from the radioalert in the Ionic documentation. Moreover, how I can push to the list the value of 'M' or 'F' in the property 'sex'? </p>\n"}, {"tags": ["javascript", "typescript", "webpack", "import"], "answers": [{"tags": [], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "is_accepted": false, "score": 0, "last_activity_date": 1520501266, "creation_date": 1520501266, "answer_id": 49169596, "question_id": 49157881, "link": "https://stackoverflow.com/questions/49157881/typescript-cannot-dynamically-import-whatwg-fetch/49169596#49169596", "title": "Typescript Cannot dynamically import whatwg-fetch", "body": "<p>I've solved this by created a d.ts file - <code>whatwg-fetch.d.ts</code> with this inside:</p>\n\n<pre><code>declare module \"whatwg-fetch\";\n</code></pre>\n"}], "owner": {"reputation": 47877, "user_id": 414062, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xc7mu.jpg?s=128&g=1", "display_name": "Dominic", "link": "https://stackoverflow.com/users/414062/dominic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 636, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520501266, "creation_date": 1520443622, "last_edit_date": 1520444321, "question_id": 49157881, "link": "https://stackoverflow.com/questions/49157881/typescript-cannot-dynamically-import-whatwg-fetch", "title": "Typescript Cannot dynamically import whatwg-fetch", "body": "<p>Typescript has built in defs for <code>whatwg-fetch</code> now (I'm using v2.7), however it ignores them with dynamic imports:</p>\n\n<pre><code>import(/* webpackChunkName: \"whatwg-fetch\" */ 'whatwg-fetch')\n</code></pre>\n\n<blockquote>\n  <p>TS7016: Could not find a declaration file for module 'whatwg-fetch'.\n  'C:/../node_modules/whatwg-fetch/fetch.js' implicitly has an 'any'\n  type.\n  Try <code>npm install @types/whatwg-fetch</code> if it exists or add a new\n  declaration (.d.ts) file containing <code>declare module 'whatwg-fetch';</code></p>\n</blockquote>\n\n<p>However if I install that the <code>@types/whatwg-fetch</code> type module as it suggests it has dozens of errors about duplicate definitions due to already having it built in...</p>\n\n<p>How can I circumvent this issue? Thanks</p>\n"}, {"tags": ["html", "angular", "forms", "typescript", "reactive"], "comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 0, "creation_date": 1520444413, "post_id": 49157649, "comment_id": 85321042, "body": "<code>let sale of editSaleForm.get(&#39;products&#39;).value</code> are you trying to get <code>sale.value</code> for each sale?"}], "answers": [{"tags": [], "owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "is_accepted": true, "score": 0, "last_activity_date": 1520445125, "last_edit_date": 1520445125, "creation_date": 1520444711, "answer_id": 49158210, "question_id": 49157649, "link": "https://stackoverflow.com/questions/49157649/how-to-iterate-display-form-array-in-angular2-reactive-forms/49158210#49158210", "title": "How to iterate/display form array in angular2 reactive forms?", "body": "<p>You will have to access them like <code>{{sale.p_product_type_id}}</code></p>\n\n<pre><code>&lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let sale of editSaleForm.get('products').value; let i = index\"&gt;\n    &lt;td &gt;{{sale.p_product_type_id}}&lt;/td&gt;\n    &lt;td&gt;{{sale.p_product_id}}&lt;/td&gt;\n    &lt;td&gt;{{sale.p_unit_price}}&lt;/td&gt;\n    &lt;td&gt;{{sale.p_quantity}} &lt;/td&gt;\n  &lt;/tr&gt;\n</code></pre>\n\n<p>You should be probably using an array of <code>FormGroup</code>s. And make the code something like:</p>\n\n<pre><code>this.sale.products.forEach(product =&gt; {\n    (this.editSaleForm.get('products') as FormArray).push(this.createFormGroupForPoduct(product))\n})\n\ncreateFormGroupForProduct(product: Product): FormGroup {\n    return new FormGroup({\n       p_line_num: new FormControl(product.p_line_num),\n       p_description: new FormControl(product.p_description, [Validators.required]),\n       ......\n    })\n}\n</code></pre>\n\n<p>So that you get the value of <code>FormArray</code> as an array of products <code>Product[]</code></p>\n\n<p>I don't know if there are other issues in your code.</p>\n"}], "owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 0, "accepted_answer_id": 49158210, "answer_count": 1, "score": 0, "last_activity_date": 1520445125, "creation_date": 1520442786, "question_id": 49157649, "link": "https://stackoverflow.com/questions/49157649/how-to-iterate-display-form-array-in-angular2-reactive-forms", "title": "How to iterate/display form array in angular2 reactive forms?", "body": "<p>How to populate this JSON in my EditForm. I have EditForm, that I want to display my data inside Products, my ws get me this JSON. My data outside Products I can display in html. What is the problem?</p>\n\n<p>This is my Json</p>\n\n<pre><code>{\n   \"StatusCode\": 0,\n\"StatusMessage\": \"OK\",\n\"StatusDescription\": [\n    {\n        \"Products\": [\n            {\n                \"p_product_id\": \"11E8218A54B30C89AE8800FF76874A59\",\n                \"p_product_type_id\": \"11E7FC041F467AD4B09D00FF76874A59\",\n                \"p_line_num\": 233,\n                \"p_description\": \"test\",\n                \"p_quantity\": 4,\n                \"p_unit_price\": 50,\n                \"p_subtotal\": 120,\n                \"p_contract_filename\": \"567897\"\n            }\n        ],\n        \"sale_item_id\": \"11E8219D916A69F6AE8800FF76874A59\",\n        \"sale_id\": \"11E8218B9BA4F278AE8800FF76874A59\",\n        \"client_id\": \"11E8218A57B28B0AAE8800FF76874A59\",\n        \"salesman_id\": \"31000000000000000000000000000000\",\n        \"sale_date\": \"2018-03-06T22:09:43.000Z\",\n        \"notes\": \"testing\",\n        \"subtotal\": 80,\n        \"total\": 50,\n        \"invoice_number\": \"28282\",\n        \"invoice_date\": \"2018-03-06T21:57:41.000Z\",\n        \"amount_paid\": 32,\n        \"lastmoduserid\": \"31000000000000000000000000000000\",\n        \"lasttodtttm\": \"2018-03-06T22:09:43.000Z\"\n    }\n]\n</code></pre>\n\n<p>}</p>\n\n<p>My ts code:</p>\n\n<pre><code> this.sale.products.forEach(x =&gt; {\n              (this.editSaleForm.get('products') as FormArray).push(new FormControl(x.products))\n            })\n</code></pre>\n\n<p>html code:</p>\n\n<pre><code> &lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let sale of editSaleForm.get('products').value; let i = index\"&gt;\n    &lt;td &gt;{{p_product_type_id}}&lt;/td&gt;\n    &lt;td&gt;{{p_product_id}}&lt;/td&gt;\n    &lt;td&gt;{{p_unit_price}}&lt;/td&gt;\n    &lt;td&gt;{{p_quantity}} &lt;/td&gt;\n  &lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular-material2"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 8272575, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154712353048341/picture?type=large", "display_name": "Marcel Jr. Samson Morasse", "link": "https://stackoverflow.com/users/8272575/marcel-jr-samson-morasse"}, "edited": false, "score": 0, "creation_date": 1520445232, "post_id": 49157498, "comment_id": 85321538, "body": "I am using @angular/material 5.2.4. I edited my question."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 337, "user_id": 8272575, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154712353048341/picture?type=large", "display_name": "Marcel Jr. Samson Morasse", "link": "https://stackoverflow.com/users/8272575/marcel-jr-samson-morasse"}, "edited": false, "score": 0, "creation_date": 1520445489, "post_id": 49157498, "comment_id": 85321690, "body": "Where did this angular-material come from then? @angular/material 5.2.4 requires Angular 6. Make sure you&#39;re installing the version that is compatible with your dependencies."}, {"owner": {"reputation": 337, "user_id": 8272575, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154712353048341/picture?type=large", "display_name": "Marcel Jr. Samson Morasse", "link": "https://stackoverflow.com/users/8272575/marcel-jr-samson-morasse"}, "edited": false, "score": 0, "creation_date": 1520447461, "post_id": 49157498, "comment_id": 85322851, "body": "I removed angular-material from my package.json and updated @angular/cli and now it work for the MatDialogRef but now the function openDialog() has the following error : Argument type {data: {CheckboxFilters, clientDepartmentFilter: string, partnerDepartmentFilter: string}} is not assignable to paramter type MatDialogConfig&lt;D&gt;"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 337, "user_id": 8272575, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154712353048341/picture?type=large", "display_name": "Marcel Jr. Samson Morasse", "link": "https://stackoverflow.com/users/8272575/marcel-jr-samson-morasse"}, "edited": false, "score": 0, "creation_date": 1520450526, "post_id": 49157498, "comment_id": 85324649, "body": "Not sure what&#39;s going on there, because D is supposed to be <code>any</code> by default <a href=\"https://github.com/angular/material2/blob/5.2.4/src/lib/dialog/dialog.ts#L112\" rel=\"nofollow noreferrer\">github.com/angular/material2/blob/5.2.4/src/lib/dialog/&hellip;</a> . Consider providing a way to replicate the problem (e.g. Stackblitz) if the problem persists."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": false, "score": 0, "last_activity_date": 1520442229, "creation_date": 1520442229, "answer_id": 49157498, "question_id": 49157234, "link": "https://stackoverflow.com/questions/49157234/why-matdialogref-require-3-type-arguments/49157498#49157498", "title": "Why MatDialogRef require 3 type argument(s)?", "body": "<p><code>MatDialogRef</code> generic accepts <a href=\"https://github.com/angular/material2/blob/5.2.4/src/lib/dialog/dialog-ref.ts#L29\" rel=\"nofollow noreferrer\">1 or 2 type arguments</a>.</p>\n\n<p><a href=\"https://www.npmjs.com/package/angular-material\" rel=\"nofollow noreferrer\"><code>angular-material</code></a> is AngularJS library. <code>@angular/material</code> should be used instead.</p>\n"}], "owner": {"reputation": 337, "user_id": 8272575, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10154712353048341/picture?type=large", "display_name": "Marcel Jr. Samson Morasse", "link": "https://stackoverflow.com/users/8272575/marcel-jr-samson-morasse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4344, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520444962, "creation_date": 1520441417, "last_edit_date": 1520444962, "question_id": 49157234, "link": "https://stackoverflow.com/questions/49157234/why-matdialogref-require-3-type-arguments", "title": "Why MatDialogRef require 3 type argument(s)?", "body": "<p>Am trying to use the angular material dialog component. I used it in the past and I had no problem with it. But somehow i can't use it the way i used it in the past. here is my implementation: </p>\n\n<pre><code>export class FilterDialogComponent implements OnInit {\n\npublic clientDepartementFilter: string;\npublic partnerDepartmentFilter: string;\npublic checkboxFilters: CheckboxFilters;\n\nconstructor(public dialogRef: MatDialogRef&lt;FilterDialogComponent&gt;,\n          @Inject(MAT_DIALOG_DATA) public data: any) {\n\nthis.checkboxFilters = data.checkboxFilters;\nthis.clientDepartementFilter = data.clientDepartementFilter;\nthis.partnerDepartmentFilter = data.partnerDepartmentFilter;\n}\n\ncloseDialog(): void {\nthis.dialogRef.close({ data: this.clientDepartementFilter });\n}\n</code></pre>\n\n<p>And i open it this way:</p>\n\n<pre><code>public openDialog(): void {\nthis.dialog.open(FilterDialogComponent, {\n  data: {\n    checkboxFilters: this.checkboxFilters,\n    clientDepartementFilter: this.clientDepartementFilter,\n    partnerDepartmentFilter: this.partnerDepartmentFilter\n  }\n}).afterClosed().subscribe(result =&gt; {\n  console.log(result);\n});\n</code></pre>\n\n<p>}</p>\n\n<p>My code compile but I have an error when I create a reference of the current dialog with </p>\n\n<pre><code>public dialogRef: MatDialogRef&lt;FilterDialogComponent&gt;\n</code></pre>\n\n<p>the error is the following: </p>\n\n<blockquote>\n  <p>TS2314: Generic type 'MatDialogRef' requires 3 type argument(s)</p>\n</blockquote>\n\n<p>when I add types any in the MatDialog the error goes away but i can't compile my code anymore...</p>\n\n<p>Now I have the following error:</p>\n\n<blockquote>\n  <p>error TS2707: Generic type 'MatDialogRef' requires between 1 and 2 type arguments.</p>\n</blockquote>\n\n<p>I tried to update angular material angularCli and typescript but it still won't compile. </p>\n\n<blockquote>\n  <p>\"@angular/cli\": \"^1.7.2\",</p>\n  \n  <p>\"@angular/compiler-cli\": \"^5.0.0\",</p>\n  \n  <p>\"typescript\": \"^2.4.2\"</p>\n  \n  <p>\"@angular/material\": \"^5.2.4\",</p>\n</blockquote>\n\n<p>Any suggestions or idea of why it happens?\nThanks for the help!</p>\n"}, {"tags": ["typescript", "ionic-framework", "visual-studio-cordova"], "comments": [{"owner": {"reputation": 2709, "user_id": 245878, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d7f359c7a2c520a4026bde4cede3d65?s=128&d=identicon&r=PG", "display_name": "nokturnal", "link": "https://stackoverflow.com/users/245878/nokturnal"}, "edited": false, "score": 0, "creation_date": 1520552014, "post_id": 49157227, "comment_id": 85374344, "body": "I am also having this issue.  I am opening a legacy Ionic 1 project for the first time in VS2017.  Ionic 1 is based on AngularJS and not Angular (no TypeScript...).  Also today, my VS2017 updated to 15.5.6 (not sure if that has something to do with it).  Very confused about this error."}, {"owner": {"reputation": 2709, "user_id": 245878, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d7f359c7a2c520a4026bde4cede3d65?s=128&d=identicon&r=PG", "display_name": "nokturnal", "link": "https://stackoverflow.com/users/245878/nokturnal"}, "edited": false, "score": 0, "creation_date": 1520552097, "post_id": 49157227, "comment_id": 85374378, "body": "I have also tried a new Cordova template project in VS2017 and run it and the same error occurs..."}, {"owner": {"reputation": 67, "user_id": 8812237, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-iBQKHGFFGVY/AAAAAAAAAAI/AAAAAAAAAGo/eEGY9g-dIKs/photo.jpg?sz=128", "display_name": "Roberto Jarzembowski", "link": "https://stackoverflow.com/users/8812237/roberto-jarzembowski"}, "reply_to_user": {"reputation": 2709, "user_id": 245878, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d7f359c7a2c520a4026bde4cede3d65?s=128&d=identicon&r=PG", "display_name": "nokturnal", "link": "https://stackoverflow.com/users/245878/nokturnal"}, "edited": false, "score": 0, "creation_date": 1520594144, "post_id": 49157227, "comment_id": 85389845, "body": "@nokturnal, it much probably has something to do with this update, but even with that information, I couldn&#39;t find an workaround. There&#39;s a few suggestions here - let me know if it was helpful.  <a href=\"https://developercommunity.visualstudio.com/content/problem/209035/apache-cordova-tools-error-after-upgrading-to-vs-2.html?inRegister=true\" rel=\"nofollow noreferrer\">developercommunity.visualstudio.com/content/problem/209035/&hellip;</a>"}, {"owner": {"reputation": 2709, "user_id": 245878, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d7f359c7a2c520a4026bde4cede3d65?s=128&d=identicon&r=PG", "display_name": "nokturnal", "link": "https://stackoverflow.com/users/245878/nokturnal"}, "edited": false, "score": 0, "creation_date": 1520601000, "post_id": 49157227, "comment_id": 85393714, "body": "Yesterday was strange.  The yellow update icon displayed for the 15.6  then hid itself randomly during the day."}, {"owner": {"reputation": 631, "user_id": 5880615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0omY.jpg?s=128&g=1", "display_name": "Really Nice Code", "link": "https://stackoverflow.com/users/5880615/really-nice-code"}, "edited": false, "score": 0, "creation_date": 1521334095, "post_id": 49157227, "comment_id": 85687090, "body": "Adding the tsconfig file worked for me. (I also did a new install of VS2017)"}], "answers": [{"tags": [], "owner": {"reputation": 2709, "user_id": 245878, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1d7f359c7a2c520a4026bde4cede3d65?s=128&d=identicon&r=PG", "display_name": "nokturnal", "link": "https://stackoverflow.com/users/245878/nokturnal"}, "is_accepted": false, "score": 0, "last_activity_date": 1520601279, "creation_date": 1520601279, "answer_id": 49194628, "question_id": 49157227, "link": "https://stackoverflow.com/questions/49157227/cordova-ionic-project-typescript-compile-error/49194628#49194628", "title": "Cordova/Ionic project typescript compile error", "body": "<p>My solution was to do a repair on the VS2017 install. After that the TSC error was gone. I tested by creating a new default VS Cordova project and building that. Also, after the repair I had gone from VS2017 15.5.6 to 15.6.1... Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9512961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a35ecdfd1ab4f2dc8ff778303b451f1?s=128&d=identicon&r=PG&f=1", "display_name": "zico7", "link": "https://stackoverflow.com/users/9512961/zico7"}, "is_accepted": false, "score": 0, "last_activity_date": 1521396960, "creation_date": 1521396960, "answer_id": 49351334, "question_id": 49157227, "link": "https://stackoverflow.com/questions/49157227/cordova-ionic-project-typescript-compile-error/49351334#49351334", "title": "Cordova/Ionic project typescript compile error", "body": "<p>Creating a blank cordova app in vs2017 and then copying the contents of the newly created .jsproj file to my original project file worked for me.</p>\n"}], "owner": {"reputation": 67, "user_id": 8812237, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-iBQKHGFFGVY/AAAAAAAAAAI/AAAAAAAAAGo/eEGY9g-dIKs/photo.jpg?sz=128", "display_name": "Roberto Jarzembowski", "link": "https://stackoverflow.com/users/8812237/roberto-jarzembowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 461, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1521396960, "creation_date": 1520441402, "last_edit_date": 1520447211, "question_id": 49157227, "link": "https://stackoverflow.com/questions/49157227/cordova-ionic-project-typescript-compile-error", "title": "Cordova/Ionic project typescript compile error", "body": "<p>I have this Cordova/Ionic project in Visual Studio 2017 and after some recent changes to add speech to text funcionality, I'm failing to build the project after cloning it to another machine.</p>\n\n<p>The project structure is something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VZMax.jpg\" rel=\"nofollow noreferrer\">project structure 1</a>\n<a href=\"https://i.stack.imgur.com/Iuse8.jpg\" rel=\"nofollow noreferrer\">project structure 2</a></p>\n\n<p>When I build the solution, I get this error:</p>\n\n<blockquote>\n  <p>Invalid command line switch for \"tsc.exe\". Value cannot be null. Parameter name: path1</p>\n</blockquote>\n\n<p>And, much probably because of this first error, I get hundreds of errors like these:</p>\n\n<blockquote>\n  <p>Cannot write file 'D:/NT4-PROJECTS/ionicSenhas/www/libs/pre-cordova.js' because it would overwrite input file.    </p>\n  \n  <p>Cannot write file 'D:/NT4-PROJECTS/ionicSenhas/www/libs/markerclusterer/markerclusterer.js' because it would overwrite input file.    </p>\n</blockquote>\n\n<p>Searching for an answer for this </p>\n\n<blockquote>\n  <p><em>Invalid command line \"switch for \"tsc.exe\".</em> Value cannot be null.\" Parameter name: path1</p>\n</blockquote>\n\n<p>problem, I found I few suggestions, like this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39039055/tsctoolpath-null-in-microsoft-typescript-targets-after-installed-update-3-of-vis\">TscToolPath null in Microsoft.TypeScript.targets after installed update 3 of visual studio 2015</a></p>\n\n<p>and here I have a doubt: <strong>is it mandatory to have a tsconfig file for the tsc.exe to compile the typescript files?</strong>\nI'm asking this because the project I cloned from the repository does not have this tsconfig.json file - I'm not sure if the programmer who did this commit\nforgot to add this file, or if I really can have typescript files in a project without the tsconfig file.</p>\n\n<p>Anyway, I tried this suggestion and added the tsconfig file</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"module\": \"amd\",\n    \"target\": \"es5\",\n    \"sourceMap\": true,\n    \"experimentalDecorators\": true,\n    \"noEmitOnError\": false\n  },\n  \"compileOnSave\": true,\n   \"exclude\": [\n      \"node_modules\",\n      \"bower_components\",\n      \"platforms\"\n   ]\n}\n</code></pre>\n\n<p>but the problem remains;</p>\n\n<blockquote>\n  <p>Cannot write file 'D:/NT4-PROJECTS/ionicSenhas/lib/angular-i18n/angular-locale_pt-br.js' because it would overwrite input file</p>\n</blockquote>\n\n<p>I have tried so many things(update dependencies, uninstall and install again), I guess this is the kind of thing really hard for anyone to figure it out \nwithout looking at my environment.</p>\n"}, {"tags": ["json", "angular", "typescript", "ngrx", "ngrx-effects"], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 7475753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9Bfr.jpg?s=128&g=1", "display_name": "ambussh", "link": "https://stackoverflow.com/users/7475753/ambussh"}, "is_accepted": false, "score": 1, "last_activity_date": 1520516456, "creation_date": 1520516456, "answer_id": 49174532, "question_id": 49156502, "link": "https://stackoverflow.com/questions/49156502/should-i-manually-parse-a-json-string-received-from-a-server-while-the-type-of-t/49174532#49174532", "title": "Should I manually parse a JSON string received from a server while the type of the parameter which represents the object being received is declared?", "body": "<p>If the jwt(JSON) object is retrieved with <code>Http</code> from <code>HttpModule</code> <code>@angular/http</code> you have to parse it to JSON\ne.g.:</p>\n\n<pre><code>import { Http } from '@angular/http';\n.... \nconstructor(\n   private http: Http\n   ...\n) {}\n\nthis.http.get(url)\n  .map((res: any) =&gt; {\n    return res.json();\n  }).subscribe( (jwt: any) =&gt; {\n       //you got jwt in JSON format\n  });\n</code></pre>\n\n<p>If you use <code>HttpClient</code> from <code>HttpClientModule</code> <code>@angular/common/http</code> (Angular > 4.3.x) you do not need to parse the received data because it is already done.</p>\n\n<pre><code>import { HttpClient } from '@angular/common/http';\n....\nconstructor(\n   private http: HttpClient\n   ...\n) {}\n\nthis.http.get&lt;any&gt;(url)\n  .subscribe((jwt: any) =&gt; {\n     //you got jwt in JSON format\n  })\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/45129865/7475753\">More info in this answer</a></p>\n"}, {"tags": [], "owner": {"reputation": 16239, "user_id": 266535, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QahmA.png?s=128&g=1", "display_name": "styfle", "link": "https://stackoverflow.com/users/266535/styfle"}, "is_accepted": true, "score": 1, "last_activity_date": 1523320276, "last_edit_date": 1523320276, "creation_date": 1520524092, "answer_id": 49177137, "question_id": 49156502, "link": "https://stackoverflow.com/questions/49156502/should-i-manually-parse-a-json-string-received-from-a-server-while-the-type-of-t/49177137#49177137", "title": "Should I manually parse a JSON string received from a server while the type of the parameter which represents the object being received is declared?", "body": "<h2>Type checking external code</h2>\n\n<p>There is no relationship between the TypeScript source code and the JavaScript outputs that gets executed at run-time. TypeScript is only effective at catching <em>compile-time</em> errors if the compiled types match the <em>run-time</em> types.</p>\n\n<p>Normally, this isn't a problem. But in scenarios where you call out to external code (i.e. AJAX call to fetch data from the server), there is no guarantee that the response will be the type you expect. So you must be cautious in these scenarios.</p>\n\n<h2>Your specific example</h2>\n\n<p>I suspect that your code has a variable <code>jwt</code> with type <code>any</code> and you just assigned the type to <code>{ id: string, auth_token: string, expires_in }</code> when in fact, <code>jwt</code> was of type string as far as javascript is concerned.</p>\n\n<p>In this case, you already found your solution, <code>JSON.parse(str)</code>. This converts the json string into a javascript object.</p>\n\n<p>Now that you have an object, you can use duck typing to infer the run-time type and let typescript know about the type at compile-time via <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guards</a>.</p>\n\n<h2>Solution</h2>\n\n<pre><code>function isDate(obj: any): obj is Date {\n    return typeof obj === 'object' &amp;&amp; 'toISOString' in obj;\n}\n\nfunction isString(obj: any): obj is string {\n    return typeof obj === 'string';\n}\n\ninterface JWT {\n    id: string;\n    auth_token: string;\n    expires_in: Date; \n}\n\nfunction isJwt(obj: any): obj is JWT {\n    const o = obj as JWT;\n    return o !== null\n        &amp;&amp; typeof o === 'object'\n        &amp;&amp; isString(o.id)\n        &amp;&amp; isString(o.auth_token)\n        &amp;&amp; isDate(o.expires_in);\n}\n\nfunction print(jwt: any) {\n    if (typeof jwt === 'string') {\n        try {\n            jwt = JSON.parse(jwt);\n        } catch (e) {\n            console.error(`String is not JSON: ${jwt}`);\n        }\n    }\n    if (isJwt(jwt)) {\n        console.log(`Found jwt: ${jwt.id} ${jwt.auth_token} ${jwt.expires_in}`);\n    } else {\n        console.error(`Object is not of type jwt: ${jwt}`);\n    }\n}\n\nprint(42);\nprint('failing');\nprint(null);\nprint(undefined);\nprint({});\nprint({ id: 'id01', auth_token: 'token01', expires_in: new Date(2018, 11, 25) });\n</code></pre>\n\n<h2>Playground</h2>\n\n<p>Try running that code on the <a href=\"https://typescriptlang.org/play/\" rel=\"nofollow noreferrer\">TS Playground</a> to see how it inspects the object at run-time.</p>\n"}], "owner": {"reputation": 1411, "user_id": 7404575, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Ec2Mv.png?s=128&g=1", "display_name": "vulp", "link": "https://stackoverflow.com/users/7404575/vulp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 225, "favorite_count": 0, "accepted_answer_id": 49177137, "answer_count": 2, "score": 1, "last_activity_date": 1523320276, "creation_date": 1520439095, "question_id": 49156502, "link": "https://stackoverflow.com/questions/49156502/should-i-manually-parse-a-json-string-received-from-a-server-while-the-type-of-t", "title": "Should I manually parse a JSON string received from a server while the type of the parameter which represents the object being received is declared?", "body": "<p>I am handling Http result in a reducer function of an Observable. While a type of the parameter <code>jwt</code> is set as <code>{ id: string, auth_token: string, expires_in }</code>, the <code>jwt</code> argument turns out to be a <code>string</code>. I thought TypeScript does parsing automatically. Do I have to do <code>JSON.parse(JSON.stringify(jwt))</code> by myself? </p>\n\n<pre><code>.mergeMap((jwt: { id: string, auth_token: string, expires_in }) =&gt; {})\n</code></pre>\n"}, {"tags": ["html", "angular", "typescript", "angular2-routing"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520445902, "post_id": 49156488, "comment_id": 85321910, "body": "What if somebody passes the link off to somebody else? How will your component know the laptopID then?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7776077"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520454966, "post_id": 49156488, "comment_id": 85327043, "body": "laptopID is in JSON on /api/laptopProducts"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1520455602, "post_id": 49156488, "comment_id": 85327367, "body": "My point is you can&#39;t really pass it behind the scenes because if someone goes to the link via a URL given to them it will not be passed behind the scenes from them. Assuming that your product names are unique you could take the name and look it up in your JSON data from /api/laptopProducts"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7776077"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520456299, "post_id": 49156488, "comment_id": 85327710, "body": "I have one table with 2 records. Laptops and Apple Laptops , first id = 1, first id = 2, i have third table with laptopProducts, and one record with one to many relations is laptopID = 1, and when first table id === laptopID shows me these which pass the condition, and with id = 2 show me apple laptops is there any other way to not pass it with routerLink?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7776077"}, "edited": false, "score": 0, "creation_date": 1520455252, "post_id": 49158747, "comment_id": 85327178, "body": "But my view depends of my id, i have 7 sections and each of this have their own sections i need to transport using my id&#39;s, u think i need to create one service and share multiple id ? What when it repeat i mean, laptop.id = 1 and pc.id = 1 i need two variables for each of id&#39;s ?"}, {"owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "edited": false, "score": 1, "creation_date": 1520456882, "post_id": 49158747, "comment_id": 85328026, "body": "What if you have 2 differents dictionnaries. One for laptop and another one for pc ? May be I don&#39;t get your issue."}], "tags": [], "owner": {"reputation": 1393, "user_id": 8456062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1423344851113585/picture?type=large", "display_name": "Christophe Chenel", "link": "https://stackoverflow.com/users/8456062/christophe-chenel"}, "is_accepted": false, "score": 0, "last_activity_date": 1520446700, "creation_date": 1520446700, "answer_id": 49158747, "question_id": 49156488, "link": "https://stackoverflow.com/questions/49156488/angular-multi-level-routing/49158747#49158747", "title": "Angular - Multi Level Routing", "body": "<p>create a dictionnary in your component :</p>\n\n<pre><code>var dict = []; // create an empty array\nid;\n\nconstructor(private database: DatabaseService, private activeRoute: \nActivatedRoute) { \n\ndict.push({\n  key:   \"1\",\n  value: \"Apple\"\n});\n\nthis.activeRoute.params.subscribe(params =&gt; {\n  this.id = dict[parseInt(params[\"id\"])].value;\n});\n}\n</code></pre>\n\n<p>But, You shouldn't use the params to get this ID.. Use a service and share the id between your components.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7776077"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520553601, "creation_date": 1520439036, "last_edit_date": 1520553601, "question_id": 49156488, "link": "https://stackoverflow.com/questions/49156488/angular-multi-level-routing", "title": "Angular - Multi Level Routing", "body": "<p>I want to do multi lvl routing:</p>\n\n<p>For each lvl I have one view but dynamically changing data. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GllxY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GllxY.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I do that and have my URLs like:</p>\n\n<p><strong>host.com/laptop/laptop-list/apple/234-product</strong></p>\n\n<p>Not like I have below:</p>\n\n<p><strong>host.com/laptops/1/2/12-product</strong></p>\n\n<p>And is that correct to pass ID between components? Or must I create a database service for all of it, if yes how can I do that with multiple APIs</p>\n\n<p><strong>host.com/api/laptops</strong> </p>\n\n<p><strong>host.com/api/laptopProducts</strong> and more more</p>\n\n<p>...</p>\n\n<p>I did this, (it's working) but it's passing my ID.</p>\n\n<pre><code>&lt;a [routerLink]=\"laptop.id\" *ngFor=\"let laptop of laptops\"&gt;\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>id = 0;\n\n constructor(private database: DatabaseService, private activeRoute: ActivatedRoute) { \n    this.activeRoute.params.subscribe(params =&gt; {\n      this.id = parseInt(params[\"id\"]);\n    });\n  }\n</code></pre>\n\n<p>component.html</p>\n\n<pre><code>&lt;div *ngFor=\"let laptopProduct of laptopProducts\"&gt;\n            &lt;div *ngIf=\"laptopProduct.laptopID === id\"&gt;\n                {{laptopProduct.name}}\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>Everything works good but I want name instead of ID in URLs</p>\n"}, {"tags": ["json", "angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1520439337, "post_id": 49156433, "comment_id": 85317768, "body": "try this <code>this.http.get(this.apiUrl.getBaseUrl() + &#39;symbol&#39;).map(response =&gt; response.json()).subscribe(data =&gt; {         console.log(data);});</code>"}, {"owner": {"reputation": 806, "user_id": 6816445, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1147525131971038/picture?type=large", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6816445/abhishek"}, "reply_to_user": {"reputation": 4800, "user_id": 8879527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uWfcF.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/8879527/rahul-sharma"}, "edited": false, "score": 0, "creation_date": 1520439597, "post_id": 49156433, "comment_id": 85317953, "body": "it is showing error <code>response.json is not a function</code>"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1520439798, "post_id": 49156433, "comment_id": 85318108, "body": "@Abhishek HttpClient response is JSON format already"}], "answers": [{"comments": [{"owner": {"reputation": 806, "user_id": 6816445, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1147525131971038/picture?type=large", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6816445/abhishek"}, "edited": false, "score": 0, "creation_date": 1520440649, "post_id": 49156707, "comment_id": 85318653, "body": "thank you worked perfectly for me. But is it mandatory to have 100% mapping. Don&#39;t we have any other dynamic way. If someone adds any one parameter in backend api then frontend api will be broken then. Is it true??"}, {"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "reply_to_user": {"reputation": 806, "user_id": 6816445, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1147525131971038/picture?type=large", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6816445/abhishek"}, "edited": false, "score": 2, "creation_date": 1520441684, "post_id": 49156707, "comment_id": 85319336, "body": "@Abhishek Yes, that&#39;s precisely what an interface <i>is for:</i> to guarantee field/type consistency. If someone adds a field to the backend, you will have to add it to the interface. You can create <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">partials</a> for various cases, though."}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 2, "last_activity_date": 1520439770, "creation_date": 1520439770, "answer_id": 49156707, "question_id": 49156433, "link": "https://stackoverflow.com/questions/49156433/parse-json-strnig-from-api-in-angular/49156707#49156707", "title": "Parse JSON strnig from API in angular", "body": "<p>You JSON object properties are not 100% mapping for <code>Symbols</code>, you have to convert it.</p>\n\n<p>Here's an example, interface <code>ServerSymbols</code> contains all properties of the JSON object, now you can modify <code>fetchListOfAllSymbol()</code> as:</p>\n\n<pre><code>fetchListOfAllSymbol() {\n    this.http.get&lt;ServerSymbols[]&gt;(this.apiUrl.getBaseUrl() + 'symbol')\n      .subscribe((data: ServerSymbols[]) =&gt; {\n        console.log(data);\n        // convert ServerSymbols to Symbols \n      });\n}\n</code></pre>\n\n<p>GET would return a list of ServerSymbols</p>\n\n<pre><code>export interface ServerSymbols {\n    id: number;\n    symbol: string;\n    series: string;\n    isin: string;\n    created_at: string;\n    updated_at: string;\n}\n</code></pre>\n\n<p>Convert ServerSymbols object to Symbols object:</p>\n\n<pre><code>convertFromServer(serverSymbols: ServerSymbols): Symbols {\n    return new Symbols(serverSymbols.symbol, serverSymbols.series, serverSymbols.isin, serverSymbols.created_at);\n}\n</code></pre>\n"}], "owner": {"reputation": 806, "user_id": 6816445, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1147525131971038/picture?type=large", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/6816445/abhishek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4234, "favorite_count": 1, "accepted_answer_id": 49156707, "answer_count": 1, "score": 2, "last_activity_date": 1520439770, "creation_date": 1520438877, "last_edit_date": 1520438922, "question_id": 49156433, "link": "https://stackoverflow.com/questions/49156433/parse-json-strnig-from-api-in-angular", "title": "Parse JSON strnig from API in angular", "body": "<p>I have a API returning following data:</p>\n\n<pre><code>[\n  {\n    \"id\": 1,\n    \"symbol\": \"20MICRONS\",\n    \"series\": \"EQ\",\n    \"isin\": \"INE144J01027\",\n    \"created_at\": \"2018-03-05 16:24:10\",\n    \"updated_at\": \"2018-03-05 16:24:10\"\n  },\n  {\n    \"id\": 2,\n    \"symbol\": \"3IINFOTECH\",\n    \"series\": \"EQ\",\n    \"isin\": \"INE748C01020\",\n    \"created_at\": \"2018-03-05 16:24:10\",\n    \"updated_at\": \"2018-03-05 16:24:10\"\n  },\n  {\n    \"id\": 3,\n    \"symbol\": \"63MOONS\",\n    \"series\": \"EQ\",\n    \"isin\": \"INE111B01023\",\n    \"created_at\": \"2018-03-05 16:24:10\",\n    \"updated_at\": \"2018-03-05 16:24:10\"\n  },\n  {\n    \"id\": 4,\n    \"symbol\": \"VARDMNPOLY\",\n    \"series\": \"EQ\",\n    \"isin\": \"INE835A01011\",\n    \"created_at\": \"2018-03-05 16:24:10\",\n    \"updated_at\": \"2018-03-05 16:24:10\"\n  }\n]   \n</code></pre>\n\n<p>I wish to parse this response from api in angular. I am able to log the data in console but not able to map in the datatype.</p>\n\n<pre><code>export class SymbolsComponent implements OnInit {\n\n  allSymbols: Symbols[] = [];\n\n  constructor(private http: HttpClient, private apiUrl: ApiUrlService) { }\n\n  ngOnInit() {\n    this.fetchListOfAllSymbol();\n  }\n\n  fetchListOfAllSymbol() {\n    this.http.get(this.apiUrl.getBaseUrl() + 'symbol').subscribe(data =&gt; {\n        console.log(data);\n\n    });\n  }\n\n} \n</code></pre>\n\n<p>My model file looks like this:</p>\n\n<pre><code>export class Symbols {\n\n  constructor(private symbol: string, private series: string, private isin: string, private created: string) {\n\n  }\n\n}\n</code></pre>\n\n<p>After getting response from the API i need to populate the result in <code>allSymbols</code> variable.</p>\n"}, {"tags": ["angular", "typescript", "http", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "is_accepted": false, "score": 0, "last_activity_date": 1520438968, "creation_date": 1520438968, "answer_id": 49156462, "question_id": 49156414, "link": "https://stackoverflow.com/questions/49156414/angular-5-http-get-with-xml-response/49156462#49156462", "title": "Angular 5 - http get with xml response", "body": "<p>You need to import the operator map for observables from rxjs.</p>\n\n<pre><code>import { map } from 'rxjs/operators';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "edited": false, "score": 0, "creation_date": 1520441263, "post_id": 49156711, "comment_id": 85319075, "body": "He is using angular 5, he can&#39;t be using something different than latest HttpClient from angular/common/http."}, {"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "reply_to_user": {"reputation": 6217, "user_id": 5397642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lijtH.jpg?s=128&g=1", "display_name": "alsami", "link": "https://stackoverflow.com/users/5397642/alsami"}, "edited": false, "score": 0, "creation_date": 1520451894, "post_id": 49156711, "comment_id": 85325423, "body": "@SamiAl90 are you sure? I think you can still install and import <code>@angular&#47;http</code> even if you&#39;re using Angular 5. Regardless this doesn&#39;t have an impact on my answer since I cover both cases."}, {"owner": {"reputation": 1, "user_id": 9457586, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Fletch", "link": "https://stackoverflow.com/users/9457586/fletch"}, "edited": false, "score": 0, "creation_date": 1520608641, "post_id": 49156711, "comment_id": 85398466, "body": "@Explosive Pills Thanks for the prompt and detailed reply. I am using Angular 5 and the latest HttpClient. I tried your 2nd example but i get an error &quot;Expected 0 arguments but got 1&quot; for this line of <code>bindNodeCallback(xml2js.parseString)(res)</code>"}], "tags": [], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "is_accepted": false, "score": 0, "last_activity_date": 1520439781, "creation_date": 1520439781, "answer_id": 49156711, "question_id": 49156414, "link": "https://stackoverflow.com/questions/49156414/angular-5-http-get-with-xml-response/49156711#49156711", "title": "Angular 5 - http get with xml response", "body": "<p>You need to import the rxjs map operator. With your existing code you can do:</p>\n\n<pre><code>import 'rxjs/add/operator/map';\n</code></pre>\n\n<p>You can also import the operator function itself. This is preferred. See: <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md\" rel=\"nofollow noreferrer\">https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md</a></p>\n\n<pre><code>import { map } from 'rxjs/operators';\n\n...\n  return this.http.get(this.apiRoot).pipe(map(res =&gt; {\n</code></pre>\n\n<p>If you're using the deprecated <code>HttpModule</code> instead of <code>HttpClient</code> you'll have to do an additional step to get the response text:</p>\n\n<pre><code>.pipe(\n  map(res =&gt; res.text()),\n</code></pre>\n\n<p>If you're using <code>HttpClient</code> you won't need to do this.</p>\n\n<hr>\n\n<p>Finally, since you're using <code>xml2js</code> which does not support Promises or Observables you will have to wrap the call to <code>.parseString</code> to add it to the observable stream. Fortunately, RxJS provides a wrapper function that does this for you: <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-bindNodeCallback\" rel=\"nofollow noreferrer\">http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-bindNodeCallback</a>.</p>\n\n<p>Here we use <code>switcMap</code> instead of <code>map</code> because <code>bindNodeCallback</code> returns an observable. <code>switchMap</code> will <em>flatten</em> it for us.</p>\n\n<pre><code>import { bindNodeCallback } from 'rxjs/observable/bindNodeCallback';\nimport { switchMap } from 'rxjs/operators';\n\nfunction list() {\n  return this.http\n    .get(this.apiRoot)\n    .pipe(switchMap(res =&gt; bindNodeCallback(xml2js.parseString)(res)))\n    .subscribe(console.log);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9457586, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Fletch", "link": "https://stackoverflow.com/users/9457586/fletch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5530, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1520439790, "creation_date": 1520438826, "last_edit_date": 1520439790, "question_id": 49156414, "link": "https://stackoverflow.com/questions/49156414/angular-5-http-get-with-xml-response", "title": "Angular 5 - http get with xml response", "body": "<p>Newby needs help with error. I am requesting data via a http get request.  The data is in xml format.  I need to convert it to json for use in my Angular app.  When I run the following code I get a error in the console \"TypeError this.http.get().map is not a function.</p>\n\n<pre><code>list() {\n  return this.http.get(this.apiRoot).map(res =&gt; {\n  let data;\n  xml2js.parseString( res.toString, function (err, result) {\n  console.dir(data); // Prints JSON object!\n  data = result;       \n  });\n  return data;\n  })\n  .subscribe(data =&gt; { \n  console.log(data);              \n  });  }\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jestjs"], "owner": {"reputation": 43, "user_id": 7206447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df73f5d16ce63d4e3606b54006805bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Di Giandomenico", "link": "https://stackoverflow.com/users/7206447/francisco-di-giandomenico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1520438664, "creation_date": 1520438664, "question_id": 49156356, "link": "https://stackoverflow.com/questions/49156356/why-does-jest-try-to-resolve-every-component-in-my-index-ts", "title": "Why does Jest try to resolve every component in my index.ts?", "body": "<p>So I'm using Jest (with Enzyme) to test a Typescript-React project, and am having an issue with an alias module.</p>\n\n<p>I know the problem per se isn't finding the module, because it finds the module correctly. I think the problem may be the structure of one of my files.</p>\n\n<p>jest.config.js</p>\n\n<pre><code>module.exports = {\n  \"collectCoverage\": false,\n  \"collectCoverageFrom\": [\n    \"!**/*.d.ts\",\n    \"src/**/*.{js,jsx,ts,tsx}\"\n  ],\n  \"coverageDirectory\": \"test\",\n  \"moduleFileExtensions\": [\n    \"ts\",\n    \"tsx\",\n    \"js\",\n    \"jsx\",\n    \"json\",\n    \"node\"\n  ],\n  \"testRegex\": \"(/__tests__/.*|(\\\\.|/)(test|spec))\\\\.(jsx?|tsx?)$\",\n  \"testEnvironment\": \"node\",\n  \"testURL\": \"http://localhost\",\n  \"transform\": {\n    \"^.+\\\\.css$\": \"&lt;rootDir&gt;/config/jest/cssTransform.js\",\n    \"^.+\\\\.tsx?$\": \"ts-jest\"\n  },\n  \"transformIgnorePatterns\": [\n    \"[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|ts|tsx)$\"\n  ],\n  \"resolver\": \"jest-webpack-resolver\",\n  \"moduleNameMapper\": {\n    \"^react-native$\": \"react-native-web\",\n    \"^components$\": \"&lt;rootDir&gt;/src/components\",\n    \"^reducers$\": \"&lt;rootDir&gt;/src/reducers\",\n    \"^actions$\": \"&lt;rootDir&gt;/src/actions\",\n    \"^selectors$\": \"&lt;rootDir&gt;/src/selectors\",\n    \"^services$\": \"&lt;rootDir&gt;/src/services\",\n    \"^views$\": \"&lt;rootDir&gt;/src/views\",\n    \"^domains$\": \"&lt;rootDir&gt;/src/domains\"\n  },\n};\n</code></pre>\n\n<p>Import used in my component being tested:</p>\n\n<pre><code>import { Label } from 'components';\n</code></pre>\n\n<p>My project structure leads the following way in components:</p>\n\n<pre><code>src\n  |_ components\n   |_ // ..various folders with React components\n   |_ index.ts\n</code></pre>\n\n<p>And my index.tsx basically looks like this:</p>\n\n<pre><code>export { default as Label } from './Label/Label'\n// export other components\n</code></pre>\n\n<p>What's happening is the following:</p>\n\n<p>When I run Jest, it resolves my 'components' module fine, it's the same in my webpack.alias, but what is breaking the test run is that it starts to 'build' (I'm not sure if it actually builds?) other components, and starts going up the dependency tree for some components I'm not even testing, and eventually breaks because it goes all the way up to my main index.tsx file that runs the entire app.</p>\n\n<p>Is the problem the way I've structured my index.ts to export all my components?</p>\n"}, {"tags": ["angular", "sqlite", "typescript", "ionic3"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9457538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1sJls1T574o/AAAAAAAAAAI/AAAAAAAAAFw/17X7xOpepwU/photo.jpg?sz=128", "display_name": "Sergio Camargo", "link": "https://stackoverflow.com/users/9457538/sergio-camargo"}, "edited": false, "score": 0, "creation_date": 1520516788, "post_id": 49166965, "comment_id": 85354182, "body": "I try, but appears this: {&quot;id&quot;:115,&quot;nombre&quot;:null,&quot;telefono&quot;:null,&quot;ext&quot;:null,&quot;correo&quot;:&zwnj;&#8203;null,&quot;empresa&quot;:null} and the array is empty.  :/"}], "tags": [], "owner": {"reputation": 199, "user_id": 9384932, "user_type": "registered", "profile_image": "https://graph.facebook.com/1796793637051939/picture?type=large", "display_name": "Jatin Devani", "link": "https://stackoverflow.com/users/9384932/jatin-devani"}, "is_accepted": false, "score": 0, "last_activity_date": 1520491455, "creation_date": 1520491455, "answer_id": 49166965, "question_id": 49156144, "link": "https://stackoverflow.com/questions/49156144/http-post-array-in-ionic-3-angular-4-sqlite/49166965#49166965", "title": "Http Post Array in Ionic 3 - Angular 4 - Sqlite", "body": "<p>please replace this line </p>\n\n<pre><code>this.http.post(\"http://181.48.244.108/FeriaDutotec/api/Contactos1\", JSON.stringify(this.contactos), options)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9457538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-1sJls1T574o/AAAAAAAAAAI/AAAAAAAAAFw/17X7xOpepwU/photo.jpg?sz=128", "display_name": "Sergio Camargo", "link": "https://stackoverflow.com/users/9457538/sergio-camargo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 663, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520491455, "creation_date": 1520438085, "question_id": 49156144, "link": "https://stackoverflow.com/questions/49156144/http-post-array-in-ionic-3-angular-4-sqlite", "title": "Http Post Array in Ionic 3 - Angular 4 - Sqlite", "body": "<p>I'm trying to post array of contactos on a WebService.</p>\n\n<p>When send the array this data appears in NULL in WebService.</p>\n\n<p>I'm confused with Let params{}</p>\n\n<p>The error is object undefinded.</p>\n\n<p>And the method POST doesn\u00b4t works.</p>\n\n<p>I'm using Ionic3 - Angular4 and Sqlite.</p>\n\n<p>This is my home.ts  </p>\n\n<pre><code>public contactos: any [] = [];\n\nconstructor(public navCtrl: NavController,\n    private sqlite: SQLite,\n    private toast: Toast,\n    public http: Http) {\n    }\n        postRequest(){\n                this.sqlite.create({\n                name: 'ionicdb.db',\n                location: 'default'\n            }).then((db: SQLiteObject) =&gt;{\n              db.executeSql('SELECT * FROM Contactos ORDER BY rowid DESC', {})\n              .then(result =&gt;  {\n                this.contactos = [];\n                for(var i=0; i&lt;result.rows.length; i++) {\n                  this.contactos.push({\n                    rowid:result.rows.item(i).rowid,\n                    nombre:result.rows.item(i).nombre,\n                    telefono:result.rows.item(i).telefono,\n                    ext:result.rows.item(i).ext,\n                    correo:result.rows.item(i).correo,\n                    empresa:result.rows.item(i).empresa})  \n\n                    var headers = new Headers();\n                    headers.append(\"Accept\", 'application/json');\n                    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n                    let options = new RequestOptions({ headers: headers });\n                    let params = { \n                      nombre: 'Sergio',\n                      telefono: '1234567',\n                      ext: '000',\n                      correo: 'zergiodkamargo.sc@gmail.com',\n                      empresa: 'Globaltek'\n                }\n\n                 this.http.post(\"http://181.48.244.108/FeriaDutotec/api/Contactos1\", JSON.stringify(params), options)\n                .subscribe(contactos =&gt; {\n                this.contactos.push(contactos.json())\n                console.log(contactos ['_body']);\n                this.toast.show('Datos Sincronizados!' , '4000', 'center').subscribe(\n                  toast =&gt; {\n                    console.log(contactos);\n                  }\n                )\n                }, error =&gt; {\n                console.log(error.message);// Error obteniendo los datos!\n                this.toast.show('Error en la sincronizacion!'+ error.message, '4000' , 'center').subscribe(\n                  toast =&gt; {\n                    console.log(toast);\n                  }\n                  )\n                  }); \n    }  \n        console.log('Result')\n        })\n        .catch(e =&gt; console.log(e));\n        console.log('Create')\n        }) \n        .catch(e =&gt; console.log(e));\n        }\n</code></pre>\n"}, {"tags": ["typescript", "declare"], "answers": [{"tags": [], "owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "is_accepted": true, "score": 15, "last_activity_date": 1520438221, "creation_date": 1520438221, "answer_id": 49156180, "question_id": 49156130, "link": "https://stackoverflow.com/questions/49156130/is-there-ever-a-reason-to-use-the-declare-keyword-in-front-of-types-and-interfac/49156180#49156180", "title": "Is there ever a reason to use the declare keyword in front of types and interfaces?", "body": "<p>Looks like I just found out why.</p>\n\n<p>From this github <a href=\"https://github.com/Microsoft/TypeScript/issues/1940\" rel=\"noreferrer\">issue</a>:</p>\n\n<blockquote>\n  <p><code>declare</code> should be optional on type aliases and interfaces.</p>\n  \n  <p><code>declare type</code> and <code>declare interface</code> are identical to <code>type</code> and <code>interface</code></p>\n  \n  <p>Since we already shipped type aliases this way, people have had to write <code>declare type</code> a bunch of times. We could break them and say \"Write <code>type</code>, not <code>declare type</code>\", but that would be a massive break for no real reason.</p>\n</blockquote>\n\n<p>In summary, there is no reason to use <code>declare</code> for types and interfaces.</p>\n"}], "owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1009, "favorite_count": 1, "accepted_answer_id": 49156180, "answer_count": 1, "score": 10, "last_activity_date": 1532673988, "creation_date": 1520438055, "last_edit_date": 1532673988, "question_id": 49156130, "link": "https://stackoverflow.com/questions/49156130/is-there-ever-a-reason-to-use-the-declare-keyword-in-front-of-types-and-interfac", "title": "Is there ever a reason to use the declare keyword in front of types and interfaces?", "body": "<p>I have come across some code like this:</p>\n\n<pre><code>declare type A = { ... };\ndeclare interface B { ... }\n</code></pre>\n\n<p>From searching for the <code>declare</code> keyword (and none of the hits pointed to me the TypeScript docs for some reason), <code>declare</code> is used when a variable exists in JavaScript and you need to reference it from TypeScript, so you declare to the compiler that this variable indeed exists.</p>\n\n<p>All examples I have found that use this keyword use it like this: <code>declare var a;</code></p>\n\n<p>Why would I ever use it in front of a <code>type</code> or <code>interface</code>? Based on my understanding of <code>declare</code>, it is completely useless to do so, but the compiler doesn't give me any errors.</p>\n"}, {"tags": ["angular", "typescript", "http"], "comments": [{"owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "edited": false, "score": 0, "creation_date": 1520450839, "post_id": 49155809, "comment_id": 85324841, "body": "wish I knew why this was getting downvoted?"}], "answers": [{"tags": [], "owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "is_accepted": true, "score": 2, "last_activity_date": 1520437391, "creation_date": 1520437391, "answer_id": 49155905, "question_id": 49155809, "link": "https://stackoverflow.com/questions/49155809/angular-2-and-typescript-argument-of-type-response-is-not-assignable/49155905#49155905", "title": "Angular 2 and typescript argument of type response is not assignable", "body": "<pre><code>this.client_comments.next(comments.json() as YourType[])\n</code></pre>\n\n<p>You should also set up your subject so it is typed as <code>YourType[]</code> too</p>\n"}, {"tags": [], "owner": {"reputation": 1282, "user_id": 5842628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5115f168f54fb2bc2a86b5803acd7e18?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Hamel", "link": "https://stackoverflow.com/users/5842628/jonathan-hamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1520438465, "creation_date": 1520438465, "answer_id": 49156272, "question_id": 49155809, "link": "https://stackoverflow.com/questions/49155809/angular-2-and-typescript-argument-of-type-response-is-not-assignable/49156272#49156272", "title": "Angular 2 and typescript argument of type response is not assignable", "body": "<p>If you are using <code>@angular/http</code> package (<strong>deprecated</strong>), <a href=\"https://angular.io/api/http/Http\" rel=\"nofollow noreferrer\">https://angular.io/api/http/Http</a></p>\n\n<p>Use it like so:</p>\n\n<pre><code>this.http.get(final_url, o)\n    .map((res: Response) =&gt; res.json())\n    .subscribe( comments: any[] =&gt; {\n        this.client_comments.next(comments)\n    });\n</code></pre>\n\n<p>If you are using <code>@angular/common/http</code> package (<strong>which is the recommended package</strong>), <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a></p>\n\n<p>Use it like so:</p>\n\n<pre><code>this.http.get&lt;any[]&gt;(final_url, o)\n    .subscribe( comments: any[] =&gt; {\n        this.client_comments.next(comments)\n    });\n</code></pre>\n"}], "owner": {"reputation": 4782, "user_id": 3914509, "user_type": "registered", "accept_rate": 56, "profile_image": "https://graph.facebook.com/618920827/picture?type=large", "display_name": "Jeremy Thomas", "link": "https://stackoverflow.com/users/3914509/jeremy-thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "accepted_answer_id": 49155905, "answer_count": 2, "score": -3, "last_activity_date": 1520438465, "creation_date": 1520437142, "question_id": 49155809, "link": "https://stackoverflow.com/questions/49155809/angular-2-and-typescript-argument-of-type-response-is-not-assignable", "title": "Angular 2 and typescript argument of type response is not assignable", "body": "<p>I have an angular service with a value that is defined as:</p>\n\n<pre><code>private client_comments  = new BehaviorSubject([]);\n</code></pre>\n\n<p>I am attempting to set the value with the response from an http call, but I see:</p>\n\n<blockquote>\n  <p>Argument of type 'Response' is not assignable to parameter of type 'any[]'.  Property 'length' is missing in type 'Response'</p>\n</blockquote>\n\n<p>...and my call looks like:</p>\n\n<pre><code>this.http.get(final_url, o).subscribe( comments =&gt; {\n  this.client_comments.next(comments)\n})\n</code></pre>\n\n<p>How am I supposed to set the type on the response so that it knows it will be an array?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 1, "creation_date": 1520438549, "post_id": 49155503, "comment_id": 85317225, "body": "Exactly same problem as here <a href=\"https://stackoverflow.com/questions/49148781/custom-error-handler-throw-error-cannot-read-property-get-of-undefined-inj\" title=\"custom error handler throw error cannot read property get of undefined inj\">stackoverflow.com/questions/49148781/&hellip;</a> . Error class isn&#39;t an appropriate place for side effects."}], "owner": {"reputation": 2155, "user_id": 1940233, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/aedd13f7ce824cc5522c7f842cbb777e?s=128&d=identicon&r=PG", "display_name": "Usman Tahir", "link": "https://stackoverflow.com/users/1940233/usman-tahir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520436232, "creation_date": 1520436232, "question_id": 49155503, "link": "https://stackoverflow.com/questions/49155503/injecting-router-in-global-error-handler-angular-5", "title": "Injecting router in Global Error Handler: Angular 5", "body": "<p>I have a scenario in Angular 5 where I need to redirect page based on Error Handler I defined in each class.\nThese are my error classes.</p>\n\n<pre><code>export class AppError {\n  constructor(\n    public originalError?: any,\n    executeParent?: boolean\n  ) {\n    if (executeParent) {\n      console.log(originalError);\n    }\n  }\n}\n\nexport class NotFoundError extends AppError {\n  constructor(originalError) {\n    super(originalError);\n    console.log(this);\n  }\n}\n</code></pre>\n\n<p>and I am using them in services like this:</p>\n\n<pre><code>@Injectable()\nexport class AccountService {\n  account: Account;\n  constructor(private http: HttpClient) {}\n\n  fetch () {\n    return this.http.get(ENDPOINT.ACCOUNT).catch((error: Response) =&gt; {\n      if (error.status === 404) {\n        return Observable.throw(new NotFoundError(error));\n      }\n      return Observable.throw(new AppError(error));\n    });\n  }\n}\n</code></pre>\n\n<p>Now I need to do something like this</p>\n\n<pre><code>export class AppError {\n  private router: Router;\n  private store: StoreService;\n\n  constructor(\n    public originalError?: any,\n    executeParent?: boolean\n  ) {\n    if (executeParent) {\n      if (this.store.errorMessage.getValue().code) {\n        log.print('ErrorCode: ', this.store.errorMessage.getValue().code);\n        this.router.navigate(['/errorPage']);\n      }\n      console.log(originalError);\n    }\n  }\n}\n</code></pre>\n\n<p>But it's not letting me because router and store are not defined. I can't define a new instance because I need a reference to the store.</p>\n\n<p>I don't want to use this in the constructor because I'll have to pass this value from so many lower levels. I want to keep my class signature simple and straight. because I need to add more types of errors here and I can't pass store and router in such long hierarchies.</p>\n"}, {"tags": ["javascript", "angular", "unit-testing", "typescript", "karma-jasmine"], "comments": [{"owner": {"reputation": 1282, "user_id": 5842628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5115f168f54fb2bc2a86b5803acd7e18?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Hamel", "link": "https://stackoverflow.com/users/5842628/jonathan-hamel"}, "edited": false, "score": 0, "creation_date": 1520436708, "post_id": 49155262, "comment_id": 85315870, "body": "Can you check if your spy was called (<code>expect(spy).toHaveBeenCalledTimes(1)</code>)? Using observables, maybe you need to use <code>async</code> or <code>fakeAsync</code> zones. In the <code>methodCallToMock</code>, are you unsubscribing from an undefined subscription in the test if it gets really called?"}], "answers": [{"tags": [], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "is_accepted": false, "score": 0, "last_activity_date": 1520439583, "creation_date": 1520439583, "answer_id": 49156643, "question_id": 49155262, "link": "https://stackoverflow.com/questions/49155262/mock-a-component-method-with-spy-karma-and-jasmine/49156643#49156643", "title": "Mock a component method with spy, karma and jasmine", "body": "<p>Found the solution which was really simple...</p>\n\n<p>Just add the method signature to the service mock like that : </p>\n\n<pre><code>  const MockSocketIoService = {\n    methodCallToMock() {\n    },\n    onTyping: () =&gt; Observable.of({}),\n    onStoppedTyping: () =&gt; Observable.of({}),\n    onNewMessage: () =&gt; Observable.of({}),\n    onReadConfirmation: () =&gt; Observable.of({}),\n    onReceptConfirmation: () =&gt; Observable.of({}),\n  };\n</code></pre>\n"}], "owner": {"reputation": 5781, "user_id": 1427798, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iTN8X.png?s=128&g=1", "display_name": "An-droid", "link": "https://stackoverflow.com/users/1427798/an-droid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2477, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520439583, "creation_date": 1520435613, "question_id": 49155262, "link": "https://stackoverflow.com/questions/49155262/mock-a-component-method-with-spy-karma-and-jasmine", "title": "Mock a component method with spy, karma and jasmine", "body": "<p>I have this kind of error during my tests : </p>\n\n<p><code>ERROR: 'Error during cleanup of component'</code></p>\n\n<p>I located the origin in :</p>\n\n<pre><code>ngOnDestroy(){\n    methodCallToMock()\n}\n</code></pre>\n\n<p>I need to mock methodCallToMock() which is a method of the same component, for it to return false and do nothing else.</p>\n\n<p>My test file : </p>\n\n<pre><code>describe('ChatWindowComponent', () =&gt; {\n  let component: ChatWindowComponent;\n  let fixture: ComponentFixture&lt;ChatWindowComponent&gt;;\n  let spy: any;\n\n  const MockMessageService = {\n    getMessages: (i: string) =&gt; Observable.of([]),\n  };\n\n  const MockSocketIoService = {\n    onTyping: () =&gt; Observable.of({}),\n    onStoppedTyping: () =&gt; Observable.of({}),\n    onNewMessage: () =&gt; Observable.of({}),\n    onReadConfirmation: () =&gt; Observable.of({}),\n    onReceptConfirmation: () =&gt; Observable.of({}),\n  };\n\n  const MockUserService = {\n    getCurrentUserFromLocalStorage: () =&gt; '',\n  };\n\n\n  beforeEach(async(() =&gt; {\n    TestBed.configureTestingModule({\n      imports: [MaterializeModule, FormsModule],\n      declarations: [ChatWindowComponent],\n      schemas: [CUSTOM_ELEMENTS_SCHEMA],\n      providers: [Logger,\n        TrackingCommunicationService,\n        {provide: SocketioService, useValue: MockSocketIoService},\n        {provide: MessageService, useValue: MockMessageService},\n        {provide: UserService, useValue: MockUserService}],\n    })\n      .compileComponents();\n  }));\n\n  beforeEach(() =&gt; {\n    fixture = TestBed.createComponent(ChatWindowComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  afterEach(() =&gt; {\n    component = null;\n  });\n\n  it('should create', () =&gt; {\n    spy = spyOn(component, 'methodCallToMock').and.returnValue(false);\n    expect(component).toBeTruthy();\n  });\n});\n</code></pre>\n\n<p>I tried several approach like : </p>\n\n<pre><code>  it('should create', () =&gt; {\n    spy = spyOn(component, 'methodCallToMock').and.returnValue(false);\n    expect(component).toBeTruthy();\n  });\n</code></pre>\n\n<p>But same error, how can I correct this error ?</p>\n"}, {"tags": ["typescript"], "comments": [{"owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1520433972, "post_id": 49154574, "comment_id": 85313732, "body": "What do you mean &quot;every constant reports <code>&quot;show&quot;</code>?"}, {"owner": {"reputation": 33, "user_id": 4406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pCHCN.jpg?s=128&g=1", "display_name": "Michael Grenier", "link": "https://stackoverflow.com/users/4406693/michael-grenier"}, "reply_to_user": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "edited": false, "score": 0, "creation_date": 1520436510, "post_id": 49154574, "comment_id": 85315702, "body": "In the Typescript Playground, mouse over the constants at the end of the snipped. You&#39;ll see what the compiler report for each one."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pCHCN.jpg?s=128&g=1", "display_name": "Michael Grenier", "link": "https://stackoverflow.com/users/4406693/michael-grenier"}, "edited": false, "score": 0, "creation_date": 1520435845, "post_id": 49154792, "comment_id": 85315170, "body": "Thank you for the well written explanation and example."}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1520434350, "creation_date": 1520434350, "answer_id": 49154792, "question_id": 49154574, "link": "https://stackoverflow.com/questions/49154574/typescript-function-overloads-mismatch/49154792#49154792", "title": "Typescript function overloads mismatch", "body": "<p>The problem is that Typescript uses structural compatibility to determine type compatibility. In case of function signature resolution, the compiler will evaluate each overload in definition order to find the first one that the parameter <code>query</code> is assignable from the arguments. </p>\n\n<p>Since <code>QueryShowCollection</code> has no members, it will be structurally compatible with all the other <code>Query*Collection</code> types, this is why you get <code>show</code> for all collections. Also <code>QueryDescribeCollection</code> and <code>QueryCollectionExists</code> are structurally identical you can't order the overload in a way that will differentiate between the two.</p>\n\n<p>You have two solutions</p>\n\n<ul>\n<li>Order the overload from those with more complex structure to those with less complex structure, to get the compiler to pick the correct overloed</li>\n<li>Add a private field to ensure type incompatibility between classes. The field does not have to be used it just has to be present.</li>\n</ul>\n\n<p>The first solution will not work for you because some of your classes are structurally identical so the second solution would look like this:</p>\n\n<pre><code>class Query { }\nclass QueryInsert extends Query {\n    private type: 'insert';\n    constructor(public readonly objects?: any[], public readonly collection?: any) { super(); }\n}\nclass QueryUpdate extends Query {\n    private type: 'update';\n    constructor(public readonly object?: any, public readonly collection?: any, public readonly conditions?: any) { super(); }\n}\nclass QueryShowCollection extends Query { \n    private type: 'show';\n}\nclass QueryCollectionExists extends Query {\n    private type: 'exists';\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryDescribeCollection extends Query {\n    private type: 'describe';\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryCreateCollection extends Query {\n    private type: 'create';\n    constructor(public readonly collection: any, public readonly columns?: any[], public readonly indexes?: any[]) { super(); }\n}\nclass QueryDropCollection extends Query {\n    private type: 'drop';\n    constructor(public readonly collection: any) { super(); }\n}\n\nfunction execute(query: QueryInsert): 'insert'\nfunction execute(query: QueryUpdate): 'update'\nfunction execute(query: QueryDescribeCollection): 'describe'\nfunction execute(query: QueryCreateCollection): 'create'\nfunction execute(query: QueryDropCollection): 'drop'\nfunction execute(query: QueryShowCollection): 'show'\nfunction execute(query: QueryCollectionExists): 'exists'\nfunction execute(query: Query): any {\n\n}\n\nconst insert = execute(new QueryInsert());\nconst update = execute(new QueryUpdate());\nconst show = execute(new QueryShowCollection());\nconst exists = execute(new QueryCollectionExists(''));\nconst describe = execute(new QueryDescribeCollection(''));\nconst create = execute(new QueryCreateCollection(''));\nconst drop = execute(new QueryDropCollection(''));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 4406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pCHCN.jpg?s=128&g=1", "display_name": "Michael Grenier", "link": "https://stackoverflow.com/users/4406693/michael-grenier"}, "edited": false, "score": 0, "creation_date": 1520436154, "post_id": 49155339, "comment_id": 85315420, "body": "Thank you for your suggestion. The whole snippet is stripped down to showcase the behavior I was experiencing. In the real code, <code>execute</code> return an <code>Query*Result</code> object that is different for each <code>Query*</code>."}, {"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "reply_to_user": {"reputation": 33, "user_id": 4406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pCHCN.jpg?s=128&g=1", "display_name": "Michael Grenier", "link": "https://stackoverflow.com/users/4406693/michael-grenier"}, "edited": false, "score": 0, "creation_date": 1520437069, "post_id": 49155339, "comment_id": 85316120, "body": "@MichaelGrenier I see, when it&#39;s not a static primitive the generic approach would require some sort of type lookup table which in the end would be just as long as a list of overloads."}], "tags": [], "owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "is_accepted": false, "score": 0, "last_activity_date": 1520435824, "creation_date": 1520435824, "answer_id": 49155339, "question_id": 49154574, "link": "https://stackoverflow.com/questions/49154574/typescript-function-overloads-mismatch/49155339#49155339", "title": "Typescript function overloads mismatch", "body": "<p>I would suggest to use generics instead of overloads. Since you need to return a string constant dependent of the class, it makes sense to have the constant as a field anyway.</p>\n\n<pre><code>class Query {\n    readonly type: string;\n}\nclass QueryInsert extends Query {\n    readonly type = 'insert';\n    constructor(public readonly objects?: any[], public readonly collection?: any) { super(); }\n}\nclass QueryUpdate extends Query {\n    readonly type = 'update';\n    constructor(public readonly object?: any, public readonly collection?: any, public readonly conditions?: any) { super(); }\n}\nclass QueryShowCollection extends Query {\n    readonly type = 'show';\n}\nclass QueryCollectionExists extends Query {\n    readonly type = 'exists';\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryDescribeCollection extends Query {\n    readonly type = 'describe';\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryCreateCollection extends Query {\n    readonly type = 'create';\n    constructor(public readonly collection: any, public readonly columns?: any[], public readonly indexes?: any[]) { super(); }\n}\nclass QueryDropCollection extends Query {\n    readonly type = 'drop';\n    constructor(public readonly collection: any) { super(); }\n}\n\nfunction execute&lt;T extends Query&gt;(query: T): T['type'] {\n    return query.type;\n}\n\nconst insert = execute(new QueryInsert());\nconst update = execute(new QueryUpdate());\nconst show = execute(new QueryShowCollection());\nconst exists = execute(new QueryCollectionExists(''));\nconst describe = execute(new QueryDescribeCollection(''));\nconst create = execute(new QueryCreateCollection(''));\nconst drop = execute(new QueryDropCollection(''));\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pCHCN.jpg?s=128&g=1", "display_name": "Michael Grenier", "link": "https://stackoverflow.com/users/4406693/michael-grenier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 49154792, "answer_count": 2, "score": 2, "last_activity_date": 1520435824, "creation_date": 1520433727, "question_id": 49154574, "link": "https://stackoverflow.com/questions/49154574/typescript-function-overloads-mismatch", "title": "Typescript function overloads mismatch", "body": "<p>I'm having trouble with a function overload. Compiler keep picking the wrong signature and I'd like to understand why.</p>\n\n<p>Here a snippet that shows the behavior : <a href=\"https://www.typescriptlang.org/play/#src=%0D%0Aclass%20Query%20%7B%20%7D%0D%0Aclass%20QueryInsert%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20objects%3F%3A%20any%5B%5D%2C%20public%20readonly%20collection%3F%3A%20any)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0Aclass%20QueryUpdate%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20object%3F%3A%20any%2C%20public%20readonly%20collection%3F%3A%20any%2C%20public%20readonly%20conditions%3F%3A%20any)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0Aclass%20QueryShowCollection%20extends%20Query%20%7B%20%7D%0D%0Aclass%20QueryCollectionExists%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20collection%3A%20any)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0Aclass%20QueryDescribeCollection%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20collection%3A%20any)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0Aclass%20QueryCreateCollection%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20collection%3A%20any%2C%20public%20readonly%20columns%3F%3A%20any%5B%5D%2C%20public%20readonly%20indexes%3F%3A%20any%5B%5D)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0Aclass%20QueryDropCollection%20extends%20Query%20%7B%0D%0A%20%20%20%20constructor(public%20readonly%20collection%3A%20any)%20%7B%20super()%3B%20%7D%0D%0A%7D%0D%0A%0D%0Afunction%20execute(query%3A%20QueryInsert)%3A%20&#39;insert&#39;%0D%0Afunction%20execute(query%3A%20QueryUpdate)%3A%20&#39;update&#39;%0D%0Afunction%20execute(query%3A%20QueryShowCollection)%3A%20&#39;show&#39;%0D%0Afunction%20execute(query%3A%20QueryCollectionExists)%3A%20&#39;exists&#39;%0D%0Afunction%20execute(query%3A%20QueryDescribeCollection)%3A%20&#39;describe&#39;%0D%0Afunction%20execute(query%3A%20QueryCreateCollection)%3A%20&#39;create&#39;%0D%0Afunction%20execute(query%3A%20QueryDropCollection)%3A%20&#39;drop&#39;%0D%0Afunction%20execute(query%3A%20Query)%3A%20any%20%7B%0D%0A%0D%0A%7D%0D%0A%0D%0Aconst%20insert%20%3D%20execute(new%20QueryInsert())%3B%0D%0Aconst%20update%20%3D%20execute(new%20QueryUpdate())%3B%0D%0Aconst%20show%20%3D%20execute(new%20QueryShowCollection())%3B%0D%0Aconst%20exists%20%3D%20execute(new%20QueryCollectionExists(&#39;&#39;))%3B%0D%0Aconst%20describe%20%3D%20execute(new%20QueryDescribeCollection(&#39;&#39;))%3B%0D%0Aconst%20create%20%3D%20execute(new%20QueryCreateCollection(&#39;&#39;))%3B%0D%0Aconst%20drop%20%3D%20execute(new%20QueryDropCollection(&#39;&#39;))%3B%0D%0A%0D%0A\" rel=\"nofollow noreferrer\">Typescript Playground</a>. For reference, here's the snippet source :</p>\n\n<pre><code>class Query { }\nclass QueryInsert extends Query {\n    constructor(public readonly objects?: any[], public readonly collection?: any) { super(); }\n}\nclass QueryUpdate extends Query {\n    constructor(public readonly object?: any, public readonly collection?: any, public readonly conditions?: any) { super(); }\n}\nclass QueryShowCollection extends Query { }\nclass QueryCollectionExists extends Query {\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryDescribeCollection extends Query {\n    constructor(public readonly collection: any) { super(); }\n}\nclass QueryCreateCollection extends Query {\n    constructor(public readonly collection: any, public readonly columns?: any[], public readonly indexes?: any[]) { super(); }\n}\nclass QueryDropCollection extends Query {\n    constructor(public readonly collection: any) { super(); }\n}\n\nfunction execute(query: QueryInsert): 'insert'\nfunction execute(query: QueryUpdate): 'update'\nfunction execute(query: QueryShowCollection): 'show'\nfunction execute(query: QueryCollectionExists): 'exists'\nfunction execute(query: QueryDescribeCollection): 'describe'\nfunction execute(query: QueryCreateCollection): 'create'\nfunction execute(query: QueryDropCollection): 'drop'\nfunction execute(query: Query): any {\n\n}\n\nconst insert = execute(new QueryInsert());\nconst update = execute(new QueryUpdate());\nconst show = execute(new QueryShowCollection());\nconst exists = execute(new QueryCollectionExists(''));\nconst describe = execute(new QueryDescribeCollection(''));\nconst create = execute(new QueryCreateCollection(''));\nconst drop = execute(new QueryDropCollection(''));\n</code></pre>\n\n<p>The unexpected behavior is from the constants at the end. <code>insert</code> should report <code>\"insert\"</code>, <code>update</code>, <code>\"update\"</code>, etc.</p>\n\n<p>Right after <code>show</code>, every constants report <code>\"show\"</code>\n. I understand that the compiler pick the signature from <code>function execute(query: QueryShowCollection): 'show'</code> for these constants. If we move down this signature (ex: below the one with QueryDropCollection), it's now <code>function execute(query: QueryCollectionExists): 'exists'</code> that is taken for the rest of the constants.</p>\n\n<p>There is cleary something I'm doing wrong.</p>\n"}, {"tags": ["html", "angular", "forms", "typescript"], "comments": [{"owner": {"reputation": 369, "user_id": 2169925, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0fc2J.jpg?s=128&g=1", "display_name": "Dhaval", "link": "https://stackoverflow.com/users/2169925/dhaval"}, "edited": false, "score": 0, "creation_date": 1520434181, "post_id": 49154529, "comment_id": 85313873, "body": "you haven&#39;t put the formControlName for that"}, {"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "edited": false, "score": 0, "creation_date": 1520434303, "post_id": 49154529, "comment_id": 85313950, "body": "@Lonna You have not mapped your <code>json</code> that good as a <code>formGroup</code>. Take a look here: <a href=\"https://stackoverflow.com/questions/43291346/how-to-iterate-form-arrayarray-in-array-in-array-in-angular2-reactive-forms\" title=\"how to iterate form arrayarray in array in array in angular2 reactive forms\">stackoverflow.com/questions/43291346/&hellip;</a>"}, {"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "reply_to_user": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "edited": false, "score": 0, "creation_date": 1520439541, "post_id": 49154529, "comment_id": 85317916, "body": "@Thodoris I make some change, look my comment please"}], "answers": [{"comments": [{"owner": {"reputation": 14135, "user_id": 427146, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PuoOb.jpg?s=128&g=1", "display_name": "sabithpocker", "link": "https://stackoverflow.com/users/427146/sabithpocker"}, "edited": false, "score": 4, "creation_date": 1520445490, "post_id": 49156606, "comment_id": 85321691, "body": "Add this as an update in the Question, not in the answer section."}, {"owner": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1520450787, "post_id": 49156606, "comment_id": 85324805, "body": "Please use the edit link on your question to add additional information. The Post Answer button should be used only for complete answers to the question. - <a href=\"/review/low-quality-posts/19036778\">From Review</a>"}, {"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "reply_to_user": {"reputation": 6724, "user_id": 4685428, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/de2eda4db020c2b1541f877424225d73?s=128&d=identicon&r=PG&f=1", "display_name": "Aleks Andreev", "link": "https://stackoverflow.com/users/4685428/aleks-andreev"}, "edited": false, "score": 0, "creation_date": 1520536019, "post_id": 49156606, "comment_id": 85366864, "body": "@AleksAndreev I change it :) thnx"}], "tags": [], "owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "is_accepted": false, "score": 1, "last_activity_date": 1520500084, "last_edit_date": 1520500084, "creation_date": 1520439461, "answer_id": 49156606, "question_id": 49154529, "link": "https://stackoverflow.com/questions/49154529/how-to-display-data-from-array-products/49156606#49156606", "title": "How to display data from array &quot;Products&quot;: [{}]", "body": "<p>I solved this problem, like this</p>\n\n<pre><code>this.sale.products.forEach(product =&gt; {\n    (this.editForm.get('products') as FormArray).push(this.createFGPoduct(product))\n})\n\n    createFGPoduct(product: Product): FormGroup {\n        return new FormGroup({\n           p_id: new FormControl(product.p_id),\n           p_pt_id: new FormControl(product.p_pt_id, [Validators.required]),\n           p_l: new FormControl(product.p_l, [Validators.required]),\n           p_d: new FormControl(product.p_d, [Validators.required])\n\n        })\n    }\n</code></pre>\n\n<p>HTML code.</p>\n\n<pre><code> &lt;tbody&gt;\n      &lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let item of editForm.get('products').value; let i = index\"&gt;\n        &lt;td&gt;{{item.p_d}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_pt_id}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_l}} &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520498676, "post_id": 49158498, "comment_id": 85342679, "body": "Hello, when I put in html {{editForm.value | json}} my Json display. When I put  in ts, your code and in html this editForm.get(&#39;products.0.p_id&#39;).value nothing change."}, {"owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "reply_to_user": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520504230, "post_id": 49158498, "comment_id": 85346280, "body": "@Lonna Does the json display include the array of products with the first product already mapped? If yes <code>ngFor</code> iterates arrays not objects so this could be your display problem."}, {"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520504469, "post_id": 49158498, "comment_id": 85346418, "body": "Really thank you  Thodoris , I have shown below how to solved this problem :)"}], "tags": [], "owner": {"reputation": 652, "user_id": 7168173, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/ojnwk.jpg?s=128&g=1", "display_name": "Thodoris", "link": "https://stackoverflow.com/users/7168173/thodoris"}, "is_accepted": true, "score": 0, "last_activity_date": 1520505958, "last_edit_date": 1520505958, "creation_date": 1520445703, "answer_id": 49158498, "question_id": 49154529, "link": "https://stackoverflow.com/questions/49154529/how-to-display-data-from-array-products/49158498#49158498", "title": "How to display data from array &quot;Products&quot;: [{}]", "body": "<p>First put in your <code>html</code> <code>{{editForm.value | json}}</code> to see what you have in there. </p>\n\n<p>Second I suppose that <code>this.sale.products</code> refers to <code>StatusDescription</code>. Now <code>products</code> is an array of let us say <code>product</code> objects.\nYou ask <code>products</code> for <code>product</code> attributes. So supposing that you map your object correctly, you would need <code>editForm.get('products').value</code> in <code>html</code>. Form arrays are arrays of <code>FormGroup</code> that they in turn have <code>FormControl</code></p>\n\n<p>Try this: </p>\n\n<pre><code>     this.sale.products.forEach(x =&gt; {\n              (this.editForm.get('products') as FormArray).push(new FormGroup({\n           p_id: x.p_id,\n           p_l: x.p_l // and so on\n         }))\n     })\n</code></pre>\n"}], "owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 49158498, "answer_count": 2, "score": 1, "last_activity_date": 1520505958, "creation_date": 1520433576, "last_edit_date": 1520499785, "question_id": 49154529, "link": "https://stackoverflow.com/questions/49154529/how-to-display-data-from-array-products", "title": "How to display data from array &quot;Products&quot;: [{}]", "body": "<p>How to populate this JSON in my EditForm. I have EditForm, that I want to display my data, my ws get me this JSON. My data outside <code>Products</code> I can display in html, but data inside Products I don't know why not display. What is the problem?</p>\n\n<p>This is my Json</p>\n\n<pre><code>{\n    \"StatusCode\": 0,\n    \"StatusMessage\": \"OK\",\n    \"StatusDescription\": [\n        {\n            \"Products\": [\n                {\n                    \"p_id\": \"11E8218A54B30C89AE8800FF76874A59\",\n                    \"p_pt_id\": \"11E7FC041F467AD4B09D00FF76874A59\",\n                    \"p_l\": 233,\n                    \"p_d\": \"test\",\n                    \"p_q\": 4,\n                    \"p_u_p\": 50,\n                    \"p_s\": 120                  \n                }\n            ],\n            \"sale_item_id\": \"11E8219D916A69F6AE8800FF76874A59\",\n            \"sale_id\": \"11E8218B9BA4F278AE8800FF76874A59\",\n            \"client_id\": \"11E8218A57B28B0AAE8800FF76874A59\",\n            \"sale_date\": \"2018-03-06T22:09:43.000Z\",\n            \"notes\": \"testing\",\n            \"subtotal\": 80,\n            \"total\": 50,\n            \"invoice_number\": \"28282\",\n            \"invoice_date\": \"2018-03-06T21:57:41.000Z\",\n            \"amount_paid\": 32       \n        }\n    ]\n}\n</code></pre>\n\n<p>My ts code.</p>\n\n<pre><code>editForm: FormGroup;    \n\n    this.editForm = this.fb.group({\n\n      'sale_id': new FormControl('', Validators.required),\n      'client_id': new FormControl('', Validators.required),\n      'sale_date': new FormControl('', Validators.required),\n      'notes': new FormControl('', Validators.required),\n      'total': new FormControl('', Validators.required),\n       'p_d': new FormControl('', Validators.required),\n        'p_pt_id': new FormControl('', Validators.required),\n         'p_l': new FormControl('', Validators.required),\n      'products': new FormControl([])\n    });\n\n  populateForm() {\n    this.activatedRoute.params.subscribe(\n      params =&gt; {\n        this.ws.salegetbyid(params['id']).subscribe(\n          sale =&gt; {\n            this.sale = sale;\n            this.editForm.controls['sale_id'].setValue(sale.sale_id);\n            this.editForm.controls['client_id'].setValue(sale.client_id);\n            this.editForm.controls['sale_date'].setValue(sale.sale_date);\n            this.editForm.controls['notes'].setValue(sale.notes);\n            this.editForm.controls['total'].setValue(sale.total);\n              this.editForm.patchValue({\n              p_pt_id: this.sale.products.map(x =&gt; x.p_pt_id),\n              p_l: this.sale.products.map(x =&gt; x.p_l),\n                 p_d: this.sale.products.map(x =&gt; x.p_d)\n            })\n           }\n        );\n\n      }\n    );\n  }\n</code></pre>\n\n<p>And my html code</p>\n\n<pre><code>&lt;form [formGroup]=\"editForm\" (ngSubmit)=\"oneddit()\" class=\"col s12\" materialize&gt;\n\n  &lt;div class=\"contant\"&gt;\n    &lt;div class=\"row\"&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        sale_id:\n        &lt;input formControlName=\"sale_id\" id=\"sale_id\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        client_id:\n        &lt;input formControlName=\"client_id\" id=\"client_id\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        sale_date:\n        &lt;input formControlName=\"sale_date\" id=\"sale_date\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        notes:\n        &lt;input formControlName=\"notes\" id=\"notes\" type=\"text\" class=\"validate\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"input-field col s4\"&gt;\n        total:\n        &lt;input formControlName=\"total\" id=\"total\" type=\"number\" class=\"validate\"&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;br&gt;\n\n  &lt;table align=\"center\" class=\"table table-bordered table-hover\"&gt;\n\n    &lt;thead&gt;\n      &lt;tr style=\"color:black;\"&gt;\n        &lt;th&gt;p_d&lt;/th&gt;\n        &lt;th&gt;p_pt_id&lt;/th&gt;\n        &lt;th&gt;p_l&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      &lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let item of products;\"&gt;\n        &lt;td&gt;{{item.p_d}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_pt_id}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_l}} &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n  &lt;br&gt;\n\n  &lt;div class=\"row\" style=\"float: right;\"&gt;\n    &lt;button id=\"add_client_button\" type=\"submit\" class=\"btn waves-effect waves-light\"&gt;\n      Register\n    &lt;/button&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I change this code, like </p>\n\n<p>ts code:</p>\n\n<pre><code>'products': this.fb.array([])\n\n this.sale.products.forEach(x =&gt; {\n          (this.editForm.get('products') as FormArray).push(new FormControl(x.products))\n        }) \n</code></pre>\n\n<p>and in html:</p>\n\n<pre><code>   &lt;tbody&gt;\n      &lt;tr class=\"group\" style=\"cursor: pointer\" *ngFor=\"let item of editForm.get('products').value; let i = index\"&gt;\n        &lt;td&gt;{{item.p_d}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_pt_id}}&lt;/td&gt;\n        &lt;td&gt;{{item.p_l}} &lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n\n<p>but this change show me this error:\nERROR TypeError: Cannot read property 'item.p_d' of null at Object.eval [as updateRenderer] </p>\n\n<p>Can you help me, what is the problem?</p>\n"}, {"tags": ["typescript", "converter", "angular5", "jspdf"], "answers": [{"tags": [], "owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "is_accepted": true, "score": 1, "last_activity_date": 1520500925, "creation_date": 1520500925, "answer_id": 49169493, "question_id": 49154335, "link": "https://stackoverflow.com/questions/49154335/html-to-pdf-using-jspdf-rtl-support/49169493#49169493", "title": "Html to pdf using jsPDF rtl support", "body": "<p>In my component I used this function:\n<br></p>\n\n<pre><code>htmlToPdf(){\n    const elementToPrint = document.getElementById('content');\n    const pdf = new jsPDF();\n    pdf.addHTML(elementToPrint, () =&gt; {\n        pdf.save('report.pdf');\n    });\n</code></pre>\n\n<p>In my html: I put div tag that warp all...  and with id=\"content\"\ni use the attribute dir=\"rtl\"</p>\n\n<pre><code>&lt;div id=\"content\" dir=\"rtl\"&gt;\n.\n.\n.\n&lt;/div&gt;\n</code></pre>\n\n<p>Don't forget to add this script:</p>\n\n<pre><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1922, "favorite_count": 0, "accepted_answer_id": 49169493, "answer_count": 1, "score": 2, "last_activity_date": 1520500925, "creation_date": 1520432976, "last_edit_date": 1520433945, "question_id": 49154335, "link": "https://stackoverflow.com/questions/49154335/html-to-pdf-using-jspdf-rtl-support", "title": "Html to pdf using jsPDF rtl support", "body": "<p>I am trying to convert html to pdf with jsPDF using angular 5\n<br/>\nHere is my code:\n<br/></p>\n\n<pre><code>import * as jsPDF from \"jspdf\";\n.\n.\n.\nhtmlToPdf(){\nvar doc=new jsPDF();\nvar specialElementHandlers = {\n  '#content' : function(element,render) {return true;}\n};\n\ndoc.fromHTML(document.getElementById('content'), 20,20,{\n           'width':500,\n      'elementHandlers': specialElementHandlers,\n});\n\ndoc.save('Reports.pdf');\n}\n</code></pre>\n\n<p>I am trying to export the pdf with direction right to left without sucsses\n<br/>\nWhen I try this command:</p>\n\n<pre><code>doc.viewerPreferences({Direction: 'R2L'});\n</code></pre>\n\n<p>I got an error: 'property does not exist on type \"jsPdf\" '\n<br/>\nBy the way in my html or css I tried to put direction attribute but it does not help. It still left to right</p>\n"}, {"tags": ["angular", "typescript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 168939, "user_id": 5485167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qWD9t.jpg?s=128&g=1", "display_name": "yurzui", "link": "https://stackoverflow.com/users/5485167/yurzui"}, "is_accepted": true, "score": 1, "last_activity_date": 1520517543, "creation_date": 1520517543, "answer_id": 49174895, "question_id": 49154312, "link": "https://stackoverflow.com/questions/49154312/d3-update-example-in-typescript-scoping-issue/49174895#49174895", "title": "d3 Update Example in Typescript - Scoping Issue?", "body": "<p>I've investigated your code a bit and found two mistakes you made:</p>\n\n<p>1) In the code below you're creating array of nodes that lose touch with <code>a</code>, <code>b</code> and <code>c</code> objects</p>\n\n<pre><code>var a = { id: \"a\" },\n  b = { id: \"b\" },\n  c = { id: \"c\" },\n  links = [];\n\nvar nodes = [{ id: \"a\" }, { id: \"b\" }, { id: \"c\" }];\n</code></pre>\n\n<p>You need to keep the same reference in array to the original objects:</p>\n\n<pre><code>var nodes = [a, b, c];\n</code></pre>\n\n<p>2) You set two wrong delay:</p>\n\n<pre><code>d3.interval(function () {\n  nodes.pop(); // Remove c.\n  links.pop(); // Remove c-a.\n  links.pop(); // Remove b-c.\n  restart();\n}, 4000, d3.now());\n   ^^^^^\n should be 2000 as in original example\n</code></pre>\n\n<p><strong><a href=\"https://stackblitz.com/edit/angular-xfbjq8?file=app/d3-viz.component.ts\" rel=\"nofollow noreferrer\">Forked Stackblitz Example</a></strong></p>\n"}], "owner": {"reputation": 4877, "user_id": 4843137, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mUJRC.png?s=128&g=1", "display_name": "William Hampshire", "link": "https://stackoverflow.com/users/4843137/william-hampshire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 498, "favorite_count": 0, "accepted_answer_id": 49174895, "answer_count": 1, "score": 0, "last_activity_date": 1520517543, "creation_date": 1520432908, "last_edit_date": 1520437217, "question_id": 49154312, "link": "https://stackoverflow.com/questions/49154312/d3-update-example-in-typescript-scoping-issue", "title": "d3 Update Example in Typescript - Scoping Issue?", "body": "<p>I'm having trouble getting <a href=\"https://bl.ocks.org/mbostock/1095795/8f34afdd6d321b71ca6b3a5904e486f3173f1111\" rel=\"nofollow noreferrer\">this bl.ocks example</a> to work in Typescript (with Angular). </p>\n\n<p>My attempt in TypeScript: <a href=\"https://stackblitz.com/edit/angular-rayz4m\" rel=\"nofollow noreferrer\">StackBlitz</a></p>\n\n<p><strong>Does anyone have an idea of what's going on here?</strong> I'm guessing it's something to do with the way the variables are scoped in typescript as I believe I casted everything correctly. Please let me know if you have any advice here.</p>\n\n<p>Bl.ocks example:</p>\n\n<pre><code>var svg = d3.select(\"svg\"),\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\"),\n    color = d3.scaleOrdinal(d3.schemeCategory10);\n\nvar a = {id: \"a\"},\n    b = {id: \"b\"},\n    c = {id: \"c\"},\n    nodes = [a, b, c],\n    links = [];\n\nvar simulation = d3.forceSimulation(nodes)\n    .force(\"charge\", d3.forceManyBody().strength(-1000))\n    .force(\"link\", d3.forceLink(links).distance(200))\n    .force(\"x\", d3.forceX())\n    .force(\"y\", d3.forceY())\n    .alphaTarget(1)\n    .on(\"tick\", ticked);\n\nvar g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\"),\n    link = g.append(\"g\").attr(\"stroke\", \"#000\").attr(\"stroke-width\", 1.5).selectAll(\".link\"),\n    node = g.append(\"g\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 1.5).selectAll(\".node\");\n\nrestart();\n\nd3.timeout(function() {\n  links.push({source: a, target: b}); // Add a-b.\n  links.push({source: b, target: c}); // Add b-c.\n  links.push({source: c, target: a}); // Add c-a.\n  restart();\n}, 1000);\n\nd3.interval(function() {\n  nodes.pop(); // Remove c.\n  links.pop(); // Remove c-a.\n  links.pop(); // Remove b-c.\n  restart();\n}, 2000, d3.now());\n\nd3.interval(function() {\n  nodes.push(c); // Re-add c.\n  links.push({source: b, target: c}); // Re-add b-c.\n  links.push({source: c, target: a}); // Re-add c-a.\n  restart();\n}, 2000, d3.now() + 1000);\n\nfunction restart() {\n\n  // Apply the general update pattern to the nodes.\n  node = node.data(nodes, function(d) { return d.id;});\n  node.exit().remove();\n  node = node.enter().append(\"circle\").attr(\"fill\", function(d) { return color(d.id); }).attr(\"r\", 8).merge(node);\n\n  // Apply the general update pattern to the links.\n  link = link.data(links, function(d) { return d.source.id + \"-\" + d.target.id; });\n  link.exit().remove();\n  link = link.enter().append(\"line\").merge(link);\n\n  // Update and restart the simulation.\n  simulation.nodes(nodes);\n  simulation.force(\"link\").links(links);\n  simulation.alpha(1).restart();\n}\n\nfunction ticked() {\n  node.attr(\"cx\", function(d) { return d.x; })\n      .attr(\"cy\", function(d) { return d.y; })\n\n  link.attr(\"x1\", function(d) { return d.source.x; })\n      .attr(\"y1\", function(d) { return d.source.y; })\n      .attr(\"x2\", function(d) { return d.target.x; })\n      .attr(\"y2\", function(d) { return d.target.y; });\n}\n</code></pre>\n\n<p>My Attempt:</p>\n\n<pre><code>import { Component, Input, OnInit, ElementRef } from '@angular/core';\nimport * as d3 from 'd3';\n\n@Component({\n  selector: 'd3-viz',\n  templateUrl: './d3-viz.html'\n})\nexport class D3Viz {\n\n  private host;\n\n  width: number = 750;\n  height: number = 500;\n\n  constructor(private element: ElementRef) {\n    this.host = d3.select(this.element.nativeElement);\n  }\n\n  ngOnInit() {\n    this.buildViz();\n  }\n\n  buildViz() {\n    let svg = this.host.append('svg')\n      .attr('width', this.width)\n      .attr('height', this.height);\n    let color = d3.scaleOrdinal(d3.schemeCategory10);\n\n    var a = { id: \"a\" },\n      b = { id: \"b\" },\n      c = { id: \"c\" },\n      links = [];\n\n    var nodes = [{ id: \"a\" }, { id: \"b\" }, { id: \"c\" }];\n\n    var simulation = d3.forceSimulation&lt;any&gt;(nodes)\n      .force(\"charge\", d3.forceManyBody().strength(-1000))\n      .force(\"link\", d3.forceLink(links).distance(200))\n      .force(\"x\", d3.forceX())\n      .force(\"y\", d3.forceY())\n      .alphaTarget(1)\n      .on(\"tick\", ticked);\n\n    var g = svg.append(\"g\").attr(\"transform\", \"translate(\" + this.width / 2 + \",\" + this.height / 2 + \")\"),\n      link = g.append(\"g\").attr(\"stroke\", \"#000\").attr(\"stroke-width\", 1.5).selectAll(\".link\"),\n      node = g.append(\"g\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 1.5).selectAll(\".node\");\n\n    restart();\n\n    d3.timeout(function () {\n      links.push({ source: a, target: b }); // Add a-b.\n      links.push({ source: b, target: c }); // Add b-c.\n      links.push({ source: c, target: a }); // Add c-a.\n      restart();\n    }, 2000);\n\n    d3.interval(function () {\n      nodes.pop(); // Remove c.\n      links.pop(); // Remove c-a.\n      links.pop(); // Remove b-c.\n      restart();\n    }, 4000, d3.now());\n\n    d3.interval(function () {\n      nodes.push(c); // Re-add c.\n      links.push({ source: b, target: c }); // Re-add b-c.\n      links.push({ source: c, target: a }); // Re-add c-a.\n      restart();\n    }, 2000, d3.now() + 1000);\n\n    function restart() {\n\n      // Apply the general update pattern to the nodes.\n      node = node.data(nodes, function (d: any) { return d.id; });\n      node.exit().remove();\n      node = node.enter().append(\"circle\").attr(\"fill\", function (d: any) { return color(d.id); }).attr(\"r\", 8).merge(node);\n\n      // Apply the general update pattern to the links.\n      link = link.data(links, function (d) { return d.source.id + \"-\" + d.target.id; });\n      link.exit().remove();\n      link = link.enter().append(\"line\").merge(link);\n\n      // Update and restart the simulation.\n      simulation.nodes(nodes);\n      simulation.force&lt;any&gt;(\"link\").links(links);\n      simulation.alpha(1).restart();\n    }\n\n    function ticked() {\n      node.attr(\"cx\", function (d: any) { return d.x; })\n        .attr(\"cy\", function (d: any) { return d.y; })\n\n      link.attr(\"x1\", function (d: any) { return d.source.x; })\n        .attr(\"y1\", function (d: any) { return d.source.y; })\n        .attr(\"x2\", function (d: any) { return d.target.x; })\n        .attr(\"y2\", function (d: any) { return d.target.y; });\n    }\n  }\n\n}\n</code></pre>\n\n<p><a href=\"https://bl.ocks.org/mbostock/1095795/8f34afdd6d321b71ca6b3a5904e486f3173f1111\" rel=\"nofollow noreferrer\">D3 Forced Layout Example</a></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "observable"], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 4003323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1887147a0a4a604b02da358dd2ecd404?s=128&d=identicon&r=PG&f=1", "display_name": "Jimq", "link": "https://stackoverflow.com/users/4003323/jimq"}, "reply_to_user": {"reputation": 71, "user_id": 6286769, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NStdVvF4oAY/AAAAAAAAAAI/AAAAAAAAAFo/mygzLa_iif4/photo.jpg?sz=128", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6286769/carlos"}, "edited": false, "score": 0, "creation_date": 1520455396, "post_id": 49154184, "comment_id": 85327249, "body": "could you maybe share a plunker ?"}], "tags": [], "owner": {"reputation": 332, "user_id": 4003323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1887147a0a4a604b02da358dd2ecd404?s=128&d=identicon&r=PG&f=1", "display_name": "Jimq", "link": "https://stackoverflow.com/users/4003323/jimq"}, "is_accepted": false, "score": 0, "last_activity_date": 1520432576, "creation_date": 1520432576, "answer_id": 49154184, "question_id": 49154060, "link": "https://stackoverflow.com/questions/49154060/how-can-i-use-operator-forkjoin-of-an-observable-in-angular-4/49154184#49154184", "title": "How Can I use operator forkJoin of an Observable in Angular 4", "body": "<p>Try something like :</p>\n\n<pre><code>let url1 = this.http.get('https://url1');\nlet url2 = this.http.get('http://url2');\n\nforkJoin([url1, url2]).subscribe(results =&gt; {\n  // results[0] is url1 response\n  // results[1] is url2 response\n  this.url1reponse = results[1];\n  this.url2reponse = results[0];\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 9409371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fRQyc.jpg?s=128&g=1", "display_name": "Clarence Lee", "link": "https://stackoverflow.com/users/9409371/clarence-lee"}, "is_accepted": false, "score": 1, "last_activity_date": 1520723025, "creation_date": 1520723025, "answer_id": 49214907, "question_id": 49154060, "link": "https://stackoverflow.com/questions/49154060/how-can-i-use-operator-forkjoin-of-an-observable-in-angular-4/49214907#49214907", "title": "How Can I use operator forkJoin of an Observable in Angular 4", "body": "<p>I think the problem is that <code>.valueChanges()</code> returns a <a href=\"https://medium.com/@benlesh/hot-vs-cold-observables-f8094ed53339\" rel=\"nofollow noreferrer\">\u2018hot\u2019 observable</a>, which will never <code>complete</code>. And from the <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-forkJoin\" rel=\"nofollow noreferrer\">forkjoin docs</a>:</p>\n\n<blockquote>\n  <p>Wait for Observables to complete and then combine last values they\n  emitted.</p>\n</blockquote>\n\n<p>So what you\u2019re looking for is probably <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-combineLatest\" rel=\"nofollow noreferrer\"><code>.combineLatest()</code></a>:</p>\n\n<pre><code>getUsers(): Observable&lt;any&gt; {\n  return Observable.combineLatest(\n    this.afs.collection('users', ref =&gt; ref.where('roles.admin', '==', true)).valueChanges(),\n    this.afs.collection('users', ref =&gt; ref.where('roles.professional', '==', true)).valueChanges()\n  )\n  .map((data: any) =&gt; {\n    console.log(data)\n    return data;\n  });\n}\n</code></pre>\n\n<p>That should log an array of two items representing the two collections whenever either of the collections are updated.</p>\n"}], "owner": {"reputation": 71, "user_id": 6286769, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NStdVvF4oAY/AAAAAAAAAAI/AAAAAAAAAFo/mygzLa_iif4/photo.jpg?sz=128", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6286769/carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1084, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1520723025, "creation_date": 1520432201, "last_edit_date": 1520432684, "question_id": 49154060, "link": "https://stackoverflow.com/questions/49154060/how-can-i-use-operator-forkjoin-of-an-observable-in-angular-4", "title": "How Can I use operator forkJoin of an Observable in Angular 4", "body": "<p>I need to do the following:</p>\n\n<p>Get the users administrators and professionals of the same collection in this case street \"users\", I am working with the latest version of AngularFire, this works this Observables.</p>\n\n<p>How can I make two requests in parallel and the answer be the union of the administrator and professional users.</p>\n\n<p>I tried using the forkJoin operator like this:</p>\n\n<pre><code> getUsers(): Observable&lt;any&gt; {\n  return forkJoin([\n    this.afs.collection('users', ref =&gt; ref.where('roles.admin', '==', true)).valueChanges(),\n    this.afs.collection('users', ref =&gt; ref.where('roles.professional', '==', true)).valueChanges()\n  ])\n  .map((data: any) =&gt; {\n    console.log(data)\n    return data;\n  });\n</code></pre>\n\n<p>}</p>\n\n<p>But doesn't executes, I call the method so:</p>\n\n<pre><code>   this.userSrv.getUsers()\n    .subscribe((res) =&gt; {\n      console.log(res);\n    });\n</code></pre>\n\n<p>These are my imports:</p>\n\n<pre><code>import {Observable} from 'rxjs/Rx';\nimport { forkJoin } from 'rxjs/observable/forkJoin';\nimport 'rxjs/add/operator/map';\n</code></pre>\n\n<p>Is there other way to do this.\nI'd appreciate your help</p>\n"}, {"tags": ["angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 8605, "user_id": 814050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5108da17d6cb05e7ea1ef3f73211a2a7?s=128&d=identicon&r=PG", "display_name": "Husein Roncevic", "link": "https://stackoverflow.com/users/814050/husein-roncevic"}, "edited": false, "score": 0, "creation_date": 1520434354, "post_id": 49153815, "comment_id": 85313985, "body": "It could be that TypeScript cannot figure out the type of <code>filters</code> in your <code>map</code> function. Try specifying the type for <code>filters</code> value."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1520481714, "post_id": 49153815, "comment_id": 85335699, "body": "Your dependencies are out of date and frankly a bunch of this has changed and recent versions of the language and Frameworks"}, {"owner": {"reputation": 3415, "user_id": 1098046, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LULOr.jpg?s=128&g=1", "display_name": "Mackelito", "link": "https://stackoverflow.com/users/1098046/mackelito"}, "edited": false, "score": 0, "creation_date": 1527075120, "post_id": 49153815, "comment_id": 87987273, "body": "Did you ever solve this? I&#39;m having a similar issue"}], "owner": {"reputation": 563, "user_id": 214676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-dS_8mneIj68/AAAAAAAAAAI/AAAAAAAAAHI/6dlm9kNwFFk/photo.jpg?sz=128", "display_name": "Andrew Cooper", "link": "https://stackoverflow.com/users/214676/andrew-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520431982, "creation_date": 1520431425, "last_edit_date": 1520431982, "question_id": 49153815, "link": "https://stackoverflow.com/questions/49153815/angular-and-rxjs-getting-not-assignable-to-methods-this-of-type-observable", "title": "Angular and Rxjs: getting not assignable to method&#39;s &#39;this&#39; of type &#39;Observable&lt;{}&gt;&#39; error", "body": "<p>I have the following function in an angular component.</p>\n\n<pre><code>getPreviewFilterColumns(): Observable&lt;string[]&gt; {\n    return this.userFiltersBehaviorSubject.asObservable()\n               .pipe(\n                   map(filters =&gt; this.flattenFilterColumns([], filters.rules))\n               );\n}\n</code></pre>\n\n<p>When building the project I get the following error.</p>\n\n<blockquote>\n  <p>src/app/services/row-filter.service.ts(248,24): error TS2684: The\n  'this' context of type 'void' is not assignable to method's 'this' of\n  type 'Observable&lt;{}>'.</p>\n</blockquote>\n\n<p>Line 248 is the line with the map() function. </p>\n\n<p>The types and declarations of the variables and functions being used are as follows.</p>\n\n<pre><code>private userFiltersBehaviorSubject = new BehaviorSubject&lt;FilterGroup&gt;(_.cloneDeep(DEFAULT_FILTER_GROUP));\n\nprivate flattenFilterColumns(array: string[], rules: any): string[] {\n    for (const rule of rules) {\n        if (_.has(rule, 'rules')) {\n            this.flattenFilterColumns(array, rule);\n        } else {\n            array.push(rule.field);\n        }\n    }\n    return array;\n}\n</code></pre>\n\n<p>My package.json file shows I am using the following.</p>\n\n<pre><code>\"rxjs\": \"5.5.2\",\n\"@angular/cli\": \"^1.5.0\",\n\"@angular/common\": \"5.0.0\",\n\"@angular/compiler\": \"5.0.0\",\n\"@angular/compiler-cli\": \"5.0.0\",\n\"@angular/core\": \"5.0.0\",\n\"@angular/forms\": \"5.0.0\",\n\"@angular/http\": \"5.0.0\",\n\"@angular/platform-browser\": \"5.0.0\",\n\"@angular/platform-browser-dynamic\": \"5.0.0\",\n\"@angular/router\": \"5.0.0\",\n</code></pre>\n\n<p>I'm really banging my head against the wall trying to track this bug down. It looks like it should work to me. What am I missing?</p>\n"}, {"tags": ["typescript", "office-js", "word-addins"], "answers": [{"comments": [{"owner": {"reputation": 945, "user_id": 4602441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/122a113afb9b3f018b80e47e63d1fa4d?s=128&d=identicon&r=PG&f=1", "display_name": "Fluous", "link": "https://stackoverflow.com/users/4602441/fluous"}, "edited": false, "score": 0, "creation_date": 1520584952, "post_id": 49173612, "comment_id": 85384535, "body": "Unfortunately, I am not working with Word Online. However I have found the issue, when a content control is added to the header of a document, this document cannot be opened with the <code>context.application.createDocument</code> method."}, {"owner": {"reputation": 229, "user_id": 5868728, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07737691ccebebd293858b2c955bdadc?s=128&d=identicon&r=PG&f=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/5868728/christian"}, "edited": false, "score": 0, "creation_date": 1520854344, "post_id": 49173612, "comment_id": 85471383, "body": "We experience it also. The Word version seems to be related. In the Monthly channel, the createDocument method works, but in the Insider versions (1803, 1804) the createDocument method throws an General Exception"}], "tags": [], "owner": {"reputation": 226, "user_id": 7817811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0abe5f37d9bc85f127b13cb74892c72?s=128&d=identicon&r=PG&f=1", "display_name": "MSFT-Jipyua", "link": "https://stackoverflow.com/users/7817811/msft-jipyua"}, "is_accepted": false, "score": 1, "last_activity_date": 1520513629, "creation_date": 1520513629, "answer_id": 49173612, "question_id": 49153658, "link": "https://stackoverflow.com/questions/49153658/generalexception-when-context-application-createdocument-is-called-in-word-javas/49173612#49173612", "title": "GeneralException when context.application.createDocument is called in Word Javascript API", "body": "<p>If you are working on word online then please check whether your base64 is large than 4M. Currently base64 larger than 4M will fail with GeneralException. We are working on improve the limitation actively.</p>\n"}], "owner": {"reputation": 945, "user_id": 4602441, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/122a113afb9b3f018b80e47e63d1fa4d?s=128&d=identicon&r=PG&f=1", "display_name": "Fluous", "link": "https://stackoverflow.com/users/4602441/fluous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520844306, "creation_date": 1520430951, "last_edit_date": 1520844306, "question_id": 49153658, "link": "https://stackoverflow.com/questions/49153658/generalexception-when-context-application-createdocument-is-called-in-word-javas", "title": "GeneralException when context.application.createDocument is called in Word Javascript API", "body": "<p><strong>The Context</strong></p>\n\n<p>Currently I am developing a Word add-in that uses the new Javascript API's for Office. The add-in consists of some basic functionalities and a number templates. One of the wishes from the client is to open the templates from the ribbon. Currently I have a command add-in dropdown, where each dropdown menu item refers to a function in the functions file of the add-in. These functions in turn call some Word Javascript API methods, that read and open a base64 string from a .docx file.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>Simple files are opened without any problems, however more complicated files that contain images, content controls, etc fail. The more complicated files raise a 'GeneralException'. The author of <a href=\"https://github.com/OfficeDev/office-js-docs/issues/1266\" rel=\"nofollow noreferrer\">this issue</a> states that it has to do with images that are contained within the document. However this does not align with my personal experience. Images can be added, and the document is still opened. So I assume some other part of the document might trigger problems, however I am not sure!</p>\n\n<p>Therefore I was wondering whether someone is able to shed some more light on this problem.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>            Word.run(function(context) {\n                let letterTemplate = context.application.createDocument(&lt;base64string&gt;);\n                letterTemplate.open();\n\n                return context.sync().then(function () {\n                    console.log(\"success\");\n                })\n                .catch(function (error) {\n                    console.log(error);\n                })\n            });\n</code></pre>\n\n<p>Any help, tips or advice are welcome.</p>\n\n<p><strong>EDIT: Problem Identified</strong></p>\n\n<p>After some experimentation, I concluded the following. Whenever a (in this case rich text) content control is added to the header in a document, it cannot be opened with the method <code>context.application.createDocument</code>. Trying to do this will result in a 'GeneralException', which does give any specific information. My suspicion is that this is a bug in the Office Javascript API.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 91128, "user_id": 1229023, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/75b840909603c238921a81032efd57eb?s=128&d=identicon&r=PG", "display_name": "raina77ow", "link": "https://stackoverflow.com/users/1229023/raina77ow"}, "edited": false, "score": 2, "creation_date": 1520430499, "post_id": 49153356, "comment_id": 85311365, "body": "There&#39;s no builtin <code>replace</code> pipe in Angular."}, {"owner": {"reputation": 375, "user_id": 7092982, "user_type": "registered", "profile_image": "https://graph.facebook.com/1334345786589962/picture?type=large", "display_name": "Sebastian Straburzy\u0144ski", "link": "https://stackoverflow.com/users/7092982/sebastian-straburzy%c5%84ski"}, "edited": false, "score": 1, "creation_date": 1520430535, "post_id": 49153356, "comment_id": 85311386, "body": "I&#39;m pretty sure that there is no build in pipe named &quot;replace&quot;. Here is official documentation <a href=\"https://angular.io/api?type=pipe\" rel=\"nofollow noreferrer\">angular.io/api?type=pipe</a> You have to build your own custom pipe."}, {"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1520432489, "post_id": 49153356, "comment_id": 85312741, "body": "why did you unmark answer"}], "answers": [{"comments": [{"owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "edited": false, "score": 0, "creation_date": 1520431628, "post_id": 49153523, "comment_id": 85312138, "body": "@AluanHaddadThat was a sample, now i modified"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1520431652, "post_id": 49153523, "comment_id": 85312160, "body": "And now it doesn&#39;t do anything useful."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1520431792, "post_id": 49153523, "comment_id": 85312264, "body": "Try <code>return Object.entries(replacements).reduce(result, [key, value]) =&gt; result.replace(&quot;{{&quot; + key + &quot;}}&quot;, value), value);</code>"}], "tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 0, "last_activity_date": 1520435061, "last_edit_date": 1520435061, "creation_date": 1520430569, "answer_id": 49153523, "question_id": 49153356, "link": "https://stackoverflow.com/questions/49153356/angular-replace-pipe-operator-is-not-working/49153523#49153523", "title": "Angular replace pipe operator is not working", "body": "<p>You need to create a custom pipe named replace since Angular does not have a pipe in build</p>\n\n<pre><code>import {Pipe} from \"@angular/core\";\n\n@Pipe({name: \"replace\"}) export default class {\n  transform(value: string, replacements: {[key: string]: {}}): string {\n    return Object\n      .entries(replacements)\n      .reduce((result, [key, value]) =&gt; result.replace(\"{{\" + key + \"}}\", value), value);\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 6149121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed36493658a1bfed13bbfd8e813f38b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh", "link": "https://stackoverflow.com/users/6149121/ramesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 49153523, "answer_count": 1, "score": -3, "last_activity_date": 1520435061, "creation_date": 1520430061, "last_edit_date": 1520430744, "question_id": 49153356, "link": "https://stackoverflow.com/questions/49153356/angular-replace-pipe-operator-is-not-working", "title": "Angular replace pipe operator is not working", "body": "<p>I am using replace operator in angular but i am getting below error, can anyone please let me know what was the issue.</p>\n\n<p><a href=\"https://stackblitz.com/edit/angular-idantm?file=app%2Fhello.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-idantm?file=app%2Fhello.component.ts</a></p>\n"}, {"tags": ["html", "angular", "typescript", "angular4-forms"], "comments": [{"owner": {"reputation": 1804, "user_id": 6528560, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/10154210313253162/picture?type=large", "display_name": "Alexander Poshtaruk", "link": "https://stackoverflow.com/users/6528560/alexander-poshtaruk"}, "edited": false, "score": 0, "creation_date": 1520490594, "post_id": 49153098, "comment_id": 85338658, "body": "I assume this package can help: <a href=\"https://www.npmjs.com/package/ngx-dynamic-template\" rel=\"nofollow noreferrer\">npmjs.com/package/ngx-dynamic-template</a>"}], "owner": {"reputation": 119, "user_id": 4692982, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5d3ed3520bd017039f495a11f4bf1e2a?s=128&d=identicon&r=PG&f=1", "display_name": "Archana Ramachandran", "link": "https://stackoverflow.com/users/4692982/archana-ramachandran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 506, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1520484155, "creation_date": 1520429169, "last_edit_date": 1520484155, "question_id": 49153098, "link": "https://stackoverflow.com/questions/49153098/angular-4-how-to-use-ngtemplateoutlet-to-load-multiple-html-pages-conditiona", "title": "Angular 4 - how to use [ngTemplateOutlet] to load multiple html pages conditionally within the same component", "body": "<p>In Angular 4, using [ngTemplateOutlet] I am able to refer to  different html templetes() defined inside the same HTML page using its id. But how do I load an externally defined HTML page conditionally within the one component's html.Code snippet Below:\nmain.component.html</p>\n\n<pre><code>&lt;div *ngIf=\"page == 'test'\"&gt;\n&lt;ng-template [ngTemplateOutlet]=\"test\"&gt;&lt;/ng-template&gt;\n&lt;/div&gt;\n&lt;ng-template #test&gt;\n&lt;b&gt;test template&lt;/b&gt;\n&lt;/ng-template&gt; \n</code></pre>\n\n<p>Component code snipper:\nmain.component.ts</p>\n\n<pre><code>if(this.router.url == \"/test\"){\nthis.page = \"test\";\n}\n</code></pre>\n\n<p>Above Code works, but I'm looking for is when I have my 'test' template as an external html file(test.html), how do I refer test.html  in main.component.html, as I need to refer to couple of such html pages inside main.component.html conditionally. I do not want to have them as separate components(as suggested in many Docs) as I need only html and the logic remains same for all in my main.component.ts. I just need to load different views in the same main.component</p>\n\n<p>test.html </p>\n\n<pre><code>&lt;ng-template&gt;\n    &lt;b&gt;test template&lt;/b&gt;\n&lt;/ng-template&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["typescript", "overriding", "typescript-typings"], "answers": [{"tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1520430531, "creation_date": 1520430531, "answer_id": 49153507, "question_id": 49152667, "link": "https://stackoverflow.com/questions/49152667/in-typescript-how-do-i-overried-index-d-ts-provided-with-a-3rd-party-lib-with-m/49153507#49153507", "title": "In Typescript, how do I overried index.d.ts provided with a 3rd party lib with my own?", "body": "<p>You can use the <code>paths</code> option in in <code>tsconfig</code> to map any module to a custom definition file:</p>\n\n<pre><code>{\n    \"compilerOptions\" : {\n        ..\n        \"baseUrl\": \".\",\n        \"paths\": {\n            \"some_module\": [\"custom.d.ts\"]\n        }\n    },\n}\n</code></pre>\n\n<p>This feature is usually used with wild cards to map custom paths but it can be used for specific modules as well. You can read more <a href=\"https://stackoverflow.com/questions/34925992/how-to-avoid-imports-with-very-long-relative-paths-in-angular-2\">here</a>. </p>\n"}], "owner": {"reputation": 2631, "user_id": 882936, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e060c12066707b5d2844dc15cbc20366?s=128&d=identicon&r=PG", "display_name": "Ivan Koshelev", "link": "https://stackoverflow.com/users/882936/ivan-koshelev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 0, "accepted_answer_id": 49153507, "answer_count": 1, "score": 1, "last_activity_date": 1520430531, "creation_date": 1520427798, "question_id": 49152667, "link": "https://stackoverflow.com/questions/49152667/in-typescript-how-do-i-overried-index-d-ts-provided-with-a-3rd-party-lib-with-m", "title": "In Typescript, how do I overried index.d.ts provided with a 3rd party lib with my own?", "body": "<p>I'm using a 3rd party Javascript library that comes with an index.d.ts file. However, that file is not compatible with my version of TS. I've made a fix that works for me and submitted it to the library creator. In the meanwhile, I'd like to use this fix. I need to commit it to VCS for my entire team to use. <code>node_modules</code> folder is not committed to VCS, its content is installed on checkout, so I can't just overwrite / get rid of the file provided by 3rd party.  </p>\n\n<p>Where do I put my custom .d.ts file and how do I tell typescript to use it over supplied one? </p>\n"}, {"tags": ["css", "angularjs", "typescript", "ionic-framework", "ionic2"], "comments": [{"owner": {"reputation": 307, "user_id": 9262048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/00251845283f16a63ef0eaf2273d4046?s=128&d=identicon&r=PG&f=1", "display_name": "Jennica", "link": "https://stackoverflow.com/users/9262048/jennica"}, "edited": false, "score": 0, "creation_date": 1520429065, "post_id": 49152571, "comment_id": 85310400, "body": "is it possible to half the icon star?"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 9262048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/00251845283f16a63ef0eaf2273d4046?s=128&d=identicon&r=PG&f=1", "display_name": "Jennica", "link": "https://stackoverflow.com/users/9262048/jennica"}, "edited": false, "score": 0, "creation_date": 1520433541, "post_id": 49153273, "comment_id": 85313443, "body": "can you help me how to use bootstrap?"}], "tags": [], "owner": {"reputation": 481, "user_id": 9227839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b308e15c43907ad338591ee7b62dc015?s=128&d=identicon&r=PG&f=1", "display_name": "Santosh Singh", "link": "https://stackoverflow.com/users/9227839/santosh-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1520429787, "creation_date": 1520429787, "answer_id": 49153273, "question_id": 49152571, "link": "https://stackoverflow.com/questions/49152571/implementing-half-stars-in-ionic/49153273#49153273", "title": "Implementing half stars in ionic", "body": "<p>If you have some time use this library \n<a href=\"https://github.com/fraserxu/ionic-rating\" rel=\"nofollow noreferrer\">https://github.com/fraserxu/ionic-rating</a></p>\n\n<p>or else you may use bootstrap.\nImplementing the technique will increase code complexity and not considered as good practice.</p>\n"}, {"tags": [], "owner": {"reputation": 705, "user_id": 7377510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLL5f.png?s=128&g=1", "display_name": "Jaydeep Kataria", "link": "https://stackoverflow.com/users/7377510/jaydeep-kataria"}, "is_accepted": false, "score": 1, "last_activity_date": 1520432207, "last_edit_date": 1520432207, "creation_date": 1520430080, "answer_id": 49153362, "question_id": 49152571, "link": "https://stackoverflow.com/questions/49152571/implementing-half-stars-in-ionic/49153362#49153362", "title": "Implementing half stars in ionic", "body": "<p>Please look at this library <a href=\"https://www.npmjs.com/package/ionic2-rating\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ionic2-rating</a></p>\n\n<p>Installation: </p>\n\n<p><code>npm install --save ionic2-rating</code></p>\n\n<p>Usage:</p>\n\n<pre><code>&lt;rating\n [(ngModel)]=\"0.5\"\n readOnly=\"true\"\n max=\"5\"\n emptyStarIconName=\"star-outline\"\n halfStarIconName=\"star-half\"\n starIconName=\"star\"\n nullable=\"false\"&gt;\n&lt;/rating&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 11087998, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Z4YhqjFvqU/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMaNUZyJ1l_zq7oz-xYjeKSRyzAVg/mo/photo.jpg?sz=128", "display_name": "Priya Kumari", "link": "https://stackoverflow.com/users/11087998/priya-kumari"}, "is_accepted": false, "score": 0, "last_activity_date": 1555651966, "last_edit_date": 1555651966, "creation_date": 1555650835, "answer_id": 55756913, "question_id": 49152571, "link": "https://stackoverflow.com/questions/49152571/implementing-half-stars-in-ionic/55756913#55756913", "title": "Implementing half stars in ionic", "body": "<p><a href=\"https://www.npmjs.com/package/ionic2-rating\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ionic2-rating</a></p>\n\n<pre><code>npm install --save ionic2-rating\n</code></pre>\n\n<p>work for me too to include half rating as well.<br>\nCSS customisation is there too.</p>\n"}], "owner": {"reputation": 307, "user_id": 9262048, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/00251845283f16a63ef0eaf2273d4046?s=128&d=identicon&r=PG&f=1", "display_name": "Jennica", "link": "https://stackoverflow.com/users/9262048/jennica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1555651966, "creation_date": 1520427511, "question_id": 49152571, "link": "https://stackoverflow.com/questions/49152571/implementing-half-stars-in-ionic", "title": "Implementing half stars in ionic", "body": "<p>So basically, i have a ionic mobile application that has a rating module. but, I'm having a hard time as to how to implement half stars when i get an average that is not a whole number. so what i did i round it off. and display the ionic icon star. these are my codes, </p>\n\n<pre><code>     &lt;span *ngIf=\"item.rating\" class=\"review\"&gt;     \n      {{item.rating}}\n      &lt;ion-icon name=\"star\" *ngIf=\"Round(item.rating) &gt; 0\"&gt;&lt;/ion-icon&gt;\n      &lt;ion-icon name=\"star\" *ngIf=\"Round(item.rating) &gt; 1\"&gt;&lt;/ion-icon&gt;\n      &lt;ion-icon name=\"star\" *ngIf=\"Round(item.rating) &gt; 2\"&gt;&lt;/ion-icon&gt;\n      &lt;ion-icon name=\"star\" *ngIf=\"Round(item.rating) &gt; 3\"&gt;&lt;/ion-icon&gt;\n      &lt;ion-icon name=\"star\" *ngIf=\"Round(item.rating) &gt; 4\"&gt;&lt;/ion-icon&gt;\n    &lt;/span&gt;\n</code></pre>\n\n<p>i wanted to get rid of the round off and display half stars how do i do it?</p>\n"}, {"tags": ["reactjs", "typescript", "events"], "answers": [{"comments": [{"owner": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520427135, "post_id": 49152364, "comment_id": 85309021, "body": "The update() method is giving the same error despite using e.currentTarget."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520427362, "post_id": 49152364, "comment_id": 85309192, "body": "I&#39;m compiling it with <code>typescript@2.7.2</code> and <code>@types&#47;react@16.0.40</code> and it compiles just fine when I make the fix in my answer.  Maybe you have something weird in your environment.  Create a new directory, and install things there from fresh, then make sure you compile it from there: <code>.&#47;node_modules&#47;.bin&#47;tsc ...</code> and see if there&#39;s a change."}, {"owner": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520427834, "post_id": 49152364, "comment_id": 85309556, "body": "Same issue in a fresh directory with InputForm.tsx as the only file, running the command <code>&#47;node_modules&#47;.bin&#47;tsc InputForm.tsx --jsx react</code> with the same version numbers as above."}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520428175, "post_id": 49152364, "comment_id": 85309811, "body": "I don&#39;t know what to tell you. Your code compiles just fine for me, with the same versions for ts and the react types.  It must be something in your environment that is messed up, but I don&#39;t know what."}, {"owner": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520429158, "post_id": 49152364, "comment_id": 85310460, "body": "Not sure if I&#39;m misunderstanding but when I open up the type definitions (@Types/react/global.d.ts) the interface for EventTarget is an empty object.  If I was amend this to an interface where value is expected as string the error goes away.  Am I importing the type definitions incorrectly?"}, {"owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "reply_to_user": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "edited": false, "score": 0, "creation_date": 1520430680, "post_id": 49152364, "comment_id": 85311495, "body": "<code>EventTarget</code> isn&#39;t what you need, notice that the <code>currentTarget</code> property is of type <code>EventTarget &amp; T</code>.  In your case, <code>T</code> is <code>HTMLFormElement</code> which has the property <code>value</code>."}], "tags": [], "owner": {"reputation": 118994, "user_id": 942852, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/secsn.jpg?s=128&g=1", "display_name": "Nitzan Tomer", "link": "https://stackoverflow.com/users/942852/nitzan-tomer"}, "is_accepted": false, "score": 12, "last_activity_date": 1520426879, "creation_date": 1520426879, "answer_id": 49152364, "question_id": 49152226, "link": "https://stackoverflow.com/questions/49152226/property-value-does-not-exist-on-eventtarget-in-typescript/49152364#49152364", "title": "Property &#39;value&#39; does not exist on &#39;EventTarget&#39; in TypeScript", "body": "<p>The problem is that you're using <code>e.target.value</code> instead of <code>e.currentTarget.value</code>.</p>\n\n<p>As you can see in the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts\" rel=\"noreferrer\">definition file</a>:</p>\n\n<pre><code>interface SyntheticEvent&lt;T&gt; {\n    ...\n    currentTarget: EventTarget &amp; T;\n    ...\n    target: EventTarget;\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2264, "user_id": 1213041, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MZL5c.jpg?s=128&g=1", "display_name": "cdosborn", "link": "https://stackoverflow.com/users/1213041/cdosborn"}, "is_accepted": false, "score": 3, "last_activity_date": 1588108424, "creation_date": 1588108424, "answer_id": 61490090, "question_id": 49152226, "link": "https://stackoverflow.com/questions/49152226/property-value-does-not-exist-on-eventtarget-in-typescript/61490090#61490090", "title": "Property &#39;value&#39; does not exist on &#39;EventTarget&#39; in TypeScript", "body": "<p>To elaborate a bit on Nitzan Tomer's answer...</p>\n\n<p>You <em>used</em> to be able to use <code>e.target.value</code> in this way where target would be generic, in this case: <code>HTMLInputElement</code>. The code was reverted to make <code>e.currentTarget</code> generic and make <code>e.target</code> not generic (hard-coded to EventTarget). EventTarget doesn't have a value attribute.</p>\n\n<p>The reason lies in the difference between <code>currentTarget</code> and <code>target</code>. When you refer to <code>target</code>, you refer to the element which triggered the event. If you have a button, with some icon in it. If the icon is directly clicked, then it would be the target. At compile time, you cannot know what element type will trigger the click, but you can know which element the eventListener is registered on. Thus <code>currentTarget</code> is generic. </p>\n\n<p>Further, <code>target</code> is rarely what you want. You typically want the element, where you attached the eventListener.</p>\n\n<p>The <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/11508#issuecomment-256045682\" rel=\"nofollow noreferrer\">Github comment</a> providing the above rationale.<br/>\nThe <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/12239\" rel=\"nofollow noreferrer\">Github PR</a> where target was made /not/ generic.</p>\n"}], "owner": {"reputation": 3183, "user_id": 1902408, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/80b3366849763e7d8f5d42e83663dbbc?s=128&d=identicon&r=PG", "display_name": "tomhughes", "link": "https://stackoverflow.com/users/1902408/tomhughes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7994, "favorite_count": 1, "answer_count": 2, "score": 11, "last_activity_date": 1588108424, "creation_date": 1520426444, "last_edit_date": 1520430747, "question_id": 49152226, "link": "https://stackoverflow.com/questions/49152226/property-value-does-not-exist-on-eventtarget-in-typescript", "title": "Property &#39;value&#39; does not exist on &#39;EventTarget&#39; in TypeScript", "body": "<p>The following code in TypeScript with React is outputting the following error.</p>\n\n<blockquote>\n  <p>Property 'value' does not exist on type 'EventTarget'.</p>\n</blockquote>\n\n<pre><code>import React, { Component } from 'react';\n\nclass InputForm extends React.Component&lt;any ,any&gt; {\n  state = {\n    userInput: ''\n  };\n\n  handleUserInput = (e: React.FormEvent&lt;HTMLInputElement&gt;): void =&gt; {\n    this.setState({\n      userInput: e.target.value\n    });\n  }\n\n  // Working code from 42081549\n  // Not relevant to this project\n  update = (e: React.FormEvent&lt;HTMLInputElement&gt;): void =&gt; {\n    this.props.login[e.currentTarget.name] = e.currentTarget.value\n  }\n\n  submitMessage = (e: React.FormEvent&lt;HTMLFormElement&gt;): void =&gt; {\n    e.preventDefault();\n    this.props.sendUserMessage(this.state.userInput)\n  }\n\n  render() {\n    return (\n      &lt;form className=\"chat-input-form\" onSubmit={this.submitMessage}&gt;\n        &lt;input value={this.state.userInput} onChange={this.handleUserInput}/&gt;\n        &lt;button type=\"submit\" /&gt;\n      &lt;/form&gt;\n    );\n  }\n\n}\n\nexport default InputForm;\n</code></pre>\n\n<p>I am currently using:</p>\n\n<ul>\n<li><p>\"@types/react\": \"^16.0.40\",</p></li>\n<li><p>\"react\": \"^16.2.0\",</p></li>\n<li><p>\"typescript\": \"^2.7.2\",</p></li>\n</ul>\n\n<p>This could be considered a follow-up to <a href=\"https://stackoverflow.com/questions/42081549/typescript-react-event-types/42085792\">Typescript: React event types</a> however it is not a duplicate as working code provided in by <a href=\"https://stackoverflow.com/users/942852/nitzan-tomer\">Nitzan Tomer</a> in <a href=\"https://stackoverflow.com/a/42085792/1902408\">this answer</a> is currently not working in my specific use case.</p>\n\n<p><strong>EDIT</strong> As mentioned above, NOT a duplicate of <a href=\"https://stackoverflow.com/questions/42081549/typescript-react-event-types\">Typescript: React event types</a>, the solution provided in that question is not working in this case, and therefore could be a different cause.</p>\n\n<p>My tsconfig.json file is as follows:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",                          \n    \"module\": \"commonjs\", \n    \"lib\": [\"esnext\", \"dom\"],\n    \"jsx\": \"react\",                           \n    \"sourceMap\": true,                        \n    \"outDir\": \"./dist/\",                      \n    \"strict\": true,                        \n    \"noImplicitAny\": true,                   \n    \"esModuleInterop\": true                 \n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "leaflet", "angular-leaflet-directive"], "comments": [{"owner": {"reputation": 717, "user_id": 2179893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7aAqJ.jpg?s=128&g=1", "display_name": "Jon Glazer", "link": "https://stackoverflow.com/users/2179893/jon-glazer"}, "edited": false, "score": 0, "creation_date": 1520426376, "post_id": 49152005, "comment_id": 85308511, "body": "This becomes much more difficult as the &#39;resolution&#39; of the image gets larger.   Because of the curvature of the earth, latitude and longitude is not linear (as your image would be).  This is dealt with using the haversine formula.  Not sure if this helps or not but look that formula up.  It may help you find an answer."}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "reply_to_user": {"reputation": 717, "user_id": 2179893, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/7aAqJ.jpg?s=128&g=1", "display_name": "Jon Glazer", "link": "https://stackoverflow.com/users/2179893/jon-glazer"}, "edited": false, "score": 0, "creation_date": 1520426918, "post_id": 49152005, "comment_id": 85308880, "body": "the source image is meant to be very small ( to represent only tens of metres at max), so the resolution of the image should always remain the same. to make it easier, i would only need the exact position at zoom level 25-30 as per generic google maps/leaflet zoom mesaures."}], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520430980, "post_id": 49153175, "comment_id": 85311670, "body": "what is xPixelCoordinate meant to represent? is it meant to be a leaftlet Point? i&#39;m trying to figure where the scaleBy comes from. pretty awesome answer btw."}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520434110, "post_id": 49153175, "comment_id": 85313835, "body": "i&#39;ve managed to output the result, but it doesn&#39;t seem to fit the image. even position 1,1 seems out of the line. maybe i should also skew the resulting coordinates?"}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520434747, "post_id": 49153175, "comment_id": 85314276, "body": "right. as my image is rotated, the coordinates are being calculated from the correct point, the top left corner of the image, but they are transformed  in pure vertical or horizontal axis, not related to the image&#39;s axis."}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520435376, "post_id": 49153175, "comment_id": 85314774, "body": "so if i want to put a marker  on the pixel 601x, 359y of the image,  it should scale from the original resolution to the displayed, and then do the calculations on the basis that the X and Y angles are &quot;skewed&quot; in an angle, and are not pure vertical and horiziontal, right?"}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520435704, "post_id": 49153175, "comment_id": 85315051, "body": "right now what i get is this: <a href=\"https://i.imgur.com/Y963K5V.png\" rel=\"nofollow noreferrer\">i.imgur.com/Y963K5V.png</a>   the little red dot is where pixel 601, 359 should be, the marker is the result of the calculations."}, {"owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "edited": false, "score": 0, "creation_date": 1520509818, "post_id": 49153175, "comment_id": 85349641, "body": "after some testing i finally managed to do it by  manually  skewing the finalCoordinateForImagePixelInLatLong by the original skew of the image minus 8&#186; ( there is some weird constant -8&#186;/8&#186; (depends on orientation) difference between sweking the image and skewing a lat_long). thank you very much for your insights."}], "tags": [], "owner": {"reputation": 15533, "user_id": 4768502, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5bf027c5077bbd2dfd829313d2a3f738?s=128&d=identicon&r=PG", "display_name": "IvanSanchez", "link": "https://stackoverflow.com/users/4768502/ivansanchez"}, "is_accepted": true, "score": 5, "last_activity_date": 1520429394, "creation_date": 1520429394, "answer_id": 49153175, "question_id": 49152005, "link": "https://stackoverflow.com/questions/49152005/transform-x-and-y-coordinates-inside-a-rotated-imageoverlay-to-latitude-and-lo/49153175#49153175", "title": "Transform X and Y coordinates inside a (rotated) ImageOverlay to latitude and longitude", "body": "<p>Oh, you're talking about my very own <a href=\"https://github.com/IvanSanchez/Leaflet.ImageOverlay.Rotated\" rel=\"noreferrer\">Leaflet.ImageOverlay.Rotated</a>. I'll be happy to oblige.</p>\n\n<p>You should have a look at its <a href=\"https://github.com/IvanSanchez/Leaflet.ImageOverlay.Rotated/blob/42d5bb16c7952141530ab2ddd85d1e6902b95506/Leaflet.ImageOverlay.Rotated.js#L109\" rel=\"noreferrer\">source code</a>. All the maths are there. Let's go over some bits of that code:</p>\n\n<pre><code>    var pxTopLeft    = this._map.latLngToLayerPoint(this._topLeft);\n    var pxTopRight   = this._map.latLngToLayerPoint(this._topRight);\n    var pxBottomLeft = this._map.latLngToLayerPoint(this._bottomLeft);\n</code></pre>\n\n<p>This is converting the three lat-long coordinates into <em>screen-relative pixel coordinates</em>. The <a href=\"http://leafletjs.com/examples/extending/extending-2-layers.html\" rel=\"noreferrer\">Leaflet tutorial about creating subclasses of <code>L.Layer</code></a> has a good explanation of what \"layer point\" means.</p>\n\n<p>You can replace these calculations to any other reprojections you want, <em>assuming that you're working in a plane and not on a geoid</em>. In other words: you might want to transform your lat-long coordinates into EPSG:3857 spherical mercator coordinates (which is the display projection Leaflet uses). If you do so, you can later convert an interpolated EPSG:3857 coordinate into a EPSG:4326 \"plain latitude-longitude\" coordinate.</p>\n\n<pre><code>    // Calculate the skew angles, both in X and Y\n    var vectorX = pxTopRight.subtract(pxTopLeft);\n    var vectorY = pxBottomLeft.subtract(pxTopLeft);\n</code></pre>\n\n<p>The CSS transforms need the skew angles to distort the image properly. It is  perhaps counter-intuitive, but <code>ImageOverlay.Rotated</code> uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\" rel=\"noreferrer\">CSS's <code>skew()</code></a> rather than <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate\" rel=\"noreferrer\"><code>rotate</code></a>. But you don't need the skew angles, you just need those differential vectors.</p>\n\n<p>If you want to visualize that, <code>vectorX</code> is a 2D vector that goes along the top side of your image (from left to right), and <code>vectorY</code> is a 2D vector that goes along the left side (from top to bottom).</p>\n\n<p>Those vectors allow you to get the screen coordinate of any point in the image, assuming an input in the range of ([0..1], [0..1]) (with 0 being the top or left of the image, and 1 being the bottom or the right). But you probably don't want to work in numbers relative to the height/width of the image, because in your question you mention pixels. So let's grab pixels.</p>\n\n<pre><code>    var imgW = this._rawImage.width;\n    var imgH = this._rawImage.height;\n</code></pre>\n\n<p>Good. We have extracted from <code>ImageOverlay.Rotated</code> all the bits of math required.</p>\n\n<hr>\n\n<p>Now, if you divide the previous vectors by the image dimensions in pixels...</p>\n\n<pre><code>    var vectorXperPx = vectorX.divideBy(imgW);\n    var vectorYperPx = vectorY.divideBy(imgW);\n</code></pre>\n\n<p>These vectors go from one pixel of your original image to a pixel either on its left (x) or underneath (y). So given a pixel (x,y) of the original image,  the projected vector relative to the image corner will be:</p>\n\n<pre><code>    var deltaVector = \n               xPixelCoordinate.scaleBy(vectorXPerPx)\n          .add(yPixelCoordinate.scaleBy(vectorYPerPx))\n</code></pre>\n\n<p>That's the vector, in screen coordinates, from the top-left corner of your image to the (xPixelCoordinate, yPixelCoordinate) pixel of your image.</p>\n\n<p>Now add the screen coordinate of the top-left corner of the image, and you're set:</p>\n\n<pre><code>    var finalCoordinateForImagePixel = pxTopLeft.add(deltaVector);\n</code></pre>\n\n<p>As we used <code>latLngToLayerPoint</code>, the result will be relative to that frame of reference. Want to get it back? Easy:</p>\n\n<pre><code>    var finalCoordinateForImagePixelInLatLong = \n           map.layerPointToLatLng(finalCoordinateForImagePixel);\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>but given the shape is rotated, the world is not flat, and i was really bad at geography and trigonometry, i'm not sure about it being precise enough.</p>\n</blockquote>\n\n<p>If you use the coordinate reference system that Leaflet uses for display (EPSG:3857), or any homomorphic coordinate systems (pixel coordinates relative to the screen, pixel coordinates relative to the layer origin point), you'll have no problem.</p>\n"}], "owner": {"reputation": 867, "user_id": 4763177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGmm7.jpg?s=128&g=1", "display_name": "CptEric", "link": "https://stackoverflow.com/users/4763177/cpteric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 2, "accepted_answer_id": 49153175, "answer_count": 1, "score": 2, "last_activity_date": 1520429394, "creation_date": 1520425757, "question_id": 49152005, "link": "https://stackoverflow.com/questions/49152005/transform-x-and-y-coordinates-inside-a-rotated-imageoverlay-to-latitude-and-lo", "title": "Transform X and Y coordinates inside a (rotated) ImageOverlay to latitude and longitude", "body": "<p>after reading through Projection's <a href=\"http://leafletjs.com/reference-1.1.0.html#projection\" rel=\"nofollow noreferrer\">documentation</a>, and some fail-and-try testing, i have found myself unable to find a solution to this issue.</p>\n\n<p>Al the solutions i find play with the fact that the x and y coordinates are in reference to the mercator map projection, but in this case i have them from a local image placed on a layer over the map.</p>\n\n<p>Let's assume i have a 400px * 200px grey image, placed on a leaflet map using ImageOverlay.Rotated, at the position:</p>\n\n<pre><code>var topleft = L.latLng(41.604766, 0.606402);\nvar topRight = L.latLng(41.605107, 0.606858);\nvar bottomleft = L.latLng(41.604610, 0.606613);\n</code></pre>\n\n<p>This image is placed on the map using top left, top right, and bottom left coordinates as reference.</p>\n\n<p>the result is a rectangle slightly rotated to the north.</p>\n\n<p>If i knew i left my phone at the pixel 100,50 ( the left corner of the \n original image ), how could i transform this cartesian coordinate into a latitude and longitude for my map to display it?</p>\n\n<p>if it was a rectangle placed perfectly aligned to the north, i guess i could get the difference in \u00ba between the topLeft and bottomLeft corners, divide it by number of pixels, and then multiply the result with my phone's Y to get the latitude.  using the prior value, i'd multiply it to my phone's X to get my phone's longitude.</p>\n\n<p>but given the shape is rotated, the world is not flat, and i was really bad at geography and trigonometry,  i'm not sure about it being precise enough.</p>\n\n<p>in the end we're speaking of a phone, not a building. a few meters off ( 2-4) is okay, a building block away is not.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-cli", "angular-formly"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 8844261, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lE6jt.jpg?s=128&g=1", "display_name": "Adrian Garc&#237;a", "link": "https://stackoverflow.com/users/8844261/adrian-garc%c3%ada"}, "is_accepted": false, "score": 0, "last_activity_date": 1531480379, "creation_date": 1531480379, "answer_id": 51323833, "question_id": 49151913, "link": "https://stackoverflow.com/questions/49151913/ngx-formly-update-model-not-affected-custom-component/51323833#51323833", "title": "ngx-formly update model not affected custom component", "body": "<p>Check this issue in github:\n<a href=\"https://github.com/formly-js/ngx-formly/issues/975\" rel=\"nofollow noreferrer\">https://github.com/formly-js/ngx-formly/issues/975</a></p>\n\n<p>It seems it depends the way how you are updating your model (if it's just  updating one field of the model or not)</p>\n"}], "owner": {"reputation": 101, "user_id": 3274100, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/07eed4f03df97c3e68da2aab3ce5a404?s=128&d=identicon&r=PG&f=1", "display_name": "user3274100", "link": "https://stackoverflow.com/users/3274100/user3274100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531480379, "creation_date": 1520425485, "question_id": 49151913, "link": "https://stackoverflow.com/questions/49151913/ngx-formly-update-model-not-affected-custom-component", "title": "ngx-formly update model not affected custom component", "body": "<p>I use custorm component fields.</p>\n\n<p>Everything works fine until I try to replace the model with another model.</p>\n\n<p>the component of each field is not updated with the new value.</p>\n\n<p>Nor did any event turn on</p>\n\n<p><strong>the way i trying to change to model:</strong></p>\n\n<pre><code>this.model = this.data.model[this.currentRow];\n</code></pre>\n\n<p><strong>the html formly tag</strong></p>\n\n<p></p>\n\n<pre><code>  &lt;form class=\"formly\" role=\"form\" [formGroup]=\"form\" &gt;\n\n    &lt;formly-form #formly [(model)]=\"model\" [fields]=\"fields\" [form]=\"form\" [options]=\"options\"&gt;\n\n    &lt;/formly-form&gt;\n\n  &lt;/form&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>app.model.ts</strong></p>\n\n<pre><code>FormlyModule.forRoot({\n      types: [\n        { name: 'customTextNumeric', component: VerticalNumericEditorComponent},        \n        { name: 'customDatepicker', component: VerticalDatePickerComponent },\n        { name: 'customSelect', component: VerticalSelectComponent },\n.\n</code></pre>\n\n<p>.\n.</p>\n\n<p><strong>my custom component (for examle )</strong></p>\n\n<pre><code> import { Component, OnInit, Input, ViewChild, SimpleChanges } from '@angular/core';\n\nimport { FieldType } from '@ngx-formly/core';\nimport { FormControl, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { SearchLabelService } from '../../tableHandle/search-label.service';\n\n/** Error when invalid control is dirty, touched, or submitted. */\n\nexport class MyErrorStateMatcher implements ErrorStateMatcher {\n\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n        const isSubmitted = form &amp;&amp; form.submitted;\n        return !!(control &amp;&amp; control.invalid &amp;&amp; (control.dirty || control.touched || isSubmitted));\n      }\n    }\n\n@Component({\n      selector: 'app-vertical-numeric-editor',\n      templateUrl: './vertical-numeric-editor.component.html',\n      styleUrls: ['./vertical-numeric-editor.component.css']\n    })\n\nexport class VerticalNumericEditorComponent extends FieldType {\n\n  private validates = [];\n      private initialValue;\n      private value;\n\n\n\n  private validateValues = { required: false, minLen: 0, maxLen: 99999999, pattern: '' };\n\n  constructor(private labelSearch: SearchLabelService) {\n        super();\n        this.numericFormControl = new FormControl('', this.validates);\n        console.log('constructor field:');\n      }\n\n  numericFormControl: FormControl;\n\n  onInit() {\n        console.log('oninit');\n      }\n\n  matcher = new MyErrorStateMatcher();\n\n  ngOnInit() {\n      }\n\n\n  OnChanges(e) {\n        console.log('on changes');\n      }\n\n\n\n  ngDoCheck() {\n      }\n\n  ngOnDestroy() {\n      }\n\n  get type() {\n        return this.to.type || 'text';\n      }\n    }\n</code></pre>\n\n<p>Someone has an idea of how to update the component with the new value</p>\n"}, {"tags": ["typescript", "webpack"], "comments": [{"owner": {"reputation": 2375, "user_id": 8381155, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fEaLjb1CCz4/AAAAAAAAAAI/AAAAAAAAACI/I0Dbz1axcfA/photo.jpg?sz=128", "display_name": "ochs.tobi", "link": "https://stackoverflow.com/users/8381155/ochs-tobi"}, "edited": false, "score": 0, "creation_date": 1520425736, "post_id": 49151905, "comment_id": 85308101, "body": "Try <code>import {ResizeObserver} from &#39;resize-observer-polyfill&#39;</code>"}, {"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 0, "creation_date": 1520426049, "post_id": 49151905, "comment_id": 85308301, "body": "I believe you must declare a module with the same name as the library."}], "answers": [{"tags": [], "owner": {"reputation": 21112, "user_id": 26286, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5f28ab052c1a7d0bb5476a190272449e?s=128&d=identicon&r=PG", "display_name": "Coderer", "link": "https://stackoverflow.com/users/26286/coderer"}, "is_accepted": true, "score": 1, "last_activity_date": 1537184113, "creation_date": 1537184113, "answer_id": 52366820, "question_id": 49151905, "link": "https://stackoverflow.com/questions/49151905/cannot-import-default-with-typescript/52366820#52366820", "title": "Cannot import default with typescript", "body": "<p>Try the first syntax (<code>import ResizeObserver from 'resize-observer-polyfill'</code>) with <code>allowSyntheticDefaultImports</code> and <code>esModuleInterop</code> both set to true in your <code>tsconfig.json</code>.  You need the former to allow <code>import ResizeObserver</code> instead of <code>import * as ResizeObserver</code>, and I think you may need the latter since you're targeting <code>es6</code>.</p>\n\n<p>I found the <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html#support-for-import-d-from-cjs-form-commonjs-modules-with---esmoduleinterop\" rel=\"nofollow noreferrer\">release notes for TS 2.7</a> very helpful in understanding this.</p>\n"}], "owner": {"reputation": 4933, "user_id": 252124, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9d19dafdb532d048370e1df1fd984a7a?s=128&d=identicon&r=PG", "display_name": "Lily B", "link": "https://stackoverflow.com/users/252124/lily-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 1, "accepted_answer_id": 52366820, "answer_count": 1, "score": 2, "last_activity_date": 1537184113, "creation_date": 1520425461, "question_id": 49151905, "link": "https://stackoverflow.com/questions/49151905/cannot-import-default-with-typescript", "title": "Cannot import default with typescript", "body": "<p>There is this library called 'resize-observer-polyfill' which declares that it has a default export:</p>\n\n<pre><code>declare var ResizeObserver: {\n  prototype: ResizeObserver;\n  new(callback: ResizeObserverCallback): ResizeObserver;\n}\n\nexport default ResizeObserver;\n</code></pre>\n\n<p>But I cannot import this library because TS complains.</p>\n\n<pre><code>import ResizeObserver from 'resize-observer-polyfill'\n\n// If I do this instead, TS is happy but ResizeObserver is undefined !!\nimport * as ResizeObserver from 'resize-observer-polyfill'\n</code></pre>\n\n<p>TS config extract:</p>\n\n<pre><code>, \"compilerOptions\":\n  { \"jsx\": \"react\"\n  , \"module\": \"commonjs\"\n  , \"noImplicitAny\": true\n  , \"outDir\": \"output/dist\"\n  , \"reactNamespace\": \"JSX\"\n  , \"sourceMap\": true\n  , \"strictNullChecks\": true\n  , \"target\": \"es6\"\n  }\n</code></pre>\n\n<p>Using <strong>allowSyntheticDefaultImports</strong> makes types and runtime happy but then many imports fail in jest (using ts-jest) unless I set <strong>skipBabel</strong> to true.</p>\n\n<p>Using the <code>skipBabel</code> option, this import fails in tests with an undefined value, I have to use the <code>import * as ResizeObserver</code> syntax in tests.</p>\n\n<p>What is the proper way to do this ? Why is it such a mess anyway ?</p>\n"}, {"tags": ["angular", "typescript", "primeng", "primeng-treetable"], "comments": [{"owner": {"reputation": 1569, "user_id": 4080319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5443125c491eefe270852ff93fa2109?s=128&d=identicon&r=PG", "display_name": "Bozhinovski", "link": "https://stackoverflow.com/users/4080319/bozhinovski"}, "edited": false, "score": 0, "creation_date": 1566385306, "post_id": 49151652, "comment_id": 101637635, "body": "Did you find solution to this ?"}], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 3187858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BdwKu.jpg?s=128&g=1", "display_name": "Fabricio", "link": "https://stackoverflow.com/users/3187858/fabricio"}, "is_accepted": true, "score": 1, "last_activity_date": 1579739923, "last_edit_date": 1579739923, "creation_date": 1579739530, "answer_id": 59870131, "question_id": 49151652, "link": "https://stackoverflow.com/questions/49151652/primeng-treetable-level-styling/59870131#59870131", "title": "PrimeNG TreeTable Level Styling", "body": "<p>I had similar question. Since I didn't dig anything up from Google, I managed my way to solve it somehow (pretty simple!). I know it's been a long time this question was asked, but like me, others might get here too. And although this is not a direct answer, it could help you figure out other ways to achieve your goal (by using styles).</p>\n\n<p>The example below is a cut from my own code, using <code>Angular 8</code> and <code>PrimeNG 9</code>. </p>\n\n<p>It's a dynamic <code>TreeTable</code> to show only if there is data to show, and where I check both, header and data, for column adjusting and for the color styling that I'm applying with the <code>getOrderStyle()</code>. And <code>getTable()</code> is here used to return names for the header and fields (it's a cool thing). </p>\n\n<p>Quoting The Mandalorian, this is the way:</p>\n\n<pre><code>&lt;p-treeTable *ngIf=\"!isLoading &amp;&amp; dataNode.length\" [value]=\"dataNode\" [columns]=\"getTable()\"&gt;\n\n  &lt;ng-template pTemplate=\"header\" let-columns&gt;\n    &lt;tr&gt;\n      &lt;th *ngFor=\"let col of columns\" [ngStyle]=\"checkHeader(col.header)\"&gt;\n         {{ col.header }}\n      &lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/ng-template&gt;\n\n  &lt;ng-template pTemplate=\"body\" let-rowNode let-rowData=\"rowData\" let-columns=\"columns\"&gt;\n     &lt;tr&gt;\n       &lt;td *ngFor=\"let col of columns; let i = index\" [ngClass]=\"getOrderStyle(rowData)\" [ngStyle]=\"checkField(rowData[col.field])\"&gt;\n         &lt;p-treeTableToggler [rowNode]=\"rowNode\" *ngIf=\"i == 0\"&gt;&lt;/p-treeTableToggler&gt;\n         {{ rowData[col.field] }}\n       &lt;/td&gt;\n     &lt;/tr&gt;\n   &lt;/ng-template&gt;\n\n&lt;/p-treeTable&gt;\n</code></pre>\n\n<p>That <code>p-treeTableToggler</code> line is to show/hide the nodes. Inside the <code>getOrderStyle(array)</code> method you just check the value of param <code>array</code> to decide which class to apply to each (whole) table row. </p>\n\n<pre><code>  getOrderStyle(array) {\n    const col = 'column-name'; // the name of a field column you got from your getTable()\n    if (array[col] === 'B') {\n      return 'order-buy';\n    } else if (array[col] === 'S') {\n      return 'order-sell';\n    }\n  }\n</code></pre>\n\n<p>Ok, ok. Here is an example for the <code>getTable()</code>:</p>\n\n<pre><code>  getTable() {\n    return [\n      { field: 'code', header: '\ud83c\udd94' },\n      { field: 'qtty', header: '\ud83e\udd0f' },\n      { field: 'price', header: '\ud83c\udff7\ufe0f' },\n      { field: 'total', header: '\ud83d\udcb0' },\n      { field: 'time', header: '\ud83d\udd52' }\n    ];\n  }\n</code></pre>\n\n<p>And lets complete this sample with the CSS I used here:</p>\n\n<pre><code>.order-buy {\n  color: darkgreen;\n  background-color: rgba(200, 255, 200, .8) !important;\n}\n\n.order-sell {\n  color: darkred;\n  background-color: rgba(255, 200, 200, .8) !important;\n}\n</code></pre>\n\n<p>Of course, I'm only using <code>!important</code> because it didn't work without it for the <code>background-color</code>. Some of the styling for PrimeNG tags you need to force your way in.</p>\n\n<p>Good luck (next ones who find this)! \ud83d\udc4d</p>\n"}], "owner": {"reputation": 4451, "user_id": 1245337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rQev9.jpg?s=128&g=1", "display_name": "atish shimpi", "link": "https://stackoverflow.com/users/1245337/atish-shimpi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 59870131, "answer_count": 1, "score": 2, "last_activity_date": 1579739923, "creation_date": 1520424698, "last_edit_date": 1521943029, "question_id": 49151652, "link": "https://stackoverflow.com/questions/49151652/primeng-treetable-level-styling", "title": "PrimeNG TreeTable Level Styling", "body": "<p>I have implemented <code>TreeTable</code> from <a href=\"https://www.primefaces.org/primeng/#/treetable\" rel=\"nofollow noreferrer\">PrimeNG</a>.</p>\n\n<p>Requirement is to add doted lines between levels for usability perspective. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KRzgT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KRzgT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried multiple approaches but since it is generating HTML structure </p>\n\n<pre><code>&lt;table&gt;\n  &lt;div&gt;\n    &lt;td&gt;&lt;/td&gt;\n  &lt;/div&gt;\n&lt;table&gt;\n</code></pre>\n\n<p>I don't able figure out proper solution to implement it.</p>\n\n<p>Is it possible to implement with <code>PrimeNG</code> <code>TreeTable</code>? </p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 3485361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ONQFY.png?s=128&g=1", "display_name": "lokimidgard", "link": "https://stackoverflow.com/users/3485361/lokimidgard"}, "edited": false, "score": 0, "creation_date": 1520427869, "post_id": 49151813, "comment_id": 85309575, "body": "Thanks, luckylie this shoulden&#39;t take long untill released :)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 855, "user_id": 3485361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ONQFY.png?s=128&g=1", "display_name": "lokimidgard", "link": "https://stackoverflow.com/users/3485361/lokimidgard"}, "edited": false, "score": 0, "creation_date": 1520427904, "post_id": 49151813, "comment_id": 85309598, "body": "@lokimidgard yes, that is why I mentioned it, it&#39;s very very close ;)"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 3, "last_activity_date": 1520425175, "creation_date": 1520425175, "answer_id": 49151813, "question_id": 49151644, "link": "https://stackoverflow.com/questions/49151644/why-string-can-be-assigned-to-arraystring/49151813#49151813", "title": "Why string can be assigned to Array&lt;string&gt;", "body": "<p>The problem is that the type of <code>reciverPattern</code> is <code>DeepPartial&lt;string[]&gt;</code>. This means that <code>reciverPattern</code> has no mandatory properties, it can have any of the properties of <code>string[]</code> but it is not required to do so. Since you assign a string to it, the string is compatible, if you would have assigned an object literal, you would have received an error as object literals are checked for extra properties, but string literals are not. </p>\n\n<p>What you want can be achieved in Typescript 2.8 unsing conditional types(unreleased at the time of writing but will be released in March 2018, you can get it via <code>npm install -g typescript@next</code>). The idea is to only use deep partial for other objects, not for basic types or arrays:</p>\n\n<pre><code>type DeepPartial&lt;T&gt; = {\n    [P in keyof T]?: \n            T[P] extends Array&lt;any&gt; ? T[P] :\n            T[P] extends object ? DeepPartial&lt;T[P]&gt; : T[P];\n};\n// OK\ntest({\n    clientPolicys: {\n         localPolicy: {\n             reciverPattern: [\"\"]\n         }\n     }\n})\n// Error\ntest({\n    clientPolicys: {\n        localPolicy: {\n            reciverPattern: \"\" // error\n        }\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 3485361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ONQFY.png?s=128&g=1", "display_name": "lokimidgard", "link": "https://stackoverflow.com/users/3485361/lokimidgard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 49151813, "answer_count": 1, "score": 1, "last_activity_date": 1520425175, "creation_date": 1520424686, "question_id": 49151644, "link": "https://stackoverflow.com/questions/49151644/why-string-can-be-assigned-to-arraystring", "title": "Why string can be assigned to Array&lt;string&gt;", "body": "<p>I have following definitions</p>\n\n<pre><code>type DeepPartial&lt;T&gt; = {\n    [P in keyof T]?: DeepPartial&lt;T[P]&gt;;\n};\n\ninterface IMockHelprConf {\n    clientPolicys: DeepPartial&lt;IExchangeSettings&gt;;\n}\n\ndeclare interface IExchangeSettings {\n    localPolicy: ILocalPolicys;\n    signature: ISignatures;\n}\n\ndeclare interface ILocalPolicys {\n    maxFileSize?: number;\n    filePattern?: string[];\n    reciverPattern?: string[];\n}\n\nfunction test(conf: IMockHelperConf){\n    ...\n}\n</code></pre>\n\n<p>I can now call the function <code>test(conf)</code> with following object:</p>\n\n<pre><code>test({\n      clientPolicys: {\n           localPolicy: {\n               reciverPattern: '@test.de$'\n           }\n       }\n}\n</code></pre>\n\n<p>this does not result in an error. But I actualy should use <code>['@test.de$']</code>. Otherwise running over the \"array\" actually list the singel characters.</p>\n\n<p>My first thoght was that a string implements <code>string[]</code>, but a cast from string to <code>string[]</code> using <code>as</code> fails with: <code>Type 'string' cannot be converted to type 'string[]</code>.</p>\n\n<p>So I would expect that the method call is also not posible with the wrong type.</p>\n\n<p><a href=\"http://www.typescriptlang.org/play/index.html#src=type%20DeepPartial%3CT%3E%20%3D%20%7B%0D%0A%20%20%20%20%5BP%20in%20keyof%20T%5D%3F%3A%20DeepPartial%3CT%5BP%5D%3E%3B%0D%0A%7D%3B%0D%0A%0D%0Ainterface%20IMockHelprConf%20%7B%0D%0A%20%20%20%20clientPolicys%3A%20DeepPartial%3CIExchangeSettings%3E%3B%0D%0A%7D%0D%0A%0D%0Adeclare%20interface%20IExchangeSettings%20%7B%0D%0A%20%20%20%20localPolicy%3A%20ILocalPolicys%3B%0D%0A%7D%0D%0A%0D%0Adeclare%20interface%20ILocalPolicys%20%7B%0D%0A%20%20%20%20maxFileSize%3F%3A%20number%3B%0D%0A%20%20%20%20filePattern%3F%3A%20string%5B%5D%3B%0D%0A%20%20%20%20reciverPattern%3F%3A%20string%5B%5D%3B%0D%0A%7D%0D%0A%0D%0Afunction%20test(conf%3A%20IMockHelprConf)%20%7B%0D%0A%20%20%20%20%2F%2F%20%20%20%20...%0D%0A%7D%0D%0A%0D%0Atest(%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20clientPolicys%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20localPolicy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reciverPattern%3A%20&#39;test&#39;%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%0D%0Atest(%0D%0A%20%20%20%20%7B%0D%0A%20%20%20%20%20%20%20%20clientPolicys%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20localPolicy%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20reciverPattern%3A%20%5B&#39;test&#39;%5D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%7D)%0D%0A%0D%0Alet%20x%20%3D%20&#39;&#39;%20as%20string%5B%5D%3B\" rel=\"nofollow noreferrer\">Playground sample</a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "frontend"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 3, "creation_date": 1520424411, "post_id": 49151512, "comment_id": 85307215, "body": "<code>Is React a better choice for this type of thing?</code> no - imo react is <b>never</b> the better choice vs angular. I think you are searching for this: <a href=\"https://angular.io/guide/router\" rel=\"nofollow noreferrer\">angular.io/guide/router</a>"}, {"owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1520424536, "post_id": 49151512, "comment_id": 85307305, "body": "@messerbill Hi messerbill, I&#39;ve used the router before. It doesn&#39;t cut it because the content of the page isn&#39;t rendered by search engines. Sure, Google kind of renders it but it&#39;s been hit or miss from what I&#39;ve done with it. Plus, I need other search engines to index my site."}, {"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1520424741, "post_id": 49151512, "comment_id": 85307452, "body": "there are several ways to solve this problem - maybe this can help you: <a href=\"https://coursetro.com/posts/code/68/Make-your-Angular-App-SEO-Friendly-(Angular-4-+-Universal)\" rel=\"nofollow noreferrer\">coursetro.com/posts/code/68/&hellip;</a>"}, {"owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "reply_to_user": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1520424876, "post_id": 49151512, "comment_id": 85307553, "body": "@messerbill Hi messerbill, one of my issues that I have with Angular Universal is the lack of Java support, namely Spring Boot."}, {"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 1, "creation_date": 1520424999, "post_id": 49151512, "comment_id": 85307641, "body": "<code>the lack of Java support</code> what do you mean? You can communicate with Java Servers like <code>Spring Boot</code> via usual <code>ajax requests</code> (just like with any other server system: node, php, c#....)"}, {"owner": {"reputation": 162, "user_id": 3337164, "user_type": "registered", "profile_image": "https://graph.facebook.com/1568026197/picture?type=large", "display_name": "Bharat", "link": "https://stackoverflow.com/users/3337164/bharat"}, "edited": false, "score": 0, "creation_date": 1520425504, "post_id": 49151512, "comment_id": 85307946, "body": "Angular business case is applicable only when we need SPA. Else, why not use other libraries? We CAN use Angular but we shouldn&#39;t."}, {"owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "reply_to_user": {"reputation": 162, "user_id": 3337164, "user_type": "registered", "profile_image": "https://graph.facebook.com/1568026197/picture?type=large", "display_name": "Bharat", "link": "https://stackoverflow.com/users/3337164/bharat"}, "edited": false, "score": 0, "creation_date": 1520425803, "post_id": 49151512, "comment_id": 85308143, "body": "@Bharat I need some pages that are highly interactive that would be easier to implement with Angular. Plus, it is nice to be able to share components across projects."}, {"owner": {"reputation": 1269, "user_id": 5173316, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/n9PU5.jpg?s=128&g=1", "display_name": "Tom Doodler", "link": "https://stackoverflow.com/users/5173316/tom-doodler"}, "edited": false, "score": 0, "creation_date": 1520426911, "post_id": 49151512, "comment_id": 85308873, "body": "Why would you even intend to create a non-spa in the first place? I cant think of a scenario, where you wouldnt be able to create what you want as a spa"}, {"owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "reply_to_user": {"reputation": 1269, "user_id": 5173316, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/n9PU5.jpg?s=128&g=1", "display_name": "Tom Doodler", "link": "https://stackoverflow.com/users/5173316/tom-doodler"}, "edited": false, "score": 0, "creation_date": 1520427147, "post_id": 49151512, "comment_id": 85309029, "body": "@Tom Doodler I have updated my question to answer your question, since it has came up a few times."}, {"owner": {"reputation": 1269, "user_id": 5173316, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/n9PU5.jpg?s=128&g=1", "display_name": "Tom Doodler", "link": "https://stackoverflow.com/users/5173316/tom-doodler"}, "edited": false, "score": 0, "creation_date": 1520427229, "post_id": 49151512, "comment_id": 85309095, "body": "But why cant you create the rest of your application using angular as well?"}, {"owner": {"reputation": 11758, "user_id": 1948627, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/AkYlI.png?s=128&g=1", "display_name": "bitWorking", "link": "https://stackoverflow.com/users/1948627/bitworking"}, "edited": false, "score": 0, "creation_date": 1520427363, "post_id": 49151512, "comment_id": 85309194, "body": "Here is a nice tutorial: <a href=\"https://blog.novatec-gmbh.de/angular-2-in-a-multi-page-application/\" rel=\"nofollow noreferrer\">blog.novatec-gmbh.de/angular-2-in-a-multi-page-application</a>. It uses seperate lazy loaded modules for each page. If you build with AOT and the latest Angular Version the startup time should be really fast.."}, {"owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "reply_to_user": {"reputation": 1269, "user_id": 5173316, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/n9PU5.jpg?s=128&g=1", "display_name": "Tom Doodler", "link": "https://stackoverflow.com/users/5173316/tom-doodler"}, "edited": false, "score": 0, "creation_date": 1520427441, "post_id": 49151512, "comment_id": 85309266, "body": "@Tom Doodler SEO and Angular don&#39;t go work well together. You have to hack things together to get it to work. Only google crawls JS sites. Bing does not. Prerender costs a ton of money for 100,000+ pages and at that point, you minus well just render at the server and only use JS for the interactivity."}, {"owner": {"reputation": 1269, "user_id": 5173316, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/n9PU5.jpg?s=128&g=1", "display_name": "Tom Doodler", "link": "https://stackoverflow.com/users/5173316/tom-doodler"}, "edited": false, "score": 0, "creation_date": 1520428534, "post_id": 49151512, "comment_id": 85310053, "body": "Have a look at <a href=\"https://universal.angular.io/\" rel=\"nofollow noreferrer\">universal.angular.io</a> and server-side-rendering, thats the best solution imho"}], "answers": [{"tags": [], "owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "is_accepted": false, "score": 1, "last_activity_date": 1520425786, "creation_date": 1520425786, "answer_id": 49152016, "question_id": 49151512, "link": "https://stackoverflow.com/questions/49151512/is-angular-2-not-appropriate-for-multi-page-apps/49152016#49152016", "title": "Is Angular 2 Not Appropriate for Multi-Page Apps?", "body": "<p>I never thought about this. </p>\n\n<p>My guts feeling is that caching will be your best friend. When you build an app, it'll split your resources (including js, html, etc.) by vendor and app (or page wise in your case) type. Vendors normally don't change much from page to page and are the largest in size. So if you can isolate that part out, you should get a decent performance improvement in terms of server and browser cache hit. </p>\n\n<p>Here's list of things not change from page to page, including </p>\n\n<ul>\n<li>static resources, ex. pictures</li>\n<li>index.html referenced resources, even though you have multiple pages, but most of the references inside will be same ex. angular vendor file.</li>\n<li>your component module library, if you isolate that out, it'll be another vendor module file to include.</li>\n</ul>\n\n<p>Overall you should test if things unchanged are sitting together. If you end up with three major files, and two are not changing at all from page to page, then it'll be a bingo. Otherwise, it'll suck for sure.</p>\n\n<p>Another thing which I've been told is server rendering, if everything is rendered there, you might be able to control quite a bit of caching yourself. Especially when you are concerned with SEO.</p>\n"}, {"tags": [], "owner": {"reputation": 2380, "user_id": 288096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa1ac62349de7aebf7d43020c799dfe?s=128&d=identicon&r=PG", "display_name": "windmaomao", "link": "https://stackoverflow.com/users/288096/windmaomao"}, "is_accepted": false, "score": 0, "last_activity_date": 1520428042, "last_edit_date": 1520428042, "creation_date": 1520427716, "answer_id": 49152641, "question_id": 49151512, "link": "https://stackoverflow.com/questions/49151512/is-angular-2-not-appropriate-for-multi-page-apps/49152641#49152641", "title": "Is Angular 2 Not Appropriate for Multi-Page Apps?", "body": "<p>Instead of some general concept, I have the following idea, assuming you need to build 10 pages.</p>\n\n<ul>\n<li>Wire the server to hit same index.html with different urls;</li>\n<li>Read the url parameter to tell which url hits this file;</li>\n<li><strong>Remove all angular internal routing</strong></li>\n<li>Instead, use <code>ngIf</code> to custom code the routing, since in  your case angular routing is useless and misleading. <em>You can need to turn on the right <code>DOM</code> for the right page.</em></li>\n</ul>\n\n<p>You end up with a server hitting the same page (identical twins) again and again so that you are essentially serving a SPA, only this time for multiple urls.</p>\n\n<p>What if I have to build 100 pages. </p>\n\n<p>You have a better weapon, since you can put 10 pages in product.html, and 10 pages in admin.html. The idea is </p>\n\n<ul>\n<li><strong>Remove angular nested routing</strong></li>\n<li>Use <code>Html</code> to split url or child url</li>\n</ul>\n\n<p>This idea can scale up and down very easily and really goes back to traditional web development 10 years ago. </p>\n"}], "owner": {"reputation": 119, "user_id": 2370642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6ca91fc85ba3607910fb871e541c545?s=128&d=identicon&r=PG", "display_name": "user2370642", "link": "https://stackoverflow.com/users/2370642/user2370642"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1635, "favorite_count": 0, "closed_date": 1520441981, "answer_count": 2, "score": 4, "last_activity_date": 1520428042, "creation_date": 1520424280, "last_edit_date": 1520427079, "question_id": 49151512, "link": "https://stackoverflow.com/questions/49151512/is-angular-2-not-appropriate-for-multi-page-apps", "closed_reason": "Opinion-based", "title": "Is Angular 2 Not Appropriate for Multi-Page Apps?", "body": "<p>I have a working example of a multi-page app using angular2. It seems load times are slower than I want them to be, when developing locally.</p>\n\n<p>I've read another thread, here on stackoverflow, that shows how to set this type of situation up: <a href=\"https://stackoverflow.com/questions/37748100/how-to-use-angular2-as-a-non-spa\">How to use Angular2 as a non-SPA?</a></p>\n\n<p>This definitely works but I feel like it slows down your applications load time.</p>\n\n<p>What is the state of the art of using Angular2 in Multi-Page Apps? Doable but not best practice? Is React a better choice for this type of thing? Please provide some perspective. </p>\n\n<p>Note that this is not a duplicate question asking \"how\" to use Angular2 in a multi-page app but asking if it is considered bad practice due to loading the app on each page etc. </p>\n\n<p>Also, as far as the reasoning why I need a multi-page app and cannot use a single page apps is because my app is data-driven. SEO is important and it seems like Angular falls off in that respect. Prerender and Angular Universal don't seem to cut it for my use case. </p>\n\n<p>Any thoughts? </p>\n\n<p>EDIT:</p>\n\n<p>There have been some questions asking why I want do this. Here is a response to a commenter:</p>\n\n<p>\"I need some pages that are highly interactive that would be easier to implement with Angular. Plus, it is nice to be able to share components across projects.\"</p>\n"}, {"tags": ["html", "angular", "typescript", "calculator"], "comments": [{"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "edited": false, "score": 1, "creation_date": 1520423919, "post_id": 49151022, "comment_id": 85306882, "body": "Your data says <code>Subtotal</code> but your code says <code>subtotal</code> is this just a typo in the question, or the actual problem ?"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520423593, "post_id": 49151133, "comment_id": 85306693, "body": "How to display this in html?"}, {"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520423744, "post_id": 49151133, "comment_id": 85306779, "body": "Totale: {{tempTotal}}  --&gt; show nothing {{cartTotal(tempTotal)}}Totale  --&gt; show NaN"}, {"owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "edited": false, "score": 0, "creation_date": 1520432006, "post_id": 49151133, "comment_id": 85312400, "body": "Yes but for me, I don&#39;t now why does&#39;t work. Maybe, because my Subtotal is form this result:  &lt;input type=&quot;text&quot; formControlName=&quot;Subtotal&quot; id=&quot;Subtotal&quot; name=&quot;Subtotal&quot; [value]=&quot;(item.Unit_price * item.Quantity)&quot;&gt;"}], "tags": [], "owner": {"reputation": 7761, "user_id": 8192719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0PuVB.jpg?s=128&g=1", "display_name": "Bunyamin Coskuner", "link": "https://stackoverflow.com/users/8192719/bunyamin-coskuner"}, "is_accepted": false, "score": 0, "last_activity_date": 1520423786, "last_edit_date": 1520423786, "creation_date": 1520423103, "answer_id": 49151133, "question_id": 49151022, "link": "https://stackoverflow.com/questions/49151022/get-sum-of-value-from-object-typescript/49151133#49151133", "title": "get sum of value from object Typescript", "body": "<p>When you try to access a variable from html by <code>{{someVar}}</code>, angular will look at its component if an attribute called <code>someVar</code> exists. You are returning <code>total</code> from <code>cartTotal</code> but there is no one listening. </p>\n\n<p>You have to change it to this</p>\n\n<pre><code>@Component({\n   selector: 'some-comp',\n   template: `&lt;label for=\"total\"&gt;Totale: {{total}} &lt;/label&gt;`\n})\nexport class SomeComponent {\n    total;\n\n    // you have to call this method at some point, \n    // I omitted that part. I assume you already call it.\n    public cartTotal(): number {\n        let tempTotal: number = 0;\n        this.products.forEach((e: any) =&gt; {\n            tempTotal= tempTotal+ Number(e.subtotal);\n        });\n        this.total = tempTotal;\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>You should not call methods directly from your markup.</p>\n\n<p><code>&lt;label for=\"total\"&gt;{{cartTotal(total)}}Totale: ALL&lt;/label&gt;</code> which will make angular call <code>cartTotal</code> so many times (at every change detection cycle). You would not want to go through <code>products</code> array and do the calculation thousands of times.</p>\n"}], "owner": {"reputation": 335, "user_id": 9423087, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Lonna", "link": "https://stackoverflow.com/users/9423087/lonna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 441, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520423786, "creation_date": 1520422784, "question_id": 49151022, "link": "https://stackoverflow.com/questions/49151022/get-sum-of-value-from-object-typescript", "title": "get sum of value from object Typescript", "body": "<p>I have this data,</p>\n\n<pre><code>    [Products, Products, Products, Products]\n    0: Products {product_id: \"1\", Product_type_id: \"11\", Subtotal:450, \u2026}\n    1: Products {product_id: \"2\", Product_type_id: \"22\", Subtotal:550, \u2026}\n    2: Products {product_id: \"3\", Product_type_id: \"33\", Subtotal:600, \u2026}\n    3: Products {product_id: \"4\", Product_type_id: \"44\", Subtotal:100, \u2026}\n</code></pre>\n\n<p>I want to <code>sum(Subtotal)</code> with this function but in html show nothing</p>\n\n<pre><code> products: Products[] = [];\n\n  public cartTotal(): number {\n    let total: number = 0;\n    this.products.forEach((e: any) =&gt; {\n        total = total + Number(e.subtotal);\n    });\n    return total;\n}\n</code></pre>\n\n<p>html code:</p>\n\n<pre><code>&lt;label for=\"total\"&gt;Totale: {{total}} &lt;/label&gt; --&gt; show nothing\n&lt;label for=\"total\"&gt;{{cartTotal(total)}}Totale: ALL&lt;/label&gt;  --&gt; show NaN\n</code></pre>\n"}, {"tags": ["typescript", "ionic-framework", "ionic3"], "owner": {"reputation": 4439, "user_id": 1255819, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/9Cizi.png?s=128&g=1", "display_name": "distante", "link": "https://stackoverflow.com/users/1255819/distante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520423912, "creation_date": 1520422696, "question_id": 49150994, "link": "https://stackoverflow.com/questions/49150994/can-i-extend-ionics-navcontroller", "title": "Can I extend Ionic&#39;s NavController?", "body": "<p>I want to set the <code>navParams</code> to have an specific structure everything <code>.setRoot()</code> or <code>.push()</code> is called. For this I wanted to extend the <code>NavController</code> class like I was able to do it with Angular's <code>Http</code></p>\n\n<p>I have tried this:</p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Injectable()\nexport class NavigationProvider extends NavController {\n\n    constructor() {\n        super();\n    console.log('Hello NavigationProvider Provider');\n  }\n\n}\n</code></pre>\n\n<p>But It does not work. It is because is a static class? How could I create a wrapper over the <code>NavController</code>?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 1, "creation_date": 1520422172, "post_id": 49150790, "comment_id": 85305788, "body": "why are you accessing the <code>prototype</code>? what are you trying to achieve?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520422273, "post_id": 49150790, "comment_id": 85305843, "body": "In TS, you should use classes, unless there are good reasons why you shouldn&#39;t."}, {"owner": {"reputation": 105, "user_id": 6246559, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f889014018f8b683f9c5cd6db26a43a?s=128&d=identicon&r=PG&f=1", "display_name": "venura", "link": "https://stackoverflow.com/users/6246559/venura"}, "edited": false, "score": 0, "creation_date": 1520422275, "post_id": 49150790, "comment_id": 85305845, "body": "I want to convert this <a href=\"http://jsbin.com/rorecuce/1/edit?html,output\" rel=\"nofollow noreferrer\">jsbin.com/rorecuce/1/edit?html,output</a>  into TS, because I&#39;m using Angular for the project"}, {"owner": {"reputation": 105, "user_id": 6246559, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f889014018f8b683f9c5cd6db26a43a?s=128&d=identicon&r=PG&f=1", "display_name": "venura", "link": "https://stackoverflow.com/users/6246559/venura"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520423124, "post_id": 49150790, "comment_id": 85306388, "body": "@estus ,  messerbill. please help"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520423307, "post_id": 49150790, "comment_id": 85306499, "body": "I don&#39;t see why you would get <code>Duplicate identifier &#39;MercatorProjection&#39; in MercantorProjection.prototype</code> here."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6246559, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f889014018f8b683f9c5cd6db26a43a?s=128&d=identicon&r=PG&f=1", "display_name": "venura", "link": "https://stackoverflow.com/users/6246559/venura"}, "edited": false, "score": 0, "creation_date": 1520424800, "post_id": 49151322, "comment_id": 85307489, "body": "Do I need to add all  //Mercator --BEGIN-- to END (It&#39;s in my link) inside this class?"}, {"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "reply_to_user": {"reputation": 105, "user_id": 6246559, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f889014018f8b683f9c5cd6db26a43a?s=128&d=identicon&r=PG&f=1", "display_name": "venura", "link": "https://stackoverflow.com/users/6246559/venura"}, "edited": false, "score": 0, "creation_date": 1520424872, "post_id": 49151322, "comment_id": 85307547, "body": "@venura you need to add everything you want to access"}], "tags": [], "owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "is_accepted": false, "score": 0, "last_activity_date": 1520423713, "creation_date": 1520423713, "answer_id": 49151322, "question_id": 49150790, "link": "https://stackoverflow.com/questions/49150790/ts-duplicate-identifier-mercatorprojection/49151322#49151322", "title": "ts Duplicate identifier &#39;MercatorProjection&#39;", "body": "<p>Due to you are using <code>typescript</code> you should <strong>not</strong> access <code>prototype</code>s unless there is no real reason to do so. You try to convert <a href=\"http://jsbin.com/rorecuce/1/edit?html,output\" rel=\"nofollow noreferrer\">http://jsbin.com/rorecuce/1/edit?html,output</a> to typescript, so you should do something like this:</p>\n\n<pre><code>class MercatorProjection {\n    public fromLatLngToPoint(param1, param2) {\n      // the code \n    }\n    public fromPointToLatLng(param) {\n      // the code \n    }\n}\n</code></pre>\n\n<p>This typescript class will have the two needed methods that you've tried to append to the <code>prototype</code>.</p>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">https://www.typescriptlang.org/docs/handbook/classes.html</a></p>\n"}], "owner": {"reputation": 105, "user_id": 6246559, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/6f889014018f8b683f9c5cd6db26a43a?s=128&d=identicon&r=PG&f=1", "display_name": "venura", "link": "https://stackoverflow.com/users/6246559/venura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520423713, "creation_date": 1520422045, "question_id": 49150790, "link": "https://stackoverflow.com/questions/49150790/ts-duplicate-identifier-mercatorprojection", "title": "ts Duplicate identifier &#39;MercatorProjection&#39;", "body": "<p>I'm totally new to typescript and Angular. I'm having two functions like this.</p>\n\n<pre><code>MercatorProjection() {\n      this.pixelOrigin_ = new google.maps.Point(TILE_SIZE / 2,\n      TILE_SIZE / 2);\n      this.pixelsPerLonDegree_ = TILE_SIZE / 360;\n      this.pixelsPerLonRadian_ = TILE_SIZE / (2 * Math.PI);\n  }\n\n  MercatorProjection.prototype.fromLatLngToPoint = function (latLng,\n  opt_point) {\n     //code here\n  };\n</code></pre>\n\n<p>I'm getting Duplicate identifier 'MercatorProjection' in MercantorProjection.prototype. Can anyone please help me to fix this issue?</p>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1520421958, "post_id": 49150660, "comment_id": 85305664, "body": "didn&#39;t this <a href=\"https://stackoverflow.com/a/38037914/8990367\">question</a>  help?"}, {"owner": {"reputation": 37, "user_id": 7576281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-5uYhMqTVjJs/AAAAAAAAAAI/AAAAAAAAAg4/jN43a9clKTE/photo.jpg?sz=128", "display_name": "Daelendil", "link": "https://stackoverflow.com/users/7576281/daelendil"}, "reply_to_user": {"reputation": 9768, "user_id": 8990367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dk1Kx.jpg?s=128&g=1", "display_name": "Fateme Fazli", "link": "https://stackoverflow.com/users/8990367/fateme-fazli"}, "edited": false, "score": 0, "creation_date": 1520427158, "post_id": 49150660, "comment_id": 85309039, "body": "Hello. When I tried doing that, I got this error: The pipe &#39;safe&#39; could not be found"}], "owner": {"reputation": 37, "user_id": 7576281, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-5uYhMqTVjJs/AAAAAAAAAAI/AAAAAAAAAg4/jN43a9clKTE/photo.jpg?sz=128", "display_name": "Daelendil", "link": "https://stackoverflow.com/users/7576281/daelendil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520421641, "creation_date": 1520421641, "question_id": 49150660, "link": "https://stackoverflow.com/questions/49150660/how-do-i-pass-on-data-to-a-html-tag", "title": "How do I pass on data to a html tag", "body": "<p>I am very new to typescript. I want to create an iframe in my html file (or if possible, create it whole in my typescript file) and at the right moment pass on the url for that iframe via my typescript file. How would I go about doing this?\nEDIT: I am trying to make a silent iframe to handle my token refreshing.</p>\n"}, {"tags": ["ios", "cordova", "typescript", "ionic-framework"], "comments": [{"owner": {"reputation": 17713, "user_id": 1801544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4CcSB.jpg?s=128&g=1", "display_name": "Larme", "link": "https://stackoverflow.com/users/1801544/larme"}, "edited": false, "score": 0, "creation_date": 1520422007, "post_id": 49150659, "comment_id": 85305687, "body": "I don&#39;t know Cordova/Ionic, Typescript, but it seems that <code>NSURLQueryItem</code> (an array of them) is the equivalent on iOS."}], "owner": {"reputation": 641, "user_id": 5819664, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/skP9W.jpg?s=128&g=1", "display_name": "Onkar", "link": "https://stackoverflow.com/users/5819664/onkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 439, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520421639, "creation_date": 1520421639, "question_id": 49150659, "link": "https://stackoverflow.com/questions/49150659/ionic-error-referenceerror-cant-find-variable-urlsearchparams-abnormal-beha", "title": "Ionic: Error ReferenceError :Can&#39;t find variable: URLSearchParams (abnormal behavior)", "body": "<p>I am working on ionic and i developed a small app. App is working on Android and browser very well, but when i try to run for ios using  X-code, i get following error,</p>\n\n<pre><code>ERROR:ERROR ReferenceError : Can't find variable: URLSearchParams\n</code></pre>\n\n<p>I searched for it and i found that <code>URLSearchParams is not supported in iOS</code> as answered in <a href=\"https://stackoverflow.com/questions/43298987/cant-find-variable-urlsearchparams\">stackoverflow question</a></p>\n\n<p>I was used <code>URLSearchParams</code> in three TypeScript files(login.ts, notice.ts, other.ts), i just removed <code>URLSearchParams</code> from login.ts and managed <code>queryString</code> through string instead of <code>URLSearchParams</code> and run my code then whole app running well.</p>\n\n<p>My question is that why i didn't get any error for <code>URLSearchParams</code> used in \n (notice.ts, other.ts), it means that is working well for both file, its something abnormal behavior i found ever</p>\n\n<p>Login.ts</p>\n\n<pre><code>let str=\"\";\n   str=str+'username='+userData.UserName+'&amp;password='+userData.Password;\n</code></pre>\n\n<p>Notice.ts </p>\n\n<pre><code>  let params: URLSearchParams = new URLSearchParams();  //here error should come, but not error gives\n    params.set('deviceId',deviceId);\n    params.set('yearId', this.loggedUserData.yearid);\n</code></pre>\n"}, {"tags": ["typescript", "typescript-definitions"], "comments": [{"owner": {"reputation": 4532, "user_id": 4450187, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4bd15ffbc419f4b78e83d561b028bb66?s=128&d=identicon&r=PG&f=1", "display_name": "messerbill", "link": "https://stackoverflow.com/users/4450187/messerbill"}, "edited": false, "score": 0, "creation_date": 1520421634, "post_id": 49150623, "comment_id": 85305475, "body": "TypeScript code (like any other code) will be &quot;correct&quot; once there are no compile errors - so is your question about how to write correct <code>.d.ts</code> files?"}, {"owner": {"reputation": 1666, "user_id": 2830131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/19FFr.png?s=128&g=1", "display_name": "Tao", "link": "https://stackoverflow.com/users/2830131/tao"}, "edited": false, "score": 0, "creation_date": 1520421956, "post_id": 49150623, "comment_id": 85305662, "body": "I recently came across <a href=\"https://cs.au.dk/~amoeller/papers/tstest/paper.pdf\" rel=\"nofollow noreferrer\">this paper</a> which discusses this topic. Maybe it&#39;s useful to you."}, {"owner": {"reputation": 758, "user_id": 154938, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/536ab7ae98e1724d483e540462271920?s=128&d=identicon&r=PG", "display_name": "Davie", "link": "https://stackoverflow.com/users/154938/davie"}, "edited": false, "score": 0, "creation_date": 1520421971, "post_id": 49150623, "comment_id": 85305670, "body": "In a way... more along the lines of &quot; I have written a <code>.d.ts</code> file I believe to be correct. Is there a way to confirm that what I think is correct is in fact correct...From your answer it appears that I need to write some typescript that uses the definitions"}], "owner": {"reputation": 758, "user_id": 154938, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/536ab7ae98e1724d483e540462271920?s=128&d=identicon&r=PG", "display_name": "Davie", "link": "https://stackoverflow.com/users/154938/davie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1520421514, "creation_date": 1520421514, "question_id": 49150623, "link": "https://stackoverflow.com/questions/49150623/validate-manually-created-typescript-definition-files", "title": "Validate Manually Created Typescript Definition Files", "body": "<p><strong>Background</strong></p>\n\n<p>I have created a component library using react (plain js).  I am in the process of creating Typescript definitions for the components so that consumers of the component library can use the components in a type-safe manner in their Typescript applications.</p>\n\n<p><strong>Question</strong></p>\n\n<p>What is the recommended way, if there is one, to check that the definitions manually created are correct?  I am trying to catch issues before consumers have to highlighting any problems.</p>\n\n<p><strong>Investigation so far...</strong></p>\n\n<p>I have looked at <a href=\"https://github.com/asgerf/tscheck\" rel=\"noreferrer\">https://github.com/asgerf/tscheck</a> but it doesn't always work.</p>\n\n<p>I also looked at DefinitelyTyped contribution guide:  <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped#create-a-new-package\" rel=\"noreferrer\">https://github.com/DefinitelyTyped/DefinitelyTyped#create-a-new-package</a>.  This says to create a typescript file with sample code for type-checking only...is this just a matter of compiling the <code>*.test.ts</code> file with the typescript compiler? </p>\n"}, {"tags": ["angular", "typescript", "autocomplete", "dropdown", "angular-material2"], "comments": [{"owner": {"reputation": 53, "user_id": 9456169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48363e81ef5f69ef3fe16aaa0160f780?s=128&d=identicon&r=PG&f=1", "display_name": "WizardPC", "link": "https://stackoverflow.com/users/9456169/wizardpc"}, "edited": false, "score": 0, "creation_date": 1524225128, "post_id": 49150189, "comment_id": 86903438, "body": "Result here after documentation update : <a href=\"https://github.com/angular/material2/pull/10666\" rel=\"nofollow noreferrer\">#10666</a>"}], "owner": {"reputation": 53, "user_id": 9456169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48363e81ef5f69ef3fe16aaa0160f780?s=128&d=identicon&r=PG&f=1", "display_name": "WizardPC", "link": "https://stackoverflow.com/users/9456169/wizardpc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 698, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1524225128, "creation_date": 1520420165, "question_id": 49150189, "link": "https://stackoverflow.com/questions/49150189/angular-material-2-mat-optgroup-inside-mat-autocomplete", "title": "Angular material 2 : mat-optgroup inside mat-autocomplete", "body": "<p>My goal is to obtain a dropdown  with autocomplete in Angular + Angular Material, but this dropwon contains group.</p>\n\n<p>Like this :</p>\n\n<pre><code>Input : \"d\" &lt;---------- autocomplete\n   [D &lt;------------------- group\n     Dog &lt;------------- option1\n     Dragon &lt;---------- option2\n    ...\n   ]\n</code></pre>\n\n<p>Here is a <a href=\"https://stackblitz.com/edit/angular-nwdj9u\" rel=\"nofollow noreferrer\">Stackblitz</a> with :</p>\n\n<ul>\n<li>simple dropdown + autocomplete  => Working</li>\n<li>dropdown containing groups + autocomplete => <strong>Help needed</strong></li>\n</ul>\n\n<p>Thanks for your help !</p>\n\n<p>ps : related to issue => <a href=\"https://github.com/angular/material2/issues/10196\" rel=\"nofollow noreferrer\">Example about mat-optgroup inside mat-autocomplete #10196</a></p>\n"}, {"tags": ["angular", "validation", "typescript"], "comments": [{"owner": {"reputation": 1536, "user_id": 6193288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43b6a3db79886cdd16afd13128a15ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz Witkowski", "link": "https://stackoverflow.com/users/6193288/mateusz-witkowski"}, "edited": false, "score": 1, "creation_date": 1520420485, "post_id": 49150168, "comment_id": 85304770, "body": "Did you try anything to accomplish it? For start you should become familiar with basic form validation techniques described in official docs: <a href=\"https://angular.io/guide/form-validation\" rel=\"nofollow noreferrer\">angular.io/guide/form-validation</a>"}, {"owner": {"reputation": 59546, "user_id": 6294072, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/wT1Nn.jpg?s=128&g=1", "display_name": "AJT82", "link": "https://stackoverflow.com/users/6294072/ajt82"}, "edited": false, "score": 0, "creation_date": 1520422068, "post_id": 49150168, "comment_id": 85305721, "body": "unrelated, but consider not having two bindings on your fields (formcontrol and ngModel) :)"}, {"owner": {"reputation": 19, "user_id": 9363244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FHTTI.jpg?s=128&g=1", "display_name": "Chandra Mouli", "link": "https://stackoverflow.com/users/9363244/chandra-mouli"}, "reply_to_user": {"reputation": 1536, "user_id": 6193288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f43b6a3db79886cdd16afd13128a15ac?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz Witkowski", "link": "https://stackoverflow.com/users/6193288/mateusz-witkowski"}, "edited": false, "score": 0, "creation_date": 1520424187, "post_id": 49150168, "comment_id": 85307065, "body": "@MateuszWitkowski : I am working on a design which was developed and made complicated. i tried with few ways but i was getting errors..soo i thought of asking the question straight way"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9363244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FHTTI.jpg?s=128&g=1", "display_name": "Chandra Mouli", "link": "https://stackoverflow.com/users/9363244/chandra-mouli"}, "edited": false, "score": 0, "creation_date": 1520425256, "post_id": 49150605, "comment_id": 85307788, "body": "i used your example but i got the error &#39;Cannot read property &#39;errors&#39; of undefined&#39;"}, {"owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "reply_to_user": {"reputation": 19, "user_id": 9363244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FHTTI.jpg?s=128&g=1", "display_name": "Chandra Mouli", "link": "https://stackoverflow.com/users/9363244/chandra-mouli"}, "edited": false, "score": 0, "creation_date": 1520425873, "post_id": 49150605, "comment_id": 85308188, "body": "maybe you miss something in your componente please read this:<a href=\"https://angular.io/guide/reactive-forms\" rel=\"nofollow noreferrer\">angular.io/guide/reactive-forms</a>"}], "tags": [], "owner": {"reputation": 14294, "user_id": 9140740, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QwMrm.jpg?s=128&g=1", "display_name": "\u05dc\u05d1\u05e0\u05d9 \u05de\u05dc\u05db\u05d4", "link": "https://stackoverflow.com/users/9140740/%d7%9c%d7%91%d7%a0%d7%99-%d7%9e%d7%9c%d7%9b%d7%94"}, "is_accepted": false, "score": 0, "last_activity_date": 1520421467, "creation_date": 1520421467, "answer_id": 49150605, "question_id": 49150168, "link": "https://stackoverflow.com/questions/49150168/validating-different-input-types-of-html-in-angular/49150605#49150605", "title": "Validating different input types of html in angular", "body": "<p>There are some steps:\n<br/>\n1. you have to add a label tag with the massege you want<br/>\n2. you have to add to the label *ngIf the \"pacName\" is required and click on<br/> \n   submmit button.<br/>\n3. you have to add \"required\" attribute to the input<br/></p>\n\n<p>  </p>\n\n<pre><code>&lt;div class=\"field\"style=\"padding:1%\"&gt;\n      &lt;label&gt;Pacs name&lt;/label&gt;\n      &lt;input placeholder=\"Pacs Name\" type=\"text\" [(ngModel)]=\"pacs.name\" formControlName=\"pacName\" required&gt;\n&lt;label *ngIf=\"pacName.errors.required &amp;&amp; addressForm.submitted\" &gt;This filed is required!!&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>for more information: <a href=\"https://angular.io/guide/form-validation\" rel=\"nofollow noreferrer\">https://angular.io/guide/form-validation</a><br/>\nif you work with bootstrap you can add <code>class=\"danger-text\"</code> <br/>\nit will set red color to the text inside the label</p>\n"}], "owner": {"reputation": 19, "user_id": 9363244, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/FHTTI.jpg?s=128&g=1", "display_name": "Chandra Mouli", "link": "https://stackoverflow.com/users/9363244/chandra-mouli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1520421467, "creation_date": 1520420112, "question_id": 49150168, "link": "https://stackoverflow.com/questions/49150168/validating-different-input-types-of-html-in-angular", "title": "Validating different input types of html in angular", "body": "<p>I have a html file which looks like this,</p>\n\n<pre><code>&lt;form [formGroup]=\"addressForm\" (ngSubmit)=\"save()\"&gt;  \n\n&lt;div class=\"field\"style=\"padding:1%\"&gt;\n      &lt;label&gt;Pacs name&lt;/label&gt;\n      &lt;input placeholder=\"Pacs Name\" type=\"text\" [(ngModel)]=\"pacs.name\" formControlName=\"pacName\"&gt;\n    &lt;/div&gt;\n\n  &lt;select class=\"ui dropdown\"  (change)=\"onChangeforDistrict()\" [(ngModel)]=\"address.state\" formControlName=\"state\"&gt;\n      &lt;option *ngFor=\"let state of state\" [ngValue]=\"state\" [selected]=\"address.state.id == state.id\"&gt;\n      {{state.name}}&lt;/option&gt;\n    &lt;/select&gt;\n    &lt;/div&gt;\n\n&lt;button class=\"positive ui right floated button\"&gt;\n          Save\n      &lt;/button&gt;\n\n\n&lt;/form&gt;\n</code></pre>\n\n<p>So the form above contains a input type text,dropdown. which is working fine in inserting the data into the database when i click the save button. </p>\n\n<p>i want to restrict the user if he is clicking the save button without entering any data or not selecting any option in the dropdown. I want to display the error messages under the respective fields when user click the save button with wrong data. if user enters the correct data then save button should call the save method of the component.</p>\n\n<p>I am new to angular 2/4 .. code someone brief me an idea or a piece of example code.. thanks in advance</p>\n"}, {"tags": ["node.js", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 10523, "user_id": 806963, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/gSzvm.jpg?s=128&g=1", "display_name": "Stav Alfi", "link": "https://stackoverflow.com/users/806963/stav-alfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553457398, "creation_date": 1553457398, "answer_id": 55327978, "question_id": 49148976, "link": "https://stackoverflow.com/questions/49148976/configuring-webpack-for-node-ts-with-lerna-subpackages/55327978#55327978", "title": "Configuring webpack for node TS with lerna subpackages", "body": "<ol>\n<li>Use <code>path</code> instead of <code>/</code>. </li>\n<li>It looks like you build a node js project. you don't need tsx. it's an extension for react files for websites.</li>\n<li><code>awesome-typescript-loader</code>'s GitHub looks like it is not supported any more. try to move to ts-loader or babel-loader.</li>\n</ol>\n\n<p>I have a sample and minimal project that does just that (babel-loader):\n<a href=\"https://github.com/stavalfi/lerna-yarn-workspaces-example/blob/master/packages/x-cli/webpack.config.ts\" rel=\"nofollow noreferrer\">https://github.com/stavalfi/lerna-yarn-workspaces-example/blob/master/packages/x-cli/webpack.config.ts</a></p>\n\n<p>You should also use my .babelrc so all the es6 syntax will be transpired also.</p>\n\n<hr>\n"}], "owner": {"reputation": 2358, "user_id": 379105, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/46311e8469a0f2d2340f182dd0c4a35a?s=128&d=identicon&r=PG", "display_name": "kitensei", "link": "https://stackoverflow.com/users/379105/kitensei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1082, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553457398, "creation_date": 1520416755, "question_id": 49148976, "link": "https://stackoverflow.com/questions/49148976/configuring-webpack-for-node-ts-with-lerna-subpackages", "title": "Configuring webpack for node TS with lerna subpackages", "body": "<p>I have the following structure (lerna based):</p>\n\n<pre><code>app/\n  packages/\n    core/\n      index.ts\n      src/\n        server.ts\n      node_nodules/\n        ...\n        express/\n    auth/\n      ...\n</code></pre>\n\n<p><strong>index.ts</strong></p>\n\n<pre><code>import { Server } from './src/server';\n\nnew Server()\n\nconsole.log('test');\n</code></pre>\n\n<p><strong>src/server.ts</strong></p>\n\n<pre><code>import * as express from 'express';\n\nexport class Server {\n\n  private app: express.Application\n\n  constructor() {\n    this.init();\n    this.bootstrap();\n  }\n\n  init(): void {\n    this.app = express();\n    this.app.get('/', (req, res, next) =&gt; {\n      res.send(\"Hello world\");\n      next();\n    });\n  }\n\n  bootstrap(): void {\n    const PORT = 3000;\n    this.app.listen(PORT, () =&gt; {\n      console.log(`Express server listening on port ${PORT}.\\nEnvironment: ${process.env.NODE_ENV}`)\n    });\n  }\n}\n</code></pre>\n\n<p>I am trying to compile typescript code with webpack, here is my config file:</p>\n\n<p><strong>webpack.config.js</strong></p>\n\n<pre><code>const path = require('path');\nconst CleanWebpackPlugin = require('clean-webpack-plugin');\n\nmodule.exports = {\n  target: 'node',\n  entry: {\n    app: './packages/core/index.ts'\n  },\n  devtool: 'inline-source-map',\n  plugins: [\n    new CleanWebpackPlugin(['dist']),\n  ],\n  resolve: {\n    extensions: ['.ts', '.tsx', '.js'],\n    modules: ['node_modules']\n  },\n  module: {\n    rules: [{\n      test: /\\.ts|\\.tsx$/,\n      include: ['packages/**/src'],\n      use: [{\n        loader: 'awesome-typescript-loader',\n        options: {\n            configFileName: 'tsconfig.json',\n            sourceMap: true\n        },\n      }],\n    }],\n  },\n};\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"allowSyntheticDefaultImports\": true,\n    \"declaration\": false,\n    \"emitDecoratorMetadata\": true,\n    \"strictNullChecks\": false,\n    \"noImplicitAny\": true,\n    \"removeComments\": true,\n    \"experimentalDecorators\": true,\n    \"lib\": [\n      \"dom\",\n      \"es2015\",\n      \"esnext.asynciterable\"\n    ],\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"sourceMap\": true,\n    \"target\": \"es5\"\n  },\n  \"include\": [\n    \"packages/**/*.ts\"\n  ],\n  \"exclude\": [\n    \"node_modules\",\n    \"./packages/**/node_modules\",\n    \"./packages/**/*.spec.ts\",\n    \"e2e\"\n  ],\n  \"compileOnSave\": false,\n  \"atom\": {\n    \"rewriteTsconfig\": false\n  }\n}\n</code></pre>\n\n<p>but when running <code>webpack</code> I get the following:</p>\n\n<pre><code>\u279c  app git:(master) \u2717 npm run build\n\n&gt; app-core@0.0.1 build /home/dev/app\n&gt; webpack --mode development\n\nclean-webpack-plugin: /home/dev/app/dist has been removed.\nHash: a2cdfcfd39d5692648d6\nVersion: webpack 4.1.0\nTime: 80ms\nBuilt at: 2018-3-7 10:50:04\n Asset      Size  Chunks             Chunk Names\napp.js  7.83 KiB     app  [emitted]  app\nEntrypoint app = app.js\n[./packages/core/index.ts] 80 bytes {app} [built]\n[./packages/core/src/server.ts] 218 bytes {app} [built] [failed] [1 error]\n\nERROR in ./packages/core/src/server.ts\nModule parse failed: Unexpected token (5:10)\nYou may need an appropriate loader to handle this file type.\n| export class Server {\n| \n|   private app: express.Application\n| \n|   constructor() {\n @ ./packages/core/index.ts 1:0-38 3:4-10\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 2\nnpm ERR! app@0.0.1 build: `webpack --mode development`\nnpm ERR! Exit status 2\nnpm ERR! \nnpm ERR! Failed at the app-core@0.0.1 build script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n</code></pre>\n"}, {"tags": ["angular", "typescript", "error-handling"], "answers": [{"comments": [{"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520421256, "post_id": 49149974, "comment_id": 85305272, "body": "Thank you for this valuable approach and solution.  &quot;constructor in AccessDenied omitted&quot; &gt; than where to define a custom message for the access denied error? and where to write <code>new AccessDenied(injector)</code> ?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520422025, "post_id": 49149974, "comment_id": 85305696, "body": "You could make custom message a field, like <code>public message = &#39;Access denied error occurred&#39;</code>. It&#39;s <code>Observable.throw(new AccessDenied(injector))</code>. But again, error classes shouldn&#39;t handle themselves."}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520425578, "post_id": 49149974, "comment_id": 85307991, "body": "than how to handle the error? can you show some code how to achive ?"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520427077, "post_id": 49149974, "comment_id": 85309003, "body": "Could be placed in ToastrService, something like <code>handleError(err: AppError) { this.error(err.message, ...) }</code>. Then you don&#39;t need multiple <code>return Observable.throw</code>, just a single <code>toastService.handleError(err); return Observable.throw(err)</code> at the end of <code>if (err instanceof HttpErrorResponse) {...}</code>. Hope you got the idea."}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520428679, "post_id": 49149974, "comment_id": 85310140, "body": "you mean inside err.interceptor.ts ; if i do not add multiple than how do we distinguish the error? this is lil bit confusing. although my work done by I have to send injector from interceptor to new AccessDenied() and than again call super(injector) . let me share the code which is working right now"}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520428783, "post_id": 49149974, "comment_id": 85310201, "body": "see this code is working fine but there is too much repetition of code <a href=\"http://collabedit.com/mcj3t\" rel=\"nofollow noreferrer\">collabedit.com/mcj3t</a>"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520429106, "post_id": 49149974, "comment_id": 85310424, "body": "I&#39;m not sure if you see the changes in your link. Here&#39;s what I mean, see the interceptor. <a href=\"http://collabedit.com/2jxyq\" rel=\"nofollow noreferrer\">collabedit.com/2jxyq</a>"}, {"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520429152, "post_id": 49149974, "comment_id": 85310456, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/166399/discussion-between-pro-mean-and-estus\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1520419503, "creation_date": 1520419503, "answer_id": 49149974, "question_id": 49148781, "link": "https://stackoverflow.com/questions/49148781/custom-error-handler-throw-error-cannot-read-property-get-of-undefined-inj/49149974#49149974", "title": "custom error handler throw error : Cannot read property &#39;get&#39; of undefined ( Injector )", "body": "<p><code>AccessDenied</code> incorrectly extends <code>AppError</code>. <code>super()</code> results in <code>injector</code> being undefined, and <code>injector</code> shouldn't be optional in <code>AppError</code> constructor, because it is required.</p>\n\n<p>It could be fixed by making a parameter obligatory:</p>\n\n<pre><code>constructor(private injector: Injector, public originalError?: any) {\n    this.toastrService = this.injector.get(ToastrService);\n}\n</code></pre>\n\n<p>The constructor can be omitted in <code>AccessDenied</code>. And should be instantiated like <code>new AccessDenied(injector)</code>.</p>\n\n<p>The real problem here is that <code>AppError</code> does the work it isn't supposed to to. Considering that it just contains the error that can be later determined with <code>err instanceof AppError</code>, it shouldn't do side effects that are currently done in <code>handleError</code>.</p>\n\n<p>The logic in <code>handleError</code> could be moved to a method in <code>ToastrService</code> or separate error service that accepts an instance of <code>AppError</code>. If there's a need to provide default message for error type like <code>Access denied error occurred</code>, <code>AppError</code> can have public property that contains the message.</p>\n"}, {"comments": [{"owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520448913, "post_id": 49159177, "comment_id": 85323670, "body": "Thanks for the explanation but there is interceptor also in my case. error first react to error interceptor and it redirects to the respective class ( in my case AccessDenied class which extends AppError ) based on the error.status so AppErrorHandler never comes into the picture? I am sure I am doing something wrong but don&#39;t know what?"}, {"owner": {"reputation": 335, "user_id": 1538357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c541c07a131e7e197135070d0818c5db?s=128&d=identicon&r=PG", "display_name": "Yarrgh", "link": "https://stackoverflow.com/users/1538357/yarrgh"}, "reply_to_user": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "edited": false, "score": 0, "creation_date": 1520449440, "post_id": 49159177, "comment_id": 85324016, "body": "Any errors that get thrown in the HttpClient observable (that you don&#39;t catch) should be caught by the application&#39;s error handler (normally Angular&#39;s default ErrorHandler). If you replace it with AppErrorHandler, it can handle any error thrown by your app"}], "tags": [], "owner": {"reputation": 335, "user_id": 1538357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c541c07a131e7e197135070d0818c5db?s=128&d=identicon&r=PG", "display_name": "Yarrgh", "link": "https://stackoverflow.com/users/1538357/yarrgh"}, "is_accepted": false, "score": 0, "last_activity_date": 1520448327, "creation_date": 1520448327, "answer_id": 49159177, "question_id": 49148781, "link": "https://stackoverflow.com/questions/49148781/custom-error-handler-throw-error-cannot-read-property-get-of-undefined-inj/49159177#49159177", "title": "custom error handler throw error : Cannot read property &#39;get&#39; of undefined ( Injector )", "body": "<p>You're trying to inject the ToastrService into an error class. This isn't possible because Angular isn't instanciating the object for you so it can't inject the dependencies. If you insist on doing it this way, you'd have to pass the ToastrService into each AppError yourself.</p>\n\n<p>I suggest creating a custom ErrorHandler that looks to see if the error is an instance of AppError and then using the ToastrService to show a toast.</p>\n\n<p>Roughly something like this (not tested):</p>\n\n<p><strong>app-error.ts</strong></p>\n\n<pre><code>import { Inject, Injector } from \"@angular/core\";\n\nimport { ToastrService } from \"ngx-toastr\";\n\nexport class AppError {\n    constructor(public message?: string, public title?: string) { }\n\n}\n</code></pre>\n\n<p><strong>access-denied.ts</strong></p>\n\n<pre><code>import { AppError } from './app-error';\nexport class AccessDenied extends AppError {\n    constructor(message?: string, title?: string) {\n        super(message, title);\n    }\n}\n</code></pre>\n\n<p><strong>app-error.handler.ts</strong></p>\n\n<pre><code>import { ErrorHandler, Inject, Injector, Injectable } from \"@angular/core\";\nimport { ToastrService } from \"ngx-toastr\";\nimport { AppError } from './app-error';\n\n@Injectable()\nexport class AppErrorHandler extends ErrorHandler {\n\n    constructor(@Inject(Injector) private injector: Injector) {\n        super(true);\n    }\n\n    // Need to get ToastrService from injector rather than constructor injection to avoid cyclic dependency error\n    private get toastrService(): ToastrService {\n        return this.injector.get(ToastrService);\n    }\n\n    public handleError(error: any): void {\n        if (error instanceof AppError) {\n            this.toastrService.error(\n                error.message,\n                error.title,\n                {\n                    closeButton: true,\n                    timeOut: 5000,\n                    onActivateTick: true\n                }\n            );\n        }\n\n        super.handleError(error);\n    }\n}\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>@NgModule({\n  // Your imports, declarations, bootstrap, etc.\n  // ...\n\n  providers: [\n    // Other providers...\n\n    {\n      provide: ErrorHandler,\n      useClass: AppErrorHandler\n    }\n  ]\n})\nexport class AppModule {}\n</code></pre>\n"}], "owner": {"reputation": 49728, "user_id": 155861, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/10Ld9.png?s=128&g=1", "display_name": "diEcho", "link": "https://stackoverflow.com/users/155861/diecho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4900, "favorite_count": 0, "accepted_answer_id": 49149974, "answer_count": 2, "score": 5, "last_activity_date": 1520448327, "creation_date": 1520416200, "last_edit_date": 1520417282, "question_id": 49148781, "link": "https://stackoverflow.com/questions/49148781/custom-error-handler-throw-error-cannot-read-property-get-of-undefined-inj", "title": "custom error handler throw error : Cannot read property &#39;get&#39; of undefined ( Injector )", "body": "<p>I am building a custom error handler in angular 4 to handle different kind of application error with error interceptor</p>\n\n<p>create a base class( <em>app-error.ts</em> ) and other classes ( for eg. to handle 403 errors create class <em>access-denied.ts</em> ) which extend this base class. </p>\n\n<p>in the base class have injected a service <code>toastrService</code> and I want to display custom message from the child class BUT it gives the error on </p>\n\n<p>Cannot read property 'get' of undefined</p>\n\n<p>thisissue is related to OOPS concept. I do not understand how to get override parent method or call with my custom argument.</p>\n\n<p>TS v 2.3.3\nangular v 4.3.4</p>\n\n<h3>app.module.ts</h3>\n\n<pre><code>providers: [\n{ provide: ErrorHandler, useClass: AppErrorHandler }\n]\n</code></pre>\n\n<p>NOTE: AppErrorHandler class is completely different than AppError which extend angular ErorHandler interface which handle system errors.</p>\n\n<h3>error-interceptor</h3>\n\n<pre><code>import { Router } from '@angular/router';\nimport { Injectable, Injector } from '@angular/core';\nimport { HttpInterceptor, HttpResponse, HttpRequest, HttpHandler, HttpEvent, HttpErrorResponse\n} from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/do';\n\nimport {\n    AuthFail,\n    BadInput,\n    NotFoundError,\n    ServerError,\n    AppError,\n    AccessDenied,\n} from '../shared/errors';\nimport { AuthenticationService } from './../authentication/authentication.service';\n\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n\n    private auth: AuthenticationService;\n    constructor(private router: Router, private injector: Injector) { }\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n        const auth = this.injector.get(AuthenticationService);\n        return next.handle(req).catch((err: HttpErrorResponse) =&gt; {\n            if (err instanceof HttpErrorResponse) {\n                if (err.status === 401) {\n                    return Observable.throw(new AuthFail(err.error));\n                }\n                if (err.status === 400) {\n                    return Observable.throw(new BadInput(err.error));\n                }\n                if (err.status === 404) {\n                    return Observable.throw(new NotFoundError());\n                }\n                if (err.status === 403) {\n                    return Observable.throw(new AccessDenied());\n                }\n                return Observable.throw(new AppError(err));\n            }\n        });\n    }\n}\n</code></pre>\n\n<h3>access-denied.ts</h3>\n\n<pre><code>import { AppError } from './app-error';\nexport class AccessDenied extends AppError {\n    constructor(public originalError?: any) {\n        super();\n        console.log('inside acces denied constructor');\n        // super.handleError(\"superrrrr\"); // this also doesn't work\n    }\n\n    public handleError(): void {\n        console.log('handleError: ', );\n        super.handleError(\"Access denined error occured\");\n    }\n}\n</code></pre>\n\n<h3>app-error.ts</h3>\n\n<pre><code>import { Inject, Injector } from \"@angular/core\";\n\nimport { ToastrService } from \"ngx-toastr\";\n\nexport class AppError {\n    toastrService: ToastrService;\n    constructor(public originalError?: any, private injector?: Injector) {\n        this.toastrService = this.injector.get(ToastrService);\n    }\n\n    // NOTE: using getter seems impossible to access in child so add the same in constructor\n    // get toastrService(): ToastrService {\n    //  return this.injector.get(ToastrService);\n    // }\n\n    public handleError(msg: string): void {\n        this.toastrService.error(`Error Message: ${msg}`,\n            \"Error\", {\n                closeButton: true,\n                timeOut: 5000,\n                onActivateTick: true\n            }\n        );\n    }\n\n}\n</code></pre>\n\n<p>gives error</p>\n\n<hr>\n\n<pre><code>core.es5.js:1020 ERROR TypeError: Cannot read property 'get' of undefined \n    at AccessDenied.AppError (app-error.ts:8) \n    at new AccessDenied (access-denied.ts:6)  \n    at CatchSubscriber.eval [as selector] (error.interceptor.ts:61) \n    at CatchSubscriber.error (catchError.js:105)\n    at XMLHttpRequest.onLoad (http.es5.js:1739)\n    at ZoneDelegate.invokeTask (zone.js:421)\n    at Object.onInvokeTask (core.es5.js:3881)\n    at ZoneDelegate.invokeTask (zone.js:420)\n    at Zone.runTask (zone.js:188)\n    at ZoneTask.invokeTask [as invoke] (zone.js:496)\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "variables", "var"], "comments": [{"owner": {"reputation": 209014, "user_id": 125816, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f5aa40b1e7a95599c7a19451f88ff3a?s=128&d=identicon&r=PG", "display_name": "Sergio Tulentsev", "link": "https://stackoverflow.com/users/125816/sergio-tulentsev"}, "edited": false, "score": 0, "creation_date": 1520414206, "post_id": 49148068, "comment_id": 85300675, "body": "Why what? Why <code>let</code> doesn&#39;t allow redeclaration? Or why <code>var</code> does?"}, {"owner": {"reputation": 2837, "user_id": 6607392, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Nyj6e.jpg?s=128&g=1", "display_name": "Wreigh", "link": "https://stackoverflow.com/users/6607392/wreigh"}, "edited": false, "score": 1, "creation_date": 1520414229, "post_id": 49148068, "comment_id": 85300690, "body": "because <code>const</code> does what its name says, it is constant."}, {"owner": {"reputation": 60727, "user_id": 1984039, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6da57aad344d1dceec183610a788a86?s=128&d=identicon&r=PG", "display_name": "gurvinder372", "link": "https://stackoverflow.com/users/1984039/gurvinder372"}, "edited": false, "score": 0, "creation_date": 1520414235, "post_id": 49148068, "comment_id": 85300694, "body": "What kind of answer are you looking for?"}, {"owner": {"reputation": 1451, "user_id": 3774088, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6f0a7783d5eb29494f4805223c51e28d?s=128&d=identicon&r=PG&f=1", "display_name": "Kornflexx", "link": "https://stackoverflow.com/users/3774088/kornflexx"}, "edited": false, "score": 0, "creation_date": 1520414310, "post_id": 49148068, "comment_id": 85300725, "body": "Let is scope sensitive, var isn&#39;t. I assume this choice was made to force js user to not fall into bad pratices."}, {"owner": {"reputation": 989, "user_id": 4290558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ESdZm.png?s=128&g=1", "display_name": "Kulvar", "link": "https://stackoverflow.com/users/4290558/kulvar"}, "edited": false, "score": 2, "creation_date": 1520414314, "post_id": 49148068, "comment_id": 85300729, "body": "var is an old thing. let and const where introduced so JS code is more strict with less unexpected behavior. If you try to redeclare it, it&#39;s not a normal behavior. Either you pick an other identifier, or you change the value (if it&#39;s not a const). Or you split your code into two functions because you have too much code lines in this one. It help thinking about your own code."}, {"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1520414550, "post_id": 49148068, "comment_id": 85300875, "body": "Please take a look at my question again."}], "answers": [{"comments": [{"owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "edited": false, "score": 0, "creation_date": 1520423965, "post_id": 49148459, "comment_id": 85306914, "body": "Such a long explanation. I am expecting to give a bounty to  this answer :) \u2013"}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": true, "score": 8, "last_activity_date": 1520415230, "creation_date": 1520415230, "answer_id": 49148459, "question_id": 49148068, "link": "https://stackoverflow.com/questions/49148068/why-does-var-allow-duplicate-declaration-but-why-does-const-and-let-not-allow-du/49148459#49148459", "title": "Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?", "body": "<h1>var</h1>\n\n<p>The <code>var</code> keyword was the only way to define variables until 2016*.</p>\n\n<p>No matter where you write <code>var x</code>, the variable <code>x</code> is treated as if it were declared at the top of the enclosing scope (scope for <code>var</code> is \"a function\").</p>\n\n<p>All declarations of the variable <em>within the same scope</em> are effectively talking about the same variable.</p>\n\n<p>Here is an example... you might think that within the function we overwrite the outer <code>name</code> with <code>fenton</code>, and add <code>Fenton</code> to the inner variable...</p>\n\n<pre><code>var name = 'Ramesh';\n\nfunction myFunc() {\n    name = 'fenton';\n\n    var name = 'Fenton';\n\n    alert(name);\n\n}\n\nmyFunc();\n\nalert(name);\n</code></pre>\n\n<p>In fact, it works just like this... the outer variable is not affected by the inner variable thanks to hoisting.</p>\n\n<pre><code>var name = 'Ramesh';\n\nfunction myFunc() {\n    var name;\n\n    name = 'fenton';\n\n    name = 'Fenton';\n\n    alert(name);\n\n}\n\nmyFunc();\n\nalert(name);\n</code></pre>\n\n<ul>\n<li>Actually, you could also declare them implicitly by not using the <code>var</code> keyword at all, in which case they would be added to the global scope. Subtle bugs were often tracked to this.</li>\n</ul>\n\n<h1>let and const</h1>\n\n<p>Both <code>let</code> and <code>const</code> are block-scoped, not function-scoped. This makes them work like variables in most other C-like languages. It turns out this is just less confusing than function-scoped variables.</p>\n\n<p>They are also both \"more disciplined\". They should be declared just once within a block.</p>\n\n<p>The <code>const</code> keyword also disallows subsequent assignments - so you have to declare it with an assignment (i.e. you can't just write <code>const x</code>, you have to write <code>const x = 'Fenton'</code>) - and you can't assign another value later.</p>\n\n<p>Some people think this makes the value immutable, but this is a mistake as the value can mutate, as shown below:</p>\n\n<pre><code>const x = [];\n\n// I can mutate even though I can't re-assign\nx.push('Fenton');\n\n// x is now ['Fenton']\n</code></pre>\n\n<h1>Why Does it Matter?</h1>\n\n<p>If you want to avoid some of the more confusing aspects of <code>var</code>, such as multiple declarations all contributing to the same hoisted variable, and function-scope, you should use the newer <code>const</code> and <code>let</code> keywords.</p>\n\n<p>I recommend using <code>const</code> as your default keyword, and upgrade it to <code>let</code> only in cases where you choose to allow re-assignment.</p>\n"}, {"tags": [], "owner": {"reputation": 48749, "user_id": 298455, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c468d026f399d60f3cd9429c0964255e?s=128&d=identicon&r=PG", "display_name": "Nishant", "link": "https://stackoverflow.com/users/298455/nishant"}, "is_accepted": false, "score": 2, "last_activity_date": 1520493142, "last_edit_date": 1520493142, "creation_date": 1520415338, "answer_id": 49148504, "question_id": 49148068, "link": "https://stackoverflow.com/questions/49148068/why-does-var-allow-duplicate-declaration-but-why-does-const-and-let-not-allow-du/49148504#49148504", "title": "Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?", "body": "<p>Unlike <code>var</code>, <code>let</code> is an ES2015 specification. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let\" rel=\"nofollow noreferrer\">specification</a> says:</p>\n\n<blockquote>\n  <p>Redeclaring the same variable within the same function or block scope raises a SyntaxError.</p>\n</blockquote>\n\n<p>This is to improve scoping over vanilla <code>var</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 60727, "user_id": 1984039, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/d6da57aad344d1dceec183610a788a86?s=128&d=identicon&r=PG", "display_name": "gurvinder372", "link": "https://stackoverflow.com/users/1984039/gurvinder372"}, "is_accepted": false, "score": 1, "last_activity_date": 1520415490, "creation_date": 1520415490, "answer_id": 49148552, "question_id": 49148068, "link": "https://stackoverflow.com/questions/49148068/why-does-var-allow-duplicate-declaration-but-why-does-const-and-let-not-allow-du/49148552#49148552", "title": "Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?", "body": "<p>Assuming you want to know whether this behavior is as per spec, check this <a href=\"http://www.ecma-international.org/ecma-262/6.0/#sec-variable-statement\" rel=\"nofollow noreferrer\">13.3.2</a></p>\n\n<blockquote>\n  <p>Within the scope of any VariableEnvironment a common BindingIdentifier\n  <strong>may appear in more than one VariableDeclaration</strong> but those declarations\n  collective <strong>define only one variable</strong>.</p>\n</blockquote>\n\n<p><code>let</code> and <code>const</code> are the recent editions, while <code>var</code> is probably as old as Javascript itself. </p>\n\n<p>In old days <strong>Javascript code-base didn't used to be too big to bother about programming mistakes</strong> and most probably focus was to ensure that <strong>instead of reporting the error of re-declaration of variable JS engine should handle it</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 1116, "user_id": 6457989, "user_type": "registered", "accept_rate": 54, "profile_image": "https://lh4.googleusercontent.com/-WqYZtN2xbQA/AAAAAAAAAAI/AAAAAAAAAJA/Q0Nr_eTCBsA/photo.jpg?sz=128", "display_name": "newbie", "link": "https://stackoverflow.com/users/6457989/newbie"}, "is_accepted": false, "score": 2, "last_activity_date": 1582807403, "creation_date": 1582807403, "answer_id": 60433534, "question_id": 49148068, "link": "https://stackoverflow.com/questions/49148068/why-does-var-allow-duplicate-declaration-but-why-does-const-and-let-not-allow-du/60433534#60433534", "title": "Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?", "body": "<blockquote>\n  <p>why does const and let not allow duplicate declaration?</p>\n</blockquote>\n\n<p>There's a big difference between how c# or java (for example) handle duplicate variable names, where name collision returns a compilation error, and how it works in an interpreted language like js. Please, check the snippet below: The value of <code>i</code> isn't duplicated? Not really, still, in the function and block context the same variable name is referred as two different variables, depending on where those are declared.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkLetDuplication() {\r\n  let i = 'function scope';\r\n  for ( let i = 0 ; i &lt; 3 ; i++ )\r\n  {\r\n    console.log('(for statement scope): inside the for loop i, equals: ', i);\r\n  }\r\n  console.log('(\"checkLetDuplication\" function scope): outside the for loop i , equals: ', i);\r\n}\r\ncheckLetDuplication();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 32323, "user_id": 2218635, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Uh7jt.jpg?s=128&g=1", "display_name": "Ramesh Rajendran", "link": "https://stackoverflow.com/users/2218635/ramesh-rajendran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 2, "accepted_answer_id": 49148459, "answer_count": 4, "score": 3, "last_activity_date": 1582807403, "creation_date": 1520414104, "last_edit_date": 1520923347, "question_id": 49148068, "link": "https://stackoverflow.com/questions/49148068/why-does-var-allow-duplicate-declaration-but-why-does-const-and-let-not-allow-du", "title": "Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?", "body": "<h2>Why does var allow duplicate declaration but why does const and let not allow duplicate declaration?</h2>\n\n<p><code>var</code> is allow duplicate declaration </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>xx=1;\r\nxx=2;\r\nconsole.log(xx+xx);//4\r\n\r\nvar xx=1;\r\nvar xx=2;\r\nconsole.log(xx+xx);//4\r\n\r\n </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>But <code>let</code> and <code>const</code> does not allow duplicate deceleration </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const yy=1;\r\nconst yy=2;\r\nconsole.log(yy+yy);//Uncaught SyntaxError: Identifier 'yy' has already been declared\",\r\n\r\nlet zz=1;\r\nlet zz=2;\r\nconsole.log(zz+zz);//Uncaught SyntaxError: Identifier 'zz' has already been declared\",</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I saw something about that in <a href=\"https://stackoverflow.com/questions/762011/whats-the-difference-between-using-let-and-var-to-declare-a-variable\">here</a> like,</p>\n\n<blockquote>\n  <p>Assuming strict mode, <code>var</code> will let you re-declare the same variable in the same scope. On the other hand, <code>let</code> will not.</p>\n</blockquote>\n\n<p>But I want to know Why <code>let</code> and <code>const</code> doesn't allow re-declaration? and why <code>var</code> does? and  How JavaScript handle these three type of deceleration ?</p>\n"}, {"tags": ["javascript", "typescript", "vue.js"], "comments": [{"owner": {"reputation": 44310, "user_id": 1206267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc673ce429f0eb6ae81d75691522c217?s=128&d=identicon&r=PG", "display_name": "Ohgodwhy", "link": "https://stackoverflow.com/users/1206267/ohgodwhy"}, "edited": false, "score": 0, "creation_date": 1520413763, "post_id": 49147919, "comment_id": 85300414, "body": "FYI that&#39;s not a truly <code>private</code> member, if you care."}, {"owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 1, "creation_date": 1520414410, "post_id": 49147919, "comment_id": 85300789, "body": "What is the value of <code>this</code> inside <code>mounted</code>?"}, {"owner": {"reputation": 5925, "user_id": 831138, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2T5YS.jpg?s=128&g=1", "display_name": "Xavier Pe&#241;a", "link": "https://stackoverflow.com/users/831138/xavier-pe%c3%b1a"}, "reply_to_user": {"reputation": 44310, "user_id": 1206267, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bc673ce429f0eb6ae81d75691522c217?s=128&d=identicon&r=PG", "display_name": "Ohgodwhy", "link": "https://stackoverflow.com/users/1206267/ohgodwhy"}, "edited": false, "score": 0, "creation_date": 1520414434, "post_id": 49147919, "comment_id": 85300806, "body": "@Ohgodwhy Yes, I know that the privacy of members are only enforced within the compiler."}, {"owner": {"reputation": 5925, "user_id": 831138, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2T5YS.jpg?s=128&g=1", "display_name": "Xavier Pe&#241;a", "link": "https://stackoverflow.com/users/831138/xavier-pe%c3%b1a"}, "reply_to_user": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "edited": false, "score": 0, "creation_date": 1520414709, "post_id": 49147919, "comment_id": 85300997, "body": "@JamesMonger Good question: in <code>constructor</code>, <code>this = MyVueComponent</code> whereas in <code>mounted</code> <code>this = VueComponent</code>. Although I still don&#39;t quite understand what is going wrong and how can I solve it."}, {"owner": {"reputation": 5925, "user_id": 831138, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2T5YS.jpg?s=128&g=1", "display_name": "Xavier Pe&#241;a", "link": "https://stackoverflow.com/users/831138/xavier-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1520415489, "post_id": 49147919, "comment_id": 85301488, "body": "Changing <code>private _myVar</code> to <code>public _myVar</code> or even <code>_myVar</code> gives the same result: when <code>mounted</code> =&gt; <code>console.log(this._myVar); &#47;&#47; undefined</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5925, "user_id": 831138, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2T5YS.jpg?s=128&g=1", "display_name": "Xavier Pe&#241;a", "link": "https://stackoverflow.com/users/831138/xavier-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1520416563, "post_id": 49148625, "comment_id": 85302194, "body": "&quot;because of the ordering within your generated constructor&quot; =&gt; even if I delete the constructor, <code>_myVar</code> is still <code>undefined</code> when mounted. The constructor was just added as a way to be 100% sure that the <code>_myValue</code> was indeed not <code>undefined</code>, and it was before <code>mounted</code>.  As @JamesMonger made me realize in the comments:  in <code>constructor</code>, <code>this = MyVueComponent</code> whereas in <code>mounted</code> <code>this = VueComponent</code>. Also, <code>VueRouter</code> is taking care of the constructor, so I can&#39;t use an arrow-function (I think). I don&#39;t quite get it, and I feel like there is something more basic that I am doing wrong..."}], "tags": [], "owner": {"reputation": 204677, "user_id": 75525, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/IYU63.png?s=128&g=1", "display_name": "Fenton", "link": "https://stackoverflow.com/users/75525/fenton"}, "is_accepted": false, "score": 1, "last_activity_date": 1520415697, "creation_date": 1520415697, "answer_id": 49148625, "question_id": 49147919, "link": "https://stackoverflow.com/questions/49147919/private-variable-not-available-when-component-is-mounted/49148625#49148625", "title": "Private variable not available when component is mounted", "body": "<p>The key to this one is how the <code>mounted</code> method is called.</p>\n\n<h1>Constructor</h1>\n\n<p>If it is called as part of the <code>Vue</code> constructor, the variable can be undefined. Here's a demo with a cut down set up that sees <code>_myVar</code> is undefined...</p>\n\n<pre><code>class Vue {\n    constructor() {\n        this.mounted();\n    }\n}\n\n\nclass MyVueComponent extends Vue {\n\n    private _myVar: string = \"not undefined\";\n\n    constructor() {\n        super();\n        console.log(this._myVar);\n    }\n\n    mounted() {\n        console.log(this._myVar);\n    }\n}\n\nconst x = new MyVueComponent();\n</code></pre>\n\n<p>This is because of the ordering within your generated constructor, which looks like this:</p>\n\n<pre><code>function MyVueComponent() {\n    var _this = _super.call(this) || this; // &lt;-- _myVar undefined\n    _this._myVar = \"not undefined\"; // &lt;-- and then it gets defined\n    console.log(_this._myVar);\n    return _this;\n}\n</code></pre>\n\n<h1>Event / Scope Loss</h1>\n\n<p>The second possibility is if the method is called by an event, or in another case where the scope could be lost:</p>\n\n<pre><code>class Vue {\n    constructor() {\n    }\n}\n\n\nclass MyVueComponent extends Vue {\n\n    private _myVar: string = \"not undefined\";\n\n    constructor() {\n        super();\n        console.log(this._myVar);\n    }\n\n    mounted() {\n        console.log(this._myVar);\n    }\n}\n\nconst x = new MyVueComponent();\n\n// Scope Interrupted\nwindow.setTimeout(x.mounted, 20);\n</code></pre>\n\n<p>In these cases, a scope-preserving arrow-function can solve the issue:</p>\n\n<pre><code>const x = new MyVueComponent();\nwindow.setTimeout(() =&gt; x.mounted(), 20);\n</code></pre>\n"}], "owner": {"reputation": 5925, "user_id": 831138, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/2T5YS.jpg?s=128&g=1", "display_name": "Xavier Pe&#241;a", "link": "https://stackoverflow.com/users/831138/xavier-pe%c3%b1a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520415697, "creation_date": 1520413659, "question_id": 49147919, "link": "https://stackoverflow.com/questions/49147919/private-variable-not-available-when-component-is-mounted", "title": "Private variable not available when component is mounted", "body": "<p>Example:</p>\n\n<pre><code>@Component\nexport default class MyVueComponent extends Vue {\n\n    private _myVar: string = \"not undefined\";\n\n    constructor() {\n        super();\n        console.log(this._myVar);\n    }\n\n    mounted() {\n        console.log(this._myVar);\n    }\n}\n</code></pre>\n\n<p>Console:</p>\n\n<pre><code>\"not undefined\"\nundefined\n</code></pre>\n\n<hr>\n\n<p>I don't seem to find the keywords to google the problem properly. Intuitively it shouldn't behave like this, but it is evident that I am doing something wrong / not understanding a basic concept.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 669, "user_id": 2326199, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe02cc0adb60e44c4285eeeef620b07f?s=128&d=identicon&r=PG", "display_name": "tjfdfs", "link": "https://stackoverflow.com/users/2326199/tjfdfs"}, "edited": false, "score": 0, "creation_date": 1520415733, "post_id": 49148148, "comment_id": 85301649, "body": "Thanks. This solve the problem. But I encounter an error: <code>TS2304: Cannot find name &#39;params&#39;.</code> after doing this. How to solve this? :-)"}, {"owner": {"reputation": 2945, "user_id": 3449808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IPO0K.jpg?s=128&g=1", "display_name": "Pavel Agarkov", "link": "https://stackoverflow.com/users/3449808/pavel-agarkov"}, "reply_to_user": {"reputation": 669, "user_id": 2326199, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe02cc0adb60e44c4285eeeef620b07f?s=128&d=identicon&r=PG", "display_name": "tjfdfs", "link": "https://stackoverflow.com/users/2326199/tjfdfs"}, "edited": false, "score": 0, "creation_date": 1520543530, "post_id": 49148148, "comment_id": 85370681, "body": "@tjfdfs there should not be any errors, but anyway i removed the second type anotation. if you still have an error - please provide playground link with it."}], "tags": [], "owner": {"reputation": 2945, "user_id": 3449808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IPO0K.jpg?s=128&g=1", "display_name": "Pavel Agarkov", "link": "https://stackoverflow.com/users/3449808/pavel-agarkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1520543346, "last_edit_date": 1520543346, "creation_date": 1520414359, "answer_id": 49148148, "question_id": 49147452, "link": "https://stackoverflow.com/questions/49147452/typescript-throw-ts7017-error-with-message-when-noimplicitany-is-on-element-imp/49148148#49148148", "title": "typescript throw TS7017 error with message when noImplicitAny is on: Element implicitly has an &#39;any&#39; type because type &#39;{}&#39; has no index signature", "body": "<p>For example you can explicitly specify types:   </p>\n\n<pre class=\"lang-ts prettyprint-override\"><code>function get(params: { [key: string]: any } = {}): string {\n    let url = '';\n\n    const paramStr = Object.keys(params).reduce((str, key) =&gt; {\n        const pairStr = `${key}=${params[key]}`;\n        return str.indexOf('?') !== -1 ? `&amp;${pairStr}` : `?${pairStr}`;\n    }, '');\n\n    url += paramStr;\n    console.log(url);\n\n    return url;\n}\n</code></pre>\n\n<p><strong>PS:</strong> basically all similar problems can be solved by providing concrete types.</p>\n"}, {"tags": [], "owner": {"reputation": 8159, "user_id": 1916362, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/fu3Fi.jpg?s=128&g=1", "display_name": "James Monger", "link": "https://stackoverflow.com/users/1916362/james-monger"}, "is_accepted": false, "score": 2, "last_activity_date": 1520414613, "creation_date": 1520414613, "answer_id": 49148241, "question_id": 49147452, "link": "https://stackoverflow.com/questions/49147452/typescript-throw-ts7017-error-with-message-when-noimplicitany-is-on-element-imp/49148241#49148241", "title": "typescript throw TS7017 error with message when noImplicitAny is on: Element implicitly has an &#39;any&#39; type because type &#39;{}&#39; has no index signature", "body": "<p>This is happening because <code>params</code> does not have a type signature associated with it. You need to provide a signature that defines the type of the <code>key</code> and <code>value</code> pair in the dictionary.</p>\n\n<p>You can do this like so:</p>\n\n<pre><code>function get(params: { [key: string]: string } = { }):string {\n</code></pre>\n\n<hr>\n\n<p>A more distinct example of this problem is:</p>\n\n<pre><code>const dict = {};\ndict[5] = \"five\";\n</code></pre>\n\n<p>That will cause errors until you provide a type signature for <code>dict</code>:</p>\n\n<pre><code>const dict: { [key: number]: string } = {};\ndict[5] = \"five\";\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 2326199, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fe02cc0adb60e44c4285eeeef620b07f?s=128&d=identicon&r=PG", "display_name": "tjfdfs", "link": "https://stackoverflow.com/users/2326199/tjfdfs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 49148148, "answer_count": 2, "score": 1, "last_activity_date": 1520543346, "creation_date": 1520412106, "last_edit_date": 1520413837, "question_id": 49147452, "link": "https://stackoverflow.com/questions/49147452/typescript-throw-ts7017-error-with-message-when-noimplicitany-is-on-element-imp", "title": "typescript throw TS7017 error with message when noImplicitAny is on: Element implicitly has an &#39;any&#39; type because type &#39;{}&#39; has no index signature", "body": "<p><a href=\"https://www.typescriptlang.org/play/#src=function%20get(params%20%3D%20%7B%7D)%3Astring%20%7B%0D%0A%20%20%20%20let%20url%20%3D%20&#39;&#39;%3B%0D%0A%0D%0A%20%20%20%20const%20paramStr%20%3D%20Object.keys(params).reduce((str%2C%20key)%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20const%20pairStr%20%3D%20%60%24%7Bkey%7D%3D%24%7Bparams%5Bkey%5D%7D%60%3B%0D%0A%20%20%20%20%20%20%20%20return%20str.indexOf(&#39;%3F&#39;)%20!%3D%3D%20-1%20%3F%20%60%26%24%7BpairStr%7D%60%20%3A%20%60%3F%24%7BpairStr%7D%60%3B%0D%0A%20%20%20%20%7D%2C%20&#39;&#39;)%3B%0D%0A%0D%0A%20%20%20%20url%20%2B%3D%20paramStr%3B%0D%0A%20%20%20%20console.log(url)%3B%0D%0A%0D%0A%20%20%20%20return%20url%3B%0D%0A%7D%0D%0A\" rel=\"nofollow noreferrer\">check demo on typescript playground</a></p>\n\n<p>set option <code>noImplicitAny</code> to <code>true</code>, then the error thrown.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OxsDP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OxsDP.png\" alt=\"noImplicitAny\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Mewf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mewf3.png\" alt=\"error scrrenshot\"></a>\nHow to fix this without setting <code>noImplicitAny</code> to <code>false</code>.</p>\n\n<p>Code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function get(params = {}):string {\r\n    let url = '';\r\n\r\n    const paramStr = Object.keys(params).reduce((str, key) =&gt; {\r\n        const pairStr = `${key}=${params[key]}`;\r\n        return str.indexOf('?') !== -1 ? `&amp;${pairStr}` : `?${pairStr}`;\r\n    }, '');\r\n\r\n    url += paramStr;\r\n    console.log(url);\r\n\r\n    return url;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["angular", "typescript", "jasmine", "rxjs", "karma-jasmine"], "answers": [{"comments": [{"owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "edited": false, "score": 0, "creation_date": 1520414393, "post_id": 49147462, "comment_id": 85300778, "body": "in my case do I only need to use <code>jasmine.clock().tick(300000);</code> ? or should I set a <code>timerCallback</code> as well ? it is not very clear to me how this example relates to my case"}, {"owner": {"reputation": 615, "user_id": 1713468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pasJ.jpg?s=128&g=1", "display_name": "Karthick Manoharan", "link": "https://stackoverflow.com/users/1713468/karthick-manoharan"}, "reply_to_user": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "edited": false, "score": 0, "creation_date": 1520416585, "post_id": 49147462, "comment_id": 85302211, "body": "Could you add more code details like what needs to be tested for every 5 mins?"}], "tags": [], "owner": {"reputation": 615, "user_id": 1713468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pasJ.jpg?s=128&g=1", "display_name": "Karthick Manoharan", "link": "https://stackoverflow.com/users/1713468/karthick-manoharan"}, "is_accepted": false, "score": 2, "last_activity_date": 1520417930, "last_edit_date": 1520417930, "creation_date": 1520412142, "answer_id": 49147462, "question_id": 49147248, "link": "https://stackoverflow.com/questions/49147248/how-to-unit-test-an-intervalobservable/49147462#49147462", "title": "How to unit test an IntervalObservable", "body": "<p><strong>Update:</strong></p>\n\n<p>To verify <code>this.myData</code> for every 5 mins. </p>\n\n<pre><code>it(\"should test data for 5min interval\", fakeAsync(() =&gt; { \ntick(300000);\nexpect(myData).toBe(testValue);\n}))\n</code></pre>\n\n<p><strong>Old Answer</strong></p>\n\n<p><code>Jasmine.clock</code> can be used for your puposes. \nCheck the below example from <a href=\"https://jasmine.github.io/2.0/introduction.html#section-Mocking_the_JavaScript_Timeout_Functions\" rel=\"nofollow noreferrer\">doc</a> </p>\n\n<pre><code>beforeEach(function() {\n    timerCallback = jasmine.createSpy(\"timerCallback\");\n    jasmine.clock().install();\n  });\n</code></pre>\n\n<blockquote>\n  <p>Be sure to uninstall the clock after you are done to restore the\n  original timer functions.</p>\n</blockquote>\n\n<pre><code>afterEach(function() {\n    jasmine.clock().uninstall();\n  });\n</code></pre>\n\n<blockquote>\n  <p>Calls to any registered callback are triggered when the clock is\n  ticked forward via the jasmine.clock().tick function, which takes a\n  number of milliseconds.</p>\n</blockquote>\n\n<pre><code>it(\"causes a timeout to be called synchronously\", function() {\n    setTimeout(function() {\n      timerCallback();\n    }, 100);\n\n    expect(timerCallback).not.toHaveBeenCalled();\n\n    jasmine.clock().tick(300000);\n\n    expect(timerCallback).toHaveBeenCalled();\n  });\n</code></pre>\n"}], "owner": {"reputation": 36829, "user_id": 3497671, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f83baf1bb818fad4fb1559ac2bf0304d?s=128&d=identicon&r=PG", "display_name": "Francesco Borzi", "link": "https://stackoverflow.com/users/3497671/francesco-borzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1520417930, "creation_date": 1520411333, "last_edit_date": 1520416779, "question_id": 49147248, "link": "https://stackoverflow.com/questions/49147248/how-to-unit-test-an-intervalobservable", "title": "How to unit test an IntervalObservable", "body": "<p>In my Angular app, I make use of an <a href=\"http://reactivex.io/rxjs/class/es6/observable/IntervalObservable.js~IntervalObservable.html\" rel=\"nofollow noreferrer\">IntervalObservable</a> in order to periodically perform some actions (in my case every \n5 minutes):</p>\n\n<pre><code>IntervalObservable.create(300000) // 5 minutes\n  .subscribe(() =&gt; {\n    this.someMethodReturningObs().subscribe((data) =&gt; {\n      this.myData = data;\n    });\n  });\n</code></pre>\n\n<p>how I can unit test it?</p>\n"}, {"tags": ["unit-testing", "typescript", "mocha.js", "office-js", "office-addins"], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 3485361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ONQFY.png?s=128&g=1", "display_name": "lokimidgard", "link": "https://stackoverflow.com/users/3485361/lokimidgard"}, "is_accepted": true, "score": 1, "last_activity_date": 1520596592, "creation_date": 1520596592, "answer_id": 49193273, "question_id": 49147092, "link": "https://stackoverflow.com/questions/49147092/unit-test-office-add-in-with-mocha/49193273#49193273", "title": "Unit Test Office Add-In with Mocha", "body": "<p>I needed to assing this enum to <code>global</code> so I can use it everywere.</p>\n\n<pre><code>export namespace Office {\n    export module MailboxEnums {\n        export enum ItemNotificationMessageType {\n            /**\n             * The notificationMessage is a progress indicator.\n             */\n            ProgressIndicator,\n            /**\n             * The notificationMessage is an informational message.\n             */\n            InformationalMessage,\n            /**\n             * The notificationMessage is an error message.\n             */\n            ErrorMessage\n        }\n    }\n}\n\n// tslint:disable-next-line:no-any\n(global as any).Office = Office;\n</code></pre>\n"}], "owner": {"reputation": 855, "user_id": 3485361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ONQFY.png?s=128&g=1", "display_name": "lokimidgard", "link": "https://stackoverflow.com/users/3485361/lokimidgard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 1, "accepted_answer_id": 49193273, "answer_count": 1, "score": 0, "last_activity_date": 1520596592, "creation_date": 1520410694, "question_id": 49147092, "link": "https://stackoverflow.com/questions/49147092/unit-test-office-add-in-with-mocha", "title": "Unit Test Office Add-In with Mocha", "body": "<p>I try to write unit tests for an outlook 365 add-in.</p>\n\n<p>So far I have mocked many classes with <a href=\"https://github.com/NagRock/ts-mockito\" rel=\"nofollow noreferrer\">ts-mockito</a>. However I facing a problem I currently can't easely evade. I get an <code>ReferenceError: Office is not defined</code> error executing my test. I tracked it down to the usage of Office Enums.</p>\n\n<pre><code>let item: MailItem;\n// ...\nlet messageType = Office.MailboxEnums.ItemNotificationMessageType.ErrorMessage;\nconsole.log('Won`t get here.');\nitem.AddNotification('Error404', { message: 'Element not found', type: messageType });\n</code></pre>\n\n<p>I mocked the <code>AddNotification</code> method, but I can't easely mock the Enum. I could create my own Enum and Write my on <code>AddNotification</code> method which get mocked, and internaly replace my own enum with the Office enum calling the original <code>AddNotification</code> method. But I don't like this aproach.</p>\n\n<p>Including the <code>Office.debug.js</code> in the test using <code>--require</code> also didn't work. </p>\n\n<p>I also tried to define the enums in the test class or the setup.js (which is <code>--required</code> by mocha).</p>\n\n<pre><code>export namespace Office {\n    export module MailboxEnums {\n        export enum ItemNotificationMessageType {\n            /**\n             * The notificationMessage is a progress indicator.\n             */\n            ProgressIndicator,\n            /**\n             * The notificationMessage is an informational message.\n             */\n            InformationalMessage,\n            /**\n             * The notificationMessage is an error message.\n             */\n            ErrorMessage\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "ionic-framework", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 3423, "user_id": 4047409, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RtvVm.jpg?s=128&g=1", "display_name": "realappie", "link": "https://stackoverflow.com/users/4047409/realappie"}, "is_accepted": false, "score": 0, "last_activity_date": 1520409827, "creation_date": 1520409827, "answer_id": 49146878, "question_id": 49146841, "link": "https://stackoverflow.com/questions/49146841/actionsheet-handle-event-function-does-not-executes-on-1st-click-in-ionic3/49146878#49146878", "title": "Actionsheet handle event function does not executes on 1st click in Ionic3", "body": "<p>I think you should not be dismissing the action sheet yourself. If you simply add the property <code>role</code> to the object with the hide <code>text</code> property it will act as a cancel button.</p>\n\n<pre><code>{\n     text: 'Hide',\n     role: 'cancel'\n     handler: () =&gt; {\n          let navTransition = actionSheet.dismiss();\n          return false;\n     }\n}\n</code></pre>\n\n<p><strong>Edit</strong>: I accidentally posted an answer, but it does not provide a solution to your problem. Can you please show us more information? How are you calling the <code>createactions</code> method</p>\n"}], "owner": {"reputation": 1392, "user_id": 3858422, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/isYW1.jpg?s=128&g=1", "display_name": "OshoParth", "link": "https://stackoverflow.com/users/3858422/oshoparth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520420319, "creation_date": 1520409659, "last_edit_date": 1520420319, "question_id": 49146841, "link": "https://stackoverflow.com/questions/49146841/actionsheet-handle-event-function-does-not-executes-on-1st-click-in-ionic3", "title": "Actionsheet handle event function does not executes on 1st click in Ionic3", "body": "<p>I am trying to implement sorting a data on basis of some attributes like name,complete,incomplete etc in an ionic3 application. I have implemented <code>Actionsheet</code> for this but it does not seems to work on first click.However this works on later clicks.below is the code of the <code>.ts</code> file for reference.</p>\n\n<pre><code>  sort(property){\n    this.isDesc = !this.isDesc; //change the direction    \n    this.column = property;\n    let direction = this.isDesc ? 1 : -1;\n\n    this.dataList.sort(function(a, b){\n\n      console.log(a);\n\n        if(a[property] &lt; b[property]){\n            return -1 * direction;\n        }\n        else if( a[property] &gt; b[property]){\n            return 1 * direction;\n        }\n        else{\n            return 0;\n        }\n    });\n\n    console.log(this.dataList);\n  };\n\n  createactions(){\n    let actionSheet = this.actionSheetCtrl.create({\n    title: 'Action Sheet Title',\n    buttons: [\n        {\n            text: 'Sort By Completed',\n            handler: () =&gt; {\n                this.sort('complete');\n            }\n        },\n        {\n            text: 'Sort By Incomplete',\n            handler: () =&gt; {\n                this.sort('incomplete');\n            }\n        },\n        {\n            text: 'Sort By Name',\n            handler: () =&gt; {\n               this.sort('VillageName');\n            }\n        },\n        {\n            text: 'Hide',\n            handler: () =&gt; {\n                let navTransition = actionSheet.dismiss();\n                return false;\n            }\n        }\n      ]\n    });\n    actionSheet.present();    \n  }\n</code></pre>\n\n<p>As requested the code for the calling of <code>createactions()</code> is as follows</p>\n\n<pre><code>&lt;ion-fab right bottom&gt;\n  &lt;button ion-fab (click)=\"createactions()\"&gt;\n    &lt;ion-icon name=\"stats\"&gt;&lt;/ion-icon&gt;\n  &lt;/button&gt;\n&lt;/ion-fab&gt;\n</code></pre>\n\n<p>Unable to figure out the issue.</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1520408847, "post_id": 49146484, "comment_id": 85297812, "body": "You shouldn&#39;t use pipes to filter in the first place: <a href=\"https://angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe\" rel=\"nofollow noreferrer\">angular.io/guide/pipes#appendix-no-filterpipe-or-orderbypipe</a>"}, {"owner": {"reputation": 943, "user_id": 630209, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/06b538f9096e8c37d1246fee3b724b2b?s=128&d=identicon&r=PG", "display_name": "user630209", "link": "https://stackoverflow.com/users/630209/user630209"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1520409385, "post_id": 49146484, "comment_id": 85298098, "body": "@JBNizet Then how to achieve this requirement ?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1520409452, "post_id": 49146484, "comment_id": 85298136, "body": "From the link I posted: <i>The Angular team and many experienced Angular developers strongly recommend moving filtering and sorting logic into the component itself. The component can expose a filteredHeroes or sortedHeroes property and take control over when and how often to execute the supporting logic. Any capabilities that you would have put in a pipe and shared across the app can be written in a filtering/sorting service and injected into the component.</i>"}], "owner": {"reputation": 943, "user_id": 630209, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/06b538f9096e8c37d1246fee3b724b2b?s=128&d=identicon&r=PG", "display_name": "user630209", "link": "https://stackoverflow.com/users/630209/user630209"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520409355, "creation_date": 1520408192, "last_edit_date": 1520409355, "question_id": 49146484, "link": "https://stackoverflow.com/questions/49146484/better-way-to-achieve-a-common-filter-for-different-types-of-list", "title": "Better way to achieve a common filter for different types of List", "body": "<p>I am having two json arrays</p>\n\n<p>One is of type Master &amp; another is of Division master</p>\n\n<p>I want to filter both the type and divison list\n     \n     </p>\n\n<pre><code> &lt;input [(ngModel)]=\"search\"&gt;\n &lt;li *ngFor=\"let type of divisonMaster| filterMaster : search\"&gt;\n</code></pre>\n\n<p>Here I need to create two different filter since on is filtered using type desciption and other is filtered using division description.</p>\n\n<p>sample for type filter</p>\n\n<pre><code>import { Pipe, PipeTransform } from '@angular/core';\nimport { TypeMaster } from '../common/objectModels/type-master-model';\n@Pipe({\n  name: 'filterType'\n})\nexport class FilterPipe implements PipeTransform {\n  transform(items: any[], searchText: string): any[] {\n    if (!items) return [];\n    if (!searchText) return items;\n    searchText = searchText.toLowerCase();\n\n      return items.filter(it =&gt; {\n        return it.typeDescription.toLowerCase().includes(searchText);\n      });\n\n  }\n}\n</code></pre>\n\n<p>Is there a way I can achive this using a common filter.\nOne way to achieve this is using  instance of. But using instance of inside filter will cause performance I feel.</p>\n\n<p>Any better way to achieve a common filter for different types of List.</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520407764, "post_id": 49146246, "comment_id": 85297346, "body": "I should also point out that my example is very simplified, and used to explain my problem. This is a problem that has occured quite a few times whilst developing in angular."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520412401, "post_id": 49146621, "comment_id": 85299627, "body": "Thanks for the answer, glad to see i&#39;m not doing anything to strange. I did play with reactive forms a little, but i found them a little complicated and inflexible( This was when i was just beginning so I might revisit them) ."}, {"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520412534, "post_id": 49146621, "comment_id": 85299715, "body": "Also whats wrong with accessing a private method from view? It works fine, and so i assumed that the view was kind of like a member of the component, and so allowed to acces it."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520442004, "post_id": 49146621, "comment_id": 85319572, "body": "It works fine in JIT mode. As soon as you&#39;ll build for production, with the --prod flag (or just the -aot flag), it won&#39;t anymore. The view is a client of the component: it accesses its fields. The AOT compiler compiles the view to a TypeScript class. A TypeScript class may not access a private field of another class."}, {"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520453201, "post_id": 49146621, "comment_id": 85326095, "body": "Ahhh yes that would make sense. I think I may need to reconfigure a few things to get a working production build. How much faster is aot compared to jit, I have been running live tests( without prod) and have had pretty good load times so far."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "reply_to_user": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520453469, "post_id": 49146621, "comment_id": 85326246, "body": "The runtime is just as fast. What changed dramatically is the startup time: Angular doesn&#39;t have to compile all the component templates anymore, and the compiler doesn&#39;t have to be bundled anymore. When you start having something like 50 or 100 components (which is not that much), you can see a real difference (a few millis vs. 2-4 seconds). Why don&#39;t you use angular cli? All you would have to do is <code>ng build --prod</code>."}, {"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 1, "creation_date": 1520454110, "post_id": 49146621, "comment_id": 85326577, "body": "I have angular directly integrated into my backend( MVC 5) and the whole lot goes up at once. This is starting to look like a bad way of doing things, so I may need to restructure, the angular part to its own project&gt;&gt; build using prod&gt;&gt; insert static files into the MVC backend"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 1, "last_activity_date": 1520409802, "last_edit_date": 1520409802, "creation_date": 1520408735, "answer_id": 49146621, "question_id": 49146246, "link": "https://stackoverflow.com/questions/49146246/how-to-process-input-data-between-view-and-model-in-angular/49146621#49146621", "title": "How to process input data between view and model in angular", "body": "<ol>\n<li><p>Nothing is inherently wrong (except calling a private method from the view). But most of the time, a form is used to gather information, and then do something with it when it's submitted. So simply binding the form controls to a model makes sense.</p></li>\n<li><p>There are several alternatives:</p>\n\n<ul>\n<li>You can use a template-based form (i.e. <code>ngModel</code>), and, in addition to simply binding the field to <code>task.startDate</code>, use <code>(ngModelChange)</code> to react to the model change, and thus process the date. Or you can use a setter instead of a public field, and thus do the work from inside the setter</li>\n<li>You can use a reactive form, and subscribe to the <code>valueChanges</code> observable of the FormControl to be notified every time the value changes, and thus process the date from there.</li>\n</ul></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520412829, "post_id": 49146639, "comment_id": 85299865, "body": "Thanks for replying. Like JB Nizet&#39;s answer the two way binding  and change event probably is a bit neater.  Any ideas if it&#39;s better performance wise, seeing as it&#39;s done with one binding?"}, {"owner": {"reputation": 1155, "user_id": 2114322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5ipw.jpg?s=128&g=1", "display_name": "Naoe", "link": "https://stackoverflow.com/users/2114322/naoe"}, "reply_to_user": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520414551, "post_id": 49146639, "comment_id": 85300879, "body": "I think that performance wise they are very similar. ngModel is optimized for two-way binding, but supports alot of different scenarios. If you want to take a deep dive, you can read the source code of ngModel here: <a href=\"https://github.com/angular/angular/blob/5.2.7/packages/forms/src/directives/ng_model.ts#L47-L273\" rel=\"nofollow noreferrer\">github.com/angular/angular/blob/5.2.7/packages/forms/src/&hellip;</a>."}, {"owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "edited": false, "score": 0, "creation_date": 1520415051, "post_id": 49146639, "comment_id": 85301197, "body": "I agree, they seemed pretty similar in my experience."}], "tags": [], "owner": {"reputation": 1155, "user_id": 2114322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z5ipw.jpg?s=128&g=1", "display_name": "Naoe", "link": "https://stackoverflow.com/users/2114322/naoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1520408808, "creation_date": 1520408808, "answer_id": 49146639, "question_id": 49146246, "link": "https://stackoverflow.com/questions/49146246/how-to-process-input-data-between-view-and-model-in-angular/49146639#49146639", "title": "How to process input data between view and model in angular", "body": "<p>I don't see anything wrong with your solution. </p>\n\n<p>I think using <code>ngModel</code> is usually better for two-way binding because you don't have to write the code that sync the values multiple times. However if you need to perform a lot of logic when the value updates, it's perfectly ok to use <code>change</code>.</p>\n\n<p>You can also mix them, in case you want to keep the two-way binding while doing some logic when the value changes.</p>\n\n<pre><code>&lt;input type=\"date\" (change)=\"onStartDateChange($event.value, task)\" \n       [(ngModel)]=\"task.startDate\" &gt;\n</code></pre>\n\n<hr>\n\n<pre><code>onStartDateChange(value: Date, task: Task){\n\n     //do some proccessing\n\n     //set the value\n     task.startDate = value;\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 1326240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634e6852da67dda3a0faf0841c1de135?s=128&d=identicon&r=PG", "display_name": "user1326240", "link": "https://stackoverflow.com/users/1326240/user1326240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "accepted_answer_id": 49146621, "answer_count": 2, "score": 0, "last_activity_date": 1520409802, "creation_date": 1520407274, "last_edit_date": 1520407939, "question_id": 49146246, "link": "https://stackoverflow.com/questions/49146246/how-to-process-input-data-between-view-and-model-in-angular", "title": "How to process input data between view and model in angular", "body": "<p>I have been working in angular( version 5.2 ) for a couple of months now and feel as though I must be missing something fairly obvious. My problem is that I need to perform manipulation to my data between the view and the model. </p>\n\n<p>For example I am building a simplified app that interacts with Microsoft project. The end user should only have to enter a start and end date for each task. Depending on a few other factors that exist within my component it may update the models start/end date directly( +- extra days) or alter another variable within that task. So using </p>\n\n<pre><code>&lt;input type=\"date\" [(task.startDate)] /&gt;\n</code></pre>\n\n<p>isn't really  appropriate. My solution to this is was to use something like</p>\n\n<pre><code>&lt;input type=\"date\" (change)=\"processTheDate($event.value, task)\" [value]=\"task.startDate\" &gt;\n\n\nprivate processTheDate(value: Date, task: Task){\n\n     //do some proccessing\n\n     //set the value\n     task.startDate = value;\n}\n</code></pre>\n\n<p>From what I have read online this is not the <a href=\"https://stackoverflow.com/a/34918214/1326240\">preferred solution</a> </p>\n\n<p>My questions is actually two fold.</p>\n\n<p><strong>1. What is wrong with usurping angular's data binding such as in my example?</strong></p>\n\n<p><strong>2. What is a better alternative?</strong></p>\n"}, {"tags": ["angular", "typescript", "rxjs", "ngrx-store"], "answers": [{"comments": [{"owner": {"reputation": 6307, "user_id": 296725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d98068262772490a536ba5060dc92100?s=128&d=identicon&r=PG", "display_name": "morphatic", "link": "https://stackoverflow.com/users/296725/morphatic"}, "edited": false, "score": 0, "creation_date": 1520451316, "post_id": 49147661, "comment_id": 85325089, "body": "THANK YOU! Just had one of those moments when the clouds part and you have an epiphany about the way something works. :)"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 1, "last_activity_date": 1520412836, "creation_date": 1520412836, "answer_id": 49147661, "question_id": 49146053, "link": "https://stackoverflow.com/questions/49146053/is-this-the-correct-way-to-access-state-variables-within-a-class-when-using-ngr/49147661#49147661", "title": "Is this the correct way to access state variables within a class when using @ngrx/store?", "body": "<p>As explained in <a href=\"https://github.com/ngrx/store/issues/296\" rel=\"nofollow noreferrer\">this issue</a>, the capability of getting current value was intentionally removed in ngrx because it was misused, and now this is achievable only via a hack:</p>\n\n<pre><code>function getValue(o) {\n  let value;\n  o.take(1).subcribe(v =&gt; {\n    value = v;\n  });\n  return value;\n}\n</code></pre>\n\n<p>The purpose of observables is to provide a stream of data. Store value can be changed, and if a service that uses it isn't reinstantiated, it will continue to use old value. So it's expected that once there is a stream, it's transformed and combined with other streams and subscribed only where it's consumed (most times this will be a view, where it can be used with <code>async</code> pipe).</p>\n\n<p>In this case it will be:</p>\n\n<pre><code>isItFoo$ = store.pipe(\n  select('foo'),\n  map((foo: boolean) =&gt; foo ? \"it's foo!\" : 'nope, not foo')\n);\n</code></pre>\n"}], "owner": {"reputation": 6307, "user_id": 296725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d98068262772490a536ba5060dc92100?s=128&d=identicon&r=PG", "display_name": "morphatic", "link": "https://stackoverflow.com/users/296725/morphatic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 0, "accepted_answer_id": 49147661, "answer_count": 1, "score": 2, "last_activity_date": 1520412836, "creation_date": 1520406454, "question_id": 49146053, "link": "https://stackoverflow.com/questions/49146053/is-this-the-correct-way-to-access-state-variables-within-a-class-when-using-ngr", "title": "Is this the correct way to access state variables within a class when using @ngrx/store?", "body": "<p>I have a service that needs to make decisions based on the value of a variable stored in the <code>AppState</code>. Here is a <strong>greatly</strong> simplified version of my service:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Injectable } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\n\ninterface AppState {\n  foo: boolean;\n}\n\n@Injectable()\nexport class FooProvider {\n\n  private isFoo: boolean;\n\n  constructor(private store: Store&lt;AppState&gt;) {\n    // is it foo?\n    store.pipe(select('foo')).subscribe((foo: boolean) =&gt; {\n      this.isFoo = foo;\n    });\n  }\n\n  isItFoo = (): string =&gt; this.isFoo ? \"it's foo!\" : 'nope, not foo';\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Question: Is this the \"right\" way to access and use a variable stored in the <code>AppState</code> <em>within a class</em> in an app using <code>@ngrx/store</code>?</strong></p>\n</blockquote>\n\n<p>In a <code>Component</code> I believe I could use the <code>foo</code> variable much more simply with the <code>async</code> pipe, like so:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { Component } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable } from 'rxjs';\n\ninterface AppState {\n  foo: boolean;\n}\n\n@Component(\n  selector: 'foo-component',\n  template: `&lt;p&gt;{{ ( foo$ | async ) ? \"it's foo!\" : \"nope, not foo\" }}&lt;/p&gt;`\n)\nexport class FooComponent {\n\n  private foo$: Observable&lt;boolean&gt;;\n\n  constructor(private store: Store&lt;AppState&gt;) {\n    this.foo$ = store.pipe(select('foo'));\n  }\n}\n</code></pre>\n\n<p>Is there a better/easier/more correct way to access state variables within a class?</p>\n"}, {"tags": ["c#", "angular", "typescript"], "comments": [{"owner": {"reputation": 3, "user_id": 6430294, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7BUVdcfUsE/AAAAAAAAAAI/AAAAAAAAADE/6Z1xs3jwYZ0/photo.jpg?sz=128", "display_name": "Suresh Borade", "link": "https://stackoverflow.com/users/6430294/suresh-borade"}, "edited": false, "score": 0, "creation_date": 1520406349, "post_id": 49145993, "comment_id": 85296724, "body": "I&#39;m expecting output like &lt;td&gt;View&lt;/td&gt; but it showing &lt;td&gt;&lt;a href=&quot;testurl.com&quot;&gt;View&lt;/td&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6430294, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7BUVdcfUsE/AAAAAAAAAAI/AAAAAAAAADE/6Z1xs3jwYZ0/photo.jpg?sz=128", "display_name": "Suresh Borade", "link": "https://stackoverflow.com/users/6430294/suresh-borade"}, "edited": false, "score": 0, "creation_date": 1520408336, "post_id": 49146389, "comment_id": 85297620, "body": "How I can use it? in scenario like below &lt;table id=&quot;tblJobs&quot; class=&#39;table table-manage&#39;&gt;         &lt;thead align=&quot;center&quot;&gt;             &lt;tr&gt;                 &lt;th *ngFor=&quot;column item of columnName&quot;&gt;                     {{column}}                 &lt;/th&gt;             &lt;/tr&gt;         &lt;/thead&gt;         &lt;tbody&gt;             &lt;tr id=&quot;JobsRow&quot; *ngFor=&quot;let data of htmlDataRows&quot;&gt;                 &lt;td *ngFor=&quot;let column of columnName&quot;&gt;                     {{data[column]}}                 &lt;/td&gt;             &lt;/tr&gt;         &lt;/tbody&gt;     &lt;/table&gt;"}], "tags": [], "owner": {"reputation": 1, "user_id": 9455262, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FDW91xvIcNw/AAAAAAAAAAI/AAAAAAAAAwc/1p7bLkshp2w/photo.jpg?sz=128", "display_name": "ch.ramya krishna", "link": "https://stackoverflow.com/users/9455262/ch-ramya-krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1520408427, "last_edit_date": 1520408427, "creation_date": 1520407789, "answer_id": 49146389, "question_id": 49145993, "link": "https://stackoverflow.com/questions/49145993/how-to-add-html-tag-from-json-to-html-table-tdin-angular-4/49146389#49146389", "title": "How to add html tag from JSon to html table &lt;td&gt;in angular 4", "body": "<p>try using the innerHTML in the tag as below</p>\n\n<pre><code>&lt;td [innerHtml]=\"Data[0].View\"&gt;&lt;/td&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6430294, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R7BUVdcfUsE/AAAAAAAAAAI/AAAAAAAAADE/6Z1xs3jwYZ0/photo.jpg?sz=128", "display_name": "Suresh Borade", "link": "https://stackoverflow.com/users/6430294/suresh-borade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520408427, "creation_date": 1520406217, "last_edit_date": 1520408291, "question_id": 49145993, "link": "https://stackoverflow.com/questions/49145993/how-to-add-html-tag-from-json-to-html-table-tdin-angular-4", "title": "How to add html tag from JSon to html table &lt;td&gt;in angular 4", "body": "<p>I'm using angular 4, I have Json like below </p>\n\n<pre><code>{\"Data\":[{\"View\":\"&lt;a href=\"testurl.com\"&gt;View&lt;/a&gt;\"]}\n</code></pre>\n\n<p>I get <code>Data.View(\"&lt;a href=\"testurl.com\"&gt;View&lt;/a&gt;\")</code> to bind with html <code>&lt;td&gt;</code>.</p>\n\n<p>but when I try to bind this with html table It shows whole string in html table <code>&lt;td&gt;&lt;a href=\"testurl.com\"&gt;View&lt;/a&gt;&lt;/td&gt;</code> as it is, instead of <code>&lt;td&gt;</code><a href=\"http://abcd.com\" rel=\"nofollow noreferrer\"><code>View</code></a><code>&lt;/td&gt;</code></p>\n"}, {"tags": ["angular", "twitter-bootstrap", "typescript", "accordion"], "comments": [{"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1520406566, "post_id": 49145626, "comment_id": 85296809, "body": "You&#39;re using <a href=\"https://getbootstrap.com/docs/4.0/components/collapse/\" rel=\"nofollow noreferrer\">Bootstrap</a> right? You should probably add it as a tag (the one with the version you&#39;re using) and make it more obvious in your question."}], "answers": [{"tags": [], "owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "is_accepted": false, "score": 0, "last_activity_date": 1520408662, "creation_date": 1520408662, "answer_id": 49146602, "question_id": 49145626, "link": "https://stackoverflow.com/questions/49145626/make-my-accordion-respond-dynamically/49146602#49146602", "title": "Make my accordion respond dynamically?", "body": "<p>In your array component you expect an input of array type but actually you are passing an element not an array:</p>\n\n<pre><code>&lt;ng-container *ngFor=\"let item of content\"&gt;\n          &lt;my-array [data]=\"item\" //Here the item is an object&gt;&lt;/my-array&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p>//////////////////////////////////////////////</p>\n\n<pre><code>export class ArrayComponent implements OnInit {\n\n@Input() data: any[]// You are expecting an array;\n</code></pre>\n\n<p>Try to pass your array:</p>\n\n<pre><code>&lt;ng-container&gt;\n      &lt;my-array [data]=\"content\" //Here the item is an object&gt;&lt;/my-array&gt;\n&lt;/ng-container&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4218, "user_id": 2636938, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LQeP8.jpg?s=128&g=1", "display_name": "CodeWarrior", "link": "https://stackoverflow.com/users/2636938/codewarrior"}, "edited": false, "score": 0, "creation_date": 1520477661, "post_id": 49163599, "comment_id": 85334719, "body": "Have a look at the following link, this is how I want it <a href=\"https://stackblitz.com/edit/angular-it567b?file=app%2Fhello.component.ts\" rel=\"nofollow noreferrer\">stackblitz.com/edit/&hellip;</a> But it doesn&#39;t work if any of the items have more than one word or has a space I want them to be under separate headings"}, {"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "reply_to_user": {"reputation": 4218, "user_id": 2636938, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LQeP8.jpg?s=128&g=1", "display_name": "CodeWarrior", "link": "https://stackoverflow.com/users/2636938/codewarrior"}, "edited": false, "score": 0, "creation_date": 1520478516, "post_id": 49163599, "comment_id": 85334906, "body": "@CodeWarrior <code>#collapse{{contentObj.heading}}{{item.title}}</code> all like this is wrong. It needs to be #collapse as a string. <code>&#39;#collapse&#39; +  {{contentObj.heading}}{{item.title}}</code>"}], "tags": [], "owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "is_accepted": true, "score": 7, "last_activity_date": 1520469589, "creation_date": 1520469589, "answer_id": 49163599, "question_id": 49145626, "link": "https://stackoverflow.com/questions/49145626/make-my-accordion-respond-dynamically/49163599#49163599", "title": "Make my accordion respond dynamically?", "body": "<p>You need to bind the attributes that bootstrap relies on to toggle the div's accordingly:</p>\n\n<p>Being:</p>\n\n<ul>\n<li>panel-heading: <code>id</code>, <code>href</code>, <code>aria-controls</code></li>\n<li>panel-collapse: <code>id</code>, <code>aria-labeledby</code> </li>\n</ul>\n\n<p>Here is a snippet from the working example:<br></p>\n\n<pre><code>&lt;div class=\"panel-heading\" role=\"tab\" [id]=\"'heading'+data.id\"&gt;\n    &lt;h4 class=\"panel-title\"&gt;\n        &lt;a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" [href]=\"'#collapse'+data.id\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse'+data.id\"&gt;\n            {{data.header}}\n        &lt;/a&gt;\n    &lt;/h4&gt;\n&lt;/div&gt;\n&lt;div [id]=\"'collapse'+data.id\" class=\"panel-collapse collapse\" role=\"tabpanel\" [attr.aria-labelledby]=\"'heading'+data.id\"&gt;\n    &lt;div class=\"panel-body\"&gt;\n        {{data.content}}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/angular-osvv72\" rel=\"noreferrer\">https://stackblitz.com/edit/angular-osvv72</a></p>\n\n<p>Note that we have to prefix the aria attributes because they are not native attributes to <code>&lt;div&gt;</code> &amp; <code>&lt;a&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4218, "user_id": 2636938, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LQeP8.jpg?s=128&g=1", "display_name": "CodeWarrior", "link": "https://stackoverflow.com/users/2636938/codewarrior"}, "is_accepted": false, "score": 0, "last_activity_date": 1520478664, "creation_date": 1520478664, "answer_id": 49164747, "question_id": 49145626, "link": "https://stackoverflow.com/questions/49145626/make-my-accordion-respond-dynamically/49164747#49164747", "title": "Make my accordion respond dynamically?", "body": "<p>Thanks everyone for the help. @Zze I built further on your idea to get exactly what I wanted. Here is my code that works the was I wanted. As in my case I had multiple headings and multiple accordion objects inside them.</p>\n\n<pre><code>this.content = [{\n            heading: 'header1ds kfgdskg',\n            id: 1,\n            testData: [{\n                title: 'title1 ds;olfhsdjkl',\n                content: 'content1 sdkjfhdskj'\n            }, {\n                title: 'title2 asdlkgkf',\n                content: 'content2 dsaghfdsf'\n            }]\n        }, {\n            heading: 'header2 sdfdsfds',\n            id: 2,\n            testData: [{\n                title: 'title1 sdfdsfs',\n                content: 'content1 sdygfsdgf'\n            }, {\n                title: 'title2 bsdfdudtfsd',\n                content: 'content2 sdk;fgdsugkft'\n            }]\n        }]\n    }\n</code></pre>\n\n<p>Changed my <strong>html</strong> code to this</p>\n\n<pre><code>&lt;h2&gt;{{contentObj.heading}}&lt;/h2&gt;\n&lt;div class=\"columnOne\" [id]=\"'accordion' + contentObj.id\" role=\"tablist\" aria-multiselectable=\"true\"&gt;\n    &lt;div *ngFor=\"let item of contentObj.testData; let i = index;\"&gt;\n        &lt;div role=\"tab\" [id]=\"'heading' + contentObj.id\"&gt;\n            &lt;h4&gt;\n                &lt;a role=\"button\" data-toggle=\"collapse\" [attr.data-parent]=\"'#accordion' + contentObj.id\"\n                   [href]=\"'#collapse' + contentObj.id + i\" aria-expanded=\"true\" [attr.aria-controls]=\"'collapse' + contentObj.id + i\"&gt;\n                    {{item.title}}\n                &lt;/a&gt;\n            &lt;/h4&gt;\n            &lt;div [id]=\"'collapse' + contentObj.id + i\" class=\"panel-collapse collapse in\" role=\"tabpanel\" [attr.aria-labelledby]=\"'heading' + contentObj.id\"&gt;\n                &lt;div class=\"panel-body\"&gt;\n                    {{item.content}}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 4218, "user_id": 2636938, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LQeP8.jpg?s=128&g=1", "display_name": "CodeWarrior", "link": "https://stackoverflow.com/users/2636938/codewarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14629, "favorite_count": 0, "accepted_answer_id": 49163599, "answer_count": 3, "score": 2, "last_activity_date": 1520478664, "creation_date": 1520404583, "last_edit_date": 1520464108, "question_id": 49145626, "link": "https://stackoverflow.com/questions/49145626/make-my-accordion-respond-dynamically", "title": "Make my accordion respond dynamically?", "body": "<p>I have created an accordion component that fills the values dynamically provided by the parent component. What I am not able to achieve is that each accordion should respond to the respective click. Currently, no matter which accordion I click, it just collapses and expands the first one. Here is my code:</p>\n\n<p><strong>array-parent.component.ts</strong></p>\n\n<pre><code>import { Component, AfterViewInit, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'my-array-parent',\n    templateUrl: './array-parent.component.html',\n})\nexport class ArrayParentComponent implements OnInit {\n    private content: Test[];\n\n    ngOnInit(): void {\n        this.content = [{\n            heading: 'header1',\n            testData: [{\n                title: 'title1',\n                content: 'content1'\n            }, {\n                title: 'title2',\n                content: 'content2'\n            }]\n        }, {\n            heading: 'header2',\n            testData: [{\n                title: 'title1',\n                content: 'content1'\n            }, {\n                title: 'title2',\n                content: 'content2'\n            }]\n        }]\n    }\n}\n\nexport class Test {\n    heading: string;\n    testData: TestItem[];\n}\n\nexport class TestItem {\n    title: string;\n    content: string;\n}\n</code></pre>\n\n<p><strong>array-parent.component.html</strong></p>\n\n<pre><code>&lt;ng-container *ngFor=\"let item of content\"&gt;\n    &lt;my-array [data]=\"item\"&gt;&lt;/my-array&gt;\n&lt;/ng-container&gt;\n</code></pre>\n\n<p><strong>array.component.ts</strong></p>\n\n<pre><code>import { Component, Input, OnInit, AfterViewInit } from '@angular/core';\n\n@Component({\n    selector: 'my-array',\n    templateUrl: './array.component.html'\n})\n\nexport class ArrayComponent implements OnInit {\n\n    @Input() data: any;\n\n    private contentObj: any;\n\n    constructor() { }\n\n    ngOnInit(): void {\n        this.contentObj = this.data;\n    }\n}\n</code></pre>\n\n<p><strong>array.component.html</strong></p>\n\n<pre><code>&lt;h2&gt;{{contentObj.heading}}&lt;/h2&gt;\n&lt;div class=\"columnOne\" id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\"&gt;\n    &lt;div *ngFor=\"let item of contentObj.testData;\"&gt;\n        &lt;div role=\"tab\" id=\"headingone\"&gt;\n            &lt;h4&gt;\n                &lt;a role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapseone\" aria-expanded=\"true\" aria-controls=\"collapseone\"&gt;\n                    {{item.title}}\n                &lt;/a&gt;\n            &lt;/h4&gt;\n            &lt;div id=\"collapseone\" class=\"panel-collapse collapse in\" role=\"tabpanel\" aria-labelledby=\"headingone\"&gt;\n                &lt;div class=\"panel-body\"&gt;\n                    {{item.content}}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I really want to do is that each accordion should expand and collapse only when it is clicked. Currently, no matter which accordion I click only the first one expands and collapse. I know that it is because it gets a static ID. I tried a few possible options to assign a dynamic id to all the fields but haven't been successful. Any help is greatly appreciated.</p>\n"}, {"tags": ["angular", "typescript", "trim"], "comments": [{"owner": {"reputation": 2176, "user_id": 3584881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958987e0a8dc82565b9f43aa0fea0d18?s=128&d=identicon&r=PG&f=1", "display_name": "Bhaumik Pandhi", "link": "https://stackoverflow.com/users/3584881/bhaumik-pandhi"}, "edited": false, "score": 14, "creation_date": 1520403261, "post_id": 49145250, "comment_id": 85295422, "body": "try <code>.toString().trim()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 18201, "user_id": 586227, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/bb85f92a56d4431cb1c74357a755d68f?s=128&d=identicon&r=PG", "display_name": "Ali Adravi", "link": "https://stackoverflow.com/users/586227/ali-adravi"}, "edited": false, "score": 0, "creation_date": 1542387164, "post_id": 49145282, "comment_id": 93563251, "body": "It remove all the spaces even between two word, use .trim(), see the detail <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/trim\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 659, "user_id": 1178375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a572d2ef78442cb60e85c36b90f6190?s=128&d=identicon&r=PG", "display_name": "Omzig", "link": "https://stackoverflow.com/users/1178375/omzig"}, "edited": false, "score": 0, "creation_date": 1596136619, "post_id": 49145282, "comment_id": 111722710, "body": ".Trim() is remove white space at the beginning or ending, not all white space."}], "tags": [], "owner": {"reputation": 4788, "user_id": 7996875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pGb6.jpg?s=128&g=1", "display_name": "Hrishikesh Kale", "link": "https://stackoverflow.com/users/7996875/hrishikesh-kale"}, "is_accepted": true, "score": 71, "last_activity_date": 1561353587, "last_edit_date": 1561353587, "creation_date": 1520403131, "answer_id": 49145282, "question_id": 49145250, "link": "https://stackoverflow.com/questions/49145250/how-to-remove-whitespace-from-a-string-in-typescript/49145282#49145282", "title": "How to remove whitespace from a string in typescript?", "body": "<h1>Problem</h1>\n\n<blockquote>\n  <p>The trim() method removes whitespace from both sides of a string.</p>\n</blockquote>\n\n<p><a href=\"https://www.w3schools.com/jsref/jsref_trim_string.asp\" rel=\"noreferrer\">Source</a></p>\n\n<h1>Solution</h1>\n\n<p>You can use a Javascript replace method to remove white space like </p>\n\n<pre><code>\"hello world\".replace(/\\s/g, \"\");\n</code></pre>\n\n<h1>Example</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var out = \"hello world\".replace(/\\s/g, \"\");\r\nconsole.log(out);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 307, "user_id": 5514954, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ptdq74NEL1Y/AAAAAAAAAAI/AAAAAAAAFX0/Dk13yUOIL0g/photo.jpg?sz=128", "display_name": "Sengottaian Karthik", "link": "https://stackoverflow.com/users/5514954/sengottaian-karthik"}, "edited": false, "score": 0, "creation_date": 1533849494, "post_id": 49145285, "comment_id": 90510306, "body": "Let say the variable has many words in a string  var str = &quot;           Hello, how are              you?&quot;; How can I remove the space here?"}, {"owner": {"reputation": 659, "user_id": 3256494, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000608553838/picture?type=large", "display_name": "Shahid Malik", "link": "https://stackoverflow.com/users/3256494/shahid-malik"}, "edited": false, "score": 0, "creation_date": 1604354351, "post_id": 49145285, "comment_id": 114317614, "body": "This is will remove all the spaces, trailing, leading, and also in between."}], "tags": [], "owner": {"reputation": 33261, "user_id": 1496715, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/oC5FA.jpg?s=128&g=1", "display_name": "void", "link": "https://stackoverflow.com/users/1496715/void"}, "is_accepted": false, "score": 10, "last_activity_date": 1520403174, "creation_date": 1520403174, "answer_id": 49145285, "question_id": 49145250, "link": "https://stackoverflow.com/questions/49145250/how-to-remove-whitespace-from-a-string-in-typescript/49145285#49145285", "title": "How to remove whitespace from a string in typescript?", "body": "<blockquote>\n  <p>The trim() method removes whitespace from both sides of a string.</p>\n</blockquote>\n\n<p>To remove all the spaces from the string use <code>.replace(/\\s/g, \"\")</code></p>\n\n<pre><code> this.maintabinfo = this.inner_view_data.replace(/\\s/g, \"\").toLowerCase();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1050, "user_id": 3973844, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001761656850/picture?type=large", "display_name": "Jan Wendland", "link": "https://stackoverflow.com/users/3973844/jan-wendland"}, "is_accepted": false, "score": 6, "last_activity_date": 1520405383, "last_edit_date": 1520405383, "creation_date": 1520403204, "answer_id": 49145296, "question_id": 49145250, "link": "https://stackoverflow.com/questions/49145250/how-to-remove-whitespace-from-a-string-in-typescript/49145296#49145296", "title": "How to remove whitespace from a string in typescript?", "body": "<p>Trim just  removes the trailing and leading whitespace. Use .replace(/ /g, \"\") if there are just spaces to be replaced.</p>\n\n<pre><code>this.maintabinfo = this.inner_view_data.replace(/ /g, \"\").toLowerCase();\n</code></pre>\n"}], "owner": {"reputation": 1572, "user_id": 7383204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/36xvU.jpg?s=128&g=1", "display_name": "Talk is Cheap Show me Code", "link": "https://stackoverflow.com/users/7383204/talk-is-cheap-show-me-code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122890, "favorite_count": 1, "closed_date": 1528311477, "accepted_answer_id": 49145282, "answer_count": 3, "score": 48, "last_activity_date": 1561353587, "creation_date": 1520403014, "last_edit_date": 1520420778, "question_id": 49145250, "link": "https://stackoverflow.com/questions/49145250/how-to-remove-whitespace-from-a-string-in-typescript", "closed_reason": "Duplicate", "title": "How to remove whitespace from a string in typescript?", "body": "<p>In my angular 5 project, with typescript I am using the .trim() function on a string like this, But it is not removing the whitespace and also not giving any error. </p>\n\n<pre><code>this.maintabinfo = this.inner_view_data.trim().toLowerCase();\n// inner_view_data has this value = \"Stone setting\"\n</code></pre>\n\n<p><a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-4.html\" rel=\"noreferrer\">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-1-4.html</a> This docs clearly say that <code>.trim()</code> is part of the typescript. </p>\n\n<p>What is best way to remove whitespace in from a string in typescript? </p>\n"}, {"tags": ["html", "angular", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 7437349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EQ8n0.jpg?s=128&g=1", "display_name": "Khaled Ahmed", "link": "https://stackoverflow.com/users/7437349/khaled-ahmed"}, "is_accepted": true, "score": 5, "last_activity_date": 1520401757, "creation_date": 1520401757, "answer_id": 49144983, "question_id": 49144937, "link": "https://stackoverflow.com/questions/49144937/is-angular-2-4-really-case-sensitive/49144983#49144983", "title": "Is Angular 2/4 really case sensitive?", "body": "<p>Yes it's because <code>angular</code> 2/4 use <code>typescript</code> which is case sensitive. \nand here in your case the <code>ngFor</code> is a <code>structural directive</code> in <code>angular</code> but in <code>innerHTML</code>, it is a <code>HTML</code> property and <code>HTML</code> isn't a case sensitive.</p>\n"}, {"tags": [], "owner": {"reputation": 4788, "user_id": 7996875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5pGb6.jpg?s=128&g=1", "display_name": "Hrishikesh Kale", "link": "https://stackoverflow.com/users/7996875/hrishikesh-kale"}, "is_accepted": false, "score": 1, "last_activity_date": 1520402150, "creation_date": 1520402150, "answer_id": 49145072, "question_id": 49144937, "link": "https://stackoverflow.com/questions/49144937/is-angular-2-4-really-case-sensitive/49145072#49145072", "title": "Is Angular 2/4 really case sensitive?", "body": "<p>elaborating your question, </p>\n\n<p>the latest version of angular uses Typescript, all the inner directive of angular like ngIf and ngFor are written in typescript, so it is a Case Sensitive, </p>\n\n<p>HTML usually is not a case-sensitive, but it's considered a good practice to keep HTML markup lowercase.</p>\n\n<p>in your case [innerHtml] is a DOM property of HTML, so it can be written in small case</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13559776, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3tf1djmx63A/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuckgUVbNRnzvgf-xcRCcwQUX7ew6pw/photo.jpg?sz=128", "display_name": "Christian Melnik", "link": "https://stackoverflow.com/users/13559776/christian-melnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1589708763, "creation_date": 1589708763, "answer_id": 61849822, "question_id": 49144937, "link": "https://stackoverflow.com/questions/49144937/is-angular-2-4-really-case-sensitive/61849822#61849822", "title": "Is Angular 2/4 really case sensitive?", "body": "<p>Yes, <code>Angular</code> structural directives like <code>*ngFor</code> are case sensitive. \nIf you write <code>*ngfor</code> instead, Angular won't render the concerned html block as a template:\n<a href=\"https://angular.io/guide/template-syntax#ngfor\" rel=\"nofollow noreferrer\">https://angular.io/guide/template-syntax#ngfor</a></p>\n\n<p>Furthermore, <code>property binding</code> is also case sensitive in Angular. The important thing to note here is that Angular references the <code>Html DOM properties</code> and not the <code>Html attributes</code>.\nHtml attributes are only there for initializing the html and don't change after that.\nDOM properties on the other hand can change:\n<a href=\"https://angular.io/guide/template-syntax#html-attribute-vs-dom-property\" rel=\"nofollow noreferrer\">https://angular.io/guide/template-syntax#html-attribute-vs-dom-property</a></p>\n\n<p>In your case with innerHTML, <code>innerHTML</code> is the correct spelling of the DOM element. You are right in that <code>innerHtml</code> is also working. And to be honest, I could not find out, why that is the case. But every other spelling like <code>innerhtml</code> leads to an error in the form:</p>\n\n<p>Can't bind to 'innerhtml' since it isn't a known property of 'p'</p>\n\n<p>I could imagine that <code>innerHtml</code> is something like a 'hidden' Html attribute that can also change after initialization.</p>\n"}], "owner": {"reputation": 4218, "user_id": 2636938, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LQeP8.jpg?s=128&g=1", "display_name": "CodeWarrior", "link": "https://stackoverflow.com/users/2636938/codewarrior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "accepted_answer_id": 49144983, "answer_count": 3, "score": 0, "last_activity_date": 1589708763, "creation_date": 1520401518, "question_id": 49144937, "link": "https://stackoverflow.com/questions/49144937/is-angular-2-4-really-case-sensitive", "title": "Is Angular 2/4 really case sensitive?", "body": "<p>I know it sounds like a dumb question but I am a bit confused about whether Angular is really case sensitive or just in certain cases?\nI was stuck with a piece of code yesterday for a few hours and I couldn't make it work. I posted the question on SO and I found the issue was that I was using <code>ngfor</code> instead of <code>ngFor</code>. After I fixed this, it worked just fine. </p>\n\n<p>Also in my code I am using <code>[innerHtml]</code> but people on SO corrected my saying that the correct spelling was <code>[innerHTML]</code>. However, my code just works fine with the former. Now my question is that if Angular is really case sensitive then my former implementation shouldn't really work.</p>\n\n<p>Could anyone please elaborate on this?</p>\n"}, {"tags": ["javascript", "asp.net", "angular", "typescript", "asp.net-core"], "comments": [{"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1520402024, "post_id": 49144872, "comment_id": 85294991, "body": "your social component is children of app component right ? if so then you can use @Output event emitter after successful login and subscribe it in app component to change the <code>authorized</code> value to true/false"}, {"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1520402137, "post_id": 49144872, "comment_id": 85295036, "body": "Using Observable Subject/BehaviourSubject would also solve your purpose."}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1520406360, "post_id": 49144872, "comment_id": 85296737, "body": "It is not common practice to inject a component within another component as you have done. Rather, use a service to share data between multiple components. I have a blog post about this here: <a href=\"https://blogs.msmvps.com/deborahk/build-a-simple-angular-service-to-share-data/\" rel=\"nofollow noreferrer\">blogs.msmvps.com/deborahk/&hellip;</a> along with a code example."}], "answers": [{"tags": [], "owner": {"reputation": 1865, "user_id": 7756343, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/7e6964980c438556b9746f19cc09e93c?s=128&d=identicon&r=PG&f=1", "display_name": "k11k2", "link": "https://stackoverflow.com/users/7756343/k11k2"}, "is_accepted": true, "score": 1, "last_activity_date": 1520408246, "creation_date": 1520408246, "answer_id": 49146498, "question_id": 49144872, "link": "https://stackoverflow.com/questions/49144872/angular-to-update-ui-from-the-child-component-reflect-the-value-to-the-parent-co/49146498#49146498", "title": "Angular to update UI from the child component reflect the value to the parent component", "body": "<p>.html </p>\n\n<pre><code>&lt;div *ngIf=\"authorized; then picUrl else login\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>component.ts</p>\n\n<pre><code>ngOnInit() {\nthis.authorized= this.authService.isLoggedIn;\n}\n</code></pre>\n\n<p>service.ts</p>\n\n<pre><code>get isLoggedIn(): boolean {\n    return this.currentUser != null; //you can decide to return true or false\n }\nget currentuser(): user{\n  let user = localstorage.getitem('details')\nreturn user;\n}\n</code></pre>\n"}], "owner": {"reputation": 9262, "user_id": 1162409, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YSzYR.jpg?s=128&g=1", "display_name": "San Jaisy", "link": "https://stackoverflow.com/users/1162409/san-jaisy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 49146498, "answer_count": 1, "score": 0, "last_activity_date": 1520408246, "creation_date": 1520401168, "question_id": 49144872, "link": "https://stackoverflow.com/questions/49144872/angular-to-update-ui-from-the-child-component-reflect-the-value-to-the-parent-co", "title": "Angular to update UI from the child component reflect the value to the parent component", "body": "<p>I, am using *IF-else statement in angular 5. If the authorization value is true the template 2 should render if not template 1 should render. Here is the code</p>\n\n<pre><code>&lt;div *ngIf=\"authorized; then picUrl else login\"&gt;&lt;/div&gt;\n\n                &lt;ng-template #login&gt;\n                    &lt;button mat-raised-button color=\"accent\" class=\"mdl-cell mdl-cell--12-col mdl-color-text--white\" style=\"background: #033342\" (click)=\"openDialog()\"&gt;Login&lt;/button&gt;\n                &lt;/ng-template&gt;\n                &lt;ng-template #picUrl&gt;\n                    &lt;img src=\"{{_loginVM.profilePic}}\" class=\"img-thumbnail\" alt=\"profile pic\"&gt;\n                &lt;/ng-template&gt;\n</code></pre>\n\n<p>Calling the social component</p>\n\n<pre><code>&lt;social&gt;&lt;/social&gt;\n</code></pre>\n\n<p><strong>App.component.ts</strong></p>\n\n<pre><code>export class AppComponent {\n    public authorized: boolean = false;\n}\n</code></pre>\n\n<p><strong>Social component.ts</strong></p>\n\n<pre><code>import { AppComponent} from '../app/app.component'\n\n    export class SocialComponent {\n        private _appComponent: AppComponent;\n        constructor(private socialAuthService: AuthService, appComponent: AppComponent,\n            public dialogRef: MatDialogRef&lt;SignInSignUpDialogHomeComponent&gt;) {\n            this._appComponent = appComponent;\n        }\n     public socialSignIn(socialPlatform: string) {\n            let socialPlatformProvider: any;\n            if (socialPlatform == \"facebook\") {\n                socialPlatformProvider = FacebookLoginProvider.PROVIDER_ID;\n            } else if (socialPlatform == \"google\") {\n                socialPlatformProvider = GoogleLoginProvider.PROVIDER_ID;\n            }\n\n            this.socialAuthService.signIn(socialPlatformProvider).then(\n                (userData) =&gt; {\n                    if (userData != null) {\n                        this._appComponent.authorized = true;\n                        this._appComponent._loginVM.profilePic = userData.image;\n                        this.dialogRef.close();\n                    }\n                }\n            );\n        }\n</code></pre>\n\n<p>After the successfully login the value is updated as <code>this._appComponent.authorized = true;</code>. The value is not reflected to the UI/UX.</p>\n\n<p>I found some references from here\n<a href=\"https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/\" rel=\"nofollow noreferrer\">https://angularfirebase.com/lessons/sharing-data-between-angular-components-four-methods/</a></p>\n\n<p>I, tried with <code>BehaviorSubject&lt;boolean&gt;</code>. But no know how to subscribe to the UI data bind. Is, this is the way I, have to do?. Can't I do directly to the component variable?</p>\n"}, {"tags": ["css", "typescript", "ionic-framework", "sass"], "comments": [{"owner": {"reputation": 2543, "user_id": 4452413, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-_OMbKJu8ccA/AAAAAAAAAAI/AAAAAAAAAOI/PtDDeJKgKK0/photo.jpg?sz=128", "display_name": "VilleKoo", "link": "https://stackoverflow.com/users/4452413/villekoo"}, "edited": false, "score": 0, "creation_date": 1520401417, "post_id": 49144862, "comment_id": 85294777, "body": "As the error states, you haven&#39;t defined the <code>roboto-family</code> mixin. You can read more about mixins (and other SASS basics)  <a href=\"https://sass-lang.com/guide\" rel=\"nofollow noreferrer\">here</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2502, "user_id": 3342570, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0ZmXX.jpg?s=128&g=1", "display_name": "Riddhi", "link": "https://stackoverflow.com/users/3342570/riddhi"}, "edited": false, "score": 0, "creation_date": 1520423260, "post_id": 49145176, "comment_id": 85306463, "body": "Thank you for such nice description."}, {"owner": {"reputation": 436, "user_id": 8829430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e3aecb2dfc8dde46f8308df5d72341?s=128&d=identicon&r=PG&f=1", "display_name": "Yashwanth M", "link": "https://stackoverflow.com/users/8829430/yashwanth-m"}, "reply_to_user": {"reputation": 2502, "user_id": 3342570, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0ZmXX.jpg?s=128&g=1", "display_name": "Riddhi", "link": "https://stackoverflow.com/users/3342570/riddhi"}, "edited": false, "score": 0, "creation_date": 1520494989, "post_id": 49145176, "comment_id": 85340709, "body": "Your Welcome..! Feel free to come up with new queries. :)"}], "tags": [], "owner": {"reputation": 436, "user_id": 8829430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e3aecb2dfc8dde46f8308df5d72341?s=128&d=identicon&r=PG&f=1", "display_name": "Yashwanth M", "link": "https://stackoverflow.com/users/8829430/yashwanth-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1520402682, "creation_date": 1520402682, "answer_id": 49145176, "question_id": 49144862, "link": "https://stackoverflow.com/questions/49144862/sass-error-no-mixin-named-roboto-family-backtrace-src-pages-forms-forms-scss5/49145176#49145176", "title": "Sass Error: no mixin named roboto-family Backtrace: src/pages/forms/forms.scss:5", "body": "<p>As I see, there is a line stating</p>\n\n<pre><code>@include roboto-family('Regular', 400);\n</code></pre>\n\n<p>at multiple places.</p>\n\n<p>But there is no defined value or a <strong>mixin</strong> for the roboto-family to <strong>include</strong>.</p>\n\n<p>Let me use an example.</p>\n\n<p>A mixin lets you make groups of CSS declarations that you want to reuse throughout your site. You can even pass in values to make your mixin more flexible. A good use of a mixin is for vendor prefixes. Here's an example for <em>border-radius</em>.</p>\n\n<pre><code>    @mixin border-radius($radius) {\n      -webkit-border-radius: $radius;\n         -moz-border-radius: $radius;\n          -ms-border-radius: $radius;\n              border-radius: $radius;\n        }\n\n.box { @include border-radius(10px); }\n</code></pre>\n\n<p>To create a mixin you use the <strong><em>@mixin</em></strong> directive and give it a name. We've named our mixin border-radius. We're also using the variable $radius inside the parentheses so we can pass in a radius of whatever we want. After you create your mixin, you can then use it as a CSS declaration starting with <strong><em>@include</em></strong> followed by the name of the mixin. When your CSS is generated it'll look like this:</p>\n\n<pre><code>.box {\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -ms-border-radius: 10px;\n  border-radius: 10px;\n}\n</code></pre>\n\n<p>So, to use <strong><em>@include roboto-family</em></strong> you need to define a <strong><em>@mixin roboto-family</em></strong></p>\n\n<p>Hope this solves your issue.</p>\n\n<p>ref: <a href=\"https://sass-lang.com/guide#topic-6\" rel=\"nofollow noreferrer\">For reference and detailed explanation</a></p>\n"}], "owner": {"reputation": 2502, "user_id": 3342570, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/0ZmXX.jpg?s=128&g=1", "display_name": "Riddhi", "link": "https://stackoverflow.com/users/3342570/riddhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4044, "favorite_count": 0, "accepted_answer_id": 49145176, "answer_count": 1, "score": 2, "last_activity_date": 1520402682, "creation_date": 1520401105, "question_id": 49144862, "link": "https://stackoverflow.com/questions/49144862/sass-error-no-mixin-named-roboto-family-backtrace-src-pages-forms-forms-scss5", "title": "Sass Error: no mixin named roboto-family Backtrace: src/pages/forms/forms.scss:5", "body": "<p>Hello I am completely new to ionic. I have started a project of ionic. I was trying to integrate a theme and I copied one .html file and an .scss file for that. I also created .ts file for that.</p>\n\n<p><strong>Forms.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head lang=\"en\"&gt;\n     &lt;meta charset=\"UTF-8\"&gt;\n     &lt;title&gt;Title&lt;/title&gt;\n     &lt;meta name=\"viewport\" content=\"initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width\"&gt;\n     &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css\"&gt;\n     &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../bower_components/ionic/release/css/ionic.min.css\"&gt;\n     &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"../dist/css/ionic.material-design-lite.css\"&gt;\n     &lt;script src=\"../bower_components/ionic/release/js/ionic.bundle.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"../dist/js/ionic.material-design-lite.bundle.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"js/app.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body class=\"use-material-icons\" ng-app=\"material-starter\"&gt;\n       &lt;div class=\"bar bar-header bar-assertive\"&gt;\n           &lt;button class=\"button icon ion-navicon\"&gt;&lt;/button&gt;\n           &lt;h1 class=\"title\"&gt;Form Elements&lt;/h1&gt;\n       &lt;/div&gt;\n       &lt;ion-content class=\"has-header padding\"&gt;\n           &lt;div class=\"list\"&gt;\n               &lt;label class=\"item item-input\"&gt;\n                     &lt;input type=\"text\" placeholder=\"First Name\" class=\"ng-invalid\"&gt;\n               &lt;/label&gt;\n               &lt;label class=\"item item-input item-floating-label input-calm\"&gt;\n                    &lt;span class=\"input-label\"&gt;Last Name&lt;/span&gt;\n                    &lt;input type=\"text\" placeholder=\"Last Name\"&gt;\n              &lt;/label&gt;\n              &lt;label class=\"item item-input input-energized\"&gt;\n                    &lt;span class=\"input-label\"&gt;Username&lt;/span&gt;\n                    &lt;input type=\"text\" ng-model=\"user\"&gt;\n              &lt;/label&gt;\n             &lt;label class=\"item item-input item-stacked-label\"&gt;\n                    &lt;span class=\"input-label\"&gt;Email&lt;/span&gt;\n                    &lt;input type=\"text\"&gt;\n             &lt;/label&gt;\n             &lt;label class=\"item item-input\"&gt;\n                   &lt;textarea placeholder=\"Comments\"&gt;&lt;/textarea&gt;\n             &lt;/label&gt;\n         &lt;/div&gt;\n\n        &lt;div class=\"list list-inset\"&gt;\n             &lt;label class=\"item item-input\"&gt;\n                  &lt;input type=\"text\" placeholder=\"Username\"&gt;\n             &lt;/label&gt;\n             &lt;label class=\"item item-input\"&gt;\n                  &lt;input type=\"password\" placeholder=\"Password\"&gt;\n             &lt;/label&gt;\n       &lt;/div&gt;\n\n       &lt;div class=\"list\"&gt;\n\n           &lt;div class=\"item item-input-inset\"&gt;\n               &lt;label class=\"item-input-wrapper\"&gt;\n                    &lt;input type=\"text\" placeholder=\"Email\"&gt;\n               &lt;/label&gt;\n               &lt;button class=\"button button-small\"&gt;\n                Submit\n               &lt;/button&gt;\n           &lt;/div&gt;\n      &lt;/div&gt;\n\n      &lt;div class=\"padding\"&gt;\n          &lt;button class=\"button button-block button-positive\"&gt;Submit&lt;/button&gt;\n       &lt;/div&gt;\n     &lt;/ion-content&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Forms.scss</strong></p>\n\n<pre><code>.platform-android, .platform-override {\n.list:not(.card) .item.item-input {\n@extend .mdl-textfield;\n@extend .mdl-textfield--full-width;\n@include roboto-family('Regular', 400);\n\nbackground: transparent;\nborder: none;\n\n.input-label {\n  @include material-animation-default();\n  @include roboto-family('Regular', 400);\n}\n\n&amp;.is-focused, &amp;.is-dirty {\n  .input-label {\n    @include roboto-family('Regular', 400);\n    color: $input-text-highlight-color;\n    font-size : $input-text-floating-label-fontsize;\n    transform: translate3d(0, -20px, 0) scale(1);\n    visibility: visible;\n  }\n}\n\n.input-label {\n  bottom: 0;\n  color: $input-text-label-color;\n  font-size: $input-text-font-size;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 26px;\n  width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-align: left;\n}\n\n// The after label is the colored underline for the TextField.\n&amp;:after {\n  background-color: $input-text-highlight-color;\n  bottom: $input-text-vertical-spacing;\n  content: '';\n  height: 2px;\n  left: 45%;\n  position: absolute;\n  visibility: hidden;\n  width: 10px;\n}\n\n&amp;.is-focused:after {\n  left: 0;\n  visibility: visible;\n  width: 100%;\n}\n\n&amp;.is-invalid {\n  input, textarea {\n    color: $input-text-error-color;\n    text-shadow: 0 0 0 $input-text-error-color;\n    background-color: transparent;\n  }\n\n  &amp;:after {\n    background-color: $input-text-error-color;\n  }\n}\n\n&amp;.is-disabled {\n  input, textarea {\n    color: $input-text-disabled-color;\n    text-shadow: 0 0 0 $input-text-disabled-color;\n    background-color: transparent;\n    border-bottom: 1px dotted $input-text-disabled-color;\n  }\n}\n\ninput, textarea {\n  @extend .mdl-textfield__input;\n\n  text-shadow: 0 0 0 #444;\n  color: $input-text-highlight-color;\n  -webkit-text-fill-color: transparent;\n}\n\ninput::-webkit-input-placeholder,\ntextarea::-webkit-input-placeholder {\n  color: #444;\n  opacity: 0.5;\n  text-shadow: none;\n  -webkit-text-fill-color: initial;\n}\n\n@each $color-name, $color in $color-map {\n  &amp;.input-#{$color-name} {\n    @include input-focus-color($color);\n\n    input, &amp;.is-focused .input-label, &amp;.is-dirty .input-label {\n      color: $color;\n    }\n\n  }\n}\n}\n}\n</code></pre>\n\n<p><strong>Forms.ts</strong></p>\n\n<pre><code>import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  templateUrl: 'forms.html'\n})\nexport class FormsPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n</code></pre>\n\n<p>And when I run using command ionic serve it gives me following error</p>\n\n<p>Sass Error</p>\n\n<blockquote>\n  <p>no mixin named roboto-family Backtrace: src/pages/forms/forms.scss:5</p>\n</blockquote>\n\n<p>I have saved fonts at path </p>\n\n<blockquote>\n  <p>src/www/assets/fonts/roboto</p>\n</blockquote>\n\n<p>Can anyone help me how to solve this?\nWhat are the things that I am missing?</p>\n"}, {"tags": ["angular", "typescript", "asp.net-web-api"], "comments": [{"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 1, "creation_date": 1520401199, "post_id": 49144824, "comment_id": 85294712, "body": "Is there any error ? post here plz"}, {"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "reply_to_user": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1520401913, "post_id": 49144824, "comment_id": 85294954, "body": "&quot;remark&quot; value does not pass to web api post method. when I compile the code it returns &quot;data doesn&#39;t pass correctly&quot;.If it passes correctly need to return &quot;remark&quot; value I passed"}, {"owner": {"reputation": 2315, "user_id": 1608841, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tolqr.jpg?s=128&g=1", "display_name": "user1608841", "link": "https://stackoverflow.com/users/1608841/user1608841"}, "edited": false, "score": 0, "creation_date": 1520402225, "post_id": 49144824, "comment_id": 85295064, "body": "<code>console.log(remark+&quot; &quot;+log_id );</code> printing desired value to console ?"}, {"owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "edited": false, "score": 0, "creation_date": 1520402693, "post_id": 49144824, "comment_id": 85295227, "body": "Try posting data via POSTMAN or any client."}], "answers": [{"comments": [{"owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "reply_to_user": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520402745, "post_id": 49145090, "comment_id": 85295243, "body": "@E.L.N.D.Madubhashini Can you try without the options parameter."}, {"owner": {"reputation": 6326, "user_id": 1876572, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/DRVDE.jpg?s=128&g=1", "display_name": "Eldho", "link": "https://stackoverflow.com/users/1876572/eldho"}, "edited": false, "score": 0, "creation_date": 1520403299, "post_id": 49145090, "comment_id": 85295441, "body": "@AliShahzad OP should be able to send string value. I would consider class as a workaround."}, {"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520403679, "post_id": 49145090, "comment_id": 85295599, "body": "I tried using above updated answer still didn&#39;t work."}, {"owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "edited": false, "score": 0, "creation_date": 1520403921, "post_id": 49145090, "comment_id": 85295692, "body": "have you removed the &quot;?&quot; from url?"}, {"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520403929, "post_id": 49145090, "comment_id": 85295697, "body": "I tried without using options parameter. It produce an error called &quot;Response for preflight has invalid HTTP status code 405.&quot;  and &quot;options url 405 (method not allowed)&quot;"}, {"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520403983, "post_id": 49145090, "comment_id": 85295713, "body": "I checked it by removing &quot;?&quot; in url also."}, {"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520411247, "post_id": 49145090, "comment_id": 85299008, "body": "I tried it using Postman, data doesn&#39;t pass from that also.After I sent the request, in Body same message is displayed."}], "tags": [], "owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "is_accepted": false, "score": 1, "last_activity_date": 1520403596, "last_edit_date": 1520403596, "creation_date": 1520402250, "answer_id": 49145090, "question_id": 49144824, "link": "https://stackoverflow.com/questions/49144824/angular4-http-post-method-does-not-pass-data-to-web-api/49145090#49145090", "title": "Angular4 http post method does not pass data to web api", "body": "<p>Try passing your post data as object like this:</p>\n\n<pre><code> // let body = JSON.stringify(remark);\n this.http_.post('http://localhost:12412/api/employee',{remark:remark},options)\n   .subscribe((data) =&gt; {console.log(data)} \n )}; \n</code></pre>\n\n<p><strong>Web api post method</strong>    </p>\n\n<pre><code>[HttpPost]\npublic string Post([FromBody]RemarkModel model)\n{\n   if (model.remark != null)\n   {\n                return model.remark + \" _ \" ;\n   }\n   else\n   {\n    return \"data doesn't pass correctly\";             \n   }\n}\n\npublic class RemarkModel\n{\n   public string remark {get; set;}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520408942, "post_id": 49145768, "comment_id": 85297859, "body": "Didn&#39;t work for me.Still get that data does not pass message."}], "tags": [], "owner": {"reputation": 1504, "user_id": 6661629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fe85709b0198765bac339d97f927462?s=128&d=identicon&r=PG", "display_name": "Ha Hoang", "link": "https://stackoverflow.com/users/6661629/ha-hoang"}, "is_accepted": false, "score": 0, "last_activity_date": 1520405111, "creation_date": 1520405111, "answer_id": 49145768, "question_id": 49144824, "link": "https://stackoverflow.com/questions/49144824/angular4-http-post-method-does-not-pass-data-to-web-api/49145768#49145768", "title": "Angular4 http post method does not pass data to web api", "body": "<p>You can try to change your code to: </p>\n\n<pre><code>let body = {\n   remark : remark\n};\n\nthis.http_.post('http://localhost:12412/api/employee',JSON.stringify(body),options)\n   .subscribe((data) =&gt; {console.log(data)}); \n</code></pre>\n\n<p>No change Web API. It should be worked.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520409281, "post_id": 49145801, "comment_id": 85298032, "body": "I added .subscribe((data) =&gt; {console.log(data)}  );  to  above code to check those data are passing. Still not passing."}, {"owner": {"reputation": 524, "user_id": 1868798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nwzb8.jpg?s=128&g=1", "display_name": "jithin john", "link": "https://stackoverflow.com/users/1868798/jithin-john"}, "reply_to_user": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "edited": false, "score": 0, "creation_date": 1520489757, "post_id": 49145801, "comment_id": 85338352, "body": "Do not subscribe directly to http post(its not reccomended), return data from post. Subscribe it as a common method. like....  this.httpservice.postdata().subscribe()"}], "tags": [], "owner": {"reputation": 524, "user_id": 1868798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nwzb8.jpg?s=128&g=1", "display_name": "jithin john", "link": "https://stackoverflow.com/users/1868798/jithin-john"}, "is_accepted": false, "score": 0, "last_activity_date": 1520405269, "creation_date": 1520405269, "answer_id": 49145801, "question_id": 49144824, "link": "https://stackoverflow.com/questions/49144824/angular4-http-post-method-does-not-pass-data-to-web-api/49145801#49145801", "title": "Angular4 http post method does not pass data to web api", "body": "<p><strong>Import Headers from @angular/http</strong>  </p>\n\n<pre><code>Post=(url:string,data:any)=&gt;{\n    this.headers = new Headers();\n    let options = new RequestOptions({ headers: this.headers, method: \"post\"}); \n    return this.http.post(\n        url,\n        data,\n        options\n    );\n}\n</code></pre>\n\n<blockquote>\n  <p>It worked for me ;)</p>\n</blockquote>\n"}], "owner": {"reputation": 65, "user_id": 6431416, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/446a6fd3e4811a6531b27f05c9452ab8?s=128&d=identicon&r=PG&f=1", "display_name": "E.L.N.D.Madubhashini", "link": "https://stackoverflow.com/users/6431416/e-l-n-d-madubhashini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3919, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1521030605, "creation_date": 1520400903, "last_edit_date": 1521030605, "question_id": 49144824, "link": "https://stackoverflow.com/questions/49144824/angular4-http-post-method-does-not-pass-data-to-web-api", "title": "Angular4 http post method does not pass data to web api", "body": "<p>When I called the http post method it returns \"data does not pass correctly\".I passed data through body and I also tried by passing using  json.stringify() I also tried by using  content type as following also. But it didn't  work.</p>\n\n<pre><code>const headers = new Headers({ 'Content-Type': 'application/json' });\nconst options = new RequestOptions({ headers: headers });\nthis.http_.post('http://localhost:12412/api/employee', remark, options)\n  .subscribe((data) =&gt; {console.log(data)})};  \n</code></pre>\n\n<p>I attached the post call method in component.ts file below:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport 'rxjs/add/operator/map';\nimport { Injectable } from '@angular/core';\nimport { Response, Headers, RequestOptions,Http} from '@angular/http';\nimport { HttpClient} from '@angular/common/http';\nimport { Time } from '@angular/common/src/i18n/locale_data_api';\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap/datepicker/ngb-date-struct';\nimport { NgbCalendar } from '@ng-bootstrap/ng-bootstrap/datepicker/ngb-calendar';\nimport {Ng2OrderModule} from 'ng2-order-pipe';\nimport {Observable} from \"rxjs/Rx\";\nimport { PostChangesService } from './PostChanges.service';\nimport { Body } from '@angular/http/src/body';\n\n\n@Component({\n  selector: 'app-table',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.css']\n})\n\nexport class TableComponent implements OnInit {\n  constructor(private http: HttpClient, private http_:Http){\n\n  }\n\n  EditValue(event,remark,log_id) {\n    console.log(remark+\" \"+log_id );\n\n    //  var headers = new Headers();\n    //  headers.append('Content-Type', 'application/x-www-form-urlencoded');\n    //  var body=\"remark=\"+remark;\n    //  //let body = JSON.stringify(remark);\n    //    this.http_.post('http://localhost:12412/api/employee?',{body:remark},{headers:headers})\n    // .subscribe((data) =&gt; {console.log(data)}\n    // );\n    const headers = new Headers({ 'Content-Type': 'application/x-www-form-urlencoded' });\n    const options = new RequestOptions({ headers: headers });\n    //const params = new URLSearchParams();\n\n    // let body = JSON.stringify(remark);\n   this.http_.post('http://localhost:12412/api/employee?',remark,options)\n    .subscribe((data) =&gt; {console.log(data)} \n   )};  \n  }\n}\n</code></pre>\n\n<p>And the web api post method is as follows:</p>\n\n<pre><code>[HttpPost]\npublic string Post([FromBody]string remark)\n{\n    if (remark != null)\n    {\n        return remark + \" _ \" ;\n    }\n    else\n        return \"data doesn't pass correctly\";\n}\n</code></pre>\n"}, {"tags": ["angular", "typescript", "mouseevent", "ngfor"], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 9427005, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e1b62b18242bd713987d48ae7a99a6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Taliaferro", "link": "https://stackoverflow.com/users/9427005/eddie-taliaferro"}, "edited": false, "score": 0, "creation_date": 1520401623, "post_id": 49144877, "comment_id": 85294855, "body": "that was exactly what i need thank you. can&#39;t believe I missed that"}], "tags": [], "owner": {"reputation": 4341, "user_id": 2621579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/60f948926e993b4fc5fdaee980d88c47?s=128&d=identicon&r=PG&f=1", "display_name": "Ali Shahzad", "link": "https://stackoverflow.com/users/2621579/ali-shahzad"}, "is_accepted": true, "score": 8, "last_activity_date": 1520401190, "creation_date": 1520401190, "answer_id": 49144877, "question_id": 49144740, "link": "https://stackoverflow.com/questions/49144740/mouseenter-event-on-individual-item-in-ngfor-angular-4/49144877#49144877", "title": "(mouseenter) event on individual item in *ngFor - angular 4", "body": "<p>You can simply set the hover boolean value to individual item of the *ngFor.</p>\n\n<pre><code>&lt;ul&gt;\n  &lt;!-- Each song on the album --&gt;\n  &lt;li class=\"song-block\"\n      *ngFor='let song of songsToDisplay'\n      (click)=\"getSong(song)\"\n      (mouseenter)=\"song.hover=true\"\n      (mouseleave)=\"song.hover=false\"&gt;\n    &lt;div class=\"song-card\"\n         (click)=\"addPlay(song)\"&gt;\n      &lt;p *ngIf=\"!song.isPlaying\"\n         class=\"song-number\"&gt;{{song.tracknumber}}&lt;/p&gt;\n      &lt;i *ngIf=\"song.isPlaying\" class=\"fa fa-play\"&gt;&lt;/i&gt;\n      &lt;p class=\"song-name\"&gt;{{song.name}}&lt;/p&gt;\n      &lt;p class=\"song-length\"&gt;{{song.length}}&lt;/p&gt;\n      &lt;div class=\"thumbs\"\n           *ngIf=\"song.hover\"&gt;\n        &lt;!-- Thumbs section --&gt;\n        &lt;i class=\"fa fa-thumbs-up\"&gt;&lt;/i&gt;\n        &lt;i class=\"fa fa-thumbs-down\"&gt;&lt;/i&gt;\n      &lt;/div&gt;.....\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10416504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/171a5216132b64e4e8a852ae30d6c1b9?s=128&d=identicon&r=PG&f=1", "display_name": "KSY", "link": "https://stackoverflow.com/users/10416504/ksy"}, "is_accepted": false, "score": 2, "last_activity_date": 1537934121, "creation_date": 1537934121, "answer_id": 52509695, "question_id": 49144740, "link": "https://stackoverflow.com/questions/49144740/mouseenter-event-on-individual-item-in-ngfor-angular-4/52509695#52509695", "title": "(mouseenter) event on individual item in *ngFor - angular 4", "body": "<p>A bit late, but hope it would be useful.</p>\n\n<p>Using template reference variable is a quick simple way.</p>\n\n<p><code>&lt;div #hoverField&gt;&lt;/div&gt;</code></p>\n\n<pre><code>&lt;li (mouseenter)=\"hoverField.style.display = 'block';\n    (mouseleave)=\"hoverField.style.display = 'none';&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>Full code like this: </p>\n\n<pre><code>&lt;ul&gt; &lt;!-- Each song on the album --&gt;\n    &lt;li class=\"song-block\"\n        *ngFor='let song of songsToDisplay'\n        (click)=\"getSong(song)\"\n        (mouseenter)=\"hoverField.style.display = 'block';\"\n        (mouseleave)=\"hoverField.style.display = 'none';\"&gt;\n      &lt;div class=\"song-card\"\n           (click)=\"addPlay(song)\"&gt;\n        &lt;p *ngIf=\"!song.isPlaying\"\n            class=\"song-number\"&gt;{{song.tracknumber}}&lt;/p&gt;\n        &lt;i *ngIf=\"song.isPlaying\" class=\"fa fa-play\"&gt;&lt;/i&gt;\n        &lt;p class=\"song-name\"&gt;{{song.name}}&lt;/p&gt;\n        &lt;p class=\"song-length\"&gt;{{song.length}}&lt;/p&gt;\n        &lt;div class=\"thumbs\"\n             #hoverField&gt; &lt;!-- Thumbs section --&gt;\n          &lt;i class=\"fa fa-thumbs-up\"&gt;&lt;/i&gt;\n          &lt;i class=\"fa fa-thumbs-down\"&gt;&lt;/i&gt;\n      &lt;/div&gt;.....\n &lt;/ul&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 869, "user_id": 9454523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffe3e19bf7d4da9156137ece51e6a656?s=128&d=identicon&r=PG", "display_name": "VRoxa", "link": "https://stackoverflow.com/users/9454523/vroxa"}, "edited": false, "score": 0, "creation_date": 1589128648, "post_id": 61714713, "comment_id": 109164271, "body": "How is this component called, and the event handling?"}], "tags": [], "owner": {"reputation": 181, "user_id": 13130882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8999fbf21be55e62ee9e196d39a46fdc?s=128&d=identicon&r=PG&f=1", "display_name": "justintimeza", "link": "https://stackoverflow.com/users/13130882/justintimeza"}, "is_accepted": false, "score": -1, "last_activity_date": 1594533211, "last_edit_date": 1594533211, "creation_date": 1589125772, "answer_id": 61714713, "question_id": 49144740, "link": "https://stackoverflow.com/questions/49144740/mouseenter-event-on-individual-item-in-ngfor-angular-4/61714713#61714713", "title": "(mouseenter) event on individual item in *ngFor - angular 4", "body": "<p>Another option is to create an additional component and pass in the content with property binding. Then you can handle the mouseenter and mouseleave events in that component. I've created a quick Stackblitz to demonstrate. In this example, I use the css hover to highlight the selected song:</p>\n<p><a href=\"https://stackblitz.com/edit/angular-w2svsv\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-w2svsv</a></p>\n"}], "owner": {"reputation": 188, "user_id": 9427005, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e1b62b18242bd713987d48ae7a99a6f9?s=128&d=identicon&r=PG&f=1", "display_name": "Eddie Taliaferro", "link": "https://stackoverflow.com/users/9427005/eddie-taliaferro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4979, "favorite_count": 2, "accepted_answer_id": 49144877, "answer_count": 3, "score": 5, "last_activity_date": 1594533211, "creation_date": 1520400562, "last_edit_date": 1520407416, "question_id": 49144740, "link": "https://stackoverflow.com/questions/49144740/mouseenter-event-on-individual-item-in-ngfor-angular-4", "title": "(mouseenter) event on individual item in *ngFor - angular 4", "body": "<p>So my goal is to create a mouseenter/mouseexit event for an individual li's child elements. For my app, when a user mouseenters an li elememt, it's child element <strong><em>div class='thumbs'</em></strong> is added to the DOM through a component boolean property called \"hover\" -- <strong>*\"<em>ngIf='hover'\"</em></strong></p>\n\n<p>My problem is, when I mousenter over an indivual li elememt, all the thumb icons are shown instead of the just the individual li's thumb icons. </p>\n\n<p>Here is a video higlighting my problem:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IWNHK.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/IWNHK.gif\" alt=\"enter image description here\"></a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;ul&gt; &lt;!-- Each song on the album --&gt;\n    &lt;li class=\"song-block\"\n        *ngFor='let song of songsToDisplay'\n        (click)=\"getSong(song)\"\n        (mouseenter)=\"hoverStateIn()\"\n        (mouseleave)=\"hoverStateOut()\"&gt;\n      &lt;div class=\"song-card\"\n           (click)=\"addPlay(song)\"&gt;\n        &lt;p *ngIf=\"!song.isPlaying\"\n            class=\"song-number\"&gt;{{song.tracknumber}}&lt;/p&gt;\n        &lt;i *ngIf=\"song.isPlaying\" class=\"fa fa-play\"&gt;&lt;/i&gt;\n        &lt;p class=\"song-name\"&gt;{{song.name}}&lt;/p&gt;\n        &lt;p class=\"song-length\"&gt;{{song.length}}&lt;/p&gt;\n        &lt;div class=\"thumbs\"\n             *ngIf=\"hover\"&gt; &lt;!-- Thumbs section --&gt;\n          &lt;i class=\"fa fa-thumbs-up\"&gt;&lt;/i&gt;\n          &lt;i class=\"fa fa-thumbs-down\"&gt;&lt;/i&gt;\n        &lt;/div&gt;.....\n     &lt;/ul&gt;\n</code></pre>\n\n<p>TypeScript:</p>\n\n<pre><code>hover: boolean = false;\n\n  hoverStateIn(){\n    this.hover = true\n  }\n\n  hoverStateOut(){\n    this.hover = false;\n  }\n</code></pre>\n"}, {"tags": ["angular", "typescript", "lifecycle", "angular-services", "static-variables"], "comments": [{"owner": {"reputation": 492, "user_id": 4686882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNCLI.jpg?s=128&g=1", "display_name": "BinaryPatrick", "link": "https://stackoverflow.com/users/4686882/binarypatrick"}, "edited": false, "score": 0, "creation_date": 1520400395, "post_id": 49144338, "comment_id": 85294470, "body": "Can you be more specific about what other values you mean? Are they coming from other services? Other methods as a promise?"}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 492, "user_id": 4686882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNCLI.jpg?s=128&g=1", "display_name": "BinaryPatrick", "link": "https://stackoverflow.com/users/4686882/binarypatrick"}, "edited": false, "score": 0, "creation_date": 1520400632, "post_id": 49144338, "comment_id": 85294527, "body": "Yes like for example if instead of <code>&quot;Howdie Partner&quot;</code> I&#39;d want to use <code>SomeService.valueThatCameFromRemoteLocation </code>"}, {"owner": {"reputation": 492, "user_id": 4686882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNCLI.jpg?s=128&g=1", "display_name": "BinaryPatrick", "link": "https://stackoverflow.com/users/4686882/binarypatrick"}, "edited": false, "score": 0, "creation_date": 1520400838, "post_id": 49144338, "comment_id": 85294599, "body": "Is there a reason the value needs to be static?"}, {"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "reply_to_user": {"reputation": 492, "user_id": 4686882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qNCLI.jpg?s=128&g=1", "display_name": "BinaryPatrick", "link": "https://stackoverflow.com/users/4686882/binarypatrick"}, "edited": false, "score": 0, "creation_date": 1520401333, "post_id": 49144338, "comment_id": 85294752, "body": "Yes because the library I&#39;m using wants it that way"}], "answers": [{"comments": [{"owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "edited": false, "score": 0, "creation_date": 1521207999, "post_id": 49146872, "comment_id": 85645678, "body": "Thank you. Your answer inspired me to rebuild it without static variables."}, {"owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "reply_to_user": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "edited": false, "score": 0, "creation_date": 1521223308, "post_id": 49146872, "comment_id": 85655567, "body": "Glad to help :)"}], "tags": [], "owner": {"reputation": 4143, "user_id": 3135151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eGQq.jpg?s=128&g=1", "display_name": "Nour", "link": "https://stackoverflow.com/users/3135151/nour"}, "is_accepted": true, "score": 1, "last_activity_date": 1520409806, "creation_date": 1520409806, "answer_id": 49146872, "question_id": 49144338, "link": "https://stackoverflow.com/questions/49144338/in-angular2-when-are-static-variables-set/49146872#49146872", "title": "In Angular2+, when are static variables set?", "body": "<p>First of all, i think you are right about \"When is it set\".</p>\n\n<p>Second, from my perspective, you should not use static variables in the services because you are violating Dependencies Injection pattern.</p>\n\n<p>If you must use it, i think you can try to use the APP_INITIALIZER provided by Angular.</p>\n\n<p>as example:</p>\n\n<pre><code>import { HttpClientModule } from \"@angular/common/http\";\n\nimport { CognitoService } from './cognito.service';\nimport { AnotherService } from './another.service';\n\nexport function init_app(anotherService : AnotherService ) {\n    return () =&gt; {\n        CognitoService.GREETING = anotherService.someValue;\n    };\n}\n\n@NgModule({\n  imports: [HttpClientModule],\n  providers: [\n    AnotherService,\n    CognitoService,\n    { provide: APP_INITIALIZER, useFactory: init_app, deps: [AnotherService], multi: true }\n  ]\n})\nexport class AppLoadModule { }\n</code></pre>\n"}], "owner": {"reputation": 17247, "user_id": 1675976, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/SNvIc.jpg?s=128&g=1", "display_name": "CodyBugstein", "link": "https://stackoverflow.com/users/1675976/codybugstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 0, "accepted_answer_id": 49146872, "answer_count": 1, "score": 2, "last_activity_date": 1520409806, "creation_date": 1520398118, "last_edit_date": 1520399588, "question_id": 49144338, "link": "https://stackoverflow.com/questions/49144338/in-angular2-when-are-static-variables-set", "title": "In Angular2+, when are static variables set?", "body": "<p>Suppose I have a service in Angular 5 that looks like </p>\n\n<pre><code>@Injectable()\nexport class CognitoUtil {\n\n    constructor(\n        private anotherService: AnotherService\n    ) {}\n\n    public static GREETING = \"Howdie Partner\";\n\n}\n</code></pre>\n\n<p>What is the lifecycle of the variable <code>GREETING</code>? </p>\n\n<p>When is it set? Is it set as soon as the app is loaded before it is even bootstrapped (it seems so to me) ? Is there anyway to get something to happen before it runs - for example, to set other values that might affect the final given value to <code>GREETING</code>?</p>\n\n<p>I'd really appreciate some clarification on this. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["twitter-bootstrap", "reactjs", "typescript", "redux"], "comments": [{"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 0, "creation_date": 1568903164, "post_id": 49144169, "comment_id": 102430615, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52735288/why-does-parameter-props-implicitly-has-an-any-type\">Why does parameter &#39;props&#39; implicitly has an &#39;any&#39; type?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "is_accepted": false, "score": 2, "last_activity_date": 1520397358, "creation_date": 1520397358, "answer_id": 49144215, "question_id": 49144169, "link": "https://stackoverflow.com/questions/49144169/react-typescript-parameter-props-implicitly-has-an-any-type-error/49144215#49144215", "title": "react/typescript: Parameter &#39;props&#39; implicitly has an &#39;any&#39; type error", "body": "<p>in type script you need to specify the type of props you are going to send or it takes the default type defined tin @types/react. if you dont want to specify any type then explicitly ask the component to expect state and props of 'any' type.</p>\n\n<pre><code>class FormExample extends React.Component&lt;any,any&gt; {\n</code></pre>\n\n<p>the first type argument is for defining the type of props you are expecting , the other is for type of state of the component.</p>\n"}, {"comments": [{"owner": {"reputation": 653, "user_id": 1487713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11d47738bdb75727bcd1e0614a612e8?s=128&d=identicon&r=PG", "display_name": "Pavel Nazarov", "link": "https://stackoverflow.com/users/1487713/pavel-nazarov"}, "edited": false, "score": 7, "creation_date": 1554468324, "post_id": 49144462, "comment_id": 97774665, "body": "or easily in tsconfig.json set noImplicitAny to false"}, {"owner": {"reputation": 2130, "user_id": 7386637, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b132e53835fe3b80fef2879b3bb142ad?s=128&d=identicon&r=PG&f=1", "display_name": "rpivovar", "link": "https://stackoverflow.com/users/7386637/rpivovar"}, "edited": false, "score": 0, "creation_date": 1577490023, "post_id": 49144462, "comment_id": 105186734, "body": "Are there any resources that go over the above pattern?"}, {"owner": {"reputation": 8220, "user_id": 2771889, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/c568088e59a0fe4e38016d2707f48fb4?s=128&d=identicon&r=PG&f=1", "display_name": "thisismydesign", "link": "https://stackoverflow.com/users/2771889/thisismydesign"}, "reply_to_user": {"reputation": 653, "user_id": 1487713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11d47738bdb75727bcd1e0614a612e8?s=128&d=identicon&r=PG", "display_name": "Pavel Nazarov", "link": "https://stackoverflow.com/users/1487713/pavel-nazarov"}, "edited": false, "score": 2, "creation_date": 1595641780, "post_id": 49144462, "comment_id": 111553810, "body": "@Pavel Nazarov No! That defeats the purpose of TS."}], "tags": [], "owner": {"reputation": 1463, "user_id": 6325973, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/If7dN.jpg?s=128&g=1", "display_name": "Harish", "link": "https://stackoverflow.com/users/6325973/harish"}, "is_accepted": true, "score": 33, "last_activity_date": 1594037663, "last_edit_date": 1594037663, "creation_date": 1520398862, "answer_id": 49144462, "question_id": 49144169, "link": "https://stackoverflow.com/questions/49144169/react-typescript-parameter-props-implicitly-has-an-any-type-error/49144462#49144462", "title": "react/typescript: Parameter &#39;props&#39; implicitly has an &#39;any&#39; type error", "body": "<p>In <em>typeScript</em> you should install <a href=\"https://www.npmjs.com/package/@types/react\" rel=\"noreferrer\">@types/react</a> and while extending the <code>React.Component</code> you need to specify the <code>props</code> and <code>state</code> types.\nHere is the example</p>\n<pre><code>import * as React from 'react'\n\ninterface Props {\n  ... // your props validation\n}\n\ninterface State {\n  ... // state types\n}\n\nclass FormExample extends React.Component&lt;Props, State&gt; {... }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21272, "user_id": 52277, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/67498fd0e17d27cb9be0c107f306e378?s=128&d=identicon&r=PG", "display_name": "Michael Freidgeim", "link": "https://stackoverflow.com/users/52277/michael-freidgeim"}, "edited": false, "score": 4, "creation_date": 1568902350, "post_id": 50794232, "comment_id": 102430131, "body": "Does it defeat the purpose of TypeScript strict typing?"}, {"owner": {"reputation": 164, "user_id": 5720826, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-j4yR_ZHDASY/AAAAAAAAAAI/AAAAAAAAAI4/i8GD018SA4k/photo.jpg?sz=128", "display_name": "Vipul Dessai", "link": "https://stackoverflow.com/users/5720826/vipul-dessai"}, "edited": false, "score": 0, "creation_date": 1612090949, "post_id": 50794232, "comment_id": 116652990, "body": "if the component is not receiving any props, better to say props: {} rather than any"}], "tags": [], "owner": {"reputation": 945, "user_id": 4156490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8h9FGIZarJ8/AAAAAAAAAAI/AAAAAAAAAEQ/3XMAJYJLFu0/photo.jpg?sz=128", "display_name": "Ozgur Sahin", "link": "https://stackoverflow.com/users/4156490/ozgur-sahin"}, "is_accepted": false, "score": 19, "last_activity_date": 1528708621, "creation_date": 1528708621, "answer_id": 50794232, "question_id": 49144169, "link": "https://stackoverflow.com/questions/49144169/react-typescript-parameter-props-implicitly-has-an-any-type-error/50794232#50794232", "title": "react/typescript: Parameter &#39;props&#39; implicitly has an &#39;any&#39; type error", "body": "<p>Specifying the type of the constructor parameter resolved this issue in my case.</p>\n\n<pre><code>class Clock extends React.Component&lt;any, any&gt; {\n\n    constructor(props: any) {\n        super(props);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29443, "user_id": 1087131, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/c31ac7189e69fc6ccef80303cc8edfa0?s=128&d=identicon&r=PG", "display_name": "Stephen Paul", "link": "https://stackoverflow.com/users/1087131/stephen-paul"}, "is_accepted": false, "score": 6, "last_activity_date": 1578814799, "creation_date": 1578814799, "answer_id": 59701878, "question_id": 49144169, "link": "https://stackoverflow.com/questions/49144169/react-typescript-parameter-props-implicitly-has-an-any-type-error/59701878#59701878", "title": "react/typescript: Parameter &#39;props&#39; implicitly has an &#39;any&#39; type error", "body": "<p>I just got this error on a <strong>functional component</strong>.</p>\n\n<p>In order to get information such as <code>props.children</code> as well as custom props, you should do the following.</p>\n\n<pre><code>import { FunctionComponent } from 'react';\n\nconst Layout: FunctionComponent&lt;{ hello: string }&gt; = props =&gt; (\n  &lt;div style={layoutStyle}&gt;\n    &lt;Header /&gt;\n    {props.hello}\n    {props.children}\n  &lt;/div&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 287, "user_id": 8360577, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6a45ec3f46f70cf7ed9a38abb536ac0?s=128&d=identicon&r=PG&f=1", "display_name": "newgrad", "link": "https://stackoverflow.com/users/8360577/newgrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34109, "favorite_count": 4, "accepted_answer_id": 49144462, "answer_count": 4, "score": 25, "last_activity_date": 1594037663, "creation_date": 1520397125, "question_id": 49144169, "link": "https://stackoverflow.com/questions/49144169/react-typescript-parameter-props-implicitly-has-an-any-type-error", "title": "react/typescript: Parameter &#39;props&#39; implicitly has an &#39;any&#39; type error", "body": "<p>When I try this sample code from react-bootstrap, I keep getting errors such as \" Parameter 'context' implicitly has an 'any' type; \"Property 'value' does not exist on type 'Readonly&lt;{}>'.\" </p>\n\n<p>in form.tsx:</p>\n\n<pre><code>class FormExample extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleChange = this.handleChange.bind(this);\n\n    this.state = {\n      value: ''\n    };\n  }\n\n  getValidationState() {\n    const length = this.state.value.length;\n    if (length &gt; 10) return 'success';\n    else if (length &gt; 5) return 'warning';\n    else if (length &gt; 0) return 'error';\n    return null;\n  }\n\n  handleChange(e) {\n    this.setState({ value: e.target.value });\n  }\n\n  render() {\n    return (\n      &lt;form&gt;\n        &lt;FormGroup\n          controlId=\"formBasicText\"\n          validationState={this.getValidationState()}\n        &gt;\n          &lt;ControlLabel&gt;Working example with validation&lt;/ControlLabel&gt;\n          &lt;FormControl\n            type=\"text\"\n            value={this.state.value}\n            placeholder=\"Enter text\"\n            onChange={this.handleChange}\n          /&gt;\n          &lt;FormControl.Feedback /&gt;\n          &lt;HelpBlock&gt;Validation is based on string length.&lt;/HelpBlock&gt;\n        &lt;/FormGroup&gt;\n      &lt;/form&gt;\n    );\n  }\n}\n\nexport default FormExample;\n</code></pre>\n\n<p>in Jumbo.tsx:</p>\n\n<pre><code>const Jumbo = () =&gt; (\n   &lt;FormExample /&gt;\n);\n</code></pre>\n"}, {"tags": ["angular", "typescript", "angular5"], "comments": [{"owner": {"reputation": 5894, "user_id": 3059623, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yDmeg.jpg?s=128&g=1", "display_name": "Aeseir", "link": "https://stackoverflow.com/users/3059623/aeseir"}, "edited": false, "score": 0, "creation_date": 1520394739, "post_id": 49143728, "comment_id": 85292900, "body": "what is the output you get when you convert it to json? i.e. add .then(res =&gt; res.json()); to the toPromise()."}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "reply_to_user": {"reputation": 5894, "user_id": 3059623, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yDmeg.jpg?s=128&g=1", "display_name": "Aeseir", "link": "https://stackoverflow.com/users/3059623/aeseir"}, "edited": false, "score": 0, "creation_date": 1520395082, "post_id": 49143728, "comment_id": 85292989, "body": "@Aeseir <code>{ &quot;__zone_symbol__state&quot;: 0, &quot;__zone_symbol__value&quot;: {} }</code> Also, I got errors <code>Uncaught (in promise): TypeError: res.json is not a function</code> and  <code>Cannot find a differ supporting object &#39;[object Promise]&#39; of type &#39;object&#39;. NgFor only supports binding to Iterables such as Arrays.</code>"}, {"owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "edited": false, "score": 0, "creation_date": 1520396076, "post_id": 49143728, "comment_id": 85293256, "body": "Welcome to stackoverflow! No, you don&#39;t need the <code>res.json()</code> anymore if you are doing the new <code>HttpClient</code>. But you are missing the subscribe and since http calls are asynchronous, you can&#39;t just assign it to the value."}, {"owner": {"reputation": 185, "user_id": 932207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3ed0e74568d5082f67e197efa6c5e6f3?s=128&d=identicon&r=PG", "display_name": "Probandot", "link": "https://stackoverflow.com/users/932207/probandot"}, "edited": false, "score": 0, "creation_date": 1525260401, "post_id": 49143728, "comment_id": 87284951, "body": "Hey @Burak, could you make it to work? I have the same issue with a json list and is just not working. I tried to implement DeborahK solution, but I haven&#39;t succeed. Any suggestions are welcome."}, {"owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "reply_to_user": {"reputation": 185, "user_id": 932207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3ed0e74568d5082f67e197efa6c5e6f3?s=128&d=identicon&r=PG", "display_name": "Probandot", "link": "https://stackoverflow.com/users/932207/probandot"}, "edited": false, "score": 0, "creation_date": 1525298844, "post_id": 49143728, "comment_id": 87306697, "body": "Hey @Probandot. Well, in my case I get my json from my backend. In the backend I was sending raw json file to frontend. To solve that, simply I use like <code>json.data</code>. It access <code>data</code> in the json file. In your case, it could be different."}, {"owner": {"reputation": 185, "user_id": 932207, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3ed0e74568d5082f67e197efa6c5e6f3?s=128&d=identicon&r=PG", "display_name": "Probandot", "link": "https://stackoverflow.com/users/932207/probandot"}, "edited": false, "score": 0, "creation_date": 1525331527, "post_id": 49143728, "comment_id": 87315864, "body": "@Burak, thanks for answering. I got the JSON, but I haven&#39;t figured out how to parse the list, like in your case with channels. I can access the response and total, but not channels. That is what I am trying to do :) When you got the data, could you do something like data.channels and got the contents of the list?"}], "answers": [{"tags": [], "owner": {"reputation": 46655, "user_id": 1647604, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/de0a77110ab57284e2a8d57858f714a3?s=128&d=identicon&r=PG", "display_name": "DeborahK", "link": "https://stackoverflow.com/users/1647604/deborahk"}, "is_accepted": true, "score": 0, "last_activity_date": 1520396574, "last_edit_date": 1520396574, "creation_date": 1520396226, "answer_id": 49144027, "question_id": 49143728, "link": "https://stackoverflow.com/questions/49143728/angular-5-list-json-data/49144027#49144027", "title": "Angular 5 list json data", "body": "<p>As a quick answer:</p>\n\n<pre><code>const endpoint = `http://localhost:5000/search?key=${key}`\nthis.http.get(endpoint).subscribe(channels =&gt; this.channels = channels)\n</code></pre>\n\n<p>You need to subscribe in order to submit the http request. You then provide a callback function in the subscribe and that is where you set your <code>channels</code> property.</p>\n\n<p>Best practice, however, is to move your data access into a service.</p>\n\n<p>You can find documentation on how to do that here: <a href=\"https://angular.io/guide/http\" rel=\"nofollow noreferrer\">https://angular.io/guide/http</a></p>\n\n<p>And I have a complete code example here: <a href=\"https://github.com/DeborahK/MovieHunter\" rel=\"nofollow noreferrer\">https://github.com/DeborahK/MovieHunter</a></p>\n\n<p><strong>Service</strong></p>\n\n<p>The service would look something like this:</p>\n\n<pre><code>@Injectable()\nexport class MovieService {\n    private moviesUrl = './api/movies/movies.json';\n\n    constructor(private http: HttpClient) { }\n\n    getMovies(): Observable&lt;IMovie[]&gt; {\n        return this.http.get&lt;IMovie[]&gt;(this.moviesUrl);\n    }\n}\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<p>And the component would look something like this:</p>\n\n<pre><code>getMovies(): void {\n    this.movieService.getMovies()\n        .subscribe(movies =&gt; this.movies = movies);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "is_accepted": false, "score": 0, "last_activity_date": 1520445352, "last_edit_date": 1592644375, "creation_date": 1520419083, "answer_id": 49149836, "question_id": 49143728, "link": "https://stackoverflow.com/questions/49143728/angular-5-list-json-data/49149836#49149836", "title": "Angular 5 list json data", "body": "<p>You also can use <a href=\"https://angular.io/api/common/AsyncPipe\" rel=\"nofollow noreferrer\">Angular async PIPE</a>, which works with both promises and observables. SO, just add it in your HTML:</p>\n<pre><code>&lt;div *ngFor=&quot;let ch of channels | async&quot;&gt;&lt;\n   ...\n/div&gt;\n</code></pre>\n<p>You do not need to convert your http request to promise (<code>this.channels  = this.http.get(endpoint).toPromise()</code>), but as I already said it will work in both cases:</p>\n<pre><code>this.channels  = this.http.get(endpoint).toPromise();\n// OR\nthis.channels  = this.http.get(endpoint);\n</code></pre>\n<p>I usually mark async variables with <code>$</code> suffix:</p>\n<pre><code>this.channels$  = this.http.get(endpoint);\n\n// HTML\n&lt;div *ngFor=&quot;let ch of channels$ | async&quot;&gt;\n  ...\n&lt;/div&gt;\n</code></pre>\n<p>the advantage of using <code>async</code> pipe is that you need nor to subscribe neither to unsubscribe to any observable.</p>\n<p>I created a stackblitz to play with: <a href=\"https://stackblitz.com/edit/angular-zfzswr\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-zfzswr</a></p>\n"}], "owner": {"reputation": 77, "user_id": 9344497, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2lW4DMrst0Y/AAAAAAAAAAI/AAAAAAAAAO4/uknBxLNkCCs/photo.jpg?sz=128", "display_name": "Burak", "link": "https://stackoverflow.com/users/9344497/burak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1553, "favorite_count": 0, "accepted_answer_id": 49144027, "answer_count": 2, "score": 0, "last_activity_date": 1520445352, "creation_date": 1520394087, "last_edit_date": 1520394218, "question_id": 49143728, "link": "https://stackoverflow.com/questions/49143728/angular-5-list-json-data", "title": "Angular 5 list json data", "body": "<p>I am trying to list a data that fetched from a server. I use <code>HttpClient</code>.</p>\n\n<p>This is a sample data that I get</p>\n\n<pre><code>{  \n   \"__zone_symbol__state\":true,\n   \"__zone_symbol__value\":{  \n      \"response\":{  \n         \"_total\":1558,\n         \"channels\":[  \n            {  \n               \"name\": \"hey\",\n               \"views\":109151896,\n               \"followers\":2542307,\n               \"broadcaster_type\":\"partner\"\n            },\n            ...\n</code></pre>\n\n<p>My ts file</p>\n\n<pre><code>const endpoint = `http://localhost:5000/search?key=${key}`\nthis.channels  = this.http.get(endpoint).toPromise()\n</code></pre>\n\n<p>My html file should be like this</p>\n\n<pre><code>&lt;div *ngFor=\"let ch of channels\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How do I list channels? </p>\n"}, {"tags": ["angular", "typescript", "nativescript"], "answers": [{"comments": [{"owner": {"reputation": 4177, "user_id": 627667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3b3478cdad2c1535e3d18cb4dd45e05b?s=128&d=identicon&r=PG", "display_name": "smartsanja", "link": "https://stackoverflow.com/users/627667/smartsanja"}, "edited": false, "score": 0, "creation_date": 1520396112, "post_id": 49143553, "comment_id": 85293267, "body": "I am creating a nativescript plugin for native iOS libarary. .d.ts file is auto generated"}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "reply_to_user": {"reputation": 4177, "user_id": 627667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3b3478cdad2c1535e3d18cb4dd45e05b?s=128&d=identicon&r=PG", "display_name": "smartsanja", "link": "https://stackoverflow.com/users/627667/smartsanja"}, "edited": false, "score": 0, "creation_date": 1520549842, "post_id": 49143553, "comment_id": 85373614, "body": "Then make sure the corresponding JS is loaded."}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 1, "last_activity_date": 1520392761, "creation_date": 1520392761, "answer_id": 49143553, "question_id": 49143536, "link": "https://stackoverflow.com/questions/49143536/how-to-access-enum-declared-in-a-d-ts-file-nativescript/49143553#49143553", "title": "How to access enum declared in a d.ts file - Nativescript", "body": "<blockquote>\n  <p>What's am I doing wrong here, please share some idea on this</p>\n</blockquote>\n\n<p>You are creating a <em>declaration</em>. These should only be used if you have corresponding <a href=\"https://basarat.gitbooks.io/typescript/docs/types/ambient/intro.html\" rel=\"nofollow noreferrer\">JavaScript code available</a>. </p>\n\n<h1>Fix</h1>\n\n<p>Dont use declare and use a file <code>.ts</code> (not <code>.d.ts</code>)</p>\n\n<pre><code>enum myenum // Fixed\n{\n    TYPE_ONE,\n    TYPE_TWO,\n}\n</code></pre>\n\n<h1>More</h1>\n\n<p>If you are not the author of the <code>.d.ts</code> file, <em>make sure you load the corresponding JS</em> for the <code>.d.ts</code> file.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9454762, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1maPG7EK0b8/AAAAAAAAAAI/AAAAAAAAC_8/3mZoEyKKubk/photo.jpg?sz=128", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/9454762/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1520399352, "creation_date": 1520399352, "answer_id": 49144539, "question_id": 49143536, "link": "https://stackoverflow.com/questions/49143536/how-to-access-enum-declared-in-a-d-ts-file-nativescript/49144539#49144539", "title": "How to access enum declared in a d.ts file - Nativescript", "body": "<p>You can do inside your d.ts :</p>\n\n<pre><code>export const enum myenum {\n  TYPE_ONE = \"TYPE_ONE\",\n  TYPE_TWO = \"TYPE_TWO\"\n}\n</code></pre>\n"}], "owner": {"reputation": 4177, "user_id": 627667, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3b3478cdad2c1535e3d18cb4dd45e05b?s=128&d=identicon&r=PG", "display_name": "smartsanja", "link": "https://stackoverflow.com/users/627667/smartsanja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 1, "accepted_answer_id": 49143553, "answer_count": 2, "score": 0, "last_activity_date": 1520399352, "creation_date": 1520392648, "question_id": 49143536, "link": "https://stackoverflow.com/questions/49143536/how-to-access-enum-declared-in-a-d-ts-file-nativescript", "title": "How to access enum declared in a d.ts file - Nativescript", "body": "<p>I have declared an enum in a <strong>d.ts</strong> file</p>\n\n<pre><code>declare enum myenum\n{\n    TYPE_ONE,\n    TYPE_TWO,\n}\n\ndeclare class MobileAPI extends NSObject {....}\n</code></pre>\n\n<p>Now I am accessing the enum in a <strong>.ts</strong> file like bellow.</p>\n\n<pre><code>this.mobileAPI.addType(myenum.TYPE_ONE,NSString.stringWithString(\"someString\"));\n</code></pre>\n\n<p>I can compile the app, but getting following JS error</p>\n\n<pre><code>JS ERROR ReferenceError: Can't find variable: myenum\n</code></pre>\n\n<p>What's am I doing wrong here, please share some idea on this</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "jsx", "glamorous"], "comments": [{"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 2, "creation_date": 1520391520, "post_id": 49143210, "comment_id": 85292182, "body": "I wrote <a href=\"https://typestyle.github.io/\" rel=\"nofollow noreferrer\">typestyle.github.io</a> specifically for TypeScript convenience \ud83c\udf39"}, {"owner": {"reputation": 1460, "user_id": 2313377, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6jJAc.png?s=128&g=1", "display_name": "Jonny Asmar", "link": "https://stackoverflow.com/users/2313377/jonny-asmar"}, "reply_to_user": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 0, "creation_date": 1520393421, "post_id": 49143210, "comment_id": 85292600, "body": "Doesn&#39;t quite answer my question, but thank you for sharing! TypeStyle looks really cool! :) Starred &amp; watching. May definitely consider it for a future project."}, {"owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "edited": false, "score": 1, "creation_date": 1520393685, "post_id": 49143210, "comment_id": 85292672, "body": "Yeah, not an answer. Just a comment for your alternative consideration."}, {"owner": {"reputation": 2346, "user_id": 5561369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REBAs.jpg?s=128&g=1", "display_name": "paibamboo", "link": "https://stackoverflow.com/users/5561369/paibamboo"}, "edited": false, "score": 0, "creation_date": 1520394160, "post_id": 49143210, "comment_id": 85292776, "body": "Apparently there are 2 questions 1) The issue arises with the fact that not all of the elements returned will necessarily have a property of React.HTMLProps&lt;HTMLElement&gt;. They may be HTMLAnchorElement or HTMLTableElement, etc. 2) How might I be able to generate my GBPComp type dynmically, such that it adds those props (i.e. layout and width) to all returned types? And seems like 2nd question is already handled by your code, no? layout and witdth are already props of Section and Anchor in your last example."}, {"owner": {"reputation": 2346, "user_id": 5561369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REBAs.jpg?s=128&g=1", "display_name": "paibamboo", "link": "https://stackoverflow.com/users/5561369/paibamboo"}, "edited": false, "score": 1, "creation_date": 1520394357, "post_id": 49143210, "comment_id": 85292816, "body": "Also how could this function work?  <code>export const special = (glam: any, styles: object[]): GBPComp =&gt;{   return glam([styles as CSSStyleDeclaration[], specialProps]); };</code>  specialProps is not defined here.  Shouldn&#39;t it be  <code>export const special = (glam: any, styles: object[], ...specialProps): GBPComp =&gt; {   return glam([styles as CSSStyleDeclaration[], ...specialProps]); };</code> instead?"}, {"owner": {"reputation": 1460, "user_id": 2313377, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6jJAc.png?s=128&g=1", "display_name": "Jonny Asmar", "link": "https://stackoverflow.com/users/2313377/jonny-asmar"}, "reply_to_user": {"reputation": 2346, "user_id": 5561369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REBAs.jpg?s=128&g=1", "display_name": "paibamboo", "link": "https://stackoverflow.com/users/5561369/paibamboo"}, "edited": false, "score": 0, "creation_date": 1520400383, "post_id": 49143210, "comment_id": 85294467, "body": "@paibamboo You are correct. I didn&#39;t define <code>specialProps</code> in my question. As I mentioned above, it&#39;s representative of a function similar to the one&#39;s in my first codeblock (i.e. for <code>size</code> &amp; <code>alignment</code>). Thanks for clarifying this!"}], "answers": [{"comments": [{"owner": {"reputation": 1460, "user_id": 2313377, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6jJAc.png?s=128&g=1", "display_name": "Jonny Asmar", "link": "https://stackoverflow.com/users/2313377/jonny-asmar"}, "edited": false, "score": 1, "creation_date": 1520400315, "post_id": 49143872, "comment_id": 85294447, "body": "Hmm -- this doesn&#39;t quite answer the question of how to define that type dynamically. I&#39;d prefer to not have to add the type on each call of <code>special</code>. However, I&#39;ve voted up your answer as I think generics are definitely a step in the right direction. I hadn&#39;t considered this (nor is it something I&#39;ve been particularly familiar with in TypeScript; at least not writing from scratch). So, thank you! I have moved on to a different piece of the project for now, but I will circle back to this very soon and will definitely update this post if I find generics help me with the solution."}], "tags": [], "owner": {"reputation": 2346, "user_id": 5561369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REBAs.jpg?s=128&g=1", "display_name": "paibamboo", "link": "https://stackoverflow.com/users/5561369/paibamboo"}, "is_accepted": false, "score": 1, "last_activity_date": 1520395144, "creation_date": 1520395144, "answer_id": 49143872, "question_id": 49143210, "link": "https://stackoverflow.com/questions/49143210/how-to-dynamically-extend-the-interface-or-type-of-an-object-in-typescript/49143872#49143872", "title": "How to dynamically extend the interface or type of an object in TypeScript?", "body": "<p>If you do not want <code>React.HTMLProps&lt;HTMLElement&gt;</code> for every elements, instead of hardcoding <code>React.HTMLProps&lt;HTMLElement&gt;</code>, you could use generics for your <code>GBPComp</code> like so</p>\n\n<pre><code>export type GBPComp&lt;ExtraProps&gt; = React.StatelessComponent&lt;React.CSSProperties &amp; ExtraGlamorousProps &amp; ExtraProps &amp; { \n  layout: string,\n  width: string\n}&gt;;\n</code></pre>\n\n<p>And <code>special()</code> also accepts <code>ExtraProps</code> as generics and pass to <code>GBPComp</code> like so</p>\n\n<pre><code>export function special&lt;ExtraProps&gt;(glam: any, styles: object[], ...specialProps): GBPComp&lt;ExtraProps&gt; {\n  return glam([styles as CSSStyleDeclaration[], ...specialProps]);\n};\n</code></pre>\n\n<p>Now you can assign <code>React.HTMLProps&lt;HTMLAnchorElement&gt;</code> props to your <code>Anchor</code></p>\n\n<pre><code>const Anchor = special&lt;React.HTMLProps&lt;HTMLAnchorElement&gt;&gt;(glamorous.a, [\n  {\n    ...styles\n  }\n]);\n</code></pre>\n"}], "owner": {"reputation": 1460, "user_id": 2313377, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6jJAc.png?s=128&g=1", "display_name": "Jonny Asmar", "link": "https://stackoverflow.com/users/2313377/jonny-asmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520395144, "creation_date": 1520390149, "question_id": 49143210, "link": "https://stackoverflow.com/questions/49143210/how-to-dynamically-extend-the-interface-or-type-of-an-object-in-typescript", "title": "How to dynamically extend the interface or type of an object in TypeScript?", "body": "<p>I am trying to use PayPal's Glamorous CSS-in-JS library in a boilerplate project I'm building which also leverages TypeScript.</p>\n\n<p>Glamorous allows you to add props to an element like-so:</p>\n\n<pre><code>const Section = glamorous.section([\n  {\n    ...styles\n  },\n  ({size}: any){\n    if(size === 'big') return {fontSize: '48px';}\n    else if(size === 'small') return {fontSize: '12px';}\n  },\n  ({alignment}: any){\n    if(alignment === 'left') return {textAlign: 'left'}\n    else if(alignment === 'right') return {textAlign: 'right'}\n  }\n]);\n</code></pre>\n\n<p>So that you can then use the element in JSX like this:</p>\n\n<pre><code>&lt;Section size=\"big\"&gt;&lt;/Section&gt;\n</code></pre>\n\n<p>I have a number of props like this that I would like to add to all of my Glamorous-generated elements. So, I've created a helper function that looks like this:</p>\n\n<pre><code>export const special = (glam: any, styles: object[]): GBPComp =&gt;{\n  return glam([styles as CSSStyleDeclaration[], specialProps]);\n};\n</code></pre>\n\n<p>Where <code>specialProps</code> represents a function (like the one above) that adds the various props to my array of style declarations.</p>\n\n<p>I intend to use it like this:</p>\n\n<pre><code>const Section = special(glamorous.section, [\n  {\n    ...styles\n  }\n]);\n</code></pre>\n\n<p>I then want all of the props provided by <code>specialProps</code> to be typed for my JSX usage. So, I've tried to create my <code>GBPComp</code> type like this:</p>\n\n<pre><code>export type GBPComp = React.StatelessComponent&lt;CSSProperties&amp;ExtraGlamorousProps&amp;React.HTMLProps&lt;HTMLElement&gt;&amp;{\n  layout?: string,\n  width?: string\n}&gt;;\n</code></pre>\n\n<p>The issue arises with the fact that not all of the elements returned will necessarily have a property of <code>React.HTMLProps&lt;HTMLElement&gt;</code>. They may be <code>HTMLAnchorElement</code> or <code>HTMLTableElement</code>, etc.</p>\n\n<p>How might I be able to generate my <code>GBPComp</code> type dynmically, such that it adds those props (i.e. <code>layout</code> and <code>width</code>) to all returned types? Such that the following will work properly within TypeScript:</p>\n\n<pre><code>const Section = special(glamorous.section, [\n  {\n    ...styles\n  }\n]);\n\nconst Anchor = special(glamorous.a, [\n  {\n    ...styles\n  }\n]);\n\n&lt;a href=\"#\" layout=\"someString\"&gt;This is an Anchor&lt;/a&gt;\n\n&lt;section layout=\"someString\"&gt;This is a Section&lt;/section&gt;\n</code></pre>\n"}, {"tags": ["node.js", "typescript", "electron"], "comments": [{"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520413298, "post_id": 49142668, "comment_id": 85300162, "body": "The question lacks <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> . It&#39;s unclear what <code>capture</code> method is and where it came from. The package doesn&#39;t seem to contain this method. Unless proven otherwise, it&#39;s always preferable to wrap and extend, not patch."}, {"owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520414070, "post_id": 49142668, "comment_id": 85300586, "body": "@estus: <a href=\"https://github.com/johnvmt/node-desktop-screenshot/blob/master/capture/darwin.js#L36\" rel=\"nofollow noreferrer\">github.com/johnvmt/node-desktop-screenshot/blob/master/captu&zwnj;&#8203;re/&hellip;</a>."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1520414162, "post_id": 49142668, "comment_id": 85300646, "body": "It&#39;s a function that is never exported. You cannot wrap or patch it. Fork the package and tailor it to your needs."}], "answers": [{"tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": true, "score": 8, "last_activity_date": 1520391462, "creation_date": 1520391462, "answer_id": 49143386, "question_id": 49142668, "link": "https://stackoverflow.com/questions/49142668/monkey-patch-node-module/49143386#49143386", "title": "monkey patch node module", "body": "<blockquote>\n  <p>So how can I monkey patch this module method?</p>\n</blockquote>\n\n<p>What you have would work fine ... but <em>only</em> if your code runs before it is used elsewhere. For reliable patching I recommend <a href=\"https://github.com/ds300/patch-package\" rel=\"noreferrer\">https://github.com/ds300/patch-package</a> which patches modules on install.</p>\n"}], "owner": {"reputation": 6419, "user_id": 1141356, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8807954e084bcf3c7dd691d5ad27c478?s=128&d=identicon&r=PG", "display_name": "intelis", "link": "https://stackoverflow.com/users/1141356/intelis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3660, "favorite_count": 0, "accepted_answer_id": 49143386, "answer_count": 1, "score": 2, "last_activity_date": 1520391462, "creation_date": 1520385679, "question_id": 49142668, "link": "https://stackoverflow.com/questions/49142668/monkey-patch-node-module", "title": "monkey patch node module", "body": "<p>I'm trying to monkey patch <a href=\"https://github.com/johnvmt/node-desktop-screenshot\" rel=\"nofollow noreferrer\">this node module</a> in <a href=\"https://electronjs.org/\" rel=\"nofollow noreferrer\">electron</a> application. I want to change the <code>capture</code> method input arguments.</p>\n\n<p>My code so far looks like this:</p>\n\n<pre><code>if (process.platform == \"darwin\") {\n      let refSCapt = screenshot.capture;\n      console.log(\"Outside\");\n      screenshot.capture = function(output: string, callback: any) {\n        console.log(\"Inside\");\n        // Override output path of a temp .png file\n        let tempOutput = output.split(\"/\")[-1];\n        refSCapt(this.screenshotsPath + tempOutput, callback);\n      };\n    }\n</code></pre>\n\n<p>The problem is that the patch is not reflecting and the original method is called as if nothing would've change. The <code>Outside</code> get's logged but the <code>Inside</code> is never called.</p>\n\n<p>So how can I monkey patch this module method? </p>\n"}, {"tags": ["typescript", "typescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 2538, "user_id": 6847234, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e6c83419733b2645e9e9c66aaf5e959?s=128&d=identicon&r=PG&f=1", "display_name": "dev_054", "link": "https://stackoverflow.com/users/6847234/dev-054"}, "edited": false, "score": 0, "creation_date": 1520388535, "post_id": 49142833, "comment_id": 85291531, "body": "Thanks for your answer and explanation... however I want to be able to access the properties of those classes, ex: <code>dictionary.test.t1.display</code> or <code>dictionary.test.klass.id</code> and I have no idea how to do this. In fact, I forgot to mention this in OP (added right now). Can you help me anyway?"}], "tags": [], "owner": {"reputation": 28847, "user_id": 43848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l6ogn.png?s=128&g=1", "display_name": "artem", "link": "https://stackoverflow.com/users/43848/artem"}, "is_accepted": true, "score": 1, "last_activity_date": 1520390782, "last_edit_date": 1520390782, "creation_date": 1520387165, "answer_id": 49142833, "question_id": 49142404, "link": "https://stackoverflow.com/questions/49142404/error-when-trying-to-assigning-interface/49142833#49142833", "title": "Error when trying to assigning interface", "body": "<blockquote>\n  <p>Type 'typeof T1Klass' is not assignable to type 'ConstructableT1'.</p>\n</blockquote>\n\n<p>TypeScript compiler shortens error messages sometimes. In this case, it does not tell why <code>typeof T1Klass</code> is not assignable to <code>ConstructableT1</code>.</p>\n\n<p>To see why, let's try to assign one to another:</p>\n\n<pre><code>let a: typeof T1Klass;\nlet b: ConstructableT1 = a;\n</code></pre>\n\n<p>Now we get</p>\n\n<pre><code>Type 'typeof T1Klass' is not assignable to type 'ConstructableT1'.\n  Type 'T1Klass' is not assignable to type 'T1&lt;Klass&gt;'.\n    Types of property 'display' are incompatible.\n      Type 'ReadonlyArray&lt;\"id\" | \"attr\"&gt;' is not assignable to type 'ReadonlyArray&lt;\"attr\"&gt;'.\n        Type '\"id\" | \"attr\"' is not assignable to type '\"attr\"'.\n          Type '\"id\"' is not assignable to type '\"attr\"'.\n</code></pre>\n\n<p>Which seems reasonable - one possible key value - \"id\" - is not assignable to a value of literal type \"attr\".</p>\n\n<p>One possible solution is to make <code>interface ConstructableT1</code> generic, so the compiler will know the actual type of <code>t1</code> and will not use default for generic parameter (<code>T1Klass</code>) which is incompatible:</p>\n\n<pre><code>interface T1&lt;T extends Klass = Klass&gt; {\n    readonly display: ReadonlyArray&lt;keyof T&gt;;\n}\n\ninterface ConstructableT1&lt;T extends Klass = Klass&gt; {\n    new(): T1&lt;T&gt;;\n}\n\n\n\nclass T1Klass implements T1&lt;ChildKlass&gt; {\n    readonly display: ReadonlyArray&lt;keyof ChildKlass&gt; = ['id'];\n}\n\n\nclass Klass {\n    attr: string;\n}\n\nclass ChildKlass extends Klass {\n    id: string;\n}\n\ninterface T1KlassDictionary {\n    [key: string]: {\n        t1?: ConstructableT1&lt;ChildKlass&gt;,\n        klass?: typeof Klass\n    };\n}\n\nconst dictionary: T1KlassDictionary = {\n    test: {\n        t1: T1Klass,\n        klass: ChildKlass\n    }\n};\n</code></pre>\n\n<p><strong>UPDATE</strong> the question was clarified:</p>\n\n<blockquote>\n  <p>The problem comes when I try to create a \"dictionary\" where the value\n  should be:</p>\n  \n  <p>t1 - \"an instance of class that implements T1\"; klass - \"an instance\n  of class that extends Klass\"</p>\n</blockquote>\n\n<p>Then I'd say you have wrong types for <code>t1</code> and <code>klass</code>. You declared them as constructors - that is, <code>dictionary.t1</code> can be used for creating instances like this</p>\n\n<pre><code>const inst = new dictionary.test.t1();\n</code></pre>\n\n<p>the playground says that the type of <code>inst</code> created this way is <code>const inst: T1&lt;ChildKlass&gt;</code>.</p>\n\n<p>If the dictionary should contain instances, it should be declared like this</p>\n\n<pre><code>interface T1KlassDictionary {\n    [key: string]: {\n        t1?: T1&lt;ChildKlass&gt;,\n        klass?: Klass\n    };\n}\n</code></pre>\n\n<p>and initialized with instances created with <code>new()</code></p>\n\n<pre><code>const dictionary: T1KlassDictionary = {\n    test: {\n        t1: new T1Klass(),\n        klass: new ChildKlass()\n    }\n};\n</code></pre>\n\n<p>then you can access instance properties:</p>\n\n<pre><code>const attr = dictionary.test.klass.attr; \n// but no id because declared type of `klass`\n//  is `Klass` which does not have `id`\n\nconst attr = dictionary.test.t1.display;\n</code></pre>\n"}], "owner": {"reputation": 2538, "user_id": 6847234, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/9e6c83419733b2645e9e9c66aaf5e959?s=128&d=identicon&r=PG&f=1", "display_name": "dev_054", "link": "https://stackoverflow.com/users/6847234/dev-054"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 49142833, "answer_count": 1, "score": 0, "last_activity_date": 1520390782, "creation_date": 1520383849, "last_edit_date": 1520388691, "question_id": 49142404, "link": "https://stackoverflow.com/questions/49142404/error-when-trying-to-assigning-interface", "title": "Error when trying to assigning interface", "body": "<p>I have the following classes/interfaces:</p>\n\n<pre><code>class Klass {\n  baseAttr: string;\n}\n\nclass ChildKlass extends Klass {\n  childAttr: string;\n}\n\ninterface T1&lt;T extends Klass = Klass&gt; {\n  readonly display: ReadonlyArray&lt;keyof T&gt;;\n}\n\nclass T1Klass implements T1&lt;ChildKlass&gt; {\n  readonly display: ReadonlyArray&lt;keyof ChildKlass&gt; = ['childAttr'];\n}\n</code></pre>\n\n<p>Everything works fine above...</p>\n\n<hr>\n\n<p>The problem comes when I try to create a \"dictionary\" where the value should be:</p>\n\n<p><code>t1</code> - \"an instance of class that implements T1\";<br>\n<code>klass</code> - \"an instance of class that extends Klass\"</p>\n\n<pre><code>interface ConstructableT1 {\n  new(): T1;\n}\n\ninterface T1KlassDictionary {\n  [key: string]: {\n    // Since I can't just say t1 is typeof T1, I created the ConstructableT1 interface\n    t1?: ConstructableT1,\n    klass?: typeof Klass\n  };\n}\n</code></pre>\n\n<p>When I try to instantiate an <code>object</code>:</p>\n\n<pre><code>const dictionary: T1KlassDictionary = {\n  test: {\n    t1: T1Klass,\n    klass: ChildKlass\n  }\n};\n</code></pre>\n\n<p>... it gives me the following error:</p>\n\n<blockquote>\n  <p>Type 'typeof T1Klass' is not assignable to type 'ConstructableT1'.</p>\n</blockquote>\n\n<p><a href=\"https://www.typescriptlang.org/play/#src=interface%20T1%3CT%20extends%20Klass%20%3D%20Klass%3E%20%7B%0D%0A%20%20%20%20readonly%20display%3A%20ReadonlyArray%3Ckeyof%20T%3E%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20ConstructableT1%20%7B%0D%0A%20%20%20%20new()%3A%20T1%3B%0D%0A%7D%0D%0A%0D%0Aclass%20T1Klass%20implements%20T1%3CChildKlass%3E%20%7B%0D%0A%20%20%20%20readonly%20display%3A%20ReadonlyArray%3Ckeyof%20ChildKlass%3E%20%3D%20%5B&#39;id&#39;%5D%3B%0D%0A%7D%0D%0A%0D%0Aclass%20Klass%20%7B%0D%0A%20%20%20%20attr%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Aclass%20ChildKlass%20extends%20Klass%20%7B%0D%0A%20%20%20%20id%3A%20string%3B%0D%0A%7D%0D%0A%0D%0Ainterface%20T1KlassDictionary%20%7B%0D%0A%20%20%20%20%5Bkey%3A%20string%5D%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20t1%3F%3A%20ConstructableT1%2C%0D%0A%20%20%20%20%20%20%20%20klass%3F%3A%20typeof%20Klass%0D%0A%20%20%20%20%7D%3B%0D%0A%7D%0D%0A%0D%0Aconst%20dictionary%3A%20T1KlassDictionary%20%3D%20%7B%0D%0A%20%20%20%20test%3A%20%7B%0D%0A%20%20%20%20%20%20%20%20t1%3A%20T1Klass%2C%0D%0A%20%20%20%20%20%20%20%20klass%3A%20ChildKlass%0D%0A%20%20%20%20%7D%0D%0A%7D%3B\" rel=\"nofollow noreferrer\"><strong>Playground link</strong></a></p>\n\n<p>What I'm doing wrong?</p>\n"}, {"tags": ["typescript", "rxjs"], "answers": [{"tags": [], "owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "is_accepted": true, "score": 1, "last_activity_date": 1520388886, "last_edit_date": 1520388886, "creation_date": 1520384253, "answer_id": 49142473, "question_id": 49142161, "link": "https://stackoverflow.com/questions/49142161/wrap-observable-from-static-method-for-error-handling/49142473#49142473", "title": "Wrap Observable from static method for error handling", "body": "<p>I would recommend using <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-defer\" rel=\"nofollow noreferrer\"><code>defer</code></a>:</p>\n\n<pre><code>import { defer } from 'rxjs/observable/defer';\n\nconst obs = defer(() =&gt; {\n  const reader = ...\n  const writer = ...\n  return fromEvent(...);\n});\n</code></pre>\n\n<p><code>defer</code> takes a factory function that returns an observable. The factory function will be called when a subscription is made to the observable returned from the call to <code>defer</code>.</p>\n\n<p>If an error occurs in the factory function, it will be emitted via an <code>error</code> notification in the observable stream.</p>\n"}], "owner": {"reputation": 175871, "user_id": 454533, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c7715e765817254e0534f89a4092c0aa?s=128&d=identicon&r=PG", "display_name": "Explosion Pills", "link": "https://stackoverflow.com/users/454533/explosion-pills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 49142473, "answer_count": 1, "score": 1, "last_activity_date": 1520388886, "creation_date": 1520381977, "question_id": 49142161, "link": "https://stackoverflow.com/questions/49142161/wrap-observable-from-static-method-for-error-handling", "title": "Wrap Observable from static method for error handling", "body": "<p>I'm using RxJS for some file processing -- specifically I'm reading from a file, doing some processing, and writing to another file. The <a href=\"http://reactivex.io/rxjs/class/es6/Observable.js~Observable.html#static-method-fromEvent\" rel=\"nofollow noreferrer\"><code>fromEvent</code></a> static Observable method seems perfect for this since I can use it to hook into the stream events.</p>\n\n<pre><code>const reader = createReadStream(inputFile);\nconst writer = createWriteStream(outputFile);\n\nfromEvent(reader, 'readable').pipe(\n  map(() =&gt; reader.read()),\n  processString(),\n  tap(chunk =&gt; writer.write(chunk)),\n  takeUntil(fromEvent(reader, 'close'))\n).subscribe({\n  error(err) { console.error(err); },\n  complete() { console.log('done'); },\n})\n</code></pre>\n\n<p>This works perfectly, but the problem is that if there is an error outside of the observable stream (for example <code>inputFile</code> does not exist) I can't catch it using the Observables. I would have to handle it separately.</p>\n\n<p>To get around this, I've wrapped <code>fromEvent</code> creation in an observable I don't really use:</p>\n\n<pre><code>of(1).pipe(\n  switchMap(() =&gt;\n    reader = ...\n    writer = ...\n    return fromEvent(...)\n</code></pre>\n\n<p>This works, but it feels strange to create an Observable like this to wrap functionality for error handling. Is there a preferred way to perform some set up an Observable and handle errors during the setup?</p>\n"}, {"tags": ["typescript", "d3.js"], "comments": [{"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "edited": false, "score": 0, "creation_date": 1520381114, "post_id": 49141627, "comment_id": 85289572, "body": "Don&#39;t know much about TypeScript, but <a href=\"https://hstefanski.wordpress.com/2017/08/15/creating-a-chart-with-d3-v4-and-typescript-or-es6/\" rel=\"nofollow noreferrer\">this</a> might help."}], "answers": [{"tags": [], "owner": {"reputation": 422, "user_id": 3404030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCs18.jpg?s=128&g=1", "display_name": "Pedro Pedrosa", "link": "https://stackoverflow.com/users/3404030/pedro-pedrosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1520429136, "last_edit_date": 1520429136, "creation_date": 1520428039, "answer_id": 49152729, "question_id": 49141627, "link": "https://stackoverflow.com/questions/49141627/typescript-argument-of-type-is-not-assignable-to-parameter-of-type-value/49152729#49152729", "title": "typescript argument of type is not assignable to parameter of type Value[][]", "body": "<p>You are getting that error because the Value interface is expecting both x and y to be numbers, but x is a string.</p>\n\n<p>You will have to replace your month tags by numbers for it to work, as such:</p>\n\n<pre><code>let testData = [\n  {\n    month: 0,\n    A: 20,\n    B: 5,\n    C: 10\n  },\n  {\n    month: 1,\n    A: 30,\n    B: 10,\n    C: 20\n  }\n];\n</code></pre>\n\n<p>If you can't change your data, you can also use the index of your samples:</p>\n\n<pre><code>var dataIntermediate = xData.map(function(c) {\n  return testData.map(function(d, i) {\n    return {\n      x: i,\n      y: d[c]\n    };\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5556035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OqcZvwYaGtw/AAAAAAAAAAI/AAAAAAAAADM/_ZoC6C3_JWE/photo.jpg?sz=128", "display_name": "venkataramana akkineni", "link": "https://stackoverflow.com/users/5556035/venkataramana-akkineni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 624, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520429136, "creation_date": 1520378413, "last_edit_date": 1520417644, "question_id": 49141627, "link": "https://stackoverflow.com/questions/49141627/typescript-argument-of-type-is-not-assignable-to-parameter-of-type-value", "title": "typescript argument of type is not assignable to parameter of type Value[][]", "body": "<p>I'm trying to create stacked Bar chart using D3js in typescript. Below is my code snipptet.</p>\n\n<pre><code>let testData = [\n  {\n    month: \"Jan\",\n    A: 20,\n    B: 5,\n    C: 10\n  },\n  {\n    month: \"Feb\",\n    A: 30,\n    B: 10,\n    C: 20\n  }\n];\n\nvar xData = [\"A\", \"B\", \"C\"];\nvar dataIntermediate = xData.map(function(c) {\n  return testData.map(function(d) {\n    return {\n      x: d.month,\n      y: d[c]\n    };\n  });\n});\nvar dataStackLayout = d3.layout.stack()(dataIntermediate);\n</code></pre>\n\n<p>When I tried to pass dataIntermediate to stack I'm getting below error.<br/>\n    **</p>\n\n<blockquote>\n  <p>Argument of type '{ x: string; y: any; }[][]' is not assignable to\n  parameter of type 'Value[][]'</p>\n</blockquote>\n\n<p>**.</p>\n\n<p>I'm new to typescript, not able to understand what I'm doing mistake here. </p>\n"}, {"tags": ["reactjs", "typescript", "webpack", "asp.net-core", "visual-studio-2017"], "comments": [{"owner": {"reputation": 2015, "user_id": 2343739, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hetYc.jpg?s=128&g=1", "display_name": "Collin M. Barrett", "link": "https://stackoverflow.com/users/2343739/collin-m-barrett"}, "edited": false, "score": 0, "creation_date": 1520476808, "post_id": 49141480, "comment_id": 85334514, "body": "Hmm, interested in the answer to this too. So far, in my experience with React and .NET Core (very limited), I&#39;ve only used tsx components."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9453490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D P", "link": "https://stackoverflow.com/users/9453490/d-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1521154854, "creation_date": 1521154854, "answer_id": 49310619, "question_id": 49141480, "link": "https://stackoverflow.com/questions/49141480/vs2017-using-jsx-components-from-react-theme-in-asp-net-core-react-redux-web-ap/49310619#49310619", "title": "VS2017: Using JSX components from react theme in ASP.NET Core React Redux web application template", "body": "<p>To fix this we had to add some stuff to package.json and webpack to support babel loader. This hasn't been working perfectly, but it's gotten us a step closer to having things work properly. This is due to some unresolved typing issues.</p>\n\n<p><strong>Package.json</strong></p>\n\n<pre><code>\"babel-core\":\"6.26.0\",\n\"babel-loader\": \"7.1.4\",\n\"babel-preset-es2015\": \"6.24.1\",\n\"babel-preset-react\": \"6.24.1\",\n</code></pre>\n\n<p><strong>Webpack.config.js:</strong></p>\n\n<pre><code>    module: {\n        rules: [\n            { test: /\\.tsx?$/, include: /ClientApp/, use: 'awesome-typescript-loader?silent=true' },\n            { test: /\\.(png|jpg|jpeg|gif)$/, use: 'url-loader?limit=25000' },\n            {\n                test: /\\.jsx?$/,\n                loader: 'babel-loader',\n                exclude: /node_modules/,\n                query: {\n                    presets: ['react', 'es2015']\n                }\n            }\n        ]\n    },\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9453490, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "D P", "link": "https://stackoverflow.com/users/9453490/d-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 49310619, "answer_count": 1, "score": 1, "last_activity_date": 1521154854, "creation_date": 1520377482, "question_id": 49141480, "link": "https://stackoverflow.com/questions/49141480/vs2017-using-jsx-components-from-react-theme-in-asp-net-core-react-redux-web-ap", "title": "VS2017: Using JSX components from react theme in ASP.NET Core React Redux web application template", "body": "<p>I've created a project using Visual Studio 2017 preview using the ASP.NET Core \"React.js and Redux\" project type.</p>\n\n<p>I'm now trying to include components from a theme and we're running into some issues I haven't been able to resolve with extensive googling. I suspect I am misunderstanding how to use webpack. I've boiled it down to an extremely simple test case below.</p>\n\n<p>Note: I have \"allowJs\": true in my tsconfig.json because it complains about not having the --allowJs flag when I try to import a jsx file otherwise.</p>\n\n<p>This issue looks suspiciously similar to this issue: <a href=\"https://stackoverflow.com/questions/41289183/import-jsx-file-in-tsx-compilation-error\">import jsx file in tsx compilation error</a> but I believe this one is distinct and googling hasn't gotten me anywhere.</p>\n\n<p>What I've tried:</p>\n\n<ul>\n<li>setting \"jsx\" to \"react\", \"react-native\", and \"preserve\" </li>\n<li>creating separate rule under sharedConfig in webpack.config.js (probably incorrectly?)</li>\n<li>adding a rule for jsx and installing babel-core</li>\n<li>Changing settings more or less at random in tsconfig.json and webpack.config.js</li>\n<li>Too much googling</li>\n</ul>\n\n<p><strong>the error:</strong></p>\n\n<pre><code>NodeInvocationException: Prerendering failed because of error: Error: Module parse failed: D:\\MyProject\\ClientApp\\components\\Card.jsx Unexpected token (5:12)\nYou may need an appropriate loader to handle this file type.\n| render(){\n| return (\n| &lt;div&gt; Test &lt;/div&gt;\n| );\n| }\nat Object.&lt;anonymous&gt; (D:\\MyProject\\ClientApp\\dist\\main-server.js:21692:7)\nat __webpack_require__ (D:\\MyProject\\ClientApp\\dist\\main-server.js:20:30)\nat Object.&lt;anonymous&gt; (D:\\MyProject\\ClientApp\\dist\\main-server.js:8547:64)\nat __webpack_require__ (D:\\MyProject\\ClientApp\\dist\\main-server.js:20:30)\nat Object.&lt;anonymous&gt; (D:\\MyProject\\ClientApp\\dist\\main-server.js:8445:75)\nat __webpack_require__ (D:\\MyProject\\ClientApp\\dist\\main-server.js:20:30)\nat Object.&lt;anonymous&gt; (D:\\MyProject\\ClientApp\\dist\\main-server.js:8498:66)\nat __webpack_require__ (D:\\MyProject\\ClientApp\\dist\\main-server.js:20:30)\nat D:\\MyProject\\ClientApp\\dist\\main-server.js:66:18\nat Object.&lt;anonymous&gt; (D:\\MyProject\\ClientApp\\dist\\main-server.js:69:10)\nCurrent directory is: D:\\MyProject\n</code></pre>\n\n<p><strong>Home.tsx</strong></p>\n\n<pre><code>import * as React from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { ApplicationState } from '../store';\nimport Card from './Card';\n\ntype HomeProps = RouteComponentProps&lt;{}&gt;;\n\nexport default class Home extends React.Component&lt;RouteComponentProps&lt;{}&gt;, {}&gt; {\n    public render() {\n        return &lt;div&gt;\n            &lt;Card&gt;&lt;/Card&gt;\n        &lt;/div&gt;\n    }\n}\n</code></pre>\n\n<p><strong>Card.jsx</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nclass Card extends Component{\n    render(){\n        return (\n            &lt;div&gt; Test &lt;/div&gt;\n        );\n    }\n}\nexport default Card;\n</code></pre>\n\n<p><strong>webpack.config.js</strong></p>\n\n<pre><code>const path = require('path');\nconst webpack = require('webpack');\nconst ExtractTextPlugin = require('extract-text-webpack-plugin');\nconst CheckerPlugin = require('awesome-typescript-loader').CheckerPlugin;\nconst merge = require('webpack-merge');\n\nmodule.exports = (env) =&gt; {\n    const isDevBuild = !(env &amp;&amp; env.prod);\n\n    // Configuration in common to both client-side and server-side bundles\n    const sharedConfig = () =&gt; ({\n        stats: { modules: false },\n        resolve: { extensions: ['.js', '.jsx', '.ts', '.tsx'] },\n        output: {\n            filename: '[name].js',\n            publicPath: 'dist/' // Webpack dev middleware, if enabled, handles requests for this URL prefix\n        },\n        module: {\n            rules: [\n                { test: /\\.tsx?$/, include: /ClientApp/, use: 'awesome-typescript-loader?silent=true' },\n                { test: /\\.(png|jpg|jpeg|gif|svg)$/, use: 'url-loader?limit=25000' }\n            ]\n        },\n        plugins: [new CheckerPlugin()]\n    });\n\n    // Configuration for client-side bundle suitable for running in browsers\n    const clientBundleOutputDir = './wwwroot/dist';\n    const clientBundleConfig = merge(sharedConfig(), {\n        entry: { 'main-client': './ClientApp/boot-client.tsx' },\n        module: {\n            rules: [\n                { test: /\\.css$/, use: ExtractTextPlugin.extract({ use: isDevBuild ? 'css-loader' : 'css-loader?minimize' }) }\n            ]\n        },\n        output: { path: path.join(__dirname, clientBundleOutputDir) },\n        plugins: [\n            new ExtractTextPlugin('site.css'),\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./wwwroot/dist/vendor-manifest.json')\n            })\n        ].concat(isDevBuild ? [\n            // Plugins that apply in development builds only\n            new webpack.SourceMapDevToolPlugin({\n                filename: '[file].map', // Remove this line if you prefer inline source maps\n                moduleFilenameTemplate: path.relative(clientBundleOutputDir, '[resourcePath]') // Point sourcemap entries to the original file locations on disk\n            })\n        ] : [\n            // Plugins that apply in production builds only\n            new webpack.optimize.UglifyJsPlugin()\n        ])\n    });\n\n    // Configuration for server-side (prerendering) bundle suitable for running in Node\n    const serverBundleConfig = merge(sharedConfig(), {\n        resolve: { mainFields: ['main'] },\n        entry: { 'main-server': './ClientApp/boot-server.tsx' },\n        plugins: [\n            new webpack.DllReferencePlugin({\n                context: __dirname,\n                manifest: require('./ClientApp/dist/vendor-manifest.json'),\n                sourceType: 'commonjs2',\n                name: './vendor'\n            })\n        ],\n        output: {\n            libraryTarget: 'commonjs',\n            path: path.join(__dirname, './ClientApp/dist')\n        },\n        target: 'node',\n        devtool: 'inline-source-map'\n    });\n\n    return [clientBundleConfig, serverBundleConfig];\n};\n</code></pre>\n\n<p><strong>tsconfig.json</strong></p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"module\": \"es2015\",\n    \"moduleResolution\": \"node\",\n    \"target\": \"es5\",\n    \"jsx\": \"react\",\n    \"experimentalDecorators\": true,\n    \"sourceMap\": true,\n    \"skipDefaultLibCheck\": true,\n    \"strict\": true,\n    \"lib\": [\"es6\", \"dom\"],\n    \"types\": [ \"webpack-env\" ],\n    \"allowJs\": true\n  },\n  \"exclude\": [\n      \"bin\",\n      \"node_modules\"\n  ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "drag-and-drop"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "edited": false, "score": 1, "creation_date": 1520375501, "post_id": 49141051, "comment_id": 85287582, "body": "I tried it earlier but the console says: <b>Cannot read property &#39;0&#39; of undefined</b>"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "edited": false, "score": 0, "creation_date": 1520375693, "post_id": 49141051, "comment_id": 85287665, "body": "@phse ` this.onFileDrop.emit(transfer.files);` I read the soruce code, the onFileDrop emits files directly. You can print out  <code>$event</code> and check the details"}, {"owner": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "edited": false, "score": 0, "creation_date": 1520377571, "post_id": 49141051, "comment_id": 85288393, "body": "Hi, thanks for your time. I am a newbie, I do not get where to try that."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "edited": false, "score": 0, "creation_date": 1520377657, "post_id": 49141051, "comment_id": 85288416, "body": "add <code>console.log($event);</code> right above your existing code `    var file:File = $event.target.files[0];` and check what have been printed use your devTool"}, {"owner": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "edited": false, "score": 0, "creation_date": 1520378681, "post_id": 49141051, "comment_id": 85288783, "body": "It seems it is passed as a FileList. <code>FileList {0: File(1874089), length: 1} 0 : File(1874089) {name: &quot;panda.jpg&quot;, lastModified: 1520284581576, lastModifiedDate: Mon Mar 05 2018 16:16:21 GMT-0500 (Hora est&#225;ndar del Este), webkitRelativePath: &quot;&quot;, size: 1874089, \u2026} length : 1 __proto__ : FileList</code>  If if I try to change var file:FileList then myReader.readAsDataURL(file) gives an error saying: <i>it is not assignable to parameter of type &#39;Blob&#39;. Property &#39;size&#39; is missing in type &#39;FileList&#39;.</i>  Thanks for your time, I guess it&#39;s hard to work with a student :O"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1520375275, "creation_date": 1520375275, "answer_id": 49141051, "question_id": 49140844, "link": "https://stackoverflow.com/questions/49140844/error-typeerror-cannot-read-property-files-of-undefined/49141051#49141051", "title": "ERROR TypeError: Cannot read property &#39;files&#39; of undefined", "body": "<pre><code>var file:File = $event.target.files[0];\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>var file:File = $event.files[0];\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9447770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/926d370d2900943b85a1580aa4a02efd?s=128&d=identicon&r=PG&f=1", "display_name": "phse", "link": "https://stackoverflow.com/users/9447770/phse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6262, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1520375275, "creation_date": 1520374227, "question_id": 49140844, "link": "https://stackoverflow.com/questions/49140844/error-typeerror-cannot-read-property-files-of-undefined", "title": "ERROR TypeError: Cannot read property &#39;files&#39; of undefined", "body": "<p>I am using two Angular(2+) tools: ng2-file-upload and angular2-img-cropper.</p>\n\n<p>I am trying to use ng2-file-upload's Dropzone to load an image in angular2-img-cropper's cropping tool.\nI actually can load the selected image in the crop tool it if I change the Input File (HTMLElement), but it fails with the drag-drop zone. </p>\n\n<p>Here is how I can do it with the input:</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;input type=\"file\" id=\"file-name\" \n                    ng2FileSelect \n                    [uploader]=\"uploader\"\n                    (change)=\"fileChangeListener($event, cropper)\"/&gt;\n</code></pre>\n\n<p><strong>TS:</strong></p>\n\n<pre><code>fileChangeListener($event : any, cropperComp: ImageCropperComponent) {\n\n    this.cropper = cropperComp;\n\n    let image = new Image();\n    var file:File = $event.target.files[0];\n    var myReader:FileReader = new FileReader();\n    var that = this;\n\n    myReader.onloadend = function (loadEvent: any) {\n        image.src = loadEvent.target.result;\n        that.cropper.setImage(image);\n    };\n    myReader.readAsDataURL(file);\n\n}\n</code></pre>\n\n<p>As I said, this works well.</p>\n\n<p>However, when I try to use the Dropzone I get this error:</p>\n\n<p><strong><em>ERROR TypeError: Cannot read property 'files' of undefined [...] at ProfileComponent.fileChangeListener</em></strong></p>\n\n<p><strong>HTML</strong> (dropzone):</p>\n\n<pre><code>&lt;div ng2FileDrop\n                    [ngClass]=\"{'nv-file-over': hasBaseDropZoneOver}\"\n                    (fileOver)=\"fileOverBase($event)\"\n                    [uploader]=\"uploader\"\n                    class=\"well my-drop-zone\"     \n                    (onFileDrop)=\"fileChangeListener($event, cropper)\"\n                    &gt;\n                    Base drop zone\n                &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["typescript", "chai", "chai-http"], "owner": {"reputation": 555, "user_id": 1190491, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/514494bc594a1ec74404e0bdce928699?s=128&d=identicon&r=PG", "display_name": "Loic Coenen", "link": "https://stackoverflow.com/users/1190491/loic-coenen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1520371895, "creation_date": 1520371895, "question_id": 49140297, "link": "https://stackoverflow.com/questions/49140297/cannot-import-declaration-file", "title": "Cannot import declaration file", "body": "<p>I'm trying to set up some test for my RESTAPI server. I use typescript.\nI tried to import <code>chai</code> and <code>chai-http</code> using the ES6 syntax, but apparently, it's not supported (<a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/issues/19480\" rel=\"nofollow noreferrer\" title=\"Github issue\">Github issue here </a>). I get an error, so I had to <code>require</code> the files directly.</p>\n\n<pre><code>var chai = require('chai')\n    , chaiHttp = require('chai-http');\n\nimport *  from '@types/chai-http';\n\n/* \n * Both librairies have limited support of ES6 import.\n * See https://github.com/DefinitelyTyped/DefinitelyTyped/issues/19480\n*/\n\nchai.use(chaiHttp);\n\nimport { expect } from 'chai' ;\nimport 'mocha';\n</code></pre>\n\n<p>Now the thing is typescript doesn't import <code>@types/chai-http</code> for some reason, so when I try to use <code>expect(res).to.have.status(201);</code>, I get an error, the compiler complain </p>\n\n<pre><code>Error TS2339: Property status does not exist on type Assertion\n</code></pre>\n\n<p>How do I import the type declaration directly?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["typescript", "angular5"], "comments": [{"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 2, "creation_date": 1520372034, "post_id": 49140292, "comment_id": 85285910, "body": "<code>subscribe</code> is asynchronous. The call back fires <i>after</i> your 4th console (as sequenced in the code top to bottom : <code>console.log(JSON.stringify(this.organisation));</code>) has executed."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520372214, "post_id": 49140292, "comment_id": 85285990, "body": "If that is not your question then please update it and prefix your <code>console.log</code> with a unique string like <code>console.log(&#39;1. </code> + res);` so you can see in the log which console is fired and also rephrase your question about which log you have a question about."}, {"owner": {"reputation": 2677, "user_id": 1481475, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/b0XLY.jpg?s=128&g=1", "display_name": "Michael Coxon", "link": "https://stackoverflow.com/users/1481475/michael-coxon"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520373935, "post_id": 49140292, "comment_id": 85286873, "body": "I have updated the question as you suggested. I did see that 4 is played before 2 and 3, but the real problem is that on subsequent calls this.organisation.id is still null, so i am thinking that all the updates are just in the subscriber and never really make it out. If so, how do I make them come out."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520374179, "post_id": 49140292, "comment_id": 85287006, "body": "<code>The fourth console log shows this.organisation id : null (not expected)</code> &lt;= For clarification you are referring to the last line that starts <code>console.log(&#39;4 &#39; + ....</code>, is that correct?"}, {"owner": {"reputation": 2677, "user_id": 1481475, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/b0XLY.jpg?s=128&g=1", "display_name": "Michael Coxon", "link": "https://stackoverflow.com/users/1481475/michael-coxon"}, "reply_to_user": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520374234, "post_id": 49140292, "comment_id": 85287033, "body": "yes, that is correct"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1520374250, "post_id": 49140292, "comment_id": 85287038, "body": "After subsequent calls of what? If this whole code is in a method that you call, and if you expect it to return the updated organization, it won&#39;t. The <code>return</code> you have there return from the callback functions passed to subscribe(), not from the method. There&#39;s a reason the service returns an Observable, and not a value: it&#39;s the only way to return a future, asynchronous result."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520374315, "post_id": 49140292, "comment_id": 85287071, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520374375, "post_id": 49140292, "comment_id": 85287103, "body": "See the proposed duplicate. There are some excellent answers here that should help you better understand how asynchronous code works in javascript / TypeScript. In a nutshell the code that is found inside the <code>subscribe</code> block won&#39;t be executed until a response is received  from the server <i>but</i> javascript execution engine will continue executing that code file, it will not wait on that call back (nor would you want it to). So the 4th console log will execute before 2 and 3 which won&#39;t be called until a response is received from the server."}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 0, "creation_date": 1520374753, "post_id": 49140292, "comment_id": 85287275, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43055706\">How do I return the response from an Observable/http/async call in angular2?</a>"}, {"owner": {"reputation": 2677, "user_id": 1481475, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/b0XLY.jpg?s=128&g=1", "display_name": "Michael Coxon", "link": "https://stackoverflow.com/users/1481475/michael-coxon"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1520379121, "post_id": 49140292, "comment_id": 85288943, "body": "@JBNizet yes, the whole code is in a method, which i have called. Then I have called the method a second time, and still no update. On entry into the method a second time, comment 1 still shows id : null"}], "owner": {"reputation": 2677, "user_id": 1481475, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/b0XLY.jpg?s=128&g=1", "display_name": "Michael Coxon", "link": "https://stackoverflow.com/users/1481475/michael-coxon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 187, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1520379707, "creation_date": 1520371864, "last_edit_date": 1520379707, "question_id": 49140292, "link": "https://stackoverflow.com/questions/49140292/observable-subscribe-body-not-updating-variable", "title": "Observable.subscribe body not updating variable", "body": "<p>I have an instance of Organisation which initialises with an id:null. In the following code, I detect this condition to determine whether to call create or update on a service:</p>\n\n<pre><code>private saveOrganisation() {\n  console.log('1 ' + JSON.stringify(this.organisation));\n\n  if (this.organisation.id === null) {\n    // we are creating a new one\n    this.organisationService.create(this.organisation).subscribe(res =&gt; {\n      console.log('2 ' + res);\n      console.log('3 ' + JSON.stringify(this.organisation));\n      return this.organisation = res;\n    });\n   } else {\n     this.organisationService.update(this.organisation).subscribe(res =&gt; {return this.organisation = res;});\n   }\n     console.log('4 ' + JSON.stringify(this.organisation));\n}\n</code></pre>\n\n<p>I have this instance as a member variable referenced by \"this.organisation\" in the body of the subscription, i set \"this.organisation\" with the response.</p>\n\n<ol>\n<li>The first console log shows this.organisation id : null (as expected) </li>\n<li>The second console log shows res id : 1 (as expected) </li>\n<li>The third console log shows this.organisation id : 1 (as expected) </li>\n<li>The fourth console log shows this.organisation id : null (not expected)</li>\n</ol>\n\n<p>The fourth console.log fires before 2 and 3, while I know that subscribe is asynchronous, i am finding that although I see 2 and 3 in the logs, the id is still never updated, subsequent calls to saveOrganisation() show the null value that I get in 4 (in 1 and 2). I am wondering if this.organisation <strong>ever</strong> updates.</p>\n\n<p>Can anyone tell me what's going on?</p>\n"}, {"tags": ["angularjs", "node.js", "amazon-web-services", "typescript", "amazon-s3"], "comments": [{"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1520373860, "post_id": 49139779, "comment_id": 85286839, "body": "Put the data, don&#39;t post it."}, {"owner": {"reputation": 63, "user_id": 9447500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06c90c2d015cee52af32b9bea7e037d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Titus", "link": "https://stackoverflow.com/users/9447500/adam-titus"}, "reply_to_user": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1520375308, "post_id": 49139779, "comment_id": 85287508, "body": "@jarmod Same error still happens"}, {"owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1520375977, "post_id": 49139779, "comment_id": 85287801, "body": "Can you remove the headers you&#39;re supplying on the put request and retry."}, {"owner": {"reputation": 63, "user_id": 9447500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06c90c2d015cee52af32b9bea7e037d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Titus", "link": "https://stackoverflow.com/users/9447500/adam-titus"}, "reply_to_user": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "edited": false, "score": 0, "creation_date": 1520376258, "post_id": 49139779, "comment_id": 85287919, "body": "@jarmod &#39;Put&#39; did fix the problem, but I also had to change my headers and not put as much info in my FormData. Thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 45894, "user_id": 271415, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8648256cc53b261c5e1d266380a256fc?s=128&d=identicon&r=PG", "display_name": "jarmod", "link": "https://stackoverflow.com/users/271415/jarmod"}, "is_accepted": true, "score": 0, "last_activity_date": 1520376559, "creation_date": 1520376559, "answer_id": 49141334, "question_id": 49139779, "link": "https://stackoverflow.com/questions/49139779/s3-signature-does-not-match-on-getsignedurl-serverside-node/49141334#49141334", "title": "S3 signature does not match on getSignedUrl serverside node", "body": "<p>If you generate a pre-signed URL for PutObject then you should use the HTTP PUT method to upload your file to that pre-signed URL. The POST method won't work (it's designed for browser uploads).</p>\n\n<p>Also, don't supply HTTP headers when you invoke the PUT. They should be supplied when generating the pre-signed URL, but not when using the pre-signed URL.</p>\n"}], "owner": {"reputation": 63, "user_id": 9447500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06c90c2d015cee52af32b9bea7e037d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Titus", "link": "https://stackoverflow.com/users/9447500/adam-titus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 49141334, "answer_count": 1, "score": 0, "last_activity_date": 1520376559, "creation_date": 1520369683, "last_edit_date": 1520370080, "question_id": 49139779, "link": "https://stackoverflow.com/questions/49139779/s3-signature-does-not-match-on-getsignedurl-serverside-node", "title": "S3 signature does not match on getSignedUrl serverside node", "body": "<p>I'm trying to put a video file to my bucket using a pre-signed url in angular4.</p>\n\n<p>Node:</p>\n\n<pre><code>let s3 = new AWS.S3();\n      s3.config.update({\n        accessKeyId: process.env.VIDEO_ACCESS_KEY,\n        secretAccessKey: process.env.VIDEO_SECRET_KEY\n      })\n      let videoId = await Video.createVideo()\n      let params = {\n        ACL: \"public-read\",\n        Bucket: process.env.BUCKET_NAME,\n        ContentType: 'video/mp4',\n        Expires: 100,\n        Key: req.jwt.username+\"/\"+videoId,\n      }\n      return s3.getSignedUrl('putObject', params, function (err, url) {\n        if(!err) {\n          console.log(url);\n          res.status(200);\n          res.json({\n            url: url,\n            reference: `${process.env.BUCKET_NAME}/${req.jwt.username}/${videoId}`,\n            acl: params.ACL,\n            bucket: params.Bucket,\n            key: params.Key,\n            contentType: params.ContentType,\n          });\n        } else {\n          console.log(err);\n          res.status(400);\n          res.json({\n            message: \"Something went wrong\"\n          })\n        }\n      });\n</code></pre>\n\n<p>This successfully generates a url for me, and I try to use it in my post request in the front end.</p>\n\n<p>Angular:</p>\n\n<pre><code>this.auth.fileUpload().subscribe((result) =&gt; {\n        console.log(result[\"key\"], result[\"acl\"], result[\"bucket\"], result[\"contentType\"])\n        if(!result[\"message\"]) {\n          let formData = new FormData();\n          formData.append('file', file.files[0]);\n          const httpOptions = {\n            headers: new HttpHeaders({\n              \"Key\": result[\"key\"],\n              \"ACL\": result[\"acl\"],\n              \"Bucket\": result[\"bucket\"],\n              \"Content-Type\": result[\"contentType\"],\n            })\n          };\n          this.http.post(result[\"url\"], formData, httpOptions ).subscribe((response) =&gt; {\n            console.log(\"response\");\n            console.log(response);\n            let reference = `https://s3.amazonaws.com/${result[\"reference\"]}`\n            this.auth.makeVideo(result[\"reference\"]).subscribe((result) =&gt; {\n              console.log(result);\n            });\n          }, (error) =&gt; {\n            console.log(\"error\");\n            console.log(error);\n          })\n</code></pre>\n\n<p>But this generates an error.</p>\n\n<pre><code>SignatureDoesNotMatch\nThe request signature we calculated does not match the signature you provided. Check your key and signing method\n</code></pre>\n\n<p>Here's the URL that I generate</p>\n\n<p><a href=\"https://MY_BUCKET_HERE.s3.amazonaws.com/admin/87f314f1-9f2e-462e-84ff-25cba958ac50?AWSAccessKeyId=MY_ACCESS_KEY_HERE&amp;Content-Type=video%2Fmp4&amp;Expires=1520368428&amp;Signature=Ks0wfzGyXmBTiAxGkHNgcYblpX8%3D&amp;x-amz-acl=public-read\" rel=\"nofollow noreferrer\">https://MY_BUCKET_HERE.s3.amazonaws.com/admin/87f314f1-9f2e-462e-84ff-25cba958ac50?AWSAccessKeyId=MY_ACCESS_KEY_HERE&amp;Content-Type=video%2Fmp4&amp;Expires=1520368428&amp;Signature=Ks0wfzGyXmBTiAxGkHNgcYblpX8%3D&amp;x-amz-acl=public-read</a></p>\n\n<p>I'm pretty sure I'm just making a simple mistake, but I can't figure it out for the life of me. Do I need to do something with my headers? Do I need to change the way I read the file for the post? I've gotten it to work with a public bucket with FormData and a simple post request with no headers, but now that I'm working with Policies and a private bucket, my understanding is much less. What am I doing wrong?</p>\n"}, {"tags": ["angular", "typescript"], "comments": [{"owner": {"reputation": 28328, "user_id": 1160794, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/b81c88d628038fbe7c8e5976f40d5b12?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/1160794/david"}, "edited": false, "score": 0, "creation_date": 1520369439, "post_id": 49139656, "comment_id": 85284716, "body": "Replace the 2 <code>functions</code> you have with arrow notation"}, {"owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "edited": false, "score": 0, "creation_date": 1520370129, "post_id": 49139656, "comment_id": 85285068, "body": "Thanks all for your quick response. I have changed both  <code>functions</code> to arrow notation, it&#39;s working perfectly."}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "edited": false, "score": 0, "creation_date": 1520369880, "post_id": 49139692, "comment_id": 85284956, "body": "Thank you very much for your quick response @Suren Srapyan It&#39;s working perfectly."}], "tags": [], "owner": {"reputation": 57402, "user_id": 5496973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JH9iD.jpg?s=128&g=1", "display_name": "Suren Srapyan", "link": "https://stackoverflow.com/users/5496973/suren-srapyan"}, "is_accepted": true, "score": 2, "last_activity_date": 1520369629, "last_edit_date": 1520369629, "creation_date": 1520369325, "answer_id": 49139692, "question_id": 49139656, "link": "https://stackoverflow.com/questions/49139656/how-to-call-angular2-method-after-resolving-jquery-promise/49139692#49139692", "title": "how to call angular2 method after resolving jQuery promise", "body": "<p>You need to replace <code>function</code> with simple <code>arrow function</code> - to not create another context to which <code>this</code> refers.</p>\n\n<pre><code>p.then((sketchInstance) =&gt; {\n   sketchInstance.exportStructure(\"smiles\").then((source) =&gt; {\n      console.log(source);\n      this.sharedService.openMarvinModal(false);\n   });\n});\n</code></pre>\n"}], "owner": {"reputation": 518, "user_id": 7110325, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6b5682560d4afb4624cfb8932df5fbf8?s=128&d=identicon&r=PG&f=1", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7110325/krishna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1520626122, "accepted_answer_id": 49139692, "answer_count": 1, "score": 0, "last_activity_date": 1520369629, "creation_date": 1520369230, "last_edit_date": 1520369367, "question_id": 49139656, "link": "https://stackoverflow.com/questions/49139656/how-to-call-angular2-method-after-resolving-jquery-promise", "closed_reason": "Duplicate", "title": "how to call angular2 method after resolving jQuery promise", "body": "<p>I am using Third party Library <a href=\"https://chemaxon.com/products/marvin-js\" rel=\"nofollow noreferrer\">MarvinJS</a> in my Angular5 Application. I \nneed to call a method <code>this.sharedService.openMarvinModal(false);</code>  after resolving the MarvinJS promise. </p>\n\n<p>When I invoke the method, it is giving error.</p>\n\n<pre><code>Uncaught (in promise) TypeError: Cannot read property 'sharedService' of undefined\nat eval (marvin-modal.component.ts:58)\nat &lt;anonymous&gt;\n</code></pre>\n\n<p>Code Snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {\r\n  Component,\r\n  OnInit\r\n} from \"@angular/core\";\r\n\r\nimport { SharedService } from \"../services/shared.service\";\r\n\r\nimport * as $ from \"jquery\";\r\ndeclare var MarvinJSUtil: any;\r\n\r\n@Component({\r\n  selector: \"app-marvin-modal\",\r\n  templateUrl: \"./marvin-modal.component.html\",\r\n  styleUrls: [\"./marvin-modal.component.scss\"]\r\n})\r\nexport class MarvinModalComponent\r\n  implements OnInit {\r\n\r\n  constructor(private sharedService: SharedService) {}\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  getStructure() {\r\n    const p  = MarvinJSUtil.getEditor(\"#sketch\");\r\n    p.then(function(sketchInstance) {\r\n      sketchInstance.exportStructure(\"smiles\").then(function( source) {\r\n        console.log(source);\r\n        this.sharedService.openMarvinModal(false);\r\n      });\r\n    });\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I get around this issue? Any one can please help me.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["typescript"], "answers": [{"comments": [{"owner": {"reputation": 422, "user_id": 3404030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCs18.jpg?s=128&g=1", "display_name": "Pedro Pedrosa", "link": "https://stackoverflow.com/users/3404030/pedro-pedrosa"}, "edited": false, "score": 0, "creation_date": 1520508868, "post_id": 49165784, "comment_id": 85349088, "body": "I was trying to avoid a second pass, but I guess in this case it has to be done this way. Very helpful information about different interfaces in the compiler API, thanks a lot. Do you know where I can find additional information about this stuff? (ie what&#39;s a lexical environment, hoist function declaration, etc..)"}, {"owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "reply_to_user": {"reputation": 422, "user_id": 3404030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCs18.jpg?s=128&g=1", "display_name": "Pedro Pedrosa", "link": "https://stackoverflow.com/users/3404030/pedro-pedrosa"}, "edited": false, "score": 0, "creation_date": 1520509011, "post_id": 49165784, "comment_id": 85349178, "body": "@PedroPedrosa The code above avoids the second pass for any non modified source files, for parsing at least. I don&#39;t have any good resources on the compiler internals, what I know, I know from reading github and the source code"}], "tags": [], "owner": {"reputation": 154770, "user_id": 125734, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Qy7qV.png?s=128&g=1", "display_name": "Titian Cernicova-Dragomir", "link": "https://stackoverflow.com/users/125734/titian-cernicova-dragomir"}, "is_accepted": true, "score": 5, "last_activity_date": 1520485557, "creation_date": 1520485557, "answer_id": 49165784, "question_id": 49139601, "link": "https://stackoverflow.com/questions/49139601/how-to-bind-an-identifier-with-an-existing-symbol-on-a-compiler-transformer-in-t/49165784#49165784", "title": "How to bind an identifier with an existing symbol on a compiler transformer in typescript?", "body": "<p>Typescript compilation happens in phases (parsing, binding, type checking, emitting, a bit more detail <a href=\"https://github.com/Microsoft/TypeScript/wiki/Architectural-Overview\" rel=\"noreferrer\">here</a>). You can use information form a previous phase but you can't typically change it. The transformations you can do during the emit phase are intended to allow you to bring the AST from Typescript to Javascript, not to refactor the code. </p>\n\n<p>One way to accomplish your goal, would be to create the program, apply the transformations, and then create a new program with the modified code, reusing as much of the original program as possible (reuse the same <code>SourceFile</code> where no changes occurred)</p>\n\n<pre><code>function transformFile(program: ts.Program, file: ts.SourceFile): ts.SourceFile {\n    let empty = ()=&gt; {};\n    // Dummy transformation context\n    let context: ts.TransformationContext = {\n        startLexicalEnvironment: empty,\n        suspendLexicalEnvironment: empty,\n        resumeLexicalEnvironment: empty,\n        endLexicalEnvironment: ()=&gt; [],\n        getCompilerOptions: ()=&gt; program.getCompilerOptions(),\n        hoistFunctionDeclaration: empty,\n        hoistVariableDeclaration: empty,\n        readEmitHelpers: ()=&gt;undefined,\n        requestEmitHelper: empty,\n        enableEmitNotification: empty,\n        enableSubstitution: empty,\n        isEmitNotificationEnabled: ()=&gt; false,\n        isSubstitutionEnabled: ()=&gt; false,\n        onEmitNode: empty,\n        onSubstituteNode: (hint, node)=&gt;node,\n    };\n    const transformedFile = ts.visitEachChild(file, child =&gt; visit(child, context), context);\n    return transformedFile;\n}\n\nfunction visit(node: ts.Node, context: ts.TransformationContext): ts.Node {\n    if (ts.isStringLiteral(node) &amp;&amp; node.text == 'replaceMe') {\n        return ts.createCall(\n            ts.createPropertyAccess(\n                ts.createIdentifier('A'),\n                'myMethod'),\n            [],\n            []);\n    }\n    return ts.visitEachChild(node, child =&gt; visit(child, context), context);\n}\n\nlet host = ts.createCompilerHost({});\nlet program = ts.createProgram([\"toTrans.ts\"], {}, host)\n\nlet transformed = program.getSourceFiles()\n    .map(f=&gt; ({ original: f, transformed: transformFile(program, f) }))\n    .reduce&lt;{ [name: string] : {original: ts.SourceFile, transformed: ts.SourceFile }}&gt;((r, f)=&gt; { r[f.original.fileName] = f; return r; }, {});\n\nlet originalGetSourceFile = host.getSourceFile;\nlet printer = ts.createPrinter();\n\n// Rig the host to return the new verisons of transformed files.\nhost.getSourceFile = function(fileName, languageVersion, onError, shouldCreateNewSourceFile){\n    let file = transformed[fileName];\n    if(file){\n        if(file.original != file.transformed){\n            // Since we need to return a SourceFile it is tempting to return the transformed source file and not parse it again\n            // The compiler doe not support Synthesized nodes in the AST except during emit, and it will check node positions \n            // (which for Synthesized are -1) and fail. So we need to reparse\n            return ts.createSourceFile(fileName, printer.printFile(file.transformed), languageVersion);\n        } else {\n            // For unchanged files it should be safe to reuse the source file\n            return file.original;\n        }\n    }\n    return  originalGetSourceFile(fileName, languageVersion, onError, shouldCreateNewSourceFile);\n}\n\n// Recreate the program, we pass in the original to \nprogram = ts.createProgram([\"toTrans.ts\"], {}, host, program);\n\nvar result = program.emit();\n</code></pre>\n\n<p>Another way would be to use the language service and apply these changes through the language service, but honestly I have no experience with that part of the compiler and it seemed more complicated than this approach.</p>\n"}], "owner": {"reputation": 422, "user_id": 3404030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCs18.jpg?s=128&g=1", "display_name": "Pedro Pedrosa", "link": "https://stackoverflow.com/users/3404030/pedro-pedrosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 1, "accepted_answer_id": 49165784, "answer_count": 1, "score": 4, "last_activity_date": 1520485557, "creation_date": 1520368973, "question_id": 49139601, "link": "https://stackoverflow.com/questions/49139601/how-to-bind-an-identifier-with-an-existing-symbol-on-a-compiler-transformer-in-t", "title": "How to bind an identifier with an existing symbol on a compiler transformer in typescript?", "body": "<p>I am trying to write a typescript compiler transform using the typescript compiler API. However, when creating new Identifier nodes, even though the nodes get emitted to the final .js file, they seem to lack symbol binding information so the final output is incorrect.</p>\n\n<p>Suppose I have the following program:</p>\n\n<p>A.ts</p>\n\n<pre><code>export class A {\n    static myMethod() {\n        return 'value';\n    }\n}\n</code></pre>\n\n<p>index.ts</p>\n\n<pre><code>import { A } from './A';\n\nexport function main() {\n    const value1 = 'replaceMe';\n    const value2 = A.myMethod();\n    const equals = value1 == value2;\n}\n</code></pre>\n\n<p>Suppose I try to compile the above program with the following transformer:</p>\n\n<pre><code>function transformer(program: ts.Program): ts.TransformerFactory&lt;ts.SourceFile&gt; {\n    return (context: ts.TransformationContext) =&gt; (file: ts.SourceFile) =&gt; transformFile(program, context, file);\n}\n\nfunction transformFile(program: ts.Program, context: ts.TransformationContext, file: ts.SourceFile): ts.SourceFile {\n    const transformedFile = ts.visitEachChild(file, child =&gt; visit(child, context), context);\n    console.log(ts.createPrinter().printFile(transformedFile));\n    return transformedFile;\n}\nfunction visit(node: ts.Node, context: ts.TransformationContext): ts.Node {\n    if (ts.isStringLiteral(node) &amp;&amp; node.text == 'replaceMe') {\n        return ts.createCall(\n            ts.createPropertyAccess(\n                ts.createIdentifier('A'),\n                'myMethod'),\n            [],\n            []);\n    }\n    return ts.visitEachChild(node, child =&gt; visit(child, context), context);\n}\n</code></pre>\n\n<p>The intermediate AST actually looks correct when pretty-printed:</p>\n\n<pre><code>import { A } from './A';\n\nexport function main() {\n    const value1 = A.myMethod();\n    const value2 = A.myMethod();\n    const equals = value1 == value2;\n}\n</code></pre>\n\n<p>But the output javascript is incorrect:</p>\n\n<pre><code>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar A_1 = require(\"./A\");\nfunction main() {\n    var value1 = A.myMethod();\n    var value2 = A_1.A.myMethod();\n    var equals = value1 == value2;\n}\nexports.main = main;\n</code></pre>\n\n<p>I understand this may be because by creating a new identifier with <code>ts.createIdentitier('A')</code>, this new identifier isn't bound to the same symbol as the other <code>A</code> identifier in the same file.</p>\n\n<p>Is there a way to bind a new identifier to an existing symbol using the public compiler API?</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520371371, "post_id": 49139513, "comment_id": 85285617, "body": "Can you provide your component template?"}, {"owner": {"reputation": 25, "user_id": 9435035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bod", "link": "https://stackoverflow.com/users/9435035/bod"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520376167, "post_id": 49139513, "comment_id": 85287888, "body": "added template above"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 1, "creation_date": 1520376692, "post_id": 49139513, "comment_id": 85288110, "body": "Am I correct in that you will have multiple format-host items? It seems like you need to use <code>@ViewChildren</code> instead of <code>@ViewChild</code> since you will have many to process"}, {"owner": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520376787, "post_id": 49139513, "comment_id": 85288150, "body": "<a href=\"https://stackoverflow.com/questions/40165294/access-multiple-viewchildren-using-viewchild\" title=\"access multiple viewchildren using viewchild\">stackoverflow.com/questions/40165294/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 9435035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bod", "link": "https://stackoverflow.com/users/9435035/bod"}, "reply_to_user": {"reputation": 7054, "user_id": 7407935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4eTR.jpg?s=128&g=1", "display_name": "Daniel W Strimpel", "link": "https://stackoverflow.com/users/7407935/daniel-w-strimpel"}, "edited": false, "score": 0, "creation_date": 1520376958, "post_id": 49139513, "comment_id": 85288202, "body": "thanks Daniel I&#39;ll take a look at ViewChildren"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 9435035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bod", "link": "https://stackoverflow.com/users/9435035/bod"}, "edited": false, "score": 0, "creation_date": 1521301309, "post_id": 49308049, "comment_id": 85677589, "body": "I added a delay of 600 which seems to do the trick.  I&#39;l still insure of the selection of a sensible value though.  Is there a performance hit if a large value is chosen?  I do occasionally see the column empty then it appears filled."}, {"owner": {"reputation": 986, "user_id": 2869093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a3015787da47cf661c4df979d875fa?s=128&d=identicon&r=PG", "display_name": "FIL", "link": "https://stackoverflow.com/users/2869093/fil"}, "edited": false, "score": 0, "creation_date": 1542902014, "post_id": 49308049, "comment_id": 93742708, "body": "What is <code>avFormatHost</code>?"}, {"owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "edited": false, "score": 0, "creation_date": 1543304492, "post_id": 49308049, "comment_id": 93859138, "body": "I had setup a directive:      import { Directive, ViewContainerRef, Input, TemplateRef, ElementRef } from &#39;@angular/core&#39;;      @Directive({     selector: &#39;[avFormatHost]&#39;,     })     export class FormatHostDirective {          @Input() formatName: string;         @Input() rowKey: string;          constructor(public viewContainerRef: ViewContainerRef) {         }     }"}], "tags": [], "owner": {"reputation": 317, "user_id": 267124, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/64e590aa5e63904f34f290625ebd2372?s=128&d=identicon&r=PG", "display_name": "Craig", "link": "https://stackoverflow.com/users/267124/craig"}, "is_accepted": false, "score": 0, "last_activity_date": 1521150446, "last_edit_date": 1521150446, "creation_date": 1521143332, "answer_id": 49308049, "question_id": 49139513, "link": "https://stackoverflow.com/questions/49139513/angular-dynamic-component-loading-directive-variable-undefined/49308049#49308049", "title": "angular dynamic component loading directive variable undefined", "body": "<p>Finally got something working - (pasted below if it helps anyone) thanks for the prod to ViewChildren. I can now get a test Format componet to appear with content - but only when I step through the debugger in Chrome.  When just in a browser the column is empty.  I'm thinking a timing issue (tried setTimeout) but can't fathom the intricasies of Angular.</p>\n\n<p>The template now looks like :</p>\n\n<pre><code>&lt;tr *ngFor=\"let row of pagedTable.pagedList?.tableData\"&gt;\n    &lt;td *ngFor=\"let column of pagedTable.tableConfig.columns\"&gt;\n        &lt;div *ngIf=\"column.format != undefined; else normalCell\"&gt;                            \n            &lt;ng-template avFormatHost rowId=\"{{row.id}}\" formatName=\"{{column.format}}\"&gt;&lt;/ng-template&gt;\n        &lt;/div&gt;\n        &lt;ng-template #normalCell&gt;{{getCellContent(row, column)}}&lt;/ng-template&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n\n<p>and relevant component code:</p>\n\n<pre><code> @ViewChildren(FormatHostDirective) formatHostDirectives: QueryList&lt;FormatHostDirective&gt;;\n</code></pre>\n\n<p>...</p>\n\n<pre><code>loadFormatComponent() {\n    setTimeout(() =&gt; {\n        this.formatHostDirectives.forEach((formatHostDirective) =&gt; {\n\n            let rowId = formatHostDirective.rowId;\n            let row = { email: 'test email', telephone: '999999' };\n\n            let componentType: any = FormatComponents[formatHostDirective.formatName];\n            if (componentType) {\n                let componentFactory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n\n                //formatHostDirective.viewContainerRef.clear(); //??\n                let componentRef = formatHostDirective.viewContainerRef.createComponent(componentFactory);\n                this.components.push(componentRef);\n                (&lt;FormatComponent&gt;componentRef.instance).data = row;\n            }\n\n        });\n    });\n\n\n}\n</code></pre>\n\n<p>Is the use of timeout correct?  or should it be elsewhere? or something else entirely.  How do you decide what a safe delay is?</p>\n"}], "owner": {"reputation": 25, "user_id": 9435035, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Bod", "link": "https://stackoverflow.com/users/9435035/bod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1521150446, "creation_date": 1520368466, "last_edit_date": 1520376115, "question_id": 49139513, "link": "https://stackoverflow.com/questions/49139513/angular-dynamic-component-loading-directive-variable-undefined", "title": "angular dynamic component loading directive variable undefined", "body": "<p>I\u2019m trying to enhance an angular table component I created to output formatted cell content instead of just text.  I thought a set of format components would be the way to go as they will have to contain html tags (which would be stripped by simply binding to a property). I guess pipes might have been an option but as most of the functionality is in a base component I don't want much in the way of specific code in instances of the table. </p>\n\n<p>So I tried the Angular document on Dynamic Component Loading and created a [format-host] directive, linked it all up as in the doc &amp; tried to debug.  The failure is in the component that uses the directive.  </p>\n\n<pre><code>let viewContainerRef = this.formatHost.viewContainerRef; \n</code></pre>\n\n<p>this fails as formatHost is undefined.  The directive is defined in the module.</p>\n\n<p>I'm using the VS2017 angular SPA template, angular 4.2.5\nThe relevant code in the using component is (kept it short):</p>\n\n<pre><code>export class PagedTableComponent implements OnInit, AfterViewInit{\n\n@Input() pagedTable: PagedTable&lt;any[]&gt;;\n@Output() tableState: EventEmitter&lt;TableState&gt; = new EventEmitter&lt;TableState&gt;();\n\u2026\n@ViewChild(FormatDirective) formatHost: FormatDirective;\n\u2026\nformatters: Formatter[] = [];\n\nconstructor(private componentFactoryResolver: ComponentFactoryResolver) {\n}\n\nloadFormatComponent() {\n    let componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.formatters[0].component);\n\n    let viewContainerRef = this.formatHost.viewContainerRef;\n    viewContainerRef.clear(); //??\n    let componentRef = viewContainerRef.createComponent(componentFactory);\n}\n\nngOnInit() {\n  \u2026\n    //this.formatters.push(new Formatter(ContactFormatComponent, \"test\"));\n    // this.loadFormatComponent();\n}\n\nngAfterViewInit() {\n    this.formatters.push(new Formatter(ContactFormatComponent, \"test\"));\n    this.loadFormatComponent();\n}\n</code></pre>\n\n<p>Any idea on why the directive is undefined would be appreciated.</p>\n\n<p>directive:</p>\n\n<pre><code>import { Directive, ViewContainerRef } from '@angular/core';\n@Directive({\n    selector: '[format-host]',\n    })\n\nexport class FormatDirective {\n    constructor(public viewContainerRef: ViewContainerRef) { }\n}\n</code></pre>\n\n<p>template:</p>\n\n<pre><code>&lt;td *ngFor=\"let column of pagedTable.tableConfig.columns\"\n     [ngClass]=\"{ 'cell-right' : column.justification ===  ColumnJustification.right, 'cell-center' : column.justification === ColumnJustification.center}\"&gt;\n....\n&lt;ng-template format-host&gt;&lt;/ng-template&gt;\n&lt;/td&gt;\n</code></pre>\n"}, {"tags": ["html", "typescript", "webpack"], "answers": [{"tags": [], "owner": {"reputation": 1725, "user_id": 2379376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXKOF.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2379376/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1520368892, "creation_date": 1520368892, "answer_id": 49139584, "question_id": 49139355, "link": "https://stackoverflow.com/questions/49139355/convert-my-dynamic-path-for-images-with-webpack/49139584#49139584", "title": "Convert my dynamic path for images with Webpack", "body": "<p>As you noticed, webpack resolves your files during build time. It doesn\u2018t support resolving dynamically during runtime</p>\n\n<p>One thing you can do, is to put the files manually or during build via \u201acopy-webpack-plugin\u2018 into your servers directory and build the urls manually.</p>\n\n<p>Or require all your files and put them in an array and use an object with the dynamic part as the key and the path to the file as the value.</p>\n\n<pre><code>const computer1 = require(...);\nconst icons = {\n  computer1,\n  ...\n};\n\n&lt;img src={icons[laptop.iconFilename]} /&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7776077"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 49139584, "answer_count": 1, "score": 0, "last_activity_date": 1520369844, "creation_date": 1520367732, "last_edit_date": 1520369844, "question_id": 49139355, "link": "https://stackoverflow.com/questions/49139355/convert-my-dynamic-path-for-images-with-webpack", "title": "Convert my dynamic path for images with Webpack", "body": "<p>I'm creating dynamic list of my items from json list on <a href=\"http://localhost:5000/api/laptops\" rel=\"nofollow noreferrer\">http://localhost:5000/api/laptops</a>. I want to load photos by <strong>laptop.IconFileName</strong> to my path in component. </p>\n\n<pre><code>&lt;div class=\"col-lg-3 item-menu\" *ngFor=\"let laptop of laptops\"&gt;\n                  &lt;span class=\"helper\"&gt;&lt;/span&gt;\n\n\n                  &lt;img src=\"'../../content/Laptop/' + laptop.iconFileName\" /&gt;\n                  &lt;p class=\"name-menu\"&gt;\n                      {{laptop.name}}\n\n                  &lt;/p&gt;\n              &lt;/div&gt;\n</code></pre>\n\n<p>When i do this dynamicly like above, i got error in Network section:</p>\n\n<pre><code>GET http://localhost:5000/content/Laptop/2_apple.jpg 404 (Not Found)\n</code></pre>\n\n<p>and my path looks like: </p>\n\n<p><a href=\"https://i.stack.imgur.com/8ZNjw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ZNjw.png\" alt=\"enter image description here\"></a></p>\n\n<p>and when i load manually, i mean: '../../content/Laptop/1_laptop.jpg' in component it works and i'm getting this path:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SCFfa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SCFfa.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm using Angular2 SPA with .NET as backend. my app is using webpack</p>\n"}, {"tags": ["typescript", "mapped-types"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 5, "last_activity_date": 1520364304, "creation_date": 1520364304, "answer_id": 49138512, "question_id": 49138332, "link": "https://stackoverflow.com/questions/49138332/typescript-mapped-types-flag-type-with-nesting/49138512#49138512", "title": "TypeScript mapped types: Flag type with nesting", "body": "<p>You probably want <a href=\"https://github.com/Microsoft/TypeScript/issues/12424\" rel=\"noreferrer\">mapped conditional types</a>, which will be available starting in TypeScript v2.8, to be released sometime this month (March 2018).  You can use it now with <code>typescript@next</code>.  Here's a first shot at how I'd implement it:</p>\n\n<pre><code>type NestedFlags&lt;T&gt; = {\n  [K in keyof T]: T[K] extends object ? NestedFlags&lt;T[K]&gt; : boolean\n}\n</code></pre>\n\n<p>The above line uses the <a href=\"https://github.com/Microsoft/TypeScript/pull/21316\" rel=\"noreferrer\">conditional types</a> ternary type syntax.  It means: for every key in <code>T</code>, the property type for <code>NestedFlags&lt;T&gt;</code> will depend on whether the original property is an object type or not.  If the original property is not an object type, the corresponding property will be boolean.  If the original property <em>is</em> an object type, then the corresponding property will be a <code>NestedFlags&lt;&gt;</code> applied to that object type.</p>\n\n<p>This gives you the following behavior:</p>\n\n<pre><code>interface NestedColors {\n  red: string;\n  green: string;\n  blue: string;\n  more: {\n    yellow: string;\n    violet: string;\n    black: string;\n  }\n}\n\n// okay    \nconst activeNestedColors: NestedFlags&lt;NestedColors&gt; = {\n  red: true,\n  blue: false,\n  green: true,\n  more: {\n    yellow: false,\n    violet: true,\n    black: true\n  }\n}\n\n// error\nconst badActiveNestedColors: NestedFlags&lt;NestedColors&gt; = {\n  red: true,\n  blue: false,\n  green: true,\n  more: false\n} \n// Types of property 'more' are incompatible.\n// Type 'boolean' is not assignable to ...\n</code></pre>\n\n<p>TypeScript complains about <code>badActiveNestedColors</code>, saying that <code>more</code> should not be a <code>boolean</code>.</p>\n\n<p>Hope that helps.  Good luck!</p>\n"}], "owner": {"reputation": 817, "user_id": 834370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f0eacb12654f74c0bf50d0577131300?s=128&d=identicon&r=PG", "display_name": "vasekch", "link": "https://stackoverflow.com/users/834370/vasekch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 49138512, "answer_count": 1, "score": 4, "last_activity_date": 1520364304, "creation_date": 1520363591, "question_id": 49138332, "link": "https://stackoverflow.com/questions/49138332/typescript-mapped-types-flag-type-with-nesting", "title": "TypeScript mapped types: Flag type with nesting", "body": "<p>Is there a way in TypeScript to create a nested version of a <code>Flags</code> type mentioned in <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html\" rel=\"nofollow noreferrer\">Advanced types</a> documentation?</p>\n\n<p>This works well:</p>\n\n<pre><code>type Flags&lt;T&gt; = {\n  [P in keyof T]: boolean;\n}\n\ninterface Colors {\n  red: string;\n  green: string;\n  blue: string;\n}\n\nconst activeColors: Flags&lt;Colors&gt; = {\n  red: true,\n  green: true,\n  blue: false\n}\n</code></pre>\n\n<p>But what if I wanted to create let's say a <code>NestedFlags</code> type that would be able to handle nested objects like this?</p>\n\n<pre><code>interface NestedColors {\n  red: string;\n  green: string;\n  blue: string;\n  more: {\n    yellow: string;\n    violet: string;\n    black: string;\n  }\n}\n\nconst activeNestedColors: NestedFlags&lt;NestedColors&gt; {\n  red: true,\n  blue: false,\n  green: true,\n  more: {\n    yellow: false,\n    violet: true,\n    black: true\n  }\n}\n</code></pre>\n\n<p>I am able to create a <code>NestedFlags</code> type with <code>[P in keyof T]: boolean | NestedFlags&lt;T[P]&gt;</code>. That solution works well except the fact that it allows me to create an object with eg. <code>more: false</code> which is undesirable in my case.</p>\n\n<p>Thank you!</p>\n"}]